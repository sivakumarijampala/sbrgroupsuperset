/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(globalThis["webpackChunksuperset"] = globalThis["webpackChunksuperset"] || []).push([["vendors-node_modules_react-map-gl_dist_esm_index_js-node_modules_mapbox-gl_dist_mapbox-gl_css"],{

/***/ "./node_modules/@math.gl/web-mercator/dist/esm/assert.js":
/*!***************************************************************!*\
  !*** ./node_modules/@math.gl/web-mercator/dist/esm/assert.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ assert)\n/* harmony export */ });\nfunction assert(condition, message) {\n  if (!condition) {\n    throw new Error(message || '@math.gl/web-mercator: assertion failed.');\n  }\n}\n//# sourceMappingURL=assert.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQG1hdGguZ2wvd2ViLW1lcmNhdG9yL2Rpc3QvZXNtL2Fzc2VydC5qcyIsIm1hcHBpbmdzIjoiOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdXBlcnNldC8uL25vZGVfbW9kdWxlcy9AbWF0aC5nbC93ZWItbWVyY2F0b3IvZGlzdC9lc20vYXNzZXJ0LmpzP2NiZGQiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYXNzZXJ0KGNvbmRpdGlvbiwgbWVzc2FnZSkge1xuICBpZiAoIWNvbmRpdGlvbikge1xuICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlIHx8ICdAbWF0aC5nbC93ZWItbWVyY2F0b3I6IGFzc2VydGlvbiBmYWlsZWQuJyk7XG4gIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFzc2VydC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@math.gl/web-mercator/dist/esm/assert.js\n");

/***/ }),

/***/ "./node_modules/@math.gl/web-mercator/dist/esm/fit-bounds.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@math.gl/web-mercator/dist/esm/fit-bounds.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ fitBounds)\n/* harmony export */ });\n/* harmony import */ var _assert__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./assert */ \"./node_modules/@math.gl/web-mercator/dist/esm/assert.js\");\n/* harmony import */ var _math_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./math-utils */ \"./node_modules/@math.gl/web-mercator/dist/esm/math-utils.js\");\n/* harmony import */ var _web_mercator_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./web-mercator-utils */ \"./node_modules/@math.gl/web-mercator/dist/esm/web-mercator-utils.js\");\n\n\n\nfunction fitBounds(options) {\n  const {\n    width,\n    height,\n    bounds,\n    minExtent = 0,\n    maxZoom = 24,\n    offset = [0, 0]\n  } = options;\n  const [[west, south], [east, north]] = bounds;\n  const padding = getPaddingObject(options.padding);\n  const nw = (0,_web_mercator_utils__WEBPACK_IMPORTED_MODULE_1__.lngLatToWorld)([west, (0,_math_utils__WEBPACK_IMPORTED_MODULE_0__.clamp)(north, -_web_mercator_utils__WEBPACK_IMPORTED_MODULE_1__.MAX_LATITUDE, _web_mercator_utils__WEBPACK_IMPORTED_MODULE_1__.MAX_LATITUDE)]);\n  const se = (0,_web_mercator_utils__WEBPACK_IMPORTED_MODULE_1__.lngLatToWorld)([east, (0,_math_utils__WEBPACK_IMPORTED_MODULE_0__.clamp)(south, -_web_mercator_utils__WEBPACK_IMPORTED_MODULE_1__.MAX_LATITUDE, _web_mercator_utils__WEBPACK_IMPORTED_MODULE_1__.MAX_LATITUDE)]);\n  const size = [Math.max(Math.abs(se[0] - nw[0]), minExtent), Math.max(Math.abs(se[1] - nw[1]), minExtent)];\n  const targetSize = [width - padding.left - padding.right - Math.abs(offset[0]) * 2, height - padding.top - padding.bottom - Math.abs(offset[1]) * 2];\n  (0,_assert__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(targetSize[0] > 0 && targetSize[1] > 0);\n  const scaleX = targetSize[0] / size[0];\n  const scaleY = targetSize[1] / size[1];\n  const offsetX = (padding.right - padding.left) / 2 / scaleX;\n  const offsetY = (padding.top - padding.bottom) / 2 / scaleY;\n  const center = [(se[0] + nw[0]) / 2 + offsetX, (se[1] + nw[1]) / 2 + offsetY];\n  const centerLngLat = (0,_web_mercator_utils__WEBPACK_IMPORTED_MODULE_1__.worldToLngLat)(center);\n  const zoom = Math.min(maxZoom, (0,_math_utils__WEBPACK_IMPORTED_MODULE_0__.log2)(Math.abs(Math.min(scaleX, scaleY))));\n  (0,_assert__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(Number.isFinite(zoom));\n  return {\n    longitude: centerLngLat[0],\n    latitude: centerLngLat[1],\n    zoom\n  };\n}\n\nfunction getPaddingObject(padding = 0) {\n  if (typeof padding === 'number') {\n    return {\n      top: padding,\n      bottom: padding,\n      left: padding,\n      right: padding\n    };\n  }\n\n  (0,_assert__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(Number.isFinite(padding.top) && Number.isFinite(padding.bottom) && Number.isFinite(padding.left) && Number.isFinite(padding.right));\n  return padding;\n}\n//# sourceMappingURL=fit-bounds.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQG1hdGguZ2wvd2ViLW1lcmNhdG9yL2Rpc3QvZXNtL2ZpdC1ib3VuZHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3VwZXJzZXQvLi9ub2RlX21vZHVsZXMvQG1hdGguZ2wvd2ViLW1lcmNhdG9yL2Rpc3QvZXNtL2ZpdC1ib3VuZHMuanM/NmJkZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYXNzZXJ0IGZyb20gJy4vYXNzZXJ0JztcbmltcG9ydCB7IGxvZzIsIGNsYW1wIH0gZnJvbSAnLi9tYXRoLXV0aWxzJztcbmltcG9ydCB7IE1BWF9MQVRJVFVERSwgbG5nTGF0VG9Xb3JsZCwgd29ybGRUb0xuZ0xhdCB9IGZyb20gJy4vd2ViLW1lcmNhdG9yLXV0aWxzJztcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGZpdEJvdW5kcyhvcHRpb25zKSB7XG4gIGNvbnN0IHtcbiAgICB3aWR0aCxcbiAgICBoZWlnaHQsXG4gICAgYm91bmRzLFxuICAgIG1pbkV4dGVudCA9IDAsXG4gICAgbWF4Wm9vbSA9IDI0LFxuICAgIG9mZnNldCA9IFswLCAwXVxuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgW1t3ZXN0LCBzb3V0aF0sIFtlYXN0LCBub3J0aF1dID0gYm91bmRzO1xuICBjb25zdCBwYWRkaW5nID0gZ2V0UGFkZGluZ09iamVjdChvcHRpb25zLnBhZGRpbmcpO1xuICBjb25zdCBudyA9IGxuZ0xhdFRvV29ybGQoW3dlc3QsIGNsYW1wKG5vcnRoLCAtTUFYX0xBVElUVURFLCBNQVhfTEFUSVRVREUpXSk7XG4gIGNvbnN0IHNlID0gbG5nTGF0VG9Xb3JsZChbZWFzdCwgY2xhbXAoc291dGgsIC1NQVhfTEFUSVRVREUsIE1BWF9MQVRJVFVERSldKTtcbiAgY29uc3Qgc2l6ZSA9IFtNYXRoLm1heChNYXRoLmFicyhzZVswXSAtIG53WzBdKSwgbWluRXh0ZW50KSwgTWF0aC5tYXgoTWF0aC5hYnMoc2VbMV0gLSBud1sxXSksIG1pbkV4dGVudCldO1xuICBjb25zdCB0YXJnZXRTaXplID0gW3dpZHRoIC0gcGFkZGluZy5sZWZ0IC0gcGFkZGluZy5yaWdodCAtIE1hdGguYWJzKG9mZnNldFswXSkgKiAyLCBoZWlnaHQgLSBwYWRkaW5nLnRvcCAtIHBhZGRpbmcuYm90dG9tIC0gTWF0aC5hYnMob2Zmc2V0WzFdKSAqIDJdO1xuICBhc3NlcnQodGFyZ2V0U2l6ZVswXSA+IDAgJiYgdGFyZ2V0U2l6ZVsxXSA+IDApO1xuICBjb25zdCBzY2FsZVggPSB0YXJnZXRTaXplWzBdIC8gc2l6ZVswXTtcbiAgY29uc3Qgc2NhbGVZID0gdGFyZ2V0U2l6ZVsxXSAvIHNpemVbMV07XG4gIGNvbnN0IG9mZnNldFggPSAocGFkZGluZy5yaWdodCAtIHBhZGRpbmcubGVmdCkgLyAyIC8gc2NhbGVYO1xuICBjb25zdCBvZmZzZXRZID0gKHBhZGRpbmcudG9wIC0gcGFkZGluZy5ib3R0b20pIC8gMiAvIHNjYWxlWTtcbiAgY29uc3QgY2VudGVyID0gWyhzZVswXSArIG53WzBdKSAvIDIgKyBvZmZzZXRYLCAoc2VbMV0gKyBud1sxXSkgLyAyICsgb2Zmc2V0WV07XG4gIGNvbnN0IGNlbnRlckxuZ0xhdCA9IHdvcmxkVG9MbmdMYXQoY2VudGVyKTtcbiAgY29uc3Qgem9vbSA9IE1hdGgubWluKG1heFpvb20sIGxvZzIoTWF0aC5hYnMoTWF0aC5taW4oc2NhbGVYLCBzY2FsZVkpKSkpO1xuICBhc3NlcnQoTnVtYmVyLmlzRmluaXRlKHpvb20pKTtcbiAgcmV0dXJuIHtcbiAgICBsb25naXR1ZGU6IGNlbnRlckxuZ0xhdFswXSxcbiAgICBsYXRpdHVkZTogY2VudGVyTG5nTGF0WzFdLFxuICAgIHpvb21cbiAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0UGFkZGluZ09iamVjdChwYWRkaW5nID0gMCkge1xuICBpZiAodHlwZW9mIHBhZGRpbmcgPT09ICdudW1iZXInKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRvcDogcGFkZGluZyxcbiAgICAgIGJvdHRvbTogcGFkZGluZyxcbiAgICAgIGxlZnQ6IHBhZGRpbmcsXG4gICAgICByaWdodDogcGFkZGluZ1xuICAgIH07XG4gIH1cblxuICBhc3NlcnQoTnVtYmVyLmlzRmluaXRlKHBhZGRpbmcudG9wKSAmJiBOdW1iZXIuaXNGaW5pdGUocGFkZGluZy5ib3R0b20pICYmIE51bWJlci5pc0Zpbml0ZShwYWRkaW5nLmxlZnQpICYmIE51bWJlci5pc0Zpbml0ZShwYWRkaW5nLnJpZ2h0KSk7XG4gIHJldHVybiBwYWRkaW5nO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Zml0LWJvdW5kcy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@math.gl/web-mercator/dist/esm/fit-bounds.js\n");

/***/ }),

/***/ "./node_modules/@math.gl/web-mercator/dist/esm/fly-to-viewport.js":
/*!************************************************************************!*\
  !*** ./node_modules/@math.gl/web-mercator/dist/esm/fly-to-viewport.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ flyToViewport),\n/* harmony export */   getFlyToDuration: () => (/* binding */ getFlyToDuration)\n/* harmony export */ });\n/* harmony import */ var _math_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./math-utils */ \"./node_modules/@math.gl/web-mercator/dist/esm/math-utils.js\");\n/* harmony import */ var _web_mercator_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./web-mercator-utils */ \"./node_modules/@math.gl/web-mercator/dist/esm/web-mercator-utils.js\");\n/* harmony import */ var gl_matrix_vec2__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! gl-matrix/vec2 */ \"./node_modules/gl-matrix/esm/vec2.js\");\n\n\n\nconst EPSILON = 0.01;\nconst VIEWPORT_TRANSITION_PROPS = ['longitude', 'latitude', 'zoom'];\nconst DEFAULT_OPTS = {\n  curve: 1.414,\n  speed: 1.2\n};\nfunction flyToViewport(startProps, endProps, t, options) {\n  const {\n    startZoom,\n    startCenterXY,\n    uDelta,\n    w0,\n    u1,\n    S,\n    rho,\n    rho2,\n    r0\n  } = getFlyToTransitionParams(startProps, endProps, options);\n\n  if (u1 < EPSILON) {\n    const viewport = {};\n\n    for (const key of VIEWPORT_TRANSITION_PROPS) {\n      const startValue = startProps[key];\n      const endValue = endProps[key];\n      viewport[key] = (0,_math_utils__WEBPACK_IMPORTED_MODULE_0__.lerp)(startValue, endValue, t);\n    }\n\n    return viewport;\n  }\n\n  const s = t * S;\n  const w = Math.cosh(r0) / Math.cosh(r0 + rho * s);\n  const u = w0 * ((Math.cosh(r0) * Math.tanh(r0 + rho * s) - Math.sinh(r0)) / rho2) / u1;\n  const scaleIncrement = 1 / w;\n  const newZoom = startZoom + (0,_web_mercator_utils__WEBPACK_IMPORTED_MODULE_1__.scaleToZoom)(scaleIncrement);\n  const newCenterWorld = gl_matrix_vec2__WEBPACK_IMPORTED_MODULE_2__.scale([], uDelta, u);\n  gl_matrix_vec2__WEBPACK_IMPORTED_MODULE_2__.add(newCenterWorld, newCenterWorld, startCenterXY);\n  const newCenter = (0,_web_mercator_utils__WEBPACK_IMPORTED_MODULE_1__.worldToLngLat)(newCenterWorld);\n  return {\n    longitude: newCenter[0],\n    latitude: newCenter[1],\n    zoom: newZoom\n  };\n}\nfunction getFlyToDuration(startProps, endProps, options) {\n  const opts = { ...DEFAULT_OPTS,\n    ...options\n  };\n  const {\n    screenSpeed,\n    speed,\n    maxDuration\n  } = opts;\n  const {\n    S,\n    rho\n  } = getFlyToTransitionParams(startProps, endProps, opts);\n  const length = 1000 * S;\n  let duration;\n\n  if (Number.isFinite(screenSpeed)) {\n    duration = length / (screenSpeed / rho);\n  } else {\n    duration = length / speed;\n  }\n\n  return Number.isFinite(maxDuration) && duration > maxDuration ? 0 : duration;\n}\n\nfunction getFlyToTransitionParams(startProps, endProps, opts) {\n  opts = Object.assign({}, DEFAULT_OPTS, opts);\n  const rho = opts.curve;\n  const startZoom = startProps.zoom;\n  const startCenter = [startProps.longitude, startProps.latitude];\n  const startScale = (0,_web_mercator_utils__WEBPACK_IMPORTED_MODULE_1__.zoomToScale)(startZoom);\n  const endZoom = endProps.zoom;\n  const endCenter = [endProps.longitude, endProps.latitude];\n  const scale = (0,_web_mercator_utils__WEBPACK_IMPORTED_MODULE_1__.zoomToScale)(endZoom - startZoom);\n  const startCenterXY = (0,_web_mercator_utils__WEBPACK_IMPORTED_MODULE_1__.lngLatToWorld)(startCenter);\n  const endCenterXY = (0,_web_mercator_utils__WEBPACK_IMPORTED_MODULE_1__.lngLatToWorld)(endCenter);\n  const uDelta = gl_matrix_vec2__WEBPACK_IMPORTED_MODULE_2__.sub([], endCenterXY, startCenterXY);\n  const w0 = Math.max(startProps.width, startProps.height);\n  const w1 = w0 / scale;\n  const u1 = gl_matrix_vec2__WEBPACK_IMPORTED_MODULE_2__.length(uDelta) * startScale;\n\n  const _u1 = Math.max(u1, EPSILON);\n\n  const rho2 = rho * rho;\n  const b0 = (w1 * w1 - w0 * w0 + rho2 * rho2 * _u1 * _u1) / (2 * w0 * rho2 * _u1);\n  const b1 = (w1 * w1 - w0 * w0 - rho2 * rho2 * _u1 * _u1) / (2 * w1 * rho2 * _u1);\n  const r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0);\n  const r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n  const S = (r1 - r0) / rho;\n  return {\n    startZoom,\n    startCenterXY,\n    uDelta,\n    w0,\n    u1,\n    S,\n    rho,\n    rho2,\n    r0,\n    r1\n  };\n}\n//# sourceMappingURL=fly-to-viewport.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQG1hdGguZ2wvd2ViLW1lcmNhdG9yL2Rpc3QvZXNtL2ZseS10by12aWV3cG9ydC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3VwZXJzZXQvLi9ub2RlX21vZHVsZXMvQG1hdGguZ2wvd2ViLW1lcmNhdG9yL2Rpc3QvZXNtL2ZseS10by12aWV3cG9ydC5qcz9hMTA2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGxlcnAgfSBmcm9tICcuL21hdGgtdXRpbHMnO1xuaW1wb3J0IHsgc2NhbGVUb1pvb20sIHpvb21Ub1NjYWxlLCBsbmdMYXRUb1dvcmxkLCB3b3JsZFRvTG5nTGF0IH0gZnJvbSAnLi93ZWItbWVyY2F0b3ItdXRpbHMnO1xuaW1wb3J0ICogYXMgdmVjMiBmcm9tICdnbC1tYXRyaXgvdmVjMic7XG5jb25zdCBFUFNJTE9OID0gMC4wMTtcbmNvbnN0IFZJRVdQT1JUX1RSQU5TSVRJT05fUFJPUFMgPSBbJ2xvbmdpdHVkZScsICdsYXRpdHVkZScsICd6b29tJ107XG5jb25zdCBERUZBVUxUX09QVFMgPSB7XG4gIGN1cnZlOiAxLjQxNCxcbiAgc3BlZWQ6IDEuMlxufTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGZseVRvVmlld3BvcnQoc3RhcnRQcm9wcywgZW5kUHJvcHMsIHQsIG9wdGlvbnMpIHtcbiAgY29uc3Qge1xuICAgIHN0YXJ0Wm9vbSxcbiAgICBzdGFydENlbnRlclhZLFxuICAgIHVEZWx0YSxcbiAgICB3MCxcbiAgICB1MSxcbiAgICBTLFxuICAgIHJobyxcbiAgICByaG8yLFxuICAgIHIwXG4gIH0gPSBnZXRGbHlUb1RyYW5zaXRpb25QYXJhbXMoc3RhcnRQcm9wcywgZW5kUHJvcHMsIG9wdGlvbnMpO1xuXG4gIGlmICh1MSA8IEVQU0lMT04pIHtcbiAgICBjb25zdCB2aWV3cG9ydCA9IHt9O1xuXG4gICAgZm9yIChjb25zdCBrZXkgb2YgVklFV1BPUlRfVFJBTlNJVElPTl9QUk9QUykge1xuICAgICAgY29uc3Qgc3RhcnRWYWx1ZSA9IHN0YXJ0UHJvcHNba2V5XTtcbiAgICAgIGNvbnN0IGVuZFZhbHVlID0gZW5kUHJvcHNba2V5XTtcbiAgICAgIHZpZXdwb3J0W2tleV0gPSBsZXJwKHN0YXJ0VmFsdWUsIGVuZFZhbHVlLCB0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gdmlld3BvcnQ7XG4gIH1cblxuICBjb25zdCBzID0gdCAqIFM7XG4gIGNvbnN0IHcgPSBNYXRoLmNvc2gocjApIC8gTWF0aC5jb3NoKHIwICsgcmhvICogcyk7XG4gIGNvbnN0IHUgPSB3MCAqICgoTWF0aC5jb3NoKHIwKSAqIE1hdGgudGFuaChyMCArIHJobyAqIHMpIC0gTWF0aC5zaW5oKHIwKSkgLyByaG8yKSAvIHUxO1xuICBjb25zdCBzY2FsZUluY3JlbWVudCA9IDEgLyB3O1xuICBjb25zdCBuZXdab29tID0gc3RhcnRab29tICsgc2NhbGVUb1pvb20oc2NhbGVJbmNyZW1lbnQpO1xuICBjb25zdCBuZXdDZW50ZXJXb3JsZCA9IHZlYzIuc2NhbGUoW10sIHVEZWx0YSwgdSk7XG4gIHZlYzIuYWRkKG5ld0NlbnRlcldvcmxkLCBuZXdDZW50ZXJXb3JsZCwgc3RhcnRDZW50ZXJYWSk7XG4gIGNvbnN0IG5ld0NlbnRlciA9IHdvcmxkVG9MbmdMYXQobmV3Q2VudGVyV29ybGQpO1xuICByZXR1cm4ge1xuICAgIGxvbmdpdHVkZTogbmV3Q2VudGVyWzBdLFxuICAgIGxhdGl0dWRlOiBuZXdDZW50ZXJbMV0sXG4gICAgem9vbTogbmV3Wm9vbVxuICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldEZseVRvRHVyYXRpb24oc3RhcnRQcm9wcywgZW5kUHJvcHMsIG9wdGlvbnMpIHtcbiAgY29uc3Qgb3B0cyA9IHsgLi4uREVGQVVMVF9PUFRTLFxuICAgIC4uLm9wdGlvbnNcbiAgfTtcbiAgY29uc3Qge1xuICAgIHNjcmVlblNwZWVkLFxuICAgIHNwZWVkLFxuICAgIG1heER1cmF0aW9uXG4gIH0gPSBvcHRzO1xuICBjb25zdCB7XG4gICAgUyxcbiAgICByaG9cbiAgfSA9IGdldEZseVRvVHJhbnNpdGlvblBhcmFtcyhzdGFydFByb3BzLCBlbmRQcm9wcywgb3B0cyk7XG4gIGNvbnN0IGxlbmd0aCA9IDEwMDAgKiBTO1xuICBsZXQgZHVyYXRpb247XG5cbiAgaWYgKE51bWJlci5pc0Zpbml0ZShzY3JlZW5TcGVlZCkpIHtcbiAgICBkdXJhdGlvbiA9IGxlbmd0aCAvIChzY3JlZW5TcGVlZCAvIHJobyk7XG4gIH0gZWxzZSB7XG4gICAgZHVyYXRpb24gPSBsZW5ndGggLyBzcGVlZDtcbiAgfVxuXG4gIHJldHVybiBOdW1iZXIuaXNGaW5pdGUobWF4RHVyYXRpb24pICYmIGR1cmF0aW9uID4gbWF4RHVyYXRpb24gPyAwIDogZHVyYXRpb247XG59XG5cbmZ1bmN0aW9uIGdldEZseVRvVHJhbnNpdGlvblBhcmFtcyhzdGFydFByb3BzLCBlbmRQcm9wcywgb3B0cykge1xuICBvcHRzID0gT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9PUFRTLCBvcHRzKTtcbiAgY29uc3QgcmhvID0gb3B0cy5jdXJ2ZTtcbiAgY29uc3Qgc3RhcnRab29tID0gc3RhcnRQcm9wcy56b29tO1xuICBjb25zdCBzdGFydENlbnRlciA9IFtzdGFydFByb3BzLmxvbmdpdHVkZSwgc3RhcnRQcm9wcy5sYXRpdHVkZV07XG4gIGNvbnN0IHN0YXJ0U2NhbGUgPSB6b29tVG9TY2FsZShzdGFydFpvb20pO1xuICBjb25zdCBlbmRab29tID0gZW5kUHJvcHMuem9vbTtcbiAgY29uc3QgZW5kQ2VudGVyID0gW2VuZFByb3BzLmxvbmdpdHVkZSwgZW5kUHJvcHMubGF0aXR1ZGVdO1xuICBjb25zdCBzY2FsZSA9IHpvb21Ub1NjYWxlKGVuZFpvb20gLSBzdGFydFpvb20pO1xuICBjb25zdCBzdGFydENlbnRlclhZID0gbG5nTGF0VG9Xb3JsZChzdGFydENlbnRlcik7XG4gIGNvbnN0IGVuZENlbnRlclhZID0gbG5nTGF0VG9Xb3JsZChlbmRDZW50ZXIpO1xuICBjb25zdCB1RGVsdGEgPSB2ZWMyLnN1YihbXSwgZW5kQ2VudGVyWFksIHN0YXJ0Q2VudGVyWFkpO1xuICBjb25zdCB3MCA9IE1hdGgubWF4KHN0YXJ0UHJvcHMud2lkdGgsIHN0YXJ0UHJvcHMuaGVpZ2h0KTtcbiAgY29uc3QgdzEgPSB3MCAvIHNjYWxlO1xuICBjb25zdCB1MSA9IHZlYzIubGVuZ3RoKHVEZWx0YSkgKiBzdGFydFNjYWxlO1xuXG4gIGNvbnN0IF91MSA9IE1hdGgubWF4KHUxLCBFUFNJTE9OKTtcblxuICBjb25zdCByaG8yID0gcmhvICogcmhvO1xuICBjb25zdCBiMCA9ICh3MSAqIHcxIC0gdzAgKiB3MCArIHJobzIgKiByaG8yICogX3UxICogX3UxKSAvICgyICogdzAgKiByaG8yICogX3UxKTtcbiAgY29uc3QgYjEgPSAodzEgKiB3MSAtIHcwICogdzAgLSByaG8yICogcmhvMiAqIF91MSAqIF91MSkgLyAoMiAqIHcxICogcmhvMiAqIF91MSk7XG4gIGNvbnN0IHIwID0gTWF0aC5sb2coTWF0aC5zcXJ0KGIwICogYjAgKyAxKSAtIGIwKTtcbiAgY29uc3QgcjEgPSBNYXRoLmxvZyhNYXRoLnNxcnQoYjEgKiBiMSArIDEpIC0gYjEpO1xuICBjb25zdCBTID0gKHIxIC0gcjApIC8gcmhvO1xuICByZXR1cm4ge1xuICAgIHN0YXJ0Wm9vbSxcbiAgICBzdGFydENlbnRlclhZLFxuICAgIHVEZWx0YSxcbiAgICB3MCxcbiAgICB1MSxcbiAgICBTLFxuICAgIHJobyxcbiAgICByaG8yLFxuICAgIHIwLFxuICAgIHIxXG4gIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mbHktdG8tdmlld3BvcnQuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@math.gl/web-mercator/dist/esm/fly-to-viewport.js\n");

/***/ }),

/***/ "./node_modules/@math.gl/web-mercator/dist/esm/get-bounds.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@math.gl/web-mercator/dist/esm/get-bounds.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ getBounds)\n/* harmony export */ });\n/* harmony import */ var _web_mercator_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./web-mercator-utils */ \"./node_modules/@math.gl/web-mercator/dist/esm/web-mercator-utils.js\");\n/* harmony import */ var gl_matrix_vec2__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! gl-matrix/vec2 */ \"./node_modules/gl-matrix/esm/vec2.js\");\n/* harmony import */ var _math_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./math-utils */ \"./node_modules/@math.gl/web-mercator/dist/esm/math-utils.js\");\n\n\n\nconst DEGREES_TO_RADIANS = Math.PI / 180;\nfunction getBounds(viewport, z = 0) {\n  const {\n    width,\n    height,\n    unproject\n  } = viewport;\n  const unprojectOps = {\n    targetZ: z\n  };\n  const bottomLeft = unproject([0, height], unprojectOps);\n  const bottomRight = unproject([width, height], unprojectOps);\n  let topLeft;\n  let topRight;\n  const halfFov = viewport.fovy ? 0.5 * viewport.fovy * DEGREES_TO_RADIANS : Math.atan(0.5 / viewport.altitude);\n  const angleToGround = (90 - viewport.pitch) * DEGREES_TO_RADIANS;\n\n  if (halfFov > angleToGround - 0.01) {\n    topLeft = unprojectOnFarPlane(viewport, 0, z);\n    topRight = unprojectOnFarPlane(viewport, width, z);\n  } else {\n    topLeft = unproject([0, 0], unprojectOps);\n    topRight = unproject([width, 0], unprojectOps);\n  }\n\n  return [bottomLeft, bottomRight, topRight, topLeft];\n}\n\nfunction unprojectOnFarPlane(viewport, x, targetZ) {\n  const {\n    pixelUnprojectionMatrix\n  } = viewport;\n  const coord0 = (0,_math_utils__WEBPACK_IMPORTED_MODULE_1__.transformVector)(pixelUnprojectionMatrix, [x, 0, 1, 1]);\n  const coord1 = (0,_math_utils__WEBPACK_IMPORTED_MODULE_1__.transformVector)(pixelUnprojectionMatrix, [x, viewport.height, 1, 1]);\n  const z = targetZ * viewport.distanceScales.unitsPerMeter[2];\n  const t = (z - coord0[2]) / (coord1[2] - coord0[2]);\n  const coord = gl_matrix_vec2__WEBPACK_IMPORTED_MODULE_2__.lerp([], coord0, coord1, t);\n  const result = (0,_web_mercator_utils__WEBPACK_IMPORTED_MODULE_0__.worldToLngLat)(coord);\n  result.push(targetZ);\n  return result;\n}\n//# sourceMappingURL=get-bounds.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQG1hdGguZ2wvd2ViLW1lcmNhdG9yL2Rpc3QvZXNtL2dldC1ib3VuZHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3VwZXJzZXQvLi9ub2RlX21vZHVsZXMvQG1hdGguZ2wvd2ViLW1lcmNhdG9yL2Rpc3QvZXNtL2dldC1ib3VuZHMuanM/M2JhZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB3b3JsZFRvTG5nTGF0IH0gZnJvbSAnLi93ZWItbWVyY2F0b3ItdXRpbHMnO1xuaW1wb3J0ICogYXMgdmVjMiBmcm9tICdnbC1tYXRyaXgvdmVjMic7XG5pbXBvcnQgeyB0cmFuc2Zvcm1WZWN0b3IgfSBmcm9tICcuL21hdGgtdXRpbHMnO1xuY29uc3QgREVHUkVFU19UT19SQURJQU5TID0gTWF0aC5QSSAvIDE4MDtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldEJvdW5kcyh2aWV3cG9ydCwgeiA9IDApIHtcbiAgY29uc3Qge1xuICAgIHdpZHRoLFxuICAgIGhlaWdodCxcbiAgICB1bnByb2plY3RcbiAgfSA9IHZpZXdwb3J0O1xuICBjb25zdCB1bnByb2plY3RPcHMgPSB7XG4gICAgdGFyZ2V0WjogelxuICB9O1xuICBjb25zdCBib3R0b21MZWZ0ID0gdW5wcm9qZWN0KFswLCBoZWlnaHRdLCB1bnByb2plY3RPcHMpO1xuICBjb25zdCBib3R0b21SaWdodCA9IHVucHJvamVjdChbd2lkdGgsIGhlaWdodF0sIHVucHJvamVjdE9wcyk7XG4gIGxldCB0b3BMZWZ0O1xuICBsZXQgdG9wUmlnaHQ7XG4gIGNvbnN0IGhhbGZGb3YgPSB2aWV3cG9ydC5mb3Z5ID8gMC41ICogdmlld3BvcnQuZm92eSAqIERFR1JFRVNfVE9fUkFESUFOUyA6IE1hdGguYXRhbigwLjUgLyB2aWV3cG9ydC5hbHRpdHVkZSk7XG4gIGNvbnN0IGFuZ2xlVG9Hcm91bmQgPSAoOTAgLSB2aWV3cG9ydC5waXRjaCkgKiBERUdSRUVTX1RPX1JBRElBTlM7XG5cbiAgaWYgKGhhbGZGb3YgPiBhbmdsZVRvR3JvdW5kIC0gMC4wMSkge1xuICAgIHRvcExlZnQgPSB1bnByb2plY3RPbkZhclBsYW5lKHZpZXdwb3J0LCAwLCB6KTtcbiAgICB0b3BSaWdodCA9IHVucHJvamVjdE9uRmFyUGxhbmUodmlld3BvcnQsIHdpZHRoLCB6KTtcbiAgfSBlbHNlIHtcbiAgICB0b3BMZWZ0ID0gdW5wcm9qZWN0KFswLCAwXSwgdW5wcm9qZWN0T3BzKTtcbiAgICB0b3BSaWdodCA9IHVucHJvamVjdChbd2lkdGgsIDBdLCB1bnByb2plY3RPcHMpO1xuICB9XG5cbiAgcmV0dXJuIFtib3R0b21MZWZ0LCBib3R0b21SaWdodCwgdG9wUmlnaHQsIHRvcExlZnRdO1xufVxuXG5mdW5jdGlvbiB1bnByb2plY3RPbkZhclBsYW5lKHZpZXdwb3J0LCB4LCB0YXJnZXRaKSB7XG4gIGNvbnN0IHtcbiAgICBwaXhlbFVucHJvamVjdGlvbk1hdHJpeFxuICB9ID0gdmlld3BvcnQ7XG4gIGNvbnN0IGNvb3JkMCA9IHRyYW5zZm9ybVZlY3RvcihwaXhlbFVucHJvamVjdGlvbk1hdHJpeCwgW3gsIDAsIDEsIDFdKTtcbiAgY29uc3QgY29vcmQxID0gdHJhbnNmb3JtVmVjdG9yKHBpeGVsVW5wcm9qZWN0aW9uTWF0cml4LCBbeCwgdmlld3BvcnQuaGVpZ2h0LCAxLCAxXSk7XG4gIGNvbnN0IHogPSB0YXJnZXRaICogdmlld3BvcnQuZGlzdGFuY2VTY2FsZXMudW5pdHNQZXJNZXRlclsyXTtcbiAgY29uc3QgdCA9ICh6IC0gY29vcmQwWzJdKSAvIChjb29yZDFbMl0gLSBjb29yZDBbMl0pO1xuICBjb25zdCBjb29yZCA9IHZlYzIubGVycChbXSwgY29vcmQwLCBjb29yZDEsIHQpO1xuICBjb25zdCByZXN1bHQgPSB3b3JsZFRvTG5nTGF0KGNvb3JkKTtcbiAgcmVzdWx0LnB1c2godGFyZ2V0Wik7XG4gIHJldHVybiByZXN1bHQ7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZXQtYm91bmRzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@math.gl/web-mercator/dist/esm/get-bounds.js\n");

/***/ }),

/***/ "./node_modules/@math.gl/web-mercator/dist/esm/index.js":
/*!**************************************************************!*\
  !*** ./node_modules/@math.gl/web-mercator/dist/esm/index.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   WebMercatorViewport: () => (/* reexport safe */ _web_mercator_viewport__WEBPACK_IMPORTED_MODULE_0__[\"default\"]),\n/* harmony export */   addMetersToLngLat: () => (/* reexport safe */ _web_mercator_utils__WEBPACK_IMPORTED_MODULE_5__.addMetersToLngLat),\n/* harmony export */   altitudeToFovy: () => (/* reexport safe */ _web_mercator_utils__WEBPACK_IMPORTED_MODULE_5__.altitudeToFovy),\n/* harmony export */   fitBounds: () => (/* reexport safe */ _fit_bounds__WEBPACK_IMPORTED_MODULE_2__[\"default\"]),\n/* harmony export */   flyToViewport: () => (/* reexport safe */ _fly_to_viewport__WEBPACK_IMPORTED_MODULE_4__[\"default\"]),\n/* harmony export */   fovyToAltitude: () => (/* reexport safe */ _web_mercator_utils__WEBPACK_IMPORTED_MODULE_5__.fovyToAltitude),\n/* harmony export */   getBounds: () => (/* reexport safe */ _get_bounds__WEBPACK_IMPORTED_MODULE_1__[\"default\"]),\n/* harmony export */   getDistanceScales: () => (/* reexport safe */ _web_mercator_utils__WEBPACK_IMPORTED_MODULE_5__.getDistanceScales),\n/* harmony export */   getFlyToDuration: () => (/* reexport safe */ _fly_to_viewport__WEBPACK_IMPORTED_MODULE_4__.getFlyToDuration),\n/* harmony export */   getMeterZoom: () => (/* reexport safe */ _web_mercator_utils__WEBPACK_IMPORTED_MODULE_5__.getMeterZoom),\n/* harmony export */   getProjectionParameters: () => (/* reexport safe */ _web_mercator_utils__WEBPACK_IMPORTED_MODULE_5__.getProjectionParameters),\n/* harmony export */   getViewMatrix: () => (/* reexport safe */ _web_mercator_utils__WEBPACK_IMPORTED_MODULE_5__.getViewMatrix),\n/* harmony export */   lngLatToWorld: () => (/* reexport safe */ _web_mercator_utils__WEBPACK_IMPORTED_MODULE_5__.lngLatToWorld),\n/* harmony export */   normalizeViewportProps: () => (/* reexport safe */ _normalize_viewport_props__WEBPACK_IMPORTED_MODULE_3__[\"default\"]),\n/* harmony export */   pixelsToWorld: () => (/* reexport safe */ _web_mercator_utils__WEBPACK_IMPORTED_MODULE_5__.pixelsToWorld),\n/* harmony export */   unitsPerMeter: () => (/* reexport safe */ _web_mercator_utils__WEBPACK_IMPORTED_MODULE_5__.unitsPerMeter),\n/* harmony export */   worldToLngLat: () => (/* reexport safe */ _web_mercator_utils__WEBPACK_IMPORTED_MODULE_5__.worldToLngLat),\n/* harmony export */   worldToPixels: () => (/* reexport safe */ _web_mercator_utils__WEBPACK_IMPORTED_MODULE_5__.worldToPixels)\n/* harmony export */ });\n/* harmony import */ var _web_mercator_viewport__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./web-mercator-viewport */ \"./node_modules/@math.gl/web-mercator/dist/esm/web-mercator-viewport.js\");\n/* harmony import */ var _get_bounds__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./get-bounds */ \"./node_modules/@math.gl/web-mercator/dist/esm/get-bounds.js\");\n/* harmony import */ var _fit_bounds__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./fit-bounds */ \"./node_modules/@math.gl/web-mercator/dist/esm/fit-bounds.js\");\n/* harmony import */ var _normalize_viewport_props__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./normalize-viewport-props */ \"./node_modules/@math.gl/web-mercator/dist/esm/normalize-viewport-props.js\");\n/* harmony import */ var _fly_to_viewport__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./fly-to-viewport */ \"./node_modules/@math.gl/web-mercator/dist/esm/fly-to-viewport.js\");\n/* harmony import */ var _web_mercator_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./web-mercator-utils */ \"./node_modules/@math.gl/web-mercator/dist/esm/web-mercator-utils.js\");\n\n\n\n\n\n\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQG1hdGguZ2wvd2ViLW1lcmNhdG9yL2Rpc3QvZXNtL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3N1cGVyc2V0Ly4vbm9kZV9tb2R1bGVzL0BtYXRoLmdsL3dlYi1tZXJjYXRvci9kaXN0L2VzbS9pbmRleC5qcz9iZmNmIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB7IGRlZmF1bHQgfSBmcm9tICcuL3dlYi1tZXJjYXRvci12aWV3cG9ydCc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIFdlYk1lcmNhdG9yVmlld3BvcnQgfSBmcm9tICcuL3dlYi1tZXJjYXRvci12aWV3cG9ydCc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGdldEJvdW5kcyB9IGZyb20gJy4vZ2V0LWJvdW5kcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGZpdEJvdW5kcyB9IGZyb20gJy4vZml0LWJvdW5kcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIG5vcm1hbGl6ZVZpZXdwb3J0UHJvcHMgfSBmcm9tICcuL25vcm1hbGl6ZS12aWV3cG9ydC1wcm9wcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGZseVRvVmlld3BvcnQsIGdldEZseVRvRHVyYXRpb24gfSBmcm9tICcuL2ZseS10by12aWV3cG9ydCc7XG5leHBvcnQgeyBNQVhfTEFUSVRVREUsIGxuZ0xhdFRvV29ybGQsIHdvcmxkVG9MbmdMYXQsIHdvcmxkVG9QaXhlbHMsIHBpeGVsc1RvV29ybGQsIHpvb21Ub1NjYWxlLCBzY2FsZVRvWm9vbSwgYWx0aXR1ZGVUb0ZvdnksIGZvdnlUb0FsdGl0dWRlLCBnZXRNZXRlclpvb20sIHVuaXRzUGVyTWV0ZXIsIGdldERpc3RhbmNlU2NhbGVzLCBhZGRNZXRlcnNUb0xuZ0xhdCwgZ2V0Vmlld01hdHJpeCwgZ2V0UHJvamVjdGlvbk1hdHJpeCwgZ2V0UHJvamVjdGlvblBhcmFtZXRlcnMgfSBmcm9tICcuL3dlYi1tZXJjYXRvci11dGlscyc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@math.gl/web-mercator/dist/esm/index.js\n");

/***/ }),

/***/ "./node_modules/@math.gl/web-mercator/dist/esm/math-utils.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@math.gl/web-mercator/dist/esm/math-utils.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   clamp: () => (/* binding */ clamp),\n/* harmony export */   createMat4: () => (/* binding */ createMat4),\n/* harmony export */   lerp: () => (/* binding */ lerp),\n/* harmony export */   log2: () => (/* binding */ log2),\n/* harmony export */   mod: () => (/* binding */ mod),\n/* harmony export */   transformVector: () => (/* binding */ transformVector)\n/* harmony export */ });\n/* harmony import */ var gl_matrix_vec4__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! gl-matrix/vec4 */ \"./node_modules/gl-matrix/esm/vec4.js\");\n\nfunction createMat4() {\n  return [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\n}\nfunction transformVector(matrix, vector) {\n  const result = (0,gl_matrix_vec4__WEBPACK_IMPORTED_MODULE_0__.transformMat4)([], vector, matrix);\n  (0,gl_matrix_vec4__WEBPACK_IMPORTED_MODULE_0__.scale)(result, result, 1 / result[3]);\n  return result;\n}\nfunction mod(value, divisor) {\n  const modulus = value % divisor;\n  return modulus < 0 ? divisor + modulus : modulus;\n}\nfunction lerp(start, end, step) {\n  return step * end + (1 - step) * start;\n}\nfunction clamp(x, min, max) {\n  return x < min ? min : x > max ? max : x;\n}\n\nfunction ieLog2(x) {\n  return Math.log(x) * Math.LOG2E;\n}\n\nconst log2 = Math.log2 || ieLog2;\n//# sourceMappingURL=math-utils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQG1hdGguZ2wvd2ViLW1lcmNhdG9yL2Rpc3QvZXNtL21hdGgtdXRpbHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3N1cGVyc2V0Ly4vbm9kZV9tb2R1bGVzL0BtYXRoLmdsL3dlYi1tZXJjYXRvci9kaXN0L2VzbS9tYXRoLXV0aWxzLmpzP2MxMGEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdHJhbnNmb3JtTWF0NCwgc2NhbGUgfSBmcm9tICdnbC1tYXRyaXgvdmVjNCc7XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTWF0NCgpIHtcbiAgcmV0dXJuIFsxLCAwLCAwLCAwLCAwLCAxLCAwLCAwLCAwLCAwLCAxLCAwLCAwLCAwLCAwLCAxXTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2Zvcm1WZWN0b3IobWF0cml4LCB2ZWN0b3IpIHtcbiAgY29uc3QgcmVzdWx0ID0gdHJhbnNmb3JtTWF0NChbXSwgdmVjdG9yLCBtYXRyaXgpO1xuICBzY2FsZShyZXN1bHQsIHJlc3VsdCwgMSAvIHJlc3VsdFszXSk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5leHBvcnQgZnVuY3Rpb24gbW9kKHZhbHVlLCBkaXZpc29yKSB7XG4gIGNvbnN0IG1vZHVsdXMgPSB2YWx1ZSAlIGRpdmlzb3I7XG4gIHJldHVybiBtb2R1bHVzIDwgMCA/IGRpdmlzb3IgKyBtb2R1bHVzIDogbW9kdWx1cztcbn1cbmV4cG9ydCBmdW5jdGlvbiBsZXJwKHN0YXJ0LCBlbmQsIHN0ZXApIHtcbiAgcmV0dXJuIHN0ZXAgKiBlbmQgKyAoMSAtIHN0ZXApICogc3RhcnQ7XG59XG5leHBvcnQgZnVuY3Rpb24gY2xhbXAoeCwgbWluLCBtYXgpIHtcbiAgcmV0dXJuIHggPCBtaW4gPyBtaW4gOiB4ID4gbWF4ID8gbWF4IDogeDtcbn1cblxuZnVuY3Rpb24gaWVMb2cyKHgpIHtcbiAgcmV0dXJuIE1hdGgubG9nKHgpICogTWF0aC5MT0cyRTtcbn1cblxuZXhwb3J0IGNvbnN0IGxvZzIgPSBNYXRoLmxvZzIgfHwgaWVMb2cyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWF0aC11dGlscy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@math.gl/web-mercator/dist/esm/math-utils.js\n");

/***/ }),

/***/ "./node_modules/@math.gl/web-mercator/dist/esm/normalize-viewport-props.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@math.gl/web-mercator/dist/esm/normalize-viewport-props.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ normalizeViewportProps)\n/* harmony export */ });\n/* harmony import */ var _web_mercator_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./web-mercator-utils */ \"./node_modules/@math.gl/web-mercator/dist/esm/web-mercator-utils.js\");\n/* harmony import */ var _math_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./math-utils */ \"./node_modules/@math.gl/web-mercator/dist/esm/math-utils.js\");\n\n\nconst TILE_SIZE = 512;\nfunction normalizeViewportProps(props) {\n  const {\n    width,\n    height,\n    pitch = 0\n  } = props;\n  let {\n    longitude,\n    latitude,\n    zoom,\n    bearing = 0\n  } = props;\n\n  if (longitude < -180 || longitude > 180) {\n    longitude = (0,_math_utils__WEBPACK_IMPORTED_MODULE_1__.mod)(longitude + 180, 360) - 180;\n  }\n\n  if (bearing < -180 || bearing > 180) {\n    bearing = (0,_math_utils__WEBPACK_IMPORTED_MODULE_1__.mod)(bearing + 180, 360) - 180;\n  }\n\n  const minZoom = (0,_math_utils__WEBPACK_IMPORTED_MODULE_1__.log2)(height / TILE_SIZE);\n\n  if (zoom <= minZoom) {\n    zoom = minZoom;\n    latitude = 0;\n  } else {\n    const halfHeightPixels = height / 2 / Math.pow(2, zoom);\n    const minLatitude = (0,_web_mercator_utils__WEBPACK_IMPORTED_MODULE_0__.worldToLngLat)([0, halfHeightPixels])[1];\n\n    if (latitude < minLatitude) {\n      latitude = minLatitude;\n    } else {\n      const maxLatitude = (0,_web_mercator_utils__WEBPACK_IMPORTED_MODULE_0__.worldToLngLat)([0, TILE_SIZE - halfHeightPixels])[1];\n\n      if (latitude > maxLatitude) {\n        latitude = maxLatitude;\n      }\n    }\n  }\n\n  return {\n    width,\n    height,\n    longitude,\n    latitude,\n    zoom,\n    pitch,\n    bearing\n  };\n}\n//# sourceMappingURL=normalize-viewport-props.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQG1hdGguZ2wvd2ViLW1lcmNhdG9yL2Rpc3QvZXNtL25vcm1hbGl6ZS12aWV3cG9ydC1wcm9wcy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3VwZXJzZXQvLi9ub2RlX21vZHVsZXMvQG1hdGguZ2wvd2ViLW1lcmNhdG9yL2Rpc3QvZXNtL25vcm1hbGl6ZS12aWV3cG9ydC1wcm9wcy5qcz9iNDFiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHdvcmxkVG9MbmdMYXQgfSBmcm9tICcuL3dlYi1tZXJjYXRvci11dGlscyc7XG5pbXBvcnQgeyBtb2QsIGxvZzIgfSBmcm9tICcuL21hdGgtdXRpbHMnO1xuY29uc3QgVElMRV9TSVpFID0gNTEyO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbm9ybWFsaXplVmlld3BvcnRQcm9wcyhwcm9wcykge1xuICBjb25zdCB7XG4gICAgd2lkdGgsXG4gICAgaGVpZ2h0LFxuICAgIHBpdGNoID0gMFxuICB9ID0gcHJvcHM7XG4gIGxldCB7XG4gICAgbG9uZ2l0dWRlLFxuICAgIGxhdGl0dWRlLFxuICAgIHpvb20sXG4gICAgYmVhcmluZyA9IDBcbiAgfSA9IHByb3BzO1xuXG4gIGlmIChsb25naXR1ZGUgPCAtMTgwIHx8IGxvbmdpdHVkZSA+IDE4MCkge1xuICAgIGxvbmdpdHVkZSA9IG1vZChsb25naXR1ZGUgKyAxODAsIDM2MCkgLSAxODA7XG4gIH1cblxuICBpZiAoYmVhcmluZyA8IC0xODAgfHwgYmVhcmluZyA+IDE4MCkge1xuICAgIGJlYXJpbmcgPSBtb2QoYmVhcmluZyArIDE4MCwgMzYwKSAtIDE4MDtcbiAgfVxuXG4gIGNvbnN0IG1pblpvb20gPSBsb2cyKGhlaWdodCAvIFRJTEVfU0laRSk7XG5cbiAgaWYgKHpvb20gPD0gbWluWm9vbSkge1xuICAgIHpvb20gPSBtaW5ab29tO1xuICAgIGxhdGl0dWRlID0gMDtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBoYWxmSGVpZ2h0UGl4ZWxzID0gaGVpZ2h0IC8gMiAvIE1hdGgucG93KDIsIHpvb20pO1xuICAgIGNvbnN0IG1pbkxhdGl0dWRlID0gd29ybGRUb0xuZ0xhdChbMCwgaGFsZkhlaWdodFBpeGVsc10pWzFdO1xuXG4gICAgaWYgKGxhdGl0dWRlIDwgbWluTGF0aXR1ZGUpIHtcbiAgICAgIGxhdGl0dWRlID0gbWluTGF0aXR1ZGU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IG1heExhdGl0dWRlID0gd29ybGRUb0xuZ0xhdChbMCwgVElMRV9TSVpFIC0gaGFsZkhlaWdodFBpeGVsc10pWzFdO1xuXG4gICAgICBpZiAobGF0aXR1ZGUgPiBtYXhMYXRpdHVkZSkge1xuICAgICAgICBsYXRpdHVkZSA9IG1heExhdGl0dWRlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgd2lkdGgsXG4gICAgaGVpZ2h0LFxuICAgIGxvbmdpdHVkZSxcbiAgICBsYXRpdHVkZSxcbiAgICB6b29tLFxuICAgIHBpdGNoLFxuICAgIGJlYXJpbmdcbiAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW5vcm1hbGl6ZS12aWV3cG9ydC1wcm9wcy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@math.gl/web-mercator/dist/esm/normalize-viewport-props.js\n");

/***/ }),

/***/ "./node_modules/@math.gl/web-mercator/dist/esm/web-mercator-utils.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@math.gl/web-mercator/dist/esm/web-mercator-utils.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEFAULT_ALTITUDE: () => (/* binding */ DEFAULT_ALTITUDE),\n/* harmony export */   MAX_LATITUDE: () => (/* binding */ MAX_LATITUDE),\n/* harmony export */   addMetersToLngLat: () => (/* binding */ addMetersToLngLat),\n/* harmony export */   altitudeToFovy: () => (/* binding */ altitudeToFovy),\n/* harmony export */   fovyToAltitude: () => (/* binding */ fovyToAltitude),\n/* harmony export */   getDistanceScales: () => (/* binding */ getDistanceScales),\n/* harmony export */   getMeterZoom: () => (/* binding */ getMeterZoom),\n/* harmony export */   getProjectionMatrix: () => (/* binding */ getProjectionMatrix),\n/* harmony export */   getProjectionParameters: () => (/* binding */ getProjectionParameters),\n/* harmony export */   getViewMatrix: () => (/* binding */ getViewMatrix),\n/* harmony export */   lngLatToWorld: () => (/* binding */ lngLatToWorld),\n/* harmony export */   pixelsToWorld: () => (/* binding */ pixelsToWorld),\n/* harmony export */   scaleToZoom: () => (/* binding */ scaleToZoom),\n/* harmony export */   unitsPerMeter: () => (/* binding */ unitsPerMeter),\n/* harmony export */   worldToLngLat: () => (/* binding */ worldToLngLat),\n/* harmony export */   worldToPixels: () => (/* binding */ worldToPixels),\n/* harmony export */   zoomToScale: () => (/* binding */ zoomToScale)\n/* harmony export */ });\n/* harmony import */ var _math_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./math-utils */ \"./node_modules/@math.gl/web-mercator/dist/esm/math-utils.js\");\n/* harmony import */ var gl_matrix_mat4__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! gl-matrix/mat4 */ \"./node_modules/gl-matrix/esm/mat4.js\");\n/* harmony import */ var gl_matrix_vec2__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! gl-matrix/vec2 */ \"./node_modules/gl-matrix/esm/vec2.js\");\n/* harmony import */ var gl_matrix_vec3__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! gl-matrix/vec3 */ \"./node_modules/gl-matrix/esm/vec3.js\");\n/* harmony import */ var _assert__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./assert */ \"./node_modules/@math.gl/web-mercator/dist/esm/assert.js\");\n\n\n\n\n\nconst PI = Math.PI;\nconst PI_4 = PI / 4;\nconst DEGREES_TO_RADIANS = PI / 180;\nconst RADIANS_TO_DEGREES = 180 / PI;\nconst TILE_SIZE = 512;\nconst EARTH_CIRCUMFERENCE = 40.03e6;\nconst MAX_LATITUDE = 85.051129;\nconst DEFAULT_ALTITUDE = 1.5;\nfunction zoomToScale(zoom) {\n  return Math.pow(2, zoom);\n}\nfunction scaleToZoom(scale) {\n  return (0,_math_utils__WEBPACK_IMPORTED_MODULE_0__.log2)(scale);\n}\nfunction lngLatToWorld(lngLat) {\n  const [lng, lat] = lngLat;\n  (0,_assert__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(Number.isFinite(lng));\n  (0,_assert__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(Number.isFinite(lat) && lat >= -90 && lat <= 90, 'invalid latitude');\n  const lambda2 = lng * DEGREES_TO_RADIANS;\n  const phi2 = lat * DEGREES_TO_RADIANS;\n  const x = TILE_SIZE * (lambda2 + PI) / (2 * PI);\n  const y = TILE_SIZE * (PI + Math.log(Math.tan(PI_4 + phi2 * 0.5))) / (2 * PI);\n  return [x, y];\n}\nfunction worldToLngLat(xy) {\n  const [x, y] = xy;\n  const lambda2 = x / TILE_SIZE * (2 * PI) - PI;\n  const phi2 = 2 * (Math.atan(Math.exp(y / TILE_SIZE * (2 * PI) - PI)) - PI_4);\n  return [lambda2 * RADIANS_TO_DEGREES, phi2 * RADIANS_TO_DEGREES];\n}\nfunction getMeterZoom(options) {\n  const {\n    latitude\n  } = options;\n  (0,_assert__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(Number.isFinite(latitude));\n  const latCosine = Math.cos(latitude * DEGREES_TO_RADIANS);\n  return scaleToZoom(EARTH_CIRCUMFERENCE * latCosine) - 9;\n}\nfunction unitsPerMeter(latitude) {\n  const latCosine = Math.cos(latitude * DEGREES_TO_RADIANS);\n  return TILE_SIZE / EARTH_CIRCUMFERENCE / latCosine;\n}\nfunction getDistanceScales(options) {\n  const {\n    latitude,\n    longitude,\n    highPrecision = false\n  } = options;\n  (0,_assert__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(Number.isFinite(latitude) && Number.isFinite(longitude));\n  const worldSize = TILE_SIZE;\n  const latCosine = Math.cos(latitude * DEGREES_TO_RADIANS);\n  const unitsPerDegreeX = worldSize / 360;\n  const unitsPerDegreeY = unitsPerDegreeX / latCosine;\n  const altUnitsPerMeter = worldSize / EARTH_CIRCUMFERENCE / latCosine;\n  const result = {\n    unitsPerMeter: [altUnitsPerMeter, altUnitsPerMeter, altUnitsPerMeter],\n    metersPerUnit: [1 / altUnitsPerMeter, 1 / altUnitsPerMeter, 1 / altUnitsPerMeter],\n    unitsPerDegree: [unitsPerDegreeX, unitsPerDegreeY, altUnitsPerMeter],\n    degreesPerUnit: [1 / unitsPerDegreeX, 1 / unitsPerDegreeY, 1 / altUnitsPerMeter]\n  };\n\n  if (highPrecision) {\n    const latCosine2 = DEGREES_TO_RADIANS * Math.tan(latitude * DEGREES_TO_RADIANS) / latCosine;\n    const unitsPerDegreeY2 = unitsPerDegreeX * latCosine2 / 2;\n    const altUnitsPerDegree2 = worldSize / EARTH_CIRCUMFERENCE * latCosine2;\n    const altUnitsPerMeter2 = altUnitsPerDegree2 / unitsPerDegreeY * altUnitsPerMeter;\n    result.unitsPerDegree2 = [0, unitsPerDegreeY2, altUnitsPerDegree2];\n    result.unitsPerMeter2 = [altUnitsPerMeter2, 0, altUnitsPerMeter2];\n  }\n\n  return result;\n}\nfunction addMetersToLngLat(lngLatZ, xyz) {\n  const [longitude, latitude, z0] = lngLatZ;\n  const [x, y, z] = xyz;\n  const {\n    unitsPerMeter,\n    unitsPerMeter2\n  } = getDistanceScales({\n    longitude,\n    latitude,\n    highPrecision: true\n  });\n  const worldspace = lngLatToWorld(lngLatZ);\n  worldspace[0] += x * (unitsPerMeter[0] + unitsPerMeter2[0] * y);\n  worldspace[1] += y * (unitsPerMeter[1] + unitsPerMeter2[1] * y);\n  const newLngLat = worldToLngLat(worldspace);\n  const newZ = (z0 || 0) + (z || 0);\n  return Number.isFinite(z0) || Number.isFinite(z) ? [newLngLat[0], newLngLat[1], newZ] : newLngLat;\n}\nfunction getViewMatrix(options) {\n  const {\n    height,\n    pitch,\n    bearing,\n    altitude,\n    scale,\n    center\n  } = options;\n  const vm = (0,_math_utils__WEBPACK_IMPORTED_MODULE_0__.createMat4)();\n  gl_matrix_mat4__WEBPACK_IMPORTED_MODULE_2__.translate(vm, vm, [0, 0, -altitude]);\n  gl_matrix_mat4__WEBPACK_IMPORTED_MODULE_2__.rotateX(vm, vm, -pitch * DEGREES_TO_RADIANS);\n  gl_matrix_mat4__WEBPACK_IMPORTED_MODULE_2__.rotateZ(vm, vm, bearing * DEGREES_TO_RADIANS);\n  const relativeScale = scale / height;\n  gl_matrix_mat4__WEBPACK_IMPORTED_MODULE_2__.scale(vm, vm, [relativeScale, relativeScale, relativeScale]);\n\n  if (center) {\n    gl_matrix_mat4__WEBPACK_IMPORTED_MODULE_2__.translate(vm, vm, gl_matrix_vec3__WEBPACK_IMPORTED_MODULE_3__.negate([], center));\n  }\n\n  return vm;\n}\nfunction getProjectionParameters(options) {\n  const {\n    width,\n    height,\n    altitude,\n    pitch = 0,\n    offset,\n    center,\n    scale,\n    nearZMultiplier = 1,\n    farZMultiplier = 1\n  } = options;\n  let {\n    fovy = altitudeToFovy(DEFAULT_ALTITUDE)\n  } = options;\n\n  if (altitude !== undefined) {\n    fovy = altitudeToFovy(altitude);\n  }\n\n  const fovRadians = fovy * DEGREES_TO_RADIANS;\n  const pitchRadians = pitch * DEGREES_TO_RADIANS;\n  const focalDistance = fovyToAltitude(fovy);\n  let cameraToSeaLevelDistance = focalDistance;\n\n  if (center) {\n    cameraToSeaLevelDistance += center[2] * scale / Math.cos(pitchRadians) / height;\n  }\n\n  const fovAboveCenter = fovRadians * (0.5 + (offset ? offset[1] : 0) / height);\n  const topHalfSurfaceDistance = Math.sin(fovAboveCenter) * cameraToSeaLevelDistance / Math.sin((0,_math_utils__WEBPACK_IMPORTED_MODULE_0__.clamp)(Math.PI / 2 - pitchRadians - fovAboveCenter, 0.01, Math.PI - 0.01));\n  const furthestDistance = Math.sin(pitchRadians) * topHalfSurfaceDistance + cameraToSeaLevelDistance;\n  const horizonDistance = cameraToSeaLevelDistance * 10;\n  const farZ = Math.min(furthestDistance * farZMultiplier, horizonDistance);\n  return {\n    fov: fovRadians,\n    aspect: width / height,\n    focalDistance,\n    near: nearZMultiplier,\n    far: farZ\n  };\n}\nfunction getProjectionMatrix(options) {\n  const {\n    fov,\n    aspect,\n    near,\n    far\n  } = getProjectionParameters(options);\n  const projectionMatrix = gl_matrix_mat4__WEBPACK_IMPORTED_MODULE_2__.perspective([], fov, aspect, near, far);\n  return projectionMatrix;\n}\nfunction altitudeToFovy(altitude) {\n  return 2 * Math.atan(0.5 / altitude) * RADIANS_TO_DEGREES;\n}\nfunction fovyToAltitude(fovy) {\n  return 0.5 / Math.tan(0.5 * fovy * DEGREES_TO_RADIANS);\n}\nfunction worldToPixels(xyz, pixelProjectionMatrix) {\n  const [x, y, z = 0] = xyz;\n  (0,_assert__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(Number.isFinite(x) && Number.isFinite(y) && Number.isFinite(z));\n  return (0,_math_utils__WEBPACK_IMPORTED_MODULE_0__.transformVector)(pixelProjectionMatrix, [x, y, z, 1]);\n}\nfunction pixelsToWorld(xyz, pixelUnprojectionMatrix, targetZ = 0) {\n  const [x, y, z] = xyz;\n  (0,_assert__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(Number.isFinite(x) && Number.isFinite(y), 'invalid pixel coordinate');\n\n  if (Number.isFinite(z)) {\n    const coord = (0,_math_utils__WEBPACK_IMPORTED_MODULE_0__.transformVector)(pixelUnprojectionMatrix, [x, y, z, 1]);\n    return coord;\n  }\n\n  const coord0 = (0,_math_utils__WEBPACK_IMPORTED_MODULE_0__.transformVector)(pixelUnprojectionMatrix, [x, y, 0, 1]);\n  const coord1 = (0,_math_utils__WEBPACK_IMPORTED_MODULE_0__.transformVector)(pixelUnprojectionMatrix, [x, y, 1, 1]);\n  const z0 = coord0[2];\n  const z1 = coord1[2];\n  const t = z0 === z1 ? 0 : ((targetZ || 0) - z0) / (z1 - z0);\n  return gl_matrix_vec2__WEBPACK_IMPORTED_MODULE_4__.lerp([], coord0, coord1, t);\n}\n//# sourceMappingURL=web-mercator-utils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQG1hdGguZ2wvd2ViLW1lcmNhdG9yL2Rpc3QvZXNtL3dlYi1tZXJjYXRvci11dGlscy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3VwZXJzZXQvLi9ub2RlX21vZHVsZXMvQG1hdGguZ2wvd2ViLW1lcmNhdG9yL2Rpc3QvZXNtL3dlYi1tZXJjYXRvci11dGlscy5qcz9lZTE0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZU1hdDQsIHRyYW5zZm9ybVZlY3RvciwgY2xhbXAsIGxvZzIgfSBmcm9tICcuL21hdGgtdXRpbHMnO1xuaW1wb3J0ICogYXMgbWF0NCBmcm9tICdnbC1tYXRyaXgvbWF0NCc7XG5pbXBvcnQgKiBhcyB2ZWMyIGZyb20gJ2dsLW1hdHJpeC92ZWMyJztcbmltcG9ydCAqIGFzIHZlYzMgZnJvbSAnZ2wtbWF0cml4L3ZlYzMnO1xuaW1wb3J0IGFzc2VydCBmcm9tICcuL2Fzc2VydCc7XG5jb25zdCBQSSA9IE1hdGguUEk7XG5jb25zdCBQSV80ID0gUEkgLyA0O1xuY29uc3QgREVHUkVFU19UT19SQURJQU5TID0gUEkgLyAxODA7XG5jb25zdCBSQURJQU5TX1RPX0RFR1JFRVMgPSAxODAgLyBQSTtcbmNvbnN0IFRJTEVfU0laRSA9IDUxMjtcbmNvbnN0IEVBUlRIX0NJUkNVTUZFUkVOQ0UgPSA0MC4wM2U2O1xuZXhwb3J0IGNvbnN0IE1BWF9MQVRJVFVERSA9IDg1LjA1MTEyOTtcbmV4cG9ydCBjb25zdCBERUZBVUxUX0FMVElUVURFID0gMS41O1xuZXhwb3J0IGZ1bmN0aW9uIHpvb21Ub1NjYWxlKHpvb20pIHtcbiAgcmV0dXJuIE1hdGgucG93KDIsIHpvb20pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHNjYWxlVG9ab29tKHNjYWxlKSB7XG4gIHJldHVybiBsb2cyKHNjYWxlKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBsbmdMYXRUb1dvcmxkKGxuZ0xhdCkge1xuICBjb25zdCBbbG5nLCBsYXRdID0gbG5nTGF0O1xuICBhc3NlcnQoTnVtYmVyLmlzRmluaXRlKGxuZykpO1xuICBhc3NlcnQoTnVtYmVyLmlzRmluaXRlKGxhdCkgJiYgbGF0ID49IC05MCAmJiBsYXQgPD0gOTAsICdpbnZhbGlkIGxhdGl0dWRlJyk7XG4gIGNvbnN0IGxhbWJkYTIgPSBsbmcgKiBERUdSRUVTX1RPX1JBRElBTlM7XG4gIGNvbnN0IHBoaTIgPSBsYXQgKiBERUdSRUVTX1RPX1JBRElBTlM7XG4gIGNvbnN0IHggPSBUSUxFX1NJWkUgKiAobGFtYmRhMiArIFBJKSAvICgyICogUEkpO1xuICBjb25zdCB5ID0gVElMRV9TSVpFICogKFBJICsgTWF0aC5sb2coTWF0aC50YW4oUElfNCArIHBoaTIgKiAwLjUpKSkgLyAoMiAqIFBJKTtcbiAgcmV0dXJuIFt4LCB5XTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB3b3JsZFRvTG5nTGF0KHh5KSB7XG4gIGNvbnN0IFt4LCB5XSA9IHh5O1xuICBjb25zdCBsYW1iZGEyID0geCAvIFRJTEVfU0laRSAqICgyICogUEkpIC0gUEk7XG4gIGNvbnN0IHBoaTIgPSAyICogKE1hdGguYXRhbihNYXRoLmV4cCh5IC8gVElMRV9TSVpFICogKDIgKiBQSSkgLSBQSSkpIC0gUElfNCk7XG4gIHJldHVybiBbbGFtYmRhMiAqIFJBRElBTlNfVE9fREVHUkVFUywgcGhpMiAqIFJBRElBTlNfVE9fREVHUkVFU107XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0TWV0ZXJab29tKG9wdGlvbnMpIHtcbiAgY29uc3Qge1xuICAgIGxhdGl0dWRlXG4gIH0gPSBvcHRpb25zO1xuICBhc3NlcnQoTnVtYmVyLmlzRmluaXRlKGxhdGl0dWRlKSk7XG4gIGNvbnN0IGxhdENvc2luZSA9IE1hdGguY29zKGxhdGl0dWRlICogREVHUkVFU19UT19SQURJQU5TKTtcbiAgcmV0dXJuIHNjYWxlVG9ab29tKEVBUlRIX0NJUkNVTUZFUkVOQ0UgKiBsYXRDb3NpbmUpIC0gOTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB1bml0c1Blck1ldGVyKGxhdGl0dWRlKSB7XG4gIGNvbnN0IGxhdENvc2luZSA9IE1hdGguY29zKGxhdGl0dWRlICogREVHUkVFU19UT19SQURJQU5TKTtcbiAgcmV0dXJuIFRJTEVfU0laRSAvIEVBUlRIX0NJUkNVTUZFUkVOQ0UgLyBsYXRDb3NpbmU7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0RGlzdGFuY2VTY2FsZXMob3B0aW9ucykge1xuICBjb25zdCB7XG4gICAgbGF0aXR1ZGUsXG4gICAgbG9uZ2l0dWRlLFxuICAgIGhpZ2hQcmVjaXNpb24gPSBmYWxzZVxuICB9ID0gb3B0aW9ucztcbiAgYXNzZXJ0KE51bWJlci5pc0Zpbml0ZShsYXRpdHVkZSkgJiYgTnVtYmVyLmlzRmluaXRlKGxvbmdpdHVkZSkpO1xuICBjb25zdCB3b3JsZFNpemUgPSBUSUxFX1NJWkU7XG4gIGNvbnN0IGxhdENvc2luZSA9IE1hdGguY29zKGxhdGl0dWRlICogREVHUkVFU19UT19SQURJQU5TKTtcbiAgY29uc3QgdW5pdHNQZXJEZWdyZWVYID0gd29ybGRTaXplIC8gMzYwO1xuICBjb25zdCB1bml0c1BlckRlZ3JlZVkgPSB1bml0c1BlckRlZ3JlZVggLyBsYXRDb3NpbmU7XG4gIGNvbnN0IGFsdFVuaXRzUGVyTWV0ZXIgPSB3b3JsZFNpemUgLyBFQVJUSF9DSVJDVU1GRVJFTkNFIC8gbGF0Q29zaW5lO1xuICBjb25zdCByZXN1bHQgPSB7XG4gICAgdW5pdHNQZXJNZXRlcjogW2FsdFVuaXRzUGVyTWV0ZXIsIGFsdFVuaXRzUGVyTWV0ZXIsIGFsdFVuaXRzUGVyTWV0ZXJdLFxuICAgIG1ldGVyc1BlclVuaXQ6IFsxIC8gYWx0VW5pdHNQZXJNZXRlciwgMSAvIGFsdFVuaXRzUGVyTWV0ZXIsIDEgLyBhbHRVbml0c1Blck1ldGVyXSxcbiAgICB1bml0c1BlckRlZ3JlZTogW3VuaXRzUGVyRGVncmVlWCwgdW5pdHNQZXJEZWdyZWVZLCBhbHRVbml0c1Blck1ldGVyXSxcbiAgICBkZWdyZWVzUGVyVW5pdDogWzEgLyB1bml0c1BlckRlZ3JlZVgsIDEgLyB1bml0c1BlckRlZ3JlZVksIDEgLyBhbHRVbml0c1Blck1ldGVyXVxuICB9O1xuXG4gIGlmIChoaWdoUHJlY2lzaW9uKSB7XG4gICAgY29uc3QgbGF0Q29zaW5lMiA9IERFR1JFRVNfVE9fUkFESUFOUyAqIE1hdGgudGFuKGxhdGl0dWRlICogREVHUkVFU19UT19SQURJQU5TKSAvIGxhdENvc2luZTtcbiAgICBjb25zdCB1bml0c1BlckRlZ3JlZVkyID0gdW5pdHNQZXJEZWdyZWVYICogbGF0Q29zaW5lMiAvIDI7XG4gICAgY29uc3QgYWx0VW5pdHNQZXJEZWdyZWUyID0gd29ybGRTaXplIC8gRUFSVEhfQ0lSQ1VNRkVSRU5DRSAqIGxhdENvc2luZTI7XG4gICAgY29uc3QgYWx0VW5pdHNQZXJNZXRlcjIgPSBhbHRVbml0c1BlckRlZ3JlZTIgLyB1bml0c1BlckRlZ3JlZVkgKiBhbHRVbml0c1Blck1ldGVyO1xuICAgIHJlc3VsdC51bml0c1BlckRlZ3JlZTIgPSBbMCwgdW5pdHNQZXJEZWdyZWVZMiwgYWx0VW5pdHNQZXJEZWdyZWUyXTtcbiAgICByZXN1bHQudW5pdHNQZXJNZXRlcjIgPSBbYWx0VW5pdHNQZXJNZXRlcjIsIDAsIGFsdFVuaXRzUGVyTWV0ZXIyXTtcbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG5leHBvcnQgZnVuY3Rpb24gYWRkTWV0ZXJzVG9MbmdMYXQobG5nTGF0WiwgeHl6KSB7XG4gIGNvbnN0IFtsb25naXR1ZGUsIGxhdGl0dWRlLCB6MF0gPSBsbmdMYXRaO1xuICBjb25zdCBbeCwgeSwgel0gPSB4eXo7XG4gIGNvbnN0IHtcbiAgICB1bml0c1Blck1ldGVyLFxuICAgIHVuaXRzUGVyTWV0ZXIyXG4gIH0gPSBnZXREaXN0YW5jZVNjYWxlcyh7XG4gICAgbG9uZ2l0dWRlLFxuICAgIGxhdGl0dWRlLFxuICAgIGhpZ2hQcmVjaXNpb246IHRydWVcbiAgfSk7XG4gIGNvbnN0IHdvcmxkc3BhY2UgPSBsbmdMYXRUb1dvcmxkKGxuZ0xhdFopO1xuICB3b3JsZHNwYWNlWzBdICs9IHggKiAodW5pdHNQZXJNZXRlclswXSArIHVuaXRzUGVyTWV0ZXIyWzBdICogeSk7XG4gIHdvcmxkc3BhY2VbMV0gKz0geSAqICh1bml0c1Blck1ldGVyWzFdICsgdW5pdHNQZXJNZXRlcjJbMV0gKiB5KTtcbiAgY29uc3QgbmV3TG5nTGF0ID0gd29ybGRUb0xuZ0xhdCh3b3JsZHNwYWNlKTtcbiAgY29uc3QgbmV3WiA9ICh6MCB8fCAwKSArICh6IHx8IDApO1xuICByZXR1cm4gTnVtYmVyLmlzRmluaXRlKHowKSB8fCBOdW1iZXIuaXNGaW5pdGUoeikgPyBbbmV3TG5nTGF0WzBdLCBuZXdMbmdMYXRbMV0sIG5ld1pdIDogbmV3TG5nTGF0O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldFZpZXdNYXRyaXgob3B0aW9ucykge1xuICBjb25zdCB7XG4gICAgaGVpZ2h0LFxuICAgIHBpdGNoLFxuICAgIGJlYXJpbmcsXG4gICAgYWx0aXR1ZGUsXG4gICAgc2NhbGUsXG4gICAgY2VudGVyXG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCB2bSA9IGNyZWF0ZU1hdDQoKTtcbiAgbWF0NC50cmFuc2xhdGUodm0sIHZtLCBbMCwgMCwgLWFsdGl0dWRlXSk7XG4gIG1hdDQucm90YXRlWCh2bSwgdm0sIC1waXRjaCAqIERFR1JFRVNfVE9fUkFESUFOUyk7XG4gIG1hdDQucm90YXRlWih2bSwgdm0sIGJlYXJpbmcgKiBERUdSRUVTX1RPX1JBRElBTlMpO1xuICBjb25zdCByZWxhdGl2ZVNjYWxlID0gc2NhbGUgLyBoZWlnaHQ7XG4gIG1hdDQuc2NhbGUodm0sIHZtLCBbcmVsYXRpdmVTY2FsZSwgcmVsYXRpdmVTY2FsZSwgcmVsYXRpdmVTY2FsZV0pO1xuXG4gIGlmIChjZW50ZXIpIHtcbiAgICBtYXQ0LnRyYW5zbGF0ZSh2bSwgdm0sIHZlYzMubmVnYXRlKFtdLCBjZW50ZXIpKTtcbiAgfVxuXG4gIHJldHVybiB2bTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRQcm9qZWN0aW9uUGFyYW1ldGVycyhvcHRpb25zKSB7XG4gIGNvbnN0IHtcbiAgICB3aWR0aCxcbiAgICBoZWlnaHQsXG4gICAgYWx0aXR1ZGUsXG4gICAgcGl0Y2ggPSAwLFxuICAgIG9mZnNldCxcbiAgICBjZW50ZXIsXG4gICAgc2NhbGUsXG4gICAgbmVhclpNdWx0aXBsaWVyID0gMSxcbiAgICBmYXJaTXVsdGlwbGllciA9IDFcbiAgfSA9IG9wdGlvbnM7XG4gIGxldCB7XG4gICAgZm92eSA9IGFsdGl0dWRlVG9Gb3Z5KERFRkFVTFRfQUxUSVRVREUpXG4gIH0gPSBvcHRpb25zO1xuXG4gIGlmIChhbHRpdHVkZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgZm92eSA9IGFsdGl0dWRlVG9Gb3Z5KGFsdGl0dWRlKTtcbiAgfVxuXG4gIGNvbnN0IGZvdlJhZGlhbnMgPSBmb3Z5ICogREVHUkVFU19UT19SQURJQU5TO1xuICBjb25zdCBwaXRjaFJhZGlhbnMgPSBwaXRjaCAqIERFR1JFRVNfVE9fUkFESUFOUztcbiAgY29uc3QgZm9jYWxEaXN0YW5jZSA9IGZvdnlUb0FsdGl0dWRlKGZvdnkpO1xuICBsZXQgY2FtZXJhVG9TZWFMZXZlbERpc3RhbmNlID0gZm9jYWxEaXN0YW5jZTtcblxuICBpZiAoY2VudGVyKSB7XG4gICAgY2FtZXJhVG9TZWFMZXZlbERpc3RhbmNlICs9IGNlbnRlclsyXSAqIHNjYWxlIC8gTWF0aC5jb3MocGl0Y2hSYWRpYW5zKSAvIGhlaWdodDtcbiAgfVxuXG4gIGNvbnN0IGZvdkFib3ZlQ2VudGVyID0gZm92UmFkaWFucyAqICgwLjUgKyAob2Zmc2V0ID8gb2Zmc2V0WzFdIDogMCkgLyBoZWlnaHQpO1xuICBjb25zdCB0b3BIYWxmU3VyZmFjZURpc3RhbmNlID0gTWF0aC5zaW4oZm92QWJvdmVDZW50ZXIpICogY2FtZXJhVG9TZWFMZXZlbERpc3RhbmNlIC8gTWF0aC5zaW4oY2xhbXAoTWF0aC5QSSAvIDIgLSBwaXRjaFJhZGlhbnMgLSBmb3ZBYm92ZUNlbnRlciwgMC4wMSwgTWF0aC5QSSAtIDAuMDEpKTtcbiAgY29uc3QgZnVydGhlc3REaXN0YW5jZSA9IE1hdGguc2luKHBpdGNoUmFkaWFucykgKiB0b3BIYWxmU3VyZmFjZURpc3RhbmNlICsgY2FtZXJhVG9TZWFMZXZlbERpc3RhbmNlO1xuICBjb25zdCBob3Jpem9uRGlzdGFuY2UgPSBjYW1lcmFUb1NlYUxldmVsRGlzdGFuY2UgKiAxMDtcbiAgY29uc3QgZmFyWiA9IE1hdGgubWluKGZ1cnRoZXN0RGlzdGFuY2UgKiBmYXJaTXVsdGlwbGllciwgaG9yaXpvbkRpc3RhbmNlKTtcbiAgcmV0dXJuIHtcbiAgICBmb3Y6IGZvdlJhZGlhbnMsXG4gICAgYXNwZWN0OiB3aWR0aCAvIGhlaWdodCxcbiAgICBmb2NhbERpc3RhbmNlLFxuICAgIG5lYXI6IG5lYXJaTXVsdGlwbGllcixcbiAgICBmYXI6IGZhclpcbiAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRQcm9qZWN0aW9uTWF0cml4KG9wdGlvbnMpIHtcbiAgY29uc3Qge1xuICAgIGZvdixcbiAgICBhc3BlY3QsXG4gICAgbmVhcixcbiAgICBmYXJcbiAgfSA9IGdldFByb2plY3Rpb25QYXJhbWV0ZXJzKG9wdGlvbnMpO1xuICBjb25zdCBwcm9qZWN0aW9uTWF0cml4ID0gbWF0NC5wZXJzcGVjdGl2ZShbXSwgZm92LCBhc3BlY3QsIG5lYXIsIGZhcik7XG4gIHJldHVybiBwcm9qZWN0aW9uTWF0cml4O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGFsdGl0dWRlVG9Gb3Z5KGFsdGl0dWRlKSB7XG4gIHJldHVybiAyICogTWF0aC5hdGFuKDAuNSAvIGFsdGl0dWRlKSAqIFJBRElBTlNfVE9fREVHUkVFUztcbn1cbmV4cG9ydCBmdW5jdGlvbiBmb3Z5VG9BbHRpdHVkZShmb3Z5KSB7XG4gIHJldHVybiAwLjUgLyBNYXRoLnRhbigwLjUgKiBmb3Z5ICogREVHUkVFU19UT19SQURJQU5TKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB3b3JsZFRvUGl4ZWxzKHh5eiwgcGl4ZWxQcm9qZWN0aW9uTWF0cml4KSB7XG4gIGNvbnN0IFt4LCB5LCB6ID0gMF0gPSB4eXo7XG4gIGFzc2VydChOdW1iZXIuaXNGaW5pdGUoeCkgJiYgTnVtYmVyLmlzRmluaXRlKHkpICYmIE51bWJlci5pc0Zpbml0ZSh6KSk7XG4gIHJldHVybiB0cmFuc2Zvcm1WZWN0b3IocGl4ZWxQcm9qZWN0aW9uTWF0cml4LCBbeCwgeSwgeiwgMV0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHBpeGVsc1RvV29ybGQoeHl6LCBwaXhlbFVucHJvamVjdGlvbk1hdHJpeCwgdGFyZ2V0WiA9IDApIHtcbiAgY29uc3QgW3gsIHksIHpdID0geHl6O1xuICBhc3NlcnQoTnVtYmVyLmlzRmluaXRlKHgpICYmIE51bWJlci5pc0Zpbml0ZSh5KSwgJ2ludmFsaWQgcGl4ZWwgY29vcmRpbmF0ZScpO1xuXG4gIGlmIChOdW1iZXIuaXNGaW5pdGUoeikpIHtcbiAgICBjb25zdCBjb29yZCA9IHRyYW5zZm9ybVZlY3RvcihwaXhlbFVucHJvamVjdGlvbk1hdHJpeCwgW3gsIHksIHosIDFdKTtcbiAgICByZXR1cm4gY29vcmQ7XG4gIH1cblxuICBjb25zdCBjb29yZDAgPSB0cmFuc2Zvcm1WZWN0b3IocGl4ZWxVbnByb2plY3Rpb25NYXRyaXgsIFt4LCB5LCAwLCAxXSk7XG4gIGNvbnN0IGNvb3JkMSA9IHRyYW5zZm9ybVZlY3RvcihwaXhlbFVucHJvamVjdGlvbk1hdHJpeCwgW3gsIHksIDEsIDFdKTtcbiAgY29uc3QgejAgPSBjb29yZDBbMl07XG4gIGNvbnN0IHoxID0gY29vcmQxWzJdO1xuICBjb25zdCB0ID0gejAgPT09IHoxID8gMCA6ICgodGFyZ2V0WiB8fCAwKSAtIHowKSAvICh6MSAtIHowKTtcbiAgcmV0dXJuIHZlYzIubGVycChbXSwgY29vcmQwLCBjb29yZDEsIHQpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d2ViLW1lcmNhdG9yLXV0aWxzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@math.gl/web-mercator/dist/esm/web-mercator-utils.js\n");

/***/ }),

/***/ "./node_modules/@math.gl/web-mercator/dist/esm/web-mercator-viewport.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@math.gl/web-mercator/dist/esm/web-mercator-viewport.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ WebMercatorViewport)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/esm/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var _math_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./math-utils */ \"./node_modules/@math.gl/web-mercator/dist/esm/math-utils.js\");\n/* harmony import */ var _web_mercator_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./web-mercator-utils */ \"./node_modules/@math.gl/web-mercator/dist/esm/web-mercator-utils.js\");\n/* harmony import */ var _fit_bounds__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./fit-bounds */ \"./node_modules/@math.gl/web-mercator/dist/esm/fit-bounds.js\");\n/* harmony import */ var _get_bounds__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./get-bounds */ \"./node_modules/@math.gl/web-mercator/dist/esm/get-bounds.js\");\n/* harmony import */ var gl_matrix_mat4__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! gl-matrix/mat4 */ \"./node_modules/gl-matrix/esm/mat4.js\");\n/* harmony import */ var gl_matrix_vec2__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! gl-matrix/vec2 */ \"./node_modules/gl-matrix/esm/vec2.js\");\n/* harmony import */ var gl_matrix_vec3__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! gl-matrix/vec3 */ \"./node_modules/gl-matrix/esm/vec3.js\");\n\n\n\n\n\n\n\n\nclass WebMercatorViewport {\n  constructor(props = {\n    width: 1,\n    height: 1\n  }) {\n    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this, \"latitude\", void 0);\n\n    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this, \"longitude\", void 0);\n\n    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this, \"zoom\", void 0);\n\n    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this, \"pitch\", void 0);\n\n    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this, \"bearing\", void 0);\n\n    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this, \"altitude\", void 0);\n\n    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this, \"fovy\", void 0);\n\n    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this, \"meterOffset\", void 0);\n\n    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this, \"center\", void 0);\n\n    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this, \"width\", void 0);\n\n    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this, \"height\", void 0);\n\n    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this, \"scale\", void 0);\n\n    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this, \"distanceScales\", void 0);\n\n    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this, \"viewMatrix\", void 0);\n\n    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this, \"projectionMatrix\", void 0);\n\n    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this, \"viewProjectionMatrix\", void 0);\n\n    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this, \"pixelProjectionMatrix\", void 0);\n\n    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this, \"pixelUnprojectionMatrix\", void 0);\n\n    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this, \"equals\", viewport => {\n      if (!(viewport instanceof WebMercatorViewport)) {\n        return false;\n      }\n\n      return viewport.width === this.width && viewport.height === this.height && gl_matrix_mat4__WEBPACK_IMPORTED_MODULE_5__.equals(viewport.projectionMatrix, this.projectionMatrix) && gl_matrix_mat4__WEBPACK_IMPORTED_MODULE_5__.equals(viewport.viewMatrix, this.viewMatrix);\n    });\n\n    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this, \"project\", (lngLatZ, options = {}) => {\n      const {\n        topLeft = true\n      } = options;\n      const worldPosition = this.projectPosition(lngLatZ);\n      const coord = (0,_web_mercator_utils__WEBPACK_IMPORTED_MODULE_1__.worldToPixels)(worldPosition, this.pixelProjectionMatrix);\n      const [x, y] = coord;\n      const y2 = topLeft ? y : this.height - y;\n      return lngLatZ.length === 2 ? [x, y2] : [x, y2, coord[2]];\n    });\n\n    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this, \"unproject\", (xyz, options = {}) => {\n      const {\n        topLeft = true,\n        targetZ = undefined\n      } = options;\n      const [x, y, z] = xyz;\n      const y2 = topLeft ? y : this.height - y;\n      const targetZWorld = targetZ && targetZ * this.distanceScales.unitsPerMeter[2];\n      const coord = (0,_web_mercator_utils__WEBPACK_IMPORTED_MODULE_1__.pixelsToWorld)([x, y2, z], this.pixelUnprojectionMatrix, targetZWorld);\n      const [X, Y, Z] = this.unprojectPosition(coord);\n\n      if (Number.isFinite(z)) {\n        return [X, Y, Z];\n      }\n\n      return Number.isFinite(targetZ) ? [X, Y, targetZ] : [X, Y];\n    });\n\n    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this, \"projectPosition\", xyz => {\n      const [X, Y] = (0,_web_mercator_utils__WEBPACK_IMPORTED_MODULE_1__.lngLatToWorld)(xyz);\n      const Z = (xyz[2] || 0) * this.distanceScales.unitsPerMeter[2];\n      return [X, Y, Z];\n    });\n\n    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this, \"unprojectPosition\", xyz => {\n      const [X, Y] = (0,_web_mercator_utils__WEBPACK_IMPORTED_MODULE_1__.worldToLngLat)(xyz);\n      const Z = (xyz[2] || 0) * this.distanceScales.metersPerUnit[2];\n      return [X, Y, Z];\n    });\n\n    let {\n      width,\n      height,\n      altitude = null,\n      fovy = null\n    } = props;\n    const {\n      latitude = 0,\n      longitude = 0,\n      zoom = 0,\n      pitch = 0,\n      bearing = 0,\n      position = null,\n      nearZMultiplier = 0.02,\n      farZMultiplier = 1.01\n    } = props;\n    width = width || 1;\n    height = height || 1;\n\n    if (fovy === null && altitude === null) {\n      altitude = _web_mercator_utils__WEBPACK_IMPORTED_MODULE_1__.DEFAULT_ALTITUDE;\n      fovy = (0,_web_mercator_utils__WEBPACK_IMPORTED_MODULE_1__.altitudeToFovy)(altitude);\n    } else if (fovy === null) {\n      fovy = (0,_web_mercator_utils__WEBPACK_IMPORTED_MODULE_1__.altitudeToFovy)(altitude);\n    } else if (altitude === null) {\n      altitude = (0,_web_mercator_utils__WEBPACK_IMPORTED_MODULE_1__.fovyToAltitude)(fovy);\n    }\n\n    const scale = (0,_web_mercator_utils__WEBPACK_IMPORTED_MODULE_1__.zoomToScale)(zoom);\n    altitude = Math.max(0.75, altitude);\n    const distanceScales = (0,_web_mercator_utils__WEBPACK_IMPORTED_MODULE_1__.getDistanceScales)({\n      longitude,\n      latitude\n    });\n    const center = (0,_web_mercator_utils__WEBPACK_IMPORTED_MODULE_1__.lngLatToWorld)([longitude, latitude]);\n    center.push(0);\n\n    if (position) {\n      gl_matrix_vec3__WEBPACK_IMPORTED_MODULE_6__.add(center, center, gl_matrix_vec3__WEBPACK_IMPORTED_MODULE_6__.mul([], position, distanceScales.unitsPerMeter));\n    }\n\n    this.projectionMatrix = (0,_web_mercator_utils__WEBPACK_IMPORTED_MODULE_1__.getProjectionMatrix)({\n      width,\n      height,\n      scale,\n      center,\n      pitch,\n      fovy,\n      nearZMultiplier,\n      farZMultiplier\n    });\n    this.viewMatrix = (0,_web_mercator_utils__WEBPACK_IMPORTED_MODULE_1__.getViewMatrix)({\n      height,\n      scale,\n      center,\n      pitch,\n      bearing,\n      altitude\n    });\n    this.width = width;\n    this.height = height;\n    this.scale = scale;\n    this.latitude = latitude;\n    this.longitude = longitude;\n    this.zoom = zoom;\n    this.pitch = pitch;\n    this.bearing = bearing;\n    this.altitude = altitude;\n    this.fovy = fovy;\n    this.center = center;\n    this.meterOffset = position || [0, 0, 0];\n    this.distanceScales = distanceScales;\n\n    this._initMatrices();\n\n    Object.freeze(this);\n  }\n\n  _initMatrices() {\n    const {\n      width,\n      height,\n      projectionMatrix,\n      viewMatrix\n    } = this;\n    const vpm = (0,_math_utils__WEBPACK_IMPORTED_MODULE_0__.createMat4)();\n    gl_matrix_mat4__WEBPACK_IMPORTED_MODULE_5__.multiply(vpm, vpm, projectionMatrix);\n    gl_matrix_mat4__WEBPACK_IMPORTED_MODULE_5__.multiply(vpm, vpm, viewMatrix);\n    this.viewProjectionMatrix = vpm;\n    const m = (0,_math_utils__WEBPACK_IMPORTED_MODULE_0__.createMat4)();\n    gl_matrix_mat4__WEBPACK_IMPORTED_MODULE_5__.scale(m, m, [width / 2, -height / 2, 1]);\n    gl_matrix_mat4__WEBPACK_IMPORTED_MODULE_5__.translate(m, m, [1, -1, 0]);\n    gl_matrix_mat4__WEBPACK_IMPORTED_MODULE_5__.multiply(m, m, vpm);\n    const mInverse = gl_matrix_mat4__WEBPACK_IMPORTED_MODULE_5__.invert((0,_math_utils__WEBPACK_IMPORTED_MODULE_0__.createMat4)(), m);\n\n    if (!mInverse) {\n      throw new Error('Pixel project matrix not invertible');\n    }\n\n    this.pixelProjectionMatrix = m;\n    this.pixelUnprojectionMatrix = mInverse;\n  }\n\n  projectFlat(lngLat) {\n    return (0,_web_mercator_utils__WEBPACK_IMPORTED_MODULE_1__.lngLatToWorld)(lngLat);\n  }\n\n  unprojectFlat(xy) {\n    return (0,_web_mercator_utils__WEBPACK_IMPORTED_MODULE_1__.worldToLngLat)(xy);\n  }\n\n  getMapCenterByLngLatPosition({\n    lngLat,\n    pos\n  }) {\n    const fromLocation = (0,_web_mercator_utils__WEBPACK_IMPORTED_MODULE_1__.pixelsToWorld)(pos, this.pixelUnprojectionMatrix);\n    const toLocation = (0,_web_mercator_utils__WEBPACK_IMPORTED_MODULE_1__.lngLatToWorld)(lngLat);\n    const translate = gl_matrix_vec2__WEBPACK_IMPORTED_MODULE_7__.add([], toLocation, gl_matrix_vec2__WEBPACK_IMPORTED_MODULE_7__.negate([], fromLocation));\n    const newCenter = gl_matrix_vec2__WEBPACK_IMPORTED_MODULE_7__.add([], this.center, translate);\n    return (0,_web_mercator_utils__WEBPACK_IMPORTED_MODULE_1__.worldToLngLat)(newCenter);\n  }\n\n  fitBounds(bounds, options = {}) {\n    const {\n      width,\n      height\n    } = this;\n    const {\n      longitude,\n      latitude,\n      zoom\n    } = (0,_fit_bounds__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(Object.assign({\n      width,\n      height,\n      bounds\n    }, options));\n    return new WebMercatorViewport({\n      width,\n      height,\n      longitude,\n      latitude,\n      zoom\n    });\n  }\n\n  getBounds(options) {\n    const corners = this.getBoundingRegion(options);\n    const west = Math.min(...corners.map(p => p[0]));\n    const east = Math.max(...corners.map(p => p[0]));\n    const south = Math.min(...corners.map(p => p[1]));\n    const north = Math.max(...corners.map(p => p[1]));\n    return [[west, south], [east, north]];\n  }\n\n  getBoundingRegion(options = {}) {\n    return (0,_get_bounds__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(this, options.z || 0);\n  }\n\n  getLocationAtPoint({\n    lngLat,\n    pos\n  }) {\n    return this.getMapCenterByLngLatPosition({\n      lngLat,\n      pos\n    });\n  }\n\n}\n//# sourceMappingURL=web-mercator-viewport.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQG1hdGguZ2wvd2ViLW1lcmNhdG9yL2Rpc3QvZXNtL3dlYi1tZXJjYXRvci12aWV3cG9ydC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3VwZXJzZXQvLi9ub2RlX21vZHVsZXMvQG1hdGguZ2wvd2ViLW1lcmNhdG9yL2Rpc3QvZXNtL3dlYi1tZXJjYXRvci12aWV3cG9ydC5qcz81YjBhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5XCI7XG5pbXBvcnQgeyBjcmVhdGVNYXQ0IH0gZnJvbSAnLi9tYXRoLXV0aWxzJztcbmltcG9ydCB7IHpvb21Ub1NjYWxlLCBwaXhlbHNUb1dvcmxkLCBsbmdMYXRUb1dvcmxkLCB3b3JsZFRvTG5nTGF0LCB3b3JsZFRvUGl4ZWxzLCBhbHRpdHVkZVRvRm92eSwgZm92eVRvQWx0aXR1ZGUsIERFRkFVTFRfQUxUSVRVREUsIGdldFByb2plY3Rpb25NYXRyaXgsIGdldERpc3RhbmNlU2NhbGVzLCBnZXRWaWV3TWF0cml4IH0gZnJvbSAnLi93ZWItbWVyY2F0b3ItdXRpbHMnO1xuaW1wb3J0IGZpdEJvdW5kcyBmcm9tICcuL2ZpdC1ib3VuZHMnO1xuaW1wb3J0IGdldEJvdW5kcyBmcm9tICcuL2dldC1ib3VuZHMnO1xuaW1wb3J0ICogYXMgbWF0NCBmcm9tICdnbC1tYXRyaXgvbWF0NCc7XG5pbXBvcnQgKiBhcyB2ZWMyIGZyb20gJ2dsLW1hdHJpeC92ZWMyJztcbmltcG9ydCAqIGFzIHZlYzMgZnJvbSAnZ2wtbWF0cml4L3ZlYzMnO1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgV2ViTWVyY2F0b3JWaWV3cG9ydCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzID0ge1xuICAgIHdpZHRoOiAxLFxuICAgIGhlaWdodDogMVxuICB9KSB7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwibGF0aXR1ZGVcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxvbmdpdHVkZVwiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiem9vbVwiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwicGl0Y2hcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImJlYXJpbmdcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImFsdGl0dWRlXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJmb3Z5XCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJtZXRlck9mZnNldFwiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiY2VudGVyXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJ3aWR0aFwiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiaGVpZ2h0XCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJzY2FsZVwiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiZGlzdGFuY2VTY2FsZXNcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInZpZXdNYXRyaXhcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInByb2plY3Rpb25NYXRyaXhcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInZpZXdQcm9qZWN0aW9uTWF0cml4XCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJwaXhlbFByb2plY3Rpb25NYXRyaXhcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInBpeGVsVW5wcm9qZWN0aW9uTWF0cml4XCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJlcXVhbHNcIiwgdmlld3BvcnQgPT4ge1xuICAgICAgaWYgKCEodmlld3BvcnQgaW5zdGFuY2VvZiBXZWJNZXJjYXRvclZpZXdwb3J0KSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB2aWV3cG9ydC53aWR0aCA9PT0gdGhpcy53aWR0aCAmJiB2aWV3cG9ydC5oZWlnaHQgPT09IHRoaXMuaGVpZ2h0ICYmIG1hdDQuZXF1YWxzKHZpZXdwb3J0LnByb2plY3Rpb25NYXRyaXgsIHRoaXMucHJvamVjdGlvbk1hdHJpeCkgJiYgbWF0NC5lcXVhbHModmlld3BvcnQudmlld01hdHJpeCwgdGhpcy52aWV3TWF0cml4KTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInByb2plY3RcIiwgKGxuZ0xhdFosIG9wdGlvbnMgPSB7fSkgPT4ge1xuICAgICAgY29uc3Qge1xuICAgICAgICB0b3BMZWZ0ID0gdHJ1ZVxuICAgICAgfSA9IG9wdGlvbnM7XG4gICAgICBjb25zdCB3b3JsZFBvc2l0aW9uID0gdGhpcy5wcm9qZWN0UG9zaXRpb24obG5nTGF0Wik7XG4gICAgICBjb25zdCBjb29yZCA9IHdvcmxkVG9QaXhlbHMod29ybGRQb3NpdGlvbiwgdGhpcy5waXhlbFByb2plY3Rpb25NYXRyaXgpO1xuICAgICAgY29uc3QgW3gsIHldID0gY29vcmQ7XG4gICAgICBjb25zdCB5MiA9IHRvcExlZnQgPyB5IDogdGhpcy5oZWlnaHQgLSB5O1xuICAgICAgcmV0dXJuIGxuZ0xhdFoubGVuZ3RoID09PSAyID8gW3gsIHkyXSA6IFt4LCB5MiwgY29vcmRbMl1dO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwidW5wcm9qZWN0XCIsICh4eXosIG9wdGlvbnMgPSB7fSkgPT4ge1xuICAgICAgY29uc3Qge1xuICAgICAgICB0b3BMZWZ0ID0gdHJ1ZSxcbiAgICAgICAgdGFyZ2V0WiA9IHVuZGVmaW5lZFxuICAgICAgfSA9IG9wdGlvbnM7XG4gICAgICBjb25zdCBbeCwgeSwgel0gPSB4eXo7XG4gICAgICBjb25zdCB5MiA9IHRvcExlZnQgPyB5IDogdGhpcy5oZWlnaHQgLSB5O1xuICAgICAgY29uc3QgdGFyZ2V0WldvcmxkID0gdGFyZ2V0WiAmJiB0YXJnZXRaICogdGhpcy5kaXN0YW5jZVNjYWxlcy51bml0c1Blck1ldGVyWzJdO1xuICAgICAgY29uc3QgY29vcmQgPSBwaXhlbHNUb1dvcmxkKFt4LCB5Miwgel0sIHRoaXMucGl4ZWxVbnByb2plY3Rpb25NYXRyaXgsIHRhcmdldFpXb3JsZCk7XG4gICAgICBjb25zdCBbWCwgWSwgWl0gPSB0aGlzLnVucHJvamVjdFBvc2l0aW9uKGNvb3JkKTtcblxuICAgICAgaWYgKE51bWJlci5pc0Zpbml0ZSh6KSkge1xuICAgICAgICByZXR1cm4gW1gsIFksIFpdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gTnVtYmVyLmlzRmluaXRlKHRhcmdldFopID8gW1gsIFksIHRhcmdldFpdIDogW1gsIFldO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwicHJvamVjdFBvc2l0aW9uXCIsIHh5eiA9PiB7XG4gICAgICBjb25zdCBbWCwgWV0gPSBsbmdMYXRUb1dvcmxkKHh5eik7XG4gICAgICBjb25zdCBaID0gKHh5elsyXSB8fCAwKSAqIHRoaXMuZGlzdGFuY2VTY2FsZXMudW5pdHNQZXJNZXRlclsyXTtcbiAgICAgIHJldHVybiBbWCwgWSwgWl07XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJ1bnByb2plY3RQb3NpdGlvblwiLCB4eXogPT4ge1xuICAgICAgY29uc3QgW1gsIFldID0gd29ybGRUb0xuZ0xhdCh4eXopO1xuICAgICAgY29uc3QgWiA9ICh4eXpbMl0gfHwgMCkgKiB0aGlzLmRpc3RhbmNlU2NhbGVzLm1ldGVyc1BlclVuaXRbMl07XG4gICAgICByZXR1cm4gW1gsIFksIFpdO1xuICAgIH0pO1xuXG4gICAgbGV0IHtcbiAgICAgIHdpZHRoLFxuICAgICAgaGVpZ2h0LFxuICAgICAgYWx0aXR1ZGUgPSBudWxsLFxuICAgICAgZm92eSA9IG51bGxcbiAgICB9ID0gcHJvcHM7XG4gICAgY29uc3Qge1xuICAgICAgbGF0aXR1ZGUgPSAwLFxuICAgICAgbG9uZ2l0dWRlID0gMCxcbiAgICAgIHpvb20gPSAwLFxuICAgICAgcGl0Y2ggPSAwLFxuICAgICAgYmVhcmluZyA9IDAsXG4gICAgICBwb3NpdGlvbiA9IG51bGwsXG4gICAgICBuZWFyWk11bHRpcGxpZXIgPSAwLjAyLFxuICAgICAgZmFyWk11bHRpcGxpZXIgPSAxLjAxXG4gICAgfSA9IHByb3BzO1xuICAgIHdpZHRoID0gd2lkdGggfHwgMTtcbiAgICBoZWlnaHQgPSBoZWlnaHQgfHwgMTtcblxuICAgIGlmIChmb3Z5ID09PSBudWxsICYmIGFsdGl0dWRlID09PSBudWxsKSB7XG4gICAgICBhbHRpdHVkZSA9IERFRkFVTFRfQUxUSVRVREU7XG4gICAgICBmb3Z5ID0gYWx0aXR1ZGVUb0ZvdnkoYWx0aXR1ZGUpO1xuICAgIH0gZWxzZSBpZiAoZm92eSA9PT0gbnVsbCkge1xuICAgICAgZm92eSA9IGFsdGl0dWRlVG9Gb3Z5KGFsdGl0dWRlKTtcbiAgICB9IGVsc2UgaWYgKGFsdGl0dWRlID09PSBudWxsKSB7XG4gICAgICBhbHRpdHVkZSA9IGZvdnlUb0FsdGl0dWRlKGZvdnkpO1xuICAgIH1cblxuICAgIGNvbnN0IHNjYWxlID0gem9vbVRvU2NhbGUoem9vbSk7XG4gICAgYWx0aXR1ZGUgPSBNYXRoLm1heCgwLjc1LCBhbHRpdHVkZSk7XG4gICAgY29uc3QgZGlzdGFuY2VTY2FsZXMgPSBnZXREaXN0YW5jZVNjYWxlcyh7XG4gICAgICBsb25naXR1ZGUsXG4gICAgICBsYXRpdHVkZVxuICAgIH0pO1xuICAgIGNvbnN0IGNlbnRlciA9IGxuZ0xhdFRvV29ybGQoW2xvbmdpdHVkZSwgbGF0aXR1ZGVdKTtcbiAgICBjZW50ZXIucHVzaCgwKTtcblxuICAgIGlmIChwb3NpdGlvbikge1xuICAgICAgdmVjMy5hZGQoY2VudGVyLCBjZW50ZXIsIHZlYzMubXVsKFtdLCBwb3NpdGlvbiwgZGlzdGFuY2VTY2FsZXMudW5pdHNQZXJNZXRlcikpO1xuICAgIH1cblxuICAgIHRoaXMucHJvamVjdGlvbk1hdHJpeCA9IGdldFByb2plY3Rpb25NYXRyaXgoe1xuICAgICAgd2lkdGgsXG4gICAgICBoZWlnaHQsXG4gICAgICBzY2FsZSxcbiAgICAgIGNlbnRlcixcbiAgICAgIHBpdGNoLFxuICAgICAgZm92eSxcbiAgICAgIG5lYXJaTXVsdGlwbGllcixcbiAgICAgIGZhclpNdWx0aXBsaWVyXG4gICAgfSk7XG4gICAgdGhpcy52aWV3TWF0cml4ID0gZ2V0Vmlld01hdHJpeCh7XG4gICAgICBoZWlnaHQsXG4gICAgICBzY2FsZSxcbiAgICAgIGNlbnRlcixcbiAgICAgIHBpdGNoLFxuICAgICAgYmVhcmluZyxcbiAgICAgIGFsdGl0dWRlXG4gICAgfSk7XG4gICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgIHRoaXMuc2NhbGUgPSBzY2FsZTtcbiAgICB0aGlzLmxhdGl0dWRlID0gbGF0aXR1ZGU7XG4gICAgdGhpcy5sb25naXR1ZGUgPSBsb25naXR1ZGU7XG4gICAgdGhpcy56b29tID0gem9vbTtcbiAgICB0aGlzLnBpdGNoID0gcGl0Y2g7XG4gICAgdGhpcy5iZWFyaW5nID0gYmVhcmluZztcbiAgICB0aGlzLmFsdGl0dWRlID0gYWx0aXR1ZGU7XG4gICAgdGhpcy5mb3Z5ID0gZm92eTtcbiAgICB0aGlzLmNlbnRlciA9IGNlbnRlcjtcbiAgICB0aGlzLm1ldGVyT2Zmc2V0ID0gcG9zaXRpb24gfHwgWzAsIDAsIDBdO1xuICAgIHRoaXMuZGlzdGFuY2VTY2FsZXMgPSBkaXN0YW5jZVNjYWxlcztcblxuICAgIHRoaXMuX2luaXRNYXRyaWNlcygpO1xuXG4gICAgT2JqZWN0LmZyZWV6ZSh0aGlzKTtcbiAgfVxuXG4gIF9pbml0TWF0cmljZXMoKSB7XG4gICAgY29uc3Qge1xuICAgICAgd2lkdGgsXG4gICAgICBoZWlnaHQsXG4gICAgICBwcm9qZWN0aW9uTWF0cml4LFxuICAgICAgdmlld01hdHJpeFxuICAgIH0gPSB0aGlzO1xuICAgIGNvbnN0IHZwbSA9IGNyZWF0ZU1hdDQoKTtcbiAgICBtYXQ0Lm11bHRpcGx5KHZwbSwgdnBtLCBwcm9qZWN0aW9uTWF0cml4KTtcbiAgICBtYXQ0Lm11bHRpcGx5KHZwbSwgdnBtLCB2aWV3TWF0cml4KTtcbiAgICB0aGlzLnZpZXdQcm9qZWN0aW9uTWF0cml4ID0gdnBtO1xuICAgIGNvbnN0IG0gPSBjcmVhdGVNYXQ0KCk7XG4gICAgbWF0NC5zY2FsZShtLCBtLCBbd2lkdGggLyAyLCAtaGVpZ2h0IC8gMiwgMV0pO1xuICAgIG1hdDQudHJhbnNsYXRlKG0sIG0sIFsxLCAtMSwgMF0pO1xuICAgIG1hdDQubXVsdGlwbHkobSwgbSwgdnBtKTtcbiAgICBjb25zdCBtSW52ZXJzZSA9IG1hdDQuaW52ZXJ0KGNyZWF0ZU1hdDQoKSwgbSk7XG5cbiAgICBpZiAoIW1JbnZlcnNlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BpeGVsIHByb2plY3QgbWF0cml4IG5vdCBpbnZlcnRpYmxlJyk7XG4gICAgfVxuXG4gICAgdGhpcy5waXhlbFByb2plY3Rpb25NYXRyaXggPSBtO1xuICAgIHRoaXMucGl4ZWxVbnByb2plY3Rpb25NYXRyaXggPSBtSW52ZXJzZTtcbiAgfVxuXG4gIHByb2plY3RGbGF0KGxuZ0xhdCkge1xuICAgIHJldHVybiBsbmdMYXRUb1dvcmxkKGxuZ0xhdCk7XG4gIH1cblxuICB1bnByb2plY3RGbGF0KHh5KSB7XG4gICAgcmV0dXJuIHdvcmxkVG9MbmdMYXQoeHkpO1xuICB9XG5cbiAgZ2V0TWFwQ2VudGVyQnlMbmdMYXRQb3NpdGlvbih7XG4gICAgbG5nTGF0LFxuICAgIHBvc1xuICB9KSB7XG4gICAgY29uc3QgZnJvbUxvY2F0aW9uID0gcGl4ZWxzVG9Xb3JsZChwb3MsIHRoaXMucGl4ZWxVbnByb2plY3Rpb25NYXRyaXgpO1xuICAgIGNvbnN0IHRvTG9jYXRpb24gPSBsbmdMYXRUb1dvcmxkKGxuZ0xhdCk7XG4gICAgY29uc3QgdHJhbnNsYXRlID0gdmVjMi5hZGQoW10sIHRvTG9jYXRpb24sIHZlYzIubmVnYXRlKFtdLCBmcm9tTG9jYXRpb24pKTtcbiAgICBjb25zdCBuZXdDZW50ZXIgPSB2ZWMyLmFkZChbXSwgdGhpcy5jZW50ZXIsIHRyYW5zbGF0ZSk7XG4gICAgcmV0dXJuIHdvcmxkVG9MbmdMYXQobmV3Q2VudGVyKTtcbiAgfVxuXG4gIGZpdEJvdW5kcyhib3VuZHMsIG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IHtcbiAgICAgIHdpZHRoLFxuICAgICAgaGVpZ2h0XG4gICAgfSA9IHRoaXM7XG4gICAgY29uc3Qge1xuICAgICAgbG9uZ2l0dWRlLFxuICAgICAgbGF0aXR1ZGUsXG4gICAgICB6b29tXG4gICAgfSA9IGZpdEJvdW5kcyhPYmplY3QuYXNzaWduKHtcbiAgICAgIHdpZHRoLFxuICAgICAgaGVpZ2h0LFxuICAgICAgYm91bmRzXG4gICAgfSwgb3B0aW9ucykpO1xuICAgIHJldHVybiBuZXcgV2ViTWVyY2F0b3JWaWV3cG9ydCh7XG4gICAgICB3aWR0aCxcbiAgICAgIGhlaWdodCxcbiAgICAgIGxvbmdpdHVkZSxcbiAgICAgIGxhdGl0dWRlLFxuICAgICAgem9vbVxuICAgIH0pO1xuICB9XG5cbiAgZ2V0Qm91bmRzKG9wdGlvbnMpIHtcbiAgICBjb25zdCBjb3JuZXJzID0gdGhpcy5nZXRCb3VuZGluZ1JlZ2lvbihvcHRpb25zKTtcbiAgICBjb25zdCB3ZXN0ID0gTWF0aC5taW4oLi4uY29ybmVycy5tYXAocCA9PiBwWzBdKSk7XG4gICAgY29uc3QgZWFzdCA9IE1hdGgubWF4KC4uLmNvcm5lcnMubWFwKHAgPT4gcFswXSkpO1xuICAgIGNvbnN0IHNvdXRoID0gTWF0aC5taW4oLi4uY29ybmVycy5tYXAocCA9PiBwWzFdKSk7XG4gICAgY29uc3Qgbm9ydGggPSBNYXRoLm1heCguLi5jb3JuZXJzLm1hcChwID0+IHBbMV0pKTtcbiAgICByZXR1cm4gW1t3ZXN0LCBzb3V0aF0sIFtlYXN0LCBub3J0aF1dO1xuICB9XG5cbiAgZ2V0Qm91bmRpbmdSZWdpb24ob3B0aW9ucyA9IHt9KSB7XG4gICAgcmV0dXJuIGdldEJvdW5kcyh0aGlzLCBvcHRpb25zLnogfHwgMCk7XG4gIH1cblxuICBnZXRMb2NhdGlvbkF0UG9pbnQoe1xuICAgIGxuZ0xhdCxcbiAgICBwb3NcbiAgfSkge1xuICAgIHJldHVybiB0aGlzLmdldE1hcENlbnRlckJ5TG5nTGF0UG9zaXRpb24oe1xuICAgICAgbG5nTGF0LFxuICAgICAgcG9zXG4gICAgfSk7XG4gIH1cblxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d2ViLW1lcmNhdG9yLXZpZXdwb3J0LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@math.gl/web-mercator/dist/esm/web-mercator-viewport.js\n");

/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[4].use[1]!./node_modules/mapbox-gl/dist/mapbox-gl.css":
/*!*********************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[4].use[1]!./node_modules/mapbox-gl/dist/mapbox-gl.css ***!
  \*********************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../css-loader/dist/runtime/sourceMaps.js */ \"./node_modules/css-loader/dist/runtime/sourceMaps.js\");\n/* harmony import */ var _css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../css-loader/dist/runtime/api.js */ \"./node_modules/css-loader/dist/runtime/api.js\");\n/* harmony import */ var _css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../css-loader/dist/runtime/getUrl.js */ \"./node_modules/css-loader/dist/runtime/getUrl.js\");\n/* harmony import */ var _css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2__);\n// Imports\n\n\n\nvar ___CSS_LOADER_URL_IMPORT_0___ = new URL(/* asset import */ __webpack_require__(/*! data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23333%27%3E %3Cpath d=%27M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z%27/%3E %3C/svg%3E */ \"data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23333%27%3E %3Cpath d=%27M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z%27/%3E %3C/svg%3E\"), __webpack_require__.b);\nvar ___CSS_LOADER_URL_IMPORT_1___ = new URL(/* asset import */ __webpack_require__(/*! data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23333%27%3E %3Cpath d=%27M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z%27/%3E %3C/svg%3E */ \"data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23333%27%3E %3Cpath d=%27M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z%27/%3E %3C/svg%3E\"), __webpack_require__.b);\nvar ___CSS_LOADER_URL_IMPORT_2___ = new URL(/* asset import */ __webpack_require__(/*! data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23fff%27%3E %3Cpath d=%27M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z%27/%3E %3C/svg%3E */ \"data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23fff%27%3E %3Cpath d=%27M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z%27/%3E %3C/svg%3E\"), __webpack_require__.b);\nvar ___CSS_LOADER_URL_IMPORT_3___ = new URL(/* asset import */ __webpack_require__(/*! data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23fff%27%3E %3Cpath d=%27M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z%27/%3E %3C/svg%3E */ \"data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23fff%27%3E %3Cpath d=%27M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z%27/%3E %3C/svg%3E\"), __webpack_require__.b);\nvar ___CSS_LOADER_URL_IMPORT_4___ = new URL(/* asset import */ __webpack_require__(/*! data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23000%27%3E %3Cpath d=%27M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z%27/%3E %3C/svg%3E */ \"data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23000%27%3E %3Cpath d=%27M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z%27/%3E %3C/svg%3E\"), __webpack_require__.b);\nvar ___CSS_LOADER_URL_IMPORT_5___ = new URL(/* asset import */ __webpack_require__(/*! data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23000%27%3E %3Cpath d=%27M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z%27/%3E %3C/svg%3E */ \"data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23000%27%3E %3Cpath d=%27M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z%27/%3E %3C/svg%3E\"), __webpack_require__.b);\nvar ___CSS_LOADER_URL_IMPORT_6___ = new URL(/* asset import */ __webpack_require__(/*! data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23333%27%3E %3Cpath d=%27M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z%27/%3E %3C/svg%3E */ \"data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23333%27%3E %3Cpath d=%27M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z%27/%3E %3C/svg%3E\"), __webpack_require__.b);\nvar ___CSS_LOADER_URL_IMPORT_7___ = new URL(/* asset import */ __webpack_require__(/*! data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27%3E %3Cpath d=%27M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z%27/%3E %3C/svg%3E */ \"data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27%3E %3Cpath d=%27M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z%27/%3E %3C/svg%3E\"), __webpack_require__.b);\nvar ___CSS_LOADER_URL_IMPORT_8___ = new URL(/* asset import */ __webpack_require__(/*! data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23fff%27%3E %3Cpath d=%27M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z%27/%3E %3C/svg%3E */ \"data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23fff%27%3E %3Cpath d=%27M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z%27/%3E %3C/svg%3E\"), __webpack_require__.b);\nvar ___CSS_LOADER_URL_IMPORT_9___ = new URL(/* asset import */ __webpack_require__(/*! data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23fff%27%3E %3Cpath d=%27M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z%27/%3E %3C/svg%3E */ \"data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23fff%27%3E %3Cpath d=%27M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z%27/%3E %3C/svg%3E\"), __webpack_require__.b);\nvar ___CSS_LOADER_URL_IMPORT_10___ = new URL(/* asset import */ __webpack_require__(/*! data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23000%27%3E %3Cpath d=%27M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z%27/%3E %3C/svg%3E */ \"data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23000%27%3E %3Cpath d=%27M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z%27/%3E %3C/svg%3E\"), __webpack_require__.b);\nvar ___CSS_LOADER_URL_IMPORT_11___ = new URL(/* asset import */ __webpack_require__(/*! data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23000%27%3E %3Cpath d=%27M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z%27/%3E %3C/svg%3E */ \"data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23000%27%3E %3Cpath d=%27M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z%27/%3E %3C/svg%3E\"), __webpack_require__.b);\nvar ___CSS_LOADER_URL_IMPORT_12___ = new URL(/* asset import */ __webpack_require__(/*! data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23333%27%3E %3Cpath d=%27M10.5 14l4-8 4 8h-8z%27/%3E %3Cpath id=%27south%27 d=%27M10.5 16l4 8 4-8h-8z%27 fill=%27%23ccc%27/%3E %3C/svg%3E */ \"data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23333%27%3E %3Cpath d=%27M10.5 14l4-8 4 8h-8z%27/%3E %3Cpath id=%27south%27 d=%27M10.5 16l4 8 4-8h-8z%27 fill=%27%23ccc%27/%3E %3C/svg%3E\"), __webpack_require__.b);\nvar ___CSS_LOADER_URL_IMPORT_13___ = new URL(/* asset import */ __webpack_require__(/*! data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23fff%27%3E %3Cpath d=%27M10.5 14l4-8 4 8h-8z%27/%3E %3Cpath id=%27south%27 d=%27M10.5 16l4 8 4-8h-8z%27 fill=%27%23999%27/%3E %3C/svg%3E */ \"data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23fff%27%3E %3Cpath d=%27M10.5 14l4-8 4 8h-8z%27/%3E %3Cpath id=%27south%27 d=%27M10.5 16l4 8 4-8h-8z%27 fill=%27%23999%27/%3E %3C/svg%3E\"), __webpack_require__.b);\nvar ___CSS_LOADER_URL_IMPORT_14___ = new URL(/* asset import */ __webpack_require__(/*! data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23000%27%3E %3Cpath d=%27M10.5 14l4-8 4 8h-8z%27/%3E %3Cpath id=%27south%27 d=%27M10.5 16l4 8 4-8h-8z%27 fill=%27%23ccc%27/%3E %3C/svg%3E */ \"data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23000%27%3E %3Cpath d=%27M10.5 14l4-8 4 8h-8z%27/%3E %3Cpath id=%27south%27 d=%27M10.5 16l4 8 4-8h-8z%27 fill=%27%23ccc%27/%3E %3C/svg%3E\"), __webpack_require__.b);\nvar ___CSS_LOADER_URL_IMPORT_15___ = new URL(/* asset import */ __webpack_require__(/*! data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23333%27%3E %3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z%27/%3E %3Ccircle id=%27dot%27 cx=%2710%27 cy=%2710%27 r=%272%27/%3E %3Cpath id=%27stroke%27 d=%27M14 5l1 1-9 9-1-1 9-9z%27 display=%27none%27/%3E %3C/svg%3E */ \"data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23333%27%3E %3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z%27/%3E %3Ccircle id=%27dot%27 cx=%2710%27 cy=%2710%27 r=%272%27/%3E %3Cpath id=%27stroke%27 d=%27M14 5l1 1-9 9-1-1 9-9z%27 display=%27none%27/%3E %3C/svg%3E\"), __webpack_require__.b);\nvar ___CSS_LOADER_URL_IMPORT_16___ = new URL(/* asset import */ __webpack_require__(/*! data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23aaa%27%3E %3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z%27/%3E %3Ccircle id=%27dot%27 cx=%2710%27 cy=%2710%27 r=%272%27/%3E %3Cpath id=%27stroke%27 d=%27M14 5l1 1-9 9-1-1 9-9z%27 fill=%27red%27/%3E %3C/svg%3E */ \"data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23aaa%27%3E %3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z%27/%3E %3Ccircle id=%27dot%27 cx=%2710%27 cy=%2710%27 r=%272%27/%3E %3Cpath id=%27stroke%27 d=%27M14 5l1 1-9 9-1-1 9-9z%27 fill=%27red%27/%3E %3C/svg%3E\"), __webpack_require__.b);\nvar ___CSS_LOADER_URL_IMPORT_17___ = new URL(/* asset import */ __webpack_require__(/*! data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%2333b5e5%27%3E %3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z%27/%3E %3Ccircle id=%27dot%27 cx=%2710%27 cy=%2710%27 r=%272%27/%3E %3Cpath id=%27stroke%27 d=%27M14 5l1 1-9 9-1-1 9-9z%27 display=%27none%27/%3E %3C/svg%3E */ \"data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%2333b5e5%27%3E %3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z%27/%3E %3Ccircle id=%27dot%27 cx=%2710%27 cy=%2710%27 r=%272%27/%3E %3Cpath id=%27stroke%27 d=%27M14 5l1 1-9 9-1-1 9-9z%27 display=%27none%27/%3E %3C/svg%3E\"), __webpack_require__.b);\nvar ___CSS_LOADER_URL_IMPORT_18___ = new URL(/* asset import */ __webpack_require__(/*! data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23e58978%27%3E %3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z%27/%3E %3Ccircle id=%27dot%27 cx=%2710%27 cy=%2710%27 r=%272%27/%3E %3Cpath id=%27stroke%27 d=%27M14 5l1 1-9 9-1-1 9-9z%27 display=%27none%27/%3E %3C/svg%3E */ \"data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23e58978%27%3E %3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z%27/%3E %3Ccircle id=%27dot%27 cx=%2710%27 cy=%2710%27 r=%272%27/%3E %3Cpath id=%27stroke%27 d=%27M14 5l1 1-9 9-1-1 9-9z%27 display=%27none%27/%3E %3C/svg%3E\"), __webpack_require__.b);\nvar ___CSS_LOADER_URL_IMPORT_19___ = new URL(/* asset import */ __webpack_require__(/*! data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%2333b5e5%27%3E %3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z%27/%3E %3Ccircle id=%27dot%27 cx=%2710%27 cy=%2710%27 r=%272%27 display=%27none%27/%3E %3Cpath id=%27stroke%27 d=%27M14 5l1 1-9 9-1-1 9-9z%27 display=%27none%27/%3E %3C/svg%3E */ \"data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%2333b5e5%27%3E %3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z%27/%3E %3Ccircle id=%27dot%27 cx=%2710%27 cy=%2710%27 r=%272%27 display=%27none%27/%3E %3Cpath id=%27stroke%27 d=%27M14 5l1 1-9 9-1-1 9-9z%27 display=%27none%27/%3E %3C/svg%3E\"), __webpack_require__.b);\nvar ___CSS_LOADER_URL_IMPORT_20___ = new URL(/* asset import */ __webpack_require__(/*! data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23e54e33%27%3E %3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z%27/%3E %3Ccircle id=%27dot%27 cx=%2710%27 cy=%2710%27 r=%272%27 display=%27none%27/%3E %3Cpath id=%27stroke%27 d=%27M14 5l1 1-9 9-1-1 9-9z%27 display=%27none%27/%3E %3C/svg%3E */ \"data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23e54e33%27%3E %3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z%27/%3E %3Ccircle id=%27dot%27 cx=%2710%27 cy=%2710%27 r=%272%27 display=%27none%27/%3E %3Cpath id=%27stroke%27 d=%27M14 5l1 1-9 9-1-1 9-9z%27 display=%27none%27/%3E %3C/svg%3E\"), __webpack_require__.b);\nvar ___CSS_LOADER_URL_IMPORT_21___ = new URL(/* asset import */ __webpack_require__(/*! data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23fff%27%3E %3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z%27/%3E %3Ccircle id=%27dot%27 cx=%2710%27 cy=%2710%27 r=%272%27/%3E %3Cpath id=%27stroke%27 d=%27M14 5l1 1-9 9-1-1 9-9z%27 display=%27none%27/%3E %3C/svg%3E */ \"data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23fff%27%3E %3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z%27/%3E %3Ccircle id=%27dot%27 cx=%2710%27 cy=%2710%27 r=%272%27/%3E %3Cpath id=%27stroke%27 d=%27M14 5l1 1-9 9-1-1 9-9z%27 display=%27none%27/%3E %3C/svg%3E\"), __webpack_require__.b);\nvar ___CSS_LOADER_URL_IMPORT_22___ = new URL(/* asset import */ __webpack_require__(/*! data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23999%27%3E %3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z%27/%3E %3Ccircle id=%27dot%27 cx=%2710%27 cy=%2710%27 r=%272%27/%3E %3Cpath id=%27stroke%27 d=%27M14 5l1 1-9 9-1-1 9-9z%27 fill=%27red%27/%3E %3C/svg%3E */ \"data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23999%27%3E %3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z%27/%3E %3Ccircle id=%27dot%27 cx=%2710%27 cy=%2710%27 r=%272%27/%3E %3Cpath id=%27stroke%27 d=%27M14 5l1 1-9 9-1-1 9-9z%27 fill=%27red%27/%3E %3C/svg%3E\"), __webpack_require__.b);\nvar ___CSS_LOADER_URL_IMPORT_23___ = new URL(/* asset import */ __webpack_require__(/*! data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23000%27%3E %3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z%27/%3E %3Ccircle id=%27dot%27 cx=%2710%27 cy=%2710%27 r=%272%27/%3E %3Cpath id=%27stroke%27 d=%27M14 5l1 1-9 9-1-1 9-9z%27 display=%27none%27/%3E %3C/svg%3E */ \"data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23000%27%3E %3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z%27/%3E %3Ccircle id=%27dot%27 cx=%2710%27 cy=%2710%27 r=%272%27/%3E %3Cpath id=%27stroke%27 d=%27M14 5l1 1-9 9-1-1 9-9z%27 display=%27none%27/%3E %3C/svg%3E\"), __webpack_require__.b);\nvar ___CSS_LOADER_URL_IMPORT_24___ = new URL(/* asset import */ __webpack_require__(/*! data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23666%27%3E %3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z%27/%3E %3Ccircle id=%27dot%27 cx=%2710%27 cy=%2710%27 r=%272%27/%3E %3Cpath id=%27stroke%27 d=%27M14 5l1 1-9 9-1-1 9-9z%27 fill=%27red%27/%3E %3C/svg%3E */ \"data:image/svg+xml;charset=utf-8,%3Csvg width=%2729%27 height=%2729%27 viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill=%27%23666%27%3E %3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z%27/%3E %3Ccircle id=%27dot%27 cx=%2710%27 cy=%2710%27 r=%272%27/%3E %3Cpath id=%27stroke%27 d=%27M14 5l1 1-9 9-1-1 9-9z%27 fill=%27red%27/%3E %3C/svg%3E\"), __webpack_require__.b);\nvar ___CSS_LOADER_URL_IMPORT_25___ = new URL(/* asset import */ __webpack_require__(/*! data:image/svg+xml;charset=utf-8,%3Csvg width=%2788%27 height=%2723%27 viewBox=%270 0 88 23%27 xmlns=%27http://www.w3.org/2000/svg%27 xmlns:xlink=%27http://www.w3.org/1999/xlink%27 fill-rule=%27evenodd%27%3E %3Cdefs%3E %3Cpath id=%27logo%27 d=%27M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z%27/%3E %3Cpath id=%27text%27 d=%27M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z%27/%3E %3C/defs%3E %3Cmask id=%27clip%27%3E %3Crect x=%270%27 y=%270%27 width=%27100%25%27 height=%27100%25%27 fill=%27white%27/%3E %3Cuse xlink:href=%27%23logo%27/%3E %3Cuse xlink:href=%27%23text%27/%3E %3C/mask%3E %3Cg id=%27outline%27 opacity=%270.3%27 stroke=%27%23000%27 stroke-width=%273%27%3E %3Ccircle mask=%27url%28%23clip%29%27 cx=%2711.5%27 cy=%2711.5%27 r=%279.25%27/%3E %3Cuse xlink:href=%27%23text%27 mask=%27url%28%23clip%29%27/%3E %3C/g%3E %3Cg id=%27fill%27 opacity=%270.9%27 fill=%27%23fff%27%3E %3Cuse xlink:href=%27%23logo%27/%3E %3Cuse xlink:href=%27%23text%27/%3E %3C/g%3E %3C/svg%3E */ \"data:image/svg+xml;charset=utf-8,%3Csvg width=%2788%27 height=%2723%27 viewBox=%270 0 88 23%27 xmlns=%27http://www.w3.org/2000/svg%27 xmlns:xlink=%27http://www.w3.org/1999/xlink%27 fill-rule=%27evenodd%27%3E %3Cdefs%3E %3Cpath id=%27logo%27 d=%27M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z%27/%3E %3Cpath id=%27text%27 d=%27M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z%27/%3E %3C/defs%3E %3Cmask id=%27clip%27%3E %3Crect x=%270%27 y=%270%27 width=%27100%25%27 height=%27100%25%27 fill=%27white%27/%3E %3Cuse xlink:href=%27%23logo%27/%3E %3Cuse xlink:href=%27%23text%27/%3E %3C/mask%3E %3Cg id=%27outline%27 opacity=%270.3%27 stroke=%27%23000%27 stroke-width=%273%27%3E %3Ccircle mask=%27url%28%23clip%29%27 cx=%2711.5%27 cy=%2711.5%27 r=%279.25%27/%3E %3Cuse xlink:href=%27%23text%27 mask=%27url%28%23clip%29%27/%3E %3C/g%3E %3Cg id=%27fill%27 opacity=%270.9%27 fill=%27%23fff%27%3E %3Cuse xlink:href=%27%23logo%27/%3E %3Cuse xlink:href=%27%23text%27/%3E %3C/g%3E %3C/svg%3E\"), __webpack_require__.b);\nvar ___CSS_LOADER_URL_IMPORT_26___ = new URL(/* asset import */ __webpack_require__(/*! data:image/svg+xml;charset=utf-8,%3Csvg width=%2788%27 height=%2723%27 viewBox=%270 0 88 23%27 xmlns=%27http://www.w3.org/2000/svg%27 xmlns:xlink=%27http://www.w3.org/1999/xlink%27 fill-rule=%27evenodd%27%3E %3Cdefs%3E %3Cpath id=%27logo%27 d=%27M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z%27/%3E %3Cpath id=%27text%27 d=%27M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z%27/%3E %3C/defs%3E %3Cmask id=%27clip%27%3E %3Crect x=%270%27 y=%270%27 width=%27100%25%27 height=%27100%25%27 fill=%27white%27/%3E %3Cuse xlink:href=%27%23logo%27/%3E %3Cuse xlink:href=%27%23text%27/%3E %3C/mask%3E %3Cg id=%27outline%27 opacity=%271%27 stroke=%27%23000%27 stroke-width=%273%27%3E %3Ccircle mask=%27url%28%23clip%29%27 cx=%2711.5%27 cy=%2711.5%27 r=%279.25%27/%3E %3Cuse xlink:href=%27%23text%27 mask=%27url%28%23clip%29%27/%3E %3C/g%3E %3Cg id=%27fill%27 opacity=%271%27 fill=%27%23fff%27%3E %3Cuse xlink:href=%27%23logo%27/%3E %3Cuse xlink:href=%27%23text%27/%3E %3C/g%3E %3C/svg%3E */ \"data:image/svg+xml;charset=utf-8,%3Csvg width=%2788%27 height=%2723%27 viewBox=%270 0 88 23%27 xmlns=%27http://www.w3.org/2000/svg%27 xmlns:xlink=%27http://www.w3.org/1999/xlink%27 fill-rule=%27evenodd%27%3E %3Cdefs%3E %3Cpath id=%27logo%27 d=%27M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z%27/%3E %3Cpath id=%27text%27 d=%27M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z%27/%3E %3C/defs%3E %3Cmask id=%27clip%27%3E %3Crect x=%270%27 y=%270%27 width=%27100%25%27 height=%27100%25%27 fill=%27white%27/%3E %3Cuse xlink:href=%27%23logo%27/%3E %3Cuse xlink:href=%27%23text%27/%3E %3C/mask%3E %3Cg id=%27outline%27 opacity=%271%27 stroke=%27%23000%27 stroke-width=%273%27%3E %3Ccircle mask=%27url%28%23clip%29%27 cx=%2711.5%27 cy=%2711.5%27 r=%279.25%27/%3E %3Cuse xlink:href=%27%23text%27 mask=%27url%28%23clip%29%27/%3E %3C/g%3E %3Cg id=%27fill%27 opacity=%271%27 fill=%27%23fff%27%3E %3Cuse xlink:href=%27%23logo%27/%3E %3Cuse xlink:href=%27%23text%27/%3E %3C/g%3E %3C/svg%3E\"), __webpack_require__.b);\nvar ___CSS_LOADER_URL_IMPORT_27___ = new URL(/* asset import */ __webpack_require__(/*! data:image/svg+xml;charset=utf-8,%3Csvg width=%2788%27 height=%2723%27 viewBox=%270 0 88 23%27 xmlns=%27http://www.w3.org/2000/svg%27 xmlns:xlink=%27http://www.w3.org/1999/xlink%27 fill-rule=%27evenodd%27%3E %3Cdefs%3E %3Cpath id=%27logo%27 d=%27M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z%27/%3E %3Cpath id=%27text%27 d=%27M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z%27/%3E %3C/defs%3E %3Cmask id=%27clip%27%3E %3Crect x=%270%27 y=%270%27 width=%27100%25%27 height=%27100%25%27 fill=%27white%27/%3E %3Cuse xlink:href=%27%23logo%27/%3E %3Cuse xlink:href=%27%23text%27/%3E %3C/mask%3E %3Cg id=%27outline%27 opacity=%271%27 stroke=%27%23fff%27 stroke-width=%273%27 fill=%27%23fff%27%3E %3Ccircle mask=%27url%28%23clip%29%27 cx=%2711.5%27 cy=%2711.5%27 r=%279.25%27/%3E %3Cuse xlink:href=%27%23text%27 mask=%27url%28%23clip%29%27/%3E %3C/g%3E %3Cg id=%27fill%27 opacity=%271%27 fill=%27%23000%27%3E %3Cuse xlink:href=%27%23logo%27/%3E %3Cuse xlink:href=%27%23text%27/%3E %3C/g%3E %3C/svg%3E */ \"data:image/svg+xml;charset=utf-8,%3Csvg width=%2788%27 height=%2723%27 viewBox=%270 0 88 23%27 xmlns=%27http://www.w3.org/2000/svg%27 xmlns:xlink=%27http://www.w3.org/1999/xlink%27 fill-rule=%27evenodd%27%3E %3Cdefs%3E %3Cpath id=%27logo%27 d=%27M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z%27/%3E %3Cpath id=%27text%27 d=%27M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z%27/%3E %3C/defs%3E %3Cmask id=%27clip%27%3E %3Crect x=%270%27 y=%270%27 width=%27100%25%27 height=%27100%25%27 fill=%27white%27/%3E %3Cuse xlink:href=%27%23logo%27/%3E %3Cuse xlink:href=%27%23text%27/%3E %3C/mask%3E %3Cg id=%27outline%27 opacity=%271%27 stroke=%27%23fff%27 stroke-width=%273%27 fill=%27%23fff%27%3E %3Ccircle mask=%27url%28%23clip%29%27 cx=%2711.5%27 cy=%2711.5%27 r=%279.25%27/%3E %3Cuse xlink:href=%27%23text%27 mask=%27url%28%23clip%29%27/%3E %3C/g%3E %3Cg id=%27fill%27 opacity=%271%27 fill=%27%23000%27%3E %3Cuse xlink:href=%27%23logo%27/%3E %3Cuse xlink:href=%27%23text%27/%3E %3C/g%3E %3C/svg%3E\"), __webpack_require__.b);\nvar ___CSS_LOADER_URL_IMPORT_28___ = new URL(/* asset import */ __webpack_require__(/*! data:image/svg+xml;charset=utf-8,%3Csvg width=%2724%27 height=%2724%27 viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill-rule=%27evenodd%27%3E %3Cpath d=%27M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0%27/%3E %3C/svg%3E */ \"data:image/svg+xml;charset=utf-8,%3Csvg width=%2724%27 height=%2724%27 viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill-rule=%27evenodd%27%3E %3Cpath d=%27M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0%27/%3E %3C/svg%3E\"), __webpack_require__.b);\nvar ___CSS_LOADER_URL_IMPORT_29___ = new URL(/* asset import */ __webpack_require__(/*! data:image/svg+xml;charset=utf-8,%3Csvg width=%2724%27 height=%2724%27 viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill-rule=%27evenodd%27 fill=%27%23fff%27%3E %3Cpath d=%27M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0%27/%3E %3C/svg%3E */ \"data:image/svg+xml;charset=utf-8,%3Csvg width=%2724%27 height=%2724%27 viewBox=%270 0 20 20%27 xmlns=%27http://www.w3.org/2000/svg%27 fill-rule=%27evenodd%27 fill=%27%23fff%27%3E %3Cpath d=%27M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0%27/%3E %3C/svg%3E\"), __webpack_require__.b);\nvar ___CSS_LOADER_EXPORT___ = _css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = _css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_0___);\nvar ___CSS_LOADER_URL_REPLACEMENT_1___ = _css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_1___);\nvar ___CSS_LOADER_URL_REPLACEMENT_2___ = _css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_2___);\nvar ___CSS_LOADER_URL_REPLACEMENT_3___ = _css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_3___);\nvar ___CSS_LOADER_URL_REPLACEMENT_4___ = _css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_4___);\nvar ___CSS_LOADER_URL_REPLACEMENT_5___ = _css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_5___);\nvar ___CSS_LOADER_URL_REPLACEMENT_6___ = _css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_6___);\nvar ___CSS_LOADER_URL_REPLACEMENT_7___ = _css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_7___);\nvar ___CSS_LOADER_URL_REPLACEMENT_8___ = _css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_8___);\nvar ___CSS_LOADER_URL_REPLACEMENT_9___ = _css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_9___);\nvar ___CSS_LOADER_URL_REPLACEMENT_10___ = _css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_10___);\nvar ___CSS_LOADER_URL_REPLACEMENT_11___ = _css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_11___);\nvar ___CSS_LOADER_URL_REPLACEMENT_12___ = _css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_12___);\nvar ___CSS_LOADER_URL_REPLACEMENT_13___ = _css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_13___);\nvar ___CSS_LOADER_URL_REPLACEMENT_14___ = _css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_14___);\nvar ___CSS_LOADER_URL_REPLACEMENT_15___ = _css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_15___);\nvar ___CSS_LOADER_URL_REPLACEMENT_16___ = _css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_16___);\nvar ___CSS_LOADER_URL_REPLACEMENT_17___ = _css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_17___);\nvar ___CSS_LOADER_URL_REPLACEMENT_18___ = _css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_18___);\nvar ___CSS_LOADER_URL_REPLACEMENT_19___ = _css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_19___);\nvar ___CSS_LOADER_URL_REPLACEMENT_20___ = _css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_20___);\nvar ___CSS_LOADER_URL_REPLACEMENT_21___ = _css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_21___);\nvar ___CSS_LOADER_URL_REPLACEMENT_22___ = _css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_22___);\nvar ___CSS_LOADER_URL_REPLACEMENT_23___ = _css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_23___);\nvar ___CSS_LOADER_URL_REPLACEMENT_24___ = _css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_24___);\nvar ___CSS_LOADER_URL_REPLACEMENT_25___ = _css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_25___);\nvar ___CSS_LOADER_URL_REPLACEMENT_26___ = _css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_26___);\nvar ___CSS_LOADER_URL_REPLACEMENT_27___ = _css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_27___);\nvar ___CSS_LOADER_URL_REPLACEMENT_28___ = _css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_28___);\nvar ___CSS_LOADER_URL_REPLACEMENT_29___ = _css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_29___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.mapboxgl-map{font:12px/20px Helvetica Neue,Arial,Helvetica,sans-serif;overflow:hidden;position:relative;-webkit-tap-highlight-color:rgb(0 0 0/0)}.mapboxgl-canvas{position:absolute;left:0;top:0}.mapboxgl-map:-webkit-full-screen{width:100%;height:100%}.mapboxgl-canary{background-color:salmon}.mapboxgl-canvas-container.mapboxgl-interactive,.mapboxgl-ctrl-group button.mapboxgl-ctrl-compass{cursor:grab;-webkit-user-select:none;user-select:none}.mapboxgl-canvas-container.mapboxgl-interactive.mapboxgl-track-pointer{cursor:pointer}.mapboxgl-canvas-container.mapboxgl-interactive:active,.mapboxgl-ctrl-group button.mapboxgl-ctrl-compass:active{cursor:grabbing}.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate,.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate .mapboxgl-canvas{touch-action:pan-x pan-y}.mapboxgl-canvas-container.mapboxgl-touch-drag-pan,.mapboxgl-canvas-container.mapboxgl-touch-drag-pan .mapboxgl-canvas{touch-action:pinch-zoom}.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate.mapboxgl-touch-drag-pan,.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate.mapboxgl-touch-drag-pan .mapboxgl-canvas{touch-action:none}.mapboxgl-ctrl-bottom-left,.mapboxgl-ctrl-bottom-right,.mapboxgl-ctrl-top-left,.mapboxgl-ctrl-top-right{position:absolute;pointer-events:none;z-index:2}.mapboxgl-ctrl-top-left{top:0;left:0}.mapboxgl-ctrl-top-right{top:0;right:0}.mapboxgl-ctrl-bottom-left{bottom:0;left:0}.mapboxgl-ctrl-bottom-right{right:0;bottom:0}.mapboxgl-ctrl{clear:both;pointer-events:auto;transform:translate(0)}.mapboxgl-ctrl-top-left .mapboxgl-ctrl{margin:10px 0 0 10px;float:left}.mapboxgl-ctrl-top-right .mapboxgl-ctrl{margin:10px 10px 0 0;float:right}.mapboxgl-ctrl-bottom-left .mapboxgl-ctrl{margin:0 0 10px 10px;float:left}.mapboxgl-ctrl-bottom-right .mapboxgl-ctrl{margin:0 10px 10px 0;float:right}.mapboxgl-ctrl-group{border-radius:4px;background:#fff}.mapboxgl-ctrl-group:not(:empty){box-shadow:0 0 0 2px rgb(0 0 0/10%)}@media (-ms-high-contrast:active){.mapboxgl-ctrl-group:not(:empty){box-shadow:0 0 0 2px ButtonText}}.mapboxgl-ctrl-group button{width:29px;height:29px;display:block;padding:0;outline:none;border:0;box-sizing:border-box;background-color:transparent;cursor:pointer;overflow:hidden}.mapboxgl-ctrl-group button+button{border-top:1px solid #ddd}.mapboxgl-ctrl button .mapboxgl-ctrl-icon{display:block;width:100%;height:100%;background-repeat:no-repeat;background-position:50%}@media (-ms-high-contrast:active){.mapboxgl-ctrl-icon{background-color:transparent}.mapboxgl-ctrl-group button+button{border-top:1px solid ButtonText}}.mapboxgl-ctrl-attrib-button:focus,.mapboxgl-ctrl-group button:focus{box-shadow:0 0 2px 2px rgb(0 150 255/100%)}.mapboxgl-ctrl button:disabled{cursor:not-allowed}.mapboxgl-ctrl button:disabled .mapboxgl-ctrl-icon{opacity:.25}.mapboxgl-ctrl-group button:first-child{border-radius:4px 4px 0 0}.mapboxgl-ctrl-group button:last-child{border-radius:0 0 4px 4px}.mapboxgl-ctrl-group button:only-child{border-radius:inherit}.mapboxgl-ctrl button:not(:disabled):hover{background-color:rgb(0 0 0/5%)}.mapboxgl-ctrl-group button:focus:focus-visible{box-shadow:0 0 2px 2px rgb(0 150 255/100%)}.mapboxgl-ctrl-group button:focus:not(:focus-visible){box-shadow:none}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url(${___CSS_LOADER_URL_REPLACEMENT_0___})}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url(${___CSS_LOADER_URL_REPLACEMENT_1___})}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url(${___CSS_LOADER_URL_REPLACEMENT_2___})}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url(${___CSS_LOADER_URL_REPLACEMENT_3___})}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url(${___CSS_LOADER_URL_REPLACEMENT_4___})}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url(${___CSS_LOADER_URL_REPLACEMENT_5___})}}.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url(${___CSS_LOADER_URL_REPLACEMENT_6___})}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url(${___CSS_LOADER_URL_REPLACEMENT_7___})}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url(${___CSS_LOADER_URL_REPLACEMENT_8___})}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url(${___CSS_LOADER_URL_REPLACEMENT_9___})}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url(${___CSS_LOADER_URL_REPLACEMENT_10___})}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url(${___CSS_LOADER_URL_REPLACEMENT_11___})}}.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url(${___CSS_LOADER_URL_REPLACEMENT_12___})}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url(${___CSS_LOADER_URL_REPLACEMENT_13___})}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url(${___CSS_LOADER_URL_REPLACEMENT_14___})}}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url(${___CSS_LOADER_URL_REPLACEMENT_15___})}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url(${___CSS_LOADER_URL_REPLACEMENT_16___})}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active .mapboxgl-ctrl-icon{background-image:url(${___CSS_LOADER_URL_REPLACEMENT_17___})}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active-error .mapboxgl-ctrl-icon{background-image:url(${___CSS_LOADER_URL_REPLACEMENT_18___})}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background .mapboxgl-ctrl-icon{background-image:url(${___CSS_LOADER_URL_REPLACEMENT_19___})}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background-error .mapboxgl-ctrl-icon{background-image:url(${___CSS_LOADER_URL_REPLACEMENT_20___})}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-waiting .mapboxgl-ctrl-icon{animation:mapboxgl-spin 2s linear infinite}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url(${___CSS_LOADER_URL_REPLACEMENT_21___})}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url(${___CSS_LOADER_URL_REPLACEMENT_22___})}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active .mapboxgl-ctrl-icon{background-image:url(${___CSS_LOADER_URL_REPLACEMENT_17___})}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active-error .mapboxgl-ctrl-icon{background-image:url(${___CSS_LOADER_URL_REPLACEMENT_18___})}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background .mapboxgl-ctrl-icon{background-image:url(${___CSS_LOADER_URL_REPLACEMENT_19___})}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background-error .mapboxgl-ctrl-icon{background-image:url(${___CSS_LOADER_URL_REPLACEMENT_20___})}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url(${___CSS_LOADER_URL_REPLACEMENT_23___})}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url(${___CSS_LOADER_URL_REPLACEMENT_24___})}}@keyframes mapboxgl-spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}a.mapboxgl-ctrl-logo{width:88px;height:23px;margin:0 0 -4px -4px;display:block;background-repeat:no-repeat;cursor:pointer;overflow:hidden;background-image:url(${___CSS_LOADER_URL_REPLACEMENT_25___})}a.mapboxgl-ctrl-logo.mapboxgl-compact{width:23px}@media (-ms-high-contrast:active){a.mapboxgl-ctrl-logo{background-color:transparent;background-image:url(${___CSS_LOADER_URL_REPLACEMENT_26___})}}@media (-ms-high-contrast:black-on-white){a.mapboxgl-ctrl-logo{background-image:url(${___CSS_LOADER_URL_REPLACEMENT_27___})}}.mapboxgl-ctrl.mapboxgl-ctrl-attrib{padding:0 5px;background-color:rgb(255 255 255/50%);margin:0}@media screen{.mapboxgl-ctrl-attrib.mapboxgl-compact{min-height:20px;padding:2px 24px 2px 0;margin:10px;position:relative;background-color:#fff;border-radius:12px}.mapboxgl-ctrl-attrib.mapboxgl-compact-show{padding:2px 28px 2px 8px;visibility:visible}.mapboxgl-ctrl-bottom-left>.mapboxgl-ctrl-attrib.mapboxgl-compact-show,.mapboxgl-ctrl-top-left>.mapboxgl-ctrl-attrib.mapboxgl-compact-show{padding:2px 8px 2px 28px;border-radius:12px}.mapboxgl-ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner{display:none}.mapboxgl-ctrl-attrib-button{display:none;cursor:pointer;position:absolute;background-image:url(${___CSS_LOADER_URL_REPLACEMENT_28___});background-color:rgb(255 255 255/50%);width:24px;height:24px;box-sizing:border-box;border-radius:12px;outline:none;top:0;right:0;border:0}.mapboxgl-ctrl-bottom-left .mapboxgl-ctrl-attrib-button,.mapboxgl-ctrl-top-left .mapboxgl-ctrl-attrib-button{left:0}.mapboxgl-ctrl-attrib.mapboxgl-compact-show .mapboxgl-ctrl-attrib-inner,.mapboxgl-ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-button{display:block}.mapboxgl-ctrl-attrib.mapboxgl-compact-show .mapboxgl-ctrl-attrib-button{background-color:rgb(0 0 0/5%)}.mapboxgl-ctrl-bottom-right>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{bottom:0;right:0}.mapboxgl-ctrl-top-right>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{top:0;right:0}.mapboxgl-ctrl-top-left>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{top:0;left:0}.mapboxgl-ctrl-bottom-left>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{bottom:0;left:0}}@media screen and (-ms-high-contrast:active){.mapboxgl-ctrl-attrib.mapboxgl-compact:after{background-image:url(${___CSS_LOADER_URL_REPLACEMENT_29___})}}@media screen and (-ms-high-contrast:black-on-white){.mapboxgl-ctrl-attrib.mapboxgl-compact:after{background-image:url(${___CSS_LOADER_URL_REPLACEMENT_28___})}}.mapboxgl-ctrl-attrib a{color:rgb(0 0 0/75%);text-decoration:none}.mapboxgl-ctrl-attrib a:hover{color:inherit;text-decoration:underline}.mapboxgl-ctrl-attrib .mapbox-improve-map{font-weight:700;margin-left:2px}.mapboxgl-attrib-empty{display:none}.mapboxgl-ctrl-scale{background-color:rgb(255 255 255/75%);font-size:10px;border:2px solid #333;border-top:#333;padding:0 5px;color:#333;box-sizing:border-box;white-space:nowrap}.mapboxgl-popup{position:absolute;top:0;left:0;display:flex;will-change:transform;pointer-events:none}.mapboxgl-popup-anchor-top,.mapboxgl-popup-anchor-top-left,.mapboxgl-popup-anchor-top-right{flex-direction:column}.mapboxgl-popup-anchor-bottom,.mapboxgl-popup-anchor-bottom-left,.mapboxgl-popup-anchor-bottom-right{flex-direction:column-reverse}.mapboxgl-popup-anchor-left{flex-direction:row}.mapboxgl-popup-anchor-right{flex-direction:row-reverse}.mapboxgl-popup-tip{width:0;height:0;border:10px solid transparent;z-index:1}.mapboxgl-popup-anchor-top .mapboxgl-popup-tip{align-self:center;border-top:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-top-left .mapboxgl-popup-tip{align-self:flex-start;border-top:none;border-left:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-top-right .mapboxgl-popup-tip{align-self:flex-end;border-top:none;border-right:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-bottom .mapboxgl-popup-tip{align-self:center;border-bottom:none;border-top-color:#fff}.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-tip{align-self:flex-start;border-bottom:none;border-left:none;border-top-color:#fff}.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-tip{align-self:flex-end;border-bottom:none;border-right:none;border-top-color:#fff}.mapboxgl-popup-anchor-left .mapboxgl-popup-tip{align-self:center;border-left:none;border-right-color:#fff}.mapboxgl-popup-anchor-right .mapboxgl-popup-tip{align-self:center;border-right:none;border-left-color:#fff}.mapboxgl-popup-close-button{position:absolute;right:0;top:0;border:0;border-radius:0 3px 0 0;cursor:pointer;background-color:transparent}.mapboxgl-popup-close-button:hover{background-color:rgb(0 0 0/5%)}.mapboxgl-popup-content{position:relative;background:#fff;border-radius:3px;box-shadow:0 1px 2px rgb(0 0 0/10%);padding:10px 10px 15px;pointer-events:auto}.mapboxgl-popup-anchor-top-left .mapboxgl-popup-content{border-top-left-radius:0}.mapboxgl-popup-anchor-top-right .mapboxgl-popup-content{border-top-right-radius:0}.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-content{border-bottom-left-radius:0}.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-content{border-bottom-right-radius:0}.mapboxgl-popup-track-pointer{display:none}.mapboxgl-popup-track-pointer *{pointer-events:none;user-select:none}.mapboxgl-map:hover .mapboxgl-popup-track-pointer{display:flex}.mapboxgl-map:active .mapboxgl-popup-track-pointer{display:none}.mapboxgl-marker{position:absolute;top:0;left:0;will-change:transform;opacity:1;transition:opacity .2s}.mapboxgl-user-location-dot,.mapboxgl-user-location-dot:before{background-color:#1da1f2;width:15px;height:15px;border-radius:50%}.mapboxgl-user-location-dot:before{content:\"\";position:absolute;animation:mapboxgl-user-location-dot-pulse 2s infinite}.mapboxgl-user-location-dot:after{border-radius:50%;border:2px solid #fff;content:\"\";height:19px;left:-2px;position:absolute;top:-2px;width:19px;box-sizing:border-box;box-shadow:0 0 3px rgb(0 0 0/35%)}.mapboxgl-user-location-show-heading .mapboxgl-user-location-heading{width:0;height:0}.mapboxgl-user-location-show-heading .mapboxgl-user-location-heading:after,.mapboxgl-user-location-show-heading .mapboxgl-user-location-heading:before{content:\"\";border-bottom:7.5px solid #4aa1eb;position:absolute}.mapboxgl-user-location-show-heading .mapboxgl-user-location-heading:before{border-left:7.5px solid transparent;transform:translateY(-28px) skewY(-20deg)}.mapboxgl-user-location-show-heading .mapboxgl-user-location-heading:after{border-right:7.5px solid transparent;transform:translate(7.5px,-28px) skewY(20deg)}@keyframes mapboxgl-user-location-dot-pulse{0%{transform:scale(1);opacity:1}70%{transform:scale(3);opacity:0}to{transform:scale(1);opacity:0}}.mapboxgl-user-location-dot-stale{background-color:#aaa}.mapboxgl-user-location-dot-stale:after{display:none}.mapboxgl-user-location-accuracy-circle{background-color:rgba(29,161,242,.2);width:1px;height:1px;border-radius:100%}.mapboxgl-crosshair,.mapboxgl-crosshair .mapboxgl-interactive,.mapboxgl-crosshair .mapboxgl-interactive:active{cursor:crosshair}.mapboxgl-boxzoom{position:absolute;top:0;left:0;width:0;height:0;background:#fff;border:2px dotted #202020;opacity:.5}@media print{.mapbox-improve-map{display:none}}.mapboxgl-scroll-zoom-blocker,.mapboxgl-touch-pan-blocker{color:#fff;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif;justify-content:center;text-align:center;position:absolute;display:flex;align-items:center;top:0;left:0;width:100%;height:100%;background:rgb(0 0 0/70%);opacity:0;pointer-events:none;transition:opacity .75s ease-in-out;transition-delay:1s}.mapboxgl-scroll-zoom-blocker-show,.mapboxgl-touch-pan-blocker-show{opacity:1;transition:opacity .1s ease-in-out}.mapboxgl-canvas-container.mapboxgl-touch-pan-blocker-override.mapboxgl-scrollable-page,.mapboxgl-canvas-container.mapboxgl-touch-pan-blocker-override.mapboxgl-scrollable-page .mapboxgl-canvas{touch-action:pan-x pan-y}`, \"\",{\"version\":3,\"sources\":[\"webpack://./node_modules/mapbox-gl/dist/mapbox-gl.css\"],\"names\":[],\"mappings\":\"AAAA,cAAc,wDAAwD,CAAC,eAAe,CAAC,iBAAiB,CAAC,wCAAwC,CAAC,iBAAiB,iBAAiB,CAAC,MAAM,CAAC,KAAK,CAAC,kCAAkC,UAAU,CAAC,WAAW,CAAC,iBAAiB,uBAAuB,CAAC,kGAAkG,WAAW,CAAC,wBAAwB,CAAC,gBAAgB,CAAC,uEAAuE,cAAc,CAAC,gHAAgH,eAAe,CAAC,6HAA6H,wBAAwB,CAAC,uHAAuH,uBAAuB,CAAC,6KAA6K,iBAAiB,CAAC,wGAAwG,iBAAiB,CAAC,mBAAmB,CAAC,SAAS,CAAC,wBAAwB,KAAK,CAAC,MAAM,CAAC,yBAAyB,KAAK,CAAC,OAAO,CAAC,2BAA2B,QAAQ,CAAC,MAAM,CAAC,4BAA4B,OAAO,CAAC,QAAQ,CAAC,eAAe,UAAU,CAAC,mBAAmB,CAAC,sBAAsB,CAAC,uCAAuC,oBAAoB,CAAC,UAAU,CAAC,wCAAwC,oBAAoB,CAAC,WAAW,CAAC,0CAA0C,oBAAoB,CAAC,UAAU,CAAC,2CAA2C,oBAAoB,CAAC,WAAW,CAAC,qBAAqB,iBAAiB,CAAC,eAAe,CAAC,iCAAiC,mCAAmC,CAAC,kCAAkC,iCAAiC,+BAA+B,CAAC,CAAC,4BAA4B,UAAU,CAAC,WAAW,CAAC,aAAa,CAAC,SAAS,CAAC,YAAY,CAAC,QAAQ,CAAC,qBAAqB,CAAC,4BAA4B,CAAC,cAAc,CAAC,eAAe,CAAC,mCAAmC,yBAAyB,CAAC,0CAA0C,aAAa,CAAC,UAAU,CAAC,WAAW,CAAC,2BAA2B,CAAC,uBAAuB,CAAC,kCAAkC,oBAAoB,4BAA4B,CAAC,mCAAmC,+BAA+B,CAAC,CAAC,qEAAqE,0CAA0C,CAAC,+BAA+B,kBAAkB,CAAC,mDAAmD,WAAW,CAAC,wCAAwC,yBAAyB,CAAC,uCAAuC,yBAAyB,CAAC,uCAAuC,qBAAqB,CAAC,2CAA2C,8BAA8B,CAAC,gDAAgD,0CAA0C,CAAC,sDAAsD,eAAe,CAAC,iEAAiE,wDAA+Q,CAAC,gEAAgE,wDAAiX,CAAC,kCAAkC,iEAAiE,wDAA+Q,CAAC,gEAAgE,wDAAiX,CAAC,CAAC,0CAA0C,iEAAiE,wDAA+Q,CAAC,gEAAgE,wDAAiX,CAAC,CAAC,mEAAmE,wDAA2c,CAAC,+DAA+D,wDAAoc,CAAC,kCAAkC,mEAAmE,wDAA2c,CAAC,+DAA+D,wDAAkd,CAAC,CAAC,0CAA0C,mEAAmE,yDAA2c,CAAC,+DAA+D,yDAAkd,CAAC,CAAC,gEAAgE,yDAA4Q,CAAC,kCAAkC,gEAAgE,yDAA4Q,CAAC,CAAC,0CAA0C,gEAAgE,yDAA4Q,CAAC,CAAC,kEAAkE,yDAA2f,CAAC,2EAA2E,yDAAuf,CAAC,iGAAiG,yDAA8f,CAAC,uGAAuG,yDAA8f,CAAC,qGAAqG,yDAA6gB,CAAC,2GAA2G,yDAA6gB,CAAC,kGAAkG,0CAA0C,CAAC,kCAAkC,kEAAkE,yDAA2f,CAAC,2EAA2E,yDAAuf,CAAC,iGAAiG,yDAA8f,CAAC,uGAAuG,yDAA8f,CAAC,qGAAqG,yDAA6gB,CAAC,2GAA2G,yDAA6gB,CAAC,CAAC,0CAA0C,kEAAkE,yDAA2f,CAAC,2EAA2E,yDAAuf,CAAC,CAAC,yBAAyB,GAAG,sBAAsB,CAAC,GAAG,uBAAuB,CAAC,CAAC,qBAAqB,UAAU,CAAC,WAAW,CAAC,oBAAoB,CAAC,aAAa,CAAC,2BAA2B,CAAC,cAAc,CAAC,eAAe,CAAC,yDAAwoG,CAAC,sCAAsC,UAAU,CAAC,kCAAkC,qBAAqB,4BAA4B,CAAC,yDAAooG,CAAC,CAAC,0CAA0C,qBAAqB,yDAAkpG,CAAC,CAAC,oCAAoC,aAAa,CAAC,qCAAqC,CAAC,QAAQ,CAAC,cAAc,uCAAuC,eAAe,CAAC,sBAAsB,CAAC,WAAW,CAAC,iBAAiB,CAAC,qBAAqB,CAAC,kBAAkB,CAAC,4CAA4C,wBAAwB,CAAC,kBAAkB,CAAC,2IAA2I,wBAAwB,CAAC,kBAAkB,CAAC,mEAAmE,YAAY,CAAC,6BAA6B,YAAY,CAAC,cAAc,CAAC,iBAAiB,CAAC,yDAAqS,CAAC,qCAAqC,CAAC,UAAU,CAAC,WAAW,CAAC,qBAAqB,CAAC,kBAAkB,CAAC,YAAY,CAAC,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,6GAA6G,MAAM,CAAC,4IAA4I,aAAa,CAAC,yEAAyE,8BAA8B,CAAC,yEAAyE,QAAQ,CAAC,OAAO,CAAC,sEAAsE,KAAK,CAAC,OAAO,CAAC,qEAAqE,KAAK,CAAC,MAAM,CAAC,wEAAwE,QAAQ,CAAC,MAAM,CAAC,CAAC,6CAA6C,6CAA6C,yDAAmT,CAAC,CAAC,qDAAqD,6CAA6C,yDAAqS,CAAC,CAAC,wBAAwB,oBAAoB,CAAC,oBAAoB,CAAC,8BAA8B,aAAa,CAAC,yBAAyB,CAAC,0CAA0C,eAAe,CAAC,eAAe,CAAC,uBAAuB,YAAY,CAAC,qBAAqB,qCAAqC,CAAC,cAAc,CAAC,qBAAqB,CAAC,eAAe,CAAC,aAAa,CAAC,UAAU,CAAC,qBAAqB,CAAC,kBAAkB,CAAC,gBAAgB,iBAAiB,CAAC,KAAK,CAAC,MAAM,CAAC,YAAY,CAAC,qBAAqB,CAAC,mBAAmB,CAAC,4FAA4F,qBAAqB,CAAC,qGAAqG,6BAA6B,CAAC,4BAA4B,kBAAkB,CAAC,6BAA6B,0BAA0B,CAAC,oBAAoB,OAAO,CAAC,QAAQ,CAAC,6BAA6B,CAAC,SAAS,CAAC,+CAA+C,iBAAiB,CAAC,eAAe,CAAC,wBAAwB,CAAC,oDAAoD,qBAAqB,CAAC,eAAe,CAAC,gBAAgB,CAAC,wBAAwB,CAAC,qDAAqD,mBAAmB,CAAC,eAAe,CAAC,iBAAiB,CAAC,wBAAwB,CAAC,kDAAkD,iBAAiB,CAAC,kBAAkB,CAAC,qBAAqB,CAAC,uDAAuD,qBAAqB,CAAC,kBAAkB,CAAC,gBAAgB,CAAC,qBAAqB,CAAC,wDAAwD,mBAAmB,CAAC,kBAAkB,CAAC,iBAAiB,CAAC,qBAAqB,CAAC,gDAAgD,iBAAiB,CAAC,gBAAgB,CAAC,uBAAuB,CAAC,iDAAiD,iBAAiB,CAAC,iBAAiB,CAAC,sBAAsB,CAAC,6BAA6B,iBAAiB,CAAC,OAAO,CAAC,KAAK,CAAC,QAAQ,CAAC,uBAAuB,CAAC,cAAc,CAAC,4BAA4B,CAAC,mCAAmC,8BAA8B,CAAC,wBAAwB,iBAAiB,CAAC,eAAe,CAAC,iBAAiB,CAAC,mCAAmC,CAAC,sBAAsB,CAAC,mBAAmB,CAAC,wDAAwD,wBAAwB,CAAC,yDAAyD,yBAAyB,CAAC,2DAA2D,2BAA2B,CAAC,4DAA4D,4BAA4B,CAAC,8BAA8B,YAAY,CAAC,gCAAgC,mBAAmB,CAAC,gBAAgB,CAAC,kDAAkD,YAAY,CAAC,mDAAmD,YAAY,CAAC,iBAAiB,iBAAiB,CAAC,KAAK,CAAC,MAAM,CAAC,qBAAqB,CAAC,SAAS,CAAC,sBAAsB,CAAC,+DAA+D,wBAAwB,CAAC,UAAU,CAAC,WAAW,CAAC,iBAAiB,CAAC,mCAAmC,UAAU,CAAC,iBAAiB,CAAC,sDAAsD,CAAC,kCAAkC,iBAAiB,CAAC,qBAAqB,CAAC,UAAU,CAAC,WAAW,CAAC,SAAS,CAAC,iBAAiB,CAAC,QAAQ,CAAC,UAAU,CAAC,qBAAqB,CAAC,iCAAiC,CAAC,qEAAqE,OAAO,CAAC,QAAQ,CAAC,uJAAuJ,UAAU,CAAC,iCAAiC,CAAC,iBAAiB,CAAC,4EAA4E,mCAAmC,CAAC,yCAAyC,CAAC,2EAA2E,oCAAoC,CAAC,6CAA6C,CAAC,4CAA4C,GAAG,kBAAkB,CAAC,SAAS,CAAC,IAAI,kBAAkB,CAAC,SAAS,CAAC,GAAG,kBAAkB,CAAC,SAAS,CAAC,CAAC,kCAAkC,qBAAqB,CAAC,wCAAwC,YAAY,CAAC,wCAAwC,oCAAoC,CAAC,SAAS,CAAC,UAAU,CAAC,kBAAkB,CAAC,+GAA+G,gBAAgB,CAAC,kBAAkB,iBAAiB,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,eAAe,CAAC,yBAAyB,CAAC,UAAU,CAAC,aAAa,oBAAoB,YAAY,CAAC,CAAC,0DAA0D,UAAU,CAAC,gFAAgF,CAAC,sBAAsB,CAAC,iBAAiB,CAAC,iBAAiB,CAAC,YAAY,CAAC,kBAAkB,CAAC,KAAK,CAAC,MAAM,CAAC,UAAU,CAAC,WAAW,CAAC,yBAAyB,CAAC,SAAS,CAAC,mBAAmB,CAAC,mCAAmC,CAAC,mBAAmB,CAAC,oEAAoE,SAAS,CAAC,kCAAkC,CAAC,iMAAiM,wBAAwB\",\"sourcesContent\":[\".mapboxgl-map{font:12px/20px Helvetica Neue,Arial,Helvetica,sans-serif;overflow:hidden;position:relative;-webkit-tap-highlight-color:rgb(0 0 0/0)}.mapboxgl-canvas{position:absolute;left:0;top:0}.mapboxgl-map:-webkit-full-screen{width:100%;height:100%}.mapboxgl-canary{background-color:salmon}.mapboxgl-canvas-container.mapboxgl-interactive,.mapboxgl-ctrl-group button.mapboxgl-ctrl-compass{cursor:grab;-webkit-user-select:none;user-select:none}.mapboxgl-canvas-container.mapboxgl-interactive.mapboxgl-track-pointer{cursor:pointer}.mapboxgl-canvas-container.mapboxgl-interactive:active,.mapboxgl-ctrl-group button.mapboxgl-ctrl-compass:active{cursor:grabbing}.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate,.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate .mapboxgl-canvas{touch-action:pan-x pan-y}.mapboxgl-canvas-container.mapboxgl-touch-drag-pan,.mapboxgl-canvas-container.mapboxgl-touch-drag-pan .mapboxgl-canvas{touch-action:pinch-zoom}.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate.mapboxgl-touch-drag-pan,.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate.mapboxgl-touch-drag-pan .mapboxgl-canvas{touch-action:none}.mapboxgl-ctrl-bottom-left,.mapboxgl-ctrl-bottom-right,.mapboxgl-ctrl-top-left,.mapboxgl-ctrl-top-right{position:absolute;pointer-events:none;z-index:2}.mapboxgl-ctrl-top-left{top:0;left:0}.mapboxgl-ctrl-top-right{top:0;right:0}.mapboxgl-ctrl-bottom-left{bottom:0;left:0}.mapboxgl-ctrl-bottom-right{right:0;bottom:0}.mapboxgl-ctrl{clear:both;pointer-events:auto;transform:translate(0)}.mapboxgl-ctrl-top-left .mapboxgl-ctrl{margin:10px 0 0 10px;float:left}.mapboxgl-ctrl-top-right .mapboxgl-ctrl{margin:10px 10px 0 0;float:right}.mapboxgl-ctrl-bottom-left .mapboxgl-ctrl{margin:0 0 10px 10px;float:left}.mapboxgl-ctrl-bottom-right .mapboxgl-ctrl{margin:0 10px 10px 0;float:right}.mapboxgl-ctrl-group{border-radius:4px;background:#fff}.mapboxgl-ctrl-group:not(:empty){box-shadow:0 0 0 2px rgb(0 0 0/10%)}@media (-ms-high-contrast:active){.mapboxgl-ctrl-group:not(:empty){box-shadow:0 0 0 2px ButtonText}}.mapboxgl-ctrl-group button{width:29px;height:29px;display:block;padding:0;outline:none;border:0;box-sizing:border-box;background-color:transparent;cursor:pointer;overflow:hidden}.mapboxgl-ctrl-group button+button{border-top:1px solid #ddd}.mapboxgl-ctrl button .mapboxgl-ctrl-icon{display:block;width:100%;height:100%;background-repeat:no-repeat;background-position:50%}@media (-ms-high-contrast:active){.mapboxgl-ctrl-icon{background-color:transparent}.mapboxgl-ctrl-group button+button{border-top:1px solid ButtonText}}.mapboxgl-ctrl-attrib-button:focus,.mapboxgl-ctrl-group button:focus{box-shadow:0 0 2px 2px rgb(0 150 255/100%)}.mapboxgl-ctrl button:disabled{cursor:not-allowed}.mapboxgl-ctrl button:disabled .mapboxgl-ctrl-icon{opacity:.25}.mapboxgl-ctrl-group button:first-child{border-radius:4px 4px 0 0}.mapboxgl-ctrl-group button:last-child{border-radius:0 0 4px 4px}.mapboxgl-ctrl-group button:only-child{border-radius:inherit}.mapboxgl-ctrl button:not(:disabled):hover{background-color:rgb(0 0 0/5%)}.mapboxgl-ctrl-group button:focus:focus-visible{box-shadow:0 0 2px 2px rgb(0 150 255/100%)}.mapboxgl-ctrl-group button:focus:not(:focus-visible){box-shadow:none}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E %3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z'/%3E %3C/svg%3E\\\")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E %3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z'/%3E %3C/svg%3E\\\")}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E %3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z'/%3E %3C/svg%3E\\\")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E %3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z'/%3E %3C/svg%3E\\\")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23000'%3E %3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z'/%3E %3C/svg%3E\\\")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23000'%3E %3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z'/%3E %3C/svg%3E\\\")}}.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E %3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z'/%3E %3C/svg%3E\\\")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E %3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z'/%3E %3C/svg%3E\\\")}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E %3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z'/%3E %3C/svg%3E\\\")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E %3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z'/%3E %3C/svg%3E\\\")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23000'%3E %3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z'/%3E %3C/svg%3E\\\")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23000'%3E %3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z'/%3E %3C/svg%3E\\\")}}.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E %3Cpath d='M10.5 14l4-8 4 8h-8z'/%3E %3Cpath id='south' d='M10.5 16l4 8 4-8h-8z' fill='%23ccc'/%3E %3C/svg%3E\\\")}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E %3Cpath d='M10.5 14l4-8 4 8h-8z'/%3E %3Cpath id='south' d='M10.5 16l4 8 4-8h-8z' fill='%23999'/%3E %3C/svg%3E\\\")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23000'%3E %3Cpath d='M10.5 14l4-8 4 8h-8z'/%3E %3Cpath id='south' d='M10.5 16l4 8 4-8h-8z' fill='%23ccc'/%3E %3C/svg%3E\\\")}}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E %3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E %3Ccircle id='dot' cx='10' cy='10' r='2'/%3E %3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E %3C/svg%3E\\\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23aaa'%3E %3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E %3Ccircle id='dot' cx='10' cy='10' r='2'/%3E %3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' fill='red'/%3E %3C/svg%3E\\\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active .mapboxgl-ctrl-icon{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E %3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E %3Ccircle id='dot' cx='10' cy='10' r='2'/%3E %3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E %3C/svg%3E\\\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active-error .mapboxgl-ctrl-icon{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e58978'%3E %3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E %3Ccircle id='dot' cx='10' cy='10' r='2'/%3E %3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E %3C/svg%3E\\\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background .mapboxgl-ctrl-icon{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E %3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E %3Ccircle id='dot' cx='10' cy='10' r='2' display='none'/%3E %3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E %3C/svg%3E\\\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background-error .mapboxgl-ctrl-icon{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e54e33'%3E %3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E %3Ccircle id='dot' cx='10' cy='10' r='2' display='none'/%3E %3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E %3C/svg%3E\\\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-waiting .mapboxgl-ctrl-icon{animation:mapboxgl-spin 2s linear infinite}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E %3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E %3Ccircle id='dot' cx='10' cy='10' r='2'/%3E %3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E %3C/svg%3E\\\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23999'%3E %3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E %3Ccircle id='dot' cx='10' cy='10' r='2'/%3E %3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' fill='red'/%3E %3C/svg%3E\\\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active .mapboxgl-ctrl-icon{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E %3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E %3Ccircle id='dot' cx='10' cy='10' r='2'/%3E %3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E %3C/svg%3E\\\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active-error .mapboxgl-ctrl-icon{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e58978'%3E %3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E %3Ccircle id='dot' cx='10' cy='10' r='2'/%3E %3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E %3C/svg%3E\\\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background .mapboxgl-ctrl-icon{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E %3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E %3Ccircle id='dot' cx='10' cy='10' r='2' display='none'/%3E %3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E %3C/svg%3E\\\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background-error .mapboxgl-ctrl-icon{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e54e33'%3E %3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E %3Ccircle id='dot' cx='10' cy='10' r='2' display='none'/%3E %3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E %3C/svg%3E\\\")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23000'%3E %3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E %3Ccircle id='dot' cx='10' cy='10' r='2'/%3E %3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E %3C/svg%3E\\\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23666'%3E %3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E %3Ccircle id='dot' cx='10' cy='10' r='2'/%3E %3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' fill='red'/%3E %3C/svg%3E\\\")}}@keyframes mapboxgl-spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}a.mapboxgl-ctrl-logo{width:88px;height:23px;margin:0 0 -4px -4px;display:block;background-repeat:no-repeat;cursor:pointer;overflow:hidden;background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg width='88' height='23' viewBox='0 0 88 23' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' fill-rule='evenodd'%3E %3Cdefs%3E %3Cpath id='logo' d='M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z'/%3E %3Cpath id='text' d='M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z'/%3E %3C/defs%3E %3Cmask id='clip'%3E %3Crect x='0' y='0' width='100%25' height='100%25' fill='white'/%3E %3Cuse xlink:href='%23logo'/%3E %3Cuse xlink:href='%23text'/%3E %3C/mask%3E %3Cg id='outline' opacity='0.3' stroke='%23000' stroke-width='3'%3E %3Ccircle mask='url(%23clip)' cx='11.5' cy='11.5' r='9.25'/%3E %3Cuse xlink:href='%23text' mask='url(%23clip)'/%3E %3C/g%3E %3Cg id='fill' opacity='0.9' fill='%23fff'%3E %3Cuse xlink:href='%23logo'/%3E %3Cuse xlink:href='%23text'/%3E %3C/g%3E %3C/svg%3E\\\")}a.mapboxgl-ctrl-logo.mapboxgl-compact{width:23px}@media (-ms-high-contrast:active){a.mapboxgl-ctrl-logo{background-color:transparent;background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg width='88' height='23' viewBox='0 0 88 23' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' fill-rule='evenodd'%3E %3Cdefs%3E %3Cpath id='logo' d='M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z'/%3E %3Cpath id='text' d='M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z'/%3E %3C/defs%3E %3Cmask id='clip'%3E %3Crect x='0' y='0' width='100%25' height='100%25' fill='white'/%3E %3Cuse xlink:href='%23logo'/%3E %3Cuse xlink:href='%23text'/%3E %3C/mask%3E %3Cg id='outline' opacity='1' stroke='%23000' stroke-width='3'%3E %3Ccircle mask='url(%23clip)' cx='11.5' cy='11.5' r='9.25'/%3E %3Cuse xlink:href='%23text' mask='url(%23clip)'/%3E %3C/g%3E %3Cg id='fill' opacity='1' fill='%23fff'%3E %3Cuse xlink:href='%23logo'/%3E %3Cuse xlink:href='%23text'/%3E %3C/g%3E %3C/svg%3E\\\")}}@media (-ms-high-contrast:black-on-white){a.mapboxgl-ctrl-logo{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg width='88' height='23' viewBox='0 0 88 23' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' fill-rule='evenodd'%3E %3Cdefs%3E %3Cpath id='logo' d='M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z'/%3E %3Cpath id='text' d='M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z'/%3E %3C/defs%3E %3Cmask id='clip'%3E %3Crect x='0' y='0' width='100%25' height='100%25' fill='white'/%3E %3Cuse xlink:href='%23logo'/%3E %3Cuse xlink:href='%23text'/%3E %3C/mask%3E %3Cg id='outline' opacity='1' stroke='%23fff' stroke-width='3' fill='%23fff'%3E %3Ccircle mask='url(%23clip)' cx='11.5' cy='11.5' r='9.25'/%3E %3Cuse xlink:href='%23text' mask='url(%23clip)'/%3E %3C/g%3E %3Cg id='fill' opacity='1' fill='%23000'%3E %3Cuse xlink:href='%23logo'/%3E %3Cuse xlink:href='%23text'/%3E %3C/g%3E %3C/svg%3E\\\")}}.mapboxgl-ctrl.mapboxgl-ctrl-attrib{padding:0 5px;background-color:rgb(255 255 255/50%);margin:0}@media screen{.mapboxgl-ctrl-attrib.mapboxgl-compact{min-height:20px;padding:2px 24px 2px 0;margin:10px;position:relative;background-color:#fff;border-radius:12px}.mapboxgl-ctrl-attrib.mapboxgl-compact-show{padding:2px 28px 2px 8px;visibility:visible}.mapboxgl-ctrl-bottom-left>.mapboxgl-ctrl-attrib.mapboxgl-compact-show,.mapboxgl-ctrl-top-left>.mapboxgl-ctrl-attrib.mapboxgl-compact-show{padding:2px 8px 2px 28px;border-radius:12px}.mapboxgl-ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner{display:none}.mapboxgl-ctrl-attrib-button{display:none;cursor:pointer;position:absolute;background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd'%3E %3Cpath d='M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0'/%3E %3C/svg%3E\\\");background-color:rgb(255 255 255/50%);width:24px;height:24px;box-sizing:border-box;border-radius:12px;outline:none;top:0;right:0;border:0}.mapboxgl-ctrl-bottom-left .mapboxgl-ctrl-attrib-button,.mapboxgl-ctrl-top-left .mapboxgl-ctrl-attrib-button{left:0}.mapboxgl-ctrl-attrib.mapboxgl-compact-show .mapboxgl-ctrl-attrib-inner,.mapboxgl-ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-button{display:block}.mapboxgl-ctrl-attrib.mapboxgl-compact-show .mapboxgl-ctrl-attrib-button{background-color:rgb(0 0 0/5%)}.mapboxgl-ctrl-bottom-right>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{bottom:0;right:0}.mapboxgl-ctrl-top-right>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{top:0;right:0}.mapboxgl-ctrl-top-left>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{top:0;left:0}.mapboxgl-ctrl-bottom-left>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{bottom:0;left:0}}@media screen and (-ms-high-contrast:active){.mapboxgl-ctrl-attrib.mapboxgl-compact:after{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd' fill='%23fff'%3E %3Cpath d='M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0'/%3E %3C/svg%3E\\\")}}@media screen and (-ms-high-contrast:black-on-white){.mapboxgl-ctrl-attrib.mapboxgl-compact:after{background-image:url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd'%3E %3Cpath d='M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0'/%3E %3C/svg%3E\\\")}}.mapboxgl-ctrl-attrib a{color:rgb(0 0 0/75%);text-decoration:none}.mapboxgl-ctrl-attrib a:hover{color:inherit;text-decoration:underline}.mapboxgl-ctrl-attrib .mapbox-improve-map{font-weight:700;margin-left:2px}.mapboxgl-attrib-empty{display:none}.mapboxgl-ctrl-scale{background-color:rgb(255 255 255/75%);font-size:10px;border:2px solid #333;border-top:#333;padding:0 5px;color:#333;box-sizing:border-box;white-space:nowrap}.mapboxgl-popup{position:absolute;top:0;left:0;display:flex;will-change:transform;pointer-events:none}.mapboxgl-popup-anchor-top,.mapboxgl-popup-anchor-top-left,.mapboxgl-popup-anchor-top-right{flex-direction:column}.mapboxgl-popup-anchor-bottom,.mapboxgl-popup-anchor-bottom-left,.mapboxgl-popup-anchor-bottom-right{flex-direction:column-reverse}.mapboxgl-popup-anchor-left{flex-direction:row}.mapboxgl-popup-anchor-right{flex-direction:row-reverse}.mapboxgl-popup-tip{width:0;height:0;border:10px solid transparent;z-index:1}.mapboxgl-popup-anchor-top .mapboxgl-popup-tip{align-self:center;border-top:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-top-left .mapboxgl-popup-tip{align-self:flex-start;border-top:none;border-left:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-top-right .mapboxgl-popup-tip{align-self:flex-end;border-top:none;border-right:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-bottom .mapboxgl-popup-tip{align-self:center;border-bottom:none;border-top-color:#fff}.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-tip{align-self:flex-start;border-bottom:none;border-left:none;border-top-color:#fff}.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-tip{align-self:flex-end;border-bottom:none;border-right:none;border-top-color:#fff}.mapboxgl-popup-anchor-left .mapboxgl-popup-tip{align-self:center;border-left:none;border-right-color:#fff}.mapboxgl-popup-anchor-right .mapboxgl-popup-tip{align-self:center;border-right:none;border-left-color:#fff}.mapboxgl-popup-close-button{position:absolute;right:0;top:0;border:0;border-radius:0 3px 0 0;cursor:pointer;background-color:transparent}.mapboxgl-popup-close-button:hover{background-color:rgb(0 0 0/5%)}.mapboxgl-popup-content{position:relative;background:#fff;border-radius:3px;box-shadow:0 1px 2px rgb(0 0 0/10%);padding:10px 10px 15px;pointer-events:auto}.mapboxgl-popup-anchor-top-left .mapboxgl-popup-content{border-top-left-radius:0}.mapboxgl-popup-anchor-top-right .mapboxgl-popup-content{border-top-right-radius:0}.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-content{border-bottom-left-radius:0}.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-content{border-bottom-right-radius:0}.mapboxgl-popup-track-pointer{display:none}.mapboxgl-popup-track-pointer *{pointer-events:none;user-select:none}.mapboxgl-map:hover .mapboxgl-popup-track-pointer{display:flex}.mapboxgl-map:active .mapboxgl-popup-track-pointer{display:none}.mapboxgl-marker{position:absolute;top:0;left:0;will-change:transform;opacity:1;transition:opacity .2s}.mapboxgl-user-location-dot,.mapboxgl-user-location-dot:before{background-color:#1da1f2;width:15px;height:15px;border-radius:50%}.mapboxgl-user-location-dot:before{content:\\\"\\\";position:absolute;animation:mapboxgl-user-location-dot-pulse 2s infinite}.mapboxgl-user-location-dot:after{border-radius:50%;border:2px solid #fff;content:\\\"\\\";height:19px;left:-2px;position:absolute;top:-2px;width:19px;box-sizing:border-box;box-shadow:0 0 3px rgb(0 0 0/35%)}.mapboxgl-user-location-show-heading .mapboxgl-user-location-heading{width:0;height:0}.mapboxgl-user-location-show-heading .mapboxgl-user-location-heading:after,.mapboxgl-user-location-show-heading .mapboxgl-user-location-heading:before{content:\\\"\\\";border-bottom:7.5px solid #4aa1eb;position:absolute}.mapboxgl-user-location-show-heading .mapboxgl-user-location-heading:before{border-left:7.5px solid transparent;transform:translateY(-28px) skewY(-20deg)}.mapboxgl-user-location-show-heading .mapboxgl-user-location-heading:after{border-right:7.5px solid transparent;transform:translate(7.5px,-28px) skewY(20deg)}@keyframes mapboxgl-user-location-dot-pulse{0%{transform:scale(1);opacity:1}70%{transform:scale(3);opacity:0}to{transform:scale(1);opacity:0}}.mapboxgl-user-location-dot-stale{background-color:#aaa}.mapboxgl-user-location-dot-stale:after{display:none}.mapboxgl-user-location-accuracy-circle{background-color:rgba(29,161,242,.2);width:1px;height:1px;border-radius:100%}.mapboxgl-crosshair,.mapboxgl-crosshair .mapboxgl-interactive,.mapboxgl-crosshair .mapboxgl-interactive:active{cursor:crosshair}.mapboxgl-boxzoom{position:absolute;top:0;left:0;width:0;height:0;background:#fff;border:2px dotted #202020;opacity:.5}@media print{.mapbox-improve-map{display:none}}.mapboxgl-scroll-zoom-blocker,.mapboxgl-touch-pan-blocker{color:#fff;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif;justify-content:center;text-align:center;position:absolute;display:flex;align-items:center;top:0;left:0;width:100%;height:100%;background:rgb(0 0 0/70%);opacity:0;pointer-events:none;transition:opacity .75s ease-in-out;transition-delay:1s}.mapboxgl-scroll-zoom-blocker-show,.mapboxgl-touch-pan-blocker-show{opacity:1;transition:opacity .1s ease-in-out}.mapboxgl-canvas-container.mapboxgl-touch-pan-blocker-override.mapboxgl-scrollable-page,.mapboxgl-canvas-container.mapboxgl-touch-pan-blocker-override.mapboxgl-scrollable-page .mapboxgl-canvas{touch-action:pan-x pan-y}\"],\"sourceRoot\":\"\"}]);\n// Exports\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8/cnVsZVNldFsxXS5ydWxlc1s0XS51c2VbMV0hLi9ub2RlX21vZHVsZXMvbWFwYm94LWdsL2Rpc3QvbWFwYm94LWdsLmNzcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdXBlcnNldC8uL25vZGVfbW9kdWxlcy9tYXBib3gtZ2wvZGlzdC9tYXBib3gtZ2wuY3NzP2YzNTIiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uLy4uL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL3NvdXJjZU1hcHMuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uLy4uL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfR0VUX1VSTF9JTVBPUlRfX18gZnJvbSBcIi4uLy4uL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2dldFVybC5qc1wiO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF8wX19fID0gbmV3IFVSTChcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB3aWR0aD0lMjcyOSUyNyBoZWlnaHQ9JTI3MjklMjcgdmlld0JveD0lMjcwIDAgMjkgMjklMjcgeG1sbnM9JTI3aHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmclMjcgZmlsbD0lMjclMjMzMzMlMjclM0UgJTNDcGF0aCBkPSUyN00xMCAxM2MtLjc1IDAtMS41Ljc1LTEuNSAxLjVTOS4yNSAxNiAxMCAxNmg5Yy43NSAwIDEuNS0uNzUgMS41LTEuNVMxOS43NSAxMyAxOSAxM2gtOXolMjcvJTNFICUzQy9zdmclM0VcIiwgaW1wb3J0Lm1ldGEudXJsKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfMV9fXyA9IG5ldyBVUkwoXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0Nzdmcgd2lkdGg9JTI3MjklMjcgaGVpZ2h0PSUyNzI5JTI3IHZpZXdCb3g9JTI3MCAwIDI5IDI5JTI3IHhtbG5zPSUyN2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJTI3IGZpbGw9JTI3JTIzMzMzJTI3JTNFICUzQ3BhdGggZD0lMjdNMTQuNSA4LjVjLS43NSAwLTEuNS43NS0xLjUgMS41djNoLTNjLS43NSAwLTEuNS43NS0xLjUgMS41UzkuMjUgMTYgMTAgMTZoM3YzYzAgLjc1Ljc1IDEuNSAxLjUgMS41UzE2IDE5Ljc1IDE2IDE5di0zaDNjLjc1IDAgMS41LS43NSAxLjUtMS41UzE5Ljc1IDEzIDE5IDEzaC0zdi0zYzAtLjc1LS43NS0xLjUtMS41LTEuNXolMjcvJTNFICUzQy9zdmclM0VcIiwgaW1wb3J0Lm1ldGEudXJsKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfMl9fXyA9IG5ldyBVUkwoXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0Nzdmcgd2lkdGg9JTI3MjklMjcgaGVpZ2h0PSUyNzI5JTI3IHZpZXdCb3g9JTI3MCAwIDI5IDI5JTI3IHhtbG5zPSUyN2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJTI3IGZpbGw9JTI3JTIzZmZmJTI3JTNFICUzQ3BhdGggZD0lMjdNMTAgMTNjLS43NSAwLTEuNS43NS0xLjUgMS41UzkuMjUgMTYgMTAgMTZoOWMuNzUgMCAxLjUtLjc1IDEuNS0xLjVTMTkuNzUgMTMgMTkgMTNoLTl6JTI3LyUzRSAlM0Mvc3ZnJTNFXCIsIGltcG9ydC5tZXRhLnVybCk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzNfX18gPSBuZXcgVVJMKFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHdpZHRoPSUyNzI5JTI3IGhlaWdodD0lMjcyOSUyNyB2aWV3Qm94PSUyNzAgMCAyOSAyOSUyNyB4bWxucz0lMjdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyUyNyBmaWxsPSUyNyUyM2ZmZiUyNyUzRSAlM0NwYXRoIGQ9JTI3TTE0LjUgOC41Yy0uNzUgMC0xLjUuNzUtMS41IDEuNXYzaC0zYy0uNzUgMC0xLjUuNzUtMS41IDEuNVM5LjI1IDE2IDEwIDE2aDN2M2MwIC43NS43NSAxLjUgMS41IDEuNVMxNiAxOS43NSAxNiAxOXYtM2gzYy43NSAwIDEuNS0uNzUgMS41LTEuNVMxOS43NSAxMyAxOSAxM2gtM3YtM2MwLS43NS0uNzUtMS41LTEuNS0xLjV6JTI3LyUzRSAlM0Mvc3ZnJTNFXCIsIGltcG9ydC5tZXRhLnVybCk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzRfX18gPSBuZXcgVVJMKFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHdpZHRoPSUyNzI5JTI3IGhlaWdodD0lMjcyOSUyNyB2aWV3Qm94PSUyNzAgMCAyOSAyOSUyNyB4bWxucz0lMjdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyUyNyBmaWxsPSUyNyUyMzAwMCUyNyUzRSAlM0NwYXRoIGQ9JTI3TTEwIDEzYy0uNzUgMC0xLjUuNzUtMS41IDEuNVM5LjI1IDE2IDEwIDE2aDljLjc1IDAgMS41LS43NSAxLjUtMS41UzE5Ljc1IDEzIDE5IDEzaC05eiUyNy8lM0UgJTNDL3N2ZyUzRVwiLCBpbXBvcnQubWV0YS51cmwpO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF81X19fID0gbmV3IFVSTChcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB3aWR0aD0lMjcyOSUyNyBoZWlnaHQ9JTI3MjklMjcgdmlld0JveD0lMjcwIDAgMjkgMjklMjcgeG1sbnM9JTI3aHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmclMjcgZmlsbD0lMjclMjMwMDAlMjclM0UgJTNDcGF0aCBkPSUyN00xNC41IDguNWMtLjc1IDAtMS41Ljc1LTEuNSAxLjV2M2gtM2MtLjc1IDAtMS41Ljc1LTEuNSAxLjVTOS4yNSAxNiAxMCAxNmgzdjNjMCAuNzUuNzUgMS41IDEuNSAxLjVTMTYgMTkuNzUgMTYgMTl2LTNoM2MuNzUgMCAxLjUtLjc1IDEuNS0xLjVTMTkuNzUgMTMgMTkgMTNoLTN2LTNjMC0uNzUtLjc1LTEuNS0xLjUtMS41eiUyNy8lM0UgJTNDL3N2ZyUzRVwiLCBpbXBvcnQubWV0YS51cmwpO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF82X19fID0gbmV3IFVSTChcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB3aWR0aD0lMjcyOSUyNyBoZWlnaHQ9JTI3MjklMjcgdmlld0JveD0lMjcwIDAgMjkgMjklMjcgeG1sbnM9JTI3aHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmclMjcgZmlsbD0lMjclMjMzMzMlMjclM0UgJTNDcGF0aCBkPSUyN00yNCAxNnY1LjVjMCAxLjc1LS43NSAyLjUtMi41IDIuNUgxNnYtMWwzLTEuNS00LTUuNSAxLTEgNS41IDQgMS41LTNoMXpNNiAxNmwxLjUgMyA1LjUtNCAxIDEtNCA1LjUgMyAxLjV2MUg3LjVDNS43NSAyNCA1IDIzLjI1IDUgMjEuNVYxNmgxem03LTExdjFsLTMgMS41IDQgNS41LTEgMS01LjUtNEw2IDEzSDVWNy41QzUgNS43NSA1Ljc1IDUgNy41IDVIMTN6bTExIDIuNWMwLTEuNzUtLjc1LTIuNS0yLjUtMi41SDE2djFsMyAxLjUtNCA1LjUgMSAxIDUuNS00IDEuNSAzaDFWNy41eiUyNy8lM0UgJTNDL3N2ZyUzRVwiLCBpbXBvcnQubWV0YS51cmwpO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF83X19fID0gbmV3IFVSTChcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB3aWR0aD0lMjcyOSUyNyBoZWlnaHQ9JTI3MjklMjcgdmlld0JveD0lMjcwIDAgMjkgMjklMjcgeG1sbnM9JTI3aHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmclMjclM0UgJTNDcGF0aCBkPSUyN00xOC41IDE2Yy0xLjc1IDAtMi41Ljc1LTIuNSAyLjVWMjRoMWwxLjUtMyA1LjUgNCAxLTEtNC01LjUgMy0xLjV2LTFoLTUuNXpNMTMgMTguNWMwLTEuNzUtLjc1LTIuNS0yLjUtMi41SDV2MWwzIDEuNUw0IDI0bDEgMSA1LjUtNCAxLjUgM2gxdi01LjV6bTMtOGMwIDEuNzUuNzUgMi41IDIuNSAyLjVIMjR2LTFsLTMtMS41TDI1IDVsLTEtMS01LjUgNEwxNyA1aC0xdjUuNXpNMTAuNSAxM2MxLjc1IDAgMi41LS43NSAyLjUtMi41VjVoLTFsLTEuNSAzTDUgNCA0IDVsNCA1LjVMNSAxMnYxaDUuNXolMjcvJTNFICUzQy9zdmclM0VcIiwgaW1wb3J0Lm1ldGEudXJsKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfOF9fXyA9IG5ldyBVUkwoXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0Nzdmcgd2lkdGg9JTI3MjklMjcgaGVpZ2h0PSUyNzI5JTI3IHZpZXdCb3g9JTI3MCAwIDI5IDI5JTI3IHhtbG5zPSUyN2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJTI3IGZpbGw9JTI3JTIzZmZmJTI3JTNFICUzQ3BhdGggZD0lMjdNMjQgMTZ2NS41YzAgMS43NS0uNzUgMi41LTIuNSAyLjVIMTZ2LTFsMy0xLjUtNC01LjUgMS0xIDUuNSA0IDEuNS0zaDF6TTYgMTZsMS41IDMgNS41LTQgMSAxLTQgNS41IDMgMS41djFINy41QzUuNzUgMjQgNSAyMy4yNSA1IDIxLjVWMTZoMXptNy0xMXYxbC0zIDEuNSA0IDUuNS0xIDEtNS41LTRMNiAxM0g1VjcuNUM1IDUuNzUgNS43NSA1IDcuNSA1SDEzem0xMSAyLjVjMC0xLjc1LS43NS0yLjUtMi41LTIuNUgxNnYxbDMgMS41LTQgNS41IDEgMSA1LjUtNCAxLjUgM2gxVjcuNXolMjcvJTNFICUzQy9zdmclM0VcIiwgaW1wb3J0Lm1ldGEudXJsKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfOV9fXyA9IG5ldyBVUkwoXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0Nzdmcgd2lkdGg9JTI3MjklMjcgaGVpZ2h0PSUyNzI5JTI3IHZpZXdCb3g9JTI3MCAwIDI5IDI5JTI3IHhtbG5zPSUyN2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJTI3IGZpbGw9JTI3JTIzZmZmJTI3JTNFICUzQ3BhdGggZD0lMjdNMTguNSAxNmMtMS43NSAwLTIuNS43NS0yLjUgMi41VjI0aDFsMS41LTMgNS41IDQgMS0xLTQtNS41IDMtMS41di0xaC01LjV6TTEzIDE4LjVjMC0xLjc1LS43NS0yLjUtMi41LTIuNUg1djFsMyAxLjVMNCAyNGwxIDEgNS41LTQgMS41IDNoMXYtNS41em0zLThjMCAxLjc1Ljc1IDIuNSAyLjUgMi41SDI0di0xbC0zLTEuNUwyNSA1bC0xLTEtNS41IDRMMTcgNWgtMXY1LjV6TTEwLjUgMTNjMS43NSAwIDIuNS0uNzUgMi41LTIuNVY1aC0xbC0xLjUgM0w1IDQgNCA1bDQgNS41TDUgMTJ2MWg1LjV6JTI3LyUzRSAlM0Mvc3ZnJTNFXCIsIGltcG9ydC5tZXRhLnVybCk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzEwX19fID0gbmV3IFVSTChcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB3aWR0aD0lMjcyOSUyNyBoZWlnaHQ9JTI3MjklMjcgdmlld0JveD0lMjcwIDAgMjkgMjklMjcgeG1sbnM9JTI3aHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmclMjcgZmlsbD0lMjclMjMwMDAlMjclM0UgJTNDcGF0aCBkPSUyN00yNCAxNnY1LjVjMCAxLjc1LS43NSAyLjUtMi41IDIuNUgxNnYtMWwzLTEuNS00LTUuNSAxLTEgNS41IDQgMS41LTNoMXpNNiAxNmwxLjUgMyA1LjUtNCAxIDEtNCA1LjUgMyAxLjV2MUg3LjVDNS43NSAyNCA1IDIzLjI1IDUgMjEuNVYxNmgxem03LTExdjFsLTMgMS41IDQgNS41LTEgMS01LjUtNEw2IDEzSDVWNy41QzUgNS43NSA1Ljc1IDUgNy41IDVIMTN6bTExIDIuNWMwLTEuNzUtLjc1LTIuNS0yLjUtMi41SDE2djFsMyAxLjUtNCA1LjUgMSAxIDUuNS00IDEuNSAzaDFWNy41eiUyNy8lM0UgJTNDL3N2ZyUzRVwiLCBpbXBvcnQubWV0YS51cmwpO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF8xMV9fXyA9IG5ldyBVUkwoXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0Nzdmcgd2lkdGg9JTI3MjklMjcgaGVpZ2h0PSUyNzI5JTI3IHZpZXdCb3g9JTI3MCAwIDI5IDI5JTI3IHhtbG5zPSUyN2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJTI3IGZpbGw9JTI3JTIzMDAwJTI3JTNFICUzQ3BhdGggZD0lMjdNMTguNSAxNmMtMS43NSAwLTIuNS43NS0yLjUgMi41VjI0aDFsMS41LTMgNS41IDQgMS0xLTQtNS41IDMtMS41di0xaC01LjV6TTEzIDE4LjVjMC0xLjc1LS43NS0yLjUtMi41LTIuNUg1djFsMyAxLjVMNCAyNGwxIDEgNS41LTQgMS41IDNoMXYtNS41em0zLThjMCAxLjc1Ljc1IDIuNSAyLjUgMi41SDI0di0xbC0zLTEuNUwyNSA1bC0xLTEtNS41IDRMMTcgNWgtMXY1LjV6TTEwLjUgMTNjMS43NSAwIDIuNS0uNzUgMi41LTIuNVY1aC0xbC0xLjUgM0w1IDQgNCA1bDQgNS41TDUgMTJ2MWg1LjV6JTI3LyUzRSAlM0Mvc3ZnJTNFXCIsIGltcG9ydC5tZXRhLnVybCk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzEyX19fID0gbmV3IFVSTChcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB3aWR0aD0lMjcyOSUyNyBoZWlnaHQ9JTI3MjklMjcgdmlld0JveD0lMjcwIDAgMjkgMjklMjcgeG1sbnM9JTI3aHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmclMjcgZmlsbD0lMjclMjMzMzMlMjclM0UgJTNDcGF0aCBkPSUyN00xMC41IDE0bDQtOCA0IDhoLTh6JTI3LyUzRSAlM0NwYXRoIGlkPSUyN3NvdXRoJTI3IGQ9JTI3TTEwLjUgMTZsNCA4IDQtOGgtOHolMjcgZmlsbD0lMjclMjNjY2MlMjcvJTNFICUzQy9zdmclM0VcIiwgaW1wb3J0Lm1ldGEudXJsKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfMTNfX18gPSBuZXcgVVJMKFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHdpZHRoPSUyNzI5JTI3IGhlaWdodD0lMjcyOSUyNyB2aWV3Qm94PSUyNzAgMCAyOSAyOSUyNyB4bWxucz0lMjdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyUyNyBmaWxsPSUyNyUyM2ZmZiUyNyUzRSAlM0NwYXRoIGQ9JTI3TTEwLjUgMTRsNC04IDQgOGgtOHolMjcvJTNFICUzQ3BhdGggaWQ9JTI3c291dGglMjcgZD0lMjdNMTAuNSAxNmw0IDggNC04aC04eiUyNyBmaWxsPSUyNyUyMzk5OSUyNy8lM0UgJTNDL3N2ZyUzRVwiLCBpbXBvcnQubWV0YS51cmwpO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF8xNF9fXyA9IG5ldyBVUkwoXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0Nzdmcgd2lkdGg9JTI3MjklMjcgaGVpZ2h0PSUyNzI5JTI3IHZpZXdCb3g9JTI3MCAwIDI5IDI5JTI3IHhtbG5zPSUyN2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJTI3IGZpbGw9JTI3JTIzMDAwJTI3JTNFICUzQ3BhdGggZD0lMjdNMTAuNSAxNGw0LTggNCA4aC04eiUyNy8lM0UgJTNDcGF0aCBpZD0lMjdzb3V0aCUyNyBkPSUyN00xMC41IDE2bDQgOCA0LThoLTh6JTI3IGZpbGw9JTI3JTIzY2NjJTI3LyUzRSAlM0Mvc3ZnJTNFXCIsIGltcG9ydC5tZXRhLnVybCk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzE1X19fID0gbmV3IFVSTChcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB3aWR0aD0lMjcyOSUyNyBoZWlnaHQ9JTI3MjklMjcgdmlld0JveD0lMjcwIDAgMjAgMjAlMjcgeG1sbnM9JTI3aHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmclMjcgZmlsbD0lMjclMjMzMzMlMjclM0UgJTNDcGF0aCBkPSUyN00xMCA0QzkgNCA5IDUgOSA1di4xQTUgNSAwIDAgMCA1LjEgOUg1cy0xIDAtMSAxIDEgMSAxIDFoLjFBNSA1IDAgMCAwIDkgMTQuOXYuMXMwIDEgMSAxIDEtMSAxLTF2LS4xYTUgNSAwIDAgMCAzLjktMy45aC4xczEgMCAxLTEtMS0xLTEtMWgtLjFBNSA1IDAgMCAwIDExIDUuMVY1czAtMS0xLTF6bTAgMi41YTMuNSAzLjUgMCAxIDEgMCA3IDMuNSAzLjUgMCAxIDEgMC03eiUyNy8lM0UgJTNDY2lyY2xlIGlkPSUyN2RvdCUyNyBjeD0lMjcxMCUyNyBjeT0lMjcxMCUyNyByPSUyNzIlMjcvJTNFICUzQ3BhdGggaWQ9JTI3c3Ryb2tlJTI3IGQ9JTI3TTE0IDVsMSAxLTkgOS0xLTEgOS05eiUyNyBkaXNwbGF5PSUyN25vbmUlMjcvJTNFICUzQy9zdmclM0VcIiwgaW1wb3J0Lm1ldGEudXJsKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfMTZfX18gPSBuZXcgVVJMKFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHdpZHRoPSUyNzI5JTI3IGhlaWdodD0lMjcyOSUyNyB2aWV3Qm94PSUyNzAgMCAyMCAyMCUyNyB4bWxucz0lMjdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyUyNyBmaWxsPSUyNyUyM2FhYSUyNyUzRSAlM0NwYXRoIGQ9JTI3TTEwIDRDOSA0IDkgNSA5IDV2LjFBNSA1IDAgMCAwIDUuMSA5SDVzLTEgMC0xIDEgMSAxIDEgMWguMUE1IDUgMCAwIDAgOSAxNC45di4xczAgMSAxIDEgMS0xIDEtMXYtLjFhNSA1IDAgMCAwIDMuOS0zLjloLjFzMSAwIDEtMS0xLTEtMS0xaC0uMUE1IDUgMCAwIDAgMTEgNS4xVjVzMC0xLTEtMXptMCAyLjVhMy41IDMuNSAwIDEgMSAwIDcgMy41IDMuNSAwIDEgMSAwLTd6JTI3LyUzRSAlM0NjaXJjbGUgaWQ9JTI3ZG90JTI3IGN4PSUyNzEwJTI3IGN5PSUyNzEwJTI3IHI9JTI3MiUyNy8lM0UgJTNDcGF0aCBpZD0lMjdzdHJva2UlMjcgZD0lMjdNMTQgNWwxIDEtOSA5LTEtMSA5LTl6JTI3IGZpbGw9JTI3cmVkJTI3LyUzRSAlM0Mvc3ZnJTNFXCIsIGltcG9ydC5tZXRhLnVybCk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzE3X19fID0gbmV3IFVSTChcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB3aWR0aD0lMjcyOSUyNyBoZWlnaHQ9JTI3MjklMjcgdmlld0JveD0lMjcwIDAgMjAgMjAlMjcgeG1sbnM9JTI3aHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmclMjcgZmlsbD0lMjclMjMzM2I1ZTUlMjclM0UgJTNDcGF0aCBkPSUyN00xMCA0QzkgNCA5IDUgOSA1di4xQTUgNSAwIDAgMCA1LjEgOUg1cy0xIDAtMSAxIDEgMSAxIDFoLjFBNSA1IDAgMCAwIDkgMTQuOXYuMXMwIDEgMSAxIDEtMSAxLTF2LS4xYTUgNSAwIDAgMCAzLjktMy45aC4xczEgMCAxLTEtMS0xLTEtMWgtLjFBNSA1IDAgMCAwIDExIDUuMVY1czAtMS0xLTF6bTAgMi41YTMuNSAzLjUgMCAxIDEgMCA3IDMuNSAzLjUgMCAxIDEgMC03eiUyNy8lM0UgJTNDY2lyY2xlIGlkPSUyN2RvdCUyNyBjeD0lMjcxMCUyNyBjeT0lMjcxMCUyNyByPSUyNzIlMjcvJTNFICUzQ3BhdGggaWQ9JTI3c3Ryb2tlJTI3IGQ9JTI3TTE0IDVsMSAxLTkgOS0xLTEgOS05eiUyNyBkaXNwbGF5PSUyN25vbmUlMjcvJTNFICUzQy9zdmclM0VcIiwgaW1wb3J0Lm1ldGEudXJsKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfMThfX18gPSBuZXcgVVJMKFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHdpZHRoPSUyNzI5JTI3IGhlaWdodD0lMjcyOSUyNyB2aWV3Qm94PSUyNzAgMCAyMCAyMCUyNyB4bWxucz0lMjdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyUyNyBmaWxsPSUyNyUyM2U1ODk3OCUyNyUzRSAlM0NwYXRoIGQ9JTI3TTEwIDRDOSA0IDkgNSA5IDV2LjFBNSA1IDAgMCAwIDUuMSA5SDVzLTEgMC0xIDEgMSAxIDEgMWguMUE1IDUgMCAwIDAgOSAxNC45di4xczAgMSAxIDEgMS0xIDEtMXYtLjFhNSA1IDAgMCAwIDMuOS0zLjloLjFzMSAwIDEtMS0xLTEtMS0xaC0uMUE1IDUgMCAwIDAgMTEgNS4xVjVzMC0xLTEtMXptMCAyLjVhMy41IDMuNSAwIDEgMSAwIDcgMy41IDMuNSAwIDEgMSAwLTd6JTI3LyUzRSAlM0NjaXJjbGUgaWQ9JTI3ZG90JTI3IGN4PSUyNzEwJTI3IGN5PSUyNzEwJTI3IHI9JTI3MiUyNy8lM0UgJTNDcGF0aCBpZD0lMjdzdHJva2UlMjcgZD0lMjdNMTQgNWwxIDEtOSA5LTEtMSA5LTl6JTI3IGRpc3BsYXk9JTI3bm9uZSUyNy8lM0UgJTNDL3N2ZyUzRVwiLCBpbXBvcnQubWV0YS51cmwpO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF8xOV9fXyA9IG5ldyBVUkwoXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0Nzdmcgd2lkdGg9JTI3MjklMjcgaGVpZ2h0PSUyNzI5JTI3IHZpZXdCb3g9JTI3MCAwIDIwIDIwJTI3IHhtbG5zPSUyN2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJTI3IGZpbGw9JTI3JTIzMzNiNWU1JTI3JTNFICUzQ3BhdGggZD0lMjdNMTAgNEM5IDQgOSA1IDkgNXYuMUE1IDUgMCAwIDAgNS4xIDlINXMtMSAwLTEgMSAxIDEgMSAxaC4xQTUgNSAwIDAgMCA5IDE0Ljl2LjFzMCAxIDEgMSAxLTEgMS0xdi0uMWE1IDUgMCAwIDAgMy45LTMuOWguMXMxIDAgMS0xLTEtMS0xLTFoLS4xQTUgNSAwIDAgMCAxMSA1LjFWNXMwLTEtMS0xem0wIDIuNWEzLjUgMy41IDAgMSAxIDAgNyAzLjUgMy41IDAgMSAxIDAtN3olMjcvJTNFICUzQ2NpcmNsZSBpZD0lMjdkb3QlMjcgY3g9JTI3MTAlMjcgY3k9JTI3MTAlMjcgcj0lMjcyJTI3IGRpc3BsYXk9JTI3bm9uZSUyNy8lM0UgJTNDcGF0aCBpZD0lMjdzdHJva2UlMjcgZD0lMjdNMTQgNWwxIDEtOSA5LTEtMSA5LTl6JTI3IGRpc3BsYXk9JTI3bm9uZSUyNy8lM0UgJTNDL3N2ZyUzRVwiLCBpbXBvcnQubWV0YS51cmwpO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF8yMF9fXyA9IG5ldyBVUkwoXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0Nzdmcgd2lkdGg9JTI3MjklMjcgaGVpZ2h0PSUyNzI5JTI3IHZpZXdCb3g9JTI3MCAwIDIwIDIwJTI3IHhtbG5zPSUyN2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJTI3IGZpbGw9JTI3JTIzZTU0ZTMzJTI3JTNFICUzQ3BhdGggZD0lMjdNMTAgNEM5IDQgOSA1IDkgNXYuMUE1IDUgMCAwIDAgNS4xIDlINXMtMSAwLTEgMSAxIDEgMSAxaC4xQTUgNSAwIDAgMCA5IDE0Ljl2LjFzMCAxIDEgMSAxLTEgMS0xdi0uMWE1IDUgMCAwIDAgMy45LTMuOWguMXMxIDAgMS0xLTEtMS0xLTFoLS4xQTUgNSAwIDAgMCAxMSA1LjFWNXMwLTEtMS0xem0wIDIuNWEzLjUgMy41IDAgMSAxIDAgNyAzLjUgMy41IDAgMSAxIDAtN3olMjcvJTNFICUzQ2NpcmNsZSBpZD0lMjdkb3QlMjcgY3g9JTI3MTAlMjcgY3k9JTI3MTAlMjcgcj0lMjcyJTI3IGRpc3BsYXk9JTI3bm9uZSUyNy8lM0UgJTNDcGF0aCBpZD0lMjdzdHJva2UlMjcgZD0lMjdNMTQgNWwxIDEtOSA5LTEtMSA5LTl6JTI3IGRpc3BsYXk9JTI3bm9uZSUyNy8lM0UgJTNDL3N2ZyUzRVwiLCBpbXBvcnQubWV0YS51cmwpO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF8yMV9fXyA9IG5ldyBVUkwoXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0Nzdmcgd2lkdGg9JTI3MjklMjcgaGVpZ2h0PSUyNzI5JTI3IHZpZXdCb3g9JTI3MCAwIDIwIDIwJTI3IHhtbG5zPSUyN2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJTI3IGZpbGw9JTI3JTIzZmZmJTI3JTNFICUzQ3BhdGggZD0lMjdNMTAgNEM5IDQgOSA1IDkgNXYuMUE1IDUgMCAwIDAgNS4xIDlINXMtMSAwLTEgMSAxIDEgMSAxaC4xQTUgNSAwIDAgMCA5IDE0Ljl2LjFzMCAxIDEgMSAxLTEgMS0xdi0uMWE1IDUgMCAwIDAgMy45LTMuOWguMXMxIDAgMS0xLTEtMS0xLTFoLS4xQTUgNSAwIDAgMCAxMSA1LjFWNXMwLTEtMS0xem0wIDIuNWEzLjUgMy41IDAgMSAxIDAgNyAzLjUgMy41IDAgMSAxIDAtN3olMjcvJTNFICUzQ2NpcmNsZSBpZD0lMjdkb3QlMjcgY3g9JTI3MTAlMjcgY3k9JTI3MTAlMjcgcj0lMjcyJTI3LyUzRSAlM0NwYXRoIGlkPSUyN3N0cm9rZSUyNyBkPSUyN00xNCA1bDEgMS05IDktMS0xIDktOXolMjcgZGlzcGxheT0lMjdub25lJTI3LyUzRSAlM0Mvc3ZnJTNFXCIsIGltcG9ydC5tZXRhLnVybCk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzIyX19fID0gbmV3IFVSTChcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB3aWR0aD0lMjcyOSUyNyBoZWlnaHQ9JTI3MjklMjcgdmlld0JveD0lMjcwIDAgMjAgMjAlMjcgeG1sbnM9JTI3aHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmclMjcgZmlsbD0lMjclMjM5OTklMjclM0UgJTNDcGF0aCBkPSUyN00xMCA0QzkgNCA5IDUgOSA1di4xQTUgNSAwIDAgMCA1LjEgOUg1cy0xIDAtMSAxIDEgMSAxIDFoLjFBNSA1IDAgMCAwIDkgMTQuOXYuMXMwIDEgMSAxIDEtMSAxLTF2LS4xYTUgNSAwIDAgMCAzLjktMy45aC4xczEgMCAxLTEtMS0xLTEtMWgtLjFBNSA1IDAgMCAwIDExIDUuMVY1czAtMS0xLTF6bTAgMi41YTMuNSAzLjUgMCAxIDEgMCA3IDMuNSAzLjUgMCAxIDEgMC03eiUyNy8lM0UgJTNDY2lyY2xlIGlkPSUyN2RvdCUyNyBjeD0lMjcxMCUyNyBjeT0lMjcxMCUyNyByPSUyNzIlMjcvJTNFICUzQ3BhdGggaWQ9JTI3c3Ryb2tlJTI3IGQ9JTI3TTE0IDVsMSAxLTkgOS0xLTEgOS05eiUyNyBmaWxsPSUyN3JlZCUyNy8lM0UgJTNDL3N2ZyUzRVwiLCBpbXBvcnQubWV0YS51cmwpO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF8yM19fXyA9IG5ldyBVUkwoXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0Nzdmcgd2lkdGg9JTI3MjklMjcgaGVpZ2h0PSUyNzI5JTI3IHZpZXdCb3g9JTI3MCAwIDIwIDIwJTI3IHhtbG5zPSUyN2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJTI3IGZpbGw9JTI3JTIzMDAwJTI3JTNFICUzQ3BhdGggZD0lMjdNMTAgNEM5IDQgOSA1IDkgNXYuMUE1IDUgMCAwIDAgNS4xIDlINXMtMSAwLTEgMSAxIDEgMSAxaC4xQTUgNSAwIDAgMCA5IDE0Ljl2LjFzMCAxIDEgMSAxLTEgMS0xdi0uMWE1IDUgMCAwIDAgMy45LTMuOWguMXMxIDAgMS0xLTEtMS0xLTFoLS4xQTUgNSAwIDAgMCAxMSA1LjFWNXMwLTEtMS0xem0wIDIuNWEzLjUgMy41IDAgMSAxIDAgNyAzLjUgMy41IDAgMSAxIDAtN3olMjcvJTNFICUzQ2NpcmNsZSBpZD0lMjdkb3QlMjcgY3g9JTI3MTAlMjcgY3k9JTI3MTAlMjcgcj0lMjcyJTI3LyUzRSAlM0NwYXRoIGlkPSUyN3N0cm9rZSUyNyBkPSUyN00xNCA1bDEgMS05IDktMS0xIDktOXolMjcgZGlzcGxheT0lMjdub25lJTI3LyUzRSAlM0Mvc3ZnJTNFXCIsIGltcG9ydC5tZXRhLnVybCk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzI0X19fID0gbmV3IFVSTChcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB3aWR0aD0lMjcyOSUyNyBoZWlnaHQ9JTI3MjklMjcgdmlld0JveD0lMjcwIDAgMjAgMjAlMjcgeG1sbnM9JTI3aHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmclMjcgZmlsbD0lMjclMjM2NjYlMjclM0UgJTNDcGF0aCBkPSUyN00xMCA0QzkgNCA5IDUgOSA1di4xQTUgNSAwIDAgMCA1LjEgOUg1cy0xIDAtMSAxIDEgMSAxIDFoLjFBNSA1IDAgMCAwIDkgMTQuOXYuMXMwIDEgMSAxIDEtMSAxLTF2LS4xYTUgNSAwIDAgMCAzLjktMy45aC4xczEgMCAxLTEtMS0xLTEtMWgtLjFBNSA1IDAgMCAwIDExIDUuMVY1czAtMS0xLTF6bTAgMi41YTMuNSAzLjUgMCAxIDEgMCA3IDMuNSAzLjUgMCAxIDEgMC03eiUyNy8lM0UgJTNDY2lyY2xlIGlkPSUyN2RvdCUyNyBjeD0lMjcxMCUyNyBjeT0lMjcxMCUyNyByPSUyNzIlMjcvJTNFICUzQ3BhdGggaWQ9JTI3c3Ryb2tlJTI3IGQ9JTI3TTE0IDVsMSAxLTkgOS0xLTEgOS05eiUyNyBmaWxsPSUyN3JlZCUyNy8lM0UgJTNDL3N2ZyUzRVwiLCBpbXBvcnQubWV0YS51cmwpO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF8yNV9fXyA9IG5ldyBVUkwoXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0Nzdmcgd2lkdGg9JTI3ODglMjcgaGVpZ2h0PSUyNzIzJTI3IHZpZXdCb3g9JTI3MCAwIDg4IDIzJTI3IHhtbG5zPSUyN2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJTI3IHhtbG5zOnhsaW5rPSUyN2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmslMjcgZmlsbC1ydWxlPSUyN2V2ZW5vZGQlMjclM0UgJTNDZGVmcyUzRSAlM0NwYXRoIGlkPSUyN2xvZ28lMjcgZD0lMjdNMTEuNSAyLjI1YzUuMTA1IDAgOS4yNSA0LjE0NSA5LjI1IDkuMjVzLTQuMTQ1IDkuMjUtOS4yNSA5LjI1LTkuMjUtNC4xNDUtOS4yNS05LjI1IDQuMTQ1LTkuMjUgOS4yNS05LjI1ek02Ljk5NyAxNS45ODNjLS4wNTEtLjMzOC0uODI4LTUuODAyIDIuMjMzLTguODczYTQuMzk1IDQuMzk1IDAgMDEzLjEzLTEuMjhjMS4yNyAwIDIuNDkuNTEgMy4zOSAxLjQyLjkxLjkgMS40MiAyLjEyIDEuNDIgMy4zOSAwIDEuMTgtLjQ0OSAyLjMwMS0xLjI4IDMuMTNDMTIuNzIgMTYuOTMgNyAxNiA3IDE2bC0uMDAzLS4wMTd6TTE1LjMgMTAuNWwtMiAuOC0uOCAyLS44LTItMi0uOCAyLS44LjgtMiAuOCAyIDIgLjh6JTI3LyUzRSAlM0NwYXRoIGlkPSUyN3RleHQlMjcgZD0lMjdNNTAuNjMgOGMuMTMgMCAuMjMuMS4yMy4yM1Y5Yy43LS43NiAxLjctMS4xOCAyLjczLTEuMTggMi4xNyAwIDMuOTUgMS44NSAzLjk1IDQuMTdzLTEuNzcgNC4xOS0zLjk0IDQuMTljLTEuMDQgMC0yLjAzLS40My0yLjc0LTEuMTh2My43N2MwIC4xMy0uMS4yMy0uMjMuMjNoLTEuNGMtLjEzIDAtLjIzLS4xLS4yMy0uMjNWOC4yM2MwLS4xMi4xLS4yMy4yMy0uMjNoMS40em0tMy44Ni4wMWMuMDEgMCAuMDEgMCAuMDEtLjAxLjEzIDAgLjIyLjEuMjIuMjJ2Ny41NWMwIC4xMi0uMS4yMy0uMjMuMjNoLTEuNGMtLjEzIDAtLjIzLS4xLS4yMy0uMjNWMTVjLS43Ljc2LTEuNjkgMS4xOS0yLjczIDEuMTktMi4xNyAwLTMuOTQtMS44Ny0zLjk0LTQuMTkgMC0yLjMyIDEuNzctNC4xOSAzLjk0LTQuMTkgMS4wMyAwIDIuMDIuNDMgMi43MyAxLjE4di0uNzVjMC0uMTIuMS0uMjMuMjMtLjIzaDEuNHptMjYuMzc1LS4xOWE0LjI0IDQuMjQgMCAwMC00LjE2IDMuMjljLS4xMy41OS0uMTMgMS4xOSAwIDEuNzdhNC4yMzMgNC4yMzMgMCAwMDQuMTcgMy4zYzIuMzUgMCA0LjI2LTEuODcgNC4yNi00LjE5IDAtMi4zMi0xLjktNC4xNy00LjI3LTQuMTd6TTYwLjYzIDVjLjEzIDAgLjIzLjEuMjMuMjN2My43NmMuNy0uNzYgMS43LTEuMTggMi43My0xLjE4IDEuODggMCAzLjQ1IDEuNCAzLjg0IDMuMjguMTMuNTkuMTMgMS4yIDAgMS44LS4zOSAxLjg4LTEuOTYgMy4yOS0zLjg0IDMuMjktMS4wMyAwLTIuMDItLjQzLTIuNzMtMS4xOHYuNzdjMCAuMTItLjEuMjMtLjIzLjIzaC0xLjRjLS4xMyAwLS4yMy0uMS0uMjMtLjIzVjUuMjNjMC0uMTIuMS0uMjMuMjMtLjIzaDEuNHptLTM0IDExaC0xLjRjLS4xMyAwLS4yMy0uMTEtLjIzLS4yM1Y4LjIyYy4wMS0uMTMuMS0uMjIuMjMtLjIyaDEuNGMuMTMgMCAuMjIuMTEuMjMuMjJ2LjY4Yy41LS42OCAxLjMtMS4wOSAyLjE2LTEuMWguMDNjMS4wOSAwIDIuMDkuNiAyLjYgMS41NS40NS0uOTUgMS40LTEuNTUgMi40NC0xLjU2IDEuNjIgMCAyLjkzIDEuMjUgMi45IDIuNzhsLjAzIDUuMmMwIC4xMy0uMS4yMy0uMjMuMjNoLTEuNDFjLS4xMyAwLS4yMy0uMTEtLjIzLS4yM3YtNC41OWMwLS45OC0uNzQtMS43MS0xLjYyLTEuNzEtLjggMC0xLjQ2LjctMS41OSAxLjYybC4wMSA0LjY4YzAgLjEzLS4xMS4yMy0uMjMuMjNoLTEuNDFjLS4xMyAwLS4yMy0uMTEtLjIzLS4yM3YtNC41OWMwLS45OC0uNzQtMS43MS0xLjYyLTEuNzEtLjg1IDAtMS41NC43OS0xLjYgMS44djQuNWMwIC4xMy0uMS4yMy0uMjMuMjN6bTUzLjYxNSAwaC0xLjYxYy0uMDQgMC0uMDgtLjAxLS4xMi0uMDMtLjA5LS4wNi0uMTMtLjE5LS4wNi0uMjhsMi40My0zLjcxLTIuMzktMy42NWEuMjEzLjIxMyAwIDAxLS4wMy0uMTJjMC0uMTIuMDktLjIxLjIxLS4yMWgxLjYxYy4xMyAwIC4yNC4wNi4zLjE3bDEuNDEgMi4zNyAxLjQtMi4zN2EuMzQuMzQgMCAwMS4zLS4xN2gxLjZjLjA0IDAgLjA4LjAxLjEyLjAzLjA5LjA2LjEzLjE5LjA2LjI4bC0yLjM3IDMuNjUgMi40MyAzLjdjMCAuMDUuMDEuMDkuMDEuMTMgMCAuMTItLjA5LjIxLS4yMS4yMWgtMS42MWMtLjEzIDAtLjI0LS4wNi0uMy0uMTdsLTEuNDQtMi40Mi0xLjQ0IDIuNDJhLjM0LjM0IDAgMDEtLjMuMTd6bS03LjEyLTEuNDljLTEuMzMgMC0yLjQyLTEuMTItMi40Mi0yLjUxIDAtMS4zOSAxLjA4LTIuNTIgMi40Mi0yLjUyIDEuMzMgMCAyLjQyIDEuMTIgMi40MiAyLjUxIDAgMS4zOS0xLjA4IDIuNTEtMi40MiAyLjUyem0tMTkuODY1IDBjLTEuMzIgMC0yLjM5LTEuMTEtMi40Mi0yLjQ4di0uMDdjLjAyLTEuMzggMS4wOS0yLjQ5IDIuNC0yLjQ5IDEuMzIgMCAyLjQxIDEuMTIgMi40MSAyLjUxIDAgMS4zOS0xLjA3IDIuNTItMi4zOSAyLjUzem0tOC4xMS0yLjQ4Yy0uMDEgMS4zNy0xLjA5IDIuNDctMi40MSAyLjQ3cy0yLjQyLTEuMTItMi40Mi0yLjUxYzAtMS4zOSAxLjA4LTIuNTIgMi40LTIuNTIgMS4zMyAwIDIuMzkgMS4xMSAyLjQxIDIuNDhsLjAyLjA4em0xOC4xMiAyLjQ3Yy0xLjMyIDAtMi4zOS0xLjExLTIuNDEtMi40OHYtLjA2Yy4wMi0xLjM4IDEuMDktMi40OCAyLjQxLTIuNDhzMi40MiAxLjEyIDIuNDIgMi41MWMwIDEuMzktMS4wOSAyLjUxLTIuNDIgMi41MXolMjcvJTNFICUzQy9kZWZzJTNFICUzQ21hc2sgaWQ9JTI3Y2xpcCUyNyUzRSAlM0NyZWN0IHg9JTI3MCUyNyB5PSUyNzAlMjcgd2lkdGg9JTI3MTAwJTI1JTI3IGhlaWdodD0lMjcxMDAlMjUlMjcgZmlsbD0lMjd3aGl0ZSUyNy8lM0UgJTNDdXNlIHhsaW5rOmhyZWY9JTI3JTIzbG9nbyUyNy8lM0UgJTNDdXNlIHhsaW5rOmhyZWY9JTI3JTIzdGV4dCUyNy8lM0UgJTNDL21hc2slM0UgJTNDZyBpZD0lMjdvdXRsaW5lJTI3IG9wYWNpdHk9JTI3MC4zJTI3IHN0cm9rZT0lMjclMjMwMDAlMjcgc3Ryb2tlLXdpZHRoPSUyNzMlMjclM0UgJTNDY2lyY2xlIG1hc2s9JTI3dXJsJTI4JTIzY2xpcCUyOSUyNyBjeD0lMjcxMS41JTI3IGN5PSUyNzExLjUlMjcgcj0lMjc5LjI1JTI3LyUzRSAlM0N1c2UgeGxpbms6aHJlZj0lMjclMjN0ZXh0JTI3IG1hc2s9JTI3dXJsJTI4JTIzY2xpcCUyOSUyNy8lM0UgJTNDL2clM0UgJTNDZyBpZD0lMjdmaWxsJTI3IG9wYWNpdHk9JTI3MC45JTI3IGZpbGw9JTI3JTIzZmZmJTI3JTNFICUzQ3VzZSB4bGluazpocmVmPSUyNyUyM2xvZ28lMjcvJTNFICUzQ3VzZSB4bGluazpocmVmPSUyNyUyM3RleHQlMjcvJTNFICUzQy9nJTNFICUzQy9zdmclM0VcIiwgaW1wb3J0Lm1ldGEudXJsKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfMjZfX18gPSBuZXcgVVJMKFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHdpZHRoPSUyNzg4JTI3IGhlaWdodD0lMjcyMyUyNyB2aWV3Qm94PSUyNzAgMCA4OCAyMyUyNyB4bWxucz0lMjdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyUyNyB4bWxuczp4bGluaz0lMjdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJTI3IGZpbGwtcnVsZT0lMjdldmVub2RkJTI3JTNFICUzQ2RlZnMlM0UgJTNDcGF0aCBpZD0lMjdsb2dvJTI3IGQ9JTI3TTExLjUgMi4yNWM1LjEwNSAwIDkuMjUgNC4xNDUgOS4yNSA5LjI1cy00LjE0NSA5LjI1LTkuMjUgOS4yNS05LjI1LTQuMTQ1LTkuMjUtOS4yNSA0LjE0NS05LjI1IDkuMjUtOS4yNXpNNi45OTcgMTUuOTgzYy0uMDUxLS4zMzgtLjgyOC01LjgwMiAyLjIzMy04Ljg3M2E0LjM5NSA0LjM5NSAwIDAxMy4xMy0xLjI4YzEuMjcgMCAyLjQ5LjUxIDMuMzkgMS40Mi45MS45IDEuNDIgMi4xMiAxLjQyIDMuMzkgMCAxLjE4LS40NDkgMi4zMDEtMS4yOCAzLjEzQzEyLjcyIDE2LjkzIDcgMTYgNyAxNmwtLjAwMy0uMDE3ek0xNS4zIDEwLjVsLTIgLjgtLjggMi0uOC0yLTItLjggMi0uOC44LTIgLjggMiAyIC44eiUyNy8lM0UgJTNDcGF0aCBpZD0lMjd0ZXh0JTI3IGQ9JTI3TTUwLjYzIDhjLjEzIDAgLjIzLjEuMjMuMjNWOWMuNy0uNzYgMS43LTEuMTggMi43My0xLjE4IDIuMTcgMCAzLjk1IDEuODUgMy45NSA0LjE3cy0xLjc3IDQuMTktMy45NCA0LjE5Yy0xLjA0IDAtMi4wMy0uNDMtMi43NC0xLjE4djMuNzdjMCAuMTMtLjEuMjMtLjIzLjIzaC0xLjRjLS4xMyAwLS4yMy0uMS0uMjMtLjIzVjguMjNjMC0uMTIuMS0uMjMuMjMtLjIzaDEuNHptLTMuODYuMDFjLjAxIDAgLjAxIDAgLjAxLS4wMS4xMyAwIC4yMi4xLjIyLjIydjcuNTVjMCAuMTItLjEuMjMtLjIzLjIzaC0xLjRjLS4xMyAwLS4yMy0uMS0uMjMtLjIzVjE1Yy0uNy43Ni0xLjY5IDEuMTktMi43MyAxLjE5LTIuMTcgMC0zLjk0LTEuODctMy45NC00LjE5IDAtMi4zMiAxLjc3LTQuMTkgMy45NC00LjE5IDEuMDMgMCAyLjAyLjQzIDIuNzMgMS4xOHYtLjc1YzAtLjEyLjEtLjIzLjIzLS4yM2gxLjR6bTI2LjM3NS0uMTlhNC4yNCA0LjI0IDAgMDAtNC4xNiAzLjI5Yy0uMTMuNTktLjEzIDEuMTkgMCAxLjc3YTQuMjMzIDQuMjMzIDAgMDA0LjE3IDMuM2MyLjM1IDAgNC4yNi0xLjg3IDQuMjYtNC4xOSAwLTIuMzItMS45LTQuMTctNC4yNy00LjE3ek02MC42MyA1Yy4xMyAwIC4yMy4xLjIzLjIzdjMuNzZjLjctLjc2IDEuNy0xLjE4IDIuNzMtMS4xOCAxLjg4IDAgMy40NSAxLjQgMy44NCAzLjI4LjEzLjU5LjEzIDEuMiAwIDEuOC0uMzkgMS44OC0xLjk2IDMuMjktMy44NCAzLjI5LTEuMDMgMC0yLjAyLS40My0yLjczLTEuMTh2Ljc3YzAgLjEyLS4xLjIzLS4yMy4yM2gtMS40Yy0uMTMgMC0uMjMtLjEtLjIzLS4yM1Y1LjIzYzAtLjEyLjEtLjIzLjIzLS4yM2gxLjR6bS0zNCAxMWgtMS40Yy0uMTMgMC0uMjMtLjExLS4yMy0uMjNWOC4yMmMuMDEtLjEzLjEtLjIyLjIzLS4yMmgxLjRjLjEzIDAgLjIyLjExLjIzLjIydi42OGMuNS0uNjggMS4zLTEuMDkgMi4xNi0xLjFoLjAzYzEuMDkgMCAyLjA5LjYgMi42IDEuNTUuNDUtLjk1IDEuNC0xLjU1IDIuNDQtMS41NiAxLjYyIDAgMi45MyAxLjI1IDIuOSAyLjc4bC4wMyA1LjJjMCAuMTMtLjEuMjMtLjIzLjIzaC0xLjQxYy0uMTMgMC0uMjMtLjExLS4yMy0uMjN2LTQuNTljMC0uOTgtLjc0LTEuNzEtMS42Mi0xLjcxLS44IDAtMS40Ni43LTEuNTkgMS42MmwuMDEgNC42OGMwIC4xMy0uMTEuMjMtLjIzLjIzaC0xLjQxYy0uMTMgMC0uMjMtLjExLS4yMy0uMjN2LTQuNTljMC0uOTgtLjc0LTEuNzEtMS42Mi0xLjcxLS44NSAwLTEuNTQuNzktMS42IDEuOHY0LjVjMCAuMTMtLjEuMjMtLjIzLjIzem01My42MTUgMGgtMS42MWMtLjA0IDAtLjA4LS4wMS0uMTItLjAzLS4wOS0uMDYtLjEzLS4xOS0uMDYtLjI4bDIuNDMtMy43MS0yLjM5LTMuNjVhLjIxMy4yMTMgMCAwMS0uMDMtLjEyYzAtLjEyLjA5LS4yMS4yMS0uMjFoMS42MWMuMTMgMCAuMjQuMDYuMy4xN2wxLjQxIDIuMzcgMS40LTIuMzdhLjM0LjM0IDAgMDEuMy0uMTdoMS42Yy4wNCAwIC4wOC4wMS4xMi4wMy4wOS4wNi4xMy4xOS4wNi4yOGwtMi4zNyAzLjY1IDIuNDMgMy43YzAgLjA1LjAxLjA5LjAxLjEzIDAgLjEyLS4wOS4yMS0uMjEuMjFoLTEuNjFjLS4xMyAwLS4yNC0uMDYtLjMtLjE3bC0xLjQ0LTIuNDItMS40NCAyLjQyYS4zNC4zNCAwIDAxLS4zLjE3em0tNy4xMi0xLjQ5Yy0xLjMzIDAtMi40Mi0xLjEyLTIuNDItMi41MSAwLTEuMzkgMS4wOC0yLjUyIDIuNDItMi41MiAxLjMzIDAgMi40MiAxLjEyIDIuNDIgMi41MSAwIDEuMzktMS4wOCAyLjUxLTIuNDIgMi41MnptLTE5Ljg2NSAwYy0xLjMyIDAtMi4zOS0xLjExLTIuNDItMi40OHYtLjA3Yy4wMi0xLjM4IDEuMDktMi40OSAyLjQtMi40OSAxLjMyIDAgMi40MSAxLjEyIDIuNDEgMi41MSAwIDEuMzktMS4wNyAyLjUyLTIuMzkgMi41M3ptLTguMTEtMi40OGMtLjAxIDEuMzctMS4wOSAyLjQ3LTIuNDEgMi40N3MtMi40Mi0xLjEyLTIuNDItMi41MWMwLTEuMzkgMS4wOC0yLjUyIDIuNC0yLjUyIDEuMzMgMCAyLjM5IDEuMTEgMi40MSAyLjQ4bC4wMi4wOHptMTguMTIgMi40N2MtMS4zMiAwLTIuMzktMS4xMS0yLjQxLTIuNDh2LS4wNmMuMDItMS4zOCAxLjA5LTIuNDggMi40MS0yLjQ4czIuNDIgMS4xMiAyLjQyIDIuNTFjMCAxLjM5LTEuMDkgMi41MS0yLjQyIDIuNTF6JTI3LyUzRSAlM0MvZGVmcyUzRSAlM0NtYXNrIGlkPSUyN2NsaXAlMjclM0UgJTNDcmVjdCB4PSUyNzAlMjcgeT0lMjcwJTI3IHdpZHRoPSUyNzEwMCUyNSUyNyBoZWlnaHQ9JTI3MTAwJTI1JTI3IGZpbGw9JTI3d2hpdGUlMjcvJTNFICUzQ3VzZSB4bGluazpocmVmPSUyNyUyM2xvZ28lMjcvJTNFICUzQ3VzZSB4bGluazpocmVmPSUyNyUyM3RleHQlMjcvJTNFICUzQy9tYXNrJTNFICUzQ2cgaWQ9JTI3b3V0bGluZSUyNyBvcGFjaXR5PSUyNzElMjcgc3Ryb2tlPSUyNyUyMzAwMCUyNyBzdHJva2Utd2lkdGg9JTI3MyUyNyUzRSAlM0NjaXJjbGUgbWFzaz0lMjd1cmwlMjglMjNjbGlwJTI5JTI3IGN4PSUyNzExLjUlMjcgY3k9JTI3MTEuNSUyNyByPSUyNzkuMjUlMjcvJTNFICUzQ3VzZSB4bGluazpocmVmPSUyNyUyM3RleHQlMjcgbWFzaz0lMjd1cmwlMjglMjNjbGlwJTI5JTI3LyUzRSAlM0MvZyUzRSAlM0NnIGlkPSUyN2ZpbGwlMjcgb3BhY2l0eT0lMjcxJTI3IGZpbGw9JTI3JTIzZmZmJTI3JTNFICUzQ3VzZSB4bGluazpocmVmPSUyNyUyM2xvZ28lMjcvJTNFICUzQ3VzZSB4bGluazpocmVmPSUyNyUyM3RleHQlMjcvJTNFICUzQy9nJTNFICUzQy9zdmclM0VcIiwgaW1wb3J0Lm1ldGEudXJsKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfMjdfX18gPSBuZXcgVVJMKFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHdpZHRoPSUyNzg4JTI3IGhlaWdodD0lMjcyMyUyNyB2aWV3Qm94PSUyNzAgMCA4OCAyMyUyNyB4bWxucz0lMjdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyUyNyB4bWxuczp4bGluaz0lMjdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJTI3IGZpbGwtcnVsZT0lMjdldmVub2RkJTI3JTNFICUzQ2RlZnMlM0UgJTNDcGF0aCBpZD0lMjdsb2dvJTI3IGQ9JTI3TTExLjUgMi4yNWM1LjEwNSAwIDkuMjUgNC4xNDUgOS4yNSA5LjI1cy00LjE0NSA5LjI1LTkuMjUgOS4yNS05LjI1LTQuMTQ1LTkuMjUtOS4yNSA0LjE0NS05LjI1IDkuMjUtOS4yNXpNNi45OTcgMTUuOTgzYy0uMDUxLS4zMzgtLjgyOC01LjgwMiAyLjIzMy04Ljg3M2E0LjM5NSA0LjM5NSAwIDAxMy4xMy0xLjI4YzEuMjcgMCAyLjQ5LjUxIDMuMzkgMS40Mi45MS45IDEuNDIgMi4xMiAxLjQyIDMuMzkgMCAxLjE4LS40NDkgMi4zMDEtMS4yOCAzLjEzQzEyLjcyIDE2LjkzIDcgMTYgNyAxNmwtLjAwMy0uMDE3ek0xNS4zIDEwLjVsLTIgLjgtLjggMi0uOC0yLTItLjggMi0uOC44LTIgLjggMiAyIC44eiUyNy8lM0UgJTNDcGF0aCBpZD0lMjd0ZXh0JTI3IGQ9JTI3TTUwLjYzIDhjLjEzIDAgLjIzLjEuMjMuMjNWOWMuNy0uNzYgMS43LTEuMTggMi43My0xLjE4IDIuMTcgMCAzLjk1IDEuODUgMy45NSA0LjE3cy0xLjc3IDQuMTktMy45NCA0LjE5Yy0xLjA0IDAtMi4wMy0uNDMtMi43NC0xLjE4djMuNzdjMCAuMTMtLjEuMjMtLjIzLjIzaC0xLjRjLS4xMyAwLS4yMy0uMS0uMjMtLjIzVjguMjNjMC0uMTIuMS0uMjMuMjMtLjIzaDEuNHptLTMuODYuMDFjLjAxIDAgLjAxIDAgLjAxLS4wMS4xMyAwIC4yMi4xLjIyLjIydjcuNTVjMCAuMTItLjEuMjMtLjIzLjIzaC0xLjRjLS4xMyAwLS4yMy0uMS0uMjMtLjIzVjE1Yy0uNy43Ni0xLjY5IDEuMTktMi43MyAxLjE5LTIuMTcgMC0zLjk0LTEuODctMy45NC00LjE5IDAtMi4zMiAxLjc3LTQuMTkgMy45NC00LjE5IDEuMDMgMCAyLjAyLjQzIDIuNzMgMS4xOHYtLjc1YzAtLjEyLjEtLjIzLjIzLS4yM2gxLjR6bTI2LjM3NS0uMTlhNC4yNCA0LjI0IDAgMDAtNC4xNiAzLjI5Yy0uMTMuNTktLjEzIDEuMTkgMCAxLjc3YTQuMjMzIDQuMjMzIDAgMDA0LjE3IDMuM2MyLjM1IDAgNC4yNi0xLjg3IDQuMjYtNC4xOSAwLTIuMzItMS45LTQuMTctNC4yNy00LjE3ek02MC42MyA1Yy4xMyAwIC4yMy4xLjIzLjIzdjMuNzZjLjctLjc2IDEuNy0xLjE4IDIuNzMtMS4xOCAxLjg4IDAgMy40NSAxLjQgMy44NCAzLjI4LjEzLjU5LjEzIDEuMiAwIDEuOC0uMzkgMS44OC0xLjk2IDMuMjktMy44NCAzLjI5LTEuMDMgMC0yLjAyLS40My0yLjczLTEuMTh2Ljc3YzAgLjEyLS4xLjIzLS4yMy4yM2gtMS40Yy0uMTMgMC0uMjMtLjEtLjIzLS4yM1Y1LjIzYzAtLjEyLjEtLjIzLjIzLS4yM2gxLjR6bS0zNCAxMWgtMS40Yy0uMTMgMC0uMjMtLjExLS4yMy0uMjNWOC4yMmMuMDEtLjEzLjEtLjIyLjIzLS4yMmgxLjRjLjEzIDAgLjIyLjExLjIzLjIydi42OGMuNS0uNjggMS4zLTEuMDkgMi4xNi0xLjFoLjAzYzEuMDkgMCAyLjA5LjYgMi42IDEuNTUuNDUtLjk1IDEuNC0xLjU1IDIuNDQtMS41NiAxLjYyIDAgMi45MyAxLjI1IDIuOSAyLjc4bC4wMyA1LjJjMCAuMTMtLjEuMjMtLjIzLjIzaC0xLjQxYy0uMTMgMC0uMjMtLjExLS4yMy0uMjN2LTQuNTljMC0uOTgtLjc0LTEuNzEtMS42Mi0xLjcxLS44IDAtMS40Ni43LTEuNTkgMS42MmwuMDEgNC42OGMwIC4xMy0uMTEuMjMtLjIzLjIzaC0xLjQxYy0uMTMgMC0uMjMtLjExLS4yMy0uMjN2LTQuNTljMC0uOTgtLjc0LTEuNzEtMS42Mi0xLjcxLS44NSAwLTEuNTQuNzktMS42IDEuOHY0LjVjMCAuMTMtLjEuMjMtLjIzLjIzem01My42MTUgMGgtMS42MWMtLjA0IDAtLjA4LS4wMS0uMTItLjAzLS4wOS0uMDYtLjEzLS4xOS0uMDYtLjI4bDIuNDMtMy43MS0yLjM5LTMuNjVhLjIxMy4yMTMgMCAwMS0uMDMtLjEyYzAtLjEyLjA5LS4yMS4yMS0uMjFoMS42MWMuMTMgMCAuMjQuMDYuMy4xN2wxLjQxIDIuMzcgMS40LTIuMzdhLjM0LjM0IDAgMDEuMy0uMTdoMS42Yy4wNCAwIC4wOC4wMS4xMi4wMy4wOS4wNi4xMy4xOS4wNi4yOGwtMi4zNyAzLjY1IDIuNDMgMy43YzAgLjA1LjAxLjA5LjAxLjEzIDAgLjEyLS4wOS4yMS0uMjEuMjFoLTEuNjFjLS4xMyAwLS4yNC0uMDYtLjMtLjE3bC0xLjQ0LTIuNDItMS40NCAyLjQyYS4zNC4zNCAwIDAxLS4zLjE3em0tNy4xMi0xLjQ5Yy0xLjMzIDAtMi40Mi0xLjEyLTIuNDItMi41MSAwLTEuMzkgMS4wOC0yLjUyIDIuNDItMi41MiAxLjMzIDAgMi40MiAxLjEyIDIuNDIgMi41MSAwIDEuMzktMS4wOCAyLjUxLTIuNDIgMi41MnptLTE5Ljg2NSAwYy0xLjMyIDAtMi4zOS0xLjExLTIuNDItMi40OHYtLjA3Yy4wMi0xLjM4IDEuMDktMi40OSAyLjQtMi40OSAxLjMyIDAgMi40MSAxLjEyIDIuNDEgMi41MSAwIDEuMzktMS4wNyAyLjUyLTIuMzkgMi41M3ptLTguMTEtMi40OGMtLjAxIDEuMzctMS4wOSAyLjQ3LTIuNDEgMi40N3MtMi40Mi0xLjEyLTIuNDItMi41MWMwLTEuMzkgMS4wOC0yLjUyIDIuNC0yLjUyIDEuMzMgMCAyLjM5IDEuMTEgMi40MSAyLjQ4bC4wMi4wOHptMTguMTIgMi40N2MtMS4zMiAwLTIuMzktMS4xMS0yLjQxLTIuNDh2LS4wNmMuMDItMS4zOCAxLjA5LTIuNDggMi40MS0yLjQ4czIuNDIgMS4xMiAyLjQyIDIuNTFjMCAxLjM5LTEuMDkgMi41MS0yLjQyIDIuNTF6JTI3LyUzRSAlM0MvZGVmcyUzRSAlM0NtYXNrIGlkPSUyN2NsaXAlMjclM0UgJTNDcmVjdCB4PSUyNzAlMjcgeT0lMjcwJTI3IHdpZHRoPSUyNzEwMCUyNSUyNyBoZWlnaHQ9JTI3MTAwJTI1JTI3IGZpbGw9JTI3d2hpdGUlMjcvJTNFICUzQ3VzZSB4bGluazpocmVmPSUyNyUyM2xvZ28lMjcvJTNFICUzQ3VzZSB4bGluazpocmVmPSUyNyUyM3RleHQlMjcvJTNFICUzQy9tYXNrJTNFICUzQ2cgaWQ9JTI3b3V0bGluZSUyNyBvcGFjaXR5PSUyNzElMjcgc3Ryb2tlPSUyNyUyM2ZmZiUyNyBzdHJva2Utd2lkdGg9JTI3MyUyNyBmaWxsPSUyNyUyM2ZmZiUyNyUzRSAlM0NjaXJjbGUgbWFzaz0lMjd1cmwlMjglMjNjbGlwJTI5JTI3IGN4PSUyNzExLjUlMjcgY3k9JTI3MTEuNSUyNyByPSUyNzkuMjUlMjcvJTNFICUzQ3VzZSB4bGluazpocmVmPSUyNyUyM3RleHQlMjcgbWFzaz0lMjd1cmwlMjglMjNjbGlwJTI5JTI3LyUzRSAlM0MvZyUzRSAlM0NnIGlkPSUyN2ZpbGwlMjcgb3BhY2l0eT0lMjcxJTI3IGZpbGw9JTI3JTIzMDAwJTI3JTNFICUzQ3VzZSB4bGluazpocmVmPSUyNyUyM2xvZ28lMjcvJTNFICUzQ3VzZSB4bGluazpocmVmPSUyNyUyM3RleHQlMjcvJTNFICUzQy9nJTNFICUzQy9zdmclM0VcIiwgaW1wb3J0Lm1ldGEudXJsKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfMjhfX18gPSBuZXcgVVJMKFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHdpZHRoPSUyNzI0JTI3IGhlaWdodD0lMjcyNCUyNyB2aWV3Qm94PSUyNzAgMCAyMCAyMCUyNyB4bWxucz0lMjdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyUyNyBmaWxsLXJ1bGU9JTI3ZXZlbm9kZCUyNyUzRSAlM0NwYXRoIGQ9JTI3TTQgMTBhNiA2IDAgMSAwIDEyIDAgNiA2IDAgMSAwLTEyIDBtNS0zYTEgMSAwIDEgMCAyIDAgMSAxIDAgMSAwLTIgMG0wIDNhMSAxIDAgMSAxIDIgMHYzYTEgMSAwIDEgMS0yIDAlMjcvJTNFICUzQy9zdmclM0VcIiwgaW1wb3J0Lm1ldGEudXJsKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfMjlfX18gPSBuZXcgVVJMKFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHdpZHRoPSUyNzI0JTI3IGhlaWdodD0lMjcyNCUyNyB2aWV3Qm94PSUyNzAgMCAyMCAyMCUyNyB4bWxucz0lMjdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyUyNyBmaWxsLXJ1bGU9JTI3ZXZlbm9kZCUyNyBmaWxsPSUyNyUyM2ZmZiUyNyUzRSAlM0NwYXRoIGQ9JTI3TTQgMTBhNiA2IDAgMSAwIDEyIDAgNiA2IDAgMSAwLTEyIDBtNS0zYTEgMSAwIDEgMCAyIDAgMSAxIDAgMSAwLTIgMG0wIDNhMSAxIDAgMSAxIDIgMHYzYTEgMSAwIDEgMS0yIDAlMjcvJTNFICUzQy9zdmclM0VcIiwgaW1wb3J0Lm1ldGEudXJsKTtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8wX19fID0gX19fQ1NTX0xPQURFUl9HRVRfVVJMX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfMF9fXyk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMV9fXyA9IF9fX0NTU19MT0FERVJfR0VUX1VSTF9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzFfX18pO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzJfX18gPSBfX19DU1NfTE9BREVSX0dFVF9VUkxfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF8yX19fKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8zX19fID0gX19fQ1NTX0xPQURFUl9HRVRfVVJMX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfM19fXyk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfNF9fXyA9IF9fX0NTU19MT0FERVJfR0VUX1VSTF9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzRfX18pO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzVfX18gPSBfX19DU1NfTE9BREVSX0dFVF9VUkxfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF81X19fKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF82X19fID0gX19fQ1NTX0xPQURFUl9HRVRfVVJMX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfNl9fXyk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfN19fXyA9IF9fX0NTU19MT0FERVJfR0VUX1VSTF9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzdfX18pO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzhfX18gPSBfX19DU1NfTE9BREVSX0dFVF9VUkxfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF84X19fKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF85X19fID0gX19fQ1NTX0xPQURFUl9HRVRfVVJMX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfOV9fXyk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMTBfX18gPSBfX19DU1NfTE9BREVSX0dFVF9VUkxfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF8xMF9fXyk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMTFfX18gPSBfX19DU1NfTE9BREVSX0dFVF9VUkxfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF8xMV9fXyk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMTJfX18gPSBfX19DU1NfTE9BREVSX0dFVF9VUkxfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF8xMl9fXyk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMTNfX18gPSBfX19DU1NfTE9BREVSX0dFVF9VUkxfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF8xM19fXyk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMTRfX18gPSBfX19DU1NfTE9BREVSX0dFVF9VUkxfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF8xNF9fXyk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMTVfX18gPSBfX19DU1NfTE9BREVSX0dFVF9VUkxfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF8xNV9fXyk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMTZfX18gPSBfX19DU1NfTE9BREVSX0dFVF9VUkxfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF8xNl9fXyk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMTdfX18gPSBfX19DU1NfTE9BREVSX0dFVF9VUkxfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF8xN19fXyk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMThfX18gPSBfX19DU1NfTE9BREVSX0dFVF9VUkxfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF8xOF9fXyk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMTlfX18gPSBfX19DU1NfTE9BREVSX0dFVF9VUkxfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF8xOV9fXyk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMjBfX18gPSBfX19DU1NfTE9BREVSX0dFVF9VUkxfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF8yMF9fXyk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMjFfX18gPSBfX19DU1NfTE9BREVSX0dFVF9VUkxfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF8yMV9fXyk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMjJfX18gPSBfX19DU1NfTE9BREVSX0dFVF9VUkxfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF8yMl9fXyk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMjNfX18gPSBfX19DU1NfTE9BREVSX0dFVF9VUkxfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF8yM19fXyk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMjRfX18gPSBfX19DU1NfTE9BREVSX0dFVF9VUkxfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF8yNF9fXyk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMjVfX18gPSBfX19DU1NfTE9BREVSX0dFVF9VUkxfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF8yNV9fXyk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMjZfX18gPSBfX19DU1NfTE9BREVSX0dFVF9VUkxfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF8yNl9fXyk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMjdfX18gPSBfX19DU1NfTE9BREVSX0dFVF9VUkxfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF8yN19fXyk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMjhfX18gPSBfX19DU1NfTE9BREVSX0dFVF9VUkxfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF8yOF9fXyk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMjlfX18gPSBfX19DU1NfTE9BREVSX0dFVF9VUkxfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF8yOV9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgYC5tYXBib3hnbC1tYXB7Zm9udDoxMnB4LzIwcHggSGVsdmV0aWNhIE5ldWUsQXJpYWwsSGVsdmV0aWNhLHNhbnMtc2VyaWY7b3ZlcmZsb3c6aGlkZGVuO3Bvc2l0aW9uOnJlbGF0aXZlOy13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvcjpyZ2IoMCAwIDAvMCl9Lm1hcGJveGdsLWNhbnZhc3twb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7dG9wOjB9Lm1hcGJveGdsLW1hcDotd2Via2l0LWZ1bGwtc2NyZWVue3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCV9Lm1hcGJveGdsLWNhbmFyeXtiYWNrZ3JvdW5kLWNvbG9yOnNhbG1vbn0ubWFwYm94Z2wtY2FudmFzLWNvbnRhaW5lci5tYXBib3hnbC1pbnRlcmFjdGl2ZSwubWFwYm94Z2wtY3RybC1ncm91cCBidXR0b24ubWFwYm94Z2wtY3RybC1jb21wYXNze2N1cnNvcjpncmFiOy13ZWJraXQtdXNlci1zZWxlY3Q6bm9uZTt1c2VyLXNlbGVjdDpub25lfS5tYXBib3hnbC1jYW52YXMtY29udGFpbmVyLm1hcGJveGdsLWludGVyYWN0aXZlLm1hcGJveGdsLXRyYWNrLXBvaW50ZXJ7Y3Vyc29yOnBvaW50ZXJ9Lm1hcGJveGdsLWNhbnZhcy1jb250YWluZXIubWFwYm94Z2wtaW50ZXJhY3RpdmU6YWN0aXZlLC5tYXBib3hnbC1jdHJsLWdyb3VwIGJ1dHRvbi5tYXBib3hnbC1jdHJsLWNvbXBhc3M6YWN0aXZle2N1cnNvcjpncmFiYmluZ30ubWFwYm94Z2wtY2FudmFzLWNvbnRhaW5lci5tYXBib3hnbC10b3VjaC16b29tLXJvdGF0ZSwubWFwYm94Z2wtY2FudmFzLWNvbnRhaW5lci5tYXBib3hnbC10b3VjaC16b29tLXJvdGF0ZSAubWFwYm94Z2wtY2FudmFze3RvdWNoLWFjdGlvbjpwYW4teCBwYW4teX0ubWFwYm94Z2wtY2FudmFzLWNvbnRhaW5lci5tYXBib3hnbC10b3VjaC1kcmFnLXBhbiwubWFwYm94Z2wtY2FudmFzLWNvbnRhaW5lci5tYXBib3hnbC10b3VjaC1kcmFnLXBhbiAubWFwYm94Z2wtY2FudmFze3RvdWNoLWFjdGlvbjpwaW5jaC16b29tfS5tYXBib3hnbC1jYW52YXMtY29udGFpbmVyLm1hcGJveGdsLXRvdWNoLXpvb20tcm90YXRlLm1hcGJveGdsLXRvdWNoLWRyYWctcGFuLC5tYXBib3hnbC1jYW52YXMtY29udGFpbmVyLm1hcGJveGdsLXRvdWNoLXpvb20tcm90YXRlLm1hcGJveGdsLXRvdWNoLWRyYWctcGFuIC5tYXBib3hnbC1jYW52YXN7dG91Y2gtYWN0aW9uOm5vbmV9Lm1hcGJveGdsLWN0cmwtYm90dG9tLWxlZnQsLm1hcGJveGdsLWN0cmwtYm90dG9tLXJpZ2h0LC5tYXBib3hnbC1jdHJsLXRvcC1sZWZ0LC5tYXBib3hnbC1jdHJsLXRvcC1yaWdodHtwb3NpdGlvbjphYnNvbHV0ZTtwb2ludGVyLWV2ZW50czpub25lO3otaW5kZXg6Mn0ubWFwYm94Z2wtY3RybC10b3AtbGVmdHt0b3A6MDtsZWZ0OjB9Lm1hcGJveGdsLWN0cmwtdG9wLXJpZ2h0e3RvcDowO3JpZ2h0OjB9Lm1hcGJveGdsLWN0cmwtYm90dG9tLWxlZnR7Ym90dG9tOjA7bGVmdDowfS5tYXBib3hnbC1jdHJsLWJvdHRvbS1yaWdodHtyaWdodDowO2JvdHRvbTowfS5tYXBib3hnbC1jdHJse2NsZWFyOmJvdGg7cG9pbnRlci1ldmVudHM6YXV0bzt0cmFuc2Zvcm06dHJhbnNsYXRlKDApfS5tYXBib3hnbC1jdHJsLXRvcC1sZWZ0IC5tYXBib3hnbC1jdHJse21hcmdpbjoxMHB4IDAgMCAxMHB4O2Zsb2F0OmxlZnR9Lm1hcGJveGdsLWN0cmwtdG9wLXJpZ2h0IC5tYXBib3hnbC1jdHJse21hcmdpbjoxMHB4IDEwcHggMCAwO2Zsb2F0OnJpZ2h0fS5tYXBib3hnbC1jdHJsLWJvdHRvbS1sZWZ0IC5tYXBib3hnbC1jdHJse21hcmdpbjowIDAgMTBweCAxMHB4O2Zsb2F0OmxlZnR9Lm1hcGJveGdsLWN0cmwtYm90dG9tLXJpZ2h0IC5tYXBib3hnbC1jdHJse21hcmdpbjowIDEwcHggMTBweCAwO2Zsb2F0OnJpZ2h0fS5tYXBib3hnbC1jdHJsLWdyb3Vwe2JvcmRlci1yYWRpdXM6NHB4O2JhY2tncm91bmQ6I2ZmZn0ubWFwYm94Z2wtY3RybC1ncm91cDpub3QoOmVtcHR5KXtib3gtc2hhZG93OjAgMCAwIDJweCByZ2IoMCAwIDAvMTAlKX1AbWVkaWEgKC1tcy1oaWdoLWNvbnRyYXN0OmFjdGl2ZSl7Lm1hcGJveGdsLWN0cmwtZ3JvdXA6bm90KDplbXB0eSl7Ym94LXNoYWRvdzowIDAgMCAycHggQnV0dG9uVGV4dH19Lm1hcGJveGdsLWN0cmwtZ3JvdXAgYnV0dG9ue3dpZHRoOjI5cHg7aGVpZ2h0OjI5cHg7ZGlzcGxheTpibG9jaztwYWRkaW5nOjA7b3V0bGluZTpub25lO2JvcmRlcjowO2JveC1zaXppbmc6Ym9yZGVyLWJveDtiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50O2N1cnNvcjpwb2ludGVyO292ZXJmbG93OmhpZGRlbn0ubWFwYm94Z2wtY3RybC1ncm91cCBidXR0b24rYnV0dG9ue2JvcmRlci10b3A6MXB4IHNvbGlkICNkZGR9Lm1hcGJveGdsLWN0cmwgYnV0dG9uIC5tYXBib3hnbC1jdHJsLWljb257ZGlzcGxheTpibG9jazt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDtiYWNrZ3JvdW5kLXBvc2l0aW9uOjUwJX1AbWVkaWEgKC1tcy1oaWdoLWNvbnRyYXN0OmFjdGl2ZSl7Lm1hcGJveGdsLWN0cmwtaWNvbntiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50fS5tYXBib3hnbC1jdHJsLWdyb3VwIGJ1dHRvbitidXR0b257Ym9yZGVyLXRvcDoxcHggc29saWQgQnV0dG9uVGV4dH19Lm1hcGJveGdsLWN0cmwtYXR0cmliLWJ1dHRvbjpmb2N1cywubWFwYm94Z2wtY3RybC1ncm91cCBidXR0b246Zm9jdXN7Ym94LXNoYWRvdzowIDAgMnB4IDJweCByZ2IoMCAxNTAgMjU1LzEwMCUpfS5tYXBib3hnbC1jdHJsIGJ1dHRvbjpkaXNhYmxlZHtjdXJzb3I6bm90LWFsbG93ZWR9Lm1hcGJveGdsLWN0cmwgYnV0dG9uOmRpc2FibGVkIC5tYXBib3hnbC1jdHJsLWljb257b3BhY2l0eTouMjV9Lm1hcGJveGdsLWN0cmwtZ3JvdXAgYnV0dG9uOmZpcnN0LWNoaWxke2JvcmRlci1yYWRpdXM6NHB4IDRweCAwIDB9Lm1hcGJveGdsLWN0cmwtZ3JvdXAgYnV0dG9uOmxhc3QtY2hpbGR7Ym9yZGVyLXJhZGl1czowIDAgNHB4IDRweH0ubWFwYm94Z2wtY3RybC1ncm91cCBidXR0b246b25seS1jaGlsZHtib3JkZXItcmFkaXVzOmluaGVyaXR9Lm1hcGJveGdsLWN0cmwgYnV0dG9uOm5vdCg6ZGlzYWJsZWQpOmhvdmVye2JhY2tncm91bmQtY29sb3I6cmdiKDAgMCAwLzUlKX0ubWFwYm94Z2wtY3RybC1ncm91cCBidXR0b246Zm9jdXM6Zm9jdXMtdmlzaWJsZXtib3gtc2hhZG93OjAgMCAycHggMnB4IHJnYigwIDE1MCAyNTUvMTAwJSl9Lm1hcGJveGdsLWN0cmwtZ3JvdXAgYnV0dG9uOmZvY3VzOm5vdCg6Zm9jdXMtdmlzaWJsZSl7Ym94LXNoYWRvdzpub25lfS5tYXBib3hnbC1jdHJsIGJ1dHRvbi5tYXBib3hnbC1jdHJsLXpvb20tb3V0IC5tYXBib3hnbC1jdHJsLWljb257YmFja2dyb3VuZC1pbWFnZTp1cmwoJHtfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8wX19ffSl9Lm1hcGJveGdsLWN0cmwgYnV0dG9uLm1hcGJveGdsLWN0cmwtem9vbS1pbiAubWFwYm94Z2wtY3RybC1pY29ue2JhY2tncm91bmQtaW1hZ2U6dXJsKCR7X19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMV9fX30pfUBtZWRpYSAoLW1zLWhpZ2gtY29udHJhc3Q6YWN0aXZlKXsubWFwYm94Z2wtY3RybCBidXR0b24ubWFwYm94Z2wtY3RybC16b29tLW91dCAubWFwYm94Z2wtY3RybC1pY29ue2JhY2tncm91bmQtaW1hZ2U6dXJsKCR7X19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMl9fX30pfS5tYXBib3hnbC1jdHJsIGJ1dHRvbi5tYXBib3hnbC1jdHJsLXpvb20taW4gLm1hcGJveGdsLWN0cmwtaWNvbntiYWNrZ3JvdW5kLWltYWdlOnVybCgke19fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzNfX199KX19QG1lZGlhICgtbXMtaGlnaC1jb250cmFzdDpibGFjay1vbi13aGl0ZSl7Lm1hcGJveGdsLWN0cmwgYnV0dG9uLm1hcGJveGdsLWN0cmwtem9vbS1vdXQgLm1hcGJveGdsLWN0cmwtaWNvbntiYWNrZ3JvdW5kLWltYWdlOnVybCgke19fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzRfX199KX0ubWFwYm94Z2wtY3RybCBidXR0b24ubWFwYm94Z2wtY3RybC16b29tLWluIC5tYXBib3hnbC1jdHJsLWljb257YmFja2dyb3VuZC1pbWFnZTp1cmwoJHtfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF81X19ffSl9fS5tYXBib3hnbC1jdHJsIGJ1dHRvbi5tYXBib3hnbC1jdHJsLWZ1bGxzY3JlZW4gLm1hcGJveGdsLWN0cmwtaWNvbntiYWNrZ3JvdW5kLWltYWdlOnVybCgke19fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzZfX199KX0ubWFwYm94Z2wtY3RybCBidXR0b24ubWFwYm94Z2wtY3RybC1zaHJpbmsgLm1hcGJveGdsLWN0cmwtaWNvbntiYWNrZ3JvdW5kLWltYWdlOnVybCgke19fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzdfX199KX1AbWVkaWEgKC1tcy1oaWdoLWNvbnRyYXN0OmFjdGl2ZSl7Lm1hcGJveGdsLWN0cmwgYnV0dG9uLm1hcGJveGdsLWN0cmwtZnVsbHNjcmVlbiAubWFwYm94Z2wtY3RybC1pY29ue2JhY2tncm91bmQtaW1hZ2U6dXJsKCR7X19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfOF9fX30pfS5tYXBib3hnbC1jdHJsIGJ1dHRvbi5tYXBib3hnbC1jdHJsLXNocmluayAubWFwYm94Z2wtY3RybC1pY29ue2JhY2tncm91bmQtaW1hZ2U6dXJsKCR7X19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfOV9fX30pfX1AbWVkaWEgKC1tcy1oaWdoLWNvbnRyYXN0OmJsYWNrLW9uLXdoaXRlKXsubWFwYm94Z2wtY3RybCBidXR0b24ubWFwYm94Z2wtY3RybC1mdWxsc2NyZWVuIC5tYXBib3hnbC1jdHJsLWljb257YmFja2dyb3VuZC1pbWFnZTp1cmwoJHtfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8xMF9fX30pfS5tYXBib3hnbC1jdHJsIGJ1dHRvbi5tYXBib3hnbC1jdHJsLXNocmluayAubWFwYm94Z2wtY3RybC1pY29ue2JhY2tncm91bmQtaW1hZ2U6dXJsKCR7X19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMTFfX199KX19Lm1hcGJveGdsLWN0cmwgYnV0dG9uLm1hcGJveGdsLWN0cmwtY29tcGFzcyAubWFwYm94Z2wtY3RybC1pY29ue2JhY2tncm91bmQtaW1hZ2U6dXJsKCR7X19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMTJfX199KX1AbWVkaWEgKC1tcy1oaWdoLWNvbnRyYXN0OmFjdGl2ZSl7Lm1hcGJveGdsLWN0cmwgYnV0dG9uLm1hcGJveGdsLWN0cmwtY29tcGFzcyAubWFwYm94Z2wtY3RybC1pY29ue2JhY2tncm91bmQtaW1hZ2U6dXJsKCR7X19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMTNfX199KX19QG1lZGlhICgtbXMtaGlnaC1jb250cmFzdDpibGFjay1vbi13aGl0ZSl7Lm1hcGJveGdsLWN0cmwgYnV0dG9uLm1hcGJveGdsLWN0cmwtY29tcGFzcyAubWFwYm94Z2wtY3RybC1pY29ue2JhY2tncm91bmQtaW1hZ2U6dXJsKCR7X19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMTRfX199KX19Lm1hcGJveGdsLWN0cmwgYnV0dG9uLm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlIC5tYXBib3hnbC1jdHJsLWljb257YmFja2dyb3VuZC1pbWFnZTp1cmwoJHtfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8xNV9fX30pfS5tYXBib3hnbC1jdHJsIGJ1dHRvbi5tYXBib3hnbC1jdHJsLWdlb2xvY2F0ZTpkaXNhYmxlZCAubWFwYm94Z2wtY3RybC1pY29ue2JhY2tncm91bmQtaW1hZ2U6dXJsKCR7X19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMTZfX199KX0ubWFwYm94Z2wtY3RybCBidXR0b24ubWFwYm94Z2wtY3RybC1nZW9sb2NhdGUubWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlIC5tYXBib3hnbC1jdHJsLWljb257YmFja2dyb3VuZC1pbWFnZTp1cmwoJHtfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8xN19fX30pfS5tYXBib3hnbC1jdHJsIGJ1dHRvbi5tYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS5tYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1hY3RpdmUtZXJyb3IgLm1hcGJveGdsLWN0cmwtaWNvbntiYWNrZ3JvdW5kLWltYWdlOnVybCgke19fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzE4X19ffSl9Lm1hcGJveGdsLWN0cmwgYnV0dG9uLm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmQgLm1hcGJveGdsLWN0cmwtaWNvbntiYWNrZ3JvdW5kLWltYWdlOnVybCgke19fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzE5X19ffSl9Lm1hcGJveGdsLWN0cmwgYnV0dG9uLm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmQtZXJyb3IgLm1hcGJveGdsLWN0cmwtaWNvbntiYWNrZ3JvdW5kLWltYWdlOnVybCgke19fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzIwX19ffSl9Lm1hcGJveGdsLWN0cmwgYnV0dG9uLm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLXdhaXRpbmcgLm1hcGJveGdsLWN0cmwtaWNvbnthbmltYXRpb246bWFwYm94Z2wtc3BpbiAycyBsaW5lYXIgaW5maW5pdGV9QG1lZGlhICgtbXMtaGlnaC1jb250cmFzdDphY3RpdmUpey5tYXBib3hnbC1jdHJsIGJ1dHRvbi5tYXBib3hnbC1jdHJsLWdlb2xvY2F0ZSAubWFwYm94Z2wtY3RybC1pY29ue2JhY2tncm91bmQtaW1hZ2U6dXJsKCR7X19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMjFfX199KX0ubWFwYm94Z2wtY3RybCBidXR0b24ubWFwYm94Z2wtY3RybC1nZW9sb2NhdGU6ZGlzYWJsZWQgLm1hcGJveGdsLWN0cmwtaWNvbntiYWNrZ3JvdW5kLWltYWdlOnVybCgke19fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzIyX19ffSl9Lm1hcGJveGdsLWN0cmwgYnV0dG9uLm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZSAubWFwYm94Z2wtY3RybC1pY29ue2JhY2tncm91bmQtaW1hZ2U6dXJsKCR7X19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMTdfX199KX0ubWFwYm94Z2wtY3RybCBidXR0b24ubWFwYm94Z2wtY3RybC1nZW9sb2NhdGUubWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlLWVycm9yIC5tYXBib3hnbC1jdHJsLWljb257YmFja2dyb3VuZC1pbWFnZTp1cmwoJHtfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8xOF9fX30pfS5tYXBib3hnbC1jdHJsIGJ1dHRvbi5tYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS5tYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kIC5tYXBib3hnbC1jdHJsLWljb257YmFja2dyb3VuZC1pbWFnZTp1cmwoJHtfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8xOV9fX30pfS5tYXBib3hnbC1jdHJsIGJ1dHRvbi5tYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS5tYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kLWVycm9yIC5tYXBib3hnbC1jdHJsLWljb257YmFja2dyb3VuZC1pbWFnZTp1cmwoJHtfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8yMF9fX30pfX1AbWVkaWEgKC1tcy1oaWdoLWNvbnRyYXN0OmJsYWNrLW9uLXdoaXRlKXsubWFwYm94Z2wtY3RybCBidXR0b24ubWFwYm94Z2wtY3RybC1nZW9sb2NhdGUgLm1hcGJveGdsLWN0cmwtaWNvbntiYWNrZ3JvdW5kLWltYWdlOnVybCgke19fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzIzX19ffSl9Lm1hcGJveGdsLWN0cmwgYnV0dG9uLm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlOmRpc2FibGVkIC5tYXBib3hnbC1jdHJsLWljb257YmFja2dyb3VuZC1pbWFnZTp1cmwoJHtfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8yNF9fX30pfX1Aa2V5ZnJhbWVzIG1hcGJveGdsLXNwaW57MCV7dHJhbnNmb3JtOnJvdGF0ZSgwZGVnKX10b3t0cmFuc2Zvcm06cm90YXRlKDF0dXJuKX19YS5tYXBib3hnbC1jdHJsLWxvZ297d2lkdGg6ODhweDtoZWlnaHQ6MjNweDttYXJnaW46MCAwIC00cHggLTRweDtkaXNwbGF5OmJsb2NrO2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDtjdXJzb3I6cG9pbnRlcjtvdmVyZmxvdzpoaWRkZW47YmFja2dyb3VuZC1pbWFnZTp1cmwoJHtfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8yNV9fX30pfWEubWFwYm94Z2wtY3RybC1sb2dvLm1hcGJveGdsLWNvbXBhY3R7d2lkdGg6MjNweH1AbWVkaWEgKC1tcy1oaWdoLWNvbnRyYXN0OmFjdGl2ZSl7YS5tYXBib3hnbC1jdHJsLWxvZ297YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudDtiYWNrZ3JvdW5kLWltYWdlOnVybCgke19fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzI2X19ffSl9fUBtZWRpYSAoLW1zLWhpZ2gtY29udHJhc3Q6YmxhY2stb24td2hpdGUpe2EubWFwYm94Z2wtY3RybC1sb2dve2JhY2tncm91bmQtaW1hZ2U6dXJsKCR7X19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMjdfX199KX19Lm1hcGJveGdsLWN0cmwubWFwYm94Z2wtY3RybC1hdHRyaWJ7cGFkZGluZzowIDVweDtiYWNrZ3JvdW5kLWNvbG9yOnJnYigyNTUgMjU1IDI1NS81MCUpO21hcmdpbjowfUBtZWRpYSBzY3JlZW57Lm1hcGJveGdsLWN0cmwtYXR0cmliLm1hcGJveGdsLWNvbXBhY3R7bWluLWhlaWdodDoyMHB4O3BhZGRpbmc6MnB4IDI0cHggMnB4IDA7bWFyZ2luOjEwcHg7cG9zaXRpb246cmVsYXRpdmU7YmFja2dyb3VuZC1jb2xvcjojZmZmO2JvcmRlci1yYWRpdXM6MTJweH0ubWFwYm94Z2wtY3RybC1hdHRyaWIubWFwYm94Z2wtY29tcGFjdC1zaG93e3BhZGRpbmc6MnB4IDI4cHggMnB4IDhweDt2aXNpYmlsaXR5OnZpc2libGV9Lm1hcGJveGdsLWN0cmwtYm90dG9tLWxlZnQ+Lm1hcGJveGdsLWN0cmwtYXR0cmliLm1hcGJveGdsLWNvbXBhY3Qtc2hvdywubWFwYm94Z2wtY3RybC10b3AtbGVmdD4ubWFwYm94Z2wtY3RybC1hdHRyaWIubWFwYm94Z2wtY29tcGFjdC1zaG93e3BhZGRpbmc6MnB4IDhweCAycHggMjhweDtib3JkZXItcmFkaXVzOjEycHh9Lm1hcGJveGdsLWN0cmwtYXR0cmliLm1hcGJveGdsLWNvbXBhY3QgLm1hcGJveGdsLWN0cmwtYXR0cmliLWlubmVye2Rpc3BsYXk6bm9uZX0ubWFwYm94Z2wtY3RybC1hdHRyaWItYnV0dG9ue2Rpc3BsYXk6bm9uZTtjdXJzb3I6cG9pbnRlcjtwb3NpdGlvbjphYnNvbHV0ZTtiYWNrZ3JvdW5kLWltYWdlOnVybCgke19fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzI4X19ffSk7YmFja2dyb3VuZC1jb2xvcjpyZ2IoMjU1IDI1NSAyNTUvNTAlKTt3aWR0aDoyNHB4O2hlaWdodDoyNHB4O2JveC1zaXppbmc6Ym9yZGVyLWJveDtib3JkZXItcmFkaXVzOjEycHg7b3V0bGluZTpub25lO3RvcDowO3JpZ2h0OjA7Ym9yZGVyOjB9Lm1hcGJveGdsLWN0cmwtYm90dG9tLWxlZnQgLm1hcGJveGdsLWN0cmwtYXR0cmliLWJ1dHRvbiwubWFwYm94Z2wtY3RybC10b3AtbGVmdCAubWFwYm94Z2wtY3RybC1hdHRyaWItYnV0dG9ue2xlZnQ6MH0ubWFwYm94Z2wtY3RybC1hdHRyaWIubWFwYm94Z2wtY29tcGFjdC1zaG93IC5tYXBib3hnbC1jdHJsLWF0dHJpYi1pbm5lciwubWFwYm94Z2wtY3RybC1hdHRyaWIubWFwYm94Z2wtY29tcGFjdCAubWFwYm94Z2wtY3RybC1hdHRyaWItYnV0dG9ue2Rpc3BsYXk6YmxvY2t9Lm1hcGJveGdsLWN0cmwtYXR0cmliLm1hcGJveGdsLWNvbXBhY3Qtc2hvdyAubWFwYm94Z2wtY3RybC1hdHRyaWItYnV0dG9ue2JhY2tncm91bmQtY29sb3I6cmdiKDAgMCAwLzUlKX0ubWFwYm94Z2wtY3RybC1ib3R0b20tcmlnaHQ+Lm1hcGJveGdsLWN0cmwtYXR0cmliLm1hcGJveGdsLWNvbXBhY3Q6YWZ0ZXJ7Ym90dG9tOjA7cmlnaHQ6MH0ubWFwYm94Z2wtY3RybC10b3AtcmlnaHQ+Lm1hcGJveGdsLWN0cmwtYXR0cmliLm1hcGJveGdsLWNvbXBhY3Q6YWZ0ZXJ7dG9wOjA7cmlnaHQ6MH0ubWFwYm94Z2wtY3RybC10b3AtbGVmdD4ubWFwYm94Z2wtY3RybC1hdHRyaWIubWFwYm94Z2wtY29tcGFjdDphZnRlcnt0b3A6MDtsZWZ0OjB9Lm1hcGJveGdsLWN0cmwtYm90dG9tLWxlZnQ+Lm1hcGJveGdsLWN0cmwtYXR0cmliLm1hcGJveGdsLWNvbXBhY3Q6YWZ0ZXJ7Ym90dG9tOjA7bGVmdDowfX1AbWVkaWEgc2NyZWVuIGFuZCAoLW1zLWhpZ2gtY29udHJhc3Q6YWN0aXZlKXsubWFwYm94Z2wtY3RybC1hdHRyaWIubWFwYm94Z2wtY29tcGFjdDphZnRlcntiYWNrZ3JvdW5kLWltYWdlOnVybCgke19fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzI5X19ffSl9fUBtZWRpYSBzY3JlZW4gYW5kICgtbXMtaGlnaC1jb250cmFzdDpibGFjay1vbi13aGl0ZSl7Lm1hcGJveGdsLWN0cmwtYXR0cmliLm1hcGJveGdsLWNvbXBhY3Q6YWZ0ZXJ7YmFja2dyb3VuZC1pbWFnZTp1cmwoJHtfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8yOF9fX30pfX0ubWFwYm94Z2wtY3RybC1hdHRyaWIgYXtjb2xvcjpyZ2IoMCAwIDAvNzUlKTt0ZXh0LWRlY29yYXRpb246bm9uZX0ubWFwYm94Z2wtY3RybC1hdHRyaWIgYTpob3Zlcntjb2xvcjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjp1bmRlcmxpbmV9Lm1hcGJveGdsLWN0cmwtYXR0cmliIC5tYXBib3gtaW1wcm92ZS1tYXB7Zm9udC13ZWlnaHQ6NzAwO21hcmdpbi1sZWZ0OjJweH0ubWFwYm94Z2wtYXR0cmliLWVtcHR5e2Rpc3BsYXk6bm9uZX0ubWFwYm94Z2wtY3RybC1zY2FsZXtiYWNrZ3JvdW5kLWNvbG9yOnJnYigyNTUgMjU1IDI1NS83NSUpO2ZvbnQtc2l6ZToxMHB4O2JvcmRlcjoycHggc29saWQgIzMzMztib3JkZXItdG9wOiMzMzM7cGFkZGluZzowIDVweDtjb2xvcjojMzMzO2JveC1zaXppbmc6Ym9yZGVyLWJveDt3aGl0ZS1zcGFjZTpub3dyYXB9Lm1hcGJveGdsLXBvcHVwe3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6MDtkaXNwbGF5OmZsZXg7d2lsbC1jaGFuZ2U6dHJhbnNmb3JtO3BvaW50ZXItZXZlbnRzOm5vbmV9Lm1hcGJveGdsLXBvcHVwLWFuY2hvci10b3AsLm1hcGJveGdsLXBvcHVwLWFuY2hvci10b3AtbGVmdCwubWFwYm94Z2wtcG9wdXAtYW5jaG9yLXRvcC1yaWdodHtmbGV4LWRpcmVjdGlvbjpjb2x1bW59Lm1hcGJveGdsLXBvcHVwLWFuY2hvci1ib3R0b20sLm1hcGJveGdsLXBvcHVwLWFuY2hvci1ib3R0b20tbGVmdCwubWFwYm94Z2wtcG9wdXAtYW5jaG9yLWJvdHRvbS1yaWdodHtmbGV4LWRpcmVjdGlvbjpjb2x1bW4tcmV2ZXJzZX0ubWFwYm94Z2wtcG9wdXAtYW5jaG9yLWxlZnR7ZmxleC1kaXJlY3Rpb246cm93fS5tYXBib3hnbC1wb3B1cC1hbmNob3ItcmlnaHR7ZmxleC1kaXJlY3Rpb246cm93LXJldmVyc2V9Lm1hcGJveGdsLXBvcHVwLXRpcHt3aWR0aDowO2hlaWdodDowO2JvcmRlcjoxMHB4IHNvbGlkIHRyYW5zcGFyZW50O3otaW5kZXg6MX0ubWFwYm94Z2wtcG9wdXAtYW5jaG9yLXRvcCAubWFwYm94Z2wtcG9wdXAtdGlwe2FsaWduLXNlbGY6Y2VudGVyO2JvcmRlci10b3A6bm9uZTtib3JkZXItYm90dG9tLWNvbG9yOiNmZmZ9Lm1hcGJveGdsLXBvcHVwLWFuY2hvci10b3AtbGVmdCAubWFwYm94Z2wtcG9wdXAtdGlwe2FsaWduLXNlbGY6ZmxleC1zdGFydDtib3JkZXItdG9wOm5vbmU7Ym9yZGVyLWxlZnQ6bm9uZTtib3JkZXItYm90dG9tLWNvbG9yOiNmZmZ9Lm1hcGJveGdsLXBvcHVwLWFuY2hvci10b3AtcmlnaHQgLm1hcGJveGdsLXBvcHVwLXRpcHthbGlnbi1zZWxmOmZsZXgtZW5kO2JvcmRlci10b3A6bm9uZTtib3JkZXItcmlnaHQ6bm9uZTtib3JkZXItYm90dG9tLWNvbG9yOiNmZmZ9Lm1hcGJveGdsLXBvcHVwLWFuY2hvci1ib3R0b20gLm1hcGJveGdsLXBvcHVwLXRpcHthbGlnbi1zZWxmOmNlbnRlcjtib3JkZXItYm90dG9tOm5vbmU7Ym9yZGVyLXRvcC1jb2xvcjojZmZmfS5tYXBib3hnbC1wb3B1cC1hbmNob3ItYm90dG9tLWxlZnQgLm1hcGJveGdsLXBvcHVwLXRpcHthbGlnbi1zZWxmOmZsZXgtc3RhcnQ7Ym9yZGVyLWJvdHRvbTpub25lO2JvcmRlci1sZWZ0Om5vbmU7Ym9yZGVyLXRvcC1jb2xvcjojZmZmfS5tYXBib3hnbC1wb3B1cC1hbmNob3ItYm90dG9tLXJpZ2h0IC5tYXBib3hnbC1wb3B1cC10aXB7YWxpZ24tc2VsZjpmbGV4LWVuZDtib3JkZXItYm90dG9tOm5vbmU7Ym9yZGVyLXJpZ2h0Om5vbmU7Ym9yZGVyLXRvcC1jb2xvcjojZmZmfS5tYXBib3hnbC1wb3B1cC1hbmNob3ItbGVmdCAubWFwYm94Z2wtcG9wdXAtdGlwe2FsaWduLXNlbGY6Y2VudGVyO2JvcmRlci1sZWZ0Om5vbmU7Ym9yZGVyLXJpZ2h0LWNvbG9yOiNmZmZ9Lm1hcGJveGdsLXBvcHVwLWFuY2hvci1yaWdodCAubWFwYm94Z2wtcG9wdXAtdGlwe2FsaWduLXNlbGY6Y2VudGVyO2JvcmRlci1yaWdodDpub25lO2JvcmRlci1sZWZ0LWNvbG9yOiNmZmZ9Lm1hcGJveGdsLXBvcHVwLWNsb3NlLWJ1dHRvbntwb3NpdGlvbjphYnNvbHV0ZTtyaWdodDowO3RvcDowO2JvcmRlcjowO2JvcmRlci1yYWRpdXM6MCAzcHggMCAwO2N1cnNvcjpwb2ludGVyO2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnR9Lm1hcGJveGdsLXBvcHVwLWNsb3NlLWJ1dHRvbjpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOnJnYigwIDAgMC81JSl9Lm1hcGJveGdsLXBvcHVwLWNvbnRlbnR7cG9zaXRpb246cmVsYXRpdmU7YmFja2dyb3VuZDojZmZmO2JvcmRlci1yYWRpdXM6M3B4O2JveC1zaGFkb3c6MCAxcHggMnB4IHJnYigwIDAgMC8xMCUpO3BhZGRpbmc6MTBweCAxMHB4IDE1cHg7cG9pbnRlci1ldmVudHM6YXV0b30ubWFwYm94Z2wtcG9wdXAtYW5jaG9yLXRvcC1sZWZ0IC5tYXBib3hnbC1wb3B1cC1jb250ZW50e2JvcmRlci10b3AtbGVmdC1yYWRpdXM6MH0ubWFwYm94Z2wtcG9wdXAtYW5jaG9yLXRvcC1yaWdodCAubWFwYm94Z2wtcG9wdXAtY29udGVudHtib3JkZXItdG9wLXJpZ2h0LXJhZGl1czowfS5tYXBib3hnbC1wb3B1cC1hbmNob3ItYm90dG9tLWxlZnQgLm1hcGJveGdsLXBvcHVwLWNvbnRlbnR7Ym9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czowfS5tYXBib3hnbC1wb3B1cC1hbmNob3ItYm90dG9tLXJpZ2h0IC5tYXBib3hnbC1wb3B1cC1jb250ZW50e2JvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOjB9Lm1hcGJveGdsLXBvcHVwLXRyYWNrLXBvaW50ZXJ7ZGlzcGxheTpub25lfS5tYXBib3hnbC1wb3B1cC10cmFjay1wb2ludGVyICp7cG9pbnRlci1ldmVudHM6bm9uZTt1c2VyLXNlbGVjdDpub25lfS5tYXBib3hnbC1tYXA6aG92ZXIgLm1hcGJveGdsLXBvcHVwLXRyYWNrLXBvaW50ZXJ7ZGlzcGxheTpmbGV4fS5tYXBib3hnbC1tYXA6YWN0aXZlIC5tYXBib3hnbC1wb3B1cC10cmFjay1wb2ludGVye2Rpc3BsYXk6bm9uZX0ubWFwYm94Z2wtbWFya2Vye3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6MDt3aWxsLWNoYW5nZTp0cmFuc2Zvcm07b3BhY2l0eToxO3RyYW5zaXRpb246b3BhY2l0eSAuMnN9Lm1hcGJveGdsLXVzZXItbG9jYXRpb24tZG90LC5tYXBib3hnbC11c2VyLWxvY2F0aW9uLWRvdDpiZWZvcmV7YmFja2dyb3VuZC1jb2xvcjojMWRhMWYyO3dpZHRoOjE1cHg7aGVpZ2h0OjE1cHg7Ym9yZGVyLXJhZGl1czo1MCV9Lm1hcGJveGdsLXVzZXItbG9jYXRpb24tZG90OmJlZm9yZXtjb250ZW50OlwiXCI7cG9zaXRpb246YWJzb2x1dGU7YW5pbWF0aW9uOm1hcGJveGdsLXVzZXItbG9jYXRpb24tZG90LXB1bHNlIDJzIGluZmluaXRlfS5tYXBib3hnbC11c2VyLWxvY2F0aW9uLWRvdDphZnRlcntib3JkZXItcmFkaXVzOjUwJTtib3JkZXI6MnB4IHNvbGlkICNmZmY7Y29udGVudDpcIlwiO2hlaWdodDoxOXB4O2xlZnQ6LTJweDtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6LTJweDt3aWR0aDoxOXB4O2JveC1zaXppbmc6Ym9yZGVyLWJveDtib3gtc2hhZG93OjAgMCAzcHggcmdiKDAgMCAwLzM1JSl9Lm1hcGJveGdsLXVzZXItbG9jYXRpb24tc2hvdy1oZWFkaW5nIC5tYXBib3hnbC11c2VyLWxvY2F0aW9uLWhlYWRpbmd7d2lkdGg6MDtoZWlnaHQ6MH0ubWFwYm94Z2wtdXNlci1sb2NhdGlvbi1zaG93LWhlYWRpbmcgLm1hcGJveGdsLXVzZXItbG9jYXRpb24taGVhZGluZzphZnRlciwubWFwYm94Z2wtdXNlci1sb2NhdGlvbi1zaG93LWhlYWRpbmcgLm1hcGJveGdsLXVzZXItbG9jYXRpb24taGVhZGluZzpiZWZvcmV7Y29udGVudDpcIlwiO2JvcmRlci1ib3R0b206Ny41cHggc29saWQgIzRhYTFlYjtwb3NpdGlvbjphYnNvbHV0ZX0ubWFwYm94Z2wtdXNlci1sb2NhdGlvbi1zaG93LWhlYWRpbmcgLm1hcGJveGdsLXVzZXItbG9jYXRpb24taGVhZGluZzpiZWZvcmV7Ym9yZGVyLWxlZnQ6Ny41cHggc29saWQgdHJhbnNwYXJlbnQ7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTI4cHgpIHNrZXdZKC0yMGRlZyl9Lm1hcGJveGdsLXVzZXItbG9jYXRpb24tc2hvdy1oZWFkaW5nIC5tYXBib3hnbC11c2VyLWxvY2F0aW9uLWhlYWRpbmc6YWZ0ZXJ7Ym9yZGVyLXJpZ2h0OjcuNXB4IHNvbGlkIHRyYW5zcGFyZW50O3RyYW5zZm9ybTp0cmFuc2xhdGUoNy41cHgsLTI4cHgpIHNrZXdZKDIwZGVnKX1Aa2V5ZnJhbWVzIG1hcGJveGdsLXVzZXItbG9jYXRpb24tZG90LXB1bHNlezAle3RyYW5zZm9ybTpzY2FsZSgxKTtvcGFjaXR5OjF9NzAle3RyYW5zZm9ybTpzY2FsZSgzKTtvcGFjaXR5OjB9dG97dHJhbnNmb3JtOnNjYWxlKDEpO29wYWNpdHk6MH19Lm1hcGJveGdsLXVzZXItbG9jYXRpb24tZG90LXN0YWxle2JhY2tncm91bmQtY29sb3I6I2FhYX0ubWFwYm94Z2wtdXNlci1sb2NhdGlvbi1kb3Qtc3RhbGU6YWZ0ZXJ7ZGlzcGxheTpub25lfS5tYXBib3hnbC11c2VyLWxvY2F0aW9uLWFjY3VyYWN5LWNpcmNsZXtiYWNrZ3JvdW5kLWNvbG9yOnJnYmEoMjksMTYxLDI0MiwuMik7d2lkdGg6MXB4O2hlaWdodDoxcHg7Ym9yZGVyLXJhZGl1czoxMDAlfS5tYXBib3hnbC1jcm9zc2hhaXIsLm1hcGJveGdsLWNyb3NzaGFpciAubWFwYm94Z2wtaW50ZXJhY3RpdmUsLm1hcGJveGdsLWNyb3NzaGFpciAubWFwYm94Z2wtaW50ZXJhY3RpdmU6YWN0aXZle2N1cnNvcjpjcm9zc2hhaXJ9Lm1hcGJveGdsLWJveHpvb217cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDowO3dpZHRoOjA7aGVpZ2h0OjA7YmFja2dyb3VuZDojZmZmO2JvcmRlcjoycHggZG90dGVkICMyMDIwMjA7b3BhY2l0eTouNX1AbWVkaWEgcHJpbnR7Lm1hcGJveC1pbXByb3ZlLW1hcHtkaXNwbGF5Om5vbmV9fS5tYXBib3hnbC1zY3JvbGwtem9vbS1ibG9ja2VyLC5tYXBib3hnbC10b3VjaC1wYW4tYmxvY2tlcntjb2xvcjojZmZmO2ZvbnQtZmFtaWx5Oi1hcHBsZS1zeXN0ZW0sQmxpbmtNYWNTeXN0ZW1Gb250LFNlZ29lIFVJLEhlbHZldGljYSxBcmlhbCxzYW5zLXNlcmlmO2p1c3RpZnktY29udGVudDpjZW50ZXI7dGV4dC1hbGlnbjpjZW50ZXI7cG9zaXRpb246YWJzb2x1dGU7ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjt0b3A6MDtsZWZ0OjA7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTtiYWNrZ3JvdW5kOnJnYigwIDAgMC83MCUpO29wYWNpdHk6MDtwb2ludGVyLWV2ZW50czpub25lO3RyYW5zaXRpb246b3BhY2l0eSAuNzVzIGVhc2UtaW4tb3V0O3RyYW5zaXRpb24tZGVsYXk6MXN9Lm1hcGJveGdsLXNjcm9sbC16b29tLWJsb2NrZXItc2hvdywubWFwYm94Z2wtdG91Y2gtcGFuLWJsb2NrZXItc2hvd3tvcGFjaXR5OjE7dHJhbnNpdGlvbjpvcGFjaXR5IC4xcyBlYXNlLWluLW91dH0ubWFwYm94Z2wtY2FudmFzLWNvbnRhaW5lci5tYXBib3hnbC10b3VjaC1wYW4tYmxvY2tlci1vdmVycmlkZS5tYXBib3hnbC1zY3JvbGxhYmxlLXBhZ2UsLm1hcGJveGdsLWNhbnZhcy1jb250YWluZXIubWFwYm94Z2wtdG91Y2gtcGFuLWJsb2NrZXItb3ZlcnJpZGUubWFwYm94Z2wtc2Nyb2xsYWJsZS1wYWdlIC5tYXBib3hnbC1jYW52YXN7dG91Y2gtYWN0aW9uOnBhbi14IHBhbi15fWAsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vbm9kZV9tb2R1bGVzL21hcGJveC1nbC9kaXN0L21hcGJveC1nbC5jc3NcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBQUEsY0FBYyx3REFBd0QsQ0FBQyxlQUFlLENBQUMsaUJBQWlCLENBQUMsd0NBQXdDLENBQUMsaUJBQWlCLGlCQUFpQixDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsa0NBQWtDLFVBQVUsQ0FBQyxXQUFXLENBQUMsaUJBQWlCLHVCQUF1QixDQUFDLGtHQUFrRyxXQUFXLENBQUMsd0JBQXdCLENBQUMsZ0JBQWdCLENBQUMsdUVBQXVFLGNBQWMsQ0FBQyxnSEFBZ0gsZUFBZSxDQUFDLDZIQUE2SCx3QkFBd0IsQ0FBQyx1SEFBdUgsdUJBQXVCLENBQUMsNktBQTZLLGlCQUFpQixDQUFDLHdHQUF3RyxpQkFBaUIsQ0FBQyxtQkFBbUIsQ0FBQyxTQUFTLENBQUMsd0JBQXdCLEtBQUssQ0FBQyxNQUFNLENBQUMseUJBQXlCLEtBQUssQ0FBQyxPQUFPLENBQUMsMkJBQTJCLFFBQVEsQ0FBQyxNQUFNLENBQUMsNEJBQTRCLE9BQU8sQ0FBQyxRQUFRLENBQUMsZUFBZSxVQUFVLENBQUMsbUJBQW1CLENBQUMsc0JBQXNCLENBQUMsdUNBQXVDLG9CQUFvQixDQUFDLFVBQVUsQ0FBQyx3Q0FBd0Msb0JBQW9CLENBQUMsV0FBVyxDQUFDLDBDQUEwQyxvQkFBb0IsQ0FBQyxVQUFVLENBQUMsMkNBQTJDLG9CQUFvQixDQUFDLFdBQVcsQ0FBQyxxQkFBcUIsaUJBQWlCLENBQUMsZUFBZSxDQUFDLGlDQUFpQyxtQ0FBbUMsQ0FBQyxrQ0FBa0MsaUNBQWlDLCtCQUErQixDQUFDLENBQUMsNEJBQTRCLFVBQVUsQ0FBQyxXQUFXLENBQUMsYUFBYSxDQUFDLFNBQVMsQ0FBQyxZQUFZLENBQUMsUUFBUSxDQUFDLHFCQUFxQixDQUFDLDRCQUE0QixDQUFDLGNBQWMsQ0FBQyxlQUFlLENBQUMsbUNBQW1DLHlCQUF5QixDQUFDLDBDQUEwQyxhQUFhLENBQUMsVUFBVSxDQUFDLFdBQVcsQ0FBQywyQkFBMkIsQ0FBQyx1QkFBdUIsQ0FBQyxrQ0FBa0Msb0JBQW9CLDRCQUE0QixDQUFDLG1DQUFtQywrQkFBK0IsQ0FBQyxDQUFDLHFFQUFxRSwwQ0FBMEMsQ0FBQywrQkFBK0Isa0JBQWtCLENBQUMsbURBQW1ELFdBQVcsQ0FBQyx3Q0FBd0MseUJBQXlCLENBQUMsdUNBQXVDLHlCQUF5QixDQUFDLHVDQUF1QyxxQkFBcUIsQ0FBQywyQ0FBMkMsOEJBQThCLENBQUMsZ0RBQWdELDBDQUEwQyxDQUFDLHNEQUFzRCxlQUFlLENBQUMsaUVBQWlFLHdEQUErUSxDQUFDLGdFQUFnRSx3REFBaVgsQ0FBQyxrQ0FBa0MsaUVBQWlFLHdEQUErUSxDQUFDLGdFQUFnRSx3REFBaVgsQ0FBQyxDQUFDLDBDQUEwQyxpRUFBaUUsd0RBQStRLENBQUMsZ0VBQWdFLHdEQUFpWCxDQUFDLENBQUMsbUVBQW1FLHdEQUEyYyxDQUFDLCtEQUErRCx3REFBb2MsQ0FBQyxrQ0FBa0MsbUVBQW1FLHdEQUEyYyxDQUFDLCtEQUErRCx3REFBa2QsQ0FBQyxDQUFDLDBDQUEwQyxtRUFBbUUseURBQTJjLENBQUMsK0RBQStELHlEQUFrZCxDQUFDLENBQUMsZ0VBQWdFLHlEQUE0USxDQUFDLGtDQUFrQyxnRUFBZ0UseURBQTRRLENBQUMsQ0FBQywwQ0FBMEMsZ0VBQWdFLHlEQUE0USxDQUFDLENBQUMsa0VBQWtFLHlEQUEyZixDQUFDLDJFQUEyRSx5REFBdWYsQ0FBQyxpR0FBaUcseURBQThmLENBQUMsdUdBQXVHLHlEQUE4ZixDQUFDLHFHQUFxRyx5REFBNmdCLENBQUMsMkdBQTJHLHlEQUE2Z0IsQ0FBQyxrR0FBa0csMENBQTBDLENBQUMsa0NBQWtDLGtFQUFrRSx5REFBMmYsQ0FBQywyRUFBMkUseURBQXVmLENBQUMsaUdBQWlHLHlEQUE4ZixDQUFDLHVHQUF1Ryx5REFBOGYsQ0FBQyxxR0FBcUcseURBQTZnQixDQUFDLDJHQUEyRyx5REFBNmdCLENBQUMsQ0FBQywwQ0FBMEMsa0VBQWtFLHlEQUEyZixDQUFDLDJFQUEyRSx5REFBdWYsQ0FBQyxDQUFDLHlCQUF5QixHQUFHLHNCQUFzQixDQUFDLEdBQUcsdUJBQXVCLENBQUMsQ0FBQyxxQkFBcUIsVUFBVSxDQUFDLFdBQVcsQ0FBQyxvQkFBb0IsQ0FBQyxhQUFhLENBQUMsMkJBQTJCLENBQUMsY0FBYyxDQUFDLGVBQWUsQ0FBQyx5REFBd29HLENBQUMsc0NBQXNDLFVBQVUsQ0FBQyxrQ0FBa0MscUJBQXFCLDRCQUE0QixDQUFDLHlEQUFvb0csQ0FBQyxDQUFDLDBDQUEwQyxxQkFBcUIseURBQWtwRyxDQUFDLENBQUMsb0NBQW9DLGFBQWEsQ0FBQyxxQ0FBcUMsQ0FBQyxRQUFRLENBQUMsY0FBYyx1Q0FBdUMsZUFBZSxDQUFDLHNCQUFzQixDQUFDLFdBQVcsQ0FBQyxpQkFBaUIsQ0FBQyxxQkFBcUIsQ0FBQyxrQkFBa0IsQ0FBQyw0Q0FBNEMsd0JBQXdCLENBQUMsa0JBQWtCLENBQUMsMklBQTJJLHdCQUF3QixDQUFDLGtCQUFrQixDQUFDLG1FQUFtRSxZQUFZLENBQUMsNkJBQTZCLFlBQVksQ0FBQyxjQUFjLENBQUMsaUJBQWlCLENBQUMseURBQXFTLENBQUMscUNBQXFDLENBQUMsVUFBVSxDQUFDLFdBQVcsQ0FBQyxxQkFBcUIsQ0FBQyxrQkFBa0IsQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsNkdBQTZHLE1BQU0sQ0FBQyw0SUFBNEksYUFBYSxDQUFDLHlFQUF5RSw4QkFBOEIsQ0FBQyx5RUFBeUUsUUFBUSxDQUFDLE9BQU8sQ0FBQyxzRUFBc0UsS0FBSyxDQUFDLE9BQU8sQ0FBQyxxRUFBcUUsS0FBSyxDQUFDLE1BQU0sQ0FBQyx3RUFBd0UsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDLDZDQUE2Qyw2Q0FBNkMseURBQW1ULENBQUMsQ0FBQyxxREFBcUQsNkNBQTZDLHlEQUFxUyxDQUFDLENBQUMsd0JBQXdCLG9CQUFvQixDQUFDLG9CQUFvQixDQUFDLDhCQUE4QixhQUFhLENBQUMseUJBQXlCLENBQUMsMENBQTBDLGVBQWUsQ0FBQyxlQUFlLENBQUMsdUJBQXVCLFlBQVksQ0FBQyxxQkFBcUIscUNBQXFDLENBQUMsY0FBYyxDQUFDLHFCQUFxQixDQUFDLGVBQWUsQ0FBQyxhQUFhLENBQUMsVUFBVSxDQUFDLHFCQUFxQixDQUFDLGtCQUFrQixDQUFDLGdCQUFnQixpQkFBaUIsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxxQkFBcUIsQ0FBQyxtQkFBbUIsQ0FBQyw0RkFBNEYscUJBQXFCLENBQUMscUdBQXFHLDZCQUE2QixDQUFDLDRCQUE0QixrQkFBa0IsQ0FBQyw2QkFBNkIsMEJBQTBCLENBQUMsb0JBQW9CLE9BQU8sQ0FBQyxRQUFRLENBQUMsNkJBQTZCLENBQUMsU0FBUyxDQUFDLCtDQUErQyxpQkFBaUIsQ0FBQyxlQUFlLENBQUMsd0JBQXdCLENBQUMsb0RBQW9ELHFCQUFxQixDQUFDLGVBQWUsQ0FBQyxnQkFBZ0IsQ0FBQyx3QkFBd0IsQ0FBQyxxREFBcUQsbUJBQW1CLENBQUMsZUFBZSxDQUFDLGlCQUFpQixDQUFDLHdCQUF3QixDQUFDLGtEQUFrRCxpQkFBaUIsQ0FBQyxrQkFBa0IsQ0FBQyxxQkFBcUIsQ0FBQyx1REFBdUQscUJBQXFCLENBQUMsa0JBQWtCLENBQUMsZ0JBQWdCLENBQUMscUJBQXFCLENBQUMsd0RBQXdELG1CQUFtQixDQUFDLGtCQUFrQixDQUFDLGlCQUFpQixDQUFDLHFCQUFxQixDQUFDLGdEQUFnRCxpQkFBaUIsQ0FBQyxnQkFBZ0IsQ0FBQyx1QkFBdUIsQ0FBQyxpREFBaUQsaUJBQWlCLENBQUMsaUJBQWlCLENBQUMsc0JBQXNCLENBQUMsNkJBQTZCLGlCQUFpQixDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLHVCQUF1QixDQUFDLGNBQWMsQ0FBQyw0QkFBNEIsQ0FBQyxtQ0FBbUMsOEJBQThCLENBQUMsd0JBQXdCLGlCQUFpQixDQUFDLGVBQWUsQ0FBQyxpQkFBaUIsQ0FBQyxtQ0FBbUMsQ0FBQyxzQkFBc0IsQ0FBQyxtQkFBbUIsQ0FBQyx3REFBd0Qsd0JBQXdCLENBQUMseURBQXlELHlCQUF5QixDQUFDLDJEQUEyRCwyQkFBMkIsQ0FBQyw0REFBNEQsNEJBQTRCLENBQUMsOEJBQThCLFlBQVksQ0FBQyxnQ0FBZ0MsbUJBQW1CLENBQUMsZ0JBQWdCLENBQUMsa0RBQWtELFlBQVksQ0FBQyxtREFBbUQsWUFBWSxDQUFDLGlCQUFpQixpQkFBaUIsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLHFCQUFxQixDQUFDLFNBQVMsQ0FBQyxzQkFBc0IsQ0FBQywrREFBK0Qsd0JBQXdCLENBQUMsVUFBVSxDQUFDLFdBQVcsQ0FBQyxpQkFBaUIsQ0FBQyxtQ0FBbUMsVUFBVSxDQUFDLGlCQUFpQixDQUFDLHNEQUFzRCxDQUFDLGtDQUFrQyxpQkFBaUIsQ0FBQyxxQkFBcUIsQ0FBQyxVQUFVLENBQUMsV0FBVyxDQUFDLFNBQVMsQ0FBQyxpQkFBaUIsQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUFDLHFCQUFxQixDQUFDLGlDQUFpQyxDQUFDLHFFQUFxRSxPQUFPLENBQUMsUUFBUSxDQUFDLHVKQUF1SixVQUFVLENBQUMsaUNBQWlDLENBQUMsaUJBQWlCLENBQUMsNEVBQTRFLG1DQUFtQyxDQUFDLHlDQUF5QyxDQUFDLDJFQUEyRSxvQ0FBb0MsQ0FBQyw2Q0FBNkMsQ0FBQyw0Q0FBNEMsR0FBRyxrQkFBa0IsQ0FBQyxTQUFTLENBQUMsSUFBSSxrQkFBa0IsQ0FBQyxTQUFTLENBQUMsR0FBRyxrQkFBa0IsQ0FBQyxTQUFTLENBQUMsQ0FBQyxrQ0FBa0MscUJBQXFCLENBQUMsd0NBQXdDLFlBQVksQ0FBQyx3Q0FBd0Msb0NBQW9DLENBQUMsU0FBUyxDQUFDLFVBQVUsQ0FBQyxrQkFBa0IsQ0FBQywrR0FBK0csZ0JBQWdCLENBQUMsa0JBQWtCLGlCQUFpQixDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxlQUFlLENBQUMseUJBQXlCLENBQUMsVUFBVSxDQUFDLGFBQWEsb0JBQW9CLFlBQVksQ0FBQyxDQUFDLDBEQUEwRCxVQUFVLENBQUMsZ0ZBQWdGLENBQUMsc0JBQXNCLENBQUMsaUJBQWlCLENBQUMsaUJBQWlCLENBQUMsWUFBWSxDQUFDLGtCQUFrQixDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLFdBQVcsQ0FBQyx5QkFBeUIsQ0FBQyxTQUFTLENBQUMsbUJBQW1CLENBQUMsbUNBQW1DLENBQUMsbUJBQW1CLENBQUMsb0VBQW9FLFNBQVMsQ0FBQyxrQ0FBa0MsQ0FBQyxpTUFBaU0sd0JBQXdCXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIi5tYXBib3hnbC1tYXB7Zm9udDoxMnB4LzIwcHggSGVsdmV0aWNhIE5ldWUsQXJpYWwsSGVsdmV0aWNhLHNhbnMtc2VyaWY7b3ZlcmZsb3c6aGlkZGVuO3Bvc2l0aW9uOnJlbGF0aXZlOy13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvcjpyZ2IoMCAwIDAvMCl9Lm1hcGJveGdsLWNhbnZhc3twb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7dG9wOjB9Lm1hcGJveGdsLW1hcDotd2Via2l0LWZ1bGwtc2NyZWVue3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCV9Lm1hcGJveGdsLWNhbmFyeXtiYWNrZ3JvdW5kLWNvbG9yOnNhbG1vbn0ubWFwYm94Z2wtY2FudmFzLWNvbnRhaW5lci5tYXBib3hnbC1pbnRlcmFjdGl2ZSwubWFwYm94Z2wtY3RybC1ncm91cCBidXR0b24ubWFwYm94Z2wtY3RybC1jb21wYXNze2N1cnNvcjpncmFiOy13ZWJraXQtdXNlci1zZWxlY3Q6bm9uZTt1c2VyLXNlbGVjdDpub25lfS5tYXBib3hnbC1jYW52YXMtY29udGFpbmVyLm1hcGJveGdsLWludGVyYWN0aXZlLm1hcGJveGdsLXRyYWNrLXBvaW50ZXJ7Y3Vyc29yOnBvaW50ZXJ9Lm1hcGJveGdsLWNhbnZhcy1jb250YWluZXIubWFwYm94Z2wtaW50ZXJhY3RpdmU6YWN0aXZlLC5tYXBib3hnbC1jdHJsLWdyb3VwIGJ1dHRvbi5tYXBib3hnbC1jdHJsLWNvbXBhc3M6YWN0aXZle2N1cnNvcjpncmFiYmluZ30ubWFwYm94Z2wtY2FudmFzLWNvbnRhaW5lci5tYXBib3hnbC10b3VjaC16b29tLXJvdGF0ZSwubWFwYm94Z2wtY2FudmFzLWNvbnRhaW5lci5tYXBib3hnbC10b3VjaC16b29tLXJvdGF0ZSAubWFwYm94Z2wtY2FudmFze3RvdWNoLWFjdGlvbjpwYW4teCBwYW4teX0ubWFwYm94Z2wtY2FudmFzLWNvbnRhaW5lci5tYXBib3hnbC10b3VjaC1kcmFnLXBhbiwubWFwYm94Z2wtY2FudmFzLWNvbnRhaW5lci5tYXBib3hnbC10b3VjaC1kcmFnLXBhbiAubWFwYm94Z2wtY2FudmFze3RvdWNoLWFjdGlvbjpwaW5jaC16b29tfS5tYXBib3hnbC1jYW52YXMtY29udGFpbmVyLm1hcGJveGdsLXRvdWNoLXpvb20tcm90YXRlLm1hcGJveGdsLXRvdWNoLWRyYWctcGFuLC5tYXBib3hnbC1jYW52YXMtY29udGFpbmVyLm1hcGJveGdsLXRvdWNoLXpvb20tcm90YXRlLm1hcGJveGdsLXRvdWNoLWRyYWctcGFuIC5tYXBib3hnbC1jYW52YXN7dG91Y2gtYWN0aW9uOm5vbmV9Lm1hcGJveGdsLWN0cmwtYm90dG9tLWxlZnQsLm1hcGJveGdsLWN0cmwtYm90dG9tLXJpZ2h0LC5tYXBib3hnbC1jdHJsLXRvcC1sZWZ0LC5tYXBib3hnbC1jdHJsLXRvcC1yaWdodHtwb3NpdGlvbjphYnNvbHV0ZTtwb2ludGVyLWV2ZW50czpub25lO3otaW5kZXg6Mn0ubWFwYm94Z2wtY3RybC10b3AtbGVmdHt0b3A6MDtsZWZ0OjB9Lm1hcGJveGdsLWN0cmwtdG9wLXJpZ2h0e3RvcDowO3JpZ2h0OjB9Lm1hcGJveGdsLWN0cmwtYm90dG9tLWxlZnR7Ym90dG9tOjA7bGVmdDowfS5tYXBib3hnbC1jdHJsLWJvdHRvbS1yaWdodHtyaWdodDowO2JvdHRvbTowfS5tYXBib3hnbC1jdHJse2NsZWFyOmJvdGg7cG9pbnRlci1ldmVudHM6YXV0bzt0cmFuc2Zvcm06dHJhbnNsYXRlKDApfS5tYXBib3hnbC1jdHJsLXRvcC1sZWZ0IC5tYXBib3hnbC1jdHJse21hcmdpbjoxMHB4IDAgMCAxMHB4O2Zsb2F0OmxlZnR9Lm1hcGJveGdsLWN0cmwtdG9wLXJpZ2h0IC5tYXBib3hnbC1jdHJse21hcmdpbjoxMHB4IDEwcHggMCAwO2Zsb2F0OnJpZ2h0fS5tYXBib3hnbC1jdHJsLWJvdHRvbS1sZWZ0IC5tYXBib3hnbC1jdHJse21hcmdpbjowIDAgMTBweCAxMHB4O2Zsb2F0OmxlZnR9Lm1hcGJveGdsLWN0cmwtYm90dG9tLXJpZ2h0IC5tYXBib3hnbC1jdHJse21hcmdpbjowIDEwcHggMTBweCAwO2Zsb2F0OnJpZ2h0fS5tYXBib3hnbC1jdHJsLWdyb3Vwe2JvcmRlci1yYWRpdXM6NHB4O2JhY2tncm91bmQ6I2ZmZn0ubWFwYm94Z2wtY3RybC1ncm91cDpub3QoOmVtcHR5KXtib3gtc2hhZG93OjAgMCAwIDJweCByZ2IoMCAwIDAvMTAlKX1AbWVkaWEgKC1tcy1oaWdoLWNvbnRyYXN0OmFjdGl2ZSl7Lm1hcGJveGdsLWN0cmwtZ3JvdXA6bm90KDplbXB0eSl7Ym94LXNoYWRvdzowIDAgMCAycHggQnV0dG9uVGV4dH19Lm1hcGJveGdsLWN0cmwtZ3JvdXAgYnV0dG9ue3dpZHRoOjI5cHg7aGVpZ2h0OjI5cHg7ZGlzcGxheTpibG9jaztwYWRkaW5nOjA7b3V0bGluZTpub25lO2JvcmRlcjowO2JveC1zaXppbmc6Ym9yZGVyLWJveDtiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50O2N1cnNvcjpwb2ludGVyO292ZXJmbG93OmhpZGRlbn0ubWFwYm94Z2wtY3RybC1ncm91cCBidXR0b24rYnV0dG9ue2JvcmRlci10b3A6MXB4IHNvbGlkICNkZGR9Lm1hcGJveGdsLWN0cmwgYnV0dG9uIC5tYXBib3hnbC1jdHJsLWljb257ZGlzcGxheTpibG9jazt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDtiYWNrZ3JvdW5kLXBvc2l0aW9uOjUwJX1AbWVkaWEgKC1tcy1oaWdoLWNvbnRyYXN0OmFjdGl2ZSl7Lm1hcGJveGdsLWN0cmwtaWNvbntiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50fS5tYXBib3hnbC1jdHJsLWdyb3VwIGJ1dHRvbitidXR0b257Ym9yZGVyLXRvcDoxcHggc29saWQgQnV0dG9uVGV4dH19Lm1hcGJveGdsLWN0cmwtYXR0cmliLWJ1dHRvbjpmb2N1cywubWFwYm94Z2wtY3RybC1ncm91cCBidXR0b246Zm9jdXN7Ym94LXNoYWRvdzowIDAgMnB4IDJweCByZ2IoMCAxNTAgMjU1LzEwMCUpfS5tYXBib3hnbC1jdHJsIGJ1dHRvbjpkaXNhYmxlZHtjdXJzb3I6bm90LWFsbG93ZWR9Lm1hcGJveGdsLWN0cmwgYnV0dG9uOmRpc2FibGVkIC5tYXBib3hnbC1jdHJsLWljb257b3BhY2l0eTouMjV9Lm1hcGJveGdsLWN0cmwtZ3JvdXAgYnV0dG9uOmZpcnN0LWNoaWxke2JvcmRlci1yYWRpdXM6NHB4IDRweCAwIDB9Lm1hcGJveGdsLWN0cmwtZ3JvdXAgYnV0dG9uOmxhc3QtY2hpbGR7Ym9yZGVyLXJhZGl1czowIDAgNHB4IDRweH0ubWFwYm94Z2wtY3RybC1ncm91cCBidXR0b246b25seS1jaGlsZHtib3JkZXItcmFkaXVzOmluaGVyaXR9Lm1hcGJveGdsLWN0cmwgYnV0dG9uOm5vdCg6ZGlzYWJsZWQpOmhvdmVye2JhY2tncm91bmQtY29sb3I6cmdiKDAgMCAwLzUlKX0ubWFwYm94Z2wtY3RybC1ncm91cCBidXR0b246Zm9jdXM6Zm9jdXMtdmlzaWJsZXtib3gtc2hhZG93OjAgMCAycHggMnB4IHJnYigwIDE1MCAyNTUvMTAwJSl9Lm1hcGJveGdsLWN0cmwtZ3JvdXAgYnV0dG9uOmZvY3VzOm5vdCg6Zm9jdXMtdmlzaWJsZSl7Ym94LXNoYWRvdzpub25lfS5tYXBib3hnbC1jdHJsIGJ1dHRvbi5tYXBib3hnbC1jdHJsLXpvb20tb3V0IC5tYXBib3hnbC1jdHJsLWljb257YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB3aWR0aD0nMjknIGhlaWdodD0nMjknIHZpZXdCb3g9JzAgMCAyOSAyOScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyBmaWxsPSclMjMzMzMnJTNFICUzQ3BhdGggZD0nTTEwIDEzYy0uNzUgMC0xLjUuNzUtMS41IDEuNVM5LjI1IDE2IDEwIDE2aDljLjc1IDAgMS41LS43NSAxLjUtMS41UzE5Ljc1IDEzIDE5IDEzaC05eicvJTNFICUzQy9zdmclM0VcXFwiKX0ubWFwYm94Z2wtY3RybCBidXR0b24ubWFwYm94Z2wtY3RybC16b29tLWluIC5tYXBib3hnbC1jdHJsLWljb257YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB3aWR0aD0nMjknIGhlaWdodD0nMjknIHZpZXdCb3g9JzAgMCAyOSAyOScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyBmaWxsPSclMjMzMzMnJTNFICUzQ3BhdGggZD0nTTE0LjUgOC41Yy0uNzUgMC0xLjUuNzUtMS41IDEuNXYzaC0zYy0uNzUgMC0xLjUuNzUtMS41IDEuNVM5LjI1IDE2IDEwIDE2aDN2M2MwIC43NS43NSAxLjUgMS41IDEuNVMxNiAxOS43NSAxNiAxOXYtM2gzYy43NSAwIDEuNS0uNzUgMS41LTEuNVMxOS43NSAxMyAxOSAxM2gtM3YtM2MwLS43NS0uNzUtMS41LTEuNS0xLjV6Jy8lM0UgJTNDL3N2ZyUzRVxcXCIpfUBtZWRpYSAoLW1zLWhpZ2gtY29udHJhc3Q6YWN0aXZlKXsubWFwYm94Z2wtY3RybCBidXR0b24ubWFwYm94Z2wtY3RybC16b29tLW91dCAubWFwYm94Z2wtY3RybC1pY29ue2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0Nzdmcgd2lkdGg9JzI5JyBoZWlnaHQ9JzI5JyB2aWV3Qm94PScwIDAgMjkgMjknIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgZmlsbD0nJTIzZmZmJyUzRSAlM0NwYXRoIGQ9J00xMCAxM2MtLjc1IDAtMS41Ljc1LTEuNSAxLjVTOS4yNSAxNiAxMCAxNmg5Yy43NSAwIDEuNS0uNzUgMS41LTEuNVMxOS43NSAxMyAxOSAxM2gtOXonLyUzRSAlM0Mvc3ZnJTNFXFxcIil9Lm1hcGJveGdsLWN0cmwgYnV0dG9uLm1hcGJveGdsLWN0cmwtem9vbS1pbiAubWFwYm94Z2wtY3RybC1pY29ue2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0Nzdmcgd2lkdGg9JzI5JyBoZWlnaHQ9JzI5JyB2aWV3Qm94PScwIDAgMjkgMjknIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgZmlsbD0nJTIzZmZmJyUzRSAlM0NwYXRoIGQ9J00xNC41IDguNWMtLjc1IDAtMS41Ljc1LTEuNSAxLjV2M2gtM2MtLjc1IDAtMS41Ljc1LTEuNSAxLjVTOS4yNSAxNiAxMCAxNmgzdjNjMCAuNzUuNzUgMS41IDEuNSAxLjVTMTYgMTkuNzUgMTYgMTl2LTNoM2MuNzUgMCAxLjUtLjc1IDEuNS0xLjVTMTkuNzUgMTMgMTkgMTNoLTN2LTNjMC0uNzUtLjc1LTEuNS0xLjUtMS41eicvJTNFICUzQy9zdmclM0VcXFwiKX19QG1lZGlhICgtbXMtaGlnaC1jb250cmFzdDpibGFjay1vbi13aGl0ZSl7Lm1hcGJveGdsLWN0cmwgYnV0dG9uLm1hcGJveGdsLWN0cmwtem9vbS1vdXQgLm1hcGJveGdsLWN0cmwtaWNvbntiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHdpZHRoPScyOScgaGVpZ2h0PScyOScgdmlld0JveD0nMCAwIDI5IDI5JyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIGZpbGw9JyUyMzAwMCclM0UgJTNDcGF0aCBkPSdNMTAgMTNjLS43NSAwLTEuNS43NS0xLjUgMS41UzkuMjUgMTYgMTAgMTZoOWMuNzUgMCAxLjUtLjc1IDEuNS0xLjVTMTkuNzUgMTMgMTkgMTNoLTl6Jy8lM0UgJTNDL3N2ZyUzRVxcXCIpfS5tYXBib3hnbC1jdHJsIGJ1dHRvbi5tYXBib3hnbC1jdHJsLXpvb20taW4gLm1hcGJveGdsLWN0cmwtaWNvbntiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHdpZHRoPScyOScgaGVpZ2h0PScyOScgdmlld0JveD0nMCAwIDI5IDI5JyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIGZpbGw9JyUyMzAwMCclM0UgJTNDcGF0aCBkPSdNMTQuNSA4LjVjLS43NSAwLTEuNS43NS0xLjUgMS41djNoLTNjLS43NSAwLTEuNS43NS0xLjUgMS41UzkuMjUgMTYgMTAgMTZoM3YzYzAgLjc1Ljc1IDEuNSAxLjUgMS41UzE2IDE5Ljc1IDE2IDE5di0zaDNjLjc1IDAgMS41LS43NSAxLjUtMS41UzE5Ljc1IDEzIDE5IDEzaC0zdi0zYzAtLjc1LS43NS0xLjUtMS41LTEuNXonLyUzRSAlM0Mvc3ZnJTNFXFxcIil9fS5tYXBib3hnbC1jdHJsIGJ1dHRvbi5tYXBib3hnbC1jdHJsLWZ1bGxzY3JlZW4gLm1hcGJveGdsLWN0cmwtaWNvbntiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHdpZHRoPScyOScgaGVpZ2h0PScyOScgdmlld0JveD0nMCAwIDI5IDI5JyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIGZpbGw9JyUyMzMzMyclM0UgJTNDcGF0aCBkPSdNMjQgMTZ2NS41YzAgMS43NS0uNzUgMi41LTIuNSAyLjVIMTZ2LTFsMy0xLjUtNC01LjUgMS0xIDUuNSA0IDEuNS0zaDF6TTYgMTZsMS41IDMgNS41LTQgMSAxLTQgNS41IDMgMS41djFINy41QzUuNzUgMjQgNSAyMy4yNSA1IDIxLjVWMTZoMXptNy0xMXYxbC0zIDEuNSA0IDUuNS0xIDEtNS41LTRMNiAxM0g1VjcuNUM1IDUuNzUgNS43NSA1IDcuNSA1SDEzem0xMSAyLjVjMC0xLjc1LS43NS0yLjUtMi41LTIuNUgxNnYxbDMgMS41LTQgNS41IDEgMSA1LjUtNCAxLjUgM2gxVjcuNXonLyUzRSAlM0Mvc3ZnJTNFXFxcIil9Lm1hcGJveGdsLWN0cmwgYnV0dG9uLm1hcGJveGdsLWN0cmwtc2hyaW5rIC5tYXBib3hnbC1jdHJsLWljb257YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB3aWR0aD0nMjknIGhlaWdodD0nMjknIHZpZXdCb3g9JzAgMCAyOSAyOScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyUzRSAlM0NwYXRoIGQ9J00xOC41IDE2Yy0xLjc1IDAtMi41Ljc1LTIuNSAyLjVWMjRoMWwxLjUtMyA1LjUgNCAxLTEtNC01LjUgMy0xLjV2LTFoLTUuNXpNMTMgMTguNWMwLTEuNzUtLjc1LTIuNS0yLjUtMi41SDV2MWwzIDEuNUw0IDI0bDEgMSA1LjUtNCAxLjUgM2gxdi01LjV6bTMtOGMwIDEuNzUuNzUgMi41IDIuNSAyLjVIMjR2LTFsLTMtMS41TDI1IDVsLTEtMS01LjUgNEwxNyA1aC0xdjUuNXpNMTAuNSAxM2MxLjc1IDAgMi41LS43NSAyLjUtMi41VjVoLTFsLTEuNSAzTDUgNCA0IDVsNCA1LjVMNSAxMnYxaDUuNXonLyUzRSAlM0Mvc3ZnJTNFXFxcIil9QG1lZGlhICgtbXMtaGlnaC1jb250cmFzdDphY3RpdmUpey5tYXBib3hnbC1jdHJsIGJ1dHRvbi5tYXBib3hnbC1jdHJsLWZ1bGxzY3JlZW4gLm1hcGJveGdsLWN0cmwtaWNvbntiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHdpZHRoPScyOScgaGVpZ2h0PScyOScgdmlld0JveD0nMCAwIDI5IDI5JyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIGZpbGw9JyUyM2ZmZiclM0UgJTNDcGF0aCBkPSdNMjQgMTZ2NS41YzAgMS43NS0uNzUgMi41LTIuNSAyLjVIMTZ2LTFsMy0xLjUtNC01LjUgMS0xIDUuNSA0IDEuNS0zaDF6TTYgMTZsMS41IDMgNS41LTQgMSAxLTQgNS41IDMgMS41djFINy41QzUuNzUgMjQgNSAyMy4yNSA1IDIxLjVWMTZoMXptNy0xMXYxbC0zIDEuNSA0IDUuNS0xIDEtNS41LTRMNiAxM0g1VjcuNUM1IDUuNzUgNS43NSA1IDcuNSA1SDEzem0xMSAyLjVjMC0xLjc1LS43NS0yLjUtMi41LTIuNUgxNnYxbDMgMS41LTQgNS41IDEgMSA1LjUtNCAxLjUgM2gxVjcuNXonLyUzRSAlM0Mvc3ZnJTNFXFxcIil9Lm1hcGJveGdsLWN0cmwgYnV0dG9uLm1hcGJveGdsLWN0cmwtc2hyaW5rIC5tYXBib3hnbC1jdHJsLWljb257YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB3aWR0aD0nMjknIGhlaWdodD0nMjknIHZpZXdCb3g9JzAgMCAyOSAyOScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyBmaWxsPSclMjNmZmYnJTNFICUzQ3BhdGggZD0nTTE4LjUgMTZjLTEuNzUgMC0yLjUuNzUtMi41IDIuNVYyNGgxbDEuNS0zIDUuNSA0IDEtMS00LTUuNSAzLTEuNXYtMWgtNS41ek0xMyAxOC41YzAtMS43NS0uNzUtMi41LTIuNS0yLjVINXYxbDMgMS41TDQgMjRsMSAxIDUuNS00IDEuNSAzaDF2LTUuNXptMy04YzAgMS43NS43NSAyLjUgMi41IDIuNUgyNHYtMWwtMy0xLjVMMjUgNWwtMS0xLTUuNSA0TDE3IDVoLTF2NS41ek0xMC41IDEzYzEuNzUgMCAyLjUtLjc1IDIuNS0yLjVWNWgtMWwtMS41IDNMNSA0IDQgNWw0IDUuNUw1IDEydjFoNS41eicvJTNFICUzQy9zdmclM0VcXFwiKX19QG1lZGlhICgtbXMtaGlnaC1jb250cmFzdDpibGFjay1vbi13aGl0ZSl7Lm1hcGJveGdsLWN0cmwgYnV0dG9uLm1hcGJveGdsLWN0cmwtZnVsbHNjcmVlbiAubWFwYm94Z2wtY3RybC1pY29ue2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0Nzdmcgd2lkdGg9JzI5JyBoZWlnaHQ9JzI5JyB2aWV3Qm94PScwIDAgMjkgMjknIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgZmlsbD0nJTIzMDAwJyUzRSAlM0NwYXRoIGQ9J00yNCAxNnY1LjVjMCAxLjc1LS43NSAyLjUtMi41IDIuNUgxNnYtMWwzLTEuNS00LTUuNSAxLTEgNS41IDQgMS41LTNoMXpNNiAxNmwxLjUgMyA1LjUtNCAxIDEtNCA1LjUgMyAxLjV2MUg3LjVDNS43NSAyNCA1IDIzLjI1IDUgMjEuNVYxNmgxem03LTExdjFsLTMgMS41IDQgNS41LTEgMS01LjUtNEw2IDEzSDVWNy41QzUgNS43NSA1Ljc1IDUgNy41IDVIMTN6bTExIDIuNWMwLTEuNzUtLjc1LTIuNS0yLjUtMi41SDE2djFsMyAxLjUtNCA1LjUgMSAxIDUuNS00IDEuNSAzaDFWNy41eicvJTNFICUzQy9zdmclM0VcXFwiKX0ubWFwYm94Z2wtY3RybCBidXR0b24ubWFwYm94Z2wtY3RybC1zaHJpbmsgLm1hcGJveGdsLWN0cmwtaWNvbntiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHdpZHRoPScyOScgaGVpZ2h0PScyOScgdmlld0JveD0nMCAwIDI5IDI5JyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIGZpbGw9JyUyMzAwMCclM0UgJTNDcGF0aCBkPSdNMTguNSAxNmMtMS43NSAwLTIuNS43NS0yLjUgMi41VjI0aDFsMS41LTMgNS41IDQgMS0xLTQtNS41IDMtMS41di0xaC01LjV6TTEzIDE4LjVjMC0xLjc1LS43NS0yLjUtMi41LTIuNUg1djFsMyAxLjVMNCAyNGwxIDEgNS41LTQgMS41IDNoMXYtNS41em0zLThjMCAxLjc1Ljc1IDIuNSAyLjUgMi41SDI0di0xbC0zLTEuNUwyNSA1bC0xLTEtNS41IDRMMTcgNWgtMXY1LjV6TTEwLjUgMTNjMS43NSAwIDIuNS0uNzUgMi41LTIuNVY1aC0xbC0xLjUgM0w1IDQgNCA1bDQgNS41TDUgMTJ2MWg1LjV6Jy8lM0UgJTNDL3N2ZyUzRVxcXCIpfX0ubWFwYm94Z2wtY3RybCBidXR0b24ubWFwYm94Z2wtY3RybC1jb21wYXNzIC5tYXBib3hnbC1jdHJsLWljb257YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB3aWR0aD0nMjknIGhlaWdodD0nMjknIHZpZXdCb3g9JzAgMCAyOSAyOScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyBmaWxsPSclMjMzMzMnJTNFICUzQ3BhdGggZD0nTTEwLjUgMTRsNC04IDQgOGgtOHonLyUzRSAlM0NwYXRoIGlkPSdzb3V0aCcgZD0nTTEwLjUgMTZsNCA4IDQtOGgtOHonIGZpbGw9JyUyM2NjYycvJTNFICUzQy9zdmclM0VcXFwiKX1AbWVkaWEgKC1tcy1oaWdoLWNvbnRyYXN0OmFjdGl2ZSl7Lm1hcGJveGdsLWN0cmwgYnV0dG9uLm1hcGJveGdsLWN0cmwtY29tcGFzcyAubWFwYm94Z2wtY3RybC1pY29ue2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0Nzdmcgd2lkdGg9JzI5JyBoZWlnaHQ9JzI5JyB2aWV3Qm94PScwIDAgMjkgMjknIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgZmlsbD0nJTIzZmZmJyUzRSAlM0NwYXRoIGQ9J00xMC41IDE0bDQtOCA0IDhoLTh6Jy8lM0UgJTNDcGF0aCBpZD0nc291dGgnIGQ9J00xMC41IDE2bDQgOCA0LThoLTh6JyBmaWxsPSclMjM5OTknLyUzRSAlM0Mvc3ZnJTNFXFxcIil9fUBtZWRpYSAoLW1zLWhpZ2gtY29udHJhc3Q6YmxhY2stb24td2hpdGUpey5tYXBib3hnbC1jdHJsIGJ1dHRvbi5tYXBib3hnbC1jdHJsLWNvbXBhc3MgLm1hcGJveGdsLWN0cmwtaWNvbntiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHdpZHRoPScyOScgaGVpZ2h0PScyOScgdmlld0JveD0nMCAwIDI5IDI5JyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIGZpbGw9JyUyMzAwMCclM0UgJTNDcGF0aCBkPSdNMTAuNSAxNGw0LTggNCA4aC04eicvJTNFICUzQ3BhdGggaWQ9J3NvdXRoJyBkPSdNMTAuNSAxNmw0IDggNC04aC04eicgZmlsbD0nJTIzY2NjJy8lM0UgJTNDL3N2ZyUzRVxcXCIpfX0ubWFwYm94Z2wtY3RybCBidXR0b24ubWFwYm94Z2wtY3RybC1nZW9sb2NhdGUgLm1hcGJveGdsLWN0cmwtaWNvbntiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHdpZHRoPScyOScgaGVpZ2h0PScyOScgdmlld0JveD0nMCAwIDIwIDIwJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIGZpbGw9JyUyMzMzMyclM0UgJTNDcGF0aCBkPSdNMTAgNEM5IDQgOSA1IDkgNXYuMUE1IDUgMCAwIDAgNS4xIDlINXMtMSAwLTEgMSAxIDEgMSAxaC4xQTUgNSAwIDAgMCA5IDE0Ljl2LjFzMCAxIDEgMSAxLTEgMS0xdi0uMWE1IDUgMCAwIDAgMy45LTMuOWguMXMxIDAgMS0xLTEtMS0xLTFoLS4xQTUgNSAwIDAgMCAxMSA1LjFWNXMwLTEtMS0xem0wIDIuNWEzLjUgMy41IDAgMSAxIDAgNyAzLjUgMy41IDAgMSAxIDAtN3onLyUzRSAlM0NjaXJjbGUgaWQ9J2RvdCcgY3g9JzEwJyBjeT0nMTAnIHI9JzInLyUzRSAlM0NwYXRoIGlkPSdzdHJva2UnIGQ9J00xNCA1bDEgMS05IDktMS0xIDktOXonIGRpc3BsYXk9J25vbmUnLyUzRSAlM0Mvc3ZnJTNFXFxcIil9Lm1hcGJveGdsLWN0cmwgYnV0dG9uLm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlOmRpc2FibGVkIC5tYXBib3hnbC1jdHJsLWljb257YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB3aWR0aD0nMjknIGhlaWdodD0nMjknIHZpZXdCb3g9JzAgMCAyMCAyMCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyBmaWxsPSclMjNhYWEnJTNFICUzQ3BhdGggZD0nTTEwIDRDOSA0IDkgNSA5IDV2LjFBNSA1IDAgMCAwIDUuMSA5SDVzLTEgMC0xIDEgMSAxIDEgMWguMUE1IDUgMCAwIDAgOSAxNC45di4xczAgMSAxIDEgMS0xIDEtMXYtLjFhNSA1IDAgMCAwIDMuOS0zLjloLjFzMSAwIDEtMS0xLTEtMS0xaC0uMUE1IDUgMCAwIDAgMTEgNS4xVjVzMC0xLTEtMXptMCAyLjVhMy41IDMuNSAwIDEgMSAwIDcgMy41IDMuNSAwIDEgMSAwLTd6Jy8lM0UgJTNDY2lyY2xlIGlkPSdkb3QnIGN4PScxMCcgY3k9JzEwJyByPScyJy8lM0UgJTNDcGF0aCBpZD0nc3Ryb2tlJyBkPSdNMTQgNWwxIDEtOSA5LTEtMSA5LTl6JyBmaWxsPSdyZWQnLyUzRSAlM0Mvc3ZnJTNFXFxcIil9Lm1hcGJveGdsLWN0cmwgYnV0dG9uLm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZSAubWFwYm94Z2wtY3RybC1pY29ue2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0Nzdmcgd2lkdGg9JzI5JyBoZWlnaHQ9JzI5JyB2aWV3Qm94PScwIDAgMjAgMjAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgZmlsbD0nJTIzMzNiNWU1JyUzRSAlM0NwYXRoIGQ9J00xMCA0QzkgNCA5IDUgOSA1di4xQTUgNSAwIDAgMCA1LjEgOUg1cy0xIDAtMSAxIDEgMSAxIDFoLjFBNSA1IDAgMCAwIDkgMTQuOXYuMXMwIDEgMSAxIDEtMSAxLTF2LS4xYTUgNSAwIDAgMCAzLjktMy45aC4xczEgMCAxLTEtMS0xLTEtMWgtLjFBNSA1IDAgMCAwIDExIDUuMVY1czAtMS0xLTF6bTAgMi41YTMuNSAzLjUgMCAxIDEgMCA3IDMuNSAzLjUgMCAxIDEgMC03eicvJTNFICUzQ2NpcmNsZSBpZD0nZG90JyBjeD0nMTAnIGN5PScxMCcgcj0nMicvJTNFICUzQ3BhdGggaWQ9J3N0cm9rZScgZD0nTTE0IDVsMSAxLTkgOS0xLTEgOS05eicgZGlzcGxheT0nbm9uZScvJTNFICUzQy9zdmclM0VcXFwiKX0ubWFwYm94Z2wtY3RybCBidXR0b24ubWFwYm94Z2wtY3RybC1nZW9sb2NhdGUubWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlLWVycm9yIC5tYXBib3hnbC1jdHJsLWljb257YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB3aWR0aD0nMjknIGhlaWdodD0nMjknIHZpZXdCb3g9JzAgMCAyMCAyMCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyBmaWxsPSclMjNlNTg5NzgnJTNFICUzQ3BhdGggZD0nTTEwIDRDOSA0IDkgNSA5IDV2LjFBNSA1IDAgMCAwIDUuMSA5SDVzLTEgMC0xIDEgMSAxIDEgMWguMUE1IDUgMCAwIDAgOSAxNC45di4xczAgMSAxIDEgMS0xIDEtMXYtLjFhNSA1IDAgMCAwIDMuOS0zLjloLjFzMSAwIDEtMS0xLTEtMS0xaC0uMUE1IDUgMCAwIDAgMTEgNS4xVjVzMC0xLTEtMXptMCAyLjVhMy41IDMuNSAwIDEgMSAwIDcgMy41IDMuNSAwIDEgMSAwLTd6Jy8lM0UgJTNDY2lyY2xlIGlkPSdkb3QnIGN4PScxMCcgY3k9JzEwJyByPScyJy8lM0UgJTNDcGF0aCBpZD0nc3Ryb2tlJyBkPSdNMTQgNWwxIDEtOSA5LTEtMSA5LTl6JyBkaXNwbGF5PSdub25lJy8lM0UgJTNDL3N2ZyUzRVxcXCIpfS5tYXBib3hnbC1jdHJsIGJ1dHRvbi5tYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS5tYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kIC5tYXBib3hnbC1jdHJsLWljb257YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB3aWR0aD0nMjknIGhlaWdodD0nMjknIHZpZXdCb3g9JzAgMCAyMCAyMCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyBmaWxsPSclMjMzM2I1ZTUnJTNFICUzQ3BhdGggZD0nTTEwIDRDOSA0IDkgNSA5IDV2LjFBNSA1IDAgMCAwIDUuMSA5SDVzLTEgMC0xIDEgMSAxIDEgMWguMUE1IDUgMCAwIDAgOSAxNC45di4xczAgMSAxIDEgMS0xIDEtMXYtLjFhNSA1IDAgMCAwIDMuOS0zLjloLjFzMSAwIDEtMS0xLTEtMS0xaC0uMUE1IDUgMCAwIDAgMTEgNS4xVjVzMC0xLTEtMXptMCAyLjVhMy41IDMuNSAwIDEgMSAwIDcgMy41IDMuNSAwIDEgMSAwLTd6Jy8lM0UgJTNDY2lyY2xlIGlkPSdkb3QnIGN4PScxMCcgY3k9JzEwJyByPScyJyBkaXNwbGF5PSdub25lJy8lM0UgJTNDcGF0aCBpZD0nc3Ryb2tlJyBkPSdNMTQgNWwxIDEtOSA5LTEtMSA5LTl6JyBkaXNwbGF5PSdub25lJy8lM0UgJTNDL3N2ZyUzRVxcXCIpfS5tYXBib3hnbC1jdHJsIGJ1dHRvbi5tYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS5tYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kLWVycm9yIC5tYXBib3hnbC1jdHJsLWljb257YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB3aWR0aD0nMjknIGhlaWdodD0nMjknIHZpZXdCb3g9JzAgMCAyMCAyMCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyBmaWxsPSclMjNlNTRlMzMnJTNFICUzQ3BhdGggZD0nTTEwIDRDOSA0IDkgNSA5IDV2LjFBNSA1IDAgMCAwIDUuMSA5SDVzLTEgMC0xIDEgMSAxIDEgMWguMUE1IDUgMCAwIDAgOSAxNC45di4xczAgMSAxIDEgMS0xIDEtMXYtLjFhNSA1IDAgMCAwIDMuOS0zLjloLjFzMSAwIDEtMS0xLTEtMS0xaC0uMUE1IDUgMCAwIDAgMTEgNS4xVjVzMC0xLTEtMXptMCAyLjVhMy41IDMuNSAwIDEgMSAwIDcgMy41IDMuNSAwIDEgMSAwLTd6Jy8lM0UgJTNDY2lyY2xlIGlkPSdkb3QnIGN4PScxMCcgY3k9JzEwJyByPScyJyBkaXNwbGF5PSdub25lJy8lM0UgJTNDcGF0aCBpZD0nc3Ryb2tlJyBkPSdNMTQgNWwxIDEtOSA5LTEtMSA5LTl6JyBkaXNwbGF5PSdub25lJy8lM0UgJTNDL3N2ZyUzRVxcXCIpfS5tYXBib3hnbC1jdHJsIGJ1dHRvbi5tYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS5tYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS13YWl0aW5nIC5tYXBib3hnbC1jdHJsLWljb257YW5pbWF0aW9uOm1hcGJveGdsLXNwaW4gMnMgbGluZWFyIGluZmluaXRlfUBtZWRpYSAoLW1zLWhpZ2gtY29udHJhc3Q6YWN0aXZlKXsubWFwYm94Z2wtY3RybCBidXR0b24ubWFwYm94Z2wtY3RybC1nZW9sb2NhdGUgLm1hcGJveGdsLWN0cmwtaWNvbntiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHdpZHRoPScyOScgaGVpZ2h0PScyOScgdmlld0JveD0nMCAwIDIwIDIwJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIGZpbGw9JyUyM2ZmZiclM0UgJTNDcGF0aCBkPSdNMTAgNEM5IDQgOSA1IDkgNXYuMUE1IDUgMCAwIDAgNS4xIDlINXMtMSAwLTEgMSAxIDEgMSAxaC4xQTUgNSAwIDAgMCA5IDE0Ljl2LjFzMCAxIDEgMSAxLTEgMS0xdi0uMWE1IDUgMCAwIDAgMy45LTMuOWguMXMxIDAgMS0xLTEtMS0xLTFoLS4xQTUgNSAwIDAgMCAxMSA1LjFWNXMwLTEtMS0xem0wIDIuNWEzLjUgMy41IDAgMSAxIDAgNyAzLjUgMy41IDAgMSAxIDAtN3onLyUzRSAlM0NjaXJjbGUgaWQ9J2RvdCcgY3g9JzEwJyBjeT0nMTAnIHI9JzInLyUzRSAlM0NwYXRoIGlkPSdzdHJva2UnIGQ9J00xNCA1bDEgMS05IDktMS0xIDktOXonIGRpc3BsYXk9J25vbmUnLyUzRSAlM0Mvc3ZnJTNFXFxcIil9Lm1hcGJveGdsLWN0cmwgYnV0dG9uLm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlOmRpc2FibGVkIC5tYXBib3hnbC1jdHJsLWljb257YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB3aWR0aD0nMjknIGhlaWdodD0nMjknIHZpZXdCb3g9JzAgMCAyMCAyMCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyBmaWxsPSclMjM5OTknJTNFICUzQ3BhdGggZD0nTTEwIDRDOSA0IDkgNSA5IDV2LjFBNSA1IDAgMCAwIDUuMSA5SDVzLTEgMC0xIDEgMSAxIDEgMWguMUE1IDUgMCAwIDAgOSAxNC45di4xczAgMSAxIDEgMS0xIDEtMXYtLjFhNSA1IDAgMCAwIDMuOS0zLjloLjFzMSAwIDEtMS0xLTEtMS0xaC0uMUE1IDUgMCAwIDAgMTEgNS4xVjVzMC0xLTEtMXptMCAyLjVhMy41IDMuNSAwIDEgMSAwIDcgMy41IDMuNSAwIDEgMSAwLTd6Jy8lM0UgJTNDY2lyY2xlIGlkPSdkb3QnIGN4PScxMCcgY3k9JzEwJyByPScyJy8lM0UgJTNDcGF0aCBpZD0nc3Ryb2tlJyBkPSdNMTQgNWwxIDEtOSA5LTEtMSA5LTl6JyBmaWxsPSdyZWQnLyUzRSAlM0Mvc3ZnJTNFXFxcIil9Lm1hcGJveGdsLWN0cmwgYnV0dG9uLm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZSAubWFwYm94Z2wtY3RybC1pY29ue2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0Nzdmcgd2lkdGg9JzI5JyBoZWlnaHQ9JzI5JyB2aWV3Qm94PScwIDAgMjAgMjAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgZmlsbD0nJTIzMzNiNWU1JyUzRSAlM0NwYXRoIGQ9J00xMCA0QzkgNCA5IDUgOSA1di4xQTUgNSAwIDAgMCA1LjEgOUg1cy0xIDAtMSAxIDEgMSAxIDFoLjFBNSA1IDAgMCAwIDkgMTQuOXYuMXMwIDEgMSAxIDEtMSAxLTF2LS4xYTUgNSAwIDAgMCAzLjktMy45aC4xczEgMCAxLTEtMS0xLTEtMWgtLjFBNSA1IDAgMCAwIDExIDUuMVY1czAtMS0xLTF6bTAgMi41YTMuNSAzLjUgMCAxIDEgMCA3IDMuNSAzLjUgMCAxIDEgMC03eicvJTNFICUzQ2NpcmNsZSBpZD0nZG90JyBjeD0nMTAnIGN5PScxMCcgcj0nMicvJTNFICUzQ3BhdGggaWQ9J3N0cm9rZScgZD0nTTE0IDVsMSAxLTkgOS0xLTEgOS05eicgZGlzcGxheT0nbm9uZScvJTNFICUzQy9zdmclM0VcXFwiKX0ubWFwYm94Z2wtY3RybCBidXR0b24ubWFwYm94Z2wtY3RybC1nZW9sb2NhdGUubWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlLWVycm9yIC5tYXBib3hnbC1jdHJsLWljb257YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB3aWR0aD0nMjknIGhlaWdodD0nMjknIHZpZXdCb3g9JzAgMCAyMCAyMCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyBmaWxsPSclMjNlNTg5NzgnJTNFICUzQ3BhdGggZD0nTTEwIDRDOSA0IDkgNSA5IDV2LjFBNSA1IDAgMCAwIDUuMSA5SDVzLTEgMC0xIDEgMSAxIDEgMWguMUE1IDUgMCAwIDAgOSAxNC45di4xczAgMSAxIDEgMS0xIDEtMXYtLjFhNSA1IDAgMCAwIDMuOS0zLjloLjFzMSAwIDEtMS0xLTEtMS0xaC0uMUE1IDUgMCAwIDAgMTEgNS4xVjVzMC0xLTEtMXptMCAyLjVhMy41IDMuNSAwIDEgMSAwIDcgMy41IDMuNSAwIDEgMSAwLTd6Jy8lM0UgJTNDY2lyY2xlIGlkPSdkb3QnIGN4PScxMCcgY3k9JzEwJyByPScyJy8lM0UgJTNDcGF0aCBpZD0nc3Ryb2tlJyBkPSdNMTQgNWwxIDEtOSA5LTEtMSA5LTl6JyBkaXNwbGF5PSdub25lJy8lM0UgJTNDL3N2ZyUzRVxcXCIpfS5tYXBib3hnbC1jdHJsIGJ1dHRvbi5tYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS5tYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kIC5tYXBib3hnbC1jdHJsLWljb257YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB3aWR0aD0nMjknIGhlaWdodD0nMjknIHZpZXdCb3g9JzAgMCAyMCAyMCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyBmaWxsPSclMjMzM2I1ZTUnJTNFICUzQ3BhdGggZD0nTTEwIDRDOSA0IDkgNSA5IDV2LjFBNSA1IDAgMCAwIDUuMSA5SDVzLTEgMC0xIDEgMSAxIDEgMWguMUE1IDUgMCAwIDAgOSAxNC45di4xczAgMSAxIDEgMS0xIDEtMXYtLjFhNSA1IDAgMCAwIDMuOS0zLjloLjFzMSAwIDEtMS0xLTEtMS0xaC0uMUE1IDUgMCAwIDAgMTEgNS4xVjVzMC0xLTEtMXptMCAyLjVhMy41IDMuNSAwIDEgMSAwIDcgMy41IDMuNSAwIDEgMSAwLTd6Jy8lM0UgJTNDY2lyY2xlIGlkPSdkb3QnIGN4PScxMCcgY3k9JzEwJyByPScyJyBkaXNwbGF5PSdub25lJy8lM0UgJTNDcGF0aCBpZD0nc3Ryb2tlJyBkPSdNMTQgNWwxIDEtOSA5LTEtMSA5LTl6JyBkaXNwbGF5PSdub25lJy8lM0UgJTNDL3N2ZyUzRVxcXCIpfS5tYXBib3hnbC1jdHJsIGJ1dHRvbi5tYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS5tYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kLWVycm9yIC5tYXBib3hnbC1jdHJsLWljb257YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB3aWR0aD0nMjknIGhlaWdodD0nMjknIHZpZXdCb3g9JzAgMCAyMCAyMCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyBmaWxsPSclMjNlNTRlMzMnJTNFICUzQ3BhdGggZD0nTTEwIDRDOSA0IDkgNSA5IDV2LjFBNSA1IDAgMCAwIDUuMSA5SDVzLTEgMC0xIDEgMSAxIDEgMWguMUE1IDUgMCAwIDAgOSAxNC45di4xczAgMSAxIDEgMS0xIDEtMXYtLjFhNSA1IDAgMCAwIDMuOS0zLjloLjFzMSAwIDEtMS0xLTEtMS0xaC0uMUE1IDUgMCAwIDAgMTEgNS4xVjVzMC0xLTEtMXptMCAyLjVhMy41IDMuNSAwIDEgMSAwIDcgMy41IDMuNSAwIDEgMSAwLTd6Jy8lM0UgJTNDY2lyY2xlIGlkPSdkb3QnIGN4PScxMCcgY3k9JzEwJyByPScyJyBkaXNwbGF5PSdub25lJy8lM0UgJTNDcGF0aCBpZD0nc3Ryb2tlJyBkPSdNMTQgNWwxIDEtOSA5LTEtMSA5LTl6JyBkaXNwbGF5PSdub25lJy8lM0UgJTNDL3N2ZyUzRVxcXCIpfX1AbWVkaWEgKC1tcy1oaWdoLWNvbnRyYXN0OmJsYWNrLW9uLXdoaXRlKXsubWFwYm94Z2wtY3RybCBidXR0b24ubWFwYm94Z2wtY3RybC1nZW9sb2NhdGUgLm1hcGJveGdsLWN0cmwtaWNvbntiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHdpZHRoPScyOScgaGVpZ2h0PScyOScgdmlld0JveD0nMCAwIDIwIDIwJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIGZpbGw9JyUyMzAwMCclM0UgJTNDcGF0aCBkPSdNMTAgNEM5IDQgOSA1IDkgNXYuMUE1IDUgMCAwIDAgNS4xIDlINXMtMSAwLTEgMSAxIDEgMSAxaC4xQTUgNSAwIDAgMCA5IDE0Ljl2LjFzMCAxIDEgMSAxLTEgMS0xdi0uMWE1IDUgMCAwIDAgMy45LTMuOWguMXMxIDAgMS0xLTEtMS0xLTFoLS4xQTUgNSAwIDAgMCAxMSA1LjFWNXMwLTEtMS0xem0wIDIuNWEzLjUgMy41IDAgMSAxIDAgNyAzLjUgMy41IDAgMSAxIDAtN3onLyUzRSAlM0NjaXJjbGUgaWQ9J2RvdCcgY3g9JzEwJyBjeT0nMTAnIHI9JzInLyUzRSAlM0NwYXRoIGlkPSdzdHJva2UnIGQ9J00xNCA1bDEgMS05IDktMS0xIDktOXonIGRpc3BsYXk9J25vbmUnLyUzRSAlM0Mvc3ZnJTNFXFxcIil9Lm1hcGJveGdsLWN0cmwgYnV0dG9uLm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlOmRpc2FibGVkIC5tYXBib3hnbC1jdHJsLWljb257YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB3aWR0aD0nMjknIGhlaWdodD0nMjknIHZpZXdCb3g9JzAgMCAyMCAyMCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyBmaWxsPSclMjM2NjYnJTNFICUzQ3BhdGggZD0nTTEwIDRDOSA0IDkgNSA5IDV2LjFBNSA1IDAgMCAwIDUuMSA5SDVzLTEgMC0xIDEgMSAxIDEgMWguMUE1IDUgMCAwIDAgOSAxNC45di4xczAgMSAxIDEgMS0xIDEtMXYtLjFhNSA1IDAgMCAwIDMuOS0zLjloLjFzMSAwIDEtMS0xLTEtMS0xaC0uMUE1IDUgMCAwIDAgMTEgNS4xVjVzMC0xLTEtMXptMCAyLjVhMy41IDMuNSAwIDEgMSAwIDcgMy41IDMuNSAwIDEgMSAwLTd6Jy8lM0UgJTNDY2lyY2xlIGlkPSdkb3QnIGN4PScxMCcgY3k9JzEwJyByPScyJy8lM0UgJTNDcGF0aCBpZD0nc3Ryb2tlJyBkPSdNMTQgNWwxIDEtOSA5LTEtMSA5LTl6JyBmaWxsPSdyZWQnLyUzRSAlM0Mvc3ZnJTNFXFxcIil9fUBrZXlmcmFtZXMgbWFwYm94Z2wtc3BpbnswJXt0cmFuc2Zvcm06cm90YXRlKDBkZWcpfXRve3RyYW5zZm9ybTpyb3RhdGUoMXR1cm4pfX1hLm1hcGJveGdsLWN0cmwtbG9nb3t3aWR0aDo4OHB4O2hlaWdodDoyM3B4O21hcmdpbjowIDAgLTRweCAtNHB4O2Rpc3BsYXk6YmxvY2s7YmFja2dyb3VuZC1yZXBlYXQ6bm8tcmVwZWF0O2N1cnNvcjpwb2ludGVyO292ZXJmbG93OmhpZGRlbjtiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHdpZHRoPSc4OCcgaGVpZ2h0PScyMycgdmlld0JveD0nMCAwIDg4IDIzJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHhtbG5zOnhsaW5rPSdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJyBmaWxsLXJ1bGU9J2V2ZW5vZGQnJTNFICUzQ2RlZnMlM0UgJTNDcGF0aCBpZD0nbG9nbycgZD0nTTExLjUgMi4yNWM1LjEwNSAwIDkuMjUgNC4xNDUgOS4yNSA5LjI1cy00LjE0NSA5LjI1LTkuMjUgOS4yNS05LjI1LTQuMTQ1LTkuMjUtOS4yNSA0LjE0NS05LjI1IDkuMjUtOS4yNXpNNi45OTcgMTUuOTgzYy0uMDUxLS4zMzgtLjgyOC01LjgwMiAyLjIzMy04Ljg3M2E0LjM5NSA0LjM5NSAwIDAxMy4xMy0xLjI4YzEuMjcgMCAyLjQ5LjUxIDMuMzkgMS40Mi45MS45IDEuNDIgMi4xMiAxLjQyIDMuMzkgMCAxLjE4LS40NDkgMi4zMDEtMS4yOCAzLjEzQzEyLjcyIDE2LjkzIDcgMTYgNyAxNmwtLjAwMy0uMDE3ek0xNS4zIDEwLjVsLTIgLjgtLjggMi0uOC0yLTItLjggMi0uOC44LTIgLjggMiAyIC44eicvJTNFICUzQ3BhdGggaWQ9J3RleHQnIGQ9J001MC42MyA4Yy4xMyAwIC4yMy4xLjIzLjIzVjljLjctLjc2IDEuNy0xLjE4IDIuNzMtMS4xOCAyLjE3IDAgMy45NSAxLjg1IDMuOTUgNC4xN3MtMS43NyA0LjE5LTMuOTQgNC4xOWMtMS4wNCAwLTIuMDMtLjQzLTIuNzQtMS4xOHYzLjc3YzAgLjEzLS4xLjIzLS4yMy4yM2gtMS40Yy0uMTMgMC0uMjMtLjEtLjIzLS4yM1Y4LjIzYzAtLjEyLjEtLjIzLjIzLS4yM2gxLjR6bS0zLjg2LjAxYy4wMSAwIC4wMSAwIC4wMS0uMDEuMTMgMCAuMjIuMS4yMi4yMnY3LjU1YzAgLjEyLS4xLjIzLS4yMy4yM2gtMS40Yy0uMTMgMC0uMjMtLjEtLjIzLS4yM1YxNWMtLjcuNzYtMS42OSAxLjE5LTIuNzMgMS4xOS0yLjE3IDAtMy45NC0xLjg3LTMuOTQtNC4xOSAwLTIuMzIgMS43Ny00LjE5IDMuOTQtNC4xOSAxLjAzIDAgMi4wMi40MyAyLjczIDEuMTh2LS43NWMwLS4xMi4xLS4yMy4yMy0uMjNoMS40em0yNi4zNzUtLjE5YTQuMjQgNC4yNCAwIDAwLTQuMTYgMy4yOWMtLjEzLjU5LS4xMyAxLjE5IDAgMS43N2E0LjIzMyA0LjIzMyAwIDAwNC4xNyAzLjNjMi4zNSAwIDQuMjYtMS44NyA0LjI2LTQuMTkgMC0yLjMyLTEuOS00LjE3LTQuMjctNC4xN3pNNjAuNjMgNWMuMTMgMCAuMjMuMS4yMy4yM3YzLjc2Yy43LS43NiAxLjctMS4xOCAyLjczLTEuMTggMS44OCAwIDMuNDUgMS40IDMuODQgMy4yOC4xMy41OS4xMyAxLjIgMCAxLjgtLjM5IDEuODgtMS45NiAzLjI5LTMuODQgMy4yOS0xLjAzIDAtMi4wMi0uNDMtMi43My0xLjE4di43N2MwIC4xMi0uMS4yMy0uMjMuMjNoLTEuNGMtLjEzIDAtLjIzLS4xLS4yMy0uMjNWNS4yM2MwLS4xMi4xLS4yMy4yMy0uMjNoMS40em0tMzQgMTFoLTEuNGMtLjEzIDAtLjIzLS4xMS0uMjMtLjIzVjguMjJjLjAxLS4xMy4xLS4yMi4yMy0uMjJoMS40Yy4xMyAwIC4yMi4xMS4yMy4yMnYuNjhjLjUtLjY4IDEuMy0xLjA5IDIuMTYtMS4xaC4wM2MxLjA5IDAgMi4wOS42IDIuNiAxLjU1LjQ1LS45NSAxLjQtMS41NSAyLjQ0LTEuNTYgMS42MiAwIDIuOTMgMS4yNSAyLjkgMi43OGwuMDMgNS4yYzAgLjEzLS4xLjIzLS4yMy4yM2gtMS40MWMtLjEzIDAtLjIzLS4xMS0uMjMtLjIzdi00LjU5YzAtLjk4LS43NC0xLjcxLTEuNjItMS43MS0uOCAwLTEuNDYuNy0xLjU5IDEuNjJsLjAxIDQuNjhjMCAuMTMtLjExLjIzLS4yMy4yM2gtMS40MWMtLjEzIDAtLjIzLS4xMS0uMjMtLjIzdi00LjU5YzAtLjk4LS43NC0xLjcxLTEuNjItMS43MS0uODUgMC0xLjU0Ljc5LTEuNiAxLjh2NC41YzAgLjEzLS4xLjIzLS4yMy4yM3ptNTMuNjE1IDBoLTEuNjFjLS4wNCAwLS4wOC0uMDEtLjEyLS4wMy0uMDktLjA2LS4xMy0uMTktLjA2LS4yOGwyLjQzLTMuNzEtMi4zOS0zLjY1YS4yMTMuMjEzIDAgMDEtLjAzLS4xMmMwLS4xMi4wOS0uMjEuMjEtLjIxaDEuNjFjLjEzIDAgLjI0LjA2LjMuMTdsMS40MSAyLjM3IDEuNC0yLjM3YS4zNC4zNCAwIDAxLjMtLjE3aDEuNmMuMDQgMCAuMDguMDEuMTIuMDMuMDkuMDYuMTMuMTkuMDYuMjhsLTIuMzcgMy42NSAyLjQzIDMuN2MwIC4wNS4wMS4wOS4wMS4xMyAwIC4xMi0uMDkuMjEtLjIxLjIxaC0xLjYxYy0uMTMgMC0uMjQtLjA2LS4zLS4xN2wtMS40NC0yLjQyLTEuNDQgMi40MmEuMzQuMzQgMCAwMS0uMy4xN3ptLTcuMTItMS40OWMtMS4zMyAwLTIuNDItMS4xMi0yLjQyLTIuNTEgMC0xLjM5IDEuMDgtMi41MiAyLjQyLTIuNTIgMS4zMyAwIDIuNDIgMS4xMiAyLjQyIDIuNTEgMCAxLjM5LTEuMDggMi41MS0yLjQyIDIuNTJ6bS0xOS44NjUgMGMtMS4zMiAwLTIuMzktMS4xMS0yLjQyLTIuNDh2LS4wN2MuMDItMS4zOCAxLjA5LTIuNDkgMi40LTIuNDkgMS4zMiAwIDIuNDEgMS4xMiAyLjQxIDIuNTEgMCAxLjM5LTEuMDcgMi41Mi0yLjM5IDIuNTN6bS04LjExLTIuNDhjLS4wMSAxLjM3LTEuMDkgMi40Ny0yLjQxIDIuNDdzLTIuNDItMS4xMi0yLjQyLTIuNTFjMC0xLjM5IDEuMDgtMi41MiAyLjQtMi41MiAxLjMzIDAgMi4zOSAxLjExIDIuNDEgMi40OGwuMDIuMDh6bTE4LjEyIDIuNDdjLTEuMzIgMC0yLjM5LTEuMTEtMi40MS0yLjQ4di0uMDZjLjAyLTEuMzggMS4wOS0yLjQ4IDIuNDEtMi40OHMyLjQyIDEuMTIgMi40MiAyLjUxYzAgMS4zOS0xLjA5IDIuNTEtMi40MiAyLjUxeicvJTNFICUzQy9kZWZzJTNFICUzQ21hc2sgaWQ9J2NsaXAnJTNFICUzQ3JlY3QgeD0nMCcgeT0nMCcgd2lkdGg9JzEwMCUyNScgaGVpZ2h0PScxMDAlMjUnIGZpbGw9J3doaXRlJy8lM0UgJTNDdXNlIHhsaW5rOmhyZWY9JyUyM2xvZ28nLyUzRSAlM0N1c2UgeGxpbms6aHJlZj0nJTIzdGV4dCcvJTNFICUzQy9tYXNrJTNFICUzQ2cgaWQ9J291dGxpbmUnIG9wYWNpdHk9JzAuMycgc3Ryb2tlPSclMjMwMDAnIHN0cm9rZS13aWR0aD0nMyclM0UgJTNDY2lyY2xlIG1hc2s9J3VybCglMjNjbGlwKScgY3g9JzExLjUnIGN5PScxMS41JyByPSc5LjI1Jy8lM0UgJTNDdXNlIHhsaW5rOmhyZWY9JyUyM3RleHQnIG1hc2s9J3VybCglMjNjbGlwKScvJTNFICUzQy9nJTNFICUzQ2cgaWQ9J2ZpbGwnIG9wYWNpdHk9JzAuOScgZmlsbD0nJTIzZmZmJyUzRSAlM0N1c2UgeGxpbms6aHJlZj0nJTIzbG9nbycvJTNFICUzQ3VzZSB4bGluazpocmVmPSclMjN0ZXh0Jy8lM0UgJTNDL2clM0UgJTNDL3N2ZyUzRVxcXCIpfWEubWFwYm94Z2wtY3RybC1sb2dvLm1hcGJveGdsLWNvbXBhY3R7d2lkdGg6MjNweH1AbWVkaWEgKC1tcy1oaWdoLWNvbnRyYXN0OmFjdGl2ZSl7YS5tYXBib3hnbC1jdHJsLWxvZ297YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudDtiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHdpZHRoPSc4OCcgaGVpZ2h0PScyMycgdmlld0JveD0nMCAwIDg4IDIzJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHhtbG5zOnhsaW5rPSdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJyBmaWxsLXJ1bGU9J2V2ZW5vZGQnJTNFICUzQ2RlZnMlM0UgJTNDcGF0aCBpZD0nbG9nbycgZD0nTTExLjUgMi4yNWM1LjEwNSAwIDkuMjUgNC4xNDUgOS4yNSA5LjI1cy00LjE0NSA5LjI1LTkuMjUgOS4yNS05LjI1LTQuMTQ1LTkuMjUtOS4yNSA0LjE0NS05LjI1IDkuMjUtOS4yNXpNNi45OTcgMTUuOTgzYy0uMDUxLS4zMzgtLjgyOC01LjgwMiAyLjIzMy04Ljg3M2E0LjM5NSA0LjM5NSAwIDAxMy4xMy0xLjI4YzEuMjcgMCAyLjQ5LjUxIDMuMzkgMS40Mi45MS45IDEuNDIgMi4xMiAxLjQyIDMuMzkgMCAxLjE4LS40NDkgMi4zMDEtMS4yOCAzLjEzQzEyLjcyIDE2LjkzIDcgMTYgNyAxNmwtLjAwMy0uMDE3ek0xNS4zIDEwLjVsLTIgLjgtLjggMi0uOC0yLTItLjggMi0uOC44LTIgLjggMiAyIC44eicvJTNFICUzQ3BhdGggaWQ9J3RleHQnIGQ9J001MC42MyA4Yy4xMyAwIC4yMy4xLjIzLjIzVjljLjctLjc2IDEuNy0xLjE4IDIuNzMtMS4xOCAyLjE3IDAgMy45NSAxLjg1IDMuOTUgNC4xN3MtMS43NyA0LjE5LTMuOTQgNC4xOWMtMS4wNCAwLTIuMDMtLjQzLTIuNzQtMS4xOHYzLjc3YzAgLjEzLS4xLjIzLS4yMy4yM2gtMS40Yy0uMTMgMC0uMjMtLjEtLjIzLS4yM1Y4LjIzYzAtLjEyLjEtLjIzLjIzLS4yM2gxLjR6bS0zLjg2LjAxYy4wMSAwIC4wMSAwIC4wMS0uMDEuMTMgMCAuMjIuMS4yMi4yMnY3LjU1YzAgLjEyLS4xLjIzLS4yMy4yM2gtMS40Yy0uMTMgMC0uMjMtLjEtLjIzLS4yM1YxNWMtLjcuNzYtMS42OSAxLjE5LTIuNzMgMS4xOS0yLjE3IDAtMy45NC0xLjg3LTMuOTQtNC4xOSAwLTIuMzIgMS43Ny00LjE5IDMuOTQtNC4xOSAxLjAzIDAgMi4wMi40MyAyLjczIDEuMTh2LS43NWMwLS4xMi4xLS4yMy4yMy0uMjNoMS40em0yNi4zNzUtLjE5YTQuMjQgNC4yNCAwIDAwLTQuMTYgMy4yOWMtLjEzLjU5LS4xMyAxLjE5IDAgMS43N2E0LjIzMyA0LjIzMyAwIDAwNC4xNyAzLjNjMi4zNSAwIDQuMjYtMS44NyA0LjI2LTQuMTkgMC0yLjMyLTEuOS00LjE3LTQuMjctNC4xN3pNNjAuNjMgNWMuMTMgMCAuMjMuMS4yMy4yM3YzLjc2Yy43LS43NiAxLjctMS4xOCAyLjczLTEuMTggMS44OCAwIDMuNDUgMS40IDMuODQgMy4yOC4xMy41OS4xMyAxLjIgMCAxLjgtLjM5IDEuODgtMS45NiAzLjI5LTMuODQgMy4yOS0xLjAzIDAtMi4wMi0uNDMtMi43My0xLjE4di43N2MwIC4xMi0uMS4yMy0uMjMuMjNoLTEuNGMtLjEzIDAtLjIzLS4xLS4yMy0uMjNWNS4yM2MwLS4xMi4xLS4yMy4yMy0uMjNoMS40em0tMzQgMTFoLTEuNGMtLjEzIDAtLjIzLS4xMS0uMjMtLjIzVjguMjJjLjAxLS4xMy4xLS4yMi4yMy0uMjJoMS40Yy4xMyAwIC4yMi4xMS4yMy4yMnYuNjhjLjUtLjY4IDEuMy0xLjA5IDIuMTYtMS4xaC4wM2MxLjA5IDAgMi4wOS42IDIuNiAxLjU1LjQ1LS45NSAxLjQtMS41NSAyLjQ0LTEuNTYgMS42MiAwIDIuOTMgMS4yNSAyLjkgMi43OGwuMDMgNS4yYzAgLjEzLS4xLjIzLS4yMy4yM2gtMS40MWMtLjEzIDAtLjIzLS4xMS0uMjMtLjIzdi00LjU5YzAtLjk4LS43NC0xLjcxLTEuNjItMS43MS0uOCAwLTEuNDYuNy0xLjU5IDEuNjJsLjAxIDQuNjhjMCAuMTMtLjExLjIzLS4yMy4yM2gtMS40MWMtLjEzIDAtLjIzLS4xMS0uMjMtLjIzdi00LjU5YzAtLjk4LS43NC0xLjcxLTEuNjItMS43MS0uODUgMC0xLjU0Ljc5LTEuNiAxLjh2NC41YzAgLjEzLS4xLjIzLS4yMy4yM3ptNTMuNjE1IDBoLTEuNjFjLS4wNCAwLS4wOC0uMDEtLjEyLS4wMy0uMDktLjA2LS4xMy0uMTktLjA2LS4yOGwyLjQzLTMuNzEtMi4zOS0zLjY1YS4yMTMuMjEzIDAgMDEtLjAzLS4xMmMwLS4xMi4wOS0uMjEuMjEtLjIxaDEuNjFjLjEzIDAgLjI0LjA2LjMuMTdsMS40MSAyLjM3IDEuNC0yLjM3YS4zNC4zNCAwIDAxLjMtLjE3aDEuNmMuMDQgMCAuMDguMDEuMTIuMDMuMDkuMDYuMTMuMTkuMDYuMjhsLTIuMzcgMy42NSAyLjQzIDMuN2MwIC4wNS4wMS4wOS4wMS4xMyAwIC4xMi0uMDkuMjEtLjIxLjIxaC0xLjYxYy0uMTMgMC0uMjQtLjA2LS4zLS4xN2wtMS40NC0yLjQyLTEuNDQgMi40MmEuMzQuMzQgMCAwMS0uMy4xN3ptLTcuMTItMS40OWMtMS4zMyAwLTIuNDItMS4xMi0yLjQyLTIuNTEgMC0xLjM5IDEuMDgtMi41MiAyLjQyLTIuNTIgMS4zMyAwIDIuNDIgMS4xMiAyLjQyIDIuNTEgMCAxLjM5LTEuMDggMi41MS0yLjQyIDIuNTJ6bS0xOS44NjUgMGMtMS4zMiAwLTIuMzktMS4xMS0yLjQyLTIuNDh2LS4wN2MuMDItMS4zOCAxLjA5LTIuNDkgMi40LTIuNDkgMS4zMiAwIDIuNDEgMS4xMiAyLjQxIDIuNTEgMCAxLjM5LTEuMDcgMi41Mi0yLjM5IDIuNTN6bS04LjExLTIuNDhjLS4wMSAxLjM3LTEuMDkgMi40Ny0yLjQxIDIuNDdzLTIuNDItMS4xMi0yLjQyLTIuNTFjMC0xLjM5IDEuMDgtMi41MiAyLjQtMi41MiAxLjMzIDAgMi4zOSAxLjExIDIuNDEgMi40OGwuMDIuMDh6bTE4LjEyIDIuNDdjLTEuMzIgMC0yLjM5LTEuMTEtMi40MS0yLjQ4di0uMDZjLjAyLTEuMzggMS4wOS0yLjQ4IDIuNDEtMi40OHMyLjQyIDEuMTIgMi40MiAyLjUxYzAgMS4zOS0xLjA5IDIuNTEtMi40MiAyLjUxeicvJTNFICUzQy9kZWZzJTNFICUzQ21hc2sgaWQ9J2NsaXAnJTNFICUzQ3JlY3QgeD0nMCcgeT0nMCcgd2lkdGg9JzEwMCUyNScgaGVpZ2h0PScxMDAlMjUnIGZpbGw9J3doaXRlJy8lM0UgJTNDdXNlIHhsaW5rOmhyZWY9JyUyM2xvZ28nLyUzRSAlM0N1c2UgeGxpbms6aHJlZj0nJTIzdGV4dCcvJTNFICUzQy9tYXNrJTNFICUzQ2cgaWQ9J291dGxpbmUnIG9wYWNpdHk9JzEnIHN0cm9rZT0nJTIzMDAwJyBzdHJva2Utd2lkdGg9JzMnJTNFICUzQ2NpcmNsZSBtYXNrPSd1cmwoJTIzY2xpcCknIGN4PScxMS41JyBjeT0nMTEuNScgcj0nOS4yNScvJTNFICUzQ3VzZSB4bGluazpocmVmPSclMjN0ZXh0JyBtYXNrPSd1cmwoJTIzY2xpcCknLyUzRSAlM0MvZyUzRSAlM0NnIGlkPSdmaWxsJyBvcGFjaXR5PScxJyBmaWxsPSclMjNmZmYnJTNFICUzQ3VzZSB4bGluazpocmVmPSclMjNsb2dvJy8lM0UgJTNDdXNlIHhsaW5rOmhyZWY9JyUyM3RleHQnLyUzRSAlM0MvZyUzRSAlM0Mvc3ZnJTNFXFxcIil9fUBtZWRpYSAoLW1zLWhpZ2gtY29udHJhc3Q6YmxhY2stb24td2hpdGUpe2EubWFwYm94Z2wtY3RybC1sb2dve2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0Nzdmcgd2lkdGg9Jzg4JyBoZWlnaHQ9JzIzJyB2aWV3Qm94PScwIDAgODggMjMnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgeG1sbnM6eGxpbms9J2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnIGZpbGwtcnVsZT0nZXZlbm9kZCclM0UgJTNDZGVmcyUzRSAlM0NwYXRoIGlkPSdsb2dvJyBkPSdNMTEuNSAyLjI1YzUuMTA1IDAgOS4yNSA0LjE0NSA5LjI1IDkuMjVzLTQuMTQ1IDkuMjUtOS4yNSA5LjI1LTkuMjUtNC4xNDUtOS4yNS05LjI1IDQuMTQ1LTkuMjUgOS4yNS05LjI1ek02Ljk5NyAxNS45ODNjLS4wNTEtLjMzOC0uODI4LTUuODAyIDIuMjMzLTguODczYTQuMzk1IDQuMzk1IDAgMDEzLjEzLTEuMjhjMS4yNyAwIDIuNDkuNTEgMy4zOSAxLjQyLjkxLjkgMS40MiAyLjEyIDEuNDIgMy4zOSAwIDEuMTgtLjQ0OSAyLjMwMS0xLjI4IDMuMTNDMTIuNzIgMTYuOTMgNyAxNiA3IDE2bC0uMDAzLS4wMTd6TTE1LjMgMTAuNWwtMiAuOC0uOCAyLS44LTItMi0uOCAyLS44LjgtMiAuOCAyIDIgLjh6Jy8lM0UgJTNDcGF0aCBpZD0ndGV4dCcgZD0nTTUwLjYzIDhjLjEzIDAgLjIzLjEuMjMuMjNWOWMuNy0uNzYgMS43LTEuMTggMi43My0xLjE4IDIuMTcgMCAzLjk1IDEuODUgMy45NSA0LjE3cy0xLjc3IDQuMTktMy45NCA0LjE5Yy0xLjA0IDAtMi4wMy0uNDMtMi43NC0xLjE4djMuNzdjMCAuMTMtLjEuMjMtLjIzLjIzaC0xLjRjLS4xMyAwLS4yMy0uMS0uMjMtLjIzVjguMjNjMC0uMTIuMS0uMjMuMjMtLjIzaDEuNHptLTMuODYuMDFjLjAxIDAgLjAxIDAgLjAxLS4wMS4xMyAwIC4yMi4xLjIyLjIydjcuNTVjMCAuMTItLjEuMjMtLjIzLjIzaC0xLjRjLS4xMyAwLS4yMy0uMS0uMjMtLjIzVjE1Yy0uNy43Ni0xLjY5IDEuMTktMi43MyAxLjE5LTIuMTcgMC0zLjk0LTEuODctMy45NC00LjE5IDAtMi4zMiAxLjc3LTQuMTkgMy45NC00LjE5IDEuMDMgMCAyLjAyLjQzIDIuNzMgMS4xOHYtLjc1YzAtLjEyLjEtLjIzLjIzLS4yM2gxLjR6bTI2LjM3NS0uMTlhNC4yNCA0LjI0IDAgMDAtNC4xNiAzLjI5Yy0uMTMuNTktLjEzIDEuMTkgMCAxLjc3YTQuMjMzIDQuMjMzIDAgMDA0LjE3IDMuM2MyLjM1IDAgNC4yNi0xLjg3IDQuMjYtNC4xOSAwLTIuMzItMS45LTQuMTctNC4yNy00LjE3ek02MC42MyA1Yy4xMyAwIC4yMy4xLjIzLjIzdjMuNzZjLjctLjc2IDEuNy0xLjE4IDIuNzMtMS4xOCAxLjg4IDAgMy40NSAxLjQgMy44NCAzLjI4LjEzLjU5LjEzIDEuMiAwIDEuOC0uMzkgMS44OC0xLjk2IDMuMjktMy44NCAzLjI5LTEuMDMgMC0yLjAyLS40My0yLjczLTEuMTh2Ljc3YzAgLjEyLS4xLjIzLS4yMy4yM2gtMS40Yy0uMTMgMC0uMjMtLjEtLjIzLS4yM1Y1LjIzYzAtLjEyLjEtLjIzLjIzLS4yM2gxLjR6bS0zNCAxMWgtMS40Yy0uMTMgMC0uMjMtLjExLS4yMy0uMjNWOC4yMmMuMDEtLjEzLjEtLjIyLjIzLS4yMmgxLjRjLjEzIDAgLjIyLjExLjIzLjIydi42OGMuNS0uNjggMS4zLTEuMDkgMi4xNi0xLjFoLjAzYzEuMDkgMCAyLjA5LjYgMi42IDEuNTUuNDUtLjk1IDEuNC0xLjU1IDIuNDQtMS41NiAxLjYyIDAgMi45MyAxLjI1IDIuOSAyLjc4bC4wMyA1LjJjMCAuMTMtLjEuMjMtLjIzLjIzaC0xLjQxYy0uMTMgMC0uMjMtLjExLS4yMy0uMjN2LTQuNTljMC0uOTgtLjc0LTEuNzEtMS42Mi0xLjcxLS44IDAtMS40Ni43LTEuNTkgMS42MmwuMDEgNC42OGMwIC4xMy0uMTEuMjMtLjIzLjIzaC0xLjQxYy0uMTMgMC0uMjMtLjExLS4yMy0uMjN2LTQuNTljMC0uOTgtLjc0LTEuNzEtMS42Mi0xLjcxLS44NSAwLTEuNTQuNzktMS42IDEuOHY0LjVjMCAuMTMtLjEuMjMtLjIzLjIzem01My42MTUgMGgtMS42MWMtLjA0IDAtLjA4LS4wMS0uMTItLjAzLS4wOS0uMDYtLjEzLS4xOS0uMDYtLjI4bDIuNDMtMy43MS0yLjM5LTMuNjVhLjIxMy4yMTMgMCAwMS0uMDMtLjEyYzAtLjEyLjA5LS4yMS4yMS0uMjFoMS42MWMuMTMgMCAuMjQuMDYuMy4xN2wxLjQxIDIuMzcgMS40LTIuMzdhLjM0LjM0IDAgMDEuMy0uMTdoMS42Yy4wNCAwIC4wOC4wMS4xMi4wMy4wOS4wNi4xMy4xOS4wNi4yOGwtMi4zNyAzLjY1IDIuNDMgMy43YzAgLjA1LjAxLjA5LjAxLjEzIDAgLjEyLS4wOS4yMS0uMjEuMjFoLTEuNjFjLS4xMyAwLS4yNC0uMDYtLjMtLjE3bC0xLjQ0LTIuNDItMS40NCAyLjQyYS4zNC4zNCAwIDAxLS4zLjE3em0tNy4xMi0xLjQ5Yy0xLjMzIDAtMi40Mi0xLjEyLTIuNDItMi41MSAwLTEuMzkgMS4wOC0yLjUyIDIuNDItMi41MiAxLjMzIDAgMi40MiAxLjEyIDIuNDIgMi41MSAwIDEuMzktMS4wOCAyLjUxLTIuNDIgMi41MnptLTE5Ljg2NSAwYy0xLjMyIDAtMi4zOS0xLjExLTIuNDItMi40OHYtLjA3Yy4wMi0xLjM4IDEuMDktMi40OSAyLjQtMi40OSAxLjMyIDAgMi40MSAxLjEyIDIuNDEgMi41MSAwIDEuMzktMS4wNyAyLjUyLTIuMzkgMi41M3ptLTguMTEtMi40OGMtLjAxIDEuMzctMS4wOSAyLjQ3LTIuNDEgMi40N3MtMi40Mi0xLjEyLTIuNDItMi41MWMwLTEuMzkgMS4wOC0yLjUyIDIuNC0yLjUyIDEuMzMgMCAyLjM5IDEuMTEgMi40MSAyLjQ4bC4wMi4wOHptMTguMTIgMi40N2MtMS4zMiAwLTIuMzktMS4xMS0yLjQxLTIuNDh2LS4wNmMuMDItMS4zOCAxLjA5LTIuNDggMi40MS0yLjQ4czIuNDIgMS4xMiAyLjQyIDIuNTFjMCAxLjM5LTEuMDkgMi41MS0yLjQyIDIuNTF6Jy8lM0UgJTNDL2RlZnMlM0UgJTNDbWFzayBpZD0nY2xpcCclM0UgJTNDcmVjdCB4PScwJyB5PScwJyB3aWR0aD0nMTAwJTI1JyBoZWlnaHQ9JzEwMCUyNScgZmlsbD0nd2hpdGUnLyUzRSAlM0N1c2UgeGxpbms6aHJlZj0nJTIzbG9nbycvJTNFICUzQ3VzZSB4bGluazpocmVmPSclMjN0ZXh0Jy8lM0UgJTNDL21hc2slM0UgJTNDZyBpZD0nb3V0bGluZScgb3BhY2l0eT0nMScgc3Ryb2tlPSclMjNmZmYnIHN0cm9rZS13aWR0aD0nMycgZmlsbD0nJTIzZmZmJyUzRSAlM0NjaXJjbGUgbWFzaz0ndXJsKCUyM2NsaXApJyBjeD0nMTEuNScgY3k9JzExLjUnIHI9JzkuMjUnLyUzRSAlM0N1c2UgeGxpbms6aHJlZj0nJTIzdGV4dCcgbWFzaz0ndXJsKCUyM2NsaXApJy8lM0UgJTNDL2clM0UgJTNDZyBpZD0nZmlsbCcgb3BhY2l0eT0nMScgZmlsbD0nJTIzMDAwJyUzRSAlM0N1c2UgeGxpbms6aHJlZj0nJTIzbG9nbycvJTNFICUzQ3VzZSB4bGluazpocmVmPSclMjN0ZXh0Jy8lM0UgJTNDL2clM0UgJTNDL3N2ZyUzRVxcXCIpfX0ubWFwYm94Z2wtY3RybC5tYXBib3hnbC1jdHJsLWF0dHJpYntwYWRkaW5nOjAgNXB4O2JhY2tncm91bmQtY29sb3I6cmdiKDI1NSAyNTUgMjU1LzUwJSk7bWFyZ2luOjB9QG1lZGlhIHNjcmVlbnsubWFwYm94Z2wtY3RybC1hdHRyaWIubWFwYm94Z2wtY29tcGFjdHttaW4taGVpZ2h0OjIwcHg7cGFkZGluZzoycHggMjRweCAycHggMDttYXJnaW46MTBweDtwb3NpdGlvbjpyZWxhdGl2ZTtiYWNrZ3JvdW5kLWNvbG9yOiNmZmY7Ym9yZGVyLXJhZGl1czoxMnB4fS5tYXBib3hnbC1jdHJsLWF0dHJpYi5tYXBib3hnbC1jb21wYWN0LXNob3d7cGFkZGluZzoycHggMjhweCAycHggOHB4O3Zpc2liaWxpdHk6dmlzaWJsZX0ubWFwYm94Z2wtY3RybC1ib3R0b20tbGVmdD4ubWFwYm94Z2wtY3RybC1hdHRyaWIubWFwYm94Z2wtY29tcGFjdC1zaG93LC5tYXBib3hnbC1jdHJsLXRvcC1sZWZ0Pi5tYXBib3hnbC1jdHJsLWF0dHJpYi5tYXBib3hnbC1jb21wYWN0LXNob3d7cGFkZGluZzoycHggOHB4IDJweCAyOHB4O2JvcmRlci1yYWRpdXM6MTJweH0ubWFwYm94Z2wtY3RybC1hdHRyaWIubWFwYm94Z2wtY29tcGFjdCAubWFwYm94Z2wtY3RybC1hdHRyaWItaW5uZXJ7ZGlzcGxheTpub25lfS5tYXBib3hnbC1jdHJsLWF0dHJpYi1idXR0b257ZGlzcGxheTpub25lO2N1cnNvcjpwb2ludGVyO3Bvc2l0aW9uOmFic29sdXRlO2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0Nzdmcgd2lkdGg9JzI0JyBoZWlnaHQ9JzI0JyB2aWV3Qm94PScwIDAgMjAgMjAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgZmlsbC1ydWxlPSdldmVub2RkJyUzRSAlM0NwYXRoIGQ9J000IDEwYTYgNiAwIDEgMCAxMiAwIDYgNiAwIDEgMC0xMiAwbTUtM2ExIDEgMCAxIDAgMiAwIDEgMSAwIDEgMC0yIDBtMCAzYTEgMSAwIDEgMSAyIDB2M2ExIDEgMCAxIDEtMiAwJy8lM0UgJTNDL3N2ZyUzRVxcXCIpO2JhY2tncm91bmQtY29sb3I6cmdiKDI1NSAyNTUgMjU1LzUwJSk7d2lkdGg6MjRweDtoZWlnaHQ6MjRweDtib3gtc2l6aW5nOmJvcmRlci1ib3g7Ym9yZGVyLXJhZGl1czoxMnB4O291dGxpbmU6bm9uZTt0b3A6MDtyaWdodDowO2JvcmRlcjowfS5tYXBib3hnbC1jdHJsLWJvdHRvbS1sZWZ0IC5tYXBib3hnbC1jdHJsLWF0dHJpYi1idXR0b24sLm1hcGJveGdsLWN0cmwtdG9wLWxlZnQgLm1hcGJveGdsLWN0cmwtYXR0cmliLWJ1dHRvbntsZWZ0OjB9Lm1hcGJveGdsLWN0cmwtYXR0cmliLm1hcGJveGdsLWNvbXBhY3Qtc2hvdyAubWFwYm94Z2wtY3RybC1hdHRyaWItaW5uZXIsLm1hcGJveGdsLWN0cmwtYXR0cmliLm1hcGJveGdsLWNvbXBhY3QgLm1hcGJveGdsLWN0cmwtYXR0cmliLWJ1dHRvbntkaXNwbGF5OmJsb2NrfS5tYXBib3hnbC1jdHJsLWF0dHJpYi5tYXBib3hnbC1jb21wYWN0LXNob3cgLm1hcGJveGdsLWN0cmwtYXR0cmliLWJ1dHRvbntiYWNrZ3JvdW5kLWNvbG9yOnJnYigwIDAgMC81JSl9Lm1hcGJveGdsLWN0cmwtYm90dG9tLXJpZ2h0Pi5tYXBib3hnbC1jdHJsLWF0dHJpYi5tYXBib3hnbC1jb21wYWN0OmFmdGVye2JvdHRvbTowO3JpZ2h0OjB9Lm1hcGJveGdsLWN0cmwtdG9wLXJpZ2h0Pi5tYXBib3hnbC1jdHJsLWF0dHJpYi5tYXBib3hnbC1jb21wYWN0OmFmdGVye3RvcDowO3JpZ2h0OjB9Lm1hcGJveGdsLWN0cmwtdG9wLWxlZnQ+Lm1hcGJveGdsLWN0cmwtYXR0cmliLm1hcGJveGdsLWNvbXBhY3Q6YWZ0ZXJ7dG9wOjA7bGVmdDowfS5tYXBib3hnbC1jdHJsLWJvdHRvbS1sZWZ0Pi5tYXBib3hnbC1jdHJsLWF0dHJpYi5tYXBib3hnbC1jb21wYWN0OmFmdGVye2JvdHRvbTowO2xlZnQ6MH19QG1lZGlhIHNjcmVlbiBhbmQgKC1tcy1oaWdoLWNvbnRyYXN0OmFjdGl2ZSl7Lm1hcGJveGdsLWN0cmwtYXR0cmliLm1hcGJveGdsLWNvbXBhY3Q6YWZ0ZXJ7YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB3aWR0aD0nMjQnIGhlaWdodD0nMjQnIHZpZXdCb3g9JzAgMCAyMCAyMCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyBmaWxsLXJ1bGU9J2V2ZW5vZGQnIGZpbGw9JyUyM2ZmZiclM0UgJTNDcGF0aCBkPSdNNCAxMGE2IDYgMCAxIDAgMTIgMCA2IDYgMCAxIDAtMTIgMG01LTNhMSAxIDAgMSAwIDIgMCAxIDEgMCAxIDAtMiAwbTAgM2ExIDEgMCAxIDEgMiAwdjNhMSAxIDAgMSAxLTIgMCcvJTNFICUzQy9zdmclM0VcXFwiKX19QG1lZGlhIHNjcmVlbiBhbmQgKC1tcy1oaWdoLWNvbnRyYXN0OmJsYWNrLW9uLXdoaXRlKXsubWFwYm94Z2wtY3RybC1hdHRyaWIubWFwYm94Z2wtY29tcGFjdDphZnRlcntiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHdpZHRoPScyNCcgaGVpZ2h0PScyNCcgdmlld0JveD0nMCAwIDIwIDIwJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIGZpbGwtcnVsZT0nZXZlbm9kZCclM0UgJTNDcGF0aCBkPSdNNCAxMGE2IDYgMCAxIDAgMTIgMCA2IDYgMCAxIDAtMTIgMG01LTNhMSAxIDAgMSAwIDIgMCAxIDEgMCAxIDAtMiAwbTAgM2ExIDEgMCAxIDEgMiAwdjNhMSAxIDAgMSAxLTIgMCcvJTNFICUzQy9zdmclM0VcXFwiKX19Lm1hcGJveGdsLWN0cmwtYXR0cmliIGF7Y29sb3I6cmdiKDAgMCAwLzc1JSk7dGV4dC1kZWNvcmF0aW9uOm5vbmV9Lm1hcGJveGdsLWN0cmwtYXR0cmliIGE6aG92ZXJ7Y29sb3I6aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246dW5kZXJsaW5lfS5tYXBib3hnbC1jdHJsLWF0dHJpYiAubWFwYm94LWltcHJvdmUtbWFwe2ZvbnQtd2VpZ2h0OjcwMDttYXJnaW4tbGVmdDoycHh9Lm1hcGJveGdsLWF0dHJpYi1lbXB0eXtkaXNwbGF5Om5vbmV9Lm1hcGJveGdsLWN0cmwtc2NhbGV7YmFja2dyb3VuZC1jb2xvcjpyZ2IoMjU1IDI1NSAyNTUvNzUlKTtmb250LXNpemU6MTBweDtib3JkZXI6MnB4IHNvbGlkICMzMzM7Ym9yZGVyLXRvcDojMzMzO3BhZGRpbmc6MCA1cHg7Y29sb3I6IzMzMztib3gtc2l6aW5nOmJvcmRlci1ib3g7d2hpdGUtc3BhY2U6bm93cmFwfS5tYXBib3hnbC1wb3B1cHtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OjA7ZGlzcGxheTpmbGV4O3dpbGwtY2hhbmdlOnRyYW5zZm9ybTtwb2ludGVyLWV2ZW50czpub25lfS5tYXBib3hnbC1wb3B1cC1hbmNob3ItdG9wLC5tYXBib3hnbC1wb3B1cC1hbmNob3ItdG9wLWxlZnQsLm1hcGJveGdsLXBvcHVwLWFuY2hvci10b3AtcmlnaHR7ZmxleC1kaXJlY3Rpb246Y29sdW1ufS5tYXBib3hnbC1wb3B1cC1hbmNob3ItYm90dG9tLC5tYXBib3hnbC1wb3B1cC1hbmNob3ItYm90dG9tLWxlZnQsLm1hcGJveGdsLXBvcHVwLWFuY2hvci1ib3R0b20tcmlnaHR7ZmxleC1kaXJlY3Rpb246Y29sdW1uLXJldmVyc2V9Lm1hcGJveGdsLXBvcHVwLWFuY2hvci1sZWZ0e2ZsZXgtZGlyZWN0aW9uOnJvd30ubWFwYm94Z2wtcG9wdXAtYW5jaG9yLXJpZ2h0e2ZsZXgtZGlyZWN0aW9uOnJvdy1yZXZlcnNlfS5tYXBib3hnbC1wb3B1cC10aXB7d2lkdGg6MDtoZWlnaHQ6MDtib3JkZXI6MTBweCBzb2xpZCB0cmFuc3BhcmVudDt6LWluZGV4OjF9Lm1hcGJveGdsLXBvcHVwLWFuY2hvci10b3AgLm1hcGJveGdsLXBvcHVwLXRpcHthbGlnbi1zZWxmOmNlbnRlcjtib3JkZXItdG9wOm5vbmU7Ym9yZGVyLWJvdHRvbS1jb2xvcjojZmZmfS5tYXBib3hnbC1wb3B1cC1hbmNob3ItdG9wLWxlZnQgLm1hcGJveGdsLXBvcHVwLXRpcHthbGlnbi1zZWxmOmZsZXgtc3RhcnQ7Ym9yZGVyLXRvcDpub25lO2JvcmRlci1sZWZ0Om5vbmU7Ym9yZGVyLWJvdHRvbS1jb2xvcjojZmZmfS5tYXBib3hnbC1wb3B1cC1hbmNob3ItdG9wLXJpZ2h0IC5tYXBib3hnbC1wb3B1cC10aXB7YWxpZ24tc2VsZjpmbGV4LWVuZDtib3JkZXItdG9wOm5vbmU7Ym9yZGVyLXJpZ2h0Om5vbmU7Ym9yZGVyLWJvdHRvbS1jb2xvcjojZmZmfS5tYXBib3hnbC1wb3B1cC1hbmNob3ItYm90dG9tIC5tYXBib3hnbC1wb3B1cC10aXB7YWxpZ24tc2VsZjpjZW50ZXI7Ym9yZGVyLWJvdHRvbTpub25lO2JvcmRlci10b3AtY29sb3I6I2ZmZn0ubWFwYm94Z2wtcG9wdXAtYW5jaG9yLWJvdHRvbS1sZWZ0IC5tYXBib3hnbC1wb3B1cC10aXB7YWxpZ24tc2VsZjpmbGV4LXN0YXJ0O2JvcmRlci1ib3R0b206bm9uZTtib3JkZXItbGVmdDpub25lO2JvcmRlci10b3AtY29sb3I6I2ZmZn0ubWFwYm94Z2wtcG9wdXAtYW5jaG9yLWJvdHRvbS1yaWdodCAubWFwYm94Z2wtcG9wdXAtdGlwe2FsaWduLXNlbGY6ZmxleC1lbmQ7Ym9yZGVyLWJvdHRvbTpub25lO2JvcmRlci1yaWdodDpub25lO2JvcmRlci10b3AtY29sb3I6I2ZmZn0ubWFwYm94Z2wtcG9wdXAtYW5jaG9yLWxlZnQgLm1hcGJveGdsLXBvcHVwLXRpcHthbGlnbi1zZWxmOmNlbnRlcjtib3JkZXItbGVmdDpub25lO2JvcmRlci1yaWdodC1jb2xvcjojZmZmfS5tYXBib3hnbC1wb3B1cC1hbmNob3ItcmlnaHQgLm1hcGJveGdsLXBvcHVwLXRpcHthbGlnbi1zZWxmOmNlbnRlcjtib3JkZXItcmlnaHQ6bm9uZTtib3JkZXItbGVmdC1jb2xvcjojZmZmfS5tYXBib3hnbC1wb3B1cC1jbG9zZS1idXR0b257cG9zaXRpb246YWJzb2x1dGU7cmlnaHQ6MDt0b3A6MDtib3JkZXI6MDtib3JkZXItcmFkaXVzOjAgM3B4IDAgMDtjdXJzb3I6cG9pbnRlcjtiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50fS5tYXBib3hnbC1wb3B1cC1jbG9zZS1idXR0b246aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjpyZ2IoMCAwIDAvNSUpfS5tYXBib3hnbC1wb3B1cC1jb250ZW50e3Bvc2l0aW9uOnJlbGF0aXZlO2JhY2tncm91bmQ6I2ZmZjtib3JkZXItcmFkaXVzOjNweDtib3gtc2hhZG93OjAgMXB4IDJweCByZ2IoMCAwIDAvMTAlKTtwYWRkaW5nOjEwcHggMTBweCAxNXB4O3BvaW50ZXItZXZlbnRzOmF1dG99Lm1hcGJveGdsLXBvcHVwLWFuY2hvci10b3AtbGVmdCAubWFwYm94Z2wtcG9wdXAtY29udGVudHtib3JkZXItdG9wLWxlZnQtcmFkaXVzOjB9Lm1hcGJveGdsLXBvcHVwLWFuY2hvci10b3AtcmlnaHQgLm1hcGJveGdsLXBvcHVwLWNvbnRlbnR7Ym9yZGVyLXRvcC1yaWdodC1yYWRpdXM6MH0ubWFwYm94Z2wtcG9wdXAtYW5jaG9yLWJvdHRvbS1sZWZ0IC5tYXBib3hnbC1wb3B1cC1jb250ZW50e2JvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6MH0ubWFwYm94Z2wtcG9wdXAtYW5jaG9yLWJvdHRvbS1yaWdodCAubWFwYm94Z2wtcG9wdXAtY29udGVudHtib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czowfS5tYXBib3hnbC1wb3B1cC10cmFjay1wb2ludGVye2Rpc3BsYXk6bm9uZX0ubWFwYm94Z2wtcG9wdXAtdHJhY2stcG9pbnRlciAqe3BvaW50ZXItZXZlbnRzOm5vbmU7dXNlci1zZWxlY3Q6bm9uZX0ubWFwYm94Z2wtbWFwOmhvdmVyIC5tYXBib3hnbC1wb3B1cC10cmFjay1wb2ludGVye2Rpc3BsYXk6ZmxleH0ubWFwYm94Z2wtbWFwOmFjdGl2ZSAubWFwYm94Z2wtcG9wdXAtdHJhY2stcG9pbnRlcntkaXNwbGF5Om5vbmV9Lm1hcGJveGdsLW1hcmtlcntwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OjA7d2lsbC1jaGFuZ2U6dHJhbnNmb3JtO29wYWNpdHk6MTt0cmFuc2l0aW9uOm9wYWNpdHkgLjJzfS5tYXBib3hnbC11c2VyLWxvY2F0aW9uLWRvdCwubWFwYm94Z2wtdXNlci1sb2NhdGlvbi1kb3Q6YmVmb3Jle2JhY2tncm91bmQtY29sb3I6IzFkYTFmMjt3aWR0aDoxNXB4O2hlaWdodDoxNXB4O2JvcmRlci1yYWRpdXM6NTAlfS5tYXBib3hnbC11c2VyLWxvY2F0aW9uLWRvdDpiZWZvcmV7Y29udGVudDpcXFwiXFxcIjtwb3NpdGlvbjphYnNvbHV0ZTthbmltYXRpb246bWFwYm94Z2wtdXNlci1sb2NhdGlvbi1kb3QtcHVsc2UgMnMgaW5maW5pdGV9Lm1hcGJveGdsLXVzZXItbG9jYXRpb24tZG90OmFmdGVye2JvcmRlci1yYWRpdXM6NTAlO2JvcmRlcjoycHggc29saWQgI2ZmZjtjb250ZW50OlxcXCJcXFwiO2hlaWdodDoxOXB4O2xlZnQ6LTJweDtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6LTJweDt3aWR0aDoxOXB4O2JveC1zaXppbmc6Ym9yZGVyLWJveDtib3gtc2hhZG93OjAgMCAzcHggcmdiKDAgMCAwLzM1JSl9Lm1hcGJveGdsLXVzZXItbG9jYXRpb24tc2hvdy1oZWFkaW5nIC5tYXBib3hnbC11c2VyLWxvY2F0aW9uLWhlYWRpbmd7d2lkdGg6MDtoZWlnaHQ6MH0ubWFwYm94Z2wtdXNlci1sb2NhdGlvbi1zaG93LWhlYWRpbmcgLm1hcGJveGdsLXVzZXItbG9jYXRpb24taGVhZGluZzphZnRlciwubWFwYm94Z2wtdXNlci1sb2NhdGlvbi1zaG93LWhlYWRpbmcgLm1hcGJveGdsLXVzZXItbG9jYXRpb24taGVhZGluZzpiZWZvcmV7Y29udGVudDpcXFwiXFxcIjtib3JkZXItYm90dG9tOjcuNXB4IHNvbGlkICM0YWExZWI7cG9zaXRpb246YWJzb2x1dGV9Lm1hcGJveGdsLXVzZXItbG9jYXRpb24tc2hvdy1oZWFkaW5nIC5tYXBib3hnbC11c2VyLWxvY2F0aW9uLWhlYWRpbmc6YmVmb3Jle2JvcmRlci1sZWZ0OjcuNXB4IHNvbGlkIHRyYW5zcGFyZW50O3RyYW5zZm9ybTp0cmFuc2xhdGVZKC0yOHB4KSBza2V3WSgtMjBkZWcpfS5tYXBib3hnbC11c2VyLWxvY2F0aW9uLXNob3ctaGVhZGluZyAubWFwYm94Z2wtdXNlci1sb2NhdGlvbi1oZWFkaW5nOmFmdGVye2JvcmRlci1yaWdodDo3LjVweCBzb2xpZCB0cmFuc3BhcmVudDt0cmFuc2Zvcm06dHJhbnNsYXRlKDcuNXB4LC0yOHB4KSBza2V3WSgyMGRlZyl9QGtleWZyYW1lcyBtYXBib3hnbC11c2VyLWxvY2F0aW9uLWRvdC1wdWxzZXswJXt0cmFuc2Zvcm06c2NhbGUoMSk7b3BhY2l0eToxfTcwJXt0cmFuc2Zvcm06c2NhbGUoMyk7b3BhY2l0eTowfXRve3RyYW5zZm9ybTpzY2FsZSgxKTtvcGFjaXR5OjB9fS5tYXBib3hnbC11c2VyLWxvY2F0aW9uLWRvdC1zdGFsZXtiYWNrZ3JvdW5kLWNvbG9yOiNhYWF9Lm1hcGJveGdsLXVzZXItbG9jYXRpb24tZG90LXN0YWxlOmFmdGVye2Rpc3BsYXk6bm9uZX0ubWFwYm94Z2wtdXNlci1sb2NhdGlvbi1hY2N1cmFjeS1jaXJjbGV7YmFja2dyb3VuZC1jb2xvcjpyZ2JhKDI5LDE2MSwyNDIsLjIpO3dpZHRoOjFweDtoZWlnaHQ6MXB4O2JvcmRlci1yYWRpdXM6MTAwJX0ubWFwYm94Z2wtY3Jvc3NoYWlyLC5tYXBib3hnbC1jcm9zc2hhaXIgLm1hcGJveGdsLWludGVyYWN0aXZlLC5tYXBib3hnbC1jcm9zc2hhaXIgLm1hcGJveGdsLWludGVyYWN0aXZlOmFjdGl2ZXtjdXJzb3I6Y3Jvc3NoYWlyfS5tYXBib3hnbC1ib3h6b29te3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6MDt3aWR0aDowO2hlaWdodDowO2JhY2tncm91bmQ6I2ZmZjtib3JkZXI6MnB4IGRvdHRlZCAjMjAyMDIwO29wYWNpdHk6LjV9QG1lZGlhIHByaW50ey5tYXBib3gtaW1wcm92ZS1tYXB7ZGlzcGxheTpub25lfX0ubWFwYm94Z2wtc2Nyb2xsLXpvb20tYmxvY2tlciwubWFwYm94Z2wtdG91Y2gtcGFuLWJsb2NrZXJ7Y29sb3I6I2ZmZjtmb250LWZhbWlseTotYXBwbGUtc3lzdGVtLEJsaW5rTWFjU3lzdGVtRm9udCxTZWdvZSBVSSxIZWx2ZXRpY2EsQXJpYWwsc2Fucy1zZXJpZjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO3RleHQtYWxpZ246Y2VudGVyO3Bvc2l0aW9uOmFic29sdXRlO2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXI7dG9wOjA7bGVmdDowO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7YmFja2dyb3VuZDpyZ2IoMCAwIDAvNzAlKTtvcGFjaXR5OjA7cG9pbnRlci1ldmVudHM6bm9uZTt0cmFuc2l0aW9uOm9wYWNpdHkgLjc1cyBlYXNlLWluLW91dDt0cmFuc2l0aW9uLWRlbGF5OjFzfS5tYXBib3hnbC1zY3JvbGwtem9vbS1ibG9ja2VyLXNob3csLm1hcGJveGdsLXRvdWNoLXBhbi1ibG9ja2VyLXNob3d7b3BhY2l0eToxO3RyYW5zaXRpb246b3BhY2l0eSAuMXMgZWFzZS1pbi1vdXR9Lm1hcGJveGdsLWNhbnZhcy1jb250YWluZXIubWFwYm94Z2wtdG91Y2gtcGFuLWJsb2NrZXItb3ZlcnJpZGUubWFwYm94Z2wtc2Nyb2xsYWJsZS1wYWdlLC5tYXBib3hnbC1jYW52YXMtY29udGFpbmVyLm1hcGJveGdsLXRvdWNoLXBhbi1ibG9ja2VyLW92ZXJyaWRlLm1hcGJveGdsLXNjcm9sbGFibGUtcGFnZSAubWFwYm94Z2wtY2FudmFze3RvdWNoLWFjdGlvbjpwYW4teCBwYW4teX1cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[4].use[1]!./node_modules/mapbox-gl/dist/mapbox-gl.css\n");

/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/api.js":
/*!*****************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/api.js ***!
  \*****************************************************/
/***/ ((module) => {

"use strict";
eval("\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\nmodule.exports = function (cssWithMappingToString) {\n  var list = [];\n\n  // return the list of modules as css string\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = \"\";\n      var needLayer = typeof item[5] !== \"undefined\";\n      if (item[4]) {\n        content += \"@supports (\".concat(item[4], \") {\");\n      }\n      if (item[2]) {\n        content += \"@media \".concat(item[2], \" {\");\n      }\n      if (needLayer) {\n        content += \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\");\n      }\n      content += cssWithMappingToString(item);\n      if (needLayer) {\n        content += \"}\";\n      }\n      if (item[2]) {\n        content += \"}\";\n      }\n      if (item[4]) {\n        content += \"}\";\n      }\n      return content;\n    }).join(\"\");\n  };\n\n  // import a list of modules into the list\n  list.i = function i(modules, media, dedupe, supports, layer) {\n    if (typeof modules === \"string\") {\n      modules = [[null, modules, undefined]];\n    }\n    var alreadyImportedModules = {};\n    if (dedupe) {\n      for (var k = 0; k < this.length; k++) {\n        var id = this[k][0];\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n    for (var _k = 0; _k < modules.length; _k++) {\n      var item = [].concat(modules[_k]);\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        continue;\n      }\n      if (typeof layer !== \"undefined\") {\n        if (typeof item[5] === \"undefined\") {\n          item[5] = layer;\n        } else {\n          item[1] = \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\").concat(item[1], \"}\");\n          item[5] = layer;\n        }\n      }\n      if (media) {\n        if (!item[2]) {\n          item[2] = media;\n        } else {\n          item[1] = \"@media \".concat(item[2], \" {\").concat(item[1], \"}\");\n          item[2] = media;\n        }\n      }\n      if (supports) {\n        if (!item[4]) {\n          item[4] = \"\".concat(supports);\n        } else {\n          item[1] = \"@supports (\".concat(item[4], \") {\").concat(item[1], \"}\");\n          item[4] = supports;\n        }\n      }\n      list.push(item);\n    }\n  };\n  return list;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3VwZXJzZXQvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzPzI0ZmIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qXG4gIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG4gIEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKSB7XG4gIHZhciBsaXN0ID0gW107XG5cbiAgLy8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xuICBsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICB2YXIgY29udGVudCA9IFwiXCI7XG4gICAgICB2YXIgbmVlZExheWVyID0gdHlwZW9mIGl0ZW1bNV0gIT09IFwidW5kZWZpbmVkXCI7XG4gICAgICBpZiAoaXRlbVs0XSkge1xuICAgICAgICBjb250ZW50ICs9IFwiQHN1cHBvcnRzIChcIi5jb25jYXQoaXRlbVs0XSwgXCIpIHtcIik7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbVsyXSkge1xuICAgICAgICBjb250ZW50ICs9IFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpO1xuICAgICAgfVxuICAgICAgaWYgKG5lZWRMYXllcikge1xuICAgICAgICBjb250ZW50ICs9IFwiQGxheWVyXCIuY29uY2F0KGl0ZW1bNV0ubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChpdGVtWzVdKSA6IFwiXCIsIFwiIHtcIik7XG4gICAgICB9XG4gICAgICBjb250ZW50ICs9IGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSk7XG4gICAgICBpZiAobmVlZExheWVyKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbVsyXSkge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1bNF0pIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjb250ZW50O1xuICAgIH0pLmpvaW4oXCJcIik7XG4gIH07XG5cbiAgLy8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3RcbiAgbGlzdC5pID0gZnVuY3Rpb24gaShtb2R1bGVzLCBtZWRpYSwgZGVkdXBlLCBzdXBwb3J0cywgbGF5ZXIpIHtcbiAgICBpZiAodHlwZW9mIG1vZHVsZXMgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsIHVuZGVmaW5lZF1dO1xuICAgIH1cbiAgICB2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuICAgIGlmIChkZWR1cGUpIHtcbiAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgdGhpcy5sZW5ndGg7IGsrKykge1xuICAgICAgICB2YXIgaWQgPSB0aGlzW2tdWzBdO1xuICAgICAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgICAgIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKHZhciBfayA9IDA7IF9rIDwgbW9kdWxlcy5sZW5ndGg7IF9rKyspIHtcbiAgICAgIHZhciBpdGVtID0gW10uY29uY2F0KG1vZHVsZXNbX2tdKTtcbiAgICAgIGlmIChkZWR1cGUgJiYgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgbGF5ZXIgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpdGVtWzVdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgaXRlbVs1XSA9IGxheWVyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBsYXllclwiLmNvbmNhdChpdGVtWzVdLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQoaXRlbVs1XSkgOiBcIlwiLCBcIiB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVs1XSA9IGxheWVyO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAobWVkaWEpIHtcbiAgICAgICAgaWYgKCFpdGVtWzJdKSB7XG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHN1cHBvcnRzKSB7XG4gICAgICAgIGlmICghaXRlbVs0XSkge1xuICAgICAgICAgIGl0ZW1bNF0gPSBcIlwiLmNvbmNhdChzdXBwb3J0cyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsxXSA9IFwiQHN1cHBvcnRzIChcIi5jb25jYXQoaXRlbVs0XSwgXCIpIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzRdID0gc3VwcG9ydHM7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGxpc3QucHVzaChpdGVtKTtcbiAgICB9XG4gIH07XG4gIHJldHVybiBsaXN0O1xufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/css-loader/dist/runtime/api.js\n");

/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/getUrl.js":
/*!********************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/getUrl.js ***!
  \********************************************************/
/***/ ((module) => {

"use strict";
eval("\n\nmodule.exports = function (url, options) {\n  if (!options) {\n    options = {};\n  }\n  if (!url) {\n    return url;\n  }\n  url = String(url.__esModule ? url.default : url);\n\n  // If url is already wrapped in quotes, remove them\n  if (/^['\"].*['\"]$/.test(url)) {\n    url = url.slice(1, -1);\n  }\n  if (options.hash) {\n    url += options.hash;\n  }\n\n  // Should url be wrapped?\n  // See https://drafts.csswg.org/css-values-3/#urls\n  if (/[\"'() \\t\\n]|(%20)/.test(url) || options.needQuotes) {\n    return \"\\\"\".concat(url.replace(/\"/g, '\\\\\"').replace(/\\n/g, \"\\\\n\"), \"\\\"\");\n  }\n  return url;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvZ2V0VXJsLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdXBlcnNldC8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9nZXRVcmwuanM/MWRlNSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodXJsLCBvcHRpb25zKSB7XG4gIGlmICghb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSB7fTtcbiAgfVxuICBpZiAoIXVybCkge1xuICAgIHJldHVybiB1cmw7XG4gIH1cbiAgdXJsID0gU3RyaW5nKHVybC5fX2VzTW9kdWxlID8gdXJsLmRlZmF1bHQgOiB1cmwpO1xuXG4gIC8vIElmIHVybCBpcyBhbHJlYWR5IHdyYXBwZWQgaW4gcXVvdGVzLCByZW1vdmUgdGhlbVxuICBpZiAoL15bJ1wiXS4qWydcIl0kLy50ZXN0KHVybCkpIHtcbiAgICB1cmwgPSB1cmwuc2xpY2UoMSwgLTEpO1xuICB9XG4gIGlmIChvcHRpb25zLmhhc2gpIHtcbiAgICB1cmwgKz0gb3B0aW9ucy5oYXNoO1xuICB9XG5cbiAgLy8gU2hvdWxkIHVybCBiZSB3cmFwcGVkP1xuICAvLyBTZWUgaHR0cHM6Ly9kcmFmdHMuY3Nzd2cub3JnL2Nzcy12YWx1ZXMtMy8jdXJsc1xuICBpZiAoL1tcIicoKSBcXHRcXG5dfCglMjApLy50ZXN0KHVybCkgfHwgb3B0aW9ucy5uZWVkUXVvdGVzKSB7XG4gICAgcmV0dXJuIFwiXFxcIlwiLmNvbmNhdCh1cmwucmVwbGFjZSgvXCIvZywgJ1xcXFxcIicpLnJlcGxhY2UoL1xcbi9nLCBcIlxcXFxuXCIpLCBcIlxcXCJcIik7XG4gIH1cbiAgcmV0dXJuIHVybDtcbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/css-loader/dist/runtime/getUrl.js\n");

/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/sourceMaps.js":
/*!************************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/sourceMaps.js ***!
  \************************************************************/
/***/ ((module) => {

"use strict";
eval("\n\nmodule.exports = function (item) {\n  var content = item[1];\n  var cssMapping = item[3];\n  if (!cssMapping) {\n    return content;\n  }\n  if (typeof btoa === \"function\") {\n    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));\n    var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n    var sourceMapping = \"/*# \".concat(data, \" */\");\n    return [content].concat([sourceMapping]).join(\"\\n\");\n  }\n  return [content].join(\"\\n\");\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3N1cGVyc2V0Ly4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL3NvdXJjZU1hcHMuanM/YWYxMiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXRlbSkge1xuICB2YXIgY29udGVudCA9IGl0ZW1bMV07XG4gIHZhciBjc3NNYXBwaW5nID0gaXRlbVszXTtcbiAgaWYgKCFjc3NNYXBwaW5nKSB7XG4gICAgcmV0dXJuIGNvbnRlbnQ7XG4gIH1cbiAgaWYgKHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICB2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoY3NzTWFwcGluZykpKSk7XG4gICAgdmFyIGRhdGEgPSBcInNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LFwiLmNvbmNhdChiYXNlNjQpO1xuICAgIHZhciBzb3VyY2VNYXBwaW5nID0gXCIvKiMgXCIuY29uY2F0KGRhdGEsIFwiICovXCIpO1xuICAgIHJldHVybiBbY29udGVudF0uY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbihcIlxcblwiKTtcbiAgfVxuICByZXR1cm4gW2NvbnRlbnRdLmpvaW4oXCJcXG5cIik7XG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/css-loader/dist/runtime/sourceMaps.js\n");

/***/ }),

/***/ "./node_modules/gl-matrix/esm/common.js":
/*!**********************************************!*\
  !*** ./node_modules/gl-matrix/esm/common.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ARRAY_TYPE: () => (/* binding */ ARRAY_TYPE),\n/* harmony export */   EPSILON: () => (/* binding */ EPSILON),\n/* harmony export */   RANDOM: () => (/* binding */ RANDOM)\n/* harmony export */ });\n/* unused harmony exports setMatrixArrayType, toRadian, equals */\n/**\n * Common utilities\n * @module glMatrix\n */\n// Configuration Constants\nvar EPSILON = 0.000001;\nvar ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nvar RANDOM = Math.random;\n/**\n * Sets the type of array used when creating new vectors and matrices\n *\n * @param {Float32ArrayConstructor | ArrayConstructor} type Array type, such as Float32Array or Array\n */\n\nfunction setMatrixArrayType(type) {\n  ARRAY_TYPE = type;\n}\nvar degree = Math.PI / 180;\n/**\n * Convert Degree To Radian\n *\n * @param {Number} a Angle in Degrees\n */\n\nfunction toRadian(a) {\n  return a * degree;\n}\n/**\n * Tests whether or not the arguments have approximately the same value, within an absolute\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\n * than or equal to 1.0, and a relative tolerance is used for larger values)\n *\n * @param {Number} a The first number to test.\n * @param {Number} b The second number to test.\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\n */\n\nfunction equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}\nif (!Math.hypot) Math.hypot = function () {\n  var y = 0,\n      i = arguments.length;\n\n  while (i--) {\n    y += arguments[i] * arguments[i];\n  }\n\n  return Math.sqrt(y);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZ2wtbWF0cml4L2VzbS9jb21tb24uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3N1cGVyc2V0Ly4vbm9kZV9tb2R1bGVzL2dsLW1hdHJpeC9lc20vY29tbW9uLmpzP2M5NGQiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb21tb24gdXRpbGl0aWVzXG4gKiBAbW9kdWxlIGdsTWF0cml4XG4gKi9cbi8vIENvbmZpZ3VyYXRpb24gQ29uc3RhbnRzXG5leHBvcnQgdmFyIEVQU0lMT04gPSAwLjAwMDAwMTtcbmV4cG9ydCB2YXIgQVJSQVlfVFlQRSA9IHR5cGVvZiBGbG9hdDMyQXJyYXkgIT09ICd1bmRlZmluZWQnID8gRmxvYXQzMkFycmF5IDogQXJyYXk7XG5leHBvcnQgdmFyIFJBTkRPTSA9IE1hdGgucmFuZG9tO1xuLyoqXG4gKiBTZXRzIHRoZSB0eXBlIG9mIGFycmF5IHVzZWQgd2hlbiBjcmVhdGluZyBuZXcgdmVjdG9ycyBhbmQgbWF0cmljZXNcbiAqXG4gKiBAcGFyYW0ge0Zsb2F0MzJBcnJheUNvbnN0cnVjdG9yIHwgQXJyYXlDb25zdHJ1Y3Rvcn0gdHlwZSBBcnJheSB0eXBlLCBzdWNoIGFzIEZsb2F0MzJBcnJheSBvciBBcnJheVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRNYXRyaXhBcnJheVR5cGUodHlwZSkge1xuICBBUlJBWV9UWVBFID0gdHlwZTtcbn1cbnZhciBkZWdyZWUgPSBNYXRoLlBJIC8gMTgwO1xuLyoqXG4gKiBDb252ZXJ0IERlZ3JlZSBUbyBSYWRpYW5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gYSBBbmdsZSBpbiBEZWdyZWVzXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHRvUmFkaWFuKGEpIHtcbiAgcmV0dXJuIGEgKiBkZWdyZWU7XG59XG4vKipcbiAqIFRlc3RzIHdoZXRoZXIgb3Igbm90IHRoZSBhcmd1bWVudHMgaGF2ZSBhcHByb3hpbWF0ZWx5IHRoZSBzYW1lIHZhbHVlLCB3aXRoaW4gYW4gYWJzb2x1dGVcbiAqIG9yIHJlbGF0aXZlIHRvbGVyYW5jZSBvZiBnbE1hdHJpeC5FUFNJTE9OIChhbiBhYnNvbHV0ZSB0b2xlcmFuY2UgaXMgdXNlZCBmb3IgdmFsdWVzIGxlc3NcbiAqIHRoYW4gb3IgZXF1YWwgdG8gMS4wLCBhbmQgYSByZWxhdGl2ZSB0b2xlcmFuY2UgaXMgdXNlZCBmb3IgbGFyZ2VyIHZhbHVlcylcbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gYSBUaGUgZmlyc3QgbnVtYmVyIHRvIHRlc3QuXG4gKiBAcGFyYW0ge051bWJlcn0gYiBUaGUgc2Vjb25kIG51bWJlciB0byB0ZXN0LlxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIG51bWJlcnMgYXJlIGFwcHJveGltYXRlbHkgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZXF1YWxzKGEsIGIpIHtcbiAgcmV0dXJuIE1hdGguYWJzKGEgLSBiKSA8PSBFUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhKSwgTWF0aC5hYnMoYikpO1xufVxuaWYgKCFNYXRoLmh5cG90KSBNYXRoLmh5cG90ID0gZnVuY3Rpb24gKCkge1xuICB2YXIgeSA9IDAsXG4gICAgICBpID0gYXJndW1lbnRzLmxlbmd0aDtcblxuICB3aGlsZSAoaS0tKSB7XG4gICAgeSArPSBhcmd1bWVudHNbaV0gKiBhcmd1bWVudHNbaV07XG4gIH1cblxuICByZXR1cm4gTWF0aC5zcXJ0KHkpO1xufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/gl-matrix/esm/common.js\n");

/***/ }),

/***/ "./node_modules/gl-matrix/esm/mat4.js":
/*!********************************************!*\
  !*** ./node_modules/gl-matrix/esm/mat4.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   determinant: () => (/* binding */ determinant),\n/* harmony export */   equals: () => (/* binding */ equals),\n/* harmony export */   fromQuat: () => (/* binding */ fromQuat),\n/* harmony export */   frustum: () => (/* binding */ frustum),\n/* harmony export */   invert: () => (/* binding */ invert),\n/* harmony export */   lookAt: () => (/* binding */ lookAt),\n/* harmony export */   multiply: () => (/* binding */ multiply),\n/* harmony export */   ortho: () => (/* binding */ ortho),\n/* harmony export */   perspective: () => (/* binding */ perspective),\n/* harmony export */   rotate: () => (/* binding */ rotate),\n/* harmony export */   rotateX: () => (/* binding */ rotateX),\n/* harmony export */   rotateY: () => (/* binding */ rotateY),\n/* harmony export */   rotateZ: () => (/* binding */ rotateZ),\n/* harmony export */   scale: () => (/* binding */ scale),\n/* harmony export */   translate: () => (/* binding */ translate),\n/* harmony export */   transpose: () => (/* binding */ transpose)\n/* harmony export */ });\n/* unused harmony exports create, clone, copy, fromValues, set, identity, adjoint, fromTranslation, fromScaling, fromRotation, fromXRotation, fromYRotation, fromZRotation, fromRotationTranslation, fromQuat2, getTranslation, getScaling, getRotation, fromRotationTranslationScale, fromRotationTranslationScaleOrigin, perspectiveNO, perspectiveZO, perspectiveFromFieldOfView, orthoNO, orthoZO, targetTo, str, frob, add, subtract, multiplyScalar, multiplyScalarAndAdd, exactEquals, mul, sub */\n/* harmony import */ var _common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./common.js */ \"./node_modules/gl-matrix/esm/common.js\");\n\n/**\n * 4x4 Matrix<br>Format: column-major, when typed out it looks like row-major<br>The matrices are being post multiplied.\n * @module mat4\n */\n\n/**\n * Creates a new identity mat4\n *\n * @returns {mat4} a new 4x4 matrix\n */\n\nfunction create() {\n  var out = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(16);\n\n  if (_common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[11] = 0;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n  }\n\n  out[0] = 1;\n  out[5] = 1;\n  out[10] = 1;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a new mat4 initialized with values from an existing matrix\n *\n * @param {ReadonlyMat4} a matrix to clone\n * @returns {mat4} a new 4x4 matrix\n */\n\nfunction clone(a) {\n  var out = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(16);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\n * Copy the values from one mat4 to another\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nfunction copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\n * Create a new mat4 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\n * @returns {mat4} A new mat4\n */\n\nfunction fromValues(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  var out = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(16);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\n * Set the components of a mat4 to the given values\n *\n * @param {mat4} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\n * @returns {mat4} out\n */\n\nfunction set(out, m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\n * Set a mat4 to the identity matrix\n *\n * @param {mat4} out the receiving matrix\n * @returns {mat4} out\n */\n\nfunction identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Transpose the values of a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nfunction transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a03 = a[3];\n    var a12 = a[6],\n        a13 = a[7];\n    var a23 = a[11];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a01;\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a02;\n    out[9] = a12;\n    out[11] = a[14];\n    out[12] = a03;\n    out[13] = a13;\n    out[14] = a23;\n  } else {\n    out[0] = a[0];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a[1];\n    out[5] = a[5];\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a[2];\n    out[9] = a[6];\n    out[10] = a[10];\n    out[11] = a[14];\n    out[12] = a[3];\n    out[13] = a[7];\n    out[14] = a[11];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\n * Inverts a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nfunction invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;\n  out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;\n  out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;\n  out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;\n  out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;\n  out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;\n  out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;\n  return out;\n}\n/**\n * Calculates the adjugate of a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nfunction adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  out[0] = a11 * (a22 * a33 - a23 * a32) - a21 * (a12 * a33 - a13 * a32) + a31 * (a12 * a23 - a13 * a22);\n  out[1] = -(a01 * (a22 * a33 - a23 * a32) - a21 * (a02 * a33 - a03 * a32) + a31 * (a02 * a23 - a03 * a22));\n  out[2] = a01 * (a12 * a33 - a13 * a32) - a11 * (a02 * a33 - a03 * a32) + a31 * (a02 * a13 - a03 * a12);\n  out[3] = -(a01 * (a12 * a23 - a13 * a22) - a11 * (a02 * a23 - a03 * a22) + a21 * (a02 * a13 - a03 * a12));\n  out[4] = -(a10 * (a22 * a33 - a23 * a32) - a20 * (a12 * a33 - a13 * a32) + a30 * (a12 * a23 - a13 * a22));\n  out[5] = a00 * (a22 * a33 - a23 * a32) - a20 * (a02 * a33 - a03 * a32) + a30 * (a02 * a23 - a03 * a22);\n  out[6] = -(a00 * (a12 * a33 - a13 * a32) - a10 * (a02 * a33 - a03 * a32) + a30 * (a02 * a13 - a03 * a12));\n  out[7] = a00 * (a12 * a23 - a13 * a22) - a10 * (a02 * a23 - a03 * a22) + a20 * (a02 * a13 - a03 * a12);\n  out[8] = a10 * (a21 * a33 - a23 * a31) - a20 * (a11 * a33 - a13 * a31) + a30 * (a11 * a23 - a13 * a21);\n  out[9] = -(a00 * (a21 * a33 - a23 * a31) - a20 * (a01 * a33 - a03 * a31) + a30 * (a01 * a23 - a03 * a21));\n  out[10] = a00 * (a11 * a33 - a13 * a31) - a10 * (a01 * a33 - a03 * a31) + a30 * (a01 * a13 - a03 * a11);\n  out[11] = -(a00 * (a11 * a23 - a13 * a21) - a10 * (a01 * a23 - a03 * a21) + a20 * (a01 * a13 - a03 * a11));\n  out[12] = -(a10 * (a21 * a32 - a22 * a31) - a20 * (a11 * a32 - a12 * a31) + a30 * (a11 * a22 - a12 * a21));\n  out[13] = a00 * (a21 * a32 - a22 * a31) - a20 * (a01 * a32 - a02 * a31) + a30 * (a01 * a22 - a02 * a21);\n  out[14] = -(a00 * (a11 * a32 - a12 * a31) - a10 * (a01 * a32 - a02 * a31) + a30 * (a01 * a12 - a02 * a11));\n  out[15] = a00 * (a11 * a22 - a12 * a21) - a10 * (a01 * a22 - a02 * a21) + a20 * (a01 * a12 - a02 * a11);\n  return out;\n}\n/**\n * Calculates the determinant of a mat4\n *\n * @param {ReadonlyMat4} a the source matrix\n * @returns {Number} determinant of a\n */\n\nfunction determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  return b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n}\n/**\n * Multiplies two mat4s\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @returns {mat4} out\n */\n\nfunction multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15]; // Cache only the current line of the second matrix\n\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  out[0] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[1] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[2] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[3] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[4];\n  b1 = b[5];\n  b2 = b[6];\n  b3 = b[7];\n  out[4] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[5] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[6] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[7] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[8];\n  b1 = b[9];\n  b2 = b[10];\n  b3 = b[11];\n  out[8] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[9] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[10] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[11] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[12];\n  b1 = b[13];\n  b2 = b[14];\n  b3 = b[15];\n  out[12] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[13] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[14] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[15] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  return out;\n}\n/**\n * Translate a mat4 by the given vector\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to translate\n * @param {ReadonlyVec3} v vector to translate by\n * @returns {mat4} out\n */\n\nfunction translate(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n\n  if (a === out) {\n    out[12] = a[0] * x + a[4] * y + a[8] * z + a[12];\n    out[13] = a[1] * x + a[5] * y + a[9] * z + a[13];\n    out[14] = a[2] * x + a[6] * y + a[10] * z + a[14];\n    out[15] = a[3] * x + a[7] * y + a[11] * z + a[15];\n  } else {\n    a00 = a[0];\n    a01 = a[1];\n    a02 = a[2];\n    a03 = a[3];\n    a10 = a[4];\n    a11 = a[5];\n    a12 = a[6];\n    a13 = a[7];\n    a20 = a[8];\n    a21 = a[9];\n    a22 = a[10];\n    a23 = a[11];\n    out[0] = a00;\n    out[1] = a01;\n    out[2] = a02;\n    out[3] = a03;\n    out[4] = a10;\n    out[5] = a11;\n    out[6] = a12;\n    out[7] = a13;\n    out[8] = a20;\n    out[9] = a21;\n    out[10] = a22;\n    out[11] = a23;\n    out[12] = a00 * x + a10 * y + a20 * z + a[12];\n    out[13] = a01 * x + a11 * y + a21 * z + a[13];\n    out[14] = a02 * x + a12 * y + a22 * z + a[14];\n    out[15] = a03 * x + a13 * y + a23 * z + a[15];\n  }\n\n  return out;\n}\n/**\n * Scales the mat4 by the dimensions in the given vec3 not using vectorization\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to scale\n * @param {ReadonlyVec3} v the vec3 to scale the matrix by\n * @returns {mat4} out\n **/\n\nfunction scale(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  out[0] = a[0] * x;\n  out[1] = a[1] * x;\n  out[2] = a[2] * x;\n  out[3] = a[3] * x;\n  out[4] = a[4] * y;\n  out[5] = a[5] * y;\n  out[6] = a[6] * y;\n  out[7] = a[7] * y;\n  out[8] = a[8] * z;\n  out[9] = a[9] * z;\n  out[10] = a[10] * z;\n  out[11] = a[11] * z;\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\n * Rotates a mat4 by the given angle around the given axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @param {ReadonlyVec3} axis the axis to rotate around\n * @returns {mat4} out\n */\n\nfunction rotate(out, a, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n  var b00, b01, b02;\n  var b10, b11, b12;\n  var b20, b21, b22;\n\n  if (len < _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c;\n  a00 = a[0];\n  a01 = a[1];\n  a02 = a[2];\n  a03 = a[3];\n  a10 = a[4];\n  a11 = a[5];\n  a12 = a[6];\n  a13 = a[7];\n  a20 = a[8];\n  a21 = a[9];\n  a22 = a[10];\n  a23 = a[11]; // Construct the elements of the rotation matrix\n\n  b00 = x * x * t + c;\n  b01 = y * x * t + z * s;\n  b02 = z * x * t - y * s;\n  b10 = x * y * t - z * s;\n  b11 = y * y * t + c;\n  b12 = z * y * t + x * s;\n  b20 = x * z * t + y * s;\n  b21 = y * z * t - x * s;\n  b22 = z * z * t + c; // Perform rotation-specific matrix multiplication\n\n  out[0] = a00 * b00 + a10 * b01 + a20 * b02;\n  out[1] = a01 * b00 + a11 * b01 + a21 * b02;\n  out[2] = a02 * b00 + a12 * b01 + a22 * b02;\n  out[3] = a03 * b00 + a13 * b01 + a23 * b02;\n  out[4] = a00 * b10 + a10 * b11 + a20 * b12;\n  out[5] = a01 * b10 + a11 * b11 + a21 * b12;\n  out[6] = a02 * b10 + a12 * b11 + a22 * b12;\n  out[7] = a03 * b10 + a13 * b11 + a23 * b12;\n  out[8] = a00 * b20 + a10 * b21 + a20 * b22;\n  out[9] = a01 * b20 + a11 * b21 + a21 * b22;\n  out[10] = a02 * b20 + a12 * b21 + a22 * b22;\n  out[11] = a03 * b20 + a13 * b21 + a23 * b22;\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\n * Rotates a matrix by the given angle around the X axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nfunction rotateX(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[4] = a10 * c + a20 * s;\n  out[5] = a11 * c + a21 * s;\n  out[6] = a12 * c + a22 * s;\n  out[7] = a13 * c + a23 * s;\n  out[8] = a20 * c - a10 * s;\n  out[9] = a21 * c - a11 * s;\n  out[10] = a22 * c - a12 * s;\n  out[11] = a23 * c - a13 * s;\n  return out;\n}\n/**\n * Rotates a matrix by the given angle around the Y axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nfunction rotateY(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[4] = a[4];\n    out[5] = a[5];\n    out[6] = a[6];\n    out[7] = a[7];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c - a20 * s;\n  out[1] = a01 * c - a21 * s;\n  out[2] = a02 * c - a22 * s;\n  out[3] = a03 * c - a23 * s;\n  out[8] = a00 * s + a20 * c;\n  out[9] = a01 * s + a21 * c;\n  out[10] = a02 * s + a22 * c;\n  out[11] = a03 * s + a23 * c;\n  return out;\n}\n/**\n * Rotates a matrix by the given angle around the Z axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nfunction rotateZ(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[8] = a[8];\n    out[9] = a[9];\n    out[10] = a[10];\n    out[11] = a[11];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c + a10 * s;\n  out[1] = a01 * c + a11 * s;\n  out[2] = a02 * c + a12 * s;\n  out[3] = a03 * c + a13 * s;\n  out[4] = a10 * c - a00 * s;\n  out[5] = a11 * c - a01 * s;\n  out[6] = a12 * c - a02 * s;\n  out[7] = a13 * c - a03 * s;\n  return out;\n}\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, dest, vec);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {ReadonlyVec3} v Translation vector\n * @returns {mat4} out\n */\n\nfunction fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.scale(dest, dest, vec);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {ReadonlyVec3} v Scaling vector\n * @returns {mat4} out\n */\n\nfunction fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = v[1];\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = v[2];\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a given angle around a given axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotate(dest, dest, rad, axis);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @param {ReadonlyVec3} axis the axis to rotate around\n * @returns {mat4} out\n */\n\nfunction fromRotation(out, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n\n  if (len < _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c; // Perform rotation-specific matrix multiplication\n\n  out[0] = x * x * t + c;\n  out[1] = y * x * t + z * s;\n  out[2] = z * x * t - y * s;\n  out[3] = 0;\n  out[4] = x * y * t - z * s;\n  out[5] = y * y * t + c;\n  out[6] = z * y * t + x * s;\n  out[7] = 0;\n  out[8] = x * z * t + y * s;\n  out[9] = y * z * t - x * s;\n  out[10] = z * z * t + c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from the given angle around the X axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateX(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nfunction fromXRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = c;\n  out[6] = s;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = -s;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from the given angle around the Y axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateY(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nfunction fromYRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = 0;\n  out[2] = -s;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = s;\n  out[9] = 0;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from the given angle around the Z axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateZ(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nfunction fromZRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -s;\n  out[5] = c;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a quaternion rotation and vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {ReadonlyVec3} v Translation vector\n * @returns {mat4} out\n */\n\nfunction fromRotationTranslation(out, q, v) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - (yy + zz);\n  out[1] = xy + wz;\n  out[2] = xz - wy;\n  out[3] = 0;\n  out[4] = xy - wz;\n  out[5] = 1 - (xx + zz);\n  out[6] = yz + wx;\n  out[7] = 0;\n  out[8] = xz + wy;\n  out[9] = yz - wx;\n  out[10] = 1 - (xx + yy);\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a new mat4 from a dual quat.\n *\n * @param {mat4} out Matrix\n * @param {ReadonlyQuat2} a Dual Quaternion\n * @returns {mat4} mat4 receiving operation result\n */\n\nfunction fromQuat2(out, a) {\n  var translation = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(3);\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7];\n  var magnitude = bx * bx + by * by + bz * bz + bw * bw; //Only scale if it makes sense\n\n  if (magnitude > 0) {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2 / magnitude;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2 / magnitude;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2 / magnitude;\n  } else {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;\n  }\n\n  fromRotationTranslation(out, a, translation);\n  return out;\n}\n/**\n * Returns the translation vector component of a transformation\n *  matrix. If a matrix is built with fromRotationTranslation,\n *  the returned vector will be the same as the translation vector\n *  originally supplied.\n * @param  {vec3} out Vector to receive translation component\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\n * @return {vec3} out\n */\n\nfunction getTranslation(out, mat) {\n  out[0] = mat[12];\n  out[1] = mat[13];\n  out[2] = mat[14];\n  return out;\n}\n/**\n * Returns the scaling factor component of a transformation\n *  matrix. If a matrix is built with fromRotationTranslationScale\n *  with a normalized Quaternion paramter, the returned vector will be\n *  the same as the scaling vector\n *  originally supplied.\n * @param  {vec3} out Vector to receive scaling factor component\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\n * @return {vec3} out\n */\n\nfunction getScaling(out, mat) {\n  var m11 = mat[0];\n  var m12 = mat[1];\n  var m13 = mat[2];\n  var m21 = mat[4];\n  var m22 = mat[5];\n  var m23 = mat[6];\n  var m31 = mat[8];\n  var m32 = mat[9];\n  var m33 = mat[10];\n  out[0] = Math.hypot(m11, m12, m13);\n  out[1] = Math.hypot(m21, m22, m23);\n  out[2] = Math.hypot(m31, m32, m33);\n  return out;\n}\n/**\n * Returns a quaternion representing the rotational component\n *  of a transformation matrix. If a matrix is built with\n *  fromRotationTranslation, the returned quaternion will be the\n *  same as the quaternion originally supplied.\n * @param {quat} out Quaternion to receive the rotation component\n * @param {ReadonlyMat4} mat Matrix to be decomposed (input)\n * @return {quat} out\n */\n\nfunction getRotation(out, mat) {\n  var scaling = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(3);\n  getScaling(scaling, mat);\n  var is1 = 1 / scaling[0];\n  var is2 = 1 / scaling[1];\n  var is3 = 1 / scaling[2];\n  var sm11 = mat[0] * is1;\n  var sm12 = mat[1] * is2;\n  var sm13 = mat[2] * is3;\n  var sm21 = mat[4] * is1;\n  var sm22 = mat[5] * is2;\n  var sm23 = mat[6] * is3;\n  var sm31 = mat[8] * is1;\n  var sm32 = mat[9] * is2;\n  var sm33 = mat[10] * is3;\n  var trace = sm11 + sm22 + sm33;\n  var S = 0;\n\n  if (trace > 0) {\n    S = Math.sqrt(trace + 1.0) * 2;\n    out[3] = 0.25 * S;\n    out[0] = (sm23 - sm32) / S;\n    out[1] = (sm31 - sm13) / S;\n    out[2] = (sm12 - sm21) / S;\n  } else if (sm11 > sm22 && sm11 > sm33) {\n    S = Math.sqrt(1.0 + sm11 - sm22 - sm33) * 2;\n    out[3] = (sm23 - sm32) / S;\n    out[0] = 0.25 * S;\n    out[1] = (sm12 + sm21) / S;\n    out[2] = (sm31 + sm13) / S;\n  } else if (sm22 > sm33) {\n    S = Math.sqrt(1.0 + sm22 - sm11 - sm33) * 2;\n    out[3] = (sm31 - sm13) / S;\n    out[0] = (sm12 + sm21) / S;\n    out[1] = 0.25 * S;\n    out[2] = (sm23 + sm32) / S;\n  } else {\n    S = Math.sqrt(1.0 + sm33 - sm11 - sm22) * 2;\n    out[3] = (sm12 - sm21) / S;\n    out[0] = (sm31 + sm13) / S;\n    out[1] = (sm23 + sm32) / S;\n    out[2] = 0.25 * S;\n  }\n\n  return out;\n}\n/**\n * Creates a matrix from a quaternion rotation, vector translation and vector scale\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *     mat4.scale(dest, scale)\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {ReadonlyVec3} v Translation vector\n * @param {ReadonlyVec3} s Scaling vector\n * @returns {mat4} out\n */\n\nfunction fromRotationTranslationScale(out, q, v, s) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  out[0] = (1 - (yy + zz)) * sx;\n  out[1] = (xy + wz) * sx;\n  out[2] = (xz - wy) * sx;\n  out[3] = 0;\n  out[4] = (xy - wz) * sy;\n  out[5] = (1 - (xx + zz)) * sy;\n  out[6] = (yz + wx) * sy;\n  out[7] = 0;\n  out[8] = (xz + wy) * sz;\n  out[9] = (yz - wx) * sz;\n  out[10] = (1 - (xx + yy)) * sz;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a quaternion rotation, vector translation and vector scale, rotating and scaling around the given origin\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     mat4.translate(dest, origin);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *     mat4.scale(dest, scale)\n *     mat4.translate(dest, negativeOrigin);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {ReadonlyVec3} v Translation vector\n * @param {ReadonlyVec3} s Scaling vector\n * @param {ReadonlyVec3} o The origin vector around which to scale and rotate\n * @returns {mat4} out\n */\n\nfunction fromRotationTranslationScaleOrigin(out, q, v, s, o) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  var ox = o[0];\n  var oy = o[1];\n  var oz = o[2];\n  var out0 = (1 - (yy + zz)) * sx;\n  var out1 = (xy + wz) * sx;\n  var out2 = (xz - wy) * sx;\n  var out4 = (xy - wz) * sy;\n  var out5 = (1 - (xx + zz)) * sy;\n  var out6 = (yz + wx) * sy;\n  var out8 = (xz + wy) * sz;\n  var out9 = (yz - wx) * sz;\n  var out10 = (1 - (xx + yy)) * sz;\n  out[0] = out0;\n  out[1] = out1;\n  out[2] = out2;\n  out[3] = 0;\n  out[4] = out4;\n  out[5] = out5;\n  out[6] = out6;\n  out[7] = 0;\n  out[8] = out8;\n  out[9] = out9;\n  out[10] = out10;\n  out[11] = 0;\n  out[12] = v[0] + ox - (out0 * ox + out4 * oy + out8 * oz);\n  out[13] = v[1] + oy - (out1 * ox + out5 * oy + out9 * oz);\n  out[14] = v[2] + oz - (out2 * ox + out6 * oy + out10 * oz);\n  out[15] = 1;\n  return out;\n}\n/**\n * Calculates a 4x4 matrix from the given quaternion\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {ReadonlyQuat} q Quaternion to create matrix from\n *\n * @returns {mat4} out\n */\n\nfunction fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[1] = yx + wz;\n  out[2] = zx - wy;\n  out[3] = 0;\n  out[4] = yx - wz;\n  out[5] = 1 - xx - zz;\n  out[6] = zy + wx;\n  out[7] = 0;\n  out[8] = zx + wy;\n  out[9] = zy - wx;\n  out[10] = 1 - xx - yy;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Generates a frustum matrix with the given bounds\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {Number} left Left bound of the frustum\n * @param {Number} right Right bound of the frustum\n * @param {Number} bottom Bottom bound of the frustum\n * @param {Number} top Top bound of the frustum\n * @param {Number} near Near bound of the frustum\n * @param {Number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nfunction frustum(out, left, right, bottom, top, near, far) {\n  var rl = 1 / (right - left);\n  var tb = 1 / (top - bottom);\n  var nf = 1 / (near - far);\n  out[0] = near * 2 * rl;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = near * 2 * tb;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = (right + left) * rl;\n  out[9] = (top + bottom) * tb;\n  out[10] = (far + near) * nf;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = far * near * 2 * nf;\n  out[15] = 0;\n  return out;\n}\n/**\n * Generates a perspective projection matrix with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [-1, 1],\n * which matches WebGL/OpenGL's clip volume.\n * Passing null/undefined/no value for far will generate infinite projection matrix.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} fovy Vertical field of view in radians\n * @param {number} aspect Aspect ratio. typically viewport width/height\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum, can be null or Infinity\n * @returns {mat4} out\n */\n\nfunction perspectiveNO(out, fovy, aspect, near, far) {\n  var f = 1.0 / Math.tan(fovy / 2),\n      nf;\n  out[0] = f / aspect;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = f;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[15] = 0;\n\n  if (far != null && far !== Infinity) {\n    nf = 1 / (near - far);\n    out[10] = (far + near) * nf;\n    out[14] = 2 * far * near * nf;\n  } else {\n    out[10] = -1;\n    out[14] = -2 * near;\n  }\n\n  return out;\n}\n/**\n * Alias for {@link mat4.perspectiveNO}\n * @function\n */\n\nvar perspective = perspectiveNO;\n/**\n * Generates a perspective projection matrix suitable for WebGPU with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [0, 1],\n * which matches WebGPU/Vulkan/DirectX/Metal's clip volume.\n * Passing null/undefined/no value for far will generate infinite projection matrix.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} fovy Vertical field of view in radians\n * @param {number} aspect Aspect ratio. typically viewport width/height\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum, can be null or Infinity\n * @returns {mat4} out\n */\n\nfunction perspectiveZO(out, fovy, aspect, near, far) {\n  var f = 1.0 / Math.tan(fovy / 2),\n      nf;\n  out[0] = f / aspect;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = f;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[15] = 0;\n\n  if (far != null && far !== Infinity) {\n    nf = 1 / (near - far);\n    out[10] = far * nf;\n    out[14] = far * near * nf;\n  } else {\n    out[10] = -1;\n    out[14] = -near;\n  }\n\n  return out;\n}\n/**\n * Generates a perspective projection matrix with the given field of view.\n * This is primarily useful for generating projection matrices to be used\n * with the still experiemental WebVR API.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {Object} fov Object containing the following values: upDegrees, downDegrees, leftDegrees, rightDegrees\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nfunction perspectiveFromFieldOfView(out, fov, near, far) {\n  var upTan = Math.tan(fov.upDegrees * Math.PI / 180.0);\n  var downTan = Math.tan(fov.downDegrees * Math.PI / 180.0);\n  var leftTan = Math.tan(fov.leftDegrees * Math.PI / 180.0);\n  var rightTan = Math.tan(fov.rightDegrees * Math.PI / 180.0);\n  var xScale = 2.0 / (leftTan + rightTan);\n  var yScale = 2.0 / (upTan + downTan);\n  out[0] = xScale;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  out[4] = 0.0;\n  out[5] = yScale;\n  out[6] = 0.0;\n  out[7] = 0.0;\n  out[8] = -((leftTan - rightTan) * xScale * 0.5);\n  out[9] = (upTan - downTan) * yScale * 0.5;\n  out[10] = far / (near - far);\n  out[11] = -1.0;\n  out[12] = 0.0;\n  out[13] = 0.0;\n  out[14] = far * near / (near - far);\n  out[15] = 0.0;\n  return out;\n}\n/**\n * Generates a orthogonal projection matrix with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [-1, 1],\n * which matches WebGL/OpenGL's clip volume.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} left Left bound of the frustum\n * @param {number} right Right bound of the frustum\n * @param {number} bottom Bottom bound of the frustum\n * @param {number} top Top bound of the frustum\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nfunction orthoNO(out, left, right, bottom, top, near, far) {\n  var lr = 1 / (left - right);\n  var bt = 1 / (bottom - top);\n  var nf = 1 / (near - far);\n  out[0] = -2 * lr;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = -2 * bt;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 2 * nf;\n  out[11] = 0;\n  out[12] = (left + right) * lr;\n  out[13] = (top + bottom) * bt;\n  out[14] = (far + near) * nf;\n  out[15] = 1;\n  return out;\n}\n/**\n * Alias for {@link mat4.orthoNO}\n * @function\n */\n\nvar ortho = orthoNO;\n/**\n * Generates a orthogonal projection matrix with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [0, 1],\n * which matches WebGPU/Vulkan/DirectX/Metal's clip volume.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} left Left bound of the frustum\n * @param {number} right Right bound of the frustum\n * @param {number} bottom Bottom bound of the frustum\n * @param {number} top Top bound of the frustum\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nfunction orthoZO(out, left, right, bottom, top, near, far) {\n  var lr = 1 / (left - right);\n  var bt = 1 / (bottom - top);\n  var nf = 1 / (near - far);\n  out[0] = -2 * lr;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = -2 * bt;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = nf;\n  out[11] = 0;\n  out[12] = (left + right) * lr;\n  out[13] = (top + bottom) * bt;\n  out[14] = near * nf;\n  out[15] = 1;\n  return out;\n}\n/**\n * Generates a look-at matrix with the given eye position, focal point, and up axis.\n * If you want a matrix that actually makes an object look at another object, you should use targetTo instead.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {ReadonlyVec3} eye Position of the viewer\n * @param {ReadonlyVec3} center Point the viewer is looking at\n * @param {ReadonlyVec3} up vec3 pointing up\n * @returns {mat4} out\n */\n\nfunction lookAt(out, eye, center, up) {\n  var x0, x1, x2, y0, y1, y2, z0, z1, z2, len;\n  var eyex = eye[0];\n  var eyey = eye[1];\n  var eyez = eye[2];\n  var upx = up[0];\n  var upy = up[1];\n  var upz = up[2];\n  var centerx = center[0];\n  var centery = center[1];\n  var centerz = center[2];\n\n  if (Math.abs(eyex - centerx) < _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON && Math.abs(eyey - centery) < _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON && Math.abs(eyez - centerz) < _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON) {\n    return identity(out);\n  }\n\n  z0 = eyex - centerx;\n  z1 = eyey - centery;\n  z2 = eyez - centerz;\n  len = 1 / Math.hypot(z0, z1, z2);\n  z0 *= len;\n  z1 *= len;\n  z2 *= len;\n  x0 = upy * z2 - upz * z1;\n  x1 = upz * z0 - upx * z2;\n  x2 = upx * z1 - upy * z0;\n  len = Math.hypot(x0, x1, x2);\n\n  if (!len) {\n    x0 = 0;\n    x1 = 0;\n    x2 = 0;\n  } else {\n    len = 1 / len;\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  y0 = z1 * x2 - z2 * x1;\n  y1 = z2 * x0 - z0 * x2;\n  y2 = z0 * x1 - z1 * x0;\n  len = Math.hypot(y0, y1, y2);\n\n  if (!len) {\n    y0 = 0;\n    y1 = 0;\n    y2 = 0;\n  } else {\n    len = 1 / len;\n    y0 *= len;\n    y1 *= len;\n    y2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = y0;\n  out[2] = z0;\n  out[3] = 0;\n  out[4] = x1;\n  out[5] = y1;\n  out[6] = z1;\n  out[7] = 0;\n  out[8] = x2;\n  out[9] = y2;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = -(x0 * eyex + x1 * eyey + x2 * eyez);\n  out[13] = -(y0 * eyex + y1 * eyey + y2 * eyez);\n  out[14] = -(z0 * eyex + z1 * eyey + z2 * eyez);\n  out[15] = 1;\n  return out;\n}\n/**\n * Generates a matrix that makes something look at something else.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {ReadonlyVec3} eye Position of the viewer\n * @param {ReadonlyVec3} center Point the viewer is looking at\n * @param {ReadonlyVec3} up vec3 pointing up\n * @returns {mat4} out\n */\n\nfunction targetTo(out, eye, target, up) {\n  var eyex = eye[0],\n      eyey = eye[1],\n      eyez = eye[2],\n      upx = up[0],\n      upy = up[1],\n      upz = up[2];\n  var z0 = eyex - target[0],\n      z1 = eyey - target[1],\n      z2 = eyez - target[2];\n  var len = z0 * z0 + z1 * z1 + z2 * z2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    z0 *= len;\n    z1 *= len;\n    z2 *= len;\n  }\n\n  var x0 = upy * z2 - upz * z1,\n      x1 = upz * z0 - upx * z2,\n      x2 = upx * z1 - upy * z0;\n  len = x0 * x0 + x1 * x1 + x2 * x2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = x1;\n  out[2] = x2;\n  out[3] = 0;\n  out[4] = z1 * x2 - z2 * x1;\n  out[5] = z2 * x0 - z0 * x2;\n  out[6] = z0 * x1 - z1 * x0;\n  out[7] = 0;\n  out[8] = z0;\n  out[9] = z1;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = eyex;\n  out[13] = eyey;\n  out[14] = eyez;\n  out[15] = 1;\n  return out;\n}\n/**\n * Returns a string representation of a mat4\n *\n * @param {ReadonlyMat4} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\n\nfunction str(a) {\n  return \"mat4(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \", \" + a[9] + \", \" + a[10] + \", \" + a[11] + \", \" + a[12] + \", \" + a[13] + \", \" + a[14] + \", \" + a[15] + \")\";\n}\n/**\n * Returns Frobenius norm of a mat4\n *\n * @param {ReadonlyMat4} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\n\nfunction frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8], a[9], a[10], a[11], a[12], a[13], a[14], a[15]);\n}\n/**\n * Adds two mat4's\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @returns {mat4} out\n */\n\nfunction add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  out[9] = a[9] + b[9];\n  out[10] = a[10] + b[10];\n  out[11] = a[11] + b[11];\n  out[12] = a[12] + b[12];\n  out[13] = a[13] + b[13];\n  out[14] = a[14] + b[14];\n  out[15] = a[15] + b[15];\n  return out;\n}\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @returns {mat4} out\n */\n\nfunction subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  out[9] = a[9] - b[9];\n  out[10] = a[10] - b[10];\n  out[11] = a[11] - b[11];\n  out[12] = a[12] - b[12];\n  out[13] = a[13] - b[13];\n  out[14] = a[14] - b[14];\n  out[15] = a[15] - b[15];\n  return out;\n}\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat4} out\n */\n\nfunction multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  out[9] = a[9] * b;\n  out[10] = a[10] * b;\n  out[11] = a[11] * b;\n  out[12] = a[12] * b;\n  out[13] = a[13] * b;\n  out[14] = a[14] * b;\n  out[15] = a[15] * b;\n  return out;\n}\n/**\n * Adds two mat4's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat4} out the receiving vector\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat4} out\n */\n\nfunction multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  out[9] = a[9] + b[9] * scale;\n  out[10] = a[10] + b[10] * scale;\n  out[11] = a[11] + b[11] * scale;\n  out[12] = a[12] + b[12] * scale;\n  out[13] = a[13] + b[13] * scale;\n  out[14] = a[14] + b[14] * scale;\n  out[15] = a[15] + b[15] * scale;\n  return out;\n}\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyMat4} a The first matrix.\n * @param {ReadonlyMat4} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nfunction exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8] && a[9] === b[9] && a[10] === b[10] && a[11] === b[11] && a[12] === b[12] && a[13] === b[13] && a[14] === b[14] && a[15] === b[15];\n}\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {ReadonlyMat4} a The first matrix.\n * @param {ReadonlyMat4} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nfunction equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7];\n  var a8 = a[8],\n      a9 = a[9],\n      a10 = a[10],\n      a11 = a[11];\n  var a12 = a[12],\n      a13 = a[13],\n      a14 = a[14],\n      a15 = a[15];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  var b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7];\n  var b8 = b[8],\n      b9 = b[9],\n      b10 = b[10],\n      b11 = b[11];\n  var b12 = b[12],\n      b13 = b[13],\n      b14 = b[14],\n      b15 = b[15];\n  return Math.abs(a0 - b0) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8)) && Math.abs(a9 - b9) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a9), Math.abs(b9)) && Math.abs(a10 - b10) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a10), Math.abs(b10)) && Math.abs(a11 - b11) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a11), Math.abs(b11)) && Math.abs(a12 - b12) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a12), Math.abs(b12)) && Math.abs(a13 - b13) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a13), Math.abs(b13)) && Math.abs(a14 - b14) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a14), Math.abs(b14)) && Math.abs(a15 - b15) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a15), Math.abs(b15));\n}\n/**\n * Alias for {@link mat4.multiply}\n * @function\n */\n\nvar mul = multiply;\n/**\n * Alias for {@link mat4.subtract}\n * @function\n */\n\nvar sub = subtract;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZ2wtbWF0cml4L2VzbS9tYXQ0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3N1cGVyc2V0Ly4vbm9kZV9tb2R1bGVzL2dsLW1hdHJpeC9lc20vbWF0NC5qcz82NWExIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGdsTWF0cml4IGZyb20gXCIuL2NvbW1vbi5qc1wiO1xuLyoqXG4gKiA0eDQgTWF0cml4PGJyPkZvcm1hdDogY29sdW1uLW1ham9yLCB3aGVuIHR5cGVkIG91dCBpdCBsb29rcyBsaWtlIHJvdy1tYWpvcjxicj5UaGUgbWF0cmljZXMgYXJlIGJlaW5nIHBvc3QgbXVsdGlwbGllZC5cbiAqIEBtb2R1bGUgbWF0NFxuICovXG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBpZGVudGl0eSBtYXQ0XG4gKlxuICogQHJldHVybnMge21hdDR9IGEgbmV3IDR4NCBtYXRyaXhcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlKCkge1xuICB2YXIgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoMTYpO1xuXG4gIGlmIChnbE1hdHJpeC5BUlJBWV9UWVBFICE9IEZsb2F0MzJBcnJheSkge1xuICAgIG91dFsxXSA9IDA7XG4gICAgb3V0WzJdID0gMDtcbiAgICBvdXRbM10gPSAwO1xuICAgIG91dFs0XSA9IDA7XG4gICAgb3V0WzZdID0gMDtcbiAgICBvdXRbN10gPSAwO1xuICAgIG91dFs4XSA9IDA7XG4gICAgb3V0WzldID0gMDtcbiAgICBvdXRbMTFdID0gMDtcbiAgICBvdXRbMTJdID0gMDtcbiAgICBvdXRbMTNdID0gMDtcbiAgICBvdXRbMTRdID0gMDtcbiAgfVxuXG4gIG91dFswXSA9IDE7XG4gIG91dFs1XSA9IDE7XG4gIG91dFsxMF0gPSAxO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBtYXQ0IGluaXRpYWxpemVkIHdpdGggdmFsdWVzIGZyb20gYW4gZXhpc3RpbmcgbWF0cml4XG4gKlxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgbWF0cml4IHRvIGNsb25lXG4gKiBAcmV0dXJucyB7bWF0NH0gYSBuZXcgNHg0IG1hdHJpeFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZShhKSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgxNik7XG4gIG91dFswXSA9IGFbMF07XG4gIG91dFsxXSA9IGFbMV07XG4gIG91dFsyXSA9IGFbMl07XG4gIG91dFszXSA9IGFbM107XG4gIG91dFs0XSA9IGFbNF07XG4gIG91dFs1XSA9IGFbNV07XG4gIG91dFs2XSA9IGFbNl07XG4gIG91dFs3XSA9IGFbN107XG4gIG91dFs4XSA9IGFbOF07XG4gIG91dFs5XSA9IGFbOV07XG4gIG91dFsxMF0gPSBhWzEwXTtcbiAgb3V0WzExXSA9IGFbMTFdO1xuICBvdXRbMTJdID0gYVsxMl07XG4gIG91dFsxM10gPSBhWzEzXTtcbiAgb3V0WzE0XSA9IGFbMTRdO1xuICBvdXRbMTVdID0gYVsxNV07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENvcHkgdGhlIHZhbHVlcyBmcm9tIG9uZSBtYXQ0IHRvIGFub3RoZXJcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIHNvdXJjZSBtYXRyaXhcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY29weShvdXQsIGEpIHtcbiAgb3V0WzBdID0gYVswXTtcbiAgb3V0WzFdID0gYVsxXTtcbiAgb3V0WzJdID0gYVsyXTtcbiAgb3V0WzNdID0gYVszXTtcbiAgb3V0WzRdID0gYVs0XTtcbiAgb3V0WzVdID0gYVs1XTtcbiAgb3V0WzZdID0gYVs2XTtcbiAgb3V0WzddID0gYVs3XTtcbiAgb3V0WzhdID0gYVs4XTtcbiAgb3V0WzldID0gYVs5XTtcbiAgb3V0WzEwXSA9IGFbMTBdO1xuICBvdXRbMTFdID0gYVsxMV07XG4gIG91dFsxMl0gPSBhWzEyXTtcbiAgb3V0WzEzXSA9IGFbMTNdO1xuICBvdXRbMTRdID0gYVsxNF07XG4gIG91dFsxNV0gPSBhWzE1XTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlIGEgbmV3IG1hdDQgd2l0aCB0aGUgZ2l2ZW4gdmFsdWVzXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMCBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAwIHBvc2l0aW9uIChpbmRleCAwKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMSBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAxIHBvc2l0aW9uIChpbmRleCAxKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMiBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAyIHBvc2l0aW9uIChpbmRleCAyKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMyBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAzIHBvc2l0aW9uIChpbmRleCAzKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMCBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAwIHBvc2l0aW9uIChpbmRleCA0KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMSBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAxIHBvc2l0aW9uIChpbmRleCA1KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMiBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAyIHBvc2l0aW9uIChpbmRleCA2KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMyBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAzIHBvc2l0aW9uIChpbmRleCA3KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0yMCBDb21wb25lbnQgaW4gY29sdW1uIDIsIHJvdyAwIHBvc2l0aW9uIChpbmRleCA4KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0yMSBDb21wb25lbnQgaW4gY29sdW1uIDIsIHJvdyAxIHBvc2l0aW9uIChpbmRleCA5KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0yMiBDb21wb25lbnQgaW4gY29sdW1uIDIsIHJvdyAyIHBvc2l0aW9uIChpbmRleCAxMClcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjMgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMyBwb3NpdGlvbiAoaW5kZXggMTEpXG4gKiBAcGFyYW0ge051bWJlcn0gbTMwIENvbXBvbmVudCBpbiBjb2x1bW4gMywgcm93IDAgcG9zaXRpb24gKGluZGV4IDEyKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0zMSBDb21wb25lbnQgaW4gY29sdW1uIDMsIHJvdyAxIHBvc2l0aW9uIChpbmRleCAxMylcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMzIgQ29tcG9uZW50IGluIGNvbHVtbiAzLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggMTQpXG4gKiBAcGFyYW0ge051bWJlcn0gbTMzIENvbXBvbmVudCBpbiBjb2x1bW4gMywgcm93IDMgcG9zaXRpb24gKGluZGV4IDE1KVxuICogQHJldHVybnMge21hdDR9IEEgbmV3IG1hdDRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVZhbHVlcyhtMDAsIG0wMSwgbTAyLCBtMDMsIG0xMCwgbTExLCBtMTIsIG0xMywgbTIwLCBtMjEsIG0yMiwgbTIzLCBtMzAsIG0zMSwgbTMyLCBtMzMpIHtcbiAgdmFyIG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDE2KTtcbiAgb3V0WzBdID0gbTAwO1xuICBvdXRbMV0gPSBtMDE7XG4gIG91dFsyXSA9IG0wMjtcbiAgb3V0WzNdID0gbTAzO1xuICBvdXRbNF0gPSBtMTA7XG4gIG91dFs1XSA9IG0xMTtcbiAgb3V0WzZdID0gbTEyO1xuICBvdXRbN10gPSBtMTM7XG4gIG91dFs4XSA9IG0yMDtcbiAgb3V0WzldID0gbTIxO1xuICBvdXRbMTBdID0gbTIyO1xuICBvdXRbMTFdID0gbTIzO1xuICBvdXRbMTJdID0gbTMwO1xuICBvdXRbMTNdID0gbTMxO1xuICBvdXRbMTRdID0gbTMyO1xuICBvdXRbMTVdID0gbTMzO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBTZXQgdGhlIGNvbXBvbmVudHMgb2YgYSBtYXQ0IHRvIHRoZSBnaXZlbiB2YWx1ZXNcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMCBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAwIHBvc2l0aW9uIChpbmRleCAwKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMSBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAxIHBvc2l0aW9uIChpbmRleCAxKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMiBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAyIHBvc2l0aW9uIChpbmRleCAyKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0wMyBDb21wb25lbnQgaW4gY29sdW1uIDAsIHJvdyAzIHBvc2l0aW9uIChpbmRleCAzKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMCBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAwIHBvc2l0aW9uIChpbmRleCA0KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMSBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAxIHBvc2l0aW9uIChpbmRleCA1KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMiBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAyIHBvc2l0aW9uIChpbmRleCA2KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0xMyBDb21wb25lbnQgaW4gY29sdW1uIDEsIHJvdyAzIHBvc2l0aW9uIChpbmRleCA3KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0yMCBDb21wb25lbnQgaW4gY29sdW1uIDIsIHJvdyAwIHBvc2l0aW9uIChpbmRleCA4KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0yMSBDb21wb25lbnQgaW4gY29sdW1uIDIsIHJvdyAxIHBvc2l0aW9uIChpbmRleCA5KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0yMiBDb21wb25lbnQgaW4gY29sdW1uIDIsIHJvdyAyIHBvc2l0aW9uIChpbmRleCAxMClcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjMgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMyBwb3NpdGlvbiAoaW5kZXggMTEpXG4gKiBAcGFyYW0ge051bWJlcn0gbTMwIENvbXBvbmVudCBpbiBjb2x1bW4gMywgcm93IDAgcG9zaXRpb24gKGluZGV4IDEyKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0zMSBDb21wb25lbnQgaW4gY29sdW1uIDMsIHJvdyAxIHBvc2l0aW9uIChpbmRleCAxMylcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMzIgQ29tcG9uZW50IGluIGNvbHVtbiAzLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggMTQpXG4gKiBAcGFyYW0ge051bWJlcn0gbTMzIENvbXBvbmVudCBpbiBjb2x1bW4gMywgcm93IDMgcG9zaXRpb24gKGluZGV4IDE1KVxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzZXQob3V0LCBtMDAsIG0wMSwgbTAyLCBtMDMsIG0xMCwgbTExLCBtMTIsIG0xMywgbTIwLCBtMjEsIG0yMiwgbTIzLCBtMzAsIG0zMSwgbTMyLCBtMzMpIHtcbiAgb3V0WzBdID0gbTAwO1xuICBvdXRbMV0gPSBtMDE7XG4gIG91dFsyXSA9IG0wMjtcbiAgb3V0WzNdID0gbTAzO1xuICBvdXRbNF0gPSBtMTA7XG4gIG91dFs1XSA9IG0xMTtcbiAgb3V0WzZdID0gbTEyO1xuICBvdXRbN10gPSBtMTM7XG4gIG91dFs4XSA9IG0yMDtcbiAgb3V0WzldID0gbTIxO1xuICBvdXRbMTBdID0gbTIyO1xuICBvdXRbMTFdID0gbTIzO1xuICBvdXRbMTJdID0gbTMwO1xuICBvdXRbMTNdID0gbTMxO1xuICBvdXRbMTRdID0gbTMyO1xuICBvdXRbMTVdID0gbTMzO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBTZXQgYSBtYXQ0IHRvIHRoZSBpZGVudGl0eSBtYXRyaXhcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBpZGVudGl0eShvdXQpIHtcbiAgb3V0WzBdID0gMTtcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gMDtcbiAgb3V0WzVdID0gMTtcbiAgb3V0WzZdID0gMDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gMDtcbiAgb3V0WzldID0gMDtcbiAgb3V0WzEwXSA9IDE7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gMDtcbiAgb3V0WzEzXSA9IDA7XG4gIG91dFsxNF0gPSAwO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogVHJhbnNwb3NlIHRoZSB2YWx1ZXMgb2YgYSBtYXQ0XG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBzb3VyY2UgbWF0cml4XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zcG9zZShvdXQsIGEpIHtcbiAgLy8gSWYgd2UgYXJlIHRyYW5zcG9zaW5nIG91cnNlbHZlcyB3ZSBjYW4gc2tpcCBhIGZldyBzdGVwcyBidXQgaGF2ZSB0byBjYWNoZSBzb21lIHZhbHVlc1xuICBpZiAob3V0ID09PSBhKSB7XG4gICAgdmFyIGEwMSA9IGFbMV0sXG4gICAgICAgIGEwMiA9IGFbMl0sXG4gICAgICAgIGEwMyA9IGFbM107XG4gICAgdmFyIGExMiA9IGFbNl0sXG4gICAgICAgIGExMyA9IGFbN107XG4gICAgdmFyIGEyMyA9IGFbMTFdO1xuICAgIG91dFsxXSA9IGFbNF07XG4gICAgb3V0WzJdID0gYVs4XTtcbiAgICBvdXRbM10gPSBhWzEyXTtcbiAgICBvdXRbNF0gPSBhMDE7XG4gICAgb3V0WzZdID0gYVs5XTtcbiAgICBvdXRbN10gPSBhWzEzXTtcbiAgICBvdXRbOF0gPSBhMDI7XG4gICAgb3V0WzldID0gYTEyO1xuICAgIG91dFsxMV0gPSBhWzE0XTtcbiAgICBvdXRbMTJdID0gYTAzO1xuICAgIG91dFsxM10gPSBhMTM7XG4gICAgb3V0WzE0XSA9IGEyMztcbiAgfSBlbHNlIHtcbiAgICBvdXRbMF0gPSBhWzBdO1xuICAgIG91dFsxXSA9IGFbNF07XG4gICAgb3V0WzJdID0gYVs4XTtcbiAgICBvdXRbM10gPSBhWzEyXTtcbiAgICBvdXRbNF0gPSBhWzFdO1xuICAgIG91dFs1XSA9IGFbNV07XG4gICAgb3V0WzZdID0gYVs5XTtcbiAgICBvdXRbN10gPSBhWzEzXTtcbiAgICBvdXRbOF0gPSBhWzJdO1xuICAgIG91dFs5XSA9IGFbNl07XG4gICAgb3V0WzEwXSA9IGFbMTBdO1xuICAgIG91dFsxMV0gPSBhWzE0XTtcbiAgICBvdXRbMTJdID0gYVszXTtcbiAgICBvdXRbMTNdID0gYVs3XTtcbiAgICBvdXRbMTRdID0gYVsxMV07XG4gICAgb3V0WzE1XSA9IGFbMTVdO1xuICB9XG5cbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogSW52ZXJ0cyBhIG1hdDRcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIHNvdXJjZSBtYXRyaXhcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gaW52ZXJ0KG91dCwgYSkge1xuICB2YXIgYTAwID0gYVswXSxcbiAgICAgIGEwMSA9IGFbMV0sXG4gICAgICBhMDIgPSBhWzJdLFxuICAgICAgYTAzID0gYVszXTtcbiAgdmFyIGExMCA9IGFbNF0sXG4gICAgICBhMTEgPSBhWzVdLFxuICAgICAgYTEyID0gYVs2XSxcbiAgICAgIGExMyA9IGFbN107XG4gIHZhciBhMjAgPSBhWzhdLFxuICAgICAgYTIxID0gYVs5XSxcbiAgICAgIGEyMiA9IGFbMTBdLFxuICAgICAgYTIzID0gYVsxMV07XG4gIHZhciBhMzAgPSBhWzEyXSxcbiAgICAgIGEzMSA9IGFbMTNdLFxuICAgICAgYTMyID0gYVsxNF0sXG4gICAgICBhMzMgPSBhWzE1XTtcbiAgdmFyIGIwMCA9IGEwMCAqIGExMSAtIGEwMSAqIGExMDtcbiAgdmFyIGIwMSA9IGEwMCAqIGExMiAtIGEwMiAqIGExMDtcbiAgdmFyIGIwMiA9IGEwMCAqIGExMyAtIGEwMyAqIGExMDtcbiAgdmFyIGIwMyA9IGEwMSAqIGExMiAtIGEwMiAqIGExMTtcbiAgdmFyIGIwNCA9IGEwMSAqIGExMyAtIGEwMyAqIGExMTtcbiAgdmFyIGIwNSA9IGEwMiAqIGExMyAtIGEwMyAqIGExMjtcbiAgdmFyIGIwNiA9IGEyMCAqIGEzMSAtIGEyMSAqIGEzMDtcbiAgdmFyIGIwNyA9IGEyMCAqIGEzMiAtIGEyMiAqIGEzMDtcbiAgdmFyIGIwOCA9IGEyMCAqIGEzMyAtIGEyMyAqIGEzMDtcbiAgdmFyIGIwOSA9IGEyMSAqIGEzMiAtIGEyMiAqIGEzMTtcbiAgdmFyIGIxMCA9IGEyMSAqIGEzMyAtIGEyMyAqIGEzMTtcbiAgdmFyIGIxMSA9IGEyMiAqIGEzMyAtIGEyMyAqIGEzMjsgLy8gQ2FsY3VsYXRlIHRoZSBkZXRlcm1pbmFudFxuXG4gIHZhciBkZXQgPSBiMDAgKiBiMTEgLSBiMDEgKiBiMTAgKyBiMDIgKiBiMDkgKyBiMDMgKiBiMDggLSBiMDQgKiBiMDcgKyBiMDUgKiBiMDY7XG5cbiAgaWYgKCFkZXQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGRldCA9IDEuMCAvIGRldDtcbiAgb3V0WzBdID0gKGExMSAqIGIxMSAtIGExMiAqIGIxMCArIGExMyAqIGIwOSkgKiBkZXQ7XG4gIG91dFsxXSA9IChhMDIgKiBiMTAgLSBhMDEgKiBiMTEgLSBhMDMgKiBiMDkpICogZGV0O1xuICBvdXRbMl0gPSAoYTMxICogYjA1IC0gYTMyICogYjA0ICsgYTMzICogYjAzKSAqIGRldDtcbiAgb3V0WzNdID0gKGEyMiAqIGIwNCAtIGEyMSAqIGIwNSAtIGEyMyAqIGIwMykgKiBkZXQ7XG4gIG91dFs0XSA9IChhMTIgKiBiMDggLSBhMTAgKiBiMTEgLSBhMTMgKiBiMDcpICogZGV0O1xuICBvdXRbNV0gPSAoYTAwICogYjExIC0gYTAyICogYjA4ICsgYTAzICogYjA3KSAqIGRldDtcbiAgb3V0WzZdID0gKGEzMiAqIGIwMiAtIGEzMCAqIGIwNSAtIGEzMyAqIGIwMSkgKiBkZXQ7XG4gIG91dFs3XSA9IChhMjAgKiBiMDUgLSBhMjIgKiBiMDIgKyBhMjMgKiBiMDEpICogZGV0O1xuICBvdXRbOF0gPSAoYTEwICogYjEwIC0gYTExICogYjA4ICsgYTEzICogYjA2KSAqIGRldDtcbiAgb3V0WzldID0gKGEwMSAqIGIwOCAtIGEwMCAqIGIxMCAtIGEwMyAqIGIwNikgKiBkZXQ7XG4gIG91dFsxMF0gPSAoYTMwICogYjA0IC0gYTMxICogYjAyICsgYTMzICogYjAwKSAqIGRldDtcbiAgb3V0WzExXSA9IChhMjEgKiBiMDIgLSBhMjAgKiBiMDQgLSBhMjMgKiBiMDApICogZGV0O1xuICBvdXRbMTJdID0gKGExMSAqIGIwNyAtIGExMCAqIGIwOSAtIGExMiAqIGIwNikgKiBkZXQ7XG4gIG91dFsxM10gPSAoYTAwICogYjA5IC0gYTAxICogYjA3ICsgYTAyICogYjA2KSAqIGRldDtcbiAgb3V0WzE0XSA9IChhMzEgKiBiMDEgLSBhMzAgKiBiMDMgLSBhMzIgKiBiMDApICogZGV0O1xuICBvdXRbMTVdID0gKGEyMCAqIGIwMyAtIGEyMSAqIGIwMSArIGEyMiAqIGIwMCkgKiBkZXQ7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGFkanVnYXRlIG9mIGEgbWF0NFxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgc291cmNlIG1hdHJpeFxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBhZGpvaW50KG91dCwgYSkge1xuICB2YXIgYTAwID0gYVswXSxcbiAgICAgIGEwMSA9IGFbMV0sXG4gICAgICBhMDIgPSBhWzJdLFxuICAgICAgYTAzID0gYVszXTtcbiAgdmFyIGExMCA9IGFbNF0sXG4gICAgICBhMTEgPSBhWzVdLFxuICAgICAgYTEyID0gYVs2XSxcbiAgICAgIGExMyA9IGFbN107XG4gIHZhciBhMjAgPSBhWzhdLFxuICAgICAgYTIxID0gYVs5XSxcbiAgICAgIGEyMiA9IGFbMTBdLFxuICAgICAgYTIzID0gYVsxMV07XG4gIHZhciBhMzAgPSBhWzEyXSxcbiAgICAgIGEzMSA9IGFbMTNdLFxuICAgICAgYTMyID0gYVsxNF0sXG4gICAgICBhMzMgPSBhWzE1XTtcbiAgb3V0WzBdID0gYTExICogKGEyMiAqIGEzMyAtIGEyMyAqIGEzMikgLSBhMjEgKiAoYTEyICogYTMzIC0gYTEzICogYTMyKSArIGEzMSAqIChhMTIgKiBhMjMgLSBhMTMgKiBhMjIpO1xuICBvdXRbMV0gPSAtKGEwMSAqIChhMjIgKiBhMzMgLSBhMjMgKiBhMzIpIC0gYTIxICogKGEwMiAqIGEzMyAtIGEwMyAqIGEzMikgKyBhMzEgKiAoYTAyICogYTIzIC0gYTAzICogYTIyKSk7XG4gIG91dFsyXSA9IGEwMSAqIChhMTIgKiBhMzMgLSBhMTMgKiBhMzIpIC0gYTExICogKGEwMiAqIGEzMyAtIGEwMyAqIGEzMikgKyBhMzEgKiAoYTAyICogYTEzIC0gYTAzICogYTEyKTtcbiAgb3V0WzNdID0gLShhMDEgKiAoYTEyICogYTIzIC0gYTEzICogYTIyKSAtIGExMSAqIChhMDIgKiBhMjMgLSBhMDMgKiBhMjIpICsgYTIxICogKGEwMiAqIGExMyAtIGEwMyAqIGExMikpO1xuICBvdXRbNF0gPSAtKGExMCAqIChhMjIgKiBhMzMgLSBhMjMgKiBhMzIpIC0gYTIwICogKGExMiAqIGEzMyAtIGExMyAqIGEzMikgKyBhMzAgKiAoYTEyICogYTIzIC0gYTEzICogYTIyKSk7XG4gIG91dFs1XSA9IGEwMCAqIChhMjIgKiBhMzMgLSBhMjMgKiBhMzIpIC0gYTIwICogKGEwMiAqIGEzMyAtIGEwMyAqIGEzMikgKyBhMzAgKiAoYTAyICogYTIzIC0gYTAzICogYTIyKTtcbiAgb3V0WzZdID0gLShhMDAgKiAoYTEyICogYTMzIC0gYTEzICogYTMyKSAtIGExMCAqIChhMDIgKiBhMzMgLSBhMDMgKiBhMzIpICsgYTMwICogKGEwMiAqIGExMyAtIGEwMyAqIGExMikpO1xuICBvdXRbN10gPSBhMDAgKiAoYTEyICogYTIzIC0gYTEzICogYTIyKSAtIGExMCAqIChhMDIgKiBhMjMgLSBhMDMgKiBhMjIpICsgYTIwICogKGEwMiAqIGExMyAtIGEwMyAqIGExMik7XG4gIG91dFs4XSA9IGExMCAqIChhMjEgKiBhMzMgLSBhMjMgKiBhMzEpIC0gYTIwICogKGExMSAqIGEzMyAtIGExMyAqIGEzMSkgKyBhMzAgKiAoYTExICogYTIzIC0gYTEzICogYTIxKTtcbiAgb3V0WzldID0gLShhMDAgKiAoYTIxICogYTMzIC0gYTIzICogYTMxKSAtIGEyMCAqIChhMDEgKiBhMzMgLSBhMDMgKiBhMzEpICsgYTMwICogKGEwMSAqIGEyMyAtIGEwMyAqIGEyMSkpO1xuICBvdXRbMTBdID0gYTAwICogKGExMSAqIGEzMyAtIGExMyAqIGEzMSkgLSBhMTAgKiAoYTAxICogYTMzIC0gYTAzICogYTMxKSArIGEzMCAqIChhMDEgKiBhMTMgLSBhMDMgKiBhMTEpO1xuICBvdXRbMTFdID0gLShhMDAgKiAoYTExICogYTIzIC0gYTEzICogYTIxKSAtIGExMCAqIChhMDEgKiBhMjMgLSBhMDMgKiBhMjEpICsgYTIwICogKGEwMSAqIGExMyAtIGEwMyAqIGExMSkpO1xuICBvdXRbMTJdID0gLShhMTAgKiAoYTIxICogYTMyIC0gYTIyICogYTMxKSAtIGEyMCAqIChhMTEgKiBhMzIgLSBhMTIgKiBhMzEpICsgYTMwICogKGExMSAqIGEyMiAtIGExMiAqIGEyMSkpO1xuICBvdXRbMTNdID0gYTAwICogKGEyMSAqIGEzMiAtIGEyMiAqIGEzMSkgLSBhMjAgKiAoYTAxICogYTMyIC0gYTAyICogYTMxKSArIGEzMCAqIChhMDEgKiBhMjIgLSBhMDIgKiBhMjEpO1xuICBvdXRbMTRdID0gLShhMDAgKiAoYTExICogYTMyIC0gYTEyICogYTMxKSAtIGExMCAqIChhMDEgKiBhMzIgLSBhMDIgKiBhMzEpICsgYTMwICogKGEwMSAqIGExMiAtIGEwMiAqIGExMSkpO1xuICBvdXRbMTVdID0gYTAwICogKGExMSAqIGEyMiAtIGExMiAqIGEyMSkgLSBhMTAgKiAoYTAxICogYTIyIC0gYTAyICogYTIxKSArIGEyMCAqIChhMDEgKiBhMTIgLSBhMDIgKiBhMTEpO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBkZXRlcm1pbmFudCBvZiBhIG1hdDRcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgc291cmNlIG1hdHJpeFxuICogQHJldHVybnMge051bWJlcn0gZGV0ZXJtaW5hbnQgb2YgYVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBkZXRlcm1pbmFudChhKSB7XG4gIHZhciBhMDAgPSBhWzBdLFxuICAgICAgYTAxID0gYVsxXSxcbiAgICAgIGEwMiA9IGFbMl0sXG4gICAgICBhMDMgPSBhWzNdO1xuICB2YXIgYTEwID0gYVs0XSxcbiAgICAgIGExMSA9IGFbNV0sXG4gICAgICBhMTIgPSBhWzZdLFxuICAgICAgYTEzID0gYVs3XTtcbiAgdmFyIGEyMCA9IGFbOF0sXG4gICAgICBhMjEgPSBhWzldLFxuICAgICAgYTIyID0gYVsxMF0sXG4gICAgICBhMjMgPSBhWzExXTtcbiAgdmFyIGEzMCA9IGFbMTJdLFxuICAgICAgYTMxID0gYVsxM10sXG4gICAgICBhMzIgPSBhWzE0XSxcbiAgICAgIGEzMyA9IGFbMTVdO1xuICB2YXIgYjAwID0gYTAwICogYTExIC0gYTAxICogYTEwO1xuICB2YXIgYjAxID0gYTAwICogYTEyIC0gYTAyICogYTEwO1xuICB2YXIgYjAyID0gYTAwICogYTEzIC0gYTAzICogYTEwO1xuICB2YXIgYjAzID0gYTAxICogYTEyIC0gYTAyICogYTExO1xuICB2YXIgYjA0ID0gYTAxICogYTEzIC0gYTAzICogYTExO1xuICB2YXIgYjA1ID0gYTAyICogYTEzIC0gYTAzICogYTEyO1xuICB2YXIgYjA2ID0gYTIwICogYTMxIC0gYTIxICogYTMwO1xuICB2YXIgYjA3ID0gYTIwICogYTMyIC0gYTIyICogYTMwO1xuICB2YXIgYjA4ID0gYTIwICogYTMzIC0gYTIzICogYTMwO1xuICB2YXIgYjA5ID0gYTIxICogYTMyIC0gYTIyICogYTMxO1xuICB2YXIgYjEwID0gYTIxICogYTMzIC0gYTIzICogYTMxO1xuICB2YXIgYjExID0gYTIyICogYTMzIC0gYTIzICogYTMyOyAvLyBDYWxjdWxhdGUgdGhlIGRldGVybWluYW50XG5cbiAgcmV0dXJuIGIwMCAqIGIxMSAtIGIwMSAqIGIxMCArIGIwMiAqIGIwOSArIGIwMyAqIGIwOCAtIGIwNCAqIGIwNyArIGIwNSAqIGIwNjtcbn1cbi8qKlxuICogTXVsdGlwbGllcyB0d28gbWF0NHNcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBtdWx0aXBseShvdXQsIGEsIGIpIHtcbiAgdmFyIGEwMCA9IGFbMF0sXG4gICAgICBhMDEgPSBhWzFdLFxuICAgICAgYTAyID0gYVsyXSxcbiAgICAgIGEwMyA9IGFbM107XG4gIHZhciBhMTAgPSBhWzRdLFxuICAgICAgYTExID0gYVs1XSxcbiAgICAgIGExMiA9IGFbNl0sXG4gICAgICBhMTMgPSBhWzddO1xuICB2YXIgYTIwID0gYVs4XSxcbiAgICAgIGEyMSA9IGFbOV0sXG4gICAgICBhMjIgPSBhWzEwXSxcbiAgICAgIGEyMyA9IGFbMTFdO1xuICB2YXIgYTMwID0gYVsxMl0sXG4gICAgICBhMzEgPSBhWzEzXSxcbiAgICAgIGEzMiA9IGFbMTRdLFxuICAgICAgYTMzID0gYVsxNV07IC8vIENhY2hlIG9ubHkgdGhlIGN1cnJlbnQgbGluZSBvZiB0aGUgc2Vjb25kIG1hdHJpeFxuXG4gIHZhciBiMCA9IGJbMF0sXG4gICAgICBiMSA9IGJbMV0sXG4gICAgICBiMiA9IGJbMl0sXG4gICAgICBiMyA9IGJbM107XG4gIG91dFswXSA9IGIwICogYTAwICsgYjEgKiBhMTAgKyBiMiAqIGEyMCArIGIzICogYTMwO1xuICBvdXRbMV0gPSBiMCAqIGEwMSArIGIxICogYTExICsgYjIgKiBhMjEgKyBiMyAqIGEzMTtcbiAgb3V0WzJdID0gYjAgKiBhMDIgKyBiMSAqIGExMiArIGIyICogYTIyICsgYjMgKiBhMzI7XG4gIG91dFszXSA9IGIwICogYTAzICsgYjEgKiBhMTMgKyBiMiAqIGEyMyArIGIzICogYTMzO1xuICBiMCA9IGJbNF07XG4gIGIxID0gYls1XTtcbiAgYjIgPSBiWzZdO1xuICBiMyA9IGJbN107XG4gIG91dFs0XSA9IGIwICogYTAwICsgYjEgKiBhMTAgKyBiMiAqIGEyMCArIGIzICogYTMwO1xuICBvdXRbNV0gPSBiMCAqIGEwMSArIGIxICogYTExICsgYjIgKiBhMjEgKyBiMyAqIGEzMTtcbiAgb3V0WzZdID0gYjAgKiBhMDIgKyBiMSAqIGExMiArIGIyICogYTIyICsgYjMgKiBhMzI7XG4gIG91dFs3XSA9IGIwICogYTAzICsgYjEgKiBhMTMgKyBiMiAqIGEyMyArIGIzICogYTMzO1xuICBiMCA9IGJbOF07XG4gIGIxID0gYls5XTtcbiAgYjIgPSBiWzEwXTtcbiAgYjMgPSBiWzExXTtcbiAgb3V0WzhdID0gYjAgKiBhMDAgKyBiMSAqIGExMCArIGIyICogYTIwICsgYjMgKiBhMzA7XG4gIG91dFs5XSA9IGIwICogYTAxICsgYjEgKiBhMTEgKyBiMiAqIGEyMSArIGIzICogYTMxO1xuICBvdXRbMTBdID0gYjAgKiBhMDIgKyBiMSAqIGExMiArIGIyICogYTIyICsgYjMgKiBhMzI7XG4gIG91dFsxMV0gPSBiMCAqIGEwMyArIGIxICogYTEzICsgYjIgKiBhMjMgKyBiMyAqIGEzMztcbiAgYjAgPSBiWzEyXTtcbiAgYjEgPSBiWzEzXTtcbiAgYjIgPSBiWzE0XTtcbiAgYjMgPSBiWzE1XTtcbiAgb3V0WzEyXSA9IGIwICogYTAwICsgYjEgKiBhMTAgKyBiMiAqIGEyMCArIGIzICogYTMwO1xuICBvdXRbMTNdID0gYjAgKiBhMDEgKyBiMSAqIGExMSArIGIyICogYTIxICsgYjMgKiBhMzE7XG4gIG91dFsxNF0gPSBiMCAqIGEwMiArIGIxICogYTEyICsgYjIgKiBhMjIgKyBiMyAqIGEzMjtcbiAgb3V0WzE1XSA9IGIwICogYTAzICsgYjEgKiBhMTMgKyBiMiAqIGEyMyArIGIzICogYTMzO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBUcmFuc2xhdGUgYSBtYXQ0IGJ5IHRoZSBnaXZlbiB2ZWN0b3JcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIG1hdHJpeCB0byB0cmFuc2xhdGVcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB2IHZlY3RvciB0byB0cmFuc2xhdGUgYnlcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNsYXRlKG91dCwgYSwgdikge1xuICB2YXIgeCA9IHZbMF0sXG4gICAgICB5ID0gdlsxXSxcbiAgICAgIHogPSB2WzJdO1xuICB2YXIgYTAwLCBhMDEsIGEwMiwgYTAzO1xuICB2YXIgYTEwLCBhMTEsIGExMiwgYTEzO1xuICB2YXIgYTIwLCBhMjEsIGEyMiwgYTIzO1xuXG4gIGlmIChhID09PSBvdXQpIHtcbiAgICBvdXRbMTJdID0gYVswXSAqIHggKyBhWzRdICogeSArIGFbOF0gKiB6ICsgYVsxMl07XG4gICAgb3V0WzEzXSA9IGFbMV0gKiB4ICsgYVs1XSAqIHkgKyBhWzldICogeiArIGFbMTNdO1xuICAgIG91dFsxNF0gPSBhWzJdICogeCArIGFbNl0gKiB5ICsgYVsxMF0gKiB6ICsgYVsxNF07XG4gICAgb3V0WzE1XSA9IGFbM10gKiB4ICsgYVs3XSAqIHkgKyBhWzExXSAqIHogKyBhWzE1XTtcbiAgfSBlbHNlIHtcbiAgICBhMDAgPSBhWzBdO1xuICAgIGEwMSA9IGFbMV07XG4gICAgYTAyID0gYVsyXTtcbiAgICBhMDMgPSBhWzNdO1xuICAgIGExMCA9IGFbNF07XG4gICAgYTExID0gYVs1XTtcbiAgICBhMTIgPSBhWzZdO1xuICAgIGExMyA9IGFbN107XG4gICAgYTIwID0gYVs4XTtcbiAgICBhMjEgPSBhWzldO1xuICAgIGEyMiA9IGFbMTBdO1xuICAgIGEyMyA9IGFbMTFdO1xuICAgIG91dFswXSA9IGEwMDtcbiAgICBvdXRbMV0gPSBhMDE7XG4gICAgb3V0WzJdID0gYTAyO1xuICAgIG91dFszXSA9IGEwMztcbiAgICBvdXRbNF0gPSBhMTA7XG4gICAgb3V0WzVdID0gYTExO1xuICAgIG91dFs2XSA9IGExMjtcbiAgICBvdXRbN10gPSBhMTM7XG4gICAgb3V0WzhdID0gYTIwO1xuICAgIG91dFs5XSA9IGEyMTtcbiAgICBvdXRbMTBdID0gYTIyO1xuICAgIG91dFsxMV0gPSBhMjM7XG4gICAgb3V0WzEyXSA9IGEwMCAqIHggKyBhMTAgKiB5ICsgYTIwICogeiArIGFbMTJdO1xuICAgIG91dFsxM10gPSBhMDEgKiB4ICsgYTExICogeSArIGEyMSAqIHogKyBhWzEzXTtcbiAgICBvdXRbMTRdID0gYTAyICogeCArIGExMiAqIHkgKyBhMjIgKiB6ICsgYVsxNF07XG4gICAgb3V0WzE1XSA9IGEwMyAqIHggKyBhMTMgKiB5ICsgYTIzICogeiArIGFbMTVdO1xuICB9XG5cbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogU2NhbGVzIHRoZSBtYXQ0IGJ5IHRoZSBkaW1lbnNpb25zIGluIHRoZSBnaXZlbiB2ZWMzIG5vdCB1c2luZyB2ZWN0b3JpemF0aW9uXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBtYXRyaXggdG8gc2NhbGVcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB2IHRoZSB2ZWMzIHRvIHNjYWxlIHRoZSBtYXRyaXggYnlcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNjYWxlKG91dCwgYSwgdikge1xuICB2YXIgeCA9IHZbMF0sXG4gICAgICB5ID0gdlsxXSxcbiAgICAgIHogPSB2WzJdO1xuICBvdXRbMF0gPSBhWzBdICogeDtcbiAgb3V0WzFdID0gYVsxXSAqIHg7XG4gIG91dFsyXSA9IGFbMl0gKiB4O1xuICBvdXRbM10gPSBhWzNdICogeDtcbiAgb3V0WzRdID0gYVs0XSAqIHk7XG4gIG91dFs1XSA9IGFbNV0gKiB5O1xuICBvdXRbNl0gPSBhWzZdICogeTtcbiAgb3V0WzddID0gYVs3XSAqIHk7XG4gIG91dFs4XSA9IGFbOF0gKiB6O1xuICBvdXRbOV0gPSBhWzldICogejtcbiAgb3V0WzEwXSA9IGFbMTBdICogejtcbiAgb3V0WzExXSA9IGFbMTFdICogejtcbiAgb3V0WzEyXSA9IGFbMTJdO1xuICBvdXRbMTNdID0gYVsxM107XG4gIG91dFsxNF0gPSBhWzE0XTtcbiAgb3V0WzE1XSA9IGFbMTVdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSb3RhdGVzIGEgbWF0NCBieSB0aGUgZ2l2ZW4gYW5nbGUgYXJvdW5kIHRoZSBnaXZlbiBheGlzXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBtYXRyaXggdG8gcm90YXRlXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIHRoZSBhbmdsZSB0byByb3RhdGUgdGhlIG1hdHJpeCBieVxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGF4aXMgdGhlIGF4aXMgdG8gcm90YXRlIGFyb3VuZFxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGUob3V0LCBhLCByYWQsIGF4aXMpIHtcbiAgdmFyIHggPSBheGlzWzBdLFxuICAgICAgeSA9IGF4aXNbMV0sXG4gICAgICB6ID0gYXhpc1syXTtcbiAgdmFyIGxlbiA9IE1hdGguaHlwb3QoeCwgeSwgeik7XG4gIHZhciBzLCBjLCB0O1xuICB2YXIgYTAwLCBhMDEsIGEwMiwgYTAzO1xuICB2YXIgYTEwLCBhMTEsIGExMiwgYTEzO1xuICB2YXIgYTIwLCBhMjEsIGEyMiwgYTIzO1xuICB2YXIgYjAwLCBiMDEsIGIwMjtcbiAgdmFyIGIxMCwgYjExLCBiMTI7XG4gIHZhciBiMjAsIGIyMSwgYjIyO1xuXG4gIGlmIChsZW4gPCBnbE1hdHJpeC5FUFNJTE9OKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBsZW4gPSAxIC8gbGVuO1xuICB4ICo9IGxlbjtcbiAgeSAqPSBsZW47XG4gIHogKj0gbGVuO1xuICBzID0gTWF0aC5zaW4ocmFkKTtcbiAgYyA9IE1hdGguY29zKHJhZCk7XG4gIHQgPSAxIC0gYztcbiAgYTAwID0gYVswXTtcbiAgYTAxID0gYVsxXTtcbiAgYTAyID0gYVsyXTtcbiAgYTAzID0gYVszXTtcbiAgYTEwID0gYVs0XTtcbiAgYTExID0gYVs1XTtcbiAgYTEyID0gYVs2XTtcbiAgYTEzID0gYVs3XTtcbiAgYTIwID0gYVs4XTtcbiAgYTIxID0gYVs5XTtcbiAgYTIyID0gYVsxMF07XG4gIGEyMyA9IGFbMTFdOyAvLyBDb25zdHJ1Y3QgdGhlIGVsZW1lbnRzIG9mIHRoZSByb3RhdGlvbiBtYXRyaXhcblxuICBiMDAgPSB4ICogeCAqIHQgKyBjO1xuICBiMDEgPSB5ICogeCAqIHQgKyB6ICogcztcbiAgYjAyID0geiAqIHggKiB0IC0geSAqIHM7XG4gIGIxMCA9IHggKiB5ICogdCAtIHogKiBzO1xuICBiMTEgPSB5ICogeSAqIHQgKyBjO1xuICBiMTIgPSB6ICogeSAqIHQgKyB4ICogcztcbiAgYjIwID0geCAqIHogKiB0ICsgeSAqIHM7XG4gIGIyMSA9IHkgKiB6ICogdCAtIHggKiBzO1xuICBiMjIgPSB6ICogeiAqIHQgKyBjOyAvLyBQZXJmb3JtIHJvdGF0aW9uLXNwZWNpZmljIG1hdHJpeCBtdWx0aXBsaWNhdGlvblxuXG4gIG91dFswXSA9IGEwMCAqIGIwMCArIGExMCAqIGIwMSArIGEyMCAqIGIwMjtcbiAgb3V0WzFdID0gYTAxICogYjAwICsgYTExICogYjAxICsgYTIxICogYjAyO1xuICBvdXRbMl0gPSBhMDIgKiBiMDAgKyBhMTIgKiBiMDEgKyBhMjIgKiBiMDI7XG4gIG91dFszXSA9IGEwMyAqIGIwMCArIGExMyAqIGIwMSArIGEyMyAqIGIwMjtcbiAgb3V0WzRdID0gYTAwICogYjEwICsgYTEwICogYjExICsgYTIwICogYjEyO1xuICBvdXRbNV0gPSBhMDEgKiBiMTAgKyBhMTEgKiBiMTEgKyBhMjEgKiBiMTI7XG4gIG91dFs2XSA9IGEwMiAqIGIxMCArIGExMiAqIGIxMSArIGEyMiAqIGIxMjtcbiAgb3V0WzddID0gYTAzICogYjEwICsgYTEzICogYjExICsgYTIzICogYjEyO1xuICBvdXRbOF0gPSBhMDAgKiBiMjAgKyBhMTAgKiBiMjEgKyBhMjAgKiBiMjI7XG4gIG91dFs5XSA9IGEwMSAqIGIyMCArIGExMSAqIGIyMSArIGEyMSAqIGIyMjtcbiAgb3V0WzEwXSA9IGEwMiAqIGIyMCArIGExMiAqIGIyMSArIGEyMiAqIGIyMjtcbiAgb3V0WzExXSA9IGEwMyAqIGIyMCArIGExMyAqIGIyMSArIGEyMyAqIGIyMjtcblxuICBpZiAoYSAhPT0gb3V0KSB7XG4gICAgLy8gSWYgdGhlIHNvdXJjZSBhbmQgZGVzdGluYXRpb24gZGlmZmVyLCBjb3B5IHRoZSB1bmNoYW5nZWQgbGFzdCByb3dcbiAgICBvdXRbMTJdID0gYVsxMl07XG4gICAgb3V0WzEzXSA9IGFbMTNdO1xuICAgIG91dFsxNF0gPSBhWzE0XTtcbiAgICBvdXRbMTVdID0gYVsxNV07XG4gIH1cblxuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSb3RhdGVzIGEgbWF0cml4IGJ5IHRoZSBnaXZlbiBhbmdsZSBhcm91bmQgdGhlIFggYXhpc1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgbWF0cml4IHRvIHJvdGF0ZVxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlWChvdXQsIGEsIHJhZCkge1xuICB2YXIgcyA9IE1hdGguc2luKHJhZCk7XG4gIHZhciBjID0gTWF0aC5jb3MocmFkKTtcbiAgdmFyIGExMCA9IGFbNF07XG4gIHZhciBhMTEgPSBhWzVdO1xuICB2YXIgYTEyID0gYVs2XTtcbiAgdmFyIGExMyA9IGFbN107XG4gIHZhciBhMjAgPSBhWzhdO1xuICB2YXIgYTIxID0gYVs5XTtcbiAgdmFyIGEyMiA9IGFbMTBdO1xuICB2YXIgYTIzID0gYVsxMV07XG5cbiAgaWYgKGEgIT09IG91dCkge1xuICAgIC8vIElmIHRoZSBzb3VyY2UgYW5kIGRlc3RpbmF0aW9uIGRpZmZlciwgY29weSB0aGUgdW5jaGFuZ2VkIHJvd3NcbiAgICBvdXRbMF0gPSBhWzBdO1xuICAgIG91dFsxXSA9IGFbMV07XG4gICAgb3V0WzJdID0gYVsyXTtcbiAgICBvdXRbM10gPSBhWzNdO1xuICAgIG91dFsxMl0gPSBhWzEyXTtcbiAgICBvdXRbMTNdID0gYVsxM107XG4gICAgb3V0WzE0XSA9IGFbMTRdO1xuICAgIG91dFsxNV0gPSBhWzE1XTtcbiAgfSAvLyBQZXJmb3JtIGF4aXMtc3BlY2lmaWMgbWF0cml4IG11bHRpcGxpY2F0aW9uXG5cblxuICBvdXRbNF0gPSBhMTAgKiBjICsgYTIwICogcztcbiAgb3V0WzVdID0gYTExICogYyArIGEyMSAqIHM7XG4gIG91dFs2XSA9IGExMiAqIGMgKyBhMjIgKiBzO1xuICBvdXRbN10gPSBhMTMgKiBjICsgYTIzICogcztcbiAgb3V0WzhdID0gYTIwICogYyAtIGExMCAqIHM7XG4gIG91dFs5XSA9IGEyMSAqIGMgLSBhMTEgKiBzO1xuICBvdXRbMTBdID0gYTIyICogYyAtIGExMiAqIHM7XG4gIG91dFsxMV0gPSBhMjMgKiBjIC0gYTEzICogcztcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUm90YXRlcyBhIG1hdHJpeCBieSB0aGUgZ2l2ZW4gYW5nbGUgYXJvdW5kIHRoZSBZIGF4aXNcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIG1hdHJpeCB0byByb3RhdGVcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgdGhlIGFuZ2xlIHRvIHJvdGF0ZSB0aGUgbWF0cml4IGJ5XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZVkob3V0LCBhLCByYWQpIHtcbiAgdmFyIHMgPSBNYXRoLnNpbihyYWQpO1xuICB2YXIgYyA9IE1hdGguY29zKHJhZCk7XG4gIHZhciBhMDAgPSBhWzBdO1xuICB2YXIgYTAxID0gYVsxXTtcbiAgdmFyIGEwMiA9IGFbMl07XG4gIHZhciBhMDMgPSBhWzNdO1xuICB2YXIgYTIwID0gYVs4XTtcbiAgdmFyIGEyMSA9IGFbOV07XG4gIHZhciBhMjIgPSBhWzEwXTtcbiAgdmFyIGEyMyA9IGFbMTFdO1xuXG4gIGlmIChhICE9PSBvdXQpIHtcbiAgICAvLyBJZiB0aGUgc291cmNlIGFuZCBkZXN0aW5hdGlvbiBkaWZmZXIsIGNvcHkgdGhlIHVuY2hhbmdlZCByb3dzXG4gICAgb3V0WzRdID0gYVs0XTtcbiAgICBvdXRbNV0gPSBhWzVdO1xuICAgIG91dFs2XSA9IGFbNl07XG4gICAgb3V0WzddID0gYVs3XTtcbiAgICBvdXRbMTJdID0gYVsxMl07XG4gICAgb3V0WzEzXSA9IGFbMTNdO1xuICAgIG91dFsxNF0gPSBhWzE0XTtcbiAgICBvdXRbMTVdID0gYVsxNV07XG4gIH0gLy8gUGVyZm9ybSBheGlzLXNwZWNpZmljIG1hdHJpeCBtdWx0aXBsaWNhdGlvblxuXG5cbiAgb3V0WzBdID0gYTAwICogYyAtIGEyMCAqIHM7XG4gIG91dFsxXSA9IGEwMSAqIGMgLSBhMjEgKiBzO1xuICBvdXRbMl0gPSBhMDIgKiBjIC0gYTIyICogcztcbiAgb3V0WzNdID0gYTAzICogYyAtIGEyMyAqIHM7XG4gIG91dFs4XSA9IGEwMCAqIHMgKyBhMjAgKiBjO1xuICBvdXRbOV0gPSBhMDEgKiBzICsgYTIxICogYztcbiAgb3V0WzEwXSA9IGEwMiAqIHMgKyBhMjIgKiBjO1xuICBvdXRbMTFdID0gYTAzICogcyArIGEyMyAqIGM7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJvdGF0ZXMgYSBtYXRyaXggYnkgdGhlIGdpdmVuIGFuZ2xlIGFyb3VuZCB0aGUgWiBheGlzXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBtYXRyaXggdG8gcm90YXRlXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIHRoZSBhbmdsZSB0byByb3RhdGUgdGhlIG1hdHJpeCBieVxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVaKG91dCwgYSwgcmFkKSB7XG4gIHZhciBzID0gTWF0aC5zaW4ocmFkKTtcbiAgdmFyIGMgPSBNYXRoLmNvcyhyYWQpO1xuICB2YXIgYTAwID0gYVswXTtcbiAgdmFyIGEwMSA9IGFbMV07XG4gIHZhciBhMDIgPSBhWzJdO1xuICB2YXIgYTAzID0gYVszXTtcbiAgdmFyIGExMCA9IGFbNF07XG4gIHZhciBhMTEgPSBhWzVdO1xuICB2YXIgYTEyID0gYVs2XTtcbiAgdmFyIGExMyA9IGFbN107XG5cbiAgaWYgKGEgIT09IG91dCkge1xuICAgIC8vIElmIHRoZSBzb3VyY2UgYW5kIGRlc3RpbmF0aW9uIGRpZmZlciwgY29weSB0aGUgdW5jaGFuZ2VkIGxhc3Qgcm93XG4gICAgb3V0WzhdID0gYVs4XTtcbiAgICBvdXRbOV0gPSBhWzldO1xuICAgIG91dFsxMF0gPSBhWzEwXTtcbiAgICBvdXRbMTFdID0gYVsxMV07XG4gICAgb3V0WzEyXSA9IGFbMTJdO1xuICAgIG91dFsxM10gPSBhWzEzXTtcbiAgICBvdXRbMTRdID0gYVsxNF07XG4gICAgb3V0WzE1XSA9IGFbMTVdO1xuICB9IC8vIFBlcmZvcm0gYXhpcy1zcGVjaWZpYyBtYXRyaXggbXVsdGlwbGljYXRpb25cblxuXG4gIG91dFswXSA9IGEwMCAqIGMgKyBhMTAgKiBzO1xuICBvdXRbMV0gPSBhMDEgKiBjICsgYTExICogcztcbiAgb3V0WzJdID0gYTAyICogYyArIGExMiAqIHM7XG4gIG91dFszXSA9IGEwMyAqIGMgKyBhMTMgKiBzO1xuICBvdXRbNF0gPSBhMTAgKiBjIC0gYTAwICogcztcbiAgb3V0WzVdID0gYTExICogYyAtIGEwMSAqIHM7XG4gIG91dFs2XSA9IGExMiAqIGMgLSBhMDIgKiBzO1xuICBvdXRbN10gPSBhMTMgKiBjIC0gYTAzICogcztcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIGEgdmVjdG9yIHRyYW5zbGF0aW9uXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcbiAqXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcbiAqICAgICBtYXQ0LnRyYW5zbGF0ZShkZXN0LCBkZXN0LCB2ZWMpO1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB2IFRyYW5zbGF0aW9uIHZlY3RvclxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tVHJhbnNsYXRpb24ob3V0LCB2KSB7XG4gIG91dFswXSA9IDE7XG4gIG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IDA7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IDA7XG4gIG91dFs1XSA9IDE7XG4gIG91dFs2XSA9IDA7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IDA7XG4gIG91dFs5XSA9IDA7XG4gIG91dFsxMF0gPSAxO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IHZbMF07XG4gIG91dFsxM10gPSB2WzFdO1xuICBvdXRbMTRdID0gdlsyXTtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSBhIHZlY3RvciBzY2FsaW5nXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcbiAqXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcbiAqICAgICBtYXQ0LnNjYWxlKGRlc3QsIGRlc3QsIHZlYyk7XG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHYgU2NhbGluZyB2ZWN0b3JcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVNjYWxpbmcob3V0LCB2KSB7XG4gIG91dFswXSA9IHZbMF07XG4gIG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IDA7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IDA7XG4gIG91dFs1XSA9IHZbMV07XG4gIG91dFs2XSA9IDA7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IDA7XG4gIG91dFs5XSA9IDA7XG4gIG91dFsxMF0gPSB2WzJdO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IDA7XG4gIG91dFsxM10gPSAwO1xuICBvdXRbMTRdID0gMDtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSBhIGdpdmVuIGFuZ2xlIGFyb3VuZCBhIGdpdmVuIGF4aXNcbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxuICpcbiAqICAgICBtYXQ0LmlkZW50aXR5KGRlc3QpO1xuICogICAgIG1hdDQucm90YXRlKGRlc3QsIGRlc3QsIHJhZCwgYXhpcyk7XG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBheGlzIHRoZSBheGlzIHRvIHJvdGF0ZSBhcm91bmRcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVJvdGF0aW9uKG91dCwgcmFkLCBheGlzKSB7XG4gIHZhciB4ID0gYXhpc1swXSxcbiAgICAgIHkgPSBheGlzWzFdLFxuICAgICAgeiA9IGF4aXNbMl07XG4gIHZhciBsZW4gPSBNYXRoLmh5cG90KHgsIHksIHopO1xuICB2YXIgcywgYywgdDtcblxuICBpZiAobGVuIDwgZ2xNYXRyaXguRVBTSUxPTikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgbGVuID0gMSAvIGxlbjtcbiAgeCAqPSBsZW47XG4gIHkgKj0gbGVuO1xuICB6ICo9IGxlbjtcbiAgcyA9IE1hdGguc2luKHJhZCk7XG4gIGMgPSBNYXRoLmNvcyhyYWQpO1xuICB0ID0gMSAtIGM7IC8vIFBlcmZvcm0gcm90YXRpb24tc3BlY2lmaWMgbWF0cml4IG11bHRpcGxpY2F0aW9uXG5cbiAgb3V0WzBdID0geCAqIHggKiB0ICsgYztcbiAgb3V0WzFdID0geSAqIHggKiB0ICsgeiAqIHM7XG4gIG91dFsyXSA9IHogKiB4ICogdCAtIHkgKiBzO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSB4ICogeSAqIHQgLSB6ICogcztcbiAgb3V0WzVdID0geSAqIHkgKiB0ICsgYztcbiAgb3V0WzZdID0geiAqIHkgKiB0ICsgeCAqIHM7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IHggKiB6ICogdCArIHkgKiBzO1xuICBvdXRbOV0gPSB5ICogeiAqIHQgLSB4ICogcztcbiAgb3V0WzEwXSA9IHogKiB6ICogdCArIGM7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gMDtcbiAgb3V0WzEzXSA9IDA7XG4gIG91dFsxNF0gPSAwO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIHRoZSBnaXZlbiBhbmdsZSBhcm91bmQgdGhlIFggYXhpc1xuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XG4gKlxuICogICAgIG1hdDQuaWRlbnRpdHkoZGVzdCk7XG4gKiAgICAgbWF0NC5yb3RhdGVYKGRlc3QsIGRlc3QsIHJhZCk7XG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVhSb3RhdGlvbihvdXQsIHJhZCkge1xuICB2YXIgcyA9IE1hdGguc2luKHJhZCk7XG4gIHZhciBjID0gTWF0aC5jb3MocmFkKTsgLy8gUGVyZm9ybSBheGlzLXNwZWNpZmljIG1hdHJpeCBtdWx0aXBsaWNhdGlvblxuXG4gIG91dFswXSA9IDE7XG4gIG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IDA7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IDA7XG4gIG91dFs1XSA9IGM7XG4gIG91dFs2XSA9IHM7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IDA7XG4gIG91dFs5XSA9IC1zO1xuICBvdXRbMTBdID0gYztcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSAwO1xuICBvdXRbMTNdID0gMDtcbiAgb3V0WzE0XSA9IDA7XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gdGhlIGdpdmVuIGFuZ2xlIGFyb3VuZCB0aGUgWSBheGlzXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcbiAqXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcbiAqICAgICBtYXQ0LnJvdGF0ZVkoZGVzdCwgZGVzdCwgcmFkKTtcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIHRoZSBhbmdsZSB0byByb3RhdGUgdGhlIG1hdHJpeCBieVxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tWVJvdGF0aW9uKG91dCwgcmFkKSB7XG4gIHZhciBzID0gTWF0aC5zaW4ocmFkKTtcbiAgdmFyIGMgPSBNYXRoLmNvcyhyYWQpOyAvLyBQZXJmb3JtIGF4aXMtc3BlY2lmaWMgbWF0cml4IG11bHRpcGxpY2F0aW9uXG5cbiAgb3V0WzBdID0gYztcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gLXM7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IDA7XG4gIG91dFs1XSA9IDE7XG4gIG91dFs2XSA9IDA7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IHM7XG4gIG91dFs5XSA9IDA7XG4gIG91dFsxMF0gPSBjO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IDA7XG4gIG91dFsxM10gPSAwO1xuICBvdXRbMTRdID0gMDtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSB0aGUgZ2l2ZW4gYW5nbGUgYXJvdW5kIHRoZSBaIGF4aXNcbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxuICpcbiAqICAgICBtYXQ0LmlkZW50aXR5KGRlc3QpO1xuICogICAgIG1hdDQucm90YXRlWihkZXN0LCBkZXN0LCByYWQpO1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgdGhlIGFuZ2xlIHRvIHJvdGF0ZSB0aGUgbWF0cml4IGJ5XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21aUm90YXRpb24ob3V0LCByYWQpIHtcbiAgdmFyIHMgPSBNYXRoLnNpbihyYWQpO1xuICB2YXIgYyA9IE1hdGguY29zKHJhZCk7IC8vIFBlcmZvcm0gYXhpcy1zcGVjaWZpYyBtYXRyaXggbXVsdGlwbGljYXRpb25cblxuICBvdXRbMF0gPSBjO1xuICBvdXRbMV0gPSBzO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAtcztcbiAgb3V0WzVdID0gYztcbiAgb3V0WzZdID0gMDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gMDtcbiAgb3V0WzldID0gMDtcbiAgb3V0WzEwXSA9IDE7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gMDtcbiAgb3V0WzEzXSA9IDA7XG4gIG91dFsxNF0gPSAwO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIGEgcXVhdGVybmlvbiByb3RhdGlvbiBhbmQgdmVjdG9yIHRyYW5zbGF0aW9uXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcbiAqXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcbiAqICAgICBtYXQ0LnRyYW5zbGF0ZShkZXN0LCB2ZWMpO1xuICogICAgIGxldCBxdWF0TWF0ID0gbWF0NC5jcmVhdGUoKTtcbiAqICAgICBxdWF0NC50b01hdDQocXVhdCwgcXVhdE1hdCk7XG4gKiAgICAgbWF0NC5tdWx0aXBseShkZXN0LCBxdWF0TWF0KTtcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKiBAcGFyYW0ge3F1YXQ0fSBxIFJvdGF0aW9uIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB2IFRyYW5zbGF0aW9uIHZlY3RvclxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tUm90YXRpb25UcmFuc2xhdGlvbihvdXQsIHEsIHYpIHtcbiAgLy8gUXVhdGVybmlvbiBtYXRoXG4gIHZhciB4ID0gcVswXSxcbiAgICAgIHkgPSBxWzFdLFxuICAgICAgeiA9IHFbMl0sXG4gICAgICB3ID0gcVszXTtcbiAgdmFyIHgyID0geCArIHg7XG4gIHZhciB5MiA9IHkgKyB5O1xuICB2YXIgejIgPSB6ICsgejtcbiAgdmFyIHh4ID0geCAqIHgyO1xuICB2YXIgeHkgPSB4ICogeTI7XG4gIHZhciB4eiA9IHggKiB6MjtcbiAgdmFyIHl5ID0geSAqIHkyO1xuICB2YXIgeXogPSB5ICogejI7XG4gIHZhciB6eiA9IHogKiB6MjtcbiAgdmFyIHd4ID0gdyAqIHgyO1xuICB2YXIgd3kgPSB3ICogeTI7XG4gIHZhciB3eiA9IHcgKiB6MjtcbiAgb3V0WzBdID0gMSAtICh5eSArIHp6KTtcbiAgb3V0WzFdID0geHkgKyB3ejtcbiAgb3V0WzJdID0geHogLSB3eTtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0geHkgLSB3ejtcbiAgb3V0WzVdID0gMSAtICh4eCArIHp6KTtcbiAgb3V0WzZdID0geXogKyB3eDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0geHogKyB3eTtcbiAgb3V0WzldID0geXogLSB3eDtcbiAgb3V0WzEwXSA9IDEgLSAoeHggKyB5eSk7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gdlswXTtcbiAgb3V0WzEzXSA9IHZbMV07XG4gIG91dFsxNF0gPSB2WzJdO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBtYXQ0IGZyb20gYSBkdWFsIHF1YXQuXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgTWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdDJ9IGEgRHVhbCBRdWF0ZXJuaW9uXG4gKiBAcmV0dXJucyB7bWF0NH0gbWF0NCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tUXVhdDIob3V0LCBhKSB7XG4gIHZhciB0cmFuc2xhdGlvbiA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDMpO1xuICB2YXIgYnggPSAtYVswXSxcbiAgICAgIGJ5ID0gLWFbMV0sXG4gICAgICBieiA9IC1hWzJdLFxuICAgICAgYncgPSBhWzNdLFxuICAgICAgYXggPSBhWzRdLFxuICAgICAgYXkgPSBhWzVdLFxuICAgICAgYXogPSBhWzZdLFxuICAgICAgYXcgPSBhWzddO1xuICB2YXIgbWFnbml0dWRlID0gYnggKiBieCArIGJ5ICogYnkgKyBieiAqIGJ6ICsgYncgKiBidzsgLy9Pbmx5IHNjYWxlIGlmIGl0IG1ha2VzIHNlbnNlXG5cbiAgaWYgKG1hZ25pdHVkZSA+IDApIHtcbiAgICB0cmFuc2xhdGlvblswXSA9IChheCAqIGJ3ICsgYXcgKiBieCArIGF5ICogYnogLSBheiAqIGJ5KSAqIDIgLyBtYWduaXR1ZGU7XG4gICAgdHJhbnNsYXRpb25bMV0gPSAoYXkgKiBidyArIGF3ICogYnkgKyBheiAqIGJ4IC0gYXggKiBieikgKiAyIC8gbWFnbml0dWRlO1xuICAgIHRyYW5zbGF0aW9uWzJdID0gKGF6ICogYncgKyBhdyAqIGJ6ICsgYXggKiBieSAtIGF5ICogYngpICogMiAvIG1hZ25pdHVkZTtcbiAgfSBlbHNlIHtcbiAgICB0cmFuc2xhdGlvblswXSA9IChheCAqIGJ3ICsgYXcgKiBieCArIGF5ICogYnogLSBheiAqIGJ5KSAqIDI7XG4gICAgdHJhbnNsYXRpb25bMV0gPSAoYXkgKiBidyArIGF3ICogYnkgKyBheiAqIGJ4IC0gYXggKiBieikgKiAyO1xuICAgIHRyYW5zbGF0aW9uWzJdID0gKGF6ICogYncgKyBhdyAqIGJ6ICsgYXggKiBieSAtIGF5ICogYngpICogMjtcbiAgfVxuXG4gIGZyb21Sb3RhdGlvblRyYW5zbGF0aW9uKG91dCwgYSwgdHJhbnNsYXRpb24pO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSB0cmFuc2xhdGlvbiB2ZWN0b3IgY29tcG9uZW50IG9mIGEgdHJhbnNmb3JtYXRpb25cbiAqICBtYXRyaXguIElmIGEgbWF0cml4IGlzIGJ1aWx0IHdpdGggZnJvbVJvdGF0aW9uVHJhbnNsYXRpb24sXG4gKiAgdGhlIHJldHVybmVkIHZlY3RvciB3aWxsIGJlIHRoZSBzYW1lIGFzIHRoZSB0cmFuc2xhdGlvbiB2ZWN0b3JcbiAqICBvcmlnaW5hbGx5IHN1cHBsaWVkLlxuICogQHBhcmFtICB7dmVjM30gb3V0IFZlY3RvciB0byByZWNlaXZlIHRyYW5zbGF0aW9uIGNvbXBvbmVudFxuICogQHBhcmFtICB7UmVhZG9ubHlNYXQ0fSBtYXQgTWF0cml4IHRvIGJlIGRlY29tcG9zZWQgKGlucHV0KVxuICogQHJldHVybiB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFRyYW5zbGF0aW9uKG91dCwgbWF0KSB7XG4gIG91dFswXSA9IG1hdFsxMl07XG4gIG91dFsxXSA9IG1hdFsxM107XG4gIG91dFsyXSA9IG1hdFsxNF07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIHNjYWxpbmcgZmFjdG9yIGNvbXBvbmVudCBvZiBhIHRyYW5zZm9ybWF0aW9uXG4gKiAgbWF0cml4LiBJZiBhIG1hdHJpeCBpcyBidWlsdCB3aXRoIGZyb21Sb3RhdGlvblRyYW5zbGF0aW9uU2NhbGVcbiAqICB3aXRoIGEgbm9ybWFsaXplZCBRdWF0ZXJuaW9uIHBhcmFtdGVyLCB0aGUgcmV0dXJuZWQgdmVjdG9yIHdpbGwgYmVcbiAqICB0aGUgc2FtZSBhcyB0aGUgc2NhbGluZyB2ZWN0b3JcbiAqICBvcmlnaW5hbGx5IHN1cHBsaWVkLlxuICogQHBhcmFtICB7dmVjM30gb3V0IFZlY3RvciB0byByZWNlaXZlIHNjYWxpbmcgZmFjdG9yIGNvbXBvbmVudFxuICogQHBhcmFtICB7UmVhZG9ubHlNYXQ0fSBtYXQgTWF0cml4IHRvIGJlIGRlY29tcG9zZWQgKGlucHV0KVxuICogQHJldHVybiB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFNjYWxpbmcob3V0LCBtYXQpIHtcbiAgdmFyIG0xMSA9IG1hdFswXTtcbiAgdmFyIG0xMiA9IG1hdFsxXTtcbiAgdmFyIG0xMyA9IG1hdFsyXTtcbiAgdmFyIG0yMSA9IG1hdFs0XTtcbiAgdmFyIG0yMiA9IG1hdFs1XTtcbiAgdmFyIG0yMyA9IG1hdFs2XTtcbiAgdmFyIG0zMSA9IG1hdFs4XTtcbiAgdmFyIG0zMiA9IG1hdFs5XTtcbiAgdmFyIG0zMyA9IG1hdFsxMF07XG4gIG91dFswXSA9IE1hdGguaHlwb3QobTExLCBtMTIsIG0xMyk7XG4gIG91dFsxXSA9IE1hdGguaHlwb3QobTIxLCBtMjIsIG0yMyk7XG4gIG91dFsyXSA9IE1hdGguaHlwb3QobTMxLCBtMzIsIG0zMyk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJldHVybnMgYSBxdWF0ZXJuaW9uIHJlcHJlc2VudGluZyB0aGUgcm90YXRpb25hbCBjb21wb25lbnRcbiAqICBvZiBhIHRyYW5zZm9ybWF0aW9uIG1hdHJpeC4gSWYgYSBtYXRyaXggaXMgYnVpbHQgd2l0aFxuICogIGZyb21Sb3RhdGlvblRyYW5zbGF0aW9uLCB0aGUgcmV0dXJuZWQgcXVhdGVybmlvbiB3aWxsIGJlIHRoZVxuICogIHNhbWUgYXMgdGhlIHF1YXRlcm5pb24gb3JpZ2luYWxseSBzdXBwbGllZC5cbiAqIEBwYXJhbSB7cXVhdH0gb3V0IFF1YXRlcm5pb24gdG8gcmVjZWl2ZSB0aGUgcm90YXRpb24gY29tcG9uZW50XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gbWF0IE1hdHJpeCB0byBiZSBkZWNvbXBvc2VkIChpbnB1dClcbiAqIEByZXR1cm4ge3F1YXR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRSb3RhdGlvbihvdXQsIG1hdCkge1xuICB2YXIgc2NhbGluZyA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDMpO1xuICBnZXRTY2FsaW5nKHNjYWxpbmcsIG1hdCk7XG4gIHZhciBpczEgPSAxIC8gc2NhbGluZ1swXTtcbiAgdmFyIGlzMiA9IDEgLyBzY2FsaW5nWzFdO1xuICB2YXIgaXMzID0gMSAvIHNjYWxpbmdbMl07XG4gIHZhciBzbTExID0gbWF0WzBdICogaXMxO1xuICB2YXIgc20xMiA9IG1hdFsxXSAqIGlzMjtcbiAgdmFyIHNtMTMgPSBtYXRbMl0gKiBpczM7XG4gIHZhciBzbTIxID0gbWF0WzRdICogaXMxO1xuICB2YXIgc20yMiA9IG1hdFs1XSAqIGlzMjtcbiAgdmFyIHNtMjMgPSBtYXRbNl0gKiBpczM7XG4gIHZhciBzbTMxID0gbWF0WzhdICogaXMxO1xuICB2YXIgc20zMiA9IG1hdFs5XSAqIGlzMjtcbiAgdmFyIHNtMzMgPSBtYXRbMTBdICogaXMzO1xuICB2YXIgdHJhY2UgPSBzbTExICsgc20yMiArIHNtMzM7XG4gIHZhciBTID0gMDtcblxuICBpZiAodHJhY2UgPiAwKSB7XG4gICAgUyA9IE1hdGguc3FydCh0cmFjZSArIDEuMCkgKiAyO1xuICAgIG91dFszXSA9IDAuMjUgKiBTO1xuICAgIG91dFswXSA9IChzbTIzIC0gc20zMikgLyBTO1xuICAgIG91dFsxXSA9IChzbTMxIC0gc20xMykgLyBTO1xuICAgIG91dFsyXSA9IChzbTEyIC0gc20yMSkgLyBTO1xuICB9IGVsc2UgaWYgKHNtMTEgPiBzbTIyICYmIHNtMTEgPiBzbTMzKSB7XG4gICAgUyA9IE1hdGguc3FydCgxLjAgKyBzbTExIC0gc20yMiAtIHNtMzMpICogMjtcbiAgICBvdXRbM10gPSAoc20yMyAtIHNtMzIpIC8gUztcbiAgICBvdXRbMF0gPSAwLjI1ICogUztcbiAgICBvdXRbMV0gPSAoc20xMiArIHNtMjEpIC8gUztcbiAgICBvdXRbMl0gPSAoc20zMSArIHNtMTMpIC8gUztcbiAgfSBlbHNlIGlmIChzbTIyID4gc20zMykge1xuICAgIFMgPSBNYXRoLnNxcnQoMS4wICsgc20yMiAtIHNtMTEgLSBzbTMzKSAqIDI7XG4gICAgb3V0WzNdID0gKHNtMzEgLSBzbTEzKSAvIFM7XG4gICAgb3V0WzBdID0gKHNtMTIgKyBzbTIxKSAvIFM7XG4gICAgb3V0WzFdID0gMC4yNSAqIFM7XG4gICAgb3V0WzJdID0gKHNtMjMgKyBzbTMyKSAvIFM7XG4gIH0gZWxzZSB7XG4gICAgUyA9IE1hdGguc3FydCgxLjAgKyBzbTMzIC0gc20xMSAtIHNtMjIpICogMjtcbiAgICBvdXRbM10gPSAoc20xMiAtIHNtMjEpIC8gUztcbiAgICBvdXRbMF0gPSAoc20zMSArIHNtMTMpIC8gUztcbiAgICBvdXRbMV0gPSAoc20yMyArIHNtMzIpIC8gUztcbiAgICBvdXRbMl0gPSAwLjI1ICogUztcbiAgfVxuXG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSBhIHF1YXRlcm5pb24gcm90YXRpb24sIHZlY3RvciB0cmFuc2xhdGlvbiBhbmQgdmVjdG9yIHNjYWxlXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcbiAqXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcbiAqICAgICBtYXQ0LnRyYW5zbGF0ZShkZXN0LCB2ZWMpO1xuICogICAgIGxldCBxdWF0TWF0ID0gbWF0NC5jcmVhdGUoKTtcbiAqICAgICBxdWF0NC50b01hdDQocXVhdCwgcXVhdE1hdCk7XG4gKiAgICAgbWF0NC5tdWx0aXBseShkZXN0LCBxdWF0TWF0KTtcbiAqICAgICBtYXQ0LnNjYWxlKGRlc3QsIHNjYWxlKVxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7cXVhdDR9IHEgUm90YXRpb24gcXVhdGVybmlvblxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHYgVHJhbnNsYXRpb24gdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gcyBTY2FsaW5nIHZlY3RvclxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tUm90YXRpb25UcmFuc2xhdGlvblNjYWxlKG91dCwgcSwgdiwgcykge1xuICAvLyBRdWF0ZXJuaW9uIG1hdGhcbiAgdmFyIHggPSBxWzBdLFxuICAgICAgeSA9IHFbMV0sXG4gICAgICB6ID0gcVsyXSxcbiAgICAgIHcgPSBxWzNdO1xuICB2YXIgeDIgPSB4ICsgeDtcbiAgdmFyIHkyID0geSArIHk7XG4gIHZhciB6MiA9IHogKyB6O1xuICB2YXIgeHggPSB4ICogeDI7XG4gIHZhciB4eSA9IHggKiB5MjtcbiAgdmFyIHh6ID0geCAqIHoyO1xuICB2YXIgeXkgPSB5ICogeTI7XG4gIHZhciB5eiA9IHkgKiB6MjtcbiAgdmFyIHp6ID0geiAqIHoyO1xuICB2YXIgd3ggPSB3ICogeDI7XG4gIHZhciB3eSA9IHcgKiB5MjtcbiAgdmFyIHd6ID0gdyAqIHoyO1xuICB2YXIgc3ggPSBzWzBdO1xuICB2YXIgc3kgPSBzWzFdO1xuICB2YXIgc3ogPSBzWzJdO1xuICBvdXRbMF0gPSAoMSAtICh5eSArIHp6KSkgKiBzeDtcbiAgb3V0WzFdID0gKHh5ICsgd3opICogc3g7XG4gIG91dFsyXSA9ICh4eiAtIHd5KSAqIHN4O1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAoeHkgLSB3eikgKiBzeTtcbiAgb3V0WzVdID0gKDEgLSAoeHggKyB6eikpICogc3k7XG4gIG91dFs2XSA9ICh5eiArIHd4KSAqIHN5O1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSAoeHogKyB3eSkgKiBzejtcbiAgb3V0WzldID0gKHl6IC0gd3gpICogc3o7XG4gIG91dFsxMF0gPSAoMSAtICh4eCArIHl5KSkgKiBzejtcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSB2WzBdO1xuICBvdXRbMTNdID0gdlsxXTtcbiAgb3V0WzE0XSA9IHZbMl07XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gYSBxdWF0ZXJuaW9uIHJvdGF0aW9uLCB2ZWN0b3IgdHJhbnNsYXRpb24gYW5kIHZlY3RvciBzY2FsZSwgcm90YXRpbmcgYW5kIHNjYWxpbmcgYXJvdW5kIHRoZSBnaXZlbiBvcmlnaW5cbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxuICpcbiAqICAgICBtYXQ0LmlkZW50aXR5KGRlc3QpO1xuICogICAgIG1hdDQudHJhbnNsYXRlKGRlc3QsIHZlYyk7XG4gKiAgICAgbWF0NC50cmFuc2xhdGUoZGVzdCwgb3JpZ2luKTtcbiAqICAgICBsZXQgcXVhdE1hdCA9IG1hdDQuY3JlYXRlKCk7XG4gKiAgICAgcXVhdDQudG9NYXQ0KHF1YXQsIHF1YXRNYXQpO1xuICogICAgIG1hdDQubXVsdGlwbHkoZGVzdCwgcXVhdE1hdCk7XG4gKiAgICAgbWF0NC5zY2FsZShkZXN0LCBzY2FsZSlcbiAqICAgICBtYXQ0LnRyYW5zbGF0ZShkZXN0LCBuZWdhdGl2ZU9yaWdpbik7XG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQHBhcmFtIHtxdWF0NH0gcSBSb3RhdGlvbiBxdWF0ZXJuaW9uXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gdiBUcmFuc2xhdGlvbiB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBzIFNjYWxpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gbyBUaGUgb3JpZ2luIHZlY3RvciBhcm91bmQgd2hpY2ggdG8gc2NhbGUgYW5kIHJvdGF0ZVxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tUm90YXRpb25UcmFuc2xhdGlvblNjYWxlT3JpZ2luKG91dCwgcSwgdiwgcywgbykge1xuICAvLyBRdWF0ZXJuaW9uIG1hdGhcbiAgdmFyIHggPSBxWzBdLFxuICAgICAgeSA9IHFbMV0sXG4gICAgICB6ID0gcVsyXSxcbiAgICAgIHcgPSBxWzNdO1xuICB2YXIgeDIgPSB4ICsgeDtcbiAgdmFyIHkyID0geSArIHk7XG4gIHZhciB6MiA9IHogKyB6O1xuICB2YXIgeHggPSB4ICogeDI7XG4gIHZhciB4eSA9IHggKiB5MjtcbiAgdmFyIHh6ID0geCAqIHoyO1xuICB2YXIgeXkgPSB5ICogeTI7XG4gIHZhciB5eiA9IHkgKiB6MjtcbiAgdmFyIHp6ID0geiAqIHoyO1xuICB2YXIgd3ggPSB3ICogeDI7XG4gIHZhciB3eSA9IHcgKiB5MjtcbiAgdmFyIHd6ID0gdyAqIHoyO1xuICB2YXIgc3ggPSBzWzBdO1xuICB2YXIgc3kgPSBzWzFdO1xuICB2YXIgc3ogPSBzWzJdO1xuICB2YXIgb3ggPSBvWzBdO1xuICB2YXIgb3kgPSBvWzFdO1xuICB2YXIgb3ogPSBvWzJdO1xuICB2YXIgb3V0MCA9ICgxIC0gKHl5ICsgenopKSAqIHN4O1xuICB2YXIgb3V0MSA9ICh4eSArIHd6KSAqIHN4O1xuICB2YXIgb3V0MiA9ICh4eiAtIHd5KSAqIHN4O1xuICB2YXIgb3V0NCA9ICh4eSAtIHd6KSAqIHN5O1xuICB2YXIgb3V0NSA9ICgxIC0gKHh4ICsgenopKSAqIHN5O1xuICB2YXIgb3V0NiA9ICh5eiArIHd4KSAqIHN5O1xuICB2YXIgb3V0OCA9ICh4eiArIHd5KSAqIHN6O1xuICB2YXIgb3V0OSA9ICh5eiAtIHd4KSAqIHN6O1xuICB2YXIgb3V0MTAgPSAoMSAtICh4eCArIHl5KSkgKiBzejtcbiAgb3V0WzBdID0gb3V0MDtcbiAgb3V0WzFdID0gb3V0MTtcbiAgb3V0WzJdID0gb3V0MjtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gb3V0NDtcbiAgb3V0WzVdID0gb3V0NTtcbiAgb3V0WzZdID0gb3V0NjtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gb3V0ODtcbiAgb3V0WzldID0gb3V0OTtcbiAgb3V0WzEwXSA9IG91dDEwO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IHZbMF0gKyBveCAtIChvdXQwICogb3ggKyBvdXQ0ICogb3kgKyBvdXQ4ICogb3opO1xuICBvdXRbMTNdID0gdlsxXSArIG95IC0gKG91dDEgKiBveCArIG91dDUgKiBveSArIG91dDkgKiBveik7XG4gIG91dFsxNF0gPSB2WzJdICsgb3ogLSAob3V0MiAqIG94ICsgb3V0NiAqIG95ICsgb3V0MTAgKiBveik7XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIGEgNHg0IG1hdHJpeCBmcm9tIHRoZSBnaXZlbiBxdWF0ZXJuaW9uXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IHEgUXVhdGVybmlvbiB0byBjcmVhdGUgbWF0cml4IGZyb21cbiAqXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21RdWF0KG91dCwgcSkge1xuICB2YXIgeCA9IHFbMF0sXG4gICAgICB5ID0gcVsxXSxcbiAgICAgIHogPSBxWzJdLFxuICAgICAgdyA9IHFbM107XG4gIHZhciB4MiA9IHggKyB4O1xuICB2YXIgeTIgPSB5ICsgeTtcbiAgdmFyIHoyID0geiArIHo7XG4gIHZhciB4eCA9IHggKiB4MjtcbiAgdmFyIHl4ID0geSAqIHgyO1xuICB2YXIgeXkgPSB5ICogeTI7XG4gIHZhciB6eCA9IHogKiB4MjtcbiAgdmFyIHp5ID0geiAqIHkyO1xuICB2YXIgenogPSB6ICogejI7XG4gIHZhciB3eCA9IHcgKiB4MjtcbiAgdmFyIHd5ID0gdyAqIHkyO1xuICB2YXIgd3ogPSB3ICogejI7XG4gIG91dFswXSA9IDEgLSB5eSAtIHp6O1xuICBvdXRbMV0gPSB5eCArIHd6O1xuICBvdXRbMl0gPSB6eCAtIHd5O1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSB5eCAtIHd6O1xuICBvdXRbNV0gPSAxIC0geHggLSB6ejtcbiAgb3V0WzZdID0genkgKyB3eDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0genggKyB3eTtcbiAgb3V0WzldID0genkgLSB3eDtcbiAgb3V0WzEwXSA9IDEgLSB4eCAtIHl5O1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IDA7XG4gIG91dFsxM10gPSAwO1xuICBvdXRbMTRdID0gMDtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEdlbmVyYXRlcyBhIGZydXN0dW0gbWF0cml4IHdpdGggdGhlIGdpdmVuIGJvdW5kc1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgZnJ1c3R1bSBtYXRyaXggd2lsbCBiZSB3cml0dGVuIGludG9cbiAqIEBwYXJhbSB7TnVtYmVyfSBsZWZ0IExlZnQgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7TnVtYmVyfSByaWdodCBSaWdodCBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtOdW1iZXJ9IGJvdHRvbSBCb3R0b20gYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7TnVtYmVyfSB0b3AgVG9wIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge051bWJlcn0gbmVhciBOZWFyIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge051bWJlcn0gZmFyIEZhciBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcnVzdHVtKG91dCwgbGVmdCwgcmlnaHQsIGJvdHRvbSwgdG9wLCBuZWFyLCBmYXIpIHtcbiAgdmFyIHJsID0gMSAvIChyaWdodCAtIGxlZnQpO1xuICB2YXIgdGIgPSAxIC8gKHRvcCAtIGJvdHRvbSk7XG4gIHZhciBuZiA9IDEgLyAobmVhciAtIGZhcik7XG4gIG91dFswXSA9IG5lYXIgKiAyICogcmw7XG4gIG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IDA7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IDA7XG4gIG91dFs1XSA9IG5lYXIgKiAyICogdGI7XG4gIG91dFs2XSA9IDA7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IChyaWdodCArIGxlZnQpICogcmw7XG4gIG91dFs5XSA9ICh0b3AgKyBib3R0b20pICogdGI7XG4gIG91dFsxMF0gPSAoZmFyICsgbmVhcikgKiBuZjtcbiAgb3V0WzExXSA9IC0xO1xuICBvdXRbMTJdID0gMDtcbiAgb3V0WzEzXSA9IDA7XG4gIG91dFsxNF0gPSBmYXIgKiBuZWFyICogMiAqIG5mO1xuICBvdXRbMTVdID0gMDtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogR2VuZXJhdGVzIGEgcGVyc3BlY3RpdmUgcHJvamVjdGlvbiBtYXRyaXggd2l0aCB0aGUgZ2l2ZW4gYm91bmRzLlxuICogVGhlIG5lYXIvZmFyIGNsaXAgcGxhbmVzIGNvcnJlc3BvbmQgdG8gYSBub3JtYWxpemVkIGRldmljZSBjb29yZGluYXRlIFogcmFuZ2Ugb2YgWy0xLCAxXSxcbiAqIHdoaWNoIG1hdGNoZXMgV2ViR0wvT3BlbkdMJ3MgY2xpcCB2b2x1bWUuXG4gKiBQYXNzaW5nIG51bGwvdW5kZWZpbmVkL25vIHZhbHVlIGZvciBmYXIgd2lsbCBnZW5lcmF0ZSBpbmZpbml0ZSBwcm9qZWN0aW9uIG1hdHJpeC5cbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IGZydXN0dW0gbWF0cml4IHdpbGwgYmUgd3JpdHRlbiBpbnRvXG4gKiBAcGFyYW0ge251bWJlcn0gZm92eSBWZXJ0aWNhbCBmaWVsZCBvZiB2aWV3IGluIHJhZGlhbnNcbiAqIEBwYXJhbSB7bnVtYmVyfSBhc3BlY3QgQXNwZWN0IHJhdGlvLiB0eXBpY2FsbHkgdmlld3BvcnQgd2lkdGgvaGVpZ2h0XG4gKiBAcGFyYW0ge251bWJlcn0gbmVhciBOZWFyIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge251bWJlcn0gZmFyIEZhciBib3VuZCBvZiB0aGUgZnJ1c3R1bSwgY2FuIGJlIG51bGwgb3IgSW5maW5pdHlcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcGVyc3BlY3RpdmVOTyhvdXQsIGZvdnksIGFzcGVjdCwgbmVhciwgZmFyKSB7XG4gIHZhciBmID0gMS4wIC8gTWF0aC50YW4oZm92eSAvIDIpLFxuICAgICAgbmY7XG4gIG91dFswXSA9IGYgLyBhc3BlY3Q7XG4gIG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IDA7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IDA7XG4gIG91dFs1XSA9IGY7XG4gIG91dFs2XSA9IDA7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IDA7XG4gIG91dFs5XSA9IDA7XG4gIG91dFsxMV0gPSAtMTtcbiAgb3V0WzEyXSA9IDA7XG4gIG91dFsxM10gPSAwO1xuICBvdXRbMTVdID0gMDtcblxuICBpZiAoZmFyICE9IG51bGwgJiYgZmFyICE9PSBJbmZpbml0eSkge1xuICAgIG5mID0gMSAvIChuZWFyIC0gZmFyKTtcbiAgICBvdXRbMTBdID0gKGZhciArIG5lYXIpICogbmY7XG4gICAgb3V0WzE0XSA9IDIgKiBmYXIgKiBuZWFyICogbmY7XG4gIH0gZWxzZSB7XG4gICAgb3V0WzEwXSA9IC0xO1xuICAgIG91dFsxNF0gPSAtMiAqIG5lYXI7XG4gIH1cblxuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIG1hdDQucGVyc3BlY3RpdmVOT31cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgcGVyc3BlY3RpdmUgPSBwZXJzcGVjdGl2ZU5PO1xuLyoqXG4gKiBHZW5lcmF0ZXMgYSBwZXJzcGVjdGl2ZSBwcm9qZWN0aW9uIG1hdHJpeCBzdWl0YWJsZSBmb3IgV2ViR1BVIHdpdGggdGhlIGdpdmVuIGJvdW5kcy5cbiAqIFRoZSBuZWFyL2ZhciBjbGlwIHBsYW5lcyBjb3JyZXNwb25kIHRvIGEgbm9ybWFsaXplZCBkZXZpY2UgY29vcmRpbmF0ZSBaIHJhbmdlIG9mIFswLCAxXSxcbiAqIHdoaWNoIG1hdGNoZXMgV2ViR1BVL1Z1bGthbi9EaXJlY3RYL01ldGFsJ3MgY2xpcCB2b2x1bWUuXG4gKiBQYXNzaW5nIG51bGwvdW5kZWZpbmVkL25vIHZhbHVlIGZvciBmYXIgd2lsbCBnZW5lcmF0ZSBpbmZpbml0ZSBwcm9qZWN0aW9uIG1hdHJpeC5cbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IGZydXN0dW0gbWF0cml4IHdpbGwgYmUgd3JpdHRlbiBpbnRvXG4gKiBAcGFyYW0ge251bWJlcn0gZm92eSBWZXJ0aWNhbCBmaWVsZCBvZiB2aWV3IGluIHJhZGlhbnNcbiAqIEBwYXJhbSB7bnVtYmVyfSBhc3BlY3QgQXNwZWN0IHJhdGlvLiB0eXBpY2FsbHkgdmlld3BvcnQgd2lkdGgvaGVpZ2h0XG4gKiBAcGFyYW0ge251bWJlcn0gbmVhciBOZWFyIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge251bWJlcn0gZmFyIEZhciBib3VuZCBvZiB0aGUgZnJ1c3R1bSwgY2FuIGJlIG51bGwgb3IgSW5maW5pdHlcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcGVyc3BlY3RpdmVaTyhvdXQsIGZvdnksIGFzcGVjdCwgbmVhciwgZmFyKSB7XG4gIHZhciBmID0gMS4wIC8gTWF0aC50YW4oZm92eSAvIDIpLFxuICAgICAgbmY7XG4gIG91dFswXSA9IGYgLyBhc3BlY3Q7XG4gIG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IDA7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IDA7XG4gIG91dFs1XSA9IGY7XG4gIG91dFs2XSA9IDA7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IDA7XG4gIG91dFs5XSA9IDA7XG4gIG91dFsxMV0gPSAtMTtcbiAgb3V0WzEyXSA9IDA7XG4gIG91dFsxM10gPSAwO1xuICBvdXRbMTVdID0gMDtcblxuICBpZiAoZmFyICE9IG51bGwgJiYgZmFyICE9PSBJbmZpbml0eSkge1xuICAgIG5mID0gMSAvIChuZWFyIC0gZmFyKTtcbiAgICBvdXRbMTBdID0gZmFyICogbmY7XG4gICAgb3V0WzE0XSA9IGZhciAqIG5lYXIgKiBuZjtcbiAgfSBlbHNlIHtcbiAgICBvdXRbMTBdID0gLTE7XG4gICAgb3V0WzE0XSA9IC1uZWFyO1xuICB9XG5cbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogR2VuZXJhdGVzIGEgcGVyc3BlY3RpdmUgcHJvamVjdGlvbiBtYXRyaXggd2l0aCB0aGUgZ2l2ZW4gZmllbGQgb2Ygdmlldy5cbiAqIFRoaXMgaXMgcHJpbWFyaWx5IHVzZWZ1bCBmb3IgZ2VuZXJhdGluZyBwcm9qZWN0aW9uIG1hdHJpY2VzIHRvIGJlIHVzZWRcbiAqIHdpdGggdGhlIHN0aWxsIGV4cGVyaWVtZW50YWwgV2ViVlIgQVBJLlxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgZnJ1c3R1bSBtYXRyaXggd2lsbCBiZSB3cml0dGVuIGludG9cbiAqIEBwYXJhbSB7T2JqZWN0fSBmb3YgT2JqZWN0IGNvbnRhaW5pbmcgdGhlIGZvbGxvd2luZyB2YWx1ZXM6IHVwRGVncmVlcywgZG93bkRlZ3JlZXMsIGxlZnREZWdyZWVzLCByaWdodERlZ3JlZXNcbiAqIEBwYXJhbSB7bnVtYmVyfSBuZWFyIE5lYXIgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7bnVtYmVyfSBmYXIgRmFyIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHBlcnNwZWN0aXZlRnJvbUZpZWxkT2ZWaWV3KG91dCwgZm92LCBuZWFyLCBmYXIpIHtcbiAgdmFyIHVwVGFuID0gTWF0aC50YW4oZm92LnVwRGVncmVlcyAqIE1hdGguUEkgLyAxODAuMCk7XG4gIHZhciBkb3duVGFuID0gTWF0aC50YW4oZm92LmRvd25EZWdyZWVzICogTWF0aC5QSSAvIDE4MC4wKTtcbiAgdmFyIGxlZnRUYW4gPSBNYXRoLnRhbihmb3YubGVmdERlZ3JlZXMgKiBNYXRoLlBJIC8gMTgwLjApO1xuICB2YXIgcmlnaHRUYW4gPSBNYXRoLnRhbihmb3YucmlnaHREZWdyZWVzICogTWF0aC5QSSAvIDE4MC4wKTtcbiAgdmFyIHhTY2FsZSA9IDIuMCAvIChsZWZ0VGFuICsgcmlnaHRUYW4pO1xuICB2YXIgeVNjYWxlID0gMi4wIC8gKHVwVGFuICsgZG93blRhbik7XG4gIG91dFswXSA9IHhTY2FsZTtcbiAgb3V0WzFdID0gMC4wO1xuICBvdXRbMl0gPSAwLjA7XG4gIG91dFszXSA9IDAuMDtcbiAgb3V0WzRdID0gMC4wO1xuICBvdXRbNV0gPSB5U2NhbGU7XG4gIG91dFs2XSA9IDAuMDtcbiAgb3V0WzddID0gMC4wO1xuICBvdXRbOF0gPSAtKChsZWZ0VGFuIC0gcmlnaHRUYW4pICogeFNjYWxlICogMC41KTtcbiAgb3V0WzldID0gKHVwVGFuIC0gZG93blRhbikgKiB5U2NhbGUgKiAwLjU7XG4gIG91dFsxMF0gPSBmYXIgLyAobmVhciAtIGZhcik7XG4gIG91dFsxMV0gPSAtMS4wO1xuICBvdXRbMTJdID0gMC4wO1xuICBvdXRbMTNdID0gMC4wO1xuICBvdXRbMTRdID0gZmFyICogbmVhciAvIChuZWFyIC0gZmFyKTtcbiAgb3V0WzE1XSA9IDAuMDtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogR2VuZXJhdGVzIGEgb3J0aG9nb25hbCBwcm9qZWN0aW9uIG1hdHJpeCB3aXRoIHRoZSBnaXZlbiBib3VuZHMuXG4gKiBUaGUgbmVhci9mYXIgY2xpcCBwbGFuZXMgY29ycmVzcG9uZCB0byBhIG5vcm1hbGl6ZWQgZGV2aWNlIGNvb3JkaW5hdGUgWiByYW5nZSBvZiBbLTEsIDFdLFxuICogd2hpY2ggbWF0Y2hlcyBXZWJHTC9PcGVuR0wncyBjbGlwIHZvbHVtZS5cbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IGZydXN0dW0gbWF0cml4IHdpbGwgYmUgd3JpdHRlbiBpbnRvXG4gKiBAcGFyYW0ge251bWJlcn0gbGVmdCBMZWZ0IGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge251bWJlcn0gcmlnaHQgUmlnaHQgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7bnVtYmVyfSBib3R0b20gQm90dG9tIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge251bWJlcn0gdG9wIFRvcCBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtudW1iZXJ9IG5lYXIgTmVhciBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtudW1iZXJ9IGZhciBGYXIgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gb3J0aG9OTyhvdXQsIGxlZnQsIHJpZ2h0LCBib3R0b20sIHRvcCwgbmVhciwgZmFyKSB7XG4gIHZhciBsciA9IDEgLyAobGVmdCAtIHJpZ2h0KTtcbiAgdmFyIGJ0ID0gMSAvIChib3R0b20gLSB0b3ApO1xuICB2YXIgbmYgPSAxIC8gKG5lYXIgLSBmYXIpO1xuICBvdXRbMF0gPSAtMiAqIGxyO1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAwO1xuICBvdXRbNV0gPSAtMiAqIGJ0O1xuICBvdXRbNl0gPSAwO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSAwO1xuICBvdXRbOV0gPSAwO1xuICBvdXRbMTBdID0gMiAqIG5mO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IChsZWZ0ICsgcmlnaHQpICogbHI7XG4gIG91dFsxM10gPSAodG9wICsgYm90dG9tKSAqIGJ0O1xuICBvdXRbMTRdID0gKGZhciArIG5lYXIpICogbmY7XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIG1hdDQub3J0aG9OT31cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgb3J0aG8gPSBvcnRob05PO1xuLyoqXG4gKiBHZW5lcmF0ZXMgYSBvcnRob2dvbmFsIHByb2plY3Rpb24gbWF0cml4IHdpdGggdGhlIGdpdmVuIGJvdW5kcy5cbiAqIFRoZSBuZWFyL2ZhciBjbGlwIHBsYW5lcyBjb3JyZXNwb25kIHRvIGEgbm9ybWFsaXplZCBkZXZpY2UgY29vcmRpbmF0ZSBaIHJhbmdlIG9mIFswLCAxXSxcbiAqIHdoaWNoIG1hdGNoZXMgV2ViR1BVL1Z1bGthbi9EaXJlY3RYL01ldGFsJ3MgY2xpcCB2b2x1bWUuXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCBmcnVzdHVtIG1hdHJpeCB3aWxsIGJlIHdyaXR0ZW4gaW50b1xuICogQHBhcmFtIHtudW1iZXJ9IGxlZnQgTGVmdCBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtudW1iZXJ9IHJpZ2h0IFJpZ2h0IGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge251bWJlcn0gYm90dG9tIEJvdHRvbSBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtudW1iZXJ9IHRvcCBUb3AgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7bnVtYmVyfSBuZWFyIE5lYXIgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7bnVtYmVyfSBmYXIgRmFyIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG9ydGhvWk8ob3V0LCBsZWZ0LCByaWdodCwgYm90dG9tLCB0b3AsIG5lYXIsIGZhcikge1xuICB2YXIgbHIgPSAxIC8gKGxlZnQgLSByaWdodCk7XG4gIHZhciBidCA9IDEgLyAoYm90dG9tIC0gdG9wKTtcbiAgdmFyIG5mID0gMSAvIChuZWFyIC0gZmFyKTtcbiAgb3V0WzBdID0gLTIgKiBscjtcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gMDtcbiAgb3V0WzVdID0gLTIgKiBidDtcbiAgb3V0WzZdID0gMDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gMDtcbiAgb3V0WzldID0gMDtcbiAgb3V0WzEwXSA9IG5mO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IChsZWZ0ICsgcmlnaHQpICogbHI7XG4gIG91dFsxM10gPSAodG9wICsgYm90dG9tKSAqIGJ0O1xuICBvdXRbMTRdID0gbmVhciAqIG5mO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogR2VuZXJhdGVzIGEgbG9vay1hdCBtYXRyaXggd2l0aCB0aGUgZ2l2ZW4gZXllIHBvc2l0aW9uLCBmb2NhbCBwb2ludCwgYW5kIHVwIGF4aXMuXG4gKiBJZiB5b3Ugd2FudCBhIG1hdHJpeCB0aGF0IGFjdHVhbGx5IG1ha2VzIGFuIG9iamVjdCBsb29rIGF0IGFub3RoZXIgb2JqZWN0LCB5b3Ugc2hvdWxkIHVzZSB0YXJnZXRUbyBpbnN0ZWFkLlxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgZnJ1c3R1bSBtYXRyaXggd2lsbCBiZSB3cml0dGVuIGludG9cbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBleWUgUG9zaXRpb24gb2YgdGhlIHZpZXdlclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGNlbnRlciBQb2ludCB0aGUgdmlld2VyIGlzIGxvb2tpbmcgYXRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB1cCB2ZWMzIHBvaW50aW5nIHVwXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGxvb2tBdChvdXQsIGV5ZSwgY2VudGVyLCB1cCkge1xuICB2YXIgeDAsIHgxLCB4MiwgeTAsIHkxLCB5MiwgejAsIHoxLCB6MiwgbGVuO1xuICB2YXIgZXlleCA9IGV5ZVswXTtcbiAgdmFyIGV5ZXkgPSBleWVbMV07XG4gIHZhciBleWV6ID0gZXllWzJdO1xuICB2YXIgdXB4ID0gdXBbMF07XG4gIHZhciB1cHkgPSB1cFsxXTtcbiAgdmFyIHVweiA9IHVwWzJdO1xuICB2YXIgY2VudGVyeCA9IGNlbnRlclswXTtcbiAgdmFyIGNlbnRlcnkgPSBjZW50ZXJbMV07XG4gIHZhciBjZW50ZXJ6ID0gY2VudGVyWzJdO1xuXG4gIGlmIChNYXRoLmFicyhleWV4IC0gY2VudGVyeCkgPCBnbE1hdHJpeC5FUFNJTE9OICYmIE1hdGguYWJzKGV5ZXkgLSBjZW50ZXJ5KSA8IGdsTWF0cml4LkVQU0lMT04gJiYgTWF0aC5hYnMoZXlleiAtIGNlbnRlcnopIDwgZ2xNYXRyaXguRVBTSUxPTikge1xuICAgIHJldHVybiBpZGVudGl0eShvdXQpO1xuICB9XG5cbiAgejAgPSBleWV4IC0gY2VudGVyeDtcbiAgejEgPSBleWV5IC0gY2VudGVyeTtcbiAgejIgPSBleWV6IC0gY2VudGVyejtcbiAgbGVuID0gMSAvIE1hdGguaHlwb3QoejAsIHoxLCB6Mik7XG4gIHowICo9IGxlbjtcbiAgejEgKj0gbGVuO1xuICB6MiAqPSBsZW47XG4gIHgwID0gdXB5ICogejIgLSB1cHogKiB6MTtcbiAgeDEgPSB1cHogKiB6MCAtIHVweCAqIHoyO1xuICB4MiA9IHVweCAqIHoxIC0gdXB5ICogejA7XG4gIGxlbiA9IE1hdGguaHlwb3QoeDAsIHgxLCB4Mik7XG5cbiAgaWYgKCFsZW4pIHtcbiAgICB4MCA9IDA7XG4gICAgeDEgPSAwO1xuICAgIHgyID0gMDtcbiAgfSBlbHNlIHtcbiAgICBsZW4gPSAxIC8gbGVuO1xuICAgIHgwICo9IGxlbjtcbiAgICB4MSAqPSBsZW47XG4gICAgeDIgKj0gbGVuO1xuICB9XG5cbiAgeTAgPSB6MSAqIHgyIC0gejIgKiB4MTtcbiAgeTEgPSB6MiAqIHgwIC0gejAgKiB4MjtcbiAgeTIgPSB6MCAqIHgxIC0gejEgKiB4MDtcbiAgbGVuID0gTWF0aC5oeXBvdCh5MCwgeTEsIHkyKTtcblxuICBpZiAoIWxlbikge1xuICAgIHkwID0gMDtcbiAgICB5MSA9IDA7XG4gICAgeTIgPSAwO1xuICB9IGVsc2Uge1xuICAgIGxlbiA9IDEgLyBsZW47XG4gICAgeTAgKj0gbGVuO1xuICAgIHkxICo9IGxlbjtcbiAgICB5MiAqPSBsZW47XG4gIH1cblxuICBvdXRbMF0gPSB4MDtcbiAgb3V0WzFdID0geTA7XG4gIG91dFsyXSA9IHowO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSB4MTtcbiAgb3V0WzVdID0geTE7XG4gIG91dFs2XSA9IHoxO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSB4MjtcbiAgb3V0WzldID0geTI7XG4gIG91dFsxMF0gPSB6MjtcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSAtKHgwICogZXlleCArIHgxICogZXlleSArIHgyICogZXlleik7XG4gIG91dFsxM10gPSAtKHkwICogZXlleCArIHkxICogZXlleSArIHkyICogZXlleik7XG4gIG91dFsxNF0gPSAtKHowICogZXlleCArIHoxICogZXlleSArIHoyICogZXlleik7XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBHZW5lcmF0ZXMgYSBtYXRyaXggdGhhdCBtYWtlcyBzb21ldGhpbmcgbG9vayBhdCBzb21ldGhpbmcgZWxzZS5cbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IGZydXN0dW0gbWF0cml4IHdpbGwgYmUgd3JpdHRlbiBpbnRvXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gZXllIFBvc2l0aW9uIG9mIHRoZSB2aWV3ZXJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBjZW50ZXIgUG9pbnQgdGhlIHZpZXdlciBpcyBsb29raW5nIGF0XG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gdXAgdmVjMyBwb2ludGluZyB1cFxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0YXJnZXRUbyhvdXQsIGV5ZSwgdGFyZ2V0LCB1cCkge1xuICB2YXIgZXlleCA9IGV5ZVswXSxcbiAgICAgIGV5ZXkgPSBleWVbMV0sXG4gICAgICBleWV6ID0gZXllWzJdLFxuICAgICAgdXB4ID0gdXBbMF0sXG4gICAgICB1cHkgPSB1cFsxXSxcbiAgICAgIHVweiA9IHVwWzJdO1xuICB2YXIgejAgPSBleWV4IC0gdGFyZ2V0WzBdLFxuICAgICAgejEgPSBleWV5IC0gdGFyZ2V0WzFdLFxuICAgICAgejIgPSBleWV6IC0gdGFyZ2V0WzJdO1xuICB2YXIgbGVuID0gejAgKiB6MCArIHoxICogejEgKyB6MiAqIHoyO1xuXG4gIGlmIChsZW4gPiAwKSB7XG4gICAgbGVuID0gMSAvIE1hdGguc3FydChsZW4pO1xuICAgIHowICo9IGxlbjtcbiAgICB6MSAqPSBsZW47XG4gICAgejIgKj0gbGVuO1xuICB9XG5cbiAgdmFyIHgwID0gdXB5ICogejIgLSB1cHogKiB6MSxcbiAgICAgIHgxID0gdXB6ICogejAgLSB1cHggKiB6MixcbiAgICAgIHgyID0gdXB4ICogejEgLSB1cHkgKiB6MDtcbiAgbGVuID0geDAgKiB4MCArIHgxICogeDEgKyB4MiAqIHgyO1xuXG4gIGlmIChsZW4gPiAwKSB7XG4gICAgbGVuID0gMSAvIE1hdGguc3FydChsZW4pO1xuICAgIHgwICo9IGxlbjtcbiAgICB4MSAqPSBsZW47XG4gICAgeDIgKj0gbGVuO1xuICB9XG5cbiAgb3V0WzBdID0geDA7XG4gIG91dFsxXSA9IHgxO1xuICBvdXRbMl0gPSB4MjtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gejEgKiB4MiAtIHoyICogeDE7XG4gIG91dFs1XSA9IHoyICogeDAgLSB6MCAqIHgyO1xuICBvdXRbNl0gPSB6MCAqIHgxIC0gejEgKiB4MDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gejA7XG4gIG91dFs5XSA9IHoxO1xuICBvdXRbMTBdID0gejI7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gZXlleDtcbiAgb3V0WzEzXSA9IGV5ZXk7XG4gIG91dFsxNF0gPSBleWV6O1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBhIG1hdDRcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSBtYXRyaXggdG8gcmVwcmVzZW50IGFzIGEgc3RyaW5nXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIG1hdHJpeFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzdHIoYSkge1xuICByZXR1cm4gXCJtYXQ0KFwiICsgYVswXSArIFwiLCBcIiArIGFbMV0gKyBcIiwgXCIgKyBhWzJdICsgXCIsIFwiICsgYVszXSArIFwiLCBcIiArIGFbNF0gKyBcIiwgXCIgKyBhWzVdICsgXCIsIFwiICsgYVs2XSArIFwiLCBcIiArIGFbN10gKyBcIiwgXCIgKyBhWzhdICsgXCIsIFwiICsgYVs5XSArIFwiLCBcIiArIGFbMTBdICsgXCIsIFwiICsgYVsxMV0gKyBcIiwgXCIgKyBhWzEyXSArIFwiLCBcIiArIGFbMTNdICsgXCIsIFwiICsgYVsxNF0gKyBcIiwgXCIgKyBhWzE1XSArIFwiKVwiO1xufVxuLyoqXG4gKiBSZXR1cm5zIEZyb2Jlbml1cyBub3JtIG9mIGEgbWF0NFxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBtYXRyaXggdG8gY2FsY3VsYXRlIEZyb2Jlbml1cyBub3JtIG9mXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBGcm9iZW5pdXMgbm9ybVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9iKGEpIHtcbiAgcmV0dXJuIE1hdGguaHlwb3QoYVswXSwgYVsxXSwgYVsyXSwgYVszXSwgYVs0XSwgYVs1XSwgYVs2XSwgYVs3XSwgYVs4XSwgYVs5XSwgYVsxMF0sIGFbMTFdLCBhWzEyXSwgYVsxM10sIGFbMTRdLCBhWzE1XSk7XG59XG4vKipcbiAqIEFkZHMgdHdvIG1hdDQnc1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSArIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gKyBiWzFdO1xuICBvdXRbMl0gPSBhWzJdICsgYlsyXTtcbiAgb3V0WzNdID0gYVszXSArIGJbM107XG4gIG91dFs0XSA9IGFbNF0gKyBiWzRdO1xuICBvdXRbNV0gPSBhWzVdICsgYls1XTtcbiAgb3V0WzZdID0gYVs2XSArIGJbNl07XG4gIG91dFs3XSA9IGFbN10gKyBiWzddO1xuICBvdXRbOF0gPSBhWzhdICsgYls4XTtcbiAgb3V0WzldID0gYVs5XSArIGJbOV07XG4gIG91dFsxMF0gPSBhWzEwXSArIGJbMTBdO1xuICBvdXRbMTFdID0gYVsxMV0gKyBiWzExXTtcbiAgb3V0WzEyXSA9IGFbMTJdICsgYlsxMl07XG4gIG91dFsxM10gPSBhWzEzXSArIGJbMTNdO1xuICBvdXRbMTRdID0gYVsxNF0gKyBiWzE0XTtcbiAgb3V0WzE1XSA9IGFbMTVdICsgYlsxNV07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFN1YnRyYWN0cyBtYXRyaXggYiBmcm9tIG1hdHJpeCBhXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc3VidHJhY3Qob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gLSBiWzBdO1xuICBvdXRbMV0gPSBhWzFdIC0gYlsxXTtcbiAgb3V0WzJdID0gYVsyXSAtIGJbMl07XG4gIG91dFszXSA9IGFbM10gLSBiWzNdO1xuICBvdXRbNF0gPSBhWzRdIC0gYls0XTtcbiAgb3V0WzVdID0gYVs1XSAtIGJbNV07XG4gIG91dFs2XSA9IGFbNl0gLSBiWzZdO1xuICBvdXRbN10gPSBhWzddIC0gYls3XTtcbiAgb3V0WzhdID0gYVs4XSAtIGJbOF07XG4gIG91dFs5XSA9IGFbOV0gLSBiWzldO1xuICBvdXRbMTBdID0gYVsxMF0gLSBiWzEwXTtcbiAgb3V0WzExXSA9IGFbMTFdIC0gYlsxMV07XG4gIG91dFsxMl0gPSBhWzEyXSAtIGJbMTJdO1xuICBvdXRbMTNdID0gYVsxM10gLSBiWzEzXTtcbiAgb3V0WzE0XSA9IGFbMTRdIC0gYlsxNF07XG4gIG91dFsxNV0gPSBhWzE1XSAtIGJbMTVdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBNdWx0aXBseSBlYWNoIGVsZW1lbnQgb2YgdGhlIG1hdHJpeCBieSBhIHNjYWxhci5cbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIG1hdHJpeCB0byBzY2FsZVxuICogQHBhcmFtIHtOdW1iZXJ9IGIgYW1vdW50IHRvIHNjYWxlIHRoZSBtYXRyaXgncyBlbGVtZW50cyBieVxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBtdWx0aXBseVNjYWxhcihvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAqIGI7XG4gIG91dFsxXSA9IGFbMV0gKiBiO1xuICBvdXRbMl0gPSBhWzJdICogYjtcbiAgb3V0WzNdID0gYVszXSAqIGI7XG4gIG91dFs0XSA9IGFbNF0gKiBiO1xuICBvdXRbNV0gPSBhWzVdICogYjtcbiAgb3V0WzZdID0gYVs2XSAqIGI7XG4gIG91dFs3XSA9IGFbN10gKiBiO1xuICBvdXRbOF0gPSBhWzhdICogYjtcbiAgb3V0WzldID0gYVs5XSAqIGI7XG4gIG91dFsxMF0gPSBhWzEwXSAqIGI7XG4gIG91dFsxMV0gPSBhWzExXSAqIGI7XG4gIG91dFsxMl0gPSBhWzEyXSAqIGI7XG4gIG91dFsxM10gPSBhWzEzXSAqIGI7XG4gIG91dFsxNF0gPSBhWzE0XSAqIGI7XG4gIG91dFsxNV0gPSBhWzE1XSAqIGI7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEFkZHMgdHdvIG1hdDQncyBhZnRlciBtdWx0aXBseWluZyBlYWNoIGVsZW1lbnQgb2YgdGhlIHNlY29uZCBvcGVyYW5kIGJ5IGEgc2NhbGFyIHZhbHVlLlxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcGFyYW0ge051bWJlcn0gc2NhbGUgdGhlIGFtb3VudCB0byBzY2FsZSBiJ3MgZWxlbWVudHMgYnkgYmVmb3JlIGFkZGluZ1xuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBtdWx0aXBseVNjYWxhckFuZEFkZChvdXQsIGEsIGIsIHNjYWxlKSB7XG4gIG91dFswXSA9IGFbMF0gKyBiWzBdICogc2NhbGU7XG4gIG91dFsxXSA9IGFbMV0gKyBiWzFdICogc2NhbGU7XG4gIG91dFsyXSA9IGFbMl0gKyBiWzJdICogc2NhbGU7XG4gIG91dFszXSA9IGFbM10gKyBiWzNdICogc2NhbGU7XG4gIG91dFs0XSA9IGFbNF0gKyBiWzRdICogc2NhbGU7XG4gIG91dFs1XSA9IGFbNV0gKyBiWzVdICogc2NhbGU7XG4gIG91dFs2XSA9IGFbNl0gKyBiWzZdICogc2NhbGU7XG4gIG91dFs3XSA9IGFbN10gKyBiWzddICogc2NhbGU7XG4gIG91dFs4XSA9IGFbOF0gKyBiWzhdICogc2NhbGU7XG4gIG91dFs5XSA9IGFbOV0gKyBiWzldICogc2NhbGU7XG4gIG91dFsxMF0gPSBhWzEwXSArIGJbMTBdICogc2NhbGU7XG4gIG91dFsxMV0gPSBhWzExXSArIGJbMTFdICogc2NhbGU7XG4gIG91dFsxMl0gPSBhWzEyXSArIGJbMTJdICogc2NhbGU7XG4gIG91dFsxM10gPSBhWzEzXSArIGJbMTNdICogc2NhbGU7XG4gIG91dFsxNF0gPSBhWzE0XSArIGJbMTRdICogc2NhbGU7XG4gIG91dFsxNV0gPSBhWzE1XSArIGJbMTVdICogc2NhbGU7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIG1hdHJpY2VzIGhhdmUgZXhhY3RseSB0aGUgc2FtZSBlbGVtZW50cyBpbiB0aGUgc2FtZSBwb3NpdGlvbiAod2hlbiBjb21wYXJlZCB3aXRoID09PSlcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSBUaGUgZmlyc3QgbWF0cml4LlxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGIgVGhlIHNlY29uZCBtYXRyaXguXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgbWF0cmljZXMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGV4YWN0RXF1YWxzKGEsIGIpIHtcbiAgcmV0dXJuIGFbMF0gPT09IGJbMF0gJiYgYVsxXSA9PT0gYlsxXSAmJiBhWzJdID09PSBiWzJdICYmIGFbM10gPT09IGJbM10gJiYgYVs0XSA9PT0gYls0XSAmJiBhWzVdID09PSBiWzVdICYmIGFbNl0gPT09IGJbNl0gJiYgYVs3XSA9PT0gYls3XSAmJiBhWzhdID09PSBiWzhdICYmIGFbOV0gPT09IGJbOV0gJiYgYVsxMF0gPT09IGJbMTBdICYmIGFbMTFdID09PSBiWzExXSAmJiBhWzEyXSA9PT0gYlsxMl0gJiYgYVsxM10gPT09IGJbMTNdICYmIGFbMTRdID09PSBiWzE0XSAmJiBhWzE1XSA9PT0gYlsxNV07XG59XG4vKipcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIG1hdHJpY2VzIGhhdmUgYXBwcm94aW1hdGVseSB0aGUgc2FtZSBlbGVtZW50cyBpbiB0aGUgc2FtZSBwb3NpdGlvbi5cbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSBUaGUgZmlyc3QgbWF0cml4LlxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGIgVGhlIHNlY29uZCBtYXRyaXguXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgbWF0cmljZXMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGVxdWFscyhhLCBiKSB7XG4gIHZhciBhMCA9IGFbMF0sXG4gICAgICBhMSA9IGFbMV0sXG4gICAgICBhMiA9IGFbMl0sXG4gICAgICBhMyA9IGFbM107XG4gIHZhciBhNCA9IGFbNF0sXG4gICAgICBhNSA9IGFbNV0sXG4gICAgICBhNiA9IGFbNl0sXG4gICAgICBhNyA9IGFbN107XG4gIHZhciBhOCA9IGFbOF0sXG4gICAgICBhOSA9IGFbOV0sXG4gICAgICBhMTAgPSBhWzEwXSxcbiAgICAgIGExMSA9IGFbMTFdO1xuICB2YXIgYTEyID0gYVsxMl0sXG4gICAgICBhMTMgPSBhWzEzXSxcbiAgICAgIGExNCA9IGFbMTRdLFxuICAgICAgYTE1ID0gYVsxNV07XG4gIHZhciBiMCA9IGJbMF0sXG4gICAgICBiMSA9IGJbMV0sXG4gICAgICBiMiA9IGJbMl0sXG4gICAgICBiMyA9IGJbM107XG4gIHZhciBiNCA9IGJbNF0sXG4gICAgICBiNSA9IGJbNV0sXG4gICAgICBiNiA9IGJbNl0sXG4gICAgICBiNyA9IGJbN107XG4gIHZhciBiOCA9IGJbOF0sXG4gICAgICBiOSA9IGJbOV0sXG4gICAgICBiMTAgPSBiWzEwXSxcbiAgICAgIGIxMSA9IGJbMTFdO1xuICB2YXIgYjEyID0gYlsxMl0sXG4gICAgICBiMTMgPSBiWzEzXSxcbiAgICAgIGIxNCA9IGJbMTRdLFxuICAgICAgYjE1ID0gYlsxNV07XG4gIHJldHVybiBNYXRoLmFicyhhMCAtIGIwKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMCksIE1hdGguYWJzKGIwKSkgJiYgTWF0aC5hYnMoYTEgLSBiMSkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTEpLCBNYXRoLmFicyhiMSkpICYmIE1hdGguYWJzKGEyIC0gYjIpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEyKSwgTWF0aC5hYnMoYjIpKSAmJiBNYXRoLmFicyhhMyAtIGIzKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMyksIE1hdGguYWJzKGIzKSkgJiYgTWF0aC5hYnMoYTQgLSBiNCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTQpLCBNYXRoLmFicyhiNCkpICYmIE1hdGguYWJzKGE1IC0gYjUpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGE1KSwgTWF0aC5hYnMoYjUpKSAmJiBNYXRoLmFicyhhNiAtIGI2KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhNiksIE1hdGguYWJzKGI2KSkgJiYgTWF0aC5hYnMoYTcgLSBiNykgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTcpLCBNYXRoLmFicyhiNykpICYmIE1hdGguYWJzKGE4IC0gYjgpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGE4KSwgTWF0aC5hYnMoYjgpKSAmJiBNYXRoLmFicyhhOSAtIGI5KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhOSksIE1hdGguYWJzKGI5KSkgJiYgTWF0aC5hYnMoYTEwIC0gYjEwKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMTApLCBNYXRoLmFicyhiMTApKSAmJiBNYXRoLmFicyhhMTEgLSBiMTEpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExMSksIE1hdGguYWJzKGIxMSkpICYmIE1hdGguYWJzKGExMiAtIGIxMikgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTEyKSwgTWF0aC5hYnMoYjEyKSkgJiYgTWF0aC5hYnMoYTEzIC0gYjEzKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMTMpLCBNYXRoLmFicyhiMTMpKSAmJiBNYXRoLmFicyhhMTQgLSBiMTQpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExNCksIE1hdGguYWJzKGIxNCkpICYmIE1hdGguYWJzKGExNSAtIGIxNSkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTE1KSwgTWF0aC5hYnMoYjE1KSk7XG59XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgbWF0NC5tdWx0aXBseX1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgbXVsID0gbXVsdGlwbHk7XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgbWF0NC5zdWJ0cmFjdH1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgc3ViID0gc3VidHJhY3Q7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/gl-matrix/esm/mat4.js\n");

/***/ }),

/***/ "./node_modules/gl-matrix/esm/vec2.js":
/*!********************************************!*\
  !*** ./node_modules/gl-matrix/esm/vec2.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   add: () => (/* binding */ add),\n/* harmony export */   length: () => (/* binding */ length),\n/* harmony export */   lerp: () => (/* binding */ lerp),\n/* harmony export */   negate: () => (/* binding */ negate),\n/* harmony export */   scale: () => (/* binding */ scale),\n/* harmony export */   sub: () => (/* binding */ sub),\n/* harmony export */   transformMat4: () => (/* binding */ transformMat4)\n/* harmony export */ });\n/* unused harmony exports create, clone, fromValues, copy, set, subtract, multiply, divide, ceil, floor, min, max, round, scaleAndAdd, distance, squaredDistance, squaredLength, inverse, normalize, dot, cross, random, transformMat2, transformMat2d, transformMat3, rotate, angle, zero, str, exactEquals, equals, len, mul, div, dist, sqrDist, sqrLen, forEach */\n/* harmony import */ var _common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./common.js */ \"./node_modules/gl-matrix/esm/common.js\");\n\n/**\n * 2 Dimensional Vector\n * @module vec2\n */\n\n/**\n * Creates a new, empty vec2\n *\n * @returns {vec2} a new 2D vector\n */\n\nfunction create() {\n  var out = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(2);\n\n  if (_common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec2 initialized with values from an existing vector\n *\n * @param {ReadonlyVec2} a vector to clone\n * @returns {vec2} a new 2D vector\n */\n\nfunction clone(a) {\n  var out = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(2);\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\n * Creates a new vec2 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} a new 2D vector\n */\n\nfunction fromValues(x, y) {\n  var out = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(2);\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\n * Copy the values from one vec2 to another\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the source vector\n * @returns {vec2} out\n */\n\nfunction copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\n * Set the components of a vec2 to the given values\n *\n * @param {vec2} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} out\n */\n\nfunction set(out, x, y) {\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\n * Adds two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nfunction add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nfunction subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  return out;\n}\n/**\n * Multiplies two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nfunction multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  return out;\n}\n/**\n * Divides two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nfunction divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  return out;\n}\n/**\n * Math.ceil the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to ceil\n * @returns {vec2} out\n */\n\nfunction ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  return out;\n}\n/**\n * Math.floor the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to floor\n * @returns {vec2} out\n */\n\nfunction floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  return out;\n}\n/**\n * Returns the minimum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nfunction min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  return out;\n}\n/**\n * Returns the maximum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nfunction max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  return out;\n}\n/**\n * Math.round the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to round\n * @returns {vec2} out\n */\n\nfunction round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  return out;\n}\n/**\n * Scales a vec2 by a scalar number\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec2} out\n */\n\nfunction scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  return out;\n}\n/**\n * Adds two vec2's after scaling the second operand by a scalar value\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec2} out\n */\n\nfunction scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} distance between a and b\n */\n\nfunction distance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return Math.hypot(x, y);\n}\n/**\n * Calculates the squared euclidian distance between two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nfunction squaredDistance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return x * x + y * y;\n}\n/**\n * Calculates the length of a vec2\n *\n * @param {ReadonlyVec2} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nfunction length(a) {\n  var x = a[0],\n      y = a[1];\n  return Math.hypot(x, y);\n}\n/**\n * Calculates the squared length of a vec2\n *\n * @param {ReadonlyVec2} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nfunction squaredLength(a) {\n  var x = a[0],\n      y = a[1];\n  return x * x + y * y;\n}\n/**\n * Negates the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to negate\n * @returns {vec2} out\n */\n\nfunction negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to invert\n * @returns {vec2} out\n */\n\nfunction inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  return out;\n}\n/**\n * Normalize a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to normalize\n * @returns {vec2} out\n */\n\nfunction normalize(out, a) {\n  var x = a[0],\n      y = a[1];\n  var len = x * x + y * y;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nfunction dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1];\n}\n/**\n * Computes the cross product of two vec2's\n * Note that the cross product must by definition produce a 3D vector\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec3} out\n */\n\nfunction cross(out, a, b) {\n  var z = a[0] * b[1] - a[1] * b[0];\n  out[0] = out[1] = 0;\n  out[2] = z;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec2} out\n */\n\nfunction lerp(out, a, b, t) {\n  var ax = a[0],\n      ay = a[1];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec2} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec2} out\n */\n\nfunction random(out, scale) {\n  scale = scale || 1.0;\n  var r = _common_js__WEBPACK_IMPORTED_MODULE_0__.RANDOM() * 2.0 * Math.PI;\n  out[0] = Math.cos(r) * scale;\n  out[1] = Math.sin(r) * scale;\n  return out;\n}\n/**\n * Transforms the vec2 with a mat2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat2} m matrix to transform with\n * @returns {vec2} out\n */\n\nfunction transformMat2(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y;\n  out[1] = m[1] * x + m[3] * y;\n  return out;\n}\n/**\n * Transforms the vec2 with a mat2d\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat2d} m matrix to transform with\n * @returns {vec2} out\n */\n\nfunction transformMat2d(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y + m[4];\n  out[1] = m[1] * x + m[3] * y + m[5];\n  return out;\n}\n/**\n * Transforms the vec2 with a mat3\n * 3rd vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat3} m matrix to transform with\n * @returns {vec2} out\n */\n\nfunction transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[3] * y + m[6];\n  out[1] = m[1] * x + m[4] * y + m[7];\n  return out;\n}\n/**\n * Transforms the vec2 with a mat4\n * 3rd vector component is implicitly '0'\n * 4th vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec2} out\n */\n\nfunction transformMat4(out, a, m) {\n  var x = a[0];\n  var y = a[1];\n  out[0] = m[0] * x + m[4] * y + m[12];\n  out[1] = m[1] * x + m[5] * y + m[13];\n  return out;\n}\n/**\n * Rotate a 2D vector\n * @param {vec2} out The receiving vec2\n * @param {ReadonlyVec2} a The vec2 point to rotate\n * @param {ReadonlyVec2} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec2} out\n */\n\nfunction rotate(out, a, b, rad) {\n  //Translate point to the origin\n  var p0 = a[0] - b[0],\n      p1 = a[1] - b[1],\n      sinC = Math.sin(rad),\n      cosC = Math.cos(rad); //perform rotation and translate to correct position\n\n  out[0] = p0 * cosC - p1 * sinC + b[0];\n  out[1] = p0 * sinC + p1 * cosC + b[1];\n  return out;\n}\n/**\n * Get the angle between two 2D vectors\n * @param {ReadonlyVec2} a The first operand\n * @param {ReadonlyVec2} b The second operand\n * @returns {Number} The angle in radians\n */\n\nfunction angle(a, b) {\n  var x1 = a[0],\n      y1 = a[1],\n      x2 = b[0],\n      y2 = b[1],\n      // mag is the product of the magnitudes of a and b\n  mag = Math.sqrt(x1 * x1 + y1 * y1) * Math.sqrt(x2 * x2 + y2 * y2),\n      // mag &&.. short circuits if mag == 0\n  cosine = mag && (x1 * x2 + y1 * y2) / mag; // Math.min(Math.max(cosine, -1), 1) clamps the cosine between -1 and 1\n\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\n * Set the components of a vec2 to zero\n *\n * @param {vec2} out the receiving vector\n * @returns {vec2} out\n */\n\nfunction zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec2} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nfunction str(a) {\n  return \"vec2(\" + a[0] + \", \" + a[1] + \")\";\n}\n/**\n * Returns whether or not the vectors exactly have the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec2} a The first vector.\n * @param {ReadonlyVec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nfunction exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec2} a The first vector.\n * @param {ReadonlyVec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nfunction equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1];\n  var b0 = b[0],\n      b1 = b[1];\n  return Math.abs(a0 - b0) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1));\n}\n/**\n * Alias for {@link vec2.length}\n * @function\n */\n\nvar len = length;\n/**\n * Alias for {@link vec2.subtract}\n * @function\n */\n\nvar sub = subtract;\n/**\n * Alias for {@link vec2.multiply}\n * @function\n */\n\nvar mul = multiply;\n/**\n * Alias for {@link vec2.divide}\n * @function\n */\n\nvar div = divide;\n/**\n * Alias for {@link vec2.distance}\n * @function\n */\n\nvar dist = distance;\n/**\n * Alias for {@link vec2.squaredDistance}\n * @function\n */\n\nvar sqrDist = squaredDistance;\n/**\n * Alias for {@link vec2.squaredLength}\n * @function\n */\n\nvar sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec2s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec2. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec2s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nvar forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 2;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n    }\n\n    return a;\n  };\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZ2wtbWF0cml4L2VzbS92ZWMyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3VwZXJzZXQvLi9ub2RlX21vZHVsZXMvZ2wtbWF0cml4L2VzbS92ZWMyLmpzPzY3MTEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgZ2xNYXRyaXggZnJvbSBcIi4vY29tbW9uLmpzXCI7XG4vKipcbiAqIDIgRGltZW5zaW9uYWwgVmVjdG9yXG4gKiBAbW9kdWxlIHZlYzJcbiAqL1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcsIGVtcHR5IHZlYzJcbiAqXG4gKiBAcmV0dXJucyB7dmVjMn0gYSBuZXcgMkQgdmVjdG9yXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgdmFyIG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDIpO1xuXG4gIGlmIChnbE1hdHJpeC5BUlJBWV9UWVBFICE9IEZsb2F0MzJBcnJheSkge1xuICAgIG91dFswXSA9IDA7XG4gICAgb3V0WzFdID0gMDtcbiAgfVxuXG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgdmVjMiBpbml0aWFsaXplZCB3aXRoIHZhbHVlcyBmcm9tIGFuIGV4aXN0aW5nIHZlY3RvclxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSBhIHZlY3RvciB0byBjbG9uZVxuICogQHJldHVybnMge3ZlYzJ9IGEgbmV3IDJEIHZlY3RvclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZShhKSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgyKTtcbiAgb3V0WzBdID0gYVswXTtcbiAgb3V0WzFdID0gYVsxXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyB2ZWMyIGluaXRpYWxpemVkIHdpdGggdGhlIGdpdmVuIHZhbHVlc1xuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSB4IFggY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0geSBZIGNvbXBvbmVudFxuICogQHJldHVybnMge3ZlYzJ9IGEgbmV3IDJEIHZlY3RvclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tVmFsdWVzKHgsIHkpIHtcbiAgdmFyIG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDIpO1xuICBvdXRbMF0gPSB4O1xuICBvdXRbMV0gPSB5O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDb3B5IHRoZSB2YWx1ZXMgZnJvbSBvbmUgdmVjMiB0byBhbm90aGVyXG4gKlxuICogQHBhcmFtIHt2ZWMyfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSBhIHRoZSBzb3VyY2UgdmVjdG9yXG4gKiBAcmV0dXJucyB7dmVjMn0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNvcHkob3V0LCBhKSB7XG4gIG91dFswXSA9IGFbMF07XG4gIG91dFsxXSA9IGFbMV07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFNldCB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzIgdG8gdGhlIGdpdmVuIHZhbHVlc1xuICpcbiAqIEBwYXJhbSB7dmVjMn0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge051bWJlcn0geCBYIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHkgWSBjb21wb25lbnRcbiAqIEByZXR1cm5zIHt2ZWMyfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc2V0KG91dCwgeCwgeSkge1xuICBvdXRbMF0gPSB4O1xuICBvdXRbMV0gPSB5O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBBZGRzIHR3byB2ZWMyJ3NcbiAqXG4gKiBAcGFyYW0ge3ZlYzJ9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge3ZlYzJ9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBhZGQob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gKyBiWzBdO1xuICBvdXRbMV0gPSBhWzFdICsgYlsxXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogU3VidHJhY3RzIHZlY3RvciBiIGZyb20gdmVjdG9yIGFcbiAqXG4gKiBAcGFyYW0ge3ZlYzJ9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge3ZlYzJ9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzdWJ0cmFjdChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAtIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gLSBiWzFdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBNdWx0aXBsaWVzIHR3byB2ZWMyJ3NcbiAqXG4gKiBAcGFyYW0ge3ZlYzJ9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge3ZlYzJ9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBtdWx0aXBseShvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAqIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gKiBiWzFdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBEaXZpZGVzIHR3byB2ZWMyJ3NcbiAqXG4gKiBAcGFyYW0ge3ZlYzJ9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge3ZlYzJ9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBkaXZpZGUob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gLyBiWzBdO1xuICBvdXRbMV0gPSBhWzFdIC8gYlsxXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogTWF0aC5jZWlsIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjMlxuICpcbiAqIEBwYXJhbSB7dmVjMn0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYSB2ZWN0b3IgdG8gY2VpbFxuICogQHJldHVybnMge3ZlYzJ9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjZWlsKG91dCwgYSkge1xuICBvdXRbMF0gPSBNYXRoLmNlaWwoYVswXSk7XG4gIG91dFsxXSA9IE1hdGguY2VpbChhWzFdKTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogTWF0aC5mbG9vciB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzJcbiAqXG4gKiBAcGFyYW0ge3ZlYzJ9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IGEgdmVjdG9yIHRvIGZsb29yXG4gKiBAcmV0dXJucyB7dmVjMn0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZsb29yKG91dCwgYSkge1xuICBvdXRbMF0gPSBNYXRoLmZsb29yKGFbMF0pO1xuICBvdXRbMV0gPSBNYXRoLmZsb29yKGFbMV0pO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSBtaW5pbXVtIG9mIHR3byB2ZWMyJ3NcbiAqXG4gKiBAcGFyYW0ge3ZlYzJ9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge3ZlYzJ9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBtaW4ob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IE1hdGgubWluKGFbMF0sIGJbMF0pO1xuICBvdXRbMV0gPSBNYXRoLm1pbihhWzFdLCBiWzFdKTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgbWF4aW11bSBvZiB0d28gdmVjMidzXG4gKlxuICogQHBhcmFtIHt2ZWMyfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWMyfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbWF4KG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBNYXRoLm1heChhWzBdLCBiWzBdKTtcbiAgb3V0WzFdID0gTWF0aC5tYXgoYVsxXSwgYlsxXSk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIE1hdGgucm91bmQgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMyXG4gKlxuICogQHBhcmFtIHt2ZWMyfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSBhIHZlY3RvciB0byByb3VuZFxuICogQHJldHVybnMge3ZlYzJ9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByb3VuZChvdXQsIGEpIHtcbiAgb3V0WzBdID0gTWF0aC5yb3VuZChhWzBdKTtcbiAgb3V0WzFdID0gTWF0aC5yb3VuZChhWzFdKTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogU2NhbGVzIGEgdmVjMiBieSBhIHNjYWxhciBudW1iZXJcbiAqXG4gKiBAcGFyYW0ge3ZlYzJ9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IGEgdGhlIHZlY3RvciB0byBzY2FsZVxuICogQHBhcmFtIHtOdW1iZXJ9IGIgYW1vdW50IHRvIHNjYWxlIHRoZSB2ZWN0b3IgYnlcbiAqIEByZXR1cm5zIHt2ZWMyfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc2NhbGUob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gKiBiO1xuICBvdXRbMV0gPSBhWzFdICogYjtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQWRkcyB0d28gdmVjMidzIGFmdGVyIHNjYWxpbmcgdGhlIHNlY29uZCBvcGVyYW5kIGJ5IGEgc2NhbGFyIHZhbHVlXG4gKlxuICogQHBhcmFtIHt2ZWMyfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsZSB0aGUgYW1vdW50IHRvIHNjYWxlIGIgYnkgYmVmb3JlIGFkZGluZ1xuICogQHJldHVybnMge3ZlYzJ9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzY2FsZUFuZEFkZChvdXQsIGEsIGIsIHNjYWxlKSB7XG4gIG91dFswXSA9IGFbMF0gKyBiWzBdICogc2NhbGU7XG4gIG91dFsxXSA9IGFbMV0gKyBiWzFdICogc2NhbGU7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGV1Y2xpZGlhbiBkaXN0YW5jZSBiZXR3ZWVuIHR3byB2ZWMyJ3NcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBkaXN0YW5jZSBiZXR3ZWVuIGEgYW5kIGJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZGlzdGFuY2UoYSwgYikge1xuICB2YXIgeCA9IGJbMF0gLSBhWzBdLFxuICAgICAgeSA9IGJbMV0gLSBhWzFdO1xuICByZXR1cm4gTWF0aC5oeXBvdCh4LCB5KTtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgc3F1YXJlZCBldWNsaWRpYW4gZGlzdGFuY2UgYmV0d2VlbiB0d28gdmVjMidzXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge051bWJlcn0gc3F1YXJlZCBkaXN0YW5jZSBiZXR3ZWVuIGEgYW5kIGJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc3F1YXJlZERpc3RhbmNlKGEsIGIpIHtcbiAgdmFyIHggPSBiWzBdIC0gYVswXSxcbiAgICAgIHkgPSBiWzFdIC0gYVsxXTtcbiAgcmV0dXJuIHggKiB4ICsgeSAqIHk7XG59XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGxlbmd0aCBvZiBhIHZlYzJcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYSB2ZWN0b3IgdG8gY2FsY3VsYXRlIGxlbmd0aCBvZlxuICogQHJldHVybnMge051bWJlcn0gbGVuZ3RoIG9mIGFcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbGVuZ3RoKGEpIHtcbiAgdmFyIHggPSBhWzBdLFxuICAgICAgeSA9IGFbMV07XG4gIHJldHVybiBNYXRoLmh5cG90KHgsIHkpO1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBzcXVhcmVkIGxlbmd0aCBvZiBhIHZlYzJcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYSB2ZWN0b3IgdG8gY2FsY3VsYXRlIHNxdWFyZWQgbGVuZ3RoIG9mXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBzcXVhcmVkIGxlbmd0aCBvZiBhXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNxdWFyZWRMZW5ndGgoYSkge1xuICB2YXIgeCA9IGFbMF0sXG4gICAgICB5ID0gYVsxXTtcbiAgcmV0dXJuIHggKiB4ICsgeSAqIHk7XG59XG4vKipcbiAqIE5lZ2F0ZXMgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMyXG4gKlxuICogQHBhcmFtIHt2ZWMyfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSBhIHZlY3RvciB0byBuZWdhdGVcbiAqIEByZXR1cm5zIHt2ZWMyfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbmVnYXRlKG91dCwgYSkge1xuICBvdXRbMF0gPSAtYVswXTtcbiAgb3V0WzFdID0gLWFbMV07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIGludmVyc2Ugb2YgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMyXG4gKlxuICogQHBhcmFtIHt2ZWMyfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSBhIHZlY3RvciB0byBpbnZlcnRcbiAqIEByZXR1cm5zIHt2ZWMyfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gaW52ZXJzZShvdXQsIGEpIHtcbiAgb3V0WzBdID0gMS4wIC8gYVswXTtcbiAgb3V0WzFdID0gMS4wIC8gYVsxXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogTm9ybWFsaXplIGEgdmVjMlxuICpcbiAqIEBwYXJhbSB7dmVjMn0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYSB2ZWN0b3IgdG8gbm9ybWFsaXplXG4gKiBAcmV0dXJucyB7dmVjMn0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZShvdXQsIGEpIHtcbiAgdmFyIHggPSBhWzBdLFxuICAgICAgeSA9IGFbMV07XG4gIHZhciBsZW4gPSB4ICogeCArIHkgKiB5O1xuXG4gIGlmIChsZW4gPiAwKSB7XG4gICAgLy9UT0RPOiBldmFsdWF0ZSB1c2Ugb2YgZ2xtX2ludnNxcnQgaGVyZT9cbiAgICBsZW4gPSAxIC8gTWF0aC5zcXJ0KGxlbik7XG4gIH1cblxuICBvdXRbMF0gPSBhWzBdICogbGVuO1xuICBvdXRbMV0gPSBhWzFdICogbGVuO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBkb3QgcHJvZHVjdCBvZiB0d28gdmVjMidzXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge051bWJlcn0gZG90IHByb2R1Y3Qgb2YgYSBhbmQgYlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBkb3QoYSwgYikge1xuICByZXR1cm4gYVswXSAqIGJbMF0gKyBhWzFdICogYlsxXTtcbn1cbi8qKlxuICogQ29tcHV0ZXMgdGhlIGNyb3NzIHByb2R1Y3Qgb2YgdHdvIHZlYzInc1xuICogTm90ZSB0aGF0IHRoZSBjcm9zcyBwcm9kdWN0IG11c3QgYnkgZGVmaW5pdGlvbiBwcm9kdWNlIGEgM0QgdmVjdG9yXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY3Jvc3Mob3V0LCBhLCBiKSB7XG4gIHZhciB6ID0gYVswXSAqIGJbMV0gLSBhWzFdICogYlswXTtcbiAgb3V0WzBdID0gb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gejtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUGVyZm9ybXMgYSBsaW5lYXIgaW50ZXJwb2xhdGlvbiBiZXR3ZWVuIHR3byB2ZWMyJ3NcbiAqXG4gKiBAcGFyYW0ge3ZlYzJ9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHBhcmFtIHtOdW1iZXJ9IHQgaW50ZXJwb2xhdGlvbiBhbW91bnQsIGluIHRoZSByYW5nZSBbMC0xXSwgYmV0d2VlbiB0aGUgdHdvIGlucHV0c1xuICogQHJldHVybnMge3ZlYzJ9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBsZXJwKG91dCwgYSwgYiwgdCkge1xuICB2YXIgYXggPSBhWzBdLFxuICAgICAgYXkgPSBhWzFdO1xuICBvdXRbMF0gPSBheCArIHQgKiAoYlswXSAtIGF4KTtcbiAgb3V0WzFdID0gYXkgKyB0ICogKGJbMV0gLSBheSk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEdlbmVyYXRlcyBhIHJhbmRvbSB2ZWN0b3Igd2l0aCB0aGUgZ2l2ZW4gc2NhbGVcbiAqXG4gKiBAcGFyYW0ge3ZlYzJ9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtOdW1iZXJ9IFtzY2FsZV0gTGVuZ3RoIG9mIHRoZSByZXN1bHRpbmcgdmVjdG9yLiBJZiBvbW1pdHRlZCwgYSB1bml0IHZlY3RvciB3aWxsIGJlIHJldHVybmVkXG4gKiBAcmV0dXJucyB7dmVjMn0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJhbmRvbShvdXQsIHNjYWxlKSB7XG4gIHNjYWxlID0gc2NhbGUgfHwgMS4wO1xuICB2YXIgciA9IGdsTWF0cml4LlJBTkRPTSgpICogMi4wICogTWF0aC5QSTtcbiAgb3V0WzBdID0gTWF0aC5jb3MocikgKiBzY2FsZTtcbiAgb3V0WzFdID0gTWF0aC5zaW4ocikgKiBzY2FsZTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogVHJhbnNmb3JtcyB0aGUgdmVjMiB3aXRoIGEgbWF0MlxuICpcbiAqIEBwYXJhbSB7dmVjMn0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYSB0aGUgdmVjdG9yIHRvIHRyYW5zZm9ybVxuICogQHBhcmFtIHtSZWFkb25seU1hdDJ9IG0gbWF0cml4IHRvIHRyYW5zZm9ybSB3aXRoXG4gKiBAcmV0dXJucyB7dmVjMn0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zZm9ybU1hdDIob3V0LCBhLCBtKSB7XG4gIHZhciB4ID0gYVswXSxcbiAgICAgIHkgPSBhWzFdO1xuICBvdXRbMF0gPSBtWzBdICogeCArIG1bMl0gKiB5O1xuICBvdXRbMV0gPSBtWzFdICogeCArIG1bM10gKiB5O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBUcmFuc2Zvcm1zIHRoZSB2ZWMyIHdpdGggYSBtYXQyZFxuICpcbiAqIEBwYXJhbSB7dmVjMn0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYSB0aGUgdmVjdG9yIHRvIHRyYW5zZm9ybVxuICogQHBhcmFtIHtSZWFkb25seU1hdDJkfSBtIG1hdHJpeCB0byB0cmFuc2Zvcm0gd2l0aFxuICogQHJldHVybnMge3ZlYzJ9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2Zvcm1NYXQyZChvdXQsIGEsIG0pIHtcbiAgdmFyIHggPSBhWzBdLFxuICAgICAgeSA9IGFbMV07XG4gIG91dFswXSA9IG1bMF0gKiB4ICsgbVsyXSAqIHkgKyBtWzRdO1xuICBvdXRbMV0gPSBtWzFdICogeCArIG1bM10gKiB5ICsgbVs1XTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogVHJhbnNmb3JtcyB0aGUgdmVjMiB3aXRoIGEgbWF0M1xuICogM3JkIHZlY3RvciBjb21wb25lbnQgaXMgaW1wbGljaXRseSAnMSdcbiAqXG4gKiBAcGFyYW0ge3ZlYzJ9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IGEgdGhlIHZlY3RvciB0byB0cmFuc2Zvcm1cbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQzfSBtIG1hdHJpeCB0byB0cmFuc2Zvcm0gd2l0aFxuICogQHJldHVybnMge3ZlYzJ9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2Zvcm1NYXQzKG91dCwgYSwgbSkge1xuICB2YXIgeCA9IGFbMF0sXG4gICAgICB5ID0gYVsxXTtcbiAgb3V0WzBdID0gbVswXSAqIHggKyBtWzNdICogeSArIG1bNl07XG4gIG91dFsxXSA9IG1bMV0gKiB4ICsgbVs0XSAqIHkgKyBtWzddO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBUcmFuc2Zvcm1zIHRoZSB2ZWMyIHdpdGggYSBtYXQ0XG4gKiAzcmQgdmVjdG9yIGNvbXBvbmVudCBpcyBpbXBsaWNpdGx5ICcwJ1xuICogNHRoIHZlY3RvciBjb21wb25lbnQgaXMgaW1wbGljaXRseSAnMSdcbiAqXG4gKiBAcGFyYW0ge3ZlYzJ9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IGEgdGhlIHZlY3RvciB0byB0cmFuc2Zvcm1cbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBtIG1hdHJpeCB0byB0cmFuc2Zvcm0gd2l0aFxuICogQHJldHVybnMge3ZlYzJ9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2Zvcm1NYXQ0KG91dCwgYSwgbSkge1xuICB2YXIgeCA9IGFbMF07XG4gIHZhciB5ID0gYVsxXTtcbiAgb3V0WzBdID0gbVswXSAqIHggKyBtWzRdICogeSArIG1bMTJdO1xuICBvdXRbMV0gPSBtWzFdICogeCArIG1bNV0gKiB5ICsgbVsxM107XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJvdGF0ZSBhIDJEIHZlY3RvclxuICogQHBhcmFtIHt2ZWMyfSBvdXQgVGhlIHJlY2VpdmluZyB2ZWMyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYSBUaGUgdmVjMiBwb2ludCB0byByb3RhdGVcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSBiIFRoZSBvcmlnaW4gb2YgdGhlIHJvdGF0aW9uXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIFRoZSBhbmdsZSBvZiByb3RhdGlvbiBpbiByYWRpYW5zXG4gKiBAcmV0dXJucyB7dmVjMn0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZShvdXQsIGEsIGIsIHJhZCkge1xuICAvL1RyYW5zbGF0ZSBwb2ludCB0byB0aGUgb3JpZ2luXG4gIHZhciBwMCA9IGFbMF0gLSBiWzBdLFxuICAgICAgcDEgPSBhWzFdIC0gYlsxXSxcbiAgICAgIHNpbkMgPSBNYXRoLnNpbihyYWQpLFxuICAgICAgY29zQyA9IE1hdGguY29zKHJhZCk7IC8vcGVyZm9ybSByb3RhdGlvbiBhbmQgdHJhbnNsYXRlIHRvIGNvcnJlY3QgcG9zaXRpb25cblxuICBvdXRbMF0gPSBwMCAqIGNvc0MgLSBwMSAqIHNpbkMgKyBiWzBdO1xuICBvdXRbMV0gPSBwMCAqIHNpbkMgKyBwMSAqIGNvc0MgKyBiWzFdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBHZXQgdGhlIGFuZ2xlIGJldHdlZW4gdHdvIDJEIHZlY3RvcnNcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSBhIFRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYiBUaGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBhbmdsZSBpbiByYWRpYW5zXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGFuZ2xlKGEsIGIpIHtcbiAgdmFyIHgxID0gYVswXSxcbiAgICAgIHkxID0gYVsxXSxcbiAgICAgIHgyID0gYlswXSxcbiAgICAgIHkyID0gYlsxXSxcbiAgICAgIC8vIG1hZyBpcyB0aGUgcHJvZHVjdCBvZiB0aGUgbWFnbml0dWRlcyBvZiBhIGFuZCBiXG4gIG1hZyA9IE1hdGguc3FydCh4MSAqIHgxICsgeTEgKiB5MSkgKiBNYXRoLnNxcnQoeDIgKiB4MiArIHkyICogeTIpLFxuICAgICAgLy8gbWFnICYmLi4gc2hvcnQgY2lyY3VpdHMgaWYgbWFnID09IDBcbiAgY29zaW5lID0gbWFnICYmICh4MSAqIHgyICsgeTEgKiB5MikgLyBtYWc7IC8vIE1hdGgubWluKE1hdGgubWF4KGNvc2luZSwgLTEpLCAxKSBjbGFtcHMgdGhlIGNvc2luZSBiZXR3ZWVuIC0xIGFuZCAxXG5cbiAgcmV0dXJuIE1hdGguYWNvcyhNYXRoLm1pbihNYXRoLm1heChjb3NpbmUsIC0xKSwgMSkpO1xufVxuLyoqXG4gKiBTZXQgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMyIHRvIHplcm9cbiAqXG4gKiBAcGFyYW0ge3ZlYzJ9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHJldHVybnMge3ZlYzJ9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB6ZXJvKG91dCkge1xuICBvdXRbMF0gPSAwLjA7XG4gIG91dFsxXSA9IDAuMDtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBhIHZlY3RvclxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMyfSBhIHZlY3RvciB0byByZXByZXNlbnQgYXMgYSBzdHJpbmdcbiAqIEByZXR1cm5zIHtTdHJpbmd9IHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgdmVjdG9yXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHN0cihhKSB7XG4gIHJldHVybiBcInZlYzIoXCIgKyBhWzBdICsgXCIsIFwiICsgYVsxXSArIFwiKVwiO1xufVxuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSB2ZWN0b3JzIGV4YWN0bHkgaGF2ZSB0aGUgc2FtZSBlbGVtZW50cyBpbiB0aGUgc2FtZSBwb3NpdGlvbiAod2hlbiBjb21wYXJlZCB3aXRoID09PSlcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYSBUaGUgZmlyc3QgdmVjdG9yLlxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IGIgVGhlIHNlY29uZCB2ZWN0b3IuXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgdmVjdG9ycyBhcmUgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZXhhY3RFcXVhbHMoYSwgYikge1xuICByZXR1cm4gYVswXSA9PT0gYlswXSAmJiBhWzFdID09PSBiWzFdO1xufVxuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSB2ZWN0b3JzIGhhdmUgYXBwcm94aW1hdGVseSB0aGUgc2FtZSBlbGVtZW50cyBpbiB0aGUgc2FtZSBwb3NpdGlvbi5cbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjMn0gYSBUaGUgZmlyc3QgdmVjdG9yLlxuICogQHBhcmFtIHtSZWFkb25seVZlYzJ9IGIgVGhlIHNlY29uZCB2ZWN0b3IuXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgdmVjdG9ycyBhcmUgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZXF1YWxzKGEsIGIpIHtcbiAgdmFyIGEwID0gYVswXSxcbiAgICAgIGExID0gYVsxXTtcbiAgdmFyIGIwID0gYlswXSxcbiAgICAgIGIxID0gYlsxXTtcbiAgcmV0dXJuIE1hdGguYWJzKGEwIC0gYjApIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEwKSwgTWF0aC5hYnMoYjApKSAmJiBNYXRoLmFicyhhMSAtIGIxKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMSksIE1hdGguYWJzKGIxKSk7XG59XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjMi5sZW5ndGh9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIGxlbiA9IGxlbmd0aDtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMyLnN1YnRyYWN0fVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBzdWIgPSBzdWJ0cmFjdDtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMyLm11bHRpcGx5fVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBtdWwgPSBtdWx0aXBseTtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMyLmRpdmlkZX1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgZGl2ID0gZGl2aWRlO1xuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzIuZGlzdGFuY2V9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIGRpc3QgPSBkaXN0YW5jZTtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMyLnNxdWFyZWREaXN0YW5jZX1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgc3FyRGlzdCA9IHNxdWFyZWREaXN0YW5jZTtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMyLnNxdWFyZWRMZW5ndGh9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIHNxckxlbiA9IHNxdWFyZWRMZW5ndGg7XG4vKipcbiAqIFBlcmZvcm0gc29tZSBvcGVyYXRpb24gb3ZlciBhbiBhcnJheSBvZiB2ZWMycy5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBhIHRoZSBhcnJheSBvZiB2ZWN0b3JzIHRvIGl0ZXJhdGUgb3ZlclxuICogQHBhcmFtIHtOdW1iZXJ9IHN0cmlkZSBOdW1iZXIgb2YgZWxlbWVudHMgYmV0d2VlbiB0aGUgc3RhcnQgb2YgZWFjaCB2ZWMyLiBJZiAwIGFzc3VtZXMgdGlnaHRseSBwYWNrZWRcbiAqIEBwYXJhbSB7TnVtYmVyfSBvZmZzZXQgTnVtYmVyIG9mIGVsZW1lbnRzIHRvIHNraXAgYXQgdGhlIGJlZ2lubmluZyBvZiB0aGUgYXJyYXlcbiAqIEBwYXJhbSB7TnVtYmVyfSBjb3VudCBOdW1iZXIgb2YgdmVjMnMgdG8gaXRlcmF0ZSBvdmVyLiBJZiAwIGl0ZXJhdGVzIG92ZXIgZW50aXJlIGFycmF5XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBGdW5jdGlvbiB0byBjYWxsIGZvciBlYWNoIHZlY3RvciBpbiB0aGUgYXJyYXlcbiAqIEBwYXJhbSB7T2JqZWN0fSBbYXJnXSBhZGRpdGlvbmFsIGFyZ3VtZW50IHRvIHBhc3MgdG8gZm5cbiAqIEByZXR1cm5zIHtBcnJheX0gYVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBmb3JFYWNoID0gZnVuY3Rpb24gKCkge1xuICB2YXIgdmVjID0gY3JlYXRlKCk7XG4gIHJldHVybiBmdW5jdGlvbiAoYSwgc3RyaWRlLCBvZmZzZXQsIGNvdW50LCBmbiwgYXJnKSB7XG4gICAgdmFyIGksIGw7XG5cbiAgICBpZiAoIXN0cmlkZSkge1xuICAgICAgc3RyaWRlID0gMjtcbiAgICB9XG5cbiAgICBpZiAoIW9mZnNldCkge1xuICAgICAgb2Zmc2V0ID0gMDtcbiAgICB9XG5cbiAgICBpZiAoY291bnQpIHtcbiAgICAgIGwgPSBNYXRoLm1pbihjb3VudCAqIHN0cmlkZSArIG9mZnNldCwgYS5sZW5ndGgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsID0gYS5sZW5ndGg7XG4gICAgfVxuXG4gICAgZm9yIChpID0gb2Zmc2V0OyBpIDwgbDsgaSArPSBzdHJpZGUpIHtcbiAgICAgIHZlY1swXSA9IGFbaV07XG4gICAgICB2ZWNbMV0gPSBhW2kgKyAxXTtcbiAgICAgIGZuKHZlYywgdmVjLCBhcmcpO1xuICAgICAgYVtpXSA9IHZlY1swXTtcbiAgICAgIGFbaSArIDFdID0gdmVjWzFdO1xuICAgIH1cblxuICAgIHJldHVybiBhO1xuICB9O1xufSgpOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/gl-matrix/esm/vec2.js\n");

/***/ }),

/***/ "./node_modules/gl-matrix/esm/vec3.js":
/*!********************************************!*\
  !*** ./node_modules/gl-matrix/esm/vec3.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   add: () => (/* binding */ add),\n/* harmony export */   angle: () => (/* binding */ angle),\n/* harmony export */   cross: () => (/* binding */ cross),\n/* harmony export */   mul: () => (/* binding */ mul),\n/* harmony export */   negate: () => (/* binding */ negate),\n/* harmony export */   rotateX: () => (/* binding */ rotateX),\n/* harmony export */   rotateY: () => (/* binding */ rotateY),\n/* harmony export */   rotateZ: () => (/* binding */ rotateZ),\n/* harmony export */   sub: () => (/* binding */ sub),\n/* harmony export */   transformMat3: () => (/* binding */ transformMat3),\n/* harmony export */   transformMat4: () => (/* binding */ transformMat4),\n/* harmony export */   transformQuat: () => (/* binding */ transformQuat)\n/* harmony export */ });\n/* unused harmony exports create, clone, length, fromValues, copy, set, subtract, multiply, divide, ceil, floor, min, max, round, scale, scaleAndAdd, distance, squaredDistance, squaredLength, inverse, normalize, dot, lerp, hermite, bezier, random, zero, str, exactEquals, equals, div, dist, sqrDist, len, sqrLen, forEach */\n/* harmony import */ var _common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./common.js */ \"./node_modules/gl-matrix/esm/common.js\");\n\n/**\n * 3 Dimensional Vector\n * @module vec3\n */\n\n/**\n * Creates a new, empty vec3\n *\n * @returns {vec3} a new 3D vector\n */\n\nfunction create() {\n  var out = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(3);\n\n  if (_common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec3 initialized with values from an existing vector\n *\n * @param {ReadonlyVec3} a vector to clone\n * @returns {vec3} a new 3D vector\n */\n\nfunction clone(a) {\n  var out = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(3);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Calculates the length of a vec3\n *\n * @param {ReadonlyVec3} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nfunction length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return Math.hypot(x, y, z);\n}\n/**\n * Creates a new vec3 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} a new 3D vector\n */\n\nfunction fromValues(x, y, z) {\n  var out = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(3);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Copy the values from one vec3 to another\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the source vector\n * @returns {vec3} out\n */\n\nfunction copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Set the components of a vec3 to the given values\n *\n * @param {vec3} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} out\n */\n\nfunction set(out, x, y, z) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Adds two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nfunction add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nfunction subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n/**\n * Multiplies two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nfunction multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n/**\n * Divides two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nfunction divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n/**\n * Math.ceil the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to ceil\n * @returns {vec3} out\n */\n\nfunction ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  return out;\n}\n/**\n * Math.floor the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to floor\n * @returns {vec3} out\n */\n\nfunction floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  return out;\n}\n/**\n * Returns the minimum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nfunction min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  return out;\n}\n/**\n * Returns the maximum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nfunction max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  return out;\n}\n/**\n * Math.round the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to round\n * @returns {vec3} out\n */\n\nfunction round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  return out;\n}\n/**\n * Scales a vec3 by a scalar number\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec3} out\n */\n\nfunction scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  return out;\n}\n/**\n * Adds two vec3's after scaling the second operand by a scalar value\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec3} out\n */\n\nfunction scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} distance between a and b\n */\n\nfunction distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return Math.hypot(x, y, z);\n}\n/**\n * Calculates the squared euclidian distance between two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nfunction squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Calculates the squared length of a vec3\n *\n * @param {ReadonlyVec3} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nfunction squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Negates the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to negate\n * @returns {vec3} out\n */\n\nfunction negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to invert\n * @returns {vec3} out\n */\n\nfunction inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  return out;\n}\n/**\n * Normalize a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to normalize\n * @returns {vec3} out\n */\n\nfunction normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var len = x * x + y * y + z * z;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  out[2] = a[2] * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nfunction dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n/**\n * Computes the cross product of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nfunction cross(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2];\n  out[0] = ay * bz - az * by;\n  out[1] = az * bx - ax * bz;\n  out[2] = ax * by - ay * bx;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nfunction lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  return out;\n}\n/**\n * Performs a hermite interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {ReadonlyVec3} c the third operand\n * @param {ReadonlyVec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nfunction hermite(out, a, b, c, d, t) {\n  var factorTimes2 = t * t;\n  var factor1 = factorTimes2 * (2 * t - 3) + 1;\n  var factor2 = factorTimes2 * (t - 2) + t;\n  var factor3 = factorTimes2 * (t - 1);\n  var factor4 = factorTimes2 * (3 - 2 * t);\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Performs a bezier interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {ReadonlyVec3} c the third operand\n * @param {ReadonlyVec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nfunction bezier(out, a, b, c, d, t) {\n  var inverseFactor = 1 - t;\n  var inverseFactorTimesTwo = inverseFactor * inverseFactor;\n  var factorTimes2 = t * t;\n  var factor1 = inverseFactorTimesTwo * inverseFactor;\n  var factor2 = 3 * t * inverseFactorTimesTwo;\n  var factor3 = 3 * factorTimes2 * inverseFactor;\n  var factor4 = factorTimes2 * t;\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec3} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec3} out\n */\n\nfunction random(out, scale) {\n  scale = scale || 1.0;\n  var r = _common_js__WEBPACK_IMPORTED_MODULE_0__.RANDOM() * 2.0 * Math.PI;\n  var z = _common_js__WEBPACK_IMPORTED_MODULE_0__.RANDOM() * 2.0 - 1.0;\n  var zScale = Math.sqrt(1.0 - z * z) * scale;\n  out[0] = Math.cos(r) * zScale;\n  out[1] = Math.sin(r) * zScale;\n  out[2] = z * scale;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat4.\n * 4th vector component is implicitly '1'\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec3} out\n */\n\nfunction transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  w = w || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat3.\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyMat3} m the 3x3 matrix to transform with\n * @returns {vec3} out\n */\n\nfunction transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x * m[0] + y * m[3] + z * m[6];\n  out[1] = x * m[1] + y * m[4] + z * m[7];\n  out[2] = x * m[2] + y * m[5] + z * m[8];\n  return out;\n}\n/**\n * Transforms the vec3 with a quat\n * Can also be used for dual quaternions. (Multiply it with the real part)\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyQuat} q quaternion to transform with\n * @returns {vec3} out\n */\n\nfunction transformQuat(out, a, q) {\n  // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3];\n  var x = a[0],\n      y = a[1],\n      z = a[2]; // var qvec = [qx, qy, qz];\n  // var uv = vec3.cross([], qvec, a);\n\n  var uvx = qy * z - qz * y,\n      uvy = qz * x - qx * z,\n      uvz = qx * y - qy * x; // var uuv = vec3.cross([], qvec, uv);\n\n  var uuvx = qy * uvz - qz * uvy,\n      uuvy = qz * uvx - qx * uvz,\n      uuvz = qx * uvy - qy * uvx; // vec3.scale(uv, uv, 2 * w);\n\n  var w2 = qw * 2;\n  uvx *= w2;\n  uvy *= w2;\n  uvz *= w2; // vec3.scale(uuv, uuv, 2);\n\n  uuvx *= 2;\n  uuvy *= 2;\n  uuvz *= 2; // return vec3.add(out, a, vec3.add(out, uv, uuv));\n\n  out[0] = x + uvx + uuvx;\n  out[1] = y + uvy + uuvy;\n  out[2] = z + uvz + uuvz;\n  return out;\n}\n/**\n * Rotate a 3D vector around the x-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nfunction rotateX(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0];\n  r[1] = p[1] * Math.cos(rad) - p[2] * Math.sin(rad);\n  r[2] = p[1] * Math.sin(rad) + p[2] * Math.cos(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the y-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nfunction rotateY(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[2] * Math.sin(rad) + p[0] * Math.cos(rad);\n  r[1] = p[1];\n  r[2] = p[2] * Math.cos(rad) - p[0] * Math.sin(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the z-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nfunction rotateZ(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0] * Math.cos(rad) - p[1] * Math.sin(rad);\n  r[1] = p[0] * Math.sin(rad) + p[1] * Math.cos(rad);\n  r[2] = p[2]; //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Get the angle between two 3D vectors\n * @param {ReadonlyVec3} a The first operand\n * @param {ReadonlyVec3} b The second operand\n * @returns {Number} The angle in radians\n */\n\nfunction angle(a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      bx = b[0],\n      by = b[1],\n      bz = b[2],\n      mag1 = Math.sqrt(ax * ax + ay * ay + az * az),\n      mag2 = Math.sqrt(bx * bx + by * by + bz * bz),\n      mag = mag1 * mag2,\n      cosine = mag && dot(a, b) / mag;\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\n * Set the components of a vec3 to zero\n *\n * @param {vec3} out the receiving vector\n * @returns {vec3} out\n */\n\nfunction zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec3} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nfunction str(a) {\n  return \"vec3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \")\";\n}\n/**\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec3} a The first vector.\n * @param {ReadonlyVec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nfunction exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec3} a The first vector.\n * @param {ReadonlyVec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nfunction equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2];\n  return Math.abs(a0 - b0) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));\n}\n/**\n * Alias for {@link vec3.subtract}\n * @function\n */\n\nvar sub = subtract;\n/**\n * Alias for {@link vec3.multiply}\n * @function\n */\n\nvar mul = multiply;\n/**\n * Alias for {@link vec3.divide}\n * @function\n */\n\nvar div = divide;\n/**\n * Alias for {@link vec3.distance}\n * @function\n */\n\nvar dist = distance;\n/**\n * Alias for {@link vec3.squaredDistance}\n * @function\n */\n\nvar sqrDist = squaredDistance;\n/**\n * Alias for {@link vec3.length}\n * @function\n */\n\nvar len = length;\n/**\n * Alias for {@link vec3.squaredLength}\n * @function\n */\n\nvar sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec3s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nvar forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 3;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n    }\n\n    return a;\n  };\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZ2wtbWF0cml4L2VzbS92ZWMzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3N1cGVyc2V0Ly4vbm9kZV9tb2R1bGVzL2dsLW1hdHJpeC9lc20vdmVjMy5qcz85ZmU3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGdsTWF0cml4IGZyb20gXCIuL2NvbW1vbi5qc1wiO1xuLyoqXG4gKiAzIERpbWVuc2lvbmFsIFZlY3RvclxuICogQG1vZHVsZSB2ZWMzXG4gKi9cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3LCBlbXB0eSB2ZWMzXG4gKlxuICogQHJldHVybnMge3ZlYzN9IGEgbmV3IDNEIHZlY3RvclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgzKTtcblxuICBpZiAoZ2xNYXRyaXguQVJSQVlfVFlQRSAhPSBGbG9hdDMyQXJyYXkpIHtcbiAgICBvdXRbMF0gPSAwO1xuICAgIG91dFsxXSA9IDA7XG4gICAgb3V0WzJdID0gMDtcbiAgfVxuXG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgdmVjMyBpbml0aWFsaXplZCB3aXRoIHZhbHVlcyBmcm9tIGFuIGV4aXN0aW5nIHZlY3RvclxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byBjbG9uZVxuICogQHJldHVybnMge3ZlYzN9IGEgbmV3IDNEIHZlY3RvclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZShhKSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgzKTtcbiAgb3V0WzBdID0gYVswXTtcbiAgb3V0WzFdID0gYVsxXTtcbiAgb3V0WzJdID0gYVsyXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgbGVuZ3RoIG9mIGEgdmVjM1xuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byBjYWxjdWxhdGUgbGVuZ3RoIG9mXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBsZW5ndGggb2YgYVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBsZW5ndGgoYSkge1xuICB2YXIgeCA9IGFbMF07XG4gIHZhciB5ID0gYVsxXTtcbiAgdmFyIHogPSBhWzJdO1xuICByZXR1cm4gTWF0aC5oeXBvdCh4LCB5LCB6KTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyB2ZWMzIGluaXRpYWxpemVkIHdpdGggdGhlIGdpdmVuIHZhbHVlc1xuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSB4IFggY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0geSBZIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHogWiBjb21wb25lbnRcbiAqIEByZXR1cm5zIHt2ZWMzfSBhIG5ldyAzRCB2ZWN0b3JcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVZhbHVlcyh4LCB5LCB6KSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgzKTtcbiAgb3V0WzBdID0geDtcbiAgb3V0WzFdID0geTtcbiAgb3V0WzJdID0gejtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ29weSB0aGUgdmFsdWVzIGZyb20gb25lIHZlYzMgdG8gYW5vdGhlclxuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgc291cmNlIHZlY3RvclxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjb3B5KG91dCwgYSkge1xuICBvdXRbMF0gPSBhWzBdO1xuICBvdXRbMV0gPSBhWzFdO1xuICBvdXRbMl0gPSBhWzJdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBTZXQgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMzIHRvIHRoZSBnaXZlbiB2YWx1ZXNcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtOdW1iZXJ9IHggWCBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB5IFkgY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0geiBaIGNvbXBvbmVudFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzZXQob3V0LCB4LCB5LCB6KSB7XG4gIG91dFswXSA9IHg7XG4gIG91dFsxXSA9IHk7XG4gIG91dFsyXSA9IHo7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEFkZHMgdHdvIHZlYzMnc1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSArIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gKyBiWzFdO1xuICBvdXRbMl0gPSBhWzJdICsgYlsyXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogU3VidHJhY3RzIHZlY3RvciBiIGZyb20gdmVjdG9yIGFcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzdWJ0cmFjdChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAtIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gLSBiWzFdO1xuICBvdXRbMl0gPSBhWzJdIC0gYlsyXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogTXVsdGlwbGllcyB0d28gdmVjMydzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHkob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gKiBiWzBdO1xuICBvdXRbMV0gPSBhWzFdICogYlsxXTtcbiAgb3V0WzJdID0gYVsyXSAqIGJbMl07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIERpdmlkZXMgdHdvIHZlYzMnc1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGRpdmlkZShvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAvIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gLyBiWzFdO1xuICBvdXRbMl0gPSBhWzJdIC8gYlsyXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogTWF0aC5jZWlsIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjM1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gY2VpbFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjZWlsKG91dCwgYSkge1xuICBvdXRbMF0gPSBNYXRoLmNlaWwoYVswXSk7XG4gIG91dFsxXSA9IE1hdGguY2VpbChhWzFdKTtcbiAgb3V0WzJdID0gTWF0aC5jZWlsKGFbMl0pO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBNYXRoLmZsb29yIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjM1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gZmxvb3JcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZmxvb3Iob3V0LCBhKSB7XG4gIG91dFswXSA9IE1hdGguZmxvb3IoYVswXSk7XG4gIG91dFsxXSA9IE1hdGguZmxvb3IoYVsxXSk7XG4gIG91dFsyXSA9IE1hdGguZmxvb3IoYVsyXSk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIG1pbmltdW0gb2YgdHdvIHZlYzMnc1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG1pbihvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gTWF0aC5taW4oYVswXSwgYlswXSk7XG4gIG91dFsxXSA9IE1hdGgubWluKGFbMV0sIGJbMV0pO1xuICBvdXRbMl0gPSBNYXRoLm1pbihhWzJdLCBiWzJdKTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgbWF4aW11bSBvZiB0d28gdmVjMydzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbWF4KG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBNYXRoLm1heChhWzBdLCBiWzBdKTtcbiAgb3V0WzFdID0gTWF0aC5tYXgoYVsxXSwgYlsxXSk7XG4gIG91dFsyXSA9IE1hdGgubWF4KGFbMl0sIGJbMl0pO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBNYXRoLnJvdW5kIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjM1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gcm91bmRcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcm91bmQob3V0LCBhKSB7XG4gIG91dFswXSA9IE1hdGgucm91bmQoYVswXSk7XG4gIG91dFsxXSA9IE1hdGgucm91bmQoYVsxXSk7XG4gIG91dFsyXSA9IE1hdGgucm91bmQoYVsyXSk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFNjYWxlcyBhIHZlYzMgYnkgYSBzY2FsYXIgbnVtYmVyXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSB2ZWN0b3IgdG8gc2NhbGVcbiAqIEBwYXJhbSB7TnVtYmVyfSBiIGFtb3VudCB0byBzY2FsZSB0aGUgdmVjdG9yIGJ5XG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNjYWxlKG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdICogYjtcbiAgb3V0WzFdID0gYVsxXSAqIGI7XG4gIG91dFsyXSA9IGFbMl0gKiBiO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBBZGRzIHR3byB2ZWMzJ3MgYWZ0ZXIgc2NhbGluZyB0aGUgc2Vjb25kIG9wZXJhbmQgYnkgYSBzY2FsYXIgdmFsdWVcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxlIHRoZSBhbW91bnQgdG8gc2NhbGUgYiBieSBiZWZvcmUgYWRkaW5nXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNjYWxlQW5kQWRkKG91dCwgYSwgYiwgc2NhbGUpIHtcbiAgb3V0WzBdID0gYVswXSArIGJbMF0gKiBzY2FsZTtcbiAgb3V0WzFdID0gYVsxXSArIGJbMV0gKiBzY2FsZTtcbiAgb3V0WzJdID0gYVsyXSArIGJbMl0gKiBzY2FsZTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgZXVjbGlkaWFuIGRpc3RhbmNlIGJldHdlZW4gdHdvIHZlYzMnc1xuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGRpc3RhbmNlIGJldHdlZW4gYSBhbmQgYlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBkaXN0YW5jZShhLCBiKSB7XG4gIHZhciB4ID0gYlswXSAtIGFbMF07XG4gIHZhciB5ID0gYlsxXSAtIGFbMV07XG4gIHZhciB6ID0gYlsyXSAtIGFbMl07XG4gIHJldHVybiBNYXRoLmh5cG90KHgsIHksIHopO1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBzcXVhcmVkIGV1Y2xpZGlhbiBkaXN0YW5jZSBiZXR3ZWVuIHR3byB2ZWMzJ3NcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBzcXVhcmVkIGRpc3RhbmNlIGJldHdlZW4gYSBhbmQgYlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzcXVhcmVkRGlzdGFuY2UoYSwgYikge1xuICB2YXIgeCA9IGJbMF0gLSBhWzBdO1xuICB2YXIgeSA9IGJbMV0gLSBhWzFdO1xuICB2YXIgeiA9IGJbMl0gLSBhWzJdO1xuICByZXR1cm4geCAqIHggKyB5ICogeSArIHogKiB6O1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBzcXVhcmVkIGxlbmd0aCBvZiBhIHZlYzNcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gY2FsY3VsYXRlIHNxdWFyZWQgbGVuZ3RoIG9mXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBzcXVhcmVkIGxlbmd0aCBvZiBhXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNxdWFyZWRMZW5ndGgoYSkge1xuICB2YXIgeCA9IGFbMF07XG4gIHZhciB5ID0gYVsxXTtcbiAgdmFyIHogPSBhWzJdO1xuICByZXR1cm4geCAqIHggKyB5ICogeSArIHogKiB6O1xufVxuLyoqXG4gKiBOZWdhdGVzIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjM1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gbmVnYXRlXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG5lZ2F0ZShvdXQsIGEpIHtcbiAgb3V0WzBdID0gLWFbMF07XG4gIG91dFsxXSA9IC1hWzFdO1xuICBvdXRbMl0gPSAtYVsyXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgaW52ZXJzZSBvZiB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzNcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdmVjdG9yIHRvIGludmVydFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBpbnZlcnNlKG91dCwgYSkge1xuICBvdXRbMF0gPSAxLjAgLyBhWzBdO1xuICBvdXRbMV0gPSAxLjAgLyBhWzFdO1xuICBvdXRbMl0gPSAxLjAgLyBhWzJdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBOb3JtYWxpemUgYSB2ZWMzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byBub3JtYWxpemVcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplKG91dCwgYSkge1xuICB2YXIgeCA9IGFbMF07XG4gIHZhciB5ID0gYVsxXTtcbiAgdmFyIHogPSBhWzJdO1xuICB2YXIgbGVuID0geCAqIHggKyB5ICogeSArIHogKiB6O1xuXG4gIGlmIChsZW4gPiAwKSB7XG4gICAgLy9UT0RPOiBldmFsdWF0ZSB1c2Ugb2YgZ2xtX2ludnNxcnQgaGVyZT9cbiAgICBsZW4gPSAxIC8gTWF0aC5zcXJ0KGxlbik7XG4gIH1cblxuICBvdXRbMF0gPSBhWzBdICogbGVuO1xuICBvdXRbMV0gPSBhWzFdICogbGVuO1xuICBvdXRbMl0gPSBhWzJdICogbGVuO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBkb3QgcHJvZHVjdCBvZiB0d28gdmVjMydzXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge051bWJlcn0gZG90IHByb2R1Y3Qgb2YgYSBhbmQgYlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBkb3QoYSwgYikge1xuICByZXR1cm4gYVswXSAqIGJbMF0gKyBhWzFdICogYlsxXSArIGFbMl0gKiBiWzJdO1xufVxuLyoqXG4gKiBDb21wdXRlcyB0aGUgY3Jvc3MgcHJvZHVjdCBvZiB0d28gdmVjMydzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY3Jvc3Mob3V0LCBhLCBiKSB7XG4gIHZhciBheCA9IGFbMF0sXG4gICAgICBheSA9IGFbMV0sXG4gICAgICBheiA9IGFbMl07XG4gIHZhciBieCA9IGJbMF0sXG4gICAgICBieSA9IGJbMV0sXG4gICAgICBieiA9IGJbMl07XG4gIG91dFswXSA9IGF5ICogYnogLSBheiAqIGJ5O1xuICBvdXRbMV0gPSBheiAqIGJ4IC0gYXggKiBiejtcbiAgb3V0WzJdID0gYXggKiBieSAtIGF5ICogYng7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFBlcmZvcm1zIGEgbGluZWFyIGludGVycG9sYXRpb24gYmV0d2VlbiB0d28gdmVjMydzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEBwYXJhbSB7TnVtYmVyfSB0IGludGVycG9sYXRpb24gYW1vdW50LCBpbiB0aGUgcmFuZ2UgWzAtMV0sIGJldHdlZW4gdGhlIHR3byBpbnB1dHNcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbGVycChvdXQsIGEsIGIsIHQpIHtcbiAgdmFyIGF4ID0gYVswXTtcbiAgdmFyIGF5ID0gYVsxXTtcbiAgdmFyIGF6ID0gYVsyXTtcbiAgb3V0WzBdID0gYXggKyB0ICogKGJbMF0gLSBheCk7XG4gIG91dFsxXSA9IGF5ICsgdCAqIChiWzFdIC0gYXkpO1xuICBvdXRbMl0gPSBheiArIHQgKiAoYlsyXSAtIGF6KTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUGVyZm9ybXMgYSBoZXJtaXRlIGludGVycG9sYXRpb24gd2l0aCB0d28gY29udHJvbCBwb2ludHNcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGMgdGhlIHRoaXJkIG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBkIHRoZSBmb3VydGggb3BlcmFuZFxuICogQHBhcmFtIHtOdW1iZXJ9IHQgaW50ZXJwb2xhdGlvbiBhbW91bnQsIGluIHRoZSByYW5nZSBbMC0xXSwgYmV0d2VlbiB0aGUgdHdvIGlucHV0c1xuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBoZXJtaXRlKG91dCwgYSwgYiwgYywgZCwgdCkge1xuICB2YXIgZmFjdG9yVGltZXMyID0gdCAqIHQ7XG4gIHZhciBmYWN0b3IxID0gZmFjdG9yVGltZXMyICogKDIgKiB0IC0gMykgKyAxO1xuICB2YXIgZmFjdG9yMiA9IGZhY3RvclRpbWVzMiAqICh0IC0gMikgKyB0O1xuICB2YXIgZmFjdG9yMyA9IGZhY3RvclRpbWVzMiAqICh0IC0gMSk7XG4gIHZhciBmYWN0b3I0ID0gZmFjdG9yVGltZXMyICogKDMgLSAyICogdCk7XG4gIG91dFswXSA9IGFbMF0gKiBmYWN0b3IxICsgYlswXSAqIGZhY3RvcjIgKyBjWzBdICogZmFjdG9yMyArIGRbMF0gKiBmYWN0b3I0O1xuICBvdXRbMV0gPSBhWzFdICogZmFjdG9yMSArIGJbMV0gKiBmYWN0b3IyICsgY1sxXSAqIGZhY3RvcjMgKyBkWzFdICogZmFjdG9yNDtcbiAgb3V0WzJdID0gYVsyXSAqIGZhY3RvcjEgKyBiWzJdICogZmFjdG9yMiArIGNbMl0gKiBmYWN0b3IzICsgZFsyXSAqIGZhY3RvcjQ7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFBlcmZvcm1zIGEgYmV6aWVyIGludGVycG9sYXRpb24gd2l0aCB0d28gY29udHJvbCBwb2ludHNcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGMgdGhlIHRoaXJkIG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBkIHRoZSBmb3VydGggb3BlcmFuZFxuICogQHBhcmFtIHtOdW1iZXJ9IHQgaW50ZXJwb2xhdGlvbiBhbW91bnQsIGluIHRoZSByYW5nZSBbMC0xXSwgYmV0d2VlbiB0aGUgdHdvIGlucHV0c1xuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBiZXppZXIob3V0LCBhLCBiLCBjLCBkLCB0KSB7XG4gIHZhciBpbnZlcnNlRmFjdG9yID0gMSAtIHQ7XG4gIHZhciBpbnZlcnNlRmFjdG9yVGltZXNUd28gPSBpbnZlcnNlRmFjdG9yICogaW52ZXJzZUZhY3RvcjtcbiAgdmFyIGZhY3RvclRpbWVzMiA9IHQgKiB0O1xuICB2YXIgZmFjdG9yMSA9IGludmVyc2VGYWN0b3JUaW1lc1R3byAqIGludmVyc2VGYWN0b3I7XG4gIHZhciBmYWN0b3IyID0gMyAqIHQgKiBpbnZlcnNlRmFjdG9yVGltZXNUd287XG4gIHZhciBmYWN0b3IzID0gMyAqIGZhY3RvclRpbWVzMiAqIGludmVyc2VGYWN0b3I7XG4gIHZhciBmYWN0b3I0ID0gZmFjdG9yVGltZXMyICogdDtcbiAgb3V0WzBdID0gYVswXSAqIGZhY3RvcjEgKyBiWzBdICogZmFjdG9yMiArIGNbMF0gKiBmYWN0b3IzICsgZFswXSAqIGZhY3RvcjQ7XG4gIG91dFsxXSA9IGFbMV0gKiBmYWN0b3IxICsgYlsxXSAqIGZhY3RvcjIgKyBjWzFdICogZmFjdG9yMyArIGRbMV0gKiBmYWN0b3I0O1xuICBvdXRbMl0gPSBhWzJdICogZmFjdG9yMSArIGJbMl0gKiBmYWN0b3IyICsgY1syXSAqIGZhY3RvcjMgKyBkWzJdICogZmFjdG9yNDtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogR2VuZXJhdGVzIGEgcmFuZG9tIHZlY3RvciB3aXRoIHRoZSBnaXZlbiBzY2FsZVxuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge051bWJlcn0gW3NjYWxlXSBMZW5ndGggb2YgdGhlIHJlc3VsdGluZyB2ZWN0b3IuIElmIG9tbWl0dGVkLCBhIHVuaXQgdmVjdG9yIHdpbGwgYmUgcmV0dXJuZWRcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcmFuZG9tKG91dCwgc2NhbGUpIHtcbiAgc2NhbGUgPSBzY2FsZSB8fCAxLjA7XG4gIHZhciByID0gZ2xNYXRyaXguUkFORE9NKCkgKiAyLjAgKiBNYXRoLlBJO1xuICB2YXIgeiA9IGdsTWF0cml4LlJBTkRPTSgpICogMi4wIC0gMS4wO1xuICB2YXIgelNjYWxlID0gTWF0aC5zcXJ0KDEuMCAtIHogKiB6KSAqIHNjYWxlO1xuICBvdXRbMF0gPSBNYXRoLmNvcyhyKSAqIHpTY2FsZTtcbiAgb3V0WzFdID0gTWF0aC5zaW4ocikgKiB6U2NhbGU7XG4gIG91dFsyXSA9IHogKiBzY2FsZTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogVHJhbnNmb3JtcyB0aGUgdmVjMyB3aXRoIGEgbWF0NC5cbiAqIDR0aCB2ZWN0b3IgY29tcG9uZW50IGlzIGltcGxpY2l0bHkgJzEnXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSB2ZWN0b3IgdG8gdHJhbnNmb3JtXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gbSBtYXRyaXggdG8gdHJhbnNmb3JtIHdpdGhcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtTWF0NChvdXQsIGEsIG0pIHtcbiAgdmFyIHggPSBhWzBdLFxuICAgICAgeSA9IGFbMV0sXG4gICAgICB6ID0gYVsyXTtcbiAgdmFyIHcgPSBtWzNdICogeCArIG1bN10gKiB5ICsgbVsxMV0gKiB6ICsgbVsxNV07XG4gIHcgPSB3IHx8IDEuMDtcbiAgb3V0WzBdID0gKG1bMF0gKiB4ICsgbVs0XSAqIHkgKyBtWzhdICogeiArIG1bMTJdKSAvIHc7XG4gIG91dFsxXSA9IChtWzFdICogeCArIG1bNV0gKiB5ICsgbVs5XSAqIHogKyBtWzEzXSkgLyB3O1xuICBvdXRbMl0gPSAobVsyXSAqIHggKyBtWzZdICogeSArIG1bMTBdICogeiArIG1bMTRdKSAvIHc7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFRyYW5zZm9ybXMgdGhlIHZlYzMgd2l0aCBhIG1hdDMuXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSB2ZWN0b3IgdG8gdHJhbnNmb3JtXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gbSB0aGUgM3gzIG1hdHJpeCB0byB0cmFuc2Zvcm0gd2l0aFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2Zvcm1NYXQzKG91dCwgYSwgbSkge1xuICB2YXIgeCA9IGFbMF0sXG4gICAgICB5ID0gYVsxXSxcbiAgICAgIHogPSBhWzJdO1xuICBvdXRbMF0gPSB4ICogbVswXSArIHkgKiBtWzNdICsgeiAqIG1bNl07XG4gIG91dFsxXSA9IHggKiBtWzFdICsgeSAqIG1bNF0gKyB6ICogbVs3XTtcbiAgb3V0WzJdID0geCAqIG1bMl0gKyB5ICogbVs1XSArIHogKiBtWzhdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBUcmFuc2Zvcm1zIHRoZSB2ZWMzIHdpdGggYSBxdWF0XG4gKiBDYW4gYWxzbyBiZSB1c2VkIGZvciBkdWFsIHF1YXRlcm5pb25zLiAoTXVsdGlwbHkgaXQgd2l0aCB0aGUgcmVhbCBwYXJ0KVxuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgdmVjdG9yIHRvIHRyYW5zZm9ybVxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IHEgcXVhdGVybmlvbiB0byB0cmFuc2Zvcm0gd2l0aFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2Zvcm1RdWF0KG91dCwgYSwgcSkge1xuICAvLyBiZW5jaG1hcmtzOiBodHRwczovL2pzcGVyZi5jb20vcXVhdGVybmlvbi10cmFuc2Zvcm0tdmVjMy1pbXBsZW1lbnRhdGlvbnMtZml4ZWRcbiAgdmFyIHF4ID0gcVswXSxcbiAgICAgIHF5ID0gcVsxXSxcbiAgICAgIHF6ID0gcVsyXSxcbiAgICAgIHF3ID0gcVszXTtcbiAgdmFyIHggPSBhWzBdLFxuICAgICAgeSA9IGFbMV0sXG4gICAgICB6ID0gYVsyXTsgLy8gdmFyIHF2ZWMgPSBbcXgsIHF5LCBxel07XG4gIC8vIHZhciB1diA9IHZlYzMuY3Jvc3MoW10sIHF2ZWMsIGEpO1xuXG4gIHZhciB1dnggPSBxeSAqIHogLSBxeiAqIHksXG4gICAgICB1dnkgPSBxeiAqIHggLSBxeCAqIHosXG4gICAgICB1dnogPSBxeCAqIHkgLSBxeSAqIHg7IC8vIHZhciB1dXYgPSB2ZWMzLmNyb3NzKFtdLCBxdmVjLCB1dik7XG5cbiAgdmFyIHV1dnggPSBxeSAqIHV2eiAtIHF6ICogdXZ5LFxuICAgICAgdXV2eSA9IHF6ICogdXZ4IC0gcXggKiB1dnosXG4gICAgICB1dXZ6ID0gcXggKiB1dnkgLSBxeSAqIHV2eDsgLy8gdmVjMy5zY2FsZSh1diwgdXYsIDIgKiB3KTtcblxuICB2YXIgdzIgPSBxdyAqIDI7XG4gIHV2eCAqPSB3MjtcbiAgdXZ5ICo9IHcyO1xuICB1dnogKj0gdzI7IC8vIHZlYzMuc2NhbGUodXV2LCB1dXYsIDIpO1xuXG4gIHV1dnggKj0gMjtcbiAgdXV2eSAqPSAyO1xuICB1dXZ6ICo9IDI7IC8vIHJldHVybiB2ZWMzLmFkZChvdXQsIGEsIHZlYzMuYWRkKG91dCwgdXYsIHV1dikpO1xuXG4gIG91dFswXSA9IHggKyB1dnggKyB1dXZ4O1xuICBvdXRbMV0gPSB5ICsgdXZ5ICsgdXV2eTtcbiAgb3V0WzJdID0geiArIHV2eiArIHV1dno7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJvdGF0ZSBhIDNEIHZlY3RvciBhcm91bmQgdGhlIHgtYXhpc1xuICogQHBhcmFtIHt2ZWMzfSBvdXQgVGhlIHJlY2VpdmluZyB2ZWMzXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSBUaGUgdmVjMyBwb2ludCB0byByb3RhdGVcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIFRoZSBvcmlnaW4gb2YgdGhlIHJvdGF0aW9uXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIFRoZSBhbmdsZSBvZiByb3RhdGlvbiBpbiByYWRpYW5zXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZVgob3V0LCBhLCBiLCByYWQpIHtcbiAgdmFyIHAgPSBbXSxcbiAgICAgIHIgPSBbXTsgLy9UcmFuc2xhdGUgcG9pbnQgdG8gdGhlIG9yaWdpblxuXG4gIHBbMF0gPSBhWzBdIC0gYlswXTtcbiAgcFsxXSA9IGFbMV0gLSBiWzFdO1xuICBwWzJdID0gYVsyXSAtIGJbMl07IC8vcGVyZm9ybSByb3RhdGlvblxuXG4gIHJbMF0gPSBwWzBdO1xuICByWzFdID0gcFsxXSAqIE1hdGguY29zKHJhZCkgLSBwWzJdICogTWF0aC5zaW4ocmFkKTtcbiAgclsyXSA9IHBbMV0gKiBNYXRoLnNpbihyYWQpICsgcFsyXSAqIE1hdGguY29zKHJhZCk7IC8vdHJhbnNsYXRlIHRvIGNvcnJlY3QgcG9zaXRpb25cblxuICBvdXRbMF0gPSByWzBdICsgYlswXTtcbiAgb3V0WzFdID0gclsxXSArIGJbMV07XG4gIG91dFsyXSA9IHJbMl0gKyBiWzJdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSb3RhdGUgYSAzRCB2ZWN0b3IgYXJvdW5kIHRoZSB5LWF4aXNcbiAqIEBwYXJhbSB7dmVjM30gb3V0IFRoZSByZWNlaXZpbmcgdmVjM1xuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgVGhlIHZlYzMgcG9pbnQgdG8gcm90YXRlXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiBUaGUgb3JpZ2luIG9mIHRoZSByb3RhdGlvblxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCBUaGUgYW5nbGUgb2Ygcm90YXRpb24gaW4gcmFkaWFuc1xuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVZKG91dCwgYSwgYiwgcmFkKSB7XG4gIHZhciBwID0gW10sXG4gICAgICByID0gW107IC8vVHJhbnNsYXRlIHBvaW50IHRvIHRoZSBvcmlnaW5cblxuICBwWzBdID0gYVswXSAtIGJbMF07XG4gIHBbMV0gPSBhWzFdIC0gYlsxXTtcbiAgcFsyXSA9IGFbMl0gLSBiWzJdOyAvL3BlcmZvcm0gcm90YXRpb25cblxuICByWzBdID0gcFsyXSAqIE1hdGguc2luKHJhZCkgKyBwWzBdICogTWF0aC5jb3MocmFkKTtcbiAgclsxXSA9IHBbMV07XG4gIHJbMl0gPSBwWzJdICogTWF0aC5jb3MocmFkKSAtIHBbMF0gKiBNYXRoLnNpbihyYWQpOyAvL3RyYW5zbGF0ZSB0byBjb3JyZWN0IHBvc2l0aW9uXG5cbiAgb3V0WzBdID0gclswXSArIGJbMF07XG4gIG91dFsxXSA9IHJbMV0gKyBiWzFdO1xuICBvdXRbMl0gPSByWzJdICsgYlsyXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUm90YXRlIGEgM0QgdmVjdG9yIGFyb3VuZCB0aGUgei1heGlzXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCBUaGUgcmVjZWl2aW5nIHZlYzNcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIFRoZSB2ZWMzIHBvaW50IHRvIHJvdGF0ZVxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgVGhlIG9yaWdpbiBvZiB0aGUgcm90YXRpb25cbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgVGhlIGFuZ2xlIG9mIHJvdGF0aW9uIGluIHJhZGlhbnNcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlWihvdXQsIGEsIGIsIHJhZCkge1xuICB2YXIgcCA9IFtdLFxuICAgICAgciA9IFtdOyAvL1RyYW5zbGF0ZSBwb2ludCB0byB0aGUgb3JpZ2luXG5cbiAgcFswXSA9IGFbMF0gLSBiWzBdO1xuICBwWzFdID0gYVsxXSAtIGJbMV07XG4gIHBbMl0gPSBhWzJdIC0gYlsyXTsgLy9wZXJmb3JtIHJvdGF0aW9uXG5cbiAgclswXSA9IHBbMF0gKiBNYXRoLmNvcyhyYWQpIC0gcFsxXSAqIE1hdGguc2luKHJhZCk7XG4gIHJbMV0gPSBwWzBdICogTWF0aC5zaW4ocmFkKSArIHBbMV0gKiBNYXRoLmNvcyhyYWQpO1xuICByWzJdID0gcFsyXTsgLy90cmFuc2xhdGUgdG8gY29ycmVjdCBwb3NpdGlvblxuXG4gIG91dFswXSA9IHJbMF0gKyBiWzBdO1xuICBvdXRbMV0gPSByWzFdICsgYlsxXTtcbiAgb3V0WzJdID0gclsyXSArIGJbMl07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEdldCB0aGUgYW5nbGUgYmV0d2VlbiB0d28gM0QgdmVjdG9yc1xuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgVGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIFRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge051bWJlcn0gVGhlIGFuZ2xlIGluIHJhZGlhbnNcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gYW5nbGUoYSwgYikge1xuICB2YXIgYXggPSBhWzBdLFxuICAgICAgYXkgPSBhWzFdLFxuICAgICAgYXogPSBhWzJdLFxuICAgICAgYnggPSBiWzBdLFxuICAgICAgYnkgPSBiWzFdLFxuICAgICAgYnogPSBiWzJdLFxuICAgICAgbWFnMSA9IE1hdGguc3FydChheCAqIGF4ICsgYXkgKiBheSArIGF6ICogYXopLFxuICAgICAgbWFnMiA9IE1hdGguc3FydChieCAqIGJ4ICsgYnkgKiBieSArIGJ6ICogYnopLFxuICAgICAgbWFnID0gbWFnMSAqIG1hZzIsXG4gICAgICBjb3NpbmUgPSBtYWcgJiYgZG90KGEsIGIpIC8gbWFnO1xuICByZXR1cm4gTWF0aC5hY29zKE1hdGgubWluKE1hdGgubWF4KGNvc2luZSwgLTEpLCAxKSk7XG59XG4vKipcbiAqIFNldCB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzMgdG8gemVyb1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHplcm8ob3V0KSB7XG4gIG91dFswXSA9IDAuMDtcbiAgb3V0WzFdID0gMC4wO1xuICBvdXRbMl0gPSAwLjA7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSB2ZWN0b3JcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gcmVwcmVzZW50IGFzIGEgc3RyaW5nXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIHZlY3RvclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzdHIoYSkge1xuICByZXR1cm4gXCJ2ZWMzKFwiICsgYVswXSArIFwiLCBcIiArIGFbMV0gKyBcIiwgXCIgKyBhWzJdICsgXCIpXCI7XG59XG4vKipcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIHZlY3RvcnMgaGF2ZSBleGFjdGx5IHRoZSBzYW1lIGVsZW1lbnRzIGluIHRoZSBzYW1lIHBvc2l0aW9uICh3aGVuIGNvbXBhcmVkIHdpdGggPT09KVxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIFRoZSBmaXJzdCB2ZWN0b3IuXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiBUaGUgc2Vjb25kIHZlY3Rvci5cbiAqIEByZXR1cm5zIHtCb29sZWFufSBUcnVlIGlmIHRoZSB2ZWN0b3JzIGFyZSBlcXVhbCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBleGFjdEVxdWFscyhhLCBiKSB7XG4gIHJldHVybiBhWzBdID09PSBiWzBdICYmIGFbMV0gPT09IGJbMV0gJiYgYVsyXSA9PT0gYlsyXTtcbn1cbi8qKlxuICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgdmVjdG9ycyBoYXZlIGFwcHJveGltYXRlbHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24uXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgVGhlIGZpcnN0IHZlY3Rvci5cbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIFRoZSBzZWNvbmQgdmVjdG9yLlxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIHZlY3RvcnMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGVxdWFscyhhLCBiKSB7XG4gIHZhciBhMCA9IGFbMF0sXG4gICAgICBhMSA9IGFbMV0sXG4gICAgICBhMiA9IGFbMl07XG4gIHZhciBiMCA9IGJbMF0sXG4gICAgICBiMSA9IGJbMV0sXG4gICAgICBiMiA9IGJbMl07XG4gIHJldHVybiBNYXRoLmFicyhhMCAtIGIwKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMCksIE1hdGguYWJzKGIwKSkgJiYgTWF0aC5hYnMoYTEgLSBiMSkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTEpLCBNYXRoLmFicyhiMSkpICYmIE1hdGguYWJzKGEyIC0gYjIpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEyKSwgTWF0aC5hYnMoYjIpKTtcbn1cbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLnN1YnRyYWN0fVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBzdWIgPSBzdWJ0cmFjdDtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLm11bHRpcGx5fVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBtdWwgPSBtdWx0aXBseTtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLmRpdmlkZX1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgZGl2ID0gZGl2aWRlO1xuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzMuZGlzdGFuY2V9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIGRpc3QgPSBkaXN0YW5jZTtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLnNxdWFyZWREaXN0YW5jZX1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgc3FyRGlzdCA9IHNxdWFyZWREaXN0YW5jZTtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLmxlbmd0aH1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgbGVuID0gbGVuZ3RoO1xuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzMuc3F1YXJlZExlbmd0aH1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgc3FyTGVuID0gc3F1YXJlZExlbmd0aDtcbi8qKlxuICogUGVyZm9ybSBzb21lIG9wZXJhdGlvbiBvdmVyIGFuIGFycmF5IG9mIHZlYzNzLlxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IGEgdGhlIGFycmF5IG9mIHZlY3RvcnMgdG8gaXRlcmF0ZSBvdmVyXG4gKiBAcGFyYW0ge051bWJlcn0gc3RyaWRlIE51bWJlciBvZiBlbGVtZW50cyBiZXR3ZWVuIHRoZSBzdGFydCBvZiBlYWNoIHZlYzMuIElmIDAgYXNzdW1lcyB0aWdodGx5IHBhY2tlZFxuICogQHBhcmFtIHtOdW1iZXJ9IG9mZnNldCBOdW1iZXIgb2YgZWxlbWVudHMgdG8gc2tpcCBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZSBhcnJheVxuICogQHBhcmFtIHtOdW1iZXJ9IGNvdW50IE51bWJlciBvZiB2ZWMzcyB0byBpdGVyYXRlIG92ZXIuIElmIDAgaXRlcmF0ZXMgb3ZlciBlbnRpcmUgYXJyYXlcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIEZ1bmN0aW9uIHRvIGNhbGwgZm9yIGVhY2ggdmVjdG9yIGluIHRoZSBhcnJheVxuICogQHBhcmFtIHtPYmplY3R9IFthcmddIGFkZGl0aW9uYWwgYXJndW1lbnQgdG8gcGFzcyB0byBmblxuICogQHJldHVybnMge0FycmF5fSBhXG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIGZvckVhY2ggPSBmdW5jdGlvbiAoKSB7XG4gIHZhciB2ZWMgPSBjcmVhdGUoKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIChhLCBzdHJpZGUsIG9mZnNldCwgY291bnQsIGZuLCBhcmcpIHtcbiAgICB2YXIgaSwgbDtcblxuICAgIGlmICghc3RyaWRlKSB7XG4gICAgICBzdHJpZGUgPSAzO1xuICAgIH1cblxuICAgIGlmICghb2Zmc2V0KSB7XG4gICAgICBvZmZzZXQgPSAwO1xuICAgIH1cblxuICAgIGlmIChjb3VudCkge1xuICAgICAgbCA9IE1hdGgubWluKGNvdW50ICogc3RyaWRlICsgb2Zmc2V0LCBhLmxlbmd0aCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGwgPSBhLmxlbmd0aDtcbiAgICB9XG5cbiAgICBmb3IgKGkgPSBvZmZzZXQ7IGkgPCBsOyBpICs9IHN0cmlkZSkge1xuICAgICAgdmVjWzBdID0gYVtpXTtcbiAgICAgIHZlY1sxXSA9IGFbaSArIDFdO1xuICAgICAgdmVjWzJdID0gYVtpICsgMl07XG4gICAgICBmbih2ZWMsIHZlYywgYXJnKTtcbiAgICAgIGFbaV0gPSB2ZWNbMF07XG4gICAgICBhW2kgKyAxXSA9IHZlY1sxXTtcbiAgICAgIGFbaSArIDJdID0gdmVjWzJdO1xuICAgIH1cblxuICAgIHJldHVybiBhO1xuICB9O1xufSgpOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/gl-matrix/esm/vec3.js\n");

/***/ }),

/***/ "./node_modules/gl-matrix/esm/vec4.js":
/*!********************************************!*\
  !*** ./node_modules/gl-matrix/esm/vec4.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   scale: () => (/* binding */ scale),\n/* harmony export */   transformMat4: () => (/* binding */ transformMat4)\n/* harmony export */ });\n/* unused harmony exports create, clone, fromValues, copy, set, add, subtract, multiply, divide, ceil, floor, min, max, round, scaleAndAdd, distance, squaredDistance, length, squaredLength, negate, inverse, normalize, dot, cross, lerp, random, transformQuat, zero, str, exactEquals, equals, sub, mul, div, dist, sqrDist, len, sqrLen, forEach */\n/* harmony import */ var _common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./common.js */ \"./node_modules/gl-matrix/esm/common.js\");\n\n/**\n * 4 Dimensional Vector\n * @module vec4\n */\n\n/**\n * Creates a new, empty vec4\n *\n * @returns {vec4} a new 4D vector\n */\n\nfunction create() {\n  var out = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(4);\n\n  if (_common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec4 initialized with values from an existing vector\n *\n * @param {ReadonlyVec4} a vector to clone\n * @returns {vec4} a new 4D vector\n */\n\nfunction clone(a) {\n  var out = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(4);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\n * Creates a new vec4 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {vec4} a new 4D vector\n */\n\nfunction fromValues(x, y, z, w) {\n  var out = new _common_js__WEBPACK_IMPORTED_MODULE_0__.ARRAY_TYPE(4);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\n * Copy the values from one vec4 to another\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the source vector\n * @returns {vec4} out\n */\n\nfunction copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\n * Set the components of a vec4 to the given values\n *\n * @param {vec4} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {vec4} out\n */\n\nfunction set(out, x, y, z, w) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\n * Adds two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nfunction add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nfunction subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  return out;\n}\n/**\n * Multiplies two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nfunction multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  out[3] = a[3] * b[3];\n  return out;\n}\n/**\n * Divides two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nfunction divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  out[3] = a[3] / b[3];\n  return out;\n}\n/**\n * Math.ceil the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to ceil\n * @returns {vec4} out\n */\n\nfunction ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  out[3] = Math.ceil(a[3]);\n  return out;\n}\n/**\n * Math.floor the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to floor\n * @returns {vec4} out\n */\n\nfunction floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  out[3] = Math.floor(a[3]);\n  return out;\n}\n/**\n * Returns the minimum of two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nfunction min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  out[3] = Math.min(a[3], b[3]);\n  return out;\n}\n/**\n * Returns the maximum of two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nfunction max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  out[3] = Math.max(a[3], b[3]);\n  return out;\n}\n/**\n * Math.round the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to round\n * @returns {vec4} out\n */\n\nfunction round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  out[3] = Math.round(a[3]);\n  return out;\n}\n/**\n * Scales a vec4 by a scalar number\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec4} out\n */\n\nfunction scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  return out;\n}\n/**\n * Adds two vec4's after scaling the second operand by a scalar value\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec4} out\n */\n\nfunction scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec4's\n *\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {Number} distance between a and b\n */\n\nfunction distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return Math.hypot(x, y, z, w);\n}\n/**\n * Calculates the squared euclidian distance between two vec4's\n *\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nfunction squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\n * Calculates the length of a vec4\n *\n * @param {ReadonlyVec4} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nfunction length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return Math.hypot(x, y, z, w);\n}\n/**\n * Calculates the squared length of a vec4\n *\n * @param {ReadonlyVec4} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nfunction squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\n * Negates the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to negate\n * @returns {vec4} out\n */\n\nfunction negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = -a[3];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to invert\n * @returns {vec4} out\n */\n\nfunction inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  out[3] = 1.0 / a[3];\n  return out;\n}\n/**\n * Normalize a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to normalize\n * @returns {vec4} out\n */\n\nfunction normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  var len = x * x + y * y + z * z + w * w;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = x * len;\n  out[1] = y * len;\n  out[2] = z * len;\n  out[3] = w * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec4's\n *\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nfunction dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3];\n}\n/**\n * Returns the cross-product of three vectors in a 4-dimensional space\n *\n * @param {ReadonlyVec4} result the receiving vector\n * @param {ReadonlyVec4} U the first vector\n * @param {ReadonlyVec4} V the second vector\n * @param {ReadonlyVec4} W the third vector\n * @returns {vec4} result\n */\n\nfunction cross(out, u, v, w) {\n  var A = v[0] * w[1] - v[1] * w[0],\n      B = v[0] * w[2] - v[2] * w[0],\n      C = v[0] * w[3] - v[3] * w[0],\n      D = v[1] * w[2] - v[2] * w[1],\n      E = v[1] * w[3] - v[3] * w[1],\n      F = v[2] * w[3] - v[3] * w[2];\n  var G = u[0];\n  var H = u[1];\n  var I = u[2];\n  var J = u[3];\n  out[0] = H * F - I * E + J * D;\n  out[1] = -(G * F) + I * C - J * B;\n  out[2] = G * E - H * C + J * A;\n  out[3] = -(G * D) + H * B - I * A;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec4} out\n */\n\nfunction lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  var aw = a[3];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  out[3] = aw + t * (b[3] - aw);\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec4} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec4} out\n */\n\nfunction random(out, scale) {\n  scale = scale || 1.0; // Marsaglia, George. Choosing a Point from the Surface of a\n  // Sphere. Ann. Math. Statist. 43 (1972), no. 2, 645--646.\n  // http://projecteuclid.org/euclid.aoms/1177692644;\n\n  var v1, v2, v3, v4;\n  var s1, s2;\n\n  do {\n    v1 = _common_js__WEBPACK_IMPORTED_MODULE_0__.RANDOM() * 2 - 1;\n    v2 = _common_js__WEBPACK_IMPORTED_MODULE_0__.RANDOM() * 2 - 1;\n    s1 = v1 * v1 + v2 * v2;\n  } while (s1 >= 1);\n\n  do {\n    v3 = _common_js__WEBPACK_IMPORTED_MODULE_0__.RANDOM() * 2 - 1;\n    v4 = _common_js__WEBPACK_IMPORTED_MODULE_0__.RANDOM() * 2 - 1;\n    s2 = v3 * v3 + v4 * v4;\n  } while (s2 >= 1);\n\n  var d = Math.sqrt((1 - s1) / s2);\n  out[0] = scale * v1;\n  out[1] = scale * v2;\n  out[2] = scale * v3 * d;\n  out[3] = scale * v4 * d;\n  return out;\n}\n/**\n * Transforms the vec4 with a mat4.\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec4} out\n */\n\nfunction transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  out[0] = m[0] * x + m[4] * y + m[8] * z + m[12] * w;\n  out[1] = m[1] * x + m[5] * y + m[9] * z + m[13] * w;\n  out[2] = m[2] * x + m[6] * y + m[10] * z + m[14] * w;\n  out[3] = m[3] * x + m[7] * y + m[11] * z + m[15] * w;\n  return out;\n}\n/**\n * Transforms the vec4 with a quat\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the vector to transform\n * @param {ReadonlyQuat} q quaternion to transform with\n * @returns {vec4} out\n */\n\nfunction transformQuat(out, a, q) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3]; // calculate quat * vec\n\n  var ix = qw * x + qy * z - qz * y;\n  var iy = qw * y + qz * x - qx * z;\n  var iz = qw * z + qx * y - qy * x;\n  var iw = -qx * x - qy * y - qz * z; // calculate result * inverse quat\n\n  out[0] = ix * qw + iw * -qx + iy * -qz - iz * -qy;\n  out[1] = iy * qw + iw * -qy + iz * -qx - ix * -qz;\n  out[2] = iz * qw + iw * -qz + ix * -qy - iy * -qx;\n  out[3] = a[3];\n  return out;\n}\n/**\n * Set the components of a vec4 to zero\n *\n * @param {vec4} out the receiving vector\n * @returns {vec4} out\n */\n\nfunction zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec4} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nfunction str(a) {\n  return \"vec4(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \")\";\n}\n/**\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec4} a The first vector.\n * @param {ReadonlyVec4} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nfunction exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec4} a The first vector.\n * @param {ReadonlyVec4} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nfunction equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  return Math.abs(a0 - b0) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= _common_js__WEBPACK_IMPORTED_MODULE_0__.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3));\n}\n/**\n * Alias for {@link vec4.subtract}\n * @function\n */\n\nvar sub = subtract;\n/**\n * Alias for {@link vec4.multiply}\n * @function\n */\n\nvar mul = multiply;\n/**\n * Alias for {@link vec4.divide}\n * @function\n */\n\nvar div = divide;\n/**\n * Alias for {@link vec4.distance}\n * @function\n */\n\nvar dist = distance;\n/**\n * Alias for {@link vec4.squaredDistance}\n * @function\n */\n\nvar sqrDist = squaredDistance;\n/**\n * Alias for {@link vec4.length}\n * @function\n */\n\nvar len = length;\n/**\n * Alias for {@link vec4.squaredLength}\n * @function\n */\n\nvar sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec4s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec4. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec4s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nvar forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 4;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      vec[3] = a[i + 3];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n      a[i + 3] = vec[3];\n    }\n\n    return a;\n  };\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZ2wtbWF0cml4L2VzbS92ZWM0LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3N1cGVyc2V0Ly4vbm9kZV9tb2R1bGVzL2dsLW1hdHJpeC9lc20vdmVjNC5qcz82ZTVmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGdsTWF0cml4IGZyb20gXCIuL2NvbW1vbi5qc1wiO1xuLyoqXG4gKiA0IERpbWVuc2lvbmFsIFZlY3RvclxuICogQG1vZHVsZSB2ZWM0XG4gKi9cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3LCBlbXB0eSB2ZWM0XG4gKlxuICogQHJldHVybnMge3ZlYzR9IGEgbmV3IDREIHZlY3RvclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSg0KTtcblxuICBpZiAoZ2xNYXRyaXguQVJSQVlfVFlQRSAhPSBGbG9hdDMyQXJyYXkpIHtcbiAgICBvdXRbMF0gPSAwO1xuICAgIG91dFsxXSA9IDA7XG4gICAgb3V0WzJdID0gMDtcbiAgICBvdXRbM10gPSAwO1xuICB9XG5cbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyB2ZWM0IGluaXRpYWxpemVkIHdpdGggdmFsdWVzIGZyb20gYW4gZXhpc3RpbmcgdmVjdG9yXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdmVjdG9yIHRvIGNsb25lXG4gKiBAcmV0dXJucyB7dmVjNH0gYSBuZXcgNEQgdmVjdG9yXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNsb25lKGEpIHtcbiAgdmFyIG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDQpO1xuICBvdXRbMF0gPSBhWzBdO1xuICBvdXRbMV0gPSBhWzFdO1xuICBvdXRbMl0gPSBhWzJdO1xuICBvdXRbM10gPSBhWzNdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IHZlYzQgaW5pdGlhbGl6ZWQgd2l0aCB0aGUgZ2l2ZW4gdmFsdWVzXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IHggWCBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB5IFkgY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0geiBaIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHcgVyBjb21wb25lbnRcbiAqIEByZXR1cm5zIHt2ZWM0fSBhIG5ldyA0RCB2ZWN0b3JcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVZhbHVlcyh4LCB5LCB6LCB3KSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSg0KTtcbiAgb3V0WzBdID0geDtcbiAgb3V0WzFdID0geTtcbiAgb3V0WzJdID0gejtcbiAgb3V0WzNdID0gdztcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ29weSB0aGUgdmFsdWVzIGZyb20gb25lIHZlYzQgdG8gYW5vdGhlclxuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB0aGUgc291cmNlIHZlY3RvclxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjb3B5KG91dCwgYSkge1xuICBvdXRbMF0gPSBhWzBdO1xuICBvdXRbMV0gPSBhWzFdO1xuICBvdXRbMl0gPSBhWzJdO1xuICBvdXRbM10gPSBhWzNdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBTZXQgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWM0IHRvIHRoZSBnaXZlbiB2YWx1ZXNcbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtOdW1iZXJ9IHggWCBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB5IFkgY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0geiBaIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHcgVyBjb21wb25lbnRcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc2V0KG91dCwgeCwgeSwgeiwgdykge1xuICBvdXRbMF0gPSB4O1xuICBvdXRbMV0gPSB5O1xuICBvdXRbMl0gPSB6O1xuICBvdXRbM10gPSB3O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBBZGRzIHR3byB2ZWM0J3NcbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBhZGQob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gKyBiWzBdO1xuICBvdXRbMV0gPSBhWzFdICsgYlsxXTtcbiAgb3V0WzJdID0gYVsyXSArIGJbMl07XG4gIG91dFszXSA9IGFbM10gKyBiWzNdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBTdWJ0cmFjdHMgdmVjdG9yIGIgZnJvbSB2ZWN0b3IgYVxuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHN1YnRyYWN0KG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdIC0gYlswXTtcbiAgb3V0WzFdID0gYVsxXSAtIGJbMV07XG4gIG91dFsyXSA9IGFbMl0gLSBiWzJdO1xuICBvdXRbM10gPSBhWzNdIC0gYlszXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogTXVsdGlwbGllcyB0d28gdmVjNCdzXG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHkob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gKiBiWzBdO1xuICBvdXRbMV0gPSBhWzFdICogYlsxXTtcbiAgb3V0WzJdID0gYVsyXSAqIGJbMl07XG4gIG91dFszXSA9IGFbM10gKiBiWzNdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBEaXZpZGVzIHR3byB2ZWM0J3NcbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBkaXZpZGUob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gLyBiWzBdO1xuICBvdXRbMV0gPSBhWzFdIC8gYlsxXTtcbiAgb3V0WzJdID0gYVsyXSAvIGJbMl07XG4gIG91dFszXSA9IGFbM10gLyBiWzNdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBNYXRoLmNlaWwgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWM0XG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHZlY3RvciB0byBjZWlsXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNlaWwob3V0LCBhKSB7XG4gIG91dFswXSA9IE1hdGguY2VpbChhWzBdKTtcbiAgb3V0WzFdID0gTWF0aC5jZWlsKGFbMV0pO1xuICBvdXRbMl0gPSBNYXRoLmNlaWwoYVsyXSk7XG4gIG91dFszXSA9IE1hdGguY2VpbChhWzNdKTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogTWF0aC5mbG9vciB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzRcbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdmVjdG9yIHRvIGZsb29yXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZsb29yKG91dCwgYSkge1xuICBvdXRbMF0gPSBNYXRoLmZsb29yKGFbMF0pO1xuICBvdXRbMV0gPSBNYXRoLmZsb29yKGFbMV0pO1xuICBvdXRbMl0gPSBNYXRoLmZsb29yKGFbMl0pO1xuICBvdXRbM10gPSBNYXRoLmZsb29yKGFbM10pO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSBtaW5pbXVtIG9mIHR3byB2ZWM0J3NcbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBtaW4ob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IE1hdGgubWluKGFbMF0sIGJbMF0pO1xuICBvdXRbMV0gPSBNYXRoLm1pbihhWzFdLCBiWzFdKTtcbiAgb3V0WzJdID0gTWF0aC5taW4oYVsyXSwgYlsyXSk7XG4gIG91dFszXSA9IE1hdGgubWluKGFbM10sIGJbM10pO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSBtYXhpbXVtIG9mIHR3byB2ZWM0J3NcbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBtYXgob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IE1hdGgubWF4KGFbMF0sIGJbMF0pO1xuICBvdXRbMV0gPSBNYXRoLm1heChhWzFdLCBiWzFdKTtcbiAgb3V0WzJdID0gTWF0aC5tYXgoYVsyXSwgYlsyXSk7XG4gIG91dFszXSA9IE1hdGgubWF4KGFbM10sIGJbM10pO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBNYXRoLnJvdW5kIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjNFxuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB2ZWN0b3IgdG8gcm91bmRcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcm91bmQob3V0LCBhKSB7XG4gIG91dFswXSA9IE1hdGgucm91bmQoYVswXSk7XG4gIG91dFsxXSA9IE1hdGgucm91bmQoYVsxXSk7XG4gIG91dFsyXSA9IE1hdGgucm91bmQoYVsyXSk7XG4gIG91dFszXSA9IE1hdGgucm91bmQoYVszXSk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFNjYWxlcyBhIHZlYzQgYnkgYSBzY2FsYXIgbnVtYmVyXG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSB2ZWN0b3IgdG8gc2NhbGVcbiAqIEBwYXJhbSB7TnVtYmVyfSBiIGFtb3VudCB0byBzY2FsZSB0aGUgdmVjdG9yIGJ5XG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNjYWxlKG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdICogYjtcbiAgb3V0WzFdID0gYVsxXSAqIGI7XG4gIG91dFsyXSA9IGFbMl0gKiBiO1xuICBvdXRbM10gPSBhWzNdICogYjtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQWRkcyB0d28gdmVjNCdzIGFmdGVyIHNjYWxpbmcgdGhlIHNlY29uZCBvcGVyYW5kIGJ5IGEgc2NhbGFyIHZhbHVlXG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsZSB0aGUgYW1vdW50IHRvIHNjYWxlIGIgYnkgYmVmb3JlIGFkZGluZ1xuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzY2FsZUFuZEFkZChvdXQsIGEsIGIsIHNjYWxlKSB7XG4gIG91dFswXSA9IGFbMF0gKyBiWzBdICogc2NhbGU7XG4gIG91dFsxXSA9IGFbMV0gKyBiWzFdICogc2NhbGU7XG4gIG91dFsyXSA9IGFbMl0gKyBiWzJdICogc2NhbGU7XG4gIG91dFszXSA9IGFbM10gKyBiWzNdICogc2NhbGU7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGV1Y2xpZGlhbiBkaXN0YW5jZSBiZXR3ZWVuIHR3byB2ZWM0J3NcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBkaXN0YW5jZSBiZXR3ZWVuIGEgYW5kIGJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZGlzdGFuY2UoYSwgYikge1xuICB2YXIgeCA9IGJbMF0gLSBhWzBdO1xuICB2YXIgeSA9IGJbMV0gLSBhWzFdO1xuICB2YXIgeiA9IGJbMl0gLSBhWzJdO1xuICB2YXIgdyA9IGJbM10gLSBhWzNdO1xuICByZXR1cm4gTWF0aC5oeXBvdCh4LCB5LCB6LCB3KTtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgc3F1YXJlZCBldWNsaWRpYW4gZGlzdGFuY2UgYmV0d2VlbiB0d28gdmVjNCdzXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge051bWJlcn0gc3F1YXJlZCBkaXN0YW5jZSBiZXR3ZWVuIGEgYW5kIGJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc3F1YXJlZERpc3RhbmNlKGEsIGIpIHtcbiAgdmFyIHggPSBiWzBdIC0gYVswXTtcbiAgdmFyIHkgPSBiWzFdIC0gYVsxXTtcbiAgdmFyIHogPSBiWzJdIC0gYVsyXTtcbiAgdmFyIHcgPSBiWzNdIC0gYVszXTtcbiAgcmV0dXJuIHggKiB4ICsgeSAqIHkgKyB6ICogeiArIHcgKiB3O1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBsZW5ndGggb2YgYSB2ZWM0XG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdmVjdG9yIHRvIGNhbGN1bGF0ZSBsZW5ndGggb2ZcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGxlbmd0aCBvZiBhXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGxlbmd0aChhKSB7XG4gIHZhciB4ID0gYVswXTtcbiAgdmFyIHkgPSBhWzFdO1xuICB2YXIgeiA9IGFbMl07XG4gIHZhciB3ID0gYVszXTtcbiAgcmV0dXJuIE1hdGguaHlwb3QoeCwgeSwgeiwgdyk7XG59XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIHNxdWFyZWQgbGVuZ3RoIG9mIGEgdmVjNFxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHZlY3RvciB0byBjYWxjdWxhdGUgc3F1YXJlZCBsZW5ndGggb2ZcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IHNxdWFyZWQgbGVuZ3RoIG9mIGFcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc3F1YXJlZExlbmd0aChhKSB7XG4gIHZhciB4ID0gYVswXTtcbiAgdmFyIHkgPSBhWzFdO1xuICB2YXIgeiA9IGFbMl07XG4gIHZhciB3ID0gYVszXTtcbiAgcmV0dXJuIHggKiB4ICsgeSAqIHkgKyB6ICogeiArIHcgKiB3O1xufVxuLyoqXG4gKiBOZWdhdGVzIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjNFxuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB2ZWN0b3IgdG8gbmVnYXRlXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG5lZ2F0ZShvdXQsIGEpIHtcbiAgb3V0WzBdID0gLWFbMF07XG4gIG91dFsxXSA9IC1hWzFdO1xuICBvdXRbMl0gPSAtYVsyXTtcbiAgb3V0WzNdID0gLWFbM107XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIGludmVyc2Ugb2YgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWM0XG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHZlY3RvciB0byBpbnZlcnRcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gaW52ZXJzZShvdXQsIGEpIHtcbiAgb3V0WzBdID0gMS4wIC8gYVswXTtcbiAgb3V0WzFdID0gMS4wIC8gYVsxXTtcbiAgb3V0WzJdID0gMS4wIC8gYVsyXTtcbiAgb3V0WzNdID0gMS4wIC8gYVszXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogTm9ybWFsaXplIGEgdmVjNFxuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB2ZWN0b3IgdG8gbm9ybWFsaXplXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZShvdXQsIGEpIHtcbiAgdmFyIHggPSBhWzBdO1xuICB2YXIgeSA9IGFbMV07XG4gIHZhciB6ID0gYVsyXTtcbiAgdmFyIHcgPSBhWzNdO1xuICB2YXIgbGVuID0geCAqIHggKyB5ICogeSArIHogKiB6ICsgdyAqIHc7XG5cbiAgaWYgKGxlbiA+IDApIHtcbiAgICBsZW4gPSAxIC8gTWF0aC5zcXJ0KGxlbik7XG4gIH1cblxuICBvdXRbMF0gPSB4ICogbGVuO1xuICBvdXRbMV0gPSB5ICogbGVuO1xuICBvdXRbMl0gPSB6ICogbGVuO1xuICBvdXRbM10gPSB3ICogbGVuO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBkb3QgcHJvZHVjdCBvZiB0d28gdmVjNCdzXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge051bWJlcn0gZG90IHByb2R1Y3Qgb2YgYSBhbmQgYlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBkb3QoYSwgYikge1xuICByZXR1cm4gYVswXSAqIGJbMF0gKyBhWzFdICogYlsxXSArIGFbMl0gKiBiWzJdICsgYVszXSAqIGJbM107XG59XG4vKipcbiAqIFJldHVybnMgdGhlIGNyb3NzLXByb2R1Y3Qgb2YgdGhyZWUgdmVjdG9ycyBpbiBhIDQtZGltZW5zaW9uYWwgc3BhY2VcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gcmVzdWx0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gVSB0aGUgZmlyc3QgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gViB0aGUgc2Vjb25kIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IFcgdGhlIHRoaXJkIHZlY3RvclxuICogQHJldHVybnMge3ZlYzR9IHJlc3VsdFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjcm9zcyhvdXQsIHUsIHYsIHcpIHtcbiAgdmFyIEEgPSB2WzBdICogd1sxXSAtIHZbMV0gKiB3WzBdLFxuICAgICAgQiA9IHZbMF0gKiB3WzJdIC0gdlsyXSAqIHdbMF0sXG4gICAgICBDID0gdlswXSAqIHdbM10gLSB2WzNdICogd1swXSxcbiAgICAgIEQgPSB2WzFdICogd1syXSAtIHZbMl0gKiB3WzFdLFxuICAgICAgRSA9IHZbMV0gKiB3WzNdIC0gdlszXSAqIHdbMV0sXG4gICAgICBGID0gdlsyXSAqIHdbM10gLSB2WzNdICogd1syXTtcbiAgdmFyIEcgPSB1WzBdO1xuICB2YXIgSCA9IHVbMV07XG4gIHZhciBJID0gdVsyXTtcbiAgdmFyIEogPSB1WzNdO1xuICBvdXRbMF0gPSBIICogRiAtIEkgKiBFICsgSiAqIEQ7XG4gIG91dFsxXSA9IC0oRyAqIEYpICsgSSAqIEMgLSBKICogQjtcbiAgb3V0WzJdID0gRyAqIEUgLSBIICogQyArIEogKiBBO1xuICBvdXRbM10gPSAtKEcgKiBEKSArIEggKiBCIC0gSSAqIEE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFBlcmZvcm1zIGEgbGluZWFyIGludGVycG9sYXRpb24gYmV0d2VlbiB0d28gdmVjNCdzXG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEBwYXJhbSB7TnVtYmVyfSB0IGludGVycG9sYXRpb24gYW1vdW50LCBpbiB0aGUgcmFuZ2UgWzAtMV0sIGJldHdlZW4gdGhlIHR3byBpbnB1dHNcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbGVycChvdXQsIGEsIGIsIHQpIHtcbiAgdmFyIGF4ID0gYVswXTtcbiAgdmFyIGF5ID0gYVsxXTtcbiAgdmFyIGF6ID0gYVsyXTtcbiAgdmFyIGF3ID0gYVszXTtcbiAgb3V0WzBdID0gYXggKyB0ICogKGJbMF0gLSBheCk7XG4gIG91dFsxXSA9IGF5ICsgdCAqIChiWzFdIC0gYXkpO1xuICBvdXRbMl0gPSBheiArIHQgKiAoYlsyXSAtIGF6KTtcbiAgb3V0WzNdID0gYXcgKyB0ICogKGJbM10gLSBhdyk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEdlbmVyYXRlcyBhIHJhbmRvbSB2ZWN0b3Igd2l0aCB0aGUgZ2l2ZW4gc2NhbGVcbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtOdW1iZXJ9IFtzY2FsZV0gTGVuZ3RoIG9mIHRoZSByZXN1bHRpbmcgdmVjdG9yLiBJZiBvbW1pdHRlZCwgYSB1bml0IHZlY3RvciB3aWxsIGJlIHJldHVybmVkXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJhbmRvbShvdXQsIHNjYWxlKSB7XG4gIHNjYWxlID0gc2NhbGUgfHwgMS4wOyAvLyBNYXJzYWdsaWEsIEdlb3JnZS4gQ2hvb3NpbmcgYSBQb2ludCBmcm9tIHRoZSBTdXJmYWNlIG9mIGFcbiAgLy8gU3BoZXJlLiBBbm4uIE1hdGguIFN0YXRpc3QuIDQzICgxOTcyKSwgbm8uIDIsIDY0NS0tNjQ2LlxuICAvLyBodHRwOi8vcHJvamVjdGV1Y2xpZC5vcmcvZXVjbGlkLmFvbXMvMTE3NzY5MjY0NDtcblxuICB2YXIgdjEsIHYyLCB2MywgdjQ7XG4gIHZhciBzMSwgczI7XG5cbiAgZG8ge1xuICAgIHYxID0gZ2xNYXRyaXguUkFORE9NKCkgKiAyIC0gMTtcbiAgICB2MiA9IGdsTWF0cml4LlJBTkRPTSgpICogMiAtIDE7XG4gICAgczEgPSB2MSAqIHYxICsgdjIgKiB2MjtcbiAgfSB3aGlsZSAoczEgPj0gMSk7XG5cbiAgZG8ge1xuICAgIHYzID0gZ2xNYXRyaXguUkFORE9NKCkgKiAyIC0gMTtcbiAgICB2NCA9IGdsTWF0cml4LlJBTkRPTSgpICogMiAtIDE7XG4gICAgczIgPSB2MyAqIHYzICsgdjQgKiB2NDtcbiAgfSB3aGlsZSAoczIgPj0gMSk7XG5cbiAgdmFyIGQgPSBNYXRoLnNxcnQoKDEgLSBzMSkgLyBzMik7XG4gIG91dFswXSA9IHNjYWxlICogdjE7XG4gIG91dFsxXSA9IHNjYWxlICogdjI7XG4gIG91dFsyXSA9IHNjYWxlICogdjMgKiBkO1xuICBvdXRbM10gPSBzY2FsZSAqIHY0ICogZDtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogVHJhbnNmb3JtcyB0aGUgdmVjNCB3aXRoIGEgbWF0NC5cbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIHZlY3RvciB0byB0cmFuc2Zvcm1cbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBtIG1hdHJpeCB0byB0cmFuc2Zvcm0gd2l0aFxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2Zvcm1NYXQ0KG91dCwgYSwgbSkge1xuICB2YXIgeCA9IGFbMF0sXG4gICAgICB5ID0gYVsxXSxcbiAgICAgIHogPSBhWzJdLFxuICAgICAgdyA9IGFbM107XG4gIG91dFswXSA9IG1bMF0gKiB4ICsgbVs0XSAqIHkgKyBtWzhdICogeiArIG1bMTJdICogdztcbiAgb3V0WzFdID0gbVsxXSAqIHggKyBtWzVdICogeSArIG1bOV0gKiB6ICsgbVsxM10gKiB3O1xuICBvdXRbMl0gPSBtWzJdICogeCArIG1bNl0gKiB5ICsgbVsxMF0gKiB6ICsgbVsxNF0gKiB3O1xuICBvdXRbM10gPSBtWzNdICogeCArIG1bN10gKiB5ICsgbVsxMV0gKiB6ICsgbVsxNV0gKiB3O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBUcmFuc2Zvcm1zIHRoZSB2ZWM0IHdpdGggYSBxdWF0XG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSB2ZWN0b3IgdG8gdHJhbnNmb3JtXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gcSBxdWF0ZXJuaW9uIHRvIHRyYW5zZm9ybSB3aXRoXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zZm9ybVF1YXQob3V0LCBhLCBxKSB7XG4gIHZhciB4ID0gYVswXSxcbiAgICAgIHkgPSBhWzFdLFxuICAgICAgeiA9IGFbMl07XG4gIHZhciBxeCA9IHFbMF0sXG4gICAgICBxeSA9IHFbMV0sXG4gICAgICBxeiA9IHFbMl0sXG4gICAgICBxdyA9IHFbM107IC8vIGNhbGN1bGF0ZSBxdWF0ICogdmVjXG5cbiAgdmFyIGl4ID0gcXcgKiB4ICsgcXkgKiB6IC0gcXogKiB5O1xuICB2YXIgaXkgPSBxdyAqIHkgKyBxeiAqIHggLSBxeCAqIHo7XG4gIHZhciBpeiA9IHF3ICogeiArIHF4ICogeSAtIHF5ICogeDtcbiAgdmFyIGl3ID0gLXF4ICogeCAtIHF5ICogeSAtIHF6ICogejsgLy8gY2FsY3VsYXRlIHJlc3VsdCAqIGludmVyc2UgcXVhdFxuXG4gIG91dFswXSA9IGl4ICogcXcgKyBpdyAqIC1xeCArIGl5ICogLXF6IC0gaXogKiAtcXk7XG4gIG91dFsxXSA9IGl5ICogcXcgKyBpdyAqIC1xeSArIGl6ICogLXF4IC0gaXggKiAtcXo7XG4gIG91dFsyXSA9IGl6ICogcXcgKyBpdyAqIC1xeiArIGl4ICogLXF5IC0gaXkgKiAtcXg7XG4gIG91dFszXSA9IGFbM107XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFNldCB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzQgdG8gemVyb1xuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHplcm8ob3V0KSB7XG4gIG91dFswXSA9IDAuMDtcbiAgb3V0WzFdID0gMC4wO1xuICBvdXRbMl0gPSAwLjA7XG4gIG91dFszXSA9IDAuMDtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBhIHZlY3RvclxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHZlY3RvciB0byByZXByZXNlbnQgYXMgYSBzdHJpbmdcbiAqIEByZXR1cm5zIHtTdHJpbmd9IHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgdmVjdG9yXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHN0cihhKSB7XG4gIHJldHVybiBcInZlYzQoXCIgKyBhWzBdICsgXCIsIFwiICsgYVsxXSArIFwiLCBcIiArIGFbMl0gKyBcIiwgXCIgKyBhWzNdICsgXCIpXCI7XG59XG4vKipcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIHZlY3RvcnMgaGF2ZSBleGFjdGx5IHRoZSBzYW1lIGVsZW1lbnRzIGluIHRoZSBzYW1lIHBvc2l0aW9uICh3aGVuIGNvbXBhcmVkIHdpdGggPT09KVxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIFRoZSBmaXJzdCB2ZWN0b3IuXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYiBUaGUgc2Vjb25kIHZlY3Rvci5cbiAqIEByZXR1cm5zIHtCb29sZWFufSBUcnVlIGlmIHRoZSB2ZWN0b3JzIGFyZSBlcXVhbCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBleGFjdEVxdWFscyhhLCBiKSB7XG4gIHJldHVybiBhWzBdID09PSBiWzBdICYmIGFbMV0gPT09IGJbMV0gJiYgYVsyXSA9PT0gYlsyXSAmJiBhWzNdID09PSBiWzNdO1xufVxuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSB2ZWN0b3JzIGhhdmUgYXBwcm94aW1hdGVseSB0aGUgc2FtZSBlbGVtZW50cyBpbiB0aGUgc2FtZSBwb3NpdGlvbi5cbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSBUaGUgZmlyc3QgdmVjdG9yLlxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGIgVGhlIHNlY29uZCB2ZWN0b3IuXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgdmVjdG9ycyBhcmUgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZXF1YWxzKGEsIGIpIHtcbiAgdmFyIGEwID0gYVswXSxcbiAgICAgIGExID0gYVsxXSxcbiAgICAgIGEyID0gYVsyXSxcbiAgICAgIGEzID0gYVszXTtcbiAgdmFyIGIwID0gYlswXSxcbiAgICAgIGIxID0gYlsxXSxcbiAgICAgIGIyID0gYlsyXSxcbiAgICAgIGIzID0gYlszXTtcbiAgcmV0dXJuIE1hdGguYWJzKGEwIC0gYjApIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEwKSwgTWF0aC5hYnMoYjApKSAmJiBNYXRoLmFicyhhMSAtIGIxKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMSksIE1hdGguYWJzKGIxKSkgJiYgTWF0aC5hYnMoYTIgLSBiMikgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTIpLCBNYXRoLmFicyhiMikpICYmIE1hdGguYWJzKGEzIC0gYjMpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEzKSwgTWF0aC5hYnMoYjMpKTtcbn1cbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWM0LnN1YnRyYWN0fVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBzdWIgPSBzdWJ0cmFjdDtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWM0Lm11bHRpcGx5fVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBtdWwgPSBtdWx0aXBseTtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWM0LmRpdmlkZX1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgZGl2ID0gZGl2aWRlO1xuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzQuZGlzdGFuY2V9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIGRpc3QgPSBkaXN0YW5jZTtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWM0LnNxdWFyZWREaXN0YW5jZX1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgc3FyRGlzdCA9IHNxdWFyZWREaXN0YW5jZTtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWM0Lmxlbmd0aH1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgbGVuID0gbGVuZ3RoO1xuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzQuc3F1YXJlZExlbmd0aH1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgc3FyTGVuID0gc3F1YXJlZExlbmd0aDtcbi8qKlxuICogUGVyZm9ybSBzb21lIG9wZXJhdGlvbiBvdmVyIGFuIGFycmF5IG9mIHZlYzRzLlxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IGEgdGhlIGFycmF5IG9mIHZlY3RvcnMgdG8gaXRlcmF0ZSBvdmVyXG4gKiBAcGFyYW0ge051bWJlcn0gc3RyaWRlIE51bWJlciBvZiBlbGVtZW50cyBiZXR3ZWVuIHRoZSBzdGFydCBvZiBlYWNoIHZlYzQuIElmIDAgYXNzdW1lcyB0aWdodGx5IHBhY2tlZFxuICogQHBhcmFtIHtOdW1iZXJ9IG9mZnNldCBOdW1iZXIgb2YgZWxlbWVudHMgdG8gc2tpcCBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZSBhcnJheVxuICogQHBhcmFtIHtOdW1iZXJ9IGNvdW50IE51bWJlciBvZiB2ZWM0cyB0byBpdGVyYXRlIG92ZXIuIElmIDAgaXRlcmF0ZXMgb3ZlciBlbnRpcmUgYXJyYXlcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIEZ1bmN0aW9uIHRvIGNhbGwgZm9yIGVhY2ggdmVjdG9yIGluIHRoZSBhcnJheVxuICogQHBhcmFtIHtPYmplY3R9IFthcmddIGFkZGl0aW9uYWwgYXJndW1lbnQgdG8gcGFzcyB0byBmblxuICogQHJldHVybnMge0FycmF5fSBhXG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIGZvckVhY2ggPSBmdW5jdGlvbiAoKSB7XG4gIHZhciB2ZWMgPSBjcmVhdGUoKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIChhLCBzdHJpZGUsIG9mZnNldCwgY291bnQsIGZuLCBhcmcpIHtcbiAgICB2YXIgaSwgbDtcblxuICAgIGlmICghc3RyaWRlKSB7XG4gICAgICBzdHJpZGUgPSA0O1xuICAgIH1cblxuICAgIGlmICghb2Zmc2V0KSB7XG4gICAgICBvZmZzZXQgPSAwO1xuICAgIH1cblxuICAgIGlmIChjb3VudCkge1xuICAgICAgbCA9IE1hdGgubWluKGNvdW50ICogc3RyaWRlICsgb2Zmc2V0LCBhLmxlbmd0aCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGwgPSBhLmxlbmd0aDtcbiAgICB9XG5cbiAgICBmb3IgKGkgPSBvZmZzZXQ7IGkgPCBsOyBpICs9IHN0cmlkZSkge1xuICAgICAgdmVjWzBdID0gYVtpXTtcbiAgICAgIHZlY1sxXSA9IGFbaSArIDFdO1xuICAgICAgdmVjWzJdID0gYVtpICsgMl07XG4gICAgICB2ZWNbM10gPSBhW2kgKyAzXTtcbiAgICAgIGZuKHZlYywgdmVjLCBhcmcpO1xuICAgICAgYVtpXSA9IHZlY1swXTtcbiAgICAgIGFbaSArIDFdID0gdmVjWzFdO1xuICAgICAgYVtpICsgMl0gPSB2ZWNbMl07XG4gICAgICBhW2kgKyAzXSA9IHZlY1szXTtcbiAgICB9XG5cbiAgICByZXR1cm4gYTtcbiAgfTtcbn0oKTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/gl-matrix/esm/vec4.js\n");

/***/ }),

/***/ "./node_modules/hammerjs/hammer.js":
/*!*****************************************!*\
  !*** ./node_modules/hammerjs/hammer.js ***!
  \*****************************************/
/***/ ((module, exports, __webpack_require__) => {

eval("var __WEBPACK_AMD_DEFINE_RESULT__;/*! Hammer.JS - v2.0.7 - 2016-04-22\n * http://hammerjs.github.io/\n *\n * Copyright (c) 2016 Jorik Tangelder;\n * Licensed under the MIT license */\n(function(window, document, exportName, undefined) {\n  'use strict';\n\nvar VENDOR_PREFIXES = ['', 'webkit', 'Moz', 'MS', 'ms', 'o'];\nvar TEST_ELEMENT = document.createElement('div');\n\nvar TYPE_FUNCTION = 'function';\n\nvar round = Math.round;\nvar abs = Math.abs;\nvar now = Date.now;\n\n/**\n * set a timeout with a given scope\n * @param {Function} fn\n * @param {Number} timeout\n * @param {Object} context\n * @returns {number}\n */\nfunction setTimeoutContext(fn, timeout, context) {\n    return setTimeout(bindFn(fn, context), timeout);\n}\n\n/**\n * if the argument is an array, we want to execute the fn on each entry\n * if it aint an array we don't want to do a thing.\n * this is used by all the methods that accept a single and array argument.\n * @param {*|Array} arg\n * @param {String} fn\n * @param {Object} [context]\n * @returns {Boolean}\n */\nfunction invokeArrayArg(arg, fn, context) {\n    if (Array.isArray(arg)) {\n        each(arg, context[fn], context);\n        return true;\n    }\n    return false;\n}\n\n/**\n * walk objects and arrays\n * @param {Object} obj\n * @param {Function} iterator\n * @param {Object} context\n */\nfunction each(obj, iterator, context) {\n    var i;\n\n    if (!obj) {\n        return;\n    }\n\n    if (obj.forEach) {\n        obj.forEach(iterator, context);\n    } else if (obj.length !== undefined) {\n        i = 0;\n        while (i < obj.length) {\n            iterator.call(context, obj[i], i, obj);\n            i++;\n        }\n    } else {\n        for (i in obj) {\n            obj.hasOwnProperty(i) && iterator.call(context, obj[i], i, obj);\n        }\n    }\n}\n\n/**\n * wrap a method with a deprecation warning and stack trace\n * @param {Function} method\n * @param {String} name\n * @param {String} message\n * @returns {Function} A new function wrapping the supplied method.\n */\nfunction deprecate(method, name, message) {\n    var deprecationMessage = 'DEPRECATED METHOD: ' + name + '\\n' + message + ' AT \\n';\n    return function() {\n        var e = new Error('get-stack-trace');\n        var stack = e && e.stack ? e.stack.replace(/^[^\\(]+?[\\n$]/gm, '')\n            .replace(/^\\s+at\\s+/gm, '')\n            .replace(/^Object.<anonymous>\\s*\\(/gm, '{anonymous}()@') : 'Unknown Stack Trace';\n\n        var log = window.console && (window.console.warn || window.console.log);\n        if (log) {\n            log.call(window.console, deprecationMessage, stack);\n        }\n        return method.apply(this, arguments);\n    };\n}\n\n/**\n * extend object.\n * means that properties in dest will be overwritten by the ones in src.\n * @param {Object} target\n * @param {...Object} objects_to_assign\n * @returns {Object} target\n */\nvar assign;\nif (typeof Object.assign !== 'function') {\n    assign = function assign(target) {\n        if (target === undefined || target === null) {\n            throw new TypeError('Cannot convert undefined or null to object');\n        }\n\n        var output = Object(target);\n        for (var index = 1; index < arguments.length; index++) {\n            var source = arguments[index];\n            if (source !== undefined && source !== null) {\n                for (var nextKey in source) {\n                    if (source.hasOwnProperty(nextKey)) {\n                        output[nextKey] = source[nextKey];\n                    }\n                }\n            }\n        }\n        return output;\n    };\n} else {\n    assign = Object.assign;\n}\n\n/**\n * extend object.\n * means that properties in dest will be overwritten by the ones in src.\n * @param {Object} dest\n * @param {Object} src\n * @param {Boolean} [merge=false]\n * @returns {Object} dest\n */\nvar extend = deprecate(function extend(dest, src, merge) {\n    var keys = Object.keys(src);\n    var i = 0;\n    while (i < keys.length) {\n        if (!merge || (merge && dest[keys[i]] === undefined)) {\n            dest[keys[i]] = src[keys[i]];\n        }\n        i++;\n    }\n    return dest;\n}, 'extend', 'Use `assign`.');\n\n/**\n * merge the values from src in the dest.\n * means that properties that exist in dest will not be overwritten by src\n * @param {Object} dest\n * @param {Object} src\n * @returns {Object} dest\n */\nvar merge = deprecate(function merge(dest, src) {\n    return extend(dest, src, true);\n}, 'merge', 'Use `assign`.');\n\n/**\n * simple class inheritance\n * @param {Function} child\n * @param {Function} base\n * @param {Object} [properties]\n */\nfunction inherit(child, base, properties) {\n    var baseP = base.prototype,\n        childP;\n\n    childP = child.prototype = Object.create(baseP);\n    childP.constructor = child;\n    childP._super = baseP;\n\n    if (properties) {\n        assign(childP, properties);\n    }\n}\n\n/**\n * simple function bind\n * @param {Function} fn\n * @param {Object} context\n * @returns {Function}\n */\nfunction bindFn(fn, context) {\n    return function boundFn() {\n        return fn.apply(context, arguments);\n    };\n}\n\n/**\n * let a boolean value also be a function that must return a boolean\n * this first item in args will be used as the context\n * @param {Boolean|Function} val\n * @param {Array} [args]\n * @returns {Boolean}\n */\nfunction boolOrFn(val, args) {\n    if (typeof val == TYPE_FUNCTION) {\n        return val.apply(args ? args[0] || undefined : undefined, args);\n    }\n    return val;\n}\n\n/**\n * use the val2 when val1 is undefined\n * @param {*} val1\n * @param {*} val2\n * @returns {*}\n */\nfunction ifUndefined(val1, val2) {\n    return (val1 === undefined) ? val2 : val1;\n}\n\n/**\n * addEventListener with multiple events at once\n * @param {EventTarget} target\n * @param {String} types\n * @param {Function} handler\n */\nfunction addEventListeners(target, types, handler) {\n    each(splitStr(types), function(type) {\n        target.addEventListener(type, handler, false);\n    });\n}\n\n/**\n * removeEventListener with multiple events at once\n * @param {EventTarget} target\n * @param {String} types\n * @param {Function} handler\n */\nfunction removeEventListeners(target, types, handler) {\n    each(splitStr(types), function(type) {\n        target.removeEventListener(type, handler, false);\n    });\n}\n\n/**\n * find if a node is in the given parent\n * @method hasParent\n * @param {HTMLElement} node\n * @param {HTMLElement} parent\n * @return {Boolean} found\n */\nfunction hasParent(node, parent) {\n    while (node) {\n        if (node == parent) {\n            return true;\n        }\n        node = node.parentNode;\n    }\n    return false;\n}\n\n/**\n * small indexOf wrapper\n * @param {String} str\n * @param {String} find\n * @returns {Boolean} found\n */\nfunction inStr(str, find) {\n    return str.indexOf(find) > -1;\n}\n\n/**\n * split string on whitespace\n * @param {String} str\n * @returns {Array} words\n */\nfunction splitStr(str) {\n    return str.trim().split(/\\s+/g);\n}\n\n/**\n * find if a array contains the object using indexOf or a simple polyFill\n * @param {Array} src\n * @param {String} find\n * @param {String} [findByKey]\n * @return {Boolean|Number} false when not found, or the index\n */\nfunction inArray(src, find, findByKey) {\n    if (src.indexOf && !findByKey) {\n        return src.indexOf(find);\n    } else {\n        var i = 0;\n        while (i < src.length) {\n            if ((findByKey && src[i][findByKey] == find) || (!findByKey && src[i] === find)) {\n                return i;\n            }\n            i++;\n        }\n        return -1;\n    }\n}\n\n/**\n * convert array-like objects to real arrays\n * @param {Object} obj\n * @returns {Array}\n */\nfunction toArray(obj) {\n    return Array.prototype.slice.call(obj, 0);\n}\n\n/**\n * unique array with objects based on a key (like 'id') or just by the array's value\n * @param {Array} src [{id:1},{id:2},{id:1}]\n * @param {String} [key]\n * @param {Boolean} [sort=False]\n * @returns {Array} [{id:1},{id:2}]\n */\nfunction uniqueArray(src, key, sort) {\n    var results = [];\n    var values = [];\n    var i = 0;\n\n    while (i < src.length) {\n        var val = key ? src[i][key] : src[i];\n        if (inArray(values, val) < 0) {\n            results.push(src[i]);\n        }\n        values[i] = val;\n        i++;\n    }\n\n    if (sort) {\n        if (!key) {\n            results = results.sort();\n        } else {\n            results = results.sort(function sortUniqueArray(a, b) {\n                return a[key] > b[key];\n            });\n        }\n    }\n\n    return results;\n}\n\n/**\n * get the prefixed property\n * @param {Object} obj\n * @param {String} property\n * @returns {String|Undefined} prefixed\n */\nfunction prefixed(obj, property) {\n    var prefix, prop;\n    var camelProp = property[0].toUpperCase() + property.slice(1);\n\n    var i = 0;\n    while (i < VENDOR_PREFIXES.length) {\n        prefix = VENDOR_PREFIXES[i];\n        prop = (prefix) ? prefix + camelProp : property;\n\n        if (prop in obj) {\n            return prop;\n        }\n        i++;\n    }\n    return undefined;\n}\n\n/**\n * get a unique id\n * @returns {number} uniqueId\n */\nvar _uniqueId = 1;\nfunction uniqueId() {\n    return _uniqueId++;\n}\n\n/**\n * get the window object of an element\n * @param {HTMLElement} element\n * @returns {DocumentView|Window}\n */\nfunction getWindowForElement(element) {\n    var doc = element.ownerDocument || element;\n    return (doc.defaultView || doc.parentWindow || window);\n}\n\nvar MOBILE_REGEX = /mobile|tablet|ip(ad|hone|od)|android/i;\n\nvar SUPPORT_TOUCH = ('ontouchstart' in window);\nvar SUPPORT_POINTER_EVENTS = prefixed(window, 'PointerEvent') !== undefined;\nvar SUPPORT_ONLY_TOUCH = SUPPORT_TOUCH && MOBILE_REGEX.test(navigator.userAgent);\n\nvar INPUT_TYPE_TOUCH = 'touch';\nvar INPUT_TYPE_PEN = 'pen';\nvar INPUT_TYPE_MOUSE = 'mouse';\nvar INPUT_TYPE_KINECT = 'kinect';\n\nvar COMPUTE_INTERVAL = 25;\n\nvar INPUT_START = 1;\nvar INPUT_MOVE = 2;\nvar INPUT_END = 4;\nvar INPUT_CANCEL = 8;\n\nvar DIRECTION_NONE = 1;\nvar DIRECTION_LEFT = 2;\nvar DIRECTION_RIGHT = 4;\nvar DIRECTION_UP = 8;\nvar DIRECTION_DOWN = 16;\n\nvar DIRECTION_HORIZONTAL = DIRECTION_LEFT | DIRECTION_RIGHT;\nvar DIRECTION_VERTICAL = DIRECTION_UP | DIRECTION_DOWN;\nvar DIRECTION_ALL = DIRECTION_HORIZONTAL | DIRECTION_VERTICAL;\n\nvar PROPS_XY = ['x', 'y'];\nvar PROPS_CLIENT_XY = ['clientX', 'clientY'];\n\n/**\n * create new input type manager\n * @param {Manager} manager\n * @param {Function} callback\n * @returns {Input}\n * @constructor\n */\nfunction Input(manager, callback) {\n    var self = this;\n    this.manager = manager;\n    this.callback = callback;\n    this.element = manager.element;\n    this.target = manager.options.inputTarget;\n\n    // smaller wrapper around the handler, for the scope and the enabled state of the manager,\n    // so when disabled the input events are completely bypassed.\n    this.domHandler = function(ev) {\n        if (boolOrFn(manager.options.enable, [manager])) {\n            self.handler(ev);\n        }\n    };\n\n    this.init();\n\n}\n\nInput.prototype = {\n    /**\n     * should handle the inputEvent data and trigger the callback\n     * @virtual\n     */\n    handler: function() { },\n\n    /**\n     * bind the events\n     */\n    init: function() {\n        this.evEl && addEventListeners(this.element, this.evEl, this.domHandler);\n        this.evTarget && addEventListeners(this.target, this.evTarget, this.domHandler);\n        this.evWin && addEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    },\n\n    /**\n     * unbind the events\n     */\n    destroy: function() {\n        this.evEl && removeEventListeners(this.element, this.evEl, this.domHandler);\n        this.evTarget && removeEventListeners(this.target, this.evTarget, this.domHandler);\n        this.evWin && removeEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    }\n};\n\n/**\n * create new input type manager\n * called by the Manager constructor\n * @param {Hammer} manager\n * @returns {Input}\n */\nfunction createInputInstance(manager) {\n    var Type;\n    var inputClass = manager.options.inputClass;\n\n    if (inputClass) {\n        Type = inputClass;\n    } else if (SUPPORT_POINTER_EVENTS) {\n        Type = PointerEventInput;\n    } else if (SUPPORT_ONLY_TOUCH) {\n        Type = TouchInput;\n    } else if (!SUPPORT_TOUCH) {\n        Type = MouseInput;\n    } else {\n        Type = TouchMouseInput;\n    }\n    return new (Type)(manager, inputHandler);\n}\n\n/**\n * handle input events\n * @param {Manager} manager\n * @param {String} eventType\n * @param {Object} input\n */\nfunction inputHandler(manager, eventType, input) {\n    var pointersLen = input.pointers.length;\n    var changedPointersLen = input.changedPointers.length;\n    var isFirst = (eventType & INPUT_START && (pointersLen - changedPointersLen === 0));\n    var isFinal = (eventType & (INPUT_END | INPUT_CANCEL) && (pointersLen - changedPointersLen === 0));\n\n    input.isFirst = !!isFirst;\n    input.isFinal = !!isFinal;\n\n    if (isFirst) {\n        manager.session = {};\n    }\n\n    // source event is the normalized value of the domEvents\n    // like 'touchstart, mouseup, pointerdown'\n    input.eventType = eventType;\n\n    // compute scale, rotation etc\n    computeInputData(manager, input);\n\n    // emit secret event\n    manager.emit('hammer.input', input);\n\n    manager.recognize(input);\n    manager.session.prevInput = input;\n}\n\n/**\n * extend the data with some usable properties like scale, rotate, velocity etc\n * @param {Object} manager\n * @param {Object} input\n */\nfunction computeInputData(manager, input) {\n    var session = manager.session;\n    var pointers = input.pointers;\n    var pointersLength = pointers.length;\n\n    // store the first input to calculate the distance and direction\n    if (!session.firstInput) {\n        session.firstInput = simpleCloneInputData(input);\n    }\n\n    // to compute scale and rotation we need to store the multiple touches\n    if (pointersLength > 1 && !session.firstMultiple) {\n        session.firstMultiple = simpleCloneInputData(input);\n    } else if (pointersLength === 1) {\n        session.firstMultiple = false;\n    }\n\n    var firstInput = session.firstInput;\n    var firstMultiple = session.firstMultiple;\n    var offsetCenter = firstMultiple ? firstMultiple.center : firstInput.center;\n\n    var center = input.center = getCenter(pointers);\n    input.timeStamp = now();\n    input.deltaTime = input.timeStamp - firstInput.timeStamp;\n\n    input.angle = getAngle(offsetCenter, center);\n    input.distance = getDistance(offsetCenter, center);\n\n    computeDeltaXY(session, input);\n    input.offsetDirection = getDirection(input.deltaX, input.deltaY);\n\n    var overallVelocity = getVelocity(input.deltaTime, input.deltaX, input.deltaY);\n    input.overallVelocityX = overallVelocity.x;\n    input.overallVelocityY = overallVelocity.y;\n    input.overallVelocity = (abs(overallVelocity.x) > abs(overallVelocity.y)) ? overallVelocity.x : overallVelocity.y;\n\n    input.scale = firstMultiple ? getScale(firstMultiple.pointers, pointers) : 1;\n    input.rotation = firstMultiple ? getRotation(firstMultiple.pointers, pointers) : 0;\n\n    input.maxPointers = !session.prevInput ? input.pointers.length : ((input.pointers.length >\n        session.prevInput.maxPointers) ? input.pointers.length : session.prevInput.maxPointers);\n\n    computeIntervalInputData(session, input);\n\n    // find the correct target\n    var target = manager.element;\n    if (hasParent(input.srcEvent.target, target)) {\n        target = input.srcEvent.target;\n    }\n    input.target = target;\n}\n\nfunction computeDeltaXY(session, input) {\n    var center = input.center;\n    var offset = session.offsetDelta || {};\n    var prevDelta = session.prevDelta || {};\n    var prevInput = session.prevInput || {};\n\n    if (input.eventType === INPUT_START || prevInput.eventType === INPUT_END) {\n        prevDelta = session.prevDelta = {\n            x: prevInput.deltaX || 0,\n            y: prevInput.deltaY || 0\n        };\n\n        offset = session.offsetDelta = {\n            x: center.x,\n            y: center.y\n        };\n    }\n\n    input.deltaX = prevDelta.x + (center.x - offset.x);\n    input.deltaY = prevDelta.y + (center.y - offset.y);\n}\n\n/**\n * velocity is calculated every x ms\n * @param {Object} session\n * @param {Object} input\n */\nfunction computeIntervalInputData(session, input) {\n    var last = session.lastInterval || input,\n        deltaTime = input.timeStamp - last.timeStamp,\n        velocity, velocityX, velocityY, direction;\n\n    if (input.eventType != INPUT_CANCEL && (deltaTime > COMPUTE_INTERVAL || last.velocity === undefined)) {\n        var deltaX = input.deltaX - last.deltaX;\n        var deltaY = input.deltaY - last.deltaY;\n\n        var v = getVelocity(deltaTime, deltaX, deltaY);\n        velocityX = v.x;\n        velocityY = v.y;\n        velocity = (abs(v.x) > abs(v.y)) ? v.x : v.y;\n        direction = getDirection(deltaX, deltaY);\n\n        session.lastInterval = input;\n    } else {\n        // use latest velocity info if it doesn't overtake a minimum period\n        velocity = last.velocity;\n        velocityX = last.velocityX;\n        velocityY = last.velocityY;\n        direction = last.direction;\n    }\n\n    input.velocity = velocity;\n    input.velocityX = velocityX;\n    input.velocityY = velocityY;\n    input.direction = direction;\n}\n\n/**\n * create a simple clone from the input used for storage of firstInput and firstMultiple\n * @param {Object} input\n * @returns {Object} clonedInputData\n */\nfunction simpleCloneInputData(input) {\n    // make a simple copy of the pointers because we will get a reference if we don't\n    // we only need clientXY for the calculations\n    var pointers = [];\n    var i = 0;\n    while (i < input.pointers.length) {\n        pointers[i] = {\n            clientX: round(input.pointers[i].clientX),\n            clientY: round(input.pointers[i].clientY)\n        };\n        i++;\n    }\n\n    return {\n        timeStamp: now(),\n        pointers: pointers,\n        center: getCenter(pointers),\n        deltaX: input.deltaX,\n        deltaY: input.deltaY\n    };\n}\n\n/**\n * get the center of all the pointers\n * @param {Array} pointers\n * @return {Object} center contains `x` and `y` properties\n */\nfunction getCenter(pointers) {\n    var pointersLength = pointers.length;\n\n    // no need to loop when only one touch\n    if (pointersLength === 1) {\n        return {\n            x: round(pointers[0].clientX),\n            y: round(pointers[0].clientY)\n        };\n    }\n\n    var x = 0, y = 0, i = 0;\n    while (i < pointersLength) {\n        x += pointers[i].clientX;\n        y += pointers[i].clientY;\n        i++;\n    }\n\n    return {\n        x: round(x / pointersLength),\n        y: round(y / pointersLength)\n    };\n}\n\n/**\n * calculate the velocity between two points. unit is in px per ms.\n * @param {Number} deltaTime\n * @param {Number} x\n * @param {Number} y\n * @return {Object} velocity `x` and `y`\n */\nfunction getVelocity(deltaTime, x, y) {\n    return {\n        x: x / deltaTime || 0,\n        y: y / deltaTime || 0\n    };\n}\n\n/**\n * get the direction between two points\n * @param {Number} x\n * @param {Number} y\n * @return {Number} direction\n */\nfunction getDirection(x, y) {\n    if (x === y) {\n        return DIRECTION_NONE;\n    }\n\n    if (abs(x) >= abs(y)) {\n        return x < 0 ? DIRECTION_LEFT : DIRECTION_RIGHT;\n    }\n    return y < 0 ? DIRECTION_UP : DIRECTION_DOWN;\n}\n\n/**\n * calculate the absolute distance between two points\n * @param {Object} p1 {x, y}\n * @param {Object} p2 {x, y}\n * @param {Array} [props] containing x and y keys\n * @return {Number} distance\n */\nfunction getDistance(p1, p2, props) {\n    if (!props) {\n        props = PROPS_XY;\n    }\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n\n    return Math.sqrt((x * x) + (y * y));\n}\n\n/**\n * calculate the angle between two coordinates\n * @param {Object} p1\n * @param {Object} p2\n * @param {Array} [props] containing x and y keys\n * @return {Number} angle\n */\nfunction getAngle(p1, p2, props) {\n    if (!props) {\n        props = PROPS_XY;\n    }\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n    return Math.atan2(y, x) * 180 / Math.PI;\n}\n\n/**\n * calculate the rotation degrees between two pointersets\n * @param {Array} start array of pointers\n * @param {Array} end array of pointers\n * @return {Number} rotation\n */\nfunction getRotation(start, end) {\n    return getAngle(end[1], end[0], PROPS_CLIENT_XY) + getAngle(start[1], start[0], PROPS_CLIENT_XY);\n}\n\n/**\n * calculate the scale factor between two pointersets\n * no scale is 1, and goes down to 0 when pinched together, and bigger when pinched out\n * @param {Array} start array of pointers\n * @param {Array} end array of pointers\n * @return {Number} scale\n */\nfunction getScale(start, end) {\n    return getDistance(end[0], end[1], PROPS_CLIENT_XY) / getDistance(start[0], start[1], PROPS_CLIENT_XY);\n}\n\nvar MOUSE_INPUT_MAP = {\n    mousedown: INPUT_START,\n    mousemove: INPUT_MOVE,\n    mouseup: INPUT_END\n};\n\nvar MOUSE_ELEMENT_EVENTS = 'mousedown';\nvar MOUSE_WINDOW_EVENTS = 'mousemove mouseup';\n\n/**\n * Mouse events input\n * @constructor\n * @extends Input\n */\nfunction MouseInput() {\n    this.evEl = MOUSE_ELEMENT_EVENTS;\n    this.evWin = MOUSE_WINDOW_EVENTS;\n\n    this.pressed = false; // mousedown state\n\n    Input.apply(this, arguments);\n}\n\ninherit(MouseInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function MEhandler(ev) {\n        var eventType = MOUSE_INPUT_MAP[ev.type];\n\n        // on start we want to have the left mouse button down\n        if (eventType & INPUT_START && ev.button === 0) {\n            this.pressed = true;\n        }\n\n        if (eventType & INPUT_MOVE && ev.which !== 1) {\n            eventType = INPUT_END;\n        }\n\n        // mouse must be down\n        if (!this.pressed) {\n            return;\n        }\n\n        if (eventType & INPUT_END) {\n            this.pressed = false;\n        }\n\n        this.callback(this.manager, eventType, {\n            pointers: [ev],\n            changedPointers: [ev],\n            pointerType: INPUT_TYPE_MOUSE,\n            srcEvent: ev\n        });\n    }\n});\n\nvar POINTER_INPUT_MAP = {\n    pointerdown: INPUT_START,\n    pointermove: INPUT_MOVE,\n    pointerup: INPUT_END,\n    pointercancel: INPUT_CANCEL,\n    pointerout: INPUT_CANCEL\n};\n\n// in IE10 the pointer types is defined as an enum\nvar IE10_POINTER_TYPE_ENUM = {\n    2: INPUT_TYPE_TOUCH,\n    3: INPUT_TYPE_PEN,\n    4: INPUT_TYPE_MOUSE,\n    5: INPUT_TYPE_KINECT // see https://twitter.com/jacobrossi/status/480596438489890816\n};\n\nvar POINTER_ELEMENT_EVENTS = 'pointerdown';\nvar POINTER_WINDOW_EVENTS = 'pointermove pointerup pointercancel';\n\n// IE10 has prefixed support, and case-sensitive\nif (window.MSPointerEvent && !window.PointerEvent) {\n    POINTER_ELEMENT_EVENTS = 'MSPointerDown';\n    POINTER_WINDOW_EVENTS = 'MSPointerMove MSPointerUp MSPointerCancel';\n}\n\n/**\n * Pointer events input\n * @constructor\n * @extends Input\n */\nfunction PointerEventInput() {\n    this.evEl = POINTER_ELEMENT_EVENTS;\n    this.evWin = POINTER_WINDOW_EVENTS;\n\n    Input.apply(this, arguments);\n\n    this.store = (this.manager.session.pointerEvents = []);\n}\n\ninherit(PointerEventInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function PEhandler(ev) {\n        var store = this.store;\n        var removePointer = false;\n\n        var eventTypeNormalized = ev.type.toLowerCase().replace('ms', '');\n        var eventType = POINTER_INPUT_MAP[eventTypeNormalized];\n        var pointerType = IE10_POINTER_TYPE_ENUM[ev.pointerType] || ev.pointerType;\n\n        var isTouch = (pointerType == INPUT_TYPE_TOUCH);\n\n        // get index of the event in the store\n        var storeIndex = inArray(store, ev.pointerId, 'pointerId');\n\n        // start and mouse must be down\n        if (eventType & INPUT_START && (ev.button === 0 || isTouch)) {\n            if (storeIndex < 0) {\n                store.push(ev);\n                storeIndex = store.length - 1;\n            }\n        } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n            removePointer = true;\n        }\n\n        // it not found, so the pointer hasn't been down (so it's probably a hover)\n        if (storeIndex < 0) {\n            return;\n        }\n\n        // update the event in the store\n        store[storeIndex] = ev;\n\n        this.callback(this.manager, eventType, {\n            pointers: store,\n            changedPointers: [ev],\n            pointerType: pointerType,\n            srcEvent: ev\n        });\n\n        if (removePointer) {\n            // remove from the store\n            store.splice(storeIndex, 1);\n        }\n    }\n});\n\nvar SINGLE_TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n};\n\nvar SINGLE_TOUCH_TARGET_EVENTS = 'touchstart';\nvar SINGLE_TOUCH_WINDOW_EVENTS = 'touchstart touchmove touchend touchcancel';\n\n/**\n * Touch events input\n * @constructor\n * @extends Input\n */\nfunction SingleTouchInput() {\n    this.evTarget = SINGLE_TOUCH_TARGET_EVENTS;\n    this.evWin = SINGLE_TOUCH_WINDOW_EVENTS;\n    this.started = false;\n\n    Input.apply(this, arguments);\n}\n\ninherit(SingleTouchInput, Input, {\n    handler: function TEhandler(ev) {\n        var type = SINGLE_TOUCH_INPUT_MAP[ev.type];\n\n        // should we handle the touch events?\n        if (type === INPUT_START) {\n            this.started = true;\n        }\n\n        if (!this.started) {\n            return;\n        }\n\n        var touches = normalizeSingleTouches.call(this, ev, type);\n\n        // when done, reset the started state\n        if (type & (INPUT_END | INPUT_CANCEL) && touches[0].length - touches[1].length === 0) {\n            this.started = false;\n        }\n\n        this.callback(this.manager, type, {\n            pointers: touches[0],\n            changedPointers: touches[1],\n            pointerType: INPUT_TYPE_TOUCH,\n            srcEvent: ev\n        });\n    }\n});\n\n/**\n * @this {TouchInput}\n * @param {Object} ev\n * @param {Number} type flag\n * @returns {undefined|Array} [all, changed]\n */\nfunction normalizeSingleTouches(ev, type) {\n    var all = toArray(ev.touches);\n    var changed = toArray(ev.changedTouches);\n\n    if (type & (INPUT_END | INPUT_CANCEL)) {\n        all = uniqueArray(all.concat(changed), 'identifier', true);\n    }\n\n    return [all, changed];\n}\n\nvar TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n};\n\nvar TOUCH_TARGET_EVENTS = 'touchstart touchmove touchend touchcancel';\n\n/**\n * Multi-user touch events input\n * @constructor\n * @extends Input\n */\nfunction TouchInput() {\n    this.evTarget = TOUCH_TARGET_EVENTS;\n    this.targetIds = {};\n\n    Input.apply(this, arguments);\n}\n\ninherit(TouchInput, Input, {\n    handler: function MTEhandler(ev) {\n        var type = TOUCH_INPUT_MAP[ev.type];\n        var touches = getTouches.call(this, ev, type);\n        if (!touches) {\n            return;\n        }\n\n        this.callback(this.manager, type, {\n            pointers: touches[0],\n            changedPointers: touches[1],\n            pointerType: INPUT_TYPE_TOUCH,\n            srcEvent: ev\n        });\n    }\n});\n\n/**\n * @this {TouchInput}\n * @param {Object} ev\n * @param {Number} type flag\n * @returns {undefined|Array} [all, changed]\n */\nfunction getTouches(ev, type) {\n    var allTouches = toArray(ev.touches);\n    var targetIds = this.targetIds;\n\n    // when there is only one touch, the process can be simplified\n    if (type & (INPUT_START | INPUT_MOVE) && allTouches.length === 1) {\n        targetIds[allTouches[0].identifier] = true;\n        return [allTouches, allTouches];\n    }\n\n    var i,\n        targetTouches,\n        changedTouches = toArray(ev.changedTouches),\n        changedTargetTouches = [],\n        target = this.target;\n\n    // get target touches from touches\n    targetTouches = allTouches.filter(function(touch) {\n        return hasParent(touch.target, target);\n    });\n\n    // collect touches\n    if (type === INPUT_START) {\n        i = 0;\n        while (i < targetTouches.length) {\n            targetIds[targetTouches[i].identifier] = true;\n            i++;\n        }\n    }\n\n    // filter changed touches to only contain touches that exist in the collected target ids\n    i = 0;\n    while (i < changedTouches.length) {\n        if (targetIds[changedTouches[i].identifier]) {\n            changedTargetTouches.push(changedTouches[i]);\n        }\n\n        // cleanup removed touches\n        if (type & (INPUT_END | INPUT_CANCEL)) {\n            delete targetIds[changedTouches[i].identifier];\n        }\n        i++;\n    }\n\n    if (!changedTargetTouches.length) {\n        return;\n    }\n\n    return [\n        // merge targetTouches with changedTargetTouches so it contains ALL touches, including 'end' and 'cancel'\n        uniqueArray(targetTouches.concat(changedTargetTouches), 'identifier', true),\n        changedTargetTouches\n    ];\n}\n\n/**\n * Combined touch and mouse input\n *\n * Touch has a higher priority then mouse, and while touching no mouse events are allowed.\n * This because touch devices also emit mouse events while doing a touch.\n *\n * @constructor\n * @extends Input\n */\n\nvar DEDUP_TIMEOUT = 2500;\nvar DEDUP_DISTANCE = 25;\n\nfunction TouchMouseInput() {\n    Input.apply(this, arguments);\n\n    var handler = bindFn(this.handler, this);\n    this.touch = new TouchInput(this.manager, handler);\n    this.mouse = new MouseInput(this.manager, handler);\n\n    this.primaryTouch = null;\n    this.lastTouches = [];\n}\n\ninherit(TouchMouseInput, Input, {\n    /**\n     * handle mouse and touch events\n     * @param {Hammer} manager\n     * @param {String} inputEvent\n     * @param {Object} inputData\n     */\n    handler: function TMEhandler(manager, inputEvent, inputData) {\n        var isTouch = (inputData.pointerType == INPUT_TYPE_TOUCH),\n            isMouse = (inputData.pointerType == INPUT_TYPE_MOUSE);\n\n        if (isMouse && inputData.sourceCapabilities && inputData.sourceCapabilities.firesTouchEvents) {\n            return;\n        }\n\n        // when we're in a touch event, record touches to  de-dupe synthetic mouse event\n        if (isTouch) {\n            recordTouches.call(this, inputEvent, inputData);\n        } else if (isMouse && isSyntheticEvent.call(this, inputData)) {\n            return;\n        }\n\n        this.callback(manager, inputEvent, inputData);\n    },\n\n    /**\n     * remove the event listeners\n     */\n    destroy: function destroy() {\n        this.touch.destroy();\n        this.mouse.destroy();\n    }\n});\n\nfunction recordTouches(eventType, eventData) {\n    if (eventType & INPUT_START) {\n        this.primaryTouch = eventData.changedPointers[0].identifier;\n        setLastTouch.call(this, eventData);\n    } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n        setLastTouch.call(this, eventData);\n    }\n}\n\nfunction setLastTouch(eventData) {\n    var touch = eventData.changedPointers[0];\n\n    if (touch.identifier === this.primaryTouch) {\n        var lastTouch = {x: touch.clientX, y: touch.clientY};\n        this.lastTouches.push(lastTouch);\n        var lts = this.lastTouches;\n        var removeLastTouch = function() {\n            var i = lts.indexOf(lastTouch);\n            if (i > -1) {\n                lts.splice(i, 1);\n            }\n        };\n        setTimeout(removeLastTouch, DEDUP_TIMEOUT);\n    }\n}\n\nfunction isSyntheticEvent(eventData) {\n    var x = eventData.srcEvent.clientX, y = eventData.srcEvent.clientY;\n    for (var i = 0; i < this.lastTouches.length; i++) {\n        var t = this.lastTouches[i];\n        var dx = Math.abs(x - t.x), dy = Math.abs(y - t.y);\n        if (dx <= DEDUP_DISTANCE && dy <= DEDUP_DISTANCE) {\n            return true;\n        }\n    }\n    return false;\n}\n\nvar PREFIXED_TOUCH_ACTION = prefixed(TEST_ELEMENT.style, 'touchAction');\nvar NATIVE_TOUCH_ACTION = PREFIXED_TOUCH_ACTION !== undefined;\n\n// magical touchAction value\nvar TOUCH_ACTION_COMPUTE = 'compute';\nvar TOUCH_ACTION_AUTO = 'auto';\nvar TOUCH_ACTION_MANIPULATION = 'manipulation'; // not implemented\nvar TOUCH_ACTION_NONE = 'none';\nvar TOUCH_ACTION_PAN_X = 'pan-x';\nvar TOUCH_ACTION_PAN_Y = 'pan-y';\nvar TOUCH_ACTION_MAP = getTouchActionProps();\n\n/**\n * Touch Action\n * sets the touchAction property or uses the js alternative\n * @param {Manager} manager\n * @param {String} value\n * @constructor\n */\nfunction TouchAction(manager, value) {\n    this.manager = manager;\n    this.set(value);\n}\n\nTouchAction.prototype = {\n    /**\n     * set the touchAction value on the element or enable the polyfill\n     * @param {String} value\n     */\n    set: function(value) {\n        // find out the touch-action by the event handlers\n        if (value == TOUCH_ACTION_COMPUTE) {\n            value = this.compute();\n        }\n\n        if (NATIVE_TOUCH_ACTION && this.manager.element.style && TOUCH_ACTION_MAP[value]) {\n            this.manager.element.style[PREFIXED_TOUCH_ACTION] = value;\n        }\n        this.actions = value.toLowerCase().trim();\n    },\n\n    /**\n     * just re-set the touchAction value\n     */\n    update: function() {\n        this.set(this.manager.options.touchAction);\n    },\n\n    /**\n     * compute the value for the touchAction property based on the recognizer's settings\n     * @returns {String} value\n     */\n    compute: function() {\n        var actions = [];\n        each(this.manager.recognizers, function(recognizer) {\n            if (boolOrFn(recognizer.options.enable, [recognizer])) {\n                actions = actions.concat(recognizer.getTouchAction());\n            }\n        });\n        return cleanTouchActions(actions.join(' '));\n    },\n\n    /**\n     * this method is called on each input cycle and provides the preventing of the browser behavior\n     * @param {Object} input\n     */\n    preventDefaults: function(input) {\n        var srcEvent = input.srcEvent;\n        var direction = input.offsetDirection;\n\n        // if the touch action did prevented once this session\n        if (this.manager.session.prevented) {\n            srcEvent.preventDefault();\n            return;\n        }\n\n        var actions = this.actions;\n        var hasNone = inStr(actions, TOUCH_ACTION_NONE) && !TOUCH_ACTION_MAP[TOUCH_ACTION_NONE];\n        var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_Y];\n        var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_X];\n\n        if (hasNone) {\n            //do not prevent defaults if this is a tap gesture\n\n            var isTapPointer = input.pointers.length === 1;\n            var isTapMovement = input.distance < 2;\n            var isTapTouchTime = input.deltaTime < 250;\n\n            if (isTapPointer && isTapMovement && isTapTouchTime) {\n                return;\n            }\n        }\n\n        if (hasPanX && hasPanY) {\n            // `pan-x pan-y` means browser handles all scrolling/panning, do not prevent\n            return;\n        }\n\n        if (hasNone ||\n            (hasPanY && direction & DIRECTION_HORIZONTAL) ||\n            (hasPanX && direction & DIRECTION_VERTICAL)) {\n            return this.preventSrc(srcEvent);\n        }\n    },\n\n    /**\n     * call preventDefault to prevent the browser's default behavior (scrolling in most cases)\n     * @param {Object} srcEvent\n     */\n    preventSrc: function(srcEvent) {\n        this.manager.session.prevented = true;\n        srcEvent.preventDefault();\n    }\n};\n\n/**\n * when the touchActions are collected they are not a valid value, so we need to clean things up. *\n * @param {String} actions\n * @returns {*}\n */\nfunction cleanTouchActions(actions) {\n    // none\n    if (inStr(actions, TOUCH_ACTION_NONE)) {\n        return TOUCH_ACTION_NONE;\n    }\n\n    var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X);\n    var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y);\n\n    // if both pan-x and pan-y are set (different recognizers\n    // for different directions, e.g. horizontal pan but vertical swipe?)\n    // we need none (as otherwise with pan-x pan-y combined none of these\n    // recognizers will work, since the browser would handle all panning\n    if (hasPanX && hasPanY) {\n        return TOUCH_ACTION_NONE;\n    }\n\n    // pan-x OR pan-y\n    if (hasPanX || hasPanY) {\n        return hasPanX ? TOUCH_ACTION_PAN_X : TOUCH_ACTION_PAN_Y;\n    }\n\n    // manipulation\n    if (inStr(actions, TOUCH_ACTION_MANIPULATION)) {\n        return TOUCH_ACTION_MANIPULATION;\n    }\n\n    return TOUCH_ACTION_AUTO;\n}\n\nfunction getTouchActionProps() {\n    if (!NATIVE_TOUCH_ACTION) {\n        return false;\n    }\n    var touchMap = {};\n    var cssSupports = window.CSS && window.CSS.supports;\n    ['auto', 'manipulation', 'pan-y', 'pan-x', 'pan-x pan-y', 'none'].forEach(function(val) {\n\n        // If css.supports is not supported but there is native touch-action assume it supports\n        // all values. This is the case for IE 10 and 11.\n        touchMap[val] = cssSupports ? window.CSS.supports('touch-action', val) : true;\n    });\n    return touchMap;\n}\n\n/**\n * Recognizer flow explained; *\n * All recognizers have the initial state of POSSIBLE when a input session starts.\n * The definition of a input session is from the first input until the last input, with all it's movement in it. *\n * Example session for mouse-input: mousedown -> mousemove -> mouseup\n *\n * On each recognizing cycle (see Manager.recognize) the .recognize() method is executed\n * which determines with state it should be.\n *\n * If the recognizer has the state FAILED, CANCELLED or RECOGNIZED (equals ENDED), it is reset to\n * POSSIBLE to give it another change on the next cycle.\n *\n *               Possible\n *                  |\n *            +-----+---------------+\n *            |                     |\n *      +-----+-----+               |\n *      |           |               |\n *   Failed      Cancelled          |\n *                          +-------+------+\n *                          |              |\n *                      Recognized       Began\n *                                         |\n *                                      Changed\n *                                         |\n *                                  Ended/Recognized\n */\nvar STATE_POSSIBLE = 1;\nvar STATE_BEGAN = 2;\nvar STATE_CHANGED = 4;\nvar STATE_ENDED = 8;\nvar STATE_RECOGNIZED = STATE_ENDED;\nvar STATE_CANCELLED = 16;\nvar STATE_FAILED = 32;\n\n/**\n * Recognizer\n * Every recognizer needs to extend from this class.\n * @constructor\n * @param {Object} options\n */\nfunction Recognizer(options) {\n    this.options = assign({}, this.defaults, options || {});\n\n    this.id = uniqueId();\n\n    this.manager = null;\n\n    // default is enable true\n    this.options.enable = ifUndefined(this.options.enable, true);\n\n    this.state = STATE_POSSIBLE;\n\n    this.simultaneous = {};\n    this.requireFail = [];\n}\n\nRecognizer.prototype = {\n    /**\n     * @virtual\n     * @type {Object}\n     */\n    defaults: {},\n\n    /**\n     * set options\n     * @param {Object} options\n     * @return {Recognizer}\n     */\n    set: function(options) {\n        assign(this.options, options);\n\n        // also update the touchAction, in case something changed about the directions/enabled state\n        this.manager && this.manager.touchAction.update();\n        return this;\n    },\n\n    /**\n     * recognize simultaneous with an other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    recognizeWith: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'recognizeWith', this)) {\n            return this;\n        }\n\n        var simultaneous = this.simultaneous;\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        if (!simultaneous[otherRecognizer.id]) {\n            simultaneous[otherRecognizer.id] = otherRecognizer;\n            otherRecognizer.recognizeWith(this);\n        }\n        return this;\n    },\n\n    /**\n     * drop the simultaneous link. it doesnt remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRecognizeWith: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'dropRecognizeWith', this)) {\n            return this;\n        }\n\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        delete this.simultaneous[otherRecognizer.id];\n        return this;\n    },\n\n    /**\n     * recognizer can only run when an other is failing\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    requireFailure: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'requireFailure', this)) {\n            return this;\n        }\n\n        var requireFail = this.requireFail;\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        if (inArray(requireFail, otherRecognizer) === -1) {\n            requireFail.push(otherRecognizer);\n            otherRecognizer.requireFailure(this);\n        }\n        return this;\n    },\n\n    /**\n     * drop the requireFailure link. it does not remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRequireFailure: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'dropRequireFailure', this)) {\n            return this;\n        }\n\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        var index = inArray(this.requireFail, otherRecognizer);\n        if (index > -1) {\n            this.requireFail.splice(index, 1);\n        }\n        return this;\n    },\n\n    /**\n     * has require failures boolean\n     * @returns {boolean}\n     */\n    hasRequireFailures: function() {\n        return this.requireFail.length > 0;\n    },\n\n    /**\n     * if the recognizer can recognize simultaneous with an other recognizer\n     * @param {Recognizer} otherRecognizer\n     * @returns {Boolean}\n     */\n    canRecognizeWith: function(otherRecognizer) {\n        return !!this.simultaneous[otherRecognizer.id];\n    },\n\n    /**\n     * You should use `tryEmit` instead of `emit` directly to check\n     * that all the needed recognizers has failed before emitting.\n     * @param {Object} input\n     */\n    emit: function(input) {\n        var self = this;\n        var state = this.state;\n\n        function emit(event) {\n            self.manager.emit(event, input);\n        }\n\n        // 'panstart' and 'panmove'\n        if (state < STATE_ENDED) {\n            emit(self.options.event + stateStr(state));\n        }\n\n        emit(self.options.event); // simple 'eventName' events\n\n        if (input.additionalEvent) { // additional event(panleft, panright, pinchin, pinchout...)\n            emit(input.additionalEvent);\n        }\n\n        // panend and pancancel\n        if (state >= STATE_ENDED) {\n            emit(self.options.event + stateStr(state));\n        }\n    },\n\n    /**\n     * Check that all the require failure recognizers has failed,\n     * if true, it emits a gesture event,\n     * otherwise, setup the state to FAILED.\n     * @param {Object} input\n     */\n    tryEmit: function(input) {\n        if (this.canEmit()) {\n            return this.emit(input);\n        }\n        // it's failing anyway\n        this.state = STATE_FAILED;\n    },\n\n    /**\n     * can we emit?\n     * @returns {boolean}\n     */\n    canEmit: function() {\n        var i = 0;\n        while (i < this.requireFail.length) {\n            if (!(this.requireFail[i].state & (STATE_FAILED | STATE_POSSIBLE))) {\n                return false;\n            }\n            i++;\n        }\n        return true;\n    },\n\n    /**\n     * update the recognizer\n     * @param {Object} inputData\n     */\n    recognize: function(inputData) {\n        // make a new copy of the inputData\n        // so we can change the inputData without messing up the other recognizers\n        var inputDataClone = assign({}, inputData);\n\n        // is is enabled and allow recognizing?\n        if (!boolOrFn(this.options.enable, [this, inputDataClone])) {\n            this.reset();\n            this.state = STATE_FAILED;\n            return;\n        }\n\n        // reset when we've reached the end\n        if (this.state & (STATE_RECOGNIZED | STATE_CANCELLED | STATE_FAILED)) {\n            this.state = STATE_POSSIBLE;\n        }\n\n        this.state = this.process(inputDataClone);\n\n        // the recognizer has recognized a gesture\n        // so trigger an event\n        if (this.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED | STATE_CANCELLED)) {\n            this.tryEmit(inputDataClone);\n        }\n    },\n\n    /**\n     * return the state of the recognizer\n     * the actual recognizing happens in this method\n     * @virtual\n     * @param {Object} inputData\n     * @returns {Const} STATE\n     */\n    process: function(inputData) { }, // jshint ignore:line\n\n    /**\n     * return the preferred touch-action\n     * @virtual\n     * @returns {Array}\n     */\n    getTouchAction: function() { },\n\n    /**\n     * called when the gesture isn't allowed to recognize\n     * like when another is being recognized or it is disabled\n     * @virtual\n     */\n    reset: function() { }\n};\n\n/**\n * get a usable string, used as event postfix\n * @param {Const} state\n * @returns {String} state\n */\nfunction stateStr(state) {\n    if (state & STATE_CANCELLED) {\n        return 'cancel';\n    } else if (state & STATE_ENDED) {\n        return 'end';\n    } else if (state & STATE_CHANGED) {\n        return 'move';\n    } else if (state & STATE_BEGAN) {\n        return 'start';\n    }\n    return '';\n}\n\n/**\n * direction cons to string\n * @param {Const} direction\n * @returns {String}\n */\nfunction directionStr(direction) {\n    if (direction == DIRECTION_DOWN) {\n        return 'down';\n    } else if (direction == DIRECTION_UP) {\n        return 'up';\n    } else if (direction == DIRECTION_LEFT) {\n        return 'left';\n    } else if (direction == DIRECTION_RIGHT) {\n        return 'right';\n    }\n    return '';\n}\n\n/**\n * get a recognizer by name if it is bound to a manager\n * @param {Recognizer|String} otherRecognizer\n * @param {Recognizer} recognizer\n * @returns {Recognizer}\n */\nfunction getRecognizerByNameIfManager(otherRecognizer, recognizer) {\n    var manager = recognizer.manager;\n    if (manager) {\n        return manager.get(otherRecognizer);\n    }\n    return otherRecognizer;\n}\n\n/**\n * This recognizer is just used as a base for the simple attribute recognizers.\n * @constructor\n * @extends Recognizer\n */\nfunction AttrRecognizer() {\n    Recognizer.apply(this, arguments);\n}\n\ninherit(AttrRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof AttrRecognizer\n     */\n    defaults: {\n        /**\n         * @type {Number}\n         * @default 1\n         */\n        pointers: 1\n    },\n\n    /**\n     * Used to check if it the recognizer receives valid input, like input.distance > 10.\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {Boolean} recognized\n     */\n    attrTest: function(input) {\n        var optionPointers = this.options.pointers;\n        return optionPointers === 0 || input.pointers.length === optionPointers;\n    },\n\n    /**\n     * Process the input and return the state for the recognizer\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {*} State\n     */\n    process: function(input) {\n        var state = this.state;\n        var eventType = input.eventType;\n\n        var isRecognized = state & (STATE_BEGAN | STATE_CHANGED);\n        var isValid = this.attrTest(input);\n\n        // on cancel input and we've recognized before, return STATE_CANCELLED\n        if (isRecognized && (eventType & INPUT_CANCEL || !isValid)) {\n            return state | STATE_CANCELLED;\n        } else if (isRecognized || isValid) {\n            if (eventType & INPUT_END) {\n                return state | STATE_ENDED;\n            } else if (!(state & STATE_BEGAN)) {\n                return STATE_BEGAN;\n            }\n            return state | STATE_CHANGED;\n        }\n        return STATE_FAILED;\n    }\n});\n\n/**\n * Pan\n * Recognized when the pointer is down and moved in the allowed direction.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction PanRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n\n    this.pX = null;\n    this.pY = null;\n}\n\ninherit(PanRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PanRecognizer\n     */\n    defaults: {\n        event: 'pan',\n        threshold: 10,\n        pointers: 1,\n        direction: DIRECTION_ALL\n    },\n\n    getTouchAction: function() {\n        var direction = this.options.direction;\n        var actions = [];\n        if (direction & DIRECTION_HORIZONTAL) {\n            actions.push(TOUCH_ACTION_PAN_Y);\n        }\n        if (direction & DIRECTION_VERTICAL) {\n            actions.push(TOUCH_ACTION_PAN_X);\n        }\n        return actions;\n    },\n\n    directionTest: function(input) {\n        var options = this.options;\n        var hasMoved = true;\n        var distance = input.distance;\n        var direction = input.direction;\n        var x = input.deltaX;\n        var y = input.deltaY;\n\n        // lock to axis?\n        if (!(direction & options.direction)) {\n            if (options.direction & DIRECTION_HORIZONTAL) {\n                direction = (x === 0) ? DIRECTION_NONE : (x < 0) ? DIRECTION_LEFT : DIRECTION_RIGHT;\n                hasMoved = x != this.pX;\n                distance = Math.abs(input.deltaX);\n            } else {\n                direction = (y === 0) ? DIRECTION_NONE : (y < 0) ? DIRECTION_UP : DIRECTION_DOWN;\n                hasMoved = y != this.pY;\n                distance = Math.abs(input.deltaY);\n            }\n        }\n        input.direction = direction;\n        return hasMoved && distance > options.threshold && direction & options.direction;\n    },\n\n    attrTest: function(input) {\n        return AttrRecognizer.prototype.attrTest.call(this, input) &&\n            (this.state & STATE_BEGAN || (!(this.state & STATE_BEGAN) && this.directionTest(input)));\n    },\n\n    emit: function(input) {\n\n        this.pX = input.deltaX;\n        this.pY = input.deltaY;\n\n        var direction = directionStr(input.direction);\n\n        if (direction) {\n            input.additionalEvent = this.options.event + direction;\n        }\n        this._super.emit.call(this, input);\n    }\n});\n\n/**\n * Pinch\n * Recognized when two or more pointers are moving toward (zoom-in) or away from each other (zoom-out).\n * @constructor\n * @extends AttrRecognizer\n */\nfunction PinchRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(PinchRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n        event: 'pinch',\n        threshold: 0,\n        pointers: 2\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_NONE];\n    },\n\n    attrTest: function(input) {\n        return this._super.attrTest.call(this, input) &&\n            (Math.abs(input.scale - 1) > this.options.threshold || this.state & STATE_BEGAN);\n    },\n\n    emit: function(input) {\n        if (input.scale !== 1) {\n            var inOut = input.scale < 1 ? 'in' : 'out';\n            input.additionalEvent = this.options.event + inOut;\n        }\n        this._super.emit.call(this, input);\n    }\n});\n\n/**\n * Press\n * Recognized when the pointer is down for x ms without any movement.\n * @constructor\n * @extends Recognizer\n */\nfunction PressRecognizer() {\n    Recognizer.apply(this, arguments);\n\n    this._timer = null;\n    this._input = null;\n}\n\ninherit(PressRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PressRecognizer\n     */\n    defaults: {\n        event: 'press',\n        pointers: 1,\n        time: 251, // minimal time of the pointer to be pressed\n        threshold: 9 // a minimal movement is ok, but keep it low\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_AUTO];\n    },\n\n    process: function(input) {\n        var options = this.options;\n        var validPointers = input.pointers.length === options.pointers;\n        var validMovement = input.distance < options.threshold;\n        var validTime = input.deltaTime > options.time;\n\n        this._input = input;\n\n        // we only allow little movement\n        // and we've reached an end event, so a tap is possible\n        if (!validMovement || !validPointers || (input.eventType & (INPUT_END | INPUT_CANCEL) && !validTime)) {\n            this.reset();\n        } else if (input.eventType & INPUT_START) {\n            this.reset();\n            this._timer = setTimeoutContext(function() {\n                this.state = STATE_RECOGNIZED;\n                this.tryEmit();\n            }, options.time, this);\n        } else if (input.eventType & INPUT_END) {\n            return STATE_RECOGNIZED;\n        }\n        return STATE_FAILED;\n    },\n\n    reset: function() {\n        clearTimeout(this._timer);\n    },\n\n    emit: function(input) {\n        if (this.state !== STATE_RECOGNIZED) {\n            return;\n        }\n\n        if (input && (input.eventType & INPUT_END)) {\n            this.manager.emit(this.options.event + 'up', input);\n        } else {\n            this._input.timeStamp = now();\n            this.manager.emit(this.options.event, this._input);\n        }\n    }\n});\n\n/**\n * Rotate\n * Recognized when two or more pointer are moving in a circular motion.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction RotateRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(RotateRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof RotateRecognizer\n     */\n    defaults: {\n        event: 'rotate',\n        threshold: 0,\n        pointers: 2\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_NONE];\n    },\n\n    attrTest: function(input) {\n        return this._super.attrTest.call(this, input) &&\n            (Math.abs(input.rotation) > this.options.threshold || this.state & STATE_BEGAN);\n    }\n});\n\n/**\n * Swipe\n * Recognized when the pointer is moving fast (velocity), with enough distance in the allowed direction.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction SwipeRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(SwipeRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof SwipeRecognizer\n     */\n    defaults: {\n        event: 'swipe',\n        threshold: 10,\n        velocity: 0.3,\n        direction: DIRECTION_HORIZONTAL | DIRECTION_VERTICAL,\n        pointers: 1\n    },\n\n    getTouchAction: function() {\n        return PanRecognizer.prototype.getTouchAction.call(this);\n    },\n\n    attrTest: function(input) {\n        var direction = this.options.direction;\n        var velocity;\n\n        if (direction & (DIRECTION_HORIZONTAL | DIRECTION_VERTICAL)) {\n            velocity = input.overallVelocity;\n        } else if (direction & DIRECTION_HORIZONTAL) {\n            velocity = input.overallVelocityX;\n        } else if (direction & DIRECTION_VERTICAL) {\n            velocity = input.overallVelocityY;\n        }\n\n        return this._super.attrTest.call(this, input) &&\n            direction & input.offsetDirection &&\n            input.distance > this.options.threshold &&\n            input.maxPointers == this.options.pointers &&\n            abs(velocity) > this.options.velocity && input.eventType & INPUT_END;\n    },\n\n    emit: function(input) {\n        var direction = directionStr(input.offsetDirection);\n        if (direction) {\n            this.manager.emit(this.options.event + direction, input);\n        }\n\n        this.manager.emit(this.options.event, input);\n    }\n});\n\n/**\n * A tap is ecognized when the pointer is doing a small tap/click. Multiple taps are recognized if they occur\n * between the given interval and position. The delay option can be used to recognize multi-taps without firing\n * a single tap.\n *\n * The eventData from the emitted event contains the property `tapCount`, which contains the amount of\n * multi-taps being recognized.\n * @constructor\n * @extends Recognizer\n */\nfunction TapRecognizer() {\n    Recognizer.apply(this, arguments);\n\n    // previous time and center,\n    // used for tap counting\n    this.pTime = false;\n    this.pCenter = false;\n\n    this._timer = null;\n    this._input = null;\n    this.count = 0;\n}\n\ninherit(TapRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n        event: 'tap',\n        pointers: 1,\n        taps: 1,\n        interval: 300, // max time between the multi-tap taps\n        time: 250, // max time of the pointer to be down (like finger on the screen)\n        threshold: 9, // a minimal movement is ok, but keep it low\n        posThreshold: 10 // a multi-tap can be a bit off the initial position\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_MANIPULATION];\n    },\n\n    process: function(input) {\n        var options = this.options;\n\n        var validPointers = input.pointers.length === options.pointers;\n        var validMovement = input.distance < options.threshold;\n        var validTouchTime = input.deltaTime < options.time;\n\n        this.reset();\n\n        if ((input.eventType & INPUT_START) && (this.count === 0)) {\n            return this.failTimeout();\n        }\n\n        // we only allow little movement\n        // and we've reached an end event, so a tap is possible\n        if (validMovement && validTouchTime && validPointers) {\n            if (input.eventType != INPUT_END) {\n                return this.failTimeout();\n            }\n\n            var validInterval = this.pTime ? (input.timeStamp - this.pTime < options.interval) : true;\n            var validMultiTap = !this.pCenter || getDistance(this.pCenter, input.center) < options.posThreshold;\n\n            this.pTime = input.timeStamp;\n            this.pCenter = input.center;\n\n            if (!validMultiTap || !validInterval) {\n                this.count = 1;\n            } else {\n                this.count += 1;\n            }\n\n            this._input = input;\n\n            // if tap count matches we have recognized it,\n            // else it has began recognizing...\n            var tapCount = this.count % options.taps;\n            if (tapCount === 0) {\n                // no failing requirements, immediately trigger the tap event\n                // or wait as long as the multitap interval to trigger\n                if (!this.hasRequireFailures()) {\n                    return STATE_RECOGNIZED;\n                } else {\n                    this._timer = setTimeoutContext(function() {\n                        this.state = STATE_RECOGNIZED;\n                        this.tryEmit();\n                    }, options.interval, this);\n                    return STATE_BEGAN;\n                }\n            }\n        }\n        return STATE_FAILED;\n    },\n\n    failTimeout: function() {\n        this._timer = setTimeoutContext(function() {\n            this.state = STATE_FAILED;\n        }, this.options.interval, this);\n        return STATE_FAILED;\n    },\n\n    reset: function() {\n        clearTimeout(this._timer);\n    },\n\n    emit: function() {\n        if (this.state == STATE_RECOGNIZED) {\n            this._input.tapCount = this.count;\n            this.manager.emit(this.options.event, this._input);\n        }\n    }\n});\n\n/**\n * Simple way to create a manager with a default set of recognizers.\n * @param {HTMLElement} element\n * @param {Object} [options]\n * @constructor\n */\nfunction Hammer(element, options) {\n    options = options || {};\n    options.recognizers = ifUndefined(options.recognizers, Hammer.defaults.preset);\n    return new Manager(element, options);\n}\n\n/**\n * @const {string}\n */\nHammer.VERSION = '2.0.7';\n\n/**\n * default settings\n * @namespace\n */\nHammer.defaults = {\n    /**\n     * set if DOM events are being triggered.\n     * But this is slower and unused by simple implementations, so disabled by default.\n     * @type {Boolean}\n     * @default false\n     */\n    domEvents: false,\n\n    /**\n     * The value for the touchAction property/fallback.\n     * When set to `compute` it will magically set the correct value based on the added recognizers.\n     * @type {String}\n     * @default compute\n     */\n    touchAction: TOUCH_ACTION_COMPUTE,\n\n    /**\n     * @type {Boolean}\n     * @default true\n     */\n    enable: true,\n\n    /**\n     * EXPERIMENTAL FEATURE -- can be removed/changed\n     * Change the parent input target element.\n     * If Null, then it is being set the to main element.\n     * @type {Null|EventTarget}\n     * @default null\n     */\n    inputTarget: null,\n\n    /**\n     * force an input class\n     * @type {Null|Function}\n     * @default null\n     */\n    inputClass: null,\n\n    /**\n     * Default recognizer setup when calling `Hammer()`\n     * When creating a new Manager these will be skipped.\n     * @type {Array}\n     */\n    preset: [\n        // RecognizerClass, options, [recognizeWith, ...], [requireFailure, ...]\n        [RotateRecognizer, {enable: false}],\n        [PinchRecognizer, {enable: false}, ['rotate']],\n        [SwipeRecognizer, {direction: DIRECTION_HORIZONTAL}],\n        [PanRecognizer, {direction: DIRECTION_HORIZONTAL}, ['swipe']],\n        [TapRecognizer],\n        [TapRecognizer, {event: 'doubletap', taps: 2}, ['tap']],\n        [PressRecognizer]\n    ],\n\n    /**\n     * Some CSS properties can be used to improve the working of Hammer.\n     * Add them to this method and they will be set when creating a new Manager.\n     * @namespace\n     */\n    cssProps: {\n        /**\n         * Disables text selection to improve the dragging gesture. Mainly for desktop browsers.\n         * @type {String}\n         * @default 'none'\n         */\n        userSelect: 'none',\n\n        /**\n         * Disable the Windows Phone grippers when pressing an element.\n         * @type {String}\n         * @default 'none'\n         */\n        touchSelect: 'none',\n\n        /**\n         * Disables the default callout shown when you touch and hold a touch target.\n         * On iOS, when you touch and hold a touch target such as a link, Safari displays\n         * a callout containing information about the link. This property allows you to disable that callout.\n         * @type {String}\n         * @default 'none'\n         */\n        touchCallout: 'none',\n\n        /**\n         * Specifies whether zooming is enabled. Used by IE10>\n         * @type {String}\n         * @default 'none'\n         */\n        contentZooming: 'none',\n\n        /**\n         * Specifies that an entire element should be draggable instead of its contents. Mainly for desktop browsers.\n         * @type {String}\n         * @default 'none'\n         */\n        userDrag: 'none',\n\n        /**\n         * Overrides the highlight color shown when the user taps a link or a JavaScript\n         * clickable element in iOS. This property obeys the alpha value, if specified.\n         * @type {String}\n         * @default 'rgba(0,0,0,0)'\n         */\n        tapHighlightColor: 'rgba(0,0,0,0)'\n    }\n};\n\nvar STOP = 1;\nvar FORCED_STOP = 2;\n\n/**\n * Manager\n * @param {HTMLElement} element\n * @param {Object} [options]\n * @constructor\n */\nfunction Manager(element, options) {\n    this.options = assign({}, Hammer.defaults, options || {});\n\n    this.options.inputTarget = this.options.inputTarget || element;\n\n    this.handlers = {};\n    this.session = {};\n    this.recognizers = [];\n    this.oldCssProps = {};\n\n    this.element = element;\n    this.input = createInputInstance(this);\n    this.touchAction = new TouchAction(this, this.options.touchAction);\n\n    toggleCssProps(this, true);\n\n    each(this.options.recognizers, function(item) {\n        var recognizer = this.add(new (item[0])(item[1]));\n        item[2] && recognizer.recognizeWith(item[2]);\n        item[3] && recognizer.requireFailure(item[3]);\n    }, this);\n}\n\nManager.prototype = {\n    /**\n     * set options\n     * @param {Object} options\n     * @returns {Manager}\n     */\n    set: function(options) {\n        assign(this.options, options);\n\n        // Options that need a little more setup\n        if (options.touchAction) {\n            this.touchAction.update();\n        }\n        if (options.inputTarget) {\n            // Clean up existing event listeners and reinitialize\n            this.input.destroy();\n            this.input.target = options.inputTarget;\n            this.input.init();\n        }\n        return this;\n    },\n\n    /**\n     * stop recognizing for this session.\n     * This session will be discarded, when a new [input]start event is fired.\n     * When forced, the recognizer cycle is stopped immediately.\n     * @param {Boolean} [force]\n     */\n    stop: function(force) {\n        this.session.stopped = force ? FORCED_STOP : STOP;\n    },\n\n    /**\n     * run the recognizers!\n     * called by the inputHandler function on every movement of the pointers (touches)\n     * it walks through all the recognizers and tries to detect the gesture that is being made\n     * @param {Object} inputData\n     */\n    recognize: function(inputData) {\n        var session = this.session;\n        if (session.stopped) {\n            return;\n        }\n\n        // run the touch-action polyfill\n        this.touchAction.preventDefaults(inputData);\n\n        var recognizer;\n        var recognizers = this.recognizers;\n\n        // this holds the recognizer that is being recognized.\n        // so the recognizer's state needs to be BEGAN, CHANGED, ENDED or RECOGNIZED\n        // if no recognizer is detecting a thing, it is set to `null`\n        var curRecognizer = session.curRecognizer;\n\n        // reset when the last recognizer is recognized\n        // or when we're in a new session\n        if (!curRecognizer || (curRecognizer && curRecognizer.state & STATE_RECOGNIZED)) {\n            curRecognizer = session.curRecognizer = null;\n        }\n\n        var i = 0;\n        while (i < recognizers.length) {\n            recognizer = recognizers[i];\n\n            // find out if we are allowed try to recognize the input for this one.\n            // 1.   allow if the session is NOT forced stopped (see the .stop() method)\n            // 2.   allow if we still haven't recognized a gesture in this session, or the this recognizer is the one\n            //      that is being recognized.\n            // 3.   allow if the recognizer is allowed to run simultaneous with the current recognized recognizer.\n            //      this can be setup with the `recognizeWith()` method on the recognizer.\n            if (session.stopped !== FORCED_STOP && ( // 1\n                    !curRecognizer || recognizer == curRecognizer || // 2\n                    recognizer.canRecognizeWith(curRecognizer))) { // 3\n                recognizer.recognize(inputData);\n            } else {\n                recognizer.reset();\n            }\n\n            // if the recognizer has been recognizing the input as a valid gesture, we want to store this one as the\n            // current active recognizer. but only if we don't already have an active recognizer\n            if (!curRecognizer && recognizer.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED)) {\n                curRecognizer = session.curRecognizer = recognizer;\n            }\n            i++;\n        }\n    },\n\n    /**\n     * get a recognizer by its event name.\n     * @param {Recognizer|String} recognizer\n     * @returns {Recognizer|Null}\n     */\n    get: function(recognizer) {\n        if (recognizer instanceof Recognizer) {\n            return recognizer;\n        }\n\n        var recognizers = this.recognizers;\n        for (var i = 0; i < recognizers.length; i++) {\n            if (recognizers[i].options.event == recognizer) {\n                return recognizers[i];\n            }\n        }\n        return null;\n    },\n\n    /**\n     * add a recognizer to the manager\n     * existing recognizers with the same event name will be removed\n     * @param {Recognizer} recognizer\n     * @returns {Recognizer|Manager}\n     */\n    add: function(recognizer) {\n        if (invokeArrayArg(recognizer, 'add', this)) {\n            return this;\n        }\n\n        // remove existing\n        var existing = this.get(recognizer.options.event);\n        if (existing) {\n            this.remove(existing);\n        }\n\n        this.recognizers.push(recognizer);\n        recognizer.manager = this;\n\n        this.touchAction.update();\n        return recognizer;\n    },\n\n    /**\n     * remove a recognizer by name or instance\n     * @param {Recognizer|String} recognizer\n     * @returns {Manager}\n     */\n    remove: function(recognizer) {\n        if (invokeArrayArg(recognizer, 'remove', this)) {\n            return this;\n        }\n\n        recognizer = this.get(recognizer);\n\n        // let's make sure this recognizer exists\n        if (recognizer) {\n            var recognizers = this.recognizers;\n            var index = inArray(recognizers, recognizer);\n\n            if (index !== -1) {\n                recognizers.splice(index, 1);\n                this.touchAction.update();\n            }\n        }\n\n        return this;\n    },\n\n    /**\n     * bind event\n     * @param {String} events\n     * @param {Function} handler\n     * @returns {EventEmitter} this\n     */\n    on: function(events, handler) {\n        if (events === undefined) {\n            return;\n        }\n        if (handler === undefined) {\n            return;\n        }\n\n        var handlers = this.handlers;\n        each(splitStr(events), function(event) {\n            handlers[event] = handlers[event] || [];\n            handlers[event].push(handler);\n        });\n        return this;\n    },\n\n    /**\n     * unbind event, leave emit blank to remove all handlers\n     * @param {String} events\n     * @param {Function} [handler]\n     * @returns {EventEmitter} this\n     */\n    off: function(events, handler) {\n        if (events === undefined) {\n            return;\n        }\n\n        var handlers = this.handlers;\n        each(splitStr(events), function(event) {\n            if (!handler) {\n                delete handlers[event];\n            } else {\n                handlers[event] && handlers[event].splice(inArray(handlers[event], handler), 1);\n            }\n        });\n        return this;\n    },\n\n    /**\n     * emit event to the listeners\n     * @param {String} event\n     * @param {Object} data\n     */\n    emit: function(event, data) {\n        // we also want to trigger dom events\n        if (this.options.domEvents) {\n            triggerDomEvent(event, data);\n        }\n\n        // no handlers, so skip it all\n        var handlers = this.handlers[event] && this.handlers[event].slice();\n        if (!handlers || !handlers.length) {\n            return;\n        }\n\n        data.type = event;\n        data.preventDefault = function() {\n            data.srcEvent.preventDefault();\n        };\n\n        var i = 0;\n        while (i < handlers.length) {\n            handlers[i](data);\n            i++;\n        }\n    },\n\n    /**\n     * destroy the manager and unbinds all events\n     * it doesn't unbind dom events, that is the user own responsibility\n     */\n    destroy: function() {\n        this.element && toggleCssProps(this, false);\n\n        this.handlers = {};\n        this.session = {};\n        this.input.destroy();\n        this.element = null;\n    }\n};\n\n/**\n * add/remove the css properties as defined in manager.options.cssProps\n * @param {Manager} manager\n * @param {Boolean} add\n */\nfunction toggleCssProps(manager, add) {\n    var element = manager.element;\n    if (!element.style) {\n        return;\n    }\n    var prop;\n    each(manager.options.cssProps, function(value, name) {\n        prop = prefixed(element.style, name);\n        if (add) {\n            manager.oldCssProps[prop] = element.style[prop];\n            element.style[prop] = value;\n        } else {\n            element.style[prop] = manager.oldCssProps[prop] || '';\n        }\n    });\n    if (!add) {\n        manager.oldCssProps = {};\n    }\n}\n\n/**\n * trigger dom event\n * @param {String} event\n * @param {Object} data\n */\nfunction triggerDomEvent(event, data) {\n    var gestureEvent = document.createEvent('Event');\n    gestureEvent.initEvent(event, true, true);\n    gestureEvent.gesture = data;\n    data.target.dispatchEvent(gestureEvent);\n}\n\nassign(Hammer, {\n    INPUT_START: INPUT_START,\n    INPUT_MOVE: INPUT_MOVE,\n    INPUT_END: INPUT_END,\n    INPUT_CANCEL: INPUT_CANCEL,\n\n    STATE_POSSIBLE: STATE_POSSIBLE,\n    STATE_BEGAN: STATE_BEGAN,\n    STATE_CHANGED: STATE_CHANGED,\n    STATE_ENDED: STATE_ENDED,\n    STATE_RECOGNIZED: STATE_RECOGNIZED,\n    STATE_CANCELLED: STATE_CANCELLED,\n    STATE_FAILED: STATE_FAILED,\n\n    DIRECTION_NONE: DIRECTION_NONE,\n    DIRECTION_LEFT: DIRECTION_LEFT,\n    DIRECTION_RIGHT: DIRECTION_RIGHT,\n    DIRECTION_UP: DIRECTION_UP,\n    DIRECTION_DOWN: DIRECTION_DOWN,\n    DIRECTION_HORIZONTAL: DIRECTION_HORIZONTAL,\n    DIRECTION_VERTICAL: DIRECTION_VERTICAL,\n    DIRECTION_ALL: DIRECTION_ALL,\n\n    Manager: Manager,\n    Input: Input,\n    TouchAction: TouchAction,\n\n    TouchInput: TouchInput,\n    MouseInput: MouseInput,\n    PointerEventInput: PointerEventInput,\n    TouchMouseInput: TouchMouseInput,\n    SingleTouchInput: SingleTouchInput,\n\n    Recognizer: Recognizer,\n    AttrRecognizer: AttrRecognizer,\n    Tap: TapRecognizer,\n    Pan: PanRecognizer,\n    Swipe: SwipeRecognizer,\n    Pinch: PinchRecognizer,\n    Rotate: RotateRecognizer,\n    Press: PressRecognizer,\n\n    on: addEventListeners,\n    off: removeEventListeners,\n    each: each,\n    merge: merge,\n    extend: extend,\n    assign: assign,\n    inherit: inherit,\n    bindFn: bindFn,\n    prefixed: prefixed\n});\n\n// this prevents errors when Hammer is loaded in the presence of an AMD\n//  style loader but by script tag, not by the loader.\nvar freeGlobal = (typeof window !== 'undefined' ? window : (typeof self !== 'undefined' ? self : {})); // jshint ignore:line\nfreeGlobal.Hammer = Hammer;\n\nif (true) {\n    !(__WEBPACK_AMD_DEFINE_RESULT__ = (function() {\n        return Hammer;\n    }).call(exports, __webpack_require__, exports, module),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n} else {}\n\n})(window, document, 'Hammer');\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvaGFtbWVyanMvaGFtbWVyLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBS0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3N1cGVyc2V0Ly4vbm9kZV9tb2R1bGVzL2hhbW1lcmpzL2hhbW1lci5qcz9jOGI1Il0sInNvdXJjZXNDb250ZW50IjpbIi8qISBIYW1tZXIuSlMgLSB2Mi4wLjcgLSAyMDE2LTA0LTIyXG4gKiBodHRwOi8vaGFtbWVyanMuZ2l0aHViLmlvL1xuICpcbiAqIENvcHlyaWdodCAoYykgMjAxNiBKb3JpayBUYW5nZWxkZXI7XG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgKi9cbihmdW5jdGlvbih3aW5kb3csIGRvY3VtZW50LCBleHBvcnROYW1lLCB1bmRlZmluZWQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG52YXIgVkVORE9SX1BSRUZJWEVTID0gWycnLCAnd2Via2l0JywgJ01veicsICdNUycsICdtcycsICdvJ107XG52YXIgVEVTVF9FTEVNRU5UID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbnZhciBUWVBFX0ZVTkNUSU9OID0gJ2Z1bmN0aW9uJztcblxudmFyIHJvdW5kID0gTWF0aC5yb3VuZDtcbnZhciBhYnMgPSBNYXRoLmFicztcbnZhciBub3cgPSBEYXRlLm5vdztcblxuLyoqXG4gKiBzZXQgYSB0aW1lb3V0IHdpdGggYSBnaXZlbiBzY29wZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAqIEBwYXJhbSB7TnVtYmVyfSB0aW1lb3V0XG4gKiBAcGFyYW0ge09iamVjdH0gY29udGV4dFxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuZnVuY3Rpb24gc2V0VGltZW91dENvbnRleHQoZm4sIHRpbWVvdXQsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gc2V0VGltZW91dChiaW5kRm4oZm4sIGNvbnRleHQpLCB0aW1lb3V0KTtcbn1cblxuLyoqXG4gKiBpZiB0aGUgYXJndW1lbnQgaXMgYW4gYXJyYXksIHdlIHdhbnQgdG8gZXhlY3V0ZSB0aGUgZm4gb24gZWFjaCBlbnRyeVxuICogaWYgaXQgYWludCBhbiBhcnJheSB3ZSBkb24ndCB3YW50IHRvIGRvIGEgdGhpbmcuXG4gKiB0aGlzIGlzIHVzZWQgYnkgYWxsIHRoZSBtZXRob2RzIHRoYXQgYWNjZXB0IGEgc2luZ2xlIGFuZCBhcnJheSBhcmd1bWVudC5cbiAqIEBwYXJhbSB7KnxBcnJheX0gYXJnXG4gKiBAcGFyYW0ge1N0cmluZ30gZm5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbY29udGV4dF1cbiAqIEByZXR1cm5zIHtCb29sZWFufVxuICovXG5mdW5jdGlvbiBpbnZva2VBcnJheUFyZyhhcmcsIGZuLCBjb250ZXh0KSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoYXJnKSkge1xuICAgICAgICBlYWNoKGFyZywgY29udGV4dFtmbl0sIGNvbnRleHQpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIHdhbGsgb2JqZWN0cyBhbmQgYXJyYXlzXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRvclxuICogQHBhcmFtIHtPYmplY3R9IGNvbnRleHRcbiAqL1xuZnVuY3Rpb24gZWFjaChvYmosIGl0ZXJhdG9yLCBjb250ZXh0KSB7XG4gICAgdmFyIGk7XG5cbiAgICBpZiAoIW9iaikge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKG9iai5mb3JFYWNoKSB7XG4gICAgICAgIG9iai5mb3JFYWNoKGl0ZXJhdG9yLCBjb250ZXh0KTtcbiAgICB9IGVsc2UgaWYgKG9iai5sZW5ndGggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpID0gMDtcbiAgICAgICAgd2hpbGUgKGkgPCBvYmoubGVuZ3RoKSB7XG4gICAgICAgICAgICBpdGVyYXRvci5jYWxsKGNvbnRleHQsIG9ialtpXSwgaSwgb2JqKTtcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAoaSBpbiBvYmopIHtcbiAgICAgICAgICAgIG9iai5oYXNPd25Qcm9wZXJ0eShpKSAmJiBpdGVyYXRvci5jYWxsKGNvbnRleHQsIG9ialtpXSwgaSwgb2JqKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiB3cmFwIGEgbWV0aG9kIHdpdGggYSBkZXByZWNhdGlvbiB3YXJuaW5nIGFuZCBzdGFjayB0cmFjZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gbWV0aG9kXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZVxuICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2VcbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gQSBuZXcgZnVuY3Rpb24gd3JhcHBpbmcgdGhlIHN1cHBsaWVkIG1ldGhvZC5cbiAqL1xuZnVuY3Rpb24gZGVwcmVjYXRlKG1ldGhvZCwgbmFtZSwgbWVzc2FnZSkge1xuICAgIHZhciBkZXByZWNhdGlvbk1lc3NhZ2UgPSAnREVQUkVDQVRFRCBNRVRIT0Q6ICcgKyBuYW1lICsgJ1xcbicgKyBtZXNzYWdlICsgJyBBVCBcXG4nO1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGUgPSBuZXcgRXJyb3IoJ2dldC1zdGFjay10cmFjZScpO1xuICAgICAgICB2YXIgc3RhY2sgPSBlICYmIGUuc3RhY2sgPyBlLnN0YWNrLnJlcGxhY2UoL15bXlxcKF0rP1tcXG4kXS9nbSwgJycpXG4gICAgICAgICAgICAucmVwbGFjZSgvXlxccythdFxccysvZ20sICcnKVxuICAgICAgICAgICAgLnJlcGxhY2UoL15PYmplY3QuPGFub255bW91cz5cXHMqXFwoL2dtLCAne2Fub255bW91c30oKUAnKSA6ICdVbmtub3duIFN0YWNrIFRyYWNlJztcblxuICAgICAgICB2YXIgbG9nID0gd2luZG93LmNvbnNvbGUgJiYgKHdpbmRvdy5jb25zb2xlLndhcm4gfHwgd2luZG93LmNvbnNvbGUubG9nKTtcbiAgICAgICAgaWYgKGxvZykge1xuICAgICAgICAgICAgbG9nLmNhbGwod2luZG93LmNvbnNvbGUsIGRlcHJlY2F0aW9uTWVzc2FnZSwgc3RhY2spO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXRob2QuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9O1xufVxuXG4vKipcbiAqIGV4dGVuZCBvYmplY3QuXG4gKiBtZWFucyB0aGF0IHByb3BlcnRpZXMgaW4gZGVzdCB3aWxsIGJlIG92ZXJ3cml0dGVuIGJ5IHRoZSBvbmVzIGluIHNyYy5cbiAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXRcbiAqIEBwYXJhbSB7Li4uT2JqZWN0fSBvYmplY3RzX3RvX2Fzc2lnblxuICogQHJldHVybnMge09iamVjdH0gdGFyZ2V0XG4gKi9cbnZhciBhc3NpZ247XG5pZiAodHlwZW9mIE9iamVjdC5hc3NpZ24gIT09ICdmdW5jdGlvbicpIHtcbiAgICBhc3NpZ24gPSBmdW5jdGlvbiBhc3NpZ24odGFyZ2V0KSB7XG4gICAgICAgIGlmICh0YXJnZXQgPT09IHVuZGVmaW5lZCB8fCB0YXJnZXQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjb252ZXJ0IHVuZGVmaW5lZCBvciBudWxsIHRvIG9iamVjdCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG91dHB1dCA9IE9iamVjdCh0YXJnZXQpO1xuICAgICAgICBmb3IgKHZhciBpbmRleCA9IDE7IGluZGV4IDwgYXJndW1lbnRzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpbmRleF07XG4gICAgICAgICAgICBpZiAoc291cmNlICE9PSB1bmRlZmluZWQgJiYgc291cmNlICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgbmV4dEtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNvdXJjZS5oYXNPd25Qcm9wZXJ0eShuZXh0S2V5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0W25leHRLZXldID0gc291cmNlW25leHRLZXldO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgfTtcbn0gZWxzZSB7XG4gICAgYXNzaWduID0gT2JqZWN0LmFzc2lnbjtcbn1cblxuLyoqXG4gKiBleHRlbmQgb2JqZWN0LlxuICogbWVhbnMgdGhhdCBwcm9wZXJ0aWVzIGluIGRlc3Qgd2lsbCBiZSBvdmVyd3JpdHRlbiBieSB0aGUgb25lcyBpbiBzcmMuXG4gKiBAcGFyYW0ge09iamVjdH0gZGVzdFxuICogQHBhcmFtIHtPYmplY3R9IHNyY1xuICogQHBhcmFtIHtCb29sZWFufSBbbWVyZ2U9ZmFsc2VdXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBkZXN0XG4gKi9cbnZhciBleHRlbmQgPSBkZXByZWNhdGUoZnVuY3Rpb24gZXh0ZW5kKGRlc3QsIHNyYywgbWVyZ2UpIHtcbiAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHNyYyk7XG4gICAgdmFyIGkgPSAwO1xuICAgIHdoaWxlIChpIDwga2V5cy5sZW5ndGgpIHtcbiAgICAgICAgaWYgKCFtZXJnZSB8fCAobWVyZ2UgJiYgZGVzdFtrZXlzW2ldXSA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICAgICAgZGVzdFtrZXlzW2ldXSA9IHNyY1trZXlzW2ldXTtcbiAgICAgICAgfVxuICAgICAgICBpKys7XG4gICAgfVxuICAgIHJldHVybiBkZXN0O1xufSwgJ2V4dGVuZCcsICdVc2UgYGFzc2lnbmAuJyk7XG5cbi8qKlxuICogbWVyZ2UgdGhlIHZhbHVlcyBmcm9tIHNyYyBpbiB0aGUgZGVzdC5cbiAqIG1lYW5zIHRoYXQgcHJvcGVydGllcyB0aGF0IGV4aXN0IGluIGRlc3Qgd2lsbCBub3QgYmUgb3ZlcndyaXR0ZW4gYnkgc3JjXG4gKiBAcGFyYW0ge09iamVjdH0gZGVzdFxuICogQHBhcmFtIHtPYmplY3R9IHNyY1xuICogQHJldHVybnMge09iamVjdH0gZGVzdFxuICovXG52YXIgbWVyZ2UgPSBkZXByZWNhdGUoZnVuY3Rpb24gbWVyZ2UoZGVzdCwgc3JjKSB7XG4gICAgcmV0dXJuIGV4dGVuZChkZXN0LCBzcmMsIHRydWUpO1xufSwgJ21lcmdlJywgJ1VzZSBgYXNzaWduYC4nKTtcblxuLyoqXG4gKiBzaW1wbGUgY2xhc3MgaW5oZXJpdGFuY2VcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNoaWxkXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBiYXNlXG4gKiBAcGFyYW0ge09iamVjdH0gW3Byb3BlcnRpZXNdXG4gKi9cbmZ1bmN0aW9uIGluaGVyaXQoY2hpbGQsIGJhc2UsIHByb3BlcnRpZXMpIHtcbiAgICB2YXIgYmFzZVAgPSBiYXNlLnByb3RvdHlwZSxcbiAgICAgICAgY2hpbGRQO1xuXG4gICAgY2hpbGRQID0gY2hpbGQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShiYXNlUCk7XG4gICAgY2hpbGRQLmNvbnN0cnVjdG9yID0gY2hpbGQ7XG4gICAgY2hpbGRQLl9zdXBlciA9IGJhc2VQO1xuXG4gICAgaWYgKHByb3BlcnRpZXMpIHtcbiAgICAgICAgYXNzaWduKGNoaWxkUCwgcHJvcGVydGllcyk7XG4gICAgfVxufVxuXG4vKipcbiAqIHNpbXBsZSBmdW5jdGlvbiBiaW5kXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICogQHBhcmFtIHtPYmplY3R9IGNvbnRleHRcbiAqIEByZXR1cm5zIHtGdW5jdGlvbn1cbiAqL1xuZnVuY3Rpb24gYmluZEZuKGZuLCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGJvdW5kRm4oKSB7XG4gICAgICAgIHJldHVybiBmbi5hcHBseShjb250ZXh0LCBhcmd1bWVudHMpO1xuICAgIH07XG59XG5cbi8qKlxuICogbGV0IGEgYm9vbGVhbiB2YWx1ZSBhbHNvIGJlIGEgZnVuY3Rpb24gdGhhdCBtdXN0IHJldHVybiBhIGJvb2xlYW5cbiAqIHRoaXMgZmlyc3QgaXRlbSBpbiBhcmdzIHdpbGwgYmUgdXNlZCBhcyB0aGUgY29udGV4dFxuICogQHBhcmFtIHtCb29sZWFufEZ1bmN0aW9ufSB2YWxcbiAqIEBwYXJhbSB7QXJyYXl9IFthcmdzXVxuICogQHJldHVybnMge0Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGJvb2xPckZuKHZhbCwgYXJncykge1xuICAgIGlmICh0eXBlb2YgdmFsID09IFRZUEVfRlVOQ1RJT04pIHtcbiAgICAgICAgcmV0dXJuIHZhbC5hcHBseShhcmdzID8gYXJnc1swXSB8fCB1bmRlZmluZWQgOiB1bmRlZmluZWQsIGFyZ3MpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsO1xufVxuXG4vKipcbiAqIHVzZSB0aGUgdmFsMiB3aGVuIHZhbDEgaXMgdW5kZWZpbmVkXG4gKiBAcGFyYW0geyp9IHZhbDFcbiAqIEBwYXJhbSB7Kn0gdmFsMlxuICogQHJldHVybnMgeyp9XG4gKi9cbmZ1bmN0aW9uIGlmVW5kZWZpbmVkKHZhbDEsIHZhbDIpIHtcbiAgICByZXR1cm4gKHZhbDEgPT09IHVuZGVmaW5lZCkgPyB2YWwyIDogdmFsMTtcbn1cblxuLyoqXG4gKiBhZGRFdmVudExpc3RlbmVyIHdpdGggbXVsdGlwbGUgZXZlbnRzIGF0IG9uY2VcbiAqIEBwYXJhbSB7RXZlbnRUYXJnZXR9IHRhcmdldFxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVzXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYW5kbGVyXG4gKi9cbmZ1bmN0aW9uIGFkZEV2ZW50TGlzdGVuZXJzKHRhcmdldCwgdHlwZXMsIGhhbmRsZXIpIHtcbiAgICBlYWNoKHNwbGl0U3RyKHR5cGVzKSwgZnVuY3Rpb24odHlwZSkge1xuICAgICAgICB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBoYW5kbGVyLCBmYWxzZSk7XG4gICAgfSk7XG59XG5cbi8qKlxuICogcmVtb3ZlRXZlbnRMaXN0ZW5lciB3aXRoIG11bHRpcGxlIGV2ZW50cyBhdCBvbmNlXG4gKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fSB0YXJnZXRcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlc1xuICogQHBhcmFtIHtGdW5jdGlvbn0gaGFuZGxlclxuICovXG5mdW5jdGlvbiByZW1vdmVFdmVudExpc3RlbmVycyh0YXJnZXQsIHR5cGVzLCBoYW5kbGVyKSB7XG4gICAgZWFjaChzcGxpdFN0cih0eXBlcyksIGZ1bmN0aW9uKHR5cGUpIHtcbiAgICAgICAgdGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgaGFuZGxlciwgZmFsc2UpO1xuICAgIH0pO1xufVxuXG4vKipcbiAqIGZpbmQgaWYgYSBub2RlIGlzIGluIHRoZSBnaXZlbiBwYXJlbnRcbiAqIEBtZXRob2QgaGFzUGFyZW50XG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBub2RlXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBwYXJlbnRcbiAqIEByZXR1cm4ge0Jvb2xlYW59IGZvdW5kXG4gKi9cbmZ1bmN0aW9uIGhhc1BhcmVudChub2RlLCBwYXJlbnQpIHtcbiAgICB3aGlsZSAobm9kZSkge1xuICAgICAgICBpZiAobm9kZSA9PSBwYXJlbnQpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBzbWFsbCBpbmRleE9mIHdyYXBwZXJcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBmaW5kXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gZm91bmRcbiAqL1xuZnVuY3Rpb24gaW5TdHIoc3RyLCBmaW5kKSB7XG4gICAgcmV0dXJuIHN0ci5pbmRleE9mKGZpbmQpID4gLTE7XG59XG5cbi8qKlxuICogc3BsaXQgc3RyaW5nIG9uIHdoaXRlc3BhY2VcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEByZXR1cm5zIHtBcnJheX0gd29yZHNcbiAqL1xuZnVuY3Rpb24gc3BsaXRTdHIoc3RyKSB7XG4gICAgcmV0dXJuIHN0ci50cmltKCkuc3BsaXQoL1xccysvZyk7XG59XG5cbi8qKlxuICogZmluZCBpZiBhIGFycmF5IGNvbnRhaW5zIHRoZSBvYmplY3QgdXNpbmcgaW5kZXhPZiBvciBhIHNpbXBsZSBwb2x5RmlsbFxuICogQHBhcmFtIHtBcnJheX0gc3JjXG4gKiBAcGFyYW0ge1N0cmluZ30gZmluZFxuICogQHBhcmFtIHtTdHJpbmd9IFtmaW5kQnlLZXldXG4gKiBAcmV0dXJuIHtCb29sZWFufE51bWJlcn0gZmFsc2Ugd2hlbiBub3QgZm91bmQsIG9yIHRoZSBpbmRleFxuICovXG5mdW5jdGlvbiBpbkFycmF5KHNyYywgZmluZCwgZmluZEJ5S2V5KSB7XG4gICAgaWYgKHNyYy5pbmRleE9mICYmICFmaW5kQnlLZXkpIHtcbiAgICAgICAgcmV0dXJuIHNyYy5pbmRleE9mKGZpbmQpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgd2hpbGUgKGkgPCBzcmMubGVuZ3RoKSB7XG4gICAgICAgICAgICBpZiAoKGZpbmRCeUtleSAmJiBzcmNbaV1bZmluZEJ5S2V5XSA9PSBmaW5kKSB8fCAoIWZpbmRCeUtleSAmJiBzcmNbaV0gPT09IGZpbmQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH1cbn1cblxuLyoqXG4gKiBjb252ZXJ0IGFycmF5LWxpa2Ugb2JqZWN0cyB0byByZWFsIGFycmF5c1xuICogQHBhcmFtIHtPYmplY3R9IG9ialxuICogQHJldHVybnMge0FycmF5fVxuICovXG5mdW5jdGlvbiB0b0FycmF5KG9iaikge1xuICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChvYmosIDApO1xufVxuXG4vKipcbiAqIHVuaXF1ZSBhcnJheSB3aXRoIG9iamVjdHMgYmFzZWQgb24gYSBrZXkgKGxpa2UgJ2lkJykgb3IganVzdCBieSB0aGUgYXJyYXkncyB2YWx1ZVxuICogQHBhcmFtIHtBcnJheX0gc3JjIFt7aWQ6MX0se2lkOjJ9LHtpZDoxfV1cbiAqIEBwYXJhbSB7U3RyaW5nfSBba2V5XVxuICogQHBhcmFtIHtCb29sZWFufSBbc29ydD1GYWxzZV1cbiAqIEByZXR1cm5zIHtBcnJheX0gW3tpZDoxfSx7aWQ6Mn1dXG4gKi9cbmZ1bmN0aW9uIHVuaXF1ZUFycmF5KHNyYywga2V5LCBzb3J0KSB7XG4gICAgdmFyIHJlc3VsdHMgPSBbXTtcbiAgICB2YXIgdmFsdWVzID0gW107XG4gICAgdmFyIGkgPSAwO1xuXG4gICAgd2hpbGUgKGkgPCBzcmMubGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWwgPSBrZXkgPyBzcmNbaV1ba2V5XSA6IHNyY1tpXTtcbiAgICAgICAgaWYgKGluQXJyYXkodmFsdWVzLCB2YWwpIDwgMCkge1xuICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHNyY1tpXSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFsdWVzW2ldID0gdmFsO1xuICAgICAgICBpKys7XG4gICAgfVxuXG4gICAgaWYgKHNvcnQpIHtcbiAgICAgICAgaWYgKCFrZXkpIHtcbiAgICAgICAgICAgIHJlc3VsdHMgPSByZXN1bHRzLnNvcnQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdHMgPSByZXN1bHRzLnNvcnQoZnVuY3Rpb24gc29ydFVuaXF1ZUFycmF5KGEsIGIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYVtrZXldID4gYltrZXldO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0cztcbn1cblxuLyoqXG4gKiBnZXQgdGhlIHByZWZpeGVkIHByb3BlcnR5XG4gKiBAcGFyYW0ge09iamVjdH0gb2JqXG4gKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydHlcbiAqIEByZXR1cm5zIHtTdHJpbmd8VW5kZWZpbmVkfSBwcmVmaXhlZFxuICovXG5mdW5jdGlvbiBwcmVmaXhlZChvYmosIHByb3BlcnR5KSB7XG4gICAgdmFyIHByZWZpeCwgcHJvcDtcbiAgICB2YXIgY2FtZWxQcm9wID0gcHJvcGVydHlbMF0udG9VcHBlckNhc2UoKSArIHByb3BlcnR5LnNsaWNlKDEpO1xuXG4gICAgdmFyIGkgPSAwO1xuICAgIHdoaWxlIChpIDwgVkVORE9SX1BSRUZJWEVTLmxlbmd0aCkge1xuICAgICAgICBwcmVmaXggPSBWRU5ET1JfUFJFRklYRVNbaV07XG4gICAgICAgIHByb3AgPSAocHJlZml4KSA/IHByZWZpeCArIGNhbWVsUHJvcCA6IHByb3BlcnR5O1xuXG4gICAgICAgIGlmIChwcm9wIGluIG9iaikge1xuICAgICAgICAgICAgcmV0dXJuIHByb3A7XG4gICAgICAgIH1cbiAgICAgICAgaSsrO1xuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxuXG4vKipcbiAqIGdldCBhIHVuaXF1ZSBpZFxuICogQHJldHVybnMge251bWJlcn0gdW5pcXVlSWRcbiAqL1xudmFyIF91bmlxdWVJZCA9IDE7XG5mdW5jdGlvbiB1bmlxdWVJZCgpIHtcbiAgICByZXR1cm4gX3VuaXF1ZUlkKys7XG59XG5cbi8qKlxuICogZ2V0IHRoZSB3aW5kb3cgb2JqZWN0IG9mIGFuIGVsZW1lbnRcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnRcbiAqIEByZXR1cm5zIHtEb2N1bWVudFZpZXd8V2luZG93fVxuICovXG5mdW5jdGlvbiBnZXRXaW5kb3dGb3JFbGVtZW50KGVsZW1lbnQpIHtcbiAgICB2YXIgZG9jID0gZWxlbWVudC5vd25lckRvY3VtZW50IHx8IGVsZW1lbnQ7XG4gICAgcmV0dXJuIChkb2MuZGVmYXVsdFZpZXcgfHwgZG9jLnBhcmVudFdpbmRvdyB8fCB3aW5kb3cpO1xufVxuXG52YXIgTU9CSUxFX1JFR0VYID0gL21vYmlsZXx0YWJsZXR8aXAoYWR8aG9uZXxvZCl8YW5kcm9pZC9pO1xuXG52YXIgU1VQUE9SVF9UT1VDSCA9ICgnb250b3VjaHN0YXJ0JyBpbiB3aW5kb3cpO1xudmFyIFNVUFBPUlRfUE9JTlRFUl9FVkVOVFMgPSBwcmVmaXhlZCh3aW5kb3csICdQb2ludGVyRXZlbnQnKSAhPT0gdW5kZWZpbmVkO1xudmFyIFNVUFBPUlRfT05MWV9UT1VDSCA9IFNVUFBPUlRfVE9VQ0ggJiYgTU9CSUxFX1JFR0VYLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG5cbnZhciBJTlBVVF9UWVBFX1RPVUNIID0gJ3RvdWNoJztcbnZhciBJTlBVVF9UWVBFX1BFTiA9ICdwZW4nO1xudmFyIElOUFVUX1RZUEVfTU9VU0UgPSAnbW91c2UnO1xudmFyIElOUFVUX1RZUEVfS0lORUNUID0gJ2tpbmVjdCc7XG5cbnZhciBDT01QVVRFX0lOVEVSVkFMID0gMjU7XG5cbnZhciBJTlBVVF9TVEFSVCA9IDE7XG52YXIgSU5QVVRfTU9WRSA9IDI7XG52YXIgSU5QVVRfRU5EID0gNDtcbnZhciBJTlBVVF9DQU5DRUwgPSA4O1xuXG52YXIgRElSRUNUSU9OX05PTkUgPSAxO1xudmFyIERJUkVDVElPTl9MRUZUID0gMjtcbnZhciBESVJFQ1RJT05fUklHSFQgPSA0O1xudmFyIERJUkVDVElPTl9VUCA9IDg7XG52YXIgRElSRUNUSU9OX0RPV04gPSAxNjtcblxudmFyIERJUkVDVElPTl9IT1JJWk9OVEFMID0gRElSRUNUSU9OX0xFRlQgfCBESVJFQ1RJT05fUklHSFQ7XG52YXIgRElSRUNUSU9OX1ZFUlRJQ0FMID0gRElSRUNUSU9OX1VQIHwgRElSRUNUSU9OX0RPV047XG52YXIgRElSRUNUSU9OX0FMTCA9IERJUkVDVElPTl9IT1JJWk9OVEFMIHwgRElSRUNUSU9OX1ZFUlRJQ0FMO1xuXG52YXIgUFJPUFNfWFkgPSBbJ3gnLCAneSddO1xudmFyIFBST1BTX0NMSUVOVF9YWSA9IFsnY2xpZW50WCcsICdjbGllbnRZJ107XG5cbi8qKlxuICogY3JlYXRlIG5ldyBpbnB1dCB0eXBlIG1hbmFnZXJcbiAqIEBwYXJhbSB7TWFuYWdlcn0gbWFuYWdlclxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqIEByZXR1cm5zIHtJbnB1dH1cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBJbnB1dChtYW5hZ2VyLCBjYWxsYmFjaykge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB0aGlzLm1hbmFnZXIgPSBtYW5hZ2VyO1xuICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICB0aGlzLmVsZW1lbnQgPSBtYW5hZ2VyLmVsZW1lbnQ7XG4gICAgdGhpcy50YXJnZXQgPSBtYW5hZ2VyLm9wdGlvbnMuaW5wdXRUYXJnZXQ7XG5cbiAgICAvLyBzbWFsbGVyIHdyYXBwZXIgYXJvdW5kIHRoZSBoYW5kbGVyLCBmb3IgdGhlIHNjb3BlIGFuZCB0aGUgZW5hYmxlZCBzdGF0ZSBvZiB0aGUgbWFuYWdlcixcbiAgICAvLyBzbyB3aGVuIGRpc2FibGVkIHRoZSBpbnB1dCBldmVudHMgYXJlIGNvbXBsZXRlbHkgYnlwYXNzZWQuXG4gICAgdGhpcy5kb21IYW5kbGVyID0gZnVuY3Rpb24oZXYpIHtcbiAgICAgICAgaWYgKGJvb2xPckZuKG1hbmFnZXIub3B0aW9ucy5lbmFibGUsIFttYW5hZ2VyXSkpIHtcbiAgICAgICAgICAgIHNlbGYuaGFuZGxlcihldik7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5pbml0KCk7XG5cbn1cblxuSW5wdXQucHJvdG90eXBlID0ge1xuICAgIC8qKlxuICAgICAqIHNob3VsZCBoYW5kbGUgdGhlIGlucHV0RXZlbnQgZGF0YSBhbmQgdHJpZ2dlciB0aGUgY2FsbGJhY2tcbiAgICAgKiBAdmlydHVhbFxuICAgICAqL1xuICAgIGhhbmRsZXI6IGZ1bmN0aW9uKCkgeyB9LFxuXG4gICAgLyoqXG4gICAgICogYmluZCB0aGUgZXZlbnRzXG4gICAgICovXG4gICAgaW5pdDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuZXZFbCAmJiBhZGRFdmVudExpc3RlbmVycyh0aGlzLmVsZW1lbnQsIHRoaXMuZXZFbCwgdGhpcy5kb21IYW5kbGVyKTtcbiAgICAgICAgdGhpcy5ldlRhcmdldCAmJiBhZGRFdmVudExpc3RlbmVycyh0aGlzLnRhcmdldCwgdGhpcy5ldlRhcmdldCwgdGhpcy5kb21IYW5kbGVyKTtcbiAgICAgICAgdGhpcy5ldldpbiAmJiBhZGRFdmVudExpc3RlbmVycyhnZXRXaW5kb3dGb3JFbGVtZW50KHRoaXMuZWxlbWVudCksIHRoaXMuZXZXaW4sIHRoaXMuZG9tSGFuZGxlcik7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHVuYmluZCB0aGUgZXZlbnRzXG4gICAgICovXG4gICAgZGVzdHJveTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuZXZFbCAmJiByZW1vdmVFdmVudExpc3RlbmVycyh0aGlzLmVsZW1lbnQsIHRoaXMuZXZFbCwgdGhpcy5kb21IYW5kbGVyKTtcbiAgICAgICAgdGhpcy5ldlRhcmdldCAmJiByZW1vdmVFdmVudExpc3RlbmVycyh0aGlzLnRhcmdldCwgdGhpcy5ldlRhcmdldCwgdGhpcy5kb21IYW5kbGVyKTtcbiAgICAgICAgdGhpcy5ldldpbiAmJiByZW1vdmVFdmVudExpc3RlbmVycyhnZXRXaW5kb3dGb3JFbGVtZW50KHRoaXMuZWxlbWVudCksIHRoaXMuZXZXaW4sIHRoaXMuZG9tSGFuZGxlcik7XG4gICAgfVxufTtcblxuLyoqXG4gKiBjcmVhdGUgbmV3IGlucHV0IHR5cGUgbWFuYWdlclxuICogY2FsbGVkIGJ5IHRoZSBNYW5hZ2VyIGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0hhbW1lcn0gbWFuYWdlclxuICogQHJldHVybnMge0lucHV0fVxuICovXG5mdW5jdGlvbiBjcmVhdGVJbnB1dEluc3RhbmNlKG1hbmFnZXIpIHtcbiAgICB2YXIgVHlwZTtcbiAgICB2YXIgaW5wdXRDbGFzcyA9IG1hbmFnZXIub3B0aW9ucy5pbnB1dENsYXNzO1xuXG4gICAgaWYgKGlucHV0Q2xhc3MpIHtcbiAgICAgICAgVHlwZSA9IGlucHV0Q2xhc3M7XG4gICAgfSBlbHNlIGlmIChTVVBQT1JUX1BPSU5URVJfRVZFTlRTKSB7XG4gICAgICAgIFR5cGUgPSBQb2ludGVyRXZlbnRJbnB1dDtcbiAgICB9IGVsc2UgaWYgKFNVUFBPUlRfT05MWV9UT1VDSCkge1xuICAgICAgICBUeXBlID0gVG91Y2hJbnB1dDtcbiAgICB9IGVsc2UgaWYgKCFTVVBQT1JUX1RPVUNIKSB7XG4gICAgICAgIFR5cGUgPSBNb3VzZUlucHV0O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIFR5cGUgPSBUb3VjaE1vdXNlSW5wdXQ7XG4gICAgfVxuICAgIHJldHVybiBuZXcgKFR5cGUpKG1hbmFnZXIsIGlucHV0SGFuZGxlcik7XG59XG5cbi8qKlxuICogaGFuZGxlIGlucHV0IGV2ZW50c1xuICogQHBhcmFtIHtNYW5hZ2VyfSBtYW5hZ2VyXG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRUeXBlXG4gKiBAcGFyYW0ge09iamVjdH0gaW5wdXRcbiAqL1xuZnVuY3Rpb24gaW5wdXRIYW5kbGVyKG1hbmFnZXIsIGV2ZW50VHlwZSwgaW5wdXQpIHtcbiAgICB2YXIgcG9pbnRlcnNMZW4gPSBpbnB1dC5wb2ludGVycy5sZW5ndGg7XG4gICAgdmFyIGNoYW5nZWRQb2ludGVyc0xlbiA9IGlucHV0LmNoYW5nZWRQb2ludGVycy5sZW5ndGg7XG4gICAgdmFyIGlzRmlyc3QgPSAoZXZlbnRUeXBlICYgSU5QVVRfU1RBUlQgJiYgKHBvaW50ZXJzTGVuIC0gY2hhbmdlZFBvaW50ZXJzTGVuID09PSAwKSk7XG4gICAgdmFyIGlzRmluYWwgPSAoZXZlbnRUeXBlICYgKElOUFVUX0VORCB8IElOUFVUX0NBTkNFTCkgJiYgKHBvaW50ZXJzTGVuIC0gY2hhbmdlZFBvaW50ZXJzTGVuID09PSAwKSk7XG5cbiAgICBpbnB1dC5pc0ZpcnN0ID0gISFpc0ZpcnN0O1xuICAgIGlucHV0LmlzRmluYWwgPSAhIWlzRmluYWw7XG5cbiAgICBpZiAoaXNGaXJzdCkge1xuICAgICAgICBtYW5hZ2VyLnNlc3Npb24gPSB7fTtcbiAgICB9XG5cbiAgICAvLyBzb3VyY2UgZXZlbnQgaXMgdGhlIG5vcm1hbGl6ZWQgdmFsdWUgb2YgdGhlIGRvbUV2ZW50c1xuICAgIC8vIGxpa2UgJ3RvdWNoc3RhcnQsIG1vdXNldXAsIHBvaW50ZXJkb3duJ1xuICAgIGlucHV0LmV2ZW50VHlwZSA9IGV2ZW50VHlwZTtcblxuICAgIC8vIGNvbXB1dGUgc2NhbGUsIHJvdGF0aW9uIGV0Y1xuICAgIGNvbXB1dGVJbnB1dERhdGEobWFuYWdlciwgaW5wdXQpO1xuXG4gICAgLy8gZW1pdCBzZWNyZXQgZXZlbnRcbiAgICBtYW5hZ2VyLmVtaXQoJ2hhbW1lci5pbnB1dCcsIGlucHV0KTtcblxuICAgIG1hbmFnZXIucmVjb2duaXplKGlucHV0KTtcbiAgICBtYW5hZ2VyLnNlc3Npb24ucHJldklucHV0ID0gaW5wdXQ7XG59XG5cbi8qKlxuICogZXh0ZW5kIHRoZSBkYXRhIHdpdGggc29tZSB1c2FibGUgcHJvcGVydGllcyBsaWtlIHNjYWxlLCByb3RhdGUsIHZlbG9jaXR5IGV0Y1xuICogQHBhcmFtIHtPYmplY3R9IG1hbmFnZXJcbiAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuICovXG5mdW5jdGlvbiBjb21wdXRlSW5wdXREYXRhKG1hbmFnZXIsIGlucHV0KSB7XG4gICAgdmFyIHNlc3Npb24gPSBtYW5hZ2VyLnNlc3Npb247XG4gICAgdmFyIHBvaW50ZXJzID0gaW5wdXQucG9pbnRlcnM7XG4gICAgdmFyIHBvaW50ZXJzTGVuZ3RoID0gcG9pbnRlcnMubGVuZ3RoO1xuXG4gICAgLy8gc3RvcmUgdGhlIGZpcnN0IGlucHV0IHRvIGNhbGN1bGF0ZSB0aGUgZGlzdGFuY2UgYW5kIGRpcmVjdGlvblxuICAgIGlmICghc2Vzc2lvbi5maXJzdElucHV0KSB7XG4gICAgICAgIHNlc3Npb24uZmlyc3RJbnB1dCA9IHNpbXBsZUNsb25lSW5wdXREYXRhKGlucHV0KTtcbiAgICB9XG5cbiAgICAvLyB0byBjb21wdXRlIHNjYWxlIGFuZCByb3RhdGlvbiB3ZSBuZWVkIHRvIHN0b3JlIHRoZSBtdWx0aXBsZSB0b3VjaGVzXG4gICAgaWYgKHBvaW50ZXJzTGVuZ3RoID4gMSAmJiAhc2Vzc2lvbi5maXJzdE11bHRpcGxlKSB7XG4gICAgICAgIHNlc3Npb24uZmlyc3RNdWx0aXBsZSA9IHNpbXBsZUNsb25lSW5wdXREYXRhKGlucHV0KTtcbiAgICB9IGVsc2UgaWYgKHBvaW50ZXJzTGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHNlc3Npb24uZmlyc3RNdWx0aXBsZSA9IGZhbHNlO1xuICAgIH1cblxuICAgIHZhciBmaXJzdElucHV0ID0gc2Vzc2lvbi5maXJzdElucHV0O1xuICAgIHZhciBmaXJzdE11bHRpcGxlID0gc2Vzc2lvbi5maXJzdE11bHRpcGxlO1xuICAgIHZhciBvZmZzZXRDZW50ZXIgPSBmaXJzdE11bHRpcGxlID8gZmlyc3RNdWx0aXBsZS5jZW50ZXIgOiBmaXJzdElucHV0LmNlbnRlcjtcblxuICAgIHZhciBjZW50ZXIgPSBpbnB1dC5jZW50ZXIgPSBnZXRDZW50ZXIocG9pbnRlcnMpO1xuICAgIGlucHV0LnRpbWVTdGFtcCA9IG5vdygpO1xuICAgIGlucHV0LmRlbHRhVGltZSA9IGlucHV0LnRpbWVTdGFtcCAtIGZpcnN0SW5wdXQudGltZVN0YW1wO1xuXG4gICAgaW5wdXQuYW5nbGUgPSBnZXRBbmdsZShvZmZzZXRDZW50ZXIsIGNlbnRlcik7XG4gICAgaW5wdXQuZGlzdGFuY2UgPSBnZXREaXN0YW5jZShvZmZzZXRDZW50ZXIsIGNlbnRlcik7XG5cbiAgICBjb21wdXRlRGVsdGFYWShzZXNzaW9uLCBpbnB1dCk7XG4gICAgaW5wdXQub2Zmc2V0RGlyZWN0aW9uID0gZ2V0RGlyZWN0aW9uKGlucHV0LmRlbHRhWCwgaW5wdXQuZGVsdGFZKTtcblxuICAgIHZhciBvdmVyYWxsVmVsb2NpdHkgPSBnZXRWZWxvY2l0eShpbnB1dC5kZWx0YVRpbWUsIGlucHV0LmRlbHRhWCwgaW5wdXQuZGVsdGFZKTtcbiAgICBpbnB1dC5vdmVyYWxsVmVsb2NpdHlYID0gb3ZlcmFsbFZlbG9jaXR5Lng7XG4gICAgaW5wdXQub3ZlcmFsbFZlbG9jaXR5WSA9IG92ZXJhbGxWZWxvY2l0eS55O1xuICAgIGlucHV0Lm92ZXJhbGxWZWxvY2l0eSA9IChhYnMob3ZlcmFsbFZlbG9jaXR5LngpID4gYWJzKG92ZXJhbGxWZWxvY2l0eS55KSkgPyBvdmVyYWxsVmVsb2NpdHkueCA6IG92ZXJhbGxWZWxvY2l0eS55O1xuXG4gICAgaW5wdXQuc2NhbGUgPSBmaXJzdE11bHRpcGxlID8gZ2V0U2NhbGUoZmlyc3RNdWx0aXBsZS5wb2ludGVycywgcG9pbnRlcnMpIDogMTtcbiAgICBpbnB1dC5yb3RhdGlvbiA9IGZpcnN0TXVsdGlwbGUgPyBnZXRSb3RhdGlvbihmaXJzdE11bHRpcGxlLnBvaW50ZXJzLCBwb2ludGVycykgOiAwO1xuXG4gICAgaW5wdXQubWF4UG9pbnRlcnMgPSAhc2Vzc2lvbi5wcmV2SW5wdXQgPyBpbnB1dC5wb2ludGVycy5sZW5ndGggOiAoKGlucHV0LnBvaW50ZXJzLmxlbmd0aCA+XG4gICAgICAgIHNlc3Npb24ucHJldklucHV0Lm1heFBvaW50ZXJzKSA/IGlucHV0LnBvaW50ZXJzLmxlbmd0aCA6IHNlc3Npb24ucHJldklucHV0Lm1heFBvaW50ZXJzKTtcblxuICAgIGNvbXB1dGVJbnRlcnZhbElucHV0RGF0YShzZXNzaW9uLCBpbnB1dCk7XG5cbiAgICAvLyBmaW5kIHRoZSBjb3JyZWN0IHRhcmdldFxuICAgIHZhciB0YXJnZXQgPSBtYW5hZ2VyLmVsZW1lbnQ7XG4gICAgaWYgKGhhc1BhcmVudChpbnB1dC5zcmNFdmVudC50YXJnZXQsIHRhcmdldCkpIHtcbiAgICAgICAgdGFyZ2V0ID0gaW5wdXQuc3JjRXZlbnQudGFyZ2V0O1xuICAgIH1cbiAgICBpbnB1dC50YXJnZXQgPSB0YXJnZXQ7XG59XG5cbmZ1bmN0aW9uIGNvbXB1dGVEZWx0YVhZKHNlc3Npb24sIGlucHV0KSB7XG4gICAgdmFyIGNlbnRlciA9IGlucHV0LmNlbnRlcjtcbiAgICB2YXIgb2Zmc2V0ID0gc2Vzc2lvbi5vZmZzZXREZWx0YSB8fCB7fTtcbiAgICB2YXIgcHJldkRlbHRhID0gc2Vzc2lvbi5wcmV2RGVsdGEgfHwge307XG4gICAgdmFyIHByZXZJbnB1dCA9IHNlc3Npb24ucHJldklucHV0IHx8IHt9O1xuXG4gICAgaWYgKGlucHV0LmV2ZW50VHlwZSA9PT0gSU5QVVRfU1RBUlQgfHwgcHJldklucHV0LmV2ZW50VHlwZSA9PT0gSU5QVVRfRU5EKSB7XG4gICAgICAgIHByZXZEZWx0YSA9IHNlc3Npb24ucHJldkRlbHRhID0ge1xuICAgICAgICAgICAgeDogcHJldklucHV0LmRlbHRhWCB8fCAwLFxuICAgICAgICAgICAgeTogcHJldklucHV0LmRlbHRhWSB8fCAwXG4gICAgICAgIH07XG5cbiAgICAgICAgb2Zmc2V0ID0gc2Vzc2lvbi5vZmZzZXREZWx0YSA9IHtcbiAgICAgICAgICAgIHg6IGNlbnRlci54LFxuICAgICAgICAgICAgeTogY2VudGVyLnlcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBpbnB1dC5kZWx0YVggPSBwcmV2RGVsdGEueCArIChjZW50ZXIueCAtIG9mZnNldC54KTtcbiAgICBpbnB1dC5kZWx0YVkgPSBwcmV2RGVsdGEueSArIChjZW50ZXIueSAtIG9mZnNldC55KTtcbn1cblxuLyoqXG4gKiB2ZWxvY2l0eSBpcyBjYWxjdWxhdGVkIGV2ZXJ5IHggbXNcbiAqIEBwYXJhbSB7T2JqZWN0fSBzZXNzaW9uXG4gKiBAcGFyYW0ge09iamVjdH0gaW5wdXRcbiAqL1xuZnVuY3Rpb24gY29tcHV0ZUludGVydmFsSW5wdXREYXRhKHNlc3Npb24sIGlucHV0KSB7XG4gICAgdmFyIGxhc3QgPSBzZXNzaW9uLmxhc3RJbnRlcnZhbCB8fCBpbnB1dCxcbiAgICAgICAgZGVsdGFUaW1lID0gaW5wdXQudGltZVN0YW1wIC0gbGFzdC50aW1lU3RhbXAsXG4gICAgICAgIHZlbG9jaXR5LCB2ZWxvY2l0eVgsIHZlbG9jaXR5WSwgZGlyZWN0aW9uO1xuXG4gICAgaWYgKGlucHV0LmV2ZW50VHlwZSAhPSBJTlBVVF9DQU5DRUwgJiYgKGRlbHRhVGltZSA+IENPTVBVVEVfSU5URVJWQUwgfHwgbGFzdC52ZWxvY2l0eSA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICB2YXIgZGVsdGFYID0gaW5wdXQuZGVsdGFYIC0gbGFzdC5kZWx0YVg7XG4gICAgICAgIHZhciBkZWx0YVkgPSBpbnB1dC5kZWx0YVkgLSBsYXN0LmRlbHRhWTtcblxuICAgICAgICB2YXIgdiA9IGdldFZlbG9jaXR5KGRlbHRhVGltZSwgZGVsdGFYLCBkZWx0YVkpO1xuICAgICAgICB2ZWxvY2l0eVggPSB2Lng7XG4gICAgICAgIHZlbG9jaXR5WSA9IHYueTtcbiAgICAgICAgdmVsb2NpdHkgPSAoYWJzKHYueCkgPiBhYnModi55KSkgPyB2LnggOiB2Lnk7XG4gICAgICAgIGRpcmVjdGlvbiA9IGdldERpcmVjdGlvbihkZWx0YVgsIGRlbHRhWSk7XG5cbiAgICAgICAgc2Vzc2lvbi5sYXN0SW50ZXJ2YWwgPSBpbnB1dDtcbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyB1c2UgbGF0ZXN0IHZlbG9jaXR5IGluZm8gaWYgaXQgZG9lc24ndCBvdmVydGFrZSBhIG1pbmltdW0gcGVyaW9kXG4gICAgICAgIHZlbG9jaXR5ID0gbGFzdC52ZWxvY2l0eTtcbiAgICAgICAgdmVsb2NpdHlYID0gbGFzdC52ZWxvY2l0eVg7XG4gICAgICAgIHZlbG9jaXR5WSA9IGxhc3QudmVsb2NpdHlZO1xuICAgICAgICBkaXJlY3Rpb24gPSBsYXN0LmRpcmVjdGlvbjtcbiAgICB9XG5cbiAgICBpbnB1dC52ZWxvY2l0eSA9IHZlbG9jaXR5O1xuICAgIGlucHV0LnZlbG9jaXR5WCA9IHZlbG9jaXR5WDtcbiAgICBpbnB1dC52ZWxvY2l0eVkgPSB2ZWxvY2l0eVk7XG4gICAgaW5wdXQuZGlyZWN0aW9uID0gZGlyZWN0aW9uO1xufVxuXG4vKipcbiAqIGNyZWF0ZSBhIHNpbXBsZSBjbG9uZSBmcm9tIHRoZSBpbnB1dCB1c2VkIGZvciBzdG9yYWdlIG9mIGZpcnN0SW5wdXQgYW5kIGZpcnN0TXVsdGlwbGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuICogQHJldHVybnMge09iamVjdH0gY2xvbmVkSW5wdXREYXRhXG4gKi9cbmZ1bmN0aW9uIHNpbXBsZUNsb25lSW5wdXREYXRhKGlucHV0KSB7XG4gICAgLy8gbWFrZSBhIHNpbXBsZSBjb3B5IG9mIHRoZSBwb2ludGVycyBiZWNhdXNlIHdlIHdpbGwgZ2V0IGEgcmVmZXJlbmNlIGlmIHdlIGRvbid0XG4gICAgLy8gd2Ugb25seSBuZWVkIGNsaWVudFhZIGZvciB0aGUgY2FsY3VsYXRpb25zXG4gICAgdmFyIHBvaW50ZXJzID0gW107XG4gICAgdmFyIGkgPSAwO1xuICAgIHdoaWxlIChpIDwgaW5wdXQucG9pbnRlcnMubGVuZ3RoKSB7XG4gICAgICAgIHBvaW50ZXJzW2ldID0ge1xuICAgICAgICAgICAgY2xpZW50WDogcm91bmQoaW5wdXQucG9pbnRlcnNbaV0uY2xpZW50WCksXG4gICAgICAgICAgICBjbGllbnRZOiByb3VuZChpbnB1dC5wb2ludGVyc1tpXS5jbGllbnRZKVxuICAgICAgICB9O1xuICAgICAgICBpKys7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgdGltZVN0YW1wOiBub3coKSxcbiAgICAgICAgcG9pbnRlcnM6IHBvaW50ZXJzLFxuICAgICAgICBjZW50ZXI6IGdldENlbnRlcihwb2ludGVycyksXG4gICAgICAgIGRlbHRhWDogaW5wdXQuZGVsdGFYLFxuICAgICAgICBkZWx0YVk6IGlucHV0LmRlbHRhWVxuICAgIH07XG59XG5cbi8qKlxuICogZ2V0IHRoZSBjZW50ZXIgb2YgYWxsIHRoZSBwb2ludGVyc1xuICogQHBhcmFtIHtBcnJheX0gcG9pbnRlcnNcbiAqIEByZXR1cm4ge09iamVjdH0gY2VudGVyIGNvbnRhaW5zIGB4YCBhbmQgYHlgIHByb3BlcnRpZXNcbiAqL1xuZnVuY3Rpb24gZ2V0Q2VudGVyKHBvaW50ZXJzKSB7XG4gICAgdmFyIHBvaW50ZXJzTGVuZ3RoID0gcG9pbnRlcnMubGVuZ3RoO1xuXG4gICAgLy8gbm8gbmVlZCB0byBsb29wIHdoZW4gb25seSBvbmUgdG91Y2hcbiAgICBpZiAocG9pbnRlcnNMZW5ndGggPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHg6IHJvdW5kKHBvaW50ZXJzWzBdLmNsaWVudFgpLFxuICAgICAgICAgICAgeTogcm91bmQocG9pbnRlcnNbMF0uY2xpZW50WSlcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICB2YXIgeCA9IDAsIHkgPSAwLCBpID0gMDtcbiAgICB3aGlsZSAoaSA8IHBvaW50ZXJzTGVuZ3RoKSB7XG4gICAgICAgIHggKz0gcG9pbnRlcnNbaV0uY2xpZW50WDtcbiAgICAgICAgeSArPSBwb2ludGVyc1tpXS5jbGllbnRZO1xuICAgICAgICBpKys7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgeDogcm91bmQoeCAvIHBvaW50ZXJzTGVuZ3RoKSxcbiAgICAgICAgeTogcm91bmQoeSAvIHBvaW50ZXJzTGVuZ3RoKVxuICAgIH07XG59XG5cbi8qKlxuICogY2FsY3VsYXRlIHRoZSB2ZWxvY2l0eSBiZXR3ZWVuIHR3byBwb2ludHMuIHVuaXQgaXMgaW4gcHggcGVyIG1zLlxuICogQHBhcmFtIHtOdW1iZXJ9IGRlbHRhVGltZVxuICogQHBhcmFtIHtOdW1iZXJ9IHhcbiAqIEBwYXJhbSB7TnVtYmVyfSB5XG4gKiBAcmV0dXJuIHtPYmplY3R9IHZlbG9jaXR5IGB4YCBhbmQgYHlgXG4gKi9cbmZ1bmN0aW9uIGdldFZlbG9jaXR5KGRlbHRhVGltZSwgeCwgeSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHg6IHggLyBkZWx0YVRpbWUgfHwgMCxcbiAgICAgICAgeTogeSAvIGRlbHRhVGltZSB8fCAwXG4gICAgfTtcbn1cblxuLyoqXG4gKiBnZXQgdGhlIGRpcmVjdGlvbiBiZXR3ZWVuIHR3byBwb2ludHNcbiAqIEBwYXJhbSB7TnVtYmVyfSB4XG4gKiBAcGFyYW0ge051bWJlcn0geVxuICogQHJldHVybiB7TnVtYmVyfSBkaXJlY3Rpb25cbiAqL1xuZnVuY3Rpb24gZ2V0RGlyZWN0aW9uKHgsIHkpIHtcbiAgICBpZiAoeCA9PT0geSkge1xuICAgICAgICByZXR1cm4gRElSRUNUSU9OX05PTkU7XG4gICAgfVxuXG4gICAgaWYgKGFicyh4KSA+PSBhYnMoeSkpIHtcbiAgICAgICAgcmV0dXJuIHggPCAwID8gRElSRUNUSU9OX0xFRlQgOiBESVJFQ1RJT05fUklHSFQ7XG4gICAgfVxuICAgIHJldHVybiB5IDwgMCA/IERJUkVDVElPTl9VUCA6IERJUkVDVElPTl9ET1dOO1xufVxuXG4vKipcbiAqIGNhbGN1bGF0ZSB0aGUgYWJzb2x1dGUgZGlzdGFuY2UgYmV0d2VlbiB0d28gcG9pbnRzXG4gKiBAcGFyYW0ge09iamVjdH0gcDEge3gsIHl9XG4gKiBAcGFyYW0ge09iamVjdH0gcDIge3gsIHl9XG4gKiBAcGFyYW0ge0FycmF5fSBbcHJvcHNdIGNvbnRhaW5pbmcgeCBhbmQgeSBrZXlzXG4gKiBAcmV0dXJuIHtOdW1iZXJ9IGRpc3RhbmNlXG4gKi9cbmZ1bmN0aW9uIGdldERpc3RhbmNlKHAxLCBwMiwgcHJvcHMpIHtcbiAgICBpZiAoIXByb3BzKSB7XG4gICAgICAgIHByb3BzID0gUFJPUFNfWFk7XG4gICAgfVxuICAgIHZhciB4ID0gcDJbcHJvcHNbMF1dIC0gcDFbcHJvcHNbMF1dLFxuICAgICAgICB5ID0gcDJbcHJvcHNbMV1dIC0gcDFbcHJvcHNbMV1dO1xuXG4gICAgcmV0dXJuIE1hdGguc3FydCgoeCAqIHgpICsgKHkgKiB5KSk7XG59XG5cbi8qKlxuICogY2FsY3VsYXRlIHRoZSBhbmdsZSBiZXR3ZWVuIHR3byBjb29yZGluYXRlc1xuICogQHBhcmFtIHtPYmplY3R9IHAxXG4gKiBAcGFyYW0ge09iamVjdH0gcDJcbiAqIEBwYXJhbSB7QXJyYXl9IFtwcm9wc10gY29udGFpbmluZyB4IGFuZCB5IGtleXNcbiAqIEByZXR1cm4ge051bWJlcn0gYW5nbGVcbiAqL1xuZnVuY3Rpb24gZ2V0QW5nbGUocDEsIHAyLCBwcm9wcykge1xuICAgIGlmICghcHJvcHMpIHtcbiAgICAgICAgcHJvcHMgPSBQUk9QU19YWTtcbiAgICB9XG4gICAgdmFyIHggPSBwMltwcm9wc1swXV0gLSBwMVtwcm9wc1swXV0sXG4gICAgICAgIHkgPSBwMltwcm9wc1sxXV0gLSBwMVtwcm9wc1sxXV07XG4gICAgcmV0dXJuIE1hdGguYXRhbjIoeSwgeCkgKiAxODAgLyBNYXRoLlBJO1xufVxuXG4vKipcbiAqIGNhbGN1bGF0ZSB0aGUgcm90YXRpb24gZGVncmVlcyBiZXR3ZWVuIHR3byBwb2ludGVyc2V0c1xuICogQHBhcmFtIHtBcnJheX0gc3RhcnQgYXJyYXkgb2YgcG9pbnRlcnNcbiAqIEBwYXJhbSB7QXJyYXl9IGVuZCBhcnJheSBvZiBwb2ludGVyc1xuICogQHJldHVybiB7TnVtYmVyfSByb3RhdGlvblxuICovXG5mdW5jdGlvbiBnZXRSb3RhdGlvbihzdGFydCwgZW5kKSB7XG4gICAgcmV0dXJuIGdldEFuZ2xlKGVuZFsxXSwgZW5kWzBdLCBQUk9QU19DTElFTlRfWFkpICsgZ2V0QW5nbGUoc3RhcnRbMV0sIHN0YXJ0WzBdLCBQUk9QU19DTElFTlRfWFkpO1xufVxuXG4vKipcbiAqIGNhbGN1bGF0ZSB0aGUgc2NhbGUgZmFjdG9yIGJldHdlZW4gdHdvIHBvaW50ZXJzZXRzXG4gKiBubyBzY2FsZSBpcyAxLCBhbmQgZ29lcyBkb3duIHRvIDAgd2hlbiBwaW5jaGVkIHRvZ2V0aGVyLCBhbmQgYmlnZ2VyIHdoZW4gcGluY2hlZCBvdXRcbiAqIEBwYXJhbSB7QXJyYXl9IHN0YXJ0IGFycmF5IG9mIHBvaW50ZXJzXG4gKiBAcGFyYW0ge0FycmF5fSBlbmQgYXJyYXkgb2YgcG9pbnRlcnNcbiAqIEByZXR1cm4ge051bWJlcn0gc2NhbGVcbiAqL1xuZnVuY3Rpb24gZ2V0U2NhbGUoc3RhcnQsIGVuZCkge1xuICAgIHJldHVybiBnZXREaXN0YW5jZShlbmRbMF0sIGVuZFsxXSwgUFJPUFNfQ0xJRU5UX1hZKSAvIGdldERpc3RhbmNlKHN0YXJ0WzBdLCBzdGFydFsxXSwgUFJPUFNfQ0xJRU5UX1hZKTtcbn1cblxudmFyIE1PVVNFX0lOUFVUX01BUCA9IHtcbiAgICBtb3VzZWRvd246IElOUFVUX1NUQVJULFxuICAgIG1vdXNlbW92ZTogSU5QVVRfTU9WRSxcbiAgICBtb3VzZXVwOiBJTlBVVF9FTkRcbn07XG5cbnZhciBNT1VTRV9FTEVNRU5UX0VWRU5UUyA9ICdtb3VzZWRvd24nO1xudmFyIE1PVVNFX1dJTkRPV19FVkVOVFMgPSAnbW91c2Vtb3ZlIG1vdXNldXAnO1xuXG4vKipcbiAqIE1vdXNlIGV2ZW50cyBpbnB1dFxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBJbnB1dFxuICovXG5mdW5jdGlvbiBNb3VzZUlucHV0KCkge1xuICAgIHRoaXMuZXZFbCA9IE1PVVNFX0VMRU1FTlRfRVZFTlRTO1xuICAgIHRoaXMuZXZXaW4gPSBNT1VTRV9XSU5ET1dfRVZFTlRTO1xuXG4gICAgdGhpcy5wcmVzc2VkID0gZmFsc2U7IC8vIG1vdXNlZG93biBzdGF0ZVxuXG4gICAgSW5wdXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuaW5oZXJpdChNb3VzZUlucHV0LCBJbnB1dCwge1xuICAgIC8qKlxuICAgICAqIGhhbmRsZSBtb3VzZSBldmVudHNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZXZcbiAgICAgKi9cbiAgICBoYW5kbGVyOiBmdW5jdGlvbiBNRWhhbmRsZXIoZXYpIHtcbiAgICAgICAgdmFyIGV2ZW50VHlwZSA9IE1PVVNFX0lOUFVUX01BUFtldi50eXBlXTtcblxuICAgICAgICAvLyBvbiBzdGFydCB3ZSB3YW50IHRvIGhhdmUgdGhlIGxlZnQgbW91c2UgYnV0dG9uIGRvd25cbiAgICAgICAgaWYgKGV2ZW50VHlwZSAmIElOUFVUX1NUQVJUICYmIGV2LmJ1dHRvbiA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5wcmVzc2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChldmVudFR5cGUgJiBJTlBVVF9NT1ZFICYmIGV2LndoaWNoICE9PSAxKSB7XG4gICAgICAgICAgICBldmVudFR5cGUgPSBJTlBVVF9FTkQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBtb3VzZSBtdXN0IGJlIGRvd25cbiAgICAgICAgaWYgKCF0aGlzLnByZXNzZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChldmVudFR5cGUgJiBJTlBVVF9FTkQpIHtcbiAgICAgICAgICAgIHRoaXMucHJlc3NlZCA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jYWxsYmFjayh0aGlzLm1hbmFnZXIsIGV2ZW50VHlwZSwge1xuICAgICAgICAgICAgcG9pbnRlcnM6IFtldl0sXG4gICAgICAgICAgICBjaGFuZ2VkUG9pbnRlcnM6IFtldl0sXG4gICAgICAgICAgICBwb2ludGVyVHlwZTogSU5QVVRfVFlQRV9NT1VTRSxcbiAgICAgICAgICAgIHNyY0V2ZW50OiBldlxuICAgICAgICB9KTtcbiAgICB9XG59KTtcblxudmFyIFBPSU5URVJfSU5QVVRfTUFQID0ge1xuICAgIHBvaW50ZXJkb3duOiBJTlBVVF9TVEFSVCxcbiAgICBwb2ludGVybW92ZTogSU5QVVRfTU9WRSxcbiAgICBwb2ludGVydXA6IElOUFVUX0VORCxcbiAgICBwb2ludGVyY2FuY2VsOiBJTlBVVF9DQU5DRUwsXG4gICAgcG9pbnRlcm91dDogSU5QVVRfQ0FOQ0VMXG59O1xuXG4vLyBpbiBJRTEwIHRoZSBwb2ludGVyIHR5cGVzIGlzIGRlZmluZWQgYXMgYW4gZW51bVxudmFyIElFMTBfUE9JTlRFUl9UWVBFX0VOVU0gPSB7XG4gICAgMjogSU5QVVRfVFlQRV9UT1VDSCxcbiAgICAzOiBJTlBVVF9UWVBFX1BFTixcbiAgICA0OiBJTlBVVF9UWVBFX01PVVNFLFxuICAgIDU6IElOUFVUX1RZUEVfS0lORUNUIC8vIHNlZSBodHRwczovL3R3aXR0ZXIuY29tL2phY29icm9zc2kvc3RhdHVzLzQ4MDU5NjQzODQ4OTg5MDgxNlxufTtcblxudmFyIFBPSU5URVJfRUxFTUVOVF9FVkVOVFMgPSAncG9pbnRlcmRvd24nO1xudmFyIFBPSU5URVJfV0lORE9XX0VWRU5UUyA9ICdwb2ludGVybW92ZSBwb2ludGVydXAgcG9pbnRlcmNhbmNlbCc7XG5cbi8vIElFMTAgaGFzIHByZWZpeGVkIHN1cHBvcnQsIGFuZCBjYXNlLXNlbnNpdGl2ZVxuaWYgKHdpbmRvdy5NU1BvaW50ZXJFdmVudCAmJiAhd2luZG93LlBvaW50ZXJFdmVudCkge1xuICAgIFBPSU5URVJfRUxFTUVOVF9FVkVOVFMgPSAnTVNQb2ludGVyRG93bic7XG4gICAgUE9JTlRFUl9XSU5ET1dfRVZFTlRTID0gJ01TUG9pbnRlck1vdmUgTVNQb2ludGVyVXAgTVNQb2ludGVyQ2FuY2VsJztcbn1cblxuLyoqXG4gKiBQb2ludGVyIGV2ZW50cyBpbnB1dFxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBJbnB1dFxuICovXG5mdW5jdGlvbiBQb2ludGVyRXZlbnRJbnB1dCgpIHtcbiAgICB0aGlzLmV2RWwgPSBQT0lOVEVSX0VMRU1FTlRfRVZFTlRTO1xuICAgIHRoaXMuZXZXaW4gPSBQT0lOVEVSX1dJTkRPV19FVkVOVFM7XG5cbiAgICBJbnB1dC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXG4gICAgdGhpcy5zdG9yZSA9ICh0aGlzLm1hbmFnZXIuc2Vzc2lvbi5wb2ludGVyRXZlbnRzID0gW10pO1xufVxuXG5pbmhlcml0KFBvaW50ZXJFdmVudElucHV0LCBJbnB1dCwge1xuICAgIC8qKlxuICAgICAqIGhhbmRsZSBtb3VzZSBldmVudHNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZXZcbiAgICAgKi9cbiAgICBoYW5kbGVyOiBmdW5jdGlvbiBQRWhhbmRsZXIoZXYpIHtcbiAgICAgICAgdmFyIHN0b3JlID0gdGhpcy5zdG9yZTtcbiAgICAgICAgdmFyIHJlbW92ZVBvaW50ZXIgPSBmYWxzZTtcblxuICAgICAgICB2YXIgZXZlbnRUeXBlTm9ybWFsaXplZCA9IGV2LnR5cGUudG9Mb3dlckNhc2UoKS5yZXBsYWNlKCdtcycsICcnKTtcbiAgICAgICAgdmFyIGV2ZW50VHlwZSA9IFBPSU5URVJfSU5QVVRfTUFQW2V2ZW50VHlwZU5vcm1hbGl6ZWRdO1xuICAgICAgICB2YXIgcG9pbnRlclR5cGUgPSBJRTEwX1BPSU5URVJfVFlQRV9FTlVNW2V2LnBvaW50ZXJUeXBlXSB8fCBldi5wb2ludGVyVHlwZTtcblxuICAgICAgICB2YXIgaXNUb3VjaCA9IChwb2ludGVyVHlwZSA9PSBJTlBVVF9UWVBFX1RPVUNIKTtcblxuICAgICAgICAvLyBnZXQgaW5kZXggb2YgdGhlIGV2ZW50IGluIHRoZSBzdG9yZVxuICAgICAgICB2YXIgc3RvcmVJbmRleCA9IGluQXJyYXkoc3RvcmUsIGV2LnBvaW50ZXJJZCwgJ3BvaW50ZXJJZCcpO1xuXG4gICAgICAgIC8vIHN0YXJ0IGFuZCBtb3VzZSBtdXN0IGJlIGRvd25cbiAgICAgICAgaWYgKGV2ZW50VHlwZSAmIElOUFVUX1NUQVJUICYmIChldi5idXR0b24gPT09IDAgfHwgaXNUb3VjaCkpIHtcbiAgICAgICAgICAgIGlmIChzdG9yZUluZGV4IDwgMCkge1xuICAgICAgICAgICAgICAgIHN0b3JlLnB1c2goZXYpO1xuICAgICAgICAgICAgICAgIHN0b3JlSW5kZXggPSBzdG9yZS5sZW5ndGggLSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGV2ZW50VHlwZSAmIChJTlBVVF9FTkQgfCBJTlBVVF9DQU5DRUwpKSB7XG4gICAgICAgICAgICByZW1vdmVQb2ludGVyID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGl0IG5vdCBmb3VuZCwgc28gdGhlIHBvaW50ZXIgaGFzbid0IGJlZW4gZG93biAoc28gaXQncyBwcm9iYWJseSBhIGhvdmVyKVxuICAgICAgICBpZiAoc3RvcmVJbmRleCA8IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHVwZGF0ZSB0aGUgZXZlbnQgaW4gdGhlIHN0b3JlXG4gICAgICAgIHN0b3JlW3N0b3JlSW5kZXhdID0gZXY7XG5cbiAgICAgICAgdGhpcy5jYWxsYmFjayh0aGlzLm1hbmFnZXIsIGV2ZW50VHlwZSwge1xuICAgICAgICAgICAgcG9pbnRlcnM6IHN0b3JlLFxuICAgICAgICAgICAgY2hhbmdlZFBvaW50ZXJzOiBbZXZdLFxuICAgICAgICAgICAgcG9pbnRlclR5cGU6IHBvaW50ZXJUeXBlLFxuICAgICAgICAgICAgc3JjRXZlbnQ6IGV2XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChyZW1vdmVQb2ludGVyKSB7XG4gICAgICAgICAgICAvLyByZW1vdmUgZnJvbSB0aGUgc3RvcmVcbiAgICAgICAgICAgIHN0b3JlLnNwbGljZShzdG9yZUluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgIH1cbn0pO1xuXG52YXIgU0lOR0xFX1RPVUNIX0lOUFVUX01BUCA9IHtcbiAgICB0b3VjaHN0YXJ0OiBJTlBVVF9TVEFSVCxcbiAgICB0b3VjaG1vdmU6IElOUFVUX01PVkUsXG4gICAgdG91Y2hlbmQ6IElOUFVUX0VORCxcbiAgICB0b3VjaGNhbmNlbDogSU5QVVRfQ0FOQ0VMXG59O1xuXG52YXIgU0lOR0xFX1RPVUNIX1RBUkdFVF9FVkVOVFMgPSAndG91Y2hzdGFydCc7XG52YXIgU0lOR0xFX1RPVUNIX1dJTkRPV19FVkVOVFMgPSAndG91Y2hzdGFydCB0b3VjaG1vdmUgdG91Y2hlbmQgdG91Y2hjYW5jZWwnO1xuXG4vKipcbiAqIFRvdWNoIGV2ZW50cyBpbnB1dFxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBJbnB1dFxuICovXG5mdW5jdGlvbiBTaW5nbGVUb3VjaElucHV0KCkge1xuICAgIHRoaXMuZXZUYXJnZXQgPSBTSU5HTEVfVE9VQ0hfVEFSR0VUX0VWRU5UUztcbiAgICB0aGlzLmV2V2luID0gU0lOR0xFX1RPVUNIX1dJTkRPV19FVkVOVFM7XG4gICAgdGhpcy5zdGFydGVkID0gZmFsc2U7XG5cbiAgICBJbnB1dC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5pbmhlcml0KFNpbmdsZVRvdWNoSW5wdXQsIElucHV0LCB7XG4gICAgaGFuZGxlcjogZnVuY3Rpb24gVEVoYW5kbGVyKGV2KSB7XG4gICAgICAgIHZhciB0eXBlID0gU0lOR0xFX1RPVUNIX0lOUFVUX01BUFtldi50eXBlXTtcblxuICAgICAgICAvLyBzaG91bGQgd2UgaGFuZGxlIHRoZSB0b3VjaCBldmVudHM/XG4gICAgICAgIGlmICh0eXBlID09PSBJTlBVVF9TVEFSVCkge1xuICAgICAgICAgICAgdGhpcy5zdGFydGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5zdGFydGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdG91Y2hlcyA9IG5vcm1hbGl6ZVNpbmdsZVRvdWNoZXMuY2FsbCh0aGlzLCBldiwgdHlwZSk7XG5cbiAgICAgICAgLy8gd2hlbiBkb25lLCByZXNldCB0aGUgc3RhcnRlZCBzdGF0ZVxuICAgICAgICBpZiAodHlwZSAmIChJTlBVVF9FTkQgfCBJTlBVVF9DQU5DRUwpICYmIHRvdWNoZXNbMF0ubGVuZ3RoIC0gdG91Y2hlc1sxXS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jYWxsYmFjayh0aGlzLm1hbmFnZXIsIHR5cGUsIHtcbiAgICAgICAgICAgIHBvaW50ZXJzOiB0b3VjaGVzWzBdLFxuICAgICAgICAgICAgY2hhbmdlZFBvaW50ZXJzOiB0b3VjaGVzWzFdLFxuICAgICAgICAgICAgcG9pbnRlclR5cGU6IElOUFVUX1RZUEVfVE9VQ0gsXG4gICAgICAgICAgICBzcmNFdmVudDogZXZcbiAgICAgICAgfSk7XG4gICAgfVxufSk7XG5cbi8qKlxuICogQHRoaXMge1RvdWNoSW5wdXR9XG4gKiBAcGFyYW0ge09iamVjdH0gZXZcbiAqIEBwYXJhbSB7TnVtYmVyfSB0eXBlIGZsYWdcbiAqIEByZXR1cm5zIHt1bmRlZmluZWR8QXJyYXl9IFthbGwsIGNoYW5nZWRdXG4gKi9cbmZ1bmN0aW9uIG5vcm1hbGl6ZVNpbmdsZVRvdWNoZXMoZXYsIHR5cGUpIHtcbiAgICB2YXIgYWxsID0gdG9BcnJheShldi50b3VjaGVzKTtcbiAgICB2YXIgY2hhbmdlZCA9IHRvQXJyYXkoZXYuY2hhbmdlZFRvdWNoZXMpO1xuXG4gICAgaWYgKHR5cGUgJiAoSU5QVVRfRU5EIHwgSU5QVVRfQ0FOQ0VMKSkge1xuICAgICAgICBhbGwgPSB1bmlxdWVBcnJheShhbGwuY29uY2F0KGNoYW5nZWQpLCAnaWRlbnRpZmllcicsIHRydWUpO1xuICAgIH1cblxuICAgIHJldHVybiBbYWxsLCBjaGFuZ2VkXTtcbn1cblxudmFyIFRPVUNIX0lOUFVUX01BUCA9IHtcbiAgICB0b3VjaHN0YXJ0OiBJTlBVVF9TVEFSVCxcbiAgICB0b3VjaG1vdmU6IElOUFVUX01PVkUsXG4gICAgdG91Y2hlbmQ6IElOUFVUX0VORCxcbiAgICB0b3VjaGNhbmNlbDogSU5QVVRfQ0FOQ0VMXG59O1xuXG52YXIgVE9VQ0hfVEFSR0VUX0VWRU5UUyA9ICd0b3VjaHN0YXJ0IHRvdWNobW92ZSB0b3VjaGVuZCB0b3VjaGNhbmNlbCc7XG5cbi8qKlxuICogTXVsdGktdXNlciB0b3VjaCBldmVudHMgaW5wdXRcbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMgSW5wdXRcbiAqL1xuZnVuY3Rpb24gVG91Y2hJbnB1dCgpIHtcbiAgICB0aGlzLmV2VGFyZ2V0ID0gVE9VQ0hfVEFSR0VUX0VWRU5UUztcbiAgICB0aGlzLnRhcmdldElkcyA9IHt9O1xuXG4gICAgSW5wdXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuaW5oZXJpdChUb3VjaElucHV0LCBJbnB1dCwge1xuICAgIGhhbmRsZXI6IGZ1bmN0aW9uIE1URWhhbmRsZXIoZXYpIHtcbiAgICAgICAgdmFyIHR5cGUgPSBUT1VDSF9JTlBVVF9NQVBbZXYudHlwZV07XG4gICAgICAgIHZhciB0b3VjaGVzID0gZ2V0VG91Y2hlcy5jYWxsKHRoaXMsIGV2LCB0eXBlKTtcbiAgICAgICAgaWYgKCF0b3VjaGVzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNhbGxiYWNrKHRoaXMubWFuYWdlciwgdHlwZSwge1xuICAgICAgICAgICAgcG9pbnRlcnM6IHRvdWNoZXNbMF0sXG4gICAgICAgICAgICBjaGFuZ2VkUG9pbnRlcnM6IHRvdWNoZXNbMV0sXG4gICAgICAgICAgICBwb2ludGVyVHlwZTogSU5QVVRfVFlQRV9UT1VDSCxcbiAgICAgICAgICAgIHNyY0V2ZW50OiBldlxuICAgICAgICB9KTtcbiAgICB9XG59KTtcblxuLyoqXG4gKiBAdGhpcyB7VG91Y2hJbnB1dH1cbiAqIEBwYXJhbSB7T2JqZWN0fSBldlxuICogQHBhcmFtIHtOdW1iZXJ9IHR5cGUgZmxhZ1xuICogQHJldHVybnMge3VuZGVmaW5lZHxBcnJheX0gW2FsbCwgY2hhbmdlZF1cbiAqL1xuZnVuY3Rpb24gZ2V0VG91Y2hlcyhldiwgdHlwZSkge1xuICAgIHZhciBhbGxUb3VjaGVzID0gdG9BcnJheShldi50b3VjaGVzKTtcbiAgICB2YXIgdGFyZ2V0SWRzID0gdGhpcy50YXJnZXRJZHM7XG5cbiAgICAvLyB3aGVuIHRoZXJlIGlzIG9ubHkgb25lIHRvdWNoLCB0aGUgcHJvY2VzcyBjYW4gYmUgc2ltcGxpZmllZFxuICAgIGlmICh0eXBlICYgKElOUFVUX1NUQVJUIHwgSU5QVVRfTU9WRSkgJiYgYWxsVG91Y2hlcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgdGFyZ2V0SWRzW2FsbFRvdWNoZXNbMF0uaWRlbnRpZmllcl0gPSB0cnVlO1xuICAgICAgICByZXR1cm4gW2FsbFRvdWNoZXMsIGFsbFRvdWNoZXNdO1xuICAgIH1cblxuICAgIHZhciBpLFxuICAgICAgICB0YXJnZXRUb3VjaGVzLFxuICAgICAgICBjaGFuZ2VkVG91Y2hlcyA9IHRvQXJyYXkoZXYuY2hhbmdlZFRvdWNoZXMpLFxuICAgICAgICBjaGFuZ2VkVGFyZ2V0VG91Y2hlcyA9IFtdLFxuICAgICAgICB0YXJnZXQgPSB0aGlzLnRhcmdldDtcblxuICAgIC8vIGdldCB0YXJnZXQgdG91Y2hlcyBmcm9tIHRvdWNoZXNcbiAgICB0YXJnZXRUb3VjaGVzID0gYWxsVG91Y2hlcy5maWx0ZXIoZnVuY3Rpb24odG91Y2gpIHtcbiAgICAgICAgcmV0dXJuIGhhc1BhcmVudCh0b3VjaC50YXJnZXQsIHRhcmdldCk7XG4gICAgfSk7XG5cbiAgICAvLyBjb2xsZWN0IHRvdWNoZXNcbiAgICBpZiAodHlwZSA9PT0gSU5QVVRfU1RBUlQpIHtcbiAgICAgICAgaSA9IDA7XG4gICAgICAgIHdoaWxlIChpIDwgdGFyZ2V0VG91Y2hlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRhcmdldElkc1t0YXJnZXRUb3VjaGVzW2ldLmlkZW50aWZpZXJdID0gdHJ1ZTtcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIGZpbHRlciBjaGFuZ2VkIHRvdWNoZXMgdG8gb25seSBjb250YWluIHRvdWNoZXMgdGhhdCBleGlzdCBpbiB0aGUgY29sbGVjdGVkIHRhcmdldCBpZHNcbiAgICBpID0gMDtcbiAgICB3aGlsZSAoaSA8IGNoYW5nZWRUb3VjaGVzLmxlbmd0aCkge1xuICAgICAgICBpZiAodGFyZ2V0SWRzW2NoYW5nZWRUb3VjaGVzW2ldLmlkZW50aWZpZXJdKSB7XG4gICAgICAgICAgICBjaGFuZ2VkVGFyZ2V0VG91Y2hlcy5wdXNoKGNoYW5nZWRUb3VjaGVzW2ldKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNsZWFudXAgcmVtb3ZlZCB0b3VjaGVzXG4gICAgICAgIGlmICh0eXBlICYgKElOUFVUX0VORCB8IElOUFVUX0NBTkNFTCkpIHtcbiAgICAgICAgICAgIGRlbGV0ZSB0YXJnZXRJZHNbY2hhbmdlZFRvdWNoZXNbaV0uaWRlbnRpZmllcl07XG4gICAgICAgIH1cbiAgICAgICAgaSsrO1xuICAgIH1cblxuICAgIGlmICghY2hhbmdlZFRhcmdldFRvdWNoZXMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICByZXR1cm4gW1xuICAgICAgICAvLyBtZXJnZSB0YXJnZXRUb3VjaGVzIHdpdGggY2hhbmdlZFRhcmdldFRvdWNoZXMgc28gaXQgY29udGFpbnMgQUxMIHRvdWNoZXMsIGluY2x1ZGluZyAnZW5kJyBhbmQgJ2NhbmNlbCdcbiAgICAgICAgdW5pcXVlQXJyYXkodGFyZ2V0VG91Y2hlcy5jb25jYXQoY2hhbmdlZFRhcmdldFRvdWNoZXMpLCAnaWRlbnRpZmllcicsIHRydWUpLFxuICAgICAgICBjaGFuZ2VkVGFyZ2V0VG91Y2hlc1xuICAgIF07XG59XG5cbi8qKlxuICogQ29tYmluZWQgdG91Y2ggYW5kIG1vdXNlIGlucHV0XG4gKlxuICogVG91Y2ggaGFzIGEgaGlnaGVyIHByaW9yaXR5IHRoZW4gbW91c2UsIGFuZCB3aGlsZSB0b3VjaGluZyBubyBtb3VzZSBldmVudHMgYXJlIGFsbG93ZWQuXG4gKiBUaGlzIGJlY2F1c2UgdG91Y2ggZGV2aWNlcyBhbHNvIGVtaXQgbW91c2UgZXZlbnRzIHdoaWxlIGRvaW5nIGEgdG91Y2guXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBJbnB1dFxuICovXG5cbnZhciBERURVUF9USU1FT1VUID0gMjUwMDtcbnZhciBERURVUF9ESVNUQU5DRSA9IDI1O1xuXG5mdW5jdGlvbiBUb3VjaE1vdXNlSW5wdXQoKSB7XG4gICAgSW5wdXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblxuICAgIHZhciBoYW5kbGVyID0gYmluZEZuKHRoaXMuaGFuZGxlciwgdGhpcyk7XG4gICAgdGhpcy50b3VjaCA9IG5ldyBUb3VjaElucHV0KHRoaXMubWFuYWdlciwgaGFuZGxlcik7XG4gICAgdGhpcy5tb3VzZSA9IG5ldyBNb3VzZUlucHV0KHRoaXMubWFuYWdlciwgaGFuZGxlcik7XG5cbiAgICB0aGlzLnByaW1hcnlUb3VjaCA9IG51bGw7XG4gICAgdGhpcy5sYXN0VG91Y2hlcyA9IFtdO1xufVxuXG5pbmhlcml0KFRvdWNoTW91c2VJbnB1dCwgSW5wdXQsIHtcbiAgICAvKipcbiAgICAgKiBoYW5kbGUgbW91c2UgYW5kIHRvdWNoIGV2ZW50c1xuICAgICAqIEBwYXJhbSB7SGFtbWVyfSBtYW5hZ2VyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGlucHV0RXZlbnRcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5wdXREYXRhXG4gICAgICovXG4gICAgaGFuZGxlcjogZnVuY3Rpb24gVE1FaGFuZGxlcihtYW5hZ2VyLCBpbnB1dEV2ZW50LCBpbnB1dERhdGEpIHtcbiAgICAgICAgdmFyIGlzVG91Y2ggPSAoaW5wdXREYXRhLnBvaW50ZXJUeXBlID09IElOUFVUX1RZUEVfVE9VQ0gpLFxuICAgICAgICAgICAgaXNNb3VzZSA9IChpbnB1dERhdGEucG9pbnRlclR5cGUgPT0gSU5QVVRfVFlQRV9NT1VTRSk7XG5cbiAgICAgICAgaWYgKGlzTW91c2UgJiYgaW5wdXREYXRhLnNvdXJjZUNhcGFiaWxpdGllcyAmJiBpbnB1dERhdGEuc291cmNlQ2FwYWJpbGl0aWVzLmZpcmVzVG91Y2hFdmVudHMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHdoZW4gd2UncmUgaW4gYSB0b3VjaCBldmVudCwgcmVjb3JkIHRvdWNoZXMgdG8gIGRlLWR1cGUgc3ludGhldGljIG1vdXNlIGV2ZW50XG4gICAgICAgIGlmIChpc1RvdWNoKSB7XG4gICAgICAgICAgICByZWNvcmRUb3VjaGVzLmNhbGwodGhpcywgaW5wdXRFdmVudCwgaW5wdXREYXRhKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc01vdXNlICYmIGlzU3ludGhldGljRXZlbnQuY2FsbCh0aGlzLCBpbnB1dERhdGEpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNhbGxiYWNrKG1hbmFnZXIsIGlucHV0RXZlbnQsIGlucHV0RGF0YSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHJlbW92ZSB0aGUgZXZlbnQgbGlzdGVuZXJzXG4gICAgICovXG4gICAgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy50b3VjaC5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMubW91c2UuZGVzdHJveSgpO1xuICAgIH1cbn0pO1xuXG5mdW5jdGlvbiByZWNvcmRUb3VjaGVzKGV2ZW50VHlwZSwgZXZlbnREYXRhKSB7XG4gICAgaWYgKGV2ZW50VHlwZSAmIElOUFVUX1NUQVJUKSB7XG4gICAgICAgIHRoaXMucHJpbWFyeVRvdWNoID0gZXZlbnREYXRhLmNoYW5nZWRQb2ludGVyc1swXS5pZGVudGlmaWVyO1xuICAgICAgICBzZXRMYXN0VG91Y2guY2FsbCh0aGlzLCBldmVudERhdGEpO1xuICAgIH0gZWxzZSBpZiAoZXZlbnRUeXBlICYgKElOUFVUX0VORCB8IElOUFVUX0NBTkNFTCkpIHtcbiAgICAgICAgc2V0TGFzdFRvdWNoLmNhbGwodGhpcywgZXZlbnREYXRhKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHNldExhc3RUb3VjaChldmVudERhdGEpIHtcbiAgICB2YXIgdG91Y2ggPSBldmVudERhdGEuY2hhbmdlZFBvaW50ZXJzWzBdO1xuXG4gICAgaWYgKHRvdWNoLmlkZW50aWZpZXIgPT09IHRoaXMucHJpbWFyeVRvdWNoKSB7XG4gICAgICAgIHZhciBsYXN0VG91Y2ggPSB7eDogdG91Y2guY2xpZW50WCwgeTogdG91Y2guY2xpZW50WX07XG4gICAgICAgIHRoaXMubGFzdFRvdWNoZXMucHVzaChsYXN0VG91Y2gpO1xuICAgICAgICB2YXIgbHRzID0gdGhpcy5sYXN0VG91Y2hlcztcbiAgICAgICAgdmFyIHJlbW92ZUxhc3RUb3VjaCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGkgPSBsdHMuaW5kZXhPZihsYXN0VG91Y2gpO1xuICAgICAgICAgICAgaWYgKGkgPiAtMSkge1xuICAgICAgICAgICAgICAgIGx0cy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHNldFRpbWVvdXQocmVtb3ZlTGFzdFRvdWNoLCBERURVUF9USU1FT1VUKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGlzU3ludGhldGljRXZlbnQoZXZlbnREYXRhKSB7XG4gICAgdmFyIHggPSBldmVudERhdGEuc3JjRXZlbnQuY2xpZW50WCwgeSA9IGV2ZW50RGF0YS5zcmNFdmVudC5jbGllbnRZO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sYXN0VG91Y2hlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgdCA9IHRoaXMubGFzdFRvdWNoZXNbaV07XG4gICAgICAgIHZhciBkeCA9IE1hdGguYWJzKHggLSB0LngpLCBkeSA9IE1hdGguYWJzKHkgLSB0LnkpO1xuICAgICAgICBpZiAoZHggPD0gREVEVVBfRElTVEFOQ0UgJiYgZHkgPD0gREVEVVBfRElTVEFOQ0UpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cblxudmFyIFBSRUZJWEVEX1RPVUNIX0FDVElPTiA9IHByZWZpeGVkKFRFU1RfRUxFTUVOVC5zdHlsZSwgJ3RvdWNoQWN0aW9uJyk7XG52YXIgTkFUSVZFX1RPVUNIX0FDVElPTiA9IFBSRUZJWEVEX1RPVUNIX0FDVElPTiAhPT0gdW5kZWZpbmVkO1xuXG4vLyBtYWdpY2FsIHRvdWNoQWN0aW9uIHZhbHVlXG52YXIgVE9VQ0hfQUNUSU9OX0NPTVBVVEUgPSAnY29tcHV0ZSc7XG52YXIgVE9VQ0hfQUNUSU9OX0FVVE8gPSAnYXV0byc7XG52YXIgVE9VQ0hfQUNUSU9OX01BTklQVUxBVElPTiA9ICdtYW5pcHVsYXRpb24nOyAvLyBub3QgaW1wbGVtZW50ZWRcbnZhciBUT1VDSF9BQ1RJT05fTk9ORSA9ICdub25lJztcbnZhciBUT1VDSF9BQ1RJT05fUEFOX1ggPSAncGFuLXgnO1xudmFyIFRPVUNIX0FDVElPTl9QQU5fWSA9ICdwYW4teSc7XG52YXIgVE9VQ0hfQUNUSU9OX01BUCA9IGdldFRvdWNoQWN0aW9uUHJvcHMoKTtcblxuLyoqXG4gKiBUb3VjaCBBY3Rpb25cbiAqIHNldHMgdGhlIHRvdWNoQWN0aW9uIHByb3BlcnR5IG9yIHVzZXMgdGhlIGpzIGFsdGVybmF0aXZlXG4gKiBAcGFyYW0ge01hbmFnZXJ9IG1hbmFnZXJcbiAqIEBwYXJhbSB7U3RyaW5nfSB2YWx1ZVxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIFRvdWNoQWN0aW9uKG1hbmFnZXIsIHZhbHVlKSB7XG4gICAgdGhpcy5tYW5hZ2VyID0gbWFuYWdlcjtcbiAgICB0aGlzLnNldCh2YWx1ZSk7XG59XG5cblRvdWNoQWN0aW9uLnByb3RvdHlwZSA9IHtcbiAgICAvKipcbiAgICAgKiBzZXQgdGhlIHRvdWNoQWN0aW9uIHZhbHVlIG9uIHRoZSBlbGVtZW50IG9yIGVuYWJsZSB0aGUgcG9seWZpbGxcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdmFsdWVcbiAgICAgKi9cbiAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIC8vIGZpbmQgb3V0IHRoZSB0b3VjaC1hY3Rpb24gYnkgdGhlIGV2ZW50IGhhbmRsZXJzXG4gICAgICAgIGlmICh2YWx1ZSA9PSBUT1VDSF9BQ1RJT05fQ09NUFVURSkge1xuICAgICAgICAgICAgdmFsdWUgPSB0aGlzLmNvbXB1dGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChOQVRJVkVfVE9VQ0hfQUNUSU9OICYmIHRoaXMubWFuYWdlci5lbGVtZW50LnN0eWxlICYmIFRPVUNIX0FDVElPTl9NQVBbdmFsdWVdKSB7XG4gICAgICAgICAgICB0aGlzLm1hbmFnZXIuZWxlbWVudC5zdHlsZVtQUkVGSVhFRF9UT1VDSF9BQ1RJT05dID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hY3Rpb25zID0gdmFsdWUudG9Mb3dlckNhc2UoKS50cmltKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGp1c3QgcmUtc2V0IHRoZSB0b3VjaEFjdGlvbiB2YWx1ZVxuICAgICAqL1xuICAgIHVwZGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuc2V0KHRoaXMubWFuYWdlci5vcHRpb25zLnRvdWNoQWN0aW9uKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogY29tcHV0ZSB0aGUgdmFsdWUgZm9yIHRoZSB0b3VjaEFjdGlvbiBwcm9wZXJ0eSBiYXNlZCBvbiB0aGUgcmVjb2duaXplcidzIHNldHRpbmdzXG4gICAgICogQHJldHVybnMge1N0cmluZ30gdmFsdWVcbiAgICAgKi9cbiAgICBjb21wdXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFjdGlvbnMgPSBbXTtcbiAgICAgICAgZWFjaCh0aGlzLm1hbmFnZXIucmVjb2duaXplcnMsIGZ1bmN0aW9uKHJlY29nbml6ZXIpIHtcbiAgICAgICAgICAgIGlmIChib29sT3JGbihyZWNvZ25pemVyLm9wdGlvbnMuZW5hYmxlLCBbcmVjb2duaXplcl0pKSB7XG4gICAgICAgICAgICAgICAgYWN0aW9ucyA9IGFjdGlvbnMuY29uY2F0KHJlY29nbml6ZXIuZ2V0VG91Y2hBY3Rpb24oKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gY2xlYW5Ub3VjaEFjdGlvbnMoYWN0aW9ucy5qb2luKCcgJykpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiB0aGlzIG1ldGhvZCBpcyBjYWxsZWQgb24gZWFjaCBpbnB1dCBjeWNsZSBhbmQgcHJvdmlkZXMgdGhlIHByZXZlbnRpbmcgb2YgdGhlIGJyb3dzZXIgYmVoYXZpb3JcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5wdXRcbiAgICAgKi9cbiAgICBwcmV2ZW50RGVmYXVsdHM6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHZhciBzcmNFdmVudCA9IGlucHV0LnNyY0V2ZW50O1xuICAgICAgICB2YXIgZGlyZWN0aW9uID0gaW5wdXQub2Zmc2V0RGlyZWN0aW9uO1xuXG4gICAgICAgIC8vIGlmIHRoZSB0b3VjaCBhY3Rpb24gZGlkIHByZXZlbnRlZCBvbmNlIHRoaXMgc2Vzc2lvblxuICAgICAgICBpZiAodGhpcy5tYW5hZ2VyLnNlc3Npb24ucHJldmVudGVkKSB7XG4gICAgICAgICAgICBzcmNFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGFjdGlvbnMgPSB0aGlzLmFjdGlvbnM7XG4gICAgICAgIHZhciBoYXNOb25lID0gaW5TdHIoYWN0aW9ucywgVE9VQ0hfQUNUSU9OX05PTkUpICYmICFUT1VDSF9BQ1RJT05fTUFQW1RPVUNIX0FDVElPTl9OT05FXTtcbiAgICAgICAgdmFyIGhhc1BhblkgPSBpblN0cihhY3Rpb25zLCBUT1VDSF9BQ1RJT05fUEFOX1kpICYmICFUT1VDSF9BQ1RJT05fTUFQW1RPVUNIX0FDVElPTl9QQU5fWV07XG4gICAgICAgIHZhciBoYXNQYW5YID0gaW5TdHIoYWN0aW9ucywgVE9VQ0hfQUNUSU9OX1BBTl9YKSAmJiAhVE9VQ0hfQUNUSU9OX01BUFtUT1VDSF9BQ1RJT05fUEFOX1hdO1xuXG4gICAgICAgIGlmIChoYXNOb25lKSB7XG4gICAgICAgICAgICAvL2RvIG5vdCBwcmV2ZW50IGRlZmF1bHRzIGlmIHRoaXMgaXMgYSB0YXAgZ2VzdHVyZVxuXG4gICAgICAgICAgICB2YXIgaXNUYXBQb2ludGVyID0gaW5wdXQucG9pbnRlcnMubGVuZ3RoID09PSAxO1xuICAgICAgICAgICAgdmFyIGlzVGFwTW92ZW1lbnQgPSBpbnB1dC5kaXN0YW5jZSA8IDI7XG4gICAgICAgICAgICB2YXIgaXNUYXBUb3VjaFRpbWUgPSBpbnB1dC5kZWx0YVRpbWUgPCAyNTA7XG5cbiAgICAgICAgICAgIGlmIChpc1RhcFBvaW50ZXIgJiYgaXNUYXBNb3ZlbWVudCAmJiBpc1RhcFRvdWNoVGltZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChoYXNQYW5YICYmIGhhc1BhblkpIHtcbiAgICAgICAgICAgIC8vIGBwYW4teCBwYW4teWAgbWVhbnMgYnJvd3NlciBoYW5kbGVzIGFsbCBzY3JvbGxpbmcvcGFubmluZywgZG8gbm90IHByZXZlbnRcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChoYXNOb25lIHx8XG4gICAgICAgICAgICAoaGFzUGFuWSAmJiBkaXJlY3Rpb24gJiBESVJFQ1RJT05fSE9SSVpPTlRBTCkgfHxcbiAgICAgICAgICAgIChoYXNQYW5YICYmIGRpcmVjdGlvbiAmIERJUkVDVElPTl9WRVJUSUNBTCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnByZXZlbnRTcmMoc3JjRXZlbnQpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGNhbGwgcHJldmVudERlZmF1bHQgdG8gcHJldmVudCB0aGUgYnJvd3NlcidzIGRlZmF1bHQgYmVoYXZpb3IgKHNjcm9sbGluZyBpbiBtb3N0IGNhc2VzKVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzcmNFdmVudFxuICAgICAqL1xuICAgIHByZXZlbnRTcmM6IGZ1bmN0aW9uKHNyY0V2ZW50KSB7XG4gICAgICAgIHRoaXMubWFuYWdlci5zZXNzaW9uLnByZXZlbnRlZCA9IHRydWU7XG4gICAgICAgIHNyY0V2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxufTtcblxuLyoqXG4gKiB3aGVuIHRoZSB0b3VjaEFjdGlvbnMgYXJlIGNvbGxlY3RlZCB0aGV5IGFyZSBub3QgYSB2YWxpZCB2YWx1ZSwgc28gd2UgbmVlZCB0byBjbGVhbiB0aGluZ3MgdXAuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBhY3Rpb25zXG4gKiBAcmV0dXJucyB7Kn1cbiAqL1xuZnVuY3Rpb24gY2xlYW5Ub3VjaEFjdGlvbnMoYWN0aW9ucykge1xuICAgIC8vIG5vbmVcbiAgICBpZiAoaW5TdHIoYWN0aW9ucywgVE9VQ0hfQUNUSU9OX05PTkUpKSB7XG4gICAgICAgIHJldHVybiBUT1VDSF9BQ1RJT05fTk9ORTtcbiAgICB9XG5cbiAgICB2YXIgaGFzUGFuWCA9IGluU3RyKGFjdGlvbnMsIFRPVUNIX0FDVElPTl9QQU5fWCk7XG4gICAgdmFyIGhhc1BhblkgPSBpblN0cihhY3Rpb25zLCBUT1VDSF9BQ1RJT05fUEFOX1kpO1xuXG4gICAgLy8gaWYgYm90aCBwYW4teCBhbmQgcGFuLXkgYXJlIHNldCAoZGlmZmVyZW50IHJlY29nbml6ZXJzXG4gICAgLy8gZm9yIGRpZmZlcmVudCBkaXJlY3Rpb25zLCBlLmcuIGhvcml6b250YWwgcGFuIGJ1dCB2ZXJ0aWNhbCBzd2lwZT8pXG4gICAgLy8gd2UgbmVlZCBub25lIChhcyBvdGhlcndpc2Ugd2l0aCBwYW4teCBwYW4teSBjb21iaW5lZCBub25lIG9mIHRoZXNlXG4gICAgLy8gcmVjb2duaXplcnMgd2lsbCB3b3JrLCBzaW5jZSB0aGUgYnJvd3NlciB3b3VsZCBoYW5kbGUgYWxsIHBhbm5pbmdcbiAgICBpZiAoaGFzUGFuWCAmJiBoYXNQYW5ZKSB7XG4gICAgICAgIHJldHVybiBUT1VDSF9BQ1RJT05fTk9ORTtcbiAgICB9XG5cbiAgICAvLyBwYW4teCBPUiBwYW4teVxuICAgIGlmIChoYXNQYW5YIHx8IGhhc1BhblkpIHtcbiAgICAgICAgcmV0dXJuIGhhc1BhblggPyBUT1VDSF9BQ1RJT05fUEFOX1ggOiBUT1VDSF9BQ1RJT05fUEFOX1k7XG4gICAgfVxuXG4gICAgLy8gbWFuaXB1bGF0aW9uXG4gICAgaWYgKGluU3RyKGFjdGlvbnMsIFRPVUNIX0FDVElPTl9NQU5JUFVMQVRJT04pKSB7XG4gICAgICAgIHJldHVybiBUT1VDSF9BQ1RJT05fTUFOSVBVTEFUSU9OO1xuICAgIH1cblxuICAgIHJldHVybiBUT1VDSF9BQ1RJT05fQVVUTztcbn1cblxuZnVuY3Rpb24gZ2V0VG91Y2hBY3Rpb25Qcm9wcygpIHtcbiAgICBpZiAoIU5BVElWRV9UT1VDSF9BQ1RJT04pIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB2YXIgdG91Y2hNYXAgPSB7fTtcbiAgICB2YXIgY3NzU3VwcG9ydHMgPSB3aW5kb3cuQ1NTICYmIHdpbmRvdy5DU1Muc3VwcG9ydHM7XG4gICAgWydhdXRvJywgJ21hbmlwdWxhdGlvbicsICdwYW4teScsICdwYW4teCcsICdwYW4teCBwYW4teScsICdub25lJ10uZm9yRWFjaChmdW5jdGlvbih2YWwpIHtcblxuICAgICAgICAvLyBJZiBjc3Muc3VwcG9ydHMgaXMgbm90IHN1cHBvcnRlZCBidXQgdGhlcmUgaXMgbmF0aXZlIHRvdWNoLWFjdGlvbiBhc3N1bWUgaXQgc3VwcG9ydHNcbiAgICAgICAgLy8gYWxsIHZhbHVlcy4gVGhpcyBpcyB0aGUgY2FzZSBmb3IgSUUgMTAgYW5kIDExLlxuICAgICAgICB0b3VjaE1hcFt2YWxdID0gY3NzU3VwcG9ydHMgPyB3aW5kb3cuQ1NTLnN1cHBvcnRzKCd0b3VjaC1hY3Rpb24nLCB2YWwpIDogdHJ1ZTtcbiAgICB9KTtcbiAgICByZXR1cm4gdG91Y2hNYXA7XG59XG5cbi8qKlxuICogUmVjb2duaXplciBmbG93IGV4cGxhaW5lZDsgKlxuICogQWxsIHJlY29nbml6ZXJzIGhhdmUgdGhlIGluaXRpYWwgc3RhdGUgb2YgUE9TU0lCTEUgd2hlbiBhIGlucHV0IHNlc3Npb24gc3RhcnRzLlxuICogVGhlIGRlZmluaXRpb24gb2YgYSBpbnB1dCBzZXNzaW9uIGlzIGZyb20gdGhlIGZpcnN0IGlucHV0IHVudGlsIHRoZSBsYXN0IGlucHV0LCB3aXRoIGFsbCBpdCdzIG1vdmVtZW50IGluIGl0LiAqXG4gKiBFeGFtcGxlIHNlc3Npb24gZm9yIG1vdXNlLWlucHV0OiBtb3VzZWRvd24gLT4gbW91c2Vtb3ZlIC0+IG1vdXNldXBcbiAqXG4gKiBPbiBlYWNoIHJlY29nbml6aW5nIGN5Y2xlIChzZWUgTWFuYWdlci5yZWNvZ25pemUpIHRoZSAucmVjb2duaXplKCkgbWV0aG9kIGlzIGV4ZWN1dGVkXG4gKiB3aGljaCBkZXRlcm1pbmVzIHdpdGggc3RhdGUgaXQgc2hvdWxkIGJlLlxuICpcbiAqIElmIHRoZSByZWNvZ25pemVyIGhhcyB0aGUgc3RhdGUgRkFJTEVELCBDQU5DRUxMRUQgb3IgUkVDT0dOSVpFRCAoZXF1YWxzIEVOREVEKSwgaXQgaXMgcmVzZXQgdG9cbiAqIFBPU1NJQkxFIHRvIGdpdmUgaXQgYW5vdGhlciBjaGFuZ2Ugb24gdGhlIG5leHQgY3ljbGUuXG4gKlxuICogICAgICAgICAgICAgICBQb3NzaWJsZVxuICogICAgICAgICAgICAgICAgICB8XG4gKiAgICAgICAgICAgICstLS0tLSstLS0tLS0tLS0tLS0tLS0rXG4gKiAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICB8XG4gKiAgICAgICstLS0tLSstLS0tLSsgICAgICAgICAgICAgICB8XG4gKiAgICAgIHwgICAgICAgICAgIHwgICAgICAgICAgICAgICB8XG4gKiAgIEZhaWxlZCAgICAgIENhbmNlbGxlZCAgICAgICAgICB8XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgKy0tLS0tLS0rLS0tLS0tK1xuICogICAgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgIHxcbiAqICAgICAgICAgICAgICAgICAgICAgIFJlY29nbml6ZWQgICAgICAgQmVnYW5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2hhbmdlZFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEVuZGVkL1JlY29nbml6ZWRcbiAqL1xudmFyIFNUQVRFX1BPU1NJQkxFID0gMTtcbnZhciBTVEFURV9CRUdBTiA9IDI7XG52YXIgU1RBVEVfQ0hBTkdFRCA9IDQ7XG52YXIgU1RBVEVfRU5ERUQgPSA4O1xudmFyIFNUQVRFX1JFQ09HTklaRUQgPSBTVEFURV9FTkRFRDtcbnZhciBTVEFURV9DQU5DRUxMRUQgPSAxNjtcbnZhciBTVEFURV9GQUlMRUQgPSAzMjtcblxuLyoqXG4gKiBSZWNvZ25pemVyXG4gKiBFdmVyeSByZWNvZ25pemVyIG5lZWRzIHRvIGV4dGVuZCBmcm9tIHRoaXMgY2xhc3MuXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gKi9cbmZ1bmN0aW9uIFJlY29nbml6ZXIob3B0aW9ucykge1xuICAgIHRoaXMub3B0aW9ucyA9IGFzc2lnbih7fSwgdGhpcy5kZWZhdWx0cywgb3B0aW9ucyB8fCB7fSk7XG5cbiAgICB0aGlzLmlkID0gdW5pcXVlSWQoKTtcblxuICAgIHRoaXMubWFuYWdlciA9IG51bGw7XG5cbiAgICAvLyBkZWZhdWx0IGlzIGVuYWJsZSB0cnVlXG4gICAgdGhpcy5vcHRpb25zLmVuYWJsZSA9IGlmVW5kZWZpbmVkKHRoaXMub3B0aW9ucy5lbmFibGUsIHRydWUpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IFNUQVRFX1BPU1NJQkxFO1xuXG4gICAgdGhpcy5zaW11bHRhbmVvdXMgPSB7fTtcbiAgICB0aGlzLnJlcXVpcmVGYWlsID0gW107XG59XG5cblJlY29nbml6ZXIucHJvdG90eXBlID0ge1xuICAgIC8qKlxuICAgICAqIEB2aXJ0dWFsXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKi9cbiAgICBkZWZhdWx0czoge30sXG5cbiAgICAvKipcbiAgICAgKiBzZXQgb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICogQHJldHVybiB7UmVjb2duaXplcn1cbiAgICAgKi9cbiAgICBzZXQ6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgICAgYXNzaWduKHRoaXMub3B0aW9ucywgb3B0aW9ucyk7XG5cbiAgICAgICAgLy8gYWxzbyB1cGRhdGUgdGhlIHRvdWNoQWN0aW9uLCBpbiBjYXNlIHNvbWV0aGluZyBjaGFuZ2VkIGFib3V0IHRoZSBkaXJlY3Rpb25zL2VuYWJsZWQgc3RhdGVcbiAgICAgICAgdGhpcy5tYW5hZ2VyICYmIHRoaXMubWFuYWdlci50b3VjaEFjdGlvbi51cGRhdGUoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHJlY29nbml6ZSBzaW11bHRhbmVvdXMgd2l0aCBhbiBvdGhlciByZWNvZ25pemVyLlxuICAgICAqIEBwYXJhbSB7UmVjb2duaXplcn0gb3RoZXJSZWNvZ25pemVyXG4gICAgICogQHJldHVybnMge1JlY29nbml6ZXJ9IHRoaXNcbiAgICAgKi9cbiAgICByZWNvZ25pemVXaXRoOiBmdW5jdGlvbihvdGhlclJlY29nbml6ZXIpIHtcbiAgICAgICAgaWYgKGludm9rZUFycmF5QXJnKG90aGVyUmVjb2duaXplciwgJ3JlY29nbml6ZVdpdGgnLCB0aGlzKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc2ltdWx0YW5lb3VzID0gdGhpcy5zaW11bHRhbmVvdXM7XG4gICAgICAgIG90aGVyUmVjb2duaXplciA9IGdldFJlY29nbml6ZXJCeU5hbWVJZk1hbmFnZXIob3RoZXJSZWNvZ25pemVyLCB0aGlzKTtcbiAgICAgICAgaWYgKCFzaW11bHRhbmVvdXNbb3RoZXJSZWNvZ25pemVyLmlkXSkge1xuICAgICAgICAgICAgc2ltdWx0YW5lb3VzW290aGVyUmVjb2duaXplci5pZF0gPSBvdGhlclJlY29nbml6ZXI7XG4gICAgICAgICAgICBvdGhlclJlY29nbml6ZXIucmVjb2duaXplV2l0aCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogZHJvcCB0aGUgc2ltdWx0YW5lb3VzIGxpbmsuIGl0IGRvZXNudCByZW1vdmUgdGhlIGxpbmsgb24gdGhlIG90aGVyIHJlY29nbml6ZXIuXG4gICAgICogQHBhcmFtIHtSZWNvZ25pemVyfSBvdGhlclJlY29nbml6ZXJcbiAgICAgKiBAcmV0dXJucyB7UmVjb2duaXplcn0gdGhpc1xuICAgICAqL1xuICAgIGRyb3BSZWNvZ25pemVXaXRoOiBmdW5jdGlvbihvdGhlclJlY29nbml6ZXIpIHtcbiAgICAgICAgaWYgKGludm9rZUFycmF5QXJnKG90aGVyUmVjb2duaXplciwgJ2Ryb3BSZWNvZ25pemVXaXRoJywgdGhpcykpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgb3RoZXJSZWNvZ25pemVyID0gZ2V0UmVjb2duaXplckJ5TmFtZUlmTWFuYWdlcihvdGhlclJlY29nbml6ZXIsIHRoaXMpO1xuICAgICAgICBkZWxldGUgdGhpcy5zaW11bHRhbmVvdXNbb3RoZXJSZWNvZ25pemVyLmlkXTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHJlY29nbml6ZXIgY2FuIG9ubHkgcnVuIHdoZW4gYW4gb3RoZXIgaXMgZmFpbGluZ1xuICAgICAqIEBwYXJhbSB7UmVjb2duaXplcn0gb3RoZXJSZWNvZ25pemVyXG4gICAgICogQHJldHVybnMge1JlY29nbml6ZXJ9IHRoaXNcbiAgICAgKi9cbiAgICByZXF1aXJlRmFpbHVyZTogZnVuY3Rpb24ob3RoZXJSZWNvZ25pemVyKSB7XG4gICAgICAgIGlmIChpbnZva2VBcnJheUFyZyhvdGhlclJlY29nbml6ZXIsICdyZXF1aXJlRmFpbHVyZScsIHRoaXMpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByZXF1aXJlRmFpbCA9IHRoaXMucmVxdWlyZUZhaWw7XG4gICAgICAgIG90aGVyUmVjb2duaXplciA9IGdldFJlY29nbml6ZXJCeU5hbWVJZk1hbmFnZXIob3RoZXJSZWNvZ25pemVyLCB0aGlzKTtcbiAgICAgICAgaWYgKGluQXJyYXkocmVxdWlyZUZhaWwsIG90aGVyUmVjb2duaXplcikgPT09IC0xKSB7XG4gICAgICAgICAgICByZXF1aXJlRmFpbC5wdXNoKG90aGVyUmVjb2duaXplcik7XG4gICAgICAgICAgICBvdGhlclJlY29nbml6ZXIucmVxdWlyZUZhaWx1cmUodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGRyb3AgdGhlIHJlcXVpcmVGYWlsdXJlIGxpbmsuIGl0IGRvZXMgbm90IHJlbW92ZSB0aGUgbGluayBvbiB0aGUgb3RoZXIgcmVjb2duaXplci5cbiAgICAgKiBAcGFyYW0ge1JlY29nbml6ZXJ9IG90aGVyUmVjb2duaXplclxuICAgICAqIEByZXR1cm5zIHtSZWNvZ25pemVyfSB0aGlzXG4gICAgICovXG4gICAgZHJvcFJlcXVpcmVGYWlsdXJlOiBmdW5jdGlvbihvdGhlclJlY29nbml6ZXIpIHtcbiAgICAgICAgaWYgKGludm9rZUFycmF5QXJnKG90aGVyUmVjb2duaXplciwgJ2Ryb3BSZXF1aXJlRmFpbHVyZScsIHRoaXMpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIG90aGVyUmVjb2duaXplciA9IGdldFJlY29nbml6ZXJCeU5hbWVJZk1hbmFnZXIob3RoZXJSZWNvZ25pemVyLCB0aGlzKTtcbiAgICAgICAgdmFyIGluZGV4ID0gaW5BcnJheSh0aGlzLnJlcXVpcmVGYWlsLCBvdGhlclJlY29nbml6ZXIpO1xuICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICAgICAgdGhpcy5yZXF1aXJlRmFpbC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBoYXMgcmVxdWlyZSBmYWlsdXJlcyBib29sZWFuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgaGFzUmVxdWlyZUZhaWx1cmVzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVxdWlyZUZhaWwubGVuZ3RoID4gMDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogaWYgdGhlIHJlY29nbml6ZXIgY2FuIHJlY29nbml6ZSBzaW11bHRhbmVvdXMgd2l0aCBhbiBvdGhlciByZWNvZ25pemVyXG4gICAgICogQHBhcmFtIHtSZWNvZ25pemVyfSBvdGhlclJlY29nbml6ZXJcbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICBjYW5SZWNvZ25pemVXaXRoOiBmdW5jdGlvbihvdGhlclJlY29nbml6ZXIpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5zaW11bHRhbmVvdXNbb3RoZXJSZWNvZ25pemVyLmlkXTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogWW91IHNob3VsZCB1c2UgYHRyeUVtaXRgIGluc3RlYWQgb2YgYGVtaXRgIGRpcmVjdGx5IHRvIGNoZWNrXG4gICAgICogdGhhdCBhbGwgdGhlIG5lZWRlZCByZWNvZ25pemVycyBoYXMgZmFpbGVkIGJlZm9yZSBlbWl0dGluZy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5wdXRcbiAgICAgKi9cbiAgICBlbWl0OiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGU7XG5cbiAgICAgICAgZnVuY3Rpb24gZW1pdChldmVudCkge1xuICAgICAgICAgICAgc2VsZi5tYW5hZ2VyLmVtaXQoZXZlbnQsIGlucHV0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vICdwYW5zdGFydCcgYW5kICdwYW5tb3ZlJ1xuICAgICAgICBpZiAoc3RhdGUgPCBTVEFURV9FTkRFRCkge1xuICAgICAgICAgICAgZW1pdChzZWxmLm9wdGlvbnMuZXZlbnQgKyBzdGF0ZVN0cihzdGF0ZSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgZW1pdChzZWxmLm9wdGlvbnMuZXZlbnQpOyAvLyBzaW1wbGUgJ2V2ZW50TmFtZScgZXZlbnRzXG5cbiAgICAgICAgaWYgKGlucHV0LmFkZGl0aW9uYWxFdmVudCkgeyAvLyBhZGRpdGlvbmFsIGV2ZW50KHBhbmxlZnQsIHBhbnJpZ2h0LCBwaW5jaGluLCBwaW5jaG91dC4uLilcbiAgICAgICAgICAgIGVtaXQoaW5wdXQuYWRkaXRpb25hbEV2ZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHBhbmVuZCBhbmQgcGFuY2FuY2VsXG4gICAgICAgIGlmIChzdGF0ZSA+PSBTVEFURV9FTkRFRCkge1xuICAgICAgICAgICAgZW1pdChzZWxmLm9wdGlvbnMuZXZlbnQgKyBzdGF0ZVN0cihzdGF0ZSkpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENoZWNrIHRoYXQgYWxsIHRoZSByZXF1aXJlIGZhaWx1cmUgcmVjb2duaXplcnMgaGFzIGZhaWxlZCxcbiAgICAgKiBpZiB0cnVlLCBpdCBlbWl0cyBhIGdlc3R1cmUgZXZlbnQsXG4gICAgICogb3RoZXJ3aXNlLCBzZXR1cCB0aGUgc3RhdGUgdG8gRkFJTEVELlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuICAgICAqL1xuICAgIHRyeUVtaXQ6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIGlmICh0aGlzLmNhbkVtaXQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZW1pdChpbnB1dCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaXQncyBmYWlsaW5nIGFueXdheVxuICAgICAgICB0aGlzLnN0YXRlID0gU1RBVEVfRkFJTEVEO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBjYW4gd2UgZW1pdD9cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBjYW5FbWl0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB3aGlsZSAoaSA8IHRoaXMucmVxdWlyZUZhaWwubGVuZ3RoKSB7XG4gICAgICAgICAgICBpZiAoISh0aGlzLnJlcXVpcmVGYWlsW2ldLnN0YXRlICYgKFNUQVRFX0ZBSUxFRCB8IFNUQVRFX1BPU1NJQkxFKSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHVwZGF0ZSB0aGUgcmVjb2duaXplclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dERhdGFcbiAgICAgKi9cbiAgICByZWNvZ25pemU6IGZ1bmN0aW9uKGlucHV0RGF0YSkge1xuICAgICAgICAvLyBtYWtlIGEgbmV3IGNvcHkgb2YgdGhlIGlucHV0RGF0YVxuICAgICAgICAvLyBzbyB3ZSBjYW4gY2hhbmdlIHRoZSBpbnB1dERhdGEgd2l0aG91dCBtZXNzaW5nIHVwIHRoZSBvdGhlciByZWNvZ25pemVyc1xuICAgICAgICB2YXIgaW5wdXREYXRhQ2xvbmUgPSBhc3NpZ24oe30sIGlucHV0RGF0YSk7XG5cbiAgICAgICAgLy8gaXMgaXMgZW5hYmxlZCBhbmQgYWxsb3cgcmVjb2duaXppbmc/XG4gICAgICAgIGlmICghYm9vbE9yRm4odGhpcy5vcHRpb25zLmVuYWJsZSwgW3RoaXMsIGlucHV0RGF0YUNsb25lXSkpIHtcbiAgICAgICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTVEFURV9GQUlMRUQ7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZXNldCB3aGVuIHdlJ3ZlIHJlYWNoZWQgdGhlIGVuZFxuICAgICAgICBpZiAodGhpcy5zdGF0ZSAmIChTVEFURV9SRUNPR05JWkVEIHwgU1RBVEVfQ0FOQ0VMTEVEIHwgU1RBVEVfRkFJTEVEKSkge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFNUQVRFX1BPU1NJQkxFO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zdGF0ZSA9IHRoaXMucHJvY2VzcyhpbnB1dERhdGFDbG9uZSk7XG5cbiAgICAgICAgLy8gdGhlIHJlY29nbml6ZXIgaGFzIHJlY29nbml6ZWQgYSBnZXN0dXJlXG4gICAgICAgIC8vIHNvIHRyaWdnZXIgYW4gZXZlbnRcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgJiAoU1RBVEVfQkVHQU4gfCBTVEFURV9DSEFOR0VEIHwgU1RBVEVfRU5ERUQgfCBTVEFURV9DQU5DRUxMRUQpKSB7XG4gICAgICAgICAgICB0aGlzLnRyeUVtaXQoaW5wdXREYXRhQ2xvbmUpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHJldHVybiB0aGUgc3RhdGUgb2YgdGhlIHJlY29nbml6ZXJcbiAgICAgKiB0aGUgYWN0dWFsIHJlY29nbml6aW5nIGhhcHBlbnMgaW4gdGhpcyBtZXRob2RcbiAgICAgKiBAdmlydHVhbFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dERhdGFcbiAgICAgKiBAcmV0dXJucyB7Q29uc3R9IFNUQVRFXG4gICAgICovXG4gICAgcHJvY2VzczogZnVuY3Rpb24oaW5wdXREYXRhKSB7IH0sIC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG4gICAgLyoqXG4gICAgICogcmV0dXJuIHRoZSBwcmVmZXJyZWQgdG91Y2gtYWN0aW9uXG4gICAgICogQHZpcnR1YWxcbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9XG4gICAgICovXG4gICAgZ2V0VG91Y2hBY3Rpb246IGZ1bmN0aW9uKCkgeyB9LFxuXG4gICAgLyoqXG4gICAgICogY2FsbGVkIHdoZW4gdGhlIGdlc3R1cmUgaXNuJ3QgYWxsb3dlZCB0byByZWNvZ25pemVcbiAgICAgKiBsaWtlIHdoZW4gYW5vdGhlciBpcyBiZWluZyByZWNvZ25pemVkIG9yIGl0IGlzIGRpc2FibGVkXG4gICAgICogQHZpcnR1YWxcbiAgICAgKi9cbiAgICByZXNldDogZnVuY3Rpb24oKSB7IH1cbn07XG5cbi8qKlxuICogZ2V0IGEgdXNhYmxlIHN0cmluZywgdXNlZCBhcyBldmVudCBwb3N0Zml4XG4gKiBAcGFyYW0ge0NvbnN0fSBzdGF0ZVxuICogQHJldHVybnMge1N0cmluZ30gc3RhdGVcbiAqL1xuZnVuY3Rpb24gc3RhdGVTdHIoc3RhdGUpIHtcbiAgICBpZiAoc3RhdGUgJiBTVEFURV9DQU5DRUxMRUQpIHtcbiAgICAgICAgcmV0dXJuICdjYW5jZWwnO1xuICAgIH0gZWxzZSBpZiAoc3RhdGUgJiBTVEFURV9FTkRFRCkge1xuICAgICAgICByZXR1cm4gJ2VuZCc7XG4gICAgfSBlbHNlIGlmIChzdGF0ZSAmIFNUQVRFX0NIQU5HRUQpIHtcbiAgICAgICAgcmV0dXJuICdtb3ZlJztcbiAgICB9IGVsc2UgaWYgKHN0YXRlICYgU1RBVEVfQkVHQU4pIHtcbiAgICAgICAgcmV0dXJuICdzdGFydCc7XG4gICAgfVxuICAgIHJldHVybiAnJztcbn1cblxuLyoqXG4gKiBkaXJlY3Rpb24gY29ucyB0byBzdHJpbmdcbiAqIEBwYXJhbSB7Q29uc3R9IGRpcmVjdGlvblxuICogQHJldHVybnMge1N0cmluZ31cbiAqL1xuZnVuY3Rpb24gZGlyZWN0aW9uU3RyKGRpcmVjdGlvbikge1xuICAgIGlmIChkaXJlY3Rpb24gPT0gRElSRUNUSU9OX0RPV04pIHtcbiAgICAgICAgcmV0dXJuICdkb3duJztcbiAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PSBESVJFQ1RJT05fVVApIHtcbiAgICAgICAgcmV0dXJuICd1cCc7XG4gICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gPT0gRElSRUNUSU9OX0xFRlQpIHtcbiAgICAgICAgcmV0dXJuICdsZWZ0JztcbiAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PSBESVJFQ1RJT05fUklHSFQpIHtcbiAgICAgICAgcmV0dXJuICdyaWdodCc7XG4gICAgfVxuICAgIHJldHVybiAnJztcbn1cblxuLyoqXG4gKiBnZXQgYSByZWNvZ25pemVyIGJ5IG5hbWUgaWYgaXQgaXMgYm91bmQgdG8gYSBtYW5hZ2VyXG4gKiBAcGFyYW0ge1JlY29nbml6ZXJ8U3RyaW5nfSBvdGhlclJlY29nbml6ZXJcbiAqIEBwYXJhbSB7UmVjb2duaXplcn0gcmVjb2duaXplclxuICogQHJldHVybnMge1JlY29nbml6ZXJ9XG4gKi9cbmZ1bmN0aW9uIGdldFJlY29nbml6ZXJCeU5hbWVJZk1hbmFnZXIob3RoZXJSZWNvZ25pemVyLCByZWNvZ25pemVyKSB7XG4gICAgdmFyIG1hbmFnZXIgPSByZWNvZ25pemVyLm1hbmFnZXI7XG4gICAgaWYgKG1hbmFnZXIpIHtcbiAgICAgICAgcmV0dXJuIG1hbmFnZXIuZ2V0KG90aGVyUmVjb2duaXplcik7XG4gICAgfVxuICAgIHJldHVybiBvdGhlclJlY29nbml6ZXI7XG59XG5cbi8qKlxuICogVGhpcyByZWNvZ25pemVyIGlzIGp1c3QgdXNlZCBhcyBhIGJhc2UgZm9yIHRoZSBzaW1wbGUgYXR0cmlidXRlIHJlY29nbml6ZXJzLlxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBSZWNvZ25pemVyXG4gKi9cbmZ1bmN0aW9uIEF0dHJSZWNvZ25pemVyKCkge1xuICAgIFJlY29nbml6ZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuaW5oZXJpdChBdHRyUmVjb2duaXplciwgUmVjb2duaXplciwge1xuICAgIC8qKlxuICAgICAqIEBuYW1lc3BhY2VcbiAgICAgKiBAbWVtYmVyb2YgQXR0clJlY29nbml6ZXJcbiAgICAgKi9cbiAgICBkZWZhdWx0czoge1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge051bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgcG9pbnRlcnM6IDFcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVXNlZCB0byBjaGVjayBpZiBpdCB0aGUgcmVjb2duaXplciByZWNlaXZlcyB2YWxpZCBpbnB1dCwgbGlrZSBpbnB1dC5kaXN0YW5jZSA+IDEwLlxuICAgICAqIEBtZW1iZXJvZiBBdHRyUmVjb2duaXplclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufSByZWNvZ25pemVkXG4gICAgICovXG4gICAgYXR0clRlc3Q6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHZhciBvcHRpb25Qb2ludGVycyA9IHRoaXMub3B0aW9ucy5wb2ludGVycztcbiAgICAgICAgcmV0dXJuIG9wdGlvblBvaW50ZXJzID09PSAwIHx8IGlucHV0LnBvaW50ZXJzLmxlbmd0aCA9PT0gb3B0aW9uUG9pbnRlcnM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFByb2Nlc3MgdGhlIGlucHV0IGFuZCByZXR1cm4gdGhlIHN0YXRlIGZvciB0aGUgcmVjb2duaXplclxuICAgICAqIEBtZW1iZXJvZiBBdHRyUmVjb2duaXplclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuICAgICAqIEByZXR1cm5zIHsqfSBTdGF0ZVxuICAgICAqL1xuICAgIHByb2Nlc3M6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgICAgIHZhciBldmVudFR5cGUgPSBpbnB1dC5ldmVudFR5cGU7XG5cbiAgICAgICAgdmFyIGlzUmVjb2duaXplZCA9IHN0YXRlICYgKFNUQVRFX0JFR0FOIHwgU1RBVEVfQ0hBTkdFRCk7XG4gICAgICAgIHZhciBpc1ZhbGlkID0gdGhpcy5hdHRyVGVzdChpbnB1dCk7XG5cbiAgICAgICAgLy8gb24gY2FuY2VsIGlucHV0IGFuZCB3ZSd2ZSByZWNvZ25pemVkIGJlZm9yZSwgcmV0dXJuIFNUQVRFX0NBTkNFTExFRFxuICAgICAgICBpZiAoaXNSZWNvZ25pemVkICYmIChldmVudFR5cGUgJiBJTlBVVF9DQU5DRUwgfHwgIWlzVmFsaWQpKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RhdGUgfCBTVEFURV9DQU5DRUxMRUQ7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNSZWNvZ25pemVkIHx8IGlzVmFsaWQpIHtcbiAgICAgICAgICAgIGlmIChldmVudFR5cGUgJiBJTlBVVF9FTkQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RhdGUgfCBTVEFURV9FTkRFRDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIShzdGF0ZSAmIFNUQVRFX0JFR0FOKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBTVEFURV9CRUdBTjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzdGF0ZSB8IFNUQVRFX0NIQU5HRUQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFNUQVRFX0ZBSUxFRDtcbiAgICB9XG59KTtcblxuLyoqXG4gKiBQYW5cbiAqIFJlY29nbml6ZWQgd2hlbiB0aGUgcG9pbnRlciBpcyBkb3duIGFuZCBtb3ZlZCBpbiB0aGUgYWxsb3dlZCBkaXJlY3Rpb24uXG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIEF0dHJSZWNvZ25pemVyXG4gKi9cbmZ1bmN0aW9uIFBhblJlY29nbml6ZXIoKSB7XG4gICAgQXR0clJlY29nbml6ZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblxuICAgIHRoaXMucFggPSBudWxsO1xuICAgIHRoaXMucFkgPSBudWxsO1xufVxuXG5pbmhlcml0KFBhblJlY29nbml6ZXIsIEF0dHJSZWNvZ25pemVyLCB7XG4gICAgLyoqXG4gICAgICogQG5hbWVzcGFjZVxuICAgICAqIEBtZW1iZXJvZiBQYW5SZWNvZ25pemVyXG4gICAgICovXG4gICAgZGVmYXVsdHM6IHtcbiAgICAgICAgZXZlbnQ6ICdwYW4nLFxuICAgICAgICB0aHJlc2hvbGQ6IDEwLFxuICAgICAgICBwb2ludGVyczogMSxcbiAgICAgICAgZGlyZWN0aW9uOiBESVJFQ1RJT05fQUxMXG4gICAgfSxcblxuICAgIGdldFRvdWNoQWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGRpcmVjdGlvbiA9IHRoaXMub3B0aW9ucy5kaXJlY3Rpb247XG4gICAgICAgIHZhciBhY3Rpb25zID0gW107XG4gICAgICAgIGlmIChkaXJlY3Rpb24gJiBESVJFQ1RJT05fSE9SSVpPTlRBTCkge1xuICAgICAgICAgICAgYWN0aW9ucy5wdXNoKFRPVUNIX0FDVElPTl9QQU5fWSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRpcmVjdGlvbiAmIERJUkVDVElPTl9WRVJUSUNBTCkge1xuICAgICAgICAgICAgYWN0aW9ucy5wdXNoKFRPVUNIX0FDVElPTl9QQU5fWCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFjdGlvbnM7XG4gICAgfSxcblxuICAgIGRpcmVjdGlvblRlc3Q6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICB2YXIgaGFzTW92ZWQgPSB0cnVlO1xuICAgICAgICB2YXIgZGlzdGFuY2UgPSBpbnB1dC5kaXN0YW5jZTtcbiAgICAgICAgdmFyIGRpcmVjdGlvbiA9IGlucHV0LmRpcmVjdGlvbjtcbiAgICAgICAgdmFyIHggPSBpbnB1dC5kZWx0YVg7XG4gICAgICAgIHZhciB5ID0gaW5wdXQuZGVsdGFZO1xuXG4gICAgICAgIC8vIGxvY2sgdG8gYXhpcz9cbiAgICAgICAgaWYgKCEoZGlyZWN0aW9uICYgb3B0aW9ucy5kaXJlY3Rpb24pKSB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5kaXJlY3Rpb24gJiBESVJFQ1RJT05fSE9SSVpPTlRBTCkge1xuICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9ICh4ID09PSAwKSA/IERJUkVDVElPTl9OT05FIDogKHggPCAwKSA/IERJUkVDVElPTl9MRUZUIDogRElSRUNUSU9OX1JJR0hUO1xuICAgICAgICAgICAgICAgIGhhc01vdmVkID0geCAhPSB0aGlzLnBYO1xuICAgICAgICAgICAgICAgIGRpc3RhbmNlID0gTWF0aC5hYnMoaW5wdXQuZGVsdGFYKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uID0gKHkgPT09IDApID8gRElSRUNUSU9OX05PTkUgOiAoeSA8IDApID8gRElSRUNUSU9OX1VQIDogRElSRUNUSU9OX0RPV047XG4gICAgICAgICAgICAgICAgaGFzTW92ZWQgPSB5ICE9IHRoaXMucFk7XG4gICAgICAgICAgICAgICAgZGlzdGFuY2UgPSBNYXRoLmFicyhpbnB1dC5kZWx0YVkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlucHV0LmRpcmVjdGlvbiA9IGRpcmVjdGlvbjtcbiAgICAgICAgcmV0dXJuIGhhc01vdmVkICYmIGRpc3RhbmNlID4gb3B0aW9ucy50aHJlc2hvbGQgJiYgZGlyZWN0aW9uICYgb3B0aW9ucy5kaXJlY3Rpb247XG4gICAgfSxcblxuICAgIGF0dHJUZXN0OiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICByZXR1cm4gQXR0clJlY29nbml6ZXIucHJvdG90eXBlLmF0dHJUZXN0LmNhbGwodGhpcywgaW5wdXQpICYmXG4gICAgICAgICAgICAodGhpcy5zdGF0ZSAmIFNUQVRFX0JFR0FOIHx8ICghKHRoaXMuc3RhdGUgJiBTVEFURV9CRUdBTikgJiYgdGhpcy5kaXJlY3Rpb25UZXN0KGlucHV0KSkpO1xuICAgIH0sXG5cbiAgICBlbWl0OiBmdW5jdGlvbihpbnB1dCkge1xuXG4gICAgICAgIHRoaXMucFggPSBpbnB1dC5kZWx0YVg7XG4gICAgICAgIHRoaXMucFkgPSBpbnB1dC5kZWx0YVk7XG5cbiAgICAgICAgdmFyIGRpcmVjdGlvbiA9IGRpcmVjdGlvblN0cihpbnB1dC5kaXJlY3Rpb24pO1xuXG4gICAgICAgIGlmIChkaXJlY3Rpb24pIHtcbiAgICAgICAgICAgIGlucHV0LmFkZGl0aW9uYWxFdmVudCA9IHRoaXMub3B0aW9ucy5ldmVudCArIGRpcmVjdGlvbjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zdXBlci5lbWl0LmNhbGwodGhpcywgaW5wdXQpO1xuICAgIH1cbn0pO1xuXG4vKipcbiAqIFBpbmNoXG4gKiBSZWNvZ25pemVkIHdoZW4gdHdvIG9yIG1vcmUgcG9pbnRlcnMgYXJlIG1vdmluZyB0b3dhcmQgKHpvb20taW4pIG9yIGF3YXkgZnJvbSBlYWNoIG90aGVyICh6b29tLW91dCkuXG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIEF0dHJSZWNvZ25pemVyXG4gKi9cbmZ1bmN0aW9uIFBpbmNoUmVjb2duaXplcigpIHtcbiAgICBBdHRyUmVjb2duaXplci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5pbmhlcml0KFBpbmNoUmVjb2duaXplciwgQXR0clJlY29nbml6ZXIsIHtcbiAgICAvKipcbiAgICAgKiBAbmFtZXNwYWNlXG4gICAgICogQG1lbWJlcm9mIFBpbmNoUmVjb2duaXplclxuICAgICAqL1xuICAgIGRlZmF1bHRzOiB7XG4gICAgICAgIGV2ZW50OiAncGluY2gnLFxuICAgICAgICB0aHJlc2hvbGQ6IDAsXG4gICAgICAgIHBvaW50ZXJzOiAyXG4gICAgfSxcblxuICAgIGdldFRvdWNoQWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIFtUT1VDSF9BQ1RJT05fTk9ORV07XG4gICAgfSxcblxuICAgIGF0dHJUZXN0OiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3VwZXIuYXR0clRlc3QuY2FsbCh0aGlzLCBpbnB1dCkgJiZcbiAgICAgICAgICAgIChNYXRoLmFicyhpbnB1dC5zY2FsZSAtIDEpID4gdGhpcy5vcHRpb25zLnRocmVzaG9sZCB8fCB0aGlzLnN0YXRlICYgU1RBVEVfQkVHQU4pO1xuICAgIH0sXG5cbiAgICBlbWl0OiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICBpZiAoaW5wdXQuc2NhbGUgIT09IDEpIHtcbiAgICAgICAgICAgIHZhciBpbk91dCA9IGlucHV0LnNjYWxlIDwgMSA/ICdpbicgOiAnb3V0JztcbiAgICAgICAgICAgIGlucHV0LmFkZGl0aW9uYWxFdmVudCA9IHRoaXMub3B0aW9ucy5ldmVudCArIGluT3V0O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3N1cGVyLmVtaXQuY2FsbCh0aGlzLCBpbnB1dCk7XG4gICAgfVxufSk7XG5cbi8qKlxuICogUHJlc3NcbiAqIFJlY29nbml6ZWQgd2hlbiB0aGUgcG9pbnRlciBpcyBkb3duIGZvciB4IG1zIHdpdGhvdXQgYW55IG1vdmVtZW50LlxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBSZWNvZ25pemVyXG4gKi9cbmZ1bmN0aW9uIFByZXNzUmVjb2duaXplcigpIHtcbiAgICBSZWNvZ25pemVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cbiAgICB0aGlzLl90aW1lciA9IG51bGw7XG4gICAgdGhpcy5faW5wdXQgPSBudWxsO1xufVxuXG5pbmhlcml0KFByZXNzUmVjb2duaXplciwgUmVjb2duaXplciwge1xuICAgIC8qKlxuICAgICAqIEBuYW1lc3BhY2VcbiAgICAgKiBAbWVtYmVyb2YgUHJlc3NSZWNvZ25pemVyXG4gICAgICovXG4gICAgZGVmYXVsdHM6IHtcbiAgICAgICAgZXZlbnQ6ICdwcmVzcycsXG4gICAgICAgIHBvaW50ZXJzOiAxLFxuICAgICAgICB0aW1lOiAyNTEsIC8vIG1pbmltYWwgdGltZSBvZiB0aGUgcG9pbnRlciB0byBiZSBwcmVzc2VkXG4gICAgICAgIHRocmVzaG9sZDogOSAvLyBhIG1pbmltYWwgbW92ZW1lbnQgaXMgb2ssIGJ1dCBrZWVwIGl0IGxvd1xuICAgIH0sXG5cbiAgICBnZXRUb3VjaEFjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBbVE9VQ0hfQUNUSU9OX0FVVE9dO1xuICAgIH0sXG5cbiAgICBwcm9jZXNzOiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgdmFyIHZhbGlkUG9pbnRlcnMgPSBpbnB1dC5wb2ludGVycy5sZW5ndGggPT09IG9wdGlvbnMucG9pbnRlcnM7XG4gICAgICAgIHZhciB2YWxpZE1vdmVtZW50ID0gaW5wdXQuZGlzdGFuY2UgPCBvcHRpb25zLnRocmVzaG9sZDtcbiAgICAgICAgdmFyIHZhbGlkVGltZSA9IGlucHV0LmRlbHRhVGltZSA+IG9wdGlvbnMudGltZTtcblxuICAgICAgICB0aGlzLl9pbnB1dCA9IGlucHV0O1xuXG4gICAgICAgIC8vIHdlIG9ubHkgYWxsb3cgbGl0dGxlIG1vdmVtZW50XG4gICAgICAgIC8vIGFuZCB3ZSd2ZSByZWFjaGVkIGFuIGVuZCBldmVudCwgc28gYSB0YXAgaXMgcG9zc2libGVcbiAgICAgICAgaWYgKCF2YWxpZE1vdmVtZW50IHx8ICF2YWxpZFBvaW50ZXJzIHx8IChpbnB1dC5ldmVudFR5cGUgJiAoSU5QVVRfRU5EIHwgSU5QVVRfQ0FOQ0VMKSAmJiAhdmFsaWRUaW1lKSkge1xuICAgICAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgICB9IGVsc2UgaWYgKGlucHV0LmV2ZW50VHlwZSAmIElOUFVUX1NUQVJUKSB7XG4gICAgICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICAgICAgICB0aGlzLl90aW1lciA9IHNldFRpbWVvdXRDb250ZXh0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTVEFURV9SRUNPR05JWkVEO1xuICAgICAgICAgICAgICAgIHRoaXMudHJ5RW1pdCgpO1xuICAgICAgICAgICAgfSwgb3B0aW9ucy50aW1lLCB0aGlzKTtcbiAgICAgICAgfSBlbHNlIGlmIChpbnB1dC5ldmVudFR5cGUgJiBJTlBVVF9FTkQpIHtcbiAgICAgICAgICAgIHJldHVybiBTVEFURV9SRUNPR05JWkVEO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBTVEFURV9GQUlMRUQ7XG4gICAgfSxcblxuICAgIHJlc2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVyKTtcbiAgICB9LFxuXG4gICAgZW1pdDogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgIT09IFNUQVRFX1JFQ09HTklaRUQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpbnB1dCAmJiAoaW5wdXQuZXZlbnRUeXBlICYgSU5QVVRfRU5EKSkge1xuICAgICAgICAgICAgdGhpcy5tYW5hZ2VyLmVtaXQodGhpcy5vcHRpb25zLmV2ZW50ICsgJ3VwJywgaW5wdXQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5faW5wdXQudGltZVN0YW1wID0gbm93KCk7XG4gICAgICAgICAgICB0aGlzLm1hbmFnZXIuZW1pdCh0aGlzLm9wdGlvbnMuZXZlbnQsIHRoaXMuX2lucHV0KTtcbiAgICAgICAgfVxuICAgIH1cbn0pO1xuXG4vKipcbiAqIFJvdGF0ZVxuICogUmVjb2duaXplZCB3aGVuIHR3byBvciBtb3JlIHBvaW50ZXIgYXJlIG1vdmluZyBpbiBhIGNpcmN1bGFyIG1vdGlvbi5cbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMgQXR0clJlY29nbml6ZXJcbiAqL1xuZnVuY3Rpb24gUm90YXRlUmVjb2duaXplcigpIHtcbiAgICBBdHRyUmVjb2duaXplci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5pbmhlcml0KFJvdGF0ZVJlY29nbml6ZXIsIEF0dHJSZWNvZ25pemVyLCB7XG4gICAgLyoqXG4gICAgICogQG5hbWVzcGFjZVxuICAgICAqIEBtZW1iZXJvZiBSb3RhdGVSZWNvZ25pemVyXG4gICAgICovXG4gICAgZGVmYXVsdHM6IHtcbiAgICAgICAgZXZlbnQ6ICdyb3RhdGUnLFxuICAgICAgICB0aHJlc2hvbGQ6IDAsXG4gICAgICAgIHBvaW50ZXJzOiAyXG4gICAgfSxcblxuICAgIGdldFRvdWNoQWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIFtUT1VDSF9BQ1RJT05fTk9ORV07XG4gICAgfSxcblxuICAgIGF0dHJUZXN0OiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3VwZXIuYXR0clRlc3QuY2FsbCh0aGlzLCBpbnB1dCkgJiZcbiAgICAgICAgICAgIChNYXRoLmFicyhpbnB1dC5yb3RhdGlvbikgPiB0aGlzLm9wdGlvbnMudGhyZXNob2xkIHx8IHRoaXMuc3RhdGUgJiBTVEFURV9CRUdBTik7XG4gICAgfVxufSk7XG5cbi8qKlxuICogU3dpcGVcbiAqIFJlY29nbml6ZWQgd2hlbiB0aGUgcG9pbnRlciBpcyBtb3ZpbmcgZmFzdCAodmVsb2NpdHkpLCB3aXRoIGVub3VnaCBkaXN0YW5jZSBpbiB0aGUgYWxsb3dlZCBkaXJlY3Rpb24uXG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIEF0dHJSZWNvZ25pemVyXG4gKi9cbmZ1bmN0aW9uIFN3aXBlUmVjb2duaXplcigpIHtcbiAgICBBdHRyUmVjb2duaXplci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5pbmhlcml0KFN3aXBlUmVjb2duaXplciwgQXR0clJlY29nbml6ZXIsIHtcbiAgICAvKipcbiAgICAgKiBAbmFtZXNwYWNlXG4gICAgICogQG1lbWJlcm9mIFN3aXBlUmVjb2duaXplclxuICAgICAqL1xuICAgIGRlZmF1bHRzOiB7XG4gICAgICAgIGV2ZW50OiAnc3dpcGUnLFxuICAgICAgICB0aHJlc2hvbGQ6IDEwLFxuICAgICAgICB2ZWxvY2l0eTogMC4zLFxuICAgICAgICBkaXJlY3Rpb246IERJUkVDVElPTl9IT1JJWk9OVEFMIHwgRElSRUNUSU9OX1ZFUlRJQ0FMLFxuICAgICAgICBwb2ludGVyczogMVxuICAgIH0sXG5cbiAgICBnZXRUb3VjaEFjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBQYW5SZWNvZ25pemVyLnByb3RvdHlwZS5nZXRUb3VjaEFjdGlvbi5jYWxsKHRoaXMpO1xuICAgIH0sXG5cbiAgICBhdHRyVGVzdDogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgdmFyIGRpcmVjdGlvbiA9IHRoaXMub3B0aW9ucy5kaXJlY3Rpb247XG4gICAgICAgIHZhciB2ZWxvY2l0eTtcblxuICAgICAgICBpZiAoZGlyZWN0aW9uICYgKERJUkVDVElPTl9IT1JJWk9OVEFMIHwgRElSRUNUSU9OX1ZFUlRJQ0FMKSkge1xuICAgICAgICAgICAgdmVsb2NpdHkgPSBpbnB1dC5vdmVyYWxsVmVsb2NpdHk7XG4gICAgICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uICYgRElSRUNUSU9OX0hPUklaT05UQUwpIHtcbiAgICAgICAgICAgIHZlbG9jaXR5ID0gaW5wdXQub3ZlcmFsbFZlbG9jaXR5WDtcbiAgICAgICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gJiBESVJFQ1RJT05fVkVSVElDQUwpIHtcbiAgICAgICAgICAgIHZlbG9jaXR5ID0gaW5wdXQub3ZlcmFsbFZlbG9jaXR5WTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLl9zdXBlci5hdHRyVGVzdC5jYWxsKHRoaXMsIGlucHV0KSAmJlxuICAgICAgICAgICAgZGlyZWN0aW9uICYgaW5wdXQub2Zmc2V0RGlyZWN0aW9uICYmXG4gICAgICAgICAgICBpbnB1dC5kaXN0YW5jZSA+IHRoaXMub3B0aW9ucy50aHJlc2hvbGQgJiZcbiAgICAgICAgICAgIGlucHV0Lm1heFBvaW50ZXJzID09IHRoaXMub3B0aW9ucy5wb2ludGVycyAmJlxuICAgICAgICAgICAgYWJzKHZlbG9jaXR5KSA+IHRoaXMub3B0aW9ucy52ZWxvY2l0eSAmJiBpbnB1dC5ldmVudFR5cGUgJiBJTlBVVF9FTkQ7XG4gICAgfSxcblxuICAgIGVtaXQ6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHZhciBkaXJlY3Rpb24gPSBkaXJlY3Rpb25TdHIoaW5wdXQub2Zmc2V0RGlyZWN0aW9uKTtcbiAgICAgICAgaWYgKGRpcmVjdGlvbikge1xuICAgICAgICAgICAgdGhpcy5tYW5hZ2VyLmVtaXQodGhpcy5vcHRpb25zLmV2ZW50ICsgZGlyZWN0aW9uLCBpbnB1dCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm1hbmFnZXIuZW1pdCh0aGlzLm9wdGlvbnMuZXZlbnQsIGlucHV0KTtcbiAgICB9XG59KTtcblxuLyoqXG4gKiBBIHRhcCBpcyBlY29nbml6ZWQgd2hlbiB0aGUgcG9pbnRlciBpcyBkb2luZyBhIHNtYWxsIHRhcC9jbGljay4gTXVsdGlwbGUgdGFwcyBhcmUgcmVjb2duaXplZCBpZiB0aGV5IG9jY3VyXG4gKiBiZXR3ZWVuIHRoZSBnaXZlbiBpbnRlcnZhbCBhbmQgcG9zaXRpb24uIFRoZSBkZWxheSBvcHRpb24gY2FuIGJlIHVzZWQgdG8gcmVjb2duaXplIG11bHRpLXRhcHMgd2l0aG91dCBmaXJpbmdcbiAqIGEgc2luZ2xlIHRhcC5cbiAqXG4gKiBUaGUgZXZlbnREYXRhIGZyb20gdGhlIGVtaXR0ZWQgZXZlbnQgY29udGFpbnMgdGhlIHByb3BlcnR5IGB0YXBDb3VudGAsIHdoaWNoIGNvbnRhaW5zIHRoZSBhbW91bnQgb2ZcbiAqIG11bHRpLXRhcHMgYmVpbmcgcmVjb2duaXplZC5cbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMgUmVjb2duaXplclxuICovXG5mdW5jdGlvbiBUYXBSZWNvZ25pemVyKCkge1xuICAgIFJlY29nbml6ZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblxuICAgIC8vIHByZXZpb3VzIHRpbWUgYW5kIGNlbnRlcixcbiAgICAvLyB1c2VkIGZvciB0YXAgY291bnRpbmdcbiAgICB0aGlzLnBUaW1lID0gZmFsc2U7XG4gICAgdGhpcy5wQ2VudGVyID0gZmFsc2U7XG5cbiAgICB0aGlzLl90aW1lciA9IG51bGw7XG4gICAgdGhpcy5faW5wdXQgPSBudWxsO1xuICAgIHRoaXMuY291bnQgPSAwO1xufVxuXG5pbmhlcml0KFRhcFJlY29nbml6ZXIsIFJlY29nbml6ZXIsIHtcbiAgICAvKipcbiAgICAgKiBAbmFtZXNwYWNlXG4gICAgICogQG1lbWJlcm9mIFBpbmNoUmVjb2duaXplclxuICAgICAqL1xuICAgIGRlZmF1bHRzOiB7XG4gICAgICAgIGV2ZW50OiAndGFwJyxcbiAgICAgICAgcG9pbnRlcnM6IDEsXG4gICAgICAgIHRhcHM6IDEsXG4gICAgICAgIGludGVydmFsOiAzMDAsIC8vIG1heCB0aW1lIGJldHdlZW4gdGhlIG11bHRpLXRhcCB0YXBzXG4gICAgICAgIHRpbWU6IDI1MCwgLy8gbWF4IHRpbWUgb2YgdGhlIHBvaW50ZXIgdG8gYmUgZG93biAobGlrZSBmaW5nZXIgb24gdGhlIHNjcmVlbilcbiAgICAgICAgdGhyZXNob2xkOiA5LCAvLyBhIG1pbmltYWwgbW92ZW1lbnQgaXMgb2ssIGJ1dCBrZWVwIGl0IGxvd1xuICAgICAgICBwb3NUaHJlc2hvbGQ6IDEwIC8vIGEgbXVsdGktdGFwIGNhbiBiZSBhIGJpdCBvZmYgdGhlIGluaXRpYWwgcG9zaXRpb25cbiAgICB9LFxuXG4gICAgZ2V0VG91Y2hBY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gW1RPVUNIX0FDVElPTl9NQU5JUFVMQVRJT05dO1xuICAgIH0sXG5cbiAgICBwcm9jZXNzOiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblxuICAgICAgICB2YXIgdmFsaWRQb2ludGVycyA9IGlucHV0LnBvaW50ZXJzLmxlbmd0aCA9PT0gb3B0aW9ucy5wb2ludGVycztcbiAgICAgICAgdmFyIHZhbGlkTW92ZW1lbnQgPSBpbnB1dC5kaXN0YW5jZSA8IG9wdGlvbnMudGhyZXNob2xkO1xuICAgICAgICB2YXIgdmFsaWRUb3VjaFRpbWUgPSBpbnB1dC5kZWx0YVRpbWUgPCBvcHRpb25zLnRpbWU7XG5cbiAgICAgICAgdGhpcy5yZXNldCgpO1xuXG4gICAgICAgIGlmICgoaW5wdXQuZXZlbnRUeXBlICYgSU5QVVRfU1RBUlQpICYmICh0aGlzLmNvdW50ID09PSAwKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmFpbFRpbWVvdXQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHdlIG9ubHkgYWxsb3cgbGl0dGxlIG1vdmVtZW50XG4gICAgICAgIC8vIGFuZCB3ZSd2ZSByZWFjaGVkIGFuIGVuZCBldmVudCwgc28gYSB0YXAgaXMgcG9zc2libGVcbiAgICAgICAgaWYgKHZhbGlkTW92ZW1lbnQgJiYgdmFsaWRUb3VjaFRpbWUgJiYgdmFsaWRQb2ludGVycykge1xuICAgICAgICAgICAgaWYgKGlucHV0LmV2ZW50VHlwZSAhPSBJTlBVVF9FTkQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5mYWlsVGltZW91dCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgdmFsaWRJbnRlcnZhbCA9IHRoaXMucFRpbWUgPyAoaW5wdXQudGltZVN0YW1wIC0gdGhpcy5wVGltZSA8IG9wdGlvbnMuaW50ZXJ2YWwpIDogdHJ1ZTtcbiAgICAgICAgICAgIHZhciB2YWxpZE11bHRpVGFwID0gIXRoaXMucENlbnRlciB8fCBnZXREaXN0YW5jZSh0aGlzLnBDZW50ZXIsIGlucHV0LmNlbnRlcikgPCBvcHRpb25zLnBvc1RocmVzaG9sZDtcblxuICAgICAgICAgICAgdGhpcy5wVGltZSA9IGlucHV0LnRpbWVTdGFtcDtcbiAgICAgICAgICAgIHRoaXMucENlbnRlciA9IGlucHV0LmNlbnRlcjtcblxuICAgICAgICAgICAgaWYgKCF2YWxpZE11bHRpVGFwIHx8ICF2YWxpZEludGVydmFsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb3VudCA9IDE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuY291bnQgKz0gMTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5faW5wdXQgPSBpbnB1dDtcblxuICAgICAgICAgICAgLy8gaWYgdGFwIGNvdW50IG1hdGNoZXMgd2UgaGF2ZSByZWNvZ25pemVkIGl0LFxuICAgICAgICAgICAgLy8gZWxzZSBpdCBoYXMgYmVnYW4gcmVjb2duaXppbmcuLi5cbiAgICAgICAgICAgIHZhciB0YXBDb3VudCA9IHRoaXMuY291bnQgJSBvcHRpb25zLnRhcHM7XG4gICAgICAgICAgICBpZiAodGFwQ291bnQgPT09IDApIHtcbiAgICAgICAgICAgICAgICAvLyBubyBmYWlsaW5nIHJlcXVpcmVtZW50cywgaW1tZWRpYXRlbHkgdHJpZ2dlciB0aGUgdGFwIGV2ZW50XG4gICAgICAgICAgICAgICAgLy8gb3Igd2FpdCBhcyBsb25nIGFzIHRoZSBtdWx0aXRhcCBpbnRlcnZhbCB0byB0cmlnZ2VyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmhhc1JlcXVpcmVGYWlsdXJlcygpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBTVEFURV9SRUNPR05JWkVEO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RpbWVyID0gc2V0VGltZW91dENvbnRleHQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gU1RBVEVfUkVDT0dOSVpFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJ5RW1pdCgpO1xuICAgICAgICAgICAgICAgICAgICB9LCBvcHRpb25zLmludGVydmFsLCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNUQVRFX0JFR0FOO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gU1RBVEVfRkFJTEVEO1xuICAgIH0sXG5cbiAgICBmYWlsVGltZW91dDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuX3RpbWVyID0gc2V0VGltZW91dENvbnRleHQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gU1RBVEVfRkFJTEVEO1xuICAgICAgICB9LCB0aGlzLm9wdGlvbnMuaW50ZXJ2YWwsIHRoaXMpO1xuICAgICAgICByZXR1cm4gU1RBVEVfRkFJTEVEO1xuICAgIH0sXG5cbiAgICByZXNldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl90aW1lcik7XG4gICAgfSxcblxuICAgIGVtaXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PSBTVEFURV9SRUNPR05JWkVEKSB7XG4gICAgICAgICAgICB0aGlzLl9pbnB1dC50YXBDb3VudCA9IHRoaXMuY291bnQ7XG4gICAgICAgICAgICB0aGlzLm1hbmFnZXIuZW1pdCh0aGlzLm9wdGlvbnMuZXZlbnQsIHRoaXMuX2lucHV0KTtcbiAgICAgICAgfVxuICAgIH1cbn0pO1xuXG4vKipcbiAqIFNpbXBsZSB3YXkgdG8gY3JlYXRlIGEgbWFuYWdlciB3aXRoIGEgZGVmYXVsdCBzZXQgb2YgcmVjb2duaXplcnMuXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50XG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gSGFtbWVyKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICBvcHRpb25zLnJlY29nbml6ZXJzID0gaWZVbmRlZmluZWQob3B0aW9ucy5yZWNvZ25pemVycywgSGFtbWVyLmRlZmF1bHRzLnByZXNldCk7XG4gICAgcmV0dXJuIG5ldyBNYW5hZ2VyKGVsZW1lbnQsIG9wdGlvbnMpO1xufVxuXG4vKipcbiAqIEBjb25zdCB7c3RyaW5nfVxuICovXG5IYW1tZXIuVkVSU0lPTiA9ICcyLjAuNyc7XG5cbi8qKlxuICogZGVmYXVsdCBzZXR0aW5nc1xuICogQG5hbWVzcGFjZVxuICovXG5IYW1tZXIuZGVmYXVsdHMgPSB7XG4gICAgLyoqXG4gICAgICogc2V0IGlmIERPTSBldmVudHMgYXJlIGJlaW5nIHRyaWdnZXJlZC5cbiAgICAgKiBCdXQgdGhpcyBpcyBzbG93ZXIgYW5kIHVudXNlZCBieSBzaW1wbGUgaW1wbGVtZW50YXRpb25zLCBzbyBkaXNhYmxlZCBieSBkZWZhdWx0LlxuICAgICAqIEB0eXBlIHtCb29sZWFufVxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICovXG4gICAgZG9tRXZlbnRzOiBmYWxzZSxcblxuICAgIC8qKlxuICAgICAqIFRoZSB2YWx1ZSBmb3IgdGhlIHRvdWNoQWN0aW9uIHByb3BlcnR5L2ZhbGxiYWNrLlxuICAgICAqIFdoZW4gc2V0IHRvIGBjb21wdXRlYCBpdCB3aWxsIG1hZ2ljYWxseSBzZXQgdGhlIGNvcnJlY3QgdmFsdWUgYmFzZWQgb24gdGhlIGFkZGVkIHJlY29nbml6ZXJzLlxuICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICogQGRlZmF1bHQgY29tcHV0ZVxuICAgICAqL1xuICAgIHRvdWNoQWN0aW9uOiBUT1VDSF9BQ1RJT05fQ09NUFVURSxcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtCb29sZWFufVxuICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgKi9cbiAgICBlbmFibGU6IHRydWUsXG5cbiAgICAvKipcbiAgICAgKiBFWFBFUklNRU5UQUwgRkVBVFVSRSAtLSBjYW4gYmUgcmVtb3ZlZC9jaGFuZ2VkXG4gICAgICogQ2hhbmdlIHRoZSBwYXJlbnQgaW5wdXQgdGFyZ2V0IGVsZW1lbnQuXG4gICAgICogSWYgTnVsbCwgdGhlbiBpdCBpcyBiZWluZyBzZXQgdGhlIHRvIG1haW4gZWxlbWVudC5cbiAgICAgKiBAdHlwZSB7TnVsbHxFdmVudFRhcmdldH1cbiAgICAgKiBAZGVmYXVsdCBudWxsXG4gICAgICovXG4gICAgaW5wdXRUYXJnZXQ6IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBmb3JjZSBhbiBpbnB1dCBjbGFzc1xuICAgICAqIEB0eXBlIHtOdWxsfEZ1bmN0aW9ufVxuICAgICAqIEBkZWZhdWx0IG51bGxcbiAgICAgKi9cbiAgICBpbnB1dENsYXNzOiBudWxsLFxuXG4gICAgLyoqXG4gICAgICogRGVmYXVsdCByZWNvZ25pemVyIHNldHVwIHdoZW4gY2FsbGluZyBgSGFtbWVyKClgXG4gICAgICogV2hlbiBjcmVhdGluZyBhIG5ldyBNYW5hZ2VyIHRoZXNlIHdpbGwgYmUgc2tpcHBlZC5cbiAgICAgKiBAdHlwZSB7QXJyYXl9XG4gICAgICovXG4gICAgcHJlc2V0OiBbXG4gICAgICAgIC8vIFJlY29nbml6ZXJDbGFzcywgb3B0aW9ucywgW3JlY29nbml6ZVdpdGgsIC4uLl0sIFtyZXF1aXJlRmFpbHVyZSwgLi4uXVxuICAgICAgICBbUm90YXRlUmVjb2duaXplciwge2VuYWJsZTogZmFsc2V9XSxcbiAgICAgICAgW1BpbmNoUmVjb2duaXplciwge2VuYWJsZTogZmFsc2V9LCBbJ3JvdGF0ZSddXSxcbiAgICAgICAgW1N3aXBlUmVjb2duaXplciwge2RpcmVjdGlvbjogRElSRUNUSU9OX0hPUklaT05UQUx9XSxcbiAgICAgICAgW1BhblJlY29nbml6ZXIsIHtkaXJlY3Rpb246IERJUkVDVElPTl9IT1JJWk9OVEFMfSwgWydzd2lwZSddXSxcbiAgICAgICAgW1RhcFJlY29nbml6ZXJdLFxuICAgICAgICBbVGFwUmVjb2duaXplciwge2V2ZW50OiAnZG91YmxldGFwJywgdGFwczogMn0sIFsndGFwJ11dLFxuICAgICAgICBbUHJlc3NSZWNvZ25pemVyXVxuICAgIF0sXG5cbiAgICAvKipcbiAgICAgKiBTb21lIENTUyBwcm9wZXJ0aWVzIGNhbiBiZSB1c2VkIHRvIGltcHJvdmUgdGhlIHdvcmtpbmcgb2YgSGFtbWVyLlxuICAgICAqIEFkZCB0aGVtIHRvIHRoaXMgbWV0aG9kIGFuZCB0aGV5IHdpbGwgYmUgc2V0IHdoZW4gY3JlYXRpbmcgYSBuZXcgTWFuYWdlci5cbiAgICAgKiBAbmFtZXNwYWNlXG4gICAgICovXG4gICAgY3NzUHJvcHM6IHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpc2FibGVzIHRleHQgc2VsZWN0aW9uIHRvIGltcHJvdmUgdGhlIGRyYWdnaW5nIGdlc3R1cmUuIE1haW5seSBmb3IgZGVza3RvcCBicm93c2Vycy5cbiAgICAgICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgICAgICogQGRlZmF1bHQgJ25vbmUnXG4gICAgICAgICAqL1xuICAgICAgICB1c2VyU2VsZWN0OiAnbm9uZScsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpc2FibGUgdGhlIFdpbmRvd3MgUGhvbmUgZ3JpcHBlcnMgd2hlbiBwcmVzc2luZyBhbiBlbGVtZW50LlxuICAgICAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAgICAgKiBAZGVmYXVsdCAnbm9uZSdcbiAgICAgICAgICovXG4gICAgICAgIHRvdWNoU2VsZWN0OiAnbm9uZScsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpc2FibGVzIHRoZSBkZWZhdWx0IGNhbGxvdXQgc2hvd24gd2hlbiB5b3UgdG91Y2ggYW5kIGhvbGQgYSB0b3VjaCB0YXJnZXQuXG4gICAgICAgICAqIE9uIGlPUywgd2hlbiB5b3UgdG91Y2ggYW5kIGhvbGQgYSB0b3VjaCB0YXJnZXQgc3VjaCBhcyBhIGxpbmssIFNhZmFyaSBkaXNwbGF5c1xuICAgICAgICAgKiBhIGNhbGxvdXQgY29udGFpbmluZyBpbmZvcm1hdGlvbiBhYm91dCB0aGUgbGluay4gVGhpcyBwcm9wZXJ0eSBhbGxvd3MgeW91IHRvIGRpc2FibGUgdGhhdCBjYWxsb3V0LlxuICAgICAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAgICAgKiBAZGVmYXVsdCAnbm9uZSdcbiAgICAgICAgICovXG4gICAgICAgIHRvdWNoQ2FsbG91dDogJ25vbmUnLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTcGVjaWZpZXMgd2hldGhlciB6b29taW5nIGlzIGVuYWJsZWQuIFVzZWQgYnkgSUUxMD5cbiAgICAgICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgICAgICogQGRlZmF1bHQgJ25vbmUnXG4gICAgICAgICAqL1xuICAgICAgICBjb250ZW50Wm9vbWluZzogJ25vbmUnLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTcGVjaWZpZXMgdGhhdCBhbiBlbnRpcmUgZWxlbWVudCBzaG91bGQgYmUgZHJhZ2dhYmxlIGluc3RlYWQgb2YgaXRzIGNvbnRlbnRzLiBNYWlubHkgZm9yIGRlc2t0b3AgYnJvd3NlcnMuXG4gICAgICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICAgICAqIEBkZWZhdWx0ICdub25lJ1xuICAgICAgICAgKi9cbiAgICAgICAgdXNlckRyYWc6ICdub25lJyxcblxuICAgICAgICAvKipcbiAgICAgICAgICogT3ZlcnJpZGVzIHRoZSBoaWdobGlnaHQgY29sb3Igc2hvd24gd2hlbiB0aGUgdXNlciB0YXBzIGEgbGluayBvciBhIEphdmFTY3JpcHRcbiAgICAgICAgICogY2xpY2thYmxlIGVsZW1lbnQgaW4gaU9TLiBUaGlzIHByb3BlcnR5IG9iZXlzIHRoZSBhbHBoYSB2YWx1ZSwgaWYgc3BlY2lmaWVkLlxuICAgICAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAgICAgKiBAZGVmYXVsdCAncmdiYSgwLDAsMCwwKSdcbiAgICAgICAgICovXG4gICAgICAgIHRhcEhpZ2hsaWdodENvbG9yOiAncmdiYSgwLDAsMCwwKSdcbiAgICB9XG59O1xuXG52YXIgU1RPUCA9IDE7XG52YXIgRk9SQ0VEX1NUT1AgPSAyO1xuXG4vKipcbiAqIE1hbmFnZXJcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnRcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBNYW5hZ2VyKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLm9wdGlvbnMgPSBhc3NpZ24oe30sIEhhbW1lci5kZWZhdWx0cywgb3B0aW9ucyB8fCB7fSk7XG5cbiAgICB0aGlzLm9wdGlvbnMuaW5wdXRUYXJnZXQgPSB0aGlzLm9wdGlvbnMuaW5wdXRUYXJnZXQgfHwgZWxlbWVudDtcblxuICAgIHRoaXMuaGFuZGxlcnMgPSB7fTtcbiAgICB0aGlzLnNlc3Npb24gPSB7fTtcbiAgICB0aGlzLnJlY29nbml6ZXJzID0gW107XG4gICAgdGhpcy5vbGRDc3NQcm9wcyA9IHt9O1xuXG4gICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICB0aGlzLmlucHV0ID0gY3JlYXRlSW5wdXRJbnN0YW5jZSh0aGlzKTtcbiAgICB0aGlzLnRvdWNoQWN0aW9uID0gbmV3IFRvdWNoQWN0aW9uKHRoaXMsIHRoaXMub3B0aW9ucy50b3VjaEFjdGlvbik7XG5cbiAgICB0b2dnbGVDc3NQcm9wcyh0aGlzLCB0cnVlKTtcblxuICAgIGVhY2godGhpcy5vcHRpb25zLnJlY29nbml6ZXJzLCBmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgIHZhciByZWNvZ25pemVyID0gdGhpcy5hZGQobmV3IChpdGVtWzBdKShpdGVtWzFdKSk7XG4gICAgICAgIGl0ZW1bMl0gJiYgcmVjb2duaXplci5yZWNvZ25pemVXaXRoKGl0ZW1bMl0pO1xuICAgICAgICBpdGVtWzNdICYmIHJlY29nbml6ZXIucmVxdWlyZUZhaWx1cmUoaXRlbVszXSk7XG4gICAgfSwgdGhpcyk7XG59XG5cbk1hbmFnZXIucHJvdG90eXBlID0ge1xuICAgIC8qKlxuICAgICAqIHNldCBvcHRpb25zXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKiBAcmV0dXJucyB7TWFuYWdlcn1cbiAgICAgKi9cbiAgICBzZXQ6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgICAgYXNzaWduKHRoaXMub3B0aW9ucywgb3B0aW9ucyk7XG5cbiAgICAgICAgLy8gT3B0aW9ucyB0aGF0IG5lZWQgYSBsaXR0bGUgbW9yZSBzZXR1cFxuICAgICAgICBpZiAob3B0aW9ucy50b3VjaEFjdGlvbikge1xuICAgICAgICAgICAgdGhpcy50b3VjaEFjdGlvbi51cGRhdGUoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy5pbnB1dFRhcmdldCkge1xuICAgICAgICAgICAgLy8gQ2xlYW4gdXAgZXhpc3RpbmcgZXZlbnQgbGlzdGVuZXJzIGFuZCByZWluaXRpYWxpemVcbiAgICAgICAgICAgIHRoaXMuaW5wdXQuZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5pbnB1dC50YXJnZXQgPSBvcHRpb25zLmlucHV0VGFyZ2V0O1xuICAgICAgICAgICAgdGhpcy5pbnB1dC5pbml0KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHN0b3AgcmVjb2duaXppbmcgZm9yIHRoaXMgc2Vzc2lvbi5cbiAgICAgKiBUaGlzIHNlc3Npb24gd2lsbCBiZSBkaXNjYXJkZWQsIHdoZW4gYSBuZXcgW2lucHV0XXN0YXJ0IGV2ZW50IGlzIGZpcmVkLlxuICAgICAqIFdoZW4gZm9yY2VkLCB0aGUgcmVjb2duaXplciBjeWNsZSBpcyBzdG9wcGVkIGltbWVkaWF0ZWx5LlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2ZvcmNlXVxuICAgICAqL1xuICAgIHN0b3A6IGZ1bmN0aW9uKGZvcmNlKSB7XG4gICAgICAgIHRoaXMuc2Vzc2lvbi5zdG9wcGVkID0gZm9yY2UgPyBGT1JDRURfU1RPUCA6IFNUT1A7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHJ1biB0aGUgcmVjb2duaXplcnMhXG4gICAgICogY2FsbGVkIGJ5IHRoZSBpbnB1dEhhbmRsZXIgZnVuY3Rpb24gb24gZXZlcnkgbW92ZW1lbnQgb2YgdGhlIHBvaW50ZXJzICh0b3VjaGVzKVxuICAgICAqIGl0IHdhbGtzIHRocm91Z2ggYWxsIHRoZSByZWNvZ25pemVycyBhbmQgdHJpZXMgdG8gZGV0ZWN0IHRoZSBnZXN0dXJlIHRoYXQgaXMgYmVpbmcgbWFkZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dERhdGFcbiAgICAgKi9cbiAgICByZWNvZ25pemU6IGZ1bmN0aW9uKGlucHV0RGF0YSkge1xuICAgICAgICB2YXIgc2Vzc2lvbiA9IHRoaXMuc2Vzc2lvbjtcbiAgICAgICAgaWYgKHNlc3Npb24uc3RvcHBlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcnVuIHRoZSB0b3VjaC1hY3Rpb24gcG9seWZpbGxcbiAgICAgICAgdGhpcy50b3VjaEFjdGlvbi5wcmV2ZW50RGVmYXVsdHMoaW5wdXREYXRhKTtcblxuICAgICAgICB2YXIgcmVjb2duaXplcjtcbiAgICAgICAgdmFyIHJlY29nbml6ZXJzID0gdGhpcy5yZWNvZ25pemVycztcblxuICAgICAgICAvLyB0aGlzIGhvbGRzIHRoZSByZWNvZ25pemVyIHRoYXQgaXMgYmVpbmcgcmVjb2duaXplZC5cbiAgICAgICAgLy8gc28gdGhlIHJlY29nbml6ZXIncyBzdGF0ZSBuZWVkcyB0byBiZSBCRUdBTiwgQ0hBTkdFRCwgRU5ERUQgb3IgUkVDT0dOSVpFRFxuICAgICAgICAvLyBpZiBubyByZWNvZ25pemVyIGlzIGRldGVjdGluZyBhIHRoaW5nLCBpdCBpcyBzZXQgdG8gYG51bGxgXG4gICAgICAgIHZhciBjdXJSZWNvZ25pemVyID0gc2Vzc2lvbi5jdXJSZWNvZ25pemVyO1xuXG4gICAgICAgIC8vIHJlc2V0IHdoZW4gdGhlIGxhc3QgcmVjb2duaXplciBpcyByZWNvZ25pemVkXG4gICAgICAgIC8vIG9yIHdoZW4gd2UncmUgaW4gYSBuZXcgc2Vzc2lvblxuICAgICAgICBpZiAoIWN1clJlY29nbml6ZXIgfHwgKGN1clJlY29nbml6ZXIgJiYgY3VyUmVjb2duaXplci5zdGF0ZSAmIFNUQVRFX1JFQ09HTklaRUQpKSB7XG4gICAgICAgICAgICBjdXJSZWNvZ25pemVyID0gc2Vzc2lvbi5jdXJSZWNvZ25pemVyID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgd2hpbGUgKGkgPCByZWNvZ25pemVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJlY29nbml6ZXIgPSByZWNvZ25pemVyc1tpXTtcblxuICAgICAgICAgICAgLy8gZmluZCBvdXQgaWYgd2UgYXJlIGFsbG93ZWQgdHJ5IHRvIHJlY29nbml6ZSB0aGUgaW5wdXQgZm9yIHRoaXMgb25lLlxuICAgICAgICAgICAgLy8gMS4gICBhbGxvdyBpZiB0aGUgc2Vzc2lvbiBpcyBOT1QgZm9yY2VkIHN0b3BwZWQgKHNlZSB0aGUgLnN0b3AoKSBtZXRob2QpXG4gICAgICAgICAgICAvLyAyLiAgIGFsbG93IGlmIHdlIHN0aWxsIGhhdmVuJ3QgcmVjb2duaXplZCBhIGdlc3R1cmUgaW4gdGhpcyBzZXNzaW9uLCBvciB0aGUgdGhpcyByZWNvZ25pemVyIGlzIHRoZSBvbmVcbiAgICAgICAgICAgIC8vICAgICAgdGhhdCBpcyBiZWluZyByZWNvZ25pemVkLlxuICAgICAgICAgICAgLy8gMy4gICBhbGxvdyBpZiB0aGUgcmVjb2duaXplciBpcyBhbGxvd2VkIHRvIHJ1biBzaW11bHRhbmVvdXMgd2l0aCB0aGUgY3VycmVudCByZWNvZ25pemVkIHJlY29nbml6ZXIuXG4gICAgICAgICAgICAvLyAgICAgIHRoaXMgY2FuIGJlIHNldHVwIHdpdGggdGhlIGByZWNvZ25pemVXaXRoKClgIG1ldGhvZCBvbiB0aGUgcmVjb2duaXplci5cbiAgICAgICAgICAgIGlmIChzZXNzaW9uLnN0b3BwZWQgIT09IEZPUkNFRF9TVE9QICYmICggLy8gMVxuICAgICAgICAgICAgICAgICAgICAhY3VyUmVjb2duaXplciB8fCByZWNvZ25pemVyID09IGN1clJlY29nbml6ZXIgfHwgLy8gMlxuICAgICAgICAgICAgICAgICAgICByZWNvZ25pemVyLmNhblJlY29nbml6ZVdpdGgoY3VyUmVjb2duaXplcikpKSB7IC8vIDNcbiAgICAgICAgICAgICAgICByZWNvZ25pemVyLnJlY29nbml6ZShpbnB1dERhdGEpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZWNvZ25pemVyLnJlc2V0KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGlmIHRoZSByZWNvZ25pemVyIGhhcyBiZWVuIHJlY29nbml6aW5nIHRoZSBpbnB1dCBhcyBhIHZhbGlkIGdlc3R1cmUsIHdlIHdhbnQgdG8gc3RvcmUgdGhpcyBvbmUgYXMgdGhlXG4gICAgICAgICAgICAvLyBjdXJyZW50IGFjdGl2ZSByZWNvZ25pemVyLiBidXQgb25seSBpZiB3ZSBkb24ndCBhbHJlYWR5IGhhdmUgYW4gYWN0aXZlIHJlY29nbml6ZXJcbiAgICAgICAgICAgIGlmICghY3VyUmVjb2duaXplciAmJiByZWNvZ25pemVyLnN0YXRlICYgKFNUQVRFX0JFR0FOIHwgU1RBVEVfQ0hBTkdFRCB8IFNUQVRFX0VOREVEKSkge1xuICAgICAgICAgICAgICAgIGN1clJlY29nbml6ZXIgPSBzZXNzaW9uLmN1clJlY29nbml6ZXIgPSByZWNvZ25pemVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGdldCBhIHJlY29nbml6ZXIgYnkgaXRzIGV2ZW50IG5hbWUuXG4gICAgICogQHBhcmFtIHtSZWNvZ25pemVyfFN0cmluZ30gcmVjb2duaXplclxuICAgICAqIEByZXR1cm5zIHtSZWNvZ25pemVyfE51bGx9XG4gICAgICovXG4gICAgZ2V0OiBmdW5jdGlvbihyZWNvZ25pemVyKSB7XG4gICAgICAgIGlmIChyZWNvZ25pemVyIGluc3RhbmNlb2YgUmVjb2duaXplcikge1xuICAgICAgICAgICAgcmV0dXJuIHJlY29nbml6ZXI7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcmVjb2duaXplcnMgPSB0aGlzLnJlY29nbml6ZXJzO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlY29nbml6ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAocmVjb2duaXplcnNbaV0ub3B0aW9ucy5ldmVudCA9PSByZWNvZ25pemVyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlY29nbml6ZXJzW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBhZGQgYSByZWNvZ25pemVyIHRvIHRoZSBtYW5hZ2VyXG4gICAgICogZXhpc3RpbmcgcmVjb2duaXplcnMgd2l0aCB0aGUgc2FtZSBldmVudCBuYW1lIHdpbGwgYmUgcmVtb3ZlZFxuICAgICAqIEBwYXJhbSB7UmVjb2duaXplcn0gcmVjb2duaXplclxuICAgICAqIEByZXR1cm5zIHtSZWNvZ25pemVyfE1hbmFnZXJ9XG4gICAgICovXG4gICAgYWRkOiBmdW5jdGlvbihyZWNvZ25pemVyKSB7XG4gICAgICAgIGlmIChpbnZva2VBcnJheUFyZyhyZWNvZ25pemVyLCAnYWRkJywgdGhpcykpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmVtb3ZlIGV4aXN0aW5nXG4gICAgICAgIHZhciBleGlzdGluZyA9IHRoaXMuZ2V0KHJlY29nbml6ZXIub3B0aW9ucy5ldmVudCk7XG4gICAgICAgIGlmIChleGlzdGluZykge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmUoZXhpc3RpbmcpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZWNvZ25pemVycy5wdXNoKHJlY29nbml6ZXIpO1xuICAgICAgICByZWNvZ25pemVyLm1hbmFnZXIgPSB0aGlzO1xuXG4gICAgICAgIHRoaXMudG91Y2hBY3Rpb24udXBkYXRlKCk7XG4gICAgICAgIHJldHVybiByZWNvZ25pemVyO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiByZW1vdmUgYSByZWNvZ25pemVyIGJ5IG5hbWUgb3IgaW5zdGFuY2VcbiAgICAgKiBAcGFyYW0ge1JlY29nbml6ZXJ8U3RyaW5nfSByZWNvZ25pemVyXG4gICAgICogQHJldHVybnMge01hbmFnZXJ9XG4gICAgICovXG4gICAgcmVtb3ZlOiBmdW5jdGlvbihyZWNvZ25pemVyKSB7XG4gICAgICAgIGlmIChpbnZva2VBcnJheUFyZyhyZWNvZ25pemVyLCAncmVtb3ZlJywgdGhpcykpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVjb2duaXplciA9IHRoaXMuZ2V0KHJlY29nbml6ZXIpO1xuXG4gICAgICAgIC8vIGxldCdzIG1ha2Ugc3VyZSB0aGlzIHJlY29nbml6ZXIgZXhpc3RzXG4gICAgICAgIGlmIChyZWNvZ25pemVyKSB7XG4gICAgICAgICAgICB2YXIgcmVjb2duaXplcnMgPSB0aGlzLnJlY29nbml6ZXJzO1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gaW5BcnJheShyZWNvZ25pemVycywgcmVjb2duaXplcik7XG5cbiAgICAgICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICByZWNvZ25pemVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgIHRoaXMudG91Y2hBY3Rpb24udXBkYXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogYmluZCBldmVudFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudHNcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYW5kbGVyXG4gICAgICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gdGhpc1xuICAgICAqL1xuICAgIG9uOiBmdW5jdGlvbihldmVudHMsIGhhbmRsZXIpIHtcbiAgICAgICAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhhbmRsZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGhhbmRsZXJzID0gdGhpcy5oYW5kbGVycztcbiAgICAgICAgZWFjaChzcGxpdFN0cihldmVudHMpLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgaGFuZGxlcnNbZXZlbnRdID0gaGFuZGxlcnNbZXZlbnRdIHx8IFtdO1xuICAgICAgICAgICAgaGFuZGxlcnNbZXZlbnRdLnB1c2goaGFuZGxlcik7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogdW5iaW5kIGV2ZW50LCBsZWF2ZSBlbWl0IGJsYW5rIHRvIHJlbW92ZSBhbGwgaGFuZGxlcnNcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRzXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2hhbmRsZXJdXG4gICAgICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gdGhpc1xuICAgICAqL1xuICAgIG9mZjogZnVuY3Rpb24oZXZlbnRzLCBoYW5kbGVyKSB7XG4gICAgICAgIGlmIChldmVudHMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGhhbmRsZXJzID0gdGhpcy5oYW5kbGVycztcbiAgICAgICAgZWFjaChzcGxpdFN0cihldmVudHMpLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgaWYgKCFoYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIGhhbmRsZXJzW2V2ZW50XTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlcnNbZXZlbnRdICYmIGhhbmRsZXJzW2V2ZW50XS5zcGxpY2UoaW5BcnJheShoYW5kbGVyc1tldmVudF0sIGhhbmRsZXIpLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBlbWl0IGV2ZW50IHRvIHRoZSBsaXN0ZW5lcnNcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YVxuICAgICAqL1xuICAgIGVtaXQ6IGZ1bmN0aW9uKGV2ZW50LCBkYXRhKSB7XG4gICAgICAgIC8vIHdlIGFsc28gd2FudCB0byB0cmlnZ2VyIGRvbSBldmVudHNcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5kb21FdmVudHMpIHtcbiAgICAgICAgICAgIHRyaWdnZXJEb21FdmVudChldmVudCwgZGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBubyBoYW5kbGVycywgc28gc2tpcCBpdCBhbGxcbiAgICAgICAgdmFyIGhhbmRsZXJzID0gdGhpcy5oYW5kbGVyc1tldmVudF0gJiYgdGhpcy5oYW5kbGVyc1tldmVudF0uc2xpY2UoKTtcbiAgICAgICAgaWYgKCFoYW5kbGVycyB8fCAhaGFuZGxlcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBkYXRhLnR5cGUgPSBldmVudDtcbiAgICAgICAgZGF0YS5wcmV2ZW50RGVmYXVsdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZGF0YS5zcmNFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgd2hpbGUgKGkgPCBoYW5kbGVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGhhbmRsZXJzW2ldKGRhdGEpO1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGRlc3Ryb3kgdGhlIG1hbmFnZXIgYW5kIHVuYmluZHMgYWxsIGV2ZW50c1xuICAgICAqIGl0IGRvZXNuJ3QgdW5iaW5kIGRvbSBldmVudHMsIHRoYXQgaXMgdGhlIHVzZXIgb3duIHJlc3BvbnNpYmlsaXR5XG4gICAgICovXG4gICAgZGVzdHJveTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudCAmJiB0b2dnbGVDc3NQcm9wcyh0aGlzLCBmYWxzZSk7XG5cbiAgICAgICAgdGhpcy5oYW5kbGVycyA9IHt9O1xuICAgICAgICB0aGlzLnNlc3Npb24gPSB7fTtcbiAgICAgICAgdGhpcy5pbnB1dC5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IG51bGw7XG4gICAgfVxufTtcblxuLyoqXG4gKiBhZGQvcmVtb3ZlIHRoZSBjc3MgcHJvcGVydGllcyBhcyBkZWZpbmVkIGluIG1hbmFnZXIub3B0aW9ucy5jc3NQcm9wc1xuICogQHBhcmFtIHtNYW5hZ2VyfSBtYW5hZ2VyXG4gKiBAcGFyYW0ge0Jvb2xlYW59IGFkZFxuICovXG5mdW5jdGlvbiB0b2dnbGVDc3NQcm9wcyhtYW5hZ2VyLCBhZGQpIHtcbiAgICB2YXIgZWxlbWVudCA9IG1hbmFnZXIuZWxlbWVudDtcbiAgICBpZiAoIWVsZW1lbnQuc3R5bGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgcHJvcDtcbiAgICBlYWNoKG1hbmFnZXIub3B0aW9ucy5jc3NQcm9wcywgZnVuY3Rpb24odmFsdWUsIG5hbWUpIHtcbiAgICAgICAgcHJvcCA9IHByZWZpeGVkKGVsZW1lbnQuc3R5bGUsIG5hbWUpO1xuICAgICAgICBpZiAoYWRkKSB7XG4gICAgICAgICAgICBtYW5hZ2VyLm9sZENzc1Byb3BzW3Byb3BdID0gZWxlbWVudC5zdHlsZVtwcm9wXTtcbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGVbcHJvcF0gPSB2YWx1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGVbcHJvcF0gPSBtYW5hZ2VyLm9sZENzc1Byb3BzW3Byb3BdIHx8ICcnO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgaWYgKCFhZGQpIHtcbiAgICAgICAgbWFuYWdlci5vbGRDc3NQcm9wcyA9IHt9O1xuICAgIH1cbn1cblxuLyoqXG4gKiB0cmlnZ2VyIGRvbSBldmVudFxuICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50XG4gKiBAcGFyYW0ge09iamVjdH0gZGF0YVxuICovXG5mdW5jdGlvbiB0cmlnZ2VyRG9tRXZlbnQoZXZlbnQsIGRhdGEpIHtcbiAgICB2YXIgZ2VzdHVyZUV2ZW50ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0V2ZW50Jyk7XG4gICAgZ2VzdHVyZUV2ZW50LmluaXRFdmVudChldmVudCwgdHJ1ZSwgdHJ1ZSk7XG4gICAgZ2VzdHVyZUV2ZW50Lmdlc3R1cmUgPSBkYXRhO1xuICAgIGRhdGEudGFyZ2V0LmRpc3BhdGNoRXZlbnQoZ2VzdHVyZUV2ZW50KTtcbn1cblxuYXNzaWduKEhhbW1lciwge1xuICAgIElOUFVUX1NUQVJUOiBJTlBVVF9TVEFSVCxcbiAgICBJTlBVVF9NT1ZFOiBJTlBVVF9NT1ZFLFxuICAgIElOUFVUX0VORDogSU5QVVRfRU5ELFxuICAgIElOUFVUX0NBTkNFTDogSU5QVVRfQ0FOQ0VMLFxuXG4gICAgU1RBVEVfUE9TU0lCTEU6IFNUQVRFX1BPU1NJQkxFLFxuICAgIFNUQVRFX0JFR0FOOiBTVEFURV9CRUdBTixcbiAgICBTVEFURV9DSEFOR0VEOiBTVEFURV9DSEFOR0VELFxuICAgIFNUQVRFX0VOREVEOiBTVEFURV9FTkRFRCxcbiAgICBTVEFURV9SRUNPR05JWkVEOiBTVEFURV9SRUNPR05JWkVELFxuICAgIFNUQVRFX0NBTkNFTExFRDogU1RBVEVfQ0FOQ0VMTEVELFxuICAgIFNUQVRFX0ZBSUxFRDogU1RBVEVfRkFJTEVELFxuXG4gICAgRElSRUNUSU9OX05PTkU6IERJUkVDVElPTl9OT05FLFxuICAgIERJUkVDVElPTl9MRUZUOiBESVJFQ1RJT05fTEVGVCxcbiAgICBESVJFQ1RJT05fUklHSFQ6IERJUkVDVElPTl9SSUdIVCxcbiAgICBESVJFQ1RJT05fVVA6IERJUkVDVElPTl9VUCxcbiAgICBESVJFQ1RJT05fRE9XTjogRElSRUNUSU9OX0RPV04sXG4gICAgRElSRUNUSU9OX0hPUklaT05UQUw6IERJUkVDVElPTl9IT1JJWk9OVEFMLFxuICAgIERJUkVDVElPTl9WRVJUSUNBTDogRElSRUNUSU9OX1ZFUlRJQ0FMLFxuICAgIERJUkVDVElPTl9BTEw6IERJUkVDVElPTl9BTEwsXG5cbiAgICBNYW5hZ2VyOiBNYW5hZ2VyLFxuICAgIElucHV0OiBJbnB1dCxcbiAgICBUb3VjaEFjdGlvbjogVG91Y2hBY3Rpb24sXG5cbiAgICBUb3VjaElucHV0OiBUb3VjaElucHV0LFxuICAgIE1vdXNlSW5wdXQ6IE1vdXNlSW5wdXQsXG4gICAgUG9pbnRlckV2ZW50SW5wdXQ6IFBvaW50ZXJFdmVudElucHV0LFxuICAgIFRvdWNoTW91c2VJbnB1dDogVG91Y2hNb3VzZUlucHV0LFxuICAgIFNpbmdsZVRvdWNoSW5wdXQ6IFNpbmdsZVRvdWNoSW5wdXQsXG5cbiAgICBSZWNvZ25pemVyOiBSZWNvZ25pemVyLFxuICAgIEF0dHJSZWNvZ25pemVyOiBBdHRyUmVjb2duaXplcixcbiAgICBUYXA6IFRhcFJlY29nbml6ZXIsXG4gICAgUGFuOiBQYW5SZWNvZ25pemVyLFxuICAgIFN3aXBlOiBTd2lwZVJlY29nbml6ZXIsXG4gICAgUGluY2g6IFBpbmNoUmVjb2duaXplcixcbiAgICBSb3RhdGU6IFJvdGF0ZVJlY29nbml6ZXIsXG4gICAgUHJlc3M6IFByZXNzUmVjb2duaXplcixcblxuICAgIG9uOiBhZGRFdmVudExpc3RlbmVycyxcbiAgICBvZmY6IHJlbW92ZUV2ZW50TGlzdGVuZXJzLFxuICAgIGVhY2g6IGVhY2gsXG4gICAgbWVyZ2U6IG1lcmdlLFxuICAgIGV4dGVuZDogZXh0ZW5kLFxuICAgIGFzc2lnbjogYXNzaWduLFxuICAgIGluaGVyaXQ6IGluaGVyaXQsXG4gICAgYmluZEZuOiBiaW5kRm4sXG4gICAgcHJlZml4ZWQ6IHByZWZpeGVkXG59KTtcblxuLy8gdGhpcyBwcmV2ZW50cyBlcnJvcnMgd2hlbiBIYW1tZXIgaXMgbG9hZGVkIGluIHRoZSBwcmVzZW5jZSBvZiBhbiBBTURcbi8vICBzdHlsZSBsb2FkZXIgYnV0IGJ5IHNjcmlwdCB0YWcsIG5vdCBieSB0aGUgbG9hZGVyLlxudmFyIGZyZWVHbG9iYWwgPSAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiAodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZiA6IHt9KSk7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuZnJlZUdsb2JhbC5IYW1tZXIgPSBIYW1tZXI7XG5cbmlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICBkZWZpbmUoZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBIYW1tZXI7XG4gICAgfSk7XG59IGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgIT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IEhhbW1lcjtcbn0gZWxzZSB7XG4gICAgd2luZG93W2V4cG9ydE5hbWVdID0gSGFtbWVyO1xufVxuXG59KSh3aW5kb3csIGRvY3VtZW50LCAnSGFtbWVyJyk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/hammerjs/hammer.js\n");

/***/ }),

/***/ "./node_modules/mapbox-gl/dist/mapbox-gl.js":
/*!**************************************************!*\
  !*** ./node_modules/mapbox-gl/dist/mapbox-gl.js ***!
  \**************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("/* provided dependency */ var process = __webpack_require__(/*! process/browser.js */ \"./node_modules/process/browser.js\");\n/* Mapbox GL JS is Copyright © 2020 Mapbox and subject to the Mapbox Terms of Service ((https://www.mapbox.com/legal/tos/). */\n(function (global, factory) {\n true ? module.exports = factory() :\n0;\n})(this, (function () { 'use strict';\n\n/* eslint-disable */\n\nvar shared, worker, mapboxgl;\n// define gets called three times: one for each chunk. we rely on the order\n// they're imported to know which is which\nfunction define(_, chunk) {\nif (!shared) {\n    shared = chunk;\n} else if (!worker) {\n    worker = chunk;\n} else {\n    var workerBundleString = \"self.onerror = function() { console.error('An error occurred while parsing the WebWorker bundle. This is most likely due to improper transpilation by Babel; please see https://docs.mapbox.com/mapbox-gl-js/guides/install/#transpiling'); }; var sharedChunk = {}; (\" + shared + \")(sharedChunk); (\" + worker + \")(sharedChunk); self.onerror = null;\"\n\n    var sharedChunk = {};\n    shared(sharedChunk);\n    mapboxgl = chunk(sharedChunk);\n    if (typeof window !== 'undefined' && window && window.URL && window.URL.createObjectURL) {\n        mapboxgl.workerUrl = window.URL.createObjectURL(new Blob([workerBundleString], { type: 'text/javascript' }));\n    }\n}\n}\n\n\ndefine([\"exports\"],(function(t){\"use strict\";var e=\"undefined\"!=typeof self?self:{},r=n;function n(t,e,r,n){this.cx=3*t,this.bx=3*(r-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(n-e)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=n,this.p2x=r,this.p2y=n;}n.prototype.sampleCurveX=function(t){return ((this.ax*t+this.bx)*t+this.cx)*t},n.prototype.sampleCurveY=function(t){return ((this.ay*t+this.by)*t+this.cy)*t},n.prototype.sampleCurveDerivativeX=function(t){return (3*this.ax*t+2*this.bx)*t+this.cx},n.prototype.solveCurveX=function(t,e){var r,n,i,s,a;for(void 0===e&&(e=1e-6),i=t,a=0;a<8;a++){if(s=this.sampleCurveX(i)-t,Math.abs(s)<e)return i;var o=this.sampleCurveDerivativeX(i);if(Math.abs(o)<1e-6)break;i-=s/o;}if((i=t)<(r=0))return r;if(i>(n=1))return n;for(;r<n;){if(s=this.sampleCurveX(i),Math.abs(s-t)<e)return i;t>s?r=i:n=i,i=.5*(n-r)+r;}return i},n.prototype.solve=function(t,e){return this.sampleCurveY(this.solveCurveX(t,e))};var i=s;function s(t,e){this.x=t,this.y=e;}s.prototype={clone:function(){return new s(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},multByPoint:function(t){return this.clone()._multByPoint(t)},divByPoint:function(t){return this.clone()._divByPoint(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},rotateAround:function(t,e){return this.clone()._rotateAround(t,e)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var e=t.x-this.x,r=t.y-this.y;return e*e+r*r},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,e){return Math.atan2(this.x*e-this.y*t,this.x*t+this.y*e)},_matMult:function(t){var e=t[2]*this.x+t[3]*this.y;return this.x=t[0]*this.x+t[1]*this.y,this.y=e,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_multByPoint:function(t){return this.x*=t.x,this.y*=t.y,this},_divByPoint:function(t){return this.x/=t.x,this.y/=t.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var e=Math.cos(t),r=Math.sin(t),n=r*this.x+e*this.y;return this.x=e*this.x-r*this.y,this.y=n,this},_rotateAround:function(t,e){var r=Math.cos(t),n=Math.sin(t),i=e.y+n*(this.x-e.x)+r*(this.y-e.y);return this.x=e.x+r*(this.x-e.x)-n*(this.y-e.y),this.y=i,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},s.convert=function(t){return t instanceof s?t:Array.isArray(t)?new s(t[0],t[1]):t};const a=Math.PI/180,o=180/Math.PI;function l(t){return t*a}function u(t){return t*o}const c=[[0,0],[1,0],[1,1],[0,1]];function h(t){if(t<=0)return 0;if(t>=1)return 1;const e=t*t,r=e*t;return 4*(t<.5?r:3*(t-e)+r-.75)}function p(t,e,n,i){const s=new r(t,e,n,i);return function(t){return s.solve(t)}}const f=p(.25,.1,.25,1);function d(t,e,r){return Math.min(r,Math.max(e,t))}function y(t,e,r){return (r=d((r-t)/(e-t),0,1))*r*(3-2*r)}function m(t,e,r){const n=r-e,i=((t-e)%n+n)%n+e;return i===e?r:i}function g(t,e,r){if(!t.length)return r(null,[]);let n=t.length;const i=new Array(t.length);let s=null;t.forEach(((t,a)=>{e(t,((t,e)=>{t&&(s=t),i[a]=e,0==--n&&r(s,i);}));}));}function x(t){const e=[];for(const r in t)e.push(t[r]);return e}function v(t,...e){for(const r of e)for(const e in r)t[e]=r[e];return t}let b=1;function _(){return b++}function w(){return function t(e){return e?(e^Math.random()*(16>>e/4)).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,t)}()}function A(t){return t<=1?1:Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function S(t){return !!t&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(t)}function k(t,e){t.forEach((t=>{e[t]&&(e[t]=e[t].bind(e));}));}function I(t,e){return -1!==t.indexOf(e,t.length-e.length)}function M(t,e,r){const n={};for(const i in t)n[i]=e.call(r||this,t[i],i,t);return n}function z(t,e,r){const n={};for(const i in t)e.call(r||this,t[i],i,t)&&(n[i]=t[i]);return n}function T(t){return Array.isArray(t)?t.map(T):\"object\"==typeof t&&t?M(t,T):t}const B={};function E(t){B[t]||(\"undefined\"!=typeof console&&console.warn(t),B[t]=!0);}function C(t,e,r){return (r.y-t.y)*(e.x-t.x)>(e.y-t.y)*(r.x-t.x)}function P(t){let e=0;for(let r,n,i=0,s=t.length,a=s-1;i<s;a=i++)r=t[i],n=t[a],e+=(n.x-r.x)*(r.y+n.y);return e}function D(){return \"undefined\"!=typeof WorkerGlobalScope&&\"undefined\"!=typeof self&&self instanceof WorkerGlobalScope}function V(t){const e={};if(t.replace(/(?:^|(?:\\s*\\,\\s*))([^\\x00-\\x20\\(\\)<>@\\,;\\:\\\\\"\\/\\[\\]\\?\\=\\{\\}\\x7F]+)(?:\\=(?:([^\\x00-\\x20\\(\\)<>@\\,;\\:\\\\\"\\/\\[\\]\\?\\=\\{\\}\\x7F]+)|(?:\\\"((?:[^\"\\\\]|\\\\.)*)\\\")))?/g,((t,r,n,i)=>{const s=n||i;return e[r]=!s||s.toLowerCase(),\"\"})),e[\"max-age\"]){const t=parseInt(e[\"max-age\"],10);isNaN(t)?delete e[\"max-age\"]:e[\"max-age\"]=t;}return e}let F=null;function L(t){if(null==F){const e=t.navigator?t.navigator.userAgent:null;F=!!t.safari||!(!e||!(/\\b(iPad|iPhone|iPod)\\b/.test(e)||e.match(\"Safari\")&&!e.match(\"Chrome\")));}return F}function R(t){try{const r=e[t];return r.setItem(\"_mapbox_test_\",1),r.removeItem(\"_mapbox_test_\"),!0}catch(t){return !1}}function U(t,e){return [t[4*e],t[4*e+1],t[4*e+2],t[4*e+3]]}const j=e.performance;function $(t){const e=t?t.url.toString():void 0;return j.getEntriesByName(e)}var O=\"2.10.0\";let q,N,G,Z;const X={now:()=>void 0!==G?G:e.performance.now(),setNow(t){G=t;},restoreNow(){G=void 0;},frame(t){const r=e.requestAnimationFrame(t);return {cancel:()=>e.cancelAnimationFrame(r)}},getImageData(t,r=0){const{width:n,height:i}=t;Z||(Z=e.document.createElement(\"canvas\"));const s=Z.getContext(\"2d\");if(!s)throw new Error(\"failed to create canvas 2d context\");return (n>Z.width||i>Z.height)&&(Z.width=n,Z.height=i),s.clearRect(-r,-r,n+2*r,i+2*r),s.drawImage(t,0,0,n,i),s.getImageData(-r,-r,n+2*r,i+2*r)},resolveURL:t=>(q||(q=e.document.createElement(\"a\")),q.href=t,q.href),get devicePixelRatio(){return e.devicePixelRatio},get prefersReducedMotion(){return !!e.matchMedia&&(null==N&&(N=e.matchMedia(\"(prefers-reduced-motion: reduce)\")),N.matches)}};let K;const H={API_URL:\"https://api.mapbox.com\",get API_URL_REGEX(){if(null==K){const t=/^((https?:)?\\/\\/)?([^\\/]+\\.)?mapbox\\.c(n|om)(\\/|\\?|$)/i;try{K=null!=process.env.API_URL_REGEX?new RegExp(process.env.API_URL_REGEX):t;}catch(e){K=t;}}return K},get EVENTS_URL(){return this.API_URL?0===this.API_URL.indexOf(\"https://api.mapbox.cn\")?\"https://events.mapbox.cn/events/v2\":0===this.API_URL.indexOf(\"https://api.mapbox.com\")?\"https://events.mapbox.com/events/v2\":null:null},SESSION_PATH:\"/map-sessions/v1\",FEEDBACK_URL:\"https://apps.mapbox.com/feedback\",TILE_URL_VERSION:\"v4\",RASTER_URL_PREFIX:\"raster/v1\",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},Y={supported:!1,testSupport:function(t){!Q&&J&&(tt?et(t):W=t);}};let W,J,Q=!1,tt=!1;function et(t){const e=t.createTexture();t.bindTexture(t.TEXTURE_2D,e);try{if(t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,J),t.isContextLost())return;Y.supported=!0;}catch(t){}t.deleteTexture(e),Q=!0;}e.document&&(J=e.document.createElement(\"img\"),J.onload=function(){W&&et(W),W=null,tt=!0;},J.onerror=function(){Q=!0,W=null;},J.src=\"data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=\");const rt=\"01\",nt=\"NO_ACCESS_TOKEN\";function it(t){return 0===t.indexOf(\"mapbox:\")}function st(t){return H.API_URL_REGEX.test(t)}const at=/^(\\w+):\\/\\/([^/?]*)(\\/[^?]+)?\\??(.+)?/;function ot(t){const e=t.match(at);if(!e)throw new Error(\"Unable to parse URL object\");return {protocol:e[1],authority:e[2],path:e[3]||\"/\",params:e[4]?e[4].split(\"&\"):[]}}function lt(t){const e=t.params.length?`?${t.params.join(\"&\")}`:\"\";return `${t.protocol}://${t.authority}${t.path}${e}`}function ut(t){if(!t)return null;const r=t.split(\".\");if(!r||3!==r.length)return null;try{return JSON.parse(decodeURIComponent(e.atob(r[1]).split(\"\").map((t=>\"%\"+(\"00\"+t.charCodeAt(0).toString(16)).slice(-2))).join(\"\")))}catch(t){return null}}class ct{constructor(t){this.type=t,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null;}getStorageKey(t){const r=ut(H.ACCESS_TOKEN);let n=\"\";return n=r&&r.u?e.btoa(encodeURIComponent(r.u).replace(/%([0-9A-F]{2})/g,((t,e)=>String.fromCharCode(Number(\"0x\"+e))))):H.ACCESS_TOKEN||\"\",t?`mapbox.eventData.${t}:${n}`:`mapbox.eventData:${n}`}fetchEventData(){const t=R(\"localStorage\"),r=this.getStorageKey(),n=this.getStorageKey(\"uuid\");if(t)try{const t=e.localStorage.getItem(r);t&&(this.eventData=JSON.parse(t));const i=e.localStorage.getItem(n);i&&(this.anonId=i);}catch(t){E(\"Unable to read from LocalStorage\");}}saveEventData(){const t=R(\"localStorage\"),r=this.getStorageKey(),n=this.getStorageKey(\"uuid\");if(t)try{e.localStorage.setItem(n,this.anonId),Object.keys(this.eventData).length>=1&&e.localStorage.setItem(r,JSON.stringify(this.eventData));}catch(t){E(\"Unable to write to LocalStorage\");}}processRequests(t){}postEvent(t,e,r,n){if(!H.EVENTS_URL)return;const i=ot(H.EVENTS_URL);i.params.push(`access_token=${n||H.ACCESS_TOKEN||\"\"}`);const s={event:this.type,created:new Date(t).toISOString(),sdkIdentifier:\"mapbox-gl-js\",sdkVersion:O,skuId:rt,userId:this.anonId},a=e?v(s,e):s,o={url:lt(i),headers:{\"Content-Type\":\"text/plain\"},body:JSON.stringify([a])};this.pendingRequest=Pt(o,(t=>{this.pendingRequest=null,r(t),this.saveEventData(),this.processRequests(n);}));}queueRequest(t,e){this.queue.push(t),this.processRequests(e);}}const ht=new class extends ct{constructor(t){super(\"appUserTurnstile\"),this._customAccessToken=t;}postTurnstileEvent(t,e){H.EVENTS_URL&&H.ACCESS_TOKEN&&Array.isArray(t)&&t.some((t=>it(t)||st(t)))&&this.queueRequest(Date.now(),e);}processRequests(t){if(this.pendingRequest||0===this.queue.length)return;this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();const e=ut(H.ACCESS_TOKEN),r=e?e.u:H.ACCESS_TOKEN;let n=r!==this.eventData.tokenU;S(this.anonId)||(this.anonId=w(),n=!0);const i=this.queue.shift();if(this.eventData.lastSuccess){const t=new Date(this.eventData.lastSuccess),e=new Date(i),r=(i-this.eventData.lastSuccess)/864e5;n=n||r>=1||r<-1||t.getDate()!==e.getDate();}else n=!0;n?this.postEvent(i,{\"enabled.telemetry\":!1},(t=>{t||(this.eventData.lastSuccess=i,this.eventData.tokenU=r);}),t):this.processRequests();}},pt=ht.postTurnstileEvent.bind(ht),ft=new class extends ct{constructor(){super(\"map.load\"),this.success={},this.skuToken=\"\";}postMapLoadEvent(t,e,r,n){this.skuToken=e,this.errorCb=n,H.EVENTS_URL&&(r||H.ACCESS_TOKEN?this.queueRequest({id:t,timestamp:Date.now()},r):this.errorCb(new Error(nt)));}processRequests(t){if(this.pendingRequest||0===this.queue.length)return;const{id:e,timestamp:r}=this.queue.shift();e&&this.success[e]||(this.anonId||this.fetchEventData(),S(this.anonId)||(this.anonId=w()),this.postEvent(r,{skuToken:this.skuToken},(t=>{t?this.errorCb(t):e&&(this.success[e]=!0);}),t));}},dt=ft.postMapLoadEvent.bind(ft),yt=new class extends ct{constructor(){super(\"map.auth\"),this.success={},this.skuToken=\"\";}getSession(t,e,r,n){if(!H.API_URL||!H.SESSION_PATH)return;const i=ot(H.API_URL+H.SESSION_PATH);i.params.push(`sku=${e||\"\"}`),i.params.push(`access_token=${n||H.ACCESS_TOKEN||\"\"}`);const s={url:lt(i),headers:{\"Content-Type\":\"text/plain\"}};this.pendingRequest=Dt(s,(t=>{this.pendingRequest=null,r(t),this.saveEventData(),this.processRequests(n);}));}getSessionAPI(t,e,r,n){this.skuToken=e,this.errorCb=n,H.SESSION_PATH&&H.API_URL&&(r||H.ACCESS_TOKEN?this.queueRequest({id:t,timestamp:Date.now()},r):this.errorCb(new Error(nt)));}processRequests(t){if(this.pendingRequest||0===this.queue.length)return;const{id:e,timestamp:r}=this.queue.shift();e&&this.success[e]||this.getSession(r,this.skuToken,(t=>{t?this.errorCb(t):e&&(this.success[e]=!0);}),t);}},mt=yt.getSessionAPI.bind(yt),gt=new Set;let xt,vt=500,bt=50,_t={};function wt(t){const e=kt(t);let r,n;e&&e.forEach((t=>{const e=t.split(\"=\");\"language\"===e[0]?r=e[1]:\"worldview\"===e[0]&&(n=e[1]);}));let i=\"mapbox-tiles\";return r&&(i+=`-${r}`),n&&(i+=`-${n}`),i}function At(){try{return e.caches}catch(t){}}function St(t){const e=At();e&&!_t[t]&&(_t[t]=e.open(t));}function kt(t){const e=t.indexOf(\"?\");return e>0?t.slice(e+1).split(\"&\"):[]}function It(t){const e=t.indexOf(\"?\");if(e<0)return t;const r=kt(t).filter((t=>{const e=t.split(\"=\");return \"language\"===e[0]||\"worldview\"===e[0]}));return r.length?`${t.slice(0,e)}?${r.join(\"&\")}`:t.slice(0,e)}let Mt=1/0;const zt={Unknown:\"Unknown\",Style:\"Style\",Source:\"Source\",Tile:\"Tile\",Glyphs:\"Glyphs\",SpriteImage:\"SpriteImage\",SpriteJSON:\"SpriteJSON\",Image:\"Image\"};\"function\"==typeof Object.freeze&&Object.freeze(zt);class Tt extends Error{constructor(t,e,r){401===e&&st(r)&&(t+=\": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes\"),super(t),this.status=e,this.url=r;}toString(){return `${this.name}: ${this.message} (${this.status}): ${this.url}`}}const Bt=D()?()=>self.worker&&self.worker.referrer:()=>(\"blob:\"===e.location.protocol?e.parent:e).location.href;const Et=function(t,r){if(!(/^file:/.test(n=t.url)||/^file:/.test(Bt())&&!/^\\w+:/.test(n))){if(e.fetch&&e.Request&&e.AbortController&&e.Request.prototype.hasOwnProperty(\"signal\"))return function(t,r){const n=new e.AbortController,i=new e.Request(t.url,{method:t.method||\"GET\",body:t.body,credentials:t.credentials,headers:t.headers,referrer:Bt(),signal:n.signal});let s=!1,a=!1;const o=(l=i.url).indexOf(\"sku=\")>0&&st(l);var l;\"json\"===t.type&&i.headers.set(\"Accept\",\"application/json\");const u=(n,s,l)=>{if(a)return;if(n&&\"SecurityError\"!==n.message&&E(n),s&&l)return c(s);const u=Date.now();e.fetch(i).then((e=>{if(e.ok){const t=o?e.clone():null;return c(e,t,u)}return r(new Tt(e.statusText,e.status,t.url))})).catch((t=>{20!==t.code&&r(new Error(t.message));}));},c=(n,o,l)=>{(\"arrayBuffer\"===t.type?n.arrayBuffer():\"json\"===t.type?n.json():n.text()).then((t=>{a||(o&&l&&function(t,r,n){const i=wt(t.url);if(St(i),!_t[i])return;const s={status:r.status,statusText:r.statusText,headers:new e.Headers};r.headers.forEach(((t,e)=>s.headers.set(e,t)));const a=V(r.headers.get(\"Cache-Control\")||\"\");if(a[\"no-store\"])return;a[\"max-age\"]&&s.headers.set(\"Expires\",new Date(n+1e3*a[\"max-age\"]).toUTCString());const o=s.headers.get(\"Expires\");o&&(new Date(o).getTime()-n<42e4||function(t,e){if(void 0===xt)try{new Response(new ReadableStream),xt=!0;}catch(t){xt=!1;}xt?e(t.body):t.blob().then(e);}(r,(r=>{const n=new e.Response(r,s);St(i),_t[i]&&_t[i].then((e=>e.put(It(t.url),n))).catch((t=>E(t.message)));})));}(i,o,l),s=!0,r(null,t,n.headers.get(\"Cache-Control\"),n.headers.get(\"Expires\")));})).catch((t=>{a||r(new Error(t.message));}));};return o?function(t,e){const r=wt(t.url);if(St(r),!_t[r])return e(null);const n=It(t.url);_t[r].then((t=>{t.match(n).then((r=>{const i=function(t){if(!t)return !1;const e=new Date(t.headers.get(\"Expires\")||0),r=V(t.headers.get(\"Cache-Control\")||\"\");return e>Date.now()&&!r[\"no-cache\"]}(r);t.delete(n),i&&t.put(n,r.clone()),e(null,r,i);})).catch(e);})).catch(e);}(i,u):u(null,null),{cancel:()=>{a=!0,s||n.abort();}}}(t,r);if(D()&&self.worker&&self.worker.actor)return self.worker.actor.send(\"getResource\",t,r,void 0,!0)}var n;return function(t,r){const n=new e.XMLHttpRequest;n.open(t.method||\"GET\",t.url,!0),\"arrayBuffer\"===t.type&&(n.responseType=\"arraybuffer\");for(const e in t.headers)n.setRequestHeader(e,t.headers[e]);return \"json\"===t.type&&(n.responseType=\"text\",n.setRequestHeader(\"Accept\",\"application/json\")),n.withCredentials=\"include\"===t.credentials,n.onerror=()=>{r(new Error(n.statusText));},n.onload=()=>{if((n.status>=200&&n.status<300||0===n.status)&&null!==n.response){let e=n.response;if(\"json\"===t.type)try{e=JSON.parse(n.response);}catch(t){return r(t)}r(null,e,n.getResponseHeader(\"Cache-Control\"),n.getResponseHeader(\"Expires\"));}else r(new Tt(n.statusText,n.status,t.url));},n.send(t.body),{cancel:()=>n.abort()}}(t,r)},Ct=function(t,e){return Et(v(t,{type:\"arrayBuffer\"}),e)},Pt=function(t,e){return Et(v(t,{method:\"POST\"}),e)},Dt=function(t,e){return Et(v(t,{method:\"GET\"}),e)};function Vt(t){const r=e.document.createElement(\"a\");return r.href=t,r.protocol===e.document.location.protocol&&r.host===e.document.location.host}const Ft=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=\";let Lt,Rt;Lt=[],Rt=0;const Ut=function(t,r){if(Y.supported&&(t.headers||(t.headers={}),t.headers.accept=\"image/webp,*/*\"),Rt>=H.MAX_PARALLEL_IMAGE_REQUESTS){const e={requestParameters:t,callback:r,cancelled:!1,cancel(){this.cancelled=!0;}};return Lt.push(e),e}Rt++;let n=!1;const i=()=>{if(!n)for(n=!0,Rt--;Lt.length&&Rt<H.MAX_PARALLEL_IMAGE_REQUESTS;){const t=Lt.shift(),{requestParameters:e,callback:r,cancelled:n}=t;n||(t.cancel=Ut(e,r).cancel);}},s=Ct(t,((t,n,s,a)=>{i(),t?r(t):n&&(e.createImageBitmap?function(t,r){const n=new e.Blob([new Uint8Array(t)],{type:\"image/png\"});e.createImageBitmap(n).then((t=>{r(null,t);})).catch((t=>{r(new Error(`Could not load image because of ${t.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`));}));}(n,((t,e)=>r(t,e,s,a))):function(t,r){const n=new e.Image,i=e.URL;n.onload=()=>{r(null,n),i.revokeObjectURL(n.src),n.onload=null,e.requestAnimationFrame((()=>{n.src=Ft;}));},n.onerror=()=>r(new Error(\"Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.\"));const s=new e.Blob([new Uint8Array(t)],{type:\"image/png\"});n.src=t.byteLength?i.createObjectURL(s):Ft;}(n,((t,e)=>r(t,e,s,a))));}));return {cancel:()=>{s.cancel(),i();}}};function jt(t,e,r){r[t]&&-1!==r[t].indexOf(e)||(r[t]=r[t]||[],r[t].push(e));}function $t(t,e,r){if(r&&r[t]){const n=r[t].indexOf(e);-1!==n&&r[t].splice(n,1);}}class Ot{constructor(t,e={}){v(this,e),this.type=t;}}class qt extends Ot{constructor(t,e={}){super(\"error\",v({error:t},e));}}class Nt{on(t,e){return this._listeners=this._listeners||{},jt(t,e,this._listeners),this}off(t,e){return $t(t,e,this._listeners),$t(t,e,this._oneTimeListeners),this}once(t,e){return e?(this._oneTimeListeners=this._oneTimeListeners||{},jt(t,e,this._oneTimeListeners),this):new Promise((e=>this.once(t,e)))}fire(t,e){\"string\"==typeof t&&(t=new Ot(t,e||{}));const r=t.type;if(this.listens(r)){t.target=this;const e=this._listeners&&this._listeners[r]?this._listeners[r].slice():[];for(const r of e)r.call(this,t);const n=this._oneTimeListeners&&this._oneTimeListeners[r]?this._oneTimeListeners[r].slice():[];for(const e of n)$t(r,e,this._oneTimeListeners),e.call(this,t);const i=this._eventedParent;i&&(v(t,\"function\"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),i.fire(t));}else t instanceof qt&&console.error(t.error);return this}listens(t){return !!(this._listeners&&this._listeners[t]&&this._listeners[t].length>0||this._oneTimeListeners&&this._oneTimeListeners[t]&&this._oneTimeListeners[t].length>0||this._eventedParent&&this._eventedParent.listens(t))}setEventedParent(t,e){return this._eventedParent=t,this._eventedParentData=e,this}}var Gt=JSON.parse('{\"$version\":8,\"$root\":{\"version\":{\"required\":true,\"type\":\"enum\",\"values\":[8]},\"name\":{\"type\":\"string\"},\"metadata\":{\"type\":\"*\"},\"center\":{\"type\":\"array\",\"value\":\"number\"},\"zoom\":{\"type\":\"number\"},\"bearing\":{\"type\":\"number\",\"default\":0,\"period\":360,\"units\":\"degrees\"},\"pitch\":{\"type\":\"number\",\"default\":0,\"units\":\"degrees\"},\"light\":{\"type\":\"light\"},\"terrain\":{\"type\":\"terrain\"},\"fog\":{\"type\":\"fog\"},\"sources\":{\"required\":true,\"type\":\"sources\"},\"sprite\":{\"type\":\"string\"},\"glyphs\":{\"type\":\"string\"},\"transition\":{\"type\":\"transition\"},\"projection\":{\"type\":\"projection\"},\"layers\":{\"required\":true,\"type\":\"array\",\"value\":\"layer\"}},\"sources\":{\"*\":{\"type\":\"source\"}},\"source\":[\"source_vector\",\"source_raster\",\"source_raster_dem\",\"source_geojson\",\"source_video\",\"source_image\"],\"source_vector\":{\"type\":{\"required\":true,\"type\":\"enum\",\"values\":{\"vector\":{}}},\"url\":{\"type\":\"string\"},\"tiles\":{\"type\":\"array\",\"value\":\"string\"},\"bounds\":{\"type\":\"array\",\"value\":\"number\",\"length\":4,\"default\":[-180,-85.051129,180,85.051129]},\"scheme\":{\"type\":\"enum\",\"values\":{\"xyz\":{},\"tms\":{}},\"default\":\"xyz\"},\"minzoom\":{\"type\":\"number\",\"default\":0},\"maxzoom\":{\"type\":\"number\",\"default\":22},\"attribution\":{\"type\":\"string\"},\"promoteId\":{\"type\":\"promoteId\"},\"volatile\":{\"type\":\"boolean\",\"default\":false},\"*\":{\"type\":\"*\"}},\"source_raster\":{\"type\":{\"required\":true,\"type\":\"enum\",\"values\":{\"raster\":{}}},\"url\":{\"type\":\"string\"},\"tiles\":{\"type\":\"array\",\"value\":\"string\"},\"bounds\":{\"type\":\"array\",\"value\":\"number\",\"length\":4,\"default\":[-180,-85.051129,180,85.051129]},\"minzoom\":{\"type\":\"number\",\"default\":0},\"maxzoom\":{\"type\":\"number\",\"default\":22},\"tileSize\":{\"type\":\"number\",\"default\":512,\"units\":\"pixels\"},\"scheme\":{\"type\":\"enum\",\"values\":{\"xyz\":{},\"tms\":{}},\"default\":\"xyz\"},\"attribution\":{\"type\":\"string\"},\"volatile\":{\"type\":\"boolean\",\"default\":false},\"*\":{\"type\":\"*\"}},\"source_raster_dem\":{\"type\":{\"required\":true,\"type\":\"enum\",\"values\":{\"raster-dem\":{}}},\"url\":{\"type\":\"string\"},\"tiles\":{\"type\":\"array\",\"value\":\"string\"},\"bounds\":{\"type\":\"array\",\"value\":\"number\",\"length\":4,\"default\":[-180,-85.051129,180,85.051129]},\"minzoom\":{\"type\":\"number\",\"default\":0},\"maxzoom\":{\"type\":\"number\",\"default\":22},\"tileSize\":{\"type\":\"number\",\"default\":512,\"units\":\"pixels\"},\"attribution\":{\"type\":\"string\"},\"encoding\":{\"type\":\"enum\",\"values\":{\"terrarium\":{},\"mapbox\":{}},\"default\":\"mapbox\"},\"volatile\":{\"type\":\"boolean\",\"default\":false},\"*\":{\"type\":\"*\"}},\"source_geojson\":{\"type\":{\"required\":true,\"type\":\"enum\",\"values\":{\"geojson\":{}}},\"data\":{\"type\":\"*\"},\"maxzoom\":{\"type\":\"number\",\"default\":18},\"attribution\":{\"type\":\"string\"},\"buffer\":{\"type\":\"number\",\"default\":128,\"maximum\":512,\"minimum\":0},\"filter\":{\"type\":\"*\"},\"tolerance\":{\"type\":\"number\",\"default\":0.375},\"cluster\":{\"type\":\"boolean\",\"default\":false},\"clusterRadius\":{\"type\":\"number\",\"default\":50,\"minimum\":0},\"clusterMaxZoom\":{\"type\":\"number\"},\"clusterMinPoints\":{\"type\":\"number\"},\"clusterProperties\":{\"type\":\"*\"},\"lineMetrics\":{\"type\":\"boolean\",\"default\":false},\"generateId\":{\"type\":\"boolean\",\"default\":false},\"promoteId\":{\"type\":\"promoteId\"}},\"source_video\":{\"type\":{\"required\":true,\"type\":\"enum\",\"values\":{\"video\":{}}},\"urls\":{\"required\":true,\"type\":\"array\",\"value\":\"string\"},\"coordinates\":{\"required\":true,\"type\":\"array\",\"length\":4,\"value\":{\"type\":\"array\",\"length\":2,\"value\":\"number\"}}},\"source_image\":{\"type\":{\"required\":true,\"type\":\"enum\",\"values\":{\"image\":{}}},\"url\":{\"required\":true,\"type\":\"string\"},\"coordinates\":{\"required\":true,\"type\":\"array\",\"length\":4,\"value\":{\"type\":\"array\",\"length\":2,\"value\":\"number\"}}},\"layer\":{\"id\":{\"type\":\"string\",\"required\":true},\"type\":{\"type\":\"enum\",\"values\":{\"fill\":{},\"line\":{},\"symbol\":{},\"circle\":{},\"heatmap\":{},\"fill-extrusion\":{},\"raster\":{},\"hillshade\":{},\"background\":{},\"sky\":{}},\"required\":true},\"metadata\":{\"type\":\"*\"},\"source\":{\"type\":\"string\"},\"source-layer\":{\"type\":\"string\"},\"minzoom\":{\"type\":\"number\",\"minimum\":0,\"maximum\":24},\"maxzoom\":{\"type\":\"number\",\"minimum\":0,\"maximum\":24},\"filter\":{\"type\":\"filter\"},\"layout\":{\"type\":\"layout\"},\"paint\":{\"type\":\"paint\"}},\"layout\":[\"layout_fill\",\"layout_line\",\"layout_circle\",\"layout_heatmap\",\"layout_fill-extrusion\",\"layout_symbol\",\"layout_raster\",\"layout_hillshade\",\"layout_background\",\"layout_sky\"],\"layout_background\":{\"visibility\":{\"type\":\"enum\",\"values\":{\"visible\":{},\"none\":{}},\"default\":\"visible\",\"property-type\":\"constant\"}},\"layout_sky\":{\"visibility\":{\"type\":\"enum\",\"values\":{\"visible\":{},\"none\":{}},\"default\":\"visible\",\"property-type\":\"constant\"}},\"layout_fill\":{\"fill-sort-key\":{\"type\":\"number\",\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"visibility\":{\"type\":\"enum\",\"values\":{\"visible\":{},\"none\":{}},\"default\":\"visible\",\"property-type\":\"constant\"}},\"layout_circle\":{\"circle-sort-key\":{\"type\":\"number\",\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"visibility\":{\"type\":\"enum\",\"values\":{\"visible\":{},\"none\":{}},\"default\":\"visible\",\"property-type\":\"constant\"}},\"layout_heatmap\":{\"visibility\":{\"type\":\"enum\",\"values\":{\"visible\":{},\"none\":{}},\"default\":\"visible\",\"property-type\":\"constant\"}},\"layout_fill-extrusion\":{\"visibility\":{\"type\":\"enum\",\"values\":{\"visible\":{},\"none\":{}},\"default\":\"visible\",\"property-type\":\"constant\"},\"fill-extrusion-edge-radius\":{\"type\":\"number\",\"private\":true,\"default\":0,\"minimum\":0,\"maximum\":1,\"property-type\":\"constant\"}},\"layout_line\":{\"line-cap\":{\"type\":\"enum\",\"values\":{\"butt\":{},\"round\":{},\"square\":{}},\"default\":\"butt\",\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"line-join\":{\"type\":\"enum\",\"values\":{\"bevel\":{},\"round\":{},\"miter\":{}},\"default\":\"miter\",\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"line-miter-limit\":{\"type\":\"number\",\"default\":2,\"requires\":[{\"line-join\":\"miter\"}],\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"line-round-limit\":{\"type\":\"number\",\"default\":1.05,\"requires\":[{\"line-join\":\"round\"}],\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"line-sort-key\":{\"type\":\"number\",\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"visibility\":{\"type\":\"enum\",\"values\":{\"visible\":{},\"none\":{}},\"default\":\"visible\",\"property-type\":\"constant\"}},\"layout_symbol\":{\"symbol-placement\":{\"type\":\"enum\",\"values\":{\"point\":{},\"line\":{},\"line-center\":{}},\"default\":\"point\",\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"symbol-spacing\":{\"type\":\"number\",\"default\":250,\"minimum\":1,\"units\":\"pixels\",\"requires\":[{\"symbol-placement\":\"line\"}],\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"symbol-avoid-edges\":{\"type\":\"boolean\",\"default\":false,\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"symbol-sort-key\":{\"type\":\"number\",\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"symbol-z-order\":{\"type\":\"enum\",\"values\":{\"auto\":{},\"viewport-y\":{},\"source\":{}},\"default\":\"auto\",\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"icon-allow-overlap\":{\"type\":\"boolean\",\"default\":false,\"requires\":[\"icon-image\"],\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"icon-ignore-placement\":{\"type\":\"boolean\",\"default\":false,\"requires\":[\"icon-image\"],\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"icon-optional\":{\"type\":\"boolean\",\"default\":false,\"requires\":[\"icon-image\",\"text-field\"],\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"icon-rotation-alignment\":{\"type\":\"enum\",\"values\":{\"map\":{},\"viewport\":{},\"auto\":{}},\"default\":\"auto\",\"requires\":[\"icon-image\"],\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"icon-size\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"units\":\"factor of the original icon size\",\"requires\":[\"icon-image\"],\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"icon-text-fit\":{\"type\":\"enum\",\"values\":{\"none\":{},\"width\":{},\"height\":{},\"both\":{}},\"default\":\"none\",\"requires\":[\"icon-image\",\"text-field\"],\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"icon-text-fit-padding\":{\"type\":\"array\",\"value\":\"number\",\"length\":4,\"default\":[0,0,0,0],\"units\":\"pixels\",\"requires\":[\"icon-image\",\"text-field\",{\"icon-text-fit\":[\"both\",\"width\",\"height\"]}],\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"icon-image\":{\"type\":\"resolvedImage\",\"tokens\":true,\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"icon-rotate\":{\"type\":\"number\",\"default\":0,\"period\":360,\"units\":\"degrees\",\"requires\":[\"icon-image\"],\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"icon-padding\":{\"type\":\"number\",\"default\":2,\"minimum\":0,\"units\":\"pixels\",\"requires\":[\"icon-image\"],\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"icon-keep-upright\":{\"type\":\"boolean\",\"default\":false,\"requires\":[\"icon-image\",{\"icon-rotation-alignment\":\"map\"},{\"symbol-placement\":[\"line\",\"line-center\"]}],\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"icon-offset\":{\"type\":\"array\",\"value\":\"number\",\"length\":2,\"default\":[0,0],\"requires\":[\"icon-image\"],\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"icon-anchor\":{\"type\":\"enum\",\"values\":{\"center\":{},\"left\":{},\"right\":{},\"top\":{},\"bottom\":{},\"top-left\":{},\"top-right\":{},\"bottom-left\":{},\"bottom-right\":{}},\"default\":\"center\",\"requires\":[\"icon-image\"],\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"icon-pitch-alignment\":{\"type\":\"enum\",\"values\":{\"map\":{},\"viewport\":{},\"auto\":{}},\"default\":\"auto\",\"requires\":[\"icon-image\"],\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"text-pitch-alignment\":{\"type\":\"enum\",\"values\":{\"map\":{},\"viewport\":{},\"auto\":{}},\"default\":\"auto\",\"requires\":[\"text-field\"],\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"text-rotation-alignment\":{\"type\":\"enum\",\"values\":{\"map\":{},\"viewport\":{},\"auto\":{}},\"default\":\"auto\",\"requires\":[\"text-field\"],\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"text-field\":{\"type\":\"formatted\",\"default\":\"\",\"tokens\":true,\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"text-font\":{\"type\":\"array\",\"value\":\"string\",\"default\":[\"Open Sans Regular\",\"Arial Unicode MS Regular\"],\"requires\":[\"text-field\"],\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"text-size\":{\"type\":\"number\",\"default\":16,\"minimum\":0,\"units\":\"pixels\",\"requires\":[\"text-field\"],\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"text-max-width\":{\"type\":\"number\",\"default\":10,\"minimum\":0,\"units\":\"ems\",\"requires\":[\"text-field\",{\"symbol-placement\":[\"point\"]}],\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"text-line-height\":{\"type\":\"number\",\"default\":1.2,\"units\":\"ems\",\"requires\":[\"text-field\"],\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"text-letter-spacing\":{\"type\":\"number\",\"default\":0,\"units\":\"ems\",\"requires\":[\"text-field\"],\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"text-justify\":{\"type\":\"enum\",\"values\":{\"auto\":{},\"left\":{},\"center\":{},\"right\":{}},\"default\":\"center\",\"requires\":[\"text-field\"],\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"text-radial-offset\":{\"type\":\"number\",\"units\":\"ems\",\"default\":0,\"requires\":[\"text-field\"],\"property-type\":\"data-driven\",\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\"]}},\"text-variable-anchor\":{\"type\":\"array\",\"value\":\"enum\",\"values\":{\"center\":{},\"left\":{},\"right\":{},\"top\":{},\"bottom\":{},\"top-left\":{},\"top-right\":{},\"bottom-left\":{},\"bottom-right\":{}},\"requires\":[\"text-field\",{\"symbol-placement\":[\"point\"]}],\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"text-anchor\":{\"type\":\"enum\",\"values\":{\"center\":{},\"left\":{},\"right\":{},\"top\":{},\"bottom\":{},\"top-left\":{},\"top-right\":{},\"bottom-left\":{},\"bottom-right\":{}},\"default\":\"center\",\"requires\":[\"text-field\",{\"!\":\"text-variable-anchor\"}],\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"text-max-angle\":{\"type\":\"number\",\"default\":45,\"units\":\"degrees\",\"requires\":[\"text-field\",{\"symbol-placement\":[\"line\",\"line-center\"]}],\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"text-writing-mode\":{\"type\":\"array\",\"value\":\"enum\",\"values\":{\"horizontal\":{},\"vertical\":{}},\"requires\":[\"text-field\"],\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"text-rotate\":{\"type\":\"number\",\"default\":0,\"period\":360,\"units\":\"degrees\",\"requires\":[\"text-field\"],\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"text-padding\":{\"type\":\"number\",\"default\":2,\"minimum\":0,\"units\":\"pixels\",\"requires\":[\"text-field\"],\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"text-keep-upright\":{\"type\":\"boolean\",\"default\":true,\"requires\":[\"text-field\",{\"text-rotation-alignment\":\"map\"},{\"symbol-placement\":[\"line\",\"line-center\"]}],\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"text-transform\":{\"type\":\"enum\",\"values\":{\"none\":{},\"uppercase\":{},\"lowercase\":{}},\"default\":\"none\",\"requires\":[\"text-field\"],\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"text-offset\":{\"type\":\"array\",\"value\":\"number\",\"units\":\"ems\",\"length\":2,\"default\":[0,0],\"requires\":[\"text-field\",{\"!\":\"text-radial-offset\"}],\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"data-driven\"},\"text-allow-overlap\":{\"type\":\"boolean\",\"default\":false,\"requires\":[\"text-field\"],\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"text-ignore-placement\":{\"type\":\"boolean\",\"default\":false,\"requires\":[\"text-field\"],\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"text-optional\":{\"type\":\"boolean\",\"default\":false,\"requires\":[\"text-field\",\"icon-image\"],\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"visibility\":{\"type\":\"enum\",\"values\":{\"visible\":{},\"none\":{}},\"default\":\"visible\",\"property-type\":\"constant\"}},\"layout_raster\":{\"visibility\":{\"type\":\"enum\",\"values\":{\"visible\":{},\"none\":{}},\"default\":\"visible\",\"property-type\":\"constant\"}},\"layout_hillshade\":{\"visibility\":{\"type\":\"enum\",\"values\":{\"visible\":{},\"none\":{}},\"default\":\"visible\",\"property-type\":\"constant\"}},\"filter\":{\"type\":\"array\",\"value\":\"*\"},\"filter_symbol\":{\"type\":\"boolean\",\"default\":false,\"transition\":false,\"property-type\":\"data-driven\",\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\",\"feature\",\"pitch\",\"distance-from-center\"]}},\"filter_fill\":{\"type\":\"boolean\",\"default\":false,\"transition\":false,\"property-type\":\"data-driven\",\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\",\"feature\"]}},\"filter_line\":{\"type\":\"boolean\",\"default\":false,\"transition\":false,\"property-type\":\"data-driven\",\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\",\"feature\"]}},\"filter_circle\":{\"type\":\"boolean\",\"default\":false,\"transition\":false,\"property-type\":\"data-driven\",\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\",\"feature\"]}},\"filter_fill-extrusion\":{\"type\":\"boolean\",\"default\":false,\"transition\":false,\"property-type\":\"data-driven\",\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\",\"feature\"]}},\"filter_heatmap\":{\"type\":\"boolean\",\"default\":false,\"transition\":false,\"property-type\":\"data-driven\",\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\",\"feature\"]}},\"filter_operator\":{\"type\":\"enum\",\"values\":{\"==\":{},\"!=\":{},\">\":{},\">=\":{},\"<\":{},\"<=\":{},\"in\":{},\"!in\":{},\"all\":{},\"any\":{},\"none\":{},\"has\":{},\"!has\":{},\"within\":{}}},\"geometry_type\":{\"type\":\"enum\",\"values\":{\"Point\":{},\"LineString\":{},\"Polygon\":{}}},\"function\":{\"expression\":{\"type\":\"expression\"},\"stops\":{\"type\":\"array\",\"value\":\"function_stop\"},\"base\":{\"type\":\"number\",\"default\":1,\"minimum\":0},\"property\":{\"type\":\"string\",\"default\":\"$zoom\"},\"type\":{\"type\":\"enum\",\"values\":{\"identity\":{},\"exponential\":{},\"interval\":{},\"categorical\":{}},\"default\":\"exponential\"},\"colorSpace\":{\"type\":\"enum\",\"values\":{\"rgb\":{},\"lab\":{},\"hcl\":{}},\"default\":\"rgb\"},\"default\":{\"type\":\"*\",\"required\":false}},\"function_stop\":{\"type\":\"array\",\"minimum\":0,\"maximum\":24,\"value\":[\"number\",\"color\"],\"length\":2},\"expression\":{\"type\":\"array\",\"value\":\"*\",\"minimum\":1},\"fog\":{\"range\":{\"type\":\"array\",\"default\":[0.5,10],\"minimum\":-20,\"maximum\":20,\"length\":2,\"value\":\"number\",\"property-type\":\"data-constant\",\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]}},\"color\":{\"type\":\"color\",\"property-type\":\"data-constant\",\"default\":\"#ffffff\",\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"transition\":true},\"high-color\":{\"type\":\"color\",\"property-type\":\"data-constant\",\"default\":\"#245cdf\",\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"transition\":true},\"space-color\":{\"type\":\"color\",\"property-type\":\"data-constant\",\"default\":[\"interpolate\",[\"linear\"],[\"zoom\"],4,\"#010b19\",7,\"#367ab9\"],\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"transition\":true},\"horizon-blend\":{\"type\":\"number\",\"property-type\":\"data-constant\",\"default\":[\"interpolate\",[\"linear\"],[\"zoom\"],4,0.2,7,0.1],\"minimum\":0,\"maximum\":1,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"transition\":true},\"star-intensity\":{\"type\":\"number\",\"property-type\":\"data-constant\",\"default\":[\"interpolate\",[\"linear\"],[\"zoom\"],5,0.35,6,0],\"minimum\":0,\"maximum\":1,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"transition\":true}},\"light\":{\"anchor\":{\"type\":\"enum\",\"default\":\"viewport\",\"values\":{\"map\":{},\"viewport\":{}},\"property-type\":\"data-constant\",\"transition\":false,\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\"]}},\"position\":{\"type\":\"array\",\"default\":[1.15,210,30],\"length\":3,\"value\":\"number\",\"property-type\":\"data-constant\",\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]}},\"color\":{\"type\":\"color\",\"property-type\":\"data-constant\",\"default\":\"#ffffff\",\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"transition\":true},\"intensity\":{\"type\":\"number\",\"property-type\":\"data-constant\",\"default\":0.5,\"minimum\":0,\"maximum\":1,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"transition\":true}},\"projection\":{\"name\":{\"type\":\"enum\",\"values\":{\"albers\":{},\"equalEarth\":{},\"equirectangular\":{},\"lambertConformalConic\":{},\"mercator\":{},\"naturalEarth\":{},\"winkelTripel\":{},\"globe\":{}},\"default\":\"mercator\",\"required\":true},\"center\":{\"type\":\"array\",\"length\":2,\"value\":\"number\",\"property-type\":\"data-constant\",\"minimum\":[-180,-90],\"maximum\":[180,90],\"transition\":false,\"requires\":[{\"name\":[\"albers\",\"lambertConformalConic\"]}]},\"parallels\":{\"type\":\"array\",\"length\":2,\"value\":\"number\",\"property-type\":\"data-constant\",\"minimum\":[-90,-90],\"maximum\":[90,90],\"transition\":false,\"requires\":[{\"name\":[\"albers\",\"lambertConformalConic\"]}]}},\"terrain\":{\"source\":{\"type\":\"string\",\"required\":true},\"exaggeration\":{\"type\":\"number\",\"property-type\":\"data-constant\",\"default\":1,\"minimum\":0,\"maximum\":1000,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"transition\":true,\"requires\":[\"source\"]}},\"paint\":[\"paint_fill\",\"paint_line\",\"paint_circle\",\"paint_heatmap\",\"paint_fill-extrusion\",\"paint_symbol\",\"paint_raster\",\"paint_hillshade\",\"paint_background\",\"paint_sky\"],\"paint_fill\":{\"fill-antialias\":{\"type\":\"boolean\",\"default\":true,\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"fill-opacity\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\"]},\"property-type\":\"data-driven\"},\"fill-color\":{\"type\":\"color\",\"default\":\"#000000\",\"transition\":true,\"requires\":[{\"!\":\"fill-pattern\"}],\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\"]},\"property-type\":\"data-driven\"},\"fill-outline-color\":{\"type\":\"color\",\"transition\":true,\"requires\":[{\"!\":\"fill-pattern\"},{\"fill-antialias\":true}],\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\"]},\"property-type\":\"data-driven\"},\"fill-translate\":{\"type\":\"array\",\"value\":\"number\",\"length\":2,\"default\":[0,0],\"transition\":true,\"units\":\"pixels\",\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"fill-translate-anchor\":{\"type\":\"enum\",\"values\":{\"map\":{},\"viewport\":{}},\"default\":\"map\",\"requires\":[\"fill-translate\"],\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"fill-pattern\":{\"type\":\"resolvedImage\",\"transition\":true,\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"cross-faded-data-driven\"}},\"paint_fill-extrusion\":{\"fill-extrusion-opacity\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"fill-extrusion-color\":{\"type\":\"color\",\"default\":\"#000000\",\"transition\":true,\"requires\":[{\"!\":\"fill-extrusion-pattern\"}],\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\"]},\"property-type\":\"data-driven\"},\"fill-extrusion-translate\":{\"type\":\"array\",\"value\":\"number\",\"length\":2,\"default\":[0,0],\"transition\":true,\"units\":\"pixels\",\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"fill-extrusion-translate-anchor\":{\"type\":\"enum\",\"values\":{\"map\":{},\"viewport\":{}},\"default\":\"map\",\"requires\":[\"fill-extrusion-translate\"],\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"fill-extrusion-pattern\":{\"type\":\"resolvedImage\",\"transition\":true,\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"cross-faded-data-driven\"},\"fill-extrusion-height\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"units\":\"meters\",\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\"]},\"property-type\":\"data-driven\"},\"fill-extrusion-base\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"units\":\"meters\",\"transition\":true,\"requires\":[\"fill-extrusion-height\"],\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\"]},\"property-type\":\"data-driven\"},\"fill-extrusion-vertical-gradient\":{\"type\":\"boolean\",\"default\":true,\"transition\":false,\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"fill-extrusion-ambient-occlusion-intensity\":{\"property-type\":\"data-constant\",\"type\":\"number\",\"private\":true,\"default\":0,\"minimum\":0,\"maximum\":1,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"transition\":true},\"fill-extrusion-ambient-occlusion-radius\":{\"property-type\":\"data-constant\",\"type\":\"number\",\"private\":true,\"default\":3,\"minimum\":0,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"transition\":true}},\"paint_line\":{\"line-opacity\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\"]},\"property-type\":\"data-driven\"},\"line-color\":{\"type\":\"color\",\"default\":\"#000000\",\"transition\":true,\"requires\":[{\"!\":\"line-pattern\"}],\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\"]},\"property-type\":\"data-driven\"},\"line-translate\":{\"type\":\"array\",\"value\":\"number\",\"length\":2,\"default\":[0,0],\"transition\":true,\"units\":\"pixels\",\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"line-translate-anchor\":{\"type\":\"enum\",\"values\":{\"map\":{},\"viewport\":{}},\"default\":\"map\",\"requires\":[\"line-translate\"],\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"line-width\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"transition\":true,\"units\":\"pixels\",\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\"]},\"property-type\":\"data-driven\"},\"line-gap-width\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"transition\":true,\"units\":\"pixels\",\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\"]},\"property-type\":\"data-driven\"},\"line-offset\":{\"type\":\"number\",\"default\":0,\"transition\":true,\"units\":\"pixels\",\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\"]},\"property-type\":\"data-driven\"},\"line-blur\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"transition\":true,\"units\":\"pixels\",\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\"]},\"property-type\":\"data-driven\"},\"line-dasharray\":{\"type\":\"array\",\"value\":\"number\",\"minimum\":0,\"transition\":true,\"units\":\"line widths\",\"requires\":[{\"!\":\"line-pattern\"}],\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"cross-faded-data-driven\"},\"line-pattern\":{\"type\":\"resolvedImage\",\"transition\":true,\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\",\"feature\"]},\"property-type\":\"cross-faded-data-driven\"},\"line-gradient\":{\"type\":\"color\",\"transition\":false,\"requires\":[{\"!\":\"line-pattern\"},{\"source\":\"geojson\",\"has\":{\"lineMetrics\":true}}],\"expression\":{\"interpolated\":true,\"parameters\":[\"line-progress\"]},\"property-type\":\"color-ramp\"},\"line-trim-offset\":{\"type\":\"array\",\"value\":\"number\",\"length\":2,\"default\":[0,0],\"minimum\":[0,0],\"maximum\":[1,1],\"transition\":false,\"requires\":[{\"source\":\"geojson\",\"has\":{\"lineMetrics\":true}}],\"property-type\":\"constant\"}},\"paint_circle\":{\"circle-radius\":{\"type\":\"number\",\"default\":5,\"minimum\":0,\"transition\":true,\"units\":\"pixels\",\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\"]},\"property-type\":\"data-driven\"},\"circle-color\":{\"type\":\"color\",\"default\":\"#000000\",\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\"]},\"property-type\":\"data-driven\"},\"circle-blur\":{\"type\":\"number\",\"default\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\"]},\"property-type\":\"data-driven\"},\"circle-opacity\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\"]},\"property-type\":\"data-driven\"},\"circle-translate\":{\"type\":\"array\",\"value\":\"number\",\"length\":2,\"default\":[0,0],\"transition\":true,\"units\":\"pixels\",\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"circle-translate-anchor\":{\"type\":\"enum\",\"values\":{\"map\":{},\"viewport\":{}},\"default\":\"map\",\"requires\":[\"circle-translate\"],\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"circle-pitch-scale\":{\"type\":\"enum\",\"values\":{\"map\":{},\"viewport\":{}},\"default\":\"map\",\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"circle-pitch-alignment\":{\"type\":\"enum\",\"values\":{\"map\":{},\"viewport\":{}},\"default\":\"viewport\",\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"circle-stroke-width\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"transition\":true,\"units\":\"pixels\",\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\"]},\"property-type\":\"data-driven\"},\"circle-stroke-color\":{\"type\":\"color\",\"default\":\"#000000\",\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\"]},\"property-type\":\"data-driven\"},\"circle-stroke-opacity\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\"]},\"property-type\":\"data-driven\"}},\"paint_heatmap\":{\"heatmap-radius\":{\"type\":\"number\",\"default\":30,\"minimum\":1,\"transition\":true,\"units\":\"pixels\",\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\"]},\"property-type\":\"data-driven\"},\"heatmap-weight\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"transition\":false,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\"]},\"property-type\":\"data-driven\"},\"heatmap-intensity\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"heatmap-color\":{\"type\":\"color\",\"default\":[\"interpolate\",[\"linear\"],[\"heatmap-density\"],0,\"rgba(0, 0, 255, 0)\",0.1,\"royalblue\",0.3,\"cyan\",0.5,\"lime\",0.7,\"yellow\",1,\"red\"],\"transition\":false,\"expression\":{\"interpolated\":true,\"parameters\":[\"heatmap-density\"]},\"property-type\":\"color-ramp\"},\"heatmap-opacity\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"}},\"paint_symbol\":{\"icon-opacity\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"maximum\":1,\"transition\":true,\"requires\":[\"icon-image\"],\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\"]},\"property-type\":\"data-driven\"},\"icon-color\":{\"type\":\"color\",\"default\":\"#000000\",\"transition\":true,\"requires\":[\"icon-image\"],\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\"]},\"property-type\":\"data-driven\"},\"icon-halo-color\":{\"type\":\"color\",\"default\":\"rgba(0, 0, 0, 0)\",\"transition\":true,\"requires\":[\"icon-image\"],\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\"]},\"property-type\":\"data-driven\"},\"icon-halo-width\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"transition\":true,\"units\":\"pixels\",\"requires\":[\"icon-image\"],\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\"]},\"property-type\":\"data-driven\"},\"icon-halo-blur\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"transition\":true,\"units\":\"pixels\",\"requires\":[\"icon-image\"],\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\"]},\"property-type\":\"data-driven\"},\"icon-translate\":{\"type\":\"array\",\"value\":\"number\",\"length\":2,\"default\":[0,0],\"transition\":true,\"units\":\"pixels\",\"requires\":[\"icon-image\"],\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"icon-translate-anchor\":{\"type\":\"enum\",\"values\":{\"map\":{},\"viewport\":{}},\"default\":\"map\",\"requires\":[\"icon-image\",\"icon-translate\"],\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"text-opacity\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"maximum\":1,\"transition\":true,\"requires\":[\"text-field\"],\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\"]},\"property-type\":\"data-driven\"},\"text-color\":{\"type\":\"color\",\"default\":\"#000000\",\"transition\":true,\"overridable\":true,\"requires\":[\"text-field\"],\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\"]},\"property-type\":\"data-driven\"},\"text-halo-color\":{\"type\":\"color\",\"default\":\"rgba(0, 0, 0, 0)\",\"transition\":true,\"requires\":[\"text-field\"],\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\"]},\"property-type\":\"data-driven\"},\"text-halo-width\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"transition\":true,\"units\":\"pixels\",\"requires\":[\"text-field\"],\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\"]},\"property-type\":\"data-driven\"},\"text-halo-blur\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"transition\":true,\"units\":\"pixels\",\"requires\":[\"text-field\"],\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\",\"feature\",\"feature-state\"]},\"property-type\":\"data-driven\"},\"text-translate\":{\"type\":\"array\",\"value\":\"number\",\"length\":2,\"default\":[0,0],\"transition\":true,\"units\":\"pixels\",\"requires\":[\"text-field\"],\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"text-translate-anchor\":{\"type\":\"enum\",\"values\":{\"map\":{},\"viewport\":{}},\"default\":\"map\",\"requires\":[\"text-field\",\"text-translate\"],\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"}},\"paint_raster\":{\"raster-opacity\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"raster-hue-rotate\":{\"type\":\"number\",\"default\":0,\"period\":360,\"transition\":true,\"units\":\"degrees\",\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"raster-brightness-min\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"raster-brightness-max\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"raster-saturation\":{\"type\":\"number\",\"default\":0,\"minimum\":-1,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"raster-contrast\":{\"type\":\"number\",\"default\":0,\"minimum\":-1,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"raster-resampling\":{\"type\":\"enum\",\"values\":{\"linear\":{},\"nearest\":{}},\"default\":\"linear\",\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"raster-fade-duration\":{\"type\":\"number\",\"default\":300,\"minimum\":0,\"transition\":false,\"units\":\"milliseconds\",\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"}},\"paint_hillshade\":{\"hillshade-illumination-direction\":{\"type\":\"number\",\"default\":335,\"minimum\":0,\"maximum\":359,\"transition\":false,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"hillshade-illumination-anchor\":{\"type\":\"enum\",\"values\":{\"map\":{},\"viewport\":{}},\"default\":\"viewport\",\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"hillshade-exaggeration\":{\"type\":\"number\",\"default\":0.5,\"minimum\":0,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"hillshade-shadow-color\":{\"type\":\"color\",\"default\":\"#000000\",\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"hillshade-highlight-color\":{\"type\":\"color\",\"default\":\"#FFFFFF\",\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"hillshade-accent-color\":{\"type\":\"color\",\"default\":\"#000000\",\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"}},\"paint_background\":{\"background-color\":{\"type\":\"color\",\"default\":\"#000000\",\"transition\":true,\"requires\":[{\"!\":\"background-pattern\"}],\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"background-pattern\":{\"type\":\"resolvedImage\",\"transition\":true,\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\"]},\"property-type\":\"cross-faded\"},\"background-opacity\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"}},\"paint_sky\":{\"sky-type\":{\"type\":\"enum\",\"values\":{\"gradient\":{},\"atmosphere\":{}},\"default\":\"atmosphere\",\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"sky-atmosphere-sun\":{\"type\":\"array\",\"value\":\"number\",\"length\":2,\"units\":\"degrees\",\"minimum\":[0,0],\"maximum\":[360,180],\"transition\":false,\"requires\":[{\"sky-type\":\"atmosphere\"}],\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"sky-atmosphere-sun-intensity\":{\"type\":\"number\",\"requires\":[{\"sky-type\":\"atmosphere\"}],\"default\":10,\"minimum\":0,\"maximum\":100,\"transition\":false,\"property-type\":\"data-constant\"},\"sky-gradient-center\":{\"type\":\"array\",\"requires\":[{\"sky-type\":\"gradient\"}],\"value\":\"number\",\"default\":[0,0],\"length\":2,\"units\":\"degrees\",\"minimum\":[0,0],\"maximum\":[360,180],\"transition\":false,\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"sky-gradient-radius\":{\"type\":\"number\",\"requires\":[{\"sky-type\":\"gradient\"}],\"default\":90,\"minimum\":0,\"maximum\":180,\"transition\":false,\"expression\":{\"interpolated\":false,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"},\"sky-gradient\":{\"type\":\"color\",\"default\":[\"interpolate\",[\"linear\"],[\"sky-radial-progress\"],0.8,\"#87ceeb\",1,\"white\"],\"transition\":false,\"requires\":[{\"sky-type\":\"gradient\"}],\"expression\":{\"interpolated\":true,\"parameters\":[\"sky-radial-progress\"]},\"property-type\":\"color-ramp\"},\"sky-atmosphere-halo-color\":{\"type\":\"color\",\"default\":\"white\",\"transition\":false,\"requires\":[{\"sky-type\":\"atmosphere\"}],\"property-type\":\"data-constant\"},\"sky-atmosphere-color\":{\"type\":\"color\",\"default\":\"white\",\"transition\":false,\"requires\":[{\"sky-type\":\"atmosphere\"}],\"property-type\":\"data-constant\"},\"sky-opacity\":{\"type\":\"number\",\"default\":1,\"minimum\":0,\"maximum\":1,\"transition\":true,\"expression\":{\"interpolated\":true,\"parameters\":[\"zoom\"]},\"property-type\":\"data-constant\"}},\"transition\":{\"duration\":{\"type\":\"number\",\"default\":300,\"minimum\":0,\"units\":\"milliseconds\"},\"delay\":{\"type\":\"number\",\"default\":0,\"minimum\":0,\"units\":\"milliseconds\"}},\"property-type\":{\"data-driven\":{\"type\":\"property-type\"},\"cross-faded\":{\"type\":\"property-type\"},\"cross-faded-data-driven\":{\"type\":\"property-type\"},\"color-ramp\":{\"type\":\"property-type\"},\"data-constant\":{\"type\":\"property-type\"},\"constant\":{\"type\":\"property-type\"}},\"promoteId\":{\"*\":{\"type\":\"string\"}}}');function Zt(t,...e){for(const r of e)for(const e in r)t[e]=r[e];return t}function Xt(t){return t instanceof Number||t instanceof String||t instanceof Boolean?t.valueOf():t}function Kt(t){if(Array.isArray(t))return t.map(Kt);if(t instanceof Object&&!(t instanceof Number||t instanceof String||t instanceof Boolean)){const e={};for(const r in t)e[r]=Kt(t[r]);return e}return Xt(t)}class Ht extends Error{constructor(t,e){super(e),this.message=e,this.key=t;}}var Yt=Ht;class Wt{constructor(t,e=[]){this.parent=t,this.bindings={};for(const[t,r]of e)this.bindings[t]=r;}concat(t){return new Wt(this,t)}get(t){if(this.bindings[t])return this.bindings[t];if(this.parent)return this.parent.get(t);throw new Error(`${t} not found in scope.`)}has(t){return !!this.bindings[t]||!!this.parent&&this.parent.has(t)}}var Jt=Wt;const Qt={kind:\"null\"},te={kind:\"number\"},ee={kind:\"string\"},re={kind:\"boolean\"},ne={kind:\"color\"},ie={kind:\"object\"},se={kind:\"value\"},ae={kind:\"collator\"},oe={kind:\"formatted\"},le={kind:\"resolvedImage\"};function ue(t,e){return {kind:\"array\",itemType:t,N:e}}function ce(t){if(\"array\"===t.kind){const e=ce(t.itemType);return \"number\"==typeof t.N?`array<${e}, ${t.N}>`:\"value\"===t.itemType.kind?\"array\":`array<${e}>`}return t.kind}const he=[Qt,te,ee,re,ne,oe,ie,ue(se),le];function pe(t,e){if(\"error\"===e.kind)return null;if(\"array\"===t.kind){if(\"array\"===e.kind&&(0===e.N&&\"value\"===e.itemType.kind||!pe(t.itemType,e.itemType))&&(\"number\"!=typeof t.N||t.N===e.N))return null}else {if(t.kind===e.kind)return null;if(\"value\"===t.kind)for(const t of he)if(!pe(t,e))return null}return `Expected ${ce(t)} but found ${ce(e)} instead.`}function fe(t,e){return e.some((e=>e.kind===t.kind))}function de(t,e){return e.some((e=>\"null\"===e?null===t:\"array\"===e?Array.isArray(t):\"object\"===e?t&&!Array.isArray(t)&&\"object\"==typeof t:e===typeof t))}function ye(t){var e={exports:{}};return t(e,e.exports),e.exports}var me=ye((function(t,e){var r={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function n(t){return (t=Math.round(t))<0?0:t>255?255:t}function i(t){return n(\"%\"===t[t.length-1]?parseFloat(t)/100*255:parseInt(t))}function s(t){return (e=\"%\"===t[t.length-1]?parseFloat(t)/100:parseFloat(t))<0?0:e>1?1:e;var e;}function a(t,e,r){return r<0?r+=1:r>1&&(r-=1),6*r<1?t+(e-t)*r*6:2*r<1?e:3*r<2?t+(e-t)*(2/3-r)*6:t}try{e.parseCSSColor=function(t){var e,o=t.replace(/ /g,\"\").toLowerCase();if(o in r)return r[o].slice();if(\"#\"===o[0])return 4===o.length?(e=parseInt(o.substr(1),16))>=0&&e<=4095?[(3840&e)>>4|(3840&e)>>8,240&e|(240&e)>>4,15&e|(15&e)<<4,1]:null:7===o.length&&(e=parseInt(o.substr(1),16))>=0&&e<=16777215?[(16711680&e)>>16,(65280&e)>>8,255&e,1]:null;var l=o.indexOf(\"(\"),u=o.indexOf(\")\");if(-1!==l&&u+1===o.length){var c=o.substr(0,l),h=o.substr(l+1,u-(l+1)).split(\",\"),p=1;switch(c){case\"rgba\":if(4!==h.length)return null;p=s(h.pop());case\"rgb\":return 3!==h.length?null:[i(h[0]),i(h[1]),i(h[2]),p];case\"hsla\":if(4!==h.length)return null;p=s(h.pop());case\"hsl\":if(3!==h.length)return null;var f=(parseFloat(h[0])%360+360)%360/360,d=s(h[1]),y=s(h[2]),m=y<=.5?y*(d+1):y+d-y*d,g=2*y-m;return [n(255*a(g,m,f+1/3)),n(255*a(g,m,f)),n(255*a(g,m,f-1/3)),p];default:return null}}return null};}catch(t){}}));class ge{constructor(t,e,r,n=1){this.r=t,this.g=e,this.b=r,this.a=n;}static parse(t){if(!t)return;if(t instanceof ge)return t;if(\"string\"!=typeof t)return;const e=me.parseCSSColor(t);return e?new ge(e[0]/255*e[3],e[1]/255*e[3],e[2]/255*e[3],e[3]):void 0}toString(){const[t,e,r,n]=this.toArray();return `rgba(${Math.round(t)},${Math.round(e)},${Math.round(r)},${n})`}toArray(){const{r:t,g:e,b:r,a:n}=this;return 0===n?[0,0,0,0]:[255*t/n,255*e/n,255*r/n,n]}toArray01(){const{r:t,g:e,b:r,a:n}=this;return 0===n?[0,0,0,0]:[t/n,e/n,r/n,n]}toArray01PremultipliedAlpha(){const{r:t,g:e,b:r,a:n}=this;return [t,e,r,n]}}ge.black=new ge(0,0,0,1),ge.white=new ge(1,1,1,1),ge.transparent=new ge(0,0,0,0),ge.red=new ge(1,0,0,1),ge.blue=new ge(0,0,1,1);var xe=ge;class ve{constructor(t,e,r){this.sensitivity=t?e?\"variant\":\"case\":e?\"accent\":\"base\",this.locale=r,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:\"search\"});}compare(t,e){return this.collator.compare(t,e)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class be{constructor(t,e,r,n,i){this.text=t.normalize?t.normalize():t,this.image=e,this.scale=r,this.fontStack=n,this.textColor=i;}}class _e{constructor(t){this.sections=t;}static fromString(t){return new _e([new be(t,null,null,null,null)])}isEmpty(){return 0===this.sections.length||!this.sections.some((t=>0!==t.text.length||t.image&&0!==t.image.name.length))}static factory(t){return t instanceof _e?t:_e.fromString(t)}toString(){return 0===this.sections.length?\"\":this.sections.map((t=>t.text)).join(\"\")}serialize(){const t=[\"format\"];for(const e of this.sections){if(e.image){t.push([\"image\",e.image.name]);continue}t.push(e.text);const r={};e.fontStack&&(r[\"text-font\"]=[\"literal\",e.fontStack.split(\",\")]),e.scale&&(r[\"font-scale\"]=e.scale),e.textColor&&(r[\"text-color\"]=[\"rgba\"].concat(e.textColor.toArray())),t.push(r);}return t}}class we{constructor(t){this.name=t.name,this.available=t.available;}toString(){return this.name}static fromString(t){return t?new we({name:t,available:!1}):null}serialize(){return [\"image\",this.name]}}function Ae(t,e,r,n){return \"number\"==typeof t&&t>=0&&t<=255&&\"number\"==typeof e&&e>=0&&e<=255&&\"number\"==typeof r&&r>=0&&r<=255?void 0===n||\"number\"==typeof n&&n>=0&&n<=1?null:`Invalid rgba value [${[t,e,r,n].join(\", \")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(\"number\"==typeof n?[t,e,r,n]:[t,e,r]).join(\", \")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Se(t){if(null===t)return !0;if(\"string\"==typeof t)return !0;if(\"boolean\"==typeof t)return !0;if(\"number\"==typeof t)return !0;if(t instanceof xe)return !0;if(t instanceof ve)return !0;if(t instanceof _e)return !0;if(t instanceof we)return !0;if(Array.isArray(t)){for(const e of t)if(!Se(e))return !1;return !0}if(\"object\"==typeof t){for(const e in t)if(!Se(t[e]))return !1;return !0}return !1}function ke(t){if(null===t)return Qt;if(\"string\"==typeof t)return ee;if(\"boolean\"==typeof t)return re;if(\"number\"==typeof t)return te;if(t instanceof xe)return ne;if(t instanceof ve)return ae;if(t instanceof _e)return oe;if(t instanceof we)return le;if(Array.isArray(t)){const e=t.length;let r;for(const e of t){const t=ke(e);if(r){if(r===t)continue;r=se;break}r=t;}return ue(r||se,e)}return ie}function Ie(t){const e=typeof t;return null===t?\"\":\"string\"===e||\"number\"===e||\"boolean\"===e?String(t):t instanceof xe||t instanceof _e||t instanceof we?t.toString():JSON.stringify(t)}class Me{constructor(t,e){this.type=t,this.value=e;}static parse(t,e){if(2!==t.length)return e.error(`'literal' expression requires exactly one argument, but found ${t.length-1} instead.`);if(!Se(t[1]))return e.error(\"invalid value\");const r=t[1];let n=ke(r);const i=e.expectedType;return \"array\"!==n.kind||0!==n.N||!i||\"array\"!==i.kind||\"number\"==typeof i.N&&0!==i.N||(n=i),new Me(n,r)}evaluate(){return this.value}eachChild(){}outputDefined(){return !0}serialize(){return \"array\"===this.type.kind||\"object\"===this.type.kind?[\"literal\",this.value]:this.value instanceof xe?[\"rgba\"].concat(this.value.toArray()):this.value instanceof _e?this.value.serialize():this.value}}var ze=Me,Te=class{constructor(t){this.name=\"ExpressionEvaluationError\",this.message=t;}toJSON(){return this.message}};const Be={string:ee,number:te,boolean:re,object:ie};class Ee{constructor(t,e){this.type=t,this.args=e;}static parse(t,e){if(t.length<2)return e.error(\"Expected at least one argument.\");let r,n=1;const i=t[0];if(\"array\"===i){let i,s;if(t.length>2){const r=t[1];if(\"string\"!=typeof r||!(r in Be)||\"object\"===r)return e.error('The item type argument of \"array\" must be one of string, number, boolean',1);i=Be[r],n++;}else i=se;if(t.length>3){if(null!==t[2]&&(\"number\"!=typeof t[2]||t[2]<0||t[2]!==Math.floor(t[2])))return e.error('The length argument to \"array\" must be a positive integer literal',2);s=t[2],n++;}r=ue(i,s);}else r=Be[i];const s=[];for(;n<t.length;n++){const r=e.parse(t[n],n,se);if(!r)return null;s.push(r);}return new Ee(r,s)}evaluate(t){for(let e=0;e<this.args.length;e++){const r=this.args[e].evaluate(t);if(!pe(this.type,ke(r)))return r;if(e===this.args.length-1)throw new Te(`Expected value to be of type ${ce(this.type)}, but found ${ce(ke(r))} instead.`)}return null}eachChild(t){this.args.forEach(t);}outputDefined(){return this.args.every((t=>t.outputDefined()))}serialize(){const t=this.type,e=[t.kind];if(\"array\"===t.kind){const r=t.itemType;if(\"string\"===r.kind||\"number\"===r.kind||\"boolean\"===r.kind){e.push(r.kind);const n=t.N;(\"number\"==typeof n||this.args.length>1)&&e.push(n);}}return e.concat(this.args.map((t=>t.serialize())))}}var Ce=Ee;class Pe{constructor(t){this.type=oe,this.sections=t;}static parse(t,e){if(t.length<2)return e.error(\"Expected at least one argument.\");const r=t[1];if(!Array.isArray(r)&&\"object\"==typeof r)return e.error(\"First argument must be an image or text section.\");const n=[];let i=!1;for(let r=1;r<=t.length-1;++r){const s=t[r];if(i&&\"object\"==typeof s&&!Array.isArray(s)){i=!1;let t=null;if(s[\"font-scale\"]&&(t=e.parse(s[\"font-scale\"],1,te),!t))return null;let r=null;if(s[\"text-font\"]&&(r=e.parse(s[\"text-font\"],1,ue(ee)),!r))return null;let a=null;if(s[\"text-color\"]&&(a=e.parse(s[\"text-color\"],1,ne),!a))return null;const o=n[n.length-1];o.scale=t,o.font=r,o.textColor=a;}else {const s=e.parse(t[r],1,se);if(!s)return null;const a=s.type.kind;if(\"string\"!==a&&\"value\"!==a&&\"null\"!==a&&\"resolvedImage\"!==a)return e.error(\"Formatted text type must be 'string', 'value', 'image' or 'null'.\");i=!0,n.push({content:s,scale:null,font:null,textColor:null});}}return new Pe(n)}evaluate(t){return new _e(this.sections.map((e=>{const r=e.content.evaluate(t);return ke(r)===le?new be(\"\",r,null,null,null):new be(Ie(r),null,e.scale?e.scale.evaluate(t):null,e.font?e.font.evaluate(t).join(\",\"):null,e.textColor?e.textColor.evaluate(t):null)})))}eachChild(t){for(const e of this.sections)t(e.content),e.scale&&t(e.scale),e.font&&t(e.font),e.textColor&&t(e.textColor);}outputDefined(){return !1}serialize(){const t=[\"format\"];for(const e of this.sections){t.push(e.content.serialize());const r={};e.scale&&(r[\"font-scale\"]=e.scale.serialize()),e.font&&(r[\"text-font\"]=e.font.serialize()),e.textColor&&(r[\"text-color\"]=e.textColor.serialize()),t.push(r);}return t}}class De{constructor(t){this.type=le,this.input=t;}static parse(t,e){if(2!==t.length)return e.error(\"Expected two arguments.\");const r=e.parse(t[1],1,ee);return r?new De(r):e.error(\"No image name provided.\")}evaluate(t){const e=this.input.evaluate(t),r=we.fromString(e);return r&&t.availableImages&&(r.available=t.availableImages.indexOf(e)>-1),r}eachChild(t){t(this.input);}outputDefined(){return !1}serialize(){return [\"image\",this.input.serialize()]}}const Ve={\"to-boolean\":re,\"to-color\":ne,\"to-number\":te,\"to-string\":ee};class Fe{constructor(t,e){this.type=t,this.args=e;}static parse(t,e){if(t.length<2)return e.error(\"Expected at least one argument.\");const r=t[0];if((\"to-boolean\"===r||\"to-string\"===r)&&2!==t.length)return e.error(\"Expected one argument.\");const n=Ve[r],i=[];for(let r=1;r<t.length;r++){const n=e.parse(t[r],r,se);if(!n)return null;i.push(n);}return new Fe(n,i)}evaluate(t){if(\"boolean\"===this.type.kind)return Boolean(this.args[0].evaluate(t));if(\"color\"===this.type.kind){let e,r;for(const n of this.args){if(e=n.evaluate(t),r=null,e instanceof xe)return e;if(\"string\"==typeof e){const r=t.parseColor(e);if(r)return r}else if(Array.isArray(e)&&(r=e.length<3||e.length>4?`Invalid rbga value ${JSON.stringify(e)}: expected an array containing either three or four numeric values.`:Ae(e[0],e[1],e[2],e[3]),!r))return new xe(e[0]/255,e[1]/255,e[2]/255,e[3])}throw new Te(r||`Could not parse color from value '${\"string\"==typeof e?e:String(JSON.stringify(e))}'`)}if(\"number\"===this.type.kind){let e=null;for(const r of this.args){if(e=r.evaluate(t),null===e)return 0;const n=Number(e);if(!isNaN(n))return n}throw new Te(`Could not convert ${JSON.stringify(e)} to number.`)}return \"formatted\"===this.type.kind?_e.fromString(Ie(this.args[0].evaluate(t))):\"resolvedImage\"===this.type.kind?we.fromString(Ie(this.args[0].evaluate(t))):Ie(this.args[0].evaluate(t))}eachChild(t){this.args.forEach(t);}outputDefined(){return this.args.every((t=>t.outputDefined()))}serialize(){if(\"formatted\"===this.type.kind)return new Pe([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(\"resolvedImage\"===this.type.kind)return new De(this.args[0]).serialize();const t=[`to-${this.type.kind}`];return this.eachChild((e=>{t.push(e.serialize());})),t}}var Le=Fe;const Re=[\"Unknown\",\"Point\",\"LineString\",\"Polygon\"];var Ue=class{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null;}id(){return this.feature&&void 0!==this.feature.id?this.feature.id:null}geometryType(){return this.feature?\"number\"==typeof this.feature.type?Re[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&\"geometry\"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const t=this.featureDistanceData.center,e=this.featureDistanceData.scale,{x:r,y:n}=this.featureTileCoord;return this.featureDistanceData.bearing[0]*(r*e-t[0])+this.featureDistanceData.bearing[1]*(n*e-t[1])}return 0}parseColor(t){let e=this._parseColorCache[t];return e||(e=this._parseColorCache[t]=xe.parse(t)),e}};class je{constructor(t,e,r,n){this.name=t,this.type=e,this._evaluate=r,this.args=n;}evaluate(t){return this._evaluate(t,this.args)}eachChild(t){this.args.forEach(t);}outputDefined(){return !1}serialize(){return [this.name].concat(this.args.map((t=>t.serialize())))}static parse(t,e){const r=t[0],n=je.definitions[r];if(!n)return e.error(`Unknown expression \"${r}\". If you wanted a literal array, use [\"literal\", [...]].`,0);const i=Array.isArray(n)?n[0]:n.type,s=Array.isArray(n)?[[n[1],n[2]]]:n.overloads,a=s.filter((([e])=>!Array.isArray(e)||e.length===t.length-1));let o=null;for(const[n,s]of a){o=new fr(e.registry,e.path,null,e.scope);const a=[];let l=!1;for(let e=1;e<t.length;e++){const r=t[e],i=Array.isArray(n)?n[e-1]:n.type,s=o.parse(r,1+a.length,i);if(!s){l=!0;break}a.push(s);}if(!l)if(Array.isArray(n)&&n.length!==a.length)o.error(`Expected ${n.length} arguments, but found ${a.length} instead.`);else {for(let t=0;t<a.length;t++){const e=Array.isArray(n)?n[t]:n.type,r=a[t];o.concat(t+1).checkSubtype(e,r.type);}if(0===o.errors.length)return new je(r,i,s,a)}}if(1===a.length)e.errors.push(...o.errors);else {const r=(a.length?a:s).map((([t])=>{return e=t,Array.isArray(e)?`(${e.map(ce).join(\", \")})`:`(${ce(e.type)}...)`;var e;})).join(\" | \"),n=[];for(let r=1;r<t.length;r++){const i=e.parse(t[r],1+n.length);if(!i)return null;n.push(ce(i.type));}e.error(`Expected arguments of type ${r}, but found (${n.join(\", \")}) instead.`);}return null}static register(t,e){je.definitions=e;for(const r in e)t[r]=je;}}var $e=je;class Oe{constructor(t,e,r){this.type=ae,this.locale=r,this.caseSensitive=t,this.diacriticSensitive=e;}static parse(t,e){if(2!==t.length)return e.error(\"Expected one argument.\");const r=t[1];if(\"object\"!=typeof r||Array.isArray(r))return e.error(\"Collator options argument must be an object.\");const n=e.parse(void 0!==r[\"case-sensitive\"]&&r[\"case-sensitive\"],1,re);if(!n)return null;const i=e.parse(void 0!==r[\"diacritic-sensitive\"]&&r[\"diacritic-sensitive\"],1,re);if(!i)return null;let s=null;return r.locale&&(s=e.parse(r.locale,1,ee),!s)?null:new Oe(n,i,s)}evaluate(t){return new ve(this.caseSensitive.evaluate(t),this.diacriticSensitive.evaluate(t),this.locale?this.locale.evaluate(t):null)}eachChild(t){t(this.caseSensitive),t(this.diacriticSensitive),this.locale&&t(this.locale);}outputDefined(){return !1}serialize(){const t={};return t[\"case-sensitive\"]=this.caseSensitive.serialize(),t[\"diacritic-sensitive\"]=this.diacriticSensitive.serialize(),this.locale&&(t.locale=this.locale.serialize()),[\"collator\",t]}}const qe=8192;function Ne(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[2]=Math.max(t[2],e[0]),t[3]=Math.max(t[3],e[1]);}function Ge(t,e){return !(t[0]<=e[0]||t[2]>=e[2]||t[1]<=e[1]||t[3]>=e[3])}function Ze(t,e){const r=(180+t[0])/360,n=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t[1]*Math.PI/360)))/360,i=Math.pow(2,e.z);return [Math.round(r*i*qe),Math.round(n*i*qe)]}function Xe(t,e,r){const n=t[0]-e[0],i=t[1]-e[1],s=t[0]-r[0],a=t[1]-r[1];return n*a-s*i==0&&n*s<=0&&i*a<=0}function Ke(t,e){let r=!1;for(let a=0,o=e.length;a<o;a++){const o=e[a];for(let e=0,a=o.length;e<a-1;e++){if(Xe(t,o[e],o[e+1]))return !1;(i=o[e])[1]>(n=t)[1]!=(s=o[e+1])[1]>n[1]&&n[0]<(s[0]-i[0])*(n[1]-i[1])/(s[1]-i[1])+i[0]&&(r=!r);}}var n,i,s;return r}function He(t,e){for(let r=0;r<e.length;r++)if(Ke(t,e[r]))return !0;return !1}function Ye(t,e,r,n){const i=n[0]-r[0],s=n[1]-r[1],a=(t[0]-r[0])*s-i*(t[1]-r[1]),o=(e[0]-r[0])*s-i*(e[1]-r[1]);return a>0&&o<0||a<0&&o>0}function We(t,e,r){for(const u of r)for(let r=0;r<u.length-1;++r)if(0!=(o=[(a=u[r+1])[0]-(s=u[r])[0],a[1]-s[1]])[0]*(l=[(i=e)[0]-(n=t)[0],i[1]-n[1]])[1]-o[1]*l[0]&&Ye(n,i,s,a)&&Ye(s,a,n,i))return !0;var n,i,s,a,o,l;return !1}function Je(t,e){for(let r=0;r<t.length;++r)if(!Ke(t[r],e))return !1;for(let r=0;r<t.length-1;++r)if(We(t[r],t[r+1],e))return !1;return !0}function Qe(t,e){for(let r=0;r<e.length;r++)if(Je(t,e[r]))return !0;return !1}function tr(t,e,r){const n=[];for(let i=0;i<t.length;i++){const s=[];for(let n=0;n<t[i].length;n++){const a=Ze(t[i][n],r);Ne(e,a),s.push(a);}n.push(s);}return n}function er(t,e,r){const n=[];for(let i=0;i<t.length;i++){const s=tr(t[i],e,r);n.push(s);}return n}function rr(t,e,r,n){if(t[0]<r[0]||t[0]>r[2]){const e=.5*n;let i=t[0]-r[0]>e?-n:r[0]-t[0]>e?n:0;0===i&&(i=t[0]-r[2]>e?-n:r[2]-t[0]>e?n:0),t[0]+=i;}Ne(e,t);}function nr(t,e,r,n){const i=Math.pow(2,n.z)*qe,s=[n.x*qe,n.y*qe],a=[];if(!t)return a;for(const n of t)for(const t of n){const n=[t.x+s[0],t.y+s[1]];rr(n,e,r,i),a.push(n);}return a}function ir(t,e,r,n){const i=Math.pow(2,n.z)*qe,s=[n.x*qe,n.y*qe],a=[];if(!t)return a;for(const r of t){const t=[];for(const n of r){const r=[n.x+s[0],n.y+s[1]];Ne(e,r),t.push(r);}a.push(t);}if(e[2]-e[0]<=i/2){(o=e)[0]=o[1]=1/0,o[2]=o[3]=-1/0;for(const t of a)for(const n of t)rr(n,e,r,i);}var o;return a}class sr{constructor(t,e){this.type=re,this.geojson=t,this.geometries=e;}static parse(t,e){if(2!==t.length)return e.error(`'within' expression requires exactly one argument, but found ${t.length-1} instead.`);if(Se(t[1])){const e=t[1];if(\"FeatureCollection\"===e.type)for(let t=0;t<e.features.length;++t){const r=e.features[t].geometry.type;if(\"Polygon\"===r||\"MultiPolygon\"===r)return new sr(e,e.features[t].geometry)}else if(\"Feature\"===e.type){const t=e.geometry.type;if(\"Polygon\"===t||\"MultiPolygon\"===t)return new sr(e,e.geometry)}else if(\"Polygon\"===e.type||\"MultiPolygon\"===e.type)return new sr(e,e)}return e.error(\"'within' expression requires valid geojson object that contains polygon geometry type.\")}evaluate(t){if(null!=t.geometry()&&null!=t.canonicalID()){if(\"Point\"===t.geometryType())return function(t,e){const r=[1/0,1/0,-1/0,-1/0],n=[1/0,1/0,-1/0,-1/0],i=t.canonicalID();if(!i)return !1;if(\"Polygon\"===e.type){const s=tr(e.coordinates,n,i),a=nr(t.geometry(),r,n,i);if(!Ge(r,n))return !1;for(const t of a)if(!Ke(t,s))return !1}if(\"MultiPolygon\"===e.type){const s=er(e.coordinates,n,i),a=nr(t.geometry(),r,n,i);if(!Ge(r,n))return !1;for(const t of a)if(!He(t,s))return !1}return !0}(t,this.geometries);if(\"LineString\"===t.geometryType())return function(t,e){const r=[1/0,1/0,-1/0,-1/0],n=[1/0,1/0,-1/0,-1/0],i=t.canonicalID();if(!i)return !1;if(\"Polygon\"===e.type){const s=tr(e.coordinates,n,i),a=ir(t.geometry(),r,n,i);if(!Ge(r,n))return !1;for(const t of a)if(!Je(t,s))return !1}if(\"MultiPolygon\"===e.type){const s=er(e.coordinates,n,i),a=ir(t.geometry(),r,n,i);if(!Ge(r,n))return !1;for(const t of a)if(!Qe(t,s))return !1}return !0}(t,this.geometries)}return !1}eachChild(){}outputDefined(){return !0}serialize(){return [\"within\",this.geojson]}}var ar=sr;function or(t){if(t instanceof $e){if(\"get\"===t.name&&1===t.args.length)return !1;if(\"feature-state\"===t.name)return !1;if(\"has\"===t.name&&1===t.args.length)return !1;if(\"properties\"===t.name||\"geometry-type\"===t.name||\"id\"===t.name)return !1;if(/^filter-/.test(t.name))return !1}if(t instanceof ar)return !1;let e=!0;return t.eachChild((t=>{e&&!or(t)&&(e=!1);})),e}function lr(t){if(t instanceof $e&&\"feature-state\"===t.name)return !1;let e=!0;return t.eachChild((t=>{e&&!lr(t)&&(e=!1);})),e}function ur(t,e){if(t instanceof $e&&e.indexOf(t.name)>=0)return !1;let r=!0;return t.eachChild((t=>{r&&!ur(t,e)&&(r=!1);})),r}class cr{constructor(t,e){this.type=e.type,this.name=t,this.boundExpression=e;}static parse(t,e){if(2!==t.length||\"string\"!=typeof t[1])return e.error(\"'var' expression requires exactly one string literal argument.\");const r=t[1];return e.scope.has(r)?new cr(r,e.scope.get(r)):e.error(`Unknown variable \"${r}\". Make sure \"${r}\" has been bound in an enclosing \"let\" expression before using it.`,1)}evaluate(t){return this.boundExpression.evaluate(t)}eachChild(){}outputDefined(){return !1}serialize(){return [\"var\",this.name]}}var hr=cr;class pr{constructor(t,e=[],r,n=new Jt,i=[]){this.registry=t,this.path=e,this.key=e.map((t=>`[${t}]`)).join(\"\"),this.scope=n,this.errors=i,this.expectedType=r;}parse(t,e,r,n,i={}){return e?this.concat(e,r,n)._parse(t,i):this._parse(t,i)}_parse(t,e){function r(t,e,r){return \"assert\"===r?new Ce(e,[t]):\"coerce\"===r?new Le(e,[t]):t}if(null!==t&&\"string\"!=typeof t&&\"boolean\"!=typeof t&&\"number\"!=typeof t||(t=[\"literal\",t]),Array.isArray(t)){if(0===t.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use [\"literal\", []].');const n=t[0];if(\"string\"!=typeof n)return this.error(`Expression name must be a string, but found ${typeof n} instead. If you wanted a literal array, use [\"literal\", [...]].`,0),null;const i=this.registry[n];if(i){let n=i.parse(t,this);if(!n)return null;if(this.expectedType){const t=this.expectedType,i=n.type;if(\"string\"!==t.kind&&\"number\"!==t.kind&&\"boolean\"!==t.kind&&\"object\"!==t.kind&&\"array\"!==t.kind||\"value\"!==i.kind)if(\"color\"!==t.kind&&\"formatted\"!==t.kind&&\"resolvedImage\"!==t.kind||\"value\"!==i.kind&&\"string\"!==i.kind){if(this.checkSubtype(t,i))return null}else n=r(n,t,e.typeAnnotation||\"coerce\");else n=r(n,t,e.typeAnnotation||\"assert\");}if(!(n instanceof ze)&&\"resolvedImage\"!==n.type.kind&&dr(n)){const t=new Ue;try{n=new ze(n.type,n.evaluate(t));}catch(t){return this.error(t.message),null}}return n}return this.error(`Unknown expression \"${n}\". If you wanted a literal array, use [\"literal\", [...]].`,0)}return this.error(void 0===t?\"'undefined' value invalid. Use null instead.\":\"object\"==typeof t?'Bare objects invalid. Use [\"literal\", {...}] instead.':`Expected an array, but found ${typeof t} instead.`)}concat(t,e,r){const n=\"number\"==typeof t?this.path.concat(t):this.path,i=r?this.scope.concat(r):this.scope;return new pr(this.registry,n,e||null,i,this.errors)}error(t,...e){const r=`${this.key}${e.map((t=>`[${t}]`)).join(\"\")}`;this.errors.push(new Yt(r,t));}checkSubtype(t,e){const r=pe(t,e);return r&&this.error(r),r}}var fr=pr;function dr(t){if(t instanceof hr)return dr(t.boundExpression);if(t instanceof $e&&\"error\"===t.name)return !1;if(t instanceof Oe)return !1;if(t instanceof ar)return !1;const e=t instanceof Le||t instanceof Ce;let r=!0;return t.eachChild((t=>{r=e?r&&dr(t):r&&t instanceof ze;})),!!r&&or(t)&&ur(t,[\"zoom\",\"heatmap-density\",\"line-progress\",\"sky-radial-progress\",\"accumulated\",\"is-supported-script\",\"pitch\",\"distance-from-center\"])}function yr(t,e){const r=t.length-1;let n,i,s=0,a=r,o=0;for(;s<=a;)if(o=Math.floor((s+a)/2),n=t[o],i=t[o+1],n<=e){if(o===r||e<i)return o;s=o+1;}else {if(!(n>e))throw new Te(\"Input is not a number.\");a=o-1;}return 0}class mr{constructor(t,e,r){this.type=t,this.input=e,this.labels=[],this.outputs=[];for(const[t,e]of r)this.labels.push(t),this.outputs.push(e);}static parse(t,e){if(t.length-1<4)return e.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if((t.length-1)%2!=0)return e.error(\"Expected an even number of arguments.\");const r=e.parse(t[1],1,te);if(!r)return null;const n=[];let i=null;e.expectedType&&\"value\"!==e.expectedType.kind&&(i=e.expectedType);for(let r=1;r<t.length;r+=2){const s=1===r?-1/0:t[r],a=t[r+1],o=r,l=r+1;if(\"number\"!=typeof s)return e.error('Input/output pairs for \"step\" expressions must be defined using literal numeric values (not computed expressions) for the input values.',o);if(n.length&&n[n.length-1][0]>=s)return e.error('Input/output pairs for \"step\" expressions must be arranged with input values in strictly ascending order.',o);const u=e.parse(a,l,i);if(!u)return null;i=i||u.type,n.push([s,u]);}return new mr(i,r,n)}evaluate(t){const e=this.labels,r=this.outputs;if(1===e.length)return r[0].evaluate(t);const n=this.input.evaluate(t);if(n<=e[0])return r[0].evaluate(t);const i=e.length;return n>=e[i-1]?r[i-1].evaluate(t):r[yr(e,n)].evaluate(t)}eachChild(t){t(this.input);for(const e of this.outputs)t(e);}outputDefined(){return this.outputs.every((t=>t.outputDefined()))}serialize(){const t=[\"step\",this.input.serialize()];for(let e=0;e<this.labels.length;e++)e>0&&t.push(this.labels[e]),t.push(this.outputs[e].serialize());return t}}var gr=mr;function xr(t,e,r){return t*(1-r)+e*r}function vr(t,e,r){return t.map(((t,n)=>xr(t,e[n],r)))}var br=Object.freeze({__proto__:null,number:xr,color:function(t,e,r){return new xe(xr(t.r,e.r,r),xr(t.g,e.g,r),xr(t.b,e.b,r),xr(t.a,e.a,r))},array:vr});const _r=.95047,wr=1.08883,Ar=4/29,Sr=6/29,kr=3*Sr*Sr,Ir=Math.PI/180,Mr=180/Math.PI;function zr(t){return t>.008856451679035631?Math.pow(t,1/3):t/kr+Ar}function Tr(t){return t>Sr?t*t*t:kr*(t-Ar)}function Br(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Er(t){return (t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Cr(t){const e=Er(t.r),r=Er(t.g),n=Er(t.b),i=zr((.4124564*e+.3575761*r+.1804375*n)/_r),s=zr((.2126729*e+.7151522*r+.072175*n)/1);return {l:116*s-16,a:500*(i-s),b:200*(s-zr((.0193339*e+.119192*r+.9503041*n)/wr)),alpha:t.a}}function Pr(t){let e=(t.l+16)/116,r=isNaN(t.a)?e:e+t.a/500,n=isNaN(t.b)?e:e-t.b/200;return e=1*Tr(e),r=_r*Tr(r),n=wr*Tr(n),new xe(Br(3.2404542*r-1.5371385*e-.4985314*n),Br(-.969266*r+1.8760108*e+.041556*n),Br(.0556434*r-.2040259*e+1.0572252*n),t.alpha)}function Dr(t,e,r){const n=e-t;return t+r*(n>180||n<-180?n-360*Math.round(n/360):n)}const Vr={forward:Cr,reverse:Pr,interpolate:function(t,e,r){return {l:xr(t.l,e.l,r),a:xr(t.a,e.a,r),b:xr(t.b,e.b,r),alpha:xr(t.alpha,e.alpha,r)}}},Fr={forward:function(t){const{l:e,a:r,b:n}=Cr(t),i=Math.atan2(n,r)*Mr;return {h:i<0?i+360:i,c:Math.sqrt(r*r+n*n),l:e,alpha:t.a}},reverse:function(t){const e=t.h*Ir,r=t.c;return Pr({l:t.l,a:Math.cos(e)*r,b:Math.sin(e)*r,alpha:t.alpha})},interpolate:function(t,e,r){return {h:Dr(t.h,e.h,r),c:xr(t.c,e.c,r),l:xr(t.l,e.l,r),alpha:xr(t.alpha,e.alpha,r)}}};var Lr=Object.freeze({__proto__:null,lab:Vr,hcl:Fr});class Rr{constructor(t,e,r,n,i){this.type=t,this.operator=e,this.interpolation=r,this.input=n,this.labels=[],this.outputs=[];for(const[t,e]of i)this.labels.push(t),this.outputs.push(e);}static interpolationFactor(t,e,n,i){let s=0;if(\"exponential\"===t.name)s=Ur(e,t.base,n,i);else if(\"linear\"===t.name)s=Ur(e,1,n,i);else if(\"cubic-bezier\"===t.name){const a=t.controlPoints;s=new r(a[0],a[1],a[2],a[3]).solve(Ur(e,1,n,i));}return s}static parse(t,e){let[r,n,i,...s]=t;if(!Array.isArray(n)||0===n.length)return e.error(\"Expected an interpolation type expression.\",1);if(\"linear\"===n[0])n={name:\"linear\"};else if(\"exponential\"===n[0]){const t=n[1];if(\"number\"!=typeof t)return e.error(\"Exponential interpolation requires a numeric base.\",1,1);n={name:\"exponential\",base:t};}else {if(\"cubic-bezier\"!==n[0])return e.error(`Unknown interpolation type ${String(n[0])}`,1,0);{const t=n.slice(1);if(4!==t.length||t.some((t=>\"number\"!=typeof t||t<0||t>1)))return e.error(\"Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.\",1);n={name:\"cubic-bezier\",controlPoints:t};}}if(t.length-1<4)return e.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if((t.length-1)%2!=0)return e.error(\"Expected an even number of arguments.\");if(i=e.parse(i,2,te),!i)return null;const a=[];let o=null;\"interpolate-hcl\"===r||\"interpolate-lab\"===r?o=ne:e.expectedType&&\"value\"!==e.expectedType.kind&&(o=e.expectedType);for(let t=0;t<s.length;t+=2){const r=s[t],n=s[t+1],i=t+3,l=t+4;if(\"number\"!=typeof r)return e.error('Input/output pairs for \"interpolate\" expressions must be defined using literal numeric values (not computed expressions) for the input values.',i);if(a.length&&a[a.length-1][0]>=r)return e.error('Input/output pairs for \"interpolate\" expressions must be arranged with input values in strictly ascending order.',i);const u=e.parse(n,l,o);if(!u)return null;o=o||u.type,a.push([r,u]);}return \"number\"===o.kind||\"color\"===o.kind||\"array\"===o.kind&&\"number\"===o.itemType.kind&&\"number\"==typeof o.N?new Rr(o,r,n,i,a):e.error(`Type ${ce(o)} is not interpolatable.`)}evaluate(t){const e=this.labels,r=this.outputs;if(1===e.length)return r[0].evaluate(t);const n=this.input.evaluate(t);if(n<=e[0])return r[0].evaluate(t);const i=e.length;if(n>=e[i-1])return r[i-1].evaluate(t);const s=yr(e,n),a=Rr.interpolationFactor(this.interpolation,n,e[s],e[s+1]),o=r[s].evaluate(t),l=r[s+1].evaluate(t);return \"interpolate\"===this.operator?br[this.type.kind.toLowerCase()](o,l,a):\"interpolate-hcl\"===this.operator?Fr.reverse(Fr.interpolate(Fr.forward(o),Fr.forward(l),a)):Vr.reverse(Vr.interpolate(Vr.forward(o),Vr.forward(l),a))}eachChild(t){t(this.input);for(const e of this.outputs)t(e);}outputDefined(){return this.outputs.every((t=>t.outputDefined()))}serialize(){let t;t=\"linear\"===this.interpolation.name?[\"linear\"]:\"exponential\"===this.interpolation.name?1===this.interpolation.base?[\"linear\"]:[\"exponential\",this.interpolation.base]:[\"cubic-bezier\"].concat(this.interpolation.controlPoints);const e=[this.operator,t,this.input.serialize()];for(let t=0;t<this.labels.length;t++)e.push(this.labels[t],this.outputs[t].serialize());return e}}function Ur(t,e,r,n){const i=n-r,s=t-r;return 0===i?0:1===e?s/i:(Math.pow(e,s)-1)/(Math.pow(e,i)-1)}var jr=Rr;class $r{constructor(t,e){this.type=t,this.args=e;}static parse(t,e){if(t.length<2)return e.error(\"Expectected at least one argument.\");let r=null;const n=e.expectedType;n&&\"value\"!==n.kind&&(r=n);const i=[];for(const n of t.slice(1)){const t=e.parse(n,1+i.length,r,void 0,{typeAnnotation:\"omit\"});if(!t)return null;r=r||t.type,i.push(t);}const s=n&&i.some((t=>pe(n,t.type)));return new $r(s?se:r,i)}evaluate(t){let e,r=null,n=0;for(const i of this.args){if(n++,r=i.evaluate(t),r&&r instanceof we&&!r.available&&(e||(e=r),r=null,n===this.args.length))return e;if(null!==r)break}return r}eachChild(t){this.args.forEach(t);}outputDefined(){return this.args.every((t=>t.outputDefined()))}serialize(){const t=[\"coalesce\"];return this.eachChild((e=>{t.push(e.serialize());})),t}}var Or=$r;class qr{constructor(t,e){this.type=e.type,this.bindings=[].concat(t),this.result=e;}evaluate(t){return this.result.evaluate(t)}eachChild(t){for(const e of this.bindings)t(e[1]);t(this.result);}static parse(t,e){if(t.length<4)return e.error(`Expected at least 3 arguments, but found ${t.length-1} instead.`);const r=[];for(let n=1;n<t.length-1;n+=2){const i=t[n];if(\"string\"!=typeof i)return e.error(`Expected string, but found ${typeof i} instead.`,n);if(/[^a-zA-Z0-9_]/.test(i))return e.error(\"Variable names must contain only alphanumeric characters or '_'.\",n);const s=e.parse(t[n+1],n+1);if(!s)return null;r.push([i,s]);}const n=e.parse(t[t.length-1],t.length-1,e.expectedType,r);return n?new qr(r,n):null}outputDefined(){return this.result.outputDefined()}serialize(){const t=[\"let\"];for(const[e,r]of this.bindings)t.push(e,r.serialize());return t.push(this.result.serialize()),t}}var Nr=qr;class Gr{constructor(t,e,r){this.type=t,this.index=e,this.input=r;}static parse(t,e){if(3!==t.length)return e.error(`Expected 2 arguments, but found ${t.length-1} instead.`);const r=e.parse(t[1],1,te),n=e.parse(t[2],2,ue(e.expectedType||se));return r&&n?new Gr(n.type.itemType,r,n):null}evaluate(t){const e=this.index.evaluate(t),r=this.input.evaluate(t);if(e<0)throw new Te(`Array index out of bounds: ${e} < 0.`);if(e>=r.length)throw new Te(`Array index out of bounds: ${e} > ${r.length-1}.`);if(e!==Math.floor(e))throw new Te(`Array index must be an integer, but found ${e} instead.`);return r[e]}eachChild(t){t(this.index),t(this.input);}outputDefined(){return !1}serialize(){return [\"at\",this.index.serialize(),this.input.serialize()]}}var Zr=Gr;class Xr{constructor(t,e){this.type=re,this.needle=t,this.haystack=e;}static parse(t,e){if(3!==t.length)return e.error(`Expected 2 arguments, but found ${t.length-1} instead.`);const r=e.parse(t[1],1,se),n=e.parse(t[2],2,se);return r&&n?fe(r.type,[re,ee,te,Qt,se])?new Xr(r,n):e.error(`Expected first argument to be of type boolean, string, number or null, but found ${ce(r.type)} instead`):null}evaluate(t){const e=this.needle.evaluate(t),r=this.haystack.evaluate(t);if(null==r)return !1;if(!de(e,[\"boolean\",\"string\",\"number\",\"null\"]))throw new Te(`Expected first argument to be of type boolean, string, number or null, but found ${ce(ke(e))} instead.`);if(!de(r,[\"string\",\"array\"]))throw new Te(`Expected second argument to be of type array or string, but found ${ce(ke(r))} instead.`);return r.indexOf(e)>=0}eachChild(t){t(this.needle),t(this.haystack);}outputDefined(){return !0}serialize(){return [\"in\",this.needle.serialize(),this.haystack.serialize()]}}var Kr=Xr;class Hr{constructor(t,e,r){this.type=te,this.needle=t,this.haystack=e,this.fromIndex=r;}static parse(t,e){if(t.length<=2||t.length>=5)return e.error(`Expected 3 or 4 arguments, but found ${t.length-1} instead.`);const r=e.parse(t[1],1,se),n=e.parse(t[2],2,se);if(!r||!n)return null;if(!fe(r.type,[re,ee,te,Qt,se]))return e.error(`Expected first argument to be of type boolean, string, number or null, but found ${ce(r.type)} instead`);if(4===t.length){const i=e.parse(t[3],3,te);return i?new Hr(r,n,i):null}return new Hr(r,n)}evaluate(t){const e=this.needle.evaluate(t),r=this.haystack.evaluate(t);if(!de(e,[\"boolean\",\"string\",\"number\",\"null\"]))throw new Te(`Expected first argument to be of type boolean, string, number or null, but found ${ce(ke(e))} instead.`);if(!de(r,[\"string\",\"array\"]))throw new Te(`Expected second argument to be of type array or string, but found ${ce(ke(r))} instead.`);if(this.fromIndex){const n=this.fromIndex.evaluate(t);return r.indexOf(e,n)}return r.indexOf(e)}eachChild(t){t(this.needle),t(this.haystack),this.fromIndex&&t(this.fromIndex);}outputDefined(){return !1}serialize(){if(null!=this.fromIndex&&void 0!==this.fromIndex){const t=this.fromIndex.serialize();return [\"index-of\",this.needle.serialize(),this.haystack.serialize(),t]}return [\"index-of\",this.needle.serialize(),this.haystack.serialize()]}}var Yr=Hr;class Wr{constructor(t,e,r,n,i,s){this.inputType=t,this.type=e,this.input=r,this.cases=n,this.outputs=i,this.otherwise=s;}static parse(t,e){if(t.length<5)return e.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if(t.length%2!=1)return e.error(\"Expected an even number of arguments.\");let r,n;e.expectedType&&\"value\"!==e.expectedType.kind&&(n=e.expectedType);const i={},s=[];for(let a=2;a<t.length-1;a+=2){let o=t[a];const l=t[a+1];Array.isArray(o)||(o=[o]);const u=e.concat(a);if(0===o.length)return u.error(\"Expected at least one branch label.\");for(const t of o){if(\"number\"!=typeof t&&\"string\"!=typeof t)return u.error(\"Branch labels must be numbers or strings.\");if(\"number\"==typeof t&&Math.abs(t)>Number.MAX_SAFE_INTEGER)return u.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(\"number\"==typeof t&&Math.floor(t)!==t)return u.error(\"Numeric branch labels must be integer values.\");if(r){if(u.checkSubtype(r,ke(t)))return null}else r=ke(t);if(void 0!==i[String(t)])return u.error(\"Branch labels must be unique.\");i[String(t)]=s.length;}const c=e.parse(l,a,n);if(!c)return null;n=n||c.type,s.push(c);}const a=e.parse(t[1],1,se);if(!a)return null;const o=e.parse(t[t.length-1],t.length-1,n);return o?\"value\"!==a.type.kind&&e.concat(1).checkSubtype(r,a.type)?null:new Wr(r,n,a,i,s,o):null}evaluate(t){const e=this.input.evaluate(t);return (ke(e)===this.inputType&&this.outputs[this.cases[e]]||this.otherwise).evaluate(t)}eachChild(t){t(this.input),this.outputs.forEach(t),t(this.otherwise);}outputDefined(){return this.outputs.every((t=>t.outputDefined()))&&this.otherwise.outputDefined()}serialize(){const t=[\"match\",this.input.serialize()],e=Object.keys(this.cases).sort(),r=[],n={};for(const t of e){const e=n[this.cases[t]];void 0===e?(n[this.cases[t]]=r.length,r.push([this.cases[t],[t]])):r[e][1].push(t);}const i=t=>\"number\"===this.inputType.kind?Number(t):t;for(const[e,n]of r)t.push(1===n.length?i(n[0]):n.map(i)),t.push(this.outputs[e].serialize());return t.push(this.otherwise.serialize()),t}}var Jr=Wr;class Qr{constructor(t,e,r){this.type=t,this.branches=e,this.otherwise=r;}static parse(t,e){if(t.length<4)return e.error(`Expected at least 3 arguments, but found only ${t.length-1}.`);if(t.length%2!=0)return e.error(\"Expected an odd number of arguments.\");let r;e.expectedType&&\"value\"!==e.expectedType.kind&&(r=e.expectedType);const n=[];for(let i=1;i<t.length-1;i+=2){const s=e.parse(t[i],i,re);if(!s)return null;const a=e.parse(t[i+1],i+1,r);if(!a)return null;n.push([s,a]),r=r||a.type;}const i=e.parse(t[t.length-1],t.length-1,r);return i?new Qr(r,n,i):null}evaluate(t){for(const[e,r]of this.branches)if(e.evaluate(t))return r.evaluate(t);return this.otherwise.evaluate(t)}eachChild(t){for(const[e,r]of this.branches)t(e),t(r);t(this.otherwise);}outputDefined(){return this.branches.every((([t,e])=>e.outputDefined()))&&this.otherwise.outputDefined()}serialize(){const t=[\"case\"];return this.eachChild((e=>{t.push(e.serialize());})),t}}var tn=Qr;class en{constructor(t,e,r,n){this.type=t,this.input=e,this.beginIndex=r,this.endIndex=n;}static parse(t,e){if(t.length<=2||t.length>=5)return e.error(`Expected 3 or 4 arguments, but found ${t.length-1} instead.`);const r=e.parse(t[1],1,se),n=e.parse(t[2],2,te);if(!r||!n)return null;if(!fe(r.type,[ue(se),ee,se]))return e.error(`Expected first argument to be of type array or string, but found ${ce(r.type)} instead`);if(4===t.length){const i=e.parse(t[3],3,te);return i?new en(r.type,r,n,i):null}return new en(r.type,r,n)}evaluate(t){const e=this.input.evaluate(t),r=this.beginIndex.evaluate(t);if(!de(e,[\"string\",\"array\"]))throw new Te(`Expected first argument to be of type array or string, but found ${ce(ke(e))} instead.`);if(this.endIndex){const n=this.endIndex.evaluate(t);return e.slice(r,n)}return e.slice(r)}eachChild(t){t(this.input),t(this.beginIndex),this.endIndex&&t(this.endIndex);}outputDefined(){return !1}serialize(){if(null!=this.endIndex&&void 0!==this.endIndex){const t=this.endIndex.serialize();return [\"slice\",this.input.serialize(),this.beginIndex.serialize(),t]}return [\"slice\",this.input.serialize(),this.beginIndex.serialize()]}}var rn=en;function nn(t,e){return \"==\"===t||\"!=\"===t?\"boolean\"===e.kind||\"string\"===e.kind||\"number\"===e.kind||\"null\"===e.kind||\"value\"===e.kind:\"string\"===e.kind||\"number\"===e.kind||\"value\"===e.kind}function sn(t,e,r,n){return 0===n.compare(e,r)}function an(t,e,r){const n=\"==\"!==t&&\"!=\"!==t;return class i{constructor(t,e,r){this.type=re,this.lhs=t,this.rhs=e,this.collator=r,this.hasUntypedArgument=\"value\"===t.type.kind||\"value\"===e.type.kind;}static parse(t,e){if(3!==t.length&&4!==t.length)return e.error(\"Expected two or three arguments.\");const r=t[0];let s=e.parse(t[1],1,se);if(!s)return null;if(!nn(r,s.type))return e.concat(1).error(`\"${r}\" comparisons are not supported for type '${ce(s.type)}'.`);let a=e.parse(t[2],2,se);if(!a)return null;if(!nn(r,a.type))return e.concat(2).error(`\"${r}\" comparisons are not supported for type '${ce(a.type)}'.`);if(s.type.kind!==a.type.kind&&\"value\"!==s.type.kind&&\"value\"!==a.type.kind)return e.error(`Cannot compare types '${ce(s.type)}' and '${ce(a.type)}'.`);n&&(\"value\"===s.type.kind&&\"value\"!==a.type.kind?s=new Ce(a.type,[s]):\"value\"!==s.type.kind&&\"value\"===a.type.kind&&(a=new Ce(s.type,[a])));let o=null;if(4===t.length){if(\"string\"!==s.type.kind&&\"string\"!==a.type.kind&&\"value\"!==s.type.kind&&\"value\"!==a.type.kind)return e.error(\"Cannot use collator to compare non-string types.\");if(o=e.parse(t[3],3,ae),!o)return null}return new i(s,a,o)}evaluate(i){const s=this.lhs.evaluate(i),a=this.rhs.evaluate(i);if(n&&this.hasUntypedArgument){const e=ke(s),r=ke(a);if(e.kind!==r.kind||\"string\"!==e.kind&&\"number\"!==e.kind)throw new Te(`Expected arguments for \"${t}\" to be (string, string) or (number, number), but found (${e.kind}, ${r.kind}) instead.`)}if(this.collator&&!n&&this.hasUntypedArgument){const t=ke(s),r=ke(a);if(\"string\"!==t.kind||\"string\"!==r.kind)return e(i,s,a)}return this.collator?r(i,s,a,this.collator.evaluate(i)):e(i,s,a)}eachChild(t){t(this.lhs),t(this.rhs),this.collator&&t(this.collator);}outputDefined(){return !0}serialize(){const e=[t];return this.eachChild((t=>{e.push(t.serialize());})),e}}}const on=an(\"==\",(function(t,e,r){return e===r}),sn),ln=an(\"!=\",(function(t,e,r){return e!==r}),(function(t,e,r,n){return !sn(0,e,r,n)})),un=an(\"<\",(function(t,e,r){return e<r}),(function(t,e,r,n){return n.compare(e,r)<0})),cn=an(\">\",(function(t,e,r){return e>r}),(function(t,e,r,n){return n.compare(e,r)>0})),hn=an(\"<=\",(function(t,e,r){return e<=r}),(function(t,e,r,n){return n.compare(e,r)<=0})),pn=an(\">=\",(function(t,e,r){return e>=r}),(function(t,e,r,n){return n.compare(e,r)>=0}));class fn{constructor(t,e,r,n,i,s){this.type=ee,this.number=t,this.locale=e,this.currency=r,this.unit=n,this.minFractionDigits=i,this.maxFractionDigits=s;}static parse(t,e){if(3!==t.length)return e.error(\"Expected two arguments.\");const r=e.parse(t[1],1,te);if(!r)return null;const n=t[2];if(\"object\"!=typeof n||Array.isArray(n))return e.error(\"NumberFormat options argument must be an object.\");let i=null;if(n.locale&&(i=e.parse(n.locale,1,ee),!i))return null;let s=null;if(n.currency&&(s=e.parse(n.currency,1,ee),!s))return null;let a=null;if(n.unit&&(a=e.parse(n.unit,1,ee),!a))return null;let o=null;if(n[\"min-fraction-digits\"]&&(o=e.parse(n[\"min-fraction-digits\"],1,te),!o))return null;let l=null;return n[\"max-fraction-digits\"]&&(l=e.parse(n[\"max-fraction-digits\"],1,te),!l)?null:new fn(r,i,s,a,o,l)}evaluate(t){return new Intl.NumberFormat(this.locale?this.locale.evaluate(t):[],{style:(this.currency?\"currency\":this.unit&&\"unit\")||\"decimal\",currency:this.currency?this.currency.evaluate(t):void 0,unit:this.unit?this.unit.evaluate(t):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(t):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(t):void 0}).format(this.number.evaluate(t))}eachChild(t){t(this.number),this.locale&&t(this.locale),this.currency&&t(this.currency),this.unit&&t(this.unit),this.minFractionDigits&&t(this.minFractionDigits),this.maxFractionDigits&&t(this.maxFractionDigits);}outputDefined(){return !1}serialize(){const t={};return this.locale&&(t.locale=this.locale.serialize()),this.currency&&(t.currency=this.currency.serialize()),this.unit&&(t.unit=this.unit.serialize()),this.minFractionDigits&&(t[\"min-fraction-digits\"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(t[\"max-fraction-digits\"]=this.maxFractionDigits.serialize()),[\"number-format\",this.number.serialize(),t]}}class dn{constructor(t){this.type=te,this.input=t;}static parse(t,e){if(2!==t.length)return e.error(`Expected 1 argument, but found ${t.length-1} instead.`);const r=e.parse(t[1],1);return r?\"array\"!==r.type.kind&&\"string\"!==r.type.kind&&\"value\"!==r.type.kind?e.error(`Expected argument of type string or array, but found ${ce(r.type)} instead.`):new dn(r):null}evaluate(t){const e=this.input.evaluate(t);if(\"string\"==typeof e)return e.length;if(Array.isArray(e))return e.length;throw new Te(`Expected value to be of type string or array, but found ${ce(ke(e))} instead.`)}eachChild(t){t(this.input);}outputDefined(){return !1}serialize(){const t=[\"length\"];return this.eachChild((e=>{t.push(e.serialize());})),t}}const yn={\"==\":on,\"!=\":ln,\">\":cn,\"<\":un,\">=\":pn,\"<=\":hn,array:Ce,at:Zr,boolean:Ce,case:tn,coalesce:Or,collator:Oe,format:Pe,image:De,in:Kr,\"index-of\":Yr,interpolate:jr,\"interpolate-hcl\":jr,\"interpolate-lab\":jr,length:dn,let:Nr,literal:ze,match:Jr,number:Ce,\"number-format\":fn,object:Ce,slice:rn,step:gr,string:Ce,\"to-boolean\":Le,\"to-color\":Le,\"to-number\":Le,\"to-string\":Le,var:hr,within:ar};function mn(t,[e,r,n,i]){e=e.evaluate(t),r=r.evaluate(t),n=n.evaluate(t);const s=i?i.evaluate(t):1,a=Ae(e,r,n,s);if(a)throw new Te(a);return new xe(e/255*s,r/255*s,n/255*s,s)}function gn(t,e){return t in e}function xn(t,e){const r=e[t];return void 0===r?null:r}function vn(t){return {type:t}}$e.register(yn,{error:[{kind:\"error\"},[ee],(t,[e])=>{throw new Te(e.evaluate(t))}],typeof:[ee,[se],(t,[e])=>ce(ke(e.evaluate(t)))],\"to-rgba\":[ue(te,4),[ne],(t,[e])=>e.evaluate(t).toArray()],rgb:[ne,[te,te,te],mn],rgba:[ne,[te,te,te,te],mn],has:{type:re,overloads:[[[ee],(t,[e])=>gn(e.evaluate(t),t.properties())],[[ee,ie],(t,[e,r])=>gn(e.evaluate(t),r.evaluate(t))]]},get:{type:se,overloads:[[[ee],(t,[e])=>xn(e.evaluate(t),t.properties())],[[ee,ie],(t,[e,r])=>xn(e.evaluate(t),r.evaluate(t))]]},\"feature-state\":[se,[ee],(t,[e])=>xn(e.evaluate(t),t.featureState||{})],properties:[ie,[],t=>t.properties()],\"geometry-type\":[ee,[],t=>t.geometryType()],id:[se,[],t=>t.id()],zoom:[te,[],t=>t.globals.zoom],pitch:[te,[],t=>t.globals.pitch||0],\"distance-from-center\":[te,[],t=>t.distanceFromCenter()],\"heatmap-density\":[te,[],t=>t.globals.heatmapDensity||0],\"line-progress\":[te,[],t=>t.globals.lineProgress||0],\"sky-radial-progress\":[te,[],t=>t.globals.skyRadialProgress||0],accumulated:[se,[],t=>void 0===t.globals.accumulated?null:t.globals.accumulated],\"+\":[te,vn(te),(t,e)=>{let r=0;for(const n of e)r+=n.evaluate(t);return r}],\"*\":[te,vn(te),(t,e)=>{let r=1;for(const n of e)r*=n.evaluate(t);return r}],\"-\":{type:te,overloads:[[[te,te],(t,[e,r])=>e.evaluate(t)-r.evaluate(t)],[[te],(t,[e])=>-e.evaluate(t)]]},\"/\":[te,[te,te],(t,[e,r])=>e.evaluate(t)/r.evaluate(t)],\"%\":[te,[te,te],(t,[e,r])=>e.evaluate(t)%r.evaluate(t)],ln2:[te,[],()=>Math.LN2],pi:[te,[],()=>Math.PI],e:[te,[],()=>Math.E],\"^\":[te,[te,te],(t,[e,r])=>Math.pow(e.evaluate(t),r.evaluate(t))],sqrt:[te,[te],(t,[e])=>Math.sqrt(e.evaluate(t))],log10:[te,[te],(t,[e])=>Math.log(e.evaluate(t))/Math.LN10],ln:[te,[te],(t,[e])=>Math.log(e.evaluate(t))],log2:[te,[te],(t,[e])=>Math.log(e.evaluate(t))/Math.LN2],sin:[te,[te],(t,[e])=>Math.sin(e.evaluate(t))],cos:[te,[te],(t,[e])=>Math.cos(e.evaluate(t))],tan:[te,[te],(t,[e])=>Math.tan(e.evaluate(t))],asin:[te,[te],(t,[e])=>Math.asin(e.evaluate(t))],acos:[te,[te],(t,[e])=>Math.acos(e.evaluate(t))],atan:[te,[te],(t,[e])=>Math.atan(e.evaluate(t))],min:[te,vn(te),(t,e)=>Math.min(...e.map((e=>e.evaluate(t))))],max:[te,vn(te),(t,e)=>Math.max(...e.map((e=>e.evaluate(t))))],abs:[te,[te],(t,[e])=>Math.abs(e.evaluate(t))],round:[te,[te],(t,[e])=>{const r=e.evaluate(t);return r<0?-Math.round(-r):Math.round(r)}],floor:[te,[te],(t,[e])=>Math.floor(e.evaluate(t))],ceil:[te,[te],(t,[e])=>Math.ceil(e.evaluate(t))],\"filter-==\":[re,[ee,se],(t,[e,r])=>t.properties()[e.value]===r.value],\"filter-id-==\":[re,[se],(t,[e])=>t.id()===e.value],\"filter-type-==\":[re,[ee],(t,[e])=>t.geometryType()===e.value],\"filter-<\":[re,[ee,se],(t,[e,r])=>{const n=t.properties()[e.value],i=r.value;return typeof n==typeof i&&n<i}],\"filter-id-<\":[re,[se],(t,[e])=>{const r=t.id(),n=e.value;return typeof r==typeof n&&r<n}],\"filter->\":[re,[ee,se],(t,[e,r])=>{const n=t.properties()[e.value],i=r.value;return typeof n==typeof i&&n>i}],\"filter-id->\":[re,[se],(t,[e])=>{const r=t.id(),n=e.value;return typeof r==typeof n&&r>n}],\"filter-<=\":[re,[ee,se],(t,[e,r])=>{const n=t.properties()[e.value],i=r.value;return typeof n==typeof i&&n<=i}],\"filter-id-<=\":[re,[se],(t,[e])=>{const r=t.id(),n=e.value;return typeof r==typeof n&&r<=n}],\"filter->=\":[re,[ee,se],(t,[e,r])=>{const n=t.properties()[e.value],i=r.value;return typeof n==typeof i&&n>=i}],\"filter-id->=\":[re,[se],(t,[e])=>{const r=t.id(),n=e.value;return typeof r==typeof n&&r>=n}],\"filter-has\":[re,[se],(t,[e])=>e.value in t.properties()],\"filter-has-id\":[re,[],t=>null!==t.id()&&void 0!==t.id()],\"filter-type-in\":[re,[ue(ee)],(t,[e])=>e.value.indexOf(t.geometryType())>=0],\"filter-id-in\":[re,[ue(se)],(t,[e])=>e.value.indexOf(t.id())>=0],\"filter-in-small\":[re,[ee,ue(se)],(t,[e,r])=>r.value.indexOf(t.properties()[e.value])>=0],\"filter-in-large\":[re,[ee,ue(se)],(t,[e,r])=>function(t,e,r,n){for(;r<=n;){const i=r+n>>1;if(e[i]===t)return !0;e[i]>t?n=i-1:r=i+1;}return !1}(t.properties()[e.value],r.value,0,r.value.length-1)],all:{type:re,overloads:[[[re,re],(t,[e,r])=>e.evaluate(t)&&r.evaluate(t)],[vn(re),(t,e)=>{for(const r of e)if(!r.evaluate(t))return !1;return !0}]]},any:{type:re,overloads:[[[re,re],(t,[e,r])=>e.evaluate(t)||r.evaluate(t)],[vn(re),(t,e)=>{for(const r of e)if(r.evaluate(t))return !0;return !1}]]},\"!\":[re,[re],(t,[e])=>!e.evaluate(t)],\"is-supported-script\":[re,[ee],(t,[e])=>{const r=t.globals&&t.globals.isSupportedScript;return !r||r(e.evaluate(t))}],upcase:[ee,[ee],(t,[e])=>e.evaluate(t).toUpperCase()],downcase:[ee,[ee],(t,[e])=>e.evaluate(t).toLowerCase()],concat:[ee,vn(se),(t,e)=>e.map((e=>Ie(e.evaluate(t)))).join(\"\")],\"resolved-locale\":[ee,[ae],(t,[e])=>e.evaluate(t).resolvedLocale()]});var bn=yn;function _n(t){return {result:\"success\",value:t}}function wn(t){return {result:\"error\",value:t}}function An(t){return \"data-driven\"===t[\"property-type\"]||\"cross-faded-data-driven\"===t[\"property-type\"]}function Sn(t){return !!t.expression&&t.expression.parameters.indexOf(\"zoom\")>-1}function kn(t){return !!t.expression&&t.expression.interpolated}function In(t){return t instanceof Number?\"number\":t instanceof String?\"string\":t instanceof Boolean?\"boolean\":Array.isArray(t)?\"array\":null===t?\"null\":typeof t}function Mn(t){return \"object\"==typeof t&&null!==t&&!Array.isArray(t)}function zn(t){return t}function Tn(t,e){const r=\"color\"===e.type,n=t.stops&&\"object\"==typeof t.stops[0][0],i=n||!(n||void 0!==t.property),s=t.type||(kn(e)?\"exponential\":\"interval\");if(r&&((t=Zt({},t)).stops&&(t.stops=t.stops.map((t=>[t[0],xe.parse(t[1])]))),t.default=xe.parse(t.default?t.default:e.default)),t.colorSpace&&\"rgb\"!==t.colorSpace&&!Lr[t.colorSpace])throw new Error(`Unknown color space: ${t.colorSpace}`);let a,o,l;if(\"exponential\"===s)a=Pn;else if(\"interval\"===s)a=Cn;else if(\"categorical\"===s){a=En,o=Object.create(null);for(const e of t.stops)o[e[0]]=e[1];l=typeof t.stops[0][0];}else {if(\"identity\"!==s)throw new Error(`Unknown function type \"${s}\"`);a=Dn;}if(n){const r={},n=[];for(let e=0;e<t.stops.length;e++){const i=t.stops[e],s=i[0].zoom;void 0===r[s]&&(r[s]={zoom:s,type:t.type,property:t.property,default:t.default,stops:[]},n.push(s)),r[s].stops.push([i[0].value,i[1]]);}const i=[];for(const t of n)i.push([r[t].zoom,Tn(r[t],e)]);const s={name:\"linear\"};return {kind:\"composite\",interpolationType:s,interpolationFactor:jr.interpolationFactor.bind(void 0,s),zoomStops:i.map((t=>t[0])),evaluate:({zoom:r},n)=>Pn({stops:i,base:t.base},e,r).evaluate(r,n)}}if(i){const r=\"exponential\"===s?{name:\"exponential\",base:void 0!==t.base?t.base:1}:null;return {kind:\"camera\",interpolationType:r,interpolationFactor:jr.interpolationFactor.bind(void 0,r),zoomStops:t.stops.map((t=>t[0])),evaluate:({zoom:r})=>a(t,e,r,o,l)}}return {kind:\"source\",evaluate(r,n){const i=n&&n.properties?n.properties[t.property]:void 0;return void 0===i?Bn(t.default,e.default):a(t,e,i,o,l)}}}function Bn(t,e,r){return void 0!==t?t:void 0!==e?e:void 0!==r?r:void 0}function En(t,e,r,n,i){return Bn(typeof r===i?n[r]:void 0,t.default,e.default)}function Cn(t,e,r){if(\"number\"!==In(r))return Bn(t.default,e.default);const n=t.stops.length;if(1===n)return t.stops[0][1];if(r<=t.stops[0][0])return t.stops[0][1];if(r>=t.stops[n-1][0])return t.stops[n-1][1];const i=yr(t.stops.map((t=>t[0])),r);return t.stops[i][1]}function Pn(t,e,r){const n=void 0!==t.base?t.base:1;if(\"number\"!==In(r))return Bn(t.default,e.default);const i=t.stops.length;if(1===i)return t.stops[0][1];if(r<=t.stops[0][0])return t.stops[0][1];if(r>=t.stops[i-1][0])return t.stops[i-1][1];const s=yr(t.stops.map((t=>t[0])),r),a=function(t,e,r,n){const i=n-r,s=t-r;return 0===i?0:1===e?s/i:(Math.pow(e,s)-1)/(Math.pow(e,i)-1)}(r,n,t.stops[s][0],t.stops[s+1][0]),o=t.stops[s][1],l=t.stops[s+1][1];let u=br[e.type]||zn;if(t.colorSpace&&\"rgb\"!==t.colorSpace){const e=Lr[t.colorSpace];u=(t,r)=>e.reverse(e.interpolate(e.forward(t),e.forward(r),a));}return \"function\"==typeof o.evaluate?{evaluate(...t){const e=o.evaluate.apply(void 0,t),r=l.evaluate.apply(void 0,t);if(void 0!==e&&void 0!==r)return u(e,r,a)}}:u(o,l,a)}function Dn(t,e,r){return \"color\"===e.type?r=xe.parse(r):\"formatted\"===e.type?r=_e.fromString(r.toString()):\"resolvedImage\"===e.type?r=we.fromString(r.toString()):In(r)===e.type||\"enum\"===e.type&&e.values[r]||(r=void 0),Bn(r,t.default,e.default)}class Vn{constructor(t,e){this.expression=t,this._warningHistory={},this._evaluator=new Ue,this._defaultValue=e?function(t){return \"color\"===t.type&&(Mn(t.default)||Array.isArray(t.default))?new xe(0,0,0,0):\"color\"===t.type?xe.parse(t.default)||null:void 0===t.default?null:t.default}(e):null,this._enumValues=e&&\"enum\"===e.type?e.values:null;}evaluateWithoutErrorHandling(t,e,r,n,i,s,a,o){return this._evaluator.globals=t,this._evaluator.feature=e,this._evaluator.featureState=r,this._evaluator.canonical=n||null,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=s,this._evaluator.featureTileCoord=a||null,this._evaluator.featureDistanceData=o||null,this.expression.evaluate(this._evaluator)}evaluate(t,e,r,n,i,s,a,o){this._evaluator.globals=t,this._evaluator.feature=e||null,this._evaluator.featureState=r||null,this._evaluator.canonical=n||null,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=s||null,this._evaluator.featureTileCoord=a||null,this._evaluator.featureDistanceData=o||null;try{const t=this.expression.evaluate(this._evaluator);if(null==t||\"number\"==typeof t&&t!=t)return this._defaultValue;if(this._enumValues&&!(t in this._enumValues))throw new Te(`Expected value to be one of ${Object.keys(this._enumValues).map((t=>JSON.stringify(t))).join(\", \")}, but found ${JSON.stringify(t)} instead.`);return t}catch(t){return this._warningHistory[t.message]||(this._warningHistory[t.message]=!0,\"undefined\"!=typeof console&&console.warn(t.message)),this._defaultValue}}}function Fn(t){return Array.isArray(t)&&t.length>0&&\"string\"==typeof t[0]&&t[0]in bn}function Ln(t,e){const r=new fr(bn,[],e?function(t){const e={color:ne,string:ee,number:te,enum:ee,boolean:re,formatted:oe,resolvedImage:le};return \"array\"===t.type?ue(e[t.value]||se,t.length):e[t.type]}(e):void 0),n=r.parse(t,void 0,void 0,void 0,e&&\"string\"===e.type?{typeAnnotation:\"coerce\"}:void 0);return n?_n(new Vn(n,e)):wn(r.errors)}class Rn{constructor(t,e){this.kind=t,this._styleExpression=e,this.isStateDependent=\"constant\"!==t&&!lr(e.expression);}evaluateWithoutErrorHandling(t,e,r,n,i,s){return this._styleExpression.evaluateWithoutErrorHandling(t,e,r,n,i,s)}evaluate(t,e,r,n,i,s){return this._styleExpression.evaluate(t,e,r,n,i,s)}}class Un{constructor(t,e,r,n){this.kind=t,this.zoomStops=r,this._styleExpression=e,this.isStateDependent=\"camera\"!==t&&!lr(e.expression),this.interpolationType=n;}evaluateWithoutErrorHandling(t,e,r,n,i,s){return this._styleExpression.evaluateWithoutErrorHandling(t,e,r,n,i,s)}evaluate(t,e,r,n,i,s){return this._styleExpression.evaluate(t,e,r,n,i,s)}interpolationFactor(t,e,r){return this.interpolationType?jr.interpolationFactor(this.interpolationType,t,e,r):0}}function jn(t,e){if(\"error\"===(t=Ln(t,e)).result)return t;const r=t.value.expression,n=or(r);if(!n&&!An(e))return wn([new Yt(\"\",\"data expressions not supported\")]);const i=ur(r,[\"zoom\",\"pitch\",\"distance-from-center\"]);if(!i&&!Sn(e))return wn([new Yt(\"\",\"zoom expressions not supported\")]);const s=On(r);return s||i?s instanceof Yt?wn([s]):s instanceof jr&&!kn(e)?wn([new Yt(\"\",'\"interpolate\" expressions cannot be used with this property')]):_n(s?new Un(n?\"camera\":\"composite\",t.value,s.labels,s instanceof jr?s.interpolation:void 0):new Rn(n?\"constant\":\"source\",t.value)):wn([new Yt(\"\",'\"zoom\" expression may only be used as input to a top-level \"step\" or \"interpolate\" expression.')])}class $n{constructor(t,e){this._parameters=t,this._specification=e,Zt(this,Tn(this._parameters,this._specification));}static deserialize(t){return new $n(t._parameters,t._specification)}static serialize(t){return {_parameters:t._parameters,_specification:t._specification}}}function On(t){let e=null;if(t instanceof Nr)e=On(t.result);else if(t instanceof Or){for(const r of t.args)if(e=On(r),e)break}else (t instanceof gr||t instanceof jr)&&t.input instanceof $e&&\"zoom\"===t.input.name&&(e=t);return e instanceof Yt||t.eachChild((t=>{const r=On(t);r instanceof Yt?e=r:!e&&r?e=new Yt(\"\",'\"zoom\" expression may only be used as input to a top-level \"step\" or \"interpolate\" expression.'):e&&r&&e!==r&&(e=new Yt(\"\",'Only one zoom-based \"step\" or \"interpolate\" subexpression may be used in an expression.'));})),e}class qn{constructor(t,e,r,n){this.message=(t?`${t}: `:\"\")+r,n&&(this.identifier=n),null!=e&&e.__line__&&(this.line=e.__line__);}}function Nn(t){const e=t.key,r=t.value,n=t.valueSpec||{},i=t.objectElementValidators||{},s=t.style,a=t.styleSpec;let o=[];const l=In(r);if(\"object\"!==l)return [new qn(e,r,`object expected, ${l} found`)];for(const t in r){const l=t.split(\".\")[0],u=n[l]||n[\"*\"];let c;i[l]?c=i[l]:n[l]?c=Ai:i[\"*\"]?c=i[\"*\"]:n[\"*\"]&&(c=Ai),c?o=o.concat(c({key:(e?`${e}.`:e)+t,value:r[t],valueSpec:u,style:s,styleSpec:a,object:r,objectKey:t},r)):o.push(new qn(e,r[t],`unknown property \"${t}\"`));}for(const t in n)i[t]||n[t].required&&void 0===n[t].default&&void 0===r[t]&&o.push(new qn(e,r,`missing required property \"${t}\"`));return o}function Gn(t){const e=t.value,r=t.valueSpec,n=t.style,i=t.styleSpec,s=t.key,a=t.arrayElementValidator||Ai;if(\"array\"!==In(e))return [new qn(s,e,`array expected, ${In(e)} found`)];if(r.length&&e.length!==r.length)return [new qn(s,e,`array length ${r.length} expected, length ${e.length} found`)];if(r[\"min-length\"]&&e.length<r[\"min-length\"])return [new qn(s,e,`array length at least ${r[\"min-length\"]} expected, length ${e.length} found`)];let o={type:r.value,values:r.values,minimum:r.minimum,maximum:r.maximum,function:void 0};i.$version<7&&(o.function=r.function),\"object\"===In(r.value)&&(o=r.value);let l=[];for(let t=0;t<e.length;t++)l=l.concat(a({array:e,arrayIndex:t,value:e[t],valueSpec:o,style:n,styleSpec:i,key:`${s}[${t}]`}));return l}function Zn(t){const e=t.key,r=t.value,n=t.valueSpec;let i=In(r);if(\"number\"===i&&r!=r&&(i=\"NaN\"),\"number\"!==i)return [new qn(e,r,`number expected, ${i} found`)];if(\"minimum\"in n){let i=n.minimum;if(\"array\"===In(n.minimum)&&(i=n.minimum[t.arrayIndex]),r<i)return [new qn(e,r,`${r} is less than the minimum value ${i}`)]}if(\"maximum\"in n){let i=n.maximum;if(\"array\"===In(n.maximum)&&(i=n.maximum[t.arrayIndex]),r>i)return [new qn(e,r,`${r} is greater than the maximum value ${i}`)]}return []}function Xn(t){const e=t.valueSpec,r=Xt(t.value.type);let n,i,s,a={};const o=\"categorical\"!==r&&void 0===t.value.property,l=!o,u=\"array\"===In(t.value.stops)&&\"array\"===In(t.value.stops[0])&&\"object\"===In(t.value.stops[0][0]),c=Nn({key:t.key,value:t.value,valueSpec:t.styleSpec.function,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{stops:function(t){if(\"identity\"===r)return [new qn(t.key,t.value,'identity function may not have a \"stops\" property')];let e=[];const n=t.value;return e=e.concat(Gn({key:t.key,value:n,valueSpec:t.valueSpec,style:t.style,styleSpec:t.styleSpec,arrayElementValidator:h})),\"array\"===In(n)&&0===n.length&&e.push(new qn(t.key,n,\"array must have at least one stop\")),e},default:function(t){return Ai({key:t.key,value:t.value,valueSpec:e,style:t.style,styleSpec:t.styleSpec})}}});return \"identity\"===r&&o&&c.push(new qn(t.key,t.value,'missing required property \"property\"')),\"identity\"===r||t.value.stops||c.push(new qn(t.key,t.value,'missing required property \"stops\"')),\"exponential\"===r&&t.valueSpec.expression&&!kn(t.valueSpec)&&c.push(new qn(t.key,t.value,\"exponential functions not supported\")),t.styleSpec.$version>=8&&(l&&!An(t.valueSpec)?c.push(new qn(t.key,t.value,\"property functions not supported\")):o&&!Sn(t.valueSpec)&&c.push(new qn(t.key,t.value,\"zoom functions not supported\"))),\"categorical\"!==r&&!u||void 0!==t.value.property||c.push(new qn(t.key,t.value,'\"property\" property is required')),c;function h(t){let r=[];const n=t.value,o=t.key;if(\"array\"!==In(n))return [new qn(o,n,`array expected, ${In(n)} found`)];if(2!==n.length)return [new qn(o,n,`array length 2 expected, length ${n.length} found`)];if(u){if(\"object\"!==In(n[0]))return [new qn(o,n,`object expected, ${In(n[0])} found`)];if(void 0===n[0].zoom)return [new qn(o,n,\"object stop key must have zoom\")];if(void 0===n[0].value)return [new qn(o,n,\"object stop key must have value\")];const e=Xt(n[0].zoom);if(\"number\"!=typeof e)return [new qn(o,n[0].zoom,\"stop zoom values must be numbers\")];if(s&&s>e)return [new qn(o,n[0].zoom,\"stop zoom values must appear in ascending order\")];e!==s&&(s=e,i=void 0,a={}),r=r.concat(Nn({key:`${o}[0]`,value:n[0],valueSpec:{zoom:{}},style:t.style,styleSpec:t.styleSpec,objectElementValidators:{zoom:Zn,value:p}}));}else r=r.concat(p({key:`${o}[0]`,value:n[0],valueSpec:{},style:t.style,styleSpec:t.styleSpec},n));return Fn(Kt(n[1]))?r.concat([new qn(`${o}[1]`,n[1],\"expressions are not allowed in function stops.\")]):r.concat(Ai({key:`${o}[1]`,value:n[1],valueSpec:e,style:t.style,styleSpec:t.styleSpec}))}function p(t,s){const o=In(t.value),l=Xt(t.value),u=null!==t.value?t.value:s;if(n){if(o!==n)return [new qn(t.key,u,`${o} stop domain type must match previous stop domain type ${n}`)]}else n=o;if(\"number\"!==o&&\"string\"!==o&&\"boolean\"!==o&&\"number\"!=typeof l&&\"string\"!=typeof l&&\"boolean\"!=typeof l)return [new qn(t.key,u,\"stop domain value must be a number, string, or boolean\")];if(\"number\"!==o&&\"categorical\"!==r){let n=`number expected, ${o} found`;return An(e)&&void 0===r&&(n+='\\nIf you intended to use a categorical function, specify `\"type\": \"categorical\"`.'),[new qn(t.key,u,n)]}return \"categorical\"!==r||\"number\"!==o||\"number\"==typeof l&&isFinite(l)&&Math.floor(l)===l?\"categorical\"!==r&&\"number\"===o&&\"number\"==typeof l&&\"number\"==typeof i&&void 0!==i&&l<i?[new qn(t.key,u,\"stop domain values must appear in ascending order\")]:(i=l,\"categorical\"===r&&l in a?[new qn(t.key,u,\"stop domain values must be unique\")]:(a[l]=!0,[])):[new qn(t.key,u,`integer expected, found ${String(l)}`)]}}function Kn(t){const e=(\"property\"===t.expressionContext?jn:Ln)(Kt(t.value),t.valueSpec);if(\"error\"===e.result)return e.value.map((e=>new qn(`${t.key}${e.key}`,t.value,e.message)));const r=e.value.expression||e.value._styleExpression.expression;if(\"property\"===t.expressionContext&&\"text-font\"===t.propertyKey&&!r.outputDefined())return [new qn(t.key,t.value,`Invalid data expression for \"${t.propertyKey}\". Output values must be contained as literals within the expression.`)];if(\"property\"===t.expressionContext&&\"layout\"===t.propertyType&&!lr(r))return [new qn(t.key,t.value,'\"feature-state\" data expressions are not supported with layout properties.')];if(\"filter\"===t.expressionContext)return Hn(r,t);if(t.expressionContext&&0===t.expressionContext.indexOf(\"cluster\")){if(!ur(r,[\"zoom\",\"feature-state\"]))return [new qn(t.key,t.value,'\"zoom\" and \"feature-state\" expressions are not supported with cluster properties.')];if(\"cluster-initial\"===t.expressionContext&&!or(r))return [new qn(t.key,t.value,\"Feature data expressions are not supported with initial expression part of cluster properties.\")]}return []}function Hn(t,e){const r=new Set([\"zoom\",\"feature-state\",\"pitch\",\"distance-from-center\"]);if(e.valueSpec&&e.valueSpec.expression)for(const t of e.valueSpec.expression.parameters)r.delete(t);if(0===r.size)return [];const n=[];return t instanceof $e&&r.has(t.name)?[new qn(e.key,e.value,`[\"${t.name}\"] expression is not supported in a filter for a ${e.object.type} layer with id: ${e.object.id}`)]:(t.eachChild((t=>{n.push(...Hn(t,e));})),n)}function Yn(t){const e=t.key,r=t.value,n=t.valueSpec,i=[];return Array.isArray(n.values)?-1===n.values.indexOf(Xt(r))&&i.push(new qn(e,r,`expected one of [${n.values.join(\", \")}], ${JSON.stringify(r)} found`)):-1===Object.keys(n.values).indexOf(Xt(r))&&i.push(new qn(e,r,`expected one of [${Object.keys(n.values).join(\", \")}], ${JSON.stringify(r)} found`)),i}function Wn(t){if(!0===t||!1===t)return !0;if(!Array.isArray(t)||0===t.length)return !1;switch(t[0]){case\"has\":return t.length>=2&&\"$id\"!==t[1]&&\"$type\"!==t[1];case\"in\":return t.length>=3&&(\"string\"!=typeof t[1]||Array.isArray(t[2]));case\"!in\":case\"!has\":case\"none\":return !1;case\"==\":case\"!=\":case\">\":case\">=\":case\"<\":case\"<=\":return 3!==t.length||Array.isArray(t[1])||Array.isArray(t[2]);case\"any\":case\"all\":for(const e of t.slice(1))if(!Wn(e)&&\"boolean\"!=typeof e)return !1;return !0;default:return !0}}function Jn(t,e=\"fill\"){if(null==t)return {filter:()=>!0,needGeometry:!1,needFeature:!1};Wn(t)||(t=si(t));const r=t;let n=!0;try{n=function(t){if(!ei(t))return t;let e=Kt(t);return ti(e),e=Qn(e),e}(r);}catch(t){console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.\\nThis is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md\\nand paste the contents of this message in the report.\\nThank you!\\nFilter Expression:\\n${JSON.stringify(r,null,2)}\\n        `);}const i=Gt[`filter_${e}`],s=Ln(n,i);let a=null;if(\"error\"===s.result)throw new Error(s.value.map((t=>`${t.key}: ${t.message}`)).join(\", \"));a=(t,e,r)=>s.value.evaluate(t,e,{},r);let o=null,l=null;if(n!==r){const t=Ln(r,i);if(\"error\"===t.result)throw new Error(t.value.map((t=>`${t.key}: ${t.message}`)).join(\", \"));o=(e,r,n,i,s)=>t.value.evaluate(e,r,{},n,void 0,void 0,i,s),l=!or(t.value.expression);}return a=a,{filter:a,dynamicFilter:o||void 0,needGeometry:ii(n),needFeature:!!l}}function Qn(t){if(!Array.isArray(t))return t;const e=function(t){if(ri.has(t[0]))for(let e=1;e<t.length;e++)if(ei(t[e]))return !0;return t}(t);return !0===e?e:e.map((t=>Qn(t)))}function ti(t){let e=!1;const r=[];if(\"case\"===t[0]){for(let n=1;n<t.length-1;n+=2)e=e||ei(t[n]),r.push(t[n+1]);r.push(t[t.length-1]);}else if(\"match\"===t[0]){e=e||ei(t[1]);for(let e=2;e<t.length-1;e+=2)r.push(t[e+1]);r.push(t[t.length-1]);}else if(\"step\"===t[0]){e=e||ei(t[1]);for(let e=1;e<t.length-1;e+=2)r.push(t[e+1]);}e&&(t.length=0,t.push(\"any\",...r));for(let e=1;e<t.length;e++)ti(t[e]);}function ei(t){if(!Array.isArray(t))return !1;if(\"pitch\"===(e=t[0])||\"distance-from-center\"===e)return !0;var e;for(let e=1;e<t.length;e++)if(ei(t[e]))return !0;return !1}const ri=new Set([\"in\",\"==\",\"!=\",\">\",\">=\",\"<\",\"<=\",\"to-boolean\"]);function ni(t,e){return t<e?-1:t>e?1:0}function ii(t){if(!Array.isArray(t))return !1;if(\"within\"===t[0])return !0;for(let e=1;e<t.length;e++)if(ii(t[e]))return !0;return !1}function si(t){if(!t)return !0;const e=t[0];return t.length<=1?\"any\"!==e:\"==\"===e?ai(t[1],t[2],\"==\"):\"!=\"===e?ui(ai(t[1],t[2],\"==\")):\"<\"===e||\">\"===e||\"<=\"===e||\">=\"===e?ai(t[1],t[2],e):\"any\"===e?(r=t.slice(1),[\"any\"].concat(r.map(si))):\"all\"===e?[\"all\"].concat(t.slice(1).map(si)):\"none\"===e?[\"all\"].concat(t.slice(1).map(si).map(ui)):\"in\"===e?oi(t[1],t.slice(2)):\"!in\"===e?ui(oi(t[1],t.slice(2))):\"has\"===e?li(t[1]):\"!has\"===e?ui(li(t[1])):\"within\"!==e||t;var r;}function ai(t,e,r){switch(t){case\"$type\":return [`filter-type-${r}`,e];case\"$id\":return [`filter-id-${r}`,e];default:return [`filter-${r}`,t,e]}}function oi(t,e){if(0===e.length)return !1;switch(t){case\"$type\":return [\"filter-type-in\",[\"literal\",e]];case\"$id\":return [\"filter-id-in\",[\"literal\",e]];default:return e.length>200&&!e.some((t=>typeof t!=typeof e[0]))?[\"filter-in-large\",t,[\"literal\",e.sort(ni)]]:[\"filter-in-small\",t,[\"literal\",e]]}}function li(t){switch(t){case\"$type\":return !0;case\"$id\":return [\"filter-has-id\"];default:return [\"filter-has\",t]}}function ui(t){return [\"!\",t]}function ci(t){return Wn(Kt(t.value))?Kn(Zt({},t,{expressionContext:\"filter\",valueSpec:t.styleSpec[`filter_${t.layerType||\"fill\"}`]})):hi(t)}function hi(t){const e=t.value,r=t.key;if(\"array\"!==In(e))return [new qn(r,e,`array expected, ${In(e)} found`)];const n=t.styleSpec;let i,s=[];if(e.length<1)return [new qn(r,e,\"filter array must have at least 1 element\")];switch(s=s.concat(Yn({key:`${r}[0]`,value:e[0],valueSpec:n.filter_operator,style:t.style,styleSpec:t.styleSpec})),Xt(e[0])){case\"<\":case\"<=\":case\">\":case\">=\":e.length>=2&&\"$type\"===Xt(e[1])&&s.push(new qn(r,e,`\"$type\" cannot be use with operator \"${e[0]}\"`));case\"==\":case\"!=\":3!==e.length&&s.push(new qn(r,e,`filter array for operator \"${e[0]}\" must have 3 elements`));case\"in\":case\"!in\":e.length>=2&&(i=In(e[1]),\"string\"!==i&&s.push(new qn(`${r}[1]`,e[1],`string expected, ${i} found`)));for(let a=2;a<e.length;a++)i=In(e[a]),\"$type\"===Xt(e[1])?s=s.concat(Yn({key:`${r}[${a}]`,value:e[a],valueSpec:n.geometry_type,style:t.style,styleSpec:t.styleSpec})):\"string\"!==i&&\"number\"!==i&&\"boolean\"!==i&&s.push(new qn(`${r}[${a}]`,e[a],`string, number, or boolean expected, ${i} found`));break;case\"any\":case\"all\":case\"none\":for(let n=1;n<e.length;n++)s=s.concat(hi({key:`${r}[${n}]`,value:e[n],style:t.style,styleSpec:t.styleSpec}));break;case\"has\":case\"!has\":i=In(e[1]),2!==e.length?s.push(new qn(r,e,`filter array for \"${e[0]}\" operator must have 2 elements`)):\"string\"!==i&&s.push(new qn(`${r}[1]`,e[1],`string expected, ${i} found`));break;case\"within\":i=In(e[1]),2!==e.length?s.push(new qn(r,e,`filter array for \"${e[0]}\" operator must have 2 elements`)):\"object\"!==i&&s.push(new qn(`${r}[1]`,e[1],`object expected, ${i} found`));}return s}function pi(t,e){const r=t.key,n=t.style,i=t.styleSpec,s=t.value,a=t.objectKey,o=i[`${e}_${t.layerType}`];if(!o)return [];const l=a.match(/^(.*)-transition$/);if(\"paint\"===e&&l&&o[l[1]]&&o[l[1]].transition)return Ai({key:r,value:s,valueSpec:i.transition,style:n,styleSpec:i});const u=t.valueSpec||o[a];if(!u)return [new qn(r,s,`unknown property \"${a}\"`)];let c;if(\"string\"===In(s)&&An(u)&&!u.tokens&&(c=/^{([^}]+)}$/.exec(s)))return [new qn(r,s,`\"${a}\" does not support interpolation syntax\\nUse an identity property function instead: \\`{ \"type\": \"identity\", \"property\": ${JSON.stringify(c[1])} }\\`.`)];const h=[];return \"symbol\"===t.layerType&&(\"text-field\"===a&&n&&!n.glyphs&&h.push(new qn(r,s,'use of \"text-field\" requires a style \"glyphs\" property')),\"text-font\"===a&&Mn(Kt(s))&&\"identity\"===Xt(s.type)&&h.push(new qn(r,s,'\"text-font\" does not support identity functions'))),h.concat(Ai({key:t.key,value:s,valueSpec:u,style:n,styleSpec:i,expressionContext:\"property\",propertyType:e,propertyKey:a}))}function fi(t){return pi(t,\"paint\")}function di(t){return pi(t,\"layout\")}function yi(t){let e=[];const r=t.value,n=t.key,i=t.style,s=t.styleSpec;r.type||r.ref||e.push(new qn(n,r,'either \"type\" or \"ref\" is required'));let a=Xt(r.type);const o=Xt(r.ref);if(r.id){const s=Xt(r.id);for(let a=0;a<t.arrayIndex;a++){const t=i.layers[a];Xt(t.id)===s&&e.push(new qn(n,r.id,`duplicate layer id \"${r.id}\", previously used at line ${t.id.__line__}`));}}if(\"ref\"in r){let t;[\"type\",\"source\",\"source-layer\",\"filter\",\"layout\"].forEach((t=>{t in r&&e.push(new qn(n,r[t],`\"${t}\" is prohibited for ref layers`));})),i.layers.forEach((e=>{Xt(e.id)===o&&(t=e);})),t?t.ref?e.push(new qn(n,r.ref,\"ref cannot reference another ref layer\")):a=Xt(t.type):\"string\"==typeof o&&e.push(new qn(n,r.ref,`ref layer \"${o}\" not found`));}else if(\"background\"!==a&&\"sky\"!==a)if(r.source){const t=i.sources&&i.sources[r.source],s=t&&Xt(t.type);t?\"vector\"===s&&\"raster\"===a?e.push(new qn(n,r.source,`layer \"${r.id}\" requires a raster source`)):\"raster\"===s&&\"raster\"!==a?e.push(new qn(n,r.source,`layer \"${r.id}\" requires a vector source`)):\"vector\"!==s||r[\"source-layer\"]?\"raster-dem\"===s&&\"hillshade\"!==a?e.push(new qn(n,r.source,\"raster-dem source can only be used with layer type 'hillshade'.\")):\"line\"!==a||!r.paint||!r.paint[\"line-gradient\"]&&!r.paint[\"line-trim-offset\"]||\"geojson\"===s&&t.lineMetrics||e.push(new qn(n,r,`layer \"${r.id}\" specifies a line-gradient, which requires a GeoJSON source with \\`lineMetrics\\` enabled.`)):e.push(new qn(n,r,`layer \"${r.id}\" must specify a \"source-layer\"`)):e.push(new qn(n,r.source,`source \"${r.source}\" not found`));}else e.push(new qn(n,r,'missing required property \"source\"'));return e=e.concat(Nn({key:n,value:r,valueSpec:s.layer,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{\"*\":()=>[],type:()=>Ai({key:`${n}.type`,value:r.type,valueSpec:s.layer.type,style:t.style,styleSpec:t.styleSpec,object:r,objectKey:\"type\"}),filter:t=>ci(Zt({layerType:a},t)),layout:t=>Nn({layer:r,key:t.key,value:t.value,valueSpec:{},style:t.style,styleSpec:t.styleSpec,objectElementValidators:{\"*\":t=>di(Zt({layerType:a},t))}}),paint:t=>Nn({layer:r,key:t.key,value:t.value,valueSpec:{},style:t.style,styleSpec:t.styleSpec,objectElementValidators:{\"*\":t=>fi(Zt({layerType:a},t))}})}})),e}function mi(t){const e=t.value,r=t.key,n=In(e);return \"string\"!==n?[new qn(r,e,`string expected, ${n} found`)]:[]}const gi={promoteId:function({key:t,value:e}){if(\"string\"===In(e))return mi({key:t,value:e});{const r=[];for(const n in e)r.push(...mi({key:`${t}.${n}`,value:e[n]}));return r}}};function xi(t){const e=t.value,r=t.key,n=t.styleSpec,i=t.style;if(!e.type)return [new qn(r,e,'\"type\" is required')];const s=Xt(e.type);let a;switch(s){case\"vector\":case\"raster\":case\"raster-dem\":return a=Nn({key:r,value:e,valueSpec:n[`source_${s.replace(\"-\",\"_\")}`],style:t.style,styleSpec:n,objectElementValidators:gi}),a;case\"geojson\":if(a=Nn({key:r,value:e,valueSpec:n.source_geojson,style:i,styleSpec:n,objectElementValidators:gi}),e.cluster)for(const t in e.clusterProperties){const[n,i]=e.clusterProperties[t],s=\"string\"==typeof n?[n,[\"accumulated\"],[\"get\",t]]:n;a.push(...Kn({key:`${r}.${t}.map`,value:i,expressionContext:\"cluster-map\"})),a.push(...Kn({key:`${r}.${t}.reduce`,value:s,expressionContext:\"cluster-reduce\"}));}return a;case\"video\":return Nn({key:r,value:e,valueSpec:n.source_video,style:i,styleSpec:n});case\"image\":return Nn({key:r,value:e,valueSpec:n.source_image,style:i,styleSpec:n});case\"canvas\":return [new qn(r,null,\"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.\",\"source.canvas\")];default:return Yn({key:`${r}.type`,value:e.type,valueSpec:{values:[\"vector\",\"raster\",\"raster-dem\",\"geojson\",\"video\",\"image\"]},style:i,styleSpec:n})}}function vi(t){const e=t.value,r=t.styleSpec,n=r.light,i=t.style;let s=[];const a=In(e);if(void 0===e)return s;if(\"object\"!==a)return s=s.concat([new qn(\"light\",e,`object expected, ${a} found`)]),s;for(const t in e){const a=t.match(/^(.*)-transition$/);s=s.concat(a&&n[a[1]]&&n[a[1]].transition?Ai({key:t,value:e[t],valueSpec:r.transition,style:i,styleSpec:r}):n[t]?Ai({key:t,value:e[t],valueSpec:n[t],style:i,styleSpec:r}):[new qn(t,e[t],`unknown property \"${t}\"`)]);}return s}function bi(t){const e=t.value,r=t.key,n=t.style,i=t.styleSpec,s=i.terrain;let a=[];const o=In(e);if(void 0===e)return a;if(\"object\"!==o)return a=a.concat([new qn(\"terrain\",e,`object expected, ${o} found`)]),a;for(const t in e){const r=t.match(/^(.*)-transition$/);a=a.concat(r&&s[r[1]]&&s[r[1]].transition?Ai({key:t,value:e[t],valueSpec:i.transition,style:n,styleSpec:i}):s[t]?Ai({key:t,value:e[t],valueSpec:s[t],style:n,styleSpec:i}):[new qn(t,e[t],`unknown property \"${t}\"`)]);}if(e.source){const t=n.sources&&n.sources[e.source],i=t&&Xt(t.type);t?\"raster-dem\"!==i&&a.push(new qn(r,e.source,`terrain cannot be used with a source of type ${String(i)}, it only be used with a \"raster-dem\" source type`)):a.push(new qn(r,e.source,`source \"${e.source}\" not found`));}else a.push(new qn(r,e,'terrain is missing required property \"source\"'));return a}function _i(t){const e=t.value,r=t.style,n=t.styleSpec,i=n.fog;let s=[];const a=In(e);if(void 0===e)return s;if(\"object\"!==a)return s=s.concat([new qn(\"fog\",e,`object expected, ${a} found`)]),s;for(const t in e){const a=t.match(/^(.*)-transition$/);s=s.concat(a&&i[a[1]]&&i[a[1]].transition?Ai({key:t,value:e[t],valueSpec:n.transition,style:r,styleSpec:n}):i[t]?Ai({key:t,value:e[t],valueSpec:i[t],style:r,styleSpec:n}):[new qn(t,e[t],`unknown property \"${t}\"`)]);}return s}const wi={\"*\":()=>[],array:Gn,boolean:function(t){const e=t.value,r=t.key,n=In(e);return \"boolean\"!==n?[new qn(r,e,`boolean expected, ${n} found`)]:[]},number:Zn,color:function(t){const e=t.key,r=t.value,n=In(r);return \"string\"!==n?[new qn(e,r,`color expected, ${n} found`)]:null===me.parseCSSColor(r)?[new qn(e,r,`color expected, \"${r}\" found`)]:[]},enum:Yn,filter:ci,function:Xn,layer:yi,object:Nn,source:xi,light:vi,terrain:bi,fog:_i,string:mi,formatted:function(t){return 0===mi(t).length?[]:Kn(t)},resolvedImage:function(t){return 0===mi(t).length?[]:Kn(t)},projection:function(t){const e=t.value,r=t.styleSpec,n=r.projection,i=t.style;let s=[];const a=In(e);if(\"object\"===a)for(const t in e)s=s.concat(Ai({key:t,value:e[t],valueSpec:n[t],style:i,styleSpec:r}));else \"string\"!==a&&(s=s.concat([new qn(\"projection\",e,`object or string expected, ${a} found`)]));return s}};function Ai(t){const e=t.value,r=t.valueSpec,n=t.styleSpec;return r.expression&&Mn(Xt(e))?Xn(t):r.expression&&Fn(Kt(e))?Kn(t):r.type&&wi[r.type]?wi[r.type](t):Nn(Zt({},t,{valueSpec:r.type?n[r.type]:r}))}function Si(t){const e=t.value,r=t.key,n=mi(t);return n.length||(-1===e.indexOf(\"{fontstack}\")&&n.push(new qn(r,e,'\"glyphs\" url must include a \"{fontstack}\" token')),-1===e.indexOf(\"{range}\")&&n.push(new qn(r,e,'\"glyphs\" url must include a \"{range}\" token'))),n}function ki(t,e=Gt){return zi(Ai({key:\"\",value:t,valueSpec:e.$root,styleSpec:e,style:t,objectElementValidators:{glyphs:Si,\"*\":()=>[]}}))}const Ii=t=>zi(fi(t)),Mi=t=>zi(di(t));function zi(t){return t.slice().sort(((t,e)=>t.line&&e.line?t.line-e.line:0))}function Ti(t,e){let r=!1;if(e&&e.length)for(const n of e)t.fire(new qt(new Error(n.message))),r=!0;return r}var Bi=Ei;function Ei(t,e,r){var n=this.cells=[];if(t instanceof ArrayBuffer){this.arrayBuffer=t;var i=new Int32Array(this.arrayBuffer);t=i[0],this.d=(e=i[1])+2*(r=i[2]);for(var s=0;s<this.d*this.d;s++){var a=i[3+s],o=i[3+s+1];n.push(a===o?null:i.subarray(a,o));}var l=i[3+n.length+1];this.keys=i.subarray(i[3+n.length],l),this.bboxes=i.subarray(l),this.insert=this._insertReadonly;}else {this.d=e+2*r;for(var u=0;u<this.d*this.d;u++)n.push([]);this.keys=[],this.bboxes=[];}this.n=e,this.extent=t,this.padding=r,this.scale=e/t,this.uid=0;var c=r/e*t;this.min=-c,this.max=t+c;}Ei.prototype.insert=function(t,e,r,n,i){this._forEachCell(e,r,n,i,this._insertCell,this.uid++),this.keys.push(t),this.bboxes.push(e),this.bboxes.push(r),this.bboxes.push(n),this.bboxes.push(i);},Ei.prototype._insertReadonly=function(){throw \"Cannot insert into a GridIndex created from an ArrayBuffer.\"},Ei.prototype._insertCell=function(t,e,r,n,i,s){this.cells[i].push(s);},Ei.prototype.query=function(t,e,r,n,i){var s=this.min,a=this.max;if(t<=s&&e<=s&&a<=r&&a<=n&&!i)return Array.prototype.slice.call(this.keys);var o=[];return this._forEachCell(t,e,r,n,this._queryCell,o,{},i),o},Ei.prototype._queryCell=function(t,e,r,n,i,s,a,o){var l=this.cells[i];if(null!==l)for(var u=this.keys,c=this.bboxes,h=0;h<l.length;h++){var p=l[h];if(void 0===a[p]){var f=4*p;(o?o(c[f+0],c[f+1],c[f+2],c[f+3]):t<=c[f+2]&&e<=c[f+3]&&r>=c[f+0]&&n>=c[f+1])?(a[p]=!0,s.push(u[p])):a[p]=!1;}}},Ei.prototype._forEachCell=function(t,e,r,n,i,s,a,o){for(var l=this._convertToCellCoord(t),u=this._convertToCellCoord(e),c=this._convertToCellCoord(r),h=this._convertToCellCoord(n),p=l;p<=c;p++)for(var f=u;f<=h;f++){var d=this.d*f+p;if((!o||o(this._convertFromCellCoord(p),this._convertFromCellCoord(f),this._convertFromCellCoord(p+1),this._convertFromCellCoord(f+1)))&&i.call(this,t,e,r,n,d,s,a,o))return}},Ei.prototype._convertFromCellCoord=function(t){return (t-this.padding)/this.scale},Ei.prototype._convertToCellCoord=function(t){return Math.max(0,Math.min(this.d-1,Math.floor(t*this.scale)+this.padding))},Ei.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var t=this.cells,e=3+this.cells.length+1+1,r=0,n=0;n<this.cells.length;n++)r+=this.cells[n].length;var i=new Int32Array(e+r+this.keys.length+this.bboxes.length);i[0]=this.extent,i[1]=this.n,i[2]=this.padding;for(var s=e,a=0;a<t.length;a++){var o=t[a];i[3+a]=s,i.set(o,s),s+=o.length;}return i[3+t.length]=s,i.set(this.keys,s),i[3+t.length+1]=s+=this.keys.length,i.set(this.bboxes,s),s+=this.bboxes.length,i.buffer};const Ci={};function Pi(t,e,r={}){Object.defineProperty(t,\"_classRegistryKey\",{value:e,writeable:!1}),Ci[e]={klass:t,omit:r.omit||[]};}Pi(Object,\"Object\"),Bi.serialize=function(t,e){const r=t.toArrayBuffer();return e&&e.push(r),{buffer:r}},Bi.deserialize=function(t){return new Bi(t.buffer)},Object.defineProperty(Bi,\"name\",{value:\"Grid\"}),Pi(Bi,\"Grid\"),Pi(xe,\"Color\"),Pi(Error,\"Error\"),Pi(Tt,\"AJAXError\"),Pi(we,\"ResolvedImage\"),Pi($n,\"StylePropertyFunction\"),Pi(Vn,\"StyleExpression\",{omit:[\"_evaluator\"]}),Pi(Un,\"ZoomDependentExpression\"),Pi(Rn,\"ZoomConstantExpression\"),Pi($e,\"CompoundExpression\",{omit:[\"_evaluate\"]});for(const t in bn)Ci[bn[t]._classRegistryKey]||Pi(bn[t],`Expression${t}`);function Di(t){return t&&\"undefined\"!=typeof ArrayBuffer&&(t instanceof ArrayBuffer||t.constructor&&\"ArrayBuffer\"===t.constructor.name)}function Vi(t){return e.ImageBitmap&&t instanceof e.ImageBitmap}function Fi(t,r){if(null==t||\"boolean\"==typeof t||\"number\"==typeof t||\"string\"==typeof t||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp)return t;if(Di(t)||Vi(t))return r&&r.push(t),t;if(ArrayBuffer.isView(t)){const e=t;return r&&r.push(e.buffer),e}if(t instanceof e.ImageData)return r&&r.push(t.data.buffer),t;if(Array.isArray(t)){const e=[];for(const n of t)e.push(Fi(n,r));return e}if(\"object\"==typeof t){const e=t.constructor,n=e._classRegistryKey;if(!n)throw new Error(`can't serialize object of unregistered class ${n}`);const i=e.serialize?e.serialize(t,r):{};if(!e.serialize){for(const e in t)t.hasOwnProperty(e)&&(Ci[n].omit.indexOf(e)>=0||(i[e]=Fi(t[e],r)));t instanceof Error&&(i.message=t.message);}if(i.$name)throw new Error(\"$name property is reserved for worker serialization logic.\");return \"Object\"!==n&&(i.$name=n),i}throw new Error(\"can't serialize object of type \"+typeof t)}function Li(t){if(null==t||\"boolean\"==typeof t||\"number\"==typeof t||\"string\"==typeof t||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp||Di(t)||Vi(t)||ArrayBuffer.isView(t)||t instanceof e.ImageData)return t;if(Array.isArray(t))return t.map(Li);if(\"object\"==typeof t){const e=t.$name||\"Object\",{klass:r}=Ci[e];if(!r)throw new Error(`can't deserialize unregistered class ${e}`);if(r.deserialize)return r.deserialize(t);const n=Object.create(r.prototype);for(const e of Object.keys(t))\"$name\"!==e&&(n[e]=Li(t[e]));return n}throw new Error(\"can't deserialize object of type \"+typeof t)}class Ri{constructor(){this.first=!0;}update(t,e){const r=Math.floor(t);return this.first?(this.first=!1,this.lastIntegerZoom=r,this.lastIntegerZoomTime=0,this.lastZoom=t,this.lastFloorZoom=r,!0):(this.lastFloorZoom>r?(this.lastIntegerZoom=r+1,this.lastIntegerZoomTime=e):this.lastFloorZoom<r&&(this.lastIntegerZoom=r,this.lastIntegerZoomTime=e),t!==this.lastZoom&&(this.lastZoom=t,this.lastFloorZoom=r,!0))}}const Ui=t=>t>=1536&&t<=1791,ji=t=>t>=1872&&t<=1919,$i=t=>t>=2208&&t<=2303,Oi=t=>t>=11904&&t<=12031,qi=t=>t>=12032&&t<=12255,Ni=t=>t>=12272&&t<=12287,Gi=t=>t>=12288&&t<=12351,Zi=t=>t>=12352&&t<=12447,Xi=t=>t>=12448&&t<=12543,Ki=t=>t>=12544&&t<=12591,Hi=t=>t>=12704&&t<=12735,Yi=t=>t>=12736&&t<=12783,Wi=t=>t>=12784&&t<=12799,Ji=t=>t>=12800&&t<=13055,Qi=t=>t>=13056&&t<=13311,ts=t=>t>=13312&&t<=19903,es=t=>t>=19968&&t<=40959,rs=t=>t>=40960&&t<=42127,ns=t=>t>=42128&&t<=42191,is=t=>t>=44032&&t<=55215,ss=t=>t>=63744&&t<=64255,as=t=>t>=64336&&t<=65023,os=t=>t>=65040&&t<=65055,ls=t=>t>=65072&&t<=65103,us=t=>t>=65104&&t<=65135,cs=t=>t>=65136&&t<=65279,hs=t=>t>=65280&&t<=65519;function ps(t){for(const e of t)if(ys(e.charCodeAt(0)))return !0;return !1}function fs(t){for(const e of t)if(!ds(e.charCodeAt(0)))return !1;return !0}function ds(t){return !(Ui(t)||ji(t)||$i(t)||as(t)||cs(t))}function ys(t){return !(746!==t&&747!==t&&(t<4352||!(Hi(t)||Ki(t)||ls(t)&&!(t>=65097&&t<=65103)||ss(t)||Qi(t)||Oi(t)||Yi(t)||!(!Gi(t)||t>=12296&&t<=12305||t>=12308&&t<=12319||12336===t)||ts(t)||es(t)||Ji(t)||(t=>t>=12592&&t<=12687)(t)||(t=>t>=43360&&t<=43391)(t)||(t=>t>=55216&&t<=55295)(t)||(t=>t>=4352&&t<=4607)(t)||is(t)||Zi(t)||Ni(t)||(t=>t>=12688&&t<=12703)(t)||qi(t)||Wi(t)||Xi(t)&&12540!==t||!(!hs(t)||65288===t||65289===t||65293===t||t>=65306&&t<=65310||65339===t||65341===t||65343===t||t>=65371&&t<=65503||65507===t||t>=65512&&t<=65519)||!(!us(t)||t>=65112&&t<=65118||t>=65123&&t<=65126)||(t=>t>=5120&&t<=5759)(t)||(t=>t>=6320&&t<=6399)(t)||os(t)||(t=>t>=19904&&t<=19967)(t)||rs(t)||ns(t))))}function ms(t){return !(ys(t)||function(t){return !!((t=>t>=128&&t<=255)(t)&&(167===t||169===t||174===t||177===t||188===t||189===t||190===t||215===t||247===t)||(t=>t>=8192&&t<=8303)(t)&&(8214===t||8224===t||8225===t||8240===t||8241===t||8251===t||8252===t||8258===t||8263===t||8264===t||8265===t||8273===t)||(t=>t>=8448&&t<=8527)(t)||(t=>t>=8528&&t<=8591)(t)||(t=>t>=8960&&t<=9215)(t)&&(t>=8960&&t<=8967||t>=8972&&t<=8991||t>=8996&&t<=9e3||9003===t||t>=9085&&t<=9114||t>=9150&&t<=9165||9167===t||t>=9169&&t<=9179||t>=9186&&t<=9215)||(t=>t>=9216&&t<=9279)(t)&&9251!==t||(t=>t>=9280&&t<=9311)(t)||(t=>t>=9312&&t<=9471)(t)||(t=>t>=9632&&t<=9727)(t)||(t=>t>=9728&&t<=9983)(t)&&!(t>=9754&&t<=9759)||(t=>t>=11008&&t<=11263)(t)&&(t>=11026&&t<=11055||t>=11088&&t<=11097||t>=11192&&t<=11243)||Gi(t)||Xi(t)||(t=>t>=57344&&t<=63743)(t)||ls(t)||us(t)||hs(t)||8734===t||8756===t||8757===t||t>=9984&&t<=10087||t>=10102&&t<=10131||65532===t||65533===t)}(t))}function gs(t){return t>=1424&&t<=2303||as(t)||cs(t)}function xs(t,e){return !(!e&&gs(t)||t>=2304&&t<=3583||t>=3840&&t<=4255||(t=>t>=6016&&t<=6143)(t))}function vs(t){for(const e of t)if(gs(e.charCodeAt(0)))return !0;return !1}const bs=\"deferred\",_s=\"loading\",ws=\"loaded\";let As=null,Ss=\"unavailable\",ks=null;const Is=function(t){t&&\"string\"==typeof t&&t.indexOf(\"NetworkError\")>-1&&(Ss=\"error\"),As&&As(t);};function Ms(){zs.fire(new Ot(\"pluginStateChange\",{pluginStatus:Ss,pluginURL:ks}));}const zs=new Nt,Ts=function(){return Ss},Bs=function(){if(Ss!==bs||!ks)throw new Error(\"rtl-text-plugin cannot be downloaded unless a pluginURL is specified\");Ss=_s,Ms(),ks&&Ct({url:ks},(t=>{t?Is(t):(Ss=ws,Ms());}));},Es={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>Ss===ws||null!=Es.applyArabicShaping,isLoading:()=>Ss===_s,setState(t){Ss=t.pluginStatus,ks=t.pluginURL;},isParsed:()=>null!=Es.applyArabicShaping&&null!=Es.processBidirectionalText&&null!=Es.processStyledBidirectionalText,getPluginURL:()=>ks};class Cs{constructor(t,e){this.zoom=t,e?(this.now=e.now,this.fadeDuration=e.fadeDuration,this.zoomHistory=e.zoomHistory,this.transition=e.transition,this.pitch=e.pitch):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Ri,this.transition={},this.pitch=0);}isSupportedScript(t){return function(t,e){for(const r of t)if(!xs(r.charCodeAt(0),e))return !1;return !0}(t,Es.isLoaded())}crossFadingFactor(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const t=this.zoom,e=t-Math.floor(t),r=this.crossFadingFactor();return t>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:e+(1-e)*r}:{fromScale:.5,toScale:1,t:1-(1-r)*e}}}class Ps{constructor(t,e){this.property=t,this.value=e,this.expression=function(t,e){if(Mn(t))return new $n(t,e);if(Fn(t)){const r=jn(t,e);if(\"error\"===r.result)throw new Error(r.value.map((t=>`${t.key}: ${t.message}`)).join(\", \"));return r.value}{let r=t;return \"string\"==typeof t&&\"color\"===e.type&&(r=xe.parse(t)),{kind:\"constant\",evaluate:()=>r}}}(void 0===e?t.specification.default:e,t.specification);}isDataDriven(){return \"source\"===this.expression.kind||\"composite\"===this.expression.kind}possiblyEvaluate(t,e,r){return this.property.possiblyEvaluate(this,t,e,r)}}class Ds{constructor(t){this.property=t,this.value=new Ps(t,void 0);}transitioned(t,e){return new Fs(this.property,this.value,e,v({},t.transition,this.transition),t.now)}untransitioned(){return new Fs(this.property,this.value,null,{},0)}}class Vs{constructor(t){this._properties=t,this._values=Object.create(t.defaultTransitionablePropertyValues);}getValue(t){return T(this._values[t].value.value)}setValue(t,e){this._values.hasOwnProperty(t)||(this._values[t]=new Ds(this._values[t].property)),this._values[t].value=new Ps(this._values[t].property,null===e?void 0:T(e));}getTransition(t){return T(this._values[t].transition)}setTransition(t,e){this._values.hasOwnProperty(t)||(this._values[t]=new Ds(this._values[t].property)),this._values[t].transition=T(e)||void 0;}serialize(){const t={};for(const e of Object.keys(this._values)){const r=this.getValue(e);void 0!==r&&(t[e]=r);const n=this.getTransition(e);void 0!==n&&(t[`${e}-transition`]=n);}return t}transitioned(t,e){const r=new Ls(this._properties);for(const n of Object.keys(this._values))r._values[n]=this._values[n].transitioned(t,e._values[n]);return r}untransitioned(){const t=new Ls(this._properties);for(const e of Object.keys(this._values))t._values[e]=this._values[e].untransitioned();return t}}class Fs{constructor(t,e,r,n,i){const s=n.delay||0,a=n.duration||0;i=i||0,this.property=t,this.value=e,this.begin=i+s,this.end=this.begin+a,t.specification.transition&&(n.delay||n.duration)&&(this.prior=r);}possiblyEvaluate(t,e,r){const n=t.now||0,i=this.value.possiblyEvaluate(t,e,r),s=this.prior;if(s){if(n>this.end)return this.prior=null,i;if(this.value.isDataDriven())return this.prior=null,i;if(n<this.begin)return s.possiblyEvaluate(t,e,r);{const a=(n-this.begin)/(this.end-this.begin);return this.property.interpolate(s.possiblyEvaluate(t,e,r),i,h(a))}}return i}}class Ls{constructor(t){this._properties=t,this._values=Object.create(t.defaultTransitioningPropertyValues);}possiblyEvaluate(t,e,r){const n=new js(this._properties);for(const i of Object.keys(this._values))n._values[i]=this._values[i].possiblyEvaluate(t,e,r);return n}hasTransition(){for(const t of Object.keys(this._values))if(this._values[t].prior)return !0;return !1}}class Rs{constructor(t){this._properties=t,this._values=Object.create(t.defaultPropertyValues);}getValue(t){return T(this._values[t].value)}setValue(t,e){this._values[t]=new Ps(this._values[t].property,null===e?void 0:T(e));}serialize(){const t={};for(const e of Object.keys(this._values)){const r=this.getValue(e);void 0!==r&&(t[e]=r);}return t}possiblyEvaluate(t,e,r){const n=new js(this._properties);for(const i of Object.keys(this._values))n._values[i]=this._values[i].possiblyEvaluate(t,e,r);return n}}class Us{constructor(t,e,r){this.property=t,this.value=e,this.parameters=r;}isConstant(){return \"constant\"===this.value.kind}constantOr(t){return \"constant\"===this.value.kind?this.value.value:t}evaluate(t,e,r,n){return this.property.evaluate(this.value,this.parameters,t,e,r,n)}}class js{constructor(t){this._properties=t,this._values=Object.create(t.defaultPossiblyEvaluatedValues);}get(t){return this._values[t]}}class $s{constructor(t){this.specification=t;}possiblyEvaluate(t,e){return t.expression.evaluate(e)}interpolate(t,e,r){const n=br[this.specification.type];return n?n(t,e,r):t}}class Os{constructor(t,e){this.specification=t,this.overrides=e;}possiblyEvaluate(t,e,r,n){return new Us(this,\"constant\"===t.expression.kind||\"camera\"===t.expression.kind?{kind:\"constant\",value:t.expression.evaluate(e,null,{},r,n)}:t.expression,e)}interpolate(t,e,r){if(\"constant\"!==t.value.kind||\"constant\"!==e.value.kind)return t;if(void 0===t.value.value||void 0===e.value.value)return new Us(this,{kind:\"constant\",value:void 0},t.parameters);const n=br[this.specification.type];return n?new Us(this,{kind:\"constant\",value:n(t.value.value,e.value.value,r)},t.parameters):t}evaluate(t,e,r,n,i,s){return \"constant\"===t.kind?t.value:t.evaluate(e,r,n,i,s)}}class qs extends Os{possiblyEvaluate(t,e,r,n){if(void 0===t.value)return new Us(this,{kind:\"constant\",value:void 0},e);if(\"constant\"===t.expression.kind){const i=t.expression.evaluate(e,null,{},r,n),s=\"resolvedImage\"===t.property.specification.type&&\"string\"!=typeof i?i.name:i,a=this._calculate(s,s,s,e);return new Us(this,{kind:\"constant\",value:a},e)}if(\"camera\"===t.expression.kind){const r=this._calculate(t.expression.evaluate({zoom:e.zoom-1}),t.expression.evaluate({zoom:e.zoom}),t.expression.evaluate({zoom:e.zoom+1}),e);return new Us(this,{kind:\"constant\",value:r},e)}return new Us(this,t.expression,e)}evaluate(t,e,r,n,i,s){if(\"source\"===t.kind){const a=t.evaluate(e,r,n,i,s);return this._calculate(a,a,a,e)}return \"composite\"===t.kind?this._calculate(t.evaluate({zoom:Math.floor(e.zoom)-1},r,n),t.evaluate({zoom:Math.floor(e.zoom)},r,n),t.evaluate({zoom:Math.floor(e.zoom)+1},r,n),e):t.value}_calculate(t,e,r,n){return n.zoom>n.zoomHistory.lastIntegerZoom?{from:t,to:e,other:r}:{from:r,to:e,other:t}}interpolate(t){return t}}class Ns{constructor(t){this.specification=t;}possiblyEvaluate(t,e,r,n){if(void 0!==t.value){if(\"constant\"===t.expression.kind){const i=t.expression.evaluate(e,null,{},r,n);return this._calculate(i,i,i,e)}return this._calculate(t.expression.evaluate(new Cs(Math.floor(e.zoom-1),e)),t.expression.evaluate(new Cs(Math.floor(e.zoom),e)),t.expression.evaluate(new Cs(Math.floor(e.zoom+1),e)),e)}}_calculate(t,e,r,n){return n.zoom>n.zoomHistory.lastIntegerZoom?{from:t,to:e}:{from:r,to:e}}interpolate(t){return t}}class Gs{constructor(t){this.specification=t;}possiblyEvaluate(t,e,r,n){return !!t.expression.evaluate(e,null,{},r,n)}interpolate(){return !1}}class Zs{constructor(t){this.properties=t,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];const e=new Cs(0,{});for(const r in t){const n=t[r];n.specification.overridable&&this.overridableProperties.push(r);const i=this.defaultPropertyValues[r]=new Ps(n,void 0),s=this.defaultTransitionablePropertyValues[r]=new Ds(n);this.defaultTransitioningPropertyValues[r]=s.untransitioned(),this.defaultPossiblyEvaluatedValues[r]=i.possiblyEvaluate(e);}}}function Xs(t,e){return 256*(t=d(Math.floor(t),0,255))+d(Math.floor(e),0,255)}Pi(Os,\"DataDrivenProperty\"),Pi($s,\"DataConstantProperty\"),Pi(qs,\"CrossFadedDataDrivenProperty\"),Pi(Ns,\"CrossFadedProperty\"),Pi(Gs,\"ColorRampProperty\");const Ks={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class Hs{constructor(t,e){this._structArray=t,this._pos1=e*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8;}}class Ys{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0);}static serialize(t,e){return t._trim(),e&&(t.isTransferred=!0,e.push(t.arrayBuffer)),{length:t.length,arrayBuffer:t.arrayBuffer}}static deserialize(t){const e=Object.create(this.prototype);return e.arrayBuffer=t.arrayBuffer,e.length=t.length,e.capacity=t.arrayBuffer.byteLength/e.bytesPerElement,e._refreshViews(),e}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews());}clear(){this.length=0;}resize(t){this.reserve(t),this.length=t;}reserve(t){if(t>this.capacity){this.capacity=Math.max(t,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const e=this.uint8;this._refreshViews(),e&&this.uint8.set(e);}}_refreshViews(){throw new Error(\"_refreshViews() must be implemented by each concrete StructArray layout\")}destroy(){this.int8=this.uint8=this.int16=this.uint16=this.int32=this.uint32=this.float32=null,this.arrayBuffer=null;}}function Ws(t,e=1){let r=0,n=0;return {members:t.map((t=>{const i=Ks[t.type].BYTES_PER_ELEMENT,s=r=Js(r,Math.max(e,i)),a=t.components||1;return n=Math.max(n,i),r+=i*a,{name:t.name,type:t.type,components:a,offset:s}})),size:Js(r,Math.max(n,e)),alignment:e}}function Js(t,e){return Math.ceil(t/e)*e}class Qs extends Ys{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer);}emplaceBack(t,e){const r=this.length;return this.resize(r+1),this.emplace(r,t,e)}emplace(t,e,r){const n=2*t;return this.int16[n+0]=e,this.int16[n+1]=r,t}}Qs.prototype.bytesPerElement=4,Pi(Qs,\"StructArrayLayout2i4\");class ta extends Ys{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer);}emplaceBack(t,e,r){const n=this.length;return this.resize(n+1),this.emplace(n,t,e,r)}emplace(t,e,r,n){const i=3*t;return this.int16[i+0]=e,this.int16[i+1]=r,this.int16[i+2]=n,t}}ta.prototype.bytesPerElement=6,Pi(ta,\"StructArrayLayout3i6\");class ea extends Ys{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer);}emplaceBack(t,e,r,n){const i=this.length;return this.resize(i+1),this.emplace(i,t,e,r,n)}emplace(t,e,r,n,i){const s=4*t;return this.int16[s+0]=e,this.int16[s+1]=r,this.int16[s+2]=n,this.int16[s+3]=i,t}}ea.prototype.bytesPerElement=8,Pi(ea,\"StructArrayLayout4i8\");class ra extends Ys{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer);}emplaceBack(t,e,r,n,i,s,a){const o=this.length;return this.resize(o+1),this.emplace(o,t,e,r,n,i,s,a)}emplace(t,e,r,n,i,s,a,o){const l=6*t,u=12*t,c=3*t;return this.int16[l+0]=e,this.int16[l+1]=r,this.uint8[u+4]=n,this.uint8[u+5]=i,this.uint8[u+6]=s,this.uint8[u+7]=a,this.float32[c+2]=o,t}}ra.prototype.bytesPerElement=12,Pi(ra,\"StructArrayLayout2i4ub1f12\");class na extends Ys{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer);}emplaceBack(t,e,r,n){const i=this.length;return this.resize(i+1),this.emplace(i,t,e,r,n)}emplace(t,e,r,n,i){const s=4*t;return this.float32[s+0]=e,this.float32[s+1]=r,this.float32[s+2]=n,this.float32[s+3]=i,t}}na.prototype.bytesPerElement=16,Pi(na,\"StructArrayLayout4f16\");class ia extends Ys{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer);}emplaceBack(t,e,r,n,i,s,a,o,l,u){const c=this.length;return this.resize(c+1),this.emplace(c,t,e,r,n,i,s,a,o,l,u)}emplace(t,e,r,n,i,s,a,o,l,u,c){const h=10*t;return this.uint16[h+0]=e,this.uint16[h+1]=r,this.uint16[h+2]=n,this.uint16[h+3]=i,this.uint16[h+4]=s,this.uint16[h+5]=a,this.uint16[h+6]=o,this.uint16[h+7]=l,this.uint16[h+8]=u,this.uint16[h+9]=c,t}}ia.prototype.bytesPerElement=20,Pi(ia,\"StructArrayLayout10ui20\");class sa extends Ys{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer);}emplaceBack(t,e,r,n,i,s,a,o){const l=this.length;return this.resize(l+1),this.emplace(l,t,e,r,n,i,s,a,o)}emplace(t,e,r,n,i,s,a,o,l){const u=8*t;return this.uint16[u+0]=e,this.uint16[u+1]=r,this.uint16[u+2]=n,this.uint16[u+3]=i,this.uint16[u+4]=s,this.uint16[u+5]=a,this.uint16[u+6]=o,this.uint16[u+7]=l,t}}sa.prototype.bytesPerElement=16,Pi(sa,\"StructArrayLayout8ui16\");class aa extends Ys{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer);}emplaceBack(t,e,r,n,i,s){const a=this.length;return this.resize(a+1),this.emplace(a,t,e,r,n,i,s)}emplace(t,e,r,n,i,s,a){const o=6*t;return this.int16[o+0]=e,this.int16[o+1]=r,this.int16[o+2]=n,this.int16[o+3]=i,this.int16[o+4]=s,this.int16[o+5]=a,t}}aa.prototype.bytesPerElement=12,Pi(aa,\"StructArrayLayout6i12\");class oa extends Ys{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer);}emplaceBack(t,e,r,n,i,s,a,o,l,u,c,h){const p=this.length;return this.resize(p+1),this.emplace(p,t,e,r,n,i,s,a,o,l,u,c,h)}emplace(t,e,r,n,i,s,a,o,l,u,c,h,p){const f=12*t;return this.int16[f+0]=e,this.int16[f+1]=r,this.int16[f+2]=n,this.int16[f+3]=i,this.uint16[f+4]=s,this.uint16[f+5]=a,this.uint16[f+6]=o,this.uint16[f+7]=l,this.int16[f+8]=u,this.int16[f+9]=c,this.int16[f+10]=h,this.int16[f+11]=p,t}}oa.prototype.bytesPerElement=24,Pi(oa,\"StructArrayLayout4i4ui4i24\");class la extends Ys{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer);}emplaceBack(t,e,r,n,i,s){const a=this.length;return this.resize(a+1),this.emplace(a,t,e,r,n,i,s)}emplace(t,e,r,n,i,s,a){const o=10*t,l=5*t;return this.int16[o+0]=e,this.int16[o+1]=r,this.int16[o+2]=n,this.float32[l+2]=i,this.float32[l+3]=s,this.float32[l+4]=a,t}}la.prototype.bytesPerElement=20,Pi(la,\"StructArrayLayout3i3f20\");class ua extends Ys{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer);}emplaceBack(t){const e=this.length;return this.resize(e+1),this.emplace(e,t)}emplace(t,e){return this.uint32[1*t+0]=e,t}}ua.prototype.bytesPerElement=4,Pi(ua,\"StructArrayLayout1ul4\");class ca extends Ys{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer);}emplaceBack(t,e,r,n,i,s,a,o,l,u,c,h,p){const f=this.length;return this.resize(f+1),this.emplace(f,t,e,r,n,i,s,a,o,l,u,c,h,p)}emplace(t,e,r,n,i,s,a,o,l,u,c,h,p,f){const d=20*t,y=10*t;return this.int16[d+0]=e,this.int16[d+1]=r,this.int16[d+2]=n,this.int16[d+3]=i,this.int16[d+4]=s,this.float32[y+3]=a,this.float32[y+4]=o,this.float32[y+5]=l,this.float32[y+6]=u,this.int16[d+14]=c,this.uint32[y+8]=h,this.uint16[d+18]=p,this.uint16[d+19]=f,t}}ca.prototype.bytesPerElement=40,Pi(ca,\"StructArrayLayout5i4f1i1ul2ui40\");class ha extends Ys{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer);}emplaceBack(t,e,r,n,i,s,a){const o=this.length;return this.resize(o+1),this.emplace(o,t,e,r,n,i,s,a)}emplace(t,e,r,n,i,s,a,o){const l=8*t;return this.int16[l+0]=e,this.int16[l+1]=r,this.int16[l+2]=n,this.int16[l+4]=i,this.int16[l+5]=s,this.int16[l+6]=a,this.int16[l+7]=o,t}}ha.prototype.bytesPerElement=16,Pi(ha,\"StructArrayLayout3i2i2i16\");class pa extends Ys{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer);}emplaceBack(t,e,r,n,i){const s=this.length;return this.resize(s+1),this.emplace(s,t,e,r,n,i)}emplace(t,e,r,n,i,s){const a=4*t,o=8*t;return this.float32[a+0]=e,this.float32[a+1]=r,this.float32[a+2]=n,this.int16[o+6]=i,this.int16[o+7]=s,t}}pa.prototype.bytesPerElement=16,Pi(pa,\"StructArrayLayout2f1f2i16\");class fa extends Ys{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer);}emplaceBack(t,e,r,n){const i=this.length;return this.resize(i+1),this.emplace(i,t,e,r,n)}emplace(t,e,r,n,i){const s=12*t,a=3*t;return this.uint8[s+0]=e,this.uint8[s+1]=r,this.float32[a+1]=n,this.float32[a+2]=i,t}}fa.prototype.bytesPerElement=12,Pi(fa,\"StructArrayLayout2ub2f12\");class da extends Ys{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer);}emplaceBack(t,e,r){const n=this.length;return this.resize(n+1),this.emplace(n,t,e,r)}emplace(t,e,r,n){const i=3*t;return this.float32[i+0]=e,this.float32[i+1]=r,this.float32[i+2]=n,t}}da.prototype.bytesPerElement=12,Pi(da,\"StructArrayLayout3f12\");class ya extends Ys{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer);}emplaceBack(t,e,r){const n=this.length;return this.resize(n+1),this.emplace(n,t,e,r)}emplace(t,e,r,n){const i=3*t;return this.uint16[i+0]=e,this.uint16[i+1]=r,this.uint16[i+2]=n,t}}ya.prototype.bytesPerElement=6,Pi(ya,\"StructArrayLayout3ui6\");class ma extends Ys{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer);}emplaceBack(t,e,r,n,i,s,a,o,l,u,c,h,p,f,d,y,m,g,x,v,b){const _=this.length;return this.resize(_+1),this.emplace(_,t,e,r,n,i,s,a,o,l,u,c,h,p,f,d,y,m,g,x,v,b)}emplace(t,e,r,n,i,s,a,o,l,u,c,h,p,f,d,y,m,g,x,v,b,_){const w=30*t,A=15*t,S=60*t;return this.int16[w+0]=e,this.int16[w+1]=r,this.int16[w+2]=n,this.float32[A+2]=i,this.float32[A+3]=s,this.uint16[w+8]=a,this.uint16[w+9]=o,this.uint32[A+5]=l,this.uint32[A+6]=u,this.uint32[A+7]=c,this.uint16[w+16]=h,this.uint16[w+17]=p,this.uint16[w+18]=f,this.float32[A+10]=d,this.float32[A+11]=y,this.uint8[S+48]=m,this.uint8[S+49]=g,this.uint8[S+50]=x,this.uint32[A+13]=v,this.int16[w+28]=b,this.uint8[S+58]=_,t}}ma.prototype.bytesPerElement=60,Pi(ma,\"StructArrayLayout3i2f2ui3ul3ui2f3ub1ul1i1ub60\");class ga extends Ys{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer);}emplaceBack(t,e,r,n,i,s,a,o,l,u,c,h,p,f,d,y,m,g,x,v,b,_,w,A,S,k,I,M,z,T){const B=this.length;return this.resize(B+1),this.emplace(B,t,e,r,n,i,s,a,o,l,u,c,h,p,f,d,y,m,g,x,v,b,_,w,A,S,k,I,M,z,T)}emplace(t,e,r,n,i,s,a,o,l,u,c,h,p,f,d,y,m,g,x,v,b,_,w,A,S,k,I,M,z,T,B){const E=38*t,C=19*t;return this.int16[E+0]=e,this.int16[E+1]=r,this.int16[E+2]=n,this.float32[C+2]=i,this.float32[C+3]=s,this.int16[E+8]=a,this.int16[E+9]=o,this.int16[E+10]=l,this.int16[E+11]=u,this.int16[E+12]=c,this.int16[E+13]=h,this.uint16[E+14]=p,this.uint16[E+15]=f,this.uint16[E+16]=d,this.uint16[E+17]=y,this.uint16[E+18]=m,this.uint16[E+19]=g,this.uint16[E+20]=x,this.uint16[E+21]=v,this.uint16[E+22]=b,this.uint16[E+23]=_,this.uint16[E+24]=w,this.uint16[E+25]=A,this.uint16[E+26]=S,this.uint16[E+27]=k,this.uint16[E+28]=I,this.uint32[C+15]=M,this.float32[C+16]=z,this.float32[C+17]=T,this.float32[C+18]=B,t}}ga.prototype.bytesPerElement=76,Pi(ga,\"StructArrayLayout3i2f6i15ui1ul3f76\");class xa extends Ys{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer);}emplaceBack(t){const e=this.length;return this.resize(e+1),this.emplace(e,t)}emplace(t,e){return this.float32[1*t+0]=e,t}}xa.prototype.bytesPerElement=4,Pi(xa,\"StructArrayLayout1f4\");class va extends Ys{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer);}emplaceBack(t,e,r,n,i){const s=this.length;return this.resize(s+1),this.emplace(s,t,e,r,n,i)}emplace(t,e,r,n,i,s){const a=5*t;return this.float32[a+0]=e,this.float32[a+1]=r,this.float32[a+2]=n,this.float32[a+3]=i,this.float32[a+4]=s,t}}va.prototype.bytesPerElement=20,Pi(va,\"StructArrayLayout5f20\");class ba extends Ys{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer);}emplaceBack(t,e,r,n){const i=this.length;return this.resize(i+1),this.emplace(i,t,e,r,n)}emplace(t,e,r,n,i){const s=6*t;return this.uint32[3*t+0]=e,this.uint16[s+2]=r,this.uint16[s+3]=n,this.uint16[s+4]=i,t}}ba.prototype.bytesPerElement=12,Pi(ba,\"StructArrayLayout1ul3ui12\");class _a extends Ys{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer);}emplaceBack(t,e){const r=this.length;return this.resize(r+1),this.emplace(r,t,e)}emplace(t,e,r){const n=2*t;return this.uint16[n+0]=e,this.uint16[n+1]=r,t}}_a.prototype.bytesPerElement=4,Pi(_a,\"StructArrayLayout2ui4\");class wa extends Ys{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer);}emplaceBack(t){const e=this.length;return this.resize(e+1),this.emplace(e,t)}emplace(t,e){return this.uint16[1*t+0]=e,t}}wa.prototype.bytesPerElement=2,Pi(wa,\"StructArrayLayout1ui2\");class Aa extends Ys{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer);}emplaceBack(t,e){const r=this.length;return this.resize(r+1),this.emplace(r,t,e)}emplace(t,e,r){const n=2*t;return this.float32[n+0]=e,this.float32[n+1]=r,t}}Aa.prototype.bytesPerElement=8,Pi(Aa,\"StructArrayLayout2f8\");class Sa extends Hs{get a_pos_30(){return this._structArray.int16[this._pos2+0]}get a_pos_31(){return this._structArray.int16[this._pos2+1]}get a_pos_32(){return this._structArray.int16[this._pos2+2]}get a_pos_normal_30(){return this._structArray.int16[this._pos2+3]}get a_pos_normal_31(){return this._structArray.int16[this._pos2+4]}get a_pos_normal_32(){return this._structArray.int16[this._pos2+5]}}Sa.prototype.size=12;class ka extends aa{get(t){return new Sa(this,t)}}Pi(ka,\"FillExtrusionExtArray\");class Ia extends Hs{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.int16[this._pos2+3]}get tileAnchorY(){return this._structArray.int16[this._pos2+4]}get x1(){return this._structArray.float32[this._pos4+3]}get y1(){return this._structArray.float32[this._pos4+4]}get x2(){return this._structArray.float32[this._pos4+5]}get y2(){return this._structArray.float32[this._pos4+6]}get padding(){return this._structArray.int16[this._pos2+14]}get featureIndex(){return this._structArray.uint32[this._pos4+8]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+18]}get bucketIndex(){return this._structArray.uint16[this._pos2+19]}}Ia.prototype.size=40;class Ma extends ca{get(t){return new Ia(this,t)}}Pi(Ma,\"CollisionBoxArray\");class za extends Hs{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+8]}get numGlyphs(){return this._structArray.uint16[this._pos2+9]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+5]}get lineStartIndex(){return this._structArray.uint32[this._pos4+6]}get lineLength(){return this._structArray.uint32[this._pos4+7]}get segment(){return this._structArray.uint16[this._pos2+16]}get lowerSize(){return this._structArray.uint16[this._pos2+17]}get upperSize(){return this._structArray.uint16[this._pos2+18]}get lineOffsetX(){return this._structArray.float32[this._pos4+10]}get lineOffsetY(){return this._structArray.float32[this._pos4+11]}get writingMode(){return this._structArray.uint8[this._pos1+48]}get placedOrientation(){return this._structArray.uint8[this._pos1+49]}set placedOrientation(t){this._structArray.uint8[this._pos1+49]=t;}get hidden(){return this._structArray.uint8[this._pos1+50]}set hidden(t){this._structArray.uint8[this._pos1+50]=t;}get crossTileID(){return this._structArray.uint32[this._pos4+13]}set crossTileID(t){this._structArray.uint32[this._pos4+13]=t;}get associatedIconIndex(){return this._structArray.int16[this._pos2+28]}get flipState(){return this._structArray.uint8[this._pos1+58]}set flipState(t){this._structArray.uint8[this._pos1+58]=t;}}za.prototype.size=60;class Ta extends ma{get(t){return new za(this,t)}}Pi(Ta,\"PlacedSymbolArray\");class Ba extends Hs{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+8]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+9]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+10]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+11]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+12]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+13]}get key(){return this._structArray.uint16[this._pos2+14]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+17]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+18]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+19]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+20]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+21]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+22]}get featureIndex(){return this._structArray.uint16[this._pos2+23]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+24]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+25]}get numIconVertices(){return this._structArray.uint16[this._pos2+26]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+27]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+28]}get crossTileID(){return this._structArray.uint32[this._pos4+15]}set crossTileID(t){this._structArray.uint32[this._pos4+15]=t;}get textOffset0(){return this._structArray.float32[this._pos4+16]}get textOffset1(){return this._structArray.float32[this._pos4+17]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+18]}}Ba.prototype.size=76;class Ea extends ga{get(t){return new Ba(this,t)}}Pi(Ea,\"SymbolInstanceArray\");class Ca extends xa{getoffsetX(t){return this.float32[1*t+0]}}Pi(Ca,\"GlyphOffsetArray\");class Pa extends ta{getx(t){return this.int16[3*t+0]}gety(t){return this.int16[3*t+1]}gettileUnitDistanceFromAnchor(t){return this.int16[3*t+2]}}Pi(Pa,\"SymbolLineVertexArray\");class Da extends Hs{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}get layoutVertexArrayOffset(){return this._structArray.uint16[this._pos2+4]}}Da.prototype.size=12;class Va extends ba{get(t){return new Da(this,t)}}Pi(Va,\"FeatureIndexArray\");class Fa extends Hs{get a_centroid_pos0(){return this._structArray.uint16[this._pos2+0]}get a_centroid_pos1(){return this._structArray.uint16[this._pos2+1]}}Fa.prototype.size=4;class La extends _a{get(t){return new Fa(this,t)}}Pi(La,\"FillExtrusionCentroidArray\");class Ra extends Hs{get a_pos_30(){return this._structArray.int16[this._pos2+0]}get a_pos_31(){return this._structArray.int16[this._pos2+1]}get a_pos_32(){return this._structArray.int16[this._pos2+2]}get a_pos_normal_30(){return this._structArray.int16[this._pos2+3]}get a_pos_normal_31(){return this._structArray.int16[this._pos2+4]}get a_pos_normal_32(){return this._structArray.int16[this._pos2+5]}}Ra.prototype.size=12;class Ua extends aa{get(t){return new Ra(this,t)}}Pi(Ua,\"CircleGlobeExtArray\");const ja=Ws([{name:\"a_pattern_to\",components:4,type:\"Uint16\"},{name:\"a_pattern_from\",components:4,type:\"Uint16\"},{name:\"a_pixel_ratio_to\",components:1,type:\"Uint16\"},{name:\"a_pixel_ratio_from\",components:1,type:\"Uint16\"}]),$a=Ws([{name:\"a_dash_to\",components:4,type:\"Uint16\"},{name:\"a_dash_from\",components:4,type:\"Uint16\"}]);var Oa=ye((function(t){t.exports=function(t,e){var r,n,i,s,a,o,l,u;for(n=t.length-(r=3&t.length),i=e,a=3432918353,o=461845907,u=0;u<n;)l=255&t.charCodeAt(u)|(255&t.charCodeAt(++u))<<8|(255&t.charCodeAt(++u))<<16|(255&t.charCodeAt(++u))<<24,++u,i=27492+(65535&(s=5*(65535&(i=(i^=l=(65535&(l=(l=(65535&l)*a+(((l>>>16)*a&65535)<<16)&4294967295)<<15|l>>>17))*o+(((l>>>16)*o&65535)<<16)&4294967295)<<13|i>>>19))+((5*(i>>>16)&65535)<<16)&4294967295))+((58964+(s>>>16)&65535)<<16);switch(l=0,r){case 3:l^=(255&t.charCodeAt(u+2))<<16;case 2:l^=(255&t.charCodeAt(u+1))<<8;case 1:i^=l=(65535&(l=(l=(65535&(l^=255&t.charCodeAt(u)))*a+(((l>>>16)*a&65535)<<16)&4294967295)<<15|l>>>17))*o+(((l>>>16)*o&65535)<<16)&4294967295;}return i^=t.length,i=2246822507*(65535&(i^=i>>>16))+((2246822507*(i>>>16)&65535)<<16)&4294967295,i=3266489909*(65535&(i^=i>>>13))+((3266489909*(i>>>16)&65535)<<16)&4294967295,(i^=i>>>16)>>>0};})),qa=ye((function(t){t.exports=function(t,e){for(var r,n=t.length,i=e^n,s=0;n>=4;)r=1540483477*(65535&(r=255&t.charCodeAt(s)|(255&t.charCodeAt(++s))<<8|(255&t.charCodeAt(++s))<<16|(255&t.charCodeAt(++s))<<24))+((1540483477*(r>>>16)&65535)<<16),i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16)^(r=1540483477*(65535&(r^=r>>>24))+((1540483477*(r>>>16)&65535)<<16)),n-=4,++s;switch(n){case 3:i^=(255&t.charCodeAt(s+2))<<16;case 2:i^=(255&t.charCodeAt(s+1))<<8;case 1:i=1540483477*(65535&(i^=255&t.charCodeAt(s)))+((1540483477*(i>>>16)&65535)<<16);}return i=1540483477*(65535&(i^=i>>>13))+((1540483477*(i>>>16)&65535)<<16),(i^=i>>>15)>>>0};})),Na=Oa,Ga=qa;Na.murmur3=Oa,Na.murmur2=Ga;class Za{constructor(){this.ids=[],this.positions=[],this.indexed=!1;}add(t,e,r,n){this.ids.push(Xa(t)),this.positions.push(e,r,n);}getPositions(t){const e=Xa(t);let r=0,n=this.ids.length-1;for(;r<n;){const t=r+n>>1;this.ids[t]>=e?n=t:r=t+1;}const i=[];for(;this.ids[r]===e;)i.push({index:this.positions[3*r],start:this.positions[3*r+1],end:this.positions[3*r+2]}),r++;return i}static serialize(t,e){const r=new Float64Array(t.ids),n=new Uint32Array(t.positions);return Ka(r,n,0,r.length-1),e&&e.push(r.buffer,n.buffer),{ids:r,positions:n}}static deserialize(t){const e=new Za;return e.ids=t.ids,e.positions=t.positions,e.indexed=!0,e}}function Xa(t){const e=+t;return !isNaN(e)&&Number.MIN_SAFE_INTEGER<=e&&e<=Number.MAX_SAFE_INTEGER?e:Na(String(t))}function Ka(t,e,r,n){for(;r<n;){const i=t[r+n>>1];let s=r-1,a=n+1;for(;;){do{s++;}while(t[s]<i);do{a--;}while(t[a]>i);if(s>=a)break;Ha(t,s,a),Ha(e,3*s,3*a),Ha(e,3*s+1,3*a+1),Ha(e,3*s+2,3*a+2);}a-r<n-a?(Ka(t,e,r,a),r=a+1):(Ka(t,e,a+1,n),n=a);}}function Ha(t,e,r){const n=t[e];t[e]=t[r],t[r]=n;}Pi(Za,\"FeaturePositionMap\");class Ya{constructor(t){this.gl=t.gl,this.initialized=!1;}fetchUniformLocation(t,e){return this.location||this.initialized||(this.location=this.gl.getUniformLocation(t,e),this.initialized=!0),!!this.location}}class Wa extends Ya{constructor(t){super(t),this.current=0;}set(t,e,r){this.fetchUniformLocation(t,e)&&this.current!==r&&(this.current=r,this.gl.uniform1f(this.location,r));}}class Ja extends Ya{constructor(t){super(t),this.current=[0,0,0,0];}set(t,e,r){this.fetchUniformLocation(t,e)&&(r[0]===this.current[0]&&r[1]===this.current[1]&&r[2]===this.current[2]&&r[3]===this.current[3]||(this.current=r,this.gl.uniform4f(this.location,r[0],r[1],r[2],r[3])));}}class Qa extends Ya{constructor(t){super(t),this.current=xe.transparent;}set(t,e,r){this.fetchUniformLocation(t,e)&&(r.r===this.current.r&&r.g===this.current.g&&r.b===this.current.b&&r.a===this.current.a||(this.current=r,this.gl.uniform4f(this.location,r.r,r.g,r.b,r.a)));}}const to=new Float32Array(16),eo=new Float32Array(9),ro=new Float32Array(4);function no(t){return [Xs(255*t.r,255*t.g),Xs(255*t.b,255*t.a)]}class io{constructor(t,e,r){this.value=t,this.uniformNames=e.map((t=>`u_${t}`)),this.type=r;}setUniform(t,e,r,n,i){e.set(t,i,n.constantOr(this.value));}getBinding(t,e){return \"color\"===this.type?new Qa(t):new Wa(t)}}class so{constructor(t,e){this.uniformNames=e.map((t=>`u_${t}`)),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1;}setConstantPatternPositions(t,e){this.pixelRatioFrom=e.pixelRatio||1,this.pixelRatioTo=t.pixelRatio||1,this.patternFrom=e.tl.concat(e.br),this.patternTo=t.tl.concat(t.br);}setUniform(t,e,r,n,i){const s=\"u_pattern_to\"===i||\"u_dash_to\"===i?this.patternTo:\"u_pattern_from\"===i||\"u_dash_from\"===i?this.patternFrom:\"u_pixel_ratio_to\"===i?this.pixelRatioTo:\"u_pixel_ratio_from\"===i?this.pixelRatioFrom:null;s&&e.set(t,i,s);}getBinding(t,e){return \"u_pattern_from\"===e||\"u_pattern_to\"===e||\"u_dash_from\"===e||\"u_dash_to\"===e?new Ja(t):new Wa(t)}}class ao{constructor(t,e,r,n){this.expression=t,this.type=r,this.maxValue=0,this.paintVertexAttributes=e.map((t=>({name:`a_${t}`,type:\"Float32\",components:\"color\"===r?2:1,offset:0}))),this.paintVertexArray=new n;}populatePaintArray(t,e,r,n,i,s){const a=this.paintVertexArray.length,o=this.expression.evaluate(new Cs(0),e,{},i,n,s);this.paintVertexArray.resize(t),this._setPaintValue(a,t,o);}updatePaintArray(t,e,r,n,i){const s=this.expression.evaluate({zoom:0},r,n,void 0,i);this._setPaintValue(t,e,s);}_setPaintValue(t,e,r){if(\"color\"===this.type){const n=no(r);for(let r=t;r<e;r++)this.paintVertexArray.emplace(r,n[0],n[1]);}else {for(let n=t;n<e;n++)this.paintVertexArray.emplace(n,r);this.maxValue=Math.max(this.maxValue,Math.abs(r));}}upload(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent));}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy();}}class oo{constructor(t,e,r,n,i,s){this.expression=t,this.uniformNames=e.map((t=>`u_${t}_t`)),this.type=r,this.useIntegerZoom=n,this.zoom=i,this.maxValue=0,this.paintVertexAttributes=e.map((t=>({name:`a_${t}`,type:\"Float32\",components:\"color\"===r?4:2,offset:0}))),this.paintVertexArray=new s;}populatePaintArray(t,e,r,n,i,s){const a=this.expression.evaluate(new Cs(this.zoom),e,{},i,n,s),o=this.expression.evaluate(new Cs(this.zoom+1),e,{},i,n,s),l=this.paintVertexArray.length;this.paintVertexArray.resize(t),this._setPaintValue(l,t,a,o);}updatePaintArray(t,e,r,n,i){const s=this.expression.evaluate({zoom:this.zoom},r,n,void 0,i),a=this.expression.evaluate({zoom:this.zoom+1},r,n,void 0,i);this._setPaintValue(t,e,s,a);}_setPaintValue(t,e,r,n){if(\"color\"===this.type){const i=no(r),s=no(n);for(let r=t;r<e;r++)this.paintVertexArray.emplace(r,i[0],i[1],s[0],s[1]);}else {for(let i=t;i<e;i++)this.paintVertexArray.emplace(i,r,n);this.maxValue=Math.max(this.maxValue,Math.abs(r),Math.abs(n));}}upload(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent));}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy();}setUniform(t,e,r,n,i){const s=this.useIntegerZoom?Math.floor(r.zoom):r.zoom,a=d(this.expression.interpolationFactor(s,this.zoom,this.zoom+1),0,1);e.set(t,i,a);}getBinding(t,e){return new Wa(t)}}class lo{constructor(t,e,r,n,i,s,a){this.expression=t,this.type=r,this.useIntegerZoom=n,this.zoom=i,this.layerId=a,this.paintVertexAttributes=(\"array\"===r?$a:ja).members;for(let t=0;t<e.length;++t);this.zoomInPaintVertexArray=new s,this.zoomOutPaintVertexArray=new s;}populatePaintArray(t,e,r){const n=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(t),this.zoomOutPaintVertexArray.resize(t),this._setPaintValues(n,t,e.patterns&&e.patterns[this.layerId],r);}updatePaintArray(t,e,r,n,i,s){this._setPaintValues(t,e,r.patterns&&r.patterns[this.layerId],s);}_setPaintValues(t,e,r,n){if(!n||!r)return;const{min:i,mid:s,max:a}=r,o=n[i],l=n[s],u=n[a];if(o&&l&&u)for(let r=t;r<e;r++)this._setPaintValue(this.zoomInPaintVertexArray,r,l,o),this._setPaintValue(this.zoomOutPaintVertexArray,r,l,u);}_setPaintValue(t,e,r,n){t.emplace(e,r.tl[0],r.tl[1],r.br[0],r.br[1],n.tl[0],n.tl[1],n.br[0],n.br[1],r.pixelRatio,n.pixelRatio);}upload(t){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=t.createVertexBuffer(this.zoomInPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=t.createVertexBuffer(this.zoomOutPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent));}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy();}}class uo{constructor(t,e,r=(()=>!0)){this.binders={},this._buffers=[];const n=[];for(const i in t.paint._values){if(!r(i))continue;const s=t.paint.get(i);if(!(s instanceof Us&&An(s.property.specification)))continue;const a=po(i,t.type),o=s.value,l=s.property.specification.type,u=s.property.useIntegerZoom,c=s.property.specification[\"property-type\"],h=\"cross-faded\"===c||\"cross-faded-data-driven\"===c,p=\"line-dasharray\"===String(i)&&\"constant\"!==t.layout.get(\"line-cap\").value.kind;if(\"constant\"!==o.kind||p)if(\"source\"===o.kind||p||h){const r=mo(i,l,\"source\");this.binders[i]=h?new lo(o,a,l,u,e,r,t.id):new ao(o,a,l,r),n.push(`/a_${i}`);}else {const t=mo(i,l,\"composite\");this.binders[i]=new oo(o,a,l,u,e,t),n.push(`/z_${i}`);}else this.binders[i]=h?new so(o.value,a):new io(o.value,a,l),n.push(`/u_${i}`);}this.cacheKey=n.sort().join(\"\");}getMaxValue(t){const e=this.binders[t];return e instanceof ao||e instanceof oo?e.maxValue:0}populatePaintArrays(t,e,r,n,i,s){for(const a in this.binders){const o=this.binders[a];(o instanceof ao||o instanceof oo||o instanceof lo)&&o.populatePaintArray(t,e,r,n,i,s);}}setConstantPatternPositions(t,e){for(const r in this.binders){const n=this.binders[r];n instanceof so&&n.setConstantPatternPositions(t,e);}}updatePaintArrays(t,e,r,n,i,s){let a=!1;for(const o in t){const l=e.getPositions(o);for(const e of l){const l=r.feature(e.index);for(const r in this.binders){const u=this.binders[r];if((u instanceof ao||u instanceof oo||u instanceof lo)&&!0===u.expression.isStateDependent){const c=n.paint.get(r);u.expression=c.value,u.updatePaintArray(e.start,e.end,l,t[o],i,s),a=!0;}}}}return a}defines(){const t=[];for(const e in this.binders){const r=this.binders[e];(r instanceof io||r instanceof so)&&t.push(...r.uniformNames.map((t=>`#define HAS_UNIFORM_${t}`)));}return t}getBinderAttributes(){const t=[];for(const e in this.binders){const r=this.binders[e];if(r instanceof ao||r instanceof oo||r instanceof lo)for(let e=0;e<r.paintVertexAttributes.length;e++)t.push(r.paintVertexAttributes[e].name);}return t}getBinderUniforms(){const t=[];for(const e in this.binders){const r=this.binders[e];if(r instanceof io||r instanceof so||r instanceof oo)for(const e of r.uniformNames)t.push(e);}return t}getPaintVertexBuffers(){return this._buffers}getUniforms(t){const e=[];for(const r in this.binders){const n=this.binders[r];if(n instanceof io||n instanceof so||n instanceof oo)for(const i of n.uniformNames)e.push({name:i,property:r,binding:n.getBinding(t,i)});}return e}setUniforms(t,e,r,n,i){for(const{name:e,property:s,binding:a}of r)this.binders[s].setUniform(t,a,i,n.get(s),e);}updatePaintBuffers(t){this._buffers=[];for(const e in this.binders){const r=this.binders[e];if(t&&r instanceof lo){const e=2===t.fromScale?r.zoomInPaintVertexBuffer:r.zoomOutPaintVertexBuffer;e&&this._buffers.push(e);}else (r instanceof ao||r instanceof oo)&&r.paintVertexBuffer&&this._buffers.push(r.paintVertexBuffer);}}upload(t){for(const e in this.binders){const r=this.binders[e];(r instanceof ao||r instanceof oo||r instanceof lo)&&r.upload(t);}this.updatePaintBuffers();}destroy(){for(const t in this.binders){const e=this.binders[t];(e instanceof ao||e instanceof oo||e instanceof lo)&&e.destroy();}}}class co{constructor(t,e,r=(()=>!0)){this.programConfigurations={};for(const n of t)this.programConfigurations[n.id]=new uo(n,e,r);this.needsUpload=!1,this._featureMap=new Za,this._bufferOffset=0;}populatePaintArrays(t,e,r,n,i,s,a){for(const r in this.programConfigurations)this.programConfigurations[r].populatePaintArrays(t,e,n,i,s,a);void 0!==e.id&&this._featureMap.add(e.id,r,this._bufferOffset,t),this._bufferOffset=t,this.needsUpload=!0;}updatePaintArrays(t,e,r,n,i){for(const s of r)this.needsUpload=this.programConfigurations[s.id].updatePaintArrays(t,this._featureMap,e,s,n,i)||this.needsUpload;}get(t){return this.programConfigurations[t]}upload(t){if(this.needsUpload){for(const e in this.programConfigurations)this.programConfigurations[e].upload(t);this.needsUpload=!1;}}destroy(){for(const t in this.programConfigurations)this.programConfigurations[t].destroy();}}const ho={\"text-opacity\":[\"opacity\"],\"icon-opacity\":[\"opacity\"],\"text-color\":[\"fill_color\"],\"icon-color\":[\"fill_color\"],\"text-halo-color\":[\"halo_color\"],\"icon-halo-color\":[\"halo_color\"],\"text-halo-blur\":[\"halo_blur\"],\"icon-halo-blur\":[\"halo_blur\"],\"text-halo-width\":[\"halo_width\"],\"icon-halo-width\":[\"halo_width\"],\"line-gap-width\":[\"gapwidth\"],\"line-pattern\":[\"pattern_to\",\"pattern_from\",\"pixel_ratio_to\",\"pixel_ratio_from\"],\"fill-pattern\":[\"pattern_to\",\"pattern_from\",\"pixel_ratio_to\",\"pixel_ratio_from\"],\"fill-extrusion-pattern\":[\"pattern_to\",\"pattern_from\",\"pixel_ratio_to\",\"pixel_ratio_from\"],\"line-dasharray\":[\"dash_to\",\"dash_from\"]};function po(t,e){return ho[t]||[t.replace(`${e}-`,\"\").replace(/-/g,\"_\")]}const fo={\"line-pattern\":{source:ia,composite:ia},\"fill-pattern\":{source:ia,composite:ia},\"fill-extrusion-pattern\":{source:ia,composite:ia},\"line-dasharray\":{source:sa,composite:sa}},yo={color:{source:Aa,composite:na},number:{source:xa,composite:Aa}};function mo(t,e,r){const n=fo[t];return n&&n[r]||yo[e][r]}Pi(io,\"ConstantBinder\"),Pi(so,\"CrossFadedConstantBinder\"),Pi(ao,\"SourceExpressionBinder\"),Pi(lo,\"CrossFadedCompositeBinder\"),Pi(oo,\"CompositeExpressionBinder\"),Pi(uo,\"ProgramConfiguration\",{omit:[\"_buffers\"]}),Pi(co,\"ProgramConfigurationSet\");const go=\"-transition\";class xo extends Nt{constructor(t,e){if(super(),this.id=t.id,this.type=t.type,this._featureFilter={filter:()=>!0,needGeometry:!1,needFeature:!1},this._filterCompiled=!1,\"custom\"!==t.type&&(this.metadata=(t=t).metadata,this.minzoom=t.minzoom,this.maxzoom=t.maxzoom,\"background\"!==t.type&&\"sky\"!==t.type&&(this.source=t.source,this.sourceLayer=t[\"source-layer\"],this.filter=t.filter),e.layout&&(this._unevaluatedLayout=new Rs(e.layout)),e.paint)){this._transitionablePaint=new Vs(e.paint);for(const e in t.paint)this.setPaintProperty(e,t.paint[e],{validate:!1});for(const e in t.layout)this.setLayoutProperty(e,t.layout[e],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new js(e.paint);}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(t){return \"visibility\"===t?this.visibility:this._unevaluatedLayout.getValue(t)}setLayoutProperty(t,e,r={}){null!=e&&this._validate(Mi,`layers.${this.id}.layout.${t}`,t,e,r)||(\"visibility\"!==t?this._unevaluatedLayout.setValue(t,e):this.visibility=e);}getPaintProperty(t){return I(t,go)?this._transitionablePaint.getTransition(t.slice(0,-go.length)):this._transitionablePaint.getValue(t)}setPaintProperty(t,e,r={}){if(null!=e&&this._validate(Ii,`layers.${this.id}.paint.${t}`,t,e,r))return !1;if(I(t,go))return this._transitionablePaint.setTransition(t.slice(0,-go.length),e||void 0),!1;{const r=this._transitionablePaint._values[t],n=\"cross-faded-data-driven\"===r.property.specification[\"property-type\"],i=r.value.isDataDriven(),s=r.value;this._transitionablePaint.setValue(t,e),this._handleSpecialPaintPropertyUpdate(t);const a=this._transitionablePaint._values[t].value;return a.isDataDriven()||i||n||this._handleOverridablePaintPropertyUpdate(t,s,a)}}_handleSpecialPaintPropertyUpdate(t){}getProgramIds(){return null}getProgramConfiguration(t){return null}_handleOverridablePaintPropertyUpdate(t,e,r){return !1}isHidden(t){return !!(this.minzoom&&t<this.minzoom)||!!(this.maxzoom&&t>=this.maxzoom)||\"none\"===this.visibility}updateTransitions(t){this._transitioningPaint=this._transitionablePaint.transitioned(t,this._transitioningPaint);}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(t,e){t.getCrossfadeParameters&&(this._crossfadeParameters=t.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(t,void 0,e)),this.paint=this._transitioningPaint.possiblyEvaluate(t,void 0,e);}serialize(){const t={id:this.id,type:this.type,source:this.source,\"source-layer\":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(t.layout=t.layout||{},t.layout.visibility=this.visibility),z(t,((t,e)=>!(void 0===t||\"layout\"===e&&!Object.keys(t).length||\"paint\"===e&&!Object.keys(t).length)))}_validate(t,e,r,n,i={}){return (!i||!1!==i.validate)&&Ti(this,t.call(ki,{key:e,layerType:this.type,objectKey:r,value:n,styleSpec:Gt,style:{glyphs:!0,sprite:!0}}))}is3D(){return !1}isSky(){return !1}isTileClipped(){return !1}hasOffscreenPass(){return !1}resize(){}isStateDependent(){for(const t in this.paint._values){const e=this.paint.get(t);if(e instanceof Us&&An(e.property.specification)&&(\"source\"===e.value.kind||\"composite\"===e.value.kind)&&e.value.isStateDependent)return !0}return !1}compileFilter(){this._filterCompiled||(this._featureFilter=Jn(this.filter),this._filterCompiled=!0);}invalidateCompiledFilter(){this._filterCompiled=!1;}dynamicFilter(){return this._featureFilter.dynamicFilter}dynamicFilterNeedsFeature(){return this._featureFilter.needFeature}}const vo=Ws([{name:\"a_pos\",components:2,type:\"Int16\"}],4),bo=Ws([{name:\"a_pos_3\",components:3,type:\"Int16\"},{name:\"a_pos_normal_3\",components:3,type:\"Int16\"}]);class _o{constructor(t=[]){this.segments=t;}prepareSegment(t,e,r,n){let i=this.segments[this.segments.length-1];return t>_o.MAX_VERTEX_ARRAY_LENGTH&&E(`Max vertices per segment is ${_o.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${t}`),(!i||i.vertexLength+t>_o.MAX_VERTEX_ARRAY_LENGTH||i.sortKey!==n)&&(i={vertexOffset:e.length,primitiveOffset:r.length,vertexLength:0,primitiveLength:0},void 0!==n&&(i.sortKey=n),this.segments.push(i)),i}get(){return this.segments}destroy(){for(const t of this.segments)for(const e in t.vaos)t.vaos[e].destroy();}static simpleSegment(t,e,r,n){return new _o([{vertexOffset:t,primitiveOffset:e,vertexLength:r,primitiveLength:n,vaos:{},sortKey:0}])}}_o.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Pi(_o,\"SegmentVector\");var wo=8192;class Ao{constructor(t,e){t&&(e?this.setSouthWest(t).setNorthEast(e):4===t.length?this.setSouthWest([t[0],t[1]]).setNorthEast([t[2],t[3]]):this.setSouthWest(t[0]).setNorthEast(t[1]));}setNorthEast(t){return this._ne=t instanceof ko?new ko(t.lng,t.lat):ko.convert(t),this}setSouthWest(t){return this._sw=t instanceof ko?new ko(t.lng,t.lat):ko.convert(t),this}extend(t){const e=this._sw,r=this._ne;let n,i;if(t instanceof ko)n=t,i=t;else {if(!(t instanceof Ao))return Array.isArray(t)?4===t.length||t.every(Array.isArray)?this.extend(Ao.convert(t)):this.extend(ko.convert(t)):this;if(n=t._sw,i=t._ne,!n||!i)return this}return e||r?(e.lng=Math.min(n.lng,e.lng),e.lat=Math.min(n.lat,e.lat),r.lng=Math.max(i.lng,r.lng),r.lat=Math.max(i.lat,r.lat)):(this._sw=new ko(n.lng,n.lat),this._ne=new ko(i.lng,i.lat)),this}getCenter(){return new ko((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new ko(this.getWest(),this.getNorth())}getSouthEast(){return new ko(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return [this._sw.toArray(),this._ne.toArray()]}toString(){return `LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return !(this._sw&&this._ne)}contains(t){const{lng:e,lat:r}=ko.convert(t);let n=this._sw.lng<=e&&e<=this._ne.lng;return this._sw.lng>this._ne.lng&&(n=this._sw.lng>=e&&e>=this._ne.lng),this._sw.lat<=r&&r<=this._ne.lat&&n}static convert(t){return !t||t instanceof Ao?t:new Ao(t)}}const So=6371008.8;class ko{constructor(t,e){if(isNaN(t)||isNaN(e))throw new Error(`Invalid LngLat object: (${t}, ${e})`);if(this.lng=+t,this.lat=+e,this.lat>90||this.lat<-90)throw new Error(\"Invalid LngLat latitude value: must be between -90 and 90\")}wrap(){return new ko(m(this.lng,-180,180),this.lat)}toArray(){return [this.lng,this.lat]}toString(){return `LngLat(${this.lng}, ${this.lat})`}distanceTo(t){const e=Math.PI/180,r=this.lat*e,n=t.lat*e,i=Math.sin(r)*Math.sin(n)+Math.cos(r)*Math.cos(n)*Math.cos((t.lng-this.lng)*e);return So*Math.acos(Math.min(i,1))}toBounds(t=0){const e=360*t/40075017,r=e/Math.cos(Math.PI/180*this.lat);return new Ao(new ko(this.lng-r,this.lat-e),new ko(this.lng+r,this.lat+e))}static convert(t){if(t instanceof ko)return t;if(Array.isArray(t)&&(2===t.length||3===t.length))return new ko(Number(t[0]),Number(t[1]));if(!Array.isArray(t)&&\"object\"==typeof t&&null!==t)return new ko(Number(\"lng\"in t?t.lng:t.lon),Number(t.lat));throw new Error(\"`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]\")}}const Io=2*Math.PI*So;function Mo(t){return Io*Math.cos(t*Math.PI/180)}function zo(t){return (180+t)/360}function To(t){return (180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t*Math.PI/360)))/360}function Bo(t,e){return t/Mo(e)}function Eo(t){return 360*t-180}function Co(t){return 360/Math.PI*Math.atan(Math.exp((180-360*t)*Math.PI/180))-90}function Po(t,e){return t*Mo(Co(e))}const Do=85.051129;function Vo(t){return 1/Math.cos(t*Math.PI/180)}class Fo{constructor(t,e,r=0){this.x=+t,this.y=+e,this.z=+r;}static fromLngLat(t,e=0){const r=ko.convert(t);return new Fo(zo(r.lng),To(r.lat),Bo(e,r.lat))}toLngLat(){return new ko(Eo(this.x),Co(this.y))}toAltitude(){return Po(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/Io*Vo(Co(this.y))}}function Lo(t,e,r,n,s,a,o,l,u){const c=(e+n)/2,h=(r+s)/2,p=new i(c,h);l(p),function(t,e,r,n,i,s){const a=r-i,o=n-s;return Math.abs((n-e)*a-(r-t)*o)/Math.hypot(a,o)}(p.x,p.y,a.x,a.y,o.x,o.y)>=u?(Lo(t,e,r,c,h,a,p,l,u),Lo(t,c,h,n,s,p,o,l,u)):t.push(o);}function Ro(t,e,r){let n=t[0],i=n.x,s=n.y;e(n);const a=[n];for(let o=1;o<t.length;o++){const l=t[o],{x:u,y:c}=l;e(l),Lo(a,i,s,u,c,n,l,e,r),i=u,s=c,n=l;}return a}function Uo(t,e,r,n,i){if(i(e,r)){const s=e.add(r).mult(.5);n(s),Uo(t,e,s,n,i),Uo(t,s,r,n,i);}else t.push(r);}function jo(t,e,r){let n=t[0];e(n);const i=[n];for(let s=1;s<t.length;s++){const a=t[s];e(a),Uo(i,n,a,e,r),n=a;}return i}const $o=Math.pow(2,14)-1,Oo=-$o-1;function qo(t,e){const r=Math.round(t.x*e),n=Math.round(t.y*e);return t.x=d(r,Oo,$o),t.y=d(n,Oo,$o),(r<t.x||r>t.x+1||n<t.y||n>t.y+1)&&E(\"Geometry exceeds allowed extent, reduce your vector tile buffer size\"),t}function No(t,e,r){const n=t.loadGeometry(),i=t.extent,s=wo/i;if(e&&r&&r.projection.isReprojectedInTileSpace){const s=1<<e.z,{scale:a,x:o,y:l,projection:u}=r,c=t=>{const r=Eo((e.x+t.x/i)/s),n=Co((e.y+t.y/i)/s),c=u.project(r,n);t.x=(c.x*a-o)*i,t.y=(c.y*a-l)*i;};for(let e=0;e<n.length;e++)if(1!==t.type)n[e]=Ro(n[e],c,1);else {const t=[];for(const r of n[e])r.x<0||r.x>=i||r.y<0||r.y>=i||(c(r),t.push(r));n[e]=t;}}for(const t of n)for(const e of t)qo(e,s);return n}function Go(t,e){return {type:t.type,id:t.id,properties:t.properties,geometry:e?No(t):[]}}function Zo(t,e,r,n,i){t.emplaceBack(2*e+(n+1)/2,2*r+(i+1)/2);}function Xo(t,e,r){const n=16384;t.emplaceBack(e.x,e.y,e.z,r[0]*n,r[1]*n,r[2]*n);}class Ko{constructor(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((t=>t.id)),this.index=t.index,this.hasPattern=!1,this.projection=t.projection,this.layoutVertexArray=new Qs,this.indexArray=new ya,this.segments=new _o,this.programConfigurations=new co(t.layers,t.zoom),this.stateDependentLayerIds=this.layers.filter((t=>t.isStateDependent())).map((t=>t.id));}populate(t,e,r,n){const i=this.layers[0],s=[];let a=null;\"circle\"===i.type&&(a=i.layout.get(\"circle-sort-key\"));for(const{feature:e,id:i,index:o,sourceLayerIndex:l}of t){const t=this.layers[0]._featureFilter.needGeometry,u=Go(e,t);if(!this.layers[0]._featureFilter.filter(new Cs(this.zoom),u,r))continue;const c=a?a.evaluate(u,{},r):void 0,h={id:i,properties:e.properties,type:e.type,sourceLayerIndex:l,index:o,geometry:t?u.geometry:No(e,r,n),patterns:{},sortKey:c};s.push(h);}a&&s.sort(((t,e)=>t.sortKey-e.sortKey));let o=null;\"globe\"===n.projection.name&&(this.globeExtVertexArray=new Ua,o=n.projection);for(const n of s){const{geometry:i,index:s,sourceLayerIndex:a}=n,l=t[s].feature;this.addFeature(n,i,s,e.availableImages,r,o),e.featureIndex.insert(l,i,s,a,this.index);}}update(t,e,r,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,r,n);}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return !this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,vo.members),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.globeExtVertexArray&&(this.globeExtVertexBuffer=t.createVertexBuffer(this.globeExtVertexArray,bo.members))),this.programConfigurations.upload(t),this.uploaded=!0;}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy());}addFeature(t,e,r,n,i,s){for(const r of e)for(const e of r){const r=e.x,n=e.y;if(r<0||r>=wo||n<0||n>=wo)continue;if(s){const t=s.projectTilePoint(r,n,i),e=s.upVector(i,r,n),a=this.globeExtVertexArray;Xo(a,t,e),Xo(a,t,e),Xo(a,t,e),Xo(a,t,e);}const a=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,t.sortKey),o=a.vertexLength;Zo(this.layoutVertexArray,r,n,-1,-1),Zo(this.layoutVertexArray,r,n,1,-1),Zo(this.layoutVertexArray,r,n,1,1),Zo(this.layoutVertexArray,r,n,-1,1),this.indexArray.emplaceBack(o,o+1,o+2),this.indexArray.emplaceBack(o,o+2,o+3),a.vertexLength+=4,a.primitiveLength+=2;}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,r,{},n,i);}}function Ho(t,e){for(let r=0;r<t.length;r++)if(il(e,t[r]))return !0;for(let r=0;r<e.length;r++)if(il(t,e[r]))return !0;return !!Qo(t,e)}function Yo(t,e,r){return !!il(t,e)||!!el(e,t,r)}function Wo(t,e){if(1===t.length)return nl(e,t[0]);for(let r=0;r<e.length;r++){const n=e[r];for(let e=0;e<n.length;e++)if(il(t,n[e]))return !0}for(let r=0;r<t.length;r++)if(nl(e,t[r]))return !0;for(let r=0;r<e.length;r++)if(Qo(t,e[r]))return !0;return !1}function Jo(t,e,r){if(t.length>1){if(Qo(t,e))return !0;for(let n=0;n<e.length;n++)if(el(e[n],t,r))return !0}for(let n=0;n<t.length;n++)if(el(t[n],e,r))return !0;return !1}function Qo(t,e){if(0===t.length||0===e.length)return !1;for(let r=0;r<t.length-1;r++){const n=t[r],i=t[r+1];for(let t=0;t<e.length-1;t++)if(tl(n,i,e[t],e[t+1]))return !0}return !1}function tl(t,e,r,n){return C(t,r,n)!==C(e,r,n)&&C(t,e,r)!==C(t,e,n)}function el(t,e,r){const n=r*r;if(1===e.length)return t.distSqr(e[0])<n;for(let r=1;r<e.length;r++)if(rl(t,e[r-1],e[r])<n)return !0;return !1}function rl(t,e,r){const n=e.distSqr(r);if(0===n)return t.distSqr(e);const i=((t.x-e.x)*(r.x-e.x)+(t.y-e.y)*(r.y-e.y))/n;return t.distSqr(i<0?e:i>1?r:r.sub(e)._mult(i)._add(e))}function nl(t,e){let r,n,i,s=!1;for(let a=0;a<t.length;a++){r=t[a];for(let t=0,a=r.length-1;t<r.length;a=t++)n=r[t],i=r[a],n.y>e.y!=i.y>e.y&&e.x<(i.x-n.x)*(e.y-n.y)/(i.y-n.y)+n.x&&(s=!s);}return s}function il(t,e){let r=!1;for(let n=0,i=t.length-1;n<t.length;i=n++){const s=t[n],a=t[i];s.y>e.y!=a.y>e.y&&e.x<(a.x-s.x)*(e.y-s.y)/(a.y-s.y)+s.x&&(r=!r);}return r}function sl(t,e,r,n,s){for(const i of t)if(e<=i.x&&r<=i.y&&n>=i.x&&s>=i.y)return !0;const a=[new i(e,r),new i(e,s),new i(n,s),new i(n,r)];if(t.length>2)for(const e of a)if(il(t,e))return !0;for(let e=0;e<t.length-1;e++)if(al(t[e],t[e+1],a))return !0;return !1}function al(t,e,r){const n=r[0],i=r[2];if(t.x<n.x&&e.x<n.x||t.x>i.x&&e.x>i.x||t.y<n.y&&e.y<n.y||t.y>i.y&&e.y>i.y)return !1;const s=C(t,e,r[0]);return s!==C(t,e,r[1])||s!==C(t,e,r[2])||s!==C(t,e,r[3])}function ol(t,e,r){const n=e.paint.get(t).value;return \"constant\"===n.kind?n.value:r.programConfigurations.get(e.id).getMaxValue(t)}function ll(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function ul(t,e,r,n,s){if(!e[0]&&!e[1])return t;const a=i.convert(e)._mult(s);\"viewport\"===r&&a._rotate(-n);const o=[];for(let e=0;e<t.length;e++)o.push(t[e].sub(a));return o}function cl(t,e,r,n){const s=i.convert(t)._mult(n);return \"viewport\"===e&&s._rotate(-r),s}Pi(Ko,\"CircleBucket\",{omit:[\"layers\"]});const hl=new Zs({\"circle-sort-key\":new Os(Gt.layout_circle[\"circle-sort-key\"])});var pl={paint:new Zs({\"circle-radius\":new Os(Gt.paint_circle[\"circle-radius\"]),\"circle-color\":new Os(Gt.paint_circle[\"circle-color\"]),\"circle-blur\":new Os(Gt.paint_circle[\"circle-blur\"]),\"circle-opacity\":new Os(Gt.paint_circle[\"circle-opacity\"]),\"circle-translate\":new $s(Gt.paint_circle[\"circle-translate\"]),\"circle-translate-anchor\":new $s(Gt.paint_circle[\"circle-translate-anchor\"]),\"circle-pitch-scale\":new $s(Gt.paint_circle[\"circle-pitch-scale\"]),\"circle-pitch-alignment\":new $s(Gt.paint_circle[\"circle-pitch-alignment\"]),\"circle-stroke-width\":new Os(Gt.paint_circle[\"circle-stroke-width\"]),\"circle-stroke-color\":new Os(Gt.paint_circle[\"circle-stroke-color\"]),\"circle-stroke-opacity\":new Os(Gt.paint_circle[\"circle-stroke-opacity\"])}),layout:hl},fl=1e-6,dl=\"undefined\"!=typeof Float32Array?Float32Array:Array;function yl(){var t=new dl(9);return dl!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function ml(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function gl(t,e){var r=e[0],n=e[1],i=e[2],s=e[3],a=e[4],o=e[5],l=e[6],u=e[7],c=e[8],h=e[9],p=e[10],f=e[11],d=e[12],y=e[13],m=e[14],g=e[15],x=r*o-n*a,v=r*l-i*a,b=r*u-s*a,_=n*l-i*o,w=n*u-s*o,A=i*u-s*l,S=c*y-h*d,k=c*m-p*d,I=c*g-f*d,M=h*m-p*y,z=h*g-f*y,T=p*g-f*m,B=x*T-v*z+b*M+_*I-w*k+A*S;return B?(t[0]=(o*T-l*z+u*M)*(B=1/B),t[1]=(i*z-n*T-s*M)*B,t[2]=(y*A-m*w+g*_)*B,t[3]=(p*w-h*A-f*_)*B,t[4]=(l*I-a*T-u*k)*B,t[5]=(r*T-i*I+s*k)*B,t[6]=(m*b-d*A-g*v)*B,t[7]=(c*A-p*b+f*v)*B,t[8]=(a*z-o*I+u*S)*B,t[9]=(n*I-r*z-s*S)*B,t[10]=(d*w-y*b+g*x)*B,t[11]=(h*b-c*w-f*x)*B,t[12]=(o*k-a*M-l*S)*B,t[13]=(r*M-n*k+i*S)*B,t[14]=(y*v-d*_-m*x)*B,t[15]=(c*_-h*v+p*x)*B,t):null}function xl(t,e,r){var n=e[0],i=e[1],s=e[2],a=e[3],o=e[4],l=e[5],u=e[6],c=e[7],h=e[8],p=e[9],f=e[10],d=e[11],y=e[12],m=e[13],g=e[14],x=e[15],v=r[0],b=r[1],_=r[2],w=r[3];return t[0]=v*n+b*o+_*h+w*y,t[1]=v*i+b*l+_*p+w*m,t[2]=v*s+b*u+_*f+w*g,t[3]=v*a+b*c+_*d+w*x,t[4]=(v=r[4])*n+(b=r[5])*o+(_=r[6])*h+(w=r[7])*y,t[5]=v*i+b*l+_*p+w*m,t[6]=v*s+b*u+_*f+w*g,t[7]=v*a+b*c+_*d+w*x,t[8]=(v=r[8])*n+(b=r[9])*o+(_=r[10])*h+(w=r[11])*y,t[9]=v*i+b*l+_*p+w*m,t[10]=v*s+b*u+_*f+w*g,t[11]=v*a+b*c+_*d+w*x,t[12]=(v=r[12])*n+(b=r[13])*o+(_=r[14])*h+(w=r[15])*y,t[13]=v*i+b*l+_*p+w*m,t[14]=v*s+b*u+_*f+w*g,t[15]=v*a+b*c+_*d+w*x,t}function vl(t,e,r){var n,i,s,a,o,l,u,c,h,p,f,d,y=r[0],m=r[1],g=r[2];return e===t?(t[12]=e[0]*y+e[4]*m+e[8]*g+e[12],t[13]=e[1]*y+e[5]*m+e[9]*g+e[13],t[14]=e[2]*y+e[6]*m+e[10]*g+e[14],t[15]=e[3]*y+e[7]*m+e[11]*g+e[15]):(i=e[1],s=e[2],a=e[3],o=e[4],l=e[5],u=e[6],c=e[7],h=e[8],p=e[9],f=e[10],d=e[11],t[0]=n=e[0],t[1]=i,t[2]=s,t[3]=a,t[4]=o,t[5]=l,t[6]=u,t[7]=c,t[8]=h,t[9]=p,t[10]=f,t[11]=d,t[12]=n*y+o*m+h*g+e[12],t[13]=i*y+l*m+p*g+e[13],t[14]=s*y+u*m+f*g+e[14],t[15]=a*y+c*m+d*g+e[15]),t}function bl(t,e,r){var n=r[0],i=r[1],s=r[2];return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*s,t[9]=e[9]*s,t[10]=e[10]*s,t[11]=e[11]*s,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function _l(t,e,r){var n=Math.sin(r),i=Math.cos(r),s=e[4],a=e[5],o=e[6],l=e[7],u=e[8],c=e[9],h=e[10],p=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=s*i+u*n,t[5]=a*i+c*n,t[6]=o*i+h*n,t[7]=l*i+p*n,t[8]=u*i-s*n,t[9]=c*i-a*n,t[10]=h*i-o*n,t[11]=p*i-l*n,t}function wl(t,e,r){var n=Math.sin(r),i=Math.cos(r),s=e[0],a=e[1],o=e[2],l=e[3],u=e[8],c=e[9],h=e[10],p=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=s*i-u*n,t[1]=a*i-c*n,t[2]=o*i-h*n,t[3]=l*i-p*n,t[8]=s*n+u*i,t[9]=a*n+c*i,t[10]=o*n+h*i,t[11]=l*n+p*i,t}function Al(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Sl(t,e,r){var n,i,s,a=r[0],o=r[1],l=r[2],u=Math.hypot(a,o,l);return u<fl?null:(a*=u=1/u,o*=u,l*=u,n=Math.sin(e),i=Math.cos(e),t[0]=a*a*(s=1-i)+i,t[1]=o*a*s+l*n,t[2]=l*a*s-o*n,t[3]=0,t[4]=a*o*s-l*n,t[5]=o*o*s+i,t[6]=l*o*s+a*n,t[7]=0,t[8]=a*l*s+o*n,t[9]=o*l*s-a*n,t[10]=l*l*s+i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});var kl=xl;function Il(){var t=new dl(3);return dl!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function Ml(t){var e=new dl(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function zl(t){return Math.hypot(t[0],t[1],t[2])}function Tl(t,e,r){var n=new dl(3);return n[0]=t,n[1]=e,n[2]=r,n}function Bl(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t}function El(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t}function Cl(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t}function Pl(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t}function Dl(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t}function Vl(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t}function Fl(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t}function Ll(t,e){var r=e[0],n=e[1],i=e[2],s=r*r+n*n+i*i;return s>0&&(s=1/Math.sqrt(s)),t[0]=e[0]*s,t[1]=e[1]*s,t[2]=e[2]*s,t}function Rl(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Ul(t,e,r){var n=e[0],i=e[1],s=e[2],a=r[0],o=r[1],l=r[2];return t[0]=i*l-s*o,t[1]=s*a-n*l,t[2]=n*o-i*a,t}function jl(t,e,r){var n=e[0],i=e[1],s=e[2],a=r[3]*n+r[7]*i+r[11]*s+r[15];return t[0]=(r[0]*n+r[4]*i+r[8]*s+r[12])/(a=a||1),t[1]=(r[1]*n+r[5]*i+r[9]*s+r[13])/a,t[2]=(r[2]*n+r[6]*i+r[10]*s+r[14])/a,t}function $l(t,e,r){var n=r[0],i=r[1],s=r[2],a=e[0],o=e[1],l=e[2],u=i*l-s*o,c=s*a-n*l,h=n*o-i*a,p=i*h-s*c,f=s*u-n*h,d=n*c-i*u,y=2*r[3];return c*=y,h*=y,f*=2,d*=2,t[0]=a+(u*=y)+(p*=2),t[1]=o+c+f,t[2]=l+h+d,t}var Ol,ql=El,Nl=Cl,Gl=zl;function Zl(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t}function Xl(t,e,r){var n=e[0],i=e[1],s=e[2],a=e[3];return t[0]=r[0]*n+r[4]*i+r[8]*s+r[12]*a,t[1]=r[1]*n+r[5]*i+r[9]*s+r[13]*a,t[2]=r[2]*n+r[6]*i+r[10]*s+r[14]*a,t[3]=r[3]*n+r[7]*i+r[11]*s+r[15]*a,t}function Kl(){var t=new dl(4);return dl!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function Hl(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function Yl(t,e,r){r*=.5;var n=e[0],i=e[1],s=e[2],a=e[3],o=Math.sin(r),l=Math.cos(r);return t[0]=n*l+a*o,t[1]=i*l+s*o,t[2]=s*l-i*o,t[3]=a*l-n*o,t}function Wl(t,e,r){r*=.5;var n=e[0],i=e[1],s=e[2],a=e[3],o=Math.sin(r),l=Math.cos(r);return t[0]=n*l-s*o,t[1]=i*l+a*o,t[2]=s*l+n*o,t[3]=a*l-i*o,t}Il(),Ol=new dl(4),dl!=Float32Array&&(Ol[0]=0,Ol[1]=0,Ol[2]=0,Ol[3]=0),Il(),Tl(1,0,0),Tl(0,1,0),Kl(),Kl(),yl();class Jl{constructor(t,e){this.pos=t,this.dir=e;}intersectsPlane(t,e,r){const n=Rl(e,this.dir);if(Math.abs(n)<1e-6)return !1;const i=((t[0]-this.pos[0])*e[0]+(t[1]-this.pos[1])*e[1]+(t[2]-this.pos[2])*e[2])/n;return r[0]=this.pos[0]+this.dir[0]*i,r[1]=this.pos[1]+this.dir[1]*i,r[2]=this.pos[2]+this.dir[2]*i,!0}closestPointOnSphere(t,e,r){if(function(t,e){var r=t[0],n=t[1],i=t[2],s=e[0],a=e[1],o=e[2];return Math.abs(r-s)<=fl*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(n-a)<=fl*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(i-o)<=fl*Math.max(1,Math.abs(i),Math.abs(o))}(this.pos,t)||0===e)return r[0]=r[1]=r[2]=0,!1;const[n,i,s]=this.dir,a=this.pos[0]-t[0],o=this.pos[1]-t[1],l=this.pos[2]-t[2],u=n*n+i*i+s*s,c=2*(a*n+o*i+l*s),h=c*c-4*u*(a*a+o*o+l*l-e*e);if(h<0){const t=Math.max(-c/2,0),u=a+n*t,h=o+i*t,p=l+s*t,f=Math.hypot(u,h,p);return r[0]=u*e/f,r[1]=h*e/f,r[2]=p*e/f,!1}{const t=(-c-Math.sqrt(h))/(2*u);if(t<0){const t=Math.hypot(a,o,l);return r[0]=a*e/t,r[1]=o*e/t,r[2]=l*e/t,!1}return r[0]=a+n*t,r[1]=o+i*t,r[2]=l+s*t,!0}}}class Ql{constructor(t,e,r,n,i){this.TL=t,this.TR=e,this.BR=r,this.BL=n,this.horizon=i;}static fromInvProjectionMatrix(t,e,r){const n=[-1,1,1],i=[1,1,1],s=[1,-1,1],a=[-1,-1,1],o=jl(n,n,t),l=jl(i,i,t),u=jl(s,s,t),c=jl(a,a,t);return new Ql(o,l,u,c,e/r)}}class tu{constructor(t,e){this.points=t,this.planes=e;}static fromInvProjectionMatrix(t,e,r,n){const i=Math.pow(2,r),s=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map((r=>{const s=Xl([],r,t),a=1/s[3]/e*i;return function(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t[3]=e[3]*r[3],t}(s,s,[a,a,n?1/s[3]:a,a])})),a=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map((t=>{const e=Ll([],Ul([],ql([],s[t[0]],s[t[1]]),ql([],s[t[2]],s[t[1]]))),r=-Rl(e,s[t[1]]);return e.concat(r)}));return new tu(s,a)}}class eu{static fromPoints(t){const e=[Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE],r=[Number.MIN_VALUE,Number.MIN_VALUE,Number.MIN_VALUE];for(const n of t)e[0]=Math.min(e[0],n[0]),e[1]=Math.min(e[1],n[1]),e[2]=Math.min(e[2],n[2]),r[0]=Math.max(r[0],n[0]),r[1]=Math.max(r[1],n[1]),r[2]=Math.max(r[2],n[2]);return new eu(e,r)}constructor(t,e){this.min=t,this.max=e,this.center=Vl([],Bl([],this.min,this.max),.5);}quadrant(t){const e=[t%2==0,t<2],r=Ml(this.min),n=Ml(this.max);for(let t=0;t<e.length;t++)r[t]=e[t]?this.min[t]:this.center[t],n[t]=e[t]?this.center[t]:this.max[t];return n[2]=this.max[2],new eu(r,n)}distanceX(t){return Math.max(Math.min(this.max[0],t[0]),this.min[0])-t[0]}distanceY(t){return Math.max(Math.min(this.max[1],t[1]),this.min[1])-t[1]}distanceZ(t){return Math.max(Math.min(this.max[2],t[2]),this.min[2])-t[2]}getCorners(){const t=this.min,e=this.max;return [[t[0],t[1],t[2]],[e[0],t[1],t[2]],[e[0],e[1],t[2]],[t[0],e[1],t[2]],[t[0],t[1],e[2]],[e[0],t[1],e[2]],[e[0],e[1],e[2]],[t[0],e[1],e[2]]]}intersects(t){const e=this.getCorners();let r=!0;for(let n=0;n<t.planes.length;n++){const i=t.planes[n];let s=0;for(let t=0;t<e.length;t++)s+=Rl(i,e[t])+i[3]>=0;if(0===s)return 0;s!==e.length&&(r=!1);}if(r)return 2;for(let e=0;e<3;e++){let r=Number.MAX_VALUE,n=-Number.MAX_VALUE;for(let i=0;i<t.points.length;i++){const s=t.points[i][e]-this.min[e];r=Math.min(r,s),n=Math.max(n,s);}if(n<0||r>this.max[e]-this.min[e])return 0}return 1}}function ru(t,e,r,n,i,s,a,o,l){if(s&&t.queryGeometry.isAboveHorizon)return !1;s&&(l*=t.pixelToTileUnitsFactor);const u=t.tileID.canonical,c=r.projection.upVectorScale(u,r.center.lat,r.worldSize).metersToTile;for(const h of e)for(const e of h){const h=e.add(o),p=i&&r.elevation?r.elevation.exaggeration()*i.getElevationAt(h.x,h.y,!0):0,f=r.projection.projectTilePoint(h.x,h.y,u);if(p>0){const t=r.projection.upVector(u,h.x,h.y);f.x+=t[0]*c*p,f.y+=t[1]*c*p,f.z+=t[2]*c*p;}const d=s?h:nu(f.x,f.y,f.z,n),y=s?t.tilespaceRays.map((t=>au(t,p))):t.queryGeometry.screenGeometry,m=Xl([],[f.x,f.y,f.z,1],n);if(!a&&s?l*=m[3]/r.cameraToCenterDistance:a&&!s&&(l*=r.cameraToCenterDistance/m[3]),s){const t=Co((e.y/wo+u.y)/(1<<u.z));l/=r.projection.pixelsPerMeter(t,1)/Bo(1,t);}if(Yo(y,d,l))return !0}return !1}function nu(t,e,r,n){const s=Xl([],[t,e,r,1],n);return new i(s[0]/s[3],s[1]/s[3])}const iu=Tl(0,0,0),su=Tl(0,0,1);function au(t,e){const r=Il();return iu[2]=e,t.intersectsPlane(iu,su,r),new i(r[0],r[1])}class ou extends Ko{}function lu(t,{width:e,height:r},n,i){if(i){if(i instanceof Uint8ClampedArray)i=new Uint8Array(i.buffer);else if(i.length!==e*r*n)throw new RangeError(\"mismatched image size\")}else i=new Uint8Array(e*r*n);return t.width=e,t.height=r,t.data=i,t}function uu(t,e,r){const{width:n,height:i}=e;n===t.width&&i===t.height||(cu(t,e,{x:0,y:0},{x:0,y:0},{width:Math.min(t.width,n),height:Math.min(t.height,i)},r),t.width=n,t.height=i,t.data=e.data);}function cu(t,e,r,n,i,s){if(0===i.width||0===i.height)return e;if(i.width>t.width||i.height>t.height||r.x>t.width-i.width||r.y>t.height-i.height)throw new RangeError(\"out of range source coordinates for image copy\");if(i.width>e.width||i.height>e.height||n.x>e.width-i.width||n.y>e.height-i.height)throw new RangeError(\"out of range destination coordinates for image copy\");const a=t.data,o=e.data;for(let l=0;l<i.height;l++){const u=((r.y+l)*t.width+r.x)*s,c=((n.y+l)*e.width+n.x)*s;for(let t=0;t<i.width*s;t++)o[c+t]=a[u+t];}return e}Pi(ou,\"HeatmapBucket\",{omit:[\"layers\"]});class hu{constructor(t,e){lu(this,t,1,e);}resize(t){uu(this,new hu(t),1);}clone(){return new hu({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(t,e,r,n,i){cu(t,e,r,n,i,1);}}class pu{constructor(t,e){lu(this,t,4,e);}resize(t){uu(this,new pu(t),4);}replace(t,e){e?this.data.set(t):this.data=t instanceof Uint8ClampedArray?new Uint8Array(t.buffer):t;}clone(){return new pu({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(t,e,r,n,i){cu(t,e,r,n,i,4);}}Pi(hu,\"AlphaImage\"),Pi(pu,\"RGBAImage\");var fu={paint:new Zs({\"heatmap-radius\":new Os(Gt.paint_heatmap[\"heatmap-radius\"]),\"heatmap-weight\":new Os(Gt.paint_heatmap[\"heatmap-weight\"]),\"heatmap-intensity\":new $s(Gt.paint_heatmap[\"heatmap-intensity\"]),\"heatmap-color\":new Gs(Gt.paint_heatmap[\"heatmap-color\"]),\"heatmap-opacity\":new $s(Gt.paint_heatmap[\"heatmap-opacity\"])})};function du(t){const e={},r=t.resolution||256,n=t.clips?t.clips.length:1,i=t.image||new pu({width:r,height:n}),s=(r,n,s)=>{e[t.evaluationKey]=s;const a=t.expression.evaluate(e);i.data[r+n+0]=Math.floor(255*a.r/a.a),i.data[r+n+1]=Math.floor(255*a.g/a.a),i.data[r+n+2]=Math.floor(255*a.b/a.a),i.data[r+n+3]=Math.floor(255*a.a);};if(t.clips)for(let e=0,i=0;e<n;++e,i+=4*r)for(let n=0,a=0;n<r;n++,a+=4){const o=n/(r-1),{start:l,end:u}=t.clips[e];s(i,a,l*(1-o)+u*o);}else for(let t=0,e=0;t<r;t++,e+=4)s(0,e,t/(r-1));return i}var yu={paint:new Zs({\"hillshade-illumination-direction\":new $s(Gt.paint_hillshade[\"hillshade-illumination-direction\"]),\"hillshade-illumination-anchor\":new $s(Gt.paint_hillshade[\"hillshade-illumination-anchor\"]),\"hillshade-exaggeration\":new $s(Gt.paint_hillshade[\"hillshade-exaggeration\"]),\"hillshade-shadow-color\":new $s(Gt.paint_hillshade[\"hillshade-shadow-color\"]),\"hillshade-highlight-color\":new $s(Gt.paint_hillshade[\"hillshade-highlight-color\"]),\"hillshade-accent-color\":new $s(Gt.paint_hillshade[\"hillshade-accent-color\"])})};const mu=Ws([{name:\"a_pos\",components:2,type:\"Int16\"}],4),{members:gu}=mu;var xu=bu,vu=bu;function bu(t,e,r){r=r||2;var n,i,s,a,o,l,u,c=e&&e.length,h=c?e[0]*r:t.length,p=_u(t,0,h,r,!0),f=[];if(!p||p.next===p.prev)return f;if(c&&(p=function(t,e,r,n){var i,s,a,o=[];for(i=0,s=e.length;i<s;i++)(a=_u(t,e[i]*n,i<s-1?e[i+1]*n:t.length,n,!1))===a.next&&(a.steiner=!0),o.push(Cu(a));for(o.sort(zu),i=0;i<o.length;i++)r=Tu(o[i],r);return r}(t,e,p,r)),t.length>80*r){n=s=t[0],i=a=t[1];for(var d=r;d<h;d+=r)(o=t[d])<n&&(n=o),(l=t[d+1])<i&&(i=l),o>s&&(s=o),l>a&&(a=l);u=0!==(u=Math.max(s-n,a-i))?32767/u:0;}return Au(p,f,r,n,i,u,0),f}function _u(t,e,r,n,i){var s,a;if(i===Gu(t,e,r,n)>0)for(s=e;s<r;s+=n)a=Ou(s,t[s],t[s+1],a);else for(s=r-n;s>=e;s-=n)a=Ou(s,t[s],t[s+1],a);return a&&Fu(a,a.next)&&(qu(a),a=a.next),a}function wu(t,e){if(!t)return t;e||(e=t);var r,n=t;do{if(r=!1,n.steiner||!Fu(n,n.next)&&0!==Vu(n.prev,n,n.next))n=n.next;else {if(qu(n),(n=e=n.prev)===n.next)break;r=!0;}}while(r||n!==e);return e}function Au(t,e,r,n,i,s,a){if(t){!a&&s&&function(t,e,r,n){var i=t;do{0===i.z&&(i.z=Eu(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,r,n,i,s,a,o,l,u=1;do{for(r=t,t=null,s=null,a=0;r;){for(a++,n=r,o=0,e=0;e<u&&(o++,n=n.nextZ);e++);for(l=u;o>0||l>0&&n;)0!==o&&(0===l||!n||r.z<=n.z)?(i=r,r=r.nextZ,o--):(i=n,n=n.nextZ,l--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;r=n;}s.nextZ=null,u*=2;}while(a>1)}(i);}(t,n,i,s);for(var o,l,u=t;t.prev!==t.next;)if(o=t.prev,l=t.next,s?ku(t,n,i,s):Su(t))e.push(o.i/r|0),e.push(t.i/r|0),e.push(l.i/r|0),qu(t),t=l.next,u=l.next;else if((t=l)===u){a?1===a?Au(t=Iu(wu(t),e,r),e,r,n,i,s,2):2===a&&Mu(t,e,r,n,i,s):Au(wu(t),e,r,n,i,s,1);break}}}function Su(t){var e=t.prev,r=t,n=t.next;if(Vu(e,r,n)>=0)return !1;for(var i=e.x,s=r.x,a=n.x,o=e.y,l=r.y,u=n.y,c=i<s?i<a?i:a:s<a?s:a,h=o<l?o<u?o:u:l<u?l:u,p=i>s?i>a?i:a:s>a?s:a,f=o>l?o>u?o:u:l>u?l:u,d=n.next;d!==e;){if(d.x>=c&&d.x<=p&&d.y>=h&&d.y<=f&&Pu(i,o,s,l,a,u,d.x,d.y)&&Vu(d.prev,d,d.next)>=0)return !1;d=d.next;}return !0}function ku(t,e,r,n){var i=t.prev,s=t,a=t.next;if(Vu(i,s,a)>=0)return !1;for(var o=i.x,l=s.x,u=a.x,c=i.y,h=s.y,p=a.y,f=o<l?o<u?o:u:l<u?l:u,d=c<h?c<p?c:p:h<p?h:p,y=o>l?o>u?o:u:l>u?l:u,m=c>h?c>p?c:p:h>p?h:p,g=Eu(f,d,e,r,n),x=Eu(y,m,e,r,n),v=t.prevZ,b=t.nextZ;v&&v.z>=g&&b&&b.z<=x;){if(v.x>=f&&v.x<=y&&v.y>=d&&v.y<=m&&v!==i&&v!==a&&Pu(o,c,l,h,u,p,v.x,v.y)&&Vu(v.prev,v,v.next)>=0)return !1;if(v=v.prevZ,b.x>=f&&b.x<=y&&b.y>=d&&b.y<=m&&b!==i&&b!==a&&Pu(o,c,l,h,u,p,b.x,b.y)&&Vu(b.prev,b,b.next)>=0)return !1;b=b.nextZ;}for(;v&&v.z>=g;){if(v.x>=f&&v.x<=y&&v.y>=d&&v.y<=m&&v!==i&&v!==a&&Pu(o,c,l,h,u,p,v.x,v.y)&&Vu(v.prev,v,v.next)>=0)return !1;v=v.prevZ;}for(;b&&b.z<=x;){if(b.x>=f&&b.x<=y&&b.y>=d&&b.y<=m&&b!==i&&b!==a&&Pu(o,c,l,h,u,p,b.x,b.y)&&Vu(b.prev,b,b.next)>=0)return !1;b=b.nextZ;}return !0}function Iu(t,e,r){var n=t;do{var i=n.prev,s=n.next.next;!Fu(i,s)&&Lu(i,n,n.next,s)&&ju(i,s)&&ju(s,i)&&(e.push(i.i/r|0),e.push(n.i/r|0),e.push(s.i/r|0),qu(n),qu(n.next),n=t=s),n=n.next;}while(n!==t);return wu(n)}function Mu(t,e,r,n,i,s){var a=t;do{for(var o=a.next.next;o!==a.prev;){if(a.i!==o.i&&Du(a,o)){var l=$u(a,o);return a=wu(a,a.next),l=wu(l,l.next),Au(a,e,r,n,i,s,0),void Au(l,e,r,n,i,s,0)}o=o.next;}a=a.next;}while(a!==t)}function zu(t,e){return t.x-e.x}function Tu(t,e){var r=function(t,e){var r,n=e,i=t.x,s=t.y,a=-1/0;do{if(s<=n.y&&s>=n.next.y&&n.next.y!==n.y){var o=n.x+(s-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(o<=i&&o>a&&(a=o,r=n.x<n.next.x?n:n.next,o===i))return r}n=n.next;}while(n!==e);if(!r)return null;var l,u=r,c=r.x,h=r.y,p=1/0;n=r;do{i>=n.x&&n.x>=c&&i!==n.x&&Pu(s<h?i:a,s,c,h,s<h?a:i,s,n.x,n.y)&&(l=Math.abs(s-n.y)/(i-n.x),ju(n,t)&&(l<p||l===p&&(n.x>r.x||n.x===r.x&&Bu(r,n)))&&(r=n,p=l)),n=n.next;}while(n!==u);return r}(t,e);if(!r)return e;var n=$u(r,t);return wu(n,n.next),wu(r,r.next)}function Bu(t,e){return Vu(t.prev,t,e.prev)<0&&Vu(e.next,t,t.next)<0}function Eu(t,e,r,n,i){return (t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-r)*i|0)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*i|0)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function Cu(t){var e=t,r=t;do{(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;}while(e!==t);return r}function Pu(t,e,r,n,i,s,a,o){return (i-a)*(e-o)>=(t-a)*(s-o)&&(t-a)*(n-o)>=(r-a)*(e-o)&&(r-a)*(s-o)>=(i-a)*(n-o)}function Du(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&Lu(r,r.next,t,e))return !0;r=r.next;}while(r!==t);return !1}(t,e)&&(ju(t,e)&&ju(e,t)&&function(t,e){var r=t,n=!1,i=(t.x+e.x)/2,s=(t.y+e.y)/2;do{r.y>s!=r.next.y>s&&r.next.y!==r.y&&i<(r.next.x-r.x)*(s-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;}while(r!==t);return n}(t,e)&&(Vu(t.prev,t,e.prev)||Vu(t,e.prev,e))||Fu(t,e)&&Vu(t.prev,t,t.next)>0&&Vu(e.prev,e,e.next)>0)}function Vu(t,e,r){return (e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function Fu(t,e){return t.x===e.x&&t.y===e.y}function Lu(t,e,r,n){var i=Uu(Vu(t,e,r)),s=Uu(Vu(t,e,n)),a=Uu(Vu(r,n,t)),o=Uu(Vu(r,n,e));return i!==s&&a!==o||!(0!==i||!Ru(t,r,e))||!(0!==s||!Ru(t,n,e))||!(0!==a||!Ru(r,t,n))||!(0!==o||!Ru(r,e,n))}function Ru(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function Uu(t){return t>0?1:t<0?-1:0}function ju(t,e){return Vu(t.prev,t,t.next)<0?Vu(t,e,t.next)>=0&&Vu(t,t.prev,e)>=0:Vu(t,e,t.prev)<0||Vu(t,t.next,e)<0}function $u(t,e){var r=new Nu(t.i,t.x,t.y),n=new Nu(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,s.next=n,n.prev=s,n}function Ou(t,e,r,n){var i=new Nu(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function qu(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ);}function Nu(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1;}function Gu(t,e,r,n){for(var i=0,s=e,a=r-n;s<r;s+=n)i+=(t[a]-t[s])*(t[s+1]+t[a+1]),a=s;return i}function Zu(t,e,r,n,i){Xu(t,e,r||0,n||t.length-1,i||Hu);}function Xu(t,e,r,n,i){for(;n>r;){if(n-r>600){var s=n-r+1,a=e-r+1,o=Math.log(s),l=.5*Math.exp(2*o/3),u=.5*Math.sqrt(o*l*(s-l)/s)*(a-s/2<0?-1:1);Xu(t,e,Math.max(r,Math.floor(e-a*l/s+u)),Math.min(n,Math.floor(e+(s-a)*l/s+u)),i);}var c=t[e],h=r,p=n;for(Ku(t,r,e),i(t[n],c)>0&&Ku(t,r,n);h<p;){for(Ku(t,h,p),h++,p--;i(t[h],c)<0;)h++;for(;i(t[p],c)>0;)p--;}0===i(t[r],c)?Ku(t,r,p):Ku(t,++p,n),p<=e&&(r=p+1),e<=p&&(n=p-1);}}function Ku(t,e,r){var n=t[e];t[e]=t[r],t[r]=n;}function Hu(t,e){return t<e?-1:t>e?1:0}function Yu(t,e){const r=t.length;if(r<=1)return [t];const n=[];let i,s;for(let e=0;e<r;e++){const r=P(t[e]);0!==r&&(t[e].area=Math.abs(r),void 0===s&&(s=r<0),s===r<0?(i&&n.push(i),i=[t[e]]):i.push(t[e]));}if(i&&n.push(i),e>1)for(let t=0;t<n.length;t++)n[t].length<=e||(Zu(n[t],e,1,n[t].length-1,Wu),n[t]=n[t].slice(0,e));return n}function Wu(t,e){return e.area-t.area}function Ju(t,e,r){const n=r.patternDependencies;let i=!1;for(const r of e){const e=r.paint.get(`${t}-pattern`);e.isConstant()||(i=!0);const s=e.constantOr(null);s&&(i=!0,n[s.to]=!0,n[s.from]=!0);}return i}function Qu(t,e,r,n,i){const s=i.patternDependencies;for(const a of e){const e=a.paint.get(`${t}-pattern`).value;if(\"constant\"!==e.kind){let t=e.evaluate({zoom:n-1},r,{},i.availableImages),o=e.evaluate({zoom:n},r,{},i.availableImages),l=e.evaluate({zoom:n+1},r,{},i.availableImages);t=t&&t.name?t.name:t,o=o&&o.name?o.name:o,l=l&&l.name?l.name:l,s[t]=!0,s[o]=!0,s[l]=!0,r.patterns[a.id]={min:t,mid:o,max:l};}}return r}bu.deviation=function(t,e,r,n){var i=e&&e.length,s=Math.abs(Gu(t,0,i?e[0]*r:t.length,r));if(i)for(var a=0,o=e.length;a<o;a++)s-=Math.abs(Gu(t,e[a]*r,a<o-1?e[a+1]*r:t.length,r));var l=0;for(a=0;a<n.length;a+=3){var u=n[a]*r,c=n[a+1]*r,h=n[a+2]*r;l+=Math.abs((t[u]-t[h])*(t[c+1]-t[u+1])-(t[u]-t[c])*(t[h+1]-t[u+1]));}return 0===s&&0===l?0:Math.abs((l-s)/s)},bu.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var s=0;s<t[i].length;s++)for(var a=0;a<e;a++)r.vertices.push(t[i][s][a]);i>0&&r.holes.push(n+=t[i-1].length);}return r},xu.default=vu;class tc{constructor(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((t=>t.id)),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Qs,this.indexArray=new ya,this.indexArray2=new _a,this.programConfigurations=new co(t.layers,t.zoom),this.segments=new _o,this.segments2=new _o,this.stateDependentLayerIds=this.layers.filter((t=>t.isStateDependent())).map((t=>t.id)),this.projection=t.projection;}populate(t,e,r,n){this.hasPattern=Ju(\"fill\",this.layers,e);const i=this.layers[0].layout.get(\"fill-sort-key\"),s=[];for(const{feature:a,id:o,index:l,sourceLayerIndex:u}of t){const t=this.layers[0]._featureFilter.needGeometry,c=Go(a,t);if(!this.layers[0]._featureFilter.filter(new Cs(this.zoom),c,r))continue;const h=i?i.evaluate(c,{},r,e.availableImages):void 0,p={id:o,properties:a.properties,type:a.type,sourceLayerIndex:u,index:l,geometry:t?c.geometry:No(a,r,n),patterns:{},sortKey:h};s.push(p);}i&&s.sort(((t,e)=>t.sortKey-e.sortKey));for(const n of s){const{geometry:i,index:s,sourceLayerIndex:a}=n;if(this.hasPattern){const t=Qu(\"fill\",this.layers,n,this.zoom,e);this.patternFeatures.push(t);}else this.addFeature(n,i,s,r,{},e.availableImages);e.featureIndex.insert(t[s].feature,i,s,a,this.index);}}update(t,e,r,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,r,n);}addFeatures(t,e,r,n,i){for(const t of this.patternFeatures)this.addFeature(t,t.geometry,t.index,e,r,n);}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return !this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,gu),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.indexBuffer2=t.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(t),this.uploaded=!0;}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy());}addFeature(t,e,r,n,i,s=[]){for(const t of Yu(e,500)){let e=0;for(const r of t)e+=r.length;const r=this.segments.prepareSegment(e,this.layoutVertexArray,this.indexArray),n=r.vertexLength,i=[],s=[];for(const e of t){if(0===e.length)continue;e!==t[0]&&s.push(i.length/2);const r=this.segments2.prepareSegment(e.length,this.layoutVertexArray,this.indexArray2),n=r.vertexLength;this.layoutVertexArray.emplaceBack(e[0].x,e[0].y),this.indexArray2.emplaceBack(n+e.length-1,n),i.push(e[0].x),i.push(e[0].y);for(let t=1;t<e.length;t++)this.layoutVertexArray.emplaceBack(e[t].x,e[t].y),this.indexArray2.emplaceBack(n+t-1,n+t),i.push(e[t].x),i.push(e[t].y);r.vertexLength+=e.length,r.primitiveLength+=e.length;}const a=xu(i,s);for(let t=0;t<a.length;t+=3)this.indexArray.emplaceBack(n+a[t],n+a[t+1],n+a[t+2]);r.vertexLength+=e,r.primitiveLength+=a.length/3;}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,r,i,s,n);}}Pi(tc,\"FillBucket\",{omit:[\"layers\",\"patternFeatures\"]});const ec=new Zs({\"fill-sort-key\":new Os(Gt.layout_fill[\"fill-sort-key\"])});var rc={paint:new Zs({\"fill-antialias\":new $s(Gt.paint_fill[\"fill-antialias\"]),\"fill-opacity\":new Os(Gt.paint_fill[\"fill-opacity\"]),\"fill-color\":new Os(Gt.paint_fill[\"fill-color\"]),\"fill-outline-color\":new Os(Gt.paint_fill[\"fill-outline-color\"]),\"fill-translate\":new $s(Gt.paint_fill[\"fill-translate\"]),\"fill-translate-anchor\":new $s(Gt.paint_fill[\"fill-translate-anchor\"]),\"fill-pattern\":new qs(Gt.paint_fill[\"fill-pattern\"])}),layout:ec};const nc=Ws([{name:\"a_pos_normal_ed\",components:4,type:\"Int16\"}]),ic=Ws([{name:\"a_centroid_pos\",components:2,type:\"Uint16\"}]),sc=Ws([{name:\"a_pos_3\",components:3,type:\"Int16\"},{name:\"a_pos_normal_3\",components:3,type:\"Int16\"}]),{members:ac}=nc;var oc=lc;function lc(t,e,r,n,i){this.properties={},this.extent=r,this.type=0,this._pbf=t,this._geometry=-1,this._keys=n,this._values=i,t.readFields(uc,this,e);}function uc(t,e,r){1==t?e.id=r.readVarint():2==t?function(t,e){for(var r=t.readVarint()+t.pos;t.pos<r;){var n=e._keys[t.readVarint()],i=e._values[t.readVarint()];e.properties[n]=i;}}(r,e):3==t?e.type=r.readVarint():4==t&&(e._geometry=r.pos);}function cc(t){for(var e,r,n=0,i=0,s=t.length,a=s-1;i<s;a=i++)n+=((r=t[a]).x-(e=t[i]).x)*(e.y+r.y);return n}lc.types=[\"Unknown\",\"Point\",\"LineString\",\"Polygon\"],lc.prototype.loadGeometry=function(){var t=this._pbf;t.pos=this._geometry;for(var e,r=t.readVarint()+t.pos,n=1,s=0,a=0,o=0,l=[];t.pos<r;){if(s<=0){var u=t.readVarint();n=7&u,s=u>>3;}if(s--,1===n||2===n)a+=t.readSVarint(),o+=t.readSVarint(),1===n&&(e&&l.push(e),e=[]),e.push(new i(a,o));else {if(7!==n)throw new Error(\"unknown command \"+n);e&&e.push(e[0].clone());}}return e&&l.push(e),l},lc.prototype.bbox=function(){var t=this._pbf;t.pos=this._geometry;for(var e=t.readVarint()+t.pos,r=1,n=0,i=0,s=0,a=1/0,o=-1/0,l=1/0,u=-1/0;t.pos<e;){if(n<=0){var c=t.readVarint();r=7&c,n=c>>3;}if(n--,1===r||2===r)(i+=t.readSVarint())<a&&(a=i),i>o&&(o=i),(s+=t.readSVarint())<l&&(l=s),s>u&&(u=s);else if(7!==r)throw new Error(\"unknown command \"+r)}return [a,l,o,u]},lc.prototype.toGeoJSON=function(t,e,r){var n,i,s=this.extent*Math.pow(2,r),a=this.extent*t,o=this.extent*e,l=this.loadGeometry(),u=lc.types[this.type];function c(t){for(var e=0;e<t.length;e++){var r=t[e];t[e]=[360*(r.x+a)/s-180,360/Math.PI*Math.atan(Math.exp((180-360*(r.y+o)/s)*Math.PI/180))-90];}}switch(this.type){case 1:var h=[];for(n=0;n<l.length;n++)h[n]=l[n][0];c(l=h);break;case 2:for(n=0;n<l.length;n++)c(l[n]);break;case 3:for(l=function(t){var e=t.length;if(e<=1)return [t];for(var r,n,i=[],s=0;s<e;s++){var a=cc(t[s]);0!==a&&(void 0===n&&(n=a<0),n===a<0?(r&&i.push(r),r=[t[s]]):r.push(t[s]));}return r&&i.push(r),i}(l),n=0;n<l.length;n++)for(i=0;i<l[n].length;i++)c(l[n][i]);}1===l.length?l=l[0]:u=\"Multi\"+u;var p={type:\"Feature\",geometry:{type:u,coordinates:l},properties:this.properties};return \"id\"in this&&(p.id=this.id),p};var hc=pc;function pc(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(fc,this,e),this.length=this._features.length;}function fc(t,e,r){15===t?e.version=r.readVarint():1===t?e.name=r.readString():5===t?e.extent=r.readVarint():2===t?e._features.push(r.pos):3===t?e._keys.push(r.readString()):4===t&&e._values.push(function(t){for(var e=null,r=t.readVarint()+t.pos;t.pos<r;){var n=t.readVarint()>>3;e=1===n?t.readString():2===n?t.readFloat():3===n?t.readDouble():4===n?t.readVarint64():5===n?t.readVarint():6===n?t.readSVarint():7===n?t.readBoolean():null;}return e}(r));}function dc(t,e,r){if(3===t){var n=new hc(r,r.readVarint()+r.pos);n.length&&(e[n.name]=n);}}pc.prototype.feature=function(t){if(t<0||t>=this._features.length)throw new Error(\"feature index out of bounds\");this._pbf.pos=this._features[t];var e=this._pbf.readVarint()+this._pbf.pos;return new oc(this._pbf,e,this.extent,this._keys,this._values)};var yc={VectorTile:function(t,e){this.layers=t.readFields(dc,{},e);},VectorTileFeature:oc,VectorTileLayer:hc};function mc(t,e,r,n){const s=[],a=0===n?(t,e,r,n,s,a)=>{t.push(new i(a,r+(a-e)/(n-e)*(s-r)));}:(t,e,r,n,s,a)=>{t.push(new i(e+(a-r)/(s-r)*(n-e),a));};for(const i of t){const t=[];for(const s of i){if(s.length<=2)continue;const i=[];for(let t=0;t<s.length-1;t++){const o=s[t].x,l=s[t].y,u=s[t+1].x,c=s[t+1].y,h=0===n?o:l,p=0===n?u:c;h<e?p>e&&a(i,o,l,u,c,e):h>r?p<r&&a(i,o,l,u,c,r):i.push(s[t]),p<e&&h>=e&&a(i,o,l,u,c,e),p>r&&h<=r&&a(i,o,l,u,c,r);}let o=s[s.length-1];const l=0===n?o.x:o.y;l>=e&&l<=r&&i.push(o),i.length&&(o=i[i.length-1],i[0].x===o.x&&i[0].y===o.y||i.push(i[0]),t.push(i));}t.length&&s.push(t);}return s}const gc=yc.VectorTileFeature.types,xc=Math.pow(2,13);function vc(t,e,r,n,i,s,a,o){t.emplaceBack((e<<1)+a,(r<<1)+s,(Math.floor(n*xc)<<1)+i,Math.round(o));}function bc(t,e,r){const n=16384;t.emplaceBack(e.x,e.y,e.z,r[0]*n,r[1]*n,r[2]*n);}class _c{constructor(){this.acc=new i(0,0),this.polyCount=[];}startRing(t){this.currentPolyCount={edges:0,top:0},this.polyCount.push(this.currentPolyCount),this.min||(this.min=new i(t.x,t.y),this.max=new i(t.x,t.y));}append(t,e){this.currentPolyCount.edges++,this.acc._add(t);const r=this.min,n=this.max;t.x<r.x?r.x=t.x:t.x>n.x&&(n.x=t.x),t.y<r.y?r.y=t.y:t.y>n.y&&(n.y=t.y),((0===t.x||t.x===wo)&&t.x===e.x)!=((0===t.y||t.y===wo)&&t.y===e.y)&&this.processBorderOverlap(t,e),e.x<0!=t.x<0&&this.addBorderIntersection(0,xr(e.y,t.y,(0-e.x)/(t.x-e.x))),e.x>wo!=t.x>wo&&this.addBorderIntersection(1,xr(e.y,t.y,(wo-e.x)/(t.x-e.x))),e.y<0!=t.y<0&&this.addBorderIntersection(2,xr(e.x,t.x,(0-e.y)/(t.y-e.y))),e.y>wo!=t.y>wo&&this.addBorderIntersection(3,xr(e.x,t.x,(wo-e.y)/(t.y-e.y)));}addBorderIntersection(t,e){this.borders||(this.borders=[[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE]]);const r=this.borders[t];e<r[0]&&(r[0]=e),e>r[1]&&(r[1]=e);}processBorderOverlap(t,e){if(t.x===e.x){if(t.y===e.y)return;const r=0===t.x?0:1;this.addBorderIntersection(r,e.y),this.addBorderIntersection(r,t.y);}else {const r=0===t.y?2:3;this.addBorderIntersection(r,e.x),this.addBorderIntersection(r,t.x);}}centroid(){const t=this.polyCount.reduce(((t,e)=>t+e.edges),0);return 0!==t?this.acc.div(t)._round():new i(0,0)}span(){return new i(this.max.x-this.min.x,this.max.y-this.min.y)}intersectsCount(){return this.borders.reduce(((t,e)=>t+ +(e[0]!==Number.MAX_VALUE)),0)}}class wc{constructor(t){this.zoom=t.zoom,this.canonical=t.canonical,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((t=>t.id)),this.index=t.index,this.hasPattern=!1,this.edgeRadius=0,this.projection=t.projection,this.layoutVertexArray=new ea,this.centroidVertexArray=new La,this.indexArray=new ya,this.programConfigurations=new co(t.layers,t.zoom),this.segments=new _o,this.stateDependentLayerIds=this.layers.filter((t=>t.isStateDependent())).map((t=>t.id)),this.enableTerrain=t.enableTerrain;}populate(t,e,r,n){this.features=[],this.hasPattern=Ju(\"fill-extrusion\",this.layers,e),this.featuresOnBorder=[],this.borders=[[],[],[],[]],this.borderDoneWithNeighborZ=[-1,-1,-1,-1],this.tileToMeter=function(t){const e=Math.exp(Math.PI*(1-t.y/(1<<t.z)*2));return 80150034*e/(e*e+1)/wo/(1<<t.z)}(r),this.edgeRadius=this.layers[0].layout.get(\"fill-extrusion-edge-radius\")/this.tileToMeter;for(const{feature:i,id:s,index:a,sourceLayerIndex:o}of t){const t=this.layers[0]._featureFilter.needGeometry,l=Go(i,t);if(!this.layers[0]._featureFilter.filter(new Cs(this.zoom),l,r))continue;const u={id:s,sourceLayerIndex:o,index:a,geometry:t?l.geometry:No(i,r,n),properties:i.properties,type:i.type,patterns:{}},c=this.layoutVertexArray.length;this.hasPattern?this.features.push(Qu(\"fill-extrusion\",this.layers,u,this.zoom,e)):this.addFeature(u,u.geometry,a,r,{},e.availableImages,n),e.featureIndex.insert(i,u.geometry,a,o,this.index,c);}this.sortBorders();}addFeatures(t,e,r,n,i){for(const t of this.features){const{geometry:s}=t;this.addFeature(t,s,t.index,e,r,n,i);}this.sortBorders();}update(t,e,r,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,r,n);}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return !this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,ac),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.layoutVertexExtArray&&(this.layoutVertexExtBuffer=t.createVertexBuffer(this.layoutVertexExtArray,sc.members,!0))),this.programConfigurations.upload(t),this.uploaded=!0;}uploadCentroid(t){0!==this.centroidVertexArray.length&&(this.centroidVertexBuffer?this.needsCentroidUpdate&&this.centroidVertexBuffer.updateData(this.centroidVertexArray):this.centroidVertexBuffer=t.createVertexBuffer(this.centroidVertexArray,ic.members,!0),this.needsCentroidUpdate=!1);}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.centroidVertexBuffer&&this.centroidVertexBuffer.destroy(),this.layoutVertexExtBuffer&&this.layoutVertexExtBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy());}addFeature(t,e,r,n,s,a,o){const l=[new i(0,0),new i(wo,wo)],u=o.projection,c=\"globe\"===u.name,h=this.enableTerrain&&!c?new _c:null,p=\"Polygon\"===gc[t.type];c&&!this.layoutVertexExtArray&&(this.layoutVertexExtArray=new ka);const f=Yu(e,500);for(let t=f.length-1;t>=0;t--){const e=f[t];(0===e.length||(d=e[0]).every((t=>t.x<=0))||d.every((t=>t.x>=wo))||d.every((t=>t.y<=0))||d.every((t=>t.y>=wo)))&&f.splice(t,1);}var d;let y;if(c)y=Bc(f,l,n);else {y=[];for(const t of f)y.push({polygon:t,bounds:l});}const m=p?this.edgeRadius:0;for(const{polygon:t,bounds:e}of y){let r=0,i=0;for(const e of t)p&&!e[0].equals(e[e.length-1])&&e.push(e[0]),i+=p?e.length-1:e.length;const s=this.segments.prepareSegment((p?5:4)*i,this.layoutVertexArray,this.indexArray);if(p){const e=[],i=[];r=s.vertexLength;for(const r of t){let a,o;r.length&&r!==t[0]&&i.push(e.length/2),a=r[1].sub(r[0])._perp()._unit();for(let t=1;t<r.length;t++){const i=r[t],l=r[t===r.length-1?1:t+1];let{x:h,y:p}=i;if(m){o=l.sub(i)._perp()._unit();const t=a.add(o)._unit(),e=m*Math.min(4,1/(a.x*t.x+a.y*t.y));h+=e*t.x,p+=e*t.y,a=o;}vc(this.layoutVertexArray,h,p,0,0,1,1,0),s.vertexLength++,e.push(i.x,i.y),c&&bc(this.layoutVertexExtArray,u.projectTilePoint(h,p,n),u.upVector(n,h,p));}}const a=xu(e,i);for(let t=0;t<a.length;t+=3)this.indexArray.emplaceBack(r+a[t],r+a[t+2],r+a[t+1]),s.primitiveLength++;}for(const i of t){h&&i.length&&h.startRing(i[0]);let t,a,o,l=i.length>4&&Mc(i[i.length-2],i[0],i[1]),f=m?Sc(i[i.length-2],i[0],i[1],m):0;a=i[1].sub(i[0])._perp()._unit();for(let d=1,y=0;d<i.length;d++){let g=i[d-1],x=i[d];const v=i[d===i.length-1?1:d+1];if(h&&p&&h.currentPolyCount.top++,Ic(x,g,e)){m&&(a=v.sub(x)._perp()._unit());continue}h&&h.append(x,g);const b=x.sub(g)._perp(),_=b.x/(Math.abs(b.x)+Math.abs(b.y)),w=b.y>0?1:0,A=g.dist(x);if(y+A>32768&&(y=0),m){o=v.sub(x)._perp()._unit();let t=kc(g,x,v,Ac(a,o),m);isNaN(t)&&(t=0);const e=x.sub(g)._unit();g=g.add(e.mult(f))._round(),x=x.add(e.mult(-t))._round(),f=t,a=o;}const S=s.vertexLength,k=i.length>4&&Mc(g,x,v);let I=zc(y,l,!0);if(vc(this.layoutVertexArray,g.x,g.y,_,w,0,0,I),vc(this.layoutVertexArray,g.x,g.y,_,w,0,1,I),y+=A,I=zc(y,k,!1),l=k,vc(this.layoutVertexArray,x.x,x.y,_,w,0,0,I),vc(this.layoutVertexArray,x.x,x.y,_,w,0,1,I),s.vertexLength+=4,this.indexArray.emplaceBack(S+0,S+1,S+2),this.indexArray.emplaceBack(S+1,S+3,S+2),s.primitiveLength+=2,m){const n=r+(1===d?i.length-2:d-2),a=1===d?r:n+1;if(this.indexArray.emplaceBack(S+1,n,S+3),this.indexArray.emplaceBack(n,a,S+3),s.primitiveLength+=2,void 0===t&&(t=S),!Ic(v,i[d],e)){const e=d===i.length-1?t:s.vertexLength;this.indexArray.emplaceBack(S+2,S+3,e),this.indexArray.emplaceBack(S+3,e+1,e),this.indexArray.emplaceBack(S+3,a,e+1),s.primitiveLength+=3;}}if(c){const t=this.layoutVertexExtArray,e=u.projectTilePoint(g.x,g.y,n),r=u.projectTilePoint(x.x,x.y,n),i=u.upVector(n,g.x,g.y),s=u.upVector(n,x.x,x.y);bc(t,e,i),bc(t,e,i),bc(t,r,s),bc(t,r,s);}}p&&(r+=i.length-1);}}if(h&&h.polyCount.length>0){if(h.borders){h.vertexArrayOffset=this.centroidVertexArray.length;const t=h.borders,e=this.featuresOnBorder.push(h)-1;for(let r=0;r<4;r++)t[r][0]!==Number.MAX_VALUE&&this.borders[r].push(e);}this.encodeCentroid(h.borders?void 0:h.centroid(),h);}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,r,s,a,n);}sortBorders(){for(let t=0;t<4;t++)this.borders[t].sort(((e,r)=>this.featuresOnBorder[e].borders[t][0]-this.featuresOnBorder[r].borders[t][0]));}encodeCentroid(t,e,r=!0){let n,i;if(t)if(0!==t.y){const r=e.span()._mult(this.tileToMeter);n=(Math.max(t.x,1)<<3)+Math.min(7,Math.round(r.x/10)),i=(Math.max(t.y,1)<<3)+Math.min(7,Math.round(r.y/10));}else n=Math.ceil(7*(t.x+450)),i=0;else n=0,i=+r;let s=r?this.centroidVertexArray.length:e.vertexArrayOffset;for(const t of e.polyCount){r&&this.centroidVertexArray.resize(this.centroidVertexArray.length+4*t.edges+t.top);for(let e=0;e<t.top;e++)this.centroidVertexArray.emplace(s++,n,i);for(let e=0;e<2*t.edges;e++)this.centroidVertexArray.emplace(s++,0,i),this.centroidVertexArray.emplace(s++,n,i);}}}function Ac(t,e){const r=t.add(e)._unit();return t.x*r.x+t.y*r.y}function Sc(t,e,r,n){const i=e.sub(t)._perp()._unit(),s=r.sub(e)._perp()._unit();return kc(t,e,r,Ac(i,s),n)}function kc(t,e,r,n,i){const s=Math.sqrt(1-n*n);return Math.min(t.dist(e)/3,e.dist(r)/3,i*s/n)}function Ic(t,e,r){return t.x<r[0].x&&e.x<r[0].x||t.x>r[1].x&&e.x>r[1].x||t.y<r[0].y&&e.y<r[0].y||t.y>r[1].y&&e.y>r[1].y}function Mc(t,e,r){if(t.x<0||t.x>=wo||e.x<0||e.x>=wo||r.x<0||r.x>=wo)return !1;const n=r.sub(e),i=n.perp(),s=t.sub(e);return (n.x*s.x+n.y*s.y)/Math.sqrt((n.x*n.x+n.y*n.y)*(s.x*s.x+s.y*s.y))>-.866&&i.x*s.x+i.y*s.y<0}function zc(t,e,r){const n=e?2|t:-3&t;return r?1|n:-2&n}function Tc(){const t=Math.PI/32,e=Math.tan(t),r=So;return r*Math.sqrt(1+2*e*e)-r}function Bc(t,e,r){const n=1<<r.z,s=Eo(r.x/n),a=Eo((r.x+1)/n),o=Co(r.y/n),l=Co((r.y+1)/n);return function(t,e,r,n,s=0,a){const o=[];if(!t.length||!r||!n)return o;const l=(t,e)=>{for(const r of t)o.push({polygon:r,bounds:e});},u=Math.ceil(Math.log2(r)),c=Math.ceil(Math.log2(n)),h=u-c,p=[];for(let t=0;t<Math.abs(h);t++)p.push(h>0?0:1);for(let t=0;t<Math.min(u,c);t++)p.push(0),p.push(1);let f=t;if(f=mc(f,e[0].y-s,e[1].y+s,1),f=mc(f,e[0].x-s,e[1].x+s,0),!f.length)return o;const d=[];for(p.length?d.push({polygons:f,bounds:e,depth:0}):l(f,e);d.length;){const t=d.pop(),e=t.depth,r=p[e],n=t.bounds[0],o=t.bounds[1],u=0===r?n.x:n.y,c=0===r?o.x:o.y,h=a?a(r,u,c):.5*(u+c),f=mc(t.polygons,u-s,h+s,r),y=mc(t.polygons,h-s,c+s,r);if(f.length){const t=[n,new i(0===r?h:o.x,1===r?h:o.y)];p.length>e+1?d.push({polygons:f,bounds:t,depth:e+1}):l(f,t);}if(y.length){const t=[new i(0===r?h:n.x,1===r?h:n.y),o];p.length>e+1?d.push({polygons:y,bounds:t,depth:e+1}):l(y,t);}}return o}(t,e,Math.ceil((a-s)/11.25),Math.ceil((o-l)/11.25),1,((t,e,i)=>{if(0===t)return .5*(e+i);{const t=Co((r.y+e/wo)/n);return (To(.5*(Co((r.y+i/wo)/n)+t))*n-r.y)*wo}}))}Pi(wc,\"FillExtrusionBucket\",{omit:[\"layers\",\"features\"]}),Pi(_c,\"PartMetadata\");const Ec=new Zs({\"fill-extrusion-edge-radius\":new $s(Gt[\"layout_fill-extrusion\"][\"fill-extrusion-edge-radius\"])});var Cc={paint:new Zs({\"fill-extrusion-opacity\":new $s(Gt[\"paint_fill-extrusion\"][\"fill-extrusion-opacity\"]),\"fill-extrusion-color\":new Os(Gt[\"paint_fill-extrusion\"][\"fill-extrusion-color\"]),\"fill-extrusion-translate\":new $s(Gt[\"paint_fill-extrusion\"][\"fill-extrusion-translate\"]),\"fill-extrusion-translate-anchor\":new $s(Gt[\"paint_fill-extrusion\"][\"fill-extrusion-translate-anchor\"]),\"fill-extrusion-pattern\":new qs(Gt[\"paint_fill-extrusion\"][\"fill-extrusion-pattern\"]),\"fill-extrusion-height\":new Os(Gt[\"paint_fill-extrusion\"][\"fill-extrusion-height\"]),\"fill-extrusion-base\":new Os(Gt[\"paint_fill-extrusion\"][\"fill-extrusion-base\"]),\"fill-extrusion-vertical-gradient\":new $s(Gt[\"paint_fill-extrusion\"][\"fill-extrusion-vertical-gradient\"]),\"fill-extrusion-ambient-occlusion-intensity\":new $s(Gt[\"paint_fill-extrusion\"][\"fill-extrusion-ambient-occlusion-intensity\"]),\"fill-extrusion-ambient-occlusion-radius\":new $s(Gt[\"paint_fill-extrusion\"][\"fill-extrusion-ambient-occlusion-radius\"])}),layout:Ec};function Pc(t,e,r){var n=2*Math.PI*6378137/256/Math.pow(2,r);return [t*n-2*Math.PI*6378137/2,e*n-2*Math.PI*6378137/2]}class Dc{constructor(t,e,r){this.z=t,this.x=e,this.y=r,this.key=Lc(0,t,t,e,r);}equals(t){return this.z===t.z&&this.x===t.x&&this.y===t.y}url(t,e){const r=function(t,e,r){var n=Pc(256*t,256*(e=Math.pow(2,r)-e-1),r),i=Pc(256*(t+1),256*(e+1),r);return n[0]+\",\"+n[1]+\",\"+i[0]+\",\"+i[1]}(this.x,this.y,this.z),n=function(t,e,r){let n,i=\"\";for(let s=t;s>0;s--)n=1<<s-1,i+=(e&n?1:0)+(r&n?2:0);return i}(this.z,this.x,this.y);return t[(this.x+this.y)%t.length].replace(\"{prefix}\",(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(\"tms\"===e?Math.pow(2,this.z)-this.y-1:this.y)).replace(\"{quadkey}\",n).replace(\"{bbox-epsg-3857}\",r)}toString(){return `${this.z}/${this.x}/${this.y}`}}class Vc{constructor(t,e){this.wrap=t,this.canonical=e,this.key=Lc(t,e.z,e.z,e.x,e.y);}}class Fc{constructor(t,e,r,n,i){this.overscaledZ=t,this.wrap=e,this.canonical=new Dc(r,+n,+i),this.key=0===e&&t===r?this.canonical.key:Lc(e,t,r,n,i);}equals(t){return this.overscaledZ===t.overscaledZ&&this.wrap===t.wrap&&this.canonical.equals(t.canonical)}scaledTo(t){const e=this.canonical.z-t;return t>this.canonical.z?new Fc(t,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Fc(t,this.wrap,t,this.canonical.x>>e,this.canonical.y>>e)}calculateScaledKey(t,e=!0){if(this.overscaledZ===t&&e)return this.key;if(t>this.canonical.z)return Lc(this.wrap*+e,t,this.canonical.z,this.canonical.x,this.canonical.y);{const r=this.canonical.z-t;return Lc(this.wrap*+e,t,t,this.canonical.x>>r,this.canonical.y>>r)}}isChildOf(t){if(t.wrap!==this.wrap)return !1;const e=this.canonical.z-t.canonical.z;return 0===t.overscaledZ||t.overscaledZ<this.overscaledZ&&t.canonical.x===this.canonical.x>>e&&t.canonical.y===this.canonical.y>>e}children(t){if(this.overscaledZ>=t)return [new Fc(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const e=this.canonical.z+1,r=2*this.canonical.x,n=2*this.canonical.y;return [new Fc(e,this.wrap,e,r,n),new Fc(e,this.wrap,e,r+1,n),new Fc(e,this.wrap,e,r,n+1),new Fc(e,this.wrap,e,r+1,n+1)]}isLessThan(t){return this.wrap<t.wrap||!(this.wrap>t.wrap)&&(this.overscaledZ<t.overscaledZ||!(this.overscaledZ>t.overscaledZ)&&(this.canonical.x<t.canonical.x||!(this.canonical.x>t.canonical.x)&&this.canonical.y<t.canonical.y))}wrapped(){return new Fc(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(t){return new Fc(this.overscaledZ,t,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new Vc(this.wrap,this.canonical)}toString(){return `${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}}function Lc(t,e,r,n,i){const s=1<<Math.min(r,22);let a=s*(i%s)+n%s;return t&&r<22&&(a+=s*s*((t<0?-2*t-1:2*t)%(1<<2*(22-r)))),16*(32*a+r)+(e-r)}function Rc(t,e){return t.x*e.x+t.y*e.y}function Uc(t,e){if(1===t.length){let r=0;const n=e[r++];let i;for(;!i||n.equals(i);)if(i=e[r++],!i)return 1/0;for(;r<e.length;r++){const s=e[r],a=t[0],o=i.sub(n),l=s.sub(n),u=a.sub(n),c=Rc(o,o),h=Rc(o,l),p=Rc(l,l),f=Rc(u,o),d=Rc(u,l),y=c*p-h*h,m=(p*f-h*d)/y,g=(c*d-h*f)/y,x=n.z*(1-m-g)+i.z*m+s.z*g;if(isFinite(x))return x}return 1/0}{let t=1/0;for(const r of e)t=Math.min(t,r.z);return t}}function jc(t){const e=new i(t[0],t[1]);return e.z=t[2],e}function $c(t,e,r,n,i,s,a,o){const l=a*i.getElevationAt(t,e,!0,!0),u=0!==s[0],c=u?0===s[1]?a*(s[0]/7-450):a*function(t,e,r){const n=Math.floor(e[0]/8),i=Math.floor(e[1]/8),s=10*(e[0]-8*n),a=10*(e[1]-8*i),o=t.getElevationAt(n,i,!0,!0),l=t.getMeterToDEM(r),u=Math.floor(.5*(s*l-1)),c=Math.floor(.5*(a*l-1)),h=t.tileCoordToPixel(n,i),p=2*u+1,f=2*c+1,d=function(t,e,r,n,i){return [t.getElevationAtPixel(e,r,!0),t.getElevationAtPixel(e+i,r,!0),t.getElevationAtPixel(e,r+i,!0),t.getElevationAtPixel(e+n,r+i,!0)]}(t,h.x-u,h.y-c,p,f),y=Math.abs(d[0]-d[1]),m=Math.abs(d[2]-d[3]),g=Math.abs(d[0]-d[2])+Math.abs(d[1]-d[3]),x=Math.min(.25,.5*l*(y+m)/p),v=Math.min(.25,.5*l*g/f);return o+Math.max(x*s,v*a)}(i,s,o):l;return {base:l+(0===r)?-1:r,top:u?Math.max(c+n,l+r+2):l+n}}Pi(Dc,\"CanonicalTileID\"),Pi(Fc,\"OverscaledTileID\",{omit:[\"projMatrix\"]});const Oc=Ws([{name:\"a_pos_normal\",components:2,type:\"Int16\"},{name:\"a_data\",components:4,type:\"Uint8\"},{name:\"a_linesofar\",components:1,type:\"Float32\"}],4),{members:qc}=Oc,Nc=Ws([{name:\"a_packed\",components:4,type:\"Float32\"}]),{members:Gc}=Nc,Zc=yc.VectorTileFeature.types,Xc=Math.cos(Math.PI/180*37.5);class Kc{constructor(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((t=>t.id)),this.index=t.index,this.projection=t.projection,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach((t=>{this.gradients[t.id]={};})),this.layoutVertexArray=new ra,this.layoutVertexArray2=new na,this.indexArray=new ya,this.programConfigurations=new co(t.layers,t.zoom),this.segments=new _o,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter((t=>t.isStateDependent())).map((t=>t.id));}populate(t,e,r,n){this.hasPattern=Ju(\"line\",this.layers,e);const i=this.layers[0].layout.get(\"line-sort-key\"),s=[];for(const{feature:e,id:a,index:o,sourceLayerIndex:l}of t){const t=this.layers[0]._featureFilter.needGeometry,u=Go(e,t);if(!this.layers[0]._featureFilter.filter(new Cs(this.zoom),u,r))continue;const c=i?i.evaluate(u,{},r):void 0,h={id:a,properties:e.properties,type:e.type,sourceLayerIndex:l,index:o,geometry:t?u.geometry:No(e,r,n),patterns:{},sortKey:c};s.push(h);}i&&s.sort(((t,e)=>t.sortKey-e.sortKey));const{lineAtlas:a,featureIndex:o}=e,l=this.addConstantDashes(a);for(const n of s){const{geometry:i,index:s,sourceLayerIndex:u}=n;if(l&&this.addFeatureDashes(n,a),this.hasPattern){const t=Qu(\"line\",this.layers,n,this.zoom,e);this.patternFeatures.push(t);}else this.addFeature(n,i,s,r,a.positions,e.availableImages);o.insert(t[s].feature,i,s,u,this.index);}}addConstantDashes(t){let e=!1;for(const r of this.layers){const n=r.paint.get(\"line-dasharray\").value,i=r.layout.get(\"line-cap\").value;if(\"constant\"!==n.kind||\"constant\"!==i.kind)e=!0;else {const e=i.value,r=n.value;if(!r)continue;t.addDash(r.from,e),t.addDash(r.to,e),r.other&&t.addDash(r.other,e);}}return e}addFeatureDashes(t,e){const r=this.zoom;for(const n of this.layers){const i=n.paint.get(\"line-dasharray\").value,s=n.layout.get(\"line-cap\").value;if(\"constant\"===i.kind&&\"constant\"===s.kind)continue;let a,o,l,u,c,h;if(\"constant\"===i.kind){const t=i.value;if(!t)continue;a=t.other||t.to,o=t.to,l=t.from;}else a=i.evaluate({zoom:r-1},t),o=i.evaluate({zoom:r},t),l=i.evaluate({zoom:r+1},t);\"constant\"===s.kind?u=c=h=s.value:(u=s.evaluate({zoom:r-1},t),c=s.evaluate({zoom:r},t),h=s.evaluate({zoom:r+1},t)),e.addDash(a,u),e.addDash(o,c),e.addDash(l,h);const p=e.getKey(a,u),f=e.getKey(o,c),d=e.getKey(l,h);t.patterns[n.id]={min:p,mid:f,max:d};}}update(t,e,r,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,r,n);}addFeatures(t,e,r,n,i){for(const t of this.patternFeatures)this.addFeature(t,t.geometry,t.index,e,r,n);}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return !this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(0!==this.layoutVertexArray2.length&&(this.layoutVertexBuffer2=t.createVertexBuffer(this.layoutVertexArray2,Gc)),this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,qc),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0;}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy());}lineFeatureClips(t){if(t.properties&&t.properties.hasOwnProperty(\"mapbox_clip_start\")&&t.properties.hasOwnProperty(\"mapbox_clip_end\"))return {start:+t.properties.mapbox_clip_start,end:+t.properties.mapbox_clip_end}}addFeature(t,e,r,n,i,s){const a=this.layers[0].layout,o=a.get(\"line-join\").evaluate(t,{}),l=a.get(\"line-cap\").evaluate(t,{}),u=a.get(\"line-miter-limit\"),c=a.get(\"line-round-limit\");this.lineClips=this.lineFeatureClips(t);for(const r of e)this.addLine(r,t,o,l,u,c);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,r,i,s,n);}addLine(t,e,r,n,i,s){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineSoFar=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let e=0;e<t.length-1;e++)this.totalDistance+=t[e].dist(t[e+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance);}const a=\"Polygon\"===Zc[e.type];let o=t.length;for(;o>=2&&t[o-1].equals(t[o-2]);)o--;let l=0;for(;l<o-1&&t[l].equals(t[l+1]);)l++;if(o<(a?3:2))return;\"bevel\"===r&&(i=1.05);const u=this.overscaling<=16?122880/(512*this.overscaling):0,c=this.segments.prepareSegment(10*o,this.layoutVertexArray,this.indexArray);let h,p,f,d,y;this.e1=this.e2=-1,a&&(h=t[o-2],y=t[l].sub(h)._unit()._perp());for(let e=l;e<o;e++){if(f=e===o-1?a?t[l+1]:void 0:t[e+1],f&&t[e].equals(f))continue;y&&(d=y),h&&(p=h),h=t[e],y=f?f.sub(h)._unit()._perp():d,d=d||y;let m=d.add(y);0===m.x&&0===m.y||m._unit();const g=d.x*y.x+d.y*y.y,x=m.x*y.x+m.y*y.y,v=0!==x?1/x:1/0,b=2*Math.sqrt(2-2*x),_=x<Xc&&p&&f,w=d.x*y.y-d.y*y.x>0;if(_&&e>l){const t=h.dist(p);if(t>2*u){const e=h.sub(h.sub(p)._mult(u/t)._round());this.updateDistance(p,e),this.addCurrentVertex(e,d,0,0,c),p=e;}}const A=p&&f;let S=A?r:a?\"butt\":n;if(A&&\"round\"===S&&(v<s?S=\"miter\":v<=2&&(S=\"fakeround\")),\"miter\"===S&&v>i&&(S=\"bevel\"),\"bevel\"===S&&(v>2&&(S=\"flipbevel\"),v<i&&(S=\"miter\")),p&&this.updateDistance(p,h),\"miter\"===S)m._mult(v),this.addCurrentVertex(h,m,0,0,c);else if(\"flipbevel\"===S){if(v>100)m=y.mult(-1);else {const t=v*d.add(y).mag()/d.sub(y).mag();m._perp()._mult(t*(w?-1:1));}this.addCurrentVertex(h,m,0,0,c),this.addCurrentVertex(h,m.mult(-1),0,0,c);}else if(\"bevel\"===S||\"fakeround\"===S){const t=-Math.sqrt(v*v-1),e=w?t:0,r=w?0:t;if(p&&this.addCurrentVertex(h,d,e,r,c),\"fakeround\"===S){const t=Math.round(180*b/Math.PI/20);for(let e=1;e<t;e++){let r=e/t;if(.5!==r){const t=r-.5;r+=r*t*(r-1)*((1.0904+g*(g*(3.55645-1.43519*g)-3.2452))*t*t+(.848013+g*(.215638*g-1.06021)));}const n=y.sub(d)._mult(r)._add(d)._unit()._mult(w?-1:1);this.addHalfVertex(h,n.x,n.y,!1,w,0,c);}}f&&this.addCurrentVertex(h,y,-e,-r,c);}else if(\"butt\"===S)this.addCurrentVertex(h,m,0,0,c);else if(\"square\"===S){const t=p?1:-1;p||this.addCurrentVertex(h,m,t,t,c),this.addCurrentVertex(h,m,0,0,c),p&&this.addCurrentVertex(h,m,t,t,c);}else \"round\"===S&&(p&&(this.addCurrentVertex(h,d,0,0,c),this.addCurrentVertex(h,d,1,1,c,!0)),f&&(this.addCurrentVertex(h,y,-1,-1,c,!0),this.addCurrentVertex(h,y,0,0,c)));if(_&&e<o-1){const t=h.dist(f);if(t>2*u){const e=h.add(f.sub(h)._mult(u/t)._round());this.updateDistance(h,e),this.addCurrentVertex(e,y,0,0,c),h=e;}}}}addCurrentVertex(t,e,r,n,i,s=!1){const a=e.y*n-e.x,o=-e.y-e.x*n;this.addHalfVertex(t,e.x+e.y*r,e.y-e.x*r,s,!1,r,i),this.addHalfVertex(t,a,o,s,!0,-n,i);}addHalfVertex({x:t,y:e},r,n,i,s,a,o){this.layoutVertexArray.emplaceBack((t<<1)+(i?1:0),(e<<1)+(s?1:0),Math.round(63*r)+128,Math.round(63*n)+128,1+(0===a?0:a<0?-1:1),0,this.lineSoFar),this.lineClips&&this.layoutVertexArray2.emplaceBack(this.scaledDistance,this.lineClipsArray.length,this.lineClips.start,this.lineClips.end);const l=o.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,l),o.primitiveLength++),s?this.e2=l:this.e1=l;}updateScaledDistance(){if(this.lineClips){const t=this.totalDistance/(this.lineClips.end-this.lineClips.start);this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=t*this.lineClips.start+this.distance;}else this.lineSoFar=this.distance;}updateDistance(t,e){this.distance+=t.dist(e),this.updateScaledDistance();}}Pi(Kc,\"LineBucket\",{omit:[\"layers\",\"patternFeatures\"]});const Hc=new Zs({\"line-cap\":new Os(Gt.layout_line[\"line-cap\"]),\"line-join\":new Os(Gt.layout_line[\"line-join\"]),\"line-miter-limit\":new $s(Gt.layout_line[\"line-miter-limit\"]),\"line-round-limit\":new $s(Gt.layout_line[\"line-round-limit\"]),\"line-sort-key\":new Os(Gt.layout_line[\"line-sort-key\"])});var Yc={paint:new Zs({\"line-opacity\":new Os(Gt.paint_line[\"line-opacity\"]),\"line-color\":new Os(Gt.paint_line[\"line-color\"]),\"line-translate\":new $s(Gt.paint_line[\"line-translate\"]),\"line-translate-anchor\":new $s(Gt.paint_line[\"line-translate-anchor\"]),\"line-width\":new Os(Gt.paint_line[\"line-width\"]),\"line-gap-width\":new Os(Gt.paint_line[\"line-gap-width\"]),\"line-offset\":new Os(Gt.paint_line[\"line-offset\"]),\"line-blur\":new Os(Gt.paint_line[\"line-blur\"]),\"line-dasharray\":new qs(Gt.paint_line[\"line-dasharray\"]),\"line-pattern\":new qs(Gt.paint_line[\"line-pattern\"]),\"line-gradient\":new Gs(Gt.paint_line[\"line-gradient\"]),\"line-trim-offset\":new $s(Gt.paint_line[\"line-trim-offset\"])}),layout:Hc};const Wc=new class extends Os{possiblyEvaluate(t,e){return e=new Cs(Math.floor(e.zoom),{now:e.now,fadeDuration:e.fadeDuration,zoomHistory:e.zoomHistory,transition:e.transition}),super.possiblyEvaluate(t,e)}evaluate(t,e,r,n){return e=v({},e,{zoom:Math.floor(e.zoom)}),super.evaluate(t,e,r,n)}}(Yc.paint.properties[\"line-width\"].specification);function Jc(t,e){return e>0?e+2*t:t}Wc.useIntegerZoom=!0;const Qc=Ws([{name:\"a_pos_offset\",components:4,type:\"Int16\"},{name:\"a_tex_size\",components:4,type:\"Uint16\"},{name:\"a_pixeloffset\",components:4,type:\"Int16\"}],4),th=Ws([{name:\"a_globe_anchor\",components:3,type:\"Int16\"},{name:\"a_globe_normal\",components:3,type:\"Float32\"}],4),eh=Ws([{name:\"a_projected_pos\",components:4,type:\"Float32\"}],4);Ws([{name:\"a_fade_opacity\",components:1,type:\"Uint32\"}],4);const rh=Ws([{name:\"a_placed\",components:2,type:\"Uint8\"},{name:\"a_shift\",components:2,type:\"Float32\"}]),nh=Ws([{name:\"a_size_scale\",components:1,type:\"Float32\"},{name:\"a_padding\",components:2,type:\"Float32\"}]);Ws([{type:\"Int16\",name:\"projectedAnchorX\"},{type:\"Int16\",name:\"projectedAnchorY\"},{type:\"Int16\",name:\"projectedAnchorZ\"},{type:\"Int16\",name:\"tileAnchorX\"},{type:\"Int16\",name:\"tileAnchorY\"},{type:\"Float32\",name:\"x1\"},{type:\"Float32\",name:\"y1\"},{type:\"Float32\",name:\"x2\"},{type:\"Float32\",name:\"y2\"},{type:\"Int16\",name:\"padding\"},{type:\"Uint32\",name:\"featureIndex\"},{type:\"Uint16\",name:\"sourceLayerIndex\"},{type:\"Uint16\",name:\"bucketIndex\"}]);const ih=Ws([{name:\"a_pos\",components:3,type:\"Int16\"},{name:\"a_anchor_pos\",components:2,type:\"Int16\"},{name:\"a_extrude\",components:2,type:\"Int16\"}],4),sh=Ws([{name:\"a_pos_2f\",components:2,type:\"Float32\"},{name:\"a_radius\",components:1,type:\"Float32\"},{name:\"a_flags\",components:2,type:\"Int16\"}],4);Ws([{name:\"triangle\",components:3,type:\"Uint16\"}]),Ws([{type:\"Int16\",name:\"projectedAnchorX\"},{type:\"Int16\",name:\"projectedAnchorY\"},{type:\"Int16\",name:\"projectedAnchorZ\"},{type:\"Float32\",name:\"tileAnchorX\"},{type:\"Float32\",name:\"tileAnchorY\"},{type:\"Uint16\",name:\"glyphStartIndex\"},{type:\"Uint16\",name:\"numGlyphs\"},{type:\"Uint32\",name:\"vertexStartIndex\"},{type:\"Uint32\",name:\"lineStartIndex\"},{type:\"Uint32\",name:\"lineLength\"},{type:\"Uint16\",name:\"segment\"},{type:\"Uint16\",name:\"lowerSize\"},{type:\"Uint16\",name:\"upperSize\"},{type:\"Float32\",name:\"lineOffsetX\"},{type:\"Float32\",name:\"lineOffsetY\"},{type:\"Uint8\",name:\"writingMode\"},{type:\"Uint8\",name:\"placedOrientation\"},{type:\"Uint8\",name:\"hidden\"},{type:\"Uint32\",name:\"crossTileID\"},{type:\"Int16\",name:\"associatedIconIndex\"},{type:\"Uint8\",name:\"flipState\"}]),Ws([{type:\"Int16\",name:\"projectedAnchorX\"},{type:\"Int16\",name:\"projectedAnchorY\"},{type:\"Int16\",name:\"projectedAnchorZ\"},{type:\"Float32\",name:\"tileAnchorX\"},{type:\"Float32\",name:\"tileAnchorY\"},{type:\"Int16\",name:\"rightJustifiedTextSymbolIndex\"},{type:\"Int16\",name:\"centerJustifiedTextSymbolIndex\"},{type:\"Int16\",name:\"leftJustifiedTextSymbolIndex\"},{type:\"Int16\",name:\"verticalPlacedTextSymbolIndex\"},{type:\"Int16\",name:\"placedIconSymbolIndex\"},{type:\"Int16\",name:\"verticalPlacedIconSymbolIndex\"},{type:\"Uint16\",name:\"key\"},{type:\"Uint16\",name:\"textBoxStartIndex\"},{type:\"Uint16\",name:\"textBoxEndIndex\"},{type:\"Uint16\",name:\"verticalTextBoxStartIndex\"},{type:\"Uint16\",name:\"verticalTextBoxEndIndex\"},{type:\"Uint16\",name:\"iconBoxStartIndex\"},{type:\"Uint16\",name:\"iconBoxEndIndex\"},{type:\"Uint16\",name:\"verticalIconBoxStartIndex\"},{type:\"Uint16\",name:\"verticalIconBoxEndIndex\"},{type:\"Uint16\",name:\"featureIndex\"},{type:\"Uint16\",name:\"numHorizontalGlyphVertices\"},{type:\"Uint16\",name:\"numVerticalGlyphVertices\"},{type:\"Uint16\",name:\"numIconVertices\"},{type:\"Uint16\",name:\"numVerticalIconVertices\"},{type:\"Uint16\",name:\"useRuntimeCollisionCircles\"},{type:\"Uint32\",name:\"crossTileID\"},{type:\"Float32\",components:2,name:\"textOffset\"},{type:\"Float32\",name:\"collisionCircleDiameter\"}]),Ws([{type:\"Float32\",name:\"offsetX\"}]),Ws([{type:\"Int16\",name:\"x\"},{type:\"Int16\",name:\"y\"},{type:\"Int16\",name:\"tileUnitDistanceFromAnchor\"}]);var ah=24;const oh=128;function lh(t,e){const{expression:r}=e;if(\"constant\"===r.kind)return {kind:\"constant\",layoutSize:r.evaluate(new Cs(t+1))};if(\"source\"===r.kind)return {kind:\"source\"};{const{zoomStops:e,interpolationType:n}=r;let i=0;for(;i<e.length&&e[i]<=t;)i++;i=Math.max(0,i-1);let s=i;for(;s<e.length&&e[s]<t+1;)s++;s=Math.min(e.length-1,s);const a=e[i],o=e[s];return \"composite\"===r.kind?{kind:\"composite\",minZoom:a,maxZoom:o,interpolationType:n}:{kind:\"camera\",minZoom:a,maxZoom:o,minSize:r.evaluate(new Cs(a)),maxSize:r.evaluate(new Cs(o)),interpolationType:n}}}function uh(t,{uSize:e,uSizeT:r},{lowerSize:n,upperSize:i}){return \"source\"===t.kind?n/oh:\"composite\"===t.kind?xr(n/oh,i/oh,r):e}function ch(t,e){let r=0,n=0;if(\"constant\"===t.kind)n=t.layoutSize;else if(\"source\"!==t.kind){const{interpolationType:i,minZoom:s,maxZoom:a}=t,o=i?d(jr.interpolationFactor(i,e,s,a),0,1):0;\"camera\"===t.kind?n=xr(t.minSize,t.maxSize,o):r=o;}return {uSizeT:r,uSize:n}}var hh=Object.freeze({__proto__:null,getSizeData:lh,evaluateSizeForFeature:uh,evaluateSizeForZoom:ch,SIZE_PACK_FACTOR:oh});function ph(t,e,r){return t.sections.forEach((t=>{t.text=function(t,e,r){const n=e.layout.get(\"text-transform\").evaluate(r,{});return \"uppercase\"===n?t=t.toLocaleUpperCase():\"lowercase\"===n&&(t=t.toLocaleLowerCase()),Es.applyArabicShaping&&(t=Es.applyArabicShaping(t)),t}(t.text,e,r);})),t}const fh={\"!\":\"︕\",\"#\":\"＃\",$:\"＄\",\"%\":\"％\",\"&\":\"＆\",\"(\":\"︵\",\")\":\"︶\",\"*\":\"＊\",\"+\":\"＋\",\",\":\"︐\",\"-\":\"︲\",\".\":\"・\",\"/\":\"／\",\":\":\"︓\",\";\":\"︔\",\"<\":\"︿\",\"=\":\"＝\",\">\":\"﹀\",\"?\":\"︖\",\"@\":\"＠\",\"[\":\"﹇\",\"\\\\\":\"＼\",\"]\":\"﹈\",\"^\":\"＾\",_:\"︳\",\"`\":\"｀\",\"{\":\"︷\",\"|\":\"―\",\"}\":\"︸\",\"~\":\"～\",\"¢\":\"￠\",\"£\":\"￡\",\"¥\":\"￥\",\"¦\":\"￤\",\"¬\":\"￢\",\"¯\":\"￣\",\"–\":\"︲\",\"—\":\"︱\",\"‘\":\"﹃\",\"’\":\"﹄\",\"“\":\"﹁\",\"”\":\"﹂\",\"…\":\"︙\",\"‧\":\"・\",\"₩\":\"￦\",\"、\":\"︑\",\"。\":\"︒\",\"〈\":\"︿\",\"〉\":\"﹀\",\"《\":\"︽\",\"》\":\"︾\",\"「\":\"﹁\",\"」\":\"﹂\",\"『\":\"﹃\",\"』\":\"﹄\",\"【\":\"︻\",\"】\":\"︼\",\"〔\":\"︹\",\"〕\":\"︺\",\"〖\":\"︗\",\"〗\":\"︘\",\"！\":\"︕\",\"（\":\"︵\",\"）\":\"︶\",\"，\":\"︐\",\"－\":\"︲\",\"．\":\"・\",\"：\":\"︓\",\"；\":\"︔\",\"＜\":\"︿\",\"＞\":\"﹀\",\"？\":\"︖\",\"［\":\"﹇\",\"］\":\"﹈\",\"＿\":\"︳\",\"｛\":\"︷\",\"｜\":\"―\",\"｝\":\"︸\",\"｟\":\"︵\",\"｠\":\"︶\",\"｡\":\"︒\",\"｢\":\"﹁\",\"｣\":\"﹂\"};function dh(t){return \"︶\"===t||\"﹈\"===t||\"︸\"===t||\"﹄\"===t||\"﹂\"===t||\"︾\"===t||\"︼\"===t||\"︺\"===t||\"︘\"===t||\"﹀\"===t||\"︐\"===t||\"︓\"===t||\"︔\"===t||\"｀\"===t||\"￣\"===t||\"︑\"===t||\"︒\"===t}function yh(t){return \"︵\"===t||\"﹇\"===t||\"︷\"===t||\"﹃\"===t||\"﹁\"===t||\"︽\"===t||\"︻\"===t||\"︹\"===t||\"︗\"===t||\"︿\"===t}var mh=function(t,e,r,n,i){var s,a,o=8*i-n-1,l=(1<<o)-1,u=l>>1,c=-7,h=r?i-1:0,p=r?-1:1,f=t[e+h];for(h+=p,s=f&(1<<-c)-1,f>>=-c,c+=o;c>0;s=256*s+t[e+h],h+=p,c-=8);for(a=s&(1<<-c)-1,s>>=-c,c+=n;c>0;a=256*a+t[e+h],h+=p,c-=8);if(0===s)s=1-u;else {if(s===l)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,n),s-=u;}return (f?-1:1)*a*Math.pow(2,s-n)},gh=function(t,e,r,n,i,s){var a,o,l,u=8*s-i-1,c=(1<<u)-1,h=c>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:s-1,d=n?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),(e+=a+h>=1?p/l:p*Math.pow(2,1-h))*l>=2&&(a++,l/=2),a+h>=c?(o=0,a=c):a+h>=1?(o=(e*l-1)*Math.pow(2,i),a+=h):(o=e*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;t[r+f]=255&o,f+=d,o/=256,i-=8);for(a=a<<i|o,u+=i;u>0;t[r+f]=255&a,f+=d,a/=256,u-=8);t[r+f-d]|=128*y;},xh=vh;function vh(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length;}vh.Varint=0,vh.Fixed64=1,vh.Bytes=2,vh.Fixed32=5;var bh=4294967296,_h=1/bh,wh=\"undefined\"==typeof TextDecoder?null:new TextDecoder(\"utf8\");function Ah(t){return t.type===vh.Bytes?t.readVarint()+t.pos:t.pos+1}function Sh(t,e,r){return r?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}function kh(t,e,r){var n=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(7*Math.LN2));r.realloc(n);for(var i=r.pos-1;i>=t;i--)r.buf[i+n]=r.buf[i];}function Ih(t,e){for(var r=0;r<t.length;r++)e.writeVarint(t[r]);}function Mh(t,e){for(var r=0;r<t.length;r++)e.writeSVarint(t[r]);}function zh(t,e){for(var r=0;r<t.length;r++)e.writeFloat(t[r]);}function Th(t,e){for(var r=0;r<t.length;r++)e.writeDouble(t[r]);}function Bh(t,e){for(var r=0;r<t.length;r++)e.writeBoolean(t[r]);}function Eh(t,e){for(var r=0;r<t.length;r++)e.writeFixed32(t[r]);}function Ch(t,e){for(var r=0;r<t.length;r++)e.writeSFixed32(t[r]);}function Ph(t,e){for(var r=0;r<t.length;r++)e.writeFixed64(t[r]);}function Dh(t,e){for(var r=0;r<t.length;r++)e.writeSFixed64(t[r]);}function Vh(t,e){return (t[e]|t[e+1]<<8|t[e+2]<<16)+16777216*t[e+3]}function Fh(t,e,r){t[r]=e,t[r+1]=e>>>8,t[r+2]=e>>>16,t[r+3]=e>>>24;}function Lh(t,e){return (t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}function Rh(t,e,r){e.glyphs=[],1===t&&r.readMessage(Uh,e);}function Uh(t,e,r){if(3===t){const{id:t,bitmap:n,width:i,height:s,left:a,top:o,advance:l}=r.readMessage(jh,{});e.glyphs.push({id:t,bitmap:new hu({width:i+6,height:s+6},n),metrics:{width:i,height:s,left:a,top:o,advance:l}});}else 4===t?e.ascender=r.readSVarint():5===t&&(e.descender=r.readSVarint());}function jh(t,e,r){1===t?e.id=r.readVarint():2===t?e.bitmap=r.readBytes():3===t?e.width=r.readVarint():4===t?e.height=r.readVarint():5===t?e.left=r.readSVarint():6===t?e.top=r.readSVarint():7===t&&(e.advance=r.readVarint());}function $h(t){let e=0,r=0;for(const n of t)e+=n.w*n.h,r=Math.max(r,n.w);t.sort(((t,e)=>e.h-t.h));const n=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(e/.95)),r),h:1/0}];let i=0,s=0;for(const e of t)for(let t=n.length-1;t>=0;t--){const r=n[t];if(!(e.w>r.w||e.h>r.h)){if(e.x=r.x,e.y=r.y,s=Math.max(s,e.y+e.h),i=Math.max(i,e.x+e.w),e.w===r.w&&e.h===r.h){const e=n.pop();t<n.length&&(n[t]=e);}else e.h===r.h?(r.x+=e.w,r.w-=e.w):e.w===r.w?(r.y+=e.h,r.h-=e.h):(n.push({x:r.x+e.w,y:r.y,w:r.w-e.w,h:e.h}),r.y+=e.h,r.h-=e.h);break}}return {w:i,h:s,fill:e/(i*s)||0}}vh.prototype={destroy:function(){this.buf=null;},readFields:function(t,e,r){for(r=r||this.length;this.pos<r;){var n=this.readVarint(),i=n>>3,s=this.pos;this.type=7&n,t(i,e,this),this.pos===s&&this.skip(n);}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=Vh(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=Lh(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=Vh(this.buf,this.pos)+Vh(this.buf,this.pos+4)*bh;return this.pos+=8,t},readSFixed64:function(){var t=Vh(this.buf,this.pos)+Lh(this.buf,this.pos+4)*bh;return this.pos+=8,t},readFloat:function(){var t=mh(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=mh(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var e,r,n=this.buf;return e=127&(r=n[this.pos++]),r<128?e:(e|=(127&(r=n[this.pos++]))<<7,r<128?e:(e|=(127&(r=n[this.pos++]))<<14,r<128?e:(e|=(127&(r=n[this.pos++]))<<21,r<128?e:function(t,e,r){var n,i,s=r.buf;if(n=(112&(i=s[r.pos++]))>>4,i<128)return Sh(t,n,e);if(n|=(127&(i=s[r.pos++]))<<3,i<128)return Sh(t,n,e);if(n|=(127&(i=s[r.pos++]))<<10,i<128)return Sh(t,n,e);if(n|=(127&(i=s[r.pos++]))<<17,i<128)return Sh(t,n,e);if(n|=(127&(i=s[r.pos++]))<<24,i<128)return Sh(t,n,e);if(n|=(1&(i=s[r.pos++]))<<31,i<128)return Sh(t,n,e);throw new Error(\"Expected varint not more than 10 bytes\")}(e|=(15&(r=n[this.pos]))<<28,t,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=this.pos;return this.pos=t,t-e>=12&&wh?function(t,e,r){return wh.decode(t.subarray(e,r))}(this.buf,e,t):function(t,e,r){for(var n=\"\",i=e;i<r;){var s,a,o,l=t[i],u=null,c=l>239?4:l>223?3:l>191?2:1;if(i+c>r)break;1===c?l<128&&(u=l):2===c?128==(192&(s=t[i+1]))&&(u=(31&l)<<6|63&s)<=127&&(u=null):3===c?(a=t[i+2],128==(192&(s=t[i+1]))&&128==(192&a)&&((u=(15&l)<<12|(63&s)<<6|63&a)<=2047||u>=55296&&u<=57343)&&(u=null)):4===c&&(a=t[i+2],o=t[i+3],128==(192&(s=t[i+1]))&&128==(192&a)&&128==(192&o)&&((u=(15&l)<<18|(63&s)<<12|(63&a)<<6|63&o)<=65535||u>=1114112)&&(u=null)),null===u?(u=65533,c=1):u>65535&&(u-=65536,n+=String.fromCharCode(u>>>10&1023|55296),u=56320|1023&u),n+=String.fromCharCode(u),i+=c;}return n}(this.buf,e,t)},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function(t,e){if(this.type!==vh.Bytes)return t.push(this.readVarint(e));var r=Ah(this);for(t=t||[];this.pos<r;)t.push(this.readVarint(e));return t},readPackedSVarint:function(t){if(this.type!==vh.Bytes)return t.push(this.readSVarint());var e=Ah(this);for(t=t||[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){if(this.type!==vh.Bytes)return t.push(this.readBoolean());var e=Ah(this);for(t=t||[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function(t){if(this.type!==vh.Bytes)return t.push(this.readFloat());var e=Ah(this);for(t=t||[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function(t){if(this.type!==vh.Bytes)return t.push(this.readDouble());var e=Ah(this);for(t=t||[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function(t){if(this.type!==vh.Bytes)return t.push(this.readFixed32());var e=Ah(this);for(t=t||[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){if(this.type!==vh.Bytes)return t.push(this.readSFixed32());var e=Ah(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){if(this.type!==vh.Bytes)return t.push(this.readFixed64());var e=Ah(this);for(t=t||[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){if(this.type!==vh.Bytes)return t.push(this.readSFixed64());var e=Ah(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed64());return t},skip:function(t){var e=7&t;if(e===vh.Varint)for(;this.buf[this.pos++]>127;);else if(e===vh.Bytes)this.pos=this.readVarint()+this.pos;else if(e===vh.Fixed32)this.pos+=4;else {if(e!==vh.Fixed64)throw new Error(\"Unimplemented type: \"+e);this.pos+=8;}},writeTag:function(t,e){this.writeVarint(t<<3|e);},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var r=new Uint8Array(e);r.set(this.buf),this.buf=r,this.length=e;}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),Fh(this.buf,t,this.pos),this.pos+=4;},writeSFixed32:function(t){this.realloc(4),Fh(this.buf,t,this.pos),this.pos+=4;},writeFixed64:function(t){this.realloc(8),Fh(this.buf,-1&t,this.pos),Fh(this.buf,Math.floor(t*_h),this.pos+4),this.pos+=8;},writeSFixed64:function(t){this.realloc(8),Fh(this.buf,-1&t,this.pos),Fh(this.buf,Math.floor(t*_h),this.pos+4),this.pos+=8;},writeVarint:function(t){(t=+t||0)>268435455||t<0?function(t,e){var r,n;if(t>=0?(r=t%4294967296|0,n=t/4294967296|0):(n=~(-t/4294967296),4294967295^(r=~(-t%4294967296))?r=r+1|0:(r=0,n=n+1|0)),t>=0x10000000000000000||t<-0x10000000000000000)throw new Error(\"Given varint doesn't fit into 10 bytes\");e.realloc(10),function(t,e,r){r.buf[r.pos++]=127&t|128,t>>>=7,r.buf[r.pos++]=127&t|128,t>>>=7,r.buf[r.pos++]=127&t|128,t>>>=7,r.buf[r.pos++]=127&t|128,r.buf[r.pos]=127&(t>>>=7);}(r,0,e),function(t,e){var r=(7&t)<<4;e.buf[e.pos++]|=r|((t>>>=3)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t)))));}(n,e);}(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127))));},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t);},writeBoolean:function(t){this.writeVarint(Boolean(t));},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var e=this.pos;this.pos=function(t,e,r){for(var n,i,s=0;s<e.length;s++){if((n=e.charCodeAt(s))>55295&&n<57344){if(!i){n>56319||s+1===e.length?(t[r++]=239,t[r++]=191,t[r++]=189):i=n;continue}if(n<56320){t[r++]=239,t[r++]=191,t[r++]=189,i=n;continue}n=i-55296<<10|n-56320|65536,i=null;}else i&&(t[r++]=239,t[r++]=191,t[r++]=189,i=null);n<128?t[r++]=n:(n<2048?t[r++]=n>>6|192:(n<65536?t[r++]=n>>12|224:(t[r++]=n>>18|240,t[r++]=n>>12&63|128),t[r++]=n>>6&63|128),t[r++]=63&n|128);}return r}(this.buf,t,this.pos);var r=this.pos-e;r>=128&&kh(e,r,this),this.pos=e-1,this.writeVarint(r),this.pos+=r;},writeFloat:function(t){this.realloc(4),gh(this.buf,t,this.pos,!0,23,4),this.pos+=4;},writeDouble:function(t){this.realloc(8),gh(this.buf,t,this.pos,!0,52,8),this.pos+=8;},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var r=0;r<e;r++)this.buf[this.pos++]=t[r];},writeRawMessage:function(t,e){this.pos++;var r=this.pos;t(e,this);var n=this.pos-r;n>=128&&kh(r,n,this),this.pos=r-1,this.writeVarint(n),this.pos+=n;},writeMessage:function(t,e,r){this.writeTag(t,vh.Bytes),this.writeRawMessage(e,r);},writePackedVarint:function(t,e){e.length&&this.writeMessage(t,Ih,e);},writePackedSVarint:function(t,e){e.length&&this.writeMessage(t,Mh,e);},writePackedBoolean:function(t,e){e.length&&this.writeMessage(t,Bh,e);},writePackedFloat:function(t,e){e.length&&this.writeMessage(t,zh,e);},writePackedDouble:function(t,e){e.length&&this.writeMessage(t,Th,e);},writePackedFixed32:function(t,e){e.length&&this.writeMessage(t,Eh,e);},writePackedSFixed32:function(t,e){e.length&&this.writeMessage(t,Ch,e);},writePackedFixed64:function(t,e){e.length&&this.writeMessage(t,Ph,e);},writePackedSFixed64:function(t,e){e.length&&this.writeMessage(t,Dh,e);},writeBytesField:function(t,e){this.writeTag(t,vh.Bytes),this.writeBytes(e);},writeFixed32Field:function(t,e){this.writeTag(t,vh.Fixed32),this.writeFixed32(e);},writeSFixed32Field:function(t,e){this.writeTag(t,vh.Fixed32),this.writeSFixed32(e);},writeFixed64Field:function(t,e){this.writeTag(t,vh.Fixed64),this.writeFixed64(e);},writeSFixed64Field:function(t,e){this.writeTag(t,vh.Fixed64),this.writeSFixed64(e);},writeVarintField:function(t,e){this.writeTag(t,vh.Varint),this.writeVarint(e);},writeSVarintField:function(t,e){this.writeTag(t,vh.Varint),this.writeSVarint(e);},writeStringField:function(t,e){this.writeTag(t,vh.Bytes),this.writeString(e);},writeFloatField:function(t,e){this.writeTag(t,vh.Fixed32),this.writeFloat(e);},writeDoubleField:function(t,e){this.writeTag(t,vh.Fixed64),this.writeDouble(e);},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e));}};class Oh{constructor(t,{pixelRatio:e,version:r,stretchX:n,stretchY:i,content:s}){this.paddedRect=t,this.pixelRatio=e,this.stretchX=n,this.stretchY=i,this.content=s,this.version=r;}get tl(){return [this.paddedRect.x+1,this.paddedRect.y+1]}get br(){return [this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}get displaySize(){return [(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}class qh{constructor(t,e){const r={},n={};this.haveRenderCallbacks=[];const i=[];this.addImages(t,r,i),this.addImages(e,n,i);const{w:s,h:a}=$h(i),o=new pu({width:s||1,height:a||1});for(const e in t){const n=t[e],i=r[e].paddedRect;pu.copy(n.data,o,{x:0,y:0},{x:i.x+1,y:i.y+1},n.data);}for(const t in e){const r=e[t],i=n[t].paddedRect,s=i.x+1,a=i.y+1,l=r.data.width,u=r.data.height;pu.copy(r.data,o,{x:0,y:0},{x:s,y:a},r.data),pu.copy(r.data,o,{x:0,y:u-1},{x:s,y:a-1},{width:l,height:1}),pu.copy(r.data,o,{x:0,y:0},{x:s,y:a+u},{width:l,height:1}),pu.copy(r.data,o,{x:l-1,y:0},{x:s-1,y:a},{width:1,height:u}),pu.copy(r.data,o,{x:0,y:0},{x:s+l,y:a},{width:1,height:u});}this.image=o,this.iconPositions=r,this.patternPositions=n;}addImages(t,e,r){for(const n in t){const i=t[n],s={x:0,y:0,w:i.data.width+2,h:i.data.height+2};r.push(s),e[n]=new Oh(s,i),i.hasRenderCallback&&this.haveRenderCallbacks.push(n);}}patchUpdatedImages(t,e){this.haveRenderCallbacks=this.haveRenderCallbacks.filter((e=>t.hasImage(e))),t.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const r in t.updatedImages)this.patchUpdatedImage(this.iconPositions[r],t.getImage(r),e),this.patchUpdatedImage(this.patternPositions[r],t.getImage(r),e);}patchUpdatedImage(t,e,r){if(!t||!e)return;if(t.version===e.version)return;t.version=e.version;const[n,i]=t.tl;r.update(e.data,void 0,{x:n,y:i});}}Pi(Oh,\"ImagePosition\"),Pi(qh,\"ImageAtlas\");const Nh={horizontal:1,vertical:2,horizontalOnly:3};class Gh{constructor(){this.scale=1,this.fontStack=\"\",this.imageName=null;}static forText(t,e){const r=new Gh;return r.scale=t||1,r.fontStack=e,r}static forImage(t){const e=new Gh;return e.imageName=t,e}}class Zh{constructor(){this.text=\"\",this.sectionIndex=[],this.sections=[],this.imageSectionID=null;}static fromFeature(t,e){const r=new Zh;for(let n=0;n<t.sections.length;n++){const i=t.sections[n];i.image?r.addImageSection(i):r.addTextSection(i,e);}return r}length(){return this.text.length}getSection(t){return this.sections[this.sectionIndex[t]]}getSections(){return this.sections}getSectionIndex(t){return this.sectionIndex[t]}getCharCode(t){return this.text.charCodeAt(t)}verticalizePunctuation(t){this.text=function(t,e){let r=\"\";for(let n=0;n<t.length;n++){const i=t.charCodeAt(n+1)||null,s=t.charCodeAt(n-1)||null;r+=!e&&(i&&ms(i)&&!fh[t[n+1]]||s&&ms(s)&&!fh[t[n-1]])||!fh[t[n]]?t[n]:fh[t[n]];}return r}(this.text,t);}trim(){let t=0;for(let e=0;e<this.text.length&&Kh[this.text.charCodeAt(e)];e++)t++;let e=this.text.length;for(let r=this.text.length-1;r>=0&&r>=t&&Kh[this.text.charCodeAt(r)];r--)e--;this.text=this.text.substring(t,e),this.sectionIndex=this.sectionIndex.slice(t,e);}substring(t,e){const r=new Zh;return r.text=this.text.substring(t,e),r.sectionIndex=this.sectionIndex.slice(t,e),r.sections=this.sections,r}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce(((t,e)=>Math.max(t,this.sections[e].scale)),0)}addTextSection(t,e){this.text+=t.text,this.sections.push(Gh.forText(t.scale,t.fontStack||e));const r=this.sections.length-1;for(let e=0;e<t.text.length;++e)this.sectionIndex.push(r);}addImageSection(t){const e=t.image?t.image.name:\"\";if(0===e.length)return void E(\"Can't add FormattedSection with an empty image.\");const r=this.getNextImageSectionCharCode();r?(this.text+=String.fromCharCode(r),this.sections.push(Gh.forImage(e)),this.sectionIndex.push(this.sections.length-1)):E(\"Reached maximum number of images 6401\");}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function Xh(t,e,r,n,i,s,a,o,l,u,c,h,p,f,d,y){const m=Zh.fromFeature(t,i);let g;h===Nh.vertical&&m.verticalizePunctuation(p);const{processBidirectionalText:x,processStyledBidirectionalText:v}=Es;if(x&&1===m.sections.length){g=[];const t=x(m.toString(),ep(m,u,s,e,n,f,d));for(const e of t){const t=new Zh;t.text=e,t.sections=m.sections;for(let r=0;r<e.length;r++)t.sectionIndex.push(0);g.push(t);}}else if(v){g=[];const t=v(m.text,m.sectionIndex,ep(m,u,s,e,n,f,d));for(const e of t){const t=new Zh;t.text=e[0],t.sectionIndex=e[1],t.sections=m.sections,g.push(t);}}else g=function(t,e){const r=[],n=t.text;let i=0;for(const n of e)r.push(t.substring(i,n)),i=n;return i<n.length&&r.push(t.substring(i,n.length)),r}(m,ep(m,u,s,e,n,f,d));const b=[],_={positionedLines:b,text:m.toString(),top:c[1],bottom:c[1],left:c[0],right:c[0],writingMode:h,iconsInText:!1,verticalizable:!1,hasBaseline:!1};return function(t,e,r,n,i,s,a,o,l,u,c,h){let p=0,f=0,d=0;const y=\"right\"===o?1:\"left\"===o?0:.5;let m=!1;for(const t of i){const r=t.getSections();for(const t of r){if(t.imageName)continue;const r=e[t.fontStack];if(r&&(m=void 0!==r.ascender&&void 0!==r.descender,!m))break}if(!m)break}let g=0;for(const a of i){a.trim();const i=a.getMaxScale(),o=(i-1)*ah,v={positionedGlyphs:[],lineOffset:0};t.positionedLines[g]=v;const b=v.positionedGlyphs;let _=0;if(!a.length()){f+=s,++g;continue}let w=0,A=0;for(let s=0;s<a.length();s++){const o=a.getSection(s),d=a.getSectionIndex(s),y=a.getCharCode(s);let g=o.scale,v=null,S=null,k=null,I=ah,M=0;const z=!(l===Nh.horizontal||!c&&!ys(y)||c&&(Kh[y]||(x=y,Ui(x)||ji(x)||$i(x)||as(x)||cs(x))));if(o.imageName){const e=n[o.imageName];if(!e)continue;k=o.imageName,t.iconsInText=t.iconsInText||!0,S=e.paddedRect;const r=e.displaySize;g=g*ah/h,v={width:r[0],height:r[1],left:1,top:-3,advance:z?r[1]:r[0],localGlyph:!1},M=m?-v.height*g:i*ah-17-r[1]*g,I=v.advance;const s=(z?r[0]:r[1])*g-ah*i;s>0&&s>_&&(_=s);}else {const t=r[o.fontStack];if(!t)continue;t[y]&&(S=t[y]);const n=e[o.fontStack];if(!n)continue;const s=n.glyphs[y];if(!s)continue;if(v=s.metrics,I=8203!==y?ah:0,m){const t=void 0!==n.ascender?Math.abs(n.ascender):0,e=void 0!==n.descender?Math.abs(n.descender):0,r=(t+e)*g;w<r&&(w=r,A=(t-e)/2*g),M=-t*g;}else M=(i-g)*ah-17;}z?(t.verticalizable=!0,b.push({glyph:y,imageName:k,x:p,y:f+M,vertical:z,scale:g,localGlyph:v.localGlyph,fontStack:o.fontStack,sectionIndex:d,metrics:v,rect:S}),p+=I*g+u):(b.push({glyph:y,imageName:k,x:p,y:f+M,vertical:z,scale:g,localGlyph:v.localGlyph,fontStack:o.fontStack,sectionIndex:d,metrics:v,rect:S}),p+=v.advance*g+u);}0!==b.length&&(d=Math.max(p-u,d),m?np(b,y,_,A,s*i/2):np(b,y,_,0,s/2)),p=0;const S=s*i+_;v.lineOffset=Math.max(_,o),f+=S,++g;}var x;const v=f,{horizontalAlign:b,verticalAlign:_}=rp(a);((function(t,e,r,n,i,s){const a=(e-r)*i,o=-s*n;for(const e of t)for(const t of e.positionedGlyphs)t.x+=a,t.y+=o;}))(t.positionedLines,y,b,_,d,v),t.top+=-_*v,t.bottom=t.top+v,t.left+=-b*d,t.right=t.left+d,t.hasBaseline=m;}(_,e,r,n,g,a,o,l,h,u,p,y),!function(t){for(const e of t)if(0!==e.positionedGlyphs.length)return !1;return !0}(b)&&_}const Kh={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Hh={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function Yh(t,e,r,n,i,s){if(e.imageName){const t=n[e.imageName];return t?t.displaySize[0]*e.scale*ah/s+i:0}{const n=r[e.fontStack],s=n&&n.glyphs[t];return s?s.metrics.advance*e.scale+i:0}}function Wh(t,e,r,n){const i=Math.pow(t-e,2);return n?t<e?i/2:2*i:i+Math.abs(r)*r}function Jh(t,e,r){let n=0;return 10===t&&(n-=1e4),r&&(n+=150),40!==t&&65288!==t||(n+=50),41!==e&&65289!==e||(n+=50),n}function Qh(t,e,r,n,i,s){let a=null,o=Wh(e,r,i,s);for(const t of n){const n=Wh(e-t.x,r,i,s)+t.badness;n<=o&&(a=t,o=n);}return {index:t,x:e,priorBreak:a,badness:o}}function tp(t){return t?tp(t.priorBreak).concat(t.index):[]}function ep(t,e,r,n,i,s,a){if(\"point\"!==s)return [];if(!t)return [];const o=[],l=function(t,e,r,n,i,s){let a=0;for(let r=0;r<t.length();r++){const o=t.getSection(r);a+=Yh(t.getCharCode(r),o,n,i,e,s);}return a/Math.max(1,Math.ceil(a/r))}(t,e,r,n,i,a),u=t.text.indexOf(\"​\")>=0;let c=0;for(let r=0;r<t.length();r++){const s=t.getSection(r),p=t.getCharCode(r);if(Kh[p]||(c+=Yh(p,s,n,i,e,a)),r<t.length()-1){const e=!((h=p)<11904||!(Hi(h)||Ki(h)||ls(h)||ss(h)||Qi(h)||Oi(h)||Yi(h)||Gi(h)||ts(h)||es(h)||Ji(h)||hs(h)||Zi(h)||Ni(h)||qi(h)||Wi(h)||Xi(h)||os(h)||ns(h)||rs(h)));(Hh[p]||e||s.imageName)&&o.push(Qh(r+1,c,l,o,Jh(p,t.getCharCode(r+1),e&&u),!1));}}var h;return tp(Qh(t.length(),c,l,o,0,!0))}function rp(t){let e=.5,r=.5;switch(t){case\"right\":case\"top-right\":case\"bottom-right\":e=1;break;case\"left\":case\"top-left\":case\"bottom-left\":e=0;}switch(t){case\"bottom\":case\"bottom-right\":case\"bottom-left\":r=1;break;case\"top\":case\"top-right\":case\"top-left\":r=0;}return {horizontalAlign:e,verticalAlign:r}}function np(t,e,r,n,i){if(!(e||r||n||i))return;const s=t.length-1,a=t[s],o=(a.x+a.metrics.advance*a.scale)*e;for(let e=0;e<=s;e++)t[e].x-=o,t[e].y+=r+n+i;}function ip(t,e,r){const{horizontalAlign:n,verticalAlign:i}=rp(r),s=e[0]-t.displaySize[0]*n,a=e[1]-t.displaySize[1]*i;return {image:t,top:a,bottom:a+t.displaySize[1],left:s,right:s+t.displaySize[0]}}function sp(t,e,r,n,i,s){const a=t.image;let o;if(a.content){const t=a.content,e=a.pixelRatio||1;o=[t[0]/e,t[1]/e,a.displaySize[0]-t[2]/e,a.displaySize[1]-t[3]/e];}const l=e.left*s,u=e.right*s;let c,h,p,f;\"width\"===r||\"both\"===r?(f=i[0]+l-n[3],h=i[0]+u+n[1]):(f=i[0]+(l+u-a.displaySize[0])/2,h=f+a.displaySize[0]);const d=e.top*s,y=e.bottom*s;return \"height\"===r||\"both\"===r?(c=i[1]+d-n[0],p=i[1]+y+n[2]):(c=i[1]+(d+y-a.displaySize[1])/2,p=c+a.displaySize[1]),{image:a,top:c,right:h,bottom:p,left:f,collisionPadding:o}}class ap extends i{constructor(t,e,r,n,i){super(t,e),this.angle=n,this.z=r,void 0!==i&&(this.segment=i);}clone(){return new ap(this.x,this.y,this.z,this.angle,this.segment)}}function op(t,e,r,n,i){if(void 0===e.segment)return !0;let s=e,a=e.segment+1,o=0;for(;o>-r/2;){if(a--,a<0)return !1;o-=t[a].dist(s),s=t[a];}o+=t[a].dist(t[a+1]),a++;const l=[];let u=0;for(;o<r/2;){const e=t[a],r=t[a+1];if(!r)return !1;let s=t[a-1].angleTo(e)-e.angleTo(r);for(s=Math.abs((s+3*Math.PI)%(2*Math.PI)-Math.PI),l.push({distance:o,angleDelta:s}),u+=s;o-l[0].distance>n;)u-=l.shift().angleDelta;if(u>i)return !1;a++,o+=e.dist(r);}return !0}function lp(t){let e=0;for(let r=0;r<t.length-1;r++)e+=t[r].dist(t[r+1]);return e}function up(t,e,r){return t?.6*e*r:0}function cp(t,e){return Math.max(t?t.right-t.left:0,e?e.right-e.left:0)}function hp(t,e,r,n,i,s){const a=up(r,i,s),o=cp(r,n)*s;let l=0;const u=lp(t)/2;for(let r=0;r<t.length-1;r++){const n=t[r],i=t[r+1],s=n.dist(i);if(l+s>u){const c=(u-l)/s,h=xr(n.x,i.x,c),p=xr(n.y,i.y,c),f=new ap(h,p,0,i.angleTo(n),r);return !a||op(t,f,o,a,e)?f:void 0}l+=s;}}function pp(t,e,r,n,i,s,a,o,l){const u=up(n,s,a),c=cp(n,i),h=c*a,p=0===t[0].x||t[0].x===l||0===t[0].y||t[0].y===l;return e-h<e/4&&(e=h+e/4),fp(t,p?e/2*o%e:(c/2+2*s)*a*o%e,e,u,r,h,p,!1,l)}function fp(t,e,r,n,i,s,a,o,l){const u=s/2,c=lp(t);let h=0,p=e-r,f=[];for(let e=0;e<t.length-1;e++){const a=t[e],o=t[e+1],d=a.dist(o),y=o.angleTo(a);for(;p+r<h+d;){p+=r;const m=(p-h)/d,g=xr(a.x,o.x,m),x=xr(a.y,o.y,m);if(g>=0&&g<l&&x>=0&&x<l&&p-u>=0&&p+u<=c){const r=new ap(g,x,0,y,e);r._round(),n&&!op(t,r,s,n,i)||f.push(r);}}h+=d;}return o||f.length||a||(f=fp(t,h/2,r,n,i,s,a,!0,l)),f}function dp(t,e,r,n,s){const a=[];for(let o=0;o<t.length;o++){const l=t[o];let u;for(let t=0;t<l.length-1;t++){let o=l[t],c=l[t+1];o.x<e&&c.x<e||(o.x<e?o=new i(e,o.y+(e-o.x)/(c.x-o.x)*(c.y-o.y))._round():c.x<e&&(c=new i(e,o.y+(e-o.x)/(c.x-o.x)*(c.y-o.y))._round()),o.y<r&&c.y<r||(o.y<r?o=new i(o.x+(r-o.y)/(c.y-o.y)*(c.x-o.x),r)._round():c.y<r&&(c=new i(o.x+(r-o.y)/(c.y-o.y)*(c.x-o.x),r)._round()),o.x>=n&&c.x>=n||(o.x>=n?o=new i(n,o.y+(n-o.x)/(c.x-o.x)*(c.y-o.y))._round():c.x>=n&&(c=new i(n,o.y+(n-o.x)/(c.x-o.x)*(c.y-o.y))._round()),o.y>=s&&c.y>=s||(o.y>=s?o=new i(o.x+(s-o.y)/(c.y-o.y)*(c.x-o.x),s)._round():c.y>=s&&(c=new i(o.x+(s-o.y)/(c.y-o.y)*(c.x-o.x),s)._round()),u&&o.equals(u[u.length-1])||(u=[o],a.push(u)),u.push(c)))));}}return a}Pi(ap,\"Anchor\");const yp=1e20;function mp(t,e,r,n,i,s,a,o,l){for(let u=e;u<e+n;u++)gp(t,r*s+u,s,i,a,o,l);for(let u=r;u<r+i;u++)gp(t,u*s+e,1,n,a,o,l);}function gp(t,e,r,n,i,s,a){s[0]=0,a[0]=-yp,a[1]=yp,i[0]=t[e];for(let o=1,l=0,u=0;o<n;o++){i[o]=t[e+o*r];const n=o*o;do{const t=s[l];u=(i[o]-i[t]+n-t*t)/(o-t)/2;}while(u<=a[l]&&--l>-1);l++,s[l]=o,a[l]=u,a[l+1]=yp;}for(let o=0,l=0;o<n;o++){for(;a[l+1]<o;)l++;const n=s[l],u=o-n;t[e+o*r]=i[n]+u*u;}}const xp={none:0,ideographs:1,all:2};class vp{constructor(t,e,r){this.requestManager=t,this.localGlyphMode=e,this.localFontFamily=r,this.entries={},this.localGlyphs={200:{},400:{},500:{},900:{}};}setURL(t){this.url=t;}getGlyphs(t,e){const r=[];for(const e in t)for(const n of t[e])r.push({stack:e,id:n});g(r,(({stack:t,id:e},r)=>{let n=this.entries[t];n||(n=this.entries[t]={glyphs:{},requests:{},ranges:{},ascender:void 0,descender:void 0});let i=n.glyphs[e];if(void 0!==i)return void r(null,{stack:t,id:e,glyph:i});if(i=this._tinySDF(n,t,e),i)return n.glyphs[e]=i,void r(null,{stack:t,id:e,glyph:i});const s=Math.floor(e/256);if(256*s>65535)return void r(new Error(\"glyphs > 65535 not supported\"));if(n.ranges[s])return void r(null,{stack:t,id:e,glyph:i});let a=n.requests[s];a||(a=n.requests[s]=[],vp.loadGlyphRange(t,s,this.url,this.requestManager,((t,e)=>{if(e){n.ascender=e.ascender,n.descender=e.descender;for(const t in e.glyphs)this._doesCharSupportLocalGlyph(+t)||(n.glyphs[+t]=e.glyphs[+t]);n.ranges[s]=!0;}for(const r of a)r(t,e);delete n.requests[s];}))),a.push(((n,i)=>{n?r(n):i&&r(null,{stack:t,id:e,glyph:i.glyphs[e]||null});}));}),((t,r)=>{if(t)e(t);else if(r){const t={};for(const{stack:e,id:n,glyph:i}of r)void 0===t[e]&&(t[e]={}),void 0===t[e].glyphs&&(t[e].glyphs={}),t[e].glyphs[n]=i&&{id:i.id,bitmap:i.bitmap.clone(),metrics:i.metrics},t[e].ascender=this.entries[e].ascender,t[e].descender=this.entries[e].descender;e(null,t);}}));}_doesCharSupportLocalGlyph(t){return this.localGlyphMode!==xp.none&&(this.localGlyphMode===xp.all?!!this.localFontFamily:!!this.localFontFamily&&(es(t)||is(t)||Zi(t)||Xi(t)||Gi(t)))}_tinySDF(t,e,r){const n=this.localFontFamily;if(!n||!this._doesCharSupportLocalGlyph(r))return;let i=t.tinySDF;if(!i){let r=\"400\";/bold/i.test(e)?r=\"900\":/medium/i.test(e)?r=\"500\":/light/i.test(e)&&(r=\"200\"),i=t.tinySDF=new vp.TinySDF({fontFamily:n,fontWeight:r,fontSize:48,buffer:6,radius:16}),i.fontWeight=r;}if(this.localGlyphs[i.fontWeight][r])return this.localGlyphs[i.fontWeight][r];const s=String.fromCharCode(r),{data:a,width:o,height:l,glyphWidth:u,glyphHeight:c,glyphLeft:h,glyphTop:p,glyphAdvance:f}=i.draw(s);return this.localGlyphs[i.fontWeight][r]={id:r,bitmap:new hu({width:o,height:l},a),metrics:{width:u/2,height:c/2,left:h/2,top:p/2-27,advance:f/2,localGlyph:!0}}}}function bp(t,e,r,n){const s=[],a=t.image,o=a.pixelRatio,l=a.paddedRect.w-2,u=a.paddedRect.h-2,c=t.right-t.left,h=t.bottom-t.top,p=a.stretchX||[[0,l]],f=a.stretchY||[[0,u]],d=(t,e)=>t+e[1]-e[0],y=p.reduce(d,0),m=f.reduce(d,0),g=l-y,x=u-m;let v=0,b=y,_=0,w=m,A=0,S=g,k=0,I=x;if(a.content&&n){const t=a.content;v=_p(p,0,t[0]),_=_p(f,0,t[1]),b=_p(p,t[0],t[2]),w=_p(f,t[1],t[3]),A=t[0]-v,k=t[1]-_,S=t[2]-t[0]-b,I=t[3]-t[1]-w;}const M=(n,s,l,u)=>{const p=Ap(n.stretch-v,b,c,t.left),f=Sp(n.fixed-A,S,n.stretch,y),d=Ap(s.stretch-_,w,h,t.top),g=Sp(s.fixed-k,I,s.stretch,m),x=Ap(l.stretch-v,b,c,t.left),M=Sp(l.fixed-A,S,l.stretch,y),z=Ap(u.stretch-_,w,h,t.top),T=Sp(u.fixed-k,I,u.stretch,m),B=new i(p,d),E=new i(x,d),C=new i(x,z),P=new i(p,z),D=new i(f/o,g/o),V=new i(M/o,T/o),F=e*Math.PI/180;if(F){const t=Math.sin(F),e=Math.cos(F),r=[e,-t,t,e];B._matMult(r),E._matMult(r),P._matMult(r),C._matMult(r);}const L=n.stretch+n.fixed,R=s.stretch+s.fixed;return {tl:B,tr:E,bl:P,br:C,tex:{x:a.paddedRect.x+1+L,y:a.paddedRect.y+1+R,w:l.stretch+l.fixed-L,h:u.stretch+u.fixed-R},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:D,pixelOffsetBR:V,minFontScaleX:S/o/c,minFontScaleY:I/o/h,isSDF:r}};if(n&&(a.stretchX||a.stretchY)){const t=wp(p,g,y),e=wp(f,x,m);for(let r=0;r<t.length-1;r++){const n=t[r],i=t[r+1];for(let t=0;t<e.length-1;t++)s.push(M(n,e[t],i,e[t+1]));}}else s.push(M({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:l+1},{fixed:0,stretch:u+1}));return s}function _p(t,e,r){let n=0;for(const i of t)n+=Math.max(e,Math.min(r,i[1]))-Math.max(e,Math.min(r,i[0]));return n}function wp(t,e,r){const n=[{fixed:-1,stretch:0}];for(const[e,r]of t){const t=n[n.length-1];n.push({fixed:e-t.stretch,stretch:t.stretch}),n.push({fixed:e-t.stretch,stretch:t.stretch+(r-e)});}return n.push({fixed:e+1,stretch:r}),n}function Ap(t,e,r,n){return t/e*r+n}function Sp(t,e,r,n){return t-e*r/n}function kp(t,e,r,n){const i=e+t.positionedLines[n].lineOffset;return 0===n?r+i/2:r+(i+(e+t.positionedLines[n-1].lineOffset))/2}vp.loadGlyphRange=function(t,e,r,n,i){const s=256*e,a=s+255,o=n.transformRequest(n.normalizeGlyphsURL(r).replace(\"{fontstack}\",t).replace(\"{range}\",`${s}-${a}`),zt.Glyphs);Ct(o,((t,e)=>{if(t)i(t);else if(e){const t={},r=function(t){return new xh(t).readFields(Rh,{})}(e);for(const e of r.glyphs)t[e.id]=e;i(null,{glyphs:t,ascender:r.ascender,descender:r.descender});}}));},vp.TinySDF=class{constructor({fontSize:t=24,buffer:e=3,radius:r=8,cutoff:n=.25,fontFamily:i=\"sans-serif\",fontWeight:s=\"normal\",fontStyle:a=\"normal\"}={}){this.buffer=e,this.cutoff=n,this.radius=r;const o=this.size=t+4*e,l=this._createCanvas(o),u=this.ctx=l.getContext(\"2d\",{willReadFrequently:!0});u.font=`${a} ${s} ${t}px ${i}`,u.textBaseline=\"alphabetic\",u.textAlign=\"left\",u.fillStyle=\"black\",this.gridOuter=new Float64Array(o*o),this.gridInner=new Float64Array(o*o),this.f=new Float64Array(o),this.z=new Float64Array(o+1),this.v=new Uint16Array(o);}_createCanvas(t){const e=document.createElement(\"canvas\");return e.width=e.height=t,e}draw(t){const{width:e,actualBoundingBoxAscent:r,actualBoundingBoxDescent:n,actualBoundingBoxLeft:i,actualBoundingBoxRight:s}=this.ctx.measureText(t),a=Math.ceil(r),o=Math.min(this.size-this.buffer,Math.ceil(s-i)),l=Math.min(this.size-this.buffer,a+Math.ceil(n)),u=o+2*this.buffer,c=l+2*this.buffer,h=Math.max(u*c,0),p=new Uint8ClampedArray(h),f={data:p,width:u,height:c,glyphWidth:o,glyphHeight:l,glyphTop:a,glyphLeft:0,glyphAdvance:e};if(0===o||0===l)return f;const{ctx:d,buffer:y,gridInner:m,gridOuter:g}=this;d.clearRect(y,y,o,l),d.fillText(t,y,y+a);const x=d.getImageData(y,y,o,l);g.fill(yp,0,h),m.fill(0,0,h);for(let t=0;t<l;t++)for(let e=0;e<o;e++){const r=x.data[4*(t*o+e)+3]/255;if(0===r)continue;const n=(t+y)*u+e+y;if(1===r)g[n]=0,m[n]=yp;else {const t=.5-r;g[n]=t>0?t*t:0,m[n]=t<0?t*t:0;}}mp(g,0,0,u,c,u,this.f,this.v,this.z),mp(m,y,y,o,l,u,this.f,this.v,this.z);for(let t=0;t<h;t++){const e=Math.sqrt(g[t])-Math.sqrt(m[t]);p[t]=Math.round(255-255*(e/this.radius+this.cutoff));}return f}};class Ip{constructor(t=[],e=Mp){if(this.data=t,this.length=this.data.length,this.compare=e,this.length>0)for(let t=(this.length>>1)-1;t>=0;t--)this._down(t);}push(t){this.data.push(t),this.length++,this._up(this.length-1);}pop(){if(0===this.length)return;const t=this.data[0],e=this.data.pop();return this.length--,this.length>0&&(this.data[0]=e,this._down(0)),t}peek(){return this.data[0]}_up(t){const{data:e,compare:r}=this,n=e[t];for(;t>0;){const i=t-1>>1,s=e[i];if(r(n,s)>=0)break;e[t]=s,t=i;}e[t]=n;}_down(t){const{data:e,compare:r}=this,n=this.length>>1,i=e[t];for(;t<n;){let n=1+(t<<1),s=e[n];const a=n+1;if(a<this.length&&r(e[a],s)<0&&(n=a,s=e[a]),r(s,i)>=0)break;e[t]=s,t=n;}e[t]=i;}}function Mp(t,e){return t<e?-1:t>e?1:0}function zp(t,e=1,r=!1){let n=1/0,s=1/0,a=-1/0,o=-1/0;const l=t[0];for(let t=0;t<l.length;t++){const e=l[t];(!t||e.x<n)&&(n=e.x),(!t||e.y<s)&&(s=e.y),(!t||e.x>a)&&(a=e.x),(!t||e.y>o)&&(o=e.y);}const u=Math.min(a-n,o-s);let c=u/2;const h=new Ip([],Tp);if(0===u)return new i(n,s);for(let e=n;e<a;e+=u)for(let r=s;r<o;r+=u)h.push(new Bp(e+c,r+c,c,t));let p=function(t){let e=0,r=0,n=0;const i=t[0];for(let t=0,s=i.length,a=s-1;t<s;a=t++){const s=i[t],o=i[a],l=s.x*o.y-o.x*s.y;r+=(s.x+o.x)*l,n+=(s.y+o.y)*l,e+=3*l;}return new Bp(r/e,n/e,0,t)}(t),f=h.length;for(;h.length;){const n=h.pop();(n.d>p.d||!p.d)&&(p=n,r&&console.log(\"found best %d after %d probes\",Math.round(1e4*n.d)/1e4,f)),n.max-p.d<=e||(c=n.h/2,h.push(new Bp(n.p.x-c,n.p.y-c,c,t)),h.push(new Bp(n.p.x+c,n.p.y-c,c,t)),h.push(new Bp(n.p.x-c,n.p.y+c,c,t)),h.push(new Bp(n.p.x+c,n.p.y+c,c,t)),f+=4);}return r&&(console.log(`num probes: ${f}`),console.log(`best distance: ${p.d}`)),p.p}function Tp(t,e){return e.max-t.max}function Bp(t,e,r,n){this.p=new i(t,e),this.h=r,this.d=function(t,e){let r=!1,n=1/0;for(let i=0;i<e.length;i++){const s=e[i];for(let e=0,i=s.length,a=i-1;e<i;a=e++){const i=s[e],o=s[a];i.y>t.y!=o.y>t.y&&t.x<(o.x-i.x)*(t.y-i.y)/(o.y-i.y)+i.x&&(r=!r),n=Math.min(n,rl(t,i,o));}}return (r?1:-1)*Math.sqrt(n)}(this.p,n),this.max=this.d+this.h*Math.SQRT2;}const Ep=Number.POSITIVE_INFINITY,Cp=Math.sqrt(2);function Pp(t,e){return e[1]!==Ep?function(t,e,r){let n=0,i=0;switch(e=Math.abs(e),r=Math.abs(r),t){case\"top-right\":case\"top-left\":case\"top\":i=r-7;break;case\"bottom-right\":case\"bottom-left\":case\"bottom\":i=7-r;}switch(t){case\"top-right\":case\"bottom-right\":case\"right\":n=-e;break;case\"top-left\":case\"bottom-left\":case\"left\":n=e;}return [n,i]}(t,e[0],e[1]):function(t,e){let r=0,n=0;e<0&&(e=0);const i=e/Cp;switch(t){case\"top-right\":case\"top-left\":n=i-7;break;case\"bottom-right\":case\"bottom-left\":n=7-i;break;case\"bottom\":n=7-e;break;case\"top\":n=e-7;}switch(t){case\"top-right\":case\"bottom-right\":r=-i;break;case\"top-left\":case\"bottom-left\":r=i;break;case\"left\":r=e;break;case\"right\":r=-e;}return [r,n]}(t,e[0])}function Dp(t,e,r,n,i,s,a,o,l,u){t.createArrays(),t.tilePixelRatio=wo/(512*t.overscaling),t.compareText={},t.iconsNeedLinear=!1;const c=t.layers[0].layout,h=t.layers[0]._unevaluatedLayout._values,p={};if(\"composite\"===t.textSizeData.kind){const{minZoom:e,maxZoom:r}=t.textSizeData;p.compositeTextSizes=[h[\"text-size\"].possiblyEvaluate(new Cs(e),o),h[\"text-size\"].possiblyEvaluate(new Cs(r),o)];}if(\"composite\"===t.iconSizeData.kind){const{minZoom:e,maxZoom:r}=t.iconSizeData;p.compositeIconSizes=[h[\"icon-size\"].possiblyEvaluate(new Cs(e),o),h[\"icon-size\"].possiblyEvaluate(new Cs(r),o)];}p.layoutTextSize=h[\"text-size\"].possiblyEvaluate(new Cs(l+1),o),p.layoutIconSize=h[\"icon-size\"].possiblyEvaluate(new Cs(l+1),o),p.textMaxSize=h[\"text-size\"].possiblyEvaluate(new Cs(18),o);const f=\"map\"===c.get(\"text-rotation-alignment\")&&\"point\"!==c.get(\"symbol-placement\"),d=c.get(\"text-size\");for(const s of t.features){const l=c.get(\"text-font\").evaluate(s,{},o).join(\",\"),h=d.evaluate(s,{},o),y=p.layoutTextSize.evaluate(s,{},o),m=(p.layoutIconSize.evaluate(s,{},o),{horizontal:{},vertical:void 0}),g=s.text;let x,v=[0,0];if(g){const n=g.toString(),a=c.get(\"text-letter-spacing\").evaluate(s,{},o)*ah,u=c.get(\"text-line-height\").evaluate(s,{},o)*ah,p=fs(n)?a:0,d=c.get(\"text-anchor\").evaluate(s,{},o),x=c.get(\"text-variable-anchor\");if(!x){const t=c.get(\"text-radial-offset\").evaluate(s,{},o);v=t?Pp(d,[t*ah,Ep]):c.get(\"text-offset\").evaluate(s,{},o).map((t=>t*ah));}let b=f?\"center\":c.get(\"text-justify\").evaluate(s,{},o);const _=c.get(\"symbol-placement\"),w=\"point\"===_,A=\"point\"===_?c.get(\"text-max-width\").evaluate(s,{},o)*ah:0,S=s=>{t.allowVerticalPlacement&&ps(n)&&(m.vertical=Xh(g,e,r,i,l,A,u,d,s,p,v,Nh.vertical,!0,_,y,h));};if(!f&&x){const t=\"auto\"===b?x.map((t=>Vp(t))):[b];let n=!1;for(let s=0;s<t.length;s++){const a=t[s];if(!m.horizontal[a])if(n)m.horizontal[a]=m.horizontal[0];else {const t=Xh(g,e,r,i,l,A,u,\"center\",a,p,v,Nh.horizontal,!1,_,y,h);t&&(m.horizontal[a]=t,n=1===t.positionedLines.length);}}S(\"left\");}else {if(\"auto\"===b&&(b=Vp(d)),w||c.get(\"text-writing-mode\").indexOf(\"horizontal\")>=0||!ps(n)){const t=Xh(g,e,r,i,l,A,u,d,b,p,v,Nh.horizontal,!1,_,y,h);t&&(m.horizontal[b]=t);}S(\"point\"===_?\"left\":b);}}let b=!1;if(s.icon&&s.icon.name){const e=n[s.icon.name];e&&(x=ip(i[s.icon.name],c.get(\"icon-offset\").evaluate(s,{},o),c.get(\"icon-anchor\").evaluate(s,{},o)),b=e.sdf,void 0===t.sdfIcons?t.sdfIcons=e.sdf:t.sdfIcons!==e.sdf&&E(\"Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer\"),(e.pixelRatio!==t.pixelRatio||0!==c.get(\"icon-rotate\").constantOr(1))&&(t.iconsNeedLinear=!0));}const _=Up(m.horizontal)||m.vertical;t.iconsInText||(t.iconsInText=!!_&&_.iconsInText),(_||x)&&Fp(t,s,m,x,n,p,y,0,v,b,a,o,u);}s&&t.generateCollisionDebugBuffers(l,t.collisionBoxArray);}function Vp(t){switch(t){case\"right\":case\"top-right\":case\"bottom-right\":return \"right\";case\"left\":case\"top-left\":case\"bottom-left\":return \"left\"}return \"center\"}function Fp(t,e,r,n,i,s,a,o,u,c,h,p,f){let d=s.textMaxSize.evaluate(e,{},p);void 0===d&&(d=a);const y=t.layers[0].layout,m=y.get(\"icon-offset\").evaluate(e,{},p),g=Up(r.horizontal)||r.vertical,x=\"globe\"===f.name,v=a/24,b=t.tilePixelRatio*d/24,_=(T=t.overscaling,t.zoom>18&&T>2&&(T>>=1),Math.max(wo/(512*T),1)*y.get(\"symbol-spacing\")),w=y.get(\"text-padding\")*t.tilePixelRatio,A=y.get(\"icon-padding\")*t.tilePixelRatio,S=l(y.get(\"text-max-angle\")),k=\"map\"===y.get(\"text-rotation-alignment\")&&\"point\"!==y.get(\"symbol-placement\"),I=\"map\"===y.get(\"icon-rotation-alignment\")&&\"point\"!==y.get(\"symbol-placement\"),M=y.get(\"symbol-placement\"),z=_/2;var T;const B=y.get(\"icon-text-fit\");let C;n&&\"none\"!==B&&(t.allowVerticalPlacement&&r.vertical&&(C=sp(n,r.vertical,B,y.get(\"icon-text-fit-padding\"),m,v)),g&&(n=sp(n,g,B,y.get(\"icon-text-fit-padding\"),m,v)));const P=(a,o,l)=>{if(o.x<0||o.x>=wo||o.y<0||o.y>=wo)return;let d=null;if(x){const{x:t,y:e,z:r}=f.projectTilePoint(o.x,o.y,l);d={anchor:new ap(t,e,r,0,void 0),up:f.upVector(l,o.x,o.y)};}!function(t,e,r,n,i,s,a,o,l,u,c,h,p,f,d,y,m,g,x,v,b,_,w,A,S){const k=t.addToLineVertexArray(e,n);let I,M,z,T,B,C,P,D=0,V=0,F=0,L=0,R=-1,U=-1;const j={};let $=Na(\"\");const O=r?r.anchor:e;let q=0,N=0;if(void 0===l._unevaluatedLayout.getValue(\"text-radial-offset\")?[q,N]=l.layout.get(\"text-offset\").evaluate(b,{},S).map((t=>t*ah)):(q=l.layout.get(\"text-radial-offset\").evaluate(b,{},S)*ah,N=Ep),t.allowVerticalPlacement&&i.vertical){const t=i.vertical;if(d)C=$p(t),o&&(P=$p(o));else {const r=l.layout.get(\"text-rotate\").evaluate(b,{},S)+90;z=jp(u,O,e,c,h,p,t,f,r,y),o&&(T=jp(u,O,e,c,h,p,o,g,r));}}if(s){const n=l.layout.get(\"icon-rotate\").evaluate(b,{},S),i=\"none\"!==l.layout.get(\"icon-text-fit\"),a=bp(s,n,w,i),f=o?bp(o,n,w,i):void 0;M=jp(u,O,e,c,h,p,s,g,n),D=4*a.length;const d=t.iconSizeData;let y=null;\"source\"===d.kind?(y=[oh*l.layout.get(\"icon-size\").evaluate(b,{},S)],y[0]>Lp&&E(`${t.layerIds[0]}: Value for \"icon-size\" is >= 255. Reduce your \"icon-size\".`)):\"composite\"===d.kind&&(y=[oh*_.compositeIconSizes[0].evaluate(b,{},S),oh*_.compositeIconSizes[1].evaluate(b,{},S)],(y[0]>Lp||y[1]>Lp)&&E(`${t.layerIds[0]}: Value for \"icon-size\" is >= 255. Reduce your \"icon-size\".`)),t.addSymbols(t.icon,a,y,v,x,b,!1,r,e,k.lineStartIndex,k.lineLength,-1,A,S),R=t.icon.placedSymbolArray.length-1,f&&(V=4*f.length,t.addSymbols(t.icon,f,y,v,x,b,Nh.vertical,r,e,k.lineStartIndex,k.lineLength,-1,A,S),U=t.icon.placedSymbolArray.length-1);}for(const n in i.horizontal){const s=i.horizontal[n];I||($=Na(s.text),d?B=$p(s):I=jp(u,O,e,c,h,p,s,f,l.layout.get(\"text-rotate\").evaluate(b,{},S),y));const o=1===s.positionedLines.length;if(F+=Rp(t,r,e,s,a,l,d,b,y,k,i.vertical?Nh.horizontal:Nh.horizontalOnly,o?Object.keys(i.horizontal):[n],j,R,_,A,S),o)break}i.vertical&&(L+=Rp(t,r,e,i.vertical,a,l,d,b,y,k,Nh.vertical,[\"vertical\"],j,U,_,A,S));let G=-1;const Z=(t,e)=>t?Math.max(t,e):e;G=Z(B,G),G=Z(C,G),G=Z(P,G);const X=G>-1?1:0;t.glyphOffsetArray.length>=Qf.MAX_GLYPHS&&E(\"Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907\"),void 0!==b.sortKey&&t.addToSortKeyRanges(t.symbolInstances.length,b.sortKey),t.symbolInstances.emplaceBack(O.x,O.y,O.z,e.x,e.y,j.right>=0?j.right:-1,j.center>=0?j.center:-1,j.left>=0?j.left:-1,j.vertical>=0?j.vertical:-1,R,U,$,void 0!==I?I:t.collisionBoxArray.length,void 0!==I?I+1:t.collisionBoxArray.length,void 0!==z?z:t.collisionBoxArray.length,void 0!==z?z+1:t.collisionBoxArray.length,void 0!==M?M:t.collisionBoxArray.length,void 0!==M?M+1:t.collisionBoxArray.length,T||t.collisionBoxArray.length,T?T+1:t.collisionBoxArray.length,c,F,L,D,V,X,0,q,N,G);}(t,o,d,a,r,n,i,C,t.layers[0],t.collisionBoxArray,e.index,e.sourceLayerIndex,t.index,w,k,u,0,A,I,m,e,s,c,h,p);};if(\"line\"===M)for(const i of dp(e.geometry,0,0,wo,wo)){const e=pp(i,_,S,r.vertical||g,n,24,b,t.overscaling,wo);for(const r of e){const e=g;e&&Op(t,e.text,z,r)||P(i,r,p);}}else if(\"line-center\"===M){for(const t of e.geometry)if(t.length>1){const e=hp(t,S,r.vertical||g,n,24,b);e&&P(t,e,p);}}else if(\"Polygon\"===e.type)for(const t of Yu(e.geometry,0)){const e=zp(t,16);P(t[0],new ap(e.x,e.y,0,0,void 0),p);}else if(\"LineString\"===e.type)for(const t of e.geometry)P(t,new ap(t[0].x,t[0].y,0,0,void 0),p);else if(\"Point\"===e.type)for(const t of e.geometry)for(const e of t)P([e],new ap(e.x,e.y,0,0,void 0),p);}const Lp=32640;function Rp(t,e,r,n,s,a,o,l,u,c,h,p,f,d,y,m,g){const x=function(t,e,r,n,s,a,o,l){const u=[];if(0===e.positionedLines.length)return u;const c=n.layout.get(\"text-rotate\").evaluate(a,{})*Math.PI/180,h=function(t){const e=t[0],r=t[1],n=e*r;return n>0?[e,-r]:n<0?[-e,r]:0===e?[r,e]:[r,-e]}(r);let p=Math.abs(e.top-e.bottom);for(const t of e.positionedLines)p-=t.lineOffset;const f=e.positionedLines.length,d=p/f;let y=e.top-r[1];for(let t=0;t<f;++t){const n=e.positionedLines[t];y=kp(e,d,y,t);for(const t of n.positionedGlyphs){if(!t.rect)continue;const n=t.rect||{};let a=4,p=!0,f=1,d=0;if(t.imageName){const e=o[t.imageName];if(!e)continue;if(e.sdf){E(\"SDF images are not supported in formatted text and will be ignored.\");continue}p=!1,f=e.pixelRatio,a=1/f;}const m=(s||l)&&t.vertical,g=t.metrics.advance*t.scale/2,x=t.metrics,v=t.rect;if(null===v)continue;l&&e.verticalizable&&(d=t.imageName?g-t.metrics.width*t.scale/2:0);const b=s?[t.x+g,t.y]:[0,0];let _=[0,0],w=[0,0],A=!1;s||(m?(w=[t.x+g+h[0],t.y+h[1]-d],A=!0):_=[t.x+g+r[0],t.y+r[1]-d]);const S=v.w*t.scale/(f*(t.localGlyph?2:1)),k=v.h*t.scale/(f*(t.localGlyph?2:1));let I,M,z,T;if(m){const e=t.y-y,r=new i(-g,g-e),n=-Math.PI/2,s=new i(...w);I=new i(-g+_[0],_[1]),I._rotateAround(n,r)._add(s),I.x+=-e+g,I.y-=(x.left-a)*t.scale;const o=t.imageName?x.advance*t.scale:ah*t.scale,l=String.fromCharCode(t.glyph);dh(l)?I.x+=(1-a)*t.scale:yh(l)?I.x+=o-x.height*t.scale+(-a-1)*t.scale:I.x+=t.imageName||x.width+2*a===v.w&&x.height+2*a===v.h?(o-k)/2:(o-(x.height+2*a)*t.scale)/2,M=new i(I.x,I.y-S),z=new i(I.x+k,I.y),T=new i(I.x+k,I.y-S);}else {const e=(x.left-a)*t.scale-g+_[0],r=(-x.top-a)*t.scale+_[1],n=e+S,s=r+k;I=new i(e,r),M=new i(n,r),z=new i(e,s),T=new i(n,s);}if(c){let t;t=s?new i(0,0):A?new i(h[0],h[1]):new i(r[0],r[1]),I._rotateAround(c,t),M._rotateAround(c,t),z._rotateAround(c,t),T._rotateAround(c,t);}const B=new i(0,0),C=new i(0,0);u.push({tl:I,tr:M,bl:z,br:T,tex:n,writingMode:e.writingMode,glyphOffset:b,sectionIndex:t.sectionIndex,isSDF:p,pixelOffsetTL:B,pixelOffsetBR:C,minFontScaleX:0,minFontScaleY:0});}}return u}(0,n,u,a,o,l,s,t.allowVerticalPlacement),v=t.textSizeData;let b=null;\"source\"===v.kind?(b=[oh*a.layout.get(\"text-size\").evaluate(l,{},g)],b[0]>Lp&&E(`${t.layerIds[0]}: Value for \"text-size\" is >= 255. Reduce your \"text-size\".`)):\"composite\"===v.kind&&(b=[oh*y.compositeTextSizes[0].evaluate(l,{},g),oh*y.compositeTextSizes[1].evaluate(l,{},g)],(b[0]>Lp||b[1]>Lp)&&E(`${t.layerIds[0]}: Value for \"text-size\" is >= 255. Reduce your \"text-size\".`)),t.addSymbols(t.text,x,b,u,o,l,h,e,r,c.lineStartIndex,c.lineLength,d,m,g);for(const e of p)f[e]=t.text.placedSymbolArray.length-1;return 4*x.length}function Up(t){for(const e in t)return t[e];return null}function jp(t,e,r,n,s,a,o,u,c,h){let p=o.top,f=o.bottom,d=o.left,y=o.right;const m=o.collisionPadding;if(m&&(d-=m[0],p-=m[1],y+=m[2],f+=m[3]),c){const t=new i(d,p),e=new i(y,p),r=new i(d,f),n=new i(y,f),s=l(c);let a=new i(0,0);h&&(a=new i(h[0],h[1])),t._rotateAround(s,a),e._rotateAround(s,a),r._rotateAround(s,a),n._rotateAround(s,a),d=Math.min(t.x,e.x,r.x,n.x),y=Math.max(t.x,e.x,r.x,n.x),p=Math.min(t.y,e.y,r.y,n.y),f=Math.max(t.y,e.y,r.y,n.y);}return t.emplaceBack(e.x,e.y,e.z,r.x,r.y,d,p,y,f,u,n,s,a),t.length-1}function $p(t){t.collisionPadding&&(t.top-=t.collisionPadding[1],t.bottom+=t.collisionPadding[3]);const e=t.bottom-t.top;return e>0?Math.max(10,e):null}function Op(t,e,r,n){const i=t.compareText;if(e in i){const t=i[e];for(let e=t.length-1;e>=0;e--)if(n.dist(t[e])<r)return !0}else i[e]=[];return i[e].push(n),!1}const qp=Ws([{type:\"Float32\",name:\"a_globe_pos\",components:3},{type:\"Float32\",name:\"a_uv\",components:2}]),{members:Np}=qp,Gp=Ws([{name:\"a_pos_3\",components:3,type:\"Int16\"}]);var Zp=Ws([{name:\"a_pos\",type:\"Int16\",components:2}]);const Xp=wo/Math.PI/2,Kp=2*Bo(1,0)*Xp*Math.PI,Hp=[64,32,16],Yp=-Xp,Wp=Xp,Jp=[new eu([Yp,Yp,Yp],[Wp,Wp,Wp]),new eu([Yp,Yp,Yp],[0,0,Wp]),new eu([0,Yp,Yp],[Wp,0,Wp]),new eu([Yp,0,Yp],[0,Wp,Wp]),new eu([0,0,Yp],[Wp,Wp,Wp])];function Qp(t,e,r,n=!0){const i=Vl([],t._camera.position,t.worldSize),s=[e,r,1,1];Xl(s,s,t.pixelMatrixInverse),Zl(s,s,1/s[3]);const a=Ll([],ql([],s,i)),o=t.globeMatrix,l=[o[12],o[13],o[14]],c=ql([],l,i),h=zl(c),p=Ll([],c),f=t.worldSize/(2*Math.PI),y=Rl(p,a),m=Math.asin(f/h);if(m<Math.acos(y)){if(!n)return null;const t=[],e=[];Vl(t,a,h/y),Ll(e,ql(e,t,c)),Ll(a,Bl(a,c,Vl(a,e,Math.tan(m)*h)));}const g=[];new Jl(i,a).closestPointOnSphere(l,f,g);const x=Ll([],U(o,0)),v=Ll([],U(o,1)),b=Ll([],U(o,2)),_=Rl(x,g),w=Rl(v,g),A=Rl(b,g),S=u(Math.asin(-w/f));let k=u(Math.atan2(_,A));k=t.center.lng+function(t,e){const r=(e-t+180)%360-180;return r<-180?r+360:r}(t.center.lng,k);const I=zo(k),M=d(To(S),0,1);return new Fo(I,M)}class tf{constructor(t,e,r){this.a=ql([],t,r),this.b=ql([],e,r),this.center=r;const n=Ll([],this.a),i=Ll([],this.b);this.angle=Math.acos(Rl(n,i));}}function ef(t,e){if(0===t.angle)return null;let r;return r=0===t.a[e]?1/t.angle*.5*Math.PI:1/t.angle*Math.atan(t.b[e]/t.a[e]/Math.sin(t.angle)-1/Math.tan(t.angle)),r<0||r>1?null:function(t,e,r,n){const i=Math.sin(r);return t*(Math.sin((1-n)*r)/i)+e*(Math.sin(n*r)/i)}(t.a[e],t.b[e],t.angle,d(r,0,1))+t.center[e]}function rf(t){if(t.z<=1)return Jp[t.z+2*t.y+t.x];const e=lf(of(t));return eu.fromPoints(e)}function nf(t,e){const r=gf(e.zoom);if(0===r)return rf(t);const n=of(t),i=lf(n),s=zo(n.getWest())*e.worldSize,a=zo(n.getEast())*e.worldSize,o=To(n.getNorth())*e.worldSize,l=To(n.getSouth())*e.worldSize,u=[s,o,0],c=[a,o,0],h=[s,l,0],p=[a,l,0],f=gl([],e.globeMatrix);return jl(u,u,f),jl(c,c,f),jl(h,h,f),jl(p,p,f),i[0]=vr(i[0],h,r),i[1]=vr(i[1],p,r),i[2]=vr(i[2],c,r),i[3]=vr(i[3],u,r),eu.fromPoints(i)}function sf(t,e,r,n,i){for(const s of r)jl(s,s,n),Vl(s,s,i),Pl(t,t,s),Dl(e,e,s);}function af(t,e,r){const n=e/t.worldSize,i=Number.MAX_VALUE,s=[-i,-i,-i],a=[i,i,i],o=t.globeMatrix;if(r.z<=1)return sf(a,s,rf(r).getCorners(),o,n),new eu(a,s);const u=of(r),c=lf(u);if(sf(a,s,c,o,n),u.contains(t.center)){s[2]=0;const e=t.point,r=[e.x*n,e.y*n,0];return Pl(a,a,r),Dl(s,s,r),new eu(a,s)}const h=[o[12]*n,o[13]*n,o[14]*n],p=u.getCenter(),f=d(t.center.lat,-85.051129,Do),y=d(p.lat,-85.051129,Do),m=zo(t.center.lng),g=To(f);let x=m-zo(p.lng);const v=g-To(y);x>.5?x-=1:x<-.5&&(x+=1);let b=0;Math.abs(x)>Math.abs(v)?b=x>=0?1:3:(b=v>=0?0:2,Fl(h,h,[o[4]*n,o[5]*n,o[6]*n],-Math.sin(l(v>=0?u.getSouth():u.getNorth()))*Xp));const _=c[b],w=c[(b+1)%4],A=new tf(_,w,h),S=[ef(A,0)||_[0],ef(A,1)||_[1],ef(A,2)||_[2]];return a[2]=Math.min(_[2],w[2]),Pl(a,a,S),Dl(s,s,S),new eu(a,s)}function of({x:t,y:e,z:r}){const n=1/(1<<r),i=new ko(Eo(t*n),Co((e+1)*n)),s=new ko(Eo((t+1)*n),Co(e*n));return new Ao(i,s)}function lf(t){const e=l(t.getNorth()),r=l(t.getSouth()),n=Math.cos(e),i=Math.cos(r),s=Math.sin(e),a=Math.sin(r),o=t.getWest(),u=t.getEast();return [uf(i,a,o),uf(i,a,u),uf(n,s,u),uf(n,s,o)]}function uf(t,e,r,n=Xp){return r=l(r),[t*Math.sin(r)*n,-e*n,t*Math.cos(r)*n]}function cf(t,e,r){return uf(Math.cos(l(t)),Math.sin(l(t)),e,r)}function hf(t,e,r,n){const i=1<<r.z,s=(t/wo+r.x)/i;return cf(Co((e/wo+r.y)/i),Eo(s),n)}function pf({min:t,max:e}){return 16383/Math.max(e[0]-t[0],e[1]-t[1],e[2]-t[2])}const ff=new Float64Array(16);function df(t){const e=pf(t),r=Al(ff,[e,e,e]);return vl(r,r,((n=[])[0]=-(i=t.min)[0],n[1]=-i[1],n[2]=-i[2],n));var n,i;}function yf(t){const e=(n=t.min,(r=ff)[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=n[0],r[13]=n[1],r[14]=n[2],r[15]=1,r);var r,n;const i=1/pf(t);return bl(e,e,[i,i,i])}function mf(t,e,r,n,i){const s=function(t){const e=wo/(2*Math.PI);return t/(2*Math.PI)/e}(r),a=[t,e,-r/(2*Math.PI)],o=ml(new Float64Array(16));return vl(o,o,a),bl(o,o,[s,s,s]),_l(o,o,l(-i)),wl(o,o,l(-n)),o}function gf(t){return y(5,6,t)}function xf(t,e){const r=cf(e.lat,e.lng);return s=(n=El([],function(t){const e=cf(t._center.lat,t._center.lng);let r=Ul([],Tl(0,1,0),e);const n=Sl([],-t.angle,e);r=jl(r,r,n),Sl(n,-t._pitch,r);const i=Ll([],e);return Vl(i,i,t.cameraToCenterDistance/t.pixelsPerMeter*Kp),jl(i,i,n),Bl([],e,i)}(t),r))[0],a=n[1],o=n[2],l=(i=r)[0],u=i[1],c=i[2],p=(h=Math.sqrt(s*s+a*a+o*o)*Math.sqrt(l*l+u*u+c*c))&&Rl(n,i)/h,Math.acos(Math.min(Math.max(p,-1),1));var n,i,s,a,o,l,u,c,h,p;}const vf=l(85),bf=Math.cos(vf),_f=Math.sin(vf);function wf(t,e){const r=t.fovAboveCenter,n=t.elevation?t.elevation.getMinElevationBelowMSL()*e:0,i=(t._camera.position[2]*t.worldSize-n)/Math.cos(t._pitch),s=Math.sin(r)*i/Math.sin(Math.max(Math.PI/2-t._pitch-r,.01)),a=Math.sin(t._pitch)*s+i;return Math.min(1.01*a,i*(1/t._horizonShift))}function Af(t,e){if(!e.isReprojectedInTileSpace)return {scale:1<<t.z,x:t.x,y:t.y,x2:t.x+1,y2:t.y+1,projection:e};const r=Math.pow(2,-t.z),n=t.x*r,i=(t.x+1)*r,s=t.y*r,a=(t.y+1)*r,o=Eo(n),l=Eo(i),u=Co(s),c=Co(a),h=e.project(o,u),p=e.project(l,u),f=e.project(l,c),d=e.project(o,c);let y=Math.min(h.x,p.x,f.x,d.x),m=Math.min(h.y,p.y,f.y,d.y),g=Math.max(h.x,p.x,f.x,d.x),x=Math.max(h.y,p.y,f.y,d.y);const v=r/16;function b(t,r,n,i,s,a){const o=(n+s)/2,l=(i+a)/2,u=e.project(Eo(o),Co(l)),c=Math.max(0,y-u.x,m-u.y,u.x-g,u.y-x);y=Math.min(y,u.x),g=Math.max(g,u.x),m=Math.min(m,u.y),x=Math.max(x,u.y),c>v&&(b(t,u,n,i,o,l),b(u,r,o,l,s,a));}b(h,p,n,s,i,s),b(p,f,i,s,i,a),b(f,d,i,a,n,a),b(d,h,n,a,n,s),y-=v,m-=v,g+=v,x+=v;const _=1/Math.max(g-y,x-m);return {scale:_,x:y*_,y:m*_,x2:g*_,y2:x*_,projection:e}}const Sf=ml(new Float32Array(16));class kf{constructor(t){this.spec=t,this.name=t.name,this.wrap=!1,this.requiresDraping=!1,this.supportsWorldCopies=!1,this.supportsTerrain=!1,this.supportsFog=!1,this.supportsFreeCamera=!1,this.zAxisUnit=\"meters\",this.isReprojectedInTileSpace=!0,this.unsupportedLayers=[\"custom\"],this.center=[0,0],this.range=[3.5,7];}project(t,e){return {x:0,y:0,z:0}}unproject(t,e){return new ko(0,0)}projectTilePoint(t,e,r){return {x:t,y:e,z:0}}locationPoint(t,e,r=!0){return t._coordinatePoint(t.locationCoordinate(e),r)}pixelsPerMeter(t,e){return Bo(1,t)*e}pixelSpaceConversion(t,e,r){return 1}farthestPixelDistance(t){return wf(t,t.pixelsPerMeter)}pointCoordinate(t,e,r,n){const s=t.horizonLineFromTop(!1),a=new i(e,Math.max(s,r));return t.rayIntersectionCoordinate(t.pointRayIntersection(a,n))}pointCoordinate3D(t,e,r){const n=new i(e,r);if(t.elevation)return t.elevation.pointCoordinate(n);{const e=this.pointCoordinate(t,n.x,n.y,0);return [e.x,e.y,e.z]}}isPointAboveHorizon(t,e){if(t.elevation)return !this.pointCoordinate3D(t,e.x,e.y);const r=t.horizonLineFromTop();return e.y<r}createInversionMatrix(t,e){return Sf}createTileMatrix(t,e,r){let n,i,s;const a=r.canonical,o=ml(new Float64Array(16));if(this.isReprojectedInTileSpace){const l=Af(a,this);n=1,i=l.x+r.wrap*l.scale,s=l.y,bl(o,o,[n/l.scale,n/l.scale,t.pixelsPerMeter/e]);}else n=e/t.zoomScale(a.z),i=(a.x+Math.pow(2,a.z)*r.wrap)*n,s=a.y*n;return vl(o,o,[i,s,0]),bl(o,o,[n/wo,n/wo,1]),o}upVector(t,e,r){return [0,0,1]}upVectorScale(t,e,r){return {metersToTile:1}}}class If extends kf{constructor(t){super(t),this.range=[4,7],this.center=t.center||[-96,37.5];const[e,r]=this.parallels=t.parallels||[29.5,45.5],n=Math.sin(l(e));this.n=(n+Math.sin(l(r)))/2,this.c=1+n*(2*this.n-n),this.r0=Math.sqrt(this.c)/this.n;}project(t,e){const{n:r,c:n,r0:i}=this,s=l(t-this.center[0]),a=l(e),o=Math.sqrt(n-2*r*Math.sin(a))/r;return {x:o*Math.sin(s*r),y:o*Math.cos(s*r)-i,z:0}}unproject(t,e){const{n:r,c:n,r0:i}=this,s=i+e;let a=Math.atan2(t,Math.abs(s))*Math.sign(s);s*r<0&&(a-=Math.PI*Math.sign(t)*Math.sign(s));const o=l(this.center[0])*r;a=m(a,-Math.PI-o,Math.PI-o);const c=u(a/r)+this.center[0],h=Math.asin(d((n-(t*t+s*s)*r*r)/(2*r),-1,1)),p=d(u(h),-85.051129,Do);return new ko(c,p)}}const Mf=1.340264,zf=-.081106,Tf=893e-6,Bf=.003796,Ef=Math.sqrt(3)/2;class Cf extends kf{project(t,e){e=e/180*Math.PI,t=t/180*Math.PI;const r=Math.asin(Ef*Math.sin(e)),n=r*r,i=n*n*n;return {x:.5*(t*Math.cos(r)/(Ef*(Mf+3*zf*n+i*(7*Tf+9*Bf*n)))/Math.PI+.5),y:1-.5*(r*(Mf+zf*n+i*(Tf+Bf*n))/Math.PI+1),z:0}}unproject(t,e){t=(2*t-.5)*Math.PI;let r=e=(2*(1-e)-1)*Math.PI,n=r*r,i=n*n*n;for(let t,s,a,o=0;o<12&&(s=r*(Mf+zf*n+i*(Tf+Bf*n))-e,a=Mf+3*zf*n+i*(7*Tf+9*Bf*n),t=s/a,r=d(r-t,-Math.PI/3,Math.PI/3),n=r*r,i=n*n*n,!(Math.abs(t)<1e-12));++o);const s=Ef*t*(Mf+3*zf*n+i*(7*Tf+9*Bf*n))/Math.cos(r),a=Math.asin(Math.sin(r)/Ef),o=d(180*s/Math.PI,-180,180),l=d(180*a/Math.PI,-85.051129,Do);return new ko(o,l)}}class Pf extends kf{constructor(t){super(t),this.wrap=!0,this.supportsWorldCopies=!0;}project(t,e){return {x:.5+t/360,y:.5-e/360,z:0}}unproject(t,e){const r=360*(t-.5),n=d(360*(.5-e),-85.051129,Do);return new ko(r,n)}}const Df=Math.PI/2;function Vf(t){return Math.tan((Df+t)/2)}class Ff extends kf{constructor(t){super(t),this.center=t.center||[0,30];const[e,r]=this.parallels=t.parallels||[30,30],n=l(e),i=l(r),s=Math.cos(n);this.n=n===i?Math.sin(n):Math.log(s/Math.cos(i))/Math.log(Vf(i)/Vf(n)),this.f=s*Math.pow(Vf(n),this.n)/this.n;}project(t,e){e=l(e),t=l(t-this.center[0]);const r=1e-6,{n:n,f:i}=this;i>0?e<-Df+r&&(e=-Df+r):e>Df-r&&(e=Df-r);const s=i/Math.pow(Vf(e),n),a=s*Math.sin(n*t),o=i-s*Math.cos(n*t);return {x:.5*(a/Math.PI+.5),y:1-.5*(o/Math.PI+.5),z:0}}unproject(t,e){t=(2*t-.5)*Math.PI,e=(2*(1-e)-.5)*Math.PI;const{n:r,f:n}=this,i=n-e,s=Math.sign(i),a=Math.sign(r)*Math.sqrt(t*t+i*i);let o=Math.atan2(t,Math.abs(i))*s;i*r<0&&(o-=Math.PI*Math.sign(t)*s);const l=d(u(o/r)+this.center[0],-180,180),c=d(u(2*Math.atan(Math.pow(n/a,1/r))-Df),-85.051129,Do);return new ko(l,c)}}class Lf extends kf{constructor(t){super(t),this.wrap=!0,this.supportsWorldCopies=!0,this.supportsTerrain=!0,this.supportsFog=!0,this.supportsFreeCamera=!0,this.isReprojectedInTileSpace=!1,this.unsupportedLayers=[],this.range=null;}project(t,e){return {x:zo(t),y:To(e),z:0}}unproject(t,e){const r=Eo(t),n=Co(e);return new ko(r,n)}}const Rf=l(Do);class Uf extends kf{project(t,e){const r=(e=l(e))*e,n=r*r;return {x:.5*((t=l(t))*(.8707-.131979*r+n*(n*(.003971*r-.001529*n)-.013791))/Math.PI+.5),y:1-.5*(e*(1.007226+r*(.015085+n*(.028874*r-.044475-.005916*n)))/Math.PI+1),z:0}}unproject(t,e){t=(2*t-.5)*Math.PI;let r=e=(2*(1-e)-1)*Math.PI,n=25,i=0,s=r*r;do{s=r*r;const t=s*s;i=(r*(1.007226+s*(.015085+t*(.028874*s-.044475-.005916*t)))-e)/(1.007226+s*(.045255+t*(.259866*s-.311325-.005916*11*t))),r=d(r-i,-Rf,Rf);}while(Math.abs(i)>1e-6&&--n>0);s=r*r;const a=d(u(t/(.8707+s*(s*(s*s*s*(.003971-.001529*s)-.013791)-.131979))),-180,180),o=u(r);return new ko(a,o)}}const jf=l(Do);class $f extends kf{project(t,e){e=l(e),t=l(t);const r=Math.cos(e),n=2/Math.PI,i=Math.acos(r*Math.cos(t/2)),s=Math.sin(i)/i,a=.5*(t*n+2*r*Math.sin(t/2)/s)||0,o=.5*(e+Math.sin(e)/s)||0;return {x:.5*(a/Math.PI+.5),y:1-.5*(o/Math.PI+1),z:0}}unproject(t,e){let r=t=(2*t-.5)*Math.PI,n=e=(2*(1-e)-1)*Math.PI,i=25;const s=1e-6;let a=0,o=0;do{const i=Math.cos(n),s=Math.sin(n),l=2*s*i,u=s*s,c=i*i,h=Math.cos(r/2),p=Math.sin(r/2),f=2*h*p,y=p*p,m=1-c*h*h,g=m?1/m:0,x=m?Math.acos(i*h)*Math.sqrt(1/m):0,v=.5*(2*x*i*p+2*r/Math.PI)-t,b=.5*(x*s+n)-e,_=.5*g*(c*y+x*i*h*u)+1/Math.PI,w=g*(f*l/4-x*s*p),A=.125*g*(l*p-x*s*c*f),S=.5*g*(u*h+x*y*i)+.5,k=w*A-S*_;a=(b*w-v*S)/k,o=(v*A-b*_)/k,r=d(r-a,-Math.PI,Math.PI),n=d(n-o,-jf,jf);}while((Math.abs(a)>s||Math.abs(o)>s)&&--i>0);return new ko(u(r),u(n))}}class Of extends kf{constructor(t){super(t),this.center=t.center||[0,0],this.parallels=t.parallels||[0,0],this.cosPhi=Math.max(.01,Math.cos(l(this.parallels[0]))),this.scale=1/(2*Math.max(Math.PI*this.cosPhi,1/this.cosPhi)),this.wrap=!0,this.supportsWorldCopies=!0;}project(t,e){const{scale:r,cosPhi:n}=this;return {x:l(t)*n*r+.5,y:-Math.sin(l(e))/n*r+.5,z:0}}unproject(t,e){const{scale:r,cosPhi:n}=this,i=-(e-.5)/r,s=d(u((t-.5)/r)/n,-180,180),a=Math.asin(d(i*n,-1,1)),o=d(u(a),-85.051129,Do);return new ko(s,o)}}class qf extends Lf{constructor(t){super(t),this.requiresDraping=!0,this.supportsWorldCopies=!1,this.supportsFog=!0,this.zAxisUnit=\"pixels\",this.unsupportedLayers=[\"debug\",\"custom\"],this.range=[3,5];}projectTilePoint(t,e,r){const n=hf(t,e,r);return jl(n,n,df(rf(r))),{x:n[0],y:n[1],z:n[2]}}locationPoint(t,e){const r=cf(e.lat,e.lng),n=Ll([],r),s=t.elevation?t.elevation.getAtPointOrZero(t.locationCoordinate(e),t._centerAltitude):t._centerAltitude;Fl(r,r,n,Bo(1,0)*wo*s);const a=ml(new Float64Array(16));return xl(a,t.pixelMatrix,t.globeMatrix),jl(r,r,a),new i(r[0],r[1])}pixelsPerMeter(t,e){return Bo(1,0)*e}pixelSpaceConversion(t,e,r){const n=xr(Bo(1,45)*e,Bo(1,t)*e,r);return this.pixelsPerMeter(t,e)/n}createTileMatrix(t,e,r){const n=yf(rf(r.canonical));return xl(new Float64Array(16),t.globeMatrix,n)}createInversionMatrix(t,e){const{center:r}=t,n=df(rf(e));return wl(n,n,l(r.lng)),_l(n,n,l(r.lat)),bl(n,n,[t._pixelsPerMercatorPixel,t._pixelsPerMercatorPixel,1]),Float32Array.from(n)}pointCoordinate(t,e,r,n){return Qp(t,e,r,!0)||new Fo(0,0)}pointCoordinate3D(t,e,r){const n=this.pointCoordinate(t,e,r,0);return [n.x,n.y,n.z]}isPointAboveHorizon(t,e){return !Qp(t,e.x,e.y,!1)}farthestPixelDistance(t){const e=function(t,e){const r=t.cameraToCenterDistance,n=t._centerAltitude*e,i=t._camera,s=t._camera.forward(),a=Bl([],Vl([],s,-r),[0,0,n]),o=t.worldSize/(2*Math.PI),l=[0,0,-o],u=t.width/t.height,c=Math.tan(t.fovAboveCenter),h=Vl([],i.up(),c),p=Vl([],i.right(),c*u),f=Ll([],Bl([],Bl([],s,h),p)),d=[];let y;if(new Jl(a,f).closestPointOnSphere(l,o,d)){const e=Bl([],d,l),r=ql([],e,a);y=Math.cos(t.fovAboveCenter)*zl(r);}else {const t=ql([],a,l),e=ql([],l,a);Ll(e,e);const r=zl(t)-o;y=Math.sqrt(r*(r+2*o));const n=Math.acos(y/(o+r))-Math.acos(Rl(s,e));y*=Math.cos(n);}return 1.01*y}(t,this.pixelsPerMeter(t.center.lat,t.worldSize)),r=gf(t.zoom);if(r>0){const n=wf(t,Bo(1,t.center.lat)*t.worldSize),i=t.worldSize/(2*Math.PI),s=Math.max(t.width,t.height)/t.worldSize*Math.PI;return xr(e,n+i*(1-Math.cos(s)),Math.pow(r,10))}return e}upVector(t,e,r){return hf(e,r,t,1)}upVectorScale(t){return {metersToTile:Kp*pf(rf(t))}}}function Nf(t){const e=t.parallels,r=!!e&&Math.abs(e[0]+e[1])<.01;switch(t.name){case\"mercator\":return new Lf(t);case\"equirectangular\":return new Pf(t);case\"naturalEarth\":return new Uf(t);case\"equalEarth\":return new Cf(t);case\"winkelTripel\":return new $f(t);case\"albers\":return r?new Of(t):new If(t);case\"lambertConformalConic\":return r?new Of(t):new Ff(t);case\"globe\":return new qf(t)}throw new Error(`Invalid projection name: ${t.name}`)}const Gf=yc.VectorTileFeature.types,Zf=[{name:\"a_fade_opacity\",components:1,type:\"Uint8\",offset:0}];function Xf(t,e,r,n,i,s,a,o,l,u,c,h,p){const f=o?Math.min(Lp,Math.round(o[0])):0,d=o?Math.min(Lp,Math.round(o[1])):0;t.emplaceBack(e,r,Math.round(32*n),Math.round(32*i),s,a,(f<<1)+(l?1:0),d,16*u,16*c,256*h,256*p);}function Kf(t,e,r,n,i,s,a){t.emplaceBack(e,r,n,i,s,a);}function Hf(t,e,r,n,i){t.emplaceBack(e,r,n,i),t.emplaceBack(e,r,n,i),t.emplaceBack(e,r,n,i),t.emplaceBack(e,r,n,i);}function Yf(t){for(const e of t.sections)if(vs(e.text))return !0;return !1}class Wf{constructor(t){this.layoutVertexArray=new oa,this.indexArray=new ya,this.programConfigurations=t,this.segments=new _o,this.dynamicLayoutVertexArray=new na,this.opacityVertexArray=new ua,this.placedSymbolArray=new Ta,this.globeExtVertexArray=new la;}isEmpty(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length}upload(t,e,r,n){this.isEmpty()||(r&&(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Qc.members),this.indexBuffer=t.createIndexBuffer(this.indexArray,e),this.dynamicLayoutVertexBuffer=t.createVertexBuffer(this.dynamicLayoutVertexArray,eh.members,!0),this.opacityVertexBuffer=t.createVertexBuffer(this.opacityVertexArray,Zf,!0),this.globeExtVertexArray.length>0&&(this.globeExtVertexBuffer=t.createVertexBuffer(this.globeExtVertexArray,th.members,!0)),this.opacityVertexBuffer.itemSize=1),(r||n)&&this.programConfigurations.upload(t));}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy());}}Pi(Wf,\"SymbolBuffers\");class Jf{constructor(t,e,r){this.layoutVertexArray=new t,this.layoutAttributes=e,this.indexArray=new r,this.segments=new _o,this.collisionVertexArray=new fa,this.collisionVertexArrayExt=new da;}upload(t){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=t.createVertexBuffer(this.collisionVertexArray,rh.members,!0),this.collisionVertexBufferExt=t.createVertexBuffer(this.collisionVertexArrayExt,nh.members,!0);}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy(),this.collisionVertexBufferExt.destroy());}}Pi(Jf,\"CollisionBuffers\");class Qf{constructor(t){this.collisionBoxArray=t.collisionBoxArray,this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((t=>t.id)),this.index=t.index,this.pixelRatio=t.pixelRatio,this.sourceLayerIndex=t.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.fullyClipped=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=ml([]),this.placementViewportMatrix=ml([]);const e=this.layers[0]._unevaluatedLayout._values;this.textSizeData=lh(this.zoom,e[\"text-size\"]),this.iconSizeData=lh(this.zoom,e[\"icon-size\"]);const r=this.layers[0].layout,n=r.get(\"symbol-sort-key\"),i=r.get(\"symbol-z-order\");this.canOverlap=r.get(\"text-allow-overlap\")||r.get(\"icon-allow-overlap\")||r.get(\"text-ignore-placement\")||r.get(\"icon-ignore-placement\"),this.sortFeaturesByKey=\"viewport-y\"!==i&&void 0!==n.constantOr(1),this.sortFeaturesByY=(\"viewport-y\"===i||\"auto\"===i&&!this.sortFeaturesByKey)&&this.canOverlap,this.writingModes=r.get(\"text-writing-mode\").map((t=>Nh[t])),this.stateDependentLayerIds=this.layers.filter((t=>t.isStateDependent())).map((t=>t.id)),this.sourceID=t.sourceID,this.projection=t.projection;}createArrays(){this.text=new Wf(new co(this.layers,this.zoom,(t=>/^text/.test(t)))),this.icon=new Wf(new co(this.layers,this.zoom,(t=>/^icon/.test(t)))),this.glyphOffsetArray=new Ca,this.lineVertexArray=new Pa,this.symbolInstances=new Ea;}calculateGlyphDependencies(t,e,r,n,i){for(let r=0;r<t.length;r++)if(e[t.charCodeAt(r)]=!0,n&&i){const n=fh[t.charAt(r)];n&&(e[n.charCodeAt(0)]=!0);}}populate(t,e,r,n){const i=this.layers[0],s=i.layout,a=\"globe\"===this.projection.name,o=s.get(\"text-font\"),l=s.get(\"text-field\"),u=s.get(\"icon-image\"),c=(\"constant\"!==l.value.kind||l.value.value instanceof _e&&!l.value.value.isEmpty()||l.value.value.toString().length>0)&&(\"constant\"!==o.value.kind||o.value.value.length>0),h=\"constant\"!==u.value.kind||!!u.value.value||Object.keys(u.parameters).length>0,p=s.get(\"symbol-sort-key\");if(this.features=[],!c&&!h)return;const f=e.iconDependencies,d=e.glyphDependencies,y=e.availableImages,m=new Cs(this.zoom);for(const{feature:e,id:l,index:u,sourceLayerIndex:g}of t){const t=i._featureFilter.needGeometry,x=Go(e,t);if(!i._featureFilter.filter(m,x,r))continue;if(t||(x.geometry=No(e,r,n)),a&&1!==e.type&&r.z<=5){const t=x.geometry,e=.98078528056;for(let n=0;n<t.length;n++)t[n]=jo(t[n],(t=>t),((t,n)=>Rl(hf(t.x,t.y,r,1),hf(n.x,n.y,r,1))<e));}let v,b;if(c){const t=i.getValueAndResolveTokens(\"text-field\",x,r,y),e=_e.factory(t);Yf(e)&&(this.hasRTLText=!0),(!this.hasRTLText||\"unavailable\"===Ts()||this.hasRTLText&&Es.isParsed())&&(v=ph(e,i,x));}if(h){const t=i.getValueAndResolveTokens(\"icon-image\",x,r,y);b=t instanceof we?t:we.fromString(t);}if(!v&&!b)continue;const _=this.sortFeaturesByKey?p.evaluate(x,{},r):void 0;if(this.features.push({id:l,text:v,icon:b,index:u,sourceLayerIndex:g,geometry:x.geometry,properties:e.properties,type:Gf[e.type],sortKey:_}),b&&(f[b.name]=!0),v){const t=o.evaluate(x,{},r).join(\",\"),e=\"map\"===s.get(\"text-rotation-alignment\")&&\"point\"!==s.get(\"symbol-placement\");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(Nh.vertical)>=0;for(const r of v.sections)if(r.image)f[r.image.name]=!0;else {const n=ps(v.toString()),i=r.fontStack||t,s=d[i]=d[i]||{};this.calculateGlyphDependencies(r.text,s,e,this.allowVerticalPlacement,n);}}}\"line\"===s.get(\"symbol-placement\")&&(this.features=function(t){const e={},r={},n=[];let i=0;function s(e){n.push(t[e]),i++;}function a(t,e,i){const s=r[t];return delete r[t],r[e]=s,n[s].geometry[0].pop(),n[s].geometry[0]=n[s].geometry[0].concat(i[0]),s}function o(t,r,i){const s=e[r];return delete e[r],e[t]=s,n[s].geometry[0].shift(),n[s].geometry[0]=i[0].concat(n[s].geometry[0]),s}function l(t,e,r){const n=r?e[0][e[0].length-1]:e[0][0];return `${t}:${n.x}:${n.y}`}for(let u=0;u<t.length;u++){const c=t[u],h=c.geometry,p=c.text?c.text.toString():null;if(!p){s(u);continue}const f=l(p,h),d=l(p,h,!0);if(f in r&&d in e&&r[f]!==e[d]){const t=o(f,d,h),i=a(f,d,n[t].geometry);delete e[f],delete r[d],r[l(p,n[i].geometry,!0)]=i,n[t].geometry=null;}else f in r?a(f,d,h):d in e?o(f,d,h):(s(u),e[f]=i-1,r[d]=i-1);}return n.filter((t=>t.geometry))}(this.features)),this.sortFeaturesByKey&&this.features.sort(((t,e)=>t.sortKey-e.sortKey));}update(t,e,r,n){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(t,e,this.layers,r,n),this.icon.programConfigurations.updatePaintArrays(t,e,this.layers,r,n));}isEmpty(){return 0===this.symbolInstances.length&&!this.hasRTLText}uploadPending(){return !this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(t){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(t),this.iconCollisionBox.upload(t)),this.text.upload(t,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(t,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0;}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy();}getProjection(){return this.projectionInstance||(this.projectionInstance=Nf(this.projection)),this.projectionInstance}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData();}addToLineVertexArray(t,e){const r=this.lineVertexArray.length,n=t.segment;if(void 0!==n){let r=t.dist(e[n+1]),i=t.dist(e[n]);const s={};for(let t=n+1;t<e.length;t++)s[t]={x:e[t].x,y:e[t].y,tileUnitDistanceFromAnchor:r},t<e.length-1&&(r+=e[t+1].dist(e[t]));for(let t=n||0;t>=0;t--)s[t]={x:e[t].x,y:e[t].y,tileUnitDistanceFromAnchor:i},t>0&&(i+=e[t-1].dist(e[t]));for(let t=0;t<e.length;t++){const e=s[t];this.lineVertexArray.emplaceBack(e.x,e.y,e.tileUnitDistanceFromAnchor);}}return {lineStartIndex:r,lineLength:this.lineVertexArray.length-r}}addSymbols(t,e,r,n,i,s,a,o,l,u,c,h,p,f){const d=t.indexArray,y=t.layoutVertexArray,m=t.globeExtVertexArray,g=t.segments.prepareSegment(4*e.length,y,d,this.canOverlap?s.sortKey:void 0),x=this.glyphOffsetArray.length,v=g.vertexLength,b=this.allowVerticalPlacement&&a===Nh.vertical?Math.PI/2:0,_=s.text&&s.text.sections;for(let n=0;n<e.length;n++){const{tl:i,tr:a,bl:u,br:c,tex:h,pixelOffsetTL:x,pixelOffsetBR:v,minFontScaleX:w,minFontScaleY:A,glyphOffset:S,isSDF:k,sectionIndex:I}=e[n],M=g.vertexLength,z=S[1];if(Xf(y,l.x,l.y,i.x,z+i.y,h.x,h.y,r,k,x.x,x.y,w,A),Xf(y,l.x,l.y,a.x,z+a.y,h.x+h.w,h.y,r,k,v.x,x.y,w,A),Xf(y,l.x,l.y,u.x,z+u.y,h.x,h.y+h.h,r,k,x.x,v.y,w,A),Xf(y,l.x,l.y,c.x,z+c.y,h.x+h.w,h.y+h.h,r,k,v.x,v.y,w,A),o){const e=o.anchor,r=o.up;Kf(m,e.x,e.y,e.z,r[0],r[1],r[2]),Kf(m,e.x,e.y,e.z,r[0],r[1],r[2]),Kf(m,e.x,e.y,e.z,r[0],r[1],r[2]),Kf(m,e.x,e.y,e.z,r[0],r[1],r[2]),Hf(t.dynamicLayoutVertexArray,e.x,e.y,e.z,b);}else Hf(t.dynamicLayoutVertexArray,l.x,l.y,l.z,b);d.emplaceBack(M,M+1,M+2),d.emplaceBack(M+1,M+2,M+3),g.vertexLength+=4,g.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(S[0]),n!==e.length-1&&I===e[n+1].sectionIndex||t.programConfigurations.populatePaintArrays(y.length,s,s.index,{},p,f,_&&_[I]);}const w=o?o.anchor:l;t.placedSymbolArray.emplaceBack(w.x,w.y,w.z,l.x,l.y,x,this.glyphOffsetArray.length-x,v,u,c,l.segment,r?r[0]:0,r?r[1]:0,n[0],n[1],a,0,!1,0,h,0);}_commitLayoutVertex(t,e,r,n,i,s,a){t.emplaceBack(e,r,n,i,s,Math.round(a.x),Math.round(a.y));}_addCollisionDebugVertices(t,e,r,n,s,a,o){const l=r.segments.prepareSegment(4,r.layoutVertexArray,r.indexArray),u=l.vertexLength,c=o.tileAnchorX,h=o.tileAnchorY;for(let t=0;t<4;t++)r.collisionVertexArray.emplaceBack(0,0,0,0);r.collisionVertexArrayExt.emplaceBack(e,-t.padding,-t.padding),r.collisionVertexArrayExt.emplaceBack(e,t.padding,-t.padding),r.collisionVertexArrayExt.emplaceBack(e,t.padding,t.padding),r.collisionVertexArrayExt.emplaceBack(e,-t.padding,t.padding),this._commitLayoutVertex(r.layoutVertexArray,n,s,a,c,h,new i(t.x1,t.y1)),this._commitLayoutVertex(r.layoutVertexArray,n,s,a,c,h,new i(t.x2,t.y1)),this._commitLayoutVertex(r.layoutVertexArray,n,s,a,c,h,new i(t.x2,t.y2)),this._commitLayoutVertex(r.layoutVertexArray,n,s,a,c,h,new i(t.x1,t.y2)),l.vertexLength+=4;const p=r.indexArray;p.emplaceBack(u,u+1),p.emplaceBack(u+1,u+2),p.emplaceBack(u+2,u+3),p.emplaceBack(u+3,u),l.primitiveLength+=4;}_addTextDebugCollisionBoxes(t,e,r,n,i,s){for(let a=n;a<i;a++){const n=r.get(a),i=this.getSymbolInstanceTextSize(t,s,e,a);this._addCollisionDebugVertices(n,i,this.textCollisionBox,n.projectedAnchorX,n.projectedAnchorY,n.projectedAnchorZ,s);}}_addIconDebugCollisionBoxes(t,e,r,n,i,s){for(let a=n;a<i;a++){const n=r.get(a),i=this.getSymbolInstanceIconSize(t,e,a);this._addCollisionDebugVertices(n,i,this.iconCollisionBox,n.projectedAnchorX,n.projectedAnchorY,n.projectedAnchorZ,s);}}generateCollisionDebugBuffers(t,e){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Jf(ha,ih.members,_a),this.iconCollisionBox=new Jf(ha,ih.members,_a);const r=ch(this.iconSizeData,t),n=ch(this.textSizeData,t);for(let i=0;i<this.symbolInstances.length;i++){const s=this.symbolInstances.get(i);this._addTextDebugCollisionBoxes(n,t,e,s.textBoxStartIndex,s.textBoxEndIndex,s),this._addTextDebugCollisionBoxes(n,t,e,s.verticalTextBoxStartIndex,s.verticalTextBoxEndIndex,s),this._addIconDebugCollisionBoxes(r,t,e,s.iconBoxStartIndex,s.iconBoxEndIndex,s),this._addIconDebugCollisionBoxes(r,t,e,s.verticalIconBoxStartIndex,s.verticalIconBoxEndIndex,s);}}getSymbolInstanceTextSize(t,e,r,n){const i=this.text.placedSymbolArray.get(e.rightJustifiedTextSymbolIndex>=0?e.rightJustifiedTextSymbolIndex:e.centerJustifiedTextSymbolIndex>=0?e.centerJustifiedTextSymbolIndex:e.leftJustifiedTextSymbolIndex>=0?e.leftJustifiedTextSymbolIndex:e.verticalPlacedTextSymbolIndex>=0?e.verticalPlacedTextSymbolIndex:n),s=uh(this.textSizeData,t,i)/ah;return this.tilePixelRatio*s}getSymbolInstanceIconSize(t,e,r){const n=this.icon.placedSymbolArray.get(r),i=uh(this.iconSizeData,t,n);return this.tilePixelRatio*i}_commitDebugCollisionVertexUpdate(t,e,r){t.emplaceBack(e,-r,-r),t.emplaceBack(e,r,-r),t.emplaceBack(e,r,r),t.emplaceBack(e,-r,r);}_updateTextDebugCollisionBoxes(t,e,r,n,i,s){for(let a=n;a<i;a++){const n=r.get(a),i=this.getSymbolInstanceTextSize(t,s,e,a);this._commitDebugCollisionVertexUpdate(this.textCollisionBox.collisionVertexArrayExt,i,n.padding);}}_updateIconDebugCollisionBoxes(t,e,r,n,i){for(let s=n;s<i;s++){const n=r.get(s),i=this.getSymbolInstanceIconSize(t,e,s);this._commitDebugCollisionVertexUpdate(this.iconCollisionBox.collisionVertexArrayExt,i,n.padding);}}updateCollisionDebugBuffers(t,e){if(!this.hasDebugData())return;this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexArrayExt.clear(),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexArrayExt.clear();const r=ch(this.iconSizeData,t),n=ch(this.textSizeData,t);for(let i=0;i<this.symbolInstances.length;i++){const s=this.symbolInstances.get(i);this._updateTextDebugCollisionBoxes(n,t,e,s.textBoxStartIndex,s.textBoxEndIndex,s),this._updateTextDebugCollisionBoxes(n,t,e,s.verticalTextBoxStartIndex,s.verticalTextBoxEndIndex,s),this._updateIconDebugCollisionBoxes(r,t,e,s.iconBoxStartIndex,s.iconBoxEndIndex),this._updateIconDebugCollisionBoxes(r,t,e,s.verticalIconBoxStartIndex,s.verticalIconBoxEndIndex);}this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexBufferExt&&this.textCollisionBox.collisionVertexBufferExt.updateData(this.textCollisionBox.collisionVertexArrayExt),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexBufferExt&&this.iconCollisionBox.collisionVertexBufferExt.updateData(this.iconCollisionBox.collisionVertexArrayExt);}_deserializeCollisionBoxesForSymbol(t,e,r,n,i,s,a,o,l){const u={};for(let n=e;n<r;n++){const e=t.get(n);u.textBox={x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,padding:e.padding,projectedAnchorX:e.projectedAnchorX,projectedAnchorY:e.projectedAnchorY,projectedAnchorZ:e.projectedAnchorZ,tileAnchorX:e.tileAnchorX,tileAnchorY:e.tileAnchorY},u.textFeatureIndex=e.featureIndex;break}for(let e=n;e<i;e++){const r=t.get(e);u.verticalTextBox={x1:r.x1,y1:r.y1,x2:r.x2,y2:r.y2,padding:r.padding,projectedAnchorX:r.projectedAnchorX,projectedAnchorY:r.projectedAnchorY,projectedAnchorZ:r.projectedAnchorZ,tileAnchorX:r.tileAnchorX,tileAnchorY:r.tileAnchorY},u.verticalTextFeatureIndex=r.featureIndex;break}for(let e=s;e<a;e++){const r=t.get(e);u.iconBox={x1:r.x1,y1:r.y1,x2:r.x2,y2:r.y2,padding:r.padding,projectedAnchorX:r.projectedAnchorX,projectedAnchorY:r.projectedAnchorY,projectedAnchorZ:r.projectedAnchorZ,tileAnchorX:r.tileAnchorX,tileAnchorY:r.tileAnchorY},u.iconFeatureIndex=r.featureIndex;break}for(let e=o;e<l;e++){const r=t.get(e);u.verticalIconBox={x1:r.x1,y1:r.y1,x2:r.x2,y2:r.y2,padding:r.padding,projectedAnchorX:r.projectedAnchorX,projectedAnchorY:r.projectedAnchorY,projectedAnchorZ:r.projectedAnchorZ,tileAnchorX:r.tileAnchorX,tileAnchorY:r.tileAnchorY},u.verticalIconFeatureIndex=r.featureIndex;break}return u}deserializeCollisionBoxes(t){this.collisionArrays=[];for(let e=0;e<this.symbolInstances.length;e++){const r=this.symbolInstances.get(e);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(t,r.textBoxStartIndex,r.textBoxEndIndex,r.verticalTextBoxStartIndex,r.verticalTextBoxEndIndex,r.iconBoxStartIndex,r.iconBoxEndIndex,r.verticalIconBoxStartIndex,r.verticalIconBoxEndIndex));}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(t,e){const r=t.placedSymbolArray.get(e),n=r.vertexStartIndex+4*r.numGlyphs;for(let e=r.vertexStartIndex;e<n;e+=4)t.indexArray.emplaceBack(e,e+1,e+2),t.indexArray.emplaceBack(e+1,e+2,e+3);}getSortedSymbolIndexes(t){if(this.sortedAngle===t&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;const e=Math.sin(t),r=Math.cos(t),n=[],i=[],s=[];for(let t=0;t<this.symbolInstances.length;++t){s.push(t);const a=this.symbolInstances.get(t);n.push(0|Math.round(e*a.tileAnchorX+r*a.tileAnchorY)),i.push(a.featureIndex);}return s.sort(((t,e)=>n[t]-n[e]||i[e]-i[t])),s}addToSortKeyRanges(t,e){const r=this.sortKeyRanges[this.sortKeyRanges.length-1];r&&r.sortKey===e?r.symbolInstanceEnd=t+1:this.sortKeyRanges.push({sortKey:e,symbolInstanceStart:t,symbolInstanceEnd:t+1});}sortFeatures(t){if(this.sortFeaturesByY&&this.sortedAngle!==t&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(t),this.sortedAngle=t,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const t of this.symbolInstanceIndexes){const e=this.symbolInstances.get(t);this.featureSortOrder.push(e.featureIndex),[e.rightJustifiedTextSymbolIndex,e.centerJustifiedTextSymbolIndex,e.leftJustifiedTextSymbolIndex].forEach(((t,e,r)=>{t>=0&&r.indexOf(t)===e&&this.addIndicesForPlacedSymbol(this.text,t);})),e.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,e.verticalPlacedTextSymbolIndex),e.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,e.placedIconSymbolIndex),e.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,e.verticalPlacedIconSymbolIndex);}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray);}}}Pi(Qf,\"SymbolBucket\",{omit:[\"layers\",\"collisionBoxArray\",\"features\",\"compareText\"]}),Qf.MAX_GLYPHS=65535,Qf.addDynamicAttributes=Hf;const td=new Zs({\"symbol-placement\":new $s(Gt.layout_symbol[\"symbol-placement\"]),\"symbol-spacing\":new $s(Gt.layout_symbol[\"symbol-spacing\"]),\"symbol-avoid-edges\":new $s(Gt.layout_symbol[\"symbol-avoid-edges\"]),\"symbol-sort-key\":new Os(Gt.layout_symbol[\"symbol-sort-key\"]),\"symbol-z-order\":new $s(Gt.layout_symbol[\"symbol-z-order\"]),\"icon-allow-overlap\":new $s(Gt.layout_symbol[\"icon-allow-overlap\"]),\"icon-ignore-placement\":new $s(Gt.layout_symbol[\"icon-ignore-placement\"]),\"icon-optional\":new $s(Gt.layout_symbol[\"icon-optional\"]),\"icon-rotation-alignment\":new $s(Gt.layout_symbol[\"icon-rotation-alignment\"]),\"icon-size\":new Os(Gt.layout_symbol[\"icon-size\"]),\"icon-text-fit\":new $s(Gt.layout_symbol[\"icon-text-fit\"]),\"icon-text-fit-padding\":new $s(Gt.layout_symbol[\"icon-text-fit-padding\"]),\"icon-image\":new Os(Gt.layout_symbol[\"icon-image\"]),\"icon-rotate\":new Os(Gt.layout_symbol[\"icon-rotate\"]),\"icon-padding\":new $s(Gt.layout_symbol[\"icon-padding\"]),\"icon-keep-upright\":new $s(Gt.layout_symbol[\"icon-keep-upright\"]),\"icon-offset\":new Os(Gt.layout_symbol[\"icon-offset\"]),\"icon-anchor\":new Os(Gt.layout_symbol[\"icon-anchor\"]),\"icon-pitch-alignment\":new $s(Gt.layout_symbol[\"icon-pitch-alignment\"]),\"text-pitch-alignment\":new $s(Gt.layout_symbol[\"text-pitch-alignment\"]),\"text-rotation-alignment\":new $s(Gt.layout_symbol[\"text-rotation-alignment\"]),\"text-field\":new Os(Gt.layout_symbol[\"text-field\"]),\"text-font\":new Os(Gt.layout_symbol[\"text-font\"]),\"text-size\":new Os(Gt.layout_symbol[\"text-size\"]),\"text-max-width\":new Os(Gt.layout_symbol[\"text-max-width\"]),\"text-line-height\":new Os(Gt.layout_symbol[\"text-line-height\"]),\"text-letter-spacing\":new Os(Gt.layout_symbol[\"text-letter-spacing\"]),\"text-justify\":new Os(Gt.layout_symbol[\"text-justify\"]),\"text-radial-offset\":new Os(Gt.layout_symbol[\"text-radial-offset\"]),\"text-variable-anchor\":new $s(Gt.layout_symbol[\"text-variable-anchor\"]),\"text-anchor\":new Os(Gt.layout_symbol[\"text-anchor\"]),\"text-max-angle\":new $s(Gt.layout_symbol[\"text-max-angle\"]),\"text-writing-mode\":new $s(Gt.layout_symbol[\"text-writing-mode\"]),\"text-rotate\":new Os(Gt.layout_symbol[\"text-rotate\"]),\"text-padding\":new $s(Gt.layout_symbol[\"text-padding\"]),\"text-keep-upright\":new $s(Gt.layout_symbol[\"text-keep-upright\"]),\"text-transform\":new Os(Gt.layout_symbol[\"text-transform\"]),\"text-offset\":new Os(Gt.layout_symbol[\"text-offset\"]),\"text-allow-overlap\":new $s(Gt.layout_symbol[\"text-allow-overlap\"]),\"text-ignore-placement\":new $s(Gt.layout_symbol[\"text-ignore-placement\"]),\"text-optional\":new $s(Gt.layout_symbol[\"text-optional\"])});var ed={paint:new Zs({\"icon-opacity\":new Os(Gt.paint_symbol[\"icon-opacity\"]),\"icon-color\":new Os(Gt.paint_symbol[\"icon-color\"]),\"icon-halo-color\":new Os(Gt.paint_symbol[\"icon-halo-color\"]),\"icon-halo-width\":new Os(Gt.paint_symbol[\"icon-halo-width\"]),\"icon-halo-blur\":new Os(Gt.paint_symbol[\"icon-halo-blur\"]),\"icon-translate\":new $s(Gt.paint_symbol[\"icon-translate\"]),\"icon-translate-anchor\":new $s(Gt.paint_symbol[\"icon-translate-anchor\"]),\"text-opacity\":new Os(Gt.paint_symbol[\"text-opacity\"]),\"text-color\":new Os(Gt.paint_symbol[\"text-color\"],{runtimeType:ne,getOverride:t=>t.textColor,hasOverride:t=>!!t.textColor}),\"text-halo-color\":new Os(Gt.paint_symbol[\"text-halo-color\"]),\"text-halo-width\":new Os(Gt.paint_symbol[\"text-halo-width\"]),\"text-halo-blur\":new Os(Gt.paint_symbol[\"text-halo-blur\"]),\"text-translate\":new $s(Gt.paint_symbol[\"text-translate\"]),\"text-translate-anchor\":new $s(Gt.paint_symbol[\"text-translate-anchor\"])}),layout:td};class rd{constructor(t){this.type=t.property.overrides?t.property.overrides.runtimeType:Qt,this.defaultValue=t;}evaluate(t){if(t.formattedSection){const e=this.defaultValue.property.overrides;if(e&&e.hasOverride(t.formattedSection))return e.getOverride(t.formattedSection)}return t.feature&&t.featureState?this.defaultValue.evaluate(t.feature,t.featureState):this.defaultValue.property.specification.default}eachChild(t){this.defaultValue.isConstant()||t(this.defaultValue.value._styleExpression.expression);}outputDefined(){return !1}serialize(){return null}}Pi(rd,\"FormatSectionOverride\",{omit:[\"defaultValue\"]});class nd extends xo{constructor(t){super(t,ed);}recalculate(t,e){super.recalculate(t,e),\"auto\"===this.layout.get(\"icon-rotation-alignment\")&&(this.layout._values[\"icon-rotation-alignment\"]=\"point\"!==this.layout.get(\"symbol-placement\")?\"map\":\"viewport\"),\"auto\"===this.layout.get(\"text-rotation-alignment\")&&(this.layout._values[\"text-rotation-alignment\"]=\"point\"!==this.layout.get(\"symbol-placement\")?\"map\":\"viewport\"),\"auto\"===this.layout.get(\"text-pitch-alignment\")&&(this.layout._values[\"text-pitch-alignment\"]=this.layout.get(\"text-rotation-alignment\")),\"auto\"===this.layout.get(\"icon-pitch-alignment\")&&(this.layout._values[\"icon-pitch-alignment\"]=this.layout.get(\"icon-rotation-alignment\"));const r=this.layout.get(\"text-writing-mode\");if(r){const t=[];for(const e of r)t.indexOf(e)<0&&t.push(e);this.layout._values[\"text-writing-mode\"]=t;}else this.layout._values[\"text-writing-mode\"]=\"point\"===this.layout.get(\"symbol-placement\")?[\"horizontal\"]:[\"horizontal\",\"vertical\"];this._setPaintOverrides();}getValueAndResolveTokens(t,e,r,n){const i=this.layout.get(t).evaluate(e,{},r,n),s=this._unevaluatedLayout._values[t];return s.isDataDriven()||Fn(s.value)||!i?i:function(t,e){return e.replace(/{([^{}]+)}/g,((e,r)=>r in t?String(t[r]):\"\"))}(e.properties,i)}createBucket(t){return new Qf(t)}queryRadius(){return 0}queryIntersectsFeature(){return !1}_setPaintOverrides(){for(const t of ed.paint.overridableProperties){if(!nd.hasPaintOverride(this.layout,t))continue;const e=this.paint.get(t),r=new rd(e),n=new Vn(r,e.property.specification);let i=null;i=\"constant\"===e.value.kind||\"source\"===e.value.kind?new Rn(\"source\",n):new Un(\"composite\",n,e.value.zoomStops,e.value._interpolationType),this.paint._values[t]=new Us(e.property,i,e.parameters);}}_handleOverridablePaintPropertyUpdate(t,e,r){return !(!this.layout||e.isDataDriven()||r.isDataDriven())&&nd.hasPaintOverride(this.layout,t)}static hasPaintOverride(t,e){const r=t.get(\"text-field\"),n=ed.paint.properties[e];let i=!1;const s=t=>{for(const e of t)if(n.overrides&&n.overrides.hasOverride(e))return void(i=!0)};if(\"constant\"===r.value.kind&&r.value.value instanceof _e)s(r.value.value.sections);else if(\"source\"===r.value.kind){const t=e=>{i||(e instanceof ze&&ke(e.value)===oe?s(e.value.sections):e instanceof Pe?s(e.sections):e.eachChild(t));},e=r.value;e._styleExpression&&t(e._styleExpression.expression);}return i}getProgramConfiguration(t){return new uo(this,t)}}var id={paint:new Zs({\"background-color\":new $s(Gt.paint_background[\"background-color\"]),\"background-pattern\":new Ns(Gt.paint_background[\"background-pattern\"]),\"background-opacity\":new $s(Gt.paint_background[\"background-opacity\"])})},sd={paint:new Zs({\"raster-opacity\":new $s(Gt.paint_raster[\"raster-opacity\"]),\"raster-hue-rotate\":new $s(Gt.paint_raster[\"raster-hue-rotate\"]),\"raster-brightness-min\":new $s(Gt.paint_raster[\"raster-brightness-min\"]),\"raster-brightness-max\":new $s(Gt.paint_raster[\"raster-brightness-max\"]),\"raster-saturation\":new $s(Gt.paint_raster[\"raster-saturation\"]),\"raster-contrast\":new $s(Gt.paint_raster[\"raster-contrast\"]),\"raster-resampling\":new $s(Gt.paint_raster[\"raster-resampling\"]),\"raster-fade-duration\":new $s(Gt.paint_raster[\"raster-fade-duration\"])})};class ad extends xo{constructor(t){super(t,{}),this.implementation=t;}is3D(){return \"3d\"===this.implementation.renderingMode}hasOffscreenPass(){return void 0!==this.implementation.prerender}recalculate(){}updateTransitions(){}hasTransition(){return !1}serialize(){}onAdd(t){this.implementation.onAdd&&this.implementation.onAdd(t,t.painter.context.gl);}onRemove(t){this.implementation.onRemove&&this.implementation.onRemove(t,t.painter.context.gl);}}var od={paint:new Zs({\"sky-type\":new $s(Gt.paint_sky[\"sky-type\"]),\"sky-atmosphere-sun\":new $s(Gt.paint_sky[\"sky-atmosphere-sun\"]),\"sky-atmosphere-sun-intensity\":new $s(Gt.paint_sky[\"sky-atmosphere-sun-intensity\"]),\"sky-gradient-center\":new $s(Gt.paint_sky[\"sky-gradient-center\"]),\"sky-gradient-radius\":new $s(Gt.paint_sky[\"sky-gradient-radius\"]),\"sky-gradient\":new Gs(Gt.paint_sky[\"sky-gradient\"]),\"sky-atmosphere-halo-color\":new $s(Gt.paint_sky[\"sky-atmosphere-halo-color\"]),\"sky-atmosphere-color\":new $s(Gt.paint_sky[\"sky-atmosphere-color\"]),\"sky-opacity\":new $s(Gt.paint_sky[\"sky-opacity\"])})};function ld(t,e,r){const n=[0,0,1],i=Hl([]);return Wl(i,i,r?-l(t)+Math.PI:l(t)),Yl(i,i,-l(e)),$l(n,n,i),Ll(n,n)}const ud={circle:class extends xo{constructor(t){super(t,pl);}createBucket(t){return new Ko(t)}queryRadius(t){const e=t;return ol(\"circle-radius\",this,e)+ol(\"circle-stroke-width\",this,e)+ll(this.paint.get(\"circle-translate\"))}queryIntersectsFeature(t,e,r,n,i,s,a,o){const l=cl(this.paint.get(\"circle-translate\"),this.paint.get(\"circle-translate-anchor\"),s.angle,t.pixelToTileUnitsFactor),u=this.paint.get(\"circle-radius\").evaluate(e,r)+this.paint.get(\"circle-stroke-width\").evaluate(e,r);return ru(t,n,s,a,o,\"map\"===this.paint.get(\"circle-pitch-alignment\"),\"map\"===this.paint.get(\"circle-pitch-scale\"),l,u)}getProgramIds(){return [\"circle\"]}getProgramConfiguration(t){return new uo(this,t)}},heatmap:class extends xo{createBucket(t){return new ou(t)}constructor(t){super(t,fu),this._updateColorRamp();}_handleSpecialPaintPropertyUpdate(t){\"heatmap-color\"===t&&this._updateColorRamp();}_updateColorRamp(){this.colorRamp=du({expression:this._transitionablePaint._values[\"heatmap-color\"].value.expression,evaluationKey:\"heatmapDensity\",image:this.colorRamp}),this.colorRampTexture=null;}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null);}queryRadius(t){return ol(\"heatmap-radius\",this,t)}queryIntersectsFeature(t,e,r,n,s,a,o,l){const u=this.paint.get(\"heatmap-radius\").evaluate(e,r);return ru(t,n,a,o,l,!0,!0,new i(0,0),u)}hasOffscreenPass(){return 0!==this.paint.get(\"heatmap-opacity\")&&\"none\"!==this.visibility}getProgramIds(){return [\"heatmap\",\"heatmapTexture\"]}getProgramConfiguration(t){return new uo(this,t)}},hillshade:class extends xo{constructor(t){super(t,yu);}hasOffscreenPass(){return 0!==this.paint.get(\"hillshade-exaggeration\")&&\"none\"!==this.visibility}getProgramIds(){return [\"hillshade\",\"hillshadePrepare\"]}},fill:class extends xo{constructor(t){super(t,rc);}getProgramIds(){const t=this.paint.get(\"fill-pattern\"),e=t&&t.constantOr(1),r=[e?\"fillPattern\":\"fill\"];return this.paint.get(\"fill-antialias\")&&r.push(e&&!this.getPaintProperty(\"fill-outline-color\")?\"fillOutlinePattern\":\"fillOutline\"),r}getProgramConfiguration(t){return new uo(this,t)}recalculate(t,e){super.recalculate(t,e);const r=this.paint._values[\"fill-outline-color\"];\"constant\"===r.value.kind&&void 0===r.value.value&&(this.paint._values[\"fill-outline-color\"]=this.paint._values[\"fill-color\"]);}createBucket(t){return new tc(t)}queryRadius(){return ll(this.paint.get(\"fill-translate\"))}queryIntersectsFeature(t,e,r,n,i,s){return !t.queryGeometry.isAboveHorizon&&Wo(ul(t.tilespaceGeometry,this.paint.get(\"fill-translate\"),this.paint.get(\"fill-translate-anchor\"),s.angle,t.pixelToTileUnitsFactor),n)}isTileClipped(){return !0}},\"fill-extrusion\":class extends xo{constructor(t){super(t,Cc);}createBucket(t){return new wc(t)}queryRadius(){return ll(this.paint.get(\"fill-extrusion-translate\"))}is3D(){return !0}getProgramIds(){return [this.paint.get(\"fill-extrusion-pattern\").constantOr(1)?\"fillExtrusionPattern\":\"fillExtrusion\"]}getProgramConfiguration(t){return new uo(this,t)}queryIntersectsFeature(t,e,r,n,s,a,o,l,u){const c=cl(this.paint.get(\"fill-extrusion-translate\"),this.paint.get(\"fill-extrusion-translate-anchor\"),a.angle,t.pixelToTileUnitsFactor),h=this.paint.get(\"fill-extrusion-height\").evaluate(e,r),p=this.paint.get(\"fill-extrusion-base\").evaluate(e,r),f=[0,0],d=l&&a.elevation,y=a.elevation?a.elevation.exaggeration():1,m=t.tile.getBucket(this);if(d&&m instanceof wc){const t=m.centroidVertexArray,e=u+1;if(e<t.length){const r=t.get(e);f[0]=r.a_centroid_pos0,f[1]=r.a_centroid_pos1;}}if(0===f[0]&&1===f[1])return !1;\"globe\"===a.projection.name&&(n=Bc([n],[new i(0,0),new i(wo,wo)],t.tileID.canonical).map((t=>t.polygon)).flat());const g=function(t,e,r,n,s,a,o,l,u,c,h){return \"globe\"===t.projection.name?function(t,e,r,n,i,s,a,o,l,u,c){const h=[],p=[],f=t.projection.upVectorScale(c,t.center.lat,t.worldSize).metersToTile,d=[0,0,0,1],y=[0,0,0,1],m=(t,e,r,n)=>{t[0]=e,t[1]=r,t[2]=n,t[3]=1;},g=Tc();r>0&&(r+=g),n+=g;for(const g of e){const e=[],x=[];for(const h of g){const p=h.x+i.x,g=h.y+i.y,v=t.projection.projectTilePoint(p,g,c),b=t.projection.upVector(c,h.x,h.y);let _=r,w=n;if(a){const t=$c(p,g,r,n,a,o,l,u);_+=t.base,w+=t.top;}0!==r?m(d,v.x+b[0]*f*_,v.y+b[1]*f*_,v.z+b[2]*f*_):m(d,v.x,v.y,v.z),m(y,v.x+b[0]*f*w,v.y+b[1]*f*w,v.z+b[2]*f*w),jl(d,d,s),jl(y,y,s),e.push(jc(d)),x.push(jc(y));}h.push(e),p.push(x);}return [h,p]}(t,e,r,n,s,a,o,l,u,c,h):o?function(t,e,r,n,i,s,a,o,l){const u=[],c=[],h=[0,0,0,1];for(const p of t){const t=[],f=[];for(const u of p){const c=u.x+n.x,p=u.y+n.y,d=$c(c,p,e,r,s,a,o,l);h[0]=c,h[1]=p,h[2]=d.base,h[3]=1,Xl(h,h,i),h[3]=Math.max(h[3],1e-5);const y=jc([h[0]/h[3],h[1]/h[3],h[2]/h[3]]);h[0]=c,h[1]=p,h[2]=d.top,h[3]=1,Xl(h,h,i),h[3]=Math.max(h[3],1e-5);const m=jc([h[0]/h[3],h[1]/h[3],h[2]/h[3]]);t.push(y),f.push(m);}u.push(t),c.push(f);}return [u,c]}(e,r,n,s,a,o,l,u,c):function(t,e,r,n,s){const a=[],o=[],l=s[8]*e,u=s[9]*e,c=s[10]*e,h=s[11]*e,p=s[8]*r,f=s[9]*r,d=s[10]*r,y=s[11]*r;for(const e of t){const t=[],r=[];for(const a of e){const e=a.x+n.x,o=a.y+n.y,m=s[0]*e+s[4]*o+s[12],g=s[1]*e+s[5]*o+s[13],x=s[2]*e+s[6]*o+s[14],v=s[3]*e+s[7]*o+s[15],b=m+l,_=g+u,w=x+c,A=Math.max(v+h,1e-5),S=m+p,k=g+f,I=x+d,M=Math.max(v+y,1e-5),z=new i(b/A,_/A);z.z=w/A,t.push(z);const T=new i(S/M,k/M);T.z=I/M,r.push(T);}a.push(t),o.push(r);}return [a,o]}(e,r,n,s,a)}(a,n,p,h,c,o,d?l:null,f,y,a.center.lat,t.tileID.canonical),x=t.queryGeometry;return function(t,e,r){let n=1/0;Wo(r,e)&&(n=Uc(r,e[0]));for(let i=0;i<e.length;i++){const s=e[i],a=t[i];for(let t=0;t<s.length-1;t++){const e=s[t],i=[e,s[t+1],a[t+1],a[t],e];Ho(r,i)&&(n=Math.min(n,Uc(r,i)));}}return n!==1/0&&n}(g[0],g[1],x.isPointQuery()?x.screenBounds:x.screenGeometry)}},line:class extends xo{constructor(t){super(t,Yc),this.gradientVersion=0;}_handleSpecialPaintPropertyUpdate(t){if(\"line-gradient\"===t){const t=this._transitionablePaint._values[\"line-gradient\"].value.expression;this.stepInterpolant=t._styleExpression&&t._styleExpression.expression instanceof gr,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER;}}gradientExpression(){return this._transitionablePaint._values[\"line-gradient\"].value.expression}recalculate(t,e){super.recalculate(t,e),this.paint._values[\"line-floorwidth\"]=Wc.possiblyEvaluate(this._transitioningPaint._values[\"line-width\"].value,t);}createBucket(t){return new Kc(t)}getProgramIds(){return [this.paint.get(\"line-pattern\").constantOr(1)?\"linePattern\":\"line\"]}getProgramConfiguration(t){return new uo(this,t)}queryRadius(t){const e=t,r=Jc(ol(\"line-width\",this,e),ol(\"line-gap-width\",this,e)),n=ol(\"line-offset\",this,e);return r/2+Math.abs(n)+ll(this.paint.get(\"line-translate\"))}queryIntersectsFeature(t,e,r,n,s,a){if(t.queryGeometry.isAboveHorizon)return !1;const o=ul(t.tilespaceGeometry,this.paint.get(\"line-translate\"),this.paint.get(\"line-translate-anchor\"),a.angle,t.pixelToTileUnitsFactor),l=t.pixelToTileUnitsFactor/2*Jc(this.paint.get(\"line-width\").evaluate(e,r),this.paint.get(\"line-gap-width\").evaluate(e,r)),u=this.paint.get(\"line-offset\").evaluate(e,r);return u&&(n=function(t,e){const r=[],n=new i(0,0);for(let i=0;i<t.length;i++){const s=t[i],a=[];for(let t=0;t<s.length;t++){const r=s[t-1],i=s[t],o=s[t+1],l=0===t?n:i.sub(r)._unit()._perp(),u=t===s.length-1?n:o.sub(i)._unit()._perp(),c=l._add(u)._unit();c._mult(1/(c.x*u.x+c.y*u.y)),a.push(c._mult(e)._add(i));}r.push(a);}return r}(n,u*t.pixelToTileUnitsFactor)),function(t,e,r){for(let n=0;n<e.length;n++){const i=e[n];if(t.length>=3)for(let e=0;e<i.length;e++)if(il(t,i[e]))return !0;if(Jo(t,i,r))return !0}return !1}(o,n,l)}isTileClipped(){return !0}},symbol:nd,background:class extends xo{constructor(t){super(t,id);}getProgramIds(){return [this.paint.get(\"background-pattern\")?\"backgroundPattern\":\"background\"]}},raster:class extends xo{constructor(t){super(t,sd);}getProgramIds(){return [\"raster\"]}},sky:class extends xo{constructor(t){super(t,od),this._updateColorRamp();}_handleSpecialPaintPropertyUpdate(t){\"sky-gradient\"===t?this._updateColorRamp():\"sky-atmosphere-sun\"!==t&&\"sky-atmosphere-halo-color\"!==t&&\"sky-atmosphere-color\"!==t&&\"sky-atmosphere-sun-intensity\"!==t||(this._skyboxInvalidated=!0);}_updateColorRamp(){this.colorRamp=du({expression:this._transitionablePaint._values[\"sky-gradient\"].value.expression,evaluationKey:\"skyRadialProgress\"}),this.colorRampTexture&&(this.colorRampTexture.destroy(),this.colorRampTexture=null);}needsSkyboxCapture(t){if(this._skyboxInvalidated||!this.skyboxTexture||!this.skyboxGeometry)return !0;if(!this.paint.get(\"sky-atmosphere-sun\")){const e=t.style.light.properties.get(\"position\");return this._lightPosition.azimuthal!==e.azimuthal||this._lightPosition.polar!==e.polar}return !1}getCenter(t,e){if(\"atmosphere\"===this.paint.get(\"sky-type\")){const r=this.paint.get(\"sky-atmosphere-sun\"),n=!r,i=t.style.light,s=i.properties.get(\"position\");return n&&\"viewport\"===i.properties.get(\"anchor\")&&E(\"The sun direction is attached to a light with viewport anchor, lighting may behave unexpectedly.\"),n?ld(s.azimuthal,90-s.polar,e):ld(r[0],90-r[1],e)}const r=this.paint.get(\"sky-gradient-center\");return ld(r[0],90-r[1],e)}is3D(){return !1}isSky(){return !0}markSkyboxValid(t){this._skyboxInvalidated=!1,this._lightPosition=t.style.light.properties.get(\"position\");}hasOffscreenPass(){return !0}getProgramIds(){const t=this.paint.get(\"sky-type\");return \"atmosphere\"===t?[\"skyboxCapture\",\"skybox\"]:\"gradient\"===t?[\"skyboxGradient\"]:null}}};class cd{constructor(t,e,r,n){this.context=t,this.format=r,this.texture=t.gl.createTexture(),this.update(e,n);}update(t,r,n){const{width:i,height:s}=t,{context:a}=this,{gl:o}=a,{HTMLImageElement:l,HTMLCanvasElement:u,HTMLVideoElement:c,ImageData:h,ImageBitmap:p}=e;if(o.bindTexture(o.TEXTURE_2D,this.texture),a.pixelStoreUnpackFlipY.set(!1),a.pixelStoreUnpack.set(1),a.pixelStoreUnpackPremultiplyAlpha.set(this.format===o.RGBA&&(!r||!1!==r.premultiply)),n||this.size&&this.size[0]===i&&this.size[1]===s){const{x:e,y:r}=n||{x:0,y:0};t instanceof l||t instanceof u||t instanceof c||t instanceof h||p&&t instanceof p?o.texSubImage2D(o.TEXTURE_2D,0,e,r,o.RGBA,o.UNSIGNED_BYTE,t):o.texSubImage2D(o.TEXTURE_2D,0,e,r,i,s,o.RGBA,o.UNSIGNED_BYTE,t.data);}else this.size=[i,s],t instanceof l||t instanceof u||t instanceof c||t instanceof h||p&&t instanceof p?o.texImage2D(o.TEXTURE_2D,0,this.format,this.format,o.UNSIGNED_BYTE,t):o.texImage2D(o.TEXTURE_2D,0,this.format,i,s,0,this.format,o.UNSIGNED_BYTE,t.data);this.useMipmap=Boolean(r&&r.useMipmap&&this.isSizePowerOfTwo()),this.useMipmap&&o.generateMipmap(o.TEXTURE_2D);}bind(t,e){const{context:r}=this,{gl:n}=r;n.bindTexture(n.TEXTURE_2D,this.texture),t!==this.filter&&(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,t),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,this.useMipmap?t===n.NEAREST?n.NEAREST_MIPMAP_NEAREST:n.LINEAR_MIPMAP_NEAREST:t),this.filter=t),e!==this.wrap&&(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,e),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,e),this.wrap=e);}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:t}=this.context;t.deleteTexture(this.texture),this.texture=null;}}class hd{constructor(t,e){this.width=t,this.height=e,this.nextRow=0,this.image=new hu({width:t,height:e}),this.positions={},this.uploaded=!1;}getDash(t,e){const r=this.getKey(t,e);return this.positions[r]}trim(){const t=this.width,e=this.height=A(this.nextRow);this.image.resize({width:t,height:e});}getKey(t,e){return t.join(\",\")+e}getDashRanges(t,e,r){const n=[];let i=t.length%2==1?-t[t.length-1]*r:0,s=t[0]*r,a=!0;n.push({left:i,right:s,isDash:a,zeroLength:0===t[0]});let o=t[0];for(let e=1;e<t.length;e++){a=!a;const l=t[e];i=o*r,o+=l,s=o*r,n.push({left:i,right:s,isDash:a,zeroLength:0===l});}return n}addRoundDash(t,e,r){const n=e/2;for(let e=-r;e<=r;e++){const i=this.width*(this.nextRow+r+e);let s=0,a=t[s];for(let o=0;o<this.width;o++){o/a.right>1&&(a=t[++s]);const l=Math.abs(o-a.left),u=Math.abs(o-a.right),c=Math.min(l,u);let h;const p=e/r*(n+1);if(a.isDash){const t=n-Math.abs(p);h=Math.sqrt(c*c+t*t);}else h=n-Math.sqrt(c*c+p*p);this.image.data[i+o]=Math.max(0,Math.min(255,h+128));}}}addRegularDash(t,e){for(let e=t.length-1;e>=0;--e){const r=t[e],n=t[e+1];r.zeroLength?t.splice(e,1):n&&n.isDash===r.isDash&&(n.left=r.left,t.splice(e,1));}const r=t[0],n=t[t.length-1];r.isDash===n.isDash&&(r.left=n.left-this.width,n.right=r.right+this.width);const i=this.width*this.nextRow;let s=0,a=t[s];for(let r=0;r<this.width;r++){r/a.right>1&&(a=t[++s]);const n=Math.abs(r-a.left),o=Math.abs(r-a.right),l=Math.min(n,o);this.image.data[i+r]=Math.max(0,Math.min(255,(a.isDash?l:-l)+e+128));}}addDash(t,e){const r=this.getKey(t,e);if(this.positions[r])return this.positions[r];const n=\"round\"===e,i=n?7:0,s=2*i+1;if(this.nextRow+s>this.height)return E(\"LineAtlas out of space\"),null;0===t.length&&t.push(1);let a=0;for(let e=0;e<t.length;e++)t[e]<0&&(E(\"Negative value is found in line dasharray, replacing values with 0\"),t[e]=0),a+=t[e];if(0!==a){const r=this.width/a,s=this.getDashRanges(t,this.width,r);n?this.addRoundDash(s,r,i):this.addRegularDash(s,\"square\"===e?.5*r:0);}const o=this.nextRow+i;this.nextRow+=s;const l={tl:[o,i],br:[a,0]};return this.positions[r]=l,l}}Pi(hd,\"LineAtlas\");class pd{constructor(t){this._callback=t,this._triggered=!1,\"undefined\"!=typeof MessageChannel&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback();});}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout((()=>{this._triggered=!1,this._callback();}),0));}remove(){this._channel=void 0,this._callback=()=>{};}}class fd{constructor(){this.tasks={},this.taskQueue=[],k([\"process\"],this),this.invoker=new pd(this.process),this.nextId=0;}add(t,e){const r=this.nextId++,n=function({type:t,isSymbolTile:e,zoom:r}){return r=r||0,\"message\"===t?0:\"maybePrepare\"!==t||e?\"parseTile\"!==t||e?\"parseTile\"===t&&e?300-r:\"maybePrepare\"===t&&e?400-r:500:200-r:100-r}(e);if(0===n){D();try{t();}finally{}return {cancel:()=>{}}}return this.tasks[r]={fn:t,metadata:e,priority:n,id:r},this.taskQueue.push(r),this.invoker.trigger(),{cancel:()=>{delete this.tasks[r];}}}process(){D();try{if(this.taskQueue=this.taskQueue.filter((t=>!!this.tasks[t])),!this.taskQueue.length)return;const t=this.pick();if(null===t)return;const e=this.tasks[t];if(delete this.tasks[t],this.taskQueue.length&&this.invoker.trigger(),!e)return;e.fn();}finally{}}pick(){let t=null,e=1/0;for(let r=0;r<this.taskQueue.length;r++){const n=this.tasks[this.taskQueue[r]];n.priority<e&&(e=n.priority,t=r);}if(null===t)return null;const r=this.taskQueue[t];return this.taskQueue.splice(t,1),r}remove(){this.invoker.remove();}}class dd{constructor(t){this._stringToNumber={},this._numberToString=[];for(let e=0;e<t.length;e++){const r=t[e];this._stringToNumber[r]=e,this._numberToString[e]=r;}}encode(t){return this._stringToNumber[t]}decode(t){return this._numberToString[t]}}const yd=[\"tile\",\"layer\",\"source\",\"sourceLayer\",\"state\"];class md{constructor(t,e,r,n,i){this.type=\"Feature\",this._vectorTileFeature=t,this._z=e,this._x=r,this._y=n,this.properties=t.properties,this.id=i;}get geometry(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._x,this._y,this._z).geometry),this._geometry}set geometry(t){this._geometry=t;}toJSON(){const t={type:\"Feature\",geometry:this.geometry,properties:this.properties};void 0!==this.id&&(t.id=this.id);for(const e of yd)void 0!==this[e]&&(t[e]=this[e]);return t}}const gd=32,xd=33,vd=new Uint16Array(8184);for(let t=0;t<2046;t++){let e=t+2,r=0,n=0,i=0,s=0,a=0,o=0;for(1&e?i=s=a=gd:r=n=o=gd;(e>>=1)>1;){const t=r+i>>1,l=n+s>>1;1&e?(i=r,s=n,r=a,n=o):(r=i,n=s,i=a,s=o),a=t,o=l;}const l=4*t;vd[l+0]=r,vd[l+1]=n,vd[l+2]=i,vd[l+3]=s;}const bd=new Uint16Array(2178),_d=new Uint8Array(1089),wd=new Uint16Array(1089);function Ad(t){return 0===t?-.03125:32===t?.03125:0}var Sd=Ws([{name:\"a_pos\",type:\"Int16\",components:2},{name:\"a_texture_pos\",type:\"Int16\",components:2}]);const kd={type:2,extent:wo,loadGeometry:()=>[[new i(0,0),new i(8193,0),new i(8193,8193),new i(0,8193),new i(0,0)]]};class Id{constructor(t,e,r,n,i){this.tileID=t,this.uid=_(),this.uses=0,this.tileSize=e,this.tileZoom=r,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.isRaster=i,this.expiredRequestCount=0,this.state=\"loading\",n&&n.transform&&(this.projection=n.transform.projection);}registerFadeDuration(t){const e=t+this.timeAdded;e<X.now()||this.fadeEndTime&&e<this.fadeEndTime||(this.fadeEndTime=e);}wasRequested(){return \"errored\"===this.state||\"loaded\"===this.state||\"reloading\"===this.state}get tileTransform(){return this._tileTransform||(this._tileTransform=Af(this.tileID.canonical,this.projection)),this._tileTransform}loadVectorData(t,e,r){if(this.unloadVectorData(),this.state=\"loaded\",t){t.featureIndex&&(this.latestFeatureIndex=t.featureIndex,t.rawTileData?(this.latestRawTileData=t.rawTileData,this.latestFeatureIndex.rawTileData=t.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=t.collisionBoxArray,this.buckets=function(t,e){const r={};if(!e)return r;for(const n of t){const t=n.layerIds.map((t=>e.getLayer(t))).filter(Boolean);if(0!==t.length){n.layers=t,n.stateDependentLayerIds&&(n.stateDependentLayers=n.stateDependentLayerIds.map((e=>t.filter((t=>t.id===e))[0])));for(const e of t)r[e.id]=n;}}return r}(t.buckets,e.style),this.hasSymbolBuckets=!1;for(const t in this.buckets){const e=this.buckets[t];if(e instanceof Qf){if(this.hasSymbolBuckets=!0,!r)break;e.justReloaded=!0;}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const t in this.buckets){const e=this.buckets[t];if(e instanceof Qf&&e.hasRTLText){this.hasRTLText=!0,Es.isLoading()||Es.isLoaded()||\"deferred\"!==Ts()||Bs();break}}this.queryPadding=0;for(const t in this.buckets){const r=this.buckets[t];this.queryPadding=Math.max(this.queryPadding,e.style.getLayer(t).queryRadius(r));}t.imageAtlas&&(this.imageAtlas=t.imageAtlas),t.glyphAtlasImage&&(this.glyphAtlasImage=t.glyphAtlasImage),t.lineAtlas&&(this.lineAtlas=t.lineAtlas);}else this.collisionBoxArray=new Ma;}unloadVectorData(){if(this.hasData()){for(const t in this.buckets)this.buckets[t].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.lineAtlasTexture&&this.lineAtlasTexture.destroy(),this._tileBoundsBuffer&&(this._tileBoundsBuffer.destroy(),this._tileBoundsIndexBuffer.destroy(),this._tileBoundsSegments.destroy(),this._tileBoundsBuffer=null),this._tileDebugBuffer&&(this._tileDebugBuffer.destroy(),this._tileDebugSegments.destroy(),this._tileDebugBuffer=null),this._tileDebugIndexBuffer&&(this._tileDebugIndexBuffer.destroy(),this._tileDebugIndexBuffer=null),this._globeTileDebugBorderBuffer&&(this._globeTileDebugBorderBuffer.destroy(),this._globeTileDebugBorderBuffer=null),this._tileDebugTextBuffer&&(this._tileDebugTextBuffer.destroy(),this._tileDebugTextSegments.destroy(),this._tileDebugTextIndexBuffer.destroy(),this._tileDebugTextBuffer=null),this._globeTileDebugTextBuffer&&(this._globeTileDebugTextBuffer.destroy(),this._globeTileDebugTextBuffer=null),this.latestFeatureIndex=null,this.state=\"unloaded\";}}getBucket(t){return this.buckets[t.id]}upload(t){for(const e in this.buckets){const r=this.buckets[e];r.uploadPending()&&r.upload(t);}const e=t.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new cd(t,this.imageAtlas.image,e.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new cd(t,this.glyphAtlasImage,e.ALPHA),this.glyphAtlasImage=null),this.lineAtlas&&!this.lineAtlas.uploaded&&(this.lineAtlasTexture=new cd(t,this.lineAtlas.image,e.ALPHA),this.lineAtlas.uploaded=!0);}prepare(t){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(t,this.imageAtlasTexture);}queryRenderedFeatures(t,e,r,n,i,s,a,o){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({tileResult:n,pixelPosMatrix:a,transform:s,params:i,tileTransform:this.tileTransform},t,e,r):{}}querySourceFeatures(t,e){const r=this.latestFeatureIndex;if(!r||!r.rawTileData)return;const n=r.loadVTLayers(),i=e?e.sourceLayer:\"\",s=n._geojsonTileLayer||n[i];if(!s)return;const a=Jn(e&&e.filter),{z:o,x:l,y:u}=this.tileID.canonical,c={z:o,x:l,y:u};for(let e=0;e<s.length;e++){const n=s.feature(e);if(a.needGeometry){const t=Go(n,!0);if(!a.filter(new Cs(this.tileID.overscaledZ),t,this.tileID.canonical))continue}else if(!a.filter(new Cs(this.tileID.overscaledZ),n))continue;const h=r.getId(n,i),p=new md(n,o,l,u,h);p.tile=c,t.push(p);}}hasData(){return \"loaded\"===this.state||\"reloading\"===this.state||\"expired\"===this.state}patternsLoaded(){return !!this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(t){const e=this.expirationTime;if(t.cacheControl){const e=V(t.cacheControl);e[\"max-age\"]&&(this.expirationTime=Date.now()+1e3*e[\"max-age\"]);}else t.expires&&(this.expirationTime=new Date(t.expires).getTime());if(this.expirationTime){const t=Date.now();let r=!1;if(this.expirationTime>t)r=!1;else if(e)if(this.expirationTime<e)r=!0;else {const n=this.expirationTime-e;n?this.expirationTime=t+Math.max(n,3e4):r=!0;}else r=!0;r?(this.expiredRequestCount++,this.state=\"expired\"):this.expiredRequestCount=0;}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)}setFeatureState(t,e){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||0===Object.keys(t).length||!e)return;const r=this.latestFeatureIndex.loadVTLayers(),n=e.style.listImages();for(const i in this.buckets){if(!e.style.hasLayer(i))continue;const s=this.buckets[i],a=s.layers[0].sourceLayer||\"_geojsonTileLayer\",o=r[a],l=t[a];if(!o||!l||0===Object.keys(l).length)continue;if(s.update(l,o,n,this.imageAtlas&&this.imageAtlas.patternPositions||{}),s instanceof Kc||s instanceof tc){const t=e.style._getSourceCache(s.layers[0].source);e._terrain&&e._terrain.enabled&&t&&s.programConfigurations.needsUpload&&e._terrain._clearRenderCacheForTile(t.id,this.tileID);}const u=e&&e.style&&e.style.getLayer(i);u&&(this.queryPadding=Math.max(this.queryPadding,u.queryRadius(s)));}}holdingForFade(){return void 0!==this.symbolFadeHoldUntil}symbolFadeFinished(){return !this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<X.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0;}setHoldDuration(t){this.symbolFadeHoldUntil=X.now()+t;}setTexture(t,e){const r=e.context,n=r.gl;this.texture=e.getTileTexture(t.width),this.texture?this.texture.update(t,{useMipmap:!0}):(this.texture=new cd(r,t,n.RGBA,{useMipmap:!0}),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE),r.extTextureFilterAnisotropic&&n.texParameterf(n.TEXTURE_2D,r.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,r.extTextureFilterAnisotropicMax));}setDependencies(t,e){const r={};for(const t of e)r[t]=!0;this.dependencies[t]=r;}hasDependency(t,e){for(const r of t){const t=this.dependencies[r];if(t)for(const r of e)if(t[r])return !0}return !1}clearQueryDebugViz(){}_makeDebugTileBoundsBuffers(t,e){if(!e||\"mercator\"===e.name||this._tileDebugBuffer)return;const r=No(kd,this.tileID.canonical,this.tileTransform)[0],n=new Qs,i=new wa;for(let t=0;t<r.length;t++){const{x:e,y:s}=r[t];n.emplaceBack(e,s),i.emplaceBack(t);}i.emplaceBack(0),this._tileDebugIndexBuffer=t.createIndexBuffer(i),this._tileDebugBuffer=t.createVertexBuffer(n,Zp.members),this._tileDebugSegments=_o.simpleSegment(0,0,n.length,i.length);}_makeTileBoundsBuffers(t,e){if(this._tileBoundsBuffer||!e||\"mercator\"===e.name)return;const r=No(kd,this.tileID.canonical,this.tileTransform)[0];let n,i;if(this.isRaster){const t=function(t,e){const r=Af(t,e),n=Math.pow(2,t.z);for(let i=0;i<xd;i++)for(let s=0;s<xd;s++){const a=Eo((t.x+(s+Ad(s))/gd)/n),o=Co((t.y+(i+Ad(i))/gd)/n),l=e.project(a,o),u=i*xd+s;bd[2*u+0]=Math.round((l.x*r.scale-r.x)*wo),bd[2*u+1]=Math.round((l.y*r.scale-r.y)*wo);}_d.fill(0),wd.fill(0);for(let t=2045;t>=0;t--){const e=4*t,r=vd[e+0],n=vd[e+1],i=vd[e+2],s=vd[e+3],a=r+i>>1,o=n+s>>1,l=a+o-n,u=o+r-a,c=n*xd+r,h=s*xd+i,p=o*xd+a,f=Math.hypot((bd[2*c+0]+bd[2*h+0])/2-bd[2*p+0],(bd[2*c+1]+bd[2*h+1])/2-bd[2*p+1])>=16;if(_d[p]=_d[p]||(f?1:0),t<1022){const t=(n+u>>1)*xd+(r+l>>1),e=(s+u>>1)*xd+(i+l>>1);_d[p]=_d[p]||_d[t]||_d[e];}}const i=new ea,s=new ya;let a=0;function o(t,e){const r=e*xd+t;return 0===wd[r]&&(i.emplaceBack(bd[2*r+0],bd[2*r+1],t*wo/gd,e*wo/gd),wd[r]=++a),wd[r]-1}function l(t,e,r,n,i,a){const u=t+r>>1,c=e+n>>1;if(Math.abs(t-i)+Math.abs(e-a)>1&&_d[c*xd+u])l(i,a,t,e,u,c),l(r,n,i,a,u,c);else {const l=o(t,e),u=o(r,n),c=o(i,a);s.emplaceBack(l,u,c);}}return l(0,0,gd,gd,gd,0),l(gd,gd,0,0,0,gd),{vertices:i,indices:s}}(this.tileID.canonical,e);n=t.vertices,i=t.indices;}else {n=new ea,i=new ya;for(const{x:t,y:e}of r)n.emplaceBack(t,e,0,0);const t=xu(n.int16,void 0,4);for(let e=0;e<t.length;e+=3)i.emplaceBack(t[e],t[e+1],t[e+2]);}this._tileBoundsBuffer=t.createVertexBuffer(n,Sd.members),this._tileBoundsIndexBuffer=t.createIndexBuffer(i),this._tileBoundsSegments=_o.simpleSegment(0,0,n.length,i.length);}_makeGlobeTileDebugBuffers(t,e){const r=e.projection;if(!r||\"globe\"!==r.name||e.freezeTileCoverage)return;const n=this.tileID.canonical,i=df(nf(n,e)),s=gf(e.zoom);let a;s>0&&(a=gl(new Float64Array(16),e.globeMatrix));const o=(n.x+.5)/(1<<n.z)-zo(e.center.lng);let l=0;o>.5?l=-1:o<-.5&&(l=1),this._makeGlobeTileDebugBorderBuffer(t,n,e,i,a,s,l),this._makeGlobeTileDebugTextBuffer(t,n,e,i,a,s,l);}_globePoint(t,e,r,n,i,s,a,o){let l=hf(t,e,r);if(s){const i=1<<r.z,u=[((t/wo+r.x)/i+o)*n,(e/wo+r.y)/i*n,0];jl(u,u,s),l=vr(l,u,a);}return jl(l,l,i)}_makeGlobeTileDebugBorderBuffer(t,e,r,n,i,s,a){const o=new Qs,l=new wa,u=new ta,c=(t,c,h,p,f)=>{const d=(h-t)/(f-1),y=(p-c)/(f-1),m=o.length;for(let h=0;h<f;h++){const p=t+h*d,f=c+h*y;o.emplaceBack(p,f);const g=this._globePoint(p,f,e,r.worldSize,n,i,s,a);u.emplaceBack(g[0],g[1],g[2]),l.emplaceBack(m+h);}},h=wo;c(0,0,h,0,16),c(h,0,h,h,16),c(h,h,0,h,16),c(0,h,0,0,16),this._tileDebugIndexBuffer=t.createIndexBuffer(l),this._tileDebugBuffer=t.createVertexBuffer(o,Zp.members),this._globeTileDebugBorderBuffer=t.createVertexBuffer(u,Gp.members),this._tileDebugSegments=_o.simpleSegment(0,0,o.length,l.length);}_makeGlobeTileDebugTextBuffer(t,e,r,n,i,s,a){const o=new Qs,l=new ya,u=new ta,c=25;l.reserve(32),o.reserve(c),u.reserve(c);const h=(t,e)=>c*t+e;for(let t=0;t<c;t++){const l=2048*t;for(let t=0;t<c;t++){const c=2048*t;o.emplaceBack(c,l);const h=this._globePoint(c,l,e,r.worldSize,n,i,s,a);u.emplaceBack(h[0],h[1],h[2]);}}for(let t=0;t<4;t++)for(let e=0;e<4;e++){const r=h(t,e),n=h(t,e+1),i=h(t+1,e),s=h(t+1,e+1);l.emplaceBack(r,n,i),l.emplaceBack(i,n,s);}this._tileDebugTextIndexBuffer=t.createIndexBuffer(l),this._tileDebugTextBuffer=t.createVertexBuffer(o,Zp.members),this._globeTileDebugTextBuffer=t.createVertexBuffer(u,Gp.members),this._tileDebugTextSegments=_o.simpleSegment(0,0,c,32);}}class Md{constructor(){this.state={},this.stateChanges={},this.deletedStates={};}updateState(t,e,r){const n=String(e);if(this.stateChanges[t]=this.stateChanges[t]||{},this.stateChanges[t][n]=this.stateChanges[t][n]||{},v(this.stateChanges[t][n],r),null===this.deletedStates[t]){this.deletedStates[t]={};for(const e in this.state[t])e!==n&&(this.deletedStates[t][e]=null);}else if(this.deletedStates[t]&&null===this.deletedStates[t][n]){this.deletedStates[t][n]={};for(const e in this.state[t][n])r[e]||(this.deletedStates[t][n][e]=null);}else for(const e in r)this.deletedStates[t]&&this.deletedStates[t][n]&&null===this.deletedStates[t][n][e]&&delete this.deletedStates[t][n][e];}removeFeatureState(t,e,r){if(null===this.deletedStates[t])return;const n=String(e);if(this.deletedStates[t]=this.deletedStates[t]||{},r&&void 0!==e)null!==this.deletedStates[t][n]&&(this.deletedStates[t][n]=this.deletedStates[t][n]||{},this.deletedStates[t][n][r]=null);else if(void 0!==e)if(this.stateChanges[t]&&this.stateChanges[t][n])for(r in this.deletedStates[t][n]={},this.stateChanges[t][n])this.deletedStates[t][n][r]=null;else this.deletedStates[t][n]=null;else this.deletedStates[t]=null;}getState(t,e){const r=String(e),n=v({},(this.state[t]||{})[r],(this.stateChanges[t]||{})[r]);if(null===this.deletedStates[t])return {};if(this.deletedStates[t]){const r=this.deletedStates[t][e];if(null===r)return {};for(const t in r)delete n[t];}return n}initializeTileState(t,e){t.setFeatureState(this.state,e);}coalesceChanges(t,e){const r={};for(const t in this.stateChanges){this.state[t]=this.state[t]||{};const e={};for(const r in this.stateChanges[t])this.state[t][r]||(this.state[t][r]={}),v(this.state[t][r],this.stateChanges[t][r]),e[r]=this.state[t][r];r[t]=e;}for(const t in this.deletedStates){this.state[t]=this.state[t]||{};const e={};if(null===this.deletedStates[t])for(const r in this.state[t])e[r]={},this.state[t][r]={};else for(const r in this.deletedStates[t]){if(null===this.deletedStates[t][r])this.state[t][r]={};else for(const e of Object.keys(this.deletedStates[t][r]))delete this.state[t][r][e];e[r]=this.state[t][r];}r[t]=r[t]||{},v(r[t],e);}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(r).length)for(const n in t)t[n].setFeatureState(r,e);}}class zd{constructor(t){this.size=t,this.minimums=[],this.maximums=[],this.leaves=[];}getElevation(t,e){const r=this.toIdx(t,e);return {min:this.minimums[r],max:this.maximums[r]}}isLeaf(t,e){return this.leaves[this.toIdx(t,e)]}toIdx(t,e){return e*this.size+t}}function Td(t,e,r,n){let i=0,s=Number.MAX_VALUE;for(let a=0;a<3;a++)if(Math.abs(n[a])<1e-15){if(r[a]<t[a]||r[a]>e[a])return null}else {const o=1/n[a];let l=(t[a]-r[a])*o,u=(e[a]-r[a])*o;if(l>u){const t=l;l=u,u=t;}if(l>i&&(i=l),u<s&&(s=u),i>s)return null}return i}function Bd(t,e,r,n,i,s,a,o,l,u,c){const h=n-t,p=i-e,f=s-r,d=a-t,y=o-e,m=l-r,g=c[1]*m-c[2]*y,x=c[2]*d-c[0]*m,v=c[0]*y-c[1]*d,b=h*g+p*x+f*v;if(Math.abs(b)<1e-15)return null;const _=1/b,w=u[0]-t,A=u[1]-e,S=u[2]-r,k=(w*g+A*x+S*v)*_;if(k<0||k>1)return null;const I=A*f-S*p,M=S*h-w*f,z=w*p-A*h,T=(c[0]*I+c[1]*M+c[2]*z)*_;return T<0||k+T>1?null:(d*I+y*M+m*z)*_}function Ed(t,e,r){return (t-e)/(r-e)}function Cd(t,e,r,n,i,s,a,o,l){const u=1<<r,c=s-n,h=a-i,p=(t+1)/u*c+n,f=(e+0)/u*h+i,d=(e+1)/u*h+i;o[0]=(t+0)/u*c+n,o[1]=f,l[0]=p,l[1]=d;}class Pd{constructor(t){if(this.maximums=[],this.minimums=[],this.leaves=[],this.childOffsets=[],this.nodeCount=0,this.dem=t,this._siblingOffset=[[0,0],[1,0],[0,1],[1,1]],!this.dem)return;const e=function(t){const e=Math.ceil(Math.log2(t.dim/8)),r=[];let n=Math.ceil(Math.pow(2,e));const i=1/n,s=(t,e,r,n,i)=>{const s=n?1:0,a=(t+1)*r-s,o=e*r,l=(e+1)*r-s;i[0]=t*r,i[1]=o,i[2]=a,i[3]=l;};let a=new zd(n);const o=[];for(let e=0;e<n*n;e++){s(e%n,Math.floor(e/n),i,!1,o);const r=Vd(o[0],o[1],t),l=Vd(o[2],o[1],t),u=Vd(o[2],o[3],t),c=Vd(o[0],o[3],t);a.minimums.push(Math.min(r,l,u,c)),a.maximums.push(Math.max(r,l,u,c)),a.leaves.push(1);}for(r.push(a),n/=2;n>=1;n/=2){const t=r[r.length-1];a=new zd(n);for(let e=0;e<n*n;e++){s(e%n,Math.floor(e/n),2,!0,o);const r=t.getElevation(o[0],o[1]),i=t.getElevation(o[2],o[1]),l=t.getElevation(o[2],o[3]),u=t.getElevation(o[0],o[3]),c=t.isLeaf(o[0],o[1]),h=t.isLeaf(o[2],o[1]),p=t.isLeaf(o[2],o[3]),f=t.isLeaf(o[0],o[3]),d=Math.min(r.min,i.min,l.min,u.min),y=Math.max(r.max,i.max,l.max,u.max),m=c&&h&&p&&f;a.maximums.push(y),a.minimums.push(d),a.leaves.push(y-d<=5&&m?1:0);}r.push(a);}return r}(this.dem),r=e.length-1,n=e[r];this._addNode(n.minimums[0],n.maximums[0],n.leaves[0]),this._construct(e,0,0,r,0);}raycastRoot(t,e,r,n,i,s,a=1){return Td([t,e,-100],[r,n,this.maximums[0]*a],i,s)}raycast(t,e,r,n,i,s,a=1){if(!this.nodeCount)return null;const o=this.raycastRoot(t,e,r,n,i,s,a);if(null==o)return null;const l=[],u=[],c=[],h=[],p=[{idx:0,t:o,nodex:0,nodey:0,depth:0}];for(;p.length>0;){const{idx:o,t:f,nodex:d,nodey:y,depth:m}=p.pop();if(this.leaves[o]){Cd(d,y,m,t,e,r,n,c,h);const o=1<<m,l=(d+0)/o,u=(d+1)/o,p=(y+0)/o,g=(y+1)/o,x=Vd(l,p,this.dem)*a,v=Vd(u,p,this.dem)*a,b=Vd(u,g,this.dem)*a,_=Vd(l,g,this.dem)*a,w=Bd(c[0],c[1],x,h[0],c[1],v,h[0],h[1],b,i,s),A=Bd(h[0],h[1],b,c[0],h[1],_,c[0],c[1],x,i,s),S=Math.min(null!==w?w:Number.MAX_VALUE,null!==A?A:Number.MAX_VALUE);if(S!==Number.MAX_VALUE)return S;{const t=Fl([],i,s,f);if(Dd(x,v,_,b,Ed(t[0],c[0],h[0]),Ed(t[1],c[1],h[1]))>=t[2])return f}continue}let g=0;for(let p=0;p<this._siblingOffset.length;p++){Cd((d<<1)+this._siblingOffset[p][0],(y<<1)+this._siblingOffset[p][1],m+1,t,e,r,n,c,h),c[2]=-100,h[2]=this.maximums[this.childOffsets[o]+p]*a;const f=Td(c,h,i,s);if(null!=f){const t=f;l[p]=t;let e=!1;for(let r=0;r<g&&!e;r++)t>=l[u[r]]&&(u.splice(r,0,p),e=!0);e||(u[g]=p),g++;}}for(let t=0;t<g;t++){const e=u[t];p.push({idx:this.childOffsets[o]+e,t:l[e],nodex:(d<<1)+this._siblingOffset[e][0],nodey:(y<<1)+this._siblingOffset[e][1],depth:m+1});}}return null}_addNode(t,e,r){return this.minimums.push(t),this.maximums.push(e),this.leaves.push(r),this.childOffsets.push(0),this.nodeCount++}_construct(t,e,r,n,i){if(1===t[n].isLeaf(e,r))return;this.childOffsets[i]||(this.childOffsets[i]=this.nodeCount);const s=n-1,a=t[s];let o=0,l=0;for(let t=0;t<this._siblingOffset.length;t++){const n=2*e+this._siblingOffset[t][0],i=2*r+this._siblingOffset[t][1],s=a.getElevation(n,i),u=a.isLeaf(n,i),c=this._addNode(s.min,s.max,u);u&&(o|=1<<t),l||(l=c);}for(let n=0;n<this._siblingOffset.length;n++)o&1<<n||this._construct(t,2*e+this._siblingOffset[n][0],2*r+this._siblingOffset[n][1],s,l+n);}}function Dd(t,e,r,n,i,s){return xr(xr(t,r,s),xr(e,n,s),i)}function Vd(t,e,r){const n=r.dim,i=d(t*n-.5,0,n-1),s=d(e*n-.5,0,n-1),a=Math.floor(i),o=Math.floor(s),l=Math.min(a+1,n-1),u=Math.min(o+1,n-1);return Dd(r.get(a,o),r.get(l,o),r.get(a,u),r.get(l,u),i-a,s-o)}const Fd={mapbox:[6553.6,25.6,.1,1e4],terrarium:[256,1,1/256,32768]};class Ld{get tree(){return this._tree||this._buildQuadTree(),this._tree}constructor(t,e,r,n=!1,i=!1){if(this.uid=t,e.height!==e.width)throw new RangeError(\"DEM tiles must be square\");if(r&&\"mapbox\"!==r&&\"terrarium\"!==r)return E(`\"${r}\" is not a valid encoding type. Valid types include \"mapbox\" and \"terrarium\".`);this.stride=e.height;const s=this.dim=e.height-2,a=new Uint32Array(e.data.buffer);if(this.pixels=new Uint8Array(e.data.buffer),this.encoding=r||\"mapbox\",this.borderReady=n,!n){for(let t=0;t<s;t++)a[this._idx(-1,t)]=a[this._idx(0,t)],a[this._idx(s,t)]=a[this._idx(s-1,t)],a[this._idx(t,-1)]=a[this._idx(t,0)],a[this._idx(t,s)]=a[this._idx(t,s-1)];a[this._idx(-1,-1)]=a[this._idx(0,0)],a[this._idx(s,-1)]=a[this._idx(s-1,0)],a[this._idx(-1,s)]=a[this._idx(0,s-1)],a[this._idx(s,s)]=a[this._idx(s-1,s-1)],i&&this._buildQuadTree();}}_buildQuadTree(){this._tree=new Pd(this);}get(t,e,r=!1){r&&(t=d(t,-1,this.dim),e=d(e,-1,this.dim));const n=4*this._idx(t,e);return (\"terrarium\"===this.encoding?this._unpackTerrarium:this._unpackMapbox)(this.pixels[n],this.pixels[n+1],this.pixels[n+2])}static getUnpackVector(t){return Fd[t]}get unpackVector(){return Fd[this.encoding]}_idx(t,e){if(t<-1||t>=this.dim+1||e<-1||e>=this.dim+1)throw new RangeError(\"out of range source coordinates for DEM data\");return (e+1)*this.stride+(t+1)}_unpackMapbox(t,e,r){return (256*t*256+256*e+r)/10-1e4}_unpackTerrarium(t,e,r){return 256*t+e+r/256-32768}static pack(t,e){const r=[0,0,0,0],n=Ld.getUnpackVector(e);let i=Math.floor((t+n[3])/n[2]);return r[2]=i%256,i=Math.floor(i/256),r[1]=i%256,i=Math.floor(i/256),r[0]=i,r}getPixels(){return new pu({width:this.stride,height:this.stride},this.pixels)}backfillBorder(t,e,r){if(this.dim!==t.dim)throw new Error(\"dem dimension mismatch\");let n=e*this.dim,i=e*this.dim+this.dim,s=r*this.dim,a=r*this.dim+this.dim;switch(e){case-1:n=i-1;break;case 1:i=n+1;}switch(r){case-1:s=a-1;break;case 1:a=s+1;}const o=-e*this.dim,l=-r*this.dim;for(let e=s;e<a;e++)for(let r=n;r<i;r++){const n=4*this._idx(r,e),i=4*this._idx(r+o,e+l);this.pixels[n+0]=t.pixels[i+0],this.pixels[n+1]=t.pixels[i+1],this.pixels[n+2]=t.pixels[i+2],this.pixels[n+3]=t.pixels[i+3];}}onDeserialize(){this._tree&&(this._tree.dem=this);}}Pi(Ld,\"DEMData\"),Pi(Pd,\"DemMinMaxQuadTree\",{omit:[\"dem\"]});class Rd{constructor(t,e){this.max=t,this.onRemove=e,this.reset();}reset(){for(const t in this.data)for(const e of this.data[t])e.timeout&&clearTimeout(e.timeout),this.onRemove(e.value);return this.data={},this.order=[],this}add(t,e,r){const n=t.wrapped().key;void 0===this.data[n]&&(this.data[n]=[]);const i={value:e,timeout:void 0};if(void 0!==r&&(i.timeout=setTimeout((()=>{this.remove(t,i);}),r)),this.data[n].push(i),this.order.push(n),this.order.length>this.max){const t=this._getAndRemoveByKey(this.order[0]);t&&this.onRemove(t);}return this}has(t){return t.wrapped().key in this.data}getAndRemove(t){return this.has(t)?this._getAndRemoveByKey(t.wrapped().key):null}_getAndRemoveByKey(t){const e=this.data[t].shift();return e.timeout&&clearTimeout(e.timeout),0===this.data[t].length&&delete this.data[t],this.order.splice(this.order.indexOf(t),1),e.value}getByKey(t){const e=this.data[t];return e?e[0].value:null}get(t){return this.has(t)?this.data[t.wrapped().key][0].value:null}remove(t,e){if(!this.has(t))return this;const r=t.wrapped().key,n=void 0===e?0:this.data[r].indexOf(e),i=this.data[r][n];return this.data[r].splice(n,1),i.timeout&&clearTimeout(i.timeout),0===this.data[r].length&&delete this.data[r],this.onRemove(i.value),this.order.splice(this.order.indexOf(r),1),this}setMaxSize(t){for(this.max=t;this.order.length>this.max;){const t=this._getAndRemoveByKey(this.order[0]);t&&this.onRemove(t);}return this}filter(t){const e=[];for(const r in this.data)for(const n of this.data[r])t(n.value)||e.push(n);for(const t of e)this.remove(t.value.tileID,t);}}class Ud{constructor(t,e,r){this.func=t,this.mask=e,this.range=r;}}Ud.ReadOnly=!1,Ud.ReadWrite=!0,Ud.disabled=new Ud(519,Ud.ReadOnly,[0,1]);const jd=7680;class $d{constructor(t,e,r,n,i,s){this.test=t,this.ref=e,this.mask=r,this.fail=n,this.depthFail=i,this.pass=s;}}$d.disabled=new $d({func:519,mask:0},0,0,jd,jd,jd);class Od{constructor(t,e,r){this.blendFunction=t,this.blendColor=e,this.mask=r;}}Od.Replace=[1,0],Od.disabled=new Od(Od.Replace,xe.transparent,[!1,!1,!1,!1]),Od.unblended=new Od(Od.Replace,xe.transparent,[!0,!0,!0,!0]),Od.alphaBlended=new Od([1,771],xe.transparent,[!0,!0,!0,!0]);const qd=1029,Nd=2305;class Gd{constructor(t,e,r){this.enable=t,this.mode=e,this.frontFace=r;}}Gd.disabled=new Gd(!1,qd,Nd),Gd.backCCW=new Gd(!0,qd,Nd),Gd.backCW=new Gd(!0,qd,2304),Gd.frontCW=new Gd(!0,1028,2304),Gd.frontCCW=new Gd(!0,1028,Nd);class Zd extends Nt{constructor(t,e,r){super(),this.id=t,this._onlySymbols=r,e.on(\"data\",(t=>{\"source\"===t.dataType&&\"metadata\"===t.sourceDataType&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&\"source\"===t.dataType&&\"content\"===t.sourceDataType&&(this.reload(),this.transform&&this.update(this.transform));})),e.on(\"error\",(()=>{this._sourceErrored=!0;})),this._source=e,this._tiles={},this._cache=new Rd(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._minTileCacheSize=e.minTileCacheSize,this._maxTileCacheSize=e.maxTileCacheSize,this._loadedParentTiles={},this._coveredTiles={},this._state=new Md,this._isRaster=\"raster\"===this._source.type||\"raster-dem\"===this._source.type||\"custom\"===this._source.type&&\"raster\"===this._source._dataType;}onAdd(t){this.map=t,this._minTileCacheSize=void 0===this._minTileCacheSize&&t?t._minTileCacheSize:this._minTileCacheSize,this._maxTileCacheSize=void 0===this._maxTileCacheSize&&t?t._maxTileCacheSize:this._maxTileCacheSize;}loaded(){if(this._sourceErrored)return !0;if(!this._sourceLoaded)return !1;if(!this._source.loaded())return !1;for(const t in this._tiles){const e=this._tiles[t];if(\"loaded\"!==e.state&&\"errored\"!==e.state)return !1}return !0}getSource(){return this._source}pause(){this._paused=!0;}resume(){if(!this._paused)return;const t=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,t&&this.reload(),this.transform&&this.update(this.transform);}_loadTile(t,e){return t.isSymbolTile=this._onlySymbols,this._source.loadTile(t,e)}_unloadTile(t){if(this._source.unloadTile)return this._source.unloadTile(t,(()=>{}))}_abortTile(t){if(this._source.abortTile)return this._source.abortTile(t,(()=>{}))}serialize(){return this._source.serialize()}prepare(t){if(this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._source.prepareTile)for(const e in this._tiles){const r=this._tiles[e];this._source.prepareTile(r)&&this.map.painter.terrain&&this.map.painter.terrain._clearRenderCacheForTile(this.id,r.tileID),r.upload(t),r.prepare(this.map.style.imageManager);}else for(const e in this._tiles){const r=this._tiles[e];r.upload(t),r.prepare(this.map.style.imageManager);}}getIds(){return x(this._tiles).map((t=>t.tileID)).sort(Xd).map((t=>t.key))}getRenderableIds(t){const e=[];for(const r in this._tiles)this._isIdRenderable(+r,t)&&e.push(this._tiles[r]);return t?e.sort(((t,e)=>{const r=t.tileID,n=e.tileID,s=new i(r.canonical.x,r.canonical.y)._rotate(this.transform.angle),a=new i(n.canonical.x,n.canonical.y)._rotate(this.transform.angle);return r.overscaledZ-n.overscaledZ||a.y-s.y||a.x-s.x})).map((t=>t.tileID.key)):e.map((t=>t.tileID)).sort(Xd).map((t=>t.key))}hasRenderableParent(t){const e=this.findLoadedParent(t,0);return !!e&&this._isIdRenderable(e.tileID.key)}_isIdRenderable(t,e){return this._tiles[t]&&this._tiles[t].hasData()&&!this._coveredTiles[t]&&(e||!this._tiles[t].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else {this._cache.reset();for(const t in this._tiles)\"errored\"!==this._tiles[t].state&&this._reloadTile(+t,\"reloading\");}}_reloadTile(t,e){const r=this._tiles[t];r&&(\"loading\"!==r.state&&(r.state=e),this._loadTile(r,this._tileLoaded.bind(this,r,t,e)));}_tileLoaded(t,e,r,n){if(n)if(t.state=\"errored\",404!==n.status)this._source.fire(new qt(n,{tile:t}));else if(\"raster-dem\"===this._source.type&&this.usedForTerrain&&this.map.painter.terrain){const t=this.map.painter.terrain;this.update(this.transform,t.getScaledDemTileSize(),!0),t.resetTileLookupCache(this.id);}else this.update(this.transform);else t.timeAdded=X.now(),\"expired\"===r&&(t.refreshedUponExpiration=!0),this._setTileReloadTimer(e,t),\"raster-dem\"===this._source.type&&t.dem&&this._backfillDEM(t),this._state.initializeTileState(t,this.map?this.map.painter:null),this._source.fire(new Ot(\"data\",{dataType:\"source\",tile:t,coord:t.tileID,sourceCacheId:this.id}));}_backfillDEM(t){const e=this.getRenderableIds();for(let n=0;n<e.length;n++){const i=e[n];if(t.neighboringTiles&&t.neighboringTiles[i]){const e=this.getTileByID(i);r(t,e),r(e,t);}}function r(t,e){if(!t.dem||t.dem.borderReady)return;t.needsHillshadePrepare=!0,t.needsDEMTextureUpload=!0;let r=e.tileID.canonical.x-t.tileID.canonical.x;const n=e.tileID.canonical.y-t.tileID.canonical.y,i=Math.pow(2,t.tileID.canonical.z),s=e.tileID.key;0===r&&0===n||Math.abs(n)>1||(Math.abs(r)>1&&(1===Math.abs(r+i)?r+=i:1===Math.abs(r-i)&&(r-=i)),e.dem&&t.dem&&(t.dem.backfillBorder(e.dem,r,n),t.neighboringTiles&&t.neighboringTiles[s]&&(t.neighboringTiles[s].backfilled=!0)));}}getTile(t){return this.getTileByID(t.key)}getTileByID(t){return this._tiles[t]}_retainLoadedChildren(t,e,r,n){for(const i in this._tiles){let s=this._tiles[i];if(n[i]||!s.hasData()||s.tileID.overscaledZ<=e||s.tileID.overscaledZ>r)continue;let a=s.tileID;for(;s&&s.tileID.overscaledZ>e+1;){const t=s.tileID.scaledTo(s.tileID.overscaledZ-1);s=this._tiles[t.key],s&&s.hasData()&&(a=t);}let o=a;for(;o.overscaledZ>e;)if(o=o.scaledTo(o.overscaledZ-1),t[o.key]){n[a.key]=a;break}}}findLoadedParent(t,e){if(t.key in this._loadedParentTiles){const r=this._loadedParentTiles[t.key];return r&&r.tileID.overscaledZ>=e?r:null}for(let r=t.overscaledZ-1;r>=e;r--){const e=t.scaledTo(r),n=this._getLoadedTile(e);if(n)return n}}_getLoadedTile(t){const e=this._tiles[t.key];return e&&e.hasData()?e:this._cache.getByKey(this._source.reparseOverscaled?t.wrapped().key:t.canonical.key)}updateCacheSize(t,e){e=e||this._source.tileSize;const r=Math.ceil(t.width/e)+1,n=Math.ceil(t.height/e)+1,i=Math.floor(r*n*5),s=\"number\"==typeof this._minTileCacheSize?Math.max(this._minTileCacheSize,i):i,a=\"number\"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,s):s;this._cache.setMaxSize(a);}handleWrapJump(t){const e=Math.round((t-(void 0===this._prevLng?t:this._prevLng))/360);if(this._prevLng=t,e){const t={};for(const r in this._tiles){const n=this._tiles[r];n.tileID=n.tileID.unwrapTo(n.tileID.wrap+e),t[n.tileID.key]=n;}this._tiles=t;for(const t in this._timers)clearTimeout(this._timers[t]),delete this._timers[t];for(const t in this._tiles)this._setTileReloadTimer(+t,this._tiles[t]);}}update(t,e,r){if(this.transform=t,!this._sourceLoaded||this._paused||this.transform.freezeTileCoverage)return;if(this.usedForTerrain&&!r)return;let n;this.updateCacheSize(t,e),\"globe\"!==this.transform.projection.name&&this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?n=t.getVisibleUnwrappedCoordinates(this._source.tileID).map((t=>new Fc(t.canonical.z,t.wrap,t.canonical.z,t.canonical.x,t.canonical.y))):(n=t.coveringTiles({tileSize:e||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!r,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain}),this._source.hasTile&&(n=n.filter((t=>this._source.hasTile(t))))):n=[];const i=this._updateRetainedTiles(n);if(Kd(this._source.type)&&0!==n.length){const t={},e={},r=Object.keys(i);for(const n of r){const r=i[n],s=this._tiles[n];if(!s||s.fadeEndTime&&s.fadeEndTime<=X.now())continue;const a=this.findLoadedParent(r,Math.max(r.overscaledZ-Zd.maxOverzooming,this._source.minzoom));a&&(this._addTile(a.tileID),t[a.tileID.key]=a.tileID),e[n]=r;}const s=n[n.length-1].overscaledZ;for(const t in this._tiles){const r=this._tiles[t];if(i[t]||!r.hasData())continue;let n=r.tileID;for(;n.overscaledZ>s;){n=n.scaledTo(n.overscaledZ-1);const s=this._tiles[n.key];if(s&&s.hasData()&&e[n.key]){i[t]=r.tileID;break}}}for(const e in t)i[e]||(this._coveredTiles[e]=!0,i[e]=t[e]);}for(const t in i)this._tiles[t].clearFadeHold();const s=function(t,e){const r=[];for(const n in t)n in e||r.push(n);return r}(this._tiles,i);for(const t of s){const e=this._tiles[t];e.hasSymbolBuckets&&!e.holdingForFade()?e.setHoldDuration(this.map._fadeDuration):e.hasSymbolBuckets&&!e.symbolFadeFinished()||this._removeTile(+t);}this._updateLoadedParentTileCache(),this._onlySymbols&&this._source.afterUpdate&&this._source.afterUpdate();}releaseSymbolFadeTiles(){for(const t in this._tiles)this._tiles[t].holdingForFade()&&this._removeTile(+t);}_updateRetainedTiles(t){const e={};if(0===t.length)return e;const r={},n=t.reduce(((t,e)=>Math.min(t,e.overscaledZ)),1/0),i=t[0].overscaledZ,s=Math.max(i-Zd.maxOverzooming,this._source.minzoom),a=Math.max(i+Zd.maxUnderzooming,this._source.minzoom),o={};for(const r of t){const t=this._addTile(r);e[r.key]=r,t.hasData()||n<this._source.maxzoom&&(o[r.key]=r);}this._retainLoadedChildren(o,n,a,e);for(const n of t){let t=this._tiles[n.key];if(t.hasData())continue;if(n.canonical.z>=this._source.maxzoom){const t=n.children(this._source.maxzoom)[0],r=this.getTile(t);if(r&&r.hasData()){e[t.key]=t;continue}}else {const t=n.children(this._source.maxzoom);if(e[t[0].key]&&e[t[1].key]&&e[t[2].key]&&e[t[3].key])continue}let i=t.wasRequested();for(let a=n.overscaledZ-1;a>=s;--a){const s=n.scaledTo(a);if(r[s.key])break;if(r[s.key]=!0,t=this.getTile(s),!t&&i&&(t=this._addTile(s)),t&&(e[s.key]=s,i=t.wasRequested(),t.hasData()))break}}return e}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const t in this._tiles){const e=[];let r,n=this._tiles[t].tileID;for(;n.overscaledZ>0;){if(n.key in this._loadedParentTiles){r=this._loadedParentTiles[n.key];break}e.push(n.key);const t=n.scaledTo(n.overscaledZ-1);if(r=this._getLoadedTile(t),r)break;n=t;}for(const t of e)this._loadedParentTiles[t]=r;}}_addTile(t){let e=this._tiles[t.key];if(e)return this._source.prepareTile&&this._source.prepareTile(e),e;e=this._cache.getAndRemove(t),e&&(this._setTileReloadTimer(t.key,e),e.tileID=t,this._state.initializeTileState(e,this.map?this.map.painter:null),this._cacheTimers[t.key]&&(clearTimeout(this._cacheTimers[t.key]),delete this._cacheTimers[t.key],this._setTileReloadTimer(t.key,e)));const r=Boolean(e);if(!r){const r=this.map?this.map.painter:null;e=new Id(t,this._source.tileSize*t.overscaleFactor(),this.transform.tileZoom,r,this._isRaster),this._source.prepareTile&&this._source.prepareTile(e)||this._loadTile(e,this._tileLoaded.bind(this,e,t.key,e.state));}return e?(e.uses++,this._tiles[t.key]=e,r||this._source.fire(new Ot(\"dataloading\",{tile:e,coord:e.tileID,dataType:\"source\"})),e):null}_setTileReloadTimer(t,e){t in this._timers&&(clearTimeout(this._timers[t]),delete this._timers[t]);const r=e.getExpiryTimeout();r&&(this._timers[t]=setTimeout((()=>{this._reloadTile(t,\"expired\"),delete this._timers[t];}),r));}_removeTile(t){const e=this._tiles[t];e&&(e.uses--,delete this._tiles[t],this._timers[t]&&(clearTimeout(this._timers[t]),delete this._timers[t]),e.uses>0||(e.hasData()&&\"reloading\"!==e.state?this._cache.add(e.tileID,e,e.getExpiryTimeout()):(e.aborted=!0,this._abortTile(e),this._unloadTile(e))));}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const t in this._tiles)this._removeTile(+t);this._source._clear&&this._source._clear(),this._cache.reset(),this.map&&this.usedForTerrain&&this.map.painter.terrain&&this.map.painter.terrain.resetTileLookupCache(this.id);}tilesIn(t,e,r){const n=[],i=this.transform;if(!i)return n;const s=\"globe\"===i.projection.name,a=zo(i.center.lng);for(const o in this._tiles){const l=this._tiles[o];if(r&&l.clearQueryDebugViz(),l.holdingForFade())continue;let u;if(s){const t=l.tileID.canonical;if(0===t.z){const e=[Math.abs(d(a,...Hd(t,-1))-a),Math.abs(d(a,...Hd(t,1))-a)];u=[0,2*e.indexOf(Math.min(...e))-1];}else {const e=[Math.abs(d(a,...Hd(t,-1))-a),Math.abs(d(a,...Hd(t,0))-a),Math.abs(d(a,...Hd(t,1))-a)];u=[e.indexOf(Math.min(...e))-1];}}else u=[0];for(const r of u){const s=t.containsTile(l,i,e,r);s&&n.push(s);}}return n}getVisibleCoordinates(t){const e=this.getRenderableIds(t).map((t=>this._tiles[t].tileID));for(const t of e)t.projMatrix=this.transform.calculateProjMatrix(t.toUnwrapped());return e}hasTransition(){if(this._source.hasTransition())return !0;if(Kd(this._source.type))for(const t in this._tiles){const e=this._tiles[t];if(void 0!==e.fadeEndTime&&e.fadeEndTime>=X.now())return !0}return !1}setFeatureState(t,e,r){this._state.updateState(t=t||\"_geojsonTileLayer\",e,r);}removeFeatureState(t,e,r){this._state.removeFeatureState(t=t||\"_geojsonTileLayer\",e,r);}getFeatureState(t,e){return this._state.getState(t=t||\"_geojsonTileLayer\",e)}setDependencies(t,e,r){const n=this._tiles[t];n&&n.setDependencies(e,r);}reloadTilesForDependencies(t,e){for(const r in this._tiles)this._tiles[r].hasDependency(t,e)&&this._reloadTile(+r,\"reloading\");this._cache.filter((r=>!r.hasDependency(t,e)));}_preloadTiles(t,e){const r=new Map,n=Array.isArray(t)?t:[t],i=this.map.painter.terrain,s=this.usedForTerrain&&i?i.getScaledDemTileSize():this._source.tileSize;for(const t of n){const e=t.coveringTiles({tileSize:s,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!this.usedForTerrain,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain});for(const t of e)r.set(t.key,t);this.usedForTerrain&&t.updateElevation(!1);}g(Array.from(r.values()),((t,e)=>{const r=new Id(t,this._source.tileSize*t.overscaleFactor(),this.transform.tileZoom,this.map.painter,this._isRaster);this._loadTile(r,(t=>{\"raster-dem\"===this._source.type&&r.dem&&this._backfillDEM(r),e(t,r);}));}),e);}}function Xd(t,e){const r=Math.abs(2*t.wrap)-+(t.wrap<0),n=Math.abs(2*e.wrap)-+(e.wrap<0);return t.overscaledZ-e.overscaledZ||n-r||e.canonical.y-t.canonical.y||e.canonical.x-t.canonical.x}function Kd(t){return \"raster\"===t||\"image\"===t||\"video\"===t}function Hd(t,e){const r=1<<t.z;return [t.x/r+e,(t.x+1)/r+e]}Zd.maxOverzooming=10,Zd.maxUnderzooming=3;class Yd{constructor(t,e,r){this._demTile=t,this._dem=this._demTile.dem,this._scale=e,this._offset=r;}static create(t,e,r){const n=r||t.findDEMTileFor(e);if(!n||!n.dem)return;const i=n.dem,s=n.tileID,a=1<<e.canonical.z-s.canonical.z;return new Yd(n,n.tileSize/wo/a,[(e.canonical.x/a-s.canonical.x)*i.dim,(e.canonical.y/a-s.canonical.y)*i.dim])}tileCoordToPixel(t,e){const r=e*this._scale+this._offset[1],n=Math.floor(t*this._scale+this._offset[0]),s=Math.floor(r);return new i(n,s)}getElevationAt(t,e,r,n){const i=t*this._scale+this._offset[0],s=e*this._scale+this._offset[1],a=Math.floor(i),o=Math.floor(s),l=this._dem;return n=!!n,r?xr(xr(l.get(a,o,n),l.get(a,o+1,n),s-o),xr(l.get(a+1,o,n),l.get(a+1,o+1,n),s-o),i-a):l.get(a,o,n)}getElevationAtPixel(t,e,r){return this._dem.get(t,e,!!r)}getMeterToDEM(t){return (1<<this._demTile.tileID.canonical.z)*Bo(1,t)*this._dem.stride}}class Wd{constructor(t,e){this.tileID=t,this.x=t.canonical.x,this.y=t.canonical.y,this.z=t.canonical.z,this.grid=new Bi(wo,16,0),this.featureIndexArray=new Va,this.promoteId=e;}insert(t,e,r,n,i,s=0){const a=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(r,n,i,s);const o=this.grid;for(let t=0;t<e.length;t++){const r=e[t],n=[1/0,1/0,-1/0,-1/0];for(let t=0;t<r.length;t++){const e=r[t];n[0]=Math.min(n[0],e.x),n[1]=Math.min(n[1],e.y),n[2]=Math.max(n[2],e.x),n[3]=Math.max(n[3],e.y);}n[0]<wo&&n[1]<wo&&n[2]>=0&&n[3]>=0&&o.insert(a,n[0],n[1],n[2],n[3]);}}loadVTLayers(){if(!this.vtLayers){this.vtLayers=new yc.VectorTile(new xh(this.rawTileData)).layers,this.sourceLayerCoder=new dd(this.vtLayers?Object.keys(this.vtLayers).sort():[\"_geojsonTileLayer\"]),this.vtFeatures={};for(const t in this.vtLayers)this.vtFeatures[t]=[];}return this.vtLayers}query(t,e,r,n){this.loadVTLayers();const i=t.params||{},s=Jn(i.filter),a=t.tileResult,o=t.transform,l=a.bufferedTilespaceBounds,u=this.grid.query(l.min.x,l.min.y,l.max.x,l.max.y,((t,e,r,n)=>sl(a.bufferedTilespaceGeometry,t,e,r,n)));u.sort(Qd);let c=null;o.elevation&&u.length>0&&(c=Yd.create(o.elevation,this.tileID));const h={};let p;for(let o=0;o<u.length;o++){const l=u[o];if(l===p)continue;p=l;const f=this.featureIndexArray.get(l);let d=null;this.loadMatchingFeature(h,f,s,i.layers,i.availableImages,e,r,n,((e,r,n,i=0)=>(d||(d=No(e,this.tileID.canonical,t.tileTransform)),r.queryIntersectsFeature(a,e,n,d,this.z,t.transform,t.pixelPosMatrix,c,i))));}return h}loadMatchingFeature(t,e,r,n,i,s,a,o,l){const{featureIndex:u,bucketIndex:c,sourceLayerIndex:h,layoutVertexArrayOffset:p}=e,f=this.bucketLayerIDs[c];if(n&&!function(t,e){for(let r=0;r<t.length;r++)if(e.indexOf(t[r])>=0)return !0;return !1}(n,f))return;const d=this.sourceLayerCoder.decode(h),y=this.vtLayers[d].feature(u);if(r.needGeometry){const t=Go(y,!0);if(!r.filter(new Cs(this.tileID.overscaledZ),t,this.tileID.canonical))return}else if(!r.filter(new Cs(this.tileID.overscaledZ),y))return;const m=this.getId(y,d);for(let e=0;e<f.length;e++){const r=f[e];if(n&&n.indexOf(r)<0)continue;const c=s[r];if(!c)continue;let h={};void 0!==m&&o&&(h=o.getState(c.sourceLayer||\"_geojsonTileLayer\",m));const d=v({},a[r]);d.paint=Jd(d.paint,c.paint,y,h,i),d.layout=Jd(d.layout,c.layout,y,h,i);const g=!l||l(y,c,h,p);if(!g)continue;const x=new md(y,this.z,this.x,this.y,m);x.layer=d;let b=t[r];void 0===b&&(b=t[r]=[]),b.push({featureIndex:u,feature:x,intersectionZ:g});}}lookupSymbolFeatures(t,e,r,n,i,s,a,o){const l={};this.loadVTLayers();const u=Jn(i);for(const i of t)this.loadMatchingFeature(l,{bucketIndex:r,sourceLayerIndex:n,featureIndex:i,layoutVertexArrayOffset:0},u,s,a,o,e);return l}loadFeature(t){const{featureIndex:e,sourceLayerIndex:r}=t;this.loadVTLayers();const n=this.sourceLayerCoder.decode(r),i=this.vtFeatures[n];if(i[e])return i[e];const s=this.vtLayers[n].feature(e);return i[e]=s,s}hasLayer(t){for(const e of this.bucketLayerIDs)for(const r of e)if(t===r)return !0;return !1}getId(t,e){let r=t.id;return this.promoteId&&(r=t.properties[\"string\"==typeof this.promoteId?this.promoteId:this.promoteId[e]],\"boolean\"==typeof r&&(r=Number(r))),r}}function Jd(t,e,r,n,i){return M(t,((t,s)=>{const a=e instanceof js?e.get(s):null;return a&&a.evaluate?a.evaluate(r,n,i):a}))}function Qd(t,e){return e-t}Pi(Wd,\"FeatureIndex\",{omit:[\"rawTileData\",\"sourceLayerCoder\"]});class ty{constructor(t){const e={},r=[];for(const n in t){const i=t[n],s=e[n]={};for(const t in i.glyphs){const e=i.glyphs[+t];if(!e||0===e.bitmap.width||0===e.bitmap.height)continue;const n=e.metrics.localGlyph?2:1,a={x:0,y:0,w:e.bitmap.width+2*n,h:e.bitmap.height+2*n};r.push(a),s[t]=a;}}const{w:n,h:i}=$h(r),s=new hu({width:n||1,height:i||1});for(const r in t){const n=t[r];for(const t in n.glyphs){const i=n.glyphs[+t];if(!i||0===i.bitmap.width||0===i.bitmap.height)continue;const a=e[r][t],o=i.metrics.localGlyph?2:1;hu.copy(i.bitmap,s,{x:0,y:0},{x:a.x+o,y:a.y+o},i.bitmap);}}this.image=s,this.positions=e;}}Pi(ty,\"GlyphAtlas\");class ey{constructor(t){this.tileID=new Fc(t.tileID.overscaledZ,t.tileID.wrap,t.tileID.canonical.z,t.tileID.canonical.x,t.tileID.canonical.y),this.tileZoom=t.tileZoom,this.uid=t.uid,this.zoom=t.zoom,this.canonical=t.tileID.canonical,this.pixelRatio=t.pixelRatio,this.tileSize=t.tileSize,this.source=t.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=t.showCollisionBoxes,this.collectResourceTiming=!!t.collectResourceTiming,this.returnDependencies=!!t.returnDependencies,this.promoteId=t.promoteId,this.enableTerrain=!!t.enableTerrain,this.isSymbolTile=t.isSymbolTile,this.tileTransform=Af(t.tileID.canonical,t.projection),this.projection=t.projection;}parse(t,e,r,n,i){this.status=\"parsing\",this.data=t,this.collisionBoxArray=new Ma;const s=new dd(Object.keys(t.layers).sort()),a=new Wd(this.tileID,this.promoteId);a.bucketLayerIDs=[];const o={},l=new hd(256,256),u={featureIndex:a,iconDependencies:{},patternDependencies:{},glyphDependencies:{},lineAtlas:l,availableImages:r},c=e.familiesBySource[this.source];for(const e in c){const n=t.layers[e];if(!n)continue;let i=!1,l=!1;for(const t of c[e])\"symbol\"===t[0].type?i=!0:l=!0;if(!0===this.isSymbolTile&&!i)continue;if(!1===this.isSymbolTile&&!l)continue;1===n.version&&E(`Vector tile source \"${this.source}\" layer \"${e}\" does not use vector tile spec v2 and therefore may have some rendering errors.`);const h=s.encode(e),p=[];for(let t=0;t<n.length;t++){const r=n.feature(t),i=a.getId(r,e);p.push({feature:r,id:i,index:t,sourceLayerIndex:h});}for(const t of c[e]){const e=t[0];void 0!==this.isSymbolTile&&\"symbol\"===e.type!==this.isSymbolTile||e.minzoom&&this.zoom<Math.floor(e.minzoom)||e.maxzoom&&this.zoom>=e.maxzoom||\"none\"!==e.visibility&&(ry(t,this.zoom,r),(o[e.id]=e.createBucket({index:a.bucketLayerIDs.length,layers:t,zoom:this.zoom,canonical:this.canonical,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:h,sourceID:this.source,enableTerrain:this.enableTerrain,projection:this.projection.spec,availableImages:r})).populate(p,u,this.tileID.canonical,this.tileTransform),a.bucketLayerIDs.push(t.map((t=>t.id))));}}let h,p,f,d;l.trim();const y={type:\"maybePrepare\",isSymbolTile:this.isSymbolTile,zoom:this.zoom},m=M(u.glyphDependencies,(t=>Object.keys(t).map(Number)));Object.keys(m).length?n.send(\"getGlyphs\",{uid:this.uid,stacks:m},((t,e)=>{h||(h=t,p=e,b.call(this));}),void 0,!1,y):p={};const g=Object.keys(u.iconDependencies);g.length?n.send(\"getImages\",{icons:g,source:this.source,tileID:this.tileID,type:\"icons\"},((t,e)=>{h||(h=t,f=e,b.call(this));}),void 0,!1,y):f={};const v=Object.keys(u.patternDependencies);function b(){if(h)return i(h);if(p&&f&&d){const t=new ty(p),e=new qh(f,d);for(const n in o){const i=o[n];i instanceof Qf?(ry(i.layers,this.zoom,r),Dp(i,p,t.positions,f,e.iconPositions,this.showCollisionBoxes,r,this.tileID.canonical,this.tileZoom,this.projection)):i.hasPattern&&(i instanceof Kc||i instanceof tc||i instanceof wc)&&(ry(i.layers,this.zoom,r),i.addFeatures(u,this.tileID.canonical,e.patternPositions,r,this.tileTransform));}this.status=\"done\",i(null,{buckets:x(o).filter((t=>!t.isEmpty())),featureIndex:a,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:t.image,lineAtlas:l,imageAtlas:e,glyphMap:this.returnDependencies?p:null,iconMap:this.returnDependencies?f:null,glyphPositions:this.returnDependencies?t.positions:null});}}v.length?n.send(\"getImages\",{icons:v,source:this.source,tileID:this.tileID,type:\"patterns\"},((t,e)=>{h||(h=t,d=e,b.call(this));}),void 0,!1,y):d={},b.call(this);}}function ry(t,e,r){const n=new Cs(e);for(const e of t)e.recalculate(n,r);}class ny{constructor(t){this.entries={},this.scheduler=t;}request(t,e,r,n){const i=this.entries[t]=this.entries[t]||{callbacks:[]};if(i.result){const[t,r]=i.result;return this.scheduler?this.scheduler.add((()=>{n(t,r);}),e):n(t,r),()=>{}}return i.callbacks.push(n),i.cancel||(i.cancel=r(((r,n)=>{i.result=[r,n];for(const t of i.callbacks)this.scheduler?this.scheduler.add((()=>{t(r,n);}),e):t(r,n);setTimeout((()=>delete this.entries[t]),3e3);}))),()=>{i.result||(i.callbacks=i.callbacks.filter((t=>t!==n)),i.callbacks.length||(i.cancel(),delete this.entries[t]));}}}function iy(t,e,r){const n=JSON.stringify(t.request);return t.data&&(this.deduped.entries[n]={result:[null,t.data]}),this.deduped.request(n,{type:\"parseTile\",isSymbolTile:t.isSymbolTile,zoom:t.tileZoom},(e=>{const n=Ct(t.request,((t,n,i,s)=>{t?e(t):n&&e(null,{vectorTile:r?void 0:new yc.VectorTile(new xh(n)),rawData:n,cacheControl:i,expires:s});}));return ()=>{n.cancel(),e();}}),e)}t.ARRAY_TYPE=dl,t.AUTH_ERR_MSG=nt,t.Aabb=eu,t.Actor=class{constructor(t,r,n){this.target=t,this.parent=r,this.mapId=n,this.callbacks={},this.cancelCallbacks={},k([\"receive\"],this),this.target.addEventListener(\"message\",this.receive,!1),this.globalScope=D()?t:e,this.scheduler=new fd;}send(t,e,r,n,i=!1,s){const a=Math.round(1e18*Math.random()).toString(36).substring(0,10);r&&(r.metadata=s,this.callbacks[a]=r);const o=L(this.globalScope)?void 0:[];return this.target.postMessage({id:a,type:t,hasCallback:!!r,targetMapId:n,mustQueue:i,sourceMapId:this.mapId,data:Fi(e,o)},o),{cancel:()=>{r&&delete this.callbacks[a],this.target.postMessage({id:a,type:\"<cancel>\",targetMapId:n,sourceMapId:this.mapId});}}}receive(t){const e=t.data,r=e.id;if(r&&(!e.targetMapId||this.mapId===e.targetMapId))if(\"<cancel>\"===e.type){const t=this.cancelCallbacks[r];delete this.cancelCallbacks[r],t&&t.cancel();}else if(e.mustQueue||D()){const t=this.callbacks[r];this.cancelCallbacks[r]=this.scheduler.add((()=>this.processTask(r,e)),t&&t.metadata||{type:\"message\"});}else this.processTask(r,e);}processTask(t,e){if(\"<response>\"===e.type){const r=this.callbacks[t];delete this.callbacks[t],r&&(e.error?r(Li(e.error)):r(null,Li(e.data)));}else {const r=L(this.globalScope)?void 0:[],n=e.hasCallback?(e,n)=>{delete this.cancelCallbacks[t],this.target.postMessage({id:t,type:\"<response>\",sourceMapId:this.mapId,error:e?Fi(e):null,data:Fi(n,r)},r);}:t=>{},i=Li(e.data);if(this.parent[e.type])this.parent[e.type](e.sourceMapId,i,n);else if(this.parent.getWorkerSource){const t=e.type.split(\".\");this.parent.getWorkerSource(e.sourceMapId,t[0],i.source)[t[1]](i,n);}else n(new Error(`Could not find function ${e.type}`));}}remove(){this.scheduler.remove(),this.target.removeEventListener(\"message\",this.receive,!1);}},t.CanonicalTileID=Dc,t.Color=xe,t.ColorMode=Od,t.CullFaceMode=Gd,t.DEMData=Ld,t.DataConstantProperty=$s,t.DedupedRequest=ny,t.DepthMode=Ud,t.EXTENT=wo,t.Elevation=class{isDataAvailableAtPoint(t){const e=this._source();if(!e||t.y<0||t.y>1)return !1;const r=e.getSource().maxzoom,n=1<<r,i=Math.floor(t.x),s=Math.floor((t.x-i)*n),a=Math.floor(t.y*n),o=this.findDEMTileFor(new Fc(r,i,r,s,a));return !(!o||!o.dem)}getAtPointOrZero(t,e=0){return this.getAtPoint(t,e)||0}getAtPoint(t,e,r=!0){null==e&&(e=null);const n=this._source();if(!n)return e;if(t.y<0||t.y>1)return e;const i=n.getSource().maxzoom,s=1<<i,a=Math.floor(t.x),o=t.x-a,l=new Fc(i,a,i,Math.floor(o*s),Math.floor(t.y*s)),u=this.findDEMTileFor(l);if(!u||!u.dem)return e;const c=u.dem,h=1<<u.tileID.canonical.z,p=(o*h-u.tileID.canonical.x)*c.dim,f=(t.y*h-u.tileID.canonical.y)*c.dim,d=Math.floor(p),y=Math.floor(f);return (r?this.exaggeration():1)*xr(xr(c.get(d,y),c.get(d,y+1),f-y),xr(c.get(d+1,y),c.get(d+1,y+1),f-y),p-d)}getAtTileOffset(t,e,r){const n=1<<t.canonical.z;return this.getAtPointOrZero(new Fo(t.wrap+(t.canonical.x+e/wo)/n,(t.canonical.y+r/wo)/n))}getAtTileOffsetFunc(t,e,r,n){return i=>{const s=this.getAtTileOffset(t,i.x,i.y),a=n.upVector(t.canonical,i.x,i.y);return Vl(a,a,s*n.upVectorScale(t.canonical,e,r).metersToTile),a}}getForTilePoints(t,e,r,n){const i=Yd.create(this,t,n);return !!i&&(e.forEach((t=>{t[2]=this.exaggeration()*i.getElevationAt(t[0],t[1],r);})),!0)}getMinMaxForTile(t){const e=this.findDEMTileFor(t);if(!e||!e.dem)return null;const r=e.dem.tree,n=e.tileID,i=1<<t.canonical.z-n.canonical.z;let s=t.canonical.x/i-n.canonical.x,a=t.canonical.y/i-n.canonical.y,o=0;for(let e=0;e<t.canonical.z-n.canonical.z&&!r.leaves[o];e++){s*=2,a*=2;const t=2*Math.floor(a)+Math.floor(s);o=r.childOffsets[o]+t,s%=1,a%=1;}return {min:this.exaggeration()*r.minimums[o],max:this.exaggeration()*r.maximums[o]}}getMinElevationBelowMSL(){throw new Error(\"Pure virtual method called.\")}raycast(t,e,r){throw new Error(\"Pure virtual method called.\")}pointCoordinate(t){throw new Error(\"Pure virtual method called.\")}_source(){throw new Error(\"Pure virtual method called.\")}exaggeration(){throw new Error(\"Pure virtual method called.\")}findDEMTileFor(t){throw new Error(\"Pure virtual method called.\")}get visibleDemTiles(){throw new Error(\"Getter must be implemented in subclass.\")}},t.ErrorEvent=qt,t.EvaluationParameters=Cs,t.Event=Ot,t.Evented=Nt,t.FillExtrusionBucket=wc,t.Frustum=tu,t.FrustumCorners=Ql,t.GLOBE_METERS_TO_ECEF=Kp,t.GLOBE_RADIUS=Xp,t.GLOBE_SCALE_MATCH_LATITUDE=45,t.GLOBE_ZOOM_THRESHOLD_MAX=6,t.GLOBE_ZOOM_THRESHOLD_MIN=5,t.GlobeSharedBuffers=class{constructor(t){this._createGrid(t),this._createPoles(t);}destroy(){this._poleIndexBuffer.destroy(),this._gridBuffer.destroy(),this._gridIndexBuffer.destroy(),this._poleNorthVertexBuffer.destroy(),this._poleSouthVertexBuffer.destroy();for(const t of this._poleSegments)t.destroy();for(const t of this._gridSegments)t.destroy();if(this._wireframeIndexBuffer){this._wireframeIndexBuffer.destroy();for(const t of this._wireframeSegments)t.destroy();}}_createGrid(t){const e=new Qs,r=new ya,n=65;for(let t=0;t<n;t++)for(let r=0;r<n;r++)e.emplaceBack(r,t);this._gridSegments=[];for(let t=0,e=0;t<Hp.length;t++){const i=Hp[t];for(let t=0;t<i;t++)for(let e=0;e<64;e++){const i=t*n+e;r.emplaceBack(i+1,i,i+n),r.emplaceBack(i+n,i+n+1,i+1);}const s=64*i*2;this._gridSegments.push(_o.simpleSegment(0,e,(i+1)*n,s)),e+=s;}this._gridBuffer=t.createVertexBuffer(e,Zp.members),this._gridIndexBuffer=t.createIndexBuffer(r,!0);}_createPoles(t){const e=new ya;for(let t=0;t<=64;t++)e.emplaceBack(0,t+1,t+2);this._poleIndexBuffer=t.createIndexBuffer(e,!0);const r=new va,n=new va;this._poleSegments=[];for(let t=0,e=0;t<5;t++){const i=360/(1<<t);r.emplaceBack(0,-Xp,0,.5,0),n.emplaceBack(0,-Xp,0,.5,1);for(let t=0;t<=64;t++){const e=t/64,s=xr(0,i,e),[a,o,l]=uf(bf,_f,s,Xp);r.emplaceBack(a,o,l,e,0),n.emplaceBack(a,o,l,e,1);}this._poleSegments.push(_o.simpleSegment(e,0,66,64)),e+=66;}this._poleNorthVertexBuffer=t.createVertexBuffer(r,Np,!1),this._poleSouthVertexBuffer=t.createVertexBuffer(n,Np,!1);}getGridBuffers(t){return [this._gridBuffer,this._gridIndexBuffer,this._gridSegments[t]]}getPoleBuffers(t){return [this._poleNorthVertexBuffer,this._poleSouthVertexBuffer,this._poleIndexBuffer,this._poleSegments[t]]}getWirefameBuffers(t,e){if(!this._wireframeSegments){const e=new _a,r=64,n=r+1;this._wireframeSegments=[];for(let t=0,i=0;t<Hp.length;t++){const s=Hp[t];for(let t=0;t<s;t++)for(let i=0;i<r;i++){const r=t*n+i;e.emplaceBack(r,r+1),e.emplaceBack(r,r+n),e.emplaceBack(r,r+n+1);}const a=s*r*3;this._wireframeSegments.push(_o.simpleSegment(0,i,(s+1)*n,a)),i+=a;}this._wireframeIndexBuffer=t.createIndexBuffer(e);}return [this._gridBuffer,this._wireframeIndexBuffer,this._wireframeSegments[e]]}},t.GlyphManager=vp,t.ImagePosition=Oh,t.LineAtlas=hd,t.LngLat=ko,t.LngLatBounds=Ao,t.LocalGlyphMode=xp,t.MAX_MERCATOR_LATITUDE=Do,t.MercatorCoordinate=Fo,t.ONE_EM=ah,t.OverscaledTileID=Fc,t.Properties=Zs,t.RGBAImage=pu,t.Ray=Jl,t.RequestManager=class{constructor(t,e,r){this._transformRequestFn=t,this._customAccessToken=e,this._silenceAuthErrors=!!r,this._createSkuToken();}_createSkuToken(){const t=function(){let t=\"\";for(let e=0;e<10;e++)t+=\"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ\"[Math.floor(62*Math.random())];return {token:[\"1\",rt,t].join(\"\"),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=t.token,this._skuTokenExpiresAt=t.tokenExpiresAt;}_isSkuTokenExpired(){return Date.now()>this._skuTokenExpiresAt}transformRequest(t,e){return this._transformRequestFn&&this._transformRequestFn(t,e)||{url:t}}normalizeStyleURL(t,e){if(!it(t))return t;const r=ot(t);return r.path=`/styles/v1${r.path}`,this._makeAPIURL(r,this._customAccessToken||e)}normalizeGlyphsURL(t,e){if(!it(t))return t;const r=ot(t);return r.path=`/fonts/v1${r.path}`,this._makeAPIURL(r,this._customAccessToken||e)}normalizeSourceURL(t,e,r,n){if(!it(t))return t;const i=ot(t);return i.path=`/v4/${i.authority}.json`,i.params.push(\"secure\"),r&&i.params.push(`language=${r}`),n&&i.params.push(`worldview=${n}`),this._makeAPIURL(i,this._customAccessToken||e)}normalizeSpriteURL(t,e,r,n){const i=ot(t);return it(t)?(i.path=`/styles/v1${i.path}/sprite${e}${r}`,this._makeAPIURL(i,this._customAccessToken||n)):(i.path+=`${e}${r}`,lt(i))}normalizeTileURL(t,e,r){if(this._isSkuTokenExpired()&&this._createSkuToken(),t&&!it(t))return t;const n=ot(t);n.path=n.path.replace(/(\\.(png|jpg)\\d*)(?=$)/,`${e||r&&\"raster\"!==n.authority&&512===r?\"@2x\":\"\"}${Y.supported?\".webp\":\"$1\"}`),\"raster\"===n.authority?n.path=`/${H.RASTER_URL_PREFIX}${n.path}`:(n.path=n.path.replace(/^.+\\/v4\\//,\"/\"),n.path=`/${H.TILE_URL_VERSION}${n.path}`);const i=this._customAccessToken||function(t){for(const e of t){const t=e.match(/^access_token=(.*)$/);if(t)return t[1]}return null}(n.params)||H.ACCESS_TOKEN;return H.REQUIRE_ACCESS_TOKEN&&i&&this._skuToken&&n.params.push(`sku=${this._skuToken}`),this._makeAPIURL(n,i)}canonicalizeTileURL(t,e){const r=ot(t);if(!r.path.match(/^(\\/v4\\/|\\/raster\\/v1\\/)/)||!r.path.match(/\\.[\\w]+$/))return t;let n=\"mapbox://\";r.path.match(/^\\/raster\\/v1\\//)?n+=`raster/${r.path.replace(`/${H.RASTER_URL_PREFIX}/`,\"\")}`:n+=`tiles/${r.path.replace(`/${H.TILE_URL_VERSION}/`,\"\")}`;let i=r.params;return e&&(i=i.filter((t=>!t.match(/^access_token=/)))),i.length&&(n+=`?${i.join(\"&\")}`),n}canonicalizeTileset(t,e){const r=!!e&&it(e),n=[];for(const e of t.tiles||[])st(e)?n.push(this.canonicalizeTileURL(e,r)):n.push(e);return n}_makeAPIURL(t,e){const r=\"See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes\",n=ot(H.API_URL);if(t.protocol=n.protocol,t.authority=n.authority,\"http\"===t.protocol){const e=t.params.indexOf(\"secure\");e>=0&&t.params.splice(e,1);}if(\"/\"!==n.path&&(t.path=`${n.path}${t.path}`),!H.REQUIRE_ACCESS_TOKEN)return lt(t);if(e=e||H.ACCESS_TOKEN,!this._silenceAuthErrors){if(!e)throw new Error(`An API access token is required to use Mapbox GL. ${r}`);if(\"s\"===e[0])throw new Error(`Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). ${r}`)}return t.params=t.params.filter((t=>-1===t.indexOf(\"access_token\"))),t.params.push(`access_token=${e||\"\"}`),lt(t)}},t.ResourceType=zt,t.SegmentVector=_o,t.SourceCache=Zd,t.StencilMode=$d,t.StructArrayLayout1ui2=wa,t.StructArrayLayout2f1f2i16=pa,t.StructArrayLayout2i4=Qs,t.StructArrayLayout2ui4=_a,t.StructArrayLayout3f12=da,t.StructArrayLayout3ui6=ya,t.StructArrayLayout4i8=ea,t.StructArrayLayout5f20=va,t.Texture=cd,t.Tile=Id,t.Transitionable=Vs,t.Uniform1f=Wa,t.Uniform1i=class extends Ya{constructor(t){super(t),this.current=0;}set(t,e,r){this.fetchUniformLocation(t,e)&&this.current!==r&&(this.current=r,this.gl.uniform1i(this.location,r));}},t.Uniform2f=class extends Ya{constructor(t){super(t),this.current=[0,0];}set(t,e,r){this.fetchUniformLocation(t,e)&&(r[0]===this.current[0]&&r[1]===this.current[1]||(this.current=r,this.gl.uniform2f(this.location,r[0],r[1])));}},t.Uniform3f=class extends Ya{constructor(t){super(t),this.current=[0,0,0];}set(t,e,r){this.fetchUniformLocation(t,e)&&(r[0]===this.current[0]&&r[1]===this.current[1]&&r[2]===this.current[2]||(this.current=r,this.gl.uniform3f(this.location,r[0],r[1],r[2])));}},t.Uniform4f=Ja,t.UniformColor=Qa,t.UniformMatrix2f=class extends Ya{constructor(t){super(t),this.current=ro;}set(t,e,r){if(this.fetchUniformLocation(t,e))for(let t=0;t<4;t++)if(r[t]!==this.current[t]){this.current=r,this.gl.uniformMatrix2fv(this.location,!1,r);break}}},t.UniformMatrix3f=class extends Ya{constructor(t){super(t),this.current=eo;}set(t,e,r){if(this.fetchUniformLocation(t,e))for(let t=0;t<9;t++)if(r[t]!==this.current[t]){this.current=r,this.gl.uniformMatrix3fv(this.location,!1,r);break}}},t.UniformMatrix4f=class extends Ya{constructor(t){super(t),this.current=to;}set(t,e,r){if(this.fetchUniformLocation(t,e)){if(r[12]!==this.current[12]||r[0]!==this.current[0])return this.current=r,void this.gl.uniformMatrix4fv(this.location,!1,r);for(let t=1;t<16;t++)if(r[t]!==this.current[t]){this.current=r,this.gl.uniformMatrix4fv(this.location,!1,r);break}}}},t.UnwrappedTileID=Vc,t.ValidationError=qn,t.VectorTileWorkerSource=class extends Nt{constructor(t,e,r,n,i){super(),this.actor=t,this.layerIndex=e,this.availableImages=r,this.loadVectorData=i||iy,this.loading={},this.loaded={},this.deduped=new ny(t.scheduler),this.isSpriteLoaded=n,this.scheduler=t.scheduler;}loadTile(t,e){const r=t.uid,n=t&&t.request,i=n&&n.collectResourceTiming,s=this.loading[r]=new ey(t);s.abort=this.loadVectorData(t,((a,o)=>{const l=!this.loading[r];if(delete this.loading[r],l||a||!o)return s.status=\"done\",l||(this.loaded[r]=s),e(a);const u=o.rawData,c={};o.expires&&(c.expires=o.expires),o.cacheControl&&(c.cacheControl=o.cacheControl),s.vectorTile=o.vectorTile||new yc.VectorTile(new xh(u));const h=()=>{s.parse(s.vectorTile,this.layerIndex,this.availableImages,this.actor,((t,r)=>{if(t||!r)return e(t);const s={};if(i){const t=$(n);t.length>0&&(s.resourceTiming=JSON.parse(JSON.stringify(t)));}e(null,v({rawTileData:u.slice(0)},r,c,s));}));};this.isSpriteLoaded?h():this.once(\"isSpriteLoaded\",(()=>{this.scheduler?this.scheduler.add(h,{type:\"parseTile\",isSymbolTile:t.isSymbolTile,zoom:t.tileZoom}):h();})),this.loaded=this.loaded||{},this.loaded[r]=s;}));}reloadTile(t,e){const r=this.loaded,n=t.uid,i=this;if(r&&r[n]){const s=r[n];s.showCollisionBoxes=t.showCollisionBoxes,s.enableTerrain=!!t.enableTerrain,s.projection=t.projection,s.tileTransform=Af(t.tileID.canonical,t.projection);const a=(t,r)=>{const n=s.reloadCallback;n&&(delete s.reloadCallback,s.parse(s.vectorTile,i.layerIndex,this.availableImages,i.actor,n)),e(t,r);};\"parsing\"===s.status?s.reloadCallback=a:\"done\"===s.status&&(s.vectorTile?s.parse(s.vectorTile,this.layerIndex,this.availableImages,this.actor,a):a());}}abortTile(t,e){const r=t.uid,n=this.loading[r];n&&(n.abort&&n.abort(),delete this.loading[r]),e();}removeTile(t,e){const r=this.loaded,n=t.uid;r&&r[n]&&delete r[n],e();}},t.WritingMode=Nh,t.ZoomHistory=Ri,t.add=Bl,t.addDynamicAttributes=Hf,t.adjoint=function(t,e){var r=e[0],n=e[1],i=e[2],s=e[3],a=e[4],o=e[5],l=e[6],u=e[7],c=e[8];return t[0]=a*c-o*u,t[1]=i*u-n*c,t[2]=n*o-i*a,t[3]=o*l-s*c,t[4]=r*c-i*l,t[5]=i*s-r*o,t[6]=s*u-a*l,t[7]=n*l-r*u,t[8]=r*a-n*s,t},t.asyncAll=g,t.bezier=p,t.bindAll=k,t.boundsAttributes=Sd,t.bufferConvexPolygon=function(t,e){const r=[];for(let n=0;n<t.length;n++){const i=m(n-1,-1,t.length-1),s=m(n+1,-1,t.length-1),a=t[n],o=t[s],l=t[i].sub(a).unit(),u=o.sub(a).unit(),c=u.angleWithSep(l.x,l.y),h=l.add(u).unit().mult(-1*e/Math.sin(c/2));r.push(a.add(h));}return r},t.cacheEntryPossiblyAdded=function(t){Mt++,Mt>bt&&(t.getActor().send(\"enforceCacheSizeLimit\",vt),Mt=0);},t.calculateGlobeLabelMatrix=function(t,e){const{x:r,y:n}=t.point,i=mf(r,n,t.worldSize/t._pixelsPerMercatorPixel,0,0);return xl(i,i,yf(rf(e)))},t.calculateGlobeMatrix=function(t){const{x:e,y:r}=t.point,{lng:n,lat:i}=t._center;return mf(e,r,t.worldSize,n,i)},t.calculateGlobeMercatorMatrix=function(t){const e=t.pixelsPerMeter,r=e/Bo(1,t.center.lat),n=ml(new Float64Array(16));return vl(n,n,[t.point.x,t.point.y,0]),bl(n,n,[r,r,e]),Float32Array.from(n)},t.circumferenceAtLatitude=Mo,t.clamp=d,t.clearTileCache=function(t){const e=At(),r=[];for(const t in _t)e&&r.push(e.delete(t)),delete _t[t];t&&Promise.all(r).catch(t).then((()=>t()));},t.clipLine=dp,t.clone=function(t){var e=new dl(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},t.clone$1=T,t.collisionCircleLayout=sh,t.config=H,t.conjugate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t},t.create=function(){var t=new dl(16);return dl!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t},t.create$1=yl,t.createExpression=Ln,t.createLayout=Ws,t.createStyleLayer=function(t){return \"custom\"===t.type?new ad(t):new ud[t.type](t)},t.cross=Ul,t.degToRad=l,t.distance=function(t,e){return Math.hypot(e[0]-t[0],e[1]-t[1],e[2]-t[2])},t.div=function(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t},t.dot=Rl,t.ease=f,t.easeCubicInOut=h,t.emitValidationErrors=Ti,t.endsWith=I,t.enforceCacheSizeLimit=function(t){for(const e in _t)St(e),_t[e].then((e=>{e.keys().then((r=>{for(let n=0;n<r.length-t;n++)e.delete(r[n]);}));}));},t.evaluateSizeForFeature=uh,t.evaluateSizeForZoom=ch,t.evaluateVariableOffset=Pp,t.evented=zs,t.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},t.exactEquals$1=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]},t.exported=X,t.exported$1=Y,t.extend=v,t.extend$1=Zt,t.fillExtrusionHeightLift=Tc,t.filterObject=z,t.fromMat4=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},t.fromQuat=function(t,e){var r=e[0],n=e[1],i=e[2],s=e[3],a=r+r,o=n+n,l=i+i,u=r*a,c=n*a,h=n*o,p=i*a,f=i*o,d=i*l,y=s*a,m=s*o,g=s*l;return t[0]=1-h-d,t[1]=c+g,t[2]=p-m,t[3]=0,t[4]=c-g,t[5]=1-u-d,t[6]=f+y,t[7]=0,t[8]=p+m,t[9]=f-y,t[10]=1-u-h,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},t.fromRotation=function(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=0,t[3]=-r,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},t.fromScaling=Al,t.furthestTileCorner=function(t){const e=Math.round((t+45+360)%360/90)%4;return c[e]},t.getAABBPointSquareDist=function(t,e,r){let n=0;for(let i=0;i<2;++i){const s=r?r[i]:0;t[i]>s&&(n+=(t[i]-s)*(t[i]-s)),e[i]<s&&(n+=(s-e[i])*(s-e[i]));}return n},t.getAnchorAlignment=rp,t.getAnchorJustification=Vp,t.getBounds=function(t){let e=1/0,r=1/0,n=-1/0,s=-1/0;for(const i of t)e=Math.min(e,i.x),r=Math.min(r,i.y),n=Math.max(n,i.x),s=Math.max(s,i.y);return {min:new i(e,r),max:new i(n,s)}},t.getColumn=U,t.getGridMatrix=function(t,e,r){const n=e.getNorth(),i=e.getSouth(),s=e.getWest(),a=.015625;return [0,(e.getEast()-s)*a,1<<t.z,(i-n)/Hp[r],0,t.y,n,s,a]},t.getImage=Ut,t.getJSON=function(t,e){return Et(v(t,{type:\"json\"}),e)},t.getLatitudinalLod=function(t){const e=80.051129;t=d(t,-80.051129,e)/e*90;const r=Math.pow(Math.abs(Math.sin(l(t))),3);return Math.round(r*(Hp.length-1))},t.getMapSessionAPI=mt,t.getPerformanceMeasurement=$,t.getProjection=Nf,t.getRTLTextPluginStatus=Ts,t.getReferrer=Bt,t.getTilePoint=function(t,{x:e,y:r},n=0){return new i(((e-n)*t.scale-t.x)*wo,(r*t.scale-t.y)*wo)},t.getTileVec3=function(t,e,r=0){return Tl(((e.x-r)*t.scale-t.x)*wo,(e.y*t.scale-t.y)*wo,Po(e.z,e.y))},t.getVideo=function(t,r){const n=e.document.createElement(\"video\");n.muted=!0,n.onloadstart=function(){r(null,n);};for(let r=0;r<t.length;r++){const i=e.document.createElement(\"source\");Vt(t[r])||(n.crossOrigin=\"Anonymous\"),i.src=t[r],n.appendChild(i);}return {cancel:()=>{}}},t.globeCenterToScreenPoint=function(t){const e=[0,0,0],r=ml(new Float64Array(16));return xl(r,t.pixelMatrix,t.globeMatrix),jl(e,e,r),new i(e[0],e[1])},t.globeDenormalizeECEF=yf,t.globeECEFOrigin=function(t,e){const r=[0,0,0];return jl(r,r,df(rf(e.canonical))),jl(r,r,t),r},t.globeNormalizeECEF=df,t.globePixelsToTileUnits=function(t,e){return wo/(512*Math.pow(2,t))*pf(rf(e))},t.globePoleMatrixForTile=function(t,e,r){const n=ml(new Float64Array(16)),i=(e/(1<<t)-.5)*Math.PI*2;return wl(n,r.globeMatrix,i),Float32Array.from(n)},t.globeTileBounds=rf,t.globeTiltAtLngLat=xf,t.globeToMercatorTransition=gf,t.globeUseCustomAntiAliasing=function(t,e,r){const n=gf(r.zoom),i=t.style.map._antialias,s=!!e.extStandardDerivatives,a=e.extStandardDerivativesForceOff||t.terrain&&t.terrain.exaggeration()>0;return 0===n&&!i&&!a&&s},t.identity=ml,t.identity$1=Hl,t.invert=gl,t.isFullscreen=function(){return !!e.document.fullscreenElement||!!e.document.webkitFullscreenElement},t.isLngLatBehindGlobe=function(t,e){return xf(t,e)>Math.PI/2*1.01},t.isMapAuthenticated=function(t){return gt.has(t)},t.isMapboxURL=it,t.isSafariWithAntialiasingBug=function(t){const e=t.navigator?t.navigator.userAgent:null;return !!L(t)&&e&&(e.match(\"Version/15.4\")||e.match(\"Version/15.5\")||e.match(/CPU (OS|iPhone OS) (15_4|15_5) like Mac OS X/))},t.latFromMercatorY=Co,t.len=Gl,t.length=zl,t.length$1=function(t){return Math.hypot(t[0],t[1],t[2],t[3])},t.loadVectorTile=iy,t.makeRequest=Et,t.mapValue=function(t,e,r,n,i){return d((t-e)/(r-e)*(i-n)+n,n,i)},t.mercatorScale=Vo,t.mercatorXfromLng=zo,t.mercatorYfromLat=To,t.mercatorZfromAltitude=Bo,t.mul=kl,t.mul$1=Nl,t.multiply=xl,t.multiply$1=function(t,e,r){var n=e[0],i=e[1],s=e[2],a=e[3],o=e[4],l=e[5],u=e[6],c=e[7],h=e[8],p=r[0],f=r[1],d=r[2],y=r[3],m=r[4],g=r[5],x=r[6],v=r[7],b=r[8];return t[0]=p*n+f*a+d*u,t[1]=p*i+f*o+d*c,t[2]=p*s+f*l+d*h,t[3]=y*n+m*a+g*u,t[4]=y*i+m*o+g*c,t[5]=y*s+m*l+g*h,t[6]=x*n+v*a+b*u,t[7]=x*i+v*o+b*c,t[8]=x*s+v*l+b*h,t},t.multiply$2=Cl,t.nextPowerOfTwo=A,t.normalize=Ll,t.normalize$1=function(t,e){var r=e[0],n=e[1],i=e[2],s=e[3],a=r*r+n*n+i*i+s*s;return a>0&&(a=1/Math.sqrt(a)),t[0]=r*a,t[1]=n*a,t[2]=i*a,t[3]=s*a,t},t.number=xr,t.ortho=function(t,e,r,n,i,s,a){var o=1/(e-r),l=1/(n-i),u=1/(s-a);return t[0]=-2*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*u,t[11]=0,t[12]=(e+r)*o,t[13]=(i+n)*l,t[14]=(a+s)*u,t[15]=1,t},t.pbf=xh,t.perspective=function(t,e,r,n,i){var s,a=1/Math.tan(e/2);return t[0]=a/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(t[10]=(i+n)*(s=1/(n-i)),t[14]=2*i*n*s):(t[10]=-1,t[14]=-2*n),t},t.pick=function(t,e){const r={};for(let n=0;n<e.length;n++){const i=e[n];i in t&&(r[i]=t[i]);}return r},t.plugin=Es,t.pointGeometry=i,t.polygonContainsPoint=il,t.polygonIntersectsBox=sl,t.polygonIntersectsPolygon=Ho,t.polygonizeBounds=function(t,e,r=0,n=!0){const s=new i(r,r),a=t.sub(s),o=e.add(s),l=[a,new i(o.x,a.y),o,new i(a.x,o.y)];return n&&l.push(a.clone()),l},t.posAttributes=Zp,t.postMapLoadEvent=dt,t.postTurnstileEvent=pt,t.potpack=$h,t.prevPowerOfTwo=function(t){return t<=1?1:Math.pow(2,Math.floor(Math.log(t)/Math.LN2))},t.radToDeg=u,t.refProperties=[\"type\",\"source\",\"source-layer\",\"minzoom\",\"maxzoom\",\"filter\",\"layout\"],t.registerForPluginStateChange=function(t){return t({pluginStatus:Ss,pluginURL:ks}),zs.on(\"pluginStateChange\",t),t},t.removeAuthState=function(t){gt.delete(t);},t.renderColorRamp=du,t.resample=Ro,t.rotateX=_l,t.rotateX$1=Yl,t.rotateY=wl,t.rotateY$1=Wl,t.rotateZ=function(t,e,r){var n=Math.sin(r),i=Math.cos(r),s=e[0],a=e[1],o=e[2],l=e[3],u=e[4],c=e[5],h=e[6],p=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=s*i+u*n,t[1]=a*i+c*n,t[2]=o*i+h*n,t[3]=l*i+p*n,t[4]=u*i-s*n,t[5]=c*i-a*n,t[6]=h*i-o*n,t[7]=p*i-l*n,t},t.rotateZ$1=function(t,e,r){r*=.5;var n=e[0],i=e[1],s=e[2],a=e[3],o=Math.sin(r),l=Math.cos(r);return t[0]=n*l+i*o,t[1]=i*l-n*o,t[2]=s*l+a*o,t[3]=a*l-s*o,t},t.scale=bl,t.scale$1=Zl,t.scale$2=Vl,t.scaleAndAdd=Fl,t.setCacheLimits=function(t,e){vt=t,bt=e;},t.setColumn=function(t,e,r){t[4*e+0]=r[0],t[4*e+1]=r[1],t[4*e+2]=r[2],t[4*e+3]=r[3];},t.setRTLTextPlugin=function(t,e,r=!1){if(Ss===bs||Ss===_s||Ss===ws)throw new Error(\"setRTLTextPlugin cannot be called multiple times.\");ks=X.resolveURL(t),Ss=bs,As=e,Ms(),r||Bs();},t.smoothstep=y,t.spec=Gt,t.storeAuthState=function(t,e){e?gt.add(t):gt.delete(t);},t.sub=ql,t.subtract=El,t.symbolSize=hh,t.tileAABB=function(t,e,r,n,i,s,a,o,l){if(\"globe\"===l.name)return af(t,e,new Dc(r,n,i));const u=Af({z:r,x:n,y:i},l);return new eu([(s+u.x/u.scale)*e,e*(u.y/u.scale),a],[(s+u.x2/u.scale)*e,e*(u.y2/u.scale),o])},t.tileCornersToBounds=of,t.tileTransform=Af,t.transformMat3=function(t,e,r){var n=e[0],i=e[1],s=e[2];return t[0]=n*r[0]+i*r[3]+s*r[6],t[1]=n*r[1]+i*r[4]+s*r[7],t[2]=n*r[2]+i*r[5]+s*r[8],t},t.transformMat4=jl,t.transformMat4$1=Xl,t.transformQuat=$l,t.transitionTileAABBinECEF=nf,t.translate=vl,t.transpose=function(t,e){if(t===e){var r=e[1],n=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=r,t[5]=e[7],t[6]=n,t[7]=i;}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t},t.triggerPluginCompletionEvent=Is,t.uniqueId=_,t.updateGlobeVertexNormal=function(t,e,r,n,i){const s=5*e+2;t.float32[s+0]=r,t.float32[s+1]=n,t.float32[s+2]=i;},t.validateCustomStyleLayer=function(t){const e=[],r=t.id;return void 0===r&&e.push({message:`layers.${r}: missing required property \"id\"`}),void 0===t.render&&e.push({message:`layers.${r}: missing required method \"render\"`}),t.renderingMode&&\"2d\"!==t.renderingMode&&\"3d\"!==t.renderingMode&&e.push({message:`layers.${r}: property \"renderingMode\" must be either \"2d\" or \"3d\"`}),e},t.validateFilter=t=>zi(ci(t)),t.validateFog=t=>zi(_i(t)),t.validateLayer=t=>zi(yi(t)),t.validateLight=t=>zi(vi(t)),t.validateSource=t=>zi(xi(t)),t.validateStyle=ki,t.validateTerrain=t=>zi(bi(t)),t.values=x,t.vectorTile=yc,t.version=O,t.warnOnce=E,t.window=e,t.wrap=m;}));\n\ndefine([\"./shared\"],(function(e){\"use strict\";function t(e){if(\"number\"==typeof e||\"boolean\"==typeof e||\"string\"==typeof e||null==e)return JSON.stringify(e);if(Array.isArray(e)){let r=\"[\";for(const o of e)r+=`${t(o)},`;return `${r}]`}let r=\"{\";for(const o of Object.keys(e).sort())r+=`${o}:${t(e[o])},`;return `${r}}`}function r(r){let o=\"\";for(const n of e.refProperties)o+=`/${t(r[n])}`;return o}class o{constructor(e){this.keyCache={},e&&this.replace(e);}replace(e){this._layerConfigs={},this._layers={},this.update(e,[]);}update(t,o){for(const r of t)this._layerConfigs[r.id]=r,(this._layers[r.id]=e.createStyleLayer(r)).compileFilter(),this.keyCache[r.id]&&delete this.keyCache[r.id];for(const e of o)delete this.keyCache[e],delete this._layerConfigs[e],delete this._layers[e];this.familiesBySource={};const n=function(e,t){const o={};for(let n=0;n<e.length;n++){const i=t&&t[e[n].id]||r(e[n]);t&&(t[e[n].id]=i);let s=o[i];s||(s=o[i]=[]),s.push(e[n]);}const n=[];for(const e in o)n.push(o[e]);return n}(e.values(this._layerConfigs),this.keyCache);for(const e of n){const t=e.map((e=>this._layers[e.id])),r=t[0];if(\"none\"===r.visibility)continue;const o=r.source||\"\";let n=this.familiesBySource[o];n||(n=this.familiesBySource[o]={});const i=r.sourceLayer||\"_geojsonTileLayer\";let s=n[i];s||(s=n[i]=[]),s.push(t);}}}class n{loadTile(t,r){const{uid:o,encoding:n,rawImageData:i,padding:s,buildQuadTree:a}=t,l=e.window.ImageBitmap&&i instanceof e.window.ImageBitmap?this.getImageData(i,s):i;r(null,new e.DEMData(o,l,n,s<1,a));}getImageData(e,t){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(e.width,e.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext(\"2d\")),this.offscreenCanvas.width=e.width,this.offscreenCanvas.height=e.height,this.offscreenCanvasContext.drawImage(e,0,0,e.width,e.height);const r=this.offscreenCanvasContext.getImageData(-t,-t,e.width+2*t,e.height+2*t);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),r}}var i=function e(t,r){var o,n=t&&t.type;if(\"FeatureCollection\"===n)for(o=0;o<t.features.length;o++)e(t.features[o],r);else if(\"GeometryCollection\"===n)for(o=0;o<t.geometries.length;o++)e(t.geometries[o],r);else if(\"Feature\"===n)e(t.geometry,r);else if(\"Polygon\"===n)s(t.coordinates,r);else if(\"MultiPolygon\"===n)for(o=0;o<t.coordinates.length;o++)s(t.coordinates[o],r);return t};function s(e,t){if(0!==e.length){a(e[0],t);for(var r=1;r<e.length;r++)a(e[r],!t);}}function a(e,t){for(var r=0,o=0,n=0,i=e.length,s=i-1;n<i;s=n++){var a=(e[n][0]-e[s][0])*(e[s][1]+e[n][1]),l=r+a;o+=Math.abs(r)>=Math.abs(a)?r-l+a:a-l+r,r=l;}r+o>=0!=!!t&&e.reverse();}const l=e.vectorTile.VectorTileFeature.prototype.toGeoJSON;class u{constructor(t){this._feature=t,this.extent=e.EXTENT,this.type=t.type,this.properties=t.tags,\"id\"in t&&!isNaN(t.id)&&(this.id=parseInt(t.id,10));}loadGeometry(){if(1===this._feature.type){const t=[];for(const r of this._feature.geometry)t.push([new e.pointGeometry(r[0],r[1])]);return t}{const t=[];for(const r of this._feature.geometry){const o=[];for(const t of r)o.push(new e.pointGeometry(t[0],t[1]));t.push(o);}return t}}toGeoJSON(e,t,r){return l.call(this,e,t,r)}}class h{constructor(t){this.layers={_geojsonTileLayer:this},this.name=\"_geojsonTileLayer\",this.extent=e.EXTENT,this.length=t.length,this._features=t;}feature(e){return new u(this._features[e])}}var c=e.vectorTile.VectorTileFeature,f=p;function p(e,t){this.options=t||{},this.features=e,this.length=e.length;}function g(e,t){this.id=\"number\"==typeof e.id?e.id:void 0,this.type=e.type,this.rawGeometry=1===e.type?[e.geometry]:e.geometry,this.properties=e.tags,this.extent=t||4096;}p.prototype.feature=function(e){return new g(this.features[e],this.options.extent)},g.prototype.loadGeometry=function(){var t=this.rawGeometry;this.geometry=[];for(var r=0;r<t.length;r++){for(var o=t[r],n=[],i=0;i<o.length;i++)n.push(new e.pointGeometry(o[i][0],o[i][1]));this.geometry.push(n);}return this.geometry},g.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var e=this.geometry,t=1/0,r=-1/0,o=1/0,n=-1/0,i=0;i<e.length;i++)for(var s=e[i],a=0;a<s.length;a++){var l=s[a];t=Math.min(t,l.x),r=Math.max(r,l.x),o=Math.min(o,l.y),n=Math.max(n,l.y);}return [t,o,r,n]},g.prototype.toGeoJSON=c.prototype.toGeoJSON;var d=y,m=f;function y(t){var r=new e.pbf;return function(e,t){for(var r in e.layers)t.writeMessage(3,v,e.layers[r]);}(t,r),r.finish()}function v(e,t){var r;t.writeVarintField(15,e.version||1),t.writeStringField(1,e.name||\"\"),t.writeVarintField(5,e.extent||4096);var o={keys:[],values:[],keycache:{},valuecache:{}};for(r=0;r<e.length;r++)o.feature=e.feature(r),t.writeMessage(2,x,o);var n=o.keys;for(r=0;r<n.length;r++)t.writeStringField(3,n[r]);var i=o.values;for(r=0;r<i.length;r++)t.writeMessage(4,b,i[r]);}function x(e,t){var r=e.feature;void 0!==r.id&&t.writeVarintField(1,r.id),t.writeMessage(2,w,e),t.writeVarintField(3,r.type),t.writeMessage(4,P,r);}function w(e,t){var r=e.feature,o=e.keys,n=e.values,i=e.keycache,s=e.valuecache;for(var a in r.properties){var l=r.properties[a],u=i[a];if(null!==l){void 0===u&&(o.push(a),i[a]=u=o.length-1),t.writeVarint(u);var h=typeof l;\"string\"!==h&&\"boolean\"!==h&&\"number\"!==h&&(l=JSON.stringify(l));var c=h+\":\"+l,f=s[c];void 0===f&&(n.push(l),s[c]=f=n.length-1),t.writeVarint(f);}}}function S(e,t){return (t<<3)+(7&e)}function M(e){return e<<1^e>>31}function P(e,t){for(var r=e.loadGeometry(),o=e.type,n=0,i=0,s=r.length,a=0;a<s;a++){var l=r[a],u=1;1===o&&(u=l.length),t.writeVarint(S(1,u));for(var h=3===o?l.length-1:l.length,c=0;c<h;c++){1===c&&1!==o&&t.writeVarint(S(2,h-1));var f=l[c].x-n,p=l[c].y-i;t.writeVarint(M(f)),t.writeVarint(M(p)),n+=f,i+=p;}3===o&&t.writeVarint(S(7,1));}}function b(e,t){var r=typeof e;\"string\"===r?t.writeStringField(1,e):\"boolean\"===r?t.writeBooleanField(7,e):\"number\"===r&&(e%1!=0?t.writeDoubleField(3,e):e<0?t.writeSVarintField(6,e):t.writeVarintField(5,e));}function T(e,t,r,o,n,i){if(n-o<=r)return;const s=o+n>>1;k(e,t,s,o,n,i%2),T(e,t,r,o,s-1,i+1),T(e,t,r,s+1,n,i+1);}function k(e,t,r,o,n,i){for(;n>o;){if(n-o>600){const s=n-o+1,a=r-o+1,l=Math.log(s),u=.5*Math.exp(2*l/3),h=.5*Math.sqrt(l*u*(s-u)/s)*(a-s/2<0?-1:1);k(e,t,r,Math.max(o,Math.floor(r-a*u/s+h)),Math.min(n,Math.floor(r+(s-a)*u/s+h)),i);}const s=t[2*r+i];let a=o,l=n;for(I(e,t,o,r),t[2*n+i]>s&&I(e,t,o,n);a<l;){for(I(e,t,a,l),a++,l--;t[2*a+i]<s;)a++;for(;t[2*l+i]>s;)l--;}t[2*o+i]===s?I(e,t,o,l):(l++,I(e,t,l,n)),l<=r&&(o=l+1),r<=l&&(n=l-1);}}function I(e,t,r,o){_(e,r,o),_(t,2*r,2*o),_(t,2*r+1,2*o+1);}function _(e,t,r){const o=e[t];e[t]=e[r],e[r]=o;}function L(e,t,r,o){const n=e-r,i=t-o;return n*n+i*i}d.fromVectorTileJs=y,d.fromGeojsonVt=function(e,t){t=t||{};var r={};for(var o in e)r[o]=new f(e[o].features,t),r[o].name=o,r[o].version=t.version,r[o].extent=t.extent;return y({layers:r})},d.GeoJSONWrapper=m;const C=e=>e[0],O=e=>e[1];class z{constructor(e,t=C,r=O,o=64,n=Float64Array){this.nodeSize=o,this.points=e;const i=e.length<65536?Uint16Array:Uint32Array,s=this.ids=new i(e.length),a=this.coords=new n(2*e.length);for(let o=0;o<e.length;o++)s[o]=o,a[2*o]=t(e[o]),a[2*o+1]=r(e[o]);T(s,a,o,0,s.length-1,0);}range(e,t,r,o){return function(e,t,r,o,n,i,s){const a=[0,e.length-1,0],l=[];let u,h;for(;a.length;){const c=a.pop(),f=a.pop(),p=a.pop();if(f-p<=s){for(let s=p;s<=f;s++)u=t[2*s],h=t[2*s+1],u>=r&&u<=n&&h>=o&&h<=i&&l.push(e[s]);continue}const g=Math.floor((p+f)/2);u=t[2*g],h=t[2*g+1],u>=r&&u<=n&&h>=o&&h<=i&&l.push(e[g]);const d=(c+1)%2;(0===c?r<=u:o<=h)&&(a.push(p),a.push(g-1),a.push(d)),(0===c?n>=u:i>=h)&&(a.push(g+1),a.push(f),a.push(d));}return l}(this.ids,this.coords,e,t,r,o,this.nodeSize)}within(e,t,r){return function(e,t,r,o,n,i){const s=[0,e.length-1,0],a=[],l=n*n;for(;s.length;){const u=s.pop(),h=s.pop(),c=s.pop();if(h-c<=i){for(let n=c;n<=h;n++)L(t[2*n],t[2*n+1],r,o)<=l&&a.push(e[n]);continue}const f=Math.floor((c+h)/2),p=t[2*f],g=t[2*f+1];L(p,g,r,o)<=l&&a.push(e[f]);const d=(u+1)%2;(0===u?r-n<=p:o-n<=g)&&(s.push(c),s.push(f-1),s.push(d)),(0===u?r+n>=p:o+n>=g)&&(s.push(f+1),s.push(h),s.push(d));}return a}(this.ids,this.coords,e,t,r,this.nodeSize)}}const E={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:e=>e},F=Math.fround||(N=new Float32Array(1),e=>(N[0]=+e,N[0]));var N;class j{constructor(e){this.options=A(Object.create(E),e),this.trees=new Array(this.options.maxZoom+1);}load(e){const{log:t,minZoom:r,maxZoom:o,nodeSize:n}=this.options;t&&console.time(\"total time\");const i=`prepare ${e.length} points`;t&&console.time(i),this.points=e;let s=[];for(let t=0;t<e.length;t++)e[t].geometry&&s.push(G(e[t],t));this.trees[o+1]=new z(s,D,$,n,Float32Array),t&&console.timeEnd(i);for(let e=o;e>=r;e--){const r=+Date.now();s=this._cluster(s,e),this.trees[e]=new z(s,D,$,n,Float32Array),t&&console.log(\"z%d: %d clusters in %dms\",e,s.length,+Date.now()-r);}return t&&console.timeEnd(\"total time\"),this}getClusters(e,t){let r=((e[0]+180)%360+360)%360-180;const o=Math.max(-90,Math.min(90,e[1]));let n=180===e[2]?180:((e[2]+180)%360+360)%360-180;const i=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)r=-180,n=180;else if(r>n){const e=this.getClusters([r,o,180,i],t),s=this.getClusters([-180,o,n,i],t);return e.concat(s)}const s=this.trees[this._limitZoom(t)],a=s.range(Y(r),X(i),Y(n),X(o)),l=[];for(const e of a){const t=s.points[e];l.push(t.numPoints?J(t):this.points[t.index]);}return l}getChildren(e){const t=this._getOriginId(e),r=this._getOriginZoom(e),o=\"No cluster with the specified id.\",n=this.trees[r];if(!n)throw new Error(o);const i=n.points[t];if(!i)throw new Error(o);const s=this.options.radius/(this.options.extent*Math.pow(2,r-1)),a=n.within(i.x,i.y,s),l=[];for(const t of a){const r=n.points[t];r.parentId===e&&l.push(r.numPoints?J(r):this.points[r.index]);}if(0===l.length)throw new Error(o);return l}getLeaves(e,t,r){const o=[];return this._appendLeaves(o,e,t=t||10,r=r||0,0),o}getTile(e,t,r){const o=this.trees[this._limitZoom(e)],n=Math.pow(2,e),{extent:i,radius:s}=this.options,a=s/i,l=(r-a)/n,u=(r+1+a)/n,h={features:[]};return this._addTileFeatures(o.range((t-a)/n,l,(t+1+a)/n,u),o.points,t,r,n,h),0===t&&this._addTileFeatures(o.range(1-a/n,l,1,u),o.points,n,r,n,h),t===n-1&&this._addTileFeatures(o.range(0,l,a/n,u),o.points,-1,r,n,h),h.features.length?h:null}getClusterExpansionZoom(e){let t=this._getOriginZoom(e)-1;for(;t<=this.options.maxZoom;){const r=this.getChildren(e);if(t++,1!==r.length)break;e=r[0].properties.cluster_id;}return t}_appendLeaves(e,t,r,o,n){const i=this.getChildren(t);for(const t of i){const i=t.properties;if(i&&i.cluster?n+i.point_count<=o?n+=i.point_count:n=this._appendLeaves(e,i.cluster_id,r,o,n):n<o?n++:e.push(t),e.length===r)break}return n}_addTileFeatures(e,t,r,o,n,i){for(const s of e){const e=t[s],a=e.numPoints;let l,u,h;if(a)l=W(e),u=e.x,h=e.y;else {const t=this.points[e.index];l=t.properties,u=Y(t.geometry.coordinates[0]),h=X(t.geometry.coordinates[1]);}const c={type:1,geometry:[[Math.round(this.options.extent*(u*n-r)),Math.round(this.options.extent*(h*n-o))]],tags:l};let f;a?f=e.id:this.options.generateId?f=e.index:this.points[e.index].id&&(f=this.points[e.index].id),void 0!==f&&(c.id=f),i.features.push(c);}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(+e,this.options.maxZoom+1))}_cluster(e,t){const r=[],{radius:o,extent:n,reduce:i,minPoints:s}=this.options,a=o/(n*Math.pow(2,t));for(let o=0;o<e.length;o++){const n=e[o];if(n.zoom<=t)continue;n.zoom=t;const l=this.trees[t+1],u=l.within(n.x,n.y,a),h=n.numPoints||1;let c=h;for(const e of u){const r=l.points[e];r.zoom>t&&(c+=r.numPoints||1);}if(c>h&&c>=s){let e=n.x*h,s=n.y*h,a=i&&h>1?this._map(n,!0):null;const f=(o<<5)+(t+1)+this.points.length;for(const r of u){const o=l.points[r];if(o.zoom<=t)continue;o.zoom=t;const u=o.numPoints||1;e+=o.x*u,s+=o.y*u,o.parentId=f,i&&(a||(a=this._map(n,!0)),i(a,this._map(o)));}n.parentId=f,r.push(Z(e/c,s/c,f,c,a));}else if(r.push(n),c>1)for(const e of u){const o=l.points[e];o.zoom<=t||(o.zoom=t,r.push(o));}}return r}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return (e-this.points.length)%32}_map(e,t){if(e.numPoints)return t?A({},e.properties):e.properties;const r=this.points[e.index].properties,o=this.options.map(r);return t&&o===r?A({},o):o}}function Z(e,t,r,o,n){return {x:F(e),y:F(t),zoom:1/0,id:r,parentId:-1,numPoints:o,properties:n}}function G(e,t){const[r,o]=e.geometry.coordinates;return {x:F(Y(r)),y:F(X(o)),zoom:1/0,index:t,parentId:-1}}function J(e){return {type:\"Feature\",id:e.id,properties:W(e),geometry:{type:\"Point\",coordinates:[(t=e.x,360*(t-.5)),V(e.y)]}};var t;}function W(e){const t=e.numPoints,r=t>=1e4?`${Math.round(t/1e3)}k`:t>=1e3?Math.round(t/100)/10+\"k\":t;return A(A({},e.properties),{cluster:!0,cluster_id:e.id,point_count:t,point_count_abbreviated:r})}function Y(e){return e/360+.5}function X(e){const t=Math.sin(e*Math.PI/180),r=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return r<0?0:r>1?1:r}function V(e){const t=(180-360*e)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}function A(e,t){for(const r in t)e[r]=t[r];return e}function D(e){return e.x}function $(e){return e.y}function B(e,t,r,o){for(var n,i=o,s=r-t>>1,a=r-t,l=e[t],u=e[t+1],h=e[r],c=e[r+1],f=t+3;f<r;f+=3){var p=R(e[f],e[f+1],l,u,h,c);if(p>i)n=f,i=p;else if(p===i){var g=Math.abs(f-s);g<a&&(n=f,a=g);}}i>o&&(n-t>3&&B(e,t,n,o),e[n+2]=i,r-n>3&&B(e,n,r,o));}function R(e,t,r,o,n,i){var s=n-r,a=i-o;if(0!==s||0!==a){var l=((e-r)*s+(t-o)*a)/(s*s+a*a);l>1?(r=n,o=i):l>0&&(r+=s*l,o+=a*l);}return (s=e-r)*s+(a=t-o)*a}function q(e,t,r,o){var n={id:void 0===e?null:e,type:t,geometry:r,tags:o,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(e){var t=e.geometry,r=e.type;if(\"Point\"===r||\"MultiPoint\"===r||\"LineString\"===r)U(e,t);else if(\"Polygon\"===r||\"MultiLineString\"===r)for(var o=0;o<t.length;o++)U(e,t[o]);else if(\"MultiPolygon\"===r)for(o=0;o<t.length;o++)for(var n=0;n<t[o].length;n++)U(e,t[o][n]);}(n),n}function U(e,t){for(var r=0;r<t.length;r+=3)e.minX=Math.min(e.minX,t[r]),e.minY=Math.min(e.minY,t[r+1]),e.maxX=Math.max(e.maxX,t[r]),e.maxY=Math.max(e.maxY,t[r+1]);}function Q(e,t,r,o){if(t.geometry){var n=t.geometry.coordinates,i=t.geometry.type,s=Math.pow(r.tolerance/((1<<r.maxZoom)*r.extent),2),a=[],l=t.id;if(r.promoteId?l=t.properties[r.promoteId]:r.generateId&&(l=o||0),\"Point\"===i)H(n,a);else if(\"MultiPoint\"===i)for(var u=0;u<n.length;u++)H(n[u],a);else if(\"LineString\"===i)K(n,a,s,!1);else if(\"MultiLineString\"===i){if(r.lineMetrics){for(u=0;u<n.length;u++)K(n[u],a=[],s,!1),e.push(q(l,\"LineString\",a,t.properties));return}ee(n,a,s,!1);}else if(\"Polygon\"===i)ee(n,a,s,!0);else {if(\"MultiPolygon\"!==i){if(\"GeometryCollection\"===i){for(u=0;u<t.geometry.geometries.length;u++)Q(e,{id:l,geometry:t.geometry.geometries[u],properties:t.properties},r,o);return}throw new Error(\"Input data is not a valid GeoJSON object.\")}for(u=0;u<n.length;u++){var h=[];ee(n[u],h,s,!0),a.push(h);}}e.push(q(l,i,a,t.properties));}}function H(e,t){t.push(te(e[0])),t.push(re(e[1])),t.push(0);}function K(e,t,r,o){for(var n,i,s=0,a=0;a<e.length;a++){var l=te(e[a][0]),u=re(e[a][1]);t.push(l),t.push(u),t.push(0),a>0&&(s+=o?(n*u-l*i)/2:Math.sqrt(Math.pow(l-n,2)+Math.pow(u-i,2))),n=l,i=u;}var h=t.length-3;t[2]=1,B(t,0,h,r),t[h+2]=1,t.size=Math.abs(s),t.start=0,t.end=t.size;}function ee(e,t,r,o){for(var n=0;n<e.length;n++){var i=[];K(e[n],i,r,o),t.push(i);}}function te(e){return e/360+.5}function re(e){var t=Math.sin(e*Math.PI/180),r=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return r<0?0:r>1?1:r}function oe(e,t,r,o,n,i,s,a){if(o/=t,i>=(r/=t)&&s<o)return e;if(s<r||i>=o)return null;for(var l=[],u=0;u<e.length;u++){var h=e[u],c=h.geometry,f=h.type,p=0===n?h.minX:h.minY,g=0===n?h.maxX:h.maxY;if(p>=r&&g<o)l.push(h);else if(!(g<r||p>=o)){var d=[];if(\"Point\"===f||\"MultiPoint\"===f)ne(c,d,r,o,n);else if(\"LineString\"===f)ie(c,d,r,o,n,!1,a.lineMetrics);else if(\"MultiLineString\"===f)ae(c,d,r,o,n,!1);else if(\"Polygon\"===f)ae(c,d,r,o,n,!0);else if(\"MultiPolygon\"===f)for(var m=0;m<c.length;m++){var y=[];ae(c[m],y,r,o,n,!0),y.length&&d.push(y);}if(d.length){if(a.lineMetrics&&\"LineString\"===f){for(m=0;m<d.length;m++)l.push(q(h.id,f,d[m],h.tags));continue}\"LineString\"!==f&&\"MultiLineString\"!==f||(1===d.length?(f=\"LineString\",d=d[0]):f=\"MultiLineString\"),\"Point\"!==f&&\"MultiPoint\"!==f||(f=3===d.length?\"Point\":\"MultiPoint\"),l.push(q(h.id,f,d,h.tags));}}}return l.length?l:null}function ne(e,t,r,o,n){for(var i=0;i<e.length;i+=3){var s=e[i+n];s>=r&&s<=o&&(t.push(e[i]),t.push(e[i+1]),t.push(e[i+2]));}}function ie(e,t,r,o,n,i,s){for(var a,l,u=se(e),h=0===n?ue:he,c=e.start,f=0;f<e.length-3;f+=3){var p=e[f],g=e[f+1],d=e[f+2],m=e[f+3],y=e[f+4],v=0===n?p:g,x=0===n?m:y,w=!1;s&&(a=Math.sqrt(Math.pow(p-m,2)+Math.pow(g-y,2))),v<r?x>r&&(l=h(u,p,g,m,y,r),s&&(u.start=c+a*l)):v>o?x<o&&(l=h(u,p,g,m,y,o),s&&(u.start=c+a*l)):le(u,p,g,d),x<r&&v>=r&&(l=h(u,p,g,m,y,r),w=!0),x>o&&v<=o&&(l=h(u,p,g,m,y,o),w=!0),!i&&w&&(s&&(u.end=c+a*l),t.push(u),u=se(e)),s&&(c+=a);}var S=e.length-3;p=e[S],g=e[S+1],d=e[S+2],(v=0===n?p:g)>=r&&v<=o&&le(u,p,g,d),S=u.length-3,i&&S>=3&&(u[S]!==u[0]||u[S+1]!==u[1])&&le(u,u[0],u[1],u[2]),u.length&&t.push(u);}function se(e){var t=[];return t.size=e.size,t.start=e.start,t.end=e.end,t}function ae(e,t,r,o,n,i){for(var s=0;s<e.length;s++)ie(e[s],t,r,o,n,i,!1);}function le(e,t,r,o){e.push(t),e.push(r),e.push(o);}function ue(e,t,r,o,n,i){var s=(i-t)/(o-t);return e.push(i),e.push(r+(n-r)*s),e.push(1),s}function he(e,t,r,o,n,i){var s=(i-r)/(n-r);return e.push(t+(o-t)*s),e.push(i),e.push(1),s}function ce(e,t){for(var r=[],o=0;o<e.length;o++){var n,i=e[o],s=i.type;if(\"Point\"===s||\"MultiPoint\"===s||\"LineString\"===s)n=fe(i.geometry,t);else if(\"MultiLineString\"===s||\"Polygon\"===s){n=[];for(var a=0;a<i.geometry.length;a++)n.push(fe(i.geometry[a],t));}else if(\"MultiPolygon\"===s)for(n=[],a=0;a<i.geometry.length;a++){for(var l=[],u=0;u<i.geometry[a].length;u++)l.push(fe(i.geometry[a][u],t));n.push(l);}r.push(q(i.id,s,n,i.tags));}return r}function fe(e,t){var r=[];r.size=e.size,void 0!==e.start&&(r.start=e.start,r.end=e.end);for(var o=0;o<e.length;o+=3)r.push(e[o]+t,e[o+1],e[o+2]);return r}function pe(e,t){if(e.transformed)return e;var r,o,n,i=1<<e.z,s=e.x,a=e.y;for(r=0;r<e.features.length;r++){var l=e.features[r],u=l.geometry,h=l.type;if(l.geometry=[],1===h)for(o=0;o<u.length;o+=2)l.geometry.push(ge(u[o],u[o+1],t,i,s,a));else for(o=0;o<u.length;o++){var c=[];for(n=0;n<u[o].length;n+=2)c.push(ge(u[o][n],u[o][n+1],t,i,s,a));l.geometry.push(c);}}return e.transformed=!0,e}function ge(e,t,r,o,n,i){return [Math.round(r*(e*o-n)),Math.round(r*(t*o-i))]}function de(e,t,r,o,n){for(var i=t===n.maxZoom?0:n.tolerance/((1<<t)*n.extent),s={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:r,y:o,z:t,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},a=0;a<e.length;a++){s.numFeatures++,me(s,e[a],i,n);var l=e[a].minX,u=e[a].minY,h=e[a].maxX,c=e[a].maxY;l<s.minX&&(s.minX=l),u<s.minY&&(s.minY=u),h>s.maxX&&(s.maxX=h),c>s.maxY&&(s.maxY=c);}return s}function me(e,t,r,o){var n=t.geometry,i=t.type,s=[];if(\"Point\"===i||\"MultiPoint\"===i)for(var a=0;a<n.length;a+=3)s.push(n[a]),s.push(n[a+1]),e.numPoints++,e.numSimplified++;else if(\"LineString\"===i)ye(s,n,e,r,!1,!1);else if(\"MultiLineString\"===i||\"Polygon\"===i)for(a=0;a<n.length;a++)ye(s,n[a],e,r,\"Polygon\"===i,0===a);else if(\"MultiPolygon\"===i)for(var l=0;l<n.length;l++){var u=n[l];for(a=0;a<u.length;a++)ye(s,u[a],e,r,!0,0===a);}if(s.length){var h=t.tags||null;if(\"LineString\"===i&&o.lineMetrics){for(var c in h={},t.tags)h[c]=t.tags[c];h.mapbox_clip_start=n.start/n.size,h.mapbox_clip_end=n.end/n.size;}var f={geometry:s,type:\"Polygon\"===i||\"MultiPolygon\"===i?3:\"LineString\"===i||\"MultiLineString\"===i?2:1,tags:h};null!==t.id&&(f.id=t.id),e.features.push(f);}}function ye(e,t,r,o,n,i){var s=o*o;if(o>0&&t.size<(n?s:o))r.numPoints+=t.length/3;else {for(var a=[],l=0;l<t.length;l+=3)(0===o||t[l+2]>s)&&(r.numSimplified++,a.push(t[l]),a.push(t[l+1])),r.numPoints++;n&&function(e,t){for(var r=0,o=0,n=e.length,i=n-2;o<n;i=o,o+=2)r+=(e[o]-e[i])*(e[o+1]+e[i+1]);if(r>0===t)for(o=0,n=e.length;o<n/2;o+=2){var s=e[o],a=e[o+1];e[o]=e[n-2-o],e[o+1]=e[n-1-o],e[n-2-o]=s,e[n-1-o]=a;}}(a,i),e.push(a);}}function ve(e,t){var r=(t=this.options=function(e,t){for(var r in t)e[r]=t[r];return e}(Object.create(this.options),t)).debug;if(r&&console.time(\"preprocess data\"),t.maxZoom<0||t.maxZoom>24)throw new Error(\"maxZoom should be in the 0-24 range\");if(t.promoteId&&t.generateId)throw new Error(\"promoteId and generateId cannot be used together.\");var o=function(e,t){var r=[];if(\"FeatureCollection\"===e.type)for(var o=0;o<e.features.length;o++)Q(r,e.features[o],t,o);else Q(r,\"Feature\"===e.type?e:{geometry:e},t);return r}(e,t);this.tiles={},this.tileCoords=[],r&&(console.timeEnd(\"preprocess data\"),console.log(\"index: maxZoom: %d, maxPoints: %d\",t.indexMaxZoom,t.indexMaxPoints),console.time(\"generate tiles\"),this.stats={},this.total=0),(o=function(e,t){var r=t.buffer/t.extent,o=e,n=oe(e,1,-1-r,r,0,-1,2,t),i=oe(e,1,1-r,2+r,0,-1,2,t);return (n||i)&&(o=oe(e,1,-r,1+r,0,-1,2,t)||[],n&&(o=ce(n,1).concat(o)),i&&(o=o.concat(ce(i,-1)))),o}(o,t)).length&&this.splitTile(o,0,0,0),r&&(o.length&&console.log(\"features: %d, points: %d\",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd(\"generate tiles\"),console.log(\"tiles generated:\",this.total,JSON.stringify(this.stats)));}function xe(e,t,r){return 32*((1<<e)*r+t)+e}function we(e,t){const r=e.tileID.canonical;if(!this._geoJSONIndex)return t(null,null);const o=this._geoJSONIndex.getTile(r.z,r.x,r.y);if(!o)return t(null,null);const n=new h(o.features);let i=d(n);0===i.byteOffset&&i.byteLength===i.buffer.byteLength||(i=new Uint8Array(i)),t(null,{vectorTile:n,rawData:i.buffer});}ve.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},ve.prototype.splitTile=function(e,t,r,o,n,i,s){for(var a=[e,t,r,o],l=this.options,u=l.debug;a.length;){o=a.pop(),r=a.pop(),t=a.pop(),e=a.pop();var h=1<<t,c=xe(t,r,o),f=this.tiles[c];if(!f&&(u>1&&console.time(\"creation\"),f=this.tiles[c]=de(e,t,r,o,l),this.tileCoords.push({z:t,x:r,y:o}),u)){u>1&&(console.log(\"tile z%d-%d-%d (features: %d, points: %d, simplified: %d)\",t,r,o,f.numFeatures,f.numPoints,f.numSimplified),console.timeEnd(\"creation\"));var p=\"z\"+t;this.stats[p]=(this.stats[p]||0)+1,this.total++;}if(f.source=e,n){if(t===l.maxZoom||t===n)continue;var g=1<<n-t;if(r!==Math.floor(i/g)||o!==Math.floor(s/g))continue}else if(t===l.indexMaxZoom||f.numPoints<=l.indexMaxPoints)continue;if(f.source=null,0!==e.length){u>1&&console.time(\"clipping\");var d,m,y,v,x,w,S=.5*l.buffer/l.extent,M=.5-S,P=.5+S,b=1+S;d=m=y=v=null,x=oe(e,h,r-S,r+P,0,f.minX,f.maxX,l),w=oe(e,h,r+M,r+b,0,f.minX,f.maxX,l),e=null,x&&(d=oe(x,h,o-S,o+P,1,f.minY,f.maxY,l),m=oe(x,h,o+M,o+b,1,f.minY,f.maxY,l),x=null),w&&(y=oe(w,h,o-S,o+P,1,f.minY,f.maxY,l),v=oe(w,h,o+M,o+b,1,f.minY,f.maxY,l),w=null),u>1&&console.timeEnd(\"clipping\"),a.push(d||[],t+1,2*r,2*o),a.push(m||[],t+1,2*r,2*o+1),a.push(y||[],t+1,2*r+1,2*o),a.push(v||[],t+1,2*r+1,2*o+1);}}},ve.prototype.getTile=function(e,t,r){var o=this.options,n=o.extent,i=o.debug;if(e<0||e>24)return null;var s=1<<e,a=xe(e,t=(t%s+s)%s,r);if(this.tiles[a])return pe(this.tiles[a],n);i>1&&console.log(\"drilling down to z%d-%d-%d\",e,t,r);for(var l,u=e,h=t,c=r;!l&&u>0;)u--,h=Math.floor(h/2),c=Math.floor(c/2),l=this.tiles[xe(u,h,c)];return l&&l.source?(i>1&&console.log(\"found parent tile z%d-%d-%d\",u,h,c),i>1&&console.time(\"drilling down\"),this.splitTile(l.source,u,h,c,e,t,r),i>1&&console.timeEnd(\"drilling down\"),this.tiles[a]?pe(this.tiles[a],n):null):null};class Se extends e.VectorTileWorkerSource{constructor(e,t,r,o,n){super(e,t,r,o,we),n&&(this.loadGeoJSON=n);}loadData(t,r){const o=t&&t.request,n=o&&o.collectResourceTiming;this.loadGeoJSON(t,((s,a)=>{if(s||!a)return r(s);if(\"object\"!=typeof a)return r(new Error(`Input data given to '${t.source}' is not a valid GeoJSON object.`));{i(a,!0);try{if(t.filter){const r=e.createExpression(t.filter,{type:\"boolean\",\"property-type\":\"data-driven\",overridable:!1,transition:!1});if(\"error\"===r.result)throw new Error(r.value.map((e=>`${e.key}: ${e.message}`)).join(\", \"));const o=a.features.filter((e=>r.value.evaluate({zoom:0},e)));a={type:\"FeatureCollection\",features:o};}this._geoJSONIndex=t.cluster?new j(function({superclusterOptions:t,clusterProperties:r}){if(!r||!t)return t;const o={},n={},i={accumulated:null,zoom:0},s={properties:null},a=Object.keys(r);for(const t of a){const[i,s]=r[t],a=e.createExpression(s),l=e.createExpression(\"string\"==typeof i?[i,[\"accumulated\"],[\"get\",t]]:i);o[t]=a.value,n[t]=l.value;}return t.map=e=>{s.properties=e;const t={};for(const e of a)t[e]=o[e].evaluate(i,s);return t},t.reduce=(e,t)=>{s.properties=t;for(const t of a)i.accumulated=e[t],e[t]=n[t].evaluate(i,s);},t}(t)).load(a.features):function(e,t){return new ve(e,t)}(a,t.geojsonVtOptions);}catch(s){return r(s)}this.loaded={};const l={};if(n){const r=e.getPerformanceMeasurement(o);r&&(l.resourceTiming={},l.resourceTiming[t.source]=JSON.parse(JSON.stringify(r)));}r(null,l);}}));}reloadTile(e,t){const r=this.loaded;return r&&r[e.uid]?super.reloadTile(e,t):this.loadTile(e,t)}loadGeoJSON(t,r){if(t.request)e.getJSON(t.request,r);else {if(\"string\"!=typeof t.data)return r(new Error(`Input data given to '${t.source}' is not a valid GeoJSON object.`));try{return r(null,JSON.parse(t.data))}catch(e){return r(new Error(`Input data given to '${t.source}' is not a valid GeoJSON object.`))}}}getClusterExpansionZoom(e,t){try{t(null,this._geoJSONIndex.getClusterExpansionZoom(e.clusterId));}catch(e){t(e);}}getClusterChildren(e,t){try{t(null,this._geoJSONIndex.getChildren(e.clusterId));}catch(e){t(e);}}getClusterLeaves(e,t){try{t(null,this._geoJSONIndex.getLeaves(e.clusterId,e.limit,e.offset));}catch(e){t(e);}}}class Me{constructor(t){this.self=t,this.actor=new e.Actor(t,this),this.layerIndexes={},this.availableImages={},this.isSpriteLoaded={},this.projections={},this.defaultProjection=e.getProjection({name:\"mercator\"}),this.workerSourceTypes={vector:e.VectorTileWorkerSource,geojson:Se},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(e,t)=>{if(this.workerSourceTypes[e])throw new Error(`Worker source with name \"${e}\" already registered.`);this.workerSourceTypes[e]=t;},this.self.registerRTLTextPlugin=t=>{if(e.plugin.isParsed())throw new Error(\"RTL text plugin already registered.\");e.plugin.applyArabicShaping=t.applyArabicShaping,e.plugin.processBidirectionalText=t.processBidirectionalText,e.plugin.processStyledBidirectionalText=t.processStyledBidirectionalText;};}clearCaches(e,t,r){delete this.layerIndexes[e],delete this.availableImages[e],delete this.workerSources[e],delete this.demWorkerSources[e],r();}checkIfReady(e,t,r){r();}setReferrer(e,t){this.referrer=t;}spriteLoaded(t,r){this.isSpriteLoaded[t]=r;for(const o in this.workerSources[t]){const n=this.workerSources[t][o];for(const t in n)n[t]instanceof e.VectorTileWorkerSource&&(n[t].isSpriteLoaded=r,n[t].fire(new e.Event(\"isSpriteLoaded\")));}}setImages(e,t,r){this.availableImages[e]=t;for(const r in this.workerSources[e]){const o=this.workerSources[e][r];for(const e in o)o[e].availableImages=t;}r();}enableTerrain(e,t,r){this.terrain=t,r();}setProjection(t,r){this.projections[t]=e.getProjection(r);}setLayers(e,t,r){this.getLayerIndex(e).replace(t),r();}updateLayers(e,t,r){this.getLayerIndex(e).update(t.layers,t.removedIds),r();}loadTile(t,r,o){const n=this.enableTerrain?e.extend({enableTerrain:this.terrain},r):r;n.projection=this.projections[t]||this.defaultProjection,this.getWorkerSource(t,r.type,r.source).loadTile(n,o);}loadDEMTile(t,r,o){const n=this.enableTerrain?e.extend({buildQuadTree:this.terrain},r):r;this.getDEMWorkerSource(t,r.source).loadTile(n,o);}reloadTile(t,r,o){const n=this.enableTerrain?e.extend({enableTerrain:this.terrain},r):r;n.projection=this.projections[t]||this.defaultProjection,this.getWorkerSource(t,r.type,r.source).reloadTile(n,o);}abortTile(e,t,r){this.getWorkerSource(e,t.type,t.source).abortTile(t,r);}removeTile(e,t,r){this.getWorkerSource(e,t.type,t.source).removeTile(t,r);}removeSource(e,t,r){if(!this.workerSources[e]||!this.workerSources[e][t.type]||!this.workerSources[e][t.type][t.source])return;const o=this.workerSources[e][t.type][t.source];delete this.workerSources[e][t.type][t.source],void 0!==o.removeSource?o.removeSource(t,r):r();}loadWorkerSource(e,t,r){try{this.self.importScripts(t.url),r();}catch(e){r(e.toString());}}syncRTLPluginState(t,r,o){try{e.plugin.setState(r);const t=e.plugin.getPluginURL();if(e.plugin.isLoaded()&&!e.plugin.isParsed()&&null!=t){this.self.importScripts(t);const r=e.plugin.isParsed();o(r?void 0:new Error(`RTL Text Plugin failed to import scripts from ${t}`),r);}}catch(e){o(e.toString());}}getAvailableImages(e){let t=this.availableImages[e];return t||(t=[]),t}getLayerIndex(e){let t=this.layerIndexes[e];return t||(t=this.layerIndexes[e]=new o),t}getWorkerSource(e,t,r){return this.workerSources[e]||(this.workerSources[e]={}),this.workerSources[e][t]||(this.workerSources[e][t]={}),this.workerSources[e][t][r]||(this.workerSources[e][t][r]=new this.workerSourceTypes[t]({send:(t,r,o,n,i,s)=>{this.actor.send(t,r,o,e,i,s);},scheduler:this.actor.scheduler},this.getLayerIndex(e),this.getAvailableImages(e),this.isSpriteLoaded[e])),this.workerSources[e][t][r]}getDEMWorkerSource(e,t){return this.demWorkerSources[e]||(this.demWorkerSources[e]={}),this.demWorkerSources[e][t]||(this.demWorkerSources[e][t]=new n),this.demWorkerSources[e][t]}enforceCacheSizeLimit(t,r){e.enforceCacheSizeLimit(r);}getWorkerPerformanceMetrics(e,t,r){r(void 0,void 0);}}return \"undefined\"!=typeof WorkerGlobalScope&&\"undefined\"!=typeof self&&self instanceof WorkerGlobalScope&&(self.worker=new Me(self)),Me}));\n\ndefine([\"./shared\"],(function(e){\"use strict\";function t(e,i){if(Array.isArray(e)){if(!Array.isArray(i)||e.length!==i.length)return !1;for(let o=0;o<e.length;o++)if(!t(e[o],i[o]))return !1;return !0}if(\"object\"==typeof e&&null!==e&&null!==i){if(\"object\"!=typeof i)return !1;if(Object.keys(e).length!==Object.keys(i).length)return !1;for(const o in e)if(!t(e[o],i[o]))return !1;return !0}return e===i}var i=o;function o(e){return !function(e){return \"undefined\"==typeof window||\"undefined\"==typeof document?\"not a browser\":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?\"JSON\"in window&&\"parse\"in JSON&&\"stringify\"in JSON?function(){if(!(\"Worker\"in window&&\"Blob\"in window&&\"URL\"in window))return !1;var e,t,i=new Blob([\"\"],{type:\"text/javascript\"}),o=URL.createObjectURL(i);try{t=new Worker(o),e=!0;}catch(t){e=!1;}return t&&t.terminate(),URL.revokeObjectURL(o),e}()?\"Uint8ClampedArray\"in window?ArrayBuffer.isView?function(){var e=document.createElement(\"canvas\");e.width=e.height=1;var t=e.getContext(\"2d\");if(!t)return !1;var i=t.getImageData(0,0,1,1);return i&&i.width===e.width}()?(void 0===r[t=e&&e.failIfMajorPerformanceCaveat]&&(r[t]=function(e){var t,i=function(e){var t=document.createElement(\"canvas\"),i=Object.create(o.webGLContextAttributes);return i.failIfMajorPerformanceCaveat=e,t.getContext(\"webgl\",i)||t.getContext(\"experimental-webgl\",i)}(e);if(!i)return !1;try{t=i.createShader(i.VERTEX_SHADER);}catch(e){return !1}return !(!t||i.isContextLost())&&(i.shaderSource(t,\"void main() {}\"),i.compileShader(t),!0===i.getShaderParameter(t,i.COMPILE_STATUS))}(t)),r[t]?document.documentMode?\"insufficient ECMAScript 6 support\":void 0:\"insufficient WebGL support\"):\"insufficient Canvas/getImageData support\":\"insufficient ArrayBuffer support\":\"insufficient Uint8ClampedArray support\":\"insufficient worker support\":\"insufficient JSON support\":\"insufficient Object support\":\"insufficient Function support\":\"insufficent Array support\";var t;}(e)}var r={};function n(t,i,o){const r=e.window.document.createElement(t);return void 0!==i&&(r.className=i),o&&o.appendChild(r),r}function a(t,i,o){const r=e.window.document.createElementNS(\"http://www.w3.org/2000/svg\",t);for(const e of Object.keys(i))r.setAttributeNS(null,e,i[e]);return o&&o.appendChild(r),r}o.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};const s=e.window.document&&e.window.document.documentElement.style,l=s&&void 0!==s.userSelect?\"userSelect\":\"WebkitUserSelect\";let c;function h(){s&&l&&(c=s[l],s[l]=\"none\");}function u(){s&&l&&(s[l]=c);}function _(t){t.preventDefault(),t.stopPropagation(),e.window.removeEventListener(\"click\",_,!0);}function d(){e.window.addEventListener(\"click\",_,!0),e.window.setTimeout((()=>{e.window.removeEventListener(\"click\",_,!0);}),0);}function p(e,t){const i=e.getBoundingClientRect();return g(e,i,t)}function m(e,t){const i=e.getBoundingClientRect(),o=[];for(let r=0;r<t.length;r++)o.push(g(e,i,t[r]));return o}function f(t){return void 0!==e.window.InstallTrigger&&2===t.button&&t.ctrlKey&&e.window.navigator.platform.toUpperCase().indexOf(\"MAC\")>=0?0:t.button}function g(t,i,o){const r=t.offsetWidth===i.width?1:t.offsetWidth/i.width;return new e.pointGeometry((o.clientX-i.left)*r,(o.clientY-i.top)*r)}function v(e,t){var i=t[0],o=t[1],r=t[2],n=t[3],a=i*n-r*o;return a?(e[0]=n*(a=1/a),e[1]=-o*a,e[2]=-r*a,e[3]=i*a,e):null}function x(e){const{userImage:t}=e;return !!(t&&t.render&&t.render())&&(e.data.replace(new Uint8Array(t.data.buffer)),!0)}class y extends e.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new e.RGBAImage({width:1,height:1}),this.dirty=!0;}isLoaded(){return this.loaded}setLoaded(e){if(this.loaded!==e&&(this.loaded=e,e)){for(const{ids:e,callback:t}of this.requestors)this._notify(e,t);this.requestors=[];}}hasImage(e){return !!this.getImage(e)}getImage(e){return this.images[e]}addImage(e,t){this._validate(e,t)&&(this.images[e]=t);}_validate(t,i){let o=!0;return this._validateStretch(i.stretchX,i.data&&i.data.width)||(this.fire(new e.ErrorEvent(new Error(`Image \"${t}\" has invalid \"stretchX\" value`))),o=!1),this._validateStretch(i.stretchY,i.data&&i.data.height)||(this.fire(new e.ErrorEvent(new Error(`Image \"${t}\" has invalid \"stretchY\" value`))),o=!1),this._validateContent(i.content,i)||(this.fire(new e.ErrorEvent(new Error(`Image \"${t}\" has invalid \"content\" value`))),o=!1),o}_validateStretch(e,t){if(!e)return !0;let i=0;for(const o of e){if(o[0]<i||o[1]<o[0]||t<o[1])return !1;i=o[1];}return !0}_validateContent(e,t){return !(e&&(4!==e.length||e[0]<0||t.data.width<e[0]||e[1]<0||t.data.height<e[1]||e[2]<0||t.data.width<e[2]||e[3]<0||t.data.height<e[3]||e[2]<e[0]||e[3]<e[1]))}updateImage(e,t){t.version=this.images[e].version+1,this.images[e]=t,this.updatedImages[e]=!0;}removeImage(e){const t=this.images[e];delete this.images[e],delete this.patterns[e],t.userImage&&t.userImage.onRemove&&t.userImage.onRemove();}listImages(){return Object.keys(this.images)}getImages(e,t){let i=!0;if(!this.isLoaded())for(const t of e)this.images[t]||(i=!1);this.isLoaded()||i?this._notify(e,t):this.requestors.push({ids:e,callback:t});}_notify(t,i){const o={};for(const i of t){this.images[i]||this.fire(new e.Event(\"styleimagemissing\",{id:i}));const t=this.images[i];t?o[i]={data:t.data.clone(),pixelRatio:t.pixelRatio,sdf:t.sdf,version:t.version,stretchX:t.stretchX,stretchY:t.stretchY,content:t.content,hasRenderCallback:Boolean(t.userImage&&t.userImage.render)}:e.warnOnce(`Image \"${i}\" could not be loaded. Please make sure you have added the image with map.addImage() or a \"sprite\" property in your style. You can provide missing images by listening for the \"styleimagemissing\" map event.`);}i(null,o);}getPixelSize(){const{width:e,height:t}=this.atlasImage;return {width:e,height:t}}getPattern(t){const i=this.patterns[t],o=this.getImage(t);if(!o)return null;if(i&&i.position.version===o.version)return i.position;if(i)i.position.version=o.version;else {const i={w:o.data.width+2,h:o.data.height+2,x:0,y:0},r=new e.ImagePosition(i,o);this.patterns[t]={bin:i,position:r};}return this._updatePatternAtlas(),this.patterns[t].position}bind(t){const i=t.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new e.Texture(t,this.atlasImage,i.RGBA),this.atlasTexture.bind(i.LINEAR,i.CLAMP_TO_EDGE);}_updatePatternAtlas(){const t=[];for(const e in this.patterns)t.push(this.patterns[e].bin);const{w:i,h:o}=e.potpack(t),r=this.atlasImage;r.resize({width:i||1,height:o||1});for(const t in this.patterns){const{bin:i}=this.patterns[t],o=i.x+1,n=i.y+1,a=this.images[t].data,s=a.width,l=a.height;e.RGBAImage.copy(a,r,{x:0,y:0},{x:o,y:n},{width:s,height:l}),e.RGBAImage.copy(a,r,{x:0,y:l-1},{x:o,y:n-1},{width:s,height:1}),e.RGBAImage.copy(a,r,{x:0,y:0},{x:o,y:n+l},{width:s,height:1}),e.RGBAImage.copy(a,r,{x:s-1,y:0},{x:o-1,y:n},{width:1,height:l}),e.RGBAImage.copy(a,r,{x:0,y:0},{x:o+s,y:n},{width:1,height:l});}this.dirty=!0;}beginFrame(){this.callbackDispatchedThisFrame={};}dispatchRenderCallbacks(e){for(const t of e){if(this.callbackDispatchedThisFrame[t])continue;this.callbackDispatchedThisFrame[t]=!0;const e=this.images[t];x(e)&&this.updateImage(t,e);}}}const b=new e.Properties({anchor:new e.DataConstantProperty(e.spec.light.anchor),position:new class{constructor(){this.specification=e.spec.light.position;}possiblyEvaluate(t,i){return function([t,i,o]){const r=e.degToRad(i+90),n=e.degToRad(o);return {x:t*Math.cos(r)*Math.sin(n),y:t*Math.sin(r)*Math.sin(n),z:t*Math.cos(n),azimuthal:i,polar:o}}(t.expression.evaluate(i))}interpolate(t,i,o){return {x:e.number(t.x,i.x,o),y:e.number(t.y,i.y,o),z:e.number(t.z,i.z,o),azimuthal:e.number(t.azimuthal,i.azimuthal,o),polar:e.number(t.polar,i.polar,o)}}},color:new e.DataConstantProperty(e.spec.light.color),intensity:new e.DataConstantProperty(e.spec.light.intensity)}),w=\"-transition\";class T extends e.Evented{constructor(t){super(),this._transitionable=new e.Transitionable(b),this.setLight(t),this._transitioning=this._transitionable.untransitioned();}getLight(){return this._transitionable.serialize()}setLight(t,i={}){if(!this._validate(e.validateLight,t,i))for(const i in t){const o=t[i];e.endsWith(i,w)?this._transitionable.setTransition(i.slice(0,-w.length),o):this._transitionable.setValue(i,o);}}updateTransitions(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning);}hasTransition(){return this._transitioning.hasTransition()}recalculate(e){this.properties=this._transitioning.possiblyEvaluate(e);}_validate(t,i,o){return (!o||!1!==o.validate)&&e.emitValidationErrors(this,t.call(e.validateStyle,e.extend({value:i,style:{glyphs:!0,sprite:!0},styleSpec:e.spec})))}}const E=new e.Properties({source:new e.DataConstantProperty(e.spec.terrain.source),exaggeration:new e.DataConstantProperty(e.spec.terrain.exaggeration)}),C=\"-transition\";class I extends e.Evented{constructor(t,i){super(),this._transitionable=new e.Transitionable(E),this.set(t),this._transitioning=this._transitionable.untransitioned(),this.drapeRenderMode=i;}get(){return this._transitionable.serialize()}set(t){for(const i in t){const o=t[i];e.endsWith(i,C)?this._transitionable.setTransition(i.slice(0,-C.length),o):this._transitionable.setValue(i,o);}}updateTransitions(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning);}hasTransition(){return this._transitioning.hasTransition()}recalculate(e){this.properties=this._transitioning.possiblyEvaluate(e);}}function M(t,i,o,r){const n=e.smoothstep(45,65,o),[a,s]=S(t,r),l=e.length(i);let c=1-Math.min(1,Math.exp((l-a)/(s-a)*-6));return c*=c*c,c=Math.min(1,1.00747*c),c*n*t.alpha}function S(e,t){const i=.5/Math.tan(.5*t);return [e.range[0]+i,e.range[1]+i]}const z=new e.Properties({range:new e.DataConstantProperty(e.spec.fog.range),color:new e.DataConstantProperty(e.spec.fog.color),\"high-color\":new e.DataConstantProperty(e.spec.fog[\"high-color\"]),\"space-color\":new e.DataConstantProperty(e.spec.fog[\"space-color\"]),\"horizon-blend\":new e.DataConstantProperty(e.spec.fog[\"horizon-blend\"]),\"star-intensity\":new e.DataConstantProperty(e.spec.fog[\"star-intensity\"])}),D=\"-transition\";class P extends e.Evented{constructor(t,i){super(),this._transitionable=new e.Transitionable(z),this.set(t),this._transitioning=this._transitionable.untransitioned(),this._transform=i;}get state(){const t=this._transform,i=\"globe\"===t.projection.name,o=e.globeToMercatorTransition(t.zoom),r=this.properties.get(\"range\"),n=[.5,3];return {range:i?[e.number(n[0],r[0],o),e.number(n[1],r[1],o)]:r,horizonBlend:this.properties.get(\"horizon-blend\"),alpha:this.properties.get(\"color\").a}}get(){return this._transitionable.serialize()}set(t,i={}){if(!this._validate(e.validateFog,t,i)){for(const i of Object.keys(e.spec.fog))t&&void 0===t[i]&&(t[i]=e.spec.fog[i].default);for(const i in t){const o=t[i];e.endsWith(i,D)?this._transitionable.setTransition(i.slice(0,-D.length),o):this._transitionable.setValue(i,o);}}}getOpacity(t){if(!this._transform.projection.supportsFog)return 0;const i=this.properties&&this.properties.get(\"color\")||1;return (\"globe\"===this._transform.projection.name?1:e.smoothstep(45,65,t))*i.a}getOpacityAtLatLng(t,i){return this._transform.projection.supportsFog?function(t,i,o){const r=e.MercatorCoordinate.fromLngLat(i),n=o.elevation?o.elevation.getAtPointOrZero(r):0,a=[r.x,r.y,n];return e.transformMat4(a,a,o.mercatorFogMatrix),M(t,a,o.pitch,o._fov)}(this.state,t,i):0}getFovAdjustedRange(e){return this._transform.projection.supportsFog?S(this.state,e):[0,1]}updateTransitions(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning);}hasTransition(){return this._transitioning.hasTransition()}recalculate(e){this.properties=this._transitioning.possiblyEvaluate(e);}_validate(t,i,o){return (!o||!1!==o.validate)&&e.emitValidationErrors(this,t.call(e.validateStyle,e.extend({value:i,style:{glyphs:!0,sprite:!0},styleSpec:e.spec})))}}class A{constructor(t,i){this.workerPool=t,this.actors=[],this.currentActor=0,this.id=e.uniqueId();const o=this.workerPool.acquire(this.id);for(let e=0;e<o.length;e++){const t=new A.Actor(o[e],i,this.id);t.name=`Worker ${e}`,this.actors.push(t);}this.ready=!1,this.broadcast(\"checkIfReady\",null,(()=>{this.ready=!0;}));}broadcast(t,i,o){e.asyncAll(this.actors,((e,o)=>{e.send(t,i,o);}),o=o||function(){});}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach((e=>{e.remove();})),this.actors=[],this.workerPool.release(this.id);}}function L(t,i,o){return i*(e.EXTENT/(t.tileSize*Math.pow(2,o-t.tileID.overscaledZ)))}A.Actor=e.Actor;class R{constructor(e,t,i,o){this.screenBounds=e,this.cameraPoint=t,this._screenRaycastCache={},this._cameraRaycastCache={},this.isAboveHorizon=i,this.screenGeometry=this.bufferedScreenGeometry(0),this.screenGeometryMercator=this._bufferedScreenMercator(0,o);}static createFromScreenPoints(t,i){let o,r;if(t instanceof e.pointGeometry||\"number\"==typeof t[0]){const n=e.pointGeometry.convert(t);o=[e.pointGeometry.convert(t)],r=i.isPointAboveHorizon(n);}else {const n=e.pointGeometry.convert(t[0]),a=e.pointGeometry.convert(t[1]);o=[n,a],r=e.polygonizeBounds(n,a).every((e=>i.isPointAboveHorizon(e)));}return new R(o,i.getCameraPoint(),r,i)}isPointQuery(){return 1===this.screenBounds.length}bufferedScreenGeometry(t){return e.polygonizeBounds(this.screenBounds[0],1===this.screenBounds.length?this.screenBounds[0]:this.screenBounds[1],t)}bufferedCameraGeometry(t){const i=this.screenBounds[0],o=1===this.screenBounds.length?this.screenBounds[0].add(new e.pointGeometry(1,1)):this.screenBounds[1],r=e.polygonizeBounds(i,o,0,!1);return this.cameraPoint.y>o.y&&(this.cameraPoint.x>i.x&&this.cameraPoint.x<o.x?r.splice(3,0,this.cameraPoint):this.cameraPoint.x>=o.x?r[2]=this.cameraPoint:this.cameraPoint.x<=i.x&&(r[3]=this.cameraPoint)),e.bufferConvexPolygon(r,t)}bufferedCameraGeometryGlobe(t){const i=this.screenBounds[0],o=1===this.screenBounds.length?this.screenBounds[0].add(new e.pointGeometry(1,1)):this.screenBounds[1],r=e.polygonizeBounds(i,o,t),n=this.cameraPoint.clone();switch(3*((n.y>i.y)+(n.y>o.y))+((n.x>i.x)+(n.x>o.x))){case 0:r[0]=n,r[4]=n.clone();break;case 1:r.splice(1,0,n);break;case 2:r[1]=n;break;case 3:r.splice(4,0,n);break;case 5:r.splice(2,0,n);break;case 6:r[3]=n;break;case 7:r.splice(3,0,n);break;case 8:r[2]=n;}return r}containsTile(t,i,o,r=0){const n=t.queryPadding/i._pixelsPerMercatorPixel+1,a=o?this._bufferedCameraMercator(n,i):this._bufferedScreenMercator(n,i);let s=t.tileID.wrap+(a.unwrapped?r:0);const l=a.polygon.map((i=>e.getTilePoint(t.tileTransform,i,s)));if(!e.polygonIntersectsBox(l,0,0,e.EXTENT,e.EXTENT))return;s=t.tileID.wrap+(this.screenGeometryMercator.unwrapped?r:0);const c=this.screenGeometryMercator.polygon.map((i=>e.getTileVec3(t.tileTransform,i,s))),h=c.map((t=>new e.pointGeometry(t[0],t[1]))),u=i.getFreeCameraOptions().position||new e.MercatorCoordinate(0,0,0),_=e.getTileVec3(t.tileTransform,u,s),d=c.map((t=>{const i=e.sub(t,t,_);return e.normalize(i,i),new e.Ray(_,i)})),p=L(t,1,i.zoom)*i._pixelsPerMercatorPixel;return {queryGeometry:this,tilespaceGeometry:h,tilespaceRays:d,bufferedTilespaceGeometry:l,bufferedTilespaceBounds:(m=e.getBounds(l),m.min.x=e.clamp(m.min.x,0,e.EXTENT),m.min.y=e.clamp(m.min.y,0,e.EXTENT),m.max.x=e.clamp(m.max.x,0,e.EXTENT),m.max.y=e.clamp(m.max.y,0,e.EXTENT),m),tile:t,tileID:t.tileID,pixelToTileUnitsFactor:p};var m;}_bufferedScreenMercator(e,t){const i=k(e);if(this._screenRaycastCache[i])return this._screenRaycastCache[i];{let o;return o=\"globe\"===t.projection.name?this._projectAndResample(this.bufferedScreenGeometry(e),t):{polygon:this.bufferedScreenGeometry(e).map((e=>t.pointCoordinate3D(e))),unwrapped:!0},this._screenRaycastCache[i]=o,o}}_bufferedCameraMercator(e,t){const i=k(e);if(this._cameraRaycastCache[i])return this._cameraRaycastCache[i];{let o;return o=\"globe\"===t.projection.name?this._projectAndResample(this.bufferedCameraGeometryGlobe(e),t):{polygon:this.bufferedCameraGeometry(e).map((e=>t.pointCoordinate3D(e))),unwrapped:!0},this._cameraRaycastCache[i]=o,o}}_projectAndResample(t,i){const o=function(t,i){const o=e.multiply([],i.pixelMatrix,i.globeMatrix),r=[0,-e.GLOBE_RADIUS,0,1],n=[0,e.GLOBE_RADIUS,0,1],a=[0,0,0,1];e.transformMat4$1(r,r,o),e.transformMat4$1(n,n,o),e.transformMat4$1(a,a,o);const s=new e.pointGeometry(r[0]/r[3],r[1]/r[3]),l=new e.pointGeometry(n[0]/n[3],n[1]/n[3]),c=e.polygonContainsPoint(t,s)&&r[3]<a[3],h=e.polygonContainsPoint(t,l)&&n[3]<a[3];if(!c&&!h)return null;const u=function(e,t,i){for(let o=1;o<e.length;o++){const r=B(t.pointCoordinate3D(e[o-1]).x),n=B(t.pointCoordinate3D(e[o]).x);if(i<0){if(r<n)return {idx:o,t:-r/(n-1-r)}}else if(n<r)return {idx:o,t:(1-r)/(n+1-r)}}return null}(t,i,c?-1:1);if(!u)return null;const{idx:_,t:d}=u;let p=_>1?O(t.slice(0,_),i):[],m=_<t.length?O(t.slice(_),i):[];p=p.map((t=>new e.pointGeometry(B(t.x),t.y))),m=m.map((t=>new e.pointGeometry(B(t.x),t.y)));const f=[...p];0===f.length&&f.push(m[m.length-1]);const g=e.number(f[f.length-1].y,(0===m.length?p[0]:m[0]).y,d);let v;return v=c?[new e.pointGeometry(0,g),new e.pointGeometry(0,0),new e.pointGeometry(1,0),new e.pointGeometry(1,g)]:[new e.pointGeometry(1,g),new e.pointGeometry(1,1),new e.pointGeometry(0,1),new e.pointGeometry(0,g)],f.push(...v),0===m.length?f.push(p[0]):f.push(...m),{polygon:f.map((t=>new e.MercatorCoordinate(t.x,t.y))),unwrapped:!1}}(t,i);if(o)return o;const r=function(t,i){let o=!1,r=-1/0,n=0;for(let e=0;e<t.length-1;e++)t[e].x>r&&(r=t[e].x,n=e);for(let e=0;e<t.length-1;e++){const i=(n+e)%(t.length-1),r=t[i],a=t[i+1];Math.abs(r.x-a.x)>.5&&(r.x<a.x?(r.x+=1,0===i&&(t[t.length-1].x+=1)):(a.x+=1,i+1===t.length-1&&(t[0].x+=1)),o=!0);}const a=e.mercatorXfromLng(i.center.lng);return o&&a<Math.abs(a-1)&&t.forEach((e=>{e.x-=1;})),{polygon:t,unwrapped:o}}(O(t,i).map((t=>new e.pointGeometry(B(t.x),t.y))),i);return {polygon:r.polygon.map((t=>new e.MercatorCoordinate(t.x,t.y))),unwrapped:r.unwrapped}}}function O(t,i){return e.resample(t,(e=>{const t=i.pointCoordinate3D(e);e.x=t.x,e.y=t.y;}),1/256)}function B(e){return e<0?1+e%1:e%1}function k(e){return 100*e|0}function F(t,i,o,r,n){const a=function(o,r){if(o)return n(o);if(r){const o=e.pick(e.extend(r,t),[\"tiles\",\"minzoom\",\"maxzoom\",\"attribution\",\"mapbox_logo\",\"bounds\",\"scheme\",\"tileSize\",\"encoding\"]);r.vector_layers&&(o.vectorLayers=r.vector_layers,o.vectorLayerIds=o.vectorLayers.map((e=>e.id))),r.language_options&&(o.languageOptions=r.language_options),r.language&&r.language[r.id]&&(o.language=r.language[r.id]),r.worldview_options&&(o.worldviewOptions=r.worldview_options),r.worldview?o.worldview=r.worldview[r.id]:r.worldview_default&&(o.worldview=r.worldview_default),o.tiles=i.canonicalizeTileset(o,t.url),n(null,o);}};return t.url?e.getJSON(i.transformRequest(i.normalizeSourceURL(t.url,null,o,r),e.ResourceType.Source),a):e.exported.frame((()=>a(null,t)))}class U{constructor(t,i,o){this.bounds=e.LngLatBounds.convert(this.validateBounds(t)),this.minzoom=i||0,this.maxzoom=o||24;}validateBounds(e){return Array.isArray(e)&&4===e.length?[Math.max(-180,e[0]),Math.max(-90,e[1]),Math.min(180,e[2]),Math.min(90,e[3])]:[-180,-90,180,90]}contains(t){const i=Math.pow(2,t.z),o=Math.floor(e.mercatorXfromLng(this.bounds.getWest())*i),r=Math.floor(e.mercatorYfromLat(this.bounds.getNorth())*i),n=Math.ceil(e.mercatorXfromLng(this.bounds.getEast())*i),a=Math.ceil(e.mercatorYfromLat(this.bounds.getSouth())*i);return t.x>=o&&t.x<n&&t.y>=r&&t.y<a}}class N{constructor(e,t,i){this.context=e;const o=e.gl;this.buffer=o.createBuffer(),this.dynamicDraw=Boolean(i),this.context.unbindVAO(),e.bindElementBuffer.set(this.buffer),o.bufferData(o.ELEMENT_ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?o.DYNAMIC_DRAW:o.STATIC_DRAW),this.dynamicDraw||t.destroy();}bind(){this.context.bindElementBuffer.set(this.buffer);}updateData(e){const t=this.context.gl;this.context.unbindVAO(),this.bind(),t.bufferSubData(t.ELEMENT_ARRAY_BUFFER,0,e.arrayBuffer);}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer);}}const G={Int8:\"BYTE\",Uint8:\"UNSIGNED_BYTE\",Int16:\"SHORT\",Uint16:\"UNSIGNED_SHORT\",Int32:\"INT\",Uint32:\"UNSIGNED_INT\",Float32:\"FLOAT\"};class j{constructor(e,t,i,o){this.length=t.length,this.attributes=i,this.itemSize=t.bytesPerElement,this.dynamicDraw=o,this.context=e;const r=e.gl;this.buffer=r.createBuffer(),e.bindVertexBuffer.set(this.buffer),r.bufferData(r.ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?r.DYNAMIC_DRAW:r.STATIC_DRAW),this.dynamicDraw||t.destroy();}bind(){this.context.bindVertexBuffer.set(this.buffer);}updateData(e){const t=this.context.gl;this.bind(),t.bufferSubData(t.ARRAY_BUFFER,0,e.arrayBuffer);}enableAttributes(e,t){for(let i=0;i<this.attributes.length;i++){const o=t.attributes[this.attributes[i].name];void 0!==o&&e.enableVertexAttribArray(o);}}setVertexAttribPointers(e,t,i){for(let o=0;o<this.attributes.length;o++){const r=this.attributes[o],n=t.attributes[r.name];void 0!==n&&e.vertexAttribPointer(n,r.components,e[G[r.type]],!1,this.itemSize,r.offset+this.itemSize*(i||0));}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer);}}class Z{constructor(e){this.gl=e.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1;}get(){return this.current}set(e){}getDefault(){return this.default}setDefault(){this.set(this.default);}}class V extends Z{getDefault(){return e.Color.transparent}set(e){const t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.clearColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1);}}class W extends Z{getDefault(){return 1}set(e){(e!==this.current||this.dirty)&&(this.gl.clearDepth(e),this.current=e,this.dirty=!1);}}class X extends Z{getDefault(){return 0}set(e){(e!==this.current||this.dirty)&&(this.gl.clearStencil(e),this.current=e,this.dirty=!1);}}class q extends Z{getDefault(){return [!0,!0,!0,!0]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.colorMask(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1);}}class $ extends Z{getDefault(){return !0}set(e){(e!==this.current||this.dirty)&&(this.gl.depthMask(e),this.current=e,this.dirty=!1);}}class H extends Z{getDefault(){return 255}set(e){(e!==this.current||this.dirty)&&(this.gl.stencilMask(e),this.current=e,this.dirty=!1);}}class Y extends Z{getDefault(){return {func:this.gl.ALWAYS,ref:0,mask:255}}set(e){const t=this.current;(e.func!==t.func||e.ref!==t.ref||e.mask!==t.mask||this.dirty)&&(this.gl.stencilFunc(e.func,e.ref,e.mask),this.current=e,this.dirty=!1);}}class K extends Z{getDefault(){const e=this.gl;return [e.KEEP,e.KEEP,e.KEEP]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||this.dirty)&&(this.gl.stencilOp(e[0],e[1],e[2]),this.current=e,this.dirty=!1);}}class J extends Z{getDefault(){return !1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.STENCIL_TEST):t.disable(t.STENCIL_TEST),this.current=e,this.dirty=!1;}}class Q extends Z{getDefault(){return [0,1]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.depthRange(e[0],e[1]),this.current=e,this.dirty=!1);}}class ee extends Z{getDefault(){return !1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.DEPTH_TEST):t.disable(t.DEPTH_TEST),this.current=e,this.dirty=!1;}}class te extends Z{getDefault(){return this.gl.LESS}set(e){(e!==this.current||this.dirty)&&(this.gl.depthFunc(e),this.current=e,this.dirty=!1);}}class ie extends Z{getDefault(){return !1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.BLEND):t.disable(t.BLEND),this.current=e,this.dirty=!1;}}class oe extends Z{getDefault(){const e=this.gl;return [e.ONE,e.ZERO]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.blendFunc(e[0],e[1]),this.current=e,this.dirty=!1);}}class re extends Z{getDefault(){return e.Color.transparent}set(e){const t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.blendColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1);}}class ne extends Z{getDefault(){return this.gl.FUNC_ADD}set(e){(e!==this.current||this.dirty)&&(this.gl.blendEquation(e),this.current=e,this.dirty=!1);}}class ae extends Z{getDefault(){return !1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.CULL_FACE):t.disable(t.CULL_FACE),this.current=e,this.dirty=!1;}}class se extends Z{getDefault(){return this.gl.BACK}set(e){(e!==this.current||this.dirty)&&(this.gl.cullFace(e),this.current=e,this.dirty=!1);}}class le extends Z{getDefault(){return this.gl.CCW}set(e){(e!==this.current||this.dirty)&&(this.gl.frontFace(e),this.current=e,this.dirty=!1);}}class ce extends Z{getDefault(){return null}set(e){(e!==this.current||this.dirty)&&(this.gl.useProgram(e),this.current=e,this.dirty=!1);}}class he extends Z{getDefault(){return this.gl.TEXTURE0}set(e){(e!==this.current||this.dirty)&&(this.gl.activeTexture(e),this.current=e,this.dirty=!1);}}class ue extends Z{getDefault(){const e=this.gl;return [0,0,e.drawingBufferWidth,e.drawingBufferHeight]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.viewport(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1);}}class _e extends Z{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,e),this.current=e,this.dirty=!1;}}class de extends Z{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindRenderbuffer(t.RENDERBUFFER,e),this.current=e,this.dirty=!1;}}class pe extends Z{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindTexture(t.TEXTURE_2D,e),this.current=e,this.dirty=!1;}}class me extends Z{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindBuffer(t.ARRAY_BUFFER,e),this.current=e,this.dirty=!1;}}class fe extends Z{getDefault(){return null}set(e){const t=this.gl;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e),this.current=e,this.dirty=!1;}}class ge extends Z{constructor(e){super(e),this.vao=e.extVertexArrayObject;}getDefault(){return null}set(e){this.vao&&(e!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(e),this.current=e,this.dirty=!1);}}class ve extends Z{getDefault(){return 4}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.pixelStorei(t.UNPACK_ALIGNMENT,e),this.current=e,this.dirty=!1;}}class xe extends Z{getDefault(){return !1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e),this.current=e,this.dirty=!1;}}class ye extends Z{getDefault(){return !1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e),this.current=e,this.dirty=!1;}}class be extends Z{constructor(e,t){super(e),this.context=e,this.parent=t;}getDefault(){return null}}class we extends be{setDirty(){this.dirty=!0;}set(e){if(e===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const t=this.gl;t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0),this.current=e,this.dirty=!1;}}class Te extends be{attachment(){return this.gl.DEPTH_ATTACHMENT}set(e){if(e===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const t=this.gl;t.framebufferRenderbuffer(t.FRAMEBUFFER,this.attachment(),t.RENDERBUFFER,e),this.current=e,this.dirty=!1;}}class Ee extends Te{attachment(){return this.gl.DEPTH_STENCIL_ATTACHMENT}}class Ce{constructor(e,t,i,o){this.context=e,this.width=t,this.height=i;const r=this.framebuffer=e.gl.createFramebuffer();this.colorAttachment=new we(e,r),o&&(this.depthAttachment=new Te(e,r));}destroy(){const e=this.context.gl,t=this.colorAttachment.get();if(t&&e.deleteTexture(t),this.depthAttachment){const t=this.depthAttachment.get();t&&e.deleteRenderbuffer(t);}e.deleteFramebuffer(this.framebuffer);}}class Ie{constructor(e){this.gl=e,this.extVertexArrayObject=this.gl.getExtension(\"OES_vertex_array_object\"),this.clearColor=new V(this),this.clearDepth=new W(this),this.clearStencil=new X(this),this.colorMask=new q(this),this.depthMask=new $(this),this.stencilMask=new H(this),this.stencilFunc=new Y(this),this.stencilOp=new K(this),this.stencilTest=new J(this),this.depthRange=new Q(this),this.depthTest=new ee(this),this.depthFunc=new te(this),this.blend=new ie(this),this.blendFunc=new oe(this),this.blendColor=new re(this),this.blendEquation=new ne(this),this.cullFace=new ae(this),this.cullFaceSide=new se(this),this.frontFace=new le(this),this.program=new ce(this),this.activeTexture=new he(this),this.viewport=new ue(this),this.bindFramebuffer=new _e(this),this.bindRenderbuffer=new de(this),this.bindTexture=new pe(this),this.bindVertexBuffer=new me(this),this.bindElementBuffer=new fe(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new ge(this),this.pixelStoreUnpack=new ve(this),this.pixelStoreUnpackPremultiplyAlpha=new xe(this),this.pixelStoreUnpackFlipY=new ye(this),this.extTextureFilterAnisotropic=e.getExtension(\"EXT_texture_filter_anisotropic\")||e.getExtension(\"MOZ_EXT_texture_filter_anisotropic\")||e.getExtension(\"WEBKIT_EXT_texture_filter_anisotropic\"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=e.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureFilterAnisotropicForceOff=!1,this.extStandardDerivativesForceOff=!1,this.extTextureHalfFloat=e.getExtension(\"OES_texture_half_float\"),this.extTextureHalfFloat&&(e.getExtension(\"OES_texture_half_float_linear\"),this.extRenderToTextureHalfFloat=e.getExtension(\"EXT_color_buffer_half_float\")),this.extStandardDerivatives=e.getExtension(\"OES_standard_derivatives\"),this.extTimerQuery=e.getExtension(\"EXT_disjoint_timer_query\"),this.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE);}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault();}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0;}createIndexBuffer(e,t){return new N(this,e,t)}createVertexBuffer(e,t,i){return new j(this,e,t,i)}createRenderbuffer(e,t,i){const o=this.gl,r=o.createRenderbuffer();return this.bindRenderbuffer.set(r),o.renderbufferStorage(o.RENDERBUFFER,e,t,i),this.bindRenderbuffer.set(null),r}createFramebuffer(e,t,i){return new Ce(this,e,t,i)}clear({color:e,depth:t,stencil:i}){const o=this.gl;let r=0;e&&(r|=o.COLOR_BUFFER_BIT,this.clearColor.set(e),this.colorMask.set([!0,!0,!0,!0])),void 0!==t&&(r|=o.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(t),this.depthMask.set(!0)),void 0!==i&&(r|=o.STENCIL_BUFFER_BIT,this.clearStencil.set(i),this.stencilMask.set(255)),o.clear(r);}setCullFace(e){!1===e.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(e.mode),this.frontFace.set(e.frontFace));}setDepthMode(e){e.func!==this.gl.ALWAYS||e.mask?(this.depthTest.set(!0),this.depthFunc.set(e.func),this.depthMask.set(e.mask),this.depthRange.set(e.range)):this.depthTest.set(!1);}setStencilMode(e){e.test.func!==this.gl.ALWAYS||e.mask?(this.stencilTest.set(!0),this.stencilMask.set(e.mask),this.stencilOp.set([e.fail,e.depthFail,e.pass]),this.stencilFunc.set({func:e.test.func,ref:e.ref,mask:e.test.mask})):this.stencilTest.set(!1);}setColorMode(i){t(i.blendFunction,e.ColorMode.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(i.blendFunction),this.blendColor.set(i.blendColor)),this.colorMask.set(i.mask);}unbindVAO(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null);}}class Me extends e.Evented{constructor(t,i,o,r){super(),this.id=t,this.dispatcher=o,this.setEventedParent(r),this.type=\"raster\",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme=\"xyz\",this.tileSize=512,this._loaded=!1,this._options=e.extend({type:\"raster\"},i),e.extend(this,e.pick(i,[\"url\",\"scheme\",\"tileSize\"]));}load(){this._loaded=!1,this.fire(new e.Event(\"dataloading\",{dataType:\"source\"})),this._tileJSONRequest=F(this._options,this.map._requestManager,null,null,((t,i)=>{this._tileJSONRequest=null,this._loaded=!0,t?this.fire(new e.ErrorEvent(t)):i&&(e.extend(this,i),i.bounds&&(this.tileBounds=new U(i.bounds,this.minzoom,this.maxzoom)),e.postTurnstileEvent(i.tiles),this.fire(new e.Event(\"data\",{dataType:\"source\",sourceDataType:\"metadata\"})),this.fire(new e.Event(\"data\",{dataType:\"source\",sourceDataType:\"content\"})));}));}loaded(){return this._loaded}onAdd(e){this.map=e,this.load();}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null);}serialize(){return e.extend({},this._options)}hasTile(e){return !this.tileBounds||this.tileBounds.contains(e.canonical)}loadTile(t,i){const o=e.exported.devicePixelRatio>=2,r=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme),o,this.tileSize);t.request=e.getImage(this.map._requestManager.transformRequest(r,e.ResourceType.Tile),((o,r,n,a)=>(delete t.request,t.aborted?(t.state=\"unloaded\",i(null)):o?(t.state=\"errored\",i(o)):r?(this.map._refreshExpiredTiles&&t.setExpiryData({cacheControl:n,expires:a}),t.setTexture(r,this.map.painter),t.state=\"loaded\",e.cacheEntryPossiblyAdded(this.dispatcher),void i(null)):i(null))));}static loadTileData(e,t,i){e.setTexture(t,i);}static unloadTileData(e,t){e.texture&&t.saveTileTexture(e.texture);}abortTile(e,t){e.request&&(e.request.cancel(),delete e.request),t();}unloadTile(e,t){e.texture&&this.map.painter.saveTileTexture(e.texture),t();}hasTransition(){return !1}}let Se;function ze(t,i,o,r,n,a,s,l){const c=[t,o,n,i,r,a,1,1,1],h=[s,l,1],u=e.adjoint([],c),[_,d,p]=e.transformMat3(h,h,e.transpose(u,u));return e.multiply$1(c,[_,0,0,0,d,0,0,0,p],c)}class De extends e.Evented{constructor(e,t,i,o){super(),this.id=e,this.dispatcher=i,this.coordinates=t.coordinates,this.type=\"image\",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(o),this.options=t;}load(t,i){this._loaded=i||!1,this.fire(new e.Event(\"dataloading\",{dataType:\"source\"})),this.url=this.options.url,e.getImage(this.map._requestManager.transformRequest(this.url,e.ResourceType.Image),((i,o)=>{if(this._loaded=!0,i)this.fire(new e.ErrorEvent(i));else if(o){const{HTMLImageElement:i}=e.window;this.image=o instanceof i?e.exported.getImageData(o):o,this.width=this.image.width,this.height=this.image.height,t&&(this.coordinates=t),this._finishLoading();}}));}loaded(){return this._loaded}updateImage(e){return this.image&&e.url?(this.options.url=e.url,this.load(e.coordinates,this._loaded),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new e.Event(\"data\",{dataType:\"source\",sourceDataType:\"metadata\"})));}onAdd(e){this.map=e,this.load();}onRemove(){this.texture&&this.texture.destroy();}setCoordinates(t){this.coordinates=t,this._boundsArray=void 0;const i=t.map(e.MercatorCoordinate.fromLngLat);return this.tileID=function(t){let i=1/0,o=1/0,r=-1/0,n=-1/0;for(const e of t)i=Math.min(i,e.x),o=Math.min(o,e.y),r=Math.max(r,e.x),n=Math.max(n,e.y);const a=Math.max(r-i,n-o),s=Math.max(0,Math.floor(-Math.log(a)/Math.LN2)),l=Math.pow(2,s);return new e.CanonicalTileID(s,Math.floor((i+r)/2*l),Math.floor((o+n)/2*l))}(i),this.minzoom=this.maxzoom=this.tileID.z,this.fire(new e.Event(\"data\",{dataType:\"source\",sourceDataType:\"content\"})),this}_clear(){this._boundsArray=void 0;}_prepareData(t){for(const e in this.tiles){const t=this.tiles[e];\"loaded\"!==t.state&&(t.state=\"loaded\",t.texture=this.texture);}if(this._boundsArray)return;const i=e.tileTransform(this.tileID,this.map.transform.projection),[o,r,n,a]=this.coordinates.map((t=>{const o=i.projection.project(t[0],t[1]);return e.getTilePoint(i,o)._round()}));this.perspectiveTransform=function(t,i,o,r,n,a,s,l,c,h){const u=ze(0,0,t,0,0,i,t,i),_=ze(o,r,n,a,s,l,c,h);return e.multiply$1(_,e.adjoint(u,u),_),[_[6]/_[8]*t/e.EXTENT,_[7]/_[8]*i/e.EXTENT]}(this.width,this.height,o.x,o.y,r.x,r.y,a.x,a.y,n.x,n.y);const s=this._boundsArray=new e.StructArrayLayout4i8;s.emplaceBack(o.x,o.y,0,0),s.emplaceBack(r.x,r.y,e.EXTENT,0),s.emplaceBack(a.x,a.y,0,e.EXTENT),s.emplaceBack(n.x,n.y,e.EXTENT,e.EXTENT),this.boundsBuffer&&this.boundsBuffer.destroy(),this.boundsBuffer=t.createVertexBuffer(s,e.boundsAttributes.members),this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2);}prepare(){if(0===Object.keys(this.tiles).length||!this.image)return;const t=this.map.painter.context,i=t.gl;this.texture?this.texture.update(this.image):(this.texture=new e.Texture(t,this.image,i.RGBA),this.texture.bind(i.LINEAR,i.CLAMP_TO_EDGE)),this._prepareData(t);}loadTile(e,t){this.tileID&&this.tileID.equals(e.tileID.canonical)?(this.tiles[String(e.tileID.wrap)]=e,e.buckets={},t(null)):(e.state=\"errored\",t(null));}serialize(){return {type:\"image\",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return !1}}const Pe={vector:class extends e.Evented{constructor(t,i,o,r){if(super(),this.id=t,this.dispatcher=o,this.type=\"vector\",this.minzoom=0,this.maxzoom=22,this.scheme=\"xyz\",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,e.extend(this,e.pick(i,[\"url\",\"scheme\",\"tileSize\",\"promoteId\"])),this._options=e.extend({type:\"vector\"},i),this._collectResourceTiming=i.collectResourceTiming,512!==this.tileSize)throw new Error(\"vector tile sources must have a tileSize of 512\");this.setEventedParent(r),this._tileWorkers={},this._deduped=new e.DedupedRequest;}load(t){this._loaded=!1,this.fire(new e.Event(\"dataloading\",{dataType:\"source\"}));const i=this.language||this.map._language,o=this.worldview||this.map._worldview;this._tileJSONRequest=F(this._options,this.map._requestManager,i,o,((r,n)=>{this._tileJSONRequest=null,this._loaded=!0,r?(i&&console.warn(`Ensure that your requested language string is a valid BCP-47 code. Found: ${i}`),o&&2!==o.length&&console.warn(`Requested worldview strings must be a valid ISO alpha-2 code. Found: ${o}`),this.fire(new e.ErrorEvent(r))):n&&(e.extend(this,n),n.bounds&&(this.tileBounds=new U(n.bounds,this.minzoom,this.maxzoom)),e.postTurnstileEvent(n.tiles,this.map._requestManager._customAccessToken),this.fire(new e.Event(\"data\",{dataType:\"source\",sourceDataType:\"metadata\"})),this.fire(new e.Event(\"data\",{dataType:\"source\",sourceDataType:\"content\"}))),t&&t(r);}));}loaded(){return this._loaded}hasTile(e){return !this.tileBounds||this.tileBounds.contains(e.canonical)}onAdd(e){this.map=e,this.load();}setSourceProperty(e){this._tileJSONRequest&&this._tileJSONRequest.cancel(),e(),this.load((()=>{const e=this.map.style._getSourceCaches(this.id);for(const t of e)t.clearTiles();}));}setTiles(e){return this.setSourceProperty((()=>{this._options.tiles=e;})),this}setUrl(e){return this.setSourceProperty((()=>{this.url=e,this._options.url=e;})),this}_setLanguage(e){return e===this.language||this.setSourceProperty((()=>{this.language=e;})),this}_setWorldview(e){return e===this.worldview?this:this.worldviewOptions&&e&&!this.worldviewOptions[e]?(console.warn(`Vector tile source \"${this.id}\" does not support worldview \"${e}\".`),this):(this.setSourceProperty((()=>{this.worldview=e;})),this)}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null);}serialize(){return e.extend({},this._options)}loadTile(t,i){const o=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme)),r={request:this.map._requestManager.transformRequest(o,e.ResourceType.Tile),data:void 0,uid:t.uid,tileID:t.tileID,tileZoom:t.tileZoom,zoom:t.tileID.overscaledZ,tileSize:this.tileSize*t.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:e.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,isSymbolTile:t.isSymbolTile};if(r.request.collectResourceTiming=this._collectResourceTiming,t.actor&&\"expired\"!==t.state)\"loading\"===t.state?t.reloadCallback=i:t.request=t.actor.send(\"reloadTile\",r,n.bind(this));else if(t.actor=this._tileWorkers[o]=this._tileWorkers[o]||this.dispatcher.getActor(),this.dispatcher.ready)t.request=t.actor.send(\"loadTile\",r,n.bind(this),void 0,!0);else {const i=e.loadVectorTile.call({deduped:this._deduped},r,((e,i)=>{e||!i?n.call(this,e):(r.data={cacheControl:i.cacheControl,expires:i.expires,rawData:i.rawData.slice(0)},t.actor&&t.actor.send(\"loadTile\",r,n.bind(this),void 0,!0));}),!0);t.request={cancel:i};}function n(o,r){return delete t.request,t.aborted?i(null):o&&404!==o.status?i(o):(r&&r.resourceTiming&&(t.resourceTiming=r.resourceTiming),this.map._refreshExpiredTiles&&r&&t.setExpiryData(r),t.loadVectorData(r,this.map.painter),e.cacheEntryPossiblyAdded(this.dispatcher),i(null),void(t.reloadCallback&&(this.loadTile(t,t.reloadCallback),t.reloadCallback=null)))}}abortTile(e){e.request&&(e.request.cancel(),delete e.request),e.actor&&e.actor.send(\"abortTile\",{uid:e.uid,type:this.type,source:this.id});}unloadTile(e){e.unloadVectorData(),e.actor&&e.actor.send(\"removeTile\",{uid:e.uid,type:this.type,source:this.id});}hasTransition(){return !1}afterUpdate(){this._tileWorkers={};}},raster:Me,\"raster-dem\":class extends Me{constructor(t,i,o,r){super(t,i,o,r),this.type=\"raster-dem\",this.maxzoom=22,this._options=e.extend({type:\"raster-dem\"},i),this.encoding=i.encoding||\"mapbox\";}loadTile(t,i){const o=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize);function r(e,o){e&&(t.state=\"errored\",i(e)),o&&(t.dem=o,t.dem.onDeserialize(),t.needsHillshadePrepare=!0,t.needsDEMTextureUpload=!0,t.state=\"loaded\",i(null));}t.request=e.getImage(this.map._requestManager.transformRequest(o,e.ResourceType.Tile),function(o,n,a,s){if(delete t.request,t.aborted)t.state=\"unloaded\",i(null);else if(o)t.state=\"errored\",i(o);else if(n){this.map._refreshExpiredTiles&&t.setExpiryData({cacheControl:a,expires:s});const i=e.window.ImageBitmap&&n instanceof e.window.ImageBitmap&&(null==Se&&(Se=e.window.OffscreenCanvas&&new e.window.OffscreenCanvas(1,1).getContext(\"2d\")&&\"function\"==typeof e.window.createImageBitmap),Se),o=1-(n.width-e.prevPowerOfTwo(n.width))/2;o<1||t.neighboringTiles||(t.neighboringTiles=this._getNeighboringTiles(t.tileID));const l=i?n:e.exported.getImageData(n,o),c={uid:t.uid,coord:t.tileID,source:this.id,rawImageData:l,encoding:this.encoding,padding:o};t.actor&&\"expired\"!==t.state||(t.actor=this.dispatcher.getActor(),t.actor.send(\"loadDEMTile\",c,r.bind(this),void 0,!0));}}.bind(this));}_getNeighboringTiles(t){const i=t.canonical,o=Math.pow(2,i.z),r=(i.x-1+o)%o,n=0===i.x?t.wrap-1:t.wrap,a=(i.x+1+o)%o,s=i.x+1===o?t.wrap+1:t.wrap,l={};return l[new e.OverscaledTileID(t.overscaledZ,n,i.z,r,i.y).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,s,i.z,a,i.y).key]={backfilled:!1},i.y>0&&(l[new e.OverscaledTileID(t.overscaledZ,n,i.z,r,i.y-1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,t.wrap,i.z,i.x,i.y-1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,s,i.z,a,i.y-1).key]={backfilled:!1}),i.y+1<o&&(l[new e.OverscaledTileID(t.overscaledZ,n,i.z,r,i.y+1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,t.wrap,i.z,i.x,i.y+1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,s,i.z,a,i.y+1).key]={backfilled:!1}),l}unloadTile(e){e.demTexture&&this.map.painter.saveTileTexture(e.demTexture),e.fbo&&(e.fbo.destroy(),delete e.fbo),e.dem&&delete e.dem,delete e.neighboringTiles,e.state=\"unloaded\";}},geojson:class extends e.Evented{constructor(t,i,o,r){super(),this.id=t,this.type=\"geojson\",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._loaded=!1,this.actor=o.getActor(),this.setEventedParent(r),this._data=i.data,this._options=e.extend({},i),this._collectResourceTiming=i.collectResourceTiming,void 0!==i.maxzoom&&(this.maxzoom=i.maxzoom),i.type&&(this.type=i.type),i.attribution&&(this.attribution=i.attribution),this.promoteId=i.promoteId;const n=e.EXTENT/this.tileSize;this.workerOptions=e.extend({source:this.id,cluster:i.cluster||!1,geojsonVtOptions:{buffer:(void 0!==i.buffer?i.buffer:128)*n,tolerance:(void 0!==i.tolerance?i.tolerance:.375)*n,extent:e.EXTENT,maxZoom:this.maxzoom,lineMetrics:i.lineMetrics||!1,generateId:i.generateId||!1},superclusterOptions:{maxZoom:void 0!==i.clusterMaxZoom?i.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,i.clusterMinPoints||2),extent:e.EXTENT,radius:(void 0!==i.clusterRadius?i.clusterRadius:50)*n,log:!1,generateId:i.generateId||!1},clusterProperties:i.clusterProperties,filter:i.filter},i.workerOptions);}onAdd(e){this.map=e,this.setData(this._data);}setData(e){return this._data=e,this._updateWorkerData(),this}getClusterExpansionZoom(e,t){return this.actor.send(\"geojson.getClusterExpansionZoom\",{clusterId:e,source:this.id},t),this}getClusterChildren(e,t){return this.actor.send(\"geojson.getClusterChildren\",{clusterId:e,source:this.id},t),this}getClusterLeaves(e,t,i,o){return this.actor.send(\"geojson.getClusterLeaves\",{source:this.id,clusterId:e,limit:t,offset:i},o),this}_updateWorkerData(){if(this._pendingLoad)return void(this._coalesce=!0);this.fire(new e.Event(\"dataloading\",{dataType:\"source\"})),this._loaded=!1;const t=e.extend({},this.workerOptions),i=this._data;\"string\"==typeof i?(t.request=this.map._requestManager.transformRequest(e.exported.resolveURL(i),e.ResourceType.Source),t.request.collectResourceTiming=this._collectResourceTiming):t.data=JSON.stringify(i),this._pendingLoad=this.actor.send(`${this.type}.loadData`,t,((t,i)=>{if(this._loaded=!0,this._pendingLoad=null,t)this.fire(new e.ErrorEvent(t));else {const t={dataType:\"source\",sourceDataType:this._metadataFired?\"content\":\"metadata\"};this._collectResourceTiming&&i&&i.resourceTiming&&i.resourceTiming[this.id]&&(t.resourceTiming=i.resourceTiming[this.id]),this.fire(new e.Event(\"data\",t)),this._metadataFired=!0;}this._coalesce&&(this._updateWorkerData(),this._coalesce=!1);}));}loaded(){return this._loaded}loadTile(t,i){const o=t.actor?\"reloadTile\":\"loadTile\";t.actor=this.actor,t.request=this.actor.send(o,{type:this.type,uid:t.uid,tileID:t.tileID,tileZoom:t.tileZoom,zoom:t.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:e.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},((e,r)=>(delete t.request,t.unloadVectorData(),t.aborted?i(null):e?i(e):(t.loadVectorData(r,this.map.painter,\"reloadTile\"===o),i(null)))),void 0,\"loadTile\"===o);}abortTile(e){e.request&&(e.request.cancel(),delete e.request),e.aborted=!0;}unloadTile(e){e.unloadVectorData(),this.actor.send(\"removeTile\",{uid:e.uid,type:this.type,source:this.id});}onRemove(){this._pendingLoad&&this._pendingLoad.cancel();}serialize(){return e.extend({},this._options,{type:this.type,data:this._data})}hasTransition(){return !1}},video:class extends De{constructor(e,t,i,o){super(e,t,i,o),this.roundZoom=!0,this.type=\"video\",this.options=t;}load(){this._loaded=!1;const t=this.options;this.urls=[];for(const i of t.urls)this.urls.push(this.map._requestManager.transformRequest(i,e.ResourceType.Source).url);e.getVideo(this.urls,((t,i)=>{this._loaded=!0,t?this.fire(new e.ErrorEvent(t)):i&&(this.video=i,this.video.loop=!0,this.video.setAttribute(\"playsinline\",\"\"),this.video.addEventListener(\"playing\",(()=>{this.map.triggerRepaint();})),this.map&&this.video.play(),this._finishLoading());}));}pause(){this.video&&this.video.pause();}play(){this.video&&this.video.play();}seek(t){if(this.video){const i=this.video.seekable;t<i.start(0)||t>i.end(0)?this.fire(new e.ErrorEvent(new e.ValidationError(`sources.${this.id}`,null,`Playback for this video can be set only between the ${i.start(0)} and ${i.end(0)}-second mark.`))):this.video.currentTime=t;}}getVideo(){return this.video}onAdd(e){this.map||(this.map=e,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)));}prepare(){if(0===Object.keys(this.tiles).length||this.video.readyState<2)return;const t=this.map.painter.context,i=t.gl;this.texture?this.video.paused||(this.texture.bind(i.LINEAR,i.CLAMP_TO_EDGE),i.texSubImage2D(i.TEXTURE_2D,0,0,0,i.RGBA,i.UNSIGNED_BYTE,this.video)):(this.texture=new e.Texture(t,this.video,i.RGBA),this.texture.bind(i.LINEAR,i.CLAMP_TO_EDGE),this.width=this.video.videoWidth,this.height=this.video.videoHeight),this._prepareData(t);}serialize(){return {type:\"video\",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}},image:De,canvas:class extends De{constructor(t,i,o,r){super(t,i,o,r),i.coordinates?Array.isArray(i.coordinates)&&4===i.coordinates.length&&!i.coordinates.some((e=>!Array.isArray(e)||2!==e.length||e.some((e=>\"number\"!=typeof e))))||this.fire(new e.ErrorEvent(new e.ValidationError(`sources.${t}`,null,'\"coordinates\" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new e.ErrorEvent(new e.ValidationError(`sources.${t}`,null,'missing required property \"coordinates\"'))),i.animate&&\"boolean\"!=typeof i.animate&&this.fire(new e.ErrorEvent(new e.ValidationError(`sources.${t}`,null,'optional \"animate\" property must be a boolean value'))),i.canvas?\"string\"==typeof i.canvas||i.canvas instanceof e.window.HTMLCanvasElement||this.fire(new e.ErrorEvent(new e.ValidationError(`sources.${t}`,null,'\"canvas\" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new e.ErrorEvent(new e.ValidationError(`sources.${t}`,null,'missing required property \"canvas\"'))),this.options=i,this.animate=void 0===i.animate||i.animate;}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof e.window.HTMLCanvasElement?this.options.canvas:e.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new e.ErrorEvent(new Error(\"Canvas dimensions cannot be less than or equal to zero.\"))):(this.play=function(){this._playing=!0,this.map.triggerRepaint();},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1);},this._finishLoading());}getCanvas(){return this.canvas}onAdd(e){this.map=e,this.load(),this.canvas&&this.animate&&this.play();}onRemove(){this.pause();}prepare(){let t=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,t=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,t=!0),this._hasInvalidDimensions())return;if(0===Object.keys(this.tiles).length)return;const i=this.map.painter.context;this.texture?(t||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new e.Texture(i,this.canvas,i.gl.RGBA,{premultiply:!0}),this._prepareData(i);}serialize(){return {type:\"canvas\",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const e of [this.canvas.width,this.canvas.height])if(isNaN(e)||e<=0)return !0;return !1}},custom:class extends e.Evented{constructor(t,i,o,r){super(),this.id=t,this.type=\"custom\",this._dataType=\"raster\",this._dispatcher=o,this._implementation=i,this.setEventedParent(r),this.scheme=\"xyz\",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this._loaded=!1,this.roundZoom=!0,this._implementation||this.fire(new e.ErrorEvent(new Error(`Missing implementation for ${this.id} custom source`))),this._implementation.loadTile||this.fire(new e.ErrorEvent(new Error(`Missing loadTile implementation for ${this.id} custom source`))),this._implementation.bounds&&(this.tileBounds=new U(this._implementation.bounds,this.minzoom,this.maxzoom)),i.update=this._update.bind(this),i.coveringTiles=this._coveringTiles.bind(this),e.extend(this,e.pick(i,[\"dataType\",\"scheme\",\"minzoom\",\"maxzoom\",\"tileSize\",\"attribution\",\"minTileCacheSize\",\"maxTileCacheSize\"]));}serialize(){return e.pick(this,[\"type\",\"scheme\",\"minzoom\",\"maxzoom\",\"tileSize\",\"attribution\"])}load(){this._loaded=!0,this.fire(new e.Event(\"data\",{dataType:\"source\",sourceDataType:\"metadata\"})),this.fire(new e.Event(\"data\",{dataType:\"source\",sourceDataType:\"content\"}));}loaded(){return this._loaded}onAdd(t){this._map=t,this._loaded=!1,this.fire(new e.Event(\"dataloading\",{dataType:\"source\"})),this._implementation.onAdd&&this._implementation.onAdd(t),this.load();}onRemove(e){this._implementation.onRemove&&this._implementation.onRemove(e);}hasTile(e){if(this._implementation.hasTile){const{x:t,y:i,z:o}=e.canonical;return this._implementation.hasTile({x:t,y:i,z:o})}return !this.tileBounds||this.tileBounds.contains(e.canonical)}loadTile(t,i){const{x:o,y:r,z:n}=t.tileID.canonical,a=new e.window.AbortController,s=this._implementation.loadTile({x:o,y:r,z:n},{signal:a.signal});if(!s)return this.loadTileData(t,{width:this.tileSize,height:this.tileSize,data:null}),t.state=\"loaded\",i(null);s.cancel=()=>a.abort(),t.request=s.then(function(o){return delete t.request,t.aborted?(t.state=\"unloaded\",i(null)):o?function(t){return t instanceof e.window.ImageData||t instanceof e.window.ImageBitmap||t instanceof e.window.HTMLCanvasElement}(o)?(this.loadTileData(t,o),t.state=\"loaded\",void i(null)):(t.state=\"errored\",i(new Error(`Can't infer data type for ${this.id}, only raster data supported at the moment`))):(this.loadTileData(t,{width:this.tileSize,height:this.tileSize,data:null}),t.state=\"loaded\",i(null))}.bind(this)).catch((e=>{20!==e.code&&(t.state=\"errored\",i(e));}));}loadTileData(e,t){Me.loadTileData(e,t,this._map.painter);}unloadTileData(e){Me.unloadTileData(e,this._map.painter);}prepareTile(e){if(!this._implementation.prepareTile)return null;const{x:t,y:i,z:o}=e.tileID.canonical,r=this._implementation.prepareTile({x:t,y:i,z:o});return r?(this.loadTileData(e,r),e.state=\"loaded\",r):null}unloadTile(e,t){if(this.unloadTileData(e),this._implementation.unloadTile){const{x:t,y:i,z:o}=e.tileID.canonical;this._implementation.unloadTile({x:t,y:i,z:o});}t();}abortTile(e,t){e.request&&e.request.cancel&&(e.request.cancel(),delete e.request),t();}hasTransition(){return !1}_coveringTiles(){return this._map.transform.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,roundZoom:this.roundZoom}).map((e=>({x:e.canonical.x,y:e.canonical.y,z:e.canonical.z})))}_update(){this.fire(new e.Event(\"data\",{dataType:\"source\",sourceDataType:\"content\"}));}}},Ae=function(t,i,o,r){const n=new Pe[i.type](t,i,o,r);if(n.id!==t)throw new Error(`Expected Source id to be ${t} instead of ${n.id}`);return e.bindAll([\"load\",\"abort\",\"unload\",\"serialize\",\"prepare\"],n),n};function Le(t,i){const o=e.identity([]);return e.scale(o,o,[.5*t.width,.5*-t.height,1]),e.translate(o,o,[1,-1,0]),e.multiply(o,o,t.calculateProjMatrix(i.toUnwrapped())),Float32Array.from(o)}function Re(e,t,i,o,r,n,a,s=!1){const l=e.tilesIn(o,a,s);l.sort(Be);const c=[];for(const o of l)c.push({wrappedTileID:o.tile.tileID.wrapped().key,queryResults:o.tile.queryRenderedFeatures(t,i,e._state,o,r,n,Le(e.transform,o.tile.tileID),s)});const h=function(e){const t={},i={};for(const o of e){const e=o.queryResults,r=o.wrappedTileID,n=i[r]=i[r]||{};for(const i in e){const o=e[i],r=n[i]=n[i]||{},a=t[i]=t[i]||[];for(const e of o)r[e.featureIndex]||(r[e.featureIndex]=!0,a.push(e));}}return t}(c);for(const t in h)h[t].forEach((t=>{const i=t.feature,o=i.layer;o&&\"background\"!==o.type&&\"sky\"!==o.type&&(i.source=o.source,o[\"source-layer\"]&&(i.sourceLayer=o[\"source-layer\"]),i.state=void 0!==i.id?e.getFeatureState(o[\"source-layer\"],i.id):{});}));return h}function Oe(e,t){const i=e.getRenderableIds().map((t=>e.getTileByID(t))),o=[],r={};for(let e=0;e<i.length;e++){const n=i[e],a=n.tileID.canonical.key;r[a]||(r[a]=!0,n.querySourceFeatures(o,t));}return o}function Be(e,t){const i=e.tileID,o=t.tileID;return i.overscaledZ-o.overscaledZ||i.canonical.y-o.canonical.y||i.wrap-o.wrap||i.canonical.x-o.canonical.x}function ke(){return null!=gn.workerClass?new gn.workerClass:new e.window.Worker(gn.workerUrl)}const Fe=\"mapboxgl_preloaded_worker_pool\";class Ue{constructor(){this.active={};}acquire(e){if(!this.workers)for(this.workers=[];this.workers.length<Ue.workerCount;)this.workers.push(new ke);return this.active[e]=!0,this.workers.slice()}release(e){delete this.active[e],0===this.numActive()&&(this.workers.forEach((e=>{e.terminate();})),this.workers=null);}isPreloaded(){return !!this.active[Fe]}numActive(){return Object.keys(this.active).length}}let Ne;function Ge(){return Ne||(Ne=new Ue),Ne}function je(t,i){const o={};for(const e in t)\"ref\"!==e&&(o[e]=t[e]);return e.refProperties.forEach((e=>{e in i&&(o[e]=i[e]);})),o}function Ze(e){e=e.slice();const t=Object.create(null);for(let i=0;i<e.length;i++)t[e[i].id]=e[i];for(let i=0;i<e.length;i++)\"ref\"in e[i]&&(e[i]=je(e[i],t[e[i].ref]));return e}Ue.workerCount=2;const Ve={setStyle:\"setStyle\",addLayer:\"addLayer\",removeLayer:\"removeLayer\",setPaintProperty:\"setPaintProperty\",setLayoutProperty:\"setLayoutProperty\",setFilter:\"setFilter\",addSource:\"addSource\",removeSource:\"removeSource\",setGeoJSONSourceData:\"setGeoJSONSourceData\",setLayerZoomRange:\"setLayerZoomRange\",setLayerProperty:\"setLayerProperty\",setCenter:\"setCenter\",setZoom:\"setZoom\",setBearing:\"setBearing\",setPitch:\"setPitch\",setSprite:\"setSprite\",setGlyphs:\"setGlyphs\",setTransition:\"setTransition\",setLight:\"setLight\",setTerrain:\"setTerrain\",setFog:\"setFog\",setProjection:\"setProjection\"};function We(e,t,i){i.push({command:Ve.addSource,args:[e,t[e]]});}function Xe(e,t,i){t.push({command:Ve.removeSource,args:[e]}),i[e]=!0;}function qe(e,t,i,o){Xe(e,i,o),We(e,t,i);}function $e(e,i,o){let r;for(r in e[o])if(e[o].hasOwnProperty(r)&&\"data\"!==r&&!t(e[o][r],i[o][r]))return !1;for(r in i[o])if(i[o].hasOwnProperty(r)&&\"data\"!==r&&!t(e[o][r],i[o][r]))return !1;return !0}function He(e,i,o,r,n,a){let s;for(s in i=i||{},e=e||{})e.hasOwnProperty(s)&&(t(e[s],i[s])||o.push({command:a,args:[r,s,i[s],n]}));for(s in i)i.hasOwnProperty(s)&&!e.hasOwnProperty(s)&&(t(e[s],i[s])||o.push({command:a,args:[r,s,i[s],n]}));}function Ye(e){return e.id}function Ke(e,t){return e[t.id]=t,e}class Je{constructor(e,t){this.reset(e,t);}reset(e,t){this.points=e||[],this._distances=[0];for(let e=1;e<this.points.length;e++)this._distances[e]=this._distances[e-1]+this.points[e].dist(this.points[e-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(t||0,.5*this.length),this.paddedLength=this.length-2*this.padding;}lerp(t){if(1===this.points.length)return this.points[0];t=e.clamp(t,0,1);let i=1,o=this._distances[i];const r=t*this.paddedLength+this.padding;for(;o<r&&i<this._distances.length;)o=this._distances[++i];const n=i-1,a=this._distances[n],s=o-a,l=s>0?(r-a)/s:0;return this.points[n].mult(1-l).add(this.points[i].mult(l))}}class Qe{constructor(e,t,i){const o=this.boxCells=[],r=this.circleCells=[];this.xCellCount=Math.ceil(e/i),this.yCellCount=Math.ceil(t/i);for(let e=0;e<this.xCellCount*this.yCellCount;e++)o.push([]),r.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=e,this.height=t,this.xScale=this.xCellCount/e,this.yScale=this.yCellCount/t,this.boxUid=0,this.circleUid=0;}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(e,t,i,o,r){this._forEachCell(t,i,o,r,this._insertBoxCell,this.boxUid++),this.boxKeys.push(e),this.bboxes.push(t),this.bboxes.push(i),this.bboxes.push(o),this.bboxes.push(r);}insertCircle(e,t,i,o){this._forEachCell(t-o,i-o,t+o,i+o,this._insertCircleCell,this.circleUid++),this.circleKeys.push(e),this.circles.push(t),this.circles.push(i),this.circles.push(o);}_insertBoxCell(e,t,i,o,r,n){this.boxCells[r].push(n);}_insertCircleCell(e,t,i,o,r,n){this.circleCells[r].push(n);}_query(e,t,i,o,r,n){if(i<0||e>this.width||o<0||t>this.height)return !r&&[];const a=[];if(e<=0&&t<=0&&this.width<=i&&this.height<=o){if(r)return !0;for(let e=0;e<this.boxKeys.length;e++)a.push({key:this.boxKeys[e],x1:this.bboxes[4*e],y1:this.bboxes[4*e+1],x2:this.bboxes[4*e+2],y2:this.bboxes[4*e+3]});for(let e=0;e<this.circleKeys.length;e++){const t=this.circles[3*e],i=this.circles[3*e+1],o=this.circles[3*e+2];a.push({key:this.circleKeys[e],x1:t-o,y1:i-o,x2:t+o,y2:i+o});}return n?a.filter(n):a}return this._forEachCell(e,t,i,o,this._queryCell,a,{hitTest:r,seenUids:{box:{},circle:{}}},n),r?a.length>0:a}_queryCircle(e,t,i,o,r){const n=e-i,a=e+i,s=t-i,l=t+i;if(a<0||n>this.width||l<0||s>this.height)return !o&&[];const c=[];return this._forEachCell(n,s,a,l,this._queryCellCircle,c,{hitTest:o,circle:{x:e,y:t,radius:i},seenUids:{box:{},circle:{}}},r),o?c.length>0:c}query(e,t,i,o,r){return this._query(e,t,i,o,!1,r)}hitTest(e,t,i,o,r){return this._query(e,t,i,o,!0,r)}hitTestCircle(e,t,i,o){return this._queryCircle(e,t,i,!0,o)}_queryCell(e,t,i,o,r,n,a,s){const l=a.seenUids,c=this.boxCells[r];if(null!==c){const r=this.bboxes;for(const h of c)if(!l.box[h]){l.box[h]=!0;const c=4*h;if(e<=r[c+2]&&t<=r[c+3]&&i>=r[c+0]&&o>=r[c+1]&&(!s||s(this.boxKeys[h]))){if(a.hitTest)return n.push(!0),!0;n.push({key:this.boxKeys[h],x1:r[c],y1:r[c+1],x2:r[c+2],y2:r[c+3]});}}}const h=this.circleCells[r];if(null!==h){const r=this.circles;for(const c of h)if(!l.circle[c]){l.circle[c]=!0;const h=3*c;if(this._circleAndRectCollide(r[h],r[h+1],r[h+2],e,t,i,o)&&(!s||s(this.circleKeys[c]))){if(a.hitTest)return n.push(!0),!0;{const e=r[h],t=r[h+1],i=r[h+2];n.push({key:this.circleKeys[c],x1:e-i,y1:t-i,x2:e+i,y2:t+i});}}}}}_queryCellCircle(e,t,i,o,r,n,a,s){const l=a.circle,c=a.seenUids,h=this.boxCells[r];if(null!==h){const e=this.bboxes;for(const t of h)if(!c.box[t]){c.box[t]=!0;const i=4*t;if(this._circleAndRectCollide(l.x,l.y,l.radius,e[i+0],e[i+1],e[i+2],e[i+3])&&(!s||s(this.boxKeys[t])))return n.push(!0),!0}}const u=this.circleCells[r];if(null!==u){const e=this.circles;for(const t of u)if(!c.circle[t]){c.circle[t]=!0;const i=3*t;if(this._circlesCollide(e[i],e[i+1],e[i+2],l.x,l.y,l.radius)&&(!s||s(this.circleKeys[t])))return n.push(!0),!0}}}_forEachCell(e,t,i,o,r,n,a,s){const l=this._convertToXCellCoord(e),c=this._convertToYCellCoord(t),h=this._convertToXCellCoord(i),u=this._convertToYCellCoord(o);for(let _=l;_<=h;_++)for(let l=c;l<=u;l++)if(r.call(this,e,t,i,o,this.xCellCount*l+_,n,a,s))return}_convertToXCellCoord(e){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(e*this.xScale)))}_convertToYCellCoord(e){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(e*this.yScale)))}_circlesCollide(e,t,i,o,r,n){const a=o-e,s=r-t,l=i+n;return l*l>a*a+s*s}_circleAndRectCollide(e,t,i,o,r,n,a){const s=(n-o)/2,l=Math.abs(e-(o+s));if(l>s+i)return !1;const c=(a-r)/2,h=Math.abs(t-(r+c));if(h>c+i)return !1;if(l<=s||h<=c)return !0;const u=l-s,_=h-c;return u*u+_*_<=i*i}}const et=Math.tan(85*Math.PI/180);function tt(t,i,o,r,n,a,s){const l=e.create();if(o)if(\"globe\"===a.name){const t=e.calculateGlobeLabelMatrix(n,i);e.multiply(l,l,t);}else {const t=v([],s);l[0]=t[0],l[1]=t[1],l[4]=t[2],l[5]=t[3],r||e.rotateZ(l,l,n.angle);}else e.multiply(l,n.labelPlaneMatrix,t);return l}function it(e,t,i,o,r,n,a){const s=tt(e,t,i,o,r,n,a);return \"globe\"===n.name&&i||(s[2]=s[6]=s[10]=s[14]=0),s}function ot(t,i,o,r,n,a,s){if(o){if(\"globe\"===a.name){const l=tt(t,i,o,r,n,a,s);return e.invert(l,l),e.multiply(l,t,l),l}{const i=e.clone(t),o=e.identity([]);return o[0]=s[0],o[1]=s[1],o[4]=s[2],o[5]=s[3],e.multiply(i,i,o),r||e.rotateZ(i,i,-n.angle),i}}return n.glCoordMatrix}function rt(t,i,o=0){const r=[t.x,t.y,o,1];o?e.transformMat4$1(r,r,i):gt(r,r,i);const n=r[3];return {point:[r[0]/n,r[1]/n,r[2]/n],signedDistanceFromCamera:n}}function nt(t,i){const o=[t[0],t[1],t[2],1];e.transformMat4$1(o,o,i);const r=o[3];return {point:[o[0]/r,o[1]/r,o[2]/r],signedDistanceFromCamera:r}}function at(e,t){return Math.min(.5+e/t*.5,1.5)}function st(e,t){const i=e[0]/e[3],o=e[1]/e[3];return i>=-t[0]&&i<=t[0]&&o>=-t[1]&&o<=t[1]}function lt(t,i,o,r,n,a,s,l,c,h){const u=o.transform,_=r?t.textSizeData:t.iconSizeData,d=e.evaluateSizeForZoom(_,o.transform.zoom),p=\"globe\"===u.projection.name,m=[256/o.width*2+1,256/o.height*2+1],f=r?t.text.dynamicLayoutVertexArray:t.icon.dynamicLayoutVertexArray;f.clear();let g=null;p&&(g=r?t.text.globeExtVertexArray:t.icon.globeExtVertexArray);const v=t.lineVertexArray,x=r?t.text.placedSymbolArray:t.icon.placedSymbolArray,y=o.transform.width/o.transform.height;let b=!1;for(let r=0;r<x.length;r++){const p=x.get(r);if(p.writingMode!==e.WritingMode.vertical||b||0!==r&&x.get(r-1).writingMode===e.WritingMode.horizontal||(b=!0),(p.hidden||p.writingMode===e.WritingMode.vertical)&&!b){ft(p.numGlyphs,f);continue}b=!1;const w=new e.pointGeometry(p.tileAnchorX,p.tileAnchorY),T=c?c(w):[0,0,0],E=u.projection.projectTilePoint(w.x,w.y,h.canonical),C=[E.x+T[0],E.y+T[1],E.z+T[2]],I=[...C,1];if(e.transformMat4$1(I,I,i),!st(I,m)){ft(p.numGlyphs,f);continue}const M=at(o.transform.cameraToCenterDistance,I[3]),S=e.evaluateSizeForFeature(_,d,p),z=s?S/M:S*M,D=rt(new e.pointGeometry(C[0],C[1]),n,C[2]);if(D.signedDistanceFromCamera<=0){ft(p.numGlyphs,f);continue}let P={};const A=s?null:c,L=ut(p,z,!1,l,i,n,a,t.glyphOffsetArray,v,f,g,D.point,w,P,y,A,u.projection,h,s);b=L.useVertical,A&&L.needsFlipping&&(P={}),(L.notEnoughRoom||b||L.needsFlipping&&ut(p,z,!0,l,i,n,a,t.glyphOffsetArray,v,f,g,D.point,w,P,y,A,u.projection,h,s).notEnoughRoom)&&ft(p.numGlyphs,f);}r?(t.text.dynamicLayoutVertexBuffer.updateData(f),g&&t.text.globeExtVertexBuffer.updateData(g)):(t.icon.dynamicLayoutVertexBuffer.updateData(f),g&&t.icon.globeExtVertexBuffer.updateData(g));}function ct(e,t,i,o,r,n,a,s,l,c,h,u,_,d,p,m){const f=s.glyphStartIndex+s.numGlyphs,g=s.lineStartIndex,v=s.lineStartIndex+s.lineLength,x=t.getoffsetX(s.glyphStartIndex),y=t.getoffsetX(f-1),b=pt(e*x,i,o,r,n,a,s.segment,g,v,l,c,h,u,_,!0,d,p,m);if(!b)return null;const w=pt(e*y,i,o,r,n,a,s.segment,g,v,l,c,h,u,_,!0,d,p,m);return w?{first:b,last:w}:null}function ht(t,i,o,r){return t.writingMode===e.WritingMode.horizontal&&Math.abs(o.y-i.y)>Math.abs(o.x-i.x)*r?{useVertical:!0}:t.writingMode===e.WritingMode.vertical?i.y<o.y?{needsFlipping:!0}:null:0!==t.flipState&&function(e,t,i){const o=(t.x-e.x)*i;return 0===o||Math.abs((t.y-e.y)/o)>et}(i,o,r)?1===t.flipState?{needsFlipping:!0}:null:i.x>o.x?{needsFlipping:!0}:null}function ut(t,i,o,r,n,a,s,l,c,h,u,_,d,p,m,f,g,v,x){const y=i/24,b=t.lineOffsetX*y,w=t.lineOffsetY*y;let T;if(t.numGlyphs>1){const i=t.glyphStartIndex+t.numGlyphs,n=t.lineStartIndex,h=t.lineStartIndex+t.lineLength,u=ct(y,l,b,w,o,_,d,t,c,a,p,f,!1,g,v,x);if(!u)return {notEnoughRoom:!0};const E=nt(u.first.point,s).point,C=nt(u.last.point,s).point,I=new e.pointGeometry(E[0],E[1]),M=new e.pointGeometry(C[0],C[1]);if(r&&!o){const e=ht(t,I,M,m);if(t.flipState=e&&e.needsFlipping?1:2,e)return e}T=[u.first];for(let e=t.glyphStartIndex+1;e<i-1;e++)T.push(pt(y*l.getoffsetX(e),b,w,o,_,d,t.segment,n,h,c,a,p,f,!1,!1,g,v,x));T.push(u.last);}else {if(r&&!o){const i=rt(d,n).point,o=t.lineStartIndex+t.segment+1,r=new e.pointGeometry(c.getx(o),c.gety(o)),a=rt(r,n),s=a.signedDistanceFromCamera>0?a.point:dt(d,r,i,1,n,void 0,g,v.canonical),l=ht(t,new e.pointGeometry(i[0],i[1]),new e.pointGeometry(s[0],s[1]),m);if(t.flipState=l&&l.needsFlipping?1:2,l)return l}const i=pt(y*l.getoffsetX(t.glyphStartIndex),b,w,o,_,d,t.segment,t.lineStartIndex,t.lineStartIndex+t.lineLength,c,a,p,f,!1,!1,g,v,x);if(!i)return {notEnoughRoom:!0};T=[i];}if(u)for(const t of T)e.updateGlobeVertexNormal(u,h.length+0,t.up[0],t.up[1],t.up[2]),e.updateGlobeVertexNormal(u,h.length+1,t.up[0],t.up[1],t.up[2]),e.updateGlobeVertexNormal(u,h.length+2,t.up[0],t.up[1],t.up[2]),e.updateGlobeVertexNormal(u,h.length+3,t.up[0],t.up[1],t.up[2]),e.addDynamicAttributes(h,t.point[0],t.point[1],t.point[2],t.angle);else for(const t of T)e.addDynamicAttributes(h,t.point[0],t.point[1],t.point[2],t.angle);return {}}function _t(t,i,o,r,n){const a=r.projectTilePoint(t.x,t.y,i);if(!n)return rt(a,o,a.z);const s=n(t);return rt(new e.pointGeometry(a.x+s[0],a.y+s[1]),o,a.z+s[2])}function dt(t,i,o,r,n,a,s,l){const c=_t(t.add(t.sub(i)._unit()),l,n,s,a).point,h=e.sub([],o,c);return e.scaleAndAdd([],o,h,r/e.length(h))}function pt(t,i,o,r,n,a,s,l,c,h,u,_,d,p,m,f,g,v){const x=r?t-i:t+i;let y=x>0?1:-1,b=0;r&&(y*=-1,b=Math.PI),y<0&&(b+=Math.PI);let w=y>0?l+s:l+s+1,T=n,E=n,C=0,I=0;const M=Math.abs(x),S=[],z=[];let D=a;const P=()=>{const t=w-y;return 0===C?a:new e.pointGeometry(h.getx(t),h.gety(t))},A=()=>dt(P(),D,E,M-C+1,u,d,f,g.canonical);for(;C+I<=M;){if(w+=y,w<l||w>=c)return null;if(E=T,S.push(T),p&&z.push(D||P()),T=_[w],void 0===T){D=new e.pointGeometry(h.getx(w),h.gety(w));const t=_t(D,g.canonical,u,f,d);T=t.signedDistanceFromCamera>0?_[w]=t.point:A();}else D=null;C+=I,I=e.distance(E,T);}D=D||new e.pointGeometry(h.getx(w),h.gety(w));const L=P();m&&d&&(_[w]=T=void 0===_[w]?T:A(),I=e.distance(E,T));const R=(M-C)/I,O=D.sub(L).mult(R)._add(L),B=e.sub([],T,E),k=e.scaleAndAdd([],E,B,R);let F=[0,0,1],U=B[0],N=B[1];if(v&&(F=f.upVector(g.canonical,O.x,O.y),0!==F[0]||0!==F[1]||1!==F[2])){const t=[1,0,0],i=[0,1,0];t[0]=F[2],t[1]=0,t[2]=-F[0],e.cross(i,F,t),e.normalize(t,t),e.normalize(i,i),U=e.dot(B,t),N=e.dot(B,i);}if(o){const t=e.cross([],F,B);e.normalize(t,t),e.scaleAndAdd(k,k,t,o*y);}const G=b+Math.atan2(N,U);return S.push(k),p&&z.push(O),{point:k,angle:G,path:S,tilePath:z,up:F}}const mt=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function ft(e,t){for(let i=0;i<e;i++){const e=t.length;t.resize(e+4),t.float32.set(mt,4*e);}}function gt(e,t,i){const o=t[0],r=t[1];return e[0]=i[0]*o+i[4]*r+i[12],e[1]=i[1]*o+i[5]*r+i[13],e[3]=i[3]*o+i[7]*r+i[15],e}const vt=100;class xt{constructor(e,t,i=new Qe(e.width+200,e.height+200,25),o=new Qe(e.width+200,e.height+200,25)){this.transform=e,this.grid=i,this.ignoredGrid=o,this.pitchfactor=Math.cos(e._pitch)*e.cameraToCenterDistance,this.screenRightBoundary=e.width+vt,this.screenBottomBoundary=e.height+vt,this.gridRightBoundary=e.width+200,this.gridBottomBoundary=e.height+200,this.fogState=t;}placeCollisionBox(e,t,i,o,r,n,a,s){let l=i.projectedAnchorX,c=i.projectedAnchorY,h=i.projectedAnchorZ;const u=i.elevation,_=i.tileID;if(u&&_){const t=e.getProjection().upVector(_.canonical,i.tileAnchorX,i.tileAnchorY),o=e.getProjection().upVectorScale(_.canonical,this.transform.center.lat,this.transform.worldSize).metersToTile;l+=t[0]*u*o,c+=t[1]*u*o,h+=t[2]*u*o;}const d=this.projectAndGetPerspectiveRatio(a,[l,c,h],i.tileID,\"globe\"===e.projection.name||!!u||this.transform.pitch>0,e.getProjection()),p=n*d.perspectiveRatio,m=(i.x1*t+o.x-i.padding)*p+d.point.x,f=(i.y1*t+o.y-i.padding)*p+d.point.y,g=(i.x2*t+o.x+i.padding)*p+d.point.x,v=(i.y2*t+o.y+i.padding)*p+d.point.y,x=d.perspectiveRatio<=.55||d.occluded;return !this.isInsideGrid(m,f,g,v)||!r&&this.grid.hitTest(m,f,g,v,s)||x?{box:[],offscreen:!1,occluded:d.occluded}:{box:[m,f,g,v],offscreen:this.isOffscreen(m,f,g,v),occluded:!1}}placeCollisionCircles(t,i,o,r,n,a,s,l,c,h,u,_,d,p,m){const f=[],g=this.transform.elevation,v=g?g.getAtTileOffsetFunc(m,this.transform.center.lat,this.transform.worldSize,t.getProjection()):e=>[0,0,0],x=new e.pointGeometry(o.tileAnchorX,o.tileAnchorY),y=t.getProjection().projectTilePoint(o.tileAnchorX,o.tileAnchorY,m.canonical),b=v(x),w=[y.x+b[0],y.y+b[1],y.z+b[2]],T=\"globe\"===t.projection.name,E=this.projectAndGetPerspectiveRatio(s,[w[0],w[1],w[2]],m,T||!!g||this.transform.pitch>0,t.getProjection()),{perspectiveRatio:C}=E,I=(u?a/C:a*C)/e.ONE_EM,M=rt(new e.pointGeometry(w[0],w[1]),l,w[2]).point,S=E.signedDistanceFromCamera>0?ct(I,n,o.lineOffsetX*I,o.lineOffsetY*I,!1,M,x,o,r,l,{},g&&!u?v:null,u&&!!g,t.getProjection(),m,u):null;let z=!1,D=!1,P=!0;if(S&&!E.occluded){const t=.5*d*C+p,o=new e.pointGeometry(-100,-100),r=new e.pointGeometry(this.screenRightBoundary,this.screenBottomBoundary),n=new Je,a=S.first,s=S.last;let l=[];for(let e=a.path.length-1;e>=1;e--)l.push(a.path[e]);for(let e=1;e<s.path.length;e++)l.push(s.path[e]);const u=2.5*t;if(c){const e=l.map(g&&!T?(e,t)=>{const i=v(t<a.path.length-1?a.tilePath[a.path.length-1-t]:s.tilePath[t-a.path.length+2]);return e[2]=i[2],nt(e,c)}:e=>nt(e,c));l=e.some((e=>e.signedDistanceFromCamera<=0))?[]:e.map((e=>e.point));}let m=[];if(l.length>0){const t=l.map((t=>new e.pointGeometry(t[0],t[1])));let i=1/0,n=-1/0,a=1/0,s=-1/0;for(let e=0;e<t.length;e++)i=Math.min(i,t[e].x),a=Math.min(a,t[e].y),n=Math.max(n,t[e].x),s=Math.max(s,t[e].y);m=i>=o.x&&n<=r.x&&a>=o.y&&s<=r.y?[t]:n<o.x||i>r.x||s<o.y||a>r.y?[]:e.clipLine([t],o.x,o.y,r.x,r.y);}for(const e of m){n.reset(e,.25*t);let o=0;o=n.length<=.5*t?1:Math.ceil(n.paddedLength/u)+1;for(let e=0;e<o;e++){const r=e/Math.max(o-1,1),a=n.lerp(r),s=a.x+vt,l=a.y+vt;f.push(s,l,t,0);const c=s-t,u=l-t,d=s+t,p=l+t;if(P=P&&this.isOffscreen(c,u,d,p),D=D||this.isInsideGrid(c,u,d,p),!i&&this.grid.hitTestCircle(s,l,t,_)&&(z=!0,!h))return {circles:[],offscreen:!1,collisionDetected:z,occluded:!1}}}}return {circles:!h&&z||!D?[]:f,offscreen:P,collisionDetected:z,occluded:E.occluded}}queryRenderedSymbols(t){if(0===t.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return {};const i=[];let o=1/0,r=1/0,n=-1/0,a=-1/0;for(const s of t){const t=new e.pointGeometry(s.x+vt,s.y+vt);o=Math.min(o,t.x),r=Math.min(r,t.y),n=Math.max(n,t.x),a=Math.max(a,t.y),i.push(t);}const s=this.grid.query(o,r,n,a).concat(this.ignoredGrid.query(o,r,n,a)),l={},c={};for(const t of s){const o=t.key;if(void 0===l[o.bucketInstanceId]&&(l[o.bucketInstanceId]={}),l[o.bucketInstanceId][o.featureIndex])continue;const r=[new e.pointGeometry(t.x1,t.y1),new e.pointGeometry(t.x2,t.y1),new e.pointGeometry(t.x2,t.y2),new e.pointGeometry(t.x1,t.y2)];e.polygonIntersectsPolygon(i,r)&&(l[o.bucketInstanceId][o.featureIndex]=!0,void 0===c[o.bucketInstanceId]&&(c[o.bucketInstanceId]=[]),c[o.bucketInstanceId].push(o.featureIndex));}return c}insertCollisionBox(e,t,i,o,r){(t?this.ignoredGrid:this.grid).insert({bucketInstanceId:i,featureIndex:o,collisionGroupID:r},e[0],e[1],e[2],e[3]);}insertCollisionCircles(e,t,i,o,r){const n=t?this.ignoredGrid:this.grid,a={bucketInstanceId:i,featureIndex:o,collisionGroupID:r};for(let t=0;t<e.length;t+=4)n.insertCircle(a,e[t],e[t+1],e[t+2]);}projectAndGetPerspectiveRatio(t,i,o,r,n){const a=[i[0],i[1],i[2],1];let s=!1;if(i[2]||this.transform.pitch>0){e.transformMat4$1(a,a,t);const r=\"globe\"===n.name;this.fogState&&o&&!r&&(s=function(t,i,o,r,n,a){const s=a.calculateFogTileMatrix(n),l=[i,o,r];return e.transformMat4(l,l,s),M(t,l,a.pitch,a._fov)}(this.fogState,i[0],i[1],i[2],o.toUnwrapped(),this.transform)>.9);}else gt(a,a,t);return {point:new e.pointGeometry((a[0]/a[3]+1)/2*this.transform.width+vt,(-a[1]/a[3]+1)/2*this.transform.height+vt),perspectiveRatio:Math.min(.5+this.transform.getCameraToCenterDistance(n)/a[3]*.5,1.5),signedDistanceFromCamera:a[3],occluded:r&&a[2]>a[3]||s}}isOffscreen(e,t,i,o){return i<vt||e>=this.screenRightBoundary||o<vt||t>this.screenBottomBoundary}isInsideGrid(e,t,i,o){return i>=0&&e<this.gridRightBoundary&&o>=0&&t<this.gridBottomBoundary}getViewportMatrix(){const t=e.identity([]);return e.translate(t,t,[-100,-100,0]),t}}function yt(t,i,o){const r=i.createTileMatrix(t,t.worldSize,o.toUnwrapped());return e.multiply(new Float32Array(16),t.projMatrix,r)}function bt(e,t,i){if(t.projection.name===i.projection.name)return e.projMatrix;const o=i.clone();return o.setProjection(t.projection),yt(o,t.getProjection(),e)}function wt(e,t,i){return t.name===i.projection.name?e.projMatrix:yt(i,t,e)}class Tt{constructor(e,t,i,o){this.opacity=e?Math.max(0,Math.min(1,e.opacity+(e.placed?t:-t))):o&&i?1:0,this.placed=i;}isHidden(){return 0===this.opacity&&!this.placed}}class Et{constructor(e,t,i,o,r,n=!1){this.text=new Tt(e?e.text:null,t,i,r),this.icon=new Tt(e?e.icon:null,t,o,r),this.clipped=n;}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Ct{constructor(e,t,i,o=!1){this.text=e,this.icon=t,this.skipFade=i,this.clipped=o;}}class It{constructor(){this.invProjMatrix=e.create(),this.viewportMatrix=e.create(),this.circles=[];}}class Mt{constructor(e,t,i,o,r){this.bucketInstanceId=e,this.featureIndex=t,this.sourceLayerIndex=i,this.bucketIndex=o,this.tileID=r;}}class St{constructor(e){this.crossSourceCollisions=e,this.maxGroupID=0,this.collisionGroups={};}get(e){if(this.crossSourceCollisions)return {ID:0,predicate:null};if(!this.collisionGroups[e]){const t=++this.maxGroupID;this.collisionGroups[e]={ID:t,predicate:e=>e.collisionGroupID===t};}return this.collisionGroups[e]}}function zt(t,i,o,r,n){const{horizontalAlign:a,verticalAlign:s}=e.getAnchorAlignment(t),l=-(a-.5)*i,c=-(s-.5)*o,h=e.evaluateVariableOffset(t,r);return new e.pointGeometry(l+h[0]*n,c+h[1]*n)}function Dt(t,i,o,r,n){const a=new e.pointGeometry(t,i);return o&&a._rotate(r?n:-n),a}class Pt{constructor(e,t,i,o,r){this.transform=e.clone(),this.projection=e.projection.name,this.collisionIndex=new xt(this.transform,r),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=t,this.retainedQueryData={},this.collisionGroups=new St(i),this.collisionCircleArrays={},this.prevPlacement=o,o&&(o.prevPlacement=void 0),this.placedOrientations={};}getBucketParts(t,i,o,r){const n=o.getBucket(i),a=o.latestFeatureIndex;if(!n||!a||i.id!==n.layerIds[0])return;const s=n.layers[0].layout,l=o.collisionBoxArray,c=Math.pow(2,this.transform.zoom-o.tileID.overscaledZ),h=o.tileSize/e.EXTENT,u=o.tileID.toUnwrapped();this.transform.setProjection(n.projection);const _=(d=o.tileID,p=n.getProjection(),m=this.transform,p.name===this.projection?m.calculateProjMatrix(d.toUnwrapped()):yt(m,p,d));var d,p,m;const f=\"map\"===s.get(\"text-pitch-alignment\"),g=\"map\"===s.get(\"text-rotation-alignment\");i.compileFilter();const v=i.dynamicFilter(),x=i.dynamicFilterNeedsFeature(),y=this.transform.calculatePixelsToTileUnitsMatrix(o),b=it(_,o.tileID.canonical,f,g,this.transform,n.getProjection(),y);let w=null;if(f){const t=ot(_,o.tileID.canonical,f,g,this.transform,n.getProjection(),y);w=e.multiply([],this.transform.labelPlaneMatrix,t);}let T=null;v&&o.latestFeatureIndex&&(T={unwrappedTileID:u,dynamicFilter:v,dynamicFilterNeedsFeature:x,featureIndex:o.latestFeatureIndex}),this.retainedQueryData[n.bucketInstanceId]=new Mt(n.bucketInstanceId,a,n.sourceLayerIndex,n.index,o.tileID);const E={bucket:n,layout:s,posMatrix:_,textLabelPlaneMatrix:b,labelToScreenMatrix:w,clippingData:T,scale:c,textPixelRatio:h,holdingForFade:o.holdingForFade(),collisionBoxArray:l,partiallyEvaluatedTextSize:e.evaluateSizeForZoom(n.textSizeData,this.transform.zoom),partiallyEvaluatedIconSize:e.evaluateSizeForZoom(n.iconSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(n.sourceID)};if(r)for(const e of n.sortKeyRanges){const{sortKey:i,symbolInstanceStart:o,symbolInstanceEnd:r}=e;t.push({sortKey:i,symbolInstanceStart:o,symbolInstanceEnd:r,parameters:E});}else t.push({symbolInstanceStart:0,symbolInstanceEnd:n.symbolInstances.length,parameters:E});}attemptAnchorPlacement(e,t,i,o,r,n,a,s,l,c,h,u,_,d,p,m,f,g){const v=[u.textOffset0,u.textOffset1],x=zt(e,i,o,v,r),y=this.collisionIndex.placeCollisionBox(d,r,t,Dt(x.x,x.y,n,a,this.transform.angle),h,s,l,c.predicate);if((!m||0!==this.collisionIndex.placeCollisionBox(d,d.getSymbolInstanceIconSize(g,this.transform.zoom,_),m,Dt(x.x,x.y,n,a,this.transform.angle),h,s,l,c.predicate).box.length)&&y.box.length>0){let t;return this.prevPlacement&&this.prevPlacement.variableOffsets[u.crossTileID]&&this.prevPlacement.placements[u.crossTileID]&&this.prevPlacement.placements[u.crossTileID].text&&(t=this.prevPlacement.variableOffsets[u.crossTileID].anchor),this.variableOffsets[u.crossTileID]={textOffset:v,width:i,height:o,anchor:e,textScale:r,prevAnchor:t},this.markUsedJustification(d,e,u,p),d.allowVerticalPlacement&&(this.markUsedOrientation(d,p,u),this.placedOrientations[u.crossTileID]=p),{shift:x,placedGlyphBoxes:y}}}placeLayerBucketPart(t,i,o,r){const{bucket:n,layout:a,posMatrix:s,textLabelPlaneMatrix:l,labelToScreenMatrix:c,clippingData:h,textPixelRatio:u,holdingForFade:_,collisionBoxArray:d,partiallyEvaluatedTextSize:p,partiallyEvaluatedIconSize:m,collisionGroup:f}=t.parameters,g=a.get(\"text-optional\"),v=a.get(\"icon-optional\"),x=a.get(\"text-allow-overlap\"),y=a.get(\"icon-allow-overlap\"),b=\"map\"===a.get(\"text-rotation-alignment\"),w=\"map\"===a.get(\"text-pitch-alignment\"),T=\"none\"!==a.get(\"icon-text-fit\"),E=\"viewport-y\"===a.get(\"symbol-z-order\");this.transform.setProjection(n.projection);let C=x&&(y||!n.hasIconData()||v),I=y&&(x||!n.hasTextData()||g);!n.collisionArrays&&d&&n.deserializeCollisionBoxes(d),o&&r&&n.updateCollisionDebugBuffers(this.transform.zoom,d);const M=(t,r,d)=>{if(h){const o={zoom:this.transform.zoom,pitch:this.transform.pitch};let r=null;if(h.dynamicFilterNeedsFeature){const e=this.retainedQueryData[n.bucketInstanceId];r=h.featureIndex.loadFeature({featureIndex:t.featureIndex,bucketIndex:e.bucketIndex,sourceLayerIndex:e.sourceLayerIndex,layoutVertexArrayOffset:0});}if(!(0,h.dynamicFilter)(o,r,this.retainedQueryData[n.bucketInstanceId].tileID.canonical,new e.pointGeometry(t.tileAnchorX,t.tileAnchorY),this.transform.calculateDistanceTileData(h.unwrappedTileID)))return this.placements[t.crossTileID]=new Ct(!1,!1,!1,!0),void(i[t.crossTileID]=!0)}if(i[t.crossTileID])return;if(_)return void(this.placements[t.crossTileID]=new Ct(!1,!1,!1));let E=!1,M=!1,S=!0,z=!1,D=!1,P=null,A={box:null,offscreen:null,occluded:null},L={box:null,offscreen:null,occluded:null},R=null,O=null,B=null,k=0,F=0,U=0;d.textFeatureIndex?k=d.textFeatureIndex:t.useRuntimeCollisionCircles&&(k=t.featureIndex),d.verticalTextFeatureIndex&&(F=d.verticalTextFeatureIndex);const N=e=>{e.tileID=this.retainedQueryData[n.bucketInstanceId].tileID,(this.transform.elevation||e.elevation)&&(e.elevation=this.transform.elevation?this.transform.elevation.getAtTileOffset(this.retainedQueryData[n.bucketInstanceId].tileID,e.tileAnchorX,e.tileAnchorY):0);},G=d.textBox;if(G){N(G);const i=i=>{let o=e.WritingMode.horizontal;if(n.allowVerticalPlacement&&!i&&this.prevPlacement){const e=this.prevPlacement.placedOrientations[t.crossTileID];e&&(this.placedOrientations[t.crossTileID]=e,o=e,this.markUsedOrientation(n,o,t));}return o},o=(i,o)=>{if(n.allowVerticalPlacement&&t.numVerticalGlyphVertices>0&&d.verticalTextBox){for(const t of n.writingModes)if(t===e.WritingMode.vertical?(A=o(),L=A):A=i(),A&&A.box&&A.box.length)break}else A=i();};if(a.get(\"text-variable-anchor\")){let l=a.get(\"text-variable-anchor\");if(this.prevPlacement&&this.prevPlacement.variableOffsets[t.crossTileID]){const e=this.prevPlacement.variableOffsets[t.crossTileID];l.indexOf(e.anchor)>0&&(l=l.filter((t=>t!==e.anchor)),l.unshift(e.anchor));}const c=(e,i,o)=>{const a=n.getSymbolInstanceTextSize(p,t,this.transform.zoom,r),c=(e.x2-e.x1)*a+2*e.padding,h=(e.y2-e.y1)*a+2*e.padding,_=T&&!y?i:null;_&&N(_);let d={box:[],offscreen:!1,occluded:!1};const g=x?2*l.length:l.length;for(let i=0;i<g;++i){const g=this.attemptAnchorPlacement(l[i%l.length],e,c,h,a,b,w,u,s,f,i>=l.length,t,r,n,o,_,p,m);if(g&&(d=g.placedGlyphBoxes,d&&d.box&&d.box.length)){E=!0,P=g.shift;break}}return d};o((()=>c(G,d.iconBox,e.WritingMode.horizontal)),(()=>{const i=d.verticalTextBox;return i&&N(i),n.allowVerticalPlacement&&!(A&&A.box&&A.box.length)&&t.numVerticalGlyphVertices>0&&i?c(i,d.verticalIconBox,e.WritingMode.vertical):{box:null,offscreen:null,occluded:null}})),A&&(E=A.box,S=A.offscreen,z=A.occluded);const h=i(A&&A.box);if(!E&&this.prevPlacement){const e=this.prevPlacement.variableOffsets[t.crossTileID];e&&(this.variableOffsets[t.crossTileID]=e,this.markUsedJustification(n,e.anchor,t,h));}}else {const a=(i,o)=>{const a=n.getSymbolInstanceTextSize(p,t,this.transform.zoom,r),l=this.collisionIndex.placeCollisionBox(n,a,i,new e.pointGeometry(0,0),x,u,s,f.predicate);return l&&l.box&&l.box.length&&(this.markUsedOrientation(n,o,t),this.placedOrientations[t.crossTileID]=o),l};o((()=>a(G,e.WritingMode.horizontal)),(()=>{const i=d.verticalTextBox;return n.allowVerticalPlacement&&t.numVerticalGlyphVertices>0&&i?(N(i),a(i,e.WritingMode.vertical)):{box:null,offscreen:null,occluded:null}})),i(A&&A.box&&A.box.length);}}if(R=A,E=R&&R.box&&R.box.length>0,S=R&&R.offscreen,z=R&&R.occluded,t.useRuntimeCollisionCircles){const i=n.text.placedSymbolArray.get(t.centerJustifiedTextSymbolIndex>=0?t.centerJustifiedTextSymbolIndex:t.verticalPlacedTextSymbolIndex),r=e.evaluateSizeForFeature(n.textSizeData,p,i),h=a.get(\"text-padding\");O=this.collisionIndex.placeCollisionCircles(n,x,i,n.lineVertexArray,n.glyphOffsetArray,r,s,l,c,o,w,f.predicate,t.collisionCircleDiameter*r/e.ONE_EM,h,this.retainedQueryData[n.bucketInstanceId].tileID),E=x||O.circles.length>0&&!O.collisionDetected,S=S&&O.offscreen,z=O.occluded;}if(d.iconFeatureIndex&&(U=d.iconFeatureIndex),d.iconBox){const t=t=>{N(t);const i=T&&P?Dt(P.x,P.y,b,w,this.transform.angle):new e.pointGeometry(0,0),o=n.getSymbolInstanceIconSize(m,this.transform.zoom,r);return this.collisionIndex.placeCollisionBox(n,o,t,i,y,u,s,f.predicate)};L&&L.box&&L.box.length&&d.verticalIconBox?(B=t(d.verticalIconBox),M=B.box.length>0):(B=t(d.iconBox),M=B.box.length>0),S=S&&B.offscreen,D=B.occluded;}const j=g||0===t.numHorizontalGlyphVertices&&0===t.numVerticalGlyphVertices,Z=v||0===t.numIconVertices;if(j||Z?Z?j||(M=M&&E):E=M&&E:M=E=M&&E,E&&R&&R.box&&this.collisionIndex.insertCollisionBox(R.box,a.get(\"text-ignore-placement\"),n.bucketInstanceId,L&&L.box&&F?F:k,f.ID),M&&B&&this.collisionIndex.insertCollisionBox(B.box,a.get(\"icon-ignore-placement\"),n.bucketInstanceId,U,f.ID),O&&(E&&this.collisionIndex.insertCollisionCircles(O.circles,a.get(\"text-ignore-placement\"),n.bucketInstanceId,k,f.ID),o)){const e=n.bucketInstanceId;let t=this.collisionCircleArrays[e];void 0===t&&(t=this.collisionCircleArrays[e]=new It);for(let e=0;e<O.circles.length;e+=4)t.circles.push(O.circles[e+0]),t.circles.push(O.circles[e+1]),t.circles.push(O.circles[e+2]),t.circles.push(O.collisionDetected?1:0);}const V=\"globe\"!==n.projection.name;C=C&&(V||!z),I=I&&(V||!D),this.placements[t.crossTileID]=new Ct(E||C,M||I,S||n.justReloaded),i[t.crossTileID]=!0;};if(E){const e=n.getSortedSymbolIndexes(this.transform.angle);for(let t=e.length-1;t>=0;--t){const i=e[t];M(n.symbolInstances.get(i),i,n.collisionArrays[i]);}}else for(let e=t.symbolInstanceStart;e<t.symbolInstanceEnd;e++)M(n.symbolInstances.get(e),e,n.collisionArrays[e]);if(o&&n.bucketInstanceId in this.collisionCircleArrays){const t=this.collisionCircleArrays[n.bucketInstanceId];e.invert(t.invProjMatrix,s),t.viewportMatrix=this.collisionIndex.getViewportMatrix();}n.justReloaded=!1;}markUsedJustification(t,i,o,r){let n;n=r===e.WritingMode.vertical?o.verticalPlacedTextSymbolIndex:{left:o.leftJustifiedTextSymbolIndex,center:o.centerJustifiedTextSymbolIndex,right:o.rightJustifiedTextSymbolIndex}[e.getAnchorJustification(i)];const a=[o.leftJustifiedTextSymbolIndex,o.centerJustifiedTextSymbolIndex,o.rightJustifiedTextSymbolIndex,o.verticalPlacedTextSymbolIndex];for(const e of a)e>=0&&(t.text.placedSymbolArray.get(e).crossTileID=n>=0&&e!==n?0:o.crossTileID);}markUsedOrientation(t,i,o){const r=i===e.WritingMode.horizontal||i===e.WritingMode.horizontalOnly?i:0,n=i===e.WritingMode.vertical?i:0,a=[o.leftJustifiedTextSymbolIndex,o.centerJustifiedTextSymbolIndex,o.rightJustifiedTextSymbolIndex];for(const e of a)t.text.placedSymbolArray.get(e).placedOrientation=r;o.verticalPlacedTextSymbolIndex&&(t.text.placedSymbolArray.get(o.verticalPlacedTextSymbolIndex).placedOrientation=n);}commit(e){this.commitTime=e,this.zoomAtLastRecencyCheck=this.transform.zoom;const t=this.prevPlacement;let i=!1;this.prevZoomAdjustment=t?t.zoomAdjustment(this.transform.zoom):0;const o=t?t.symbolFadeChange(e):1,r=t?t.opacities:{},n=t?t.variableOffsets:{},a=t?t.placedOrientations:{};for(const e in this.placements){const t=this.placements[e],n=r[e];n?(this.opacities[e]=new Et(n,o,t.text,t.icon,null,t.clipped),i=i||t.text!==n.text.placed||t.icon!==n.icon.placed):(this.opacities[e]=new Et(null,o,t.text,t.icon,t.skipFade,t.clipped),i=i||t.text||t.icon);}for(const e in r){const t=r[e];if(!this.opacities[e]){const r=new Et(t,o,!1,!1);r.isHidden()||(this.opacities[e]=r,i=i||t.text.placed||t.icon.placed);}}for(const e in n)this.variableOffsets[e]||!this.opacities[e]||this.opacities[e].isHidden()||(this.variableOffsets[e]=n[e]);for(const e in a)this.placedOrientations[e]||!this.opacities[e]||this.opacities[e].isHidden()||(this.placedOrientations[e]=a[e]);i?this.lastPlacementChangeTime=e:\"number\"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=t?t.lastPlacementChangeTime:e);}updateLayerOpacities(e,t){const i={};for(const o of t){const t=o.getBucket(e);t&&o.latestFeatureIndex&&e.id===t.layerIds[0]&&this.updateBucketOpacities(t,i,o.collisionBoxArray);}}updateBucketOpacities(t,i,o){t.hasTextData()&&t.text.opacityVertexArray.clear(),t.hasIconData()&&t.icon.opacityVertexArray.clear(),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexArray.clear(),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexArray.clear();const r=t.layers[0].layout,n=!!t.layers[0].dynamicFilter(),a=new Et(null,0,!1,!1,!0),s=r.get(\"text-allow-overlap\"),l=r.get(\"icon-allow-overlap\"),c=r.get(\"text-variable-anchor\"),h=\"map\"===r.get(\"text-rotation-alignment\"),u=\"map\"===r.get(\"text-pitch-alignment\"),_=\"none\"!==r.get(\"icon-text-fit\"),d=new Et(null,0,s&&(l||!t.hasIconData()||r.get(\"icon-optional\")),l&&(s||!t.hasTextData()||r.get(\"text-optional\")),!0);!t.collisionArrays&&o&&(t.hasIconCollisionBoxData()||t.hasTextCollisionBoxData())&&t.deserializeCollisionBoxes(o);const p=(e,t,i)=>{for(let o=0;o<t/4;o++)e.opacityVertexArray.emplaceBack(i);};let m=0;for(let o=0;o<t.symbolInstances.length;o++){const r=t.symbolInstances.get(o),{numHorizontalGlyphVertices:s,numVerticalGlyphVertices:l,crossTileID:f}=r;let g=this.opacities[f];i[f]?g=a:g||(g=d,this.opacities[f]=g),i[f]=!0;const v=s>0||l>0,x=r.numIconVertices>0,y=this.placedOrientations[r.crossTileID],b=y===e.WritingMode.vertical,w=y===e.WritingMode.horizontal||y===e.WritingMode.horizontalOnly;if(!v&&!x||g.isHidden()||m++,v){const e=Nt(g.text);p(t.text,s,b?Gt:e),p(t.text,l,w?Gt:e);const i=g.text.isHidden();[r.rightJustifiedTextSymbolIndex,r.centerJustifiedTextSymbolIndex,r.leftJustifiedTextSymbolIndex].forEach((e=>{e>=0&&(t.text.placedSymbolArray.get(e).hidden=i||b?1:0);})),r.verticalPlacedTextSymbolIndex>=0&&(t.text.placedSymbolArray.get(r.verticalPlacedTextSymbolIndex).hidden=i||w?1:0);const o=this.variableOffsets[r.crossTileID];o&&this.markUsedJustification(t,o.anchor,r,y);const n=this.placedOrientations[r.crossTileID];n&&(this.markUsedJustification(t,\"left\",r,n),this.markUsedOrientation(t,n,r));}if(x){const e=Nt(g.icon);r.placedIconSymbolIndex>=0&&(p(t.icon,r.numIconVertices,b?Gt:e),t.icon.placedSymbolArray.get(r.placedIconSymbolIndex).hidden=g.icon.isHidden()),r.verticalPlacedIconSymbolIndex>=0&&(p(t.icon,r.numVerticalIconVertices,w?Gt:e),t.icon.placedSymbolArray.get(r.verticalPlacedIconSymbolIndex).hidden=g.icon.isHidden());}if(t.hasIconCollisionBoxData()||t.hasTextCollisionBoxData()){const i=t.collisionArrays[o];if(i){let o=new e.pointGeometry(0,0),r=!0;if(i.textBox||i.verticalTextBox){if(c){const e=this.variableOffsets[f];e?(o=zt(e.anchor,e.width,e.height,e.textOffset,e.textScale),h&&o._rotate(u?this.transform.angle:-this.transform.angle)):r=!1;}n&&(r=!g.clipped),i.textBox&&At(t.textCollisionBox.collisionVertexArray,g.text.placed,!r||b,o.x,o.y),i.verticalTextBox&&At(t.textCollisionBox.collisionVertexArray,g.text.placed,!r||w,o.x,o.y);}const a=r&&Boolean(!w&&i.verticalIconBox);i.iconBox&&At(t.iconCollisionBox.collisionVertexArray,g.icon.placed,a,_?o.x:0,_?o.y:0),i.verticalIconBox&&At(t.iconCollisionBox.collisionVertexArray,g.icon.placed,!a,_?o.x:0,_?o.y:0);}}}if(t.fullyClipped=0===m,t.sortFeatures(this.transform.angle),this.retainedQueryData[t.bucketInstanceId]&&(this.retainedQueryData[t.bucketInstanceId].featureSortOrder=t.featureSortOrder),t.hasTextData()&&t.text.opacityVertexBuffer&&t.text.opacityVertexBuffer.updateData(t.text.opacityVertexArray),t.hasIconData()&&t.icon.opacityVertexBuffer&&t.icon.opacityVertexBuffer.updateData(t.icon.opacityVertexArray),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexBuffer&&t.iconCollisionBox.collisionVertexBuffer.updateData(t.iconCollisionBox.collisionVertexArray),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexBuffer&&t.textCollisionBox.collisionVertexBuffer.updateData(t.textCollisionBox.collisionVertexArray),t.bucketInstanceId in this.collisionCircleArrays){const e=this.collisionCircleArrays[t.bucketInstanceId];t.placementInvProjMatrix=e.invProjMatrix,t.placementViewportMatrix=e.viewportMatrix,t.collisionCircleArray=e.circles,delete this.collisionCircleArrays[t.bucketInstanceId];}}symbolFadeChange(e){return 0===this.fadeDuration?1:(e-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(e){return Math.max(0,(this.transform.zoom-e)/1.5)}hasTransitions(e){return this.stale||e-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(e,t){const i=this.zoomAtLastRecencyCheck===t?1-this.zoomAdjustment(t):1;return this.zoomAtLastRecencyCheck=t,this.commitTime+this.fadeDuration*i>e}setStale(){this.stale=!0;}}function At(e,t,i,o,r){e.emplaceBack(t?1:0,i?1:0,o||0,r||0),e.emplaceBack(t?1:0,i?1:0,o||0,r||0),e.emplaceBack(t?1:0,i?1:0,o||0,r||0),e.emplaceBack(t?1:0,i?1:0,o||0,r||0);}const Lt=Math.pow(2,25),Rt=Math.pow(2,24),Ot=Math.pow(2,17),Bt=Math.pow(2,16),kt=Math.pow(2,9),Ft=Math.pow(2,8),Ut=Math.pow(2,1);function Nt(e){if(0===e.opacity&&!e.placed)return 0;if(1===e.opacity&&e.placed)return 4294967295;const t=e.placed?1:0,i=Math.floor(127*e.opacity);return i*Lt+t*Rt+i*Ot+t*Bt+i*kt+t*Ft+i*Ut+t}const Gt=0;class jt{constructor(e){this._sortAcrossTiles=\"viewport-y\"!==e.layout.get(\"symbol-z-order\")&&void 0!==e.layout.get(\"symbol-sort-key\").constantOr(1),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[];}continuePlacement(e,t,i,o,r){const n=this._bucketParts;for(;this._currentTileIndex<e.length;)if(t.getBucketParts(n,o,e[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,r())return !0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,n.sort(((e,t)=>e.sortKey-t.sortKey)));this._currentPartIndex<n.length;){const e=n[this._currentPartIndex];if(t.placeLayerBucketPart(e,this._seenCrossTileIDs,i,0===e.symbolInstanceStart),this._currentPartIndex++,r())return !0}return !1}}class Zt{constructor(e,t,i,o,r,n,a,s){this.placement=new Pt(e,r,n,a,s),this._currentPlacementIndex=t.length-1,this._forceFullPlacement=i,this._showCollisionBoxes=o,this._done=!1;}isDone(){return this._done}continuePlacement(t,i,o){const r=e.exported.now(),n=()=>{const t=e.exported.now()-r;return !this._forceFullPlacement&&t>2};for(;this._currentPlacementIndex>=0;){const e=i[t[this._currentPlacementIndex]],r=this.placement.collisionIndex.transform.zoom;if(\"symbol\"===e.type&&(!e.minzoom||e.minzoom<=r)&&(!e.maxzoom||e.maxzoom>r)){if(this._inProgressLayer||(this._inProgressLayer=new jt(e)),this._inProgressLayer.continuePlacement(o[e.source],this.placement,this._showCollisionBoxes,e,n))return;delete this._inProgressLayer;}this._currentPlacementIndex--;}this._done=!0;}commit(e){return this.placement.commit(e),this.placement}}const Vt=512/e.EXTENT/2;class Wt{constructor(e,t,i){this.tileID=e,this.indexedSymbolInstances={},this.bucketInstanceId=i;for(let i=0;i<t.length;i++){const o=t.get(i),r=o.key;this.indexedSymbolInstances[r]||(this.indexedSymbolInstances[r]=[]),this.indexedSymbolInstances[r].push({crossTileID:o.crossTileID,coord:this.getScaledCoordinates(o,e)});}}getScaledCoordinates(t,i){const o=Vt/Math.pow(2,i.canonical.z-this.tileID.canonical.z);return {x:Math.floor((i.canonical.x*e.EXTENT+t.tileAnchorX)*o),y:Math.floor((i.canonical.y*e.EXTENT+t.tileAnchorY)*o)}}findMatches(e,t,i){const o=this.tileID.canonical.z<t.canonical.z?1:Math.pow(2,this.tileID.canonical.z-t.canonical.z);for(let r=0;r<e.length;r++){const n=e.get(r);if(n.crossTileID)continue;const a=this.indexedSymbolInstances[n.key];if(!a)continue;const s=this.getScaledCoordinates(n,t);for(const e of a)if(Math.abs(e.coord.x-s.x)<=o&&Math.abs(e.coord.y-s.y)<=o&&!i[e.crossTileID]){i[e.crossTileID]=!0,n.crossTileID=e.crossTileID;break}}}}class Xt{constructor(){this.maxCrossTileID=0;}generate(){return ++this.maxCrossTileID}}class qt{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0;}handleWrapJump(e){const t=Math.round((e-this.lng)/360);if(0!==t)for(const e in this.indexes){const i=this.indexes[e],o={};for(const e in i){const r=i[e];r.tileID=r.tileID.unwrapTo(r.tileID.wrap+t),o[r.tileID.key]=r;}this.indexes[e]=o;}this.lng=e;}addBucket(e,t,i){if(this.indexes[e.overscaledZ]&&this.indexes[e.overscaledZ][e.key]){if(this.indexes[e.overscaledZ][e.key].bucketInstanceId===t.bucketInstanceId)return !1;this.removeBucketCrossTileIDs(e.overscaledZ,this.indexes[e.overscaledZ][e.key]);}for(let e=0;e<t.symbolInstances.length;e++)t.symbolInstances.get(e).crossTileID=0;this.usedCrossTileIDs[e.overscaledZ]||(this.usedCrossTileIDs[e.overscaledZ]={});const o=this.usedCrossTileIDs[e.overscaledZ];for(const i in this.indexes){const r=this.indexes[i];if(Number(i)>e.overscaledZ)for(const i in r){const n=r[i];n.tileID.isChildOf(e)&&n.findMatches(t.symbolInstances,e,o);}else {const n=r[e.scaledTo(Number(i)).key];n&&n.findMatches(t.symbolInstances,e,o);}}for(let e=0;e<t.symbolInstances.length;e++){const r=t.symbolInstances.get(e);r.crossTileID||(r.crossTileID=i.generate(),o[r.crossTileID]=!0);}return void 0===this.indexes[e.overscaledZ]&&(this.indexes[e.overscaledZ]={}),this.indexes[e.overscaledZ][e.key]=new Wt(e,t.symbolInstances,t.bucketInstanceId),!0}removeBucketCrossTileIDs(e,t){for(const i in t.indexedSymbolInstances)for(const o of t.indexedSymbolInstances[i])delete this.usedCrossTileIDs[e][o.crossTileID];}removeStaleBuckets(e){let t=!1;for(const i in this.indexes){const o=this.indexes[i];for(const r in o)e[o[r].bucketInstanceId]||(this.removeBucketCrossTileIDs(i,o[r]),delete o[r],t=!0);}return t}}class $t{constructor(){this.layerIndexes={},this.crossTileIDs=new Xt,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={};}addLayer(e,t,i,o){let r=this.layerIndexes[e.id];void 0===r&&(r=this.layerIndexes[e.id]=new qt);let n=!1;const a={};\"globe\"!==o.name&&r.handleWrapJump(i);for(const i of t){const t=i.getBucket(e);t&&e.id===t.layerIds[0]&&(t.bucketInstanceId||(t.bucketInstanceId=++this.maxBucketInstanceId),r.addBucket(i.tileID,t,this.crossTileIDs)&&(n=!0),a[t.bucketInstanceId]=!0);}return r.removeStaleBuckets(a)&&(n=!0),n}pruneUnusedLayers(e){const t={};e.forEach((e=>{t[e]=!0;}));for(const e in this.layerIndexes)t[e]||delete this.layerIndexes[e];}}const Ht=(t,i)=>e.emitValidationErrors(t,i&&i.filter((e=>\"source.canvas\"!==e.identifier))),Yt=e.pick(Ve,[\"addLayer\",\"removeLayer\",\"setPaintProperty\",\"setLayoutProperty\",\"setFilter\",\"addSource\",\"removeSource\",\"setLayerZoomRange\",\"setLight\",\"setTransition\",\"setGeoJSONSourceData\",\"setTerrain\",\"setFog\",\"setProjection\"]),Kt=e.pick(Ve,[\"setCenter\",\"setZoom\",\"setBearing\",\"setPitch\"]),Jt={version:8,layers:[],sources:{}},Qt={fill:!0,line:!0,background:!0,hillshade:!0,raster:!0};class ei extends e.Evented{constructor(t,i={}){super(),this.map=t,this.dispatcher=new A(Ge(),this),this.imageManager=new y,this.imageManager.setEventedParent(this),this.glyphManager=new e.GlyphManager(t._requestManager,i.localFontFamily?e.LocalGlyphMode.all:i.localIdeographFontFamily?e.LocalGlyphMode.ideographs:e.LocalGlyphMode.none,i.localFontFamily||i.localIdeographFontFamily),this.lineAtlas=new e.LineAtlas(256,512),this.crossTileSymbolIndex=new $t,this._layers={},this._num3DLayers=0,this._numSymbolLayers=0,this._numCircleLayers=0,this._serializedLayers={},this._sourceCaches={},this._otherSourceCaches={},this._symbolSourceCaches={},this.zoomHistory=new e.ZoomHistory,this._loaded=!1,this._availableImages=[],this._order=[],this._drapedFirstOrder=[],this._markersNeedUpdate=!1,this._resetUpdates(),this.dispatcher.broadcast(\"setReferrer\",e.getReferrer());const o=this;this._rtlTextPluginCallback=ei.registerForPluginStateChange((t=>{o.dispatcher.broadcast(\"syncRTLPluginState\",{pluginStatus:t.pluginStatus,pluginURL:t.pluginURL},((t,i)=>{if(e.triggerPluginCompletionEvent(t),i&&i.every((e=>e)))for(const e in o._sourceCaches){const t=o._sourceCaches[e],i=t.getSource().type;\"vector\"!==i&&\"geojson\"!==i||t.reload();}}));})),this.on(\"data\",(e=>{if(\"source\"!==e.dataType||\"metadata\"!==e.sourceDataType)return;const t=this.getSource(e.sourceId);if(t&&t.vectorLayerIds)for(const e in this._layers){const i=this._layers[e];i.source===t.id&&this._validateLayer(i);}}));}loadURL(t,i={}){this.fire(new e.Event(\"dataloading\",{dataType:\"style\"}));const o=\"boolean\"==typeof i.validate?i.validate:!e.isMapboxURL(t);t=this.map._requestManager.normalizeStyleURL(t,i.accessToken);const r=this.map._requestManager.transformRequest(t,e.ResourceType.Style);this._request=e.getJSON(r,((t,i)=>{this._request=null,t?this.fire(new e.ErrorEvent(t)):i&&this._load(i,o);}));}loadJSON(t,i={}){this.fire(new e.Event(\"dataloading\",{dataType:\"style\"})),this._request=e.exported.frame((()=>{this._request=null,this._load(t,!1!==i.validate);}));}loadEmpty(){this.fire(new e.Event(\"dataloading\",{dataType:\"style\"})),this._load(Jt,!1);}_updateLayerCount(e,t){const i=t?1:-1;e.is3D()&&(this._num3DLayers+=i),\"circle\"===e.type&&(this._numCircleLayers+=i),\"symbol\"===e.type&&(this._numSymbolLayers+=i);}_load(t,i){if(i&&Ht(this,e.validateStyle(t)))return;this._loaded=!0,this.stylesheet=e.clone$1(t),this._updateMapProjection();for(const e in t.sources)this.addSource(e,t.sources[e],{validate:!1});this._changed=!1,t.sprite?this._loadSprite(t.sprite):(this.imageManager.setLoaded(!0),this.dispatcher.broadcast(\"spriteLoaded\",!0)),this.glyphManager.setURL(t.glyphs);const o=Ze(this.stylesheet.layers);this._order=o.map((e=>e.id)),this._layers={},this._serializedLayers={};for(let t of o)t=e.createStyleLayer(t),t.setEventedParent(this,{layer:{id:t.id}}),this._layers[t.id]=t,this._serializedLayers[t.id]=t.serialize(),this._updateLayerCount(t,!0);this.dispatcher.broadcast(\"setLayers\",this._serializeLayers(this._order)),this.light=new T(this.stylesheet.light),this.stylesheet.terrain&&!this.terrainSetForDrapingOnly()&&this._createTerrain(this.stylesheet.terrain,1),this.stylesheet.fog&&this._createFog(this.stylesheet.fog),this._updateDrapeFirstLayers(),this.fire(new e.Event(\"data\",{dataType:\"style\"})),this.fire(new e.Event(\"style.load\"));}terrainSetForDrapingOnly(){return !!this.terrain&&0===this.terrain.drapeRenderMode}setProjection(e){e?this.stylesheet.projection=e:delete this.stylesheet.projection,this._updateMapProjection();}applyProjectionUpdate(){this._loaded&&(this.dispatcher.broadcast(\"setProjection\",this.map.transform.projectionOptions),this.map.transform.projection.requiresDraping?this.getTerrain()||this.stylesheet.terrain||this.setTerrainForDraping():this.terrainSetForDrapingOnly()&&this.setTerrain(null));}_updateMapProjection(){this.map._useExplicitProjection?this.applyProjectionUpdate():this.map._prioritizeAndUpdateProjection(null,this.stylesheet.projection);}_loadSprite(t){this._spriteRequest=function(t,i,o){let r,n,a;const s=e.exported.devicePixelRatio>1?\"@2x\":\"\";let l=e.getJSON(i.transformRequest(i.normalizeSpriteURL(t,s,\".json\"),e.ResourceType.SpriteJSON),((e,t)=>{l=null,a||(a=e,r=t,h());})),c=e.getImage(i.transformRequest(i.normalizeSpriteURL(t,s,\".png\"),e.ResourceType.SpriteImage),((e,t)=>{c=null,a||(a=e,n=t,h());}));function h(){if(a)o(a);else if(r&&n){const t=e.exported.getImageData(n),i={};for(const o in r){const{width:n,height:a,x:s,y:l,sdf:c,pixelRatio:h,stretchX:u,stretchY:_,content:d}=r[o],p=new e.RGBAImage({width:n,height:a});e.RGBAImage.copy(t,p,{x:s,y:l},{x:0,y:0},{width:n,height:a}),i[o]={data:p,pixelRatio:h,sdf:c,stretchX:u,stretchY:_,content:d};}o(null,i);}}return {cancel(){l&&(l.cancel(),l=null),c&&(c.cancel(),c=null);}}}(t,this.map._requestManager,((t,i)=>{if(this._spriteRequest=null,t)this.fire(new e.ErrorEvent(t));else if(i)for(const e in i)this.imageManager.addImage(e,i[e]);this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),this.dispatcher.broadcast(\"setImages\",this._availableImages),this.dispatcher.broadcast(\"spriteLoaded\",!0),this.fire(new e.Event(\"data\",{dataType:\"style\"}));}));}_validateLayer(t){const i=this.getSource(t.source);if(!i)return;const o=t.sourceLayer;o&&(\"geojson\"===i.type||i.vectorLayerIds&&-1===i.vectorLayerIds.indexOf(o))&&this.fire(new e.ErrorEvent(new Error(`Source layer \"${o}\" does not exist on source \"${i.id}\" as specified by style layer \"${t.id}\"`)));}loaded(){if(!this._loaded)return !1;if(Object.keys(this._updatedSources).length)return !1;for(const e in this._sourceCaches)if(!this._sourceCaches[e].loaded())return !1;return !!this.imageManager.isLoaded()}_serializeLayers(e){const t=[];for(const i of e){const e=this._layers[i];\"custom\"!==e.type&&t.push(e.serialize());}return t}hasTransitions(){if(this.light&&this.light.hasTransition())return !0;if(this.fog&&this.fog.hasTransition())return !0;for(const e in this._sourceCaches)if(this._sourceCaches[e].hasTransition())return !0;for(const e in this._layers)if(this._layers[e].hasTransition())return !0;return !1}get order(){return this.map._optimizeForTerrain&&this.terrain?this._drapedFirstOrder:this._order}isLayerDraped(e){return !!this.terrain&&Qt[e.type]}_checkLoaded(){if(!this._loaded)throw new Error(\"Style is not done loading\")}update(t){if(!this._loaded)return;const i=this._changed;if(this._changed){const e=Object.keys(this._updatedLayers),i=Object.keys(this._removedLayers);(e.length||i.length)&&this._updateWorkerLayers(e,i);for(const e in this._updatedSources){const t=this._updatedSources[e];\"reload\"===t?this._reloadSource(e):\"clear\"===t&&this._clearSource(e);}this._updateTilesForChangedImages();for(const e in this._updatedPaintProps)this._layers[e].updateTransitions(t);this.light.updateTransitions(t),this.fog&&this.fog.updateTransitions(t),this._resetUpdates();}const o={};for(const e in this._sourceCaches){const t=this._sourceCaches[e];o[e]=t.used,t.used=!1;}for(const e of this._order){const i=this._layers[e];if(i.recalculate(t,this._availableImages),!i.isHidden(t.zoom)){const e=this._getLayerSourceCache(i);e&&(e.used=!0);}const o=this.map.painter;if(o){const e=i.getProgramIds();if(!e)continue;const r=i.getProgramConfiguration(t.zoom);for(const t of e)o.useProgram(t,r);}}for(const t in o){const i=this._sourceCaches[t];o[t]!==i.used&&i.getSource().fire(new e.Event(\"data\",{sourceDataType:\"visibility\",dataType:\"source\",sourceId:i.getSource().id}));}this.light.recalculate(t),this.terrain&&this.terrain.recalculate(t),this.fog&&this.fog.recalculate(t),this.z=t.zoom,this._markersNeedUpdate&&(this._updateMarkersOpacity(),this._markersNeedUpdate=!1),i&&this.fire(new e.Event(\"data\",{dataType:\"style\"}));}_updateTilesForChangedImages(){const e=Object.keys(this._changedImages);if(e.length){for(const t in this._sourceCaches)this._sourceCaches[t].reloadTilesForDependencies([\"icons\",\"patterns\"],e);this._changedImages={};}}_updateWorkerLayers(e,t){this.dispatcher.broadcast(\"updateLayers\",{layers:this._serializeLayers(e),removedIds:t});}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={};}setState(i){if(this._checkLoaded(),Ht(this,e.validateStyle(i)))return !1;(i=e.clone$1(i)).layers=Ze(i.layers);const o=function(e,i){if(!e)return [{command:Ve.setStyle,args:[i]}];let o=[];try{if(!t(e.version,i.version))return [{command:Ve.setStyle,args:[i]}];t(e.center,i.center)||o.push({command:Ve.setCenter,args:[i.center]}),t(e.zoom,i.zoom)||o.push({command:Ve.setZoom,args:[i.zoom]}),t(e.bearing,i.bearing)||o.push({command:Ve.setBearing,args:[i.bearing]}),t(e.pitch,i.pitch)||o.push({command:Ve.setPitch,args:[i.pitch]}),t(e.sprite,i.sprite)||o.push({command:Ve.setSprite,args:[i.sprite]}),t(e.glyphs,i.glyphs)||o.push({command:Ve.setGlyphs,args:[i.glyphs]}),t(e.transition,i.transition)||o.push({command:Ve.setTransition,args:[i.transition]}),t(e.light,i.light)||o.push({command:Ve.setLight,args:[i.light]}),t(e.fog,i.fog)||o.push({command:Ve.setFog,args:[i.fog]}),t(e.projection,i.projection)||o.push({command:Ve.setProjection,args:[i.projection]});const r={},n=[];!function(e,i,o,r){let n;for(n in i=i||{},e=e||{})e.hasOwnProperty(n)&&(i.hasOwnProperty(n)||Xe(n,o,r));for(n in i)i.hasOwnProperty(n)&&(e.hasOwnProperty(n)?t(e[n],i[n])||(\"geojson\"===e[n].type&&\"geojson\"===i[n].type&&$e(e,i,n)?o.push({command:Ve.setGeoJSONSourceData,args:[n,i[n].data]}):qe(n,i,o,r)):We(n,i,o));}(e.sources,i.sources,n,r);const a=[];e.layers&&e.layers.forEach((e=>{e.source&&r[e.source]?o.push({command:Ve.removeLayer,args:[e.id]}):a.push(e);}));let s=e.terrain;s&&r[s.source]&&(o.push({command:Ve.setTerrain,args:[void 0]}),s=void 0),o=o.concat(n),t(s,i.terrain)||o.push({command:Ve.setTerrain,args:[i.terrain]}),function(e,i,o){i=i||[];const r=(e=e||[]).map(Ye),n=i.map(Ye),a=e.reduce(Ke,{}),s=i.reduce(Ke,{}),l=r.slice(),c=Object.create(null);let h,u,_,d,p,m,f;for(h=0,u=0;h<r.length;h++)_=r[h],s.hasOwnProperty(_)?u++:(o.push({command:Ve.removeLayer,args:[_]}),l.splice(l.indexOf(_,u),1));for(h=0,u=0;h<n.length;h++)_=n[n.length-1-h],l[l.length-1-h]!==_&&(a.hasOwnProperty(_)?(o.push({command:Ve.removeLayer,args:[_]}),l.splice(l.lastIndexOf(_,l.length-u),1)):u++,m=l[l.length-h],o.push({command:Ve.addLayer,args:[s[_],m]}),l.splice(l.length-h,0,_),c[_]=!0);for(h=0;h<n.length;h++)if(_=n[h],d=a[_],p=s[_],!c[_]&&!t(d,p))if(t(d.source,p.source)&&t(d[\"source-layer\"],p[\"source-layer\"])&&t(d.type,p.type)){for(f in He(d.layout,p.layout,o,_,null,Ve.setLayoutProperty),He(d.paint,p.paint,o,_,null,Ve.setPaintProperty),t(d.filter,p.filter)||o.push({command:Ve.setFilter,args:[_,p.filter]}),t(d.minzoom,p.minzoom)&&t(d.maxzoom,p.maxzoom)||o.push({command:Ve.setLayerZoomRange,args:[_,p.minzoom,p.maxzoom]}),d)d.hasOwnProperty(f)&&\"layout\"!==f&&\"paint\"!==f&&\"filter\"!==f&&\"metadata\"!==f&&\"minzoom\"!==f&&\"maxzoom\"!==f&&(0===f.indexOf(\"paint.\")?He(d[f],p[f],o,_,f.slice(6),Ve.setPaintProperty):t(d[f],p[f])||o.push({command:Ve.setLayerProperty,args:[_,f,p[f]]}));for(f in p)p.hasOwnProperty(f)&&!d.hasOwnProperty(f)&&\"layout\"!==f&&\"paint\"!==f&&\"filter\"!==f&&\"metadata\"!==f&&\"minzoom\"!==f&&\"maxzoom\"!==f&&(0===f.indexOf(\"paint.\")?He(d[f],p[f],o,_,f.slice(6),Ve.setPaintProperty):t(d[f],p[f])||o.push({command:Ve.setLayerProperty,args:[_,f,p[f]]}));}else o.push({command:Ve.removeLayer,args:[_]}),m=l[l.lastIndexOf(_)+1],o.push({command:Ve.addLayer,args:[p,m]});}(a,i.layers,o);}catch(e){console.warn(\"Unable to compute style diff:\",e),o=[{command:Ve.setStyle,args:[i]}];}return o}(this.serialize(),i).filter((e=>!(e.command in Kt)));if(0===o.length)return !1;const r=o.filter((e=>!(e.command in Yt)));if(r.length>0)throw new Error(`Unimplemented: ${r.map((e=>e.command)).join(\", \")}.`);return o.forEach((e=>{\"setTransition\"!==e.command&&\"setProjection\"!==e.command&&this[e.command].apply(this,e.args);})),this.stylesheet=i,this._updateMapProjection(),!0}addImage(t,i){return this.getImage(t)?this.fire(new e.ErrorEvent(new Error(\"An image with this name already exists.\"))):(this.imageManager.addImage(t,i),this._afterImageUpdated(t),this)}updateImage(e,t){this.imageManager.updateImage(e,t);}getImage(e){return this.imageManager.getImage(e)}removeImage(t){return this.getImage(t)?(this.imageManager.removeImage(t),this._afterImageUpdated(t),this):this.fire(new e.ErrorEvent(new Error(\"No image with this name exists.\")))}_afterImageUpdated(t){this._availableImages=this.imageManager.listImages(),this._changedImages[t]=!0,this._changed=!0,this.dispatcher.broadcast(\"setImages\",this._availableImages),this.fire(new e.Event(\"data\",{dataType:\"style\"}));}listImages(){return this._checkLoaded(),this._availableImages.slice()}addSource(t,i,o={}){if(this._checkLoaded(),void 0!==this.getSource(t))throw new Error(\"There is already a source with this ID\");if(!i.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(i).join(\", \")}.`);if([\"vector\",\"raster\",\"geojson\",\"video\",\"image\"].indexOf(i.type)>=0&&this._validate(e.validateSource,`sources.${t}`,i,null,o))return;this.map&&this.map._collectResourceTiming&&(i.collectResourceTiming=!0);const r=Ae(t,i,this.dispatcher,this);r.setEventedParent(this,(()=>({isSourceLoaded:this._isSourceCacheLoaded(t),source:r.serialize(),sourceId:t})));const n=i=>{const o=(i?\"symbol:\":\"other:\")+t,n=this._sourceCaches[o]=new e.SourceCache(o,r,i);(i?this._symbolSourceCaches:this._otherSourceCaches)[t]=n,n.style=this,n.onAdd(this.map);};n(!1),\"vector\"!==i.type&&\"geojson\"!==i.type||n(!0),r.onAdd&&r.onAdd(this.map),this._changed=!0;}removeSource(t){this._checkLoaded();const i=this.getSource(t);if(!i)throw new Error(\"There is no source with this ID\");for(const i in this._layers)if(this._layers[i].source===t)return this.fire(new e.ErrorEvent(new Error(`Source \"${t}\" cannot be removed while layer \"${i}\" is using it.`)));if(this.terrain&&this.terrain.get().source===t)return this.fire(new e.ErrorEvent(new Error(`Source \"${t}\" cannot be removed while terrain is using it.`)));const o=this._getSourceCaches(t);for(const t of o)delete this._sourceCaches[t.id],delete this._updatedSources[t.id],t.fire(new e.Event(\"data\",{sourceDataType:\"metadata\",dataType:\"source\",sourceId:t.getSource().id})),t.setEventedParent(null),t.clearTiles();return delete this._otherSourceCaches[t],delete this._symbolSourceCaches[t],i.setEventedParent(null),i.onRemove&&i.onRemove(this.map),this._changed=!0,this}setGeoJSONSourceData(e,t){this._checkLoaded(),this.getSource(e).setData(t),this._changed=!0;}getSource(e){const t=this._getSourceCache(e);return t&&t.getSource()}addLayer(t,i,o={}){this._checkLoaded();const r=t.id;if(this.getLayer(r))return void this.fire(new e.ErrorEvent(new Error(`Layer with id \"${r}\" already exists on this map`)));let n;if(\"custom\"===t.type){if(Ht(this,e.validateCustomStyleLayer(t)))return;n=e.createStyleLayer(t);}else {if(\"object\"==typeof t.source&&(this.addSource(r,t.source),t=e.clone$1(t),t=e.extend(t,{source:r})),this._validate(e.validateLayer,`layers.${r}`,t,{arrayIndex:-1},o))return;n=e.createStyleLayer(t),this._validateLayer(n),n.setEventedParent(this,{layer:{id:r}}),this._serializedLayers[n.id]=n.serialize(),this._updateLayerCount(n,!0);}const a=i?this._order.indexOf(i):this._order.length;if(i&&-1===a)return void this.fire(new e.ErrorEvent(new Error(`Layer with id \"${i}\" does not exist on this map.`)));this._order.splice(a,0,r),this._layerOrderChanged=!0,this._layers[r]=n;const s=this._getLayerSourceCache(n);if(this._removedLayers[r]&&n.source&&s&&\"custom\"!==n.type){const e=this._removedLayers[r];delete this._removedLayers[r],e.type!==n.type?this._updatedSources[n.source]=\"clear\":(this._updatedSources[n.source]=\"reload\",s.pause());}this._updateLayer(n),n.onAdd&&n.onAdd(this.map),this._updateDrapeFirstLayers();}moveLayer(t,i){if(this._checkLoaded(),this._changed=!0,!this._layers[t])return void this.fire(new e.ErrorEvent(new Error(`The layer '${t}' does not exist in the map's style and cannot be moved.`)));if(t===i)return;const o=this._order.indexOf(t);this._order.splice(o,1);const r=i?this._order.indexOf(i):this._order.length;i&&-1===r?this.fire(new e.ErrorEvent(new Error(`Layer with id \"${i}\" does not exist on this map.`))):(this._order.splice(r,0,t),this._layerOrderChanged=!0,this._updateDrapeFirstLayers());}removeLayer(t){this._checkLoaded();const i=this._layers[t];if(!i)return void this.fire(new e.ErrorEvent(new Error(`The layer '${t}' does not exist in the map's style and cannot be removed.`)));i.setEventedParent(null),this._updateLayerCount(i,!1);const o=this._order.indexOf(t);this._order.splice(o,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[t]=i,delete this._layers[t],delete this._serializedLayers[t],delete this._updatedLayers[t],delete this._updatedPaintProps[t],i.onRemove&&i.onRemove(this.map),this._updateDrapeFirstLayers();}getLayer(e){return this._layers[e]}hasLayer(e){return e in this._layers}hasLayerType(e){for(const t in this._layers)if(this._layers[t].type===e)return !0;return !1}setLayerZoomRange(t,i,o){this._checkLoaded();const r=this.getLayer(t);r?r.minzoom===i&&r.maxzoom===o||(null!=i&&(r.minzoom=i),null!=o&&(r.maxzoom=o),this._updateLayer(r)):this.fire(new e.ErrorEvent(new Error(`The layer '${t}' does not exist in the map's style and cannot have zoom extent.`)));}setFilter(i,o,r={}){this._checkLoaded();const n=this.getLayer(i);if(n){if(!t(n.filter,o))return null==o?(n.filter=void 0,void this._updateLayer(n)):void(this._validate(e.validateFilter,`layers.${n.id}.filter`,o,{layerType:n.type},r)||(n.filter=e.clone$1(o),this._updateLayer(n)))}else this.fire(new e.ErrorEvent(new Error(`The layer '${i}' does not exist in the map's style and cannot be filtered.`)));}getFilter(t){const i=this.getLayer(t);return i&&e.clone$1(i.filter)}setLayoutProperty(i,o,r,n={}){this._checkLoaded();const a=this.getLayer(i);a?t(a.getLayoutProperty(o),r)||(a.setLayoutProperty(o,r,n),this._updateLayer(a)):this.fire(new e.ErrorEvent(new Error(`The layer '${i}' does not exist in the map's style and cannot be styled.`)));}getLayoutProperty(t,i){const o=this.getLayer(t);if(o)return o.getLayoutProperty(i);this.fire(new e.ErrorEvent(new Error(`The layer '${t}' does not exist in the map's style.`)));}setPaintProperty(i,o,r,n={}){this._checkLoaded();const a=this.getLayer(i);a?t(a.getPaintProperty(o),r)||(a.setPaintProperty(o,r,n)&&this._updateLayer(a),this._changed=!0,this._updatedPaintProps[i]=!0):this.fire(new e.ErrorEvent(new Error(`The layer '${i}' does not exist in the map's style and cannot be styled.`)));}getPaintProperty(e,t){const i=this.getLayer(e);return i&&i.getPaintProperty(t)}setFeatureState(t,i){this._checkLoaded();const o=t.source,r=t.sourceLayer,n=this.getSource(o);if(!n)return void this.fire(new e.ErrorEvent(new Error(`The source '${o}' does not exist in the map's style.`)));const a=n.type;if(\"geojson\"===a&&r)return void this.fire(new e.ErrorEvent(new Error(\"GeoJSON sources cannot have a sourceLayer parameter.\")));if(\"vector\"===a&&!r)return void this.fire(new e.ErrorEvent(new Error(\"The sourceLayer parameter must be provided for vector source types.\")));void 0===t.id&&this.fire(new e.ErrorEvent(new Error(\"The feature id parameter must be provided.\")));const s=this._getSourceCaches(o);for(const e of s)e.setFeatureState(r,t.id,i);}removeFeatureState(t,i){this._checkLoaded();const o=t.source,r=this.getSource(o);if(!r)return void this.fire(new e.ErrorEvent(new Error(`The source '${o}' does not exist in the map's style.`)));const n=r.type,a=\"vector\"===n?t.sourceLayer:void 0;if(\"vector\"===n&&!a)return void this.fire(new e.ErrorEvent(new Error(\"The sourceLayer parameter must be provided for vector source types.\")));if(i&&\"string\"!=typeof t.id&&\"number\"!=typeof t.id)return void this.fire(new e.ErrorEvent(new Error(\"A feature id is required to remove its specific state property.\")));const s=this._getSourceCaches(o);for(const e of s)e.removeFeatureState(a,t.id,i);}getFeatureState(t){this._checkLoaded();const i=t.source,o=t.sourceLayer,r=this.getSource(i);if(r){if(\"vector\"!==r.type||o)return void 0===t.id&&this.fire(new e.ErrorEvent(new Error(\"The feature id parameter must be provided.\"))),this._getSourceCaches(i)[0].getFeatureState(o,t.id);this.fire(new e.ErrorEvent(new Error(\"The sourceLayer parameter must be provided for vector source types.\")));}else this.fire(new e.ErrorEvent(new Error(`The source '${i}' does not exist in the map's style.`)));}getTransition(){return e.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){const t={};for(const e in this._sourceCaches){const i=this._sourceCaches[e].getSource();t[i.id]||(t[i.id]=i.serialize());}return e.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,terrain:this.stylesheet.terrain,fog:this.stylesheet.fog,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,projection:this.stylesheet.projection,sources:t,layers:this._serializeLayers(this._order)},(e=>void 0!==e))}_updateLayer(e){this._updatedLayers[e.id]=!0;const t=this._getLayerSourceCache(e);e.source&&!this._updatedSources[e.source]&&t&&\"raster\"!==t.getSource().type&&(this._updatedSources[e.source]=\"reload\",t.pause()),this._changed=!0,e.invalidateCompiledFilter();}_flattenAndSortRenderedFeatures(e){const t=e=>\"fill-extrusion\"===this._layers[e].type,i={},o=[];for(let r=this._order.length-1;r>=0;r--){const n=this._order[r];if(t(n)){i[n]=r;for(const t of e){const e=t[n];if(e)for(const t of e)o.push(t);}}}o.sort(((e,t)=>t.intersectionZ-e.intersectionZ));const r=[];for(let n=this._order.length-1;n>=0;n--){const a=this._order[n];if(t(a))for(let e=o.length-1;e>=0;e--){const t=o[e].feature;if(i[t.layer.id]<n)break;r.push(t),o.pop();}else for(const t of e){const e=t[a];if(e)for(const t of e)r.push(t.feature);}}return r}queryRenderedFeatures(t,i,o){i&&i.filter&&this._validate(e.validateFilter,\"queryRenderedFeatures.filter\",i.filter,null,i);const r={};if(i&&i.layers){if(!Array.isArray(i.layers))return this.fire(new e.ErrorEvent(new Error(\"parameters.layers must be an Array.\"))),[];for(const t of i.layers){const i=this._layers[t];if(!i)return this.fire(new e.ErrorEvent(new Error(`The layer '${t}' does not exist in the map's style and cannot be queried for features.`))),[];r[i.source]=!0;}}const n=[];i.availableImages=this._availableImages;const a=i&&i.layers?i.layers.some((e=>{const t=this.getLayer(e);return t&&t.is3D()})):this.has3DLayers(),s=R.createFromScreenPoints(t,o);for(const e in this._sourceCaches){const t=this._sourceCaches[e].getSource().id;i.layers&&!r[t]||n.push(Re(this._sourceCaches[e],this._layers,this._serializedLayers,s,i,o,a,!!this.map._showQueryGeometry));}return this.placement&&n.push(function(e,t,i,o,r,n,a){const s={},l=n.queryRenderedSymbols(o),c=[];for(const e of Object.keys(l).map(Number))c.push(a[e]);c.sort(Be);for(const i of c){const o=i.featureIndex.lookupSymbolFeatures(l[i.bucketInstanceId],t,i.bucketIndex,i.sourceLayerIndex,r.filter,r.layers,r.availableImages,e);for(const e in o){const t=s[e]=s[e]||[],r=o[e];r.sort(((e,t)=>{const o=i.featureSortOrder;if(o){const i=o.indexOf(e.featureIndex);return o.indexOf(t.featureIndex)-i}return t.featureIndex-e.featureIndex}));for(const e of r)t.push(e);}}for(const t in s)s[t].forEach((o=>{const r=o.feature,n=i(e[t]).getFeatureState(r.layer[\"source-layer\"],r.id);r.source=r.layer.source,r.layer[\"source-layer\"]&&(r.sourceLayer=r.layer[\"source-layer\"]),r.state=n;}));return s}(this._layers,this._serializedLayers,this._getLayerSourceCache.bind(this),s.screenGeometry,i,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(n)}querySourceFeatures(t,i){i&&i.filter&&this._validate(e.validateFilter,\"querySourceFeatures.filter\",i.filter,null,i);const o=this._getSourceCaches(t);let r=[];for(const e of o)r=r.concat(Oe(e,i));return r}addSourceType(e,t,i){return ei.getSourceType(e)?i(new Error(`A source type called \"${e}\" already exists.`)):(ei.setSourceType(e,t),t.workerSourceURL?void this.dispatcher.broadcast(\"loadWorkerSource\",{name:e,url:t.workerSourceURL},i):i(null,null))}getLight(){return this.light.getLight()}setLight(e,i={}){this._checkLoaded();const o=this.light.getLight();let r=!1;for(const i in e)if(!t(e[i],o[i])){r=!0;break}if(!r)return;const n=this._setTransitionParameters({duration:300,delay:0});this.light.setLight(e,i),this.light.updateTransitions(n);}getTerrain(){return this.terrain&&1===this.terrain.drapeRenderMode?this.terrain.get():null}setTerrainForDraping(){this.setTerrain({source:\"\",exaggeration:0},0);}setTerrain(i,o=1){if(this._checkLoaded(),!i)return delete this.terrain,delete this.stylesheet.terrain,this.dispatcher.broadcast(\"enableTerrain\",!1),this._force3DLayerUpdate(),void(this._markersNeedUpdate=!0);if(1===o){if(\"object\"==typeof i.source){const t=\"terrain-dem-src\";this.addSource(t,i.source),i=e.clone$1(i),i=e.extend(i,{source:t});}if(this._validate(e.validateTerrain,\"terrain\",i))return}if(!this.terrain||this.terrain&&o!==this.terrain.drapeRenderMode)this._createTerrain(i,o);else {const o=this.terrain,r=o.get();for(const t of Object.keys(e.spec.terrain))!i.hasOwnProperty(t)&&e.spec.terrain[t].default&&(i[t]=e.spec.terrain[t].default);for(const e in i)if(!t(i[e],r[e])){o.set(i),this.stylesheet.terrain=i;const e=this._setTransitionParameters({duration:0});o.updateTransitions(e);break}}this._updateDrapeFirstLayers(),this._markersNeedUpdate=!0;}_createFog(e){const t=this.fog=new P(e,this.map.transform);this.stylesheet.fog=e;const i=this._setTransitionParameters({duration:0});t.updateTransitions(i);}_updateMarkersOpacity(){0!==this.map._markers.length&&this.map._requestDomTask((()=>{for(const e of this.map._markers)e._evaluateOpacity();}));}getFog(){return this.fog?this.fog.get():null}setFog(e){if(this._checkLoaded(),!e)return delete this.fog,delete this.stylesheet.fog,void(this._markersNeedUpdate=!0);if(this.fog){const i=this.fog,o=i.get();0===Object.keys(e).length&&i.set(e);for(const r in e)if(!t(e[r],o[r])){i.set(e),this.stylesheet.fog=e;const t=this._setTransitionParameters({duration:0});i.updateTransitions(t);break}}else this._createFog(e);this._markersNeedUpdate=!0;}_setTransitionParameters(t){return {now:e.exported.now(),transition:e.extend(t,this.stylesheet.transition)}}_updateDrapeFirstLayers(){if(!this.map._optimizeForTerrain||!this.terrain)return;const e=this._order.filter((e=>this.isLayerDraped(this._layers[e]))),t=this._order.filter((e=>!this.isLayerDraped(this._layers[e])));this._drapedFirstOrder=[],this._drapedFirstOrder.push(...e),this._drapedFirstOrder.push(...t);}_createTerrain(e,t){const i=this.terrain=new I(e,t);this.stylesheet.terrain=e,this.dispatcher.broadcast(\"enableTerrain\",!this.terrainSetForDrapingOnly()),this._force3DLayerUpdate();const o=this._setTransitionParameters({duration:0});i.updateTransitions(o);}_force3DLayerUpdate(){for(const e in this._layers){const t=this._layers[e];\"fill-extrusion\"===t.type&&this._updateLayer(t);}}_forceSymbolLayerUpdate(){for(const e in this._layers){const t=this._layers[e];\"symbol\"===t.type&&this._updateLayer(t);}}_validate(t,i,o,r,n={}){return (!n||!1!==n.validate)&&Ht(this,t.call(e.validateStyle,e.extend({key:i,style:this.serialize(),value:o,styleSpec:e.spec},r)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),e.evented.off(\"pluginStateChange\",this._rtlTextPluginCallback);for(const e in this._layers)this._layers[e].setEventedParent(null);for(const e in this._sourceCaches)this._sourceCaches[e].clearTiles(),this._sourceCaches[e].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove();}_clearSource(e){const t=this._getSourceCaches(e);for(const e of t)e.clearTiles();}_reloadSource(e){const t=this._getSourceCaches(e);for(const e of t)e.resume(),e.reload();}_updateSources(e){for(const t in this._sourceCaches)this._sourceCaches[t].update(e);}_generateCollisionBoxes(){for(const e in this._sourceCaches){const t=this._sourceCaches[e];t.resume(),t.reload();}}_updatePlacement(t,i,o,r,n=!1){let a=!1,s=!1;const l={};for(const e of this._order){const i=this._layers[e];if(\"symbol\"!==i.type)continue;if(!l[i.source]){const e=this._getLayerSourceCache(i);if(!e)continue;l[i.source]=e.getRenderableIds(!0).map((t=>e.getTileByID(t))).sort(((e,t)=>t.tileID.overscaledZ-e.tileID.overscaledZ||(e.tileID.isLessThan(t.tileID)?-1:1)));}const o=this.crossTileSymbolIndex.addLayer(i,l[i.source],t.center.lng,t.projection);a=a||o;}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),n=n||this._layerOrderChanged||0===o,this._layerOrderChanged&&this.fire(new e.Event(\"neworder\")),(n||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(e.exported.now(),t.zoom))&&(this.pauseablePlacement=new Zt(t,this._order,n,i,o,r,this.placement,this.fog&&t.projection.supportsFog?this.fog.state:null),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,l),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(e.exported.now()),s=!0),a&&this.pauseablePlacement.placement.setStale()),s||a)for(const e of this._order){const t=this._layers[e];\"symbol\"===t.type&&this.placement.updateLayerOpacities(t,l[t.source]);}return !this.pauseablePlacement.isDone()||this.placement.hasTransitions(e.exported.now())}_releaseSymbolFadeTiles(){for(const e in this._sourceCaches)this._sourceCaches[e].releaseSymbolFadeTiles();}getImages(e,t,i){this.imageManager.getImages(t.icons,i),this._updateTilesForChangedImages();const o=e=>{e&&e.setDependencies(t.tileID.key,t.type,t.icons);};o(this._otherSourceCaches[t.source]),o(this._symbolSourceCaches[t.source]);}getGlyphs(e,t,i){this.glyphManager.getGlyphs(t.stacks,i);}getResource(t,i,o){return e.makeRequest(i,o)}_getSourceCache(e){return this._otherSourceCaches[e]}_getLayerSourceCache(e){return \"symbol\"===e.type?this._symbolSourceCaches[e.source]:this._otherSourceCaches[e.source]}_getSourceCaches(e){const t=[];return this._otherSourceCaches[e]&&t.push(this._otherSourceCaches[e]),this._symbolSourceCaches[e]&&t.push(this._symbolSourceCaches[e]),t}_isSourceCacheLoaded(t){const i=this._getSourceCaches(t);return 0===i.length?(this.fire(new e.ErrorEvent(new Error(`There is no source with ID '${t}'`))),!1):i.every((e=>e.loaded()))}has3DLayers(){return this._num3DLayers>0}hasSymbolLayers(){return this._numSymbolLayers>0}hasCircleLayers(){return this._numCircleLayers>0}_clearWorkerCaches(){this.dispatcher.broadcast(\"clearCaches\");}destroy(){this._clearWorkerCaches(),this.terrainSetForDrapingOnly()&&(delete this.terrain,delete this.stylesheet.terrain);}}ei.getSourceType=function(e){return Pe[e]},ei.setSourceType=function(e,t){Pe[e]=t;},ei.registerForPluginStateChange=e.registerForPluginStateChange;var ti=\"\\n#define EPSILON 0.0000001\\n#define PI 3.141592653589793\\n#define EXTENT 8192.0\\n#define HALF_PI PI/2.0\\n#define QUARTER_PI PI/4.0\\n#define RAD_TO_DEG 180.0/PI\\n#define DEG_TO_RAD PI/180.0\\n#define GLOBE_RADIUS EXTENT/PI/2.0\",ii=\"attribute highp vec3 a_pos_3f;uniform lowp mat4 u_matrix;varying highp vec3 v_uv;void main() {const mat3 half_neg_pi_around_x=mat3(1.0,0.0, 0.0,0.0,0.0,-1.0,0.0,1.0, 0.0);v_uv=half_neg_pi_around_x*a_pos_3f;vec4 pos=u_matrix*vec4(a_pos_3f,1.0);gl_Position=pos.xyww;}\",oi=\"\\n#define ELEVATION_SCALE 7.0\\n#define ELEVATION_OFFSET 450.0\\n#ifdef PROJECTION_GLOBE_VIEW\\nuniform vec3 u_tile_tl_up;uniform vec3 u_tile_tr_up;uniform vec3 u_tile_br_up;uniform vec3 u_tile_bl_up;uniform float u_tile_up_scale;vec3 elevationVector(vec2 pos) {vec2 uv=pos/EXTENT;vec3 up=normalize(mix(\\nmix(u_tile_tl_up,u_tile_tr_up,uv.xxx),mix(u_tile_bl_up,u_tile_br_up,uv.xxx),uv.yyy));return up*u_tile_up_scale;}\\n#else\\nvec3 elevationVector(vec2 pos) { return vec3(0,0,1); }\\n#endif\\n#ifdef TERRAIN\\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\\nuniform highp sampler2D u_dem;uniform highp sampler2D u_dem_prev;\\n#else\\nuniform sampler2D u_dem;uniform sampler2D u_dem_prev;\\n#endif\\nuniform vec4 u_dem_unpack;uniform vec2 u_dem_tl;uniform vec2 u_dem_tl_prev;uniform float u_dem_scale;uniform float u_dem_scale_prev;uniform float u_dem_size;uniform float u_dem_lerp;uniform float u_exaggeration;uniform float u_meter_to_dem;uniform mat4 u_label_plane_matrix_inv;uniform sampler2D u_depth;uniform vec2 u_depth_size_inv;vec4 tileUvToDemSample(vec2 uv,float dem_size,float dem_scale,vec2 dem_tl) {vec2 pos=dem_size*(uv*dem_scale+dem_tl)+1.0;vec2 f=fract(pos);return vec4((pos-f+0.5)/(dem_size+2.0),f);}float decodeElevation(vec4 v) {return dot(vec4(v.xyz*255.0,-1.0),u_dem_unpack);}float currentElevation(vec2 apos) {\\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\\nvec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale+u_dem_tl)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem,pos).a;\\n#else\\nfloat dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale,u_dem_tl);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem,pos));\\n#ifdef TERRAIN_DEM_NEAREST_FILTER\\nreturn u_exaggeration*tl;\\n#endif\\nfloat tr=decodeElevation(texture2D(u_dem,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);\\n#endif\\n}float prevElevation(vec2 apos) {\\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\\nvec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale_prev+u_dem_tl_prev)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem_prev,pos).a;\\n#else\\nfloat dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale_prev,u_dem_tl_prev);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem_prev,pos));float tr=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem_prev,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);\\n#endif\\n}\\n#ifdef TERRAIN_VERTEX_MORPHING\\nfloat elevation(vec2 apos) {float nextElevation=currentElevation(apos);float prevElevation=prevElevation(apos);return mix(prevElevation,nextElevation,u_dem_lerp);}\\n#else\\nfloat elevation(vec2 apos) {return currentElevation(apos);}\\n#endif\\nhighp float unpack_depth(highp vec4 rgba_depth)\\n{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}bool isOccluded(vec4 frag) {vec3 coord=frag.xyz/frag.w;float depth=unpack_depth(texture2D(u_depth,(coord.xy+1.0)*0.5));return coord.z > depth+0.0005;}float occlusionFade(vec4 frag) {vec3 coord=frag.xyz/frag.w;vec3 df=vec3(5.0*u_depth_size_inv,0.0);vec2 uv=0.5*coord.xy+0.5;vec4 depth=vec4(\\nunpack_depth(texture2D(u_depth,uv-df.xz)),unpack_depth(texture2D(u_depth,uv+df.xz)),unpack_depth(texture2D(u_depth,uv-df.zy)),unpack_depth(texture2D(u_depth,uv+df.zy))\\n);return dot(vec4(0.25),vec4(1.0)-clamp(300.0*(vec4(coord.z-0.001)-depth),0.0,1.0));}vec4 fourSample(vec2 pos,vec2 off) {\\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\\nfloat tl=texture2D(u_dem,pos).a;float tr=texture2D(u_dem,pos+vec2(off.x,0.0)).a;float bl=texture2D(u_dem,pos+vec2(0.0,off.y)).a;float br=texture2D(u_dem,pos+off).a;\\n#else\\nvec4 demtl=vec4(texture2D(u_dem,pos).xyz*255.0,-1.0);float tl=dot(demtl,u_dem_unpack);vec4 demtr=vec4(texture2D(u_dem,pos+vec2(off.x,0.0)).xyz*255.0,-1.0);float tr=dot(demtr,u_dem_unpack);vec4 dembl=vec4(texture2D(u_dem,pos+vec2(0.0,off.y)).xyz*255.0,-1.0);float bl=dot(dembl,u_dem_unpack);vec4 dembr=vec4(texture2D(u_dem,pos+off).xyz*255.0,-1.0);float br=dot(dembr,u_dem_unpack);\\n#endif\\nreturn vec4(tl,tr,bl,br);}float flatElevation(vec2 pack) {vec2 apos=floor(pack/8.0);vec2 span=10.0*(pack-apos*8.0);vec2 uvTex=(apos-vec2(1.0,1.0))/8190.0;float size=u_dem_size+2.0;float dd=1.0/size;vec2 pos=u_dem_size*(uvTex*u_dem_scale+u_dem_tl)+1.0;vec2 f=fract(pos);pos=(pos-f+0.5)*dd;vec4 h=fourSample(pos,vec2(dd));float z=mix(mix(h.x,h.y,f.x),mix(h.z,h.w,f.x),f.y);vec2 w=floor(0.5*(span*u_meter_to_dem-1.0));vec2 d=dd*w;vec4 bounds=vec4(d,vec2(1.0)-d);h=fourSample(pos-d,2.0*d+vec2(dd));vec4 diff=abs(h.xzxy-h.ywzw);vec2 slope=min(vec2(0.25),u_meter_to_dem*0.5*(diff.xz+diff.yw)/(2.0*w+vec2(1.0)));vec2 fix=slope*span;float base=z+max(fix.x,fix.y);return u_exaggeration*base;}float elevationFromUint16(float word) {return u_exaggeration*(word/ELEVATION_SCALE-ELEVATION_OFFSET);}\\n#else\\nfloat elevation(vec2 pos) { return 0.0; }bool isOccluded(vec4 frag) { return false; }float occlusionFade(vec4 frag) { return 1.0; }\\n#endif\",ri=\"#ifdef FOG\\nuniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump mat4 u_fog_matrix;varying vec3 v_fog_pos;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}vec3 fog_position(vec3 pos) {return (u_fog_matrix*vec4(pos,1.0)).xyz;}vec3 fog_position(vec2 pos) {return fog_position(vec3(pos,0.0));}float fog(vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));return opacity*fog_horizon_blending(pos/depth);}\\n#endif\",ni=\"#ifdef FOG\\nuniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump float u_fog_temporal_offset;varying vec3 v_fog_pos;uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform highp vec2 u_viewport;uniform float u_globe_transition;uniform int u_is_globe;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}float globe_glow_progress() {highp vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(\\nmix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);highp vec3 dir=normalize(ray_dir);highp vec3 closest_point=dot(u_globe_pos,dir)*dir;highp float sdf=length(closest_point-u_globe_pos)/u_globe_radius;return sdf+PI*0.5;}float fog_opacity(vec3 pos) {float depth=length(pos);return fog_opacity(fog_range(depth));}vec3 fog_apply(vec3 color,vec3 pos) {float depth=length(pos);float opacity;if (u_is_globe==1) {float glow_progress=globe_glow_progress();float t=mix(glow_progress,depth,u_globe_transition);opacity=fog_opacity(fog_range(t));} else {opacity=fog_opacity(fog_range(depth));opacity*=fog_horizon_blending(pos/depth);}return mix(color,u_fog_color.rgb,opacity);}vec4 fog_apply_from_vert(vec4 color,float fog_opac) {float alpha=EPSILON+color.a;color.rgb=mix(color.rgb/alpha,u_fog_color.rgb,fog_opac)*alpha;return color;}vec3 fog_apply_sky_gradient(vec3 camera_ray,vec3 sky_color) {float horizon_blend=fog_horizon_blending(normalize(camera_ray));return mix(sky_color,u_fog_color.rgb,horizon_blend);}vec4 fog_apply_premultiplied(vec4 color,vec3 pos) {float alpha=EPSILON+color.a;color.rgb=fog_apply(color.rgb/alpha,pos)*alpha;return color;}vec3 fog_dither(vec3 color) {vec2 dither_seed=gl_FragCoord.xy+u_fog_temporal_offset;return dither(color,dither_seed);}vec4 fog_dither(vec4 color) {return vec4(fog_dither(color.rgb),color.a);}\\n#endif\";let ai={},si={};const li=[];di(ti,li),di(oi,li),di(ri,li),di(ni,li),ai=pi(\"\",oi),si=pi(ni,ri);const ci=pi(\"\\nhighp vec3 hash(highp vec2 p) {highp vec3 p3=fract(p.xyx*vec3(443.8975,397.2973,491.1871));p3+=dot(p3,p3.yxz+19.19);return fract((p3.xxy+p3.yzz)*p3.zyx);}vec3 dither(vec3 color,highp vec2 seed) {vec3 rnd=hash(seed)+hash(seed+0.59374)-0.5;return color+rnd/255.0;}highp float unpack_depth(highp vec4 rgba_depth)\\n{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}highp vec4 pack_depth(highp float ndc_z) {highp float depth=ndc_z*0.5+0.5;const highp vec4 bit_shift=vec4(255.0*255.0*255.0,255.0*255.0,255.0,1.0);const highp vec4 bit_mask =vec4(0.0,1.0/255.0,1.0/255.0,1.0/255.0);highp vec4 res=fract(depth*bit_shift);res-=res.xxyz*bit_mask;return res;}\",\"\\nfloat wrap(float n,float min,float max) {float d=max-min;float w=mod(mod(n-min,d)+d,d)+min;return (w==min) ? max : w;}\\n#ifdef PROJECTION_GLOBE_VIEW\\nvec3 mercator_tile_position(mat4 matrix,vec2 tile_anchor,vec3 tile_id,vec2 mercator_center) {\\n#ifndef PROJECTED_POS_ON_VIEWPORT\\nfloat tiles=tile_id.z;vec2 mercator=(tile_anchor/EXTENT+tile_id.xy)/tiles;mercator-=mercator_center;mercator.x=wrap(mercator.x,-0.5,0.5);vec4 mercator_tile=vec4(mercator.xy*EXTENT,EXTENT/(2.0*PI),1.0);mercator_tile=matrix*mercator_tile;return mercator_tile.xyz;\\n#else\\nreturn vec3(0.0);\\n#endif\\n}vec3 mix_globe_mercator(vec3 globe,vec3 mercator,float t) {return mix(globe,mercator,t);}mat3 globe_mercator_surface_vectors(vec3 pos_normal,vec3 up_dir,float zoom_transition) {vec3 normal=zoom_transition==0.0 ? pos_normal : normalize(mix(pos_normal,up_dir,zoom_transition));vec3 xAxis=normalize(vec3(normal.z,0.0,-normal.x));vec3 yAxis=normalize(cross(normal,xAxis));return mat3(xAxis,yAxis,normal);}\\n#endif\\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(\\nunpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}const vec4 AWAY=vec4(-1000.0,-1000.0,-1000.0,1);//Normalized device coordinate that is not rendered.\"),hi=ti,ui=\"\\n#ifdef GL_ES\\nprecision mediump float;\\n#else\\n\\n#if !defined(lowp)\\n#define lowp\\n#endif\\n\\n#if !defined(mediump)\\n#define mediump\\n#endif\\n\\n#if !defined(highp)\\n#define highp\\n#endif\\n\\n#endif\";var _i={background:pi(\"uniform vec4 u_color;uniform float u_opacity;void main() {vec4 out_color=u_color;\\n#ifdef FOG\\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\\n#endif\\ngl_FragColor=out_color*u_opacity;\\n#ifdef OVERDRAW_INSPECTOR\\ngl_FragColor=vec4(1.0);\\n#endif\\n}\",\"attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);\\n#ifdef FOG\\nv_fog_pos=fog_position(a_pos);\\n#endif\\n}\"),backgroundPattern:pi(\"uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 out_color=mix(color1,color2,u_mix);\\n#ifdef FOG\\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\\n#endif\\ngl_FragColor=out_color*u_opacity;\\n#ifdef OVERDRAW_INSPECTOR\\ngl_FragColor=vec4(1.0);\\n#endif\\n}\",\"uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);\\n#ifdef FOG\\nv_fog_pos=fog_position(a_pos);\\n#endif\\n}\"),circle:pi(\"varying vec3 v_data;varying float v_visibility;\\n#pragma mapbox: define highp vec4 color\\n#pragma mapbox: define mediump float radius\\n#pragma mapbox: define lowp float blur\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define highp vec4 stroke_color\\n#pragma mapbox: define mediump float stroke_width\\n#pragma mapbox: define lowp float stroke_opacity\\nvoid main() {\\n#pragma mapbox: initialize highp vec4 color\\n#pragma mapbox: initialize mediump float radius\\n#pragma mapbox: initialize lowp float blur\\n#pragma mapbox: initialize lowp float opacity\\n#pragma mapbox: initialize highp vec4 stroke_color\\n#pragma mapbox: initialize mediump float stroke_width\\n#pragma mapbox: initialize lowp float stroke_opacity\\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(\\nantialiased_blur,0.0,extrude_length-radius/(radius+stroke_width)\\n);vec4 out_color=mix(color*opacity,stroke_color*stroke_opacity,color_t);\\n#ifdef FOG\\nout_color=fog_apply_premultiplied(out_color,v_fog_pos);\\n#endif\\ngl_FragColor=out_color*(v_visibility*opacity_t);\\n#ifdef OVERDRAW_INSPECTOR\\ngl_FragColor=vec4(1.0);\\n#endif\\n}\",\"#define NUM_VISIBILITY_RINGS 2\\n#define INV_SQRT2 0.70710678\\n#define ELEVATION_BIAS 0.0001\\n#define NUM_SAMPLES_PER_RING 16\\nuniform mat4 u_matrix;uniform mat2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;\\n#ifdef PROJECTION_GLOBE_VIEW\\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;\\n#endif\\nvarying vec3 v_data;varying float v_visibility;\\n#pragma mapbox: define highp vec4 color\\n#pragma mapbox: define mediump float radius\\n#pragma mapbox: define lowp float blur\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define highp vec4 stroke_color\\n#pragma mapbox: define mediump float stroke_width\\n#pragma mapbox: define lowp float stroke_opacity\\nvec2 calc_offset(vec2 extrusion,float radius,float stroke_width, float view_scale) {return extrusion*(radius+stroke_width)*u_extrude_scale*view_scale;}float cantilevered_elevation(vec2 pos,float radius,float stroke_width,float view_scale) {vec2 c1=pos+calc_offset(vec2(-1,-1),radius,stroke_width,view_scale);vec2 c2=pos+calc_offset(vec2(1,-1),radius,stroke_width,view_scale);vec2 c3=pos+calc_offset(vec2(1,1),radius,stroke_width,view_scale);vec2 c4=pos+calc_offset(vec2(-1,1),radius,stroke_width,view_scale);float h1=elevation(c1)+ELEVATION_BIAS;float h2=elevation(c2)+ELEVATION_BIAS;float h3=elevation(c3)+ELEVATION_BIAS;float h4=elevation(c4)+ELEVATION_BIAS;return max(h4,max(h3,max(h1,h2)));}float circle_elevation(vec2 pos) {\\n#if defined(TERRAIN)\\nreturn elevation(pos)+ELEVATION_BIAS;\\n#else\\nreturn 0.0;\\n#endif\\n}vec4 project_vertex(vec2 extrusion,vec4 world_center,vec4 projected_center,float radius,float stroke_width, float view_scale,mat3 surface_vectors) {vec2 sample_offset=calc_offset(extrusion,radius,stroke_width,view_scale);\\n#ifdef PITCH_WITH_MAP\\n#ifdef PROJECTION_GLOBE_VIEW\\nreturn u_matrix*( world_center+vec4(sample_offset.x*surface_vectors[0]+sample_offset.y*surface_vectors[1],0) );\\n#else\\nreturn u_matrix*( world_center+vec4(sample_offset,0,0) );\\n#endif\\n#else\\nreturn projected_center+vec4(sample_offset,0,0);\\n#endif\\n}float get_sample_step() {\\n#ifdef PITCH_WITH_MAP\\nreturn 2.0*PI/float(NUM_SAMPLES_PER_RING);\\n#else\\nreturn PI/float(NUM_SAMPLES_PER_RING);\\n#endif\\n}void main(void) {\\n#pragma mapbox: initialize highp vec4 color\\n#pragma mapbox: initialize mediump float radius\\n#pragma mapbox: initialize lowp float blur\\n#pragma mapbox: initialize lowp float opacity\\n#pragma mapbox: initialize highp vec4 stroke_color\\n#pragma mapbox: initialize mediump float stroke_width\\n#pragma mapbox: initialize lowp float stroke_opacity\\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);\\n#ifdef PROJECTION_GLOBE_VIEW\\nvec3 pos_normal_3=a_pos_normal_3/16384.0;mat3 surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(circle_center)*circle_elevation(circle_center);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*circle_elevation(circle_center);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,circle_center,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;vec3 pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);vec4 world_center=vec4(pos,1);\\n#else \\nmat3 surface_vectors=mat3(1.0);float height=circle_elevation(circle_center);vec4 world_center=vec4(circle_center,height,1);\\n#endif\\nvec4 projected_center=u_matrix*world_center;float view_scale=0.0;\\n#ifdef PITCH_WITH_MAP\\n#ifdef SCALE_WITH_MAP\\nview_scale=1.0;\\n#else\\nview_scale=projected_center.w/u_camera_to_center_distance;\\n#endif\\n#else\\n#ifdef SCALE_WITH_MAP\\nview_scale=u_camera_to_center_distance;\\n#else\\nview_scale=projected_center.w;\\n#endif\\n#endif\\ngl_Position=project_vertex(extrude,world_center,projected_center,radius,stroke_width,view_scale,surface_vectors);float visibility=0.0;\\n#ifdef TERRAIN\\nfloat step=get_sample_step();\\n#ifdef PITCH_WITH_MAP\\nfloat cantilevered_height=cantilevered_elevation(circle_center,radius,stroke_width,view_scale);vec4 occlusion_world_center=vec4(circle_center,cantilevered_height,1);vec4 occlusion_projected_center=u_matrix*occlusion_world_center;\\n#else\\nvec4 occlusion_world_center=world_center;vec4 occlusion_projected_center=projected_center;\\n#endif\\nfor(int ring=0; ring < NUM_VISIBILITY_RINGS; ring++) {float scale=(float(ring)+1.0)/float(NUM_VISIBILITY_RINGS);for(int i=0; i < NUM_SAMPLES_PER_RING; i++) {vec2 extrusion=vec2(cos(step*float(i)),-sin(step*float(i)))*scale;vec4 frag_pos=project_vertex(extrusion,occlusion_world_center,occlusion_projected_center,radius,stroke_width,view_scale,surface_vectors);visibility+=float(!isOccluded(frag_pos));}}visibility/=float(NUM_VISIBILITY_RINGS)*float(NUM_SAMPLES_PER_RING);\\n#else\\nvisibility=1.0;\\n#endif\\n#ifdef PROJECTION_GLOBE_VIEW\\nvisibility=1.0;\\n#endif\\nv_visibility=visibility;lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);\\n#ifdef FOG\\nv_fog_pos=fog_position(world_center.xyz);\\n#endif\\n}\"),clippingMask:pi(\"void main() {gl_FragColor=vec4(1.0);}\",\"attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}\"),heatmap:pi(\"uniform highp float u_intensity;varying vec2 v_extrude;\\n#pragma mapbox: define highp float weight\\n#define GAUSS_COEF 0.3989422804014327\\nvoid main() {\\n#pragma mapbox: initialize highp float weight\\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\\n#ifdef FOG\\nif (u_is_globe==0) {gl_FragColor.r*=pow(1.0-fog_opacity(v_fog_pos),2.0);}\\n#endif\\n#ifdef OVERDRAW_INSPECTOR\\ngl_FragColor=vec4(1.0);\\n#endif\\n}\",\"uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;\\n#ifdef PROJECTION_GLOBE_VIEW\\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;\\n#endif\\nvarying vec2 v_extrude;\\n#pragma mapbox: define highp float weight\\n#pragma mapbox: define mediump float radius\\nconst highp float ZERO=1.0/255.0/16.0;\\n#define GAUSS_COEF 0.3989422804014327\\nvoid main(void) {\\n#pragma mapbox: initialize highp float weight\\n#pragma mapbox: initialize mediump float radius\\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 tilePos=floor(a_pos*0.5);\\n#ifdef PROJECTION_GLOBE_VIEW\\nvec3 pos_normal_3=a_pos_normal_3/16384.0;mat3 surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(tilePos)*elevation(tilePos);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*elevation(tilePos);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,tilePos,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;vec3 pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);\\n#else\\nvec3 pos=vec3(tilePos+extrude,elevation(tilePos));\\n#endif\\ngl_Position=u_matrix*vec4(pos,1);\\n#ifdef FOG\\nv_fog_pos=fog_position(pos);\\n#endif\\n}\"),heatmapTexture:pi(\"uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\\n#ifdef OVERDRAW_INSPECTOR\\ngl_FragColor=vec4(0.0);\\n#endif\\n}\",\"attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=vec4(a_pos,0,1);v_pos=a_pos*0.5+0.5;}\"),collisionBox:pi(\"varying float v_placed;varying float v_notUsed;void main() {vec4 red =vec4(1.0,0.0,0.0,1.0);vec4 blue=vec4(0.0,0.0,1.0,0.5);gl_FragColor =mix(red,blue,step(0.5,v_placed))*0.5;gl_FragColor*=mix(1.0,0.1,step(0.5,v_notUsed));}\",\"attribute vec3 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;attribute float a_size_scale;attribute vec2 a_padding;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_pos+elevationVector(a_anchor_pos)*elevation(a_anchor_pos),1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(\\n0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,1.5);gl_Position=projectedPoint;gl_Position.xy+=(a_extrude*a_size_scale+a_shift+a_padding)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}\"),collisionCircle:pi(\"varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}\",\"attribute vec2 a_pos_2f;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos_2f;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(\\nmix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(\\n0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}\"),debug:pi(\"uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}\",\"attribute vec2 a_pos;\\n#ifdef PROJECTION_GLOBE_VIEW\\nattribute vec3 a_pos_3;\\n#endif\\nvarying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {float h=elevation(a_pos);v_uv=a_pos/8192.0;\\n#ifdef PROJECTION_GLOBE_VIEW\\ngl_Position=u_matrix*vec4(a_pos_3+elevationVector(a_pos)*h,1);\\n#else\\ngl_Position=u_matrix*vec4(a_pos*u_overlay_scale,h,1);\\n#endif\\n}\"),fill:pi(\"#pragma mapbox: define highp vec4 color\\n#pragma mapbox: define lowp float opacity\\nvoid main() {\\n#pragma mapbox: initialize highp vec4 color\\n#pragma mapbox: initialize lowp float opacity\\nvec4 out_color=color;\\n#ifdef FOG\\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\\n#endif\\ngl_FragColor=out_color*opacity;\\n#ifdef OVERDRAW_INSPECTOR\\ngl_FragColor=vec4(1.0);\\n#endif\\n}\",\"attribute vec2 a_pos;uniform mat4 u_matrix;\\n#pragma mapbox: define highp vec4 color\\n#pragma mapbox: define lowp float opacity\\nvoid main() {\\n#pragma mapbox: initialize highp vec4 color\\n#pragma mapbox: initialize lowp float opacity\\ngl_Position=u_matrix*vec4(a_pos,0,1);\\n#ifdef FOG\\nv_fog_pos=fog_position(a_pos);\\n#endif\\n}\"),fillOutline:pi(\"varying vec2 v_pos;\\n#pragma mapbox: define highp vec4 outline_color\\n#pragma mapbox: define lowp float opacity\\nvoid main() {\\n#pragma mapbox: initialize highp vec4 outline_color\\n#pragma mapbox: initialize lowp float opacity\\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=outline_color;\\n#ifdef FOG\\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\\n#endif\\ngl_FragColor=out_color*(alpha*opacity);\\n#ifdef OVERDRAW_INSPECTOR\\ngl_FragColor=vec4(1.0);\\n#endif\\n}\",\"attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\\n#pragma mapbox: define highp vec4 outline_color\\n#pragma mapbox: define lowp float opacity\\nvoid main() {\\n#pragma mapbox: initialize highp vec4 outline_color\\n#pragma mapbox: initialize lowp float opacity\\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;\\n#ifdef FOG\\nv_fog_pos=fog_position(a_pos);\\n#endif\\n}\"),fillOutlinePattern:pi(\"uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define lowp vec4 pattern_from\\n#pragma mapbox: define lowp vec4 pattern_to\\nvoid main() {\\n#pragma mapbox: initialize lowp float opacity\\n#pragma mapbox: initialize mediump vec4 pattern_from\\n#pragma mapbox: initialize mediump vec4 pattern_to\\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=mix(color1,color2,u_fade);\\n#ifdef FOG\\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\\n#endif\\ngl_FragColor=out_color*(alpha*opacity);\\n#ifdef OVERDRAW_INSPECTOR\\ngl_FragColor=vec4(1.0);\\n#endif\\n}\",\"uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define lowp vec4 pattern_from\\n#pragma mapbox: define lowp vec4 pattern_to\\n#pragma mapbox: define lowp float pixel_ratio_from\\n#pragma mapbox: define lowp float pixel_ratio_to\\nvoid main() {\\n#pragma mapbox: initialize lowp float opacity\\n#pragma mapbox: initialize mediump vec4 pattern_from\\n#pragma mapbox: initialize mediump vec4 pattern_to\\n#pragma mapbox: initialize lowp float pixel_ratio_from\\n#pragma mapbox: initialize lowp float pixel_ratio_to\\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;\\n#ifdef FOG\\nv_fog_pos=fog_position(a_pos);\\n#endif\\n}\"),fillPattern:pi(\"uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define lowp vec4 pattern_from\\n#pragma mapbox: define lowp vec4 pattern_to\\nvoid main() {\\n#pragma mapbox: initialize lowp float opacity\\n#pragma mapbox: initialize mediump vec4 pattern_from\\n#pragma mapbox: initialize mediump vec4 pattern_to\\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 out_color=mix(color1,color2,u_fade);\\n#ifdef FOG\\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\\n#endif\\ngl_FragColor=out_color*opacity;\\n#ifdef OVERDRAW_INSPECTOR\\ngl_FragColor=vec4(1.0);\\n#endif\\n}\",\"uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define lowp vec4 pattern_from\\n#pragma mapbox: define lowp vec4 pattern_to\\n#pragma mapbox: define lowp float pixel_ratio_from\\n#pragma mapbox: define lowp float pixel_ratio_to\\nvoid main() {\\n#pragma mapbox: initialize lowp float opacity\\n#pragma mapbox: initialize mediump vec4 pattern_from\\n#pragma mapbox: initialize mediump vec4 pattern_to\\n#pragma mapbox: initialize lowp float pixel_ratio_from\\n#pragma mapbox: initialize lowp float pixel_ratio_to\\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);\\n#ifdef FOG\\nv_fog_pos=fog_position(a_pos);\\n#endif\\n}\"),fillExtrusion:pi(\"uniform lowp vec3 u_lightpos;varying vec4 v_color;\\n#ifdef RENDER_SHADOWS\\nvarying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;varying highp vec3 v_normal;\\n#endif\\n#ifdef FAUX_AO\\nuniform lowp vec2 u_ao;varying vec3 v_ao;\\n#endif\\nvoid main() {vec4 color=v_color;\\n#ifdef FAUX_AO\\nfloat intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);color.rgb=color.rgb*shade;\\n#endif\\n#ifdef RENDER_SHADOWS\\ncolor.xyz=shadowed_color_normal(color.xyz,normalize(v_normal),v_pos_light_view_0,v_pos_light_view_1,v_depth);\\n#endif\\n#ifdef FOG\\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\\n#endif\\ngl_FragColor=color;\\n#ifdef OVERDRAW_INSPECTOR\\ngl_FragColor=vec4(1.0);\\n#endif\\n}\",\"uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform float u_edge_radius;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;\\n#ifdef PROJECTION_GLOBE_VIEW\\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;\\n#endif\\nvarying vec4 v_color;\\n#ifdef RENDER_SHADOWS\\nuniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying highp vec3 v_normal;varying float v_depth;\\n#endif\\n#ifdef FAUX_AO\\nuniform lowp vec2 u_ao;varying vec3 v_ao;\\n#endif\\n#pragma mapbox: define highp float base\\n#pragma mapbox: define highp float height\\n#pragma mapbox: define highp vec4 color\\nvoid main() {\\n#pragma mapbox: initialize highp float base\\n#pragma mapbox: initialize highp float height\\n#pragma mapbox: initialize highp vec4 color\\nvec4 pos_nx=floor(a_pos_normal_ed*0.5);vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));base=max(0.0,base);height=max(0.0,top_up_ny.y==0.0 && top_up_ny.x==1.0 ? height-u_edge_radius : height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);\\n#if defined(HAS_CENTROID) || defined(TERRAIN)\\ncentroid_pos=a_centroid_pos;\\n#endif\\nfloat ele=0.0;float h=0.0;\\n#ifdef TERRAIN\\nbool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);float c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);vec3 pos=vec3(pos_nx.xy,h);\\n#else\\nh=t > 0.0 ? height : base;vec3 pos=vec3(pos_nx.xy,h);\\n#endif\\n#ifdef PROJECTION_GLOBE_VIEW\\nfloat lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*h);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,pos.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*pos.z;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);\\n#endif\\nfloat hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(pos,1),AWAY,hidden);\\n#ifdef RENDER_SHADOWS\\nv_pos_light_view_0=u_light_matrix_0*vec4(pos,1);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1);v_normal=normal;v_depth=gl_Position.w;\\n#endif\\nfloat colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=(\\n(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}\\n#ifdef FAUX_AO\\nfloat concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;\\n#ifdef TERRAIN\\ntop_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);\\n#endif\\nv_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);directional*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);\\n#ifdef PROJECTION_GLOBE_VIEW\\ntop_height+=u_height_lift;\\n#endif\\ngl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;\\n#endif\\nv_color.rgb+=clamp(color.rgb*directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_color*=u_opacity;\\n#ifdef FOG\\nv_fog_pos=fog_position(pos);\\n#endif\\n}\"),fillExtrusionPattern:pi(\"uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;\\n#ifdef FAUX_AO\\nuniform lowp vec2 u_ao;varying vec3 v_ao;\\n#endif\\nvarying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\\n#pragma mapbox: define lowp float base\\n#pragma mapbox: define lowp float height\\n#pragma mapbox: define lowp vec4 pattern_from\\n#pragma mapbox: define lowp vec4 pattern_to\\n#pragma mapbox: define lowp float pixel_ratio_from\\n#pragma mapbox: define lowp float pixel_ratio_to\\nvoid main() {\\n#pragma mapbox: initialize lowp float base\\n#pragma mapbox: initialize lowp float height\\n#pragma mapbox: initialize mediump vec4 pattern_from\\n#pragma mapbox: initialize mediump vec4 pattern_to\\n#pragma mapbox: initialize lowp float pixel_ratio_from\\n#pragma mapbox: initialize lowp float pixel_ratio_to\\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 out_color=mix(color1,color2,u_fade);out_color=out_color*v_lighting;\\n#ifdef FAUX_AO\\nfloat intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);out_color.rgb=out_color.rgb*shade;\\n#endif\\n#ifdef FOG\\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\\n#endif\\ngl_FragColor=out_color;\\n#ifdef OVERDRAW_INSPECTOR\\ngl_FragColor=vec4(1.0);\\n#endif\\n}\",\"uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;\\n#ifdef PROJECTION_GLOBE_VIEW\\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;\\n#endif\\nvarying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\\n#ifdef FAUX_AO\\nuniform lowp vec2 u_ao;varying vec3 v_ao;\\n#endif\\n#pragma mapbox: define lowp float base\\n#pragma mapbox: define lowp float height\\n#pragma mapbox: define lowp vec4 pattern_from\\n#pragma mapbox: define lowp vec4 pattern_to\\n#pragma mapbox: define lowp float pixel_ratio_from\\n#pragma mapbox: define lowp float pixel_ratio_to\\nvoid main() {\\n#pragma mapbox: initialize lowp float base\\n#pragma mapbox: initialize lowp float height\\n#pragma mapbox: initialize mediump vec4 pattern_from\\n#pragma mapbox: initialize mediump vec4 pattern_to\\n#pragma mapbox: initialize lowp float pixel_ratio_from\\n#pragma mapbox: initialize lowp float pixel_ratio_to\\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec4 pos_nx=floor(a_pos_normal_ed*0.5);mediump vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;mediump vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));float edgedistance=a_pos_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;float z=t > 0.0 ? height : base;vec2 centroid_pos=vec2(0.0);\\n#if defined(HAS_CENTROID) || defined(TERRAIN)\\ncentroid_pos=a_centroid_pos;\\n#endif\\nfloat ele=0.0;float h=z;\\n#ifdef TERRAIN\\nbool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);float c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);vec3 p=vec3(pos_nx.xy,h);\\n#else\\nvec3 p=vec3(pos_nx.xy,z);\\n#endif\\n#ifdef PROJECTION_GLOBE_VIEW\\nfloat lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*(p.z+lift));vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,p.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*p.z;p=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);\\n#endif\\nfloat hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(p,1),AWAY,hidden);vec2 pos=normal.z==1.0\\n? pos_nx.xy\\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=(\\n(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}\\n#ifdef FAUX_AO\\nfloat concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;\\n#ifdef TERRAIN\\ntop_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);\\n#endif\\nv_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);directional*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);\\n#ifdef PROJECTION_GLOBE_VIEW\\ntop_height+=u_height_lift;\\n#endif\\ngl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;\\n#endif\\nv_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;\\n#ifdef FOG\\nv_fog_pos=fog_position(p);\\n#endif\\n}\"),hillshadePrepare:pi(\"#ifdef GL_ES\\nprecision highp float;\\n#endif\\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord) {\\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\\nreturn texture2D(u_image,coord).a/4.0;\\n#else\\nvec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;\\n#endif\\n}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y));float b=getElevation(v_pos+vec2(0,-epsilon.y));float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y));float d=getElevation(v_pos+vec2(-epsilon.x,0));float e=getElevation(v_pos);float f=getElevation(v_pos+vec2(epsilon.x,0));float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y));float h=getElevation(v_pos+vec2(0,epsilon.y));float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y));float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2(\\n(c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c)\\n)/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(\\nderiv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\\n#ifdef OVERDRAW_INSPECTOR\\ngl_FragColor=vec4(1.0);\\n#endif\\n}\",\"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}\"),hillshade:pi(\"uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\\n#ifdef FOG\\ngl_FragColor=fog_dither(fog_apply_premultiplied(gl_FragColor,v_fog_pos));\\n#endif\\n#ifdef OVERDRAW_INSPECTOR\\ngl_FragColor=vec4(1.0);\\n#endif\\n}\",\"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;\\n#ifdef FOG\\nv_fog_pos=fog_position(a_pos);\\n#endif\\n}\"),line:pi(\"uniform lowp float u_device_pixel_ratio;uniform float u_alpha_discard_threshold;uniform highp vec2 u_trim_offset;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec4 v_uv;\\n#ifdef RENDER_LINE_DASH\\nuniform sampler2D u_dash_image;uniform float u_mix;uniform vec3 u_scale;varying vec2 v_tex_a;varying vec2 v_tex_b;\\n#endif\\n#ifdef RENDER_LINE_GRADIENT\\nuniform sampler2D u_gradient_image;\\n#endif\\n#pragma mapbox: define highp vec4 color\\n#pragma mapbox: define lowp float floorwidth\\n#pragma mapbox: define lowp vec4 dash_from\\n#pragma mapbox: define lowp vec4 dash_to\\n#pragma mapbox: define lowp float blur\\n#pragma mapbox: define lowp float opacity\\nvoid main() {\\n#pragma mapbox: initialize highp vec4 color\\n#pragma mapbox: initialize lowp float floorwidth\\n#pragma mapbox: initialize lowp vec4 dash_from\\n#pragma mapbox: initialize lowp vec4 dash_to\\n#pragma mapbox: initialize lowp float blur\\n#pragma mapbox: initialize lowp float opacity\\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);\\n#ifdef RENDER_LINE_DASH\\nfloat sdfdist_a=texture2D(u_dash_image,v_tex_a).a;float sdfdist_b=texture2D(u_dash_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);float sdfwidth=min(dash_from.z*u_scale.y,dash_to.z*u_scale.z);float sdfgamma=1.0/(2.0*u_device_pixel_ratio)/sdfwidth;alpha*=smoothstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);\\n#endif\\n#ifdef RENDER_LINE_GRADIENT\\nhighp vec4 out_color=texture2D(u_gradient_image,v_uv.xy);\\n#else\\nvec4 out_color=color;\\n#endif\\n#ifdef RENDER_LINE_TRIM_OFFSET\\nhighp float start=v_uv[2];highp float end=v_uv[3];highp float trim_start=u_trim_offset[0];highp float trim_end=u_trim_offset[1];highp float line_progress=(start+(v_uv.x)*(end-start));if (trim_end > trim_start) {if (line_progress <=trim_end && line_progress >=trim_start) {out_color=vec4(0,0,0,0);}}\\n#endif\\n#ifdef FOG\\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\\n#endif\\n#ifdef RENDER_LINE_ALPHA_DISCARD\\nif (alpha < u_alpha_discard_threshold) {discard;}\\n#endif\\ngl_FragColor=out_color*(alpha*opacity);\\n#ifdef OVERDRAW_INSPECTOR\\ngl_FragColor=vec4(1.0);\\n#endif\\n}\",\"\\n#define EXTRUDE_SCALE 0.015873016\\nattribute vec2 a_pos_normal;attribute vec4 a_data;\\n#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)\\nattribute highp vec4 a_packed;\\n#endif\\n#ifdef RENDER_LINE_DASH\\nattribute float a_linesofar;\\n#endif\\nuniform mat4 u_matrix;uniform mat2 u_pixels_to_tile_units;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec4 v_uv;\\n#ifdef RENDER_LINE_DASH\\nuniform vec2 u_texsize;uniform mediump vec3 u_scale;varying vec2 v_tex_a;varying vec2 v_tex_b;\\n#endif\\n#ifdef RENDER_LINE_GRADIENT\\nuniform float u_image_height;\\n#endif\\n#pragma mapbox: define highp vec4 color\\n#pragma mapbox: define lowp float floorwidth\\n#pragma mapbox: define lowp vec4 dash_from\\n#pragma mapbox: define lowp vec4 dash_to\\n#pragma mapbox: define lowp float blur\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define mediump float gapwidth\\n#pragma mapbox: define lowp float offset\\n#pragma mapbox: define mediump float width\\nvoid main() {\\n#pragma mapbox: initialize highp vec4 color\\n#pragma mapbox: initialize lowp float floorwidth\\n#pragma mapbox: initialize lowp vec4 dash_from\\n#pragma mapbox: initialize lowp vec4 dash_to\\n#pragma mapbox: initialize lowp float blur\\n#pragma mapbox: initialize lowp float opacity\\n#pragma mapbox: initialize mediump float gapwidth\\n#pragma mapbox: initialize lowp float offset\\n#pragma mapbox: initialize mediump float width\\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*EXTRUDE_SCALE;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*EXTRUDE_SCALE*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;\\n#ifndef RENDER_TO_TEXTURE\\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\\n#else\\nv_gamma_scale=1.0;\\n#endif\\n#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)\\nfloat a_uv_x=a_packed[0];float a_split_index=a_packed[1];highp float a_clip_start=a_packed[2];highp float a_clip_end=a_packed[3];\\n#ifdef RENDER_LINE_GRADIENT\\nhighp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec4(a_uv_x,a_split_index*texel_height-half_texel_height,a_clip_start,a_clip_end);\\n#else\\nv_uv=vec4(a_uv_x,0.0,a_clip_start,a_clip_end);\\n#endif\\n#endif\\n#ifdef RENDER_LINE_DASH\\nfloat tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;float scaleA=dash_from.z==0.0 ? 0.0 : tileZoomRatio/(dash_from.z*fromScale);float scaleB=dash_to.z==0.0 ? 0.0 : tileZoomRatio/(dash_to.z*toScale);float heightA=dash_from.y;float heightB=dash_to.y;v_tex_a=vec2(a_linesofar*scaleA/floorwidth,(-normal.y*heightA+dash_from.x+0.5)/u_texsize.y);v_tex_b=vec2(a_linesofar*scaleB/floorwidth,(-normal.y*heightB+dash_to.x+0.5)/u_texsize.y);\\n#endif\\nv_width2=vec2(outset,inset);\\n#ifdef FOG\\nv_fog_pos=fog_position(pos);\\n#endif\\n}\"),linePattern:pi(\"uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\\n#pragma mapbox: define lowp vec4 pattern_from\\n#pragma mapbox: define lowp vec4 pattern_to\\n#pragma mapbox: define lowp float pixel_ratio_from\\n#pragma mapbox: define lowp float pixel_ratio_to\\n#pragma mapbox: define lowp float blur\\n#pragma mapbox: define lowp float opacity\\nvoid main() {\\n#pragma mapbox: initialize mediump vec4 pattern_from\\n#pragma mapbox: initialize mediump vec4 pattern_to\\n#pragma mapbox: initialize lowp float pixel_ratio_from\\n#pragma mapbox: initialize lowp float pixel_ratio_to\\n#pragma mapbox: initialize lowp float blur\\n#pragma mapbox: initialize lowp float opacity\\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);\\n#ifdef FOG\\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\\n#endif\\ngl_FragColor=color*(alpha*opacity);\\n#ifdef OVERDRAW_INSPECTOR\\ngl_FragColor=vec4(1.0);\\n#endif\\n}\",\"\\n#define scale 0.015873016\\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_linesofar;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mat2 u_pixels_to_tile_units;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\\n#pragma mapbox: define lowp float blur\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define lowp float offset\\n#pragma mapbox: define mediump float gapwidth\\n#pragma mapbox: define mediump float width\\n#pragma mapbox: define lowp float floorwidth\\n#pragma mapbox: define lowp vec4 pattern_from\\n#pragma mapbox: define lowp vec4 pattern_to\\n#pragma mapbox: define lowp float pixel_ratio_from\\n#pragma mapbox: define lowp float pixel_ratio_to\\nvoid main() {\\n#pragma mapbox: initialize lowp float blur\\n#pragma mapbox: initialize lowp float opacity\\n#pragma mapbox: initialize lowp float offset\\n#pragma mapbox: initialize mediump float gapwidth\\n#pragma mapbox: initialize mediump float width\\n#pragma mapbox: initialize lowp float floorwidth\\n#pragma mapbox: initialize mediump vec4 pattern_from\\n#pragma mapbox: initialize mediump vec4 pattern_to\\n#pragma mapbox: initialize lowp float pixel_ratio_from\\n#pragma mapbox: initialize lowp float pixel_ratio_to\\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;\\n#ifndef RENDER_TO_TEXTURE\\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\\n#else\\nv_gamma_scale=1.0;\\n#endif\\nv_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;\\n#ifdef FOG\\nv_fog_pos=fog_position(pos);\\n#endif\\n}\"),raster:pi(\"uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(\\ndot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);vec3 out_color=mix(u_high_vec,u_low_vec,rgb);\\n#ifdef FOG\\nout_color=fog_dither(fog_apply(out_color,v_fog_pos));\\n#endif\\ngl_FragColor=vec4(out_color*color.a,color.a);\\n#ifdef OVERDRAW_INSPECTOR\\ngl_FragColor=vec4(1.0);\\n#endif\\n}\",\"uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform vec2 u_perspective_transform;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {float w=1.0+dot(a_texture_pos,u_perspective_transform);gl_Position=u_matrix*vec4(a_pos*w,0,w);v_pos0=a_texture_pos/8192.0;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;\\n#ifdef FOG\\nv_fog_pos=fog_position(a_pos);\\n#endif\\n}\"),symbolIcon:pi(\"uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\\n#pragma mapbox: define lowp float opacity\\nvoid main() {\\n#pragma mapbox: initialize lowp float opacity\\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\\n#ifdef OVERDRAW_INSPECTOR\\ngl_FragColor=vec4(1.0);\\n#endif\\n}\",\"attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;\\n#ifdef PROJECTION_GLOBE_VIEW\\nattribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;\\n#endif\\nuniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform vec3 u_up_vector;\\n#ifdef PROJECTION_GLOBE_VIEW\\nuniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;\\n#endif\\nvarying vec2 v_tex;varying float v_fade_opacity;\\n#pragma mapbox: define lowp float opacity\\nvoid main() {\\n#pragma mapbox: initialize lowp float opacity\\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_min_font_scale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);\\n#ifdef PROJECTION_GLOBE_VIEW\\nvec3 mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);vec3 world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;float globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;\\n#else\\nvec3 world_pos=vec3(tile_anchor,0)+h;float globe_occlusion_fade=1.0;\\n#endif\\nvec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?\\ncamera_to_anchor_distance/u_camera_to_center_distance :\\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {\\n#ifdef PROJECTION_GLOBE_VIEW\\nvec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);vec4 offsetProjected_point=u_matrix*vec4(a_globe_anchor+displacement,1);\\n#else\\nvec4 offsetProjected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);\\n#endif\\nvec2 a=projected_point.xy/projected_point.w;vec2 b=offsetProjected_point.xy/offsetProjected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}\\n#ifdef PROJECTION_GLOBE_VIEW\\nvec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);vec4 projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);\\n#else\\nvec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);\\n#endif\\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*max(a_min_font_scale,font_scale)+a_pxoffset/16.0);\\n#ifdef PITCH_WITH_MAP_TERRAIN\\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\\n#endif\\nfloat occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;\\n#ifdef PROJECTION_GLOBE_VIEW\\nvec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\\n#else\\ngl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\\n#endif\\nfloat projection_transition_fade=1.0;\\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\\n#endif\\nv_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change))*projection_transition_fade;}\"),symbolSDF:pi(\"#define SDF_PX 8.0\\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\\n#pragma mapbox: define highp vec4 fill_color\\n#pragma mapbox: define highp vec4 halo_color\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define lowp float halo_width\\n#pragma mapbox: define lowp float halo_blur\\nvoid main() {\\n#pragma mapbox: initialize highp vec4 fill_color\\n#pragma mapbox: initialize highp vec4 halo_color\\n#pragma mapbox: initialize lowp float opacity\\n#pragma mapbox: initialize lowp float halo_width\\n#pragma mapbox: initialize lowp float halo_blur\\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\\n#ifdef OVERDRAW_INSPECTOR\\ngl_FragColor=vec4(1.0);\\n#endif\\n}\",\"attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;\\n#ifdef PROJECTION_GLOBE_VIEW\\nattribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;\\n#endif\\nuniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;\\n#ifdef PROJECTION_GLOBE_VIEW\\nuniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;\\n#endif\\nvarying vec2 v_data0;varying vec3 v_data1;\\n#pragma mapbox: define highp vec4 fill_color\\n#pragma mapbox: define highp vec4 halo_color\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define lowp float halo_width\\n#pragma mapbox: define lowp float halo_blur\\nvoid main() {\\n#pragma mapbox: initialize highp vec4 fill_color\\n#pragma mapbox: initialize highp vec4 halo_color\\n#pragma mapbox: initialize lowp float opacity\\n#pragma mapbox: initialize lowp float halo_width\\n#pragma mapbox: initialize lowp float halo_blur\\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);\\n#ifdef PROJECTION_GLOBE_VIEW\\nvec3 mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);vec3 world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;float globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;\\n#else\\nvec3 world_pos=vec3(tile_anchor,0)+h;float globe_occlusion_fade=1.0;\\n#endif\\nvec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?\\ncamera_to_anchor_distance/u_camera_to_center_distance :\\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {\\n#ifdef PROJECTION_GLOBE_VIEW\\nvec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);vec4 offsetprojected_point=u_matrix*vec4(a_globe_anchor+displacement,1);\\n#else\\nvec4 offsetprojected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);\\n#endif\\nvec2 a=projected_point.xy/projected_point.w;vec2 b=offsetprojected_point.xy/offsetprojected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}\\n#ifdef PROJECTION_GLOBE_VIEW\\nvec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);vec4 projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);\\n#else\\nvec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);\\n#endif\\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset);\\n#ifdef PITCH_WITH_MAP_TERRAIN\\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\\n#endif\\nfloat occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;\\n#ifdef PROJECTION_GLOBE_VIEW\\nvec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\\n#else\\ngl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\\n#endif\\nfloat gamma_scale=gl_Position.w;float projection_transition_fade=1.0;\\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\\n#endif\\nvec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade);}\"),symbolTextAndIcon:pi(\"#define SDF_PX 8.0\\n#define SDF 1.0\\n#define ICON 0.0\\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\\n#pragma mapbox: define highp vec4 fill_color\\n#pragma mapbox: define highp vec4 halo_color\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define lowp float halo_width\\n#pragma mapbox: define lowp float halo_blur\\nvoid main() {\\n#pragma mapbox: initialize highp vec4 fill_color\\n#pragma mapbox: initialize highp vec4 halo_color\\n#pragma mapbox: initialize lowp float opacity\\n#pragma mapbox: initialize lowp float halo_width\\n#pragma mapbox: initialize lowp float halo_blur\\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\\n#ifdef OVERDRAW_INSPECTOR\\ngl_FragColor=vec4(1.0);\\n#endif\\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\\n#ifdef OVERDRAW_INSPECTOR\\ngl_FragColor=vec4(1.0);\\n#endif\\n}\",\"attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_projected_pos;attribute float a_fade_opacity;\\n#ifdef PROJECTION_GLOBE_VIEW\\nattribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;\\n#endif\\nuniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;uniform vec2 u_texsize_icon;\\n#ifdef PROJECTION_GLOBE_VIEW\\nuniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;\\n#endif\\nvarying vec4 v_data0;varying vec4 v_data1;\\n#pragma mapbox: define highp vec4 fill_color\\n#pragma mapbox: define highp vec4 halo_color\\n#pragma mapbox: define lowp float opacity\\n#pragma mapbox: define lowp float halo_width\\n#pragma mapbox: define lowp float halo_blur\\nvoid main() {\\n#pragma mapbox: initialize highp vec4 fill_color\\n#pragma mapbox: initialize highp vec4 halo_color\\n#pragma mapbox: initialize lowp float opacity\\n#pragma mapbox: initialize lowp float halo_width\\n#pragma mapbox: initialize lowp float halo_blur\\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);\\n#ifdef PROJECTION_GLOBE_VIEW\\nvec3 mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);vec3 world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;float globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;\\n#else\\nvec3 world_pos=vec3(tile_anchor,0)+h;float globe_occlusion_fade=1.0;\\n#endif\\nvec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?\\ncamera_to_anchor_distance/u_camera_to_center_distance :\\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offset_projected_point=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projected_point.xy/projected_point.w;vec2 b=offset_projected_point.xy/offset_projected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}\\n#ifdef PROJECTION_GLOBE_VIEW\\nvec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);vec4 projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);\\n#else\\nvec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);\\n#endif\\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*font_scale);\\n#ifdef PITCH_WITH_MAP_TERRAIN\\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\\n#endif\\nfloat occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;\\n#ifdef PROJECTION_GLOBE_VIEW\\nvec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\\n#else\\ngl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\\n#endif\\nfloat gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));float projection_transition_fade=1.0;\\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\\n#endif\\nv_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade,is_sdf);}\"),terrainRaster:pi(\"uniform sampler2D u_image0;varying vec2 v_pos0;\\n#ifdef FOG\\nvarying float v_fog_opacity;\\n#endif\\n#ifdef RENDER_SHADOWS\\nvarying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;\\n#endif\\nvoid main() {vec4 color=texture2D(u_image0,v_pos0);\\n#ifdef RENDER_SHADOWS\\ncolor.xyz=shadowed_color(color.xyz,v_pos_light_view_0,v_pos_light_view_1,v_depth);\\n#endif\\n#ifdef FOG\\ncolor=fog_dither(fog_apply_from_vert(color,v_fog_opacity));\\n#endif\\ngl_FragColor=color;\\n#ifdef TERRAIN_WIREFRAME\\ngl_FragColor=vec4(1.0,0.0,0.0,0.8);\\n#endif\\n#ifdef OVERDRAW_INSPECTOR\\ngl_FragColor=vec4(1.0);\\n#endif\\n}\",\"uniform mat4 u_matrix;uniform float u_skirt_height;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;\\n#ifdef FOG\\nvarying float v_fog_opacity;\\n#endif\\n#ifdef RENDER_SHADOWS\\nuniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;\\n#endif\\nconst float skirtOffset=24575.0;const float wireframeOffset=0.00015;void main() {v_pos0=a_texture_pos/8192.0;float skirt=float(a_pos.x >=skirtOffset);float elevation=elevation(a_texture_pos)-skirt*u_skirt_height;\\n#ifdef TERRAIN_WIREFRAME\\nelevation+=u_skirt_height*u_skirt_height*wireframeOffset;\\n#endif\\nvec2 decodedPos=a_pos-vec2(skirt*skirtOffset,0.0);gl_Position=u_matrix*vec4(decodedPos,elevation,1.0);\\n#ifdef FOG\\nv_fog_opacity=fog(fog_position(vec3(decodedPos,elevation)));\\n#endif\\n#ifdef RENDER_SHADOWS\\nvec3 pos=vec3(decodedPos,elevation);v_pos_light_view_0=u_light_matrix_0*vec4(pos,1.);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1.);v_depth=gl_Position.w;\\n#endif\\n}\"),terrainDepth:pi(\"#ifdef GL_ES\\nprecision highp float;\\n#endif\\nvarying float v_depth;void main() {gl_FragColor=pack_depth(v_depth);}\",\"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying float v_depth;void main() {float elevation=elevation(a_texture_pos);gl_Position=u_matrix*vec4(a_pos,elevation,1.0);v_depth=gl_Position.z/gl_Position.w;}\"),skybox:pi(\"\\nvarying lowp vec3 v_uv;uniform lowp samplerCube u_cubemap;uniform lowp float u_opacity;uniform highp float u_temporal_offset;uniform highp vec3 u_sun_direction;float sun_disk(highp vec3 ray_direction,highp vec3 sun_direction) {highp float cos_angle=dot(normalize(ray_direction),sun_direction);const highp float cos_sun_angular_diameter=0.99996192306;const highp float smoothstep_delta=1e-5;return smoothstep(\\ncos_sun_angular_diameter-smoothstep_delta,cos_sun_angular_diameter+smoothstep_delta,cos_angle);}float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec3 uv=v_uv;const float y_bias=0.015;uv.y+=y_bias;uv.y=pow(abs(uv.y),1.0/5.0);uv.y=map(uv.y,0.0,1.0,-1.0,1.0);vec3 sky_color=textureCube(u_cubemap,uv).rgb;\\n#ifdef FOG\\nsky_color=fog_apply_sky_gradient(v_uv.xzy,sky_color);\\n#endif\\nsky_color.rgb=dither(sky_color.rgb,gl_FragCoord.xy+u_temporal_offset);sky_color+=0.1*sun_disk(v_uv,u_sun_direction);gl_FragColor=vec4(sky_color*u_opacity,u_opacity);\\n#ifdef OVERDRAW_INSPECTOR\\ngl_FragColor=vec4(1.0);\\n#endif\\n}\",ii),skyboxGradient:pi(\"varying highp vec3 v_uv;uniform lowp sampler2D u_color_ramp;uniform highp vec3 u_center_direction;uniform lowp float u_radius;uniform lowp float u_opacity;uniform highp float u_temporal_offset;void main() {float progress=acos(dot(normalize(v_uv),u_center_direction))/u_radius;vec4 color=texture2D(u_color_ramp,vec2(progress,0.5));\\n#ifdef FOG\\ncolor.rgb=fog_apply_sky_gradient(v_uv.xzy,color.rgb/color.a)*color.a;\\n#endif\\ncolor*=u_opacity;color.rgb=dither(color.rgb,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=color;\\n#ifdef OVERDRAW_INSPECTOR\\ngl_FragColor=vec4(1.0);\\n#endif\\n}\",ii),skyboxCapture:pi(\"\\nvarying highp vec3 v_position;uniform highp float u_sun_intensity;uniform highp float u_luminance;uniform lowp vec3 u_sun_direction;uniform highp vec4 u_color_tint_r;uniform highp vec4 u_color_tint_m;\\n#ifdef GL_ES\\nprecision highp float;\\n#endif\\n#define BETA_R                  vec3(5.5e-6,13.0e-6,22.4e-6)\\n#define BETA_M                  vec3(21e-6,21e-6,21e-6)\\n#define MIE_G                   0.76\\n#define DENSITY_HEIGHT_SCALE_R  8000.0\\n#define DENSITY_HEIGHT_SCALE_M  1200.0\\n#define PLANET_RADIUS           6360e3\\n#define ATMOSPHERE_RADIUS       6420e3\\n#define SAMPLE_STEPS            10\\n#define DENSITY_STEPS           4\\nfloat ray_sphere_exit(vec3 orig,vec3 dir,float radius) {float a=dot(dir,dir);float b=2.0*dot(dir,orig);float c=dot(orig,orig)-radius*radius;float d=sqrt(b*b-4.0*a*c);return (-b+d)/(2.0*a);}vec3 extinction(vec2 density) {return exp(-vec3(BETA_R*u_color_tint_r.a*density.x+BETA_M*u_color_tint_m.a*density.y));}vec2 local_density(vec3 point) {float height=max(length(point)-PLANET_RADIUS,0.0);float exp_r=exp(-height/DENSITY_HEIGHT_SCALE_R);float exp_m=exp(-height/DENSITY_HEIGHT_SCALE_M);return vec2(exp_r,exp_m);}float phase_ray(float cos_angle) {return (3.0/(16.0*PI))*(1.0+cos_angle*cos_angle);}float phase_mie(float cos_angle) {return (3.0/(8.0*PI))*((1.0-MIE_G*MIE_G)*(1.0+cos_angle*cos_angle))/((2.0+MIE_G*MIE_G)*pow(1.0+MIE_G*MIE_G-2.0*MIE_G*cos_angle,1.5));}vec2 density_to_atmosphere(vec3 point,vec3 light_dir) {float ray_len=ray_sphere_exit(point,light_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(DENSITY_STEPS);vec2 density_point_to_atmosphere=vec2(0.0);for (int i=0; i < DENSITY_STEPS;++i) {vec3 point_on_ray=point+light_dir*((float(i)+0.5)*step_len);density_point_to_atmosphere+=local_density(point_on_ray)*step_len;;}return density_point_to_atmosphere;}vec3 atmosphere(vec3 ray_dir,vec3 sun_direction,float sun_intensity) {vec2 density_orig_to_point=vec2(0.0);vec3 scatter_r=vec3(0.0);vec3 scatter_m=vec3(0.0);vec3 origin=vec3(0.0,PLANET_RADIUS,0.0);float ray_len=ray_sphere_exit(origin,ray_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(SAMPLE_STEPS);for (int i=0; i < SAMPLE_STEPS;++i) {vec3 point_on_ray=origin+ray_dir*((float(i)+0.5)*step_len);vec2 density=local_density(point_on_ray)*step_len;density_orig_to_point+=density;vec2 density_point_to_atmosphere=density_to_atmosphere(point_on_ray,sun_direction);vec2 density_orig_to_atmosphere=density_orig_to_point+density_point_to_atmosphere;vec3 extinction=extinction(density_orig_to_atmosphere);scatter_r+=density.x*extinction;scatter_m+=density.y*extinction;}float cos_angle=dot(ray_dir,sun_direction);float phase_r=phase_ray(cos_angle);float phase_m=phase_mie(cos_angle);vec3 beta_r=BETA_R*u_color_tint_r.rgb*u_color_tint_r.a;vec3 beta_m=BETA_M*u_color_tint_m.rgb*u_color_tint_m.a;return (scatter_r*phase_r*beta_r+scatter_m*phase_m*beta_m)*sun_intensity;}const float A=0.15;const float B=0.50;const float C=0.10;const float D=0.20;const float E=0.02;const float F=0.30;vec3 uncharted2_tonemap(vec3 x) {return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;}void main() {vec3 ray_direction=v_position;ray_direction.y=pow(ray_direction.y,5.0);const float y_bias=0.015;ray_direction.y+=y_bias;vec3 color=atmosphere(normalize(ray_direction),u_sun_direction,u_sun_intensity);float white_scale=1.0748724675633854;color=uncharted2_tonemap((log2(2.0/pow(u_luminance,4.0)))*color)*white_scale;gl_FragColor=vec4(color,1.0);}\",\"attribute highp vec3 a_pos_3f;uniform mat3 u_matrix_3f;varying highp vec3 v_position;float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec4 pos=vec4(u_matrix_3f*a_pos_3f,1.0);v_position=pos.xyz;v_position.y*=-1.0;v_position.y=map(v_position.y,-1.0,1.0,0.0,1.0);gl_Position=vec4(a_pos_3f.xy,0.0,1.0);}\"),globeRaster:pi(\"uniform sampler2D u_image0;varying vec2 v_pos0;\\n#ifndef FOG\\nuniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform vec2 u_viewport;\\n#endif\\nvoid main() {\\n#ifdef CUSTOM_ANTIALIASING\\nvec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(\\nmix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);vec3 dir=normalize(ray_dir);vec3 closest_point=dot(u_globe_pos,dir)*dir;float norm_dist_from_center=1.0-length(closest_point-u_globe_pos)/u_globe_radius;const float antialias_pixel=2.0;float antialias_factor=antialias_pixel*fwidth(norm_dist_from_center);float antialias=smoothstep(0.0,antialias_factor,norm_dist_from_center);vec4 raster=texture2D(u_image0,v_pos0);vec4 color=vec4(raster.rgb*antialias,raster.a*antialias);\\n#else\\nvec4 color=texture2D(u_image0,v_pos0);\\n#endif\\n#ifdef FOG\\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\\n#endif\\ngl_FragColor=color;\\n#ifdef TERRAIN_WIREFRAME\\ngl_FragColor=vec4(1.0,0.0,0.0,0.8);\\n#endif\\n#ifdef OVERDRAW_INSPECTOR\\ngl_FragColor=vec4(1.0);\\n#endif\\n}\",\"uniform mat4 u_proj_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform float u_zoom_transition;uniform vec2 u_merc_center;uniform mat3 u_grid_matrix;\\n#ifdef GLOBE_POLES\\nattribute vec3 a_globe_pos;attribute vec2 a_uv;\\n#else\\nattribute vec2 a_pos;\\n#endif\\nvarying vec2 v_pos0;const float wireframeOffset=1e3;float mercatorXfromLng(float lng) {return (180.0+lng)/360.0;}float mercatorYfromLat(float lat) {return (180.0-(RAD_TO_DEG*log(tan(QUARTER_PI+lat/2.0*DEG_TO_RAD))))/360.0;}vec3 latLngToECEF(vec2 latLng) {latLng=DEG_TO_RAD*latLng;float cosLat=cos(latLng[0]);float sinLat=sin(latLng[0]);float cosLng=cos(latLng[1]);float sinLng=sin(latLng[1]);float sx=cosLat*sinLng*GLOBE_RADIUS;float sy=-sinLat*GLOBE_RADIUS;float sz=cosLat*cosLng*GLOBE_RADIUS;return vec3(sx,sy,sz);}void main() {\\n#ifdef GLOBE_POLES\\nvec3 globe_pos=a_globe_pos;vec2 uv=a_uv;\\n#else\\nfloat tiles=u_grid_matrix[0][2];float idy=u_grid_matrix[1][2];float S=u_grid_matrix[2][2];vec3 latLng=u_grid_matrix*vec3(a_pos,1.0);float mercatorY=mercatorYfromLat(latLng[0]);float uvY=mercatorY*tiles-idy;float mercatorX=mercatorXfromLng(latLng[1]);float uvX=a_pos[0]*S;vec3 globe_pos=latLngToECEF(latLng.xy);vec2 merc_pos=vec2(mercatorX,mercatorY);vec2 uv=vec2(uvX,uvY);\\n#endif\\nv_pos0=uv;vec2 tile_pos=uv*EXTENT;\\n#ifdef GLOBE_POLES\\nvec3 up_vector=normalize(globe_pos)*u_tile_up_scale;\\n#else\\nvec3 up_vector=elevationVector(tile_pos);\\n#endif\\nfloat height=elevation(tile_pos);\\n#ifdef TERRAIN_WIREFRAME\\nheight+=wireframeOffset;\\n#endif\\nglobe_pos+=up_vector*height;\\n#ifdef GLOBE_POLES\\nvec4 interpolated_pos=u_globe_matrix*vec4(globe_pos,1.0);\\n#else\\nvec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);if (u_zoom_transition > 0.0) {merc_world_pos=vec4(merc_pos,height,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition),1.0);\\n#endif\\ngl_Position=u_proj_matrix*interpolated_pos;\\n#ifdef FOG\\nv_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);\\n#endif\\n}\"),globeAtmosphere:pi(\"uniform float u_transition;uniform highp float u_fadeout_range;uniform highp float u_temporal_offset;uniform vec3 u_start_color;uniform vec4 u_color;uniform vec4 u_space_color;uniform vec4 u_high_color;uniform float u_star_intensity;uniform float u_star_size;uniform float u_star_density;uniform float u_horizon_angle;uniform mat4 u_rotation_matrix;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;highp float random(highp vec3 p) {p=fract(p*vec3(23.2342,97.1231,91.2342));p+=dot(p.zxy,p.yxz+123.1234);return fract(p.x*p.y);}float stars(vec3 p,float scale,vec2 offset) {vec2 uv_scale=(u_viewport/u_star_size)*scale;vec3 position=vec3(p.xy*uv_scale+offset*u_viewport,p.z);vec3 q=fract(position)-0.5;vec3 id=floor(position);float random_visibility=step(random(id),u_star_density);float circle=smoothstep(0.5+u_star_intensity,0.5,length(q));return circle*random_visibility;}void main() {highp vec3 dir=normalize(v_ray_dir);\\n#ifdef PROJECTION_GLOBE_VIEW\\nfloat globe_pos_dot_dir=dot(u_globe_pos,dir);highp vec3 closest_point_forward=abs(globe_pos_dot_dir)*dir;float norm_dist_from_center=length(closest_point_forward-u_globe_pos)/u_globe_radius;if (norm_dist_from_center < 0.98) {discard;return;}\\n#endif\\nhighp vec3 horizon_dir=normalize(v_horizon_dir);float horizon_angle_mercator=dir.y < horizon_dir.y ?\\n0.0 : max(acos(dot(dir,horizon_dir)),0.0);\\n#ifdef PROJECTION_GLOBE_VIEW\\nhighp vec3 closest_point=globe_pos_dot_dir*dir;float closest_point_to_center=length(closest_point-u_globe_pos);float theta=asin(clamp(closest_point_to_center/length(u_globe_pos),-1.0,1.0));float horizon_angle=globe_pos_dot_dir < 0.0 ?\\nPI-theta-u_horizon_angle : theta-u_horizon_angle;float angle_t=pow(u_transition,10.0);horizon_angle=mix(horizon_angle,horizon_angle_mercator,angle_t);\\n#else\\nfloat horizon_angle=horizon_angle_mercator;\\n#endif\\nhorizon_angle/=PI;float t=exp(-horizon_angle/u_fadeout_range);float alpha_0=u_color.a;float alpha_1=u_high_color.a;float alpha_2=u_space_color.a;vec3 color_stop_0=u_color.rgb;vec3 color_stop_1=u_high_color.rgb;vec3 color_stop_2=u_space_color.rgb;vec3 c0=mix(color_stop_2,color_stop_1,alpha_1);vec3 c1=mix(c0,color_stop_0,alpha_0);vec3 c2=mix(c0,c1,t);vec3 c =mix(color_stop_2,c2,t);float a0=mix(alpha_2,1.0,alpha_1);float a1=mix(a0,1.0,alpha_0);float a2=mix(a0,a1,t);float a =mix(alpha_2,a2,t);vec2 uv=gl_FragCoord.xy/u_viewport-0.5;float aspect_ratio=u_viewport.x/u_viewport.y;vec4 uv_dir=vec4(normalize(vec3(uv.x*aspect_ratio,uv.y,1.0)),1.0);uv_dir=u_rotation_matrix*uv_dir;vec3 n=abs(uv_dir.xyz);vec2 uv_remap=(n.x > n.y && n.x > n.z) ? uv_dir.yz/uv_dir.x:\\n(n.y > n.x && n.y > n.z) ? uv_dir.zx/uv_dir.y:\\nuv_dir.xy/uv_dir.z;uv_remap.x/=aspect_ratio;vec3 D=vec3(uv_remap,1.0);highp float star_field=0.0;if (u_star_intensity > 0.0) {star_field+=stars(D,1.2,vec2(0.0,0.0));star_field+=stars(D,1.0,vec2(1.0,0.0));star_field+=stars(D,0.8,vec2(0.0,1.0));star_field+=stars(D,0.6,vec2(1.0,1.0));star_field*=(1.0-pow(t,0.25+(1.0-u_high_color.a)*0.75));c+=star_field*alpha_2;}c=dither(c,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=vec4(c,a);}\",\"attribute vec3 a_pos;attribute vec2 a_uv;uniform vec3 u_frustum_tl;uniform vec3 u_frustum_tr;uniform vec3 u_frustum_br;uniform vec3 u_frustum_bl;uniform float u_horizon;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;void main() {v_ray_dir=mix(\\nmix(u_frustum_tl,u_frustum_tr,a_uv.x),mix(u_frustum_bl,u_frustum_br,a_uv.x),a_uv.y);v_horizon_dir=mix(\\nmix(u_frustum_tl,u_frustum_bl,u_horizon),mix(u_frustum_tr,u_frustum_br,u_horizon),a_uv.x);gl_Position=vec4(a_pos,1.0);}\")};function di(e,t){const i=e.replace(/\\s*\\/\\/[^\\n]*\\n/g,\"\\n\").split(\"\\n\");for(let e of i)if(e=e.trim(),\"#\"===e[0]&&e.includes(\"if\")&&!e.includes(\"endif\")){e=e.replace(\"#\",\"\").replace(/ifdef|ifndef|elif|if/g,\"\").replace(/!|defined|\\(|\\)|\\|\\||&&/g,\"\").replace(/\\s+/g,\" \").trim();const i=e.split(\" \");for(const e of i)t.includes(e)||t.push(e);}}function pi(e,t){const i=/#pragma mapbox: ([\\w]+) ([\\w]+) ([\\w]+) ([\\w]+)/g,o=t.match(/attribute (highp |mediump |lowp )?([\\w]+) ([\\w]+)/g),r={},n=[...li];return di(e,n),di(t,n),{fragmentSource:e=e.replace(i,((e,t,i,o,n)=>(r[n]=!0,\"define\"===t?`\\n#ifndef HAS_UNIFORM_u_${n}\\nvarying ${i} ${o} ${n};\\n#else\\nuniform ${i} ${o} u_${n};\\n#endif\\n`:`\\n#ifdef HAS_UNIFORM_u_${n}\\n    ${i} ${o} ${n} = u_${n};\\n#endif\\n`))),vertexSource:t=t.replace(i,((e,t,i,o,n)=>{const a=\"float\"===o?\"vec2\":\"vec4\",s=n.match(/color/)?\"color\":a;return r[n]?\"define\"===t?`\\n#ifndef HAS_UNIFORM_u_${n}\\nuniform lowp float u_${n}_t;\\nattribute ${i} ${a} a_${n};\\nvarying ${i} ${o} ${n};\\n#else\\nuniform ${i} ${o} u_${n};\\n#endif\\n`:\"vec4\"===s?`\\n#ifndef HAS_UNIFORM_u_${n}\\n    ${n} = a_${n};\\n#else\\n    ${i} ${o} ${n} = u_${n};\\n#endif\\n`:`\\n#ifndef HAS_UNIFORM_u_${n}\\n    ${n} = unpack_mix_${s}(a_${n}, u_${n}_t);\\n#else\\n    ${i} ${o} ${n} = u_${n};\\n#endif\\n`:\"define\"===t?`\\n#ifndef HAS_UNIFORM_u_${n}\\nuniform lowp float u_${n}_t;\\nattribute ${i} ${a} a_${n};\\n#else\\nuniform ${i} ${o} u_${n};\\n#endif\\n`:\"vec4\"===s?`\\n#ifndef HAS_UNIFORM_u_${n}\\n    ${i} ${o} ${n} = a_${n};\\n#else\\n    ${i} ${o} ${n} = u_${n};\\n#endif\\n`:`\\n#ifndef HAS_UNIFORM_u_${n}\\n    ${i} ${o} ${n} = unpack_mix_${s}(a_${n}, u_${n}_t);\\n#else\\n    ${i} ${o} ${n} = u_${n};\\n#endif\\n`})),staticAttributes:o,usedDefines:n}}class mi{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffers=[],this.vao=null;}bind(e,t,i,o,r,n,a){this.context=e;let s=this.boundPaintVertexBuffers.length!==o.length;for(let e=0;!s&&e<o.length;e++)this.boundPaintVertexBuffers[e]!==o[e]&&(s=!0);let l=this.boundDynamicVertexBuffers.length!==a.length;for(let e=0;!l&&e<a.length;e++)this.boundDynamicVertexBuffers[e]!==a[e]&&(l=!0);if(!e.extVertexArrayObject||!this.vao||this.boundProgram!==t||this.boundLayoutVertexBuffer!==i||s||l||this.boundIndexBuffer!==r||this.boundVertexOffset!==n)this.freshBind(t,i,o,r,n,a);else {e.bindVertexArrayOES.set(this.vao);for(const e of a)e&&e.bind();r&&r.dynamicDraw&&r.bind();}}freshBind(e,t,i,o,r,n){let a;const s=e.numAttributes,l=this.context,c=l.gl;if(l.extVertexArrayObject)this.vao&&this.destroy(),this.vao=l.extVertexArrayObject.createVertexArrayOES(),l.bindVertexArrayOES.set(this.vao),a=0,this.boundProgram=e,this.boundLayoutVertexBuffer=t,this.boundPaintVertexBuffers=i,this.boundIndexBuffer=o,this.boundVertexOffset=r,this.boundDynamicVertexBuffers=n;else {a=l.currentNumAttributes||0;for(let e=s;e<a;e++)c.disableVertexAttribArray(e);}t.enableAttributes(c,e),t.bind(),t.setVertexAttribPointers(c,e,r);for(const t of i)t.enableAttributes(c,e),t.bind(),t.setVertexAttribPointers(c,e,r);for(const t of n)t&&(t.enableAttributes(c,e),t.bind(),t.setVertexAttribPointers(c,e,r));o&&o.bind(),l.currentNumAttributes=s;}destroy(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null);}}function fi(t,i){const o=Math.pow(2,i.canonical.z),r=i.canonical.y;return [new e.MercatorCoordinate(0,r/o).toLngLat().lat,new e.MercatorCoordinate(0,(r+1)/o).toLngLat().lat]}function gi(t,i,o,r,n,a,s){const l=t.context,c=l.gl,h=o.fbo;if(!h)return;t.prepareDrawTile();const u=t.useProgram(\"hillshade\");l.activeTexture.set(c.TEXTURE0),c.bindTexture(c.TEXTURE_2D,h.colorAttachment.get());const _=((e,t,i,o)=>{const r=i.paint.get(\"hillshade-shadow-color\"),n=i.paint.get(\"hillshade-highlight-color\"),a=i.paint.get(\"hillshade-accent-color\");let s=i.paint.get(\"hillshade-illumination-direction\")*(Math.PI/180);\"viewport\"===i.paint.get(\"hillshade-illumination-anchor\")&&(s-=e.transform.angle);const l=!e.options.moving;return {u_matrix:o||e.transform.calculateProjMatrix(t.tileID.toUnwrapped(),l),u_image:0,u_latrange:fi(0,t.tileID),u_light:[i.paint.get(\"hillshade-exaggeration\"),s],u_shadow:r,u_highlight:n,u_accent:a}})(t,o,r,t.terrain?i.projMatrix:null);t.prepareDrawProgram(l,u,i.toUnwrapped());const{tileBoundsBuffer:d,tileBoundsIndexBuffer:p,tileBoundsSegments:m}=t.getTileBoundsBuffers(o);u.draw(l,c.TRIANGLES,n,a,s,e.CullFaceMode.disabled,_,r.id,d,p,m);}function vi(t,i,o){if(!i.needsDEMTextureUpload)return;const r=t.context,n=r.gl;r.pixelStoreUnpackPremultiplyAlpha.set(!1),i.demTexture=i.demTexture||t.getTileTexture(o.stride);const a=o.getPixels();i.demTexture?i.demTexture.update(a,{premultiply:!1}):i.demTexture=new e.Texture(r,a,n.RGBA,{premultiply:!1}),i.needsDEMTextureUpload=!1;}function xi(t,i,o,r,n,a){const s=t.context,l=s.gl;if(!i.dem)return;const c=i.dem;if(s.activeTexture.set(l.TEXTURE1),vi(t,i,c),!i.demTexture)return;i.demTexture.bind(l.NEAREST,l.CLAMP_TO_EDGE);const h=c.dim;s.activeTexture.set(l.TEXTURE0);let u=i.fbo;if(!u){const t=new e.Texture(s,{width:h,height:h,data:null},l.RGBA);t.bind(l.LINEAR,l.CLAMP_TO_EDGE),u=i.fbo=s.createFramebuffer(h,h,!0),u.colorAttachment.set(t.texture);}s.bindFramebuffer.set(u.framebuffer),s.viewport.set([0,0,h,h]);const{tileBoundsBuffer:_,tileBoundsIndexBuffer:d,tileBoundsSegments:p}=t.getMercatorTileBoundsBuffers();t.useProgram(\"hillshadePrepare\").draw(s,l.TRIANGLES,r,n,a,e.CullFaceMode.disabled,((t,i)=>{const o=i.stride,r=e.create();return e.ortho(r,0,e.EXTENT,-e.EXTENT,0,0,1),e.translate(r,r,[0,-e.EXTENT,0]),{u_matrix:r,u_image:1,u_dimension:[o,o],u_zoom:t.overscaledZ,u_unpack:i.unpackVector}})(i.tileID,c),o.id,_,d,p),i.needsHillshadePrepare=!1;}const yi=t=>({u_matrix:new e.UniformMatrix4f(t),u_image0:new e.Uniform1i(t),u_skirt_height:new e.Uniform1f(t)}),bi=(e,t)=>({u_matrix:e,u_image0:0,u_skirt_height:t}),wi=(e,t,i,o,r,n,a,s,l,c,h,u,_,d)=>({u_proj_matrix:Float32Array.from(e),u_globe_matrix:t,u_normalize_matrix:Float32Array.from(o),u_merc_matrix:i,u_zoom_transition:r,u_merc_center:n,u_image0:0,u_frustum_tl:a,u_frustum_tr:s,u_frustum_br:l,u_frustum_bl:c,u_globe_pos:h,u_globe_radius:u,u_viewport:_,u_grid_matrix:d?Float32Array.from(d):new Float32Array(9)});function Ti(e,t){return null!=e&&null!=t&&!(!e.hasData()||!t.hasData())&&null!=e.demTexture&&null!=t.demTexture&&e.tileID.key!==t.tileID.key}const Ei=new class{constructor(){this.operations={};}newMorphing(e,t,i,o,r){if(e in this.operations){const t=this.operations[e];t.to.tileID.key!==i.tileID.key&&(t.queued=i);}else this.operations[e]={startTime:o,phase:0,duration:r,from:t,to:i,queued:null};}getMorphValuesForProxy(e){if(!(e in this.operations))return null;const t=this.operations[e];return {from:t.from,to:t.to,phase:t.phase}}update(e){for(const t in this.operations){const i=this.operations[t];for(i.phase=(e-i.startTime)/i.duration;i.phase>=1||!this._validOp(i);)if(!this._nextOp(i,e)){delete this.operations[t];break}}}_nextOp(e,t){return !!e.queued&&(e.from=e.to,e.to=e.queued,e.queued=null,e.phase=0,e.startTime=t,!0)}_validOp(e){return e.from.hasData()&&e.to.hasData()}},Ci={0:null,1:\"TERRAIN_VERTEX_MORPHING\",2:\"TERRAIN_WIREFRAME\"};function Ii(e,t){const i=1<<e.z;return !t&&(0===e.x||e.x===i-1)||0===e.y||e.y===i-1}const Mi=e=>({u_matrix:e});function Si(t,i,o,r,n){if(n>0){const a=e.exported.now(),s=(a-t.timeAdded)/n,l=i?(a-i.timeAdded)/n:-1,c=o.getSource(),h=r.coveringZoomLevel({tileSize:c.tileSize,roundZoom:c.roundZoom}),u=!i||Math.abs(i.tileID.overscaledZ-h)>Math.abs(t.tileID.overscaledZ-h),_=u&&t.refreshedUponExpiration?1:e.clamp(u?s:1-l,0,1);return t.refreshedUponExpiration&&s>=1&&(t.refreshedUponExpiration=!1),i?{opacity:1,mix:1-_}:{opacity:_,mix:0}}return {opacity:1,mix:0}}class zi extends e.SourceCache{constructor(e){const t={type:\"raster-dem\",maxzoom:e.transform.maxZoom},i=new A(Ge(),null),o=Ae(\"mock-dem\",t,i,e.style);super(\"mock-dem\",o,!1),o.setEventedParent(this),this._sourceLoaded=!0;}_loadTile(e,t){e.state=\"loaded\",t(null);}}class Di extends e.SourceCache{constructor(e){const t=Ae(\"proxy\",{type:\"geojson\",maxzoom:e.transform.maxZoom},new A(Ge(),null),e.style);super(\"proxy\",t,!1),t.setEventedParent(this),this.map=this.getSource().map=e,this.used=this._sourceLoaded=!0,this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={};}update(t,i,o){if(t.freezeTileCoverage)return;this.transform=t;const r=t.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}).reduce(((i,o)=>{if(i[o.key]=\"\",!this._tiles[o.key]){const i=new e.Tile(o,this._source.tileSize*o.overscaleFactor(),t.tileZoom);i.state=\"loaded\",this._tiles[o.key]=i;}return i}),{});for(const e in this._tiles)e in r||(this.freeFBO(e),this._tiles[e].unloadVectorData(),delete this._tiles[e]);}freeFBO(e){const t=this.proxyCachedFBO[e];if(void 0!==t){const i=Object.values(t);this.renderCachePool.push(...i),delete this.proxyCachedFBO[e];}}deallocRenderCache(){this.renderCache.forEach((e=>e.fb.destroy())),this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={};}}class Pi extends e.OverscaledTileID{constructor(e,t,i){super(e.overscaledZ,e.wrap,e.canonical.z,e.canonical.x,e.canonical.y),this.proxyTileKey=t,this.projMatrix=i;}}class Ai extends e.Elevation{constructor(t,i){super(),this.painter=t,this.terrainTileForTile={},this.prevTerrainTileForTile={};const[o,r,n]=function(t){const i=new e.StructArrayLayout4i8,o=new e.StructArrayLayout3ui6,r=131;i.reserve(17161),o.reserve(33800);const n=e.EXTENT/128,a=e.EXTENT+n/2,s=a+n;for(let t=-n;t<s;t+=n)for(let o=-n;o<s;o+=n){const r=o<0||o>a||t<0||t>a?24575:0,n=e.clamp(Math.round(o),0,e.EXTENT),s=e.clamp(Math.round(t),0,e.EXTENT);i.emplaceBack(n+r,s,n,s);}const l=(e,t)=>{const i=t*r+e;o.emplaceBack(i+1,i,i+r),o.emplaceBack(i+r,i+r+1,i+1);};for(let e=1;e<129;e++)for(let t=1;t<129;t++)l(t,e);return [0,129].forEach((e=>{for(let t=0;t<130;t++)l(t,e),l(e,t);})),[i,o,32768]}(),a=t.context;this.gridBuffer=a.createVertexBuffer(o,e.boundsAttributes.members),this.gridIndexBuffer=a.createIndexBuffer(r),this.gridSegments=e.SegmentVector.simpleSegment(0,0,o.length,r.length),this.gridNoSkirtSegments=e.SegmentVector.simpleSegment(0,0,o.length,n),this.proxyCoords=[],this.proxiedCoords={},this._visibleDemTiles=[],this._drapedRenderBatches=[],this._sourceTilesOverlap={},this.proxySourceCache=new Di(i.map),this.orthoMatrix=e.create(),e.ortho(this.orthoMatrix,0,e.EXTENT,0,e.EXTENT,0,1);const s=a.gl;this._overlapStencilMode=new e.StencilMode({func:s.GEQUAL,mask:255},0,255,s.KEEP,s.KEEP,s.REPLACE),this._previousZoom=t.transform.zoom,this.pool=[],this._findCoveringTileCache={},this._tilesDirty={},this.style=i,this._useVertexMorphing=!0,this._exaggeration=1,this._mockSourceCache=new zi(i.map);}set style(e){e.on(\"data\",this._onStyleDataEvent.bind(this)),e.on(\"neworder\",this._checkRenderCacheEfficiency.bind(this)),this._style=e,this._checkRenderCacheEfficiency();}update(t,i,o){if(t&&t.terrain){this._style!==t&&(this.style=t),this.enabled=!0;const r=t.terrain.properties;this.sourceCache=0===t.terrain.drapeRenderMode?this._mockSourceCache:t._getSourceCache(r.get(\"source\")),this._exaggeration=r.get(\"exaggeration\");const n=()=>{this.sourceCache.used&&e.warnOnce(`Raster DEM source '${this.sourceCache.id}' is used both for terrain and as layer source.\\nThis leads to lower resolution of hillshade. For full hillshade resolution but higher memory consumption, define another raster DEM source.`);const t=this.getScaledDemTileSize();this.sourceCache.update(i,t,!0),this.resetTileLookupCache(this.sourceCache.id);};this.sourceCache.usedForTerrain||(this.resetTileLookupCache(this.sourceCache.id),this.sourceCache.usedForTerrain=!0,n(),this._initializing=!0),n(),i.updateElevation(!o),this.resetTileLookupCache(this.proxySourceCache.id),this.proxySourceCache.update(i),this._emptyDEMTextureDirty=!0;}else this._disable();}resetTileLookupCache(e){this._findCoveringTileCache[e]={};}getScaledDemTileSize(){return this.sourceCache.getSource().tileSize/128*this.proxySourceCache.getSource().tileSize}_checkRenderCacheEfficiency(){const t=this.renderCacheEfficiency(this._style);this._style.map._optimizeForTerrain||100!==t.efficiency&&e.warnOnce(`Terrain render cache efficiency is not optimal (${t.efficiency}%) and performance\\n                may be affected negatively, consider placing all background, fill and line layers before layer\\n                with id '${t.firstUndrapedLayer}' or create a map using optimizeForTerrain: true option.`);}_onStyleDataEvent(e){e.coord&&\"source\"===e.dataType?this._clearRenderCacheForTile(e.sourceCacheId,e.coord):\"style\"===e.dataType&&(this._invalidateRenderCache=!0);}_disable(){if(this.enabled&&(this.enabled=!1,this._sharedDepthStencil=void 0,this.proxySourceCache.deallocRenderCache(),this._style))for(const e in this._style._sourceCaches)this._style._sourceCaches[e].usedForTerrain=!1;}destroy(){this._disable(),this._emptyDEMTexture&&this._emptyDEMTexture.destroy(),this._emptyDepthBufferTexture&&this._emptyDepthBufferTexture.destroy(),this.pool.forEach((e=>e.fb.destroy())),this.pool=[],this._depthFBO&&(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0);}_source(){return this.enabled?this.sourceCache:null}exaggeration(){return this._exaggeration}get visibleDemTiles(){return this._visibleDemTiles}get drapeBufferSize(){const e=2*this.proxySourceCache.getSource().tileSize;return [e,e]}set useVertexMorphing(e){this._useVertexMorphing=e;}updateTileBinding(t){if(!this.enabled)return;this.prevTerrainTileForTile=this.terrainTileForTile;const i=this.proxySourceCache,o=this.painter.transform;this._initializing&&(this._initializing=0===o._centerAltitude&&-1===this.getAtPointOrZero(e.MercatorCoordinate.fromLngLat(o.center),-1),this._emptyDEMTextureDirty=!this._initializing);const r=this.proxyCoords=i.getIds().map((e=>{const t=i.getTileByID(e).tileID;return t.projMatrix=o.calculateProjMatrix(t.toUnwrapped()),t}));!function(t,i){const o=i.transform.pointCoordinate(i.transform.getCameraPoint()),r=new e.pointGeometry(o.x,o.y);t.sort(((t,i)=>{if(i.overscaledZ-t.overscaledZ)return i.overscaledZ-t.overscaledZ;const o=new e.pointGeometry(t.canonical.x+(1<<t.canonical.z)*t.wrap,t.canonical.y),n=new e.pointGeometry(i.canonical.x+(1<<i.canonical.z)*i.wrap,i.canonical.y),a=r.mult(1<<t.canonical.z);return a.x-=.5,a.y-=.5,a.distSqr(o)-a.distSqr(n)}));}(r,this.painter),this._previousZoom=o.zoom;const n=this.proxyToSource||{};this.proxyToSource={},r.forEach((e=>{this.proxyToSource[e.key]={};})),this.terrainTileForTile={};const a=this._style._sourceCaches;for(const e in a){const i=a[e];if(!i.used)continue;if(i!==this.sourceCache&&this.resetTileLookupCache(i.id),this._setupProxiedCoordsForOrtho(i,t[e],n),i.usedForTerrain)continue;const o=t[e];i.getSource().reparseOverscaled&&this._assignTerrainTiles(o);}this.proxiedCoords[i.id]=r.map((e=>new Pi(e,e.key,this.orthoMatrix))),this._assignTerrainTiles(r),this._prepareDEMTextures(),this._setupDrapedRenderBatches(),this._initFBOPool(),this._setupRenderCache(n),this.renderingToTexture=!1,this._updateTimestamp=e.exported.now();const s={};this._visibleDemTiles=[];for(const e of this.proxyCoords){const t=this.terrainTileForTile[e.key];if(!t)continue;const i=t.tileID.key;i in s||(this._visibleDemTiles.push(t),s[i]=i);}}_assignTerrainTiles(e){this._initializing||e.forEach((e=>{if(this.terrainTileForTile[e.key])return;const t=this._findTileCoveringTileID(e,this.sourceCache);t&&(this.terrainTileForTile[e.key]=t);}));}_prepareDEMTextures(){const e=this.painter.context,t=e.gl;for(const i in this.terrainTileForTile){const o=this.terrainTileForTile[i],r=o.dem;!r||o.demTexture&&!o.needsDEMTextureUpload||(e.activeTexture.set(t.TEXTURE1),vi(this.painter,o,r));}}_prepareDemTileUniforms(e,t,i,o){if(!t||null==t.demTexture)return !1;const r=e.tileID.canonical,n=Math.pow(2,t.tileID.canonical.z-r.z),a=o||\"\";return i[`u_dem_tl${a}`]=[r.x*n%1,r.y*n%1],i[`u_dem_scale${a}`]=n,!0}get emptyDEMTexture(){return !this._emptyDEMTextureDirty&&this._emptyDEMTexture?this._emptyDEMTexture:this._updateEmptyDEMTexture()}get emptyDepthBufferTexture(){const t=this.painter.context,i=t.gl;if(!this._emptyDepthBufferTexture){const o=new e.RGBAImage({width:1,height:1},Uint8Array.of(255,255,255,255));this._emptyDepthBufferTexture=new e.Texture(t,o,i.RGBA,{premultiply:!1});}return this._emptyDepthBufferTexture}_getLoadedAreaMinimum(){let e=0;const t=this._visibleDemTiles.reduce(((t,i)=>{if(!i.dem)return t;const o=i.dem.tree.minimums[0];return o>0&&e++,t+o}),0);return e?t/e:0}_updateEmptyDEMTexture(){const t=this.painter.context,i=t.gl;t.activeTexture.set(i.TEXTURE2);const o=this._getLoadedAreaMinimum(),r=new e.RGBAImage({width:1,height:1},new Uint8Array(e.DEMData.pack(o,this.sourceCache.getSource().encoding)));this._emptyDEMTextureDirty=!1;let n=this._emptyDEMTexture;return n?n.update(r,{premultiply:!1}):n=this._emptyDEMTexture=new e.Texture(t,r,i.RGBA,{premultiply:!1}),n}setupElevationDraw(t,i,o){const r=this.painter.context,n=r.gl,a=(s=this.sourceCache.getSource().encoding,{u_dem:2,u_dem_prev:4,u_dem_unpack:e.DEMData.getUnpackVector(s),u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_exaggeration:0,u_tile_tl_up:[0,0,1],u_tile_tr_up:[0,0,1],u_tile_br_up:[0,0,1],u_tile_bl_up:[0,0,1],u_tile_up_scale:1});var s;a.u_dem_size=this.sourceCache.getSource().tileSize,a.u_exaggeration=this.exaggeration();const l=this.painter.transform,c=l.projection,h=t.tileID.canonical;a.u_tile_tl_up=c.upVector(h,0,0),a.u_tile_tr_up=c.upVector(h,e.EXTENT,0),a.u_tile_br_up=c.upVector(h,e.EXTENT,e.EXTENT),a.u_tile_bl_up=c.upVector(h,0,e.EXTENT),a.u_tile_up_scale=o&&o.useDenormalizedUpVectorScale?e.GLOBE_METERS_TO_ECEF:c.upVectorScale(h,l.center.lat,l.worldSize).metersToTile;let u=null,_=null,d=1;if(o&&o.morphing&&this._useVertexMorphing){const e=o.morphing.srcDemTile,i=o.morphing.dstDemTile;d=o.morphing.phase,e&&i&&(this._prepareDemTileUniforms(t,e,a,\"_prev\")&&(_=e),this._prepareDemTileUniforms(t,i,a)&&(u=i));}if(_&&u?(r.activeTexture.set(n.TEXTURE2),u.demTexture.bind(n.NEAREST,n.CLAMP_TO_EDGE,n.NEAREST),r.activeTexture.set(n.TEXTURE4),_.demTexture.bind(n.NEAREST,n.CLAMP_TO_EDGE,n.NEAREST),a.u_dem_lerp=d):(u=this.terrainTileForTile[t.tileID.key],r.activeTexture.set(n.TEXTURE2),(this._prepareDemTileUniforms(t,u,a)?u.demTexture:this.emptyDEMTexture).bind(n.NEAREST,n.CLAMP_TO_EDGE)),r.activeTexture.set(n.TEXTURE3),o&&o.useDepthForOcclusion?(this._depthTexture&&this._depthTexture.bind(n.NEAREST,n.CLAMP_TO_EDGE),this._depthFBO&&(a.u_depth_size_inv=[1/this._depthFBO.width,1/this._depthFBO.height])):(this.emptyDepthBufferTexture.bind(n.NEAREST,n.CLAMP_TO_EDGE),a.u_depth_size_inv=[1,1]),o&&o.useMeterToDem&&u){const t=(1<<u.tileID.canonical.z)*e.mercatorZfromAltitude(1,this.painter.transform.center.lat)*this.sourceCache.getSource().tileSize;a.u_meter_to_dem=t;}o&&o.labelPlaneMatrixInv&&(a.u_label_plane_matrix_inv=o.labelPlaneMatrixInv),i.setTerrainUniformValues(r,a);}renderToBackBuffer(t){const i=this.painter,o=this.painter.context;0!==t.length&&(o.bindFramebuffer.set(null),o.viewport.set([0,0,i.width,i.height]),i.gpuTimingDeferredRenderStart(),this.renderingToTexture=!1,function(t,i,o,r,n){if(\"globe\"===t.transform.projection.name)!function(t,i,o,r,n){const a=t.context,s=a.gl;let l,c;const h=t.options.showTerrainWireframe?2:0,u=t.transform,_=e.globeUseCustomAntiAliasing(t,a,u),d=(e,i)=>{if(c===e)return;const o=[Ci[e],\"PROJECTION_GLOBE_VIEW\"];_&&o.push(\"CUSTOM_ANTIALIASING\"),i&&o.push(Ci[h]),l=t.useProgram(\"globeRaster\",null,o),c=e;},p=t.colorModeForRenderPass(),m=new e.DepthMode(s.LEQUAL,e.DepthMode.ReadWrite,t.depthRangeFor3D);Ei.update(n);const f=e.calculateGlobeMercatorMatrix(u),g=[e.mercatorXfromLng(u.center.lng),e.mercatorYfromLat(u.center.lat)],v=h?[!1,!0]:[!1],x=t.globeSharedBuffers,y=[u.width*e.exported.devicePixelRatio,u.height*e.exported.devicePixelRatio],b=Float32Array.from(u.globeMatrix),w={useDenormalizedUpVectorScale:!0};if(v.forEach((h=>{c=-1;const _=h?s.LINES:s.TRIANGLES;for(const c of r){const r=o.getTile(c),v=e.StencilMode.disabled,T=i.prevTerrainTileForTile[c.key],E=i.terrainTileForTile[c.key];Ti(T,E)&&Ei.newMorphing(c.key,T,E,n,250),a.activeTexture.set(s.TEXTURE0),r.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE);const C=Ei.getMorphValuesForProxy(c.key),I=C?1:0;C&&e.extend$1(w,{morphing:{srcDemTile:C.from,dstDemTile:C.to,phase:e.easeCubicInOut(C.phase)}});const M=e.tileCornersToBounds(c.canonical),S=e.getLatitudinalLod(M.getCenter().lat),z=e.getGridMatrix(c.canonical,M,S),D=e.globeNormalizeECEF(e.globeTileBounds(c.canonical)),P=wi(u.projMatrix,b,f,D,e.globeToMercatorTransition(u.zoom),g,u.frustumCorners.TL,u.frustumCorners.TR,u.frustumCorners.BR,u.frustumCorners.BL,u.globeCenterInViewSpace,u.globeRadius,y,z);if(d(I,h),i.setupElevationDraw(r,l,w),t.prepareDrawProgram(a,l,c.toUnwrapped()),x){const[i,o,r]=h?x.getWirefameBuffers(t.context,S):x.getGridBuffers(S);l.draw(a,_,m,v,p,e.CullFaceMode.backCCW,P,\"globe_raster\",i,o,r);}}})),x){const n=[\"GLOBE_POLES\",\"PROJECTION_GLOBE_VIEW\"];_&&n.push(\"CUSTOM_ANTIALIASING\"),l=t.useProgram(\"globeRaster\",null,n);for(const n of r){const{x:r,y:c,z:h}=n.canonical,_=0===c,d=c===(1<<h)-1,[f,v,b,T]=x.getPoleBuffers(h);if(T&&(_||d)){const c=o.getTile(n);a.activeTexture.set(s.TEXTURE0),c.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE);let x=e.globePoleMatrixForTile(h,r,u);const E=e.globeNormalizeECEF(e.globeTileBounds(n.canonical)),C=(t,i)=>t.draw(a,s.TRIANGLES,m,e.StencilMode.disabled,p,e.CullFaceMode.disabled,wi(u.projMatrix,x,x,E,0,g,u.frustumCorners.TL,u.frustumCorners.TR,u.frustumCorners.BR,u.frustumCorners.BL,u.globeCenterInViewSpace,u.globeRadius,y),\"globe_pole_raster\",i,b,T);i.setupElevationDraw(c,l,w),t.prepareDrawProgram(a,l,n.toUnwrapped()),_&&C(l,f),d&&(x=e.scale(e.create(),x,[1,-1,1]),C(l,v));}}}}(t,i,o,r,n);else {const a=t.context,s=a.gl;let l,c;const h=t.options.showTerrainWireframe?2:0,u=(e,i)=>{if(c===e)return;const o=[Ci[e]];i&&o.push(Ci[h]),l=t.useProgram(\"terrainRaster\",null,o),c=e;},_=t.colorModeForRenderPass(),d=new e.DepthMode(s.LEQUAL,e.DepthMode.ReadWrite,t.depthRangeFor3D);Ei.update(n);const p=t.transform,m=6*Math.pow(1.5,22-p.zoom)*i.exaggeration();(h?[!1,!0]:[!1]).forEach((h=>{c=-1;const f=h?s.LINES:s.TRIANGLES,[g,v]=h?i.getWirefameBuffer():[i.gridIndexBuffer,i.gridSegments];for(const c of r){const r=o.getTile(c),x=e.StencilMode.disabled,y=i.prevTerrainTileForTile[c.key],b=i.terrainTileForTile[c.key];Ti(y,b)&&Ei.newMorphing(c.key,y,b,n,250),a.activeTexture.set(s.TEXTURE0),r.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE,s.LINEAR_MIPMAP_NEAREST);const w=Ei.getMorphValuesForProxy(c.key),T=w?1:0;let E;w&&(E={morphing:{srcDemTile:w.from,dstDemTile:w.to,phase:e.easeCubicInOut(w.phase)}});const C=bi(c.projMatrix,Ii(c.canonical,p.renderWorldCopies)?m/10:m);u(T,h),i.setupElevationDraw(r,l,E),t.prepareDrawProgram(a,l,c.toUnwrapped()),l.draw(a,f,d,x,_,e.CullFaceMode.backCCW,C,\"terrain_raster\",i.gridBuffer,g,v);}}));}}(i,this,this.proxySourceCache,t,this._updateTimestamp),this.renderingToTexture=!0,i.gpuTimingDeferredRenderEnd(),t.splice(0,t.length));}renderBatch(t){if(0===this._drapedRenderBatches.length)return t+1;this.renderingToTexture=!0;const i=this.painter,o=this.painter.context,r=this.proxySourceCache,n=this.proxiedCoords[r.id],a=this._drapedRenderBatches.shift(),s=[],l=i.style.order;let c=0;for(const h of n){const n=r.getTileByID(h.proxyTileKey),u=r.proxyCachedFBO[h.key]?r.proxyCachedFBO[h.key][t]:void 0,_=void 0!==u?r.renderCache[u]:this.pool[c++],d=void 0!==u;if(n.texture=_.tex,d&&!_.dirty){s.push(n.tileID);continue}let p;o.bindFramebuffer.set(_.fb.framebuffer),this.renderedToTile=!1,_.dirty&&(o.clear({color:e.Color.transparent,stencil:0}),_.dirty=!1);for(let e=a.start;e<=a.end;++e){const t=i.style._layers[l[e]];if(t.isHidden(i.transform.zoom))continue;const r=i.style._getLayerSourceCache(t),n=r?this.proxyToSource[h.key][r.id]:[h];if(!n)continue;const a=n;o.viewport.set([0,0,_.fb.width,_.fb.height]),p!==(r?r.id:null)&&(this._setupStencil(_,n,t,r),p=r?r.id:null),i.renderLayer(i,r,t,a);}this.renderedToTile?(_.dirty=!0,s.push(n.tileID)):d||--c,5===c&&(c=0,this.renderToBackBuffer(s));}return this.renderToBackBuffer(s),this.renderingToTexture=!1,o.bindFramebuffer.set(null),o.viewport.set([0,0,i.width,i.height]),a.end+1}postRender(){}renderCacheEfficiency(e){const t=e.order.length;if(0===t)return {efficiency:100};let i,o=0,r=0,n=!1;for(let a=0;a<t;++a){const t=e._layers[e.order[a]];this._style.isLayerDraped(t)?(n&&++o,++r):n||(n=!0,i=t.id);}return 0===r?{efficiency:100}:{efficiency:100*(1-o/r),firstUndrapedLayer:i}}getMinElevationBelowMSL(){let e=0;return this._visibleDemTiles.filter((e=>e.dem)).forEach((t=>{e=Math.min(e,t.dem.tree.minimums[0]);})),0===e?e:(e-30)*this._exaggeration}raycast(e,t,i){if(!this._visibleDemTiles)return null;const o=this._visibleDemTiles.filter((e=>e.dem)).map((o=>{const r=o.tileID,n=1<<r.overscaledZ,{x:a,y:s}=r.canonical,l=a/n,c=(a+1)/n,h=s/n,u=(s+1)/n;return {minx:l,miny:h,maxx:c,maxy:u,t:o.dem.tree.raycastRoot(l,h,c,u,e,t,i),tile:o}}));o.sort(((e,t)=>(null!==e.t?e.t:Number.MAX_VALUE)-(null!==t.t?t.t:Number.MAX_VALUE)));for(const r of o){if(null==r.t)return null;const o=r.tile.dem.tree.raycast(r.minx,r.miny,r.maxx,r.maxy,e,t,i);if(null!=o)return o}return null}_createFBO(){const t=this.painter.context,i=t.gl,o=this.drapeBufferSize;t.activeTexture.set(i.TEXTURE0);const r=new e.Texture(t,{width:o[0],height:o[1],data:null},i.RGBA);r.bind(i.LINEAR,i.CLAMP_TO_EDGE);const n=t.createFramebuffer(o[0],o[1],!1);return n.colorAttachment.set(r.texture),n.depthAttachment=new Ee(t,n.framebuffer),void 0===this._sharedDepthStencil?(this._sharedDepthStencil=t.createRenderbuffer(t.gl.DEPTH_STENCIL,o[0],o[1]),this._stencilRef=0,n.depthAttachment.set(this._sharedDepthStencil),t.clear({stencil:0})):n.depthAttachment.set(this._sharedDepthStencil),t.extTextureFilterAnisotropic&&!t.extTextureFilterAnisotropicForceOff&&i.texParameterf(i.TEXTURE_2D,t.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,t.extTextureFilterAnisotropicMax),{fb:n,tex:r,dirty:!1}}_initFBOPool(){for(;this.pool.length<Math.min(5,this.proxyCoords.length);)this.pool.push(this._createFBO());}_shouldDisableRenderCache(){if(this._style.light&&this._style.light.hasTransition())return !0;for(const e in this._style._sourceCaches)if(this._style._sourceCaches[e].hasTransition())return !0;return this._style.order.some((e=>{const t=this._style._layers[e],i=t.isHidden(this.painter.transform.zoom),o=t.getCrossfadeParameters(),r=!!o&&1!==o.t,n=t.hasTransition();return \"custom\"!==t.type&&!i&&(r||n)}))}_clearRasterFadeFromRenderCache(){let e=!1;for(const t in this._style._sourceCaches)if(this._style._sourceCaches[t]._source instanceof Me){e=!0;break}if(e)for(let e=0;e<this._style.order.length;++e){const t=this._style._layers[this._style.order[e]],i=t.isHidden(this.painter.transform.zoom),o=this._style._getLayerSourceCache(t);if(\"raster\"!==t.type||i||!o)continue;const r=t.paint.get(\"raster-fade-duration\");for(const e of this.proxyCoords){const t=this.proxyToSource[e.key][o.id];if(t)for(const e of t){const t=Si(o.getTile(e),o.findLoadedParent(e,0),o,this.painter.transform,r);(1!==t.opacity||0!==t.mix)&&this._clearRenderCacheForTile(o.id,e);}}}}_setupDrapedRenderBatches(){const e=this._style.order,t=e.length;if(0===t)return;const i=[];let o,r=0,n=this._style._layers[e[r]];for(;!this._style.isLayerDraped(n)&&n.isHidden(this.painter.transform.zoom)&&++r<t;)n=this._style._layers[e[r]];for(;r<t;++r){const t=this._style._layers[e[r]];t.isHidden(this.painter.transform.zoom)||(this._style.isLayerDraped(t)?void 0===o&&(o=r):void 0!==o&&(i.push({start:o,end:r-1}),o=void 0));}void 0!==o&&i.push({start:o,end:r-1}),this._drapedRenderBatches=i;}_setupRenderCache(e){const t=this.proxySourceCache;if(this._shouldDisableRenderCache()||this._invalidateRenderCache){if(this._invalidateRenderCache=!1,t.renderCache.length>t.renderCachePool.length){const e=Object.values(t.proxyCachedFBO);t.proxyCachedFBO={};for(let i=0;i<e.length;++i){const o=Object.values(e[i]);t.renderCachePool.push(...o);}}return}this._clearRasterFadeFromRenderCache();const i=this.proxyCoords,o=this._tilesDirty;for(let r=i.length-1;r>=0;r--){const n=i[r];if(t.getTileByID(n.key),void 0!==t.proxyCachedFBO[n.key]){const i=e[n.key],r=this.proxyToSource[n.key];let a=0;for(const e in r){const t=r[e],n=i[e];if(!n||n.length!==t.length||t.some(((t,i)=>t!==n[i]||o[e]&&o[e].hasOwnProperty(t.key)))){a=-1;break}++a;}for(const e in t.proxyCachedFBO[n.key])t.renderCache[t.proxyCachedFBO[n.key][e]].dirty=a<0||a!==Object.values(i).length;}}const r=[...this._drapedRenderBatches];r.sort(((e,t)=>t.end-t.start-(e.end-e.start)));for(const e of r)for(const o of i){if(t.proxyCachedFBO[o.key])continue;let i=t.renderCachePool.pop();void 0===i&&t.renderCache.length<50&&(i=t.renderCache.length,t.renderCache.push(this._createFBO())),void 0!==i&&(t.proxyCachedFBO[o.key]={},t.proxyCachedFBO[o.key][e.start]=i,t.renderCache[i].dirty=!0);}this._tilesDirty={};}_setupStencil(e,t,i,o){if(!o||!this._sourceTilesOverlap[o.id])return void(this._overlapStencilType&&(this._overlapStencilType=!1));const r=this.painter.context,n=r.gl;if(t.length<=1)return void(this._overlapStencilType=!1);let a;if(i.isTileClipped())a=t.length,this._overlapStencilMode.test={func:n.EQUAL,mask:255},this._overlapStencilType=\"Clip\";else {if(!(t[0].overscaledZ>t[t.length-1].overscaledZ))return void(this._overlapStencilType=!1);a=1,this._overlapStencilMode.test={func:n.GREATER,mask:255},this._overlapStencilType=\"Mask\";}this._stencilRef+a>255&&(r.clear({stencil:0}),this._stencilRef=0),this._stencilRef+=a,this._overlapStencilMode.ref=this._stencilRef,i.isTileClipped()&&this._renderTileClippingMasks(t,this._overlapStencilMode.ref);}clipOrMaskOverlapStencilType(){return \"Clip\"===this._overlapStencilType||\"Mask\"===this._overlapStencilType}stencilModeForRTTOverlap(t){return this.renderingToTexture&&this._overlapStencilType?(\"Clip\"===this._overlapStencilType&&(this._overlapStencilMode.ref=this.painter._tileClippingMaskIDs[t.key]),this._overlapStencilMode):e.StencilMode.disabled}_renderTileClippingMasks(t,i){const o=this.painter,r=this.painter.context,n=r.gl;o._tileClippingMaskIDs={},r.setColorMode(e.ColorMode.disabled),r.setDepthMode(e.DepthMode.disabled);const a=o.useProgram(\"clippingMask\");for(const s of t){const t=o._tileClippingMaskIDs[s.key]=--i;a.draw(r,n.TRIANGLES,e.DepthMode.disabled,new e.StencilMode({func:n.ALWAYS,mask:0},t,255,n.KEEP,n.KEEP,n.REPLACE),e.ColorMode.disabled,e.CullFaceMode.disabled,Mi(s.projMatrix),\"$clipping\",o.tileExtentBuffer,o.quadTriangleIndexBuffer,o.tileExtentSegments);}}pointCoordinate(t){const i=this.painter.transform;if(t.x<0||t.x>i.width||t.y<0||t.y>i.height)return null;const o=[t.x,t.y,1,1];e.transformMat4$1(o,o,i.pixelMatrixInverse),e.scale$1(o,o,1/o[3]),o[0]/=i.worldSize,o[1]/=i.worldSize;const r=i._camera.position,n=e.mercatorZfromAltitude(1,i.center.lat),a=[r[0],r[1],r[2]/n,0],s=e.subtract([],o.slice(0,3),a);e.normalize(s,s);const l=this.raycast(a,s,this._exaggeration);return null!==l&&l?(e.scaleAndAdd(a,a,s,l),a[3]=a[2],a[2]*=n,a):null}drawDepth(){const t=this.painter,i=t.context,o=this.proxySourceCache,r=Math.ceil(t.width),n=Math.ceil(t.height);if(!this._depthFBO||this._depthFBO.width===r&&this._depthFBO.height===n||(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0),!this._depthFBO){const t=i.gl,o=i.createFramebuffer(r,n,!0);i.activeTexture.set(t.TEXTURE0);const a=new e.Texture(i,{width:r,height:n,data:null},t.RGBA);a.bind(t.NEAREST,t.CLAMP_TO_EDGE),o.colorAttachment.set(a.texture);const s=i.createRenderbuffer(i.gl.DEPTH_COMPONENT16,r,n);o.depthAttachment.set(s),this._depthFBO=o,this._depthTexture=a;}i.bindFramebuffer.set(this._depthFBO.framebuffer),i.viewport.set([0,0,r,n]),function(t,i,o,r){if(\"globe\"===t.transform.projection.name)return;const n=t.context,a=n.gl;n.clear({depth:1});const s=t.useProgram(\"terrainDepth\"),l=new e.DepthMode(a.LESS,e.DepthMode.ReadWrite,t.depthRangeFor3D);for(const t of r){const r=o.getTile(t),c=bi(t.projMatrix,0);i.setupElevationDraw(r,s),s.draw(n,a.TRIANGLES,l,e.StencilMode.disabled,e.ColorMode.unblended,e.CullFaceMode.backCCW,c,\"terrain_depth\",i.gridBuffer,i.gridIndexBuffer,i.gridNoSkirtSegments);}}(t,this,o,this.proxyCoords);}_setupProxiedCoordsForOrtho(e,t,i){if(e.getSource()instanceof De)return this._setupProxiedCoordsForImageSource(e,t,i);this._findCoveringTileCache[e.id]=this._findCoveringTileCache[e.id]||{};const o=this.proxiedCoords[e.id]=[],r=this.proxyCoords;for(let t=0;t<r.length;t++){const n=r[t],a=this._findTileCoveringTileID(n,e);if(a){const t=this._createProxiedId(n,a,i[n.key]&&i[n.key][e.id]);o.push(t),this.proxyToSource[n.key][e.id]=[t];}}let n=!1;for(let r=0;r<t.length;r++){const a=e.getTile(t[r]);if(!a||!a.hasData())continue;const s=this._findTileCoveringTileID(a.tileID,this.proxySourceCache);if(s&&s.tileID.canonical.z!==a.tileID.canonical.z){const t=this.proxyToSource[s.tileID.key][e.id],r=this._createProxiedId(s.tileID,a,i[s.tileID.key]&&i[s.tileID.key][e.id]);t?t.splice(t.length-1,0,r):this.proxyToSource[s.tileID.key][e.id]=[r],o.push(r),n=!0;}}this._sourceTilesOverlap[e.id]=n;}_setupProxiedCoordsForImageSource(t,i,o){if(!t.getSource().loaded())return;const r=this.proxiedCoords[t.id]=[],n=this.proxyCoords,a=t.getSource(),s=new e.pointGeometry(a.tileID.x,a.tileID.y)._div(1<<a.tileID.z),l=a.coordinates.map(e.MercatorCoordinate.fromLngLat).reduce(((e,t)=>(e.min.x=Math.min(e.min.x,t.x-s.x),e.min.y=Math.min(e.min.y,t.y-s.y),e.max.x=Math.max(e.max.x,t.x-s.x),e.max.y=Math.max(e.max.y,t.y-s.y),e)),{min:new e.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE),max:new e.pointGeometry(-Number.MAX_VALUE,-Number.MAX_VALUE)}),c=(t,i)=>{const o=t.wrap+t.canonical.x/(1<<t.canonical.z),r=t.canonical.y/(1<<t.canonical.z),n=e.EXTENT/(1<<t.canonical.z),a=i.wrap+i.canonical.x/(1<<i.canonical.z),s=i.canonical.y/(1<<i.canonical.z);return o+n<a+l.min.x||o>a+l.max.x||r+n<s+l.min.y||r>s+l.max.y};for(let e=0;e<n.length;e++){const a=n[e];for(let e=0;e<i.length;e++){const n=t.getTile(i[e]);if(!n||!n.hasData())continue;if(c(a,n.tileID))continue;const s=this._createProxiedId(a,n,o[a.key]&&o[a.key][t.id]),l=this.proxyToSource[a.key][t.id];l?l.push(s):this.proxyToSource[a.key][t.id]=[s],r.push(s);}}}_createProxiedId(t,i,o){let r=this.orthoMatrix;if(o){const e=o.find((e=>e.key===i.tileID.key));if(e)return e}if(i.tileID.key!==t.key){const o=t.canonical.z-i.tileID.canonical.z;let n,a,s;r=e.create();const l=i.tileID.wrap-t.wrap<<t.overscaledZ;o>0?(n=e.EXTENT>>o,a=n*((i.tileID.canonical.x<<o)-t.canonical.x+l),s=n*((i.tileID.canonical.y<<o)-t.canonical.y)):(n=e.EXTENT<<-o,a=e.EXTENT*(i.tileID.canonical.x-(t.canonical.x+l<<-o)),s=e.EXTENT*(i.tileID.canonical.y-(t.canonical.y<<-o))),e.ortho(r,0,n,0,n,0,1),e.translate(r,r,[a,s,0]);}return new Pi(i.tileID,t.key,r)}_findTileCoveringTileID(t,i){let o=i.getTile(t);if(o&&o.hasData())return o;const r=this._findCoveringTileCache[i.id],n=r[t.key];if(o=n?i.getTileByID(n):null,o&&o.hasData()||null===n)return o;let a=o?o.tileID:t,s=a.overscaledZ;const l=i.getSource().minzoom,c=[];if(!n){const r=i.getSource().maxzoom;if(t.canonical.z>=r){const o=t.canonical.z-r;i.getSource().reparseOverscaled?(s=Math.max(t.canonical.z+2,i.transform.tileZoom),a=new e.OverscaledTileID(s,t.wrap,r,t.canonical.x>>o,t.canonical.y>>o)):0!==o&&(s=r,a=new e.OverscaledTileID(s,t.wrap,r,t.canonical.x>>o,t.canonical.y>>o));}a.key!==t.key&&(c.push(a.key),o=i.getTile(a));}const h=e=>{c.forEach((t=>{r[t]=e;})),c.length=0;};for(s-=1;s>=l&&(!o||!o.hasData());s--){o&&h(o.tileID.key);const e=a.calculateScaledKey(s);if(o=i.getTileByID(e),o&&o.hasData())break;const t=r[e];if(null===t)break;void 0===t?c.push(e):o=i.getTileByID(t);}return h(o?o.tileID.key:null),o&&o.hasData()?o:null}findDEMTileFor(e){return this.enabled?this._findTileCoveringTileID(e,this.sourceCache):null}prepareDrawTile(){this.renderedToTile=!0;}_clearRenderCacheForTile(e,t){let i=this._tilesDirty[e];i||(i=this._tilesDirty[e]={}),i[t.key]=!0;}getWirefameBuffer(){if(!this.wireframeSegments){const t=function(t){let i=0;const o=new e.StructArrayLayout2ui4,r=131;for(let e=1;e<129;e++){for(let t=1;t<129;t++)i=e*r+t,o.emplaceBack(i,i+1),o.emplaceBack(i,i+r),o.emplaceBack(i+1,i+r),128===e&&o.emplaceBack(i+r,i+r+1);o.emplaceBack(i+1,i+1+r);}return o}();this.wireframeIndexBuffer=this.painter.context.createIndexBuffer(t),this.wireframeSegments=e.SegmentVector.simpleSegment(0,0,this.gridBuffer.length,t.length);}return [this.wireframeIndexBuffer,this.wireframeSegments]}}class Li{static cacheKey(e,t,i,o){let r=`${t}${o?o.cacheKey:\"\"}`;for(const t of i)e.usedDefines.includes(t)&&(r+=`/${t}`);return r}constructor(t,i,o,r,n,a){const s=t.gl;this.program=s.createProgram();const l=function(e){const t=[];for(let i=0;i<e.length;i++){if(null===e[i])continue;const o=e[i].split(\" \");t.push(o.pop());}return t}(o.staticAttributes),c=r?r.getBinderAttributes():[],h=l.concat(c);let u=r?r.defines():[];u=u.concat(a.map((e=>`#define ${e}`)));const _=u.concat(t.extStandardDerivatives?\"#extension GL_OES_standard_derivatives : enable\\n\".concat(ui):ui,ui,hi,ci.fragmentSource,si.fragmentSource,o.fragmentSource).join(\"\\n\"),d=u.concat(\"\\n#ifdef GL_ES\\nprecision highp float;\\n#else\\n\\n#if !defined(lowp)\\n#define lowp\\n#endif\\n\\n#if !defined(mediump)\\n#define mediump\\n#endif\\n\\n#if !defined(highp)\\n#define highp\\n#endif\\n\\n#endif\",hi,ci.vertexSource,si.vertexSource,ai.vertexSource,o.vertexSource).join(\"\\n\"),p=s.createShader(s.FRAGMENT_SHADER);if(s.isContextLost())return void(this.failedToCreate=!0);s.shaderSource(p,_),s.compileShader(p),s.attachShader(this.program,p);const m=s.createShader(s.VERTEX_SHADER);if(s.isContextLost())this.failedToCreate=!0;else {s.shaderSource(m,d),s.compileShader(m),s.attachShader(this.program,m),this.attributes={},this.numAttributes=h.length;for(let e=0;e<this.numAttributes;e++)h[e]&&(s.bindAttribLocation(this.program,e,h[e]),this.attributes[h[e]]=e);s.linkProgram(this.program),s.deleteShader(m),s.deleteShader(p),this.fixedUniforms=n(t),this.binderUniforms=r?r.getUniforms(t):[],-1!==a.indexOf(\"TERRAIN\")&&(this.terrainUniforms=(t=>({u_dem:new e.Uniform1i(t),u_dem_prev:new e.Uniform1i(t),u_dem_unpack:new e.Uniform4f(t),u_dem_tl:new e.Uniform2f(t),u_dem_scale:new e.Uniform1f(t),u_dem_tl_prev:new e.Uniform2f(t),u_dem_scale_prev:new e.Uniform1f(t),u_dem_size:new e.Uniform1f(t),u_dem_lerp:new e.Uniform1f(t),u_exaggeration:new e.Uniform1f(t),u_depth:new e.Uniform1i(t),u_depth_size_inv:new e.Uniform2f(t),u_meter_to_dem:new e.Uniform1f(t),u_label_plane_matrix_inv:new e.UniformMatrix4f(t),u_tile_tl_up:new e.Uniform3f(t),u_tile_tr_up:new e.Uniform3f(t),u_tile_br_up:new e.Uniform3f(t),u_tile_bl_up:new e.Uniform3f(t),u_tile_up_scale:new e.Uniform1f(t)}))(t)),-1!==a.indexOf(\"FOG\")&&(this.fogUniforms=(t=>({u_fog_matrix:new e.UniformMatrix4f(t),u_fog_range:new e.Uniform2f(t),u_fog_color:new e.Uniform4f(t),u_fog_horizon_blend:new e.Uniform1f(t),u_fog_temporal_offset:new e.Uniform1f(t),u_frustum_tl:new e.Uniform3f(t),u_frustum_tr:new e.Uniform3f(t),u_frustum_br:new e.Uniform3f(t),u_frustum_bl:new e.Uniform3f(t),u_globe_pos:new e.Uniform3f(t),u_globe_radius:new e.Uniform1f(t),u_globe_transition:new e.Uniform1f(t),u_is_globe:new e.Uniform1i(t),u_viewport:new e.Uniform2f(t)}))(t));}}setTerrainUniformValues(e,t){if(!this.terrainUniforms)return;const i=this.terrainUniforms;if(!this.failedToCreate){e.program.set(this.program);for(const e in t)i[e].set(this.program,e,t[e]);}}setFogUniformValues(e,t){if(!this.fogUniforms)return;const i=this.fogUniforms;if(!this.failedToCreate){e.program.set(this.program);for(const e in t)i[e].set(this.program,e,t[e]);}}draw(e,t,i,o,r,n,a,s,l,c,h,u,_,d,p){const m=e.gl;if(this.failedToCreate)return;e.program.set(this.program),e.setDepthMode(i),e.setStencilMode(o),e.setColorMode(r),e.setCullFace(n);for(const e of Object.keys(this.fixedUniforms))this.fixedUniforms[e].set(this.program,e,a[e]);d&&d.setUniforms(this.program,e,this.binderUniforms,u,{zoom:_});const f={[m.LINES]:2,[m.TRIANGLES]:3,[m.LINE_STRIP]:1}[t];for(const i of h.get()){const o=i.vaos||(i.vaos={});(o[s]||(o[s]=new mi)).bind(e,this,l,d?d.getPaintVertexBuffers():[],c,i.vertexOffset,p||[]),m.drawElements(t,i.primitiveLength*f,m.UNSIGNED_SHORT,i.primitiveOffset*f*2);}}}function Ri(e,t,i){const o=1/L(i,1,t.transform.tileZoom),r=Math.pow(2,i.tileID.overscaledZ),n=i.tileSize*Math.pow(2,t.transform.tileZoom)/r,a=n*(i.tileID.canonical.x+i.tileID.wrap*r),s=n*i.tileID.canonical.y;return {u_image:0,u_texsize:i.imageAtlasTexture.size,u_scale:[o,e.fromScale,e.toScale],u_fade:e.t,u_pixel_coord_upper:[a>>16,s>>16],u_pixel_coord_lower:[65535&a,65535&s]}}const Oi=e.create(),Bi=(t,i,o,r,n,a,s,l,c,h,u)=>{const _=i.style.light,d=_.properties.get(\"position\"),p=[d.x,d.y,d.z],m=e.create$1();\"viewport\"===_.properties.get(\"anchor\")&&(e.fromRotation(m,-i.transform.angle),e.transformMat3(p,p,m));const f=_.properties.get(\"color\"),g=i.transform,v={u_matrix:t,u_lightpos:p,u_lightintensity:_.properties.get(\"intensity\"),u_lightcolor:[f.r,f.g,f.b],u_vertical_gradient:+o,u_opacity:r,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:Oi,u_merc_center:[0,0],u_up_dir:[0,0,0],u_height_lift:0,u_ao:n,u_edge_radius:a};return \"globe\"===g.projection.name&&(v.u_tile_id=[s.canonical.x,s.canonical.y,1<<s.canonical.z],v.u_zoom_transition=c,v.u_inv_rot_matrix=u,v.u_merc_center=h,v.u_up_dir=g.projection.upVector(new e.CanonicalTileID(0,0,0),h[0]*e.EXTENT,h[1]*e.EXTENT),v.u_height_lift=l),v},ki=(t,i,o,r,n,a,s,l,c,h,u,_,d)=>{const p=Bi(t,i,o,r,n,a,s,h,u,_,d),m={u_height_factor:-Math.pow(2,s.overscaledZ)/c.tileSize/8};return e.extend(p,Ri(l,i,c),m)},Fi=e=>({u_matrix:e}),Ui=(t,i,o,r)=>e.extend(Fi(t),Ri(o,i,r)),Ni=(e,t)=>({u_matrix:e,u_world:t}),Gi=(t,i,o,r,n)=>e.extend(Ui(t,i,o,r),{u_world:n}),ji=e.create(),Zi=(t,i,o,r,n,a)=>{const s=t.transform,l=\"globe\"===s.projection.name;let c;if(\"map\"===a.paint.get(\"circle-pitch-alignment\"))if(l){const t=e.globePixelsToTileUnits(s.zoom,i.canonical)*s._pixelsPerMercatorPixel;c=Float32Array.from([t,0,0,t]);}else c=s.calculatePixelsToTileUnitsMatrix(o);else c=new Float32Array([s.pixelsToGLUnits[0],0,0,s.pixelsToGLUnits[1]]);const h={u_camera_to_center_distance:s.cameraToCenterDistance,u_matrix:t.translatePosMatrix(i.projMatrix,o,a.paint.get(\"circle-translate\"),a.paint.get(\"circle-translate-anchor\")),u_device_pixel_ratio:e.exported.devicePixelRatio,u_extrude_scale:c,u_inv_rot_matrix:ji,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(l){h.u_inv_rot_matrix=r,h.u_merc_center=n,h.u_tile_id=[i.canonical.x,i.canonical.y,1<<i.canonical.z],h.u_zoom_transition=e.globeToMercatorTransition(s.zoom);const t=n[0]*e.EXTENT,o=n[1]*e.EXTENT;h.u_up_dir=s.projection.upVector(new e.CanonicalTileID(0,0,0),t,o);}return h},Vi=e=>{const t=[];return \"map\"===e.paint.get(\"circle-pitch-alignment\")&&t.push(\"PITCH_WITH_MAP\"),\"map\"===e.paint.get(\"circle-pitch-scale\")&&t.push(\"SCALE_WITH_MAP\"),t},Wi=(t,i,o,r)=>{const n=e.EXTENT/o.tileSize;return {u_matrix:t,u_camera_to_center_distance:i.getCameraToCenterDistance(r),u_extrude_scale:[i.pixelsToGLUnits[0]/n,i.pixelsToGLUnits[1]/n]}},Xi=(e,t,i=1)=>({u_matrix:e,u_color:t,u_overlay:0,u_overlay_scale:i}),qi=e.create(),$i=(t,i,o,r,n,a,s)=>{const l=t.transform,c=\"globe\"===l.projection.name,h=c?e.globePixelsToTileUnits(l.zoom,i.canonical)*l._pixelsPerMercatorPixel:L(o,1,a),u={u_matrix:i.projMatrix,u_extrude_scale:h,u_intensity:s,u_inv_rot_matrix:qi,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(c){u.u_inv_rot_matrix=r,u.u_merc_center=n,u.u_tile_id=[i.canonical.x,i.canonical.y,1<<i.canonical.z],u.u_zoom_transition=e.globeToMercatorTransition(l.zoom);const t=n[0]*e.EXTENT,o=n[1]*e.EXTENT;u.u_up_dir=l.projection.upVector(new e.CanonicalTileID(0,0,0),t,o);}return u},Hi=(e,t,i,o,r,n,a,s)=>{const l=e.transform,c=l.calculatePixelsToTileUnitsMatrix(t),h={u_matrix:Ji(e,t,i,r),u_pixels_to_tile_units:c,u_device_pixel_ratio:a,u_units_to_pixels:[1/l.pixelsToGLUnits[0],1/l.pixelsToGLUnits[1]],u_dash_image:0,u_gradient_image:1,u_image_height:n,u_texsize:[0,0],u_scale:[0,0,0],u_mix:0,u_alpha_discard_threshold:0,u_trim_offset:s};if(Qi(i)){const i=Ki(t,e.transform);h.u_texsize=t.lineAtlasTexture.size,h.u_scale=[i,o.fromScale,o.toScale],h.u_mix=o.t;}return h},Yi=(e,t,i,o,r,n)=>{const a=e.transform,s=Ki(t,a);return {u_matrix:Ji(e,t,i,r),u_texsize:t.imageAtlasTexture.size,u_pixels_to_tile_units:a.calculatePixelsToTileUnitsMatrix(t),u_device_pixel_ratio:n,u_image:0,u_scale:[s,o.fromScale,o.toScale],u_fade:o.t,u_units_to_pixels:[1/a.pixelsToGLUnits[0],1/a.pixelsToGLUnits[1]],u_alpha_discard_threshold:0}};function Ki(e,t){return 1/L(e,1,t.tileZoom)}function Ji(e,t,i,o){return e.translatePosMatrix(o||t.tileID.projMatrix,t,i.paint.get(\"line-translate\"),i.paint.get(\"line-translate-anchor\"))}function Qi(e){const t=e.paint.get(\"line-dasharray\").value;return t.value||\"constant\"!==t.kind}const eo=(e,t,i,o,r,n)=>{return {u_matrix:e,u_tl_parent:t,u_scale_parent:i,u_fade_t:o.mix,u_opacity:o.opacity*r.paint.get(\"raster-opacity\"),u_image0:0,u_image1:1,u_brightness_low:r.paint.get(\"raster-brightness-min\"),u_brightness_high:r.paint.get(\"raster-brightness-max\"),u_saturation_factor:(s=r.paint.get(\"raster-saturation\"),s>0?1-1/(1.001-s):-s),u_contrast_factor:(a=r.paint.get(\"raster-contrast\"),a>0?1/(1-a):1+a),u_spin_weights:to(r.paint.get(\"raster-hue-rotate\")),u_perspective_transform:n};var a,s;};function to(e){e*=Math.PI/180;const t=Math.sin(e),i=Math.cos(e);return [(2*i+1)/3,(-Math.sqrt(3)*t-i+1)/3,(Math.sqrt(3)*t-i+1)/3]}const io=e.create(),oo=(t,i,o,r,n,a,s,l,c,h,u,_,d,p,m,f)=>{const g=n.transform,v={u_is_size_zoom_constant:+(\"constant\"===t||\"source\"===t),u_is_size_feature_constant:+(\"constant\"===t||\"camera\"===t),u_size_t:i?i.uSizeT:0,u_size:i?i.uSize:0,u_camera_to_center_distance:g.cameraToCenterDistance,u_rotate_symbol:+o,u_aspect_ratio:g.width/g.height,u_fade_change:n.options.fadeDuration?n.symbolFadeChange:1,u_matrix:a,u_label_plane_matrix:s,u_coord_matrix:l,u_is_text:+c,u_pitch_with_map:+r,u_texsize:h,u_texture:0,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:io,u_merc_center:[0,0],u_camera_forward:[0,0,0],u_ecef_origin:[0,0,0],u_tile_matrix:io,u_up_vector:[0,-1,0]};return \"globe\"===f.name&&(v.u_tile_id=[u.canonical.x,u.canonical.y,1<<u.canonical.z],v.u_zoom_transition=_,v.u_inv_rot_matrix=p,v.u_merc_center=d,v.u_camera_forward=g._camera.forward(),v.u_ecef_origin=e.globeECEFOrigin(g.globeMatrix,u.toUnwrapped()),v.u_tile_matrix=Float32Array.from(g.globeMatrix),v.u_up_vector=m),v},ro=(t,i,o,r,n,a,s,l,c,h,u,_,d,p,m,f,g)=>e.extend(oo(t,i,o,r,n,a,s,l,c,h,_,d,p,m,f,g),{u_gamma_scale:r?n.transform.cameraToCenterDistance*Math.cos(n.terrain?0:n.transform._pitch):1,u_device_pixel_ratio:e.exported.devicePixelRatio,u_is_halo:+u}),no=(t,i,o,r,n,a,s,l,c,h,u,_,d,p,m,f)=>e.extend(ro(t,i,o,r,n,a,s,l,!0,c,!0,u,_,d,p,m,f),{u_texsize_icon:h,u_texture_icon:1}),ao=(e,t,i)=>({u_matrix:e,u_opacity:t,u_color:i}),so=(t,i,o,r,n,a)=>e.extend(function(e,t,i,o){const r=i.imageManager.getPattern(e.from.toString()),n=i.imageManager.getPattern(e.to.toString()),{width:a,height:s}=i.imageManager.getPixelSize(),l=Math.pow(2,o.tileID.overscaledZ),c=o.tileSize*Math.pow(2,i.transform.tileZoom)/l,h=c*(o.tileID.canonical.x+o.tileID.wrap*l),u=c*o.tileID.canonical.y;return {u_image:0,u_pattern_tl_a:r.tl,u_pattern_br_a:r.br,u_pattern_tl_b:n.tl,u_pattern_br_b:n.br,u_texsize:[a,s],u_mix:t.t,u_pattern_size_a:r.displaySize,u_pattern_size_b:n.displaySize,u_scale_a:t.fromScale,u_scale_b:t.toScale,u_tile_units_to_pixels:1/L(o,1,i.transform.tileZoom),u_pixel_coord_upper:[h>>16,u>>16],u_pixel_coord_lower:[65535&h,65535&u]}}(r,a,o,n),{u_matrix:t,u_opacity:i}),lo={fillExtrusion:t=>({u_matrix:new e.UniformMatrix4f(t),u_lightpos:new e.Uniform3f(t),u_lightintensity:new e.Uniform1f(t),u_lightcolor:new e.Uniform3f(t),u_vertical_gradient:new e.Uniform1f(t),u_opacity:new e.Uniform1f(t),u_edge_radius:new e.Uniform1f(t),u_ao:new e.Uniform2f(t),u_tile_id:new e.Uniform3f(t),u_zoom_transition:new e.Uniform1f(t),u_inv_rot_matrix:new e.UniformMatrix4f(t),u_merc_center:new e.Uniform2f(t),u_up_dir:new e.Uniform3f(t),u_height_lift:new e.Uniform1f(t)}),fillExtrusionPattern:t=>({u_matrix:new e.UniformMatrix4f(t),u_lightpos:new e.Uniform3f(t),u_lightintensity:new e.Uniform1f(t),u_lightcolor:new e.Uniform3f(t),u_vertical_gradient:new e.Uniform1f(t),u_height_factor:new e.Uniform1f(t),u_edge_radius:new e.Uniform1f(t),u_ao:new e.Uniform2f(t),u_tile_id:new e.Uniform3f(t),u_zoom_transition:new e.Uniform1f(t),u_inv_rot_matrix:new e.UniformMatrix4f(t),u_merc_center:new e.Uniform2f(t),u_up_dir:new e.Uniform3f(t),u_height_lift:new e.Uniform1f(t),u_image:new e.Uniform1i(t),u_texsize:new e.Uniform2f(t),u_pixel_coord_upper:new e.Uniform2f(t),u_pixel_coord_lower:new e.Uniform2f(t),u_scale:new e.Uniform3f(t),u_fade:new e.Uniform1f(t),u_opacity:new e.Uniform1f(t)}),fill:t=>({u_matrix:new e.UniformMatrix4f(t)}),fillPattern:t=>({u_matrix:new e.UniformMatrix4f(t),u_image:new e.Uniform1i(t),u_texsize:new e.Uniform2f(t),u_pixel_coord_upper:new e.Uniform2f(t),u_pixel_coord_lower:new e.Uniform2f(t),u_scale:new e.Uniform3f(t),u_fade:new e.Uniform1f(t)}),fillOutline:t=>({u_matrix:new e.UniformMatrix4f(t),u_world:new e.Uniform2f(t)}),fillOutlinePattern:t=>({u_matrix:new e.UniformMatrix4f(t),u_world:new e.Uniform2f(t),u_image:new e.Uniform1i(t),u_texsize:new e.Uniform2f(t),u_pixel_coord_upper:new e.Uniform2f(t),u_pixel_coord_lower:new e.Uniform2f(t),u_scale:new e.Uniform3f(t),u_fade:new e.Uniform1f(t)}),circle:t=>({u_camera_to_center_distance:new e.Uniform1f(t),u_extrude_scale:new e.UniformMatrix2f(t),u_device_pixel_ratio:new e.Uniform1f(t),u_matrix:new e.UniformMatrix4f(t),u_inv_rot_matrix:new e.UniformMatrix4f(t),u_merc_center:new e.Uniform2f(t),u_tile_id:new e.Uniform3f(t),u_zoom_transition:new e.Uniform1f(t),u_up_dir:new e.Uniform3f(t)}),collisionBox:t=>({u_matrix:new e.UniformMatrix4f(t),u_camera_to_center_distance:new e.Uniform1f(t),u_extrude_scale:new e.Uniform2f(t)}),collisionCircle:t=>({u_matrix:new e.UniformMatrix4f(t),u_inv_matrix:new e.UniformMatrix4f(t),u_camera_to_center_distance:new e.Uniform1f(t),u_viewport_size:new e.Uniform2f(t)}),debug:t=>({u_color:new e.UniformColor(t),u_matrix:new e.UniformMatrix4f(t),u_overlay:new e.Uniform1i(t),u_overlay_scale:new e.Uniform1f(t)}),clippingMask:t=>({u_matrix:new e.UniformMatrix4f(t)}),heatmap:t=>({u_extrude_scale:new e.Uniform1f(t),u_intensity:new e.Uniform1f(t),u_matrix:new e.UniformMatrix4f(t),u_inv_rot_matrix:new e.UniformMatrix4f(t),u_merc_center:new e.Uniform2f(t),u_tile_id:new e.Uniform3f(t),u_zoom_transition:new e.Uniform1f(t),u_up_dir:new e.Uniform3f(t)}),heatmapTexture:t=>({u_image:new e.Uniform1i(t),u_color_ramp:new e.Uniform1i(t),u_opacity:new e.Uniform1f(t)}),hillshade:t=>({u_matrix:new e.UniformMatrix4f(t),u_image:new e.Uniform1i(t),u_latrange:new e.Uniform2f(t),u_light:new e.Uniform2f(t),u_shadow:new e.UniformColor(t),u_highlight:new e.UniformColor(t),u_accent:new e.UniformColor(t)}),hillshadePrepare:t=>({u_matrix:new e.UniformMatrix4f(t),u_image:new e.Uniform1i(t),u_dimension:new e.Uniform2f(t),u_zoom:new e.Uniform1f(t),u_unpack:new e.Uniform4f(t)}),line:t=>({u_matrix:new e.UniformMatrix4f(t),u_pixels_to_tile_units:new e.UniformMatrix2f(t),u_device_pixel_ratio:new e.Uniform1f(t),u_units_to_pixels:new e.Uniform2f(t),u_dash_image:new e.Uniform1i(t),u_gradient_image:new e.Uniform1i(t),u_image_height:new e.Uniform1f(t),u_texsize:new e.Uniform2f(t),u_scale:new e.Uniform3f(t),u_mix:new e.Uniform1f(t),u_alpha_discard_threshold:new e.Uniform1f(t),u_trim_offset:new e.Uniform2f(t)}),linePattern:t=>({u_matrix:new e.UniformMatrix4f(t),u_texsize:new e.Uniform2f(t),u_pixels_to_tile_units:new e.UniformMatrix2f(t),u_device_pixel_ratio:new e.Uniform1f(t),u_image:new e.Uniform1i(t),u_units_to_pixels:new e.Uniform2f(t),u_scale:new e.Uniform3f(t),u_fade:new e.Uniform1f(t),u_alpha_discard_threshold:new e.Uniform1f(t)}),raster:t=>({u_matrix:new e.UniformMatrix4f(t),u_tl_parent:new e.Uniform2f(t),u_scale_parent:new e.Uniform1f(t),u_fade_t:new e.Uniform1f(t),u_opacity:new e.Uniform1f(t),u_image0:new e.Uniform1i(t),u_image1:new e.Uniform1i(t),u_brightness_low:new e.Uniform1f(t),u_brightness_high:new e.Uniform1f(t),u_saturation_factor:new e.Uniform1f(t),u_contrast_factor:new e.Uniform1f(t),u_spin_weights:new e.Uniform3f(t),u_perspective_transform:new e.Uniform2f(t)}),symbolIcon:t=>({u_is_size_zoom_constant:new e.Uniform1i(t),u_is_size_feature_constant:new e.Uniform1i(t),u_size_t:new e.Uniform1f(t),u_size:new e.Uniform1f(t),u_camera_to_center_distance:new e.Uniform1f(t),u_rotate_symbol:new e.Uniform1i(t),u_aspect_ratio:new e.Uniform1f(t),u_fade_change:new e.Uniform1f(t),u_matrix:new e.UniformMatrix4f(t),u_label_plane_matrix:new e.UniformMatrix4f(t),u_coord_matrix:new e.UniformMatrix4f(t),u_is_text:new e.Uniform1i(t),u_pitch_with_map:new e.Uniform1i(t),u_texsize:new e.Uniform2f(t),u_tile_id:new e.Uniform3f(t),u_zoom_transition:new e.Uniform1f(t),u_inv_rot_matrix:new e.UniformMatrix4f(t),u_merc_center:new e.Uniform2f(t),u_camera_forward:new e.Uniform3f(t),u_tile_matrix:new e.UniformMatrix4f(t),u_up_vector:new e.Uniform3f(t),u_ecef_origin:new e.Uniform3f(t),u_texture:new e.Uniform1i(t)}),symbolSDF:t=>({u_is_size_zoom_constant:new e.Uniform1i(t),u_is_size_feature_constant:new e.Uniform1i(t),u_size_t:new e.Uniform1f(t),u_size:new e.Uniform1f(t),u_camera_to_center_distance:new e.Uniform1f(t),u_rotate_symbol:new e.Uniform1i(t),u_aspect_ratio:new e.Uniform1f(t),u_fade_change:new e.Uniform1f(t),u_matrix:new e.UniformMatrix4f(t),u_label_plane_matrix:new e.UniformMatrix4f(t),u_coord_matrix:new e.UniformMatrix4f(t),u_is_text:new e.Uniform1i(t),u_pitch_with_map:new e.Uniform1i(t),u_texsize:new e.Uniform2f(t),u_texture:new e.Uniform1i(t),u_gamma_scale:new e.Uniform1f(t),u_device_pixel_ratio:new e.Uniform1f(t),u_tile_id:new e.Uniform3f(t),u_zoom_transition:new e.Uniform1f(t),u_inv_rot_matrix:new e.UniformMatrix4f(t),u_merc_center:new e.Uniform2f(t),u_camera_forward:new e.Uniform3f(t),u_tile_matrix:new e.UniformMatrix4f(t),u_up_vector:new e.Uniform3f(t),u_ecef_origin:new e.Uniform3f(t),u_is_halo:new e.Uniform1i(t)}),symbolTextAndIcon:t=>({u_is_size_zoom_constant:new e.Uniform1i(t),u_is_size_feature_constant:new e.Uniform1i(t),u_size_t:new e.Uniform1f(t),u_size:new e.Uniform1f(t),u_camera_to_center_distance:new e.Uniform1f(t),u_rotate_symbol:new e.Uniform1i(t),u_aspect_ratio:new e.Uniform1f(t),u_fade_change:new e.Uniform1f(t),u_matrix:new e.UniformMatrix4f(t),u_label_plane_matrix:new e.UniformMatrix4f(t),u_coord_matrix:new e.UniformMatrix4f(t),u_is_text:new e.Uniform1i(t),u_pitch_with_map:new e.Uniform1i(t),u_texsize:new e.Uniform2f(t),u_texsize_icon:new e.Uniform2f(t),u_texture:new e.Uniform1i(t),u_texture_icon:new e.Uniform1i(t),u_gamma_scale:new e.Uniform1f(t),u_device_pixel_ratio:new e.Uniform1f(t),u_is_halo:new e.Uniform1i(t)}),background:t=>({u_matrix:new e.UniformMatrix4f(t),u_opacity:new e.Uniform1f(t),u_color:new e.UniformColor(t)}),backgroundPattern:t=>({u_matrix:new e.UniformMatrix4f(t),u_opacity:new e.Uniform1f(t),u_image:new e.Uniform1i(t),u_pattern_tl_a:new e.Uniform2f(t),u_pattern_br_a:new e.Uniform2f(t),u_pattern_tl_b:new e.Uniform2f(t),u_pattern_br_b:new e.Uniform2f(t),u_texsize:new e.Uniform2f(t),u_mix:new e.Uniform1f(t),u_pattern_size_a:new e.Uniform2f(t),u_pattern_size_b:new e.Uniform2f(t),u_scale_a:new e.Uniform1f(t),u_scale_b:new e.Uniform1f(t),u_pixel_coord_upper:new e.Uniform2f(t),u_pixel_coord_lower:new e.Uniform2f(t),u_tile_units_to_pixels:new e.Uniform1f(t)}),terrainRaster:yi,terrainDepth:yi,skybox:t=>({u_matrix:new e.UniformMatrix4f(t),u_sun_direction:new e.Uniform3f(t),u_cubemap:new e.Uniform1i(t),u_opacity:new e.Uniform1f(t),u_temporal_offset:new e.Uniform1f(t)}),skyboxGradient:t=>({u_matrix:new e.UniformMatrix4f(t),u_color_ramp:new e.Uniform1i(t),u_center_direction:new e.Uniform3f(t),u_radius:new e.Uniform1f(t),u_opacity:new e.Uniform1f(t),u_temporal_offset:new e.Uniform1f(t)}),skyboxCapture:t=>({u_matrix_3f:new e.UniformMatrix3f(t),u_sun_direction:new e.Uniform3f(t),u_sun_intensity:new e.Uniform1f(t),u_color_tint_r:new e.Uniform4f(t),u_color_tint_m:new e.Uniform4f(t),u_luminance:new e.Uniform1f(t)}),globeRaster:t=>({u_proj_matrix:new e.UniformMatrix4f(t),u_globe_matrix:new e.UniformMatrix4f(t),u_normalize_matrix:new e.UniformMatrix4f(t),u_merc_matrix:new e.UniformMatrix4f(t),u_zoom_transition:new e.Uniform1f(t),u_merc_center:new e.Uniform2f(t),u_image0:new e.Uniform1i(t),u_grid_matrix:new e.UniformMatrix3f(t),u_frustum_tl:new e.Uniform3f(t),u_frustum_tr:new e.Uniform3f(t),u_frustum_br:new e.Uniform3f(t),u_frustum_bl:new e.Uniform3f(t),u_globe_pos:new e.Uniform3f(t),u_globe_radius:new e.Uniform1f(t),u_viewport:new e.Uniform2f(t)}),globeAtmosphere:t=>({u_frustum_tl:new e.Uniform3f(t),u_frustum_tr:new e.Uniform3f(t),u_frustum_br:new e.Uniform3f(t),u_frustum_bl:new e.Uniform3f(t),u_horizon:new e.Uniform1f(t),u_transition:new e.Uniform1f(t),u_fadeout_range:new e.Uniform1f(t),u_color:new e.Uniform4f(t),u_high_color:new e.Uniform4f(t),u_space_color:new e.Uniform4f(t),u_star_intensity:new e.Uniform1f(t),u_star_density:new e.Uniform1f(t),u_star_size:new e.Uniform1f(t),u_temporal_offset:new e.Uniform1f(t),u_horizon_angle:new e.Uniform1f(t),u_rotation_matrix:new e.UniformMatrix4f(t)})};let co;function ho(t,i,o,r,n,a,s){const l=t.context,c=l.gl,h=t.transform,u=t.useProgram(\"collisionBox\"),_=[];let d=0,p=0;for(let m=0;m<r.length;m++){const f=r[m],g=i.getTile(f),v=g.getBucket(o);if(!v)continue;const x=bt(f,v,h);let y=x;0===n[0]&&0===n[1]||(y=t.translatePosMatrix(x,g,n,a));const b=s?v.textCollisionBox:v.iconCollisionBox,w=v.collisionCircleArray;if(w.length>0){const t=e.create(),i=y;e.mul(t,v.placementInvProjMatrix,h.glCoordMatrix),e.mul(t,t,v.placementViewportMatrix),_.push({circleArray:w,circleOffset:p,transform:i,invTransform:t,projection:v.getProjection()}),d+=w.length/4,p=d;}b&&(t.terrain&&t.terrain.setupElevationDraw(g,u),u.draw(l,c.LINES,e.DepthMode.disabled,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.disabled,Wi(y,h,g,v.getProjection()),o.id,b.layoutVertexBuffer,b.indexBuffer,b.segments,null,h.zoom,null,[b.collisionVertexBuffer,b.collisionVertexBufferExt]));}if(!s||!_.length)return;const m=t.useProgram(\"collisionCircle\"),f=new e.StructArrayLayout2f1f2i16;f.resize(4*d),f._trim();let g=0;for(const e of _)for(let t=0;t<e.circleArray.length/4;t++){const i=4*t,o=e.circleArray[i+0],r=e.circleArray[i+1],n=e.circleArray[i+2],a=e.circleArray[i+3];f.emplace(g++,o,r,n,a,0),f.emplace(g++,o,r,n,a,1),f.emplace(g++,o,r,n,a,2),f.emplace(g++,o,r,n,a,3);}(!co||co.length<2*d)&&(co=function(t){const i=2*t,o=new e.StructArrayLayout3ui6;o.resize(i),o._trim();for(let e=0;e<i;e++){const t=6*e;o.uint16[t+0]=4*e+0,o.uint16[t+1]=4*e+1,o.uint16[t+2]=4*e+2,o.uint16[t+3]=4*e+2,o.uint16[t+4]=4*e+3,o.uint16[t+5]=4*e+0;}return o}(d));const v=l.createIndexBuffer(co,!0),x=l.createVertexBuffer(f,e.collisionCircleLayout.members,!0);for(const i of _){const r={u_matrix:i.transform,u_inv_matrix:i.invTransform,u_camera_to_center_distance:(y=h).getCameraToCenterDistance(i.projection),u_viewport_size:[y.width,y.height]};m.draw(l,c.TRIANGLES,e.DepthMode.disabled,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.disabled,r,o.id,x,v,e.SegmentVector.simpleSegment(0,2*i.circleOffset,i.circleArray.length,i.circleArray.length/2),null,h.zoom);}var y;x.destroy(),v.destroy();}const uo=e.create();function _o(t,i,o,r,n,a){const{horizontalAlign:s,verticalAlign:l}=e.getAnchorAlignment(t),c=-(s-.5)*i,h=-(l-.5)*o,u=e.evaluateVariableOffset(t,r);return new e.pointGeometry((c/n+u[0])*a,(h/n+u[1])*a)}function po(t,i,o,r,n,a,s,l,c,h,u){const _=t.text.placedSymbolArray,d=t.text.dynamicLayoutVertexArray,p=t.icon.dynamicLayoutVertexArray,m={},f=wt(l,t.getProjection(),a),g=a.elevation,v=t.getProjection().upVectorScale(l.canonical,a.center.lat,a.worldSize);d.clear();for(let p=0;p<_.length;p++){const x=_.get(p),y=t.allowVerticalPlacement&&!x.placedOrientation,b=x.hidden||!x.crossTileID||y?null:r[x.crossTileID];if(b){const r=new e.pointGeometry(x.tileAnchorX,x.tileAnchorY),_=t.getProjection().upVector(l.canonical,r.x,r.y),p=g?g.getAtTileOffset(l,r.x,r.y):0,y=nt([x.projectedAnchorX+p*_[0]*v.metersToTile,x.projectedAnchorY+p*_[1]*v.metersToTile,x.projectedAnchorZ+p*_[2]*v.metersToTile],o?f:s),w=at(a.getCameraToCenterDistance(t.getProjection()),y.signedDistanceFromCamera);let T=n.evaluateSizeForFeature(t.textSizeData,h,x)*w/e.ONE_EM;o&&(T*=t.tilePixelRatio/c);const{width:E,height:C,anchor:I,textOffset:M,textScale:S}=b,z=_o(I,E,C,M,S,T);let D;if(o){const e=r.add(z),{x:i,y:o,z:n}=t.getProjection().projectTilePoint(e.x,e.y,l.canonical);D=nt([i+p*_[0]*v.metersToTile,o+p*_[1]*v.metersToTile,n+p*_[2]*v.metersToTile],s).point;}else {const e=i?z.rotate(-a.angle):z;D=[y.point[0]+e.x,y.point[1]+e.y,0];}const P=t.allowVerticalPlacement&&x.placedOrientation===e.WritingMode.vertical?Math.PI/2:0;for(let t=0;t<x.numGlyphs;t++)e.addDynamicAttributes(d,D[0],D[1],D[2],P);u&&x.associatedIconIndex>=0&&(m[x.associatedIconIndex]={shiftedAnchor:D,angle:P});}else ft(x.numGlyphs,d);}if(u){p.clear();const i=t.icon.placedSymbolArray;for(let t=0;t<i.length;t++){const o=i.get(t);if(o.hidden)ft(o.numGlyphs,p);else {const i=m[t];if(i)for(let t=0;t<o.numGlyphs;t++)e.addDynamicAttributes(p,i.shiftedAnchor[0],i.shiftedAnchor[1],i.shiftedAnchor[2],i.angle);else ft(o.numGlyphs,p);}}t.icon.dynamicLayoutVertexBuffer.updateData(p);}t.text.dynamicLayoutVertexBuffer.updateData(d);}function mo(e,t,i){return i.iconsInText&&t?\"symbolTextAndIcon\":e?\"symbolSDF\":\"symbolIcon\"}function fo(t,i,o,r,n,a,s,l,c,h,u,_){const d=t.context,p=d.gl,m=t.transform,f=\"map\"===l,g=\"map\"===c,v=f&&\"point\"!==o.layout.get(\"symbol-placement\"),x=f&&!g&&!v,y=void 0!==o.layout.get(\"symbol-sort-key\").constantOr(1);let b=!1;const w=t.depthModeForSublayer(0,e.DepthMode.ReadOnly),T=[e.mercatorXfromLng(m.center.lng),e.mercatorYfromLat(m.center.lat)],E=o.layout.get(\"text-variable-anchor\"),C=\"globe\"===m.projection.name,I=[],M=[0,-1,0];let S=M;!C&&!m.mercatorFromTransition||f||(S=function(t){const i=t._camera.getWorldToCamera(t.worldSize,1),o=e.multiply([],i,t.globeMatrix);e.invert(o,o);const r=[0,0,0],n=[0,1,0,0];return e.transformMat4$1(n,n,o),r[0]=n[0],r[1]=n[1],r[2]=n[2],e.normalize(r,r),r}(m));for(const l of r){const r=i.getTile(l),c=r.getBucket(o);if(!c)continue;if(\"mercator\"===c.projection.name&&C)continue;const u=n?c.text:c.icon;if(!u||c.fullyClipped||!u.segments.get().length)continue;const _=u.programConfigurations.get(o.id),d=n||c.sdfIcons,w=n?c.textSizeData:c.iconSizeData,z=g||0!==m.pitch,D=e.evaluateSizeForZoom(w,m.zoom);let P,A,L,R,O=[0,0],B=null;if(n){if(A=r.glyphAtlasTexture,L=p.LINEAR,P=r.glyphAtlasTexture.size,c.iconsInText){O=r.imageAtlasTexture.size,B=r.imageAtlasTexture;const e=\"composite\"===w.kind||\"camera\"===w.kind;R=z||t.options.rotating||t.options.zooming||e?p.LINEAR:p.NEAREST;}}else {const e=1!==o.layout.get(\"icon-size\").constantOr(0)||c.iconsNeedLinear;A=r.imageAtlasTexture,L=d||t.options.rotating||t.options.zooming||e||z?p.LINEAR:p.NEAREST,P=r.imageAtlasTexture.size;}const k=\"globe\"===c.projection.name,F=k?S:M,U=k?e.globeToMercatorTransition(m.zoom):0,N=wt(l,c.getProjection(),m),G=m.calculatePixelsToTileUnitsMatrix(r),j=tt(N,r.tileID.canonical,g,f,m,c.getProjection(),G),Z=t.terrain&&g&&v?e.invert(e.create(),j):uo,V=ot(N,r.tileID.canonical,g,f,m,c.getProjection(),G),W=E&&c.hasTextData(),X=\"none\"!==o.layout.get(\"icon-text-fit\")&&W&&c.hasIconData();if(v){const e=m.elevation,i=e?e.getAtTileOffsetFunc(l,m.center.lat,m.worldSize,c.getProjection()):e=>[0,0,0],o=it(N,r.tileID.canonical,g,f,m,c.getProjection(),G);lt(c,N,t,n,o,V,g,h,i,l);}const q=v||n&&E||X,$=t.translatePosMatrix(N,r,a,s),H=q?uo:j,Y=t.translatePosMatrix(V,r,a,s,!0),K=c.getProjection().createInversionMatrix(m,l.canonical),J=[];t.terrain&&g&&J.push(\"PITCH_WITH_MAP_TERRAIN\"),k&&J.push(\"PROJECTION_GLOBE_VIEW\"),q&&J.push(\"PROJECTED_POS_ON_VIEWPORT\");const Q=d&&0!==o.paint.get(n?\"text-halo-width\":\"icon-halo-width\").constantOr(1);let ee;ee=d?c.iconsInText?no(w.kind,D,x,g,t,$,H,Y,P,O,l,U,T,K,F,c.getProjection()):ro(w.kind,D,x,g,t,$,H,Y,n,P,!0,l,U,T,K,F,c.getProjection()):oo(w.kind,D,x,g,t,$,H,Y,n,P,l,U,T,K,F,c.getProjection());const te={program:t.useProgram(mo(d,n,c),_,J),buffers:u,uniformValues:ee,atlasTexture:A,atlasTextureIcon:B,atlasInterpolation:L,atlasInterpolationIcon:R,isSDF:d,hasHalo:Q,tile:r,labelPlaneMatrixInv:Z};if(y&&c.canOverlap){b=!0;const t=u.segments.get();for(const i of t)I.push({segments:new e.SegmentVector([i]),sortKey:i.sortKey,state:te});}else I.push({segments:u.segments,sortKey:0,state:te});}b&&I.sort(((e,t)=>e.sortKey-t.sortKey));for(const e of I){const i=e.state;if(t.terrain&&t.terrain.setupElevationDraw(i.tile,i.program,{useDepthForOcclusion:!C,labelPlaneMatrixInv:i.labelPlaneMatrixInv}),d.activeTexture.set(p.TEXTURE0),i.atlasTexture.bind(i.atlasInterpolation,p.CLAMP_TO_EDGE),i.atlasTextureIcon&&(d.activeTexture.set(p.TEXTURE1),i.atlasTextureIcon&&i.atlasTextureIcon.bind(i.atlasInterpolationIcon,p.CLAMP_TO_EDGE)),i.isSDF){const r=i.uniformValues;i.hasHalo&&(r.u_is_halo=1,go(i.buffers,e.segments,o,t,i.program,w,u,_,r)),r.u_is_halo=0;}go(i.buffers,e.segments,o,t,i.program,w,u,_,i.uniformValues);}}function go(t,i,o,r,n,a,s,l,c){const h=r.context,u=[t.dynamicLayoutVertexBuffer,t.opacityVertexBuffer,t.globeExtVertexBuffer];n.draw(h,h.gl.TRIANGLES,a,s,l,e.CullFaceMode.disabled,c,o.id,t.layoutVertexBuffer,t.indexBuffer,i,o.paint,r.transform.zoom,t.programConfigurations.get(o.id),u);}function vo(t,i,o,r,n,a,s){const l=t.context.gl,c=o.paint.get(\"fill-pattern\"),h=c&&c.constantOr(1),u=o.getCrossfadeParameters();let _,d,p,m,f;s?(d=h&&!o.getPaintProperty(\"fill-outline-color\")?\"fillOutlinePattern\":\"fillOutline\",_=l.LINES):(d=h?\"fillPattern\":\"fill\",_=l.TRIANGLES);for(const g of r){const r=i.getTile(g);if(h&&!r.patternsLoaded())continue;const v=r.getBucket(o);if(!v)continue;t.prepareDrawTile();const x=v.programConfigurations.get(o.id),y=t.useProgram(d,x);h&&(t.context.activeTexture.set(l.TEXTURE0),r.imageAtlasTexture.bind(l.LINEAR,l.CLAMP_TO_EDGE),x.updatePaintBuffers(u));const b=c.constantOr(null);if(b&&r.imageAtlas){const e=r.imageAtlas,t=e.patternPositions[b.to.toString()],i=e.patternPositions[b.from.toString()];t&&i&&x.setConstantPatternPositions(t,i);}const w=t.translatePosMatrix(g.projMatrix,r,o.paint.get(\"fill-translate\"),o.paint.get(\"fill-translate-anchor\"));if(s){m=v.indexBuffer2,f=v.segments2;const e=t.terrain&&t.terrain.renderingToTexture?t.terrain.drapeBufferSize:[l.drawingBufferWidth,l.drawingBufferHeight];p=\"fillOutlinePattern\"===d&&h?Gi(w,t,u,r,e):Ni(w,e);}else m=v.indexBuffer,f=v.segments,p=h?Ui(w,t,u,r):Fi(w);t.prepareDrawProgram(t.context,y,g.toUnwrapped()),y.draw(t.context,_,n,t.stencilModeForClipping(g),a,e.CullFaceMode.disabled,p,o.id,v.layoutVertexBuffer,m,f,o.paint,t.transform.zoom,x);}}function xo(t,i,o,r,n,a,s){const l=t.context,c=l.gl,h=t.transform,u=o.paint.get(\"fill-extrusion-pattern\"),_=u.constantOr(1),d=o.getCrossfadeParameters(),p=o.paint.get(\"fill-extrusion-opacity\"),m=[o.paint.get(\"fill-extrusion-ambient-occlusion-intensity\"),o.paint.get(\"fill-extrusion-ambient-occlusion-radius\")],f=o.layout.get(\"fill-extrusion-edge-radius\"),g=\"globe\"===h.projection.name?e.fillExtrusionHeightLift():0,v=\"globe\"===h.projection.name,x=v?e.globeToMercatorTransition(h.zoom):0,y=[e.mercatorXfromLng(h.center.lng),e.mercatorYfromLat(h.center.lat)],b=[];v&&(b.push(\"PROJECTION_GLOBE_VIEW\"),t.style.terrainSetForDrapingOnly()&&b.push(\"TERRAIN\")),m[0]>0&&b.push(\"FAUX_AO\");for(const w of r){const r=i.getTile(w),T=r.getBucket(o);if(!T||T.projection.name!==h.projection.name)continue;const E=T.programConfigurations.get(o.id),C=t.useProgram(_?\"fillExtrusionPattern\":\"fillExtrusion\",E,b);if(t.terrain){const e=t.terrain;if(t.style.terrainSetForDrapingOnly())e.setupElevationDraw(r,C,{useMeterToDem:!0});else {if(!T.enableTerrain)continue;if(e.setupElevationDraw(r,C,{useMeterToDem:!0}),yo(l,i,w,T,o,e),!T.centroidVertexBuffer){const e=C.attributes.a_centroid_pos;void 0!==e&&c.vertexAttrib2f(e,0,0);}}}_&&(t.context.activeTexture.set(c.TEXTURE0),r.imageAtlasTexture.bind(c.LINEAR,c.CLAMP_TO_EDGE),E.updatePaintBuffers(d));const I=u.constantOr(null);if(I&&r.imageAtlas){const e=r.imageAtlas,t=e.patternPositions[I.to.toString()],i=e.patternPositions[I.from.toString()];t&&i&&E.setConstantPatternPositions(t,i);}const M=t.translatePosMatrix(w.projMatrix,r,o.paint.get(\"fill-extrusion-translate\"),o.paint.get(\"fill-extrusion-translate-anchor\")),S=h.projection.createInversionMatrix(h,w.canonical),z=o.paint.get(\"fill-extrusion-vertical-gradient\"),D=_?ki(M,t,z,p,m,f,w,d,r,g,x,y,S):Bi(M,t,z,p,m,f,w,g,x,y,S);t.prepareDrawProgram(l,C,w.toUnwrapped());const P=[];t.terrain&&P.push(T.centroidVertexBuffer),v&&P.push(T.layoutVertexExtBuffer),C.draw(l,l.gl.TRIANGLES,n,a,s,e.CullFaceMode.backCCW,D,o.id,T.layoutVertexBuffer,T.indexBuffer,T.segments,o.paint,t.transform.zoom,E,P);}}function yo(t,i,o,r,n,a){const s=[t=>{let i=t.canonical.x-1,o=t.wrap;return i<0&&(i=(1<<t.canonical.z)-1,o--),new e.OverscaledTileID(t.overscaledZ,o,t.canonical.z,i,t.canonical.y)},t=>{let i=t.canonical.x+1,o=t.wrap;return i===1<<t.canonical.z&&(i=0,o++),new e.OverscaledTileID(t.overscaledZ,o,t.canonical.z,i,t.canonical.y)},t=>new e.OverscaledTileID(t.overscaledZ,t.wrap,t.canonical.z,t.canonical.x,(0===t.canonical.y?1<<t.canonical.z:t.canonical.y)-1),t=>new e.OverscaledTileID(t.overscaledZ,t.wrap,t.canonical.z,t.canonical.x,t.canonical.y===(1<<t.canonical.z)-1?0:t.canonical.y+1)],l=e=>{const t=i.getSource().minzoom,o=e=>{const t=i.getTileByID(e);if(t&&t.hasData())return t.getBucket(n)},r=[0,-1,1];for(const i of r){if(e.overscaledZ+i<t)continue;const r=o(e.calculateScaledKey(e.overscaledZ+i));if(r)return r}},c=[0,0,0],h=(t,i)=>(c[0]=Math.min(t.min.y,i.min.y),c[1]=Math.max(t.max.y,i.max.y),c[2]=e.EXTENT-i.min.x>t.max.x?i.min.x-e.EXTENT:t.max.x,c),u=(t,i)=>(c[0]=Math.min(t.min.x,i.min.x),c[1]=Math.max(t.max.x,i.max.x),c[2]=e.EXTENT-i.min.y>t.max.y?i.min.y-e.EXTENT:t.max.y,c),_=[(e,t)=>h(e,t),(e,t)=>h(t,e),(e,t)=>u(e,t),(e,t)=>u(t,e)],d=new e.pointGeometry(0,0);let p,m,f;const g=(t,i,r,n,s)=>{const l=[[n?r:t,n?t:r,0],[n?r:i,n?i:r,0]],c=s<0?e.EXTENT+s:s,h=[n?c:(t+i)/2,n?(t+i)/2:c,0];return 0===r&&s<0||0!==r&&s>0?a.getForTilePoints(f,[h],!0,m):l.push(h),a.getForTilePoints(o,l,!0,p),Math.max(l[0][2],l[1][2],h[2])/a.exaggeration()};for(let t=0;t<4;t++){const i=(t<2?1:5)-t,n=r.borders[t];if(0===n.length)continue;const c=f=s[t](o),h=l(c);if(!(h&&h instanceof e.FillExtrusionBucket&&h.enableTerrain))continue;if(r.borderDoneWithNeighborZ[t]===h.canonical.z&&h.borderDoneWithNeighborZ[i]===r.canonical.z)continue;if(m=a.findDEMTileFor(c),!m||!m.dem)continue;if(!p){const e=a.findDEMTileFor(o);if(!e||!e.dem)return;p=e;}const u=h.borders[i];let v=0;const x=h.borderDoneWithNeighborZ[i]!==r.canonical.z;if(r.canonical.z===h.canonical.z){for(let o=0;o<n.length;o++){const a=r.featuresOnBorder[n[o]],s=a.borders[t];let l;for(;v<u.length&&(l=h.featuresOnBorder[u[v]],!(l.borders[i][1]>s[0]+3));)x&&h.encodeCentroid(void 0,l,!1),v++;if(l&&v<u.length){const o=v;let n=0;for(;!(l.borders[i][0]>s[1]-3)&&(n++,++v!==u.length);)l=h.featuresOnBorder[u[v]];if(l=h.featuresOnBorder[u[o]],a.intersectsCount()>1||l.intersectsCount()>1||1!==n){1!==n&&(v=o),r.encodeCentroid(void 0,a,!1),x&&h.encodeCentroid(void 0,l,!1);continue}const c=_[t](a,l),p=t%2?e.EXTENT-1:0;d.x=g(c[0],Math.min(e.EXTENT-1,c[1]),p,t<2,c[2]),d.y=0,r.encodeCentroid(d,a,!1),x&&h.encodeCentroid(d,l,!1);}else r.encodeCentroid(void 0,a,!1);}r.borderDoneWithNeighborZ[t]=h.canonical.z,r.needsCentroidUpdate=!0,x&&(h.borderDoneWithNeighborZ[i]=r.canonical.z,h.needsCentroidUpdate=!0);}else {for(const e of n)r.encodeCentroid(void 0,r.featuresOnBorder[e],!1);if(x){for(const e of u)h.encodeCentroid(void 0,h.featuresOnBorder[e],!1);h.borderDoneWithNeighborZ[i]=r.canonical.z,h.needsCentroidUpdate=!0;}r.borderDoneWithNeighborZ[t]=h.canonical.z,r.needsCentroidUpdate=!0;}}(r.needsCentroidUpdate||!r.centroidVertexBuffer&&0!==r.centroidVertexArray.length)&&r.uploadCentroid(t);}const bo=new e.Color(1,0,0,1),wo=new e.Color(0,1,0,1),To=new e.Color(0,0,1,1),Eo=new e.Color(1,0,1,1),Co=new e.Color(0,1,1,1);function Io(t,i,o){const r=t.context,n=t.transform,a=r.gl,s=\"globe\"===n.projection.name,l=s?[\"PROJECTION_GLOBE_VIEW\"]:null;let c=o.projMatrix;if(s&&e.globeToMercatorTransition(n.zoom)>0){const t=e.transitionTileAABBinECEF(o.canonical,n),i=e.globeDenormalizeECEF(t);c=e.multiply(new Float32Array(16),n.globeMatrix,i),e.multiply(c,n.projMatrix,c);}const h=t.useProgram(\"debug\",null,l),u=i.getTileByID(o.key);t.terrain&&t.terrain.setupElevationDraw(u,h);const _=e.DepthMode.disabled,d=e.StencilMode.disabled,p=t.colorModeForRenderPass(),m=\"$debug\";r.activeTexture.set(a.TEXTURE0),t.emptyTexture.bind(a.LINEAR,a.CLAMP_TO_EDGE),s?u._makeGlobeTileDebugBuffers(t.context,n):u._makeDebugTileBoundsBuffers(t.context,n.projection);const f=u._tileDebugBuffer||t.debugBuffer,g=u._tileDebugIndexBuffer||t.debugIndexBuffer,v=u._tileDebugSegments||t.debugSegments;h.draw(r,a.LINE_STRIP,_,d,p,e.CullFaceMode.disabled,Xi(c,e.Color.red),m,f,g,v,null,null,null,[u._globeTileDebugBorderBuffer]);const x=u.latestRawTileData,y=Math.floor((x&&x.byteLength||0)/1024),b=i.getTile(o).tileSize,w=512/Math.min(b,512)*(o.overscaledZ/n.zoom)*.5;let T=o.canonical.toString();o.overscaledZ!==o.canonical.z&&(T+=` => ${o.overscaledZ}`),T+=` ${y}kb`,function(e,t){e.initDebugOverlayCanvas();const i=e.debugOverlayCanvas,o=e.context.gl,r=e.debugOverlayCanvas.getContext(\"2d\");r.clearRect(0,0,i.width,i.height),r.shadowColor=\"white\",r.shadowBlur=2,r.lineWidth=1.5,r.strokeStyle=\"white\",r.textBaseline=\"top\",r.font=\"bold 36px Open Sans, sans-serif\",r.fillText(t,5,5),r.strokeText(t,5,5),e.debugOverlayTexture.update(i),e.debugOverlayTexture.bind(o.LINEAR,o.CLAMP_TO_EDGE);}(t,T);const E=u._tileDebugTextBuffer||t.debugBuffer,C=u._tileDebugTextIndexBuffer||t.quadTriangleIndexBuffer,I=u._tileDebugTextSegments||t.debugSegments;h.draw(r,a.TRIANGLES,_,d,e.ColorMode.alphaBlended,e.CullFaceMode.disabled,Xi(c,e.Color.transparent,w),m,E,C,I,null,null,null,[u._globeTileDebugTextBuffer]);}function Mo(e,t,i,o){zo(e,0,t+i/2,e.transform.width,i,o);}function So(e,t,i,o){zo(e,t-i/2,0,i,e.transform.height,o);}function zo(t,i,o,r,n,a){const s=t.context,l=s.gl;l.enable(l.SCISSOR_TEST),l.scissor(i*e.exported.devicePixelRatio,o*e.exported.devicePixelRatio,r*e.exported.devicePixelRatio,n*e.exported.devicePixelRatio),s.clear({color:a}),l.disable(l.SCISSOR_TEST);}const Do=e.createLayout([{name:\"a_pos_3f\",components:3,type:\"Float32\"}]),{members:Po}=Do;function Ao(e,t,i,o){e.emplaceBack(t,i,o);}class Lo{constructor(t){this.vertexArray=new e.StructArrayLayout3f12,this.indices=new e.StructArrayLayout3ui6,Ao(this.vertexArray,-1,-1,1),Ao(this.vertexArray,1,-1,1),Ao(this.vertexArray,-1,1,1),Ao(this.vertexArray,1,1,1),Ao(this.vertexArray,-1,-1,-1),Ao(this.vertexArray,1,-1,-1),Ao(this.vertexArray,-1,1,-1),Ao(this.vertexArray,1,1,-1),this.indices.emplaceBack(5,1,3),this.indices.emplaceBack(3,7,5),this.indices.emplaceBack(6,2,0),this.indices.emplaceBack(0,4,6),this.indices.emplaceBack(2,6,7),this.indices.emplaceBack(7,3,2),this.indices.emplaceBack(5,4,0),this.indices.emplaceBack(0,1,5),this.indices.emplaceBack(0,2,3),this.indices.emplaceBack(3,1,0),this.indices.emplaceBack(7,6,4),this.indices.emplaceBack(4,5,7),this.vertexBuffer=t.createVertexBuffer(this.vertexArray,Po),this.indexBuffer=t.createIndexBuffer(this.indices),this.segment=e.SegmentVector.simpleSegment(0,0,36,12);}}function Ro(t,i,o,r,n,a){const s=t.gl,l=i.paint.get(\"sky-atmosphere-color\"),c=i.paint.get(\"sky-atmosphere-halo-color\"),h=i.paint.get(\"sky-atmosphere-sun-intensity\"),u=((e,t,i,o,r)=>({u_matrix_3f:e,u_sun_direction:t,u_sun_intensity:i,u_color_tint_r:[o.r,o.g,o.b,o.a],u_color_tint_m:[r.r,r.g,r.b,r.a],u_luminance:5e-5}))(e.fromMat4(e.create$1(),r),n,h,l,c);s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_CUBE_MAP_POSITIVE_X+a,i.skyboxTexture,0),o.draw(t,s.TRIANGLES,e.DepthMode.disabled,e.StencilMode.disabled,e.ColorMode.unblended,e.CullFaceMode.frontCW,u,\"skyboxCapture\",i.skyboxGeometry.vertexBuffer,i.skyboxGeometry.indexBuffer,i.skyboxGeometry.segment);}const Oo=e.createLayout([{type:\"Float32\",name:\"a_pos\",components:3},{type:\"Float32\",name:\"a_uv\",components:2}]);class Bo{constructor(t){const i=new e.StructArrayLayout5f20;i.emplaceBack(-1,1,1,0,0),i.emplaceBack(1,1,1,1,0),i.emplaceBack(1,-1,1,1,1),i.emplaceBack(-1,-1,1,0,1);const o=new e.StructArrayLayout3ui6;o.emplaceBack(0,1,2),o.emplaceBack(2,3,0),this.vertexBuffer=t.createVertexBuffer(i,Oo.members),this.indexBuffer=t.createIndexBuffer(o),this.segments=e.SegmentVector.simpleSegment(0,0,4,2);}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy();}}const ko={symbol:function(t,i,o,r,n){if(\"translucent\"!==t.renderPass)return;const a=e.StencilMode.disabled,s=t.colorModeForRenderPass();o.layout.get(\"text-variable-anchor\")&&function(t,i,o,r,n,a,s){const l=i.transform,c=\"map\"===n,h=\"map\"===a;for(const i of t){const t=r.getTile(i),n=t.getBucket(o);if(!n||!n.text||!n.text.segments.get().length)continue;const a=e.evaluateSizeForZoom(n.textSizeData,l.zoom),u=wt(i,n.getProjection(),l),_=l.calculatePixelsToTileUnitsMatrix(t),d=tt(u,t.tileID.canonical,h,c,l,n.getProjection(),_),p=\"none\"!==o.layout.get(\"icon-text-fit\")&&n.hasIconData();if(a){const o=Math.pow(2,l.zoom-t.tileID.overscaledZ);po(n,c,h,s,e.symbolSize,l,d,i,o,a,p);}}}(r,t,o,i,o.layout.get(\"text-rotation-alignment\"),o.layout.get(\"text-pitch-alignment\"),n),0!==o.paint.get(\"icon-opacity\").constantOr(1)&&fo(t,i,o,r,!1,o.paint.get(\"icon-translate\"),o.paint.get(\"icon-translate-anchor\"),o.layout.get(\"icon-rotation-alignment\"),o.layout.get(\"icon-pitch-alignment\"),o.layout.get(\"icon-keep-upright\"),a,s),0!==o.paint.get(\"text-opacity\").constantOr(1)&&fo(t,i,o,r,!0,o.paint.get(\"text-translate\"),o.paint.get(\"text-translate-anchor\"),o.layout.get(\"text-rotation-alignment\"),o.layout.get(\"text-pitch-alignment\"),o.layout.get(\"text-keep-upright\"),a,s),i.map.showCollisionBoxes&&(ho(t,i,o,r,o.paint.get(\"text-translate\"),o.paint.get(\"text-translate-anchor\"),!0),ho(t,i,o,r,o.paint.get(\"icon-translate\"),o.paint.get(\"icon-translate-anchor\"),!1));},circle:function(t,i,o,r){if(\"translucent\"!==t.renderPass)return;const n=o.paint.get(\"circle-opacity\"),a=o.paint.get(\"circle-stroke-width\"),s=o.paint.get(\"circle-stroke-opacity\"),l=void 0!==o.layout.get(\"circle-sort-key\").constantOr(1);if(0===n.constantOr(1)&&(0===a.constantOr(1)||0===s.constantOr(1)))return;const c=t.context,h=c.gl,u=t.transform,_=t.depthModeForSublayer(0,e.DepthMode.ReadOnly),d=e.StencilMode.disabled,p=t.colorModeForRenderPass(),m=\"globe\"===u.projection.name,f=[e.mercatorXfromLng(u.center.lng),e.mercatorYfromLat(u.center.lat)],g=[];for(let n=0;n<r.length;n++){const a=r[n],s=i.getTile(a),c=s.getBucket(o);if(!c||c.projection.name!==u.projection.name)continue;const h=c.programConfigurations.get(o.id),_=Vi(o);m&&_.push(\"PROJECTION_GLOBE_VIEW\");const d=t.useProgram(\"circle\",h,_),p=c.layoutVertexBuffer,v=c.globeExtVertexBuffer,x=c.indexBuffer,y=u.projection.createInversionMatrix(u,a.canonical),b={programConfiguration:h,program:d,layoutVertexBuffer:p,globeExtVertexBuffer:v,indexBuffer:x,uniformValues:Zi(t,a,s,y,f,o),tile:s};if(l){const t=c.segments.get();for(const i of t)g.push({segments:new e.SegmentVector([i]),sortKey:i.sortKey,state:b});}else g.push({segments:c.segments,sortKey:0,state:b});}l&&g.sort(((e,t)=>e.sortKey-t.sortKey));const v={useDepthForOcclusion:!m};for(const i of g){const{programConfiguration:r,program:n,layoutVertexBuffer:a,globeExtVertexBuffer:s,indexBuffer:l,uniformValues:m,tile:f}=i.state,g=i.segments;t.terrain&&t.terrain.setupElevationDraw(f,n,v),t.prepareDrawProgram(c,n,f.tileID.toUnwrapped()),n.draw(c,h.TRIANGLES,_,d,p,e.CullFaceMode.disabled,m,o.id,a,l,g,o.paint,u.zoom,r,[s]);}},heatmap:function(t,i,o,r){if(0!==o.paint.get(\"heatmap-opacity\"))if(\"offscreen\"===t.renderPass){const n=t.context,a=n.gl,s=e.StencilMode.disabled,l=new e.ColorMode([a.ONE,a.ONE],e.Color.transparent,[!0,!0,!0,!0]);!function(e,t,i,o){const r=e.gl,n=t.width*o,a=t.height*o;e.activeTexture.set(r.TEXTURE1),e.viewport.set([0,0,n,a]);let s=i.heatmapFbo;if(!s||s&&(s.width!==n||s.height!==a)){s&&s.destroy();const t=r.createTexture();r.bindTexture(r.TEXTURE_2D,t),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),s=i.heatmapFbo=e.createFramebuffer(n,a,!1),function(e,t,i,o,r,n){const a=e.gl;a.texImage2D(a.TEXTURE_2D,0,a.RGBA,r,n,0,a.RGBA,e.extRenderToTextureHalfFloat?e.extTextureHalfFloat.HALF_FLOAT_OES:a.UNSIGNED_BYTE,null),o.colorAttachment.set(i);}(e,0,t,s,n,a);}else r.bindTexture(r.TEXTURE_2D,s.colorAttachment.get()),e.bindFramebuffer.set(s.framebuffer);}(n,t,o,\"globe\"===t.transform.projection.name?.5:.25),n.clear({color:e.Color.transparent});const c=t.transform,h=\"globe\"===c.projection.name,u=h?[\"PROJECTION_GLOBE_VIEW\"]:null,_=h?e.CullFaceMode.frontCCW:e.CullFaceMode.disabled,d=[e.mercatorXfromLng(c.center.lng),e.mercatorYfromLat(c.center.lat)];for(let p=0;p<r.length;p++){const m=r[p];if(i.hasRenderableParent(m))continue;const f=i.getTile(m),g=f.getBucket(o);if(!g||g.projection.name!==c.projection.name)continue;const v=g.programConfigurations.get(o.id),x=t.useProgram(\"heatmap\",v,u),{zoom:y}=t.transform;t.terrain&&t.terrain.setupElevationDraw(f,x),t.prepareDrawProgram(n,x,m.toUnwrapped());const b=c.projection.createInversionMatrix(c,m.canonical);x.draw(n,a.TRIANGLES,e.DepthMode.disabled,s,l,_,$i(t,m,f,b,d,y,o.paint.get(\"heatmap-intensity\")),o.id,g.layoutVertexBuffer,g.indexBuffer,g.segments,o.paint,t.transform.zoom,v,h?[g.globeExtVertexBuffer]:null);}n.viewport.set([0,0,t.width,t.height]);}else \"translucent\"===t.renderPass&&(t.context.setColorMode(t.colorModeForRenderPass()),function(t,i){const o=t.context,r=o.gl,n=i.heatmapFbo;if(!n)return;o.activeTexture.set(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,n.colorAttachment.get()),o.activeTexture.set(r.TEXTURE1);let a=i.colorRampTexture;a||(a=i.colorRampTexture=new e.Texture(o,i.colorRamp,r.RGBA)),a.bind(r.LINEAR,r.CLAMP_TO_EDGE),t.useProgram(\"heatmapTexture\").draw(o,r.TRIANGLES,e.DepthMode.disabled,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.disabled,((e,t,i,o)=>({u_image:0,u_color_ramp:1,u_opacity:t.paint.get(\"heatmap-opacity\")}))(0,i),i.id,t.viewportBuffer,t.quadTriangleIndexBuffer,t.viewportSegments,i.paint,t.transform.zoom);}(t,o));},line:function(t,i,o,r){if(\"translucent\"!==t.renderPass)return;const n=o.paint.get(\"line-opacity\"),a=o.paint.get(\"line-width\");if(0===n.constantOr(1)||0===a.constantOr(1))return;const s=t.depthModeForSublayer(0,e.DepthMode.ReadOnly),l=t.colorModeForRenderPass(),c=t.terrain&&t.terrain.renderingToTexture?1:e.exported.devicePixelRatio,h=o.paint.get(\"line-dasharray\"),u=h.constantOr(1),_=o.layout.get(\"line-cap\"),d=o.paint.get(\"line-pattern\"),p=d.constantOr(1),m=o.paint.get(\"line-gradient\"),f=o.getCrossfadeParameters(),g=p?\"linePattern\":\"line\",v=t.context,x=v.gl,y=(e=>{const t=[];Qi(e)&&t.push(\"RENDER_LINE_DASH\"),e.paint.get(\"line-gradient\")&&t.push(\"RENDER_LINE_GRADIENT\");const i=e.paint.get(\"line-trim-offset\");0===i[0]&&0===i[1]||t.push(\"RENDER_LINE_TRIM_OFFSET\");const o=e.paint.get(\"line-pattern\").constantOr(1),r=1!==e.paint.get(\"line-opacity\").constantOr(1);return !o&&r&&t.push(\"RENDER_LINE_ALPHA_DISCARD\"),t})(o);let b=y.includes(\"RENDER_LINE_ALPHA_DISCARD\");t.terrain&&t.terrain.clipOrMaskOverlapStencilType()&&(b=!1);for(const n of r){const r=i.getTile(n);if(p&&!r.patternsLoaded())continue;const a=r.getBucket(o);if(!a)continue;t.prepareDrawTile();const w=a.programConfigurations.get(o.id),T=t.useProgram(g,w,y),E=d.constantOr(null);if(E&&r.imageAtlas){const e=r.imageAtlas,t=e.patternPositions[E.to.toString()],i=e.patternPositions[E.from.toString()];t&&i&&w.setConstantPatternPositions(t,i);}const C=h.constantOr(null),I=_.constantOr(null);if(!p&&C&&I&&r.lineAtlas){const e=r.lineAtlas,t=e.getDash(C.to,I),i=e.getDash(C.from,I);t&&i&&w.setConstantPatternPositions(t,i);}let[M,S]=o.paint.get(\"line-trim-offset\");if(\"round\"===I||\"square\"===I){const e=1;M!==S&&(0===M&&(M-=e),1===S&&(S+=e));}const z=t.terrain?n.projMatrix:null,D=p?Yi(t,r,o,f,z,c):Hi(t,r,o,f,z,a.lineClipsArray.length,c,[M,S]);if(m){const r=a.gradients[o.id];let s=r.texture;if(o.gradientVersion!==r.version){let l=256;if(o.stepInterpolant){const o=i.getSource().maxzoom,r=n.canonical.z===o?Math.ceil(1<<t.transform.maxZoom-n.canonical.z):1;l=e.clamp(e.nextPowerOfTwo(a.maxLineLength/e.EXTENT*1024*r),256,v.maxTextureSize);}r.gradient=e.renderColorRamp({expression:o.gradientExpression(),evaluationKey:\"lineProgress\",resolution:l,image:r.gradient||void 0,clips:a.lineClipsArray}),r.texture?r.texture.update(r.gradient):r.texture=new e.Texture(v,r.gradient,x.RGBA),r.version=o.gradientVersion,s=r.texture;}v.activeTexture.set(x.TEXTURE1),s.bind(o.stepInterpolant?x.NEAREST:x.LINEAR,x.CLAMP_TO_EDGE);}u&&(v.activeTexture.set(x.TEXTURE0),r.lineAtlasTexture.bind(x.LINEAR,x.REPEAT),w.updatePaintBuffers(f)),p&&(v.activeTexture.set(x.TEXTURE0),r.imageAtlasTexture.bind(x.LINEAR,x.CLAMP_TO_EDGE),w.updatePaintBuffers(f)),t.prepareDrawProgram(v,T,n.toUnwrapped());const P=i=>{T.draw(v,x.TRIANGLES,s,i,l,e.CullFaceMode.disabled,D,o.id,a.layoutVertexBuffer,a.indexBuffer,a.segments,o.paint,t.transform.zoom,w,[a.layoutVertexBuffer2]);};if(b){const i=t.stencilModeForClipping(n).ref;0===i&&t.terrain&&v.clear({stencil:0});const o={func:x.EQUAL,mask:255};D.u_alpha_discard_threshold=.8,P(new e.StencilMode(o,i,255,x.KEEP,x.KEEP,x.INVERT)),D.u_alpha_discard_threshold=0,P(new e.StencilMode(o,i,255,x.KEEP,x.KEEP,x.KEEP));}else P(t.stencilModeForClipping(n));}b&&(t.resetStencilClippingMasks(),t.terrain&&v.clear({stencil:0}));},fill:function(t,i,o,r){const n=o.paint.get(\"fill-color\"),a=o.paint.get(\"fill-opacity\");if(0===a.constantOr(1))return;const s=t.colorModeForRenderPass(),l=o.paint.get(\"fill-pattern\"),c=t.opaquePassEnabledForLayer()&&!l.constantOr(1)&&1===n.constantOr(e.Color.transparent).a&&1===a.constantOr(0)?\"opaque\":\"translucent\";if(t.renderPass===c){const n=t.depthModeForSublayer(1,\"opaque\"===t.renderPass?e.DepthMode.ReadWrite:e.DepthMode.ReadOnly);vo(t,i,o,r,n,s,!1);}if(\"translucent\"===t.renderPass&&o.paint.get(\"fill-antialias\")){const n=t.depthModeForSublayer(o.getPaintProperty(\"fill-outline-color\")?2:0,e.DepthMode.ReadOnly);vo(t,i,o,r,n,s,!0);}},\"fill-extrusion\":function(t,i,o,r){const n=o.paint.get(\"fill-extrusion-opacity\");if(0!==n&&\"translucent\"===t.renderPass){const a=new e.DepthMode(t.context.gl.LEQUAL,e.DepthMode.ReadWrite,t.depthRangeFor3D);if(1!==n||o.paint.get(\"fill-extrusion-pattern\").constantOr(1))xo(t,i,o,r,a,e.StencilMode.disabled,e.ColorMode.disabled),xo(t,i,o,r,a,t.stencilModeFor3D(),t.colorModeForRenderPass()),t.resetStencilClippingMasks();else {const n=t.colorModeForRenderPass();xo(t,i,o,r,a,e.StencilMode.disabled,n);}}},hillshade:function(t,i,o,r){if(\"offscreen\"!==t.renderPass&&\"translucent\"!==t.renderPass)return;const n=t.context,a=t.depthModeForSublayer(0,e.DepthMode.ReadOnly),s=t.colorModeForRenderPass(),l=t.terrain&&t.terrain.renderingToTexture,[c,h]=\"translucent\"!==t.renderPass||l?[{},r]:t.stencilConfigForOverlap(r);for(const r of h){const n=i.getTile(r);if(n.needsHillshadePrepare&&\"offscreen\"===t.renderPass)xi(t,n,o,a,e.StencilMode.disabled,s);else if(\"translucent\"===t.renderPass){const e=l&&t.terrain?t.terrain.stencilModeForRTTOverlap(r):c[r.overscaledZ];gi(t,r,n,o,a,e,s);}}n.viewport.set([0,0,t.width,t.height]),t.resetStencilClippingMasks();},raster:function(t,i,o,r,n,a){if(\"translucent\"!==t.renderPass)return;if(0===o.paint.get(\"raster-opacity\"))return;if(!r.length)return;const s=t.context,l=s.gl,c=i.getSource(),h=t.useProgram(\"raster\"),u=t.colorModeForRenderPass(),_=t.terrain&&t.terrain.renderingToTexture,[d,p]=c instanceof De||_?[{},r]:t.stencilConfigForOverlap(r),m=p[p.length-1].overscaledZ,f=!t.options.moving;for(const r of p){const n=_?e.DepthMode.disabled:t.depthModeForSublayer(r.overscaledZ-m,1===o.paint.get(\"raster-opacity\")?e.DepthMode.ReadWrite:e.DepthMode.ReadOnly,l.LESS),p=r.toUnwrapped(),g=i.getTile(r);if(_&&(!g||!g.hasData()))continue;const v=_?r.projMatrix:t.transform.calculateProjMatrix(p,f),x=t.terrain&&_?t.terrain.stencilModeForRTTOverlap(r):d[r.overscaledZ],y=a?0:o.paint.get(\"raster-fade-duration\");g.registerFadeDuration(y);const b=i.findLoadedParent(r,0),w=Si(g,b,i,t.transform,y);let T,E;t.terrain&&t.terrain.prepareDrawTile();const C=\"nearest\"===o.paint.get(\"raster-resampling\")?l.NEAREST:l.LINEAR;s.activeTexture.set(l.TEXTURE0),g.texture.bind(C,l.CLAMP_TO_EDGE),s.activeTexture.set(l.TEXTURE1),b?(b.texture.bind(C,l.CLAMP_TO_EDGE),T=Math.pow(2,b.tileID.overscaledZ-g.tileID.overscaledZ),E=[g.tileID.canonical.x*T%1,g.tileID.canonical.y*T%1]):g.texture.bind(C,l.CLAMP_TO_EDGE);const I=eo(v,E||[0,0],T||1,w,o,c instanceof De?c.perspectiveTransform:[0,0]);if(t.prepareDrawProgram(s,h,p),c instanceof De)c.boundsBuffer&&c.boundsSegments&&h.draw(s,l.TRIANGLES,n,e.StencilMode.disabled,u,e.CullFaceMode.disabled,I,o.id,c.boundsBuffer,t.quadTriangleIndexBuffer,c.boundsSegments);else {const{tileBoundsBuffer:i,tileBoundsIndexBuffer:r,tileBoundsSegments:a}=t.getTileBoundsBuffers(g);h.draw(s,l.TRIANGLES,n,x,u,e.CullFaceMode.disabled,I,o.id,i,r,a);}}t.resetStencilClippingMasks();},background:function(t,i,o,r){const n=o.paint.get(\"background-color\"),a=o.paint.get(\"background-opacity\");if(0===a)return;const s=t.context,l=s.gl,c=t.transform,h=c.tileSize,u=o.paint.get(\"background-pattern\");if(t.isPatternMissing(u))return;const _=!u&&1===n.a&&1===a&&t.opaquePassEnabledForLayer()?\"opaque\":\"translucent\";if(t.renderPass!==_)return;const d=e.StencilMode.disabled,p=t.depthModeForSublayer(0,\"opaque\"===_?e.DepthMode.ReadWrite:e.DepthMode.ReadOnly),m=t.colorModeForRenderPass(),f=t.useProgram(u?\"backgroundPattern\":\"background\");let g,v=r;v||(g=t.getBackgroundTiles(),v=Object.values(g).map((e=>e.tileID))),u&&(s.activeTexture.set(l.TEXTURE0),t.imageManager.bind(t.context));const x=o.getCrossfadeParameters();for(const _ of v){const v=_.toUnwrapped(),y=r?_.projMatrix:t.transform.calculateProjMatrix(v);t.prepareDrawTile();const b=i?i.getTile(_):g?g[_.key]:new e.Tile(_,h,c.zoom,t),w=u?so(y,a,t,u,{tileID:_,tileSize:h},x):ao(y,a,n);t.prepareDrawProgram(s,f,v);const{tileBoundsBuffer:T,tileBoundsIndexBuffer:E,tileBoundsSegments:C}=t.getTileBoundsBuffers(b);f.draw(s,l.TRIANGLES,p,d,m,e.CullFaceMode.disabled,w,o.id,T,E,C);}},sky:function(t,i,o){const r=t.transform,n=\"mercator\"===r.projection.name||\"globe\"===r.projection.name?1:e.smoothstep(7,8,r.zoom),a=o.paint.get(\"sky-opacity\")*n;if(0===a)return;const s=t.context,l=o.paint.get(\"sky-type\"),c=new e.DepthMode(s.gl.LEQUAL,e.DepthMode.ReadOnly,[0,1]),h=t.frameCounter/1e3%1;\"atmosphere\"===l?\"offscreen\"===t.renderPass?o.needsSkyboxCapture(t)&&(function(t,i,o,r){const n=t.context,a=n.gl;let s=i.skyboxFbo;if(!s){s=i.skyboxFbo=n.createFramebuffer(32,32,!1),i.skyboxGeometry=new Lo(n),i.skyboxTexture=n.gl.createTexture(),a.bindTexture(a.TEXTURE_CUBE_MAP,i.skyboxTexture),a.texParameteri(a.TEXTURE_CUBE_MAP,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_CUBE_MAP,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_CUBE_MAP,a.TEXTURE_MIN_FILTER,a.LINEAR),a.texParameteri(a.TEXTURE_CUBE_MAP,a.TEXTURE_MAG_FILTER,a.LINEAR);for(let e=0;e<6;++e)a.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+e,0,a.RGBA,32,32,0,a.RGBA,a.UNSIGNED_BYTE,null);}n.bindFramebuffer.set(s.framebuffer),n.viewport.set([0,0,32,32]);const l=i.getCenter(t,!0),c=t.useProgram(\"skyboxCapture\"),h=new Float64Array(16);e.identity(h),e.rotateY(h,h,.5*-Math.PI),Ro(n,i,c,h,l,0),e.identity(h),e.rotateY(h,h,.5*Math.PI),Ro(n,i,c,h,l,1),e.identity(h),e.rotateX(h,h,.5*-Math.PI),Ro(n,i,c,h,l,2),e.identity(h),e.rotateX(h,h,.5*Math.PI),Ro(n,i,c,h,l,3),e.identity(h),Ro(n,i,c,h,l,4),e.identity(h),e.rotateY(h,h,Math.PI),Ro(n,i,c,h,l,5),n.viewport.set([0,0,t.width,t.height]);}(t,o),o.markSkyboxValid(t)):\"sky\"===t.renderPass&&function(t,i,o,r,n){const a=t.context,s=a.gl,l=t.transform,c=t.useProgram(\"skybox\");a.activeTexture.set(s.TEXTURE0),s.bindTexture(s.TEXTURE_CUBE_MAP,i.skyboxTexture);const h=((e,t,i,o,r)=>({u_matrix:e,u_sun_direction:t,u_cubemap:0,u_opacity:o,u_temporal_offset:r}))(l.skyboxMatrix,i.getCenter(t,!1),0,r,n);t.prepareDrawProgram(a,c),c.draw(a,s.TRIANGLES,o,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.backCW,h,\"skybox\",i.skyboxGeometry.vertexBuffer,i.skyboxGeometry.indexBuffer,i.skyboxGeometry.segment);}(t,o,c,a,h):\"gradient\"===l&&\"sky\"===t.renderPass&&function(t,i,o,r,n){const a=t.context,s=a.gl,l=t.transform,c=t.useProgram(\"skyboxGradient\");i.skyboxGeometry||(i.skyboxGeometry=new Lo(a)),a.activeTexture.set(s.TEXTURE0);let h=i.colorRampTexture;h||(h=i.colorRampTexture=new e.Texture(a,i.colorRamp,s.RGBA)),h.bind(s.LINEAR,s.CLAMP_TO_EDGE);const u=((t,i,o,r,n)=>({u_matrix:t,u_color_ramp:0,u_center_direction:i,u_radius:e.degToRad(o),u_opacity:r,u_temporal_offset:n}))(l.skyboxMatrix,i.getCenter(t,!1),i.paint.get(\"sky-gradient-radius\"),r,n);t.prepareDrawProgram(a,c),c.draw(a,s.TRIANGLES,o,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.backCW,u,\"skyboxGradient\",i.skyboxGeometry.vertexBuffer,i.skyboxGeometry.indexBuffer,i.skyboxGeometry.segment);}(t,o,c,a,h);},debug:function(e,t,i){for(let o=0;o<i.length;o++)Io(e,t,i[o]);},custom:function(t,i,o){const r=t.context,n=o.implementation;if(t.transform.projection.unsupportedLayers&&t.transform.projection.unsupportedLayers.includes(\"custom\"))e.warnOnce(\"Custom layers are not yet supported with non-mercator projections. Use mercator to enable custom layers.\");else if(\"offscreen\"===t.renderPass){const e=n.prerender;e&&(t.setCustomLayerDefaults(),r.setColorMode(t.colorModeForRenderPass()),e.call(n,r.gl,t.transform.customLayerMatrix()),r.setDirty(),t.setBaseState());}else if(\"translucent\"===t.renderPass){t.setCustomLayerDefaults(),r.setColorMode(t.colorModeForRenderPass()),r.setStencilMode(e.StencilMode.disabled);const i=\"3d\"===n.renderingMode?new e.DepthMode(t.context.gl.LEQUAL,e.DepthMode.ReadWrite,t.depthRangeFor3D):t.depthModeForSublayer(0,e.DepthMode.ReadOnly);r.setDepthMode(i),n.render(r.gl,t.transform.customLayerMatrix()),r.setDirty(),t.setBaseState(),r.bindFramebuffer.set(null);}}};class Fo{constructor(t,i){this.context=new Ie(t),this.transform=i,this._tileTextures={},this.frameCopies=[],this.loadTimeStamps=[],this.setup(),this.numSublayers=e.SourceCache.maxUnderzooming+e.SourceCache.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new $t,this.deferredRenderGpuTimeQueries=[],this.gpuTimers={},this.frameCounter=0,this._backgroundTiles={};}updateTerrain(e,t){const i=!!e&&!!e.terrain&&this.transform.projection.supportsTerrain;if(!(i||this._terrain&&this._terrain.enabled))return;this._terrain||(this._terrain=new Ai(this,e));const o=this._terrain;this.transform.elevation=i?o:null,o.update(e,this.transform,t);}_updateFog(e){const t=e.fog;if(!t||\"globe\"===this.transform.projection.name||t.getOpacity(this.transform.pitch)<1||t.properties.get(\"horizon-blend\")<.03)return void(this.transform.fogCullDistSq=null);const[i,o]=t.getFovAdjustedRange(this.transform._fov);if(i>o)return void(this.transform.fogCullDistSq=null);const r=i+.78*(o-i);this.transform.fogCullDistSq=r*r;}get terrain(){return this.transform._terrainEnabled()&&this._terrain&&this._terrain.enabled?this._terrain:null}resize(t,i){if(this.width=t*e.exported.devicePixelRatio,this.height=i*e.exported.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const e of this.style.order)this.style._layers[e].resize();}setup(){const t=this.context,i=new e.StructArrayLayout2i4;i.emplaceBack(0,0),i.emplaceBack(e.EXTENT,0),i.emplaceBack(0,e.EXTENT),i.emplaceBack(e.EXTENT,e.EXTENT),this.tileExtentBuffer=t.createVertexBuffer(i,e.posAttributes.members),this.tileExtentSegments=e.SegmentVector.simpleSegment(0,0,4,2);const o=new e.StructArrayLayout2i4;o.emplaceBack(0,0),o.emplaceBack(e.EXTENT,0),o.emplaceBack(0,e.EXTENT),o.emplaceBack(e.EXTENT,e.EXTENT),this.debugBuffer=t.createVertexBuffer(o,e.posAttributes.members),this.debugSegments=e.SegmentVector.simpleSegment(0,0,4,5);const r=new e.StructArrayLayout2i4;r.emplaceBack(-1,-1),r.emplaceBack(1,-1),r.emplaceBack(-1,1),r.emplaceBack(1,1),this.viewportBuffer=t.createVertexBuffer(r,e.posAttributes.members),this.viewportSegments=e.SegmentVector.simpleSegment(0,0,4,2);const n=new e.StructArrayLayout4i8;n.emplaceBack(0,0,0,0),n.emplaceBack(e.EXTENT,0,e.EXTENT,0),n.emplaceBack(0,e.EXTENT,0,e.EXTENT),n.emplaceBack(e.EXTENT,e.EXTENT,e.EXTENT,e.EXTENT),this.mercatorBoundsBuffer=t.createVertexBuffer(n,e.boundsAttributes.members),this.mercatorBoundsSegments=e.SegmentVector.simpleSegment(0,0,4,2);const a=new e.StructArrayLayout3ui6;a.emplaceBack(0,1,2),a.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=t.createIndexBuffer(a);const s=new e.StructArrayLayout1ui2;for(const e of [0,1,3,2,0])s.emplaceBack(e);this.debugIndexBuffer=t.createIndexBuffer(s),this.emptyTexture=new e.Texture(t,new e.RGBAImage({width:1,height:1},Uint8Array.of(0,0,0,0)),t.gl.RGBA),this.identityMat=e.create();const l=this.context.gl;this.stencilClearMode=new e.StencilMode({func:l.ALWAYS,mask:0},0,255,l.ZERO,l.ZERO,l.ZERO),this.loadTimeStamps.push(e.window.performance.now()),this.atmosphereBuffer=new Bo(this.context);}getMercatorTileBoundsBuffers(){return {tileBoundsBuffer:this.mercatorBoundsBuffer,tileBoundsIndexBuffer:this.quadTriangleIndexBuffer,tileBoundsSegments:this.mercatorBoundsSegments}}getTileBoundsBuffers(e){return e._makeTileBoundsBuffers(this.context,this.transform.projection),e._tileBoundsBuffer?{tileBoundsBuffer:e._tileBoundsBuffer,tileBoundsIndexBuffer:e._tileBoundsIndexBuffer,tileBoundsSegments:e._tileBoundsSegments}:this.getMercatorTileBoundsBuffers()}clearStencil(){const t=this.context,i=t.gl;this.nextStencilID=1,this.currentStencilSource=void 0,this._tileClippingMaskIDs={},this.useProgram(\"clippingMask\").draw(t,i.TRIANGLES,e.DepthMode.disabled,this.stencilClearMode,e.ColorMode.disabled,e.CullFaceMode.disabled,Mi(this.identityMat),\"$clipping\",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments);}resetStencilClippingMasks(){this.terrain||(this.currentStencilSource=void 0,this._tileClippingMaskIDs={});}_renderTileClippingMasks(t,i,o){if(!i||this.currentStencilSource===i.id||!t.isTileClipped()||!o||0===o.length)return;if(this._tileClippingMaskIDs&&!this.terrain){let e=!1;for(const t of o)if(void 0===this._tileClippingMaskIDs[t.key]){e=!0;break}if(!e)return}this.currentStencilSource=i.id;const r=this.context,n=r.gl;this.nextStencilID+o.length>256&&this.clearStencil(),r.setColorMode(e.ColorMode.disabled),r.setDepthMode(e.DepthMode.disabled);const a=this.useProgram(\"clippingMask\");this._tileClippingMaskIDs={};for(const t of o){const o=i.getTile(t),s=this._tileClippingMaskIDs[t.key]=this.nextStencilID++,{tileBoundsBuffer:l,tileBoundsIndexBuffer:c,tileBoundsSegments:h}=this.getTileBoundsBuffers(o);a.draw(r,n.TRIANGLES,e.DepthMode.disabled,new e.StencilMode({func:n.ALWAYS,mask:0},s,255,n.KEEP,n.KEEP,n.REPLACE),e.ColorMode.disabled,e.CullFaceMode.disabled,Mi(t.projMatrix),\"$clipping\",l,c,h);}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const t=this.nextStencilID++,i=this.context.gl;return new e.StencilMode({func:i.NOTEQUAL,mask:255},t,255,i.KEEP,i.KEEP,i.REPLACE)}stencilModeForClipping(t){if(this.terrain)return this.terrain.stencilModeForRTTOverlap(t);const i=this.context.gl;return new e.StencilMode({func:i.EQUAL,mask:255},this._tileClippingMaskIDs[t.key],0,i.KEEP,i.KEEP,i.REPLACE)}stencilConfigForOverlap(t){const i=this.context.gl,o=t.sort(((e,t)=>t.overscaledZ-e.overscaledZ)),r=o[o.length-1].overscaledZ,n=o[0].overscaledZ-r+1;if(n>1){this.currentStencilSource=void 0,this.nextStencilID+n>256&&this.clearStencil();const t={};for(let o=0;o<n;o++)t[o+r]=new e.StencilMode({func:i.GEQUAL,mask:255},o+this.nextStencilID,255,i.KEEP,i.KEEP,i.REPLACE);return this.nextStencilID+=n,[t,o]}return [{[r]:e.StencilMode.disabled},o]}colorModeForRenderPass(){const t=this.context.gl;if(this._showOverdrawInspector){const i=1/8;return new e.ColorMode([t.CONSTANT_COLOR,t.ONE],new e.Color(i,i,i,0),[!0,!0,!0,!0])}return \"opaque\"===this.renderPass?e.ColorMode.unblended:e.ColorMode.alphaBlended}depthModeForSublayer(t,i,o){if(!this.opaquePassEnabledForLayer())return e.DepthMode.disabled;const r=1-((1+this.currentLayer)*this.numSublayers+t)*this.depthEpsilon;return new e.DepthMode(o||this.context.gl.LEQUAL,i,[r,r])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(t,i){this.style=t,this.options=i,this.lineAtlas=t.lineAtlas,this.imageManager=t.imageManager,this.glyphManager=t.glyphManager,this.symbolFadeChange=t.placement.symbolFadeChange(e.exported.now()),this.imageManager.beginFrame();const o=this.style.order,r=this.style._sourceCaches;for(const e in r){const t=r[e];t.used&&t.prepare(this.context);}const n={},a={},s={};for(const e in r){const t=r[e];n[e]=t.getVisibleCoordinates(),a[e]=n[e].slice().reverse(),s[e]=t.getVisibleCoordinates(!0).reverse();}this.opaquePassCutoff=1/0;for(let e=0;e<o.length;e++)if(this.style._layers[o[e]].is3D()){this.opaquePassCutoff=e;break}if(this.terrain&&(this.terrain.updateTileBinding(s),this.opaquePassCutoff=0),\"globe\"!==this.transform.projection.name||this.globeSharedBuffers||(this.globeSharedBuffers=new e.GlobeSharedBuffers(this.context)),e.isMapAuthenticated(this.context.gl)){this.renderPass=\"offscreen\";for(const e of o){const i=this.style._layers[e],o=t._getLayerSourceCache(i);if(!i.hasOffscreenPass()||i.isHidden(this.transform.zoom))continue;const r=o?a[o.id]:void 0;(\"custom\"===i.type||i.isSky()||r&&r.length)&&this.renderLayer(this,o,i,r);}if(this.depthRangeFor3D=[0,1-(t.order.length+2)*this.numSublayers*this.depthEpsilon],this.terrain&&(this.style.hasSymbolLayers()||this.style.hasCircleLayers())&&this.terrain.drawDepth(),this.context.bindFramebuffer.set(null),this.context.viewport.set([0,0,this.width,this.height]),this.context.clear({color:i.showOverdrawInspector?e.Color.black:e.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=i.showOverdrawInspector,this.renderPass=\"opaque\",!this.terrain)for(this.currentLayer=o.length-1;this.currentLayer>=0;this.currentLayer--){const e=this.style._layers[o[this.currentLayer]],i=t._getLayerSourceCache(e);if(e.isSky())continue;const r=i?a[i.id]:void 0;this._renderTileClippingMasks(e,i,r),this.renderLayer(this,i,e,r);}if(this.style.fog&&this.transform.projection.supportsFog&&function(t,i){const o=t.context,r=o.gl,n=t.transform,a=new e.DepthMode(r.LEQUAL,e.DepthMode.ReadOnly,[0,1]),s=t.useProgram(\"globeAtmosphere\",null,\"globe\"===n.projection.name?[\"PROJECTION_GLOBE_VIEW\",\"FOG\"]:[\"FOG\"]),l=e.globeToMercatorTransition(n.zoom),c=i.properties.get(\"color\").toArray01(),h=i.properties.get(\"high-color\").toArray01(),u=i.properties.get(\"space-color\").toArray01PremultipliedAlpha(),_=e.identity$1([]);e.rotateY$1(_,_,-e.degToRad(n._center.lng)),e.rotateX$1(_,_,e.degToRad(n._center.lat)),e.rotateZ$1(_,_,n.angle),e.rotateX$1(_,_,-n._pitch);const d=e.fromQuat(new Float32Array(16),_),p=e.mapValue(i.properties.get(\"star-intensity\"),0,1,0,.25),m=5e-4,f=e.mapValue(i.properties.get(\"horizon-blend\"),0,1,m,.25),g=e.globeUseCustomAntiAliasing(t,o,n)&&f===m?n.worldSize/(2*Math.PI*1.025)-1:n.globeRadius,v=t.frameCounter/1e3%1,x=e.length(n.globeCenterInViewSpace),y=Math.sqrt(Math.pow(x,2)-Math.pow(g,2)),b=Math.acos(y/x),w=((t,i,o,r,n,a,s,l,c,h,u,_,d,p)=>({u_frustum_tl:t,u_frustum_tr:i,u_frustum_br:o,u_frustum_bl:r,u_horizon:n,u_transition:a,u_fadeout_range:s,u_color:l,u_high_color:c,u_space_color:h,u_star_intensity:u,u_star_size:5*e.exported.devicePixelRatio,u_star_density:0,u_temporal_offset:_,u_horizon_angle:d,u_rotation_matrix:p}))(n.frustumCorners.TL,n.frustumCorners.TR,n.frustumCorners.BR,n.frustumCorners.BL,n.frustumCorners.horizon,l,f,c,h,u,p,v,b,d);t.prepareDrawProgram(o,s);const T=t.atmosphereBuffer;T&&s.draw(o,r.TRIANGLES,a,e.StencilMode.disabled,e.ColorMode.alphaBlended,e.CullFaceMode.backCW,w,\"skybox\",T.vertexBuffer,T.indexBuffer,T.segments);}(this,this.style.fog),this.renderPass=\"sky\",(e.globeToMercatorTransition(this.transform.zoom)>0||\"globe\"!==this.transform.projection.name)&&this.transform.isHorizonVisible())for(this.currentLayer=0;this.currentLayer<o.length;this.currentLayer++){const e=this.style._layers[o[this.currentLayer]],i=t._getLayerSourceCache(e);e.isSky()&&this.renderLayer(this,i,e,i?a[i.id]:void 0);}for(this.renderPass=\"translucent\",this.currentLayer=0;this.currentLayer<o.length;){const e=this.style._layers[o[this.currentLayer]],i=t._getLayerSourceCache(e);if(e.isSky()){++this.currentLayer;continue}if(this.terrain&&this.style.isLayerDraped(e)){if(e.isHidden(this.transform.zoom)){++this.currentLayer;continue}this.currentLayer=this.terrain.renderBatch(this.currentLayer);continue}const r=i?(\"symbol\"===e.type?s:a)[i.id]:void 0;this._renderTileClippingMasks(e,i,i?n[i.id]:void 0),this.renderLayer(this,i,e,r),++this.currentLayer;}if(this.terrain&&this.terrain.postRender(),this.options.showTileBoundaries||this.options.showQueryGeometry){let i=null;e.values(this.style._layers).forEach((e=>{const o=t._getLayerSourceCache(e);o&&!e.isHidden(this.transform.zoom)&&(!i||i.getSource().maxzoom<o.getSource().maxzoom)&&(i=o);})),i&&this.options.showTileBoundaries&&ko.debug(this,i,i.getVisibleCoordinates());}this.options.showPadding&&function(e){const t=e.transform.padding;Mo(e,e.transform.height-(t.top||0),3,bo),Mo(e,t.bottom||0,3,wo),So(e,t.left||0,3,To),So(e,e.transform.width-(t.right||0),3,Eo);const i=e.transform.centerPoint;!function(e,t,i,o){zo(e,t-1,i-10,2,20,o),zo(e,t-10,i-1,20,2,o);}(e,i.x,e.transform.height-i.y,Co);}(this),this.context.setDefault(),this.frameCounter=(this.frameCounter+1)%Number.MAX_SAFE_INTEGER,this.tileLoaded&&this.options.speedIndexTiming&&(this.loadTimeStamps.push(e.window.performance.now()),this.saveCanvasCopy());}}renderLayer(e,t,i,o){i.isHidden(this.transform.zoom)||(\"background\"===i.type||\"sky\"===i.type||\"custom\"===i.type||o&&o.length)&&(this.id=i.id,this.gpuTimingStart(i),e.transform.projection.unsupportedLayers&&e.transform.projection.unsupportedLayers.includes(i.type)||ko[i.type](e,t,i,o,this.style.placement.variableOffsets,this.options.isInitialLoad),this.gpuTimingEnd());}gpuTimingStart(e){if(!this.options.gpuTiming)return;const t=this.context.extTimerQuery;let i=this.gpuTimers[e.id];i||(i=this.gpuTimers[e.id]={calls:0,cpuTime:0,query:t.createQueryEXT()}),i.calls++,t.beginQueryEXT(t.TIME_ELAPSED_EXT,i.query);}gpuTimingDeferredRenderStart(){if(this.options.gpuTimingDeferredRender){const e=this.context.extTimerQuery,t=e.createQueryEXT();this.deferredRenderGpuTimeQueries.push(t),e.beginQueryEXT(e.TIME_ELAPSED_EXT,t);}}gpuTimingDeferredRenderEnd(){if(!this.options.gpuTimingDeferredRender)return;const e=this.context.extTimerQuery;e.endQueryEXT(e.TIME_ELAPSED_EXT);}gpuTimingEnd(){if(!this.options.gpuTiming)return;const e=this.context.extTimerQuery;e.endQueryEXT(e.TIME_ELAPSED_EXT);}collectGpuTimers(){const e=this.gpuTimers;return this.gpuTimers={},e}collectDeferredRenderGpuQueries(){const e=this.deferredRenderGpuTimeQueries;return this.deferredRenderGpuTimeQueries=[],e}queryGpuTimers(e){const t={};for(const i in e){const o=e[i],r=this.context.extTimerQuery,n=r.getQueryObjectEXT(o.query,r.QUERY_RESULT_EXT)/1e6;r.deleteQueryEXT(o.query),t[i]=n;}return t}queryGpuTimeDeferredRender(e){if(!this.options.gpuTimingDeferredRender)return 0;const t=this.context.extTimerQuery;let i=0;for(const o of e)i+=t.getQueryObjectEXT(o,t.QUERY_RESULT_EXT)/1e6,t.deleteQueryEXT(o);return i}translatePosMatrix(t,i,o,r,n){if(!o[0]&&!o[1])return t;const a=n?\"map\"===r?this.transform.angle:0:\"viewport\"===r?-this.transform.angle:0;if(a){const e=Math.sin(a),t=Math.cos(a);o=[o[0]*t-o[1]*e,o[0]*e+o[1]*t];}const s=[n?o[0]:L(i,o[0],this.transform.zoom),n?o[1]:L(i,o[1],this.transform.zoom),0],l=new Float32Array(16);return e.translate(l,t,s),l}saveTileTexture(e){const t=this._tileTextures[e.size[0]];t?t.push(e):this._tileTextures[e.size[0]]=[e];}getTileTexture(e){const t=this._tileTextures[e];return t&&t.length>0?t.pop():null}isPatternMissing(e){if(!e)return !1;if(!e.from||!e.to)return !0;const t=this.imageManager.getPattern(e.from.toString()),i=this.imageManager.getPattern(e.to.toString());return !t||!i}currentGlobalDefines(){const e=this.terrain&&this.terrain.renderingToTexture,t=this.style&&this.style.fog,i=[];return this.terrain&&!this.terrain.renderingToTexture&&i.push(\"TERRAIN\"),t&&!e&&0!==t.getOpacity(this.transform.pitch)&&i.push(\"FOG\"),e&&i.push(\"RENDER_TO_TEXTURE\"),this._showOverdrawInspector&&i.push(\"OVERDRAW_INSPECTOR\"),i}useProgram(e,t,i){this.cache=this.cache||{};const o=i||[],r=this.currentGlobalDefines().concat(o),n=Li.cacheKey(_i[e],e,r,t);return this.cache[n]||(this.cache[n]=new Li(this.context,e,_i[e],t,lo[e],r)),this.cache[n]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.frontFace.setDefault(),this.context.cullFaceSide.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault();}setBaseState(){const e=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(e.FUNC_ADD);}initDebugOverlayCanvas(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=e.window.document.createElement(\"canvas\"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new e.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA));}destroy(){this._terrain&&this._terrain.destroy(),this.globeSharedBuffers&&this.globeSharedBuffers.destroy(),this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy(),this.atmosphereBuffer&&this.atmosphereBuffer.destroy();}prepareDrawTile(){this.terrain&&this.terrain.prepareDrawTile();}prepareDrawProgram(t,i,o){if(this.terrain&&this.terrain.renderingToTexture)return;const r=this.style.fog;if(r){const n=r.getOpacity(this.transform.pitch),a=((t,i,o,r,n,a,s,l,c,h,u)=>{const _=t.transform,d=i.properties.get(\"color\").toArray01();d[3]=r;const p=t.frameCounter/1e3%1;return {u_fog_matrix:o?_.calculateFogTileMatrix(o):t.identityMat,u_fog_range:i.getFovAdjustedRange(_._fov),u_fog_color:d,u_fog_horizon_blend:i.properties.get(\"horizon-blend\"),u_fog_temporal_offset:p,u_frustum_tl:n,u_frustum_tr:a,u_frustum_br:s,u_frustum_bl:l,u_globe_pos:c,u_globe_radius:h,u_viewport:u,u_globe_transition:e.globeToMercatorTransition(_.zoom),u_is_globe:+(\"globe\"===_.projection.name)}})(this,r,o,n,this.transform.frustumCorners.TL,this.transform.frustumCorners.TR,this.transform.frustumCorners.BR,this.transform.frustumCorners.BL,this.transform.globeCenterInViewSpace,this.transform.globeRadius,[this.transform.width*e.exported.devicePixelRatio,this.transform.height*e.exported.devicePixelRatio]);i.setFogUniformValues(t,a);}}setTileLoadedFlag(e){this.tileLoaded=e;}saveCanvasCopy(){this.frameCopies.push(this.canvasCopy()),this.tileLoaded=!1;}canvasCopy(){const e=this.context.gl,t=e.createTexture();return e.bindTexture(e.TEXTURE_2D,t),e.copyTexImage2D(e.TEXTURE_2D,0,e.RGBA,0,0,e.drawingBufferWidth,e.drawingBufferHeight,0),t}getCanvasCopiesAndTimestamps(){return {canvasCopies:this.frameCopies,timeStamps:this.loadTimeStamps}}averageElevationNeedsEasing(){if(!this.transform._elevation)return !1;const e=this.style&&this.style.fog;return !!e&&0!==e.getOpacity(this.transform.pitch)}getBackgroundTiles(){const t=this._backgroundTiles,i=this._backgroundTiles={},o=this.transform.coveringTiles({tileSize:512});for(const r of o)i[r.key]=t[r.key]||new e.Tile(r,512,this.transform.tileZoom,this);return i}clearBackgroundTiles(){this._backgroundTiles={};}}class Uo{constructor(e=0,t=0,i=0,o=0){if(isNaN(e)||e<0||isNaN(t)||t<0||isNaN(i)||i<0||isNaN(o)||o<0)throw new Error(\"Invalid value for edge-insets, top, bottom, left and right must all be numbers\");this.top=e,this.bottom=t,this.left=i,this.right=o;}interpolate(t,i,o){return null!=i.top&&null!=t.top&&(this.top=e.number(t.top,i.top,o)),null!=i.bottom&&null!=t.bottom&&(this.bottom=e.number(t.bottom,i.bottom,o)),null!=i.left&&null!=t.left&&(this.left=e.number(t.left,i.left,o)),null!=i.right&&null!=t.right&&(this.right=e.number(t.right,i.right,o)),this}getCenter(t,i){const o=e.clamp((this.left+t-this.right)/2,0,t),r=e.clamp((this.top+i-this.bottom)/2,0,i);return new e.pointGeometry(o,r)}equals(e){return this.top===e.top&&this.bottom===e.bottom&&this.left===e.left&&this.right===e.right}clone(){return new Uo(this.top,this.bottom,this.left,this.right)}toJSON(){return {top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function No(t,i){const o=e.getColumn(t,3);e.fromQuat(t,i),e.setColumn(t,3,o);}function Go(t,i){const o=e.identity$1([]);return e.rotateZ$1(o,o,-i),e.rotateX$1(o,o,-t),o}function jo(t,i){const o=[t[0],t[1],0],r=[i[0],i[1],0];if(e.length(o)>=1e-15){const t=e.normalize([],o);e.scale$2(r,t,e.dot(r,t)),i[0]=r[0],i[1]=r[1];}const n=e.cross([],i,t);if(e.len(n)<1e-15)return null;const a=Math.atan2(-n[1],n[0]);return Go(Math.atan2(Math.sqrt(t[0]*t[0]+t[1]*t[1]),-t[2]),a)}class Zo{constructor(e,t){this.position=e,this.orientation=t;}get position(){return this._position}set position(t){if(t){const i=t instanceof e.MercatorCoordinate?t:new e.MercatorCoordinate(t[0],t[1],t[2]);this._renderWorldCopies&&(i.x=e.wrap(i.x,0,1)),this._position=i;}else this._position=null;}lookAtPoint(t,i){if(this.orientation=null,!this.position)return;const o=this._elevation?this._elevation.getAtPointOrZero(e.MercatorCoordinate.fromLngLat(t)):0,r=this.position,n=e.MercatorCoordinate.fromLngLat(t,o),a=[n.x-r.x,n.y-r.y,n.z-r.z];i||(i=[0,0,1]),i[2]=Math.abs(i[2]),this.orientation=jo(a,i);}setPitchBearing(t,i){this.orientation=Go(e.degToRad(t),e.degToRad(-i));}}class Vo{constructor(t,i){this._transform=e.identity([]),this.orientation=i,this.position=t;}get mercatorPosition(){const t=this.position;return new e.MercatorCoordinate(t[0],t[1],t[2])}get position(){const t=e.getColumn(this._transform,3);return [t[0],t[1],t[2]]}set position(t){var i;t&&e.setColumn(this._transform,3,[(i=t)[0],i[1],i[2],1]);}get orientation(){return this._orientation}set orientation(t){this._orientation=t||e.identity$1([]),t&&No(this._transform,this._orientation);}getPitchBearing(){const e=this.forward(),t=this.right();return {bearing:Math.atan2(-t[1],t[0]),pitch:Math.atan2(Math.sqrt(e[0]*e[0]+e[1]*e[1]),-e[2])}}setPitchBearing(e,t){this._orientation=Go(e,t),No(this._transform,this._orientation);}forward(){const t=e.getColumn(this._transform,2);return [-t[0],-t[1],-t[2]]}up(){const t=e.getColumn(this._transform,1);return [-t[0],-t[1],-t[2]]}right(){const t=e.getColumn(this._transform,0);return [t[0],t[1],t[2]]}getCameraToWorld(t,i){const o=new Float64Array(16);return e.invert(o,this.getWorldToCamera(t,i)),o}getWorldToCameraPosition(t,i,o){const r=this.position;e.scale$2(r,r,-t);const n=new Float64Array(16);return e.fromScaling(n,[o,o,o]),e.translate(n,n,r),n[10]*=i,n}getWorldToCamera(t,i){const o=new Float64Array(16),r=new Float64Array(4),n=this.position;return e.conjugate(r,this._orientation),e.scale$2(n,n,-t),e.fromQuat(o,r),e.translate(o,o,n),o[1]*=-1,o[5]*=-1,o[9]*=-1,o[13]*=-1,o[8]*=i,o[9]*=i,o[10]*=i,o[11]*=i,o}getCameraToClipPerspective(t,i,o,r){const n=new Float64Array(16);return e.perspective(n,t,i,o,r),n}getDistanceToElevation(t){const i=0===t?0:e.mercatorZfromAltitude(t,this.position[1]),o=this.forward();return (i-this.position[2])/o[2]}clone(){return new Vo([...this.position],[...this.orientation])}}function Wo(t,i){const o=qo(t.projection,t.zoom,t.width,t.height),r=function(t,i,o,r,n){const a=new e.LngLat(o.lng-180*$o,o.lat),s=new e.LngLat(o.lng+180*$o,o.lat),l=t.project(a.lng,a.lat),c=t.project(s.lng,s.lat),h=-Math.atan2(c.y-l.y,c.x-l.x),u=e.MercatorCoordinate.fromLngLat(o);u.y=e.clamp(u.y,-.999975,.999975);const _=u.toLngLat(),d=t.project(_.lng,_.lat),p=e.MercatorCoordinate.fromLngLat(_);p.x+=$o;const m=p.toLngLat(),f=t.project(m.lng,m.lat),g=Yo(f.x-d.x,f.y-d.y,h),v=e.MercatorCoordinate.fromLngLat(_);v.y+=$o;const x=v.toLngLat(),y=t.project(x.lng,x.lat),b=Yo(y.x-d.x,y.y-d.y,h),w=Math.abs(g.x)/Math.abs(b.y),T=e.identity([]);e.rotateZ(T,T,-h*(1-(n?0:r)));const E=e.identity([]);return e.scale(E,E,[1,1-(1-w)*r,1]),E[4]=-b.x/b.y*r,e.rotateZ(E,E,h),e.multiply(E,T,E),E}(t.projection,0,t.center,o,i),n=Xo(t);return e.scale(r,r,[n,n,1]),r}function Xo(t){const i=t.projection,o=qo(t.projection,t.zoom,t.width,t.height),r=Ho(i,t.center),n=Ho(i,e.LngLat.convert(i.center));return Math.pow(2,r*o+(1-o)*n)}function qo(t,i,o,r,n=1/0){const a=t.range;if(!a)return 0;const s=Math.min(n,Math.max(o,r)),l=Math.log(s/1024)/Math.LN2;return e.smoothstep(a[0]+l,a[1]+l,i)}const $o=1/4e4;function Ho(t,i){const o=e.clamp(i.lat,-e.MAX_MERCATOR_LATITUDE,e.MAX_MERCATOR_LATITUDE),r=new e.LngLat(i.lng-180*$o,o),n=new e.LngLat(i.lng+180*$o,o),a=t.project(r.lng,o),s=t.project(n.lng,o),l=e.MercatorCoordinate.fromLngLat(r),c=e.MercatorCoordinate.fromLngLat(n),h=s.x-a.x,u=s.y-a.y,_=c.x-l.x,d=c.y-l.y,p=Math.sqrt((_*_+d*d)/(h*h+u*u));return Math.log(p)/Math.LN2}function Yo(e,t,i){const o=Math.cos(i),r=Math.sin(i);return {x:e*o-t*r,y:e*r+t*o}}class Ko{constructor(t,i,o,r,n,a,s){this.tileSize=512,this._renderWorldCopies=void 0===n||n,this._minZoom=t||0,this._maxZoom=i||22,this._minPitch=null==o?0:o,this._maxPitch=null==r?60:r,this.setProjection(a),this.setMaxBounds(s),this.width=0,this.height=0,this._center=new e.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._nearZ=0,this._farZ=0,this._unmodified=!0,this._edgeInsets=new Uo,this._projMatrixCache={},this._alignedProjMatrixCache={},this._fogTileMatrixCache={},this._distanceTileDataCache={},this._camera=new Vo,this._centerAltitude=0,this._averageElevation=0,this.cameraElevationReference=\"ground\",this._pixelsPerMercatorPixel=1,this.globeRadius=0,this.globeCenterInViewSpace=[0,0,0],this._horizonShift=.1;}clone(){const e=new Ko(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies,this.getProjection());return e._elevation=this._elevation,e._centerAltitude=this._centerAltitude,e._centerAltitudeValidForExaggeration=this._centerAltitudeValidForExaggeration,e.tileSize=this.tileSize,e.width=this.width,e.height=this.height,e.cameraElevationReference=this.cameraElevationReference,e._center=this._center,e._setZoom(this.zoom),e._seaLevelZoom=this._seaLevelZoom,e.angle=this.angle,e._fov=this._fov,e._pitch=this._pitch,e._nearZ=this._nearZ,e._farZ=this._farZ,e._averageElevation=this._averageElevation,e._unmodified=this._unmodified,e._edgeInsets=this._edgeInsets.clone(),e._camera=this._camera.clone(),e._calcMatrices(),e.freezeTileCoverage=this.freezeTileCoverage,e.frustumCorners=this.frustumCorners,e}get elevation(){return this._elevation}set elevation(e){this._elevation!==e&&(this._elevation=e,this._updateCameraOnTerrain(),this._calcMatrices());}updateElevation(e){const t=this._elevation&&this._elevation.exaggeration()!==this._centerAltitudeValidForExaggeration;(null==this._seaLevelZoom||t)&&this._updateCameraOnTerrain(),(e||t)&&this._constrainCameraAltitude(),this._calcMatrices();}getProjection(){return e.pick(this.projection,[\"name\",\"center\",\"parallels\"])}setProjection(i){this.projectionOptions=i||{name:\"mercator\"};const o=this.projection?this.getProjection():void 0;this.projection=e.getProjection(this.projectionOptions);const r=!t(o,this.getProjection());return r&&this._calcMatrices(),this.mercatorFromTransition=!1,r}setMercatorFromTransition(){const t=this.projection.name;this.mercatorFromTransition=!0,this.projectionOptions={name:\"mercator\"},this.projection=e.getProjection({name:\"mercator\"});const i=t!==this.projection.name;return i&&this._calcMatrices(),i}get minZoom(){return this._minZoom}set minZoom(e){this._minZoom!==e&&(this._minZoom=e,this.zoom=Math.max(this.zoom,e));}get maxZoom(){return this._maxZoom}set maxZoom(e){this._maxZoom!==e&&(this._maxZoom=e,this.zoom=Math.min(this.zoom,e));}get minPitch(){return this._minPitch}set minPitch(e){this._minPitch!==e&&(this._minPitch=e,this.pitch=Math.max(this.pitch,e));}get maxPitch(){return this._maxPitch}set maxPitch(e){this._maxPitch!==e&&(this._maxPitch=e,this.pitch=Math.min(this.pitch,e));}get renderWorldCopies(){return this._renderWorldCopies&&!0===this.projection.supportsWorldCopies}set renderWorldCopies(e){void 0===e?e=!0:null===e&&(e=!1),this._renderWorldCopies=e;}get worldSize(){return this.tileSize*this.scale}get cameraWorldSize(){const e=Math.max(this._camera.getDistanceToElevation(this._averageElevation),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(e))}get pixelsPerMeter(){return this.projection.pixelsPerMeter(this.center.lat,this.worldSize)}get cameraPixelsPerMeter(){return e.mercatorZfromAltitude(this.center.lat,this.cameraWorldSize)}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new e.pointGeometry(this.width,this.height)}get bearing(){return e.wrap(this.rotation,-180,180)}set bearing(e){this.rotation=e;}get rotation(){return -this.angle/Math.PI*180}set rotation(t){const i=-t*Math.PI/180;var o;this.angle!==i&&(this._unmodified=!1,this.angle=i,this._calcMatrices(),this.rotationMatrix=(o=new e.ARRAY_TYPE(4),e.ARRAY_TYPE!=Float32Array&&(o[1]=0,o[2]=0),o[0]=1,o[3]=1,o),function(e,t,i){var o=t[0],r=t[1],n=t[2],a=t[3],s=Math.sin(i),l=Math.cos(i);e[0]=o*l+n*s,e[1]=r*l+a*s,e[2]=o*-s+n*l,e[3]=r*-s+a*l;}(this.rotationMatrix,this.rotationMatrix,this.angle));}get pitch(){return this._pitch/Math.PI*180}set pitch(t){const i=e.clamp(t,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==i&&(this._unmodified=!1,this._pitch=i,this._calcMatrices());}get fov(){return this._fov/Math.PI*180}set fov(e){e=Math.max(.01,Math.min(60,e)),this._fov!==e&&(this._unmodified=!1,this._fov=e/180*Math.PI,this._calcMatrices());}get averageElevation(){return this._averageElevation}set averageElevation(e){this._averageElevation=e,this._calcFogMatrices(),this._distanceTileDataCache={};}get zoom(){return this._zoom}set zoom(e){const t=Math.min(Math.max(e,this.minZoom),this.maxZoom);this._zoom!==t&&(this._unmodified=!1,this._setZoom(t),this._updateSeaLevelZoom(),this._constrain(),this._calcMatrices());}_setZoom(e){this._zoom=e,this.scale=this.zoomScale(e),this.tileZoom=Math.floor(e),this.zoomFraction=e-this.tileZoom;}_updateCameraOnTerrain(){if(!this._elevation||!this._elevation.isDataAvailableAtPoint(this.locationCoordinate(this.center)))return this._centerAltitude=0,this._seaLevelZoom=null,void(this._centerAltitudeValidForExaggeration=void 0);const e=this._elevation;this._centerAltitude=e.getAtPointOrZero(this.locationCoordinate(this.center)),this._centerAltitudeValidForExaggeration=e.exaggeration(),this._updateSeaLevelZoom();}_updateSeaLevelZoom(){void 0!==this._centerAltitudeValidForExaggeration&&(this._seaLevelZoom=this._zoomFromMercatorZ((this.pixelsPerMeter*this._centerAltitude+this.cameraToCenterDistance)/this.worldSize));}sampleAverageElevation(){if(!this._elevation)return 0;const t=this._elevation,i=[[.5,.2],[.3,.5],[.5,.5],[.7,.5],[.5,.8]],o=this.horizonLineFromTop();let r=0,n=0;for(let a=0;a<i.length;a++){const s=new e.pointGeometry(i[a][0]*this.width,o+i[a][1]*(this.height-o)),l=t.pointCoordinate(s);if(!l)continue;const c=1/Math.hypot(l[0]-this._camera.position[0],l[1]-this._camera.position[1]);r+=l[3]*c,n+=c;}return 0===n?NaN:r/n}get center(){return this._center}set center(e){e.lat===this._center.lat&&e.lng===this._center.lng||(this._unmodified=!1,this._center=e,this._terrainEnabled()&&(\"ground\"===this.cameraElevationReference?this._updateCameraOnTerrain():this._updateZoomFromElevation()),this._constrain(),this._calcMatrices());}_updateZoomFromElevation(){if(null==this._seaLevelZoom||!this._elevation)return;const e=this._seaLevelZoom,t=this._elevation.getAtPointOrZero(this.locationCoordinate(this.center)),i=this.pixelsPerMeter/this.worldSize*t,o=this._mercatorZfromZoom(e),r=this._mercatorZfromZoom(this._maxZoom),n=Math.max(o-i,r);this._setZoom(this._zoomFromMercatorZ(n));}get padding(){return this._edgeInsets.toJSON()}set padding(e){this._edgeInsets.equals(e)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,e,1),this._calcMatrices());}computeZoomRelativeTo(t){const i=this.rayIntersectionCoordinate(this.pointRayIntersection(this.centerPoint,t.toAltitude()));let o;o=t.z<this._camera.position[2]?[i.x,i.y,i.z]:[t.x,t.y,t.z];const r=e.length(e.sub([],this._camera.position,o));return e.clamp(this._zoomFromMercatorZ(r),this._minZoom,this._maxZoom)}setFreeCameraOptions(t){if(!this.height)return;if(!t.position&&!t.orientation)return;this._updateCameraState();let i=!1;if(t.orientation&&!e.exactEquals(t.orientation,this._camera.orientation)&&(i=this._setCameraOrientation(t.orientation)),t.position){const o=[t.position.x,t.position.y,t.position.z];e.exactEquals$1(o,this._camera.position)||(this._setCameraPosition(o),i=!0);}i&&(this._updateStateFromCamera(),this.recenterOnTerrain());}getFreeCameraOptions(){this._updateCameraState();const t=this._camera.position,i=new Zo;return i.position=new e.MercatorCoordinate(t[0],t[1],t[2]),i.orientation=this._camera.orientation,i._elevation=this.elevation,i._renderWorldCopies=this.renderWorldCopies,i}_setCameraOrientation(t){if(!e.length$1(t))return !1;e.normalize$1(t,t);const i=e.transformQuat([],[0,0,-1],t),o=e.transformQuat([],[0,-1,0],t);if(o[2]<0)return !1;const r=jo(i,o);return !!r&&(this._camera.orientation=r,!0)}_setCameraPosition(t){const i=this.zoomScale(this.minZoom)*this.tileSize,o=this.zoomScale(this.maxZoom)*this.tileSize,r=this.cameraToCenterDistance;t[2]=e.clamp(t[2],r/o,r/i),this._camera.position=t;}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}get fovAboveCenter(){return this._fov*(.5+this.centerOffset.y/this.height)}isPaddingEqual(e){return this._edgeInsets.equals(e)}interpolatePadding(e,t,i){this._unmodified=!1,this._edgeInsets.interpolate(e,t,i),this._constrain(),this._calcMatrices();}coveringZoomLevel(e){const t=(e.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/e.tileSize));return Math.max(0,t)}getVisibleUnwrappedCoordinates(t){const i=[new e.UnwrappedTileID(0,t)];if(this.renderWorldCopies){const o=this.pointCoordinate(new e.pointGeometry(0,0)),r=this.pointCoordinate(new e.pointGeometry(this.width,0)),n=this.pointCoordinate(new e.pointGeometry(this.width,this.height)),a=this.pointCoordinate(new e.pointGeometry(0,this.height)),s=Math.floor(Math.min(o.x,r.x,n.x,a.x)),l=Math.floor(Math.max(o.x,r.x,n.x,a.x)),c=1;for(let o=s-c;o<=l+c;o++)0!==o&&i.push(new e.UnwrappedTileID(o,t));}return i}coveringTiles(t){let i=this.coveringZoomLevel(t);const o=i,r=this.elevation&&!t.isTerrainDEM,n=\"mercator\"===this.projection.name;if(void 0!==t.minzoom&&i<t.minzoom)return [];void 0!==t.maxzoom&&i>t.maxzoom&&(i=t.maxzoom);const a=this.locationCoordinate(this.center),s=this.center.lat,l=1<<i,c=[l*a.x,l*a.y,0],h=\"globe\"===this.projection.name,u=!h,_=e.Frustum.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,i,u),d=h?this._camera.mercatorPosition:this.pointCoordinate(this.getCameraPoint()),p=l*e.mercatorZfromAltitude(1,this.center.lat),m=this._camera.position[2]/e.mercatorZfromAltitude(1,this.center.lat),f=[l*d.x,l*d.y,m*(u?1:p)],g=this.cameraToCenterDistance/t.tileSize*(t.roundZoom?1:.502),v=this.pitch<=60&&this._edgeInsets.top<=this._edgeInsets.bottom&&!this._elevation&&!this.projection.isReprojectedInTileSpace?i:0,x=t.isTerrainDEM&&this._elevation?1e4*this._elevation.exaggeration():this._centerAltitude,y=t.isTerrainDEM?-x:this._elevation?this._elevation.getMinElevationBelowMSL():0,b=this.projection.isReprojectedInTileSpace?Xo(this):1,w=t=>{const i=1/4e4,o=new e.MercatorCoordinate(t.x+i,t.y,t.z),r=new e.MercatorCoordinate(t.x,t.y+i,t.z),n=t.toLngLat(),a=o.toLngLat(),s=r.toLngLat(),l=this.locationCoordinate(n),c=this.locationCoordinate(a),h=this.locationCoordinate(s),u=Math.hypot(c.x-l.x,c.y-l.y),_=Math.hypot(h.x-l.x,h.y-l.y);return Math.sqrt(u*_)*b/i},T=t=>{const i=x,o=y;return {aabb:e.tileAABB(this,l,0,0,0,t,o,i,this.projection),zoom:0,x:0,y:0,minZ:o,maxZ:i,wrap:t,fullyVisible:!1}},E=[];let C=[];const I=i,M=t.reparseOverscaled?o:i,S=e=>e*e,z=S((m-this._centerAltitude)*p),D=e=>{if(!this._elevation||!e.tileID||!n)return;const t=this._elevation.getMinMaxForTile(e.tileID),i=e.aabb;t?(i.min[2]=t.min,i.max[2]=t.max,i.center[2]=(i.min[2]+i.max[2])/2):(e.shouldSplit=P(e),e.shouldSplit||(i.min[2]=i.max[2]=i.center[2]=this._centerAltitude));},P=t=>{if(t.zoom<v)return !0;if(t.zoom===I)return !1;if(null!=t.shouldSplit)return t.shouldSplit;const i=t.aabb.distanceX(f),n=t.aabb.distanceY(f);let a=z,l=1;if(h){a=S(t.aabb.distanceZ(f));const i=Math.pow(2,t.zoom),o=e.latFromMercatorY((t.y+1)/i),r=e.latFromMercatorY(t.y/i),n=Math.min(Math.max(s,o),r),c=e.circumferenceAtLatitude(n)/e.circumferenceAtLatitude(s);if(l=n===s?1/Math.max(1,this._mercatorScaleRatio-.3):Math.min(1,c/this._mercatorScaleRatio),this.zoom<=e.GLOBE_ZOOM_THRESHOLD_MIN&&t.zoom===I-1&&c>=.9)return !0}else if(r&&(a=S(t.aabb.distanceZ(f)*p)),this.projection.isReprojectedInTileSpace&&o<=5){const i=Math.pow(2,t.zoom),o=w(new e.MercatorCoordinate((t.x+.5)/i,(t.y+.5)/i));l=o>.85?1:o;}const c=i*i+n*n+a;return c<S((1<<I-t.zoom)*g*l*((e,t)=>{if(t*S(.707)<e)return 1;const i=Math.sqrt(t/e);return i/(1.4144271570014144+(Math.pow(1.1,i-1.4144271570014144+1)-1)/(1.1-1)-1)})(Math.max(a,z),c))};if(this.renderWorldCopies)for(let e=1;e<=3;e++)E.push(T(-e)),E.push(T(e));for(E.push(T(0));E.length>0;){const o=E.pop(),a=o.x,s=o.y;let u=o.fullyVisible;if(!u){const e=o.aabb.intersects(_);if(0===e)continue;u=2===e;}if(o.zoom!==I&&P(o))for(let t=0;t<4;t++){const i=(a<<1)+t%2,c=(s<<1)+(t>>1),_={aabb:n?o.aabb.quadrant(t):e.tileAABB(this,l,o.zoom+1,i,c,o.wrap,o.minZ,o.maxZ,this.projection),zoom:o.zoom+1,x:i,y:c,wrap:o.wrap,fullyVisible:u,tileID:void 0,shouldSplit:void 0,minZ:o.minZ,maxZ:o.maxZ};r&&!h&&(_.tileID=new e.OverscaledTileID(o.zoom+1===I?M:o.zoom+1,o.wrap,o.zoom+1,i,c),D(_)),E.push(_);}else {const r=o.zoom===I?M:o.zoom;if(t.minzoom&&t.minzoom>r)continue;const n=c[0]-(.5+a+(o.wrap<<o.zoom))*(1<<i-o.zoom),l=c[1]-.5-s,h=o.tileID?o.tileID:new e.OverscaledTileID(r,o.wrap,o.zoom,a,s);C.push({tileID:h,distanceSq:n*n+l*l});}}if(this.fogCullDistSq){const i=this.fogCullDistSq,o=this.horizonLineFromTop();C=C.filter((r=>{const n=[0,0,0,1],a=[e.EXTENT,e.EXTENT,0,1],s=this.calculateFogTileMatrix(r.tileID.toUnwrapped());e.transformMat4$1(n,n,s),e.transformMat4$1(a,a,s);const l=e.getAABBPointSquareDist(n,a);if(0===l)return !0;let c=!1;const h=this._elevation;if(h&&l>i&&0!==o){const i=this.calculateProjMatrix(r.tileID.toUnwrapped());let n;t.isTerrainDEM||(n=h.getMinMaxForTile(r.tileID)),n||(n={min:y,max:x});const a=e.furthestTileCorner(this.rotation),s=[a[0]*e.EXTENT,a[1]*e.EXTENT,n.max];e.transformMat4(s,s,i),c=(1-s[1])*this.height*.5<o;}return l<i||c}));}return C.sort(((e,t)=>e.distanceSq-t.distanceSq)).map((e=>e.tileID))}resize(e,t){this.width=e,this.height=t,this.pixelsToGLUnits=[2/e,-2/t],this._constrain(),this._calcMatrices();}get unmodified(){return this._unmodified}zoomScale(e){return Math.pow(2,e)}scaleZoom(e){return Math.log(e)/Math.LN2}project(t){const i=e.clamp(t.lat,-e.MAX_MERCATOR_LATITUDE,e.MAX_MERCATOR_LATITUDE),o=this.projection.project(t.lng,i);return new e.pointGeometry(o.x*this.worldSize,o.y*this.worldSize)}unproject(e){return this.projection.unproject(e.x/this.worldSize,e.y/this.worldSize)}get point(){return this.project(this.center)}setLocationAtPoint(t,i){let o,r;const n=this.centerPoint;if(\"globe\"===this.projection.name){const e=this.worldSize;o=(i.x-n.x)/e,r=(i.y-n.y)/e;}else {const e=this.pointCoordinate(i),t=this.pointCoordinate(n);o=e.x-t.x,r=e.y-t.y;}const a=this.locationCoordinate(t);this.setLocation(new e.MercatorCoordinate(a.x-o,a.y-r));}setLocation(e){this.center=this.coordinateLocation(e),this.projection.wrap&&(this.center=this.center.wrap());}locationPoint(e){return this.projection.locationPoint(this,e)}locationPoint3D(e){return this.projection.locationPoint(this,e,!0)}pointLocation(e){return this.coordinateLocation(this.pointCoordinate(e))}pointLocation3D(e){return this.coordinateLocation(this.pointCoordinate3D(e))}locationCoordinate(t,i){const o=i?e.mercatorZfromAltitude(i,t.lat):void 0,r=this.projection.project(t.lng,t.lat);return new e.MercatorCoordinate(r.x,r.y,o)}coordinateLocation(e){return this.projection.unproject(e.x,e.y)}pointRayIntersection(t,i){const o=null!=i?i:this._centerAltitude,r=[t.x,t.y,0,1],n=[t.x,t.y,1,1];e.transformMat4$1(r,r,this.pixelMatrixInverse),e.transformMat4$1(n,n,this.pixelMatrixInverse);const a=n[3];e.scale$1(r,r,1/r[3]),e.scale$1(n,n,1/a);const s=r[2],l=n[2];return {p0:r,p1:n,t:s===l?0:(o-s)/(l-s)}}screenPointToMercatorRay(t){const i=[t.x,t.y,0,1],o=[t.x,t.y,1,1];return e.transformMat4$1(i,i,this.pixelMatrixInverse),e.transformMat4$1(o,o,this.pixelMatrixInverse),e.scale$1(i,i,1/i[3]),e.scale$1(o,o,1/o[3]),i[2]=e.mercatorZfromAltitude(i[2],this._center.lat)*this.worldSize,o[2]=e.mercatorZfromAltitude(o[2],this._center.lat)*this.worldSize,e.scale$1(i,i,1/this.worldSize),e.scale$1(o,o,1/this.worldSize),new e.Ray([i[0],i[1],i[2]],e.normalize([],e.sub([],o,i)))}rayIntersectionCoordinate(t){const{p0:i,p1:o,t:r}=t,n=e.mercatorZfromAltitude(i[2],this._center.lat),a=e.mercatorZfromAltitude(o[2],this._center.lat);return new e.MercatorCoordinate(e.number(i[0],o[0],r)/this.worldSize,e.number(i[1],o[1],r)/this.worldSize,e.number(n,a,r))}pointCoordinate(e,t=this._centerAltitude){return this.projection.pointCoordinate(this,e.x,e.y,t)}pointCoordinate3D(t){if(!this.elevation)return this.pointCoordinate(t);let i=this.projection.pointCoordinate3D(this,t.x,t.y);if(i)return new e.MercatorCoordinate(i[0],i[1],i[2]);let o=0,r=this.horizonLineFromTop();if(t.y>r)return this.pointCoordinate(t);const n=.02*r,a=t.clone();for(let t=0;t<10&&r-o>n;t++){a.y=e.number(o,r,.66);const t=this.projection.pointCoordinate3D(this,a.x,a.y);t?(r=a.y,i=t):o=a.y;}return i?new e.MercatorCoordinate(i[0],i[1],i[2]):this.pointCoordinate(t)}isPointAboveHorizon(e){return this.projection.isPointAboveHorizon(this,e)}_coordinatePoint(t,i){const o=i&&this.elevation?this.elevation.getAtPointOrZero(t,this._centerAltitude):this._centerAltitude,r=[t.x*this.worldSize,t.y*this.worldSize,o+t.toAltitude(),1];return e.transformMat4$1(r,r,this.pixelMatrix),r[3]>0?new e.pointGeometry(r[0]/r[3],r[1]/r[3]):new e.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE)}_getBounds(t,i){const o=new e.pointGeometry(this._edgeInsets.left,this._edgeInsets.top),r=new e.pointGeometry(this.width-this._edgeInsets.right,this._edgeInsets.top),n=new e.pointGeometry(this.width-this._edgeInsets.right,this.height-this._edgeInsets.bottom),a=new e.pointGeometry(this._edgeInsets.left,this.height-this._edgeInsets.bottom);let s=this.pointCoordinate(o,t),l=this.pointCoordinate(r,t);const c=this.pointCoordinate(n,i),h=this.pointCoordinate(a,i),u=(e,t)=>(t.y-e.y)/(t.x-e.x);return s.y>1&&l.y>=0?s=new e.MercatorCoordinate((1-h.y)/u(h,s)+h.x,1):s.y<0&&l.y<=1&&(s=new e.MercatorCoordinate(-h.y/u(h,s)+h.x,0)),l.y>1&&s.y>=0?l=new e.MercatorCoordinate((1-c.y)/u(c,l)+c.x,1):l.y<0&&s.y<=1&&(l=new e.MercatorCoordinate(-c.y/u(c,l)+c.x,0)),(new e.LngLatBounds).extend(this.coordinateLocation(s)).extend(this.coordinateLocation(l)).extend(this.coordinateLocation(h)).extend(this.coordinateLocation(c))}_getBounds3D(){const e=this.elevation;if(!e.visibleDemTiles.length)return this._getBounds(0,0);const t=e.visibleDemTiles.reduce(((e,t)=>{if(t.dem){const i=t.dem.tree;e.min=Math.min(e.min,i.minimums[0]),e.max=Math.max(e.max,i.maximums[0]);}return e}),{min:Number.MAX_VALUE,max:0});return this._getBounds(t.min*e.exaggeration(),t.max*e.exaggeration())}getBounds(){return this._terrainEnabled()?this._getBounds3D():this._getBounds(0,0)}horizonLineFromTop(e=!0){const t=this.height/2/Math.tan(this._fov/2)/Math.tan(Math.max(this._pitch,.1))+this.centerOffset.y,i=this.height/2-t*(1-this._horizonShift);return e?Math.max(0,i):i}getMaxBounds(){return this.maxBounds}setMaxBounds(t){this.maxBounds=t,this.minLat=-e.MAX_MERCATOR_LATITUDE,this.maxLat=e.MAX_MERCATOR_LATITUDE,this.minLng=-180,this.maxLng=180,t&&(this.minLat=t.getSouth(),this.maxLat=t.getNorth(),this.minLng=t.getWest(),this.maxLng=t.getEast(),this.maxLng<this.minLng&&(this.maxLng+=360)),this.worldMinX=e.mercatorXfromLng(this.minLng)*this.tileSize,this.worldMaxX=e.mercatorXfromLng(this.maxLng)*this.tileSize,this.worldMinY=e.mercatorYfromLat(this.maxLat)*this.tileSize,this.worldMaxY=e.mercatorYfromLat(this.minLat)*this.tileSize,this._constrain();}calculatePosMatrix(e,t){return this.projection.createTileMatrix(this,t,e)}calculateDistanceTileData(t){const i=t.key,o=this._distanceTileDataCache;if(o[i])return o[i];const r=t.canonical,n=1/this.height,a=this.cameraWorldSize/this.zoomScale(r.z),s=(r.x+Math.pow(2,r.z)*t.wrap)*a,l=r.y*a,c=this.point,h=this.angle,u=Math.sin(-h),_=-Math.cos(-h);return o[i]={bearing:[u,_],center:[(c.x-s)*n,(c.y-l)*n],scale:a/e.EXTENT*n},o[i]}calculateFogTileMatrix(t){const i=t.key,o=this._fogTileMatrixCache;if(o[i])return o[i];const r=this.projection.createTileMatrix(this,this.cameraWorldSize,t);return e.multiply(r,this.worldToFogMatrix,r),o[i]=new Float32Array(r),o[i]}calculateProjMatrix(t,i=!1){const o=t.key,r=i?this._alignedProjMatrixCache:this._projMatrixCache;if(r[o])return r[o];const n=this.calculatePosMatrix(t,this.worldSize);return e.multiply(n,this.projection.isReprojectedInTileSpace?this.mercatorMatrix:i?this.alignedProjMatrix:this.projMatrix,n),r[o]=new Float32Array(n),r[o]}calculatePixelsToTileUnitsMatrix(t){const i=t.tileID.key,o=this._pixelsToTileUnitsCache;if(o[i])return o[i];const r=function(t,i){const{scale:o}=t.tileTransform,r=o*e.EXTENT/(t.tileSize*Math.pow(2,i.zoom-t.tileID.overscaledZ+t.tileID.canonical.z));return n=new Float32Array(4),l=(a=i.inverseAdjustmentMatrix)[1],c=a[2],h=a[3],_=(s=[r,r])[1],n[0]=a[0]*(u=s[0]),n[1]=l*u,n[2]=c*_,n[3]=h*_,n;var n,a,s,l,c,h,u,_;}(t,this);return o[i]=r,o[i]}customLayerMatrix(){return this.mercatorMatrix.slice()}recenterOnTerrain(){if(!this._elevation||\"globe\"===this.projection.name)return;const t=this._elevation;this._updateCameraState();const i=e.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,o=this._computeCameraPosition(i),r=this._camera.forward(),n=e.mercatorZfromAltitude(1,this._center.lat);o[2]/=n,r[2]/=n,e.normalize(r,r);const a=t.raycast(o,r,t.exaggeration());if(a){const t=e.scaleAndAdd([],o,r,a),i=new e.MercatorCoordinate(t[0],t[1],e.mercatorZfromAltitude(t[2],e.latFromMercatorY(t[1]))),s=(i.z+e.length([i.x-o[0],i.y-o[1],i.z-o[2]*n]))*this._pixelsPerMercatorPixel;this._seaLevelZoom=this._zoomFromMercatorZ(s),this._centerAltitude=i.toAltitude(),this._center=this.coordinateLocation(i),this._updateZoomFromElevation(),this._constrain(),this._calcMatrices();}}_constrainCameraAltitude(){if(!this._elevation)return;const t=this._elevation;this._updateCameraState();const i=e.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,o=this._computeCameraPosition(i),r=t.getAtPointOrZero(new e.MercatorCoordinate(...o)),n=this._minimumHeightOverTerrain()*Math.cos(e.degToRad(this._maxPitch)),a=this._camera.position[2]-this.pixelsPerMeter/this.worldSize*r;if(a<n){const t=this.locationCoordinate(this._center,this._centerAltitude),i=[t.x-o[0],t.y-o[1],t.z-o[2]],r=e.length(i);i[2]-=(n-a)/this._pixelsPerMercatorPixel;const s=e.length(i);if(0===s)return;e.scale$2(i,i,r/s*this._pixelsPerMercatorPixel),this._camera.position=[t.x-i[0],t.y-i[1],t.z*this._pixelsPerMercatorPixel-i[2]],this._camera.orientation=jo(i,this._camera.up()),this._updateStateFromCamera();}}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;const t=\"globe\"===this.projection.name||this.mercatorFromTransition;if(this.projection.isReprojectedInTileSpace||t){const i=this.center;return i.lat=e.clamp(i.lat,this.minLat,this.maxLat),(this.maxBounds||!this.renderWorldCopies&&!t)&&(i.lng=e.clamp(i.lng,this.minLng,this.maxLng)),this.center=i,void(this._constraining=!1)}const i=this._unmodified,{x:o,y:r}=this.point;let n=0,a=o,s=r;const l=this.width/2,c=this.height/2,h=this.worldMinY*this.scale,u=this.worldMaxY*this.scale;if(r-c<h&&(s=h+c),r+c>u&&(s=u-c),u-h<this.height&&(n=Math.max(n,this.height/(u-h)),s=(u+h)/2),this.maxBounds||!this._renderWorldCopies||!this.projection.wrap){const e=this.worldMinX*this.scale,t=this.worldMaxX*this.scale,i=this.worldSize/2-(e+t)/2;a=(o+i+this.worldSize)%this.worldSize-i,a-l<e&&(a=e+l),a+l>t&&(a=t-l),t-e<this.width&&(n=Math.max(n,this.width/(t-e)),a=(t+e)/2);}a===o&&s===r||(this.center=this.unproject(new e.pointGeometry(a,s))),n&&(this.zoom+=this.scaleZoom(n)),this._constrainCameraAltitude(),this._unmodified=i,this._constraining=!1;}_minZoomForBounds(){let e=Math.max(0,this.scaleZoom(this.height/(this.worldMaxY-this.worldMinY)));return this.maxBounds&&(e=Math.max(e,this.scaleZoom(this.width/(this.worldMaxX-this.worldMinX)))),e}_maxCameraBoundsDistance(){return this._mercatorZfromZoom(this._minZoomForBounds())}_calcMatrices(){if(!this.height)return;const t=this.centerOffset,i=this.pixelsPerMeter;\"globe\"===this.projection.name&&(this._mercatorScaleRatio=e.mercatorZfromAltitude(1,this.center.lat)/e.mercatorZfromAltitude(1,e.GLOBE_SCALE_MATCH_LATITUDE));const o=qo(this.projection,this.zoom,this.width,this.height,1024);this._pixelsPerMercatorPixel=this.projection.pixelSpaceConversion(this.center.lat,this.worldSize,o),this.cameraToCenterDistance=.5/Math.tan(.5*this._fov)*this.height*this._pixelsPerMercatorPixel,this._updateCameraState(),this._farZ=this.projection.farthestPixelDistance(this),this._nearZ=this.height/50;const r=this._camera.getWorldToCamera(this.worldSize,\"meters\"===this.projection.zAxisUnit?i:1),n=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,this._nearZ,this._farZ);n[8]=2*-t.x/this.width,n[9]=2*t.y/this.height;let a=e.mul([],n,r);if(this.projection.isReprojectedInTileSpace){const t=this.locationCoordinate(this.center),i=e.identity([]);e.translate(i,i,[t.x*this.worldSize,t.y*this.worldSize,0]),e.multiply(i,i,Wo(this)),e.translate(i,i,[-t.x*this.worldSize,-t.y*this.worldSize,0]),e.multiply(a,a,i),this.inverseAdjustmentMatrix=function(e){const t=Wo(e,!0);return v([],[t[0],t[1],t[4],t[5]])}(this);}else this.inverseAdjustmentMatrix=[1,0,0,1];this.mercatorMatrix=e.scale([],a,[this.worldSize,this.worldSize,this.worldSize/i,1]),this.projMatrix=a,this.invProjMatrix=e.invert(new Float64Array(16),this.projMatrix);const s=e.invert([],n);this.frustumCorners=e.FrustumCorners.fromInvProjectionMatrix(s,this.horizonLineFromTop(),this.height);const l=new Float32Array(16);e.identity(l),e.scale(l,l,[1,-1,1]),e.rotateX(l,l,this._pitch),e.rotateZ(l,l,this.angle);const c=e.perspective(new Float32Array(16),this._fov,this.width/this.height,this._nearZ,this._farZ),h=(Math.PI/2-this._pitch)*(this.height/this._fov)*this._horizonShift;c[8]=2*-t.x/this.width,c[9]=2*(t.y+h)/this.height,this.skyboxMatrix=e.multiply(l,c,l);const u=this.point,_=u.x,d=u.y,p=this.width%2/2,m=this.height%2/2,f=Math.cos(this.angle),g=Math.sin(this.angle),x=_-Math.round(_)+f*p+g*m,y=d-Math.round(d)+f*m+g*p,b=new Float64Array(a);if(e.translate(b,b,[x>.5?x-1:x,y>.5?y-1:y,0]),this.alignedProjMatrix=b,a=e.create(),e.scale(a,a,[this.width/2,-this.height/2,1]),e.translate(a,a,[1,-1,0]),this.labelPlaneMatrix=a,a=e.create(),e.scale(a,a,[1,-1,1]),e.translate(a,a,[-1,-1,0]),e.scale(a,a,[2/this.width,2/this.height,1]),this.glCoordMatrix=a,this.pixelMatrix=e.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),this._calcFogMatrices(),this._distanceTileDataCache={},a=e.invert(new Float64Array(16),this.pixelMatrix),!a)throw new Error(\"failed to invert matrix\");if(this.pixelMatrixInverse=a,\"globe\"===this.projection.name||this.mercatorFromTransition){this.globeMatrix=e.calculateGlobeMatrix(this);const t=[this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]];this.globeCenterInViewSpace=e.transformMat4(t,t,r),this.globeRadius=this.worldSize/2/Math.PI-1;}else this.globeMatrix=a;this._projMatrixCache={},this._alignedProjMatrixCache={},this._pixelsToTileUnitsCache={};}_calcFogMatrices(){this._fogTileMatrixCache={};const t=this.cameraWorldSize,i=this.cameraPixelsPerMeter,o=this._camera.position,r=1/this.height/this._pixelsPerMercatorPixel,n=[t,t,i];e.scale$2(n,n,r),e.scale$2(o,o,-1),e.multiply$2(o,o,n);const a=e.create();e.translate(a,a,o),e.scale(a,a,n),this.mercatorFogMatrix=a,this.worldToFogMatrix=this._camera.getWorldToCameraPosition(t,i,r);}_computeCameraPosition(e){const t=(e=e||this.pixelsPerMeter)/this.pixelsPerMeter,i=this._camera.forward(),o=this.point,r=this._mercatorZfromZoom(this._seaLevelZoom?this._seaLevelZoom:this._zoom)*t-e/this.worldSize*this._centerAltitude;return [o.x/this.worldSize-i[0]*r,o.y/this.worldSize-i[1]*r,e/this.worldSize*this._centerAltitude-i[2]*r]}_updateCameraState(){this.height&&(this._camera.setPitchBearing(this._pitch,this.angle),this._camera.position=this._computeCameraPosition());}_translateCameraConstrained(t){const i=this._maxCameraBoundsDistance()*Math.cos(this._pitch),o=t[2];let r=1;o>0&&(r=Math.min((i-this._camera.position[2])/o,1)),this._camera.position=e.scaleAndAdd([],this._camera.position,t,r),this._updateStateFromCamera(),this.projection.wrap&&(this.center=this.center.wrap());}_updateStateFromCamera(){const t=this._camera.position,i=this._camera.forward(),{pitch:o,bearing:r}=this._camera.getPitchBearing(),n=e.mercatorZfromAltitude(this._centerAltitude,this.center.lat)*this._pixelsPerMercatorPixel,a=this._mercatorZfromZoom(this._maxZoom)*Math.cos(e.degToRad(this._maxPitch)),s=Math.max((t[2]-n)/Math.cos(o),a),l=this._zoomFromMercatorZ(s);e.scaleAndAdd(t,t,i,s),this._pitch=e.clamp(o,e.degToRad(this.minPitch),e.degToRad(this.maxPitch)),this.angle=e.wrap(r,-Math.PI,Math.PI),this._setZoom(e.clamp(l,this._minZoom,this._maxZoom)),this._updateSeaLevelZoom(),this._center=this.coordinateLocation(new e.MercatorCoordinate(t[0],t[1],t[2])),this._unmodified=!1,this._constrain(),this._calcMatrices();}_worldSizeFromZoom(e){return Math.pow(2,e)*this.tileSize}_mercatorZfromZoom(e){return this.cameraToCenterDistance/this._worldSizeFromZoom(e)}_minimumHeightOverTerrain(){const e=Math.min((null!=this._seaLevelZoom?this._seaLevelZoom:this._zoom)+2,this._maxZoom);return this._mercatorZfromZoom(e)}_zoomFromMercatorZ(e){return this.scaleZoom(this.cameraToCenterDistance/(e*this.tileSize))}_terrainEnabled(){return !(!this._elevation||!this.projection.supportsTerrain&&(e.warnOnce(\"Terrain is not yet supported with alternate projections. Use mercator or globe to enable terrain.\"),1))}anyCornerOffEdge(t,i){const o=Math.min(t.x,i.x),r=Math.max(t.x,i.x),n=Math.min(t.y,i.y),a=Math.max(t.y,i.y);if(n<this.horizonLineFromTop(!1))return !0;if(\"mercator\"!==this.projection.name)return !1;const s=[new e.pointGeometry(o,n),new e.pointGeometry(r,a),new e.pointGeometry(o,a),new e.pointGeometry(r,n)],l=this.renderWorldCopies?-3:0,c=this.renderWorldCopies?4:1;for(const e of s){const t=this.pointRayIntersection(e);if(t.t<0)return !0;const i=this.rayIntersectionCoordinate(t);if(i.x<l||i.y<0||i.x>c||i.y>1)return !0}return !1}isHorizonVisible(){return this.pitch+e.radToDeg(this.fovAboveCenter)>88||this.anyCornerOffEdge(new e.pointGeometry(0,0),new e.pointGeometry(this.width,this.height))}zoomDeltaToMovement(t,i){const o=e.length(e.sub([],this._camera.position,t)),r=this._zoomFromMercatorZ(o)+i;return o-this._mercatorZfromZoom(r)}getCameraPoint(){if(\"globe\"===this.projection.name){const t=function(t,i){const o=[t[0],t[1],t[2],1];e.transformMat4$1(o,o,i);const r=Math.max(o[3],1e-6);return [o[0]/r,o[1]/r,o[2]/r,r]}([this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]],this.pixelMatrix);return new e.pointGeometry(t[0],t[1])}{const t=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new e.pointGeometry(0,t))}}getCameraToCenterDistance(e){const t=qo(e,this.zoom,this.width,this.height,1024),i=e.pixelSpaceConversion(this.center.lat,this.worldSize,t);return .5/Math.tan(.5*this._fov)*this.height*i}}function Jo(e,t){let i=!1,o=null;const r=()=>{o=null,i&&(e(),o=setTimeout(r,t),i=!1);};return ()=>(i=!0,o||r(),o)}class Qo{constructor(t){this._hashName=t&&encodeURIComponent(t),e.bindAll([\"_getCurrentHash\",\"_onHashChange\",\"_updateHash\"],this),this._updateHash=Jo(this._updateHashUnthrottled.bind(this),300);}addTo(t){return this._map=t,e.window.addEventListener(\"hashchange\",this._onHashChange,!1),t.on(\"moveend\",this._updateHash),this}remove(){return this._map?(this._map.off(\"moveend\",this._updateHash),e.window.removeEventListener(\"hashchange\",this._onHashChange,!1),clearTimeout(this._updateHash()),this._map=void 0,this):this}getHashString(){const t=this._map;if(!t)return \"\";const i=er(t);if(this._hashName){const t=this._hashName;let o=!1;const r=e.window.location.hash.slice(1).split(\"&\").map((e=>{const r=e.split(\"=\")[0];return r===t?(o=!0,`${r}=${i}`):e})).filter((e=>e));return o||r.push(`${t}=${i}`),`#${r.join(\"&\")}`}return `#${i}`}_getCurrentHash(){const t=e.window.location.hash.replace(\"#\",\"\");if(this._hashName){let e;return t.split(\"&\").map((e=>e.split(\"=\"))).forEach((t=>{t[0]===this._hashName&&(e=t);})),(e&&e[1]||\"\").split(\"/\")}return t.split(\"/\")}_onHashChange(){const e=this._map;if(!e)return !1;const t=this._getCurrentHash();if(t.length>=3&&!t.some((e=>isNaN(e)))){const i=e.dragRotate.isEnabled()&&e.touchZoomRotate.isEnabled()?+(t[3]||0):e.getBearing();return e.jumpTo({center:[+t[2],+t[1]],zoom:+t[0],bearing:i,pitch:+(t[4]||0)}),!0}return !1}_updateHashUnthrottled(){const t=e.window.location.href.replace(/(#.+)?$/,this.getHashString());e.window.history.replaceState(e.window.history.state,null,t);}}function er(e,t){const i=e.getCenter(),o=Math.round(100*e.getZoom())/100,r=Math.ceil((o*Math.LN2+Math.log(512/360/.5))/Math.LN10),n=Math.pow(10,r),a=Math.round(i.lng*n)/n,s=Math.round(i.lat*n)/n,l=e.getBearing(),c=e.getPitch();let h=t?`/${a}/${s}/${o}`:`${o}/${s}/${a}`;return (l||c)&&(h+=\"/\"+Math.round(10*l)/10),c&&(h+=`/${Math.round(c)}`),h}const tr={linearity:.3,easing:e.bezier(0,0,.3,1)},ir=e.extend({deceleration:2500,maxSpeed:1400},tr),or=e.extend({deceleration:20,maxSpeed:1400},tr),rr=e.extend({deceleration:1e3,maxSpeed:360},tr),nr=e.extend({deceleration:1e3,maxSpeed:90},tr);class ar{constructor(e){this._map=e,this.clear();}clear(){this._inertiaBuffer=[];}record(t){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:e.exported.now(),settings:t});}_drainInertiaBuffer(){const t=this._inertiaBuffer,i=e.exported.now();for(;t.length>0&&i-t[0].time>160;)t.shift();}_onMoveEnd(t){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const i={zoom:0,bearing:0,pitch:0,pan:new e.pointGeometry(0,0),pinchAround:void 0,around:void 0};for(const{settings:e}of this._inertiaBuffer)i.zoom+=e.zoomDelta||0,i.bearing+=e.bearingDelta||0,i.pitch+=e.pitchDelta||0,e.panDelta&&i.pan._add(e.panDelta),e.around&&(i.around=e.around),e.pinchAround&&(i.pinchAround=e.pinchAround);const o=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,r={};if(i.pan.mag()){const n=lr(i.pan.mag(),o,e.extend({},ir,t||{}));r.offset=i.pan.mult(n.amount/i.pan.mag()),r.center=this._map.transform.center,sr(r,n);}if(i.zoom){const e=lr(i.zoom,o,or);r.zoom=this._map.transform.zoom+e.amount,sr(r,e);}if(i.bearing){const t=lr(i.bearing,o,rr);r.bearing=this._map.transform.bearing+e.clamp(t.amount,-179,179),sr(r,t);}if(i.pitch){const e=lr(i.pitch,o,nr);r.pitch=this._map.transform.pitch+e.amount,sr(r,e);}if(r.zoom||r.bearing){const e=void 0===i.pinchAround?i.around:i.pinchAround;r.around=e?this._map.unproject(e):this._map.getCenter();}return this.clear(),r.noMoveStart=!0,r}}function sr(e,t){(!e.duration||e.duration<t.duration)&&(e.duration=t.duration,e.easing=t.easing);}function lr(t,i,o){const{maxSpeed:r,linearity:n,deceleration:a}=o,s=e.clamp(t*n/(i/1e3),-r,r),l=Math.abs(s)/(a*n);return {easing:o.easing,duration:1e3*l,amount:s*(l/2)}}class cr extends e.Event{preventDefault(){this._defaultPrevented=!0;}get defaultPrevented(){return this._defaultPrevented}constructor(t,i,o,r={}){const n=p(i.getCanvasContainer(),o),a=i.unproject(n);super(t,e.extend({point:n,lngLat:a,originalEvent:o},r)),this._defaultPrevented=!1,this.target=i;}}class hr extends e.Event{preventDefault(){this._defaultPrevented=!0;}get defaultPrevented(){return this._defaultPrevented}constructor(t,i,o){const r=\"touchend\"===t?o.changedTouches:o.touches,n=m(i.getCanvasContainer(),r),a=n.map((e=>i.unproject(e))),s=n.reduce(((e,t,i,o)=>e.add(t.div(o.length))),new e.pointGeometry(0,0));super(t,{points:n,point:s,lngLats:a,lngLat:i.unproject(s),originalEvent:o}),this._defaultPrevented=!1;}}class ur extends e.Event{preventDefault(){this._defaultPrevented=!0;}get defaultPrevented(){return this._defaultPrevented}constructor(e,t,i){super(e,{originalEvent:i}),this._defaultPrevented=!1;}}class _r{constructor(e,t){this._map=e,this._clickTolerance=t.clickTolerance;}reset(){this._mousedownPos=void 0;}wheel(e){return this._firePreventable(new ur(e.type,this._map,e))}mousedown(e,t){return this._mousedownPos=t,this._firePreventable(new cr(e.type,this._map,e))}mouseup(e){this._map.fire(new cr(e.type,this._map,e));}preclick(t){const i=e.extend({},t);i.type=\"preclick\",this._map.fire(new cr(i.type,this._map,i));}click(e,t){this._mousedownPos&&this._mousedownPos.dist(t)>=this._clickTolerance||(this.preclick(e),this._map.fire(new cr(e.type,this._map,e)));}dblclick(e){return this._firePreventable(new cr(e.type,this._map,e))}mouseover(e){this._map.fire(new cr(e.type,this._map,e));}mouseout(e){this._map.fire(new cr(e.type,this._map,e));}touchstart(e){return this._firePreventable(new hr(e.type,this._map,e))}touchmove(e){this._map.fire(new hr(e.type,this._map,e));}touchend(e){this._map.fire(new hr(e.type,this._map,e));}touchcancel(e){this._map.fire(new hr(e.type,this._map,e));}_firePreventable(e){if(this._map.fire(e),e.defaultPrevented)return {}}isEnabled(){return !0}isActive(){return !1}enable(){}disable(){}}class dr{constructor(e){this._map=e;}reset(){this._delayContextMenu=!1,this._contextMenuEvent=void 0;}mousemove(e){this._map.fire(new cr(e.type,this._map,e));}mousedown(){this._delayContextMenu=!0;}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new cr(\"contextmenu\",this._map,this._contextMenuEvent)),delete this._contextMenuEvent);}contextmenu(e){this._delayContextMenu?this._contextMenuEvent=e:this._map.fire(new cr(e.type,this._map,e)),this._map.listens(\"contextmenu\")&&e.preventDefault();}isEnabled(){return !0}isActive(){return !1}enable(){}disable(){}}class pr{constructor(e,t){this._map=e,this._el=e.getCanvasContainer(),this._container=e.getContainer(),this._clickTolerance=t.clickTolerance||1;}isEnabled(){return !!this._enabled}isActive(){return !!this._active}enable(){this.isEnabled()||(this._enabled=!0);}disable(){this.isEnabled()&&(this._enabled=!1);}mousedown(e,t){this.isEnabled()&&e.shiftKey&&0===e.button&&(h(),this._startPos=this._lastPos=t,this._active=!0);}mousemoveWindow(e,t){if(!this._active)return;const i=t;if(this._lastPos.equals(i)||!this._box&&i.dist(this._startPos)<this._clickTolerance)return;const o=this._startPos;this._lastPos=i,this._box||(this._box=n(\"div\",\"mapboxgl-boxzoom\",this._container),this._container.classList.add(\"mapboxgl-crosshair\"),this._fireEvent(\"boxzoomstart\",e));const r=Math.min(o.x,i.x),a=Math.max(o.x,i.x),s=Math.min(o.y,i.y),l=Math.max(o.y,i.y);this._map._requestDomTask((()=>{this._box&&(this._box.style.transform=`translate(${r}px,${s}px)`,this._box.style.width=a-r+\"px\",this._box.style.height=l-s+\"px\");}));}mouseupWindow(t,i){if(!this._active)return;if(0!==t.button)return;const o=this._startPos,r=i;if(this.reset(),d(),o.x!==r.x||o.y!==r.y)return this._map.fire(new e.Event(\"boxzoomend\",{originalEvent:t})),{cameraAnimation:e=>e.fitScreenCoordinates(o,r,this._map.getBearing(),{linear:!1})};this._fireEvent(\"boxzoomcancel\",t);}keydown(e){this._active&&27===e.keyCode&&(this.reset(),this._fireEvent(\"boxzoomcancel\",e));}blur(){this.reset();}reset(){this._active=!1,this._container.classList.remove(\"mapboxgl-crosshair\"),this._box&&(this._box.remove(),this._box=null),u(),delete this._startPos,delete this._lastPos;}_fireEvent(t,i){return this._map.fire(new e.Event(t,{originalEvent:i}))}}function mr(e,t){const i={};for(let o=0;o<e.length;o++)i[e[o].identifier]=t[o];return i}class fr{constructor(e){this.reset(),this.numTouches=e.numTouches;}reset(){this.centroid=void 0,this.startTime=0,this.touches={},this.aborted=!1;}touchstart(t,i,o){(this.centroid||o.length>this.numTouches)&&(this.aborted=!0),this.aborted||(0===this.startTime&&(this.startTime=t.timeStamp),o.length===this.numTouches&&(this.centroid=function(t){const i=new e.pointGeometry(0,0);for(const e of t)i._add(e);return i.div(t.length)}(i),this.touches=mr(o,i)));}touchmove(e,t,i){if(this.aborted||!this.centroid)return;const o=mr(i,t);for(const e in this.touches){const t=this.touches[e],i=o[e];(!i||i.dist(t)>30)&&(this.aborted=!0);}}touchend(e,t,i){if((!this.centroid||e.timeStamp-this.startTime>500)&&(this.aborted=!0),0===i.length){const e=!this.aborted&&this.centroid;if(this.reset(),e)return e}}}class gr{constructor(e){this.singleTap=new fr(e),this.numTaps=e.numTaps,this.reset();}reset(){this.lastTime=1/0,this.lastTap=void 0,this.count=0,this.singleTap.reset();}touchstart(e,t,i){this.singleTap.touchstart(e,t,i);}touchmove(e,t,i){this.singleTap.touchmove(e,t,i);}touchend(e,t,i){const o=this.singleTap.touchend(e,t,i);if(o){const t=e.timeStamp-this.lastTime<500,i=!this.lastTap||this.lastTap.dist(o)<30;if(t&&i||this.reset(),this.count++,this.lastTime=e.timeStamp,this.lastTap=o,this.count===this.numTaps)return this.reset(),o}}}class vr{constructor(){this._zoomIn=new gr({numTouches:1,numTaps:2}),this._zoomOut=new gr({numTouches:2,numTaps:1}),this.reset();}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset();}touchstart(e,t,i){this._zoomIn.touchstart(e,t,i),this._zoomOut.touchstart(e,t,i);}touchmove(e,t,i){this._zoomIn.touchmove(e,t,i),this._zoomOut.touchmove(e,t,i);}touchend(e,t,i){const o=this._zoomIn.touchend(e,t,i),r=this._zoomOut.touchend(e,t,i);return o?(this._active=!0,e.preventDefault(),setTimeout((()=>this.reset()),0),{cameraAnimation:t=>t.easeTo({duration:300,zoom:t.getZoom()+1,around:t.unproject(o)},{originalEvent:e})}):r?(this._active=!0,e.preventDefault(),setTimeout((()=>this.reset()),0),{cameraAnimation:t=>t.easeTo({duration:300,zoom:t.getZoom()-1,around:t.unproject(r)},{originalEvent:e})}):void 0}touchcancel(){this.reset();}enable(){this._enabled=!0;}disable(){this._enabled=!1,this.reset();}isEnabled(){return this._enabled}isActive(){return this._active}}const xr={0:1,2:2};class yr{constructor(e){this.reset(),this._clickTolerance=e.clickTolerance||1;}blur(){this.reset();}reset(){this._active=!1,this._moved=!1,this._lastPoint=void 0,this._eventButton=void 0;}_correctButton(e,t){return !1}_move(e,t){return {}}mousedown(e,t){if(this._lastPoint)return;const i=f(e);this._correctButton(e,i)&&(this._lastPoint=t,this._eventButton=i);}mousemoveWindow(e,t){const i=this._lastPoint;if(i)if(e.preventDefault(),null!=this._eventButton&&function(e,t){const i=xr[t];return void 0===e.buttons||(e.buttons&i)!==i}(e,this._eventButton))this.reset();else if(this._moved||!(t.dist(i)<this._clickTolerance))return this._moved=!0,this._lastPoint=t,this._move(i,t)}mouseupWindow(e){this._lastPoint&&f(e)===this._eventButton&&(this._moved&&d(),this.reset());}enable(){this._enabled=!0;}disable(){this._enabled=!1,this.reset();}isEnabled(){return this._enabled}isActive(){return this._active}}class br extends yr{mousedown(e,t){super.mousedown(e,t),this._lastPoint&&(this._active=!0);}_correctButton(e,t){return 0===t&&!e.ctrlKey}_move(e,t){return {around:t,panDelta:t.sub(e)}}}class wr extends yr{_correctButton(e,t){return 0===t&&e.ctrlKey||2===t}_move(e,t){const i=.8*(t.x-e.x);if(i)return this._active=!0,{bearingDelta:i}}contextmenu(e){e.preventDefault();}}class Tr extends yr{_correctButton(e,t){return 0===t&&e.ctrlKey||2===t}_move(e,t){const i=-.5*(t.y-e.y);if(i)return this._active=!0,{pitchDelta:i}}contextmenu(e){e.preventDefault();}}class Er{constructor(t,i){this._map=t,this._el=t.getCanvasContainer(),this._minTouches=1,this._clickTolerance=i.clickTolerance||1,this.reset(),e.bindAll([\"_addTouchPanBlocker\",\"_showTouchPanBlockerAlert\"],this);}reset(){this._active=!1,this._touches={},this._sum=new e.pointGeometry(0,0);}touchstart(e,t,i){return this._calculateTransform(e,t,i)}touchmove(t,i,o){if(this._active&&!(o.length<this._minTouches)){if(this._map._cooperativeGestures&&!this._map.isMoving()){if(1===o.length&&!e.isFullscreen())return void this._showTouchPanBlockerAlert();\"hidden\"!==this._alertContainer.style.visibility&&(this._alertContainer.style.visibility=\"hidden\",clearTimeout(this._alertTimer));}return t.cancelable&&t.preventDefault(),this._calculateTransform(t,i,o)}}touchend(e,t,i){this._calculateTransform(e,t,i),this._active&&i.length<this._minTouches&&this.reset();}touchcancel(){this.reset();}_calculateTransform(t,i,o){o.length>0&&(this._active=!0);const r=mr(o,i),n=new e.pointGeometry(0,0),a=new e.pointGeometry(0,0);let s=0;for(const e in r){const t=r[e],i=this._touches[e];i&&(n._add(t),a._add(t.sub(i)),s++,r[e]=t);}if(this._touches=r,s<this._minTouches||!a.mag())return;const l=a.div(s);return this._sum._add(l),this._sum.mag()<this._clickTolerance?void 0:{around:n.div(s),panDelta:l}}enable(){this._enabled=!0,this._map._cooperativeGestures&&(this._addTouchPanBlocker(),this._el.classList.add(\"mapboxgl-touch-pan-blocker-override\",\"mapboxgl-scrollable-page\"));}disable(){this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove(),this._el.classList.remove(\"mapboxgl-touch-pan-blocker-override\",\"mapboxgl-scrollable-page\")),this.reset();}isEnabled(){return !!this._enabled}isActive(){return !!this._active}_addTouchPanBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=n(\"div\",\"mapboxgl-touch-pan-blocker\",this._map._container),this._alertContainer.textContent=this._map._getUIString(\"TouchPanBlocker.Message\"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`);}_showTouchPanBlockerAlert(){this._alertContainer.style.visibility=\"visible\",this._alertContainer.classList.add(\"mapboxgl-touch-pan-blocker-show\"),this._alertContainer.setAttribute(\"role\",\"alert\"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout((()=>{this._alertContainer.classList.remove(\"mapboxgl-touch-pan-blocker-show\"),this._alertContainer.setAttribute(\"role\",\"null\");}),500);}}class Cr{constructor(){this.reset();}reset(){this._active=!1,this._firstTwoTouches=void 0;}_start(e){}_move(e,t,i){return {}}touchstart(e,t,i){this._firstTwoTouches||i.length<2||(this._firstTwoTouches=[i[0].identifier,i[1].identifier],this._start([t[0],t[1]]));}touchmove(e,t,i){const o=this._firstTwoTouches;if(!o)return;e.preventDefault();const[r,n]=o,a=Ir(i,t,r),s=Ir(i,t,n);if(!a||!s)return;const l=this._aroundCenter?null:a.add(s).div(2);return this._move([a,s],l,e)}touchend(e,t,i){if(!this._firstTwoTouches)return;const[o,r]=this._firstTwoTouches,n=Ir(i,t,o),a=Ir(i,t,r);n&&a||(this._active&&d(),this.reset());}touchcancel(){this.reset();}enable(e){this._enabled=!0,this._aroundCenter=!!e&&\"center\"===e.around;}disable(){this._enabled=!1,this.reset();}isEnabled(){return this._enabled}isActive(){return this._active}}function Ir(e,t,i){for(let o=0;o<e.length;o++)if(e[o].identifier===i)return t[o]}function Mr(e,t){return Math.log(e/t)/Math.LN2}class Sr extends Cr{reset(){super.reset(),this._distance=0,this._startDistance=0;}_start(e){this._startDistance=this._distance=e[0].dist(e[1]);}_move(e,t){const i=this._distance;if(this._distance=e[0].dist(e[1]),this._active||!(Math.abs(Mr(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Mr(this._distance,i),pinchAround:t}}}function zr(e,t){return 180*e.angleWith(t)/Math.PI}class Dr extends Cr{reset(){super.reset(),this._minDiameter=0,this._startVector=void 0,this._vector=void 0;}_start(e){this._startVector=this._vector=e[0].sub(e[1]),this._minDiameter=e[0].dist(e[1]);}_move(e,t){const i=this._vector;if(this._vector=e[0].sub(e[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:zr(this._vector,i),pinchAround:t}}_isBelowThreshold(e){this._minDiameter=Math.min(this._minDiameter,e.mag());const t=25/(Math.PI*this._minDiameter)*360,i=zr(e,this._startVector);return Math.abs(i)<t}}function Pr(e){return Math.abs(e.y)>Math.abs(e.x)}class Ar extends Cr{constructor(e){super(),this._map=e;}reset(){super.reset(),this._valid=void 0,this._firstMove=void 0,this._lastPoints=void 0;}_start(e){this._lastPoints=e,Pr(e[0].sub(e[1]))&&(this._valid=!1);}_move(e,t,i){const o=this._lastPoints;if(!o)return;const r=e[0].sub(o[0]),n=e[1].sub(o[1]);return this._map._cooperativeGestures&&i.touches.length<3||(this._valid=this.gestureBeginsVertically(r,n,i.timeStamp),!this._valid)?void 0:(this._lastPoints=e,this._active=!0,{pitchDelta:(r.y+n.y)/2*-.5})}gestureBeginsVertically(e,t,i){if(void 0!==this._valid)return this._valid;const o=e.mag()>=2,r=t.mag()>=2;if(!o&&!r)return;if(!o||!r)return null==this._firstMove&&(this._firstMove=i),i-this._firstMove<100&&void 0;const n=e.y>0==t.y>0;return Pr(e)&&Pr(t)&&n}}const Lr={panStep:100,bearingStep:15,pitchStep:10};class Rr{constructor(){const e=Lr;this._panStep=e.panStep,this._bearingStep=e.bearingStep,this._pitchStep=e.pitchStep,this._rotationDisabled=!1;}blur(){this.reset();}reset(){this._active=!1;}keydown(e){if(e.altKey||e.ctrlKey||e.metaKey)return;let t=0,i=0,o=0,r=0,n=0;switch(e.keyCode){case 61:case 107:case 171:case 187:t=1;break;case 189:case 109:case 173:t=-1;break;case 37:e.shiftKey?i=-1:(e.preventDefault(),r=-1);break;case 39:e.shiftKey?i=1:(e.preventDefault(),r=1);break;case 38:e.shiftKey?o=1:(e.preventDefault(),n=-1);break;case 40:e.shiftKey?o=-1:(e.preventDefault(),n=1);break;default:return}return this._rotationDisabled&&(i=0,o=0),{cameraAnimation:a=>{const s=a.getZoom();a.easeTo({duration:300,easeId:\"keyboardHandler\",easing:Or,zoom:t?Math.round(s)+t*(e.shiftKey?2:1):s,bearing:a.getBearing()+i*this._bearingStep,pitch:a.getPitch()+o*this._pitchStep,offset:[-r*this._panStep,-n*this._panStep],center:a.getCenter()},{originalEvent:e});}}}enable(){this._enabled=!0;}disable(){this._enabled=!1,this.reset();}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0;}enableRotation(){this._rotationDisabled=!1;}}function Or(e){return e*(2-e)}const Br=4.000244140625;class kr{constructor(t,i){this._map=t,this._el=t.getCanvasContainer(),this._handler=i,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,e.bindAll([\"_onTimeout\",\"_addScrollZoomBlocker\",\"_showBlockerAlert\"],this);}setZoomRate(e){this._defaultZoomRate=e;}setWheelZoomRate(e){this._wheelZoomRate=e;}isEnabled(){return !!this._enabled}isActive(){return this._active||void 0!==this._finishTimeout}isZooming(){return !!this._zooming}enable(e){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!e&&\"center\"===e.around,this._map._cooperativeGestures&&this._addScrollZoomBlocker());}disable(){this.isEnabled()&&(this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove()));}wheel(t){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!(t.ctrlKey||t.metaKey||this.isZooming()||e.isFullscreen()))return void this._showBlockerAlert();\"hidden\"!==this._alertContainer.style.visibility&&(this._alertContainer.style.visibility=\"hidden\",clearTimeout(this._alertTimer));}let i=t.deltaMode===e.window.WheelEvent.DOM_DELTA_LINE?40*t.deltaY:t.deltaY;const o=e.exported.now(),r=o-(this._lastWheelEventTime||0);this._lastWheelEventTime=o,0!==i&&i%Br==0?this._type=\"wheel\":0!==i&&Math.abs(i)<4?this._type=\"trackpad\":r>400?(this._type=null,this._lastValue=i,this._timeout=setTimeout(this._onTimeout,40,t)):this._type||(this._type=Math.abs(r*i)<200?\"trackpad\":\"wheel\",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,i+=this._lastValue)),t.shiftKey&&i&&(i/=4),this._type&&(this._lastWheelEvent=t,this._delta-=i,this._active||this._start(t)),t.preventDefault();}_onTimeout(e){this._type=\"wheel\",this._delta-=this._lastValue,this._active||this._start(e);}_start(e){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const t=p(this._el,e);this._aroundPoint=this._aroundCenter?this._map.transform.centerPoint:t,this._aroundCoord=this._map.transform.pointCoordinate3D(this._aroundPoint),this._targetZoom=void 0,this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame());}renderFrame(){if(!this._frameId)return;if(this._frameId=null,!this.isActive())return;const t=this._map.transform,i=()=>t._terrainEnabled()&&this._aroundCoord?t.computeZoomRelativeTo(this._aroundCoord):t.zoom;if(0!==this._delta){const e=\"wheel\"===this._type&&Math.abs(this._delta)>Br?this._wheelZoomRate:this._defaultZoomRate;let o=2/(1+Math.exp(-Math.abs(this._delta*e)));this._delta<0&&0!==o&&(o=1/o);const r=i(),n=Math.pow(2,r),a=\"number\"==typeof this._targetZoom?t.zoomScale(this._targetZoom):n;this._targetZoom=Math.min(t.maxZoom,Math.max(t.minZoom,t.scaleZoom(a*o))),\"wheel\"===this._type&&(this._startZoom=r,this._easing=this._smoothOutEasing(200)),this._delta=0;}const o=\"number\"==typeof this._targetZoom?this._targetZoom:i(),r=this._startZoom,n=this._easing;let a,s=!1;if(\"wheel\"===this._type&&r&&n){const t=Math.min((e.exported.now()-this._lastWheelEventTime)/200,1),i=n(t);a=e.number(r,o,i),t<1?this._frameId||(this._frameId=!0):s=!0;}else a=o,s=!0;return this._active=!0,s&&(this._active=!1,this._finishTimeout=setTimeout((()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout;}),200)),{noInertia:!0,needsRenderFrame:!s,zoomDelta:a-i(),around:this._aroundPoint,aroundCoord:this._aroundCoord,originalEvent:this._lastWheelEvent}}_smoothOutEasing(t){let i=e.ease;if(this._prevEase){const t=this._prevEase,o=(e.exported.now()-t.start)/t.duration,r=t.easing(o+.01)-t.easing(o),n=.27/Math.sqrt(r*r+1e-4)*.01,a=Math.sqrt(.0729-n*n);i=e.bezier(n,a,.25,1);}return this._prevEase={start:e.exported.now(),duration:t,easing:i},i}blur(){this.reset();}reset(){this._active=!1;}_addScrollZoomBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=n(\"div\",\"mapboxgl-scroll-zoom-blocker\",this._map._container),this._alertContainer.textContent=/(Mac|iPad)/i.test(e.window.navigator.userAgent)?this._map._getUIString(\"ScrollZoomBlocker.CmdMessage\"):this._map._getUIString(\"ScrollZoomBlocker.CtrlMessage\"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`);}_showBlockerAlert(){this._alertContainer.style.visibility=\"visible\",this._alertContainer.classList.add(\"mapboxgl-scroll-zoom-blocker-show\"),this._alertContainer.setAttribute(\"role\",\"alert\"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout((()=>{this._alertContainer.classList.remove(\"mapboxgl-scroll-zoom-blocker-show\"),this._alertContainer.setAttribute(\"role\",\"null\");}),200);}}class Fr{constructor(e,t){this._clickZoom=e,this._tapZoom=t;}enable(){this._clickZoom.enable(),this._tapZoom.enable();}disable(){this._clickZoom.disable(),this._tapZoom.disable();}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class Ur{constructor(){this.reset();}reset(){this._active=!1;}blur(){this.reset();}dblclick(e,t){return e.preventDefault(),{cameraAnimation:i=>{i.easeTo({duration:300,zoom:i.getZoom()+(e.shiftKey?-1:1),around:i.unproject(t)},{originalEvent:e});}}}enable(){this._enabled=!0;}disable(){this._enabled=!1,this.reset();}isEnabled(){return this._enabled}isActive(){return this._active}}class Nr{constructor(){this._tap=new gr({numTouches:1,numTaps:1}),this.reset();}reset(){this._active=!1,this._swipePoint=void 0,this._swipeTouch=0,this._tapTime=0,this._tap.reset();}touchstart(e,t,i){this._swipePoint||(this._tapTime&&e.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?i.length>0&&(this._swipePoint=t[0],this._swipeTouch=i[0].identifier):this._tap.touchstart(e,t,i));}touchmove(e,t,i){if(this._tapTime){if(this._swipePoint){if(i[0].identifier!==this._swipeTouch)return;const o=t[0],r=o.y-this._swipePoint.y;return this._swipePoint=o,e.preventDefault(),this._active=!0,{zoomDelta:r/128}}}else this._tap.touchmove(e,t,i);}touchend(e,t,i){this._tapTime?this._swipePoint&&0===i.length&&this.reset():this._tap.touchend(e,t,i)&&(this._tapTime=e.timeStamp);}touchcancel(){this.reset();}enable(){this._enabled=!0;}disable(){this._enabled=!1,this.reset();}isEnabled(){return this._enabled}isActive(){return this._active}}class Gr{constructor(e,t,i){this._el=e,this._mousePan=t,this._touchPan=i;}enable(e){this._inertiaOptions=e||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add(\"mapboxgl-touch-drag-pan\");}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove(\"mapboxgl-touch-drag-pan\");}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class jr{constructor(e,t,i){this._pitchWithRotate=e.pitchWithRotate,this._mouseRotate=t,this._mousePitch=i;}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable();}disable(){this._mouseRotate.disable(),this._mousePitch.disable();}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class Zr{constructor(e,t,i,o){this._el=e,this._touchZoom=t,this._touchRotate=i,this._tapDragZoom=o,this._rotationDisabled=!1,this._enabled=!0;}enable(e){this._touchZoom.enable(e),this._rotationDisabled||this._touchRotate.enable(e),this._tapDragZoom.enable(),this._el.classList.add(\"mapboxgl-touch-zoom-rotate\");}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove(\"mapboxgl-touch-zoom-rotate\");}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable();}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable();}}const Vr=e=>e.zoom||e.drag||e.pitch||e.rotate;class Wr extends e.Event{}class Xr{constructor(){this.constants=[1,1,.01],this.radius=0;}setup(t,i){const o=e.sub([],i,t);this.radius=e.length(o[2]<0?e.div([],o,this.constants):[o[0],o[1],0]);}projectRay(t){e.div(t,t,this.constants),e.normalize(t,t),e.mul$1(t,t,this.constants);const i=e.scale$2([],t,this.radius);if(i[2]>0){const t=e.scale$2([],[0,0,1],e.dot(i,[0,0,1])),o=e.scale$2([],e.normalize([],[i[0],i[1],0]),this.radius),r=e.add([],i,e.scale$2([],e.sub([],e.add([],o,t),i),2));i[0]=r[0],i[1]=r[1];}return i}}function qr(e){return e.panDelta&&e.panDelta.mag()||e.zoomDelta||e.bearingDelta||e.pitchDelta}class $r{constructor(t,i){this._map=t,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new ar(t),this._bearingSnap=i.bearingSnap,this._previousActiveHandlers={},this._trackingEllipsoid=new Xr,this._dragOrigin=null,this._eventsInProgress={},this._addDefaultHandlers(i),e.bindAll([\"handleEvent\",\"handleWindowEvent\"],this);const o=this._el;this._listeners=[[o,\"touchstart\",{passive:!0}],[o,\"touchmove\",{passive:!1}],[o,\"touchend\",void 0],[o,\"touchcancel\",void 0],[o,\"mousedown\",void 0],[o,\"mousemove\",void 0],[o,\"mouseup\",void 0],[e.window.document,\"mousemove\",{capture:!0}],[e.window.document,\"mouseup\",void 0],[o,\"mouseover\",void 0],[o,\"mouseout\",void 0],[o,\"dblclick\",void 0],[o,\"click\",void 0],[o,\"keydown\",{capture:!1}],[o,\"keyup\",void 0],[o,\"wheel\",{passive:!1}],[o,\"contextmenu\",void 0],[e.window,\"blur\",void 0]];for(const[t,i,o]of this._listeners)t.addEventListener(i,t===e.window.document?this.handleWindowEvent:this.handleEvent,o);}destroy(){for(const[t,i,o]of this._listeners)t.removeEventListener(i,t===e.window.document?this.handleWindowEvent:this.handleEvent,o);}_addDefaultHandlers(e){const t=this._map,i=t.getCanvasContainer();this._add(\"mapEvent\",new _r(t,e));const o=t.boxZoom=new pr(t,e);this._add(\"boxZoom\",o);const r=new vr,n=new Ur;t.doubleClickZoom=new Fr(n,r),this._add(\"tapZoom\",r),this._add(\"clickZoom\",n);const a=new Nr;this._add(\"tapDragZoom\",a);const s=t.touchPitch=new Ar(t);this._add(\"touchPitch\",s);const l=new wr(e),c=new Tr(e);t.dragRotate=new jr(e,l,c),this._add(\"mouseRotate\",l,[\"mousePitch\"]),this._add(\"mousePitch\",c,[\"mouseRotate\"]);const h=new br(e),u=new Er(t,e);t.dragPan=new Gr(i,h,u),this._add(\"mousePan\",h),this._add(\"touchPan\",u,[\"touchZoom\",\"touchRotate\"]);const _=new Dr,d=new Sr;t.touchZoomRotate=new Zr(i,d,_,a),this._add(\"touchRotate\",_,[\"touchPan\",\"touchZoom\"]),this._add(\"touchZoom\",d,[\"touchPan\",\"touchRotate\"]),this._add(\"blockableMapEvent\",new dr(t));const p=t.scrollZoom=new kr(t,this);this._add(\"scrollZoom\",p,[\"mousePan\"]);const m=t.keyboard=new Rr;this._add(\"keyboard\",m);for(const i of [\"boxZoom\",\"doubleClickZoom\",\"tapDragZoom\",\"touchPitch\",\"dragRotate\",\"dragPan\",\"touchZoomRotate\",\"scrollZoom\",\"keyboard\"])e.interactive&&e[i]&&t[i].enable(e[i]);}_add(e,t,i){this._handlers.push({handlerName:e,handler:t,allowed:i}),this._handlersById[e]=t;}stop(e){if(!this._updatingCamera){for(const{handler:e}of this._handlers)e.reset();this._inertia.clear(),this._fireEvents({},{},e),this._changes=[];}}isActive(){for(const{handler:e}of this._handlers)if(e.isActive())return !0;return !1}isZooming(){return !!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return !!this._eventsInProgress.rotate}isMoving(){return !!Vr(this._eventsInProgress)||this.isZooming()}_blockedByActive(e,t,i){for(const o in e)if(o!==i&&(!t||t.indexOf(o)<0))return !0;return !1}handleWindowEvent(e){this.handleEvent(e,`${e.type}Window`);}_getMapTouches(e){const t=[];for(const i of e)this._el.contains(i.target)&&t.push(i);return t}handleEvent(e,t){this._updatingCamera=!0;const i=\"renderFrame\"===e.type,o=i?void 0:e,r={needsRenderFrame:!1},n={},a={},s=e.touches?this._getMapTouches(e.touches):void 0,l=s?m(this._el,s):i?void 0:p(this._el,e);for(const{handlerName:i,handler:c,allowed:h}of this._handlers){if(!c.isEnabled())continue;let u;this._blockedByActive(a,h,i)?c.reset():c[t||e.type]&&(u=c[t||e.type](e,l,s),this.mergeHandlerResult(r,n,u,i,o),u&&u.needsRenderFrame&&this._triggerRenderFrame()),(u||c.isActive())&&(a[i]=c);}const c={};for(const e in this._previousActiveHandlers)a[e]||(c[e]=o);this._previousActiveHandlers=a,(Object.keys(c).length||qr(r))&&(this._changes.push([r,n,c]),this._triggerRenderFrame()),(Object.keys(a).length||qr(r))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:h}=r;h&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],h(this._map));}mergeHandlerResult(t,i,o,r,n){if(!o)return;e.extend(t,o);const a={handlerName:r,originalEvent:o.originalEvent||n};void 0!==o.zoomDelta&&(i.zoom=a),void 0!==o.panDelta&&(i.drag=a),void 0!==o.pitchDelta&&(i.pitch=a),void 0!==o.bearingDelta&&(i.rotate=a);}_applyChanges(){const t={},i={},o={};for(const[r,n,a]of this._changes)r.panDelta&&(t.panDelta=(t.panDelta||new e.pointGeometry(0,0))._add(r.panDelta)),r.zoomDelta&&(t.zoomDelta=(t.zoomDelta||0)+r.zoomDelta),r.bearingDelta&&(t.bearingDelta=(t.bearingDelta||0)+r.bearingDelta),r.pitchDelta&&(t.pitchDelta=(t.pitchDelta||0)+r.pitchDelta),void 0!==r.around&&(t.around=r.around),void 0!==r.aroundCoord&&(t.aroundCoord=r.aroundCoord),void 0!==r.pinchAround&&(t.pinchAround=r.pinchAround),r.noInertia&&(t.noInertia=r.noInertia),e.extend(i,n),e.extend(o,a);this._updateMapTransform(t,i,o),this._changes=[];}_updateMapTransform(t,i,o){const r=this._map,n=r.transform,a=e=>[e.x,e.y,e.z];if((e=>{const t=this._eventsInProgress.drag;return t&&!this._handlersById[t.handlerName].isActive()})()&&!qr(t)){const e=n.zoom;n.cameraElevationReference=\"sea\",n.recenterOnTerrain(),n.cameraElevationReference=\"ground\",e!==n.zoom&&this._map._update(!0);}if(!qr(t))return void this._fireEvents(i,o,!0);let{panDelta:s,zoomDelta:l,bearingDelta:c,pitchDelta:h,around:u,aroundCoord:_,pinchAround:d}=t;void 0!==d&&(u=d),(e=>i.drag&&!this._eventsInProgress.drag)()&&u&&(this._dragOrigin=a(n.pointCoordinate3D(u)),this._trackingEllipsoid.setup(n._camera.position,this._dragOrigin)),n.cameraElevationReference=\"sea\",r._stop(!0),u=u||r.transform.centerPoint,c&&(n.bearing+=c),h&&(n.pitch+=h),n._updateCameraState();const p=[0,0,0];if(s)if(\"mercator\"===n.projection.name){const e=this._trackingEllipsoid.projectRay(n.screenPointToMercatorRay(u).dir),t=this._trackingEllipsoid.projectRay(n.screenPointToMercatorRay(u.sub(s)).dir);p[0]=t[0]-e[0],p[1]=t[1]-e[1];}else {const t=n.pointCoordinate(u);if(\"globe\"===n.projection.name){s=s.rotate(-n.angle);const i=n._pixelsPerMercatorPixel/n.worldSize;p[0]=-s.x*e.mercatorScale(e.latFromMercatorY(t.y))*i,p[1]=-s.y*e.mercatorScale(n.center.lat)*i;}else {const e=n.pointCoordinate(u.sub(s));t&&e&&(p[0]=e.x-t.x,p[1]=e.y-t.y);}}const m=n.zoom,f=[0,0,0];if(l){const t=a(_||n.pointCoordinate3D(u)),i={dir:e.normalize([],e.sub([],t,n._camera.position))};if(i.dir[2]<0){const o=n.zoomDeltaToMovement(t,l);e.scale$2(f,i.dir,o);}}const g=e.add(p,p,f);n._translateCameraConstrained(g),l&&Math.abs(n.zoom-m)>1e-4&&n.recenterOnTerrain(),n.cameraElevationReference=\"ground\",this._map._update(),t.noInertia||this._inertia.record(t),this._fireEvents(i,o,!0);}_fireEvents(t,i,o){const r=Vr(this._eventsInProgress),n=Vr(t),a={};for(const e in t){const{originalEvent:i}=t[e];this._eventsInProgress[e]||(a[`${e}start`]=i),this._eventsInProgress[e]=t[e];}!r&&n&&this._fireEvent(\"movestart\",n.originalEvent);for(const e in a)this._fireEvent(e,a[e]);n&&this._fireEvent(\"move\",n.originalEvent);for(const e in t){const{originalEvent:i}=t[e];this._fireEvent(e,i);}const s={};let l;for(const e in this._eventsInProgress){const{handlerName:t,originalEvent:o}=this._eventsInProgress[e];this._handlersById[t].isActive()||(delete this._eventsInProgress[e],l=i[t]||o,s[`${e}end`]=l);}for(const e in s)this._fireEvent(e,s[e]);const c=Vr(this._eventsInProgress);if(o&&(r||n)&&!c){this._updatingCamera=!0;const t=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),i=e=>0!==e&&-this._bearingSnap<e&&e<this._bearingSnap;t?(i(t.bearing||this._map.getBearing())&&(t.bearing=0),this._map.easeTo(t,{originalEvent:l})):(this._map.fire(new e.Event(\"moveend\",{originalEvent:l})),i(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1;}}_fireEvent(t,i){this._map.fire(new e.Event(t,i?{originalEvent:i}:{}));}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add((e=>{this._frameId=void 0,this.handleEvent(new Wr(\"renderFrame\",{timeStamp:e})),this._applyChanges();}))}_triggerRenderFrame(){void 0===this._frameId&&(this._frameId=this._requestFrame());}}const Hr=\"map.setFreeCameraOptions(...) and map.getFreeCameraOptions() are not yet supported for non-mercator projections.\";class Yr extends e.Evented{constructor(t,i){super(),this._moving=!1,this._zooming=!1,this.transform=t,this._bearingSnap=i.bearingSnap,e.bindAll([\"_renderFrameCallback\"],this);}getCenter(){return new e.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(e,t){return this.jumpTo({center:e},t)}panBy(t,i,o){return t=e.pointGeometry.convert(t).mult(-1),this.panTo(this.transform.center,e.extend({offset:t},i),o)}panTo(t,i,o){return this.easeTo(e.extend({center:t},i),o)}getZoom(){return this.transform.zoom}setZoom(e,t){return this.jumpTo({zoom:e},t),this}zoomTo(t,i,o){return this.easeTo(e.extend({zoom:t},i),o)}zoomIn(e,t){return this.zoomTo(this.getZoom()+1,e,t),this}zoomOut(e,t){return this.zoomTo(this.getZoom()-1,e,t),this}getBearing(){return this.transform.bearing}setBearing(e,t){return this.jumpTo({bearing:e},t),this}getPadding(){return this.transform.padding}setPadding(e,t){return this.jumpTo({padding:e},t),this}rotateTo(t,i,o){return this.easeTo(e.extend({bearing:t},i),o)}resetNorth(t,i){return this.rotateTo(0,e.extend({duration:1e3},t),i),this}resetNorthPitch(t,i){return this.easeTo(e.extend({bearing:0,pitch:0,duration:1e3},t),i),this}snapToNorth(e,t){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(e,t):this}getPitch(){return this.transform.pitch}setPitch(e,t){return this.jumpTo({pitch:e},t),this}cameraForBounds(t,i){\"globe\"===this.transform.projection.name&&e.warnOnce('Globe projection does not support cameraForBounds API, this API may behave unexpectedly.\"'),t=e.LngLatBounds.convert(t);const o=i&&i.bearing||0;return this._cameraForBoxAndBearing(t.getNorthWest(),t.getSouthEast(),o,i)}_extendCameraOptions(t){const i={top:0,bottom:0,right:0,left:0};if(\"number\"==typeof(t=e.extend({padding:i,offset:[0,0],maxZoom:this.transform.maxZoom},t)).padding){const e=t.padding;t.padding={top:e,bottom:e,right:e,left:e};}return t.padding=e.extend(i,t.padding),t}_cameraForBoxAndBearing(t,i,o,r){const n=this._extendCameraOptions(r),a=this.transform,s=a.padding,l=a.project(e.LngLat.convert(t)),c=a.project(e.LngLat.convert(i)),h=new e.pointGeometry(l.x,c.y),u=new e.pointGeometry(c.x,l.y),_=-e.degToRad(o),d=l.rotate(_),p=c.rotate(_),m=h.rotate(_),f=u.rotate(_),g=new e.pointGeometry(Math.max(d.x,p.x,m.x,f.x),Math.max(d.y,p.y,m.y,f.y)),v=new e.pointGeometry(Math.min(d.x,p.x,m.x,f.x),Math.min(d.y,p.y,m.y,f.y)),x=g.sub(v),y=(a.width-((s.left||0)+(s.right||0)+n.padding.left+n.padding.right))/x.x,b=(a.height-((s.top||0)+(s.bottom||0)+n.padding.top+n.padding.bottom))/x.y;if(b<0||y<0)return void e.warnOnce(\"Map cannot fit within canvas with the given bounds, padding, and/or offset.\");const w=Math.min(a.scaleZoom(a.scale*Math.min(y,b)),n.maxZoom),T=\"number\"==typeof n.offset.x&&\"number\"==typeof n.offset.y?new e.pointGeometry(n.offset.x,n.offset.y):e.pointGeometry.convert(n.offset),E=new e.pointGeometry((n.padding.left-n.padding.right)/2,(n.padding.top-n.padding.bottom)/2).rotate(o*Math.PI/180),C=T.add(E).mult(a.scale/a.zoomScale(w));return {center:a.unproject(l.add(c).div(2).sub(C)),zoom:w,bearing:o}}_cameraForBox(t,i,o,r,n){const a=this._extendCameraOptions(n);o=o||0,r=r||0,t=e.LngLat.convert(t),i=e.LngLat.convert(i);const s=this.transform.clone();s.padding=a.padding;const l=this.getFreeCameraOptions(),c=new e.LngLat(.5*(t.lng+i.lng),.5*(t.lat+i.lat)),h=.5*(o+r);if(s._camera.position[2]<e.mercatorZfromAltitude(h,c.lat))return void e.warnOnce(\"Map cannot fit within canvas with the given bounds, padding, and/or offset.\");l.lookAtPoint(c),s.setFreeCameraOptions(l);const u=e.MercatorCoordinate.fromLngLat(t),_=e.MercatorCoordinate.fromLngLat(i),d=s.pointRayIntersection(s.centerPoint,h),p=[(m=s.rayIntersectionCoordinate(d)).x,m.y,m.z];var m;const f=s.screenPointToMercatorRay(s.centerPoint),g=\"globe\"!==s.projection.name;let v,x=0;do{const t=Math.floor(s.zoom),i=1<<t,n=Math.min(i*u.x,i*_.x),a=Math.min(i*u.y,i*_.y),l=Math.max(i*u.x,i*_.x),c=Math.max(i*u.y,i*_.y),h=new e.Aabb([n,a,o],[l,c,r]),d=e.Frustum.fromInvProjectionMatrix(s.invProjMatrix,s.worldSize,t,g);if(2!==h.intersects(d)){v&&(s._camera.position=e.scaleAndAdd([],s._camera.position,f.dir,-v),s._updateStateFromCamera());break}const m=e.sub([],s._camera.position,p);v=.5*e.length(m),s._camera.position=e.scaleAndAdd([],s._camera.position,f.dir,v);try{s._updateStateFromCamera();}catch(t){return void e.warnOnce(\"Map cannot fit within canvas with the given bounds, padding, and/or offset.\")}}while(++x<10);return {center:s.center,zoom:s.zoom,bearing:s.bearing,pitch:s.pitch}}fitBounds(t,i,o){return \"globe\"===this.transform.projection.name&&e.warnOnce(\"Globe projection does not support fitBounds API, this API may behave unexpectedly.\"),this._fitInternal(this.cameraForBounds(t,i),i,o)}_raycastElevationBox(t,i){const o=this.transform.elevation;if(!o)return;const r=new e.pointGeometry(t.x,i.y),n=new e.pointGeometry(i.x,t.y),a=o.pointCoordinate(t);if(!a)return;const s=o.pointCoordinate(i);if(!s)return;const l=o.pointCoordinate(r);if(!l)return;const c=o.pointCoordinate(n);if(!c)return;const h=new e.MercatorCoordinate(a[0],a[1]).toLngLat(),u=new e.MercatorCoordinate(s[0],s[1]).toLngLat(),_=new e.MercatorCoordinate(l[0],l[1]).toLngLat(),d=new e.MercatorCoordinate(c[0],c[1]).toLngLat(),p=Math.min(h.lng,Math.min(u.lng,Math.min(_.lng,d.lng))),m=Math.min(h.lat,Math.min(u.lat,Math.min(_.lat,d.lat))),f=Math.max(h.lng,Math.max(u.lng,Math.max(_.lng,d.lng))),g=Math.max(h.lat,Math.max(u.lat,Math.max(_.lat,d.lat))),v=Math.min(a[3],Math.min(s[3],Math.min(l[3],c[3]))),x=Math.max(a[3],Math.max(s[3],Math.max(l[3],c[3])));return {minLngLat:new e.LngLat(p,m),maxLngLat:new e.LngLat(f,g),minAltitude:v,maxAltitude:x}}fitScreenCoordinates(t,i,o,r,n){let a,s,l,c;\"globe\"===this.transform.projection.name&&e.warnOnce(\"Globe projection does not support fitScreenCoordinates API, this API may behave unexpectedly.\");const h=e.pointGeometry.convert(t),u=e.pointGeometry.convert(i),_=this._raycastElevationBox(h,u);if(_)a=_.minLngLat,s=_.maxLngLat,l=_.minAltitude,c=_.maxAltitude;else {if(this.transform.anyCornerOffEdge(h,u))return this;a=this.transform.pointLocation(h),s=this.transform.pointLocation(u);}return this._fitInternal(0===this.transform.pitch?this._cameraForBoxAndBearing(this.transform.pointLocation(e.pointGeometry.convert(t)),this.transform.pointLocation(e.pointGeometry.convert(i)),o,r):this._cameraForBox(a,s,l,c,r),r,n)}_fitInternal(t,i,o){return t?(delete(i=e.extend(t,i)).padding,i.linear?this.easeTo(i,o):this.flyTo(i,o)):this}jumpTo(t,i){this.stop();const o=t.preloadOnly?this.transform.clone():this.transform;let r=!1,n=!1,a=!1;return \"zoom\"in t&&o.zoom!==+t.zoom&&(r=!0,o.zoom=+t.zoom),void 0!==t.center&&(o.center=e.LngLat.convert(t.center)),\"bearing\"in t&&o.bearing!==+t.bearing&&(n=!0,o.bearing=+t.bearing),\"pitch\"in t&&o.pitch!==+t.pitch&&(a=!0,o.pitch=+t.pitch),null==t.padding||o.isPaddingEqual(t.padding)||(o.padding=t.padding),t.preloadOnly?(this._preloadTiles(o),this):(this.fire(new e.Event(\"movestart\",i)).fire(new e.Event(\"move\",i)),r&&this.fire(new e.Event(\"zoomstart\",i)).fire(new e.Event(\"zoom\",i)).fire(new e.Event(\"zoomend\",i)),n&&this.fire(new e.Event(\"rotatestart\",i)).fire(new e.Event(\"rotate\",i)).fire(new e.Event(\"rotateend\",i)),a&&this.fire(new e.Event(\"pitchstart\",i)).fire(new e.Event(\"pitch\",i)).fire(new e.Event(\"pitchend\",i)),this.fire(new e.Event(\"moveend\",i)))}getFreeCameraOptions(){return this.transform.projection.supportsFreeCamera||e.warnOnce(Hr),this.transform.getFreeCameraOptions()}setFreeCameraOptions(t,i){const o=this.transform;if(!o.projection.supportsFreeCamera)return e.warnOnce(Hr),this;this.stop();const r=o.zoom,n=o.pitch,a=o.bearing;o.setFreeCameraOptions(t);const s=r!==o.zoom,l=n!==o.pitch,c=a!==o.bearing;return this.fire(new e.Event(\"movestart\",i)).fire(new e.Event(\"move\",i)),s&&this.fire(new e.Event(\"zoomstart\",i)).fire(new e.Event(\"zoom\",i)).fire(new e.Event(\"zoomend\",i)),c&&this.fire(new e.Event(\"rotatestart\",i)).fire(new e.Event(\"rotate\",i)).fire(new e.Event(\"rotateend\",i)),l&&this.fire(new e.Event(\"pitchstart\",i)).fire(new e.Event(\"pitch\",i)).fire(new e.Event(\"pitchend\",i)),this.fire(new e.Event(\"moveend\",i)),this}easeTo(t,i){this._stop(!1,t.easeId),(!1===(t=e.extend({offset:[0,0],duration:500,easing:e.ease},t)).animate||!t.essential&&e.exported.prefersReducedMotion)&&(t.duration=0);const o=this.transform,r=this.getZoom(),n=this.getBearing(),a=this.getPitch(),s=this.getPadding(),l=\"zoom\"in t?+t.zoom:r,c=\"bearing\"in t?this._normalizeBearing(t.bearing,n):n,h=\"pitch\"in t?+t.pitch:a,u=\"padding\"in t?t.padding:o.padding,_=e.pointGeometry.convert(t.offset);let d,p,m;if(\"globe\"===o.projection.name){const i=e.MercatorCoordinate.fromLngLat(o.center),r=_.rotate(-o.angle);i.x+=r.x/o.worldSize,i.y+=r.y/o.worldSize;const n=i.toLngLat(),a=e.LngLat.convert(t.center||n);this._normalizeCenter(a),d=o.centerPoint.add(r),p=new e.pointGeometry(i.x,i.y).mult(o.worldSize),m=new e.pointGeometry(e.mercatorXfromLng(a.lng),e.mercatorYfromLat(a.lat)).mult(o.worldSize).sub(p);}else {d=o.centerPoint.add(_);const i=o.pointLocation(d),r=e.LngLat.convert(t.center||i);this._normalizeCenter(r),p=o.project(i),m=o.project(r).sub(p);}const f=o.zoomScale(l-r);let g,v;t.around&&(g=e.LngLat.convert(t.around),v=o.locationPoint(g));const x=this._zooming||l!==r,y=this._rotating||n!==c,b=this._pitching||h!==a,w=!o.isPaddingEqual(u),T=o=>T=>{if(x&&(o.zoom=e.number(r,l,T)),y&&(o.bearing=e.number(n,c,T)),b&&(o.pitch=e.number(a,h,T)),w&&(o.interpolatePadding(s,u,T),d=o.centerPoint.add(_)),g)o.setLocationAtPoint(g,v);else {const e=o.zoomScale(o.zoom-r),t=l>r?Math.min(2,f):Math.max(.5,f),i=Math.pow(t,1-T),n=o.unproject(p.add(m.mult(T*i)).mult(e));o.setLocationAtPoint(o.renderWorldCopies?n.wrap():n,d);}return t.preloadOnly||this._fireMoveEvents(i),o};if(t.preloadOnly){const e=this._emulate(T,t.duration,o);return this._preloadTiles(e),this}const E={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=x,this._rotating=y,this._pitching=b,this._padding=w,this._easeId=t.easeId,this._prepareEase(i,t.noMoveStart,E),this._ease(T(o),(e=>{o.recenterOnTerrain(),this._afterEase(i,e);}),t),this}_prepareEase(t,i,o={}){this._moving=!0,this.transform.cameraElevationReference=\"sea\",i||o.moving||this.fire(new e.Event(\"movestart\",t)),this._zooming&&!o.zooming&&this.fire(new e.Event(\"zoomstart\",t)),this._rotating&&!o.rotating&&this.fire(new e.Event(\"rotatestart\",t)),this._pitching&&!o.pitching&&this.fire(new e.Event(\"pitchstart\",t));}_fireMoveEvents(t){this.fire(new e.Event(\"move\",t)),this._zooming&&this.fire(new e.Event(\"zoom\",t)),this._rotating&&this.fire(new e.Event(\"rotate\",t)),this._pitching&&this.fire(new e.Event(\"pitch\",t));}_afterEase(t,i){if(this._easeId&&i&&this._easeId===i)return;this._easeId=void 0,this.transform.cameraElevationReference=\"ground\";const o=this._zooming,r=this._rotating,n=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,o&&this.fire(new e.Event(\"zoomend\",t)),r&&this.fire(new e.Event(\"rotateend\",t)),n&&this.fire(new e.Event(\"pitchend\",t)),this.fire(new e.Event(\"moveend\",t));}flyTo(t,i){if(!t.essential&&e.exported.prefersReducedMotion){const o=e.pick(t,[\"center\",\"zoom\",\"bearing\",\"pitch\",\"around\"]);return this.jumpTo(o,i)}this.stop(),t=e.extend({offset:[0,0],speed:1.2,curve:1.42,easing:e.ease},t);const o=this.transform,r=this.getZoom(),n=this.getBearing(),a=this.getPitch(),s=this.getPadding(),l=\"zoom\"in t?e.clamp(+t.zoom,o.minZoom,o.maxZoom):r,c=\"bearing\"in t?this._normalizeBearing(t.bearing,n):n,h=\"pitch\"in t?+t.pitch:a,u=\"padding\"in t?t.padding:o.padding,_=o.zoomScale(l-r),d=e.pointGeometry.convert(t.offset);let p=o.centerPoint.add(d);const m=o.pointLocation(p),f=e.LngLat.convert(t.center||m);this._normalizeCenter(f);const g=o.project(m),v=o.project(f).sub(g);let x=t.curve;const y=Math.max(o.width,o.height),b=y/_,w=v.mag();if(\"minZoom\"in t){const i=e.clamp(Math.min(t.minZoom,r,l),o.minZoom,o.maxZoom),n=y/o.zoomScale(i-r);x=Math.sqrt(n/w*2);}const T=x*x;function E(e){const t=(b*b-y*y+(e?-1:1)*T*T*w*w)/(2*(e?b:y)*T*w);return Math.log(Math.sqrt(t*t+1)-t)}function C(e){return (Math.exp(e)-Math.exp(-e))/2}function I(e){return (Math.exp(e)+Math.exp(-e))/2}const M=E(0);let S=function(e){return I(M)/I(M+x*e)},z=function(e){return y*((I(M)*(C(t=M+x*e)/I(t))-C(M))/T)/w;var t;},D=(E(1)-M)/x;if(Math.abs(w)<1e-6||!isFinite(D)){if(Math.abs(y-b)<1e-6)return this.easeTo(t,i);const e=b<y?-1:1;D=Math.abs(Math.log(b/y))/x,z=function(){return 0},S=function(t){return Math.exp(e*x*t)};}t.duration=\"duration\"in t?+t.duration:1e3*D/(\"screenSpeed\"in t?+t.screenSpeed/x:+t.speed),t.maxDuration&&t.duration>t.maxDuration&&(t.duration=0);const P=n!==c,A=h!==a,L=!o.isPaddingEqual(u),R=o=>_=>{const m=_*D,x=1/S(m);o.zoom=1===_?l:r+o.scaleZoom(x),P&&(o.bearing=e.number(n,c,_)),A&&(o.pitch=e.number(a,h,_)),L&&(o.interpolatePadding(s,u,_),p=o.centerPoint.add(d));const y=1===_?f:o.unproject(g.add(v.mult(z(m))).mult(x));return o.setLocationAtPoint(o.renderWorldCopies?y.wrap():y,p),o._updateCameraOnTerrain(),t.preloadOnly||this._fireMoveEvents(i),o};if(t.preloadOnly){const e=this._emulate(R,t.duration,o);return this._preloadTiles(e),this}return this._zooming=!0,this._rotating=P,this._pitching=A,this._padding=L,this._prepareEase(i,!1),this._ease(R(o),(()=>this._afterEase(i)),t),this}isEasing(){return !!this._easeFrameId}stop(){return this._stop()}_stop(e,t){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),this._easeFrameId=void 0,this._onEaseFrame=void 0),this._onEaseEnd){const e=this._onEaseEnd;this._onEaseEnd=void 0,e.call(this,t);}if(!e){const e=this.handlers;e&&e.stop(!1);}return this}_ease(t,i,o){!1===o.animate||0===o.duration?(t(1),i()):(this._easeStart=e.exported.now(),this._easeOptions=o,this._onEaseFrame=t,this._onEaseEnd=i,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback));}_renderFrameCallback(){const t=Math.min((e.exported.now()-this._easeStart)/this._easeOptions.duration,1),i=this._onEaseFrame;i&&i(this._easeOptions.easing(t)),t<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop();}_normalizeBearing(t,i){t=e.wrap(t,-180,180);const o=Math.abs(t-i);return Math.abs(t-360-i)<o&&(t-=360),Math.abs(t+360-i)<o&&(t+=360),t}_normalizeCenter(e){const t=this.transform;if(!t.renderWorldCopies||t.maxBounds)return;const i=e.lng-t.center.lng;e.lng+=i>180?-360:i<-180?360:0;}_emulate(e,t,i){const o=Math.ceil(15*t/1e3),r=[],n=e(i.clone());for(let e=0;e<=o;e++){const t=n(e/o);r.push(t.clone());}return r}}class Kr{constructor(t={}){this.options=t,e.bindAll([\"_toggleAttribution\",\"_updateEditLink\",\"_updateData\",\"_updateCompact\"],this);}getDefaultPosition(){return \"bottom-right\"}onAdd(e){const t=this.options&&this.options.compact;return this._map=e,this._container=n(\"div\",\"mapboxgl-ctrl mapboxgl-ctrl-attrib\"),this._compactButton=n(\"button\",\"mapboxgl-ctrl-attrib-button\",this._container),n(\"span\",\"mapboxgl-ctrl-icon\",this._compactButton).setAttribute(\"aria-hidden\",\"true\"),this._compactButton.type=\"button\",this._compactButton.addEventListener(\"click\",this._toggleAttribution),this._setElementTitle(this._compactButton,\"ToggleAttribution\"),this._innerContainer=n(\"div\",\"mapboxgl-ctrl-attrib-inner\",this._container),this._innerContainer.setAttribute(\"role\",\"list\"),t&&this._container.classList.add(\"mapboxgl-compact\"),this._updateAttributions(),this._updateEditLink(),this._map.on(\"styledata\",this._updateData),this._map.on(\"sourcedata\",this._updateData),this._map.on(\"moveend\",this._updateEditLink),void 0===t&&(this._map.on(\"resize\",this._updateCompact),this._updateCompact()),this._container}onRemove(){this._container.remove(),this._map.off(\"styledata\",this._updateData),this._map.off(\"sourcedata\",this._updateData),this._map.off(\"moveend\",this._updateEditLink),this._map.off(\"resize\",this._updateCompact),this._map=void 0,this._attribHTML=void 0;}_setElementTitle(e,t){const i=this._map._getUIString(`AttributionControl.${t}`);e.setAttribute(\"aria-label\",i),e.removeAttribute(\"title\"),e.firstElementChild&&e.firstElementChild.setAttribute(\"title\",i);}_toggleAttribution(){this._container.classList.contains(\"mapboxgl-compact-show\")?(this._container.classList.remove(\"mapboxgl-compact-show\"),this._compactButton.setAttribute(\"aria-expanded\",\"false\")):(this._container.classList.add(\"mapboxgl-compact-show\"),this._compactButton.setAttribute(\"aria-expanded\",\"true\"));}_updateEditLink(){let t=this._editLink;t||(t=this._editLink=this._container.querySelector(\".mapbox-improve-map\"));const i=[{key:\"owner\",value:this.styleOwner},{key:\"id\",value:this.styleId},{key:\"access_token\",value:this._map._requestManager._customAccessToken||e.config.ACCESS_TOKEN}];if(t){const o=i.reduce(((e,t,o)=>(t.value&&(e+=`${t.key}=${t.value}${o<i.length-1?\"&\":\"\"}`),e)),\"?\");t.href=`${e.config.FEEDBACK_URL}/${o}#${er(this._map,!0)}`,t.rel=\"noopener nofollow\",this._setElementTitle(t,\"MapFeedback\");}}_updateData(e){!e||\"metadata\"!==e.sourceDataType&&\"visibility\"!==e.sourceDataType&&\"style\"!==e.dataType||(this._updateAttributions(),this._updateEditLink());}_updateAttributions(){if(!this._map.style)return;let e=[];if(this._map.style.stylesheet){const e=this._map.style.stylesheet;this.styleOwner=e.owner,this.styleId=e.id;}const t=this._map.style._sourceCaches;for(const i in t){const o=t[i];if(o.used){const t=o.getSource();t.attribution&&e.indexOf(t.attribution)<0&&e.push(t.attribution);}}e.sort(((e,t)=>e.length-t.length)),e=e.filter(((t,i)=>{for(let o=i+1;o<e.length;o++)if(e[o].indexOf(t)>=0)return !1;return !0})),this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?e=[...this.options.customAttribution,...e]:e.unshift(this.options.customAttribution));const i=e.join(\" | \");i!==this._attribHTML&&(this._attribHTML=i,e.length?(this._innerContainer.innerHTML=i,this._container.classList.remove(\"mapboxgl-attrib-empty\")):this._container.classList.add(\"mapboxgl-attrib-empty\"),this._editLink=null);}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add(\"mapboxgl-compact\"):this._container.classList.remove(\"mapboxgl-compact\",\"mapboxgl-compact-show\");}}class Jr{constructor(){e.bindAll([\"_updateLogo\",\"_updateCompact\"],this);}onAdd(e){this._map=e,this._container=n(\"div\",\"mapboxgl-ctrl\");const t=n(\"a\",\"mapboxgl-ctrl-logo\");return t.target=\"_blank\",t.rel=\"noopener nofollow\",t.href=\"https://www.mapbox.com/\",t.setAttribute(\"aria-label\",this._map._getUIString(\"LogoControl.Title\")),t.setAttribute(\"rel\",\"noopener nofollow\"),this._container.appendChild(t),this._container.style.display=\"none\",this._map.on(\"sourcedata\",this._updateLogo),this._updateLogo(),this._map.on(\"resize\",this._updateCompact),this._updateCompact(),this._container}onRemove(){this._container.remove(),this._map.off(\"sourcedata\",this._updateLogo),this._map.off(\"resize\",this._updateCompact);}getDefaultPosition(){return \"bottom-left\"}_updateLogo(e){e&&\"metadata\"!==e.sourceDataType||(this._container.style.display=this._logoRequired()?\"block\":\"none\");}_logoRequired(){if(!this._map.style)return !0;const e=this._map.style._sourceCaches;if(0===Object.entries(e).length)return !0;for(const t in e){const i=e[t].getSource();if(i.hasOwnProperty(\"mapbox_logo\")&&!i.mapbox_logo)return !1}return !0}_updateCompact(){const e=this._container.children;if(e.length){const t=e[0];this._map.getCanvasContainer().offsetWidth<250?t.classList.add(\"mapboxgl-compact\"):t.classList.remove(\"mapboxgl-compact\");}}}class Qr{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1;}add(e){const t=++this._id;return this._queue.push({callback:e,id:t,cancelled:!1}),t}remove(e){const t=this._currentlyRunning,i=t?this._queue.concat(t):this._queue;for(const t of i)if(t.id===e)return void(t.cancelled=!0)}run(e=0){const t=this._currentlyRunning=this._queue;this._queue=[];for(const i of t)if(!i.cancelled&&(i.callback(e),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1;}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[];}}function en(t,i,o){if(t=new e.LngLat(t.lng,t.lat),i){const r=new e.LngLat(t.lng-360,t.lat),n=new e.LngLat(t.lng+360,t.lat),a=360*Math.ceil(Math.abs(t.lng-o.center.lng)/360),s=o.locationPoint(t).distSqr(i),l=i.x<0||i.y<0||i.x>o.width||i.y>o.height;o.locationPoint(r).distSqr(i)<s&&(l||Math.abs(r.lng-o.center.lng)<a)?t=r:o.locationPoint(n).distSqr(i)<s&&(l||Math.abs(n.lng-o.center.lng)<a)&&(t=n);}for(;Math.abs(t.lng-o.center.lng)>180;){const e=o.locationPoint(t);if(e.x>=0&&e.y>=0&&e.x<=o.width&&e.y<=o.height)break;t.lng>o.center.lng?t.lng-=360:t.lng+=360;}return t}const tn={center:\"translate(-50%,-50%)\",top:\"translate(-50%,0)\",\"top-left\":\"translate(0,0)\",\"top-right\":\"translate(-100%,0)\",bottom:\"translate(-50%,-100%)\",\"bottom-left\":\"translate(0,-100%)\",\"bottom-right\":\"translate(-100%,-100%)\",left:\"translate(0,-50%)\",right:\"translate(-100%,-50%)\"};class on extends e.Evented{constructor(t,i){if(super(),(t instanceof e.window.HTMLElement||i)&&(t=e.extend({element:t},i)),e.bindAll([\"_update\",\"_onMove\",\"_onUp\",\"_addDragHandler\",\"_onMapClick\",\"_onKeyPress\",\"_clearFadeTimer\"],this),this._anchor=t&&t.anchor||\"center\",this._color=t&&t.color||\"#3FB1CE\",this._scale=t&&t.scale||1,this._draggable=t&&t.draggable||!1,this._clickTolerance=t&&t.clickTolerance||0,this._isDragging=!1,this._state=\"inactive\",this._rotation=t&&t.rotation||0,this._rotationAlignment=t&&t.rotationAlignment||\"auto\",this._pitchAlignment=t&&t.pitchAlignment&&t.pitchAlignment||\"auto\",this._updateMoving=()=>this._update(!0),t&&t.element)this._element=t.element,this._offset=e.pointGeometry.convert(t&&t.offset||[0,0]);else {this._defaultMarker=!0,this._element=n(\"div\");const i=41,o=27,r=a(\"svg\",{display:\"block\",height:i*this._scale+\"px\",width:o*this._scale+\"px\",viewBox:`0 0 ${o} ${i}`},this._element),s=a(\"radialGradient\",{id:\"shadowGradient\"},a(\"defs\",{},r));a(\"stop\",{offset:\"10%\",\"stop-opacity\":.4},s),a(\"stop\",{offset:\"100%\",\"stop-opacity\":.05},s),a(\"ellipse\",{cx:13.5,cy:34.8,rx:10.5,ry:5.25,fill:\"url(#shadowGradient)\"},r),a(\"path\",{fill:this._color,d:\"M27,13.5C27,19.07 20.25,27 14.75,34.5C14.02,35.5 12.98,35.5 12.25,34.5C6.75,27 0,19.22 0,13.5C0,6.04 6.04,0 13.5,0C20.96,0 27,6.04 27,13.5Z\"},r),a(\"path\",{opacity:.25,d:\"M13.5,0C6.04,0 0,6.04 0,13.5C0,19.22 6.75,27 12.25,34.5C13,35.52 14.02,35.5 14.75,34.5C20.25,27 27,19.07 27,13.5C27,6.04 20.96,0 13.5,0ZM13.5,1C20.42,1 26,6.58 26,13.5C26,15.9 24.5,19.18 22.22,22.74C19.95,26.3 16.71,30.14 13.94,33.91C13.74,34.18 13.61,34.32 13.5,34.44C13.39,34.32 13.26,34.18 13.06,33.91C10.28,30.13 7.41,26.31 5.02,22.77C2.62,19.23 1,15.95 1,13.5C1,6.58 6.58,1 13.5,1Z\"},r),a(\"circle\",{fill:\"white\",cx:13.5,cy:13.5,r:5.5},r),this._offset=e.pointGeometry.convert(t&&t.offset||[0,-14]);}this._element.hasAttribute(\"aria-label\")||this._element.setAttribute(\"aria-label\",\"Map marker\"),this._element.classList.add(\"mapboxgl-marker\"),this._element.addEventListener(\"dragstart\",(e=>{e.preventDefault();})),this._element.addEventListener(\"mousedown\",(e=>{e.preventDefault();}));const o=this._element.classList;for(const e in tn)o.remove(`mapboxgl-marker-anchor-${e}`);o.add(`mapboxgl-marker-anchor-${this._anchor}`),this._popup=null;}addTo(e){return e===this._map||(this.remove(),this._map=e,e.getCanvasContainer().appendChild(this._element),e.on(\"move\",this._updateMoving),e.on(\"moveend\",this._update),e.on(\"remove\",this._clearFadeTimer),e._addMarker(this),this.setDraggable(this._draggable),this._update(),e.on(\"click\",this._onMapClick)),this}remove(){const e=this._map;return e&&(e.off(\"click\",this._onMapClick),e.off(\"move\",this._updateMoving),e.off(\"moveend\",this._update),e.off(\"mousedown\",this._addDragHandler),e.off(\"touchstart\",this._addDragHandler),e.off(\"mouseup\",this._onUp),e.off(\"touchend\",this._onUp),e.off(\"mousemove\",this._onMove),e.off(\"touchmove\",this._onMove),e.off(\"remove\",this._clearFadeTimer),e._removeMarker(this),this._map=void 0),this._clearFadeTimer(),this._element.remove(),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(t){return this._lngLat=e.LngLat.convert(t),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(!0),this}getElement(){return this._element}setPopup(e){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeAttribute(\"role\"),this._element.removeEventListener(\"keypress\",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute(\"tabindex\")),e){if(!(\"offset\"in e.options)){const t=38.1,i=13.5,o=Math.sqrt(Math.pow(i,2)/2);e.options.offset=this._defaultMarker?{top:[0,0],\"top-left\":[0,0],\"top-right\":[0,0],bottom:[0,-t],\"bottom-left\":[o,-1*(t-i+o)],\"bottom-right\":[-o,-1*(t-i+o)],left:[i,-1*(t-i)],right:[-i,-1*(t-i)]}:this._offset;}this._popup=e,e._marker=this,this._lngLat&&this._popup.setLngLat(this._lngLat),this._element.setAttribute(\"role\",\"button\"),this._originalTabIndex=this._element.getAttribute(\"tabindex\"),this._originalTabIndex||this._element.setAttribute(\"tabindex\",\"0\"),this._element.addEventListener(\"keypress\",this._onKeyPress),this._element.setAttribute(\"aria-expanded\",\"false\");}return this}_onKeyPress(e){const t=e.code,i=e.charCode||e.keyCode;\"Space\"!==t&&\"Enter\"!==t&&32!==i&&13!==i||this.togglePopup();}_onMapClick(e){const t=e.originalEvent.target,i=this._element;this._popup&&(t===i||i.contains(t))&&this.togglePopup();}getPopup(){return this._popup}togglePopup(){const e=this._popup;return e?(e.isOpen()?(e.remove(),this._element.setAttribute(\"aria-expanded\",\"false\")):this._map&&(e.addTo(this._map),this._element.setAttribute(\"aria-expanded\",\"true\")),this):this}_behindTerrain(){const e=this._map;if(!e)return !1;const t=e.unproject(this._pos),i=e.getFreeCameraOptions();if(!i.position)return !1;const o=i.position.toLngLat();return o.distanceTo(t)<.9*o.distanceTo(this._lngLat)}_evaluateOpacity(){const t=this._map;if(!t)return;const i=this._pos;if(!i||i.x<0||i.x>t.transform.width||i.y<0||i.y>t.transform.height)return void this._clearFadeTimer();const o=t.unproject(i);let r;t._showingGlobe()&&e.isLngLatBehindGlobe(t.transform,this._lngLat)?r=0:(r=1-t._queryFogOpacity(o),t.transform._terrainEnabled()&&t.getTerrain()&&this._behindTerrain()&&(r*=.2)),this._element.style.opacity=`${r}`,this._element.style.pointerEvents=r>0?\"auto\":\"none\",this._popup&&this._popup._setOpacity(r),this._fadeTimer=null;}_clearFadeTimer(){this._fadeTimer&&(clearTimeout(this._fadeTimer),this._fadeTimer=null);}_updateDOM(){const e=this._pos;if(!e||!this._map)return;const t=this._offset.mult(this._scale);this._element.style.transform=`\\n            translate(${e.x}px,${e.y}px)\\n            ${tn[this._anchor]}\\n            ${this._calculateXYTransform()} ${this._calculateZTransform()}\\n            translate(${t.x}px,${t.y}px)\\n        `;}_calculateXYTransform(){const t=this._pos,i=this._map,o=this.getPitchAlignment();if(!i||!t||\"map\"!==o)return \"\";if(!i._showingGlobe()){const e=i.getPitch();return e?`rotateX(${e}deg)`:\"\"}const r=e.radToDeg(e.globeTiltAtLngLat(i.transform,this._lngLat)),n=t.sub(e.globeCenterToScreenPoint(i.transform)),a=Math.abs(n.x)+Math.abs(n.y);if(0===a)return \"\";const s=r/a;return `rotateX(${-n.y*s}deg) rotateY(${n.x*s}deg)`}_calculateZTransform(){const t=this._pos,i=this._map;if(!i||!t)return \"\";let o=0;const r=this.getRotationAlignment();if(\"map\"===r)if(i._showingGlobe()){const t=i.project(new e.LngLat(this._lngLat.lng,this._lngLat.lat+.001)),r=i.project(new e.LngLat(this._lngLat.lng,this._lngLat.lat-.001)).sub(t);o=e.radToDeg(Math.atan2(r.y,r.x))-90;}else o=-i.getBearing();else if(\"horizon\"===r){const r=e.smoothstep(4,6,i.getZoom()),n=e.globeCenterToScreenPoint(i.transform);n.y+=r*i.transform.height;const a=t.sub(n),s=e.radToDeg(Math.atan2(a.y,a.x));o=(s>90?s-270:s+90)*(1-r);}return o+=this._rotation,o?`rotateZ(${o}deg)`:\"\"}_update(t){e.window.cancelAnimationFrame(this._updateFrameId);const i=this._map;i&&(i.transform.renderWorldCopies&&(this._lngLat=en(this._lngLat,this._pos,i.transform)),this._pos=i.project(this._lngLat),!0===t?this._updateFrameId=e.window.requestAnimationFrame((()=>{this._element&&this._pos&&this._anchor&&(this._pos=this._pos.round(),this._updateDOM());})):this._pos=this._pos.round(),i._requestDomTask((()=>{this._map&&(this._element&&this._pos&&this._anchor&&this._updateDOM(),(i._showingGlobe()||i.getTerrain()||i.getFog())&&!this._fadeTimer&&(this._fadeTimer=setTimeout(this._evaluateOpacity.bind(this),60)));})));}getOffset(){return this._offset}setOffset(t){return this._offset=e.pointGeometry.convert(t),this._update(),this}_onMove(t){const i=this._map;if(i){if(!this._isDragging){const e=this._clickTolerance||i._clickTolerance;this._isDragging=t.point.dist(this._pointerdownPos)>=e;}this._isDragging&&(this._pos=t.point.sub(this._positionDelta),this._lngLat=i.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents=\"none\",\"pending\"===this._state&&(this._state=\"active\",this.fire(new e.Event(\"dragstart\"))),this.fire(new e.Event(\"drag\")));}}_onUp(){this._element.style.pointerEvents=\"auto\",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1;const t=this._map;t&&(t.off(\"mousemove\",this._onMove),t.off(\"touchmove\",this._onMove)),\"active\"===this._state&&this.fire(new e.Event(\"dragend\")),this._state=\"inactive\";}_addDragHandler(e){const t=this._map;t&&this._element.contains(e.originalEvent.target)&&(e.preventDefault(),this._positionDelta=e.point.sub(this._pos),this._pointerdownPos=e.point,this._state=\"pending\",t.on(\"mousemove\",this._onMove),t.on(\"touchmove\",this._onMove),t.once(\"mouseup\",this._onUp),t.once(\"touchend\",this._onUp));}setDraggable(e){this._draggable=!!e;const t=this._map;return t&&(e?(t.on(\"mousedown\",this._addDragHandler),t.on(\"touchstart\",this._addDragHandler)):(t.off(\"mousedown\",this._addDragHandler),t.off(\"touchstart\",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(e){return this._rotation=e||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(e){return this._rotationAlignment=e||\"auto\",this._update(),this}getRotationAlignment(){return \"auto\"===this._rotationAlignment||\"horizon\"===this._rotationAlignment&&this._map&&!this._map._showingGlobe()?\"viewport\":this._rotationAlignment}setPitchAlignment(e){return this._pitchAlignment=e||\"auto\",this._update(),this}getPitchAlignment(){return \"auto\"===this._pitchAlignment?this.getRotationAlignment():this._pitchAlignment}}class rn{constructor(e){this.jumpTo(e);}getValue(t){if(t<=this._startTime)return this._start;if(t>=this._endTime)return this._end;const i=e.easeCubicInOut((t-this._startTime)/(this._endTime-this._startTime));return this._start*(1-i)+this._end*i}isEasing(e){return e>=this._startTime&&e<=this._endTime}jumpTo(e){this._startTime=-1/0,this._endTime=-1/0,this._start=e,this._end=e;}easeTo(e,t,i){this._start=this.getValue(t),this._end=e,this._startTime=t,this._endTime=t+i;}}const nn={\"AttributionControl.ToggleAttribution\":\"Toggle attribution\",\"AttributionControl.MapFeedback\":\"Map feedback\",\"FullscreenControl.Enter\":\"Enter fullscreen\",\"FullscreenControl.Exit\":\"Exit fullscreen\",\"GeolocateControl.FindMyLocation\":\"Find my location\",\"GeolocateControl.LocationNotAvailable\":\"Location not available\",\"LogoControl.Title\":\"Mapbox logo\",\"Map.Title\":\"Map\",\"NavigationControl.ResetBearing\":\"Reset bearing to north\",\"NavigationControl.ZoomIn\":\"Zoom in\",\"NavigationControl.ZoomOut\":\"Zoom out\",\"ScrollZoomBlocker.CtrlMessage\":\"Use ctrl + scroll to zoom the map\",\"ScrollZoomBlocker.CmdMessage\":\"Use ⌘ + scroll to zoom the map\",\"TouchPanBlocker.Message\":\"Use two fingers to move the map\"},an={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:85,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,optimizeForTerrain:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,minTileCacheSize:null,maxTileCacheSize:null,localIdeographFontFamily:\"sans-serif\",localFontFamily:null,transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0};function sn(e){e.parentNode&&e.parentNode.removeChild(e);}const ln={showCompass:!0,showZoom:!0,visualizePitch:!1};class cn{constructor(t,i,o=!1){this._clickTolerance=10,this.element=i,this.mouseRotate=new wr({clickTolerance:t.dragRotate._mouseRotate._clickTolerance}),this.map=t,o&&(this.mousePitch=new Tr({clickTolerance:t.dragRotate._mousePitch._clickTolerance})),e.bindAll([\"mousedown\",\"mousemove\",\"mouseup\",\"touchstart\",\"touchmove\",\"touchend\",\"reset\"],this),i.addEventListener(\"mousedown\",this.mousedown),i.addEventListener(\"touchstart\",this.touchstart,{passive:!1}),i.addEventListener(\"touchmove\",this.touchmove),i.addEventListener(\"touchend\",this.touchend),i.addEventListener(\"touchcancel\",this.reset);}down(e,t){this.mouseRotate.mousedown(e,t),this.mousePitch&&this.mousePitch.mousedown(e,t),h();}move(e,t){const i=this.map,o=this.mouseRotate.mousemoveWindow(e,t),r=o&&o.bearingDelta;if(r&&i.setBearing(i.getBearing()+r),this.mousePitch){const o=this.mousePitch.mousemoveWindow(e,t),r=o&&o.pitchDelta;r&&i.setPitch(i.getPitch()+r);}}off(){const e=this.element;e.removeEventListener(\"mousedown\",this.mousedown),e.removeEventListener(\"touchstart\",this.touchstart,{passive:!1}),e.removeEventListener(\"touchmove\",this.touchmove),e.removeEventListener(\"touchend\",this.touchend),e.removeEventListener(\"touchcancel\",this.reset),this.offTemp();}offTemp(){u(),e.window.removeEventListener(\"mousemove\",this.mousemove),e.window.removeEventListener(\"mouseup\",this.mouseup);}mousedown(t){this.down(e.extend({},t,{ctrlKey:!0,preventDefault:()=>t.preventDefault()}),p(this.element,t)),e.window.addEventListener(\"mousemove\",this.mousemove),e.window.addEventListener(\"mouseup\",this.mouseup);}mousemove(e){this.move(e,p(this.element,e));}mouseup(e){this.mouseRotate.mouseupWindow(e),this.mousePitch&&this.mousePitch.mouseupWindow(e),this.offTemp();}touchstart(e){1!==e.targetTouches.length?this.reset():(this._startPos=this._lastPos=m(this.element,e.targetTouches)[0],this.down({type:\"mousedown\",button:0,ctrlKey:!0,preventDefault:()=>e.preventDefault()},this._startPos));}touchmove(e){1!==e.targetTouches.length?this.reset():(this._lastPos=m(this.element,e.targetTouches)[0],this.move({preventDefault:()=>e.preventDefault()},this._lastPos));}touchend(e){0===e.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset();}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp();}}const hn={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0,showUserHeading:!1},un={maxWidth:100,unit:\"metric\"};function _n(e,t,i){const o=dn(t),r=o/t,n={kilometer:\"km\",meter:\"m\",mile:\"mi\",foot:\"ft\",\"nautical-mile\":\"nm\"}[i];this._map._requestDomTask((()=>{this._container.style.width=e*r+\"px\",this._container.innerHTML=`${o}&nbsp;${n}`;}));}function dn(e){const t=Math.pow(10,`${Math.floor(e)}`.length-1);let i=e/t;return i=i>=10?10:i>=5?5:i>=3?3:i>=2?2:i>=1?1:function(e){const t=Math.pow(10,Math.ceil(-Math.log(e)/Math.LN10));return Math.round(e*t)/t}(i),t*i}const pn={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:\"\",maxWidth:\"240px\"},mn=[\"a[href]\",\"[tabindex]:not([tabindex='-1'])\",\"[contenteditable]:not([contenteditable='false'])\",\"button:not([disabled])\",\"input:not([disabled])\",\"select:not([disabled])\",\"textarea:not([disabled])\"].join(\", \");function fn(t=new e.pointGeometry(0,0),i=\"bottom\"){if(\"number\"==typeof t){const o=Math.round(Math.sqrt(.5*Math.pow(t,2)));switch(i){case\"top\":return new e.pointGeometry(0,t);case\"top-left\":return new e.pointGeometry(o,o);case\"top-right\":return new e.pointGeometry(-o,o);case\"bottom\":return new e.pointGeometry(0,-t);case\"bottom-left\":return new e.pointGeometry(o,-o);case\"bottom-right\":return new e.pointGeometry(-o,-o);case\"left\":return new e.pointGeometry(t,0);case\"right\":return new e.pointGeometry(-t,0)}return new e.pointGeometry(0,0)}return t instanceof e.pointGeometry||Array.isArray(t)?e.pointGeometry.convert(t):e.pointGeometry.convert(t[i]||[0,0])}const gn={version:e.version,supported:i,setRTLTextPlugin:e.setRTLTextPlugin,getRTLTextPluginStatus:e.getRTLTextPluginStatus,Map:class extends Yr{constructor(t){if(null!=(t=e.extend({},an,t)).minZoom&&null!=t.maxZoom&&t.minZoom>t.maxZoom)throw new Error(\"maxZoom must be greater than or equal to minZoom\");if(null!=t.minPitch&&null!=t.maxPitch&&t.minPitch>t.maxPitch)throw new Error(\"maxPitch must be greater than or equal to minPitch\");if(null!=t.minPitch&&t.minPitch<0)throw new Error(\"minPitch must be greater than or equal to 0\");if(null!=t.maxPitch&&t.maxPitch>85)throw new Error(\"maxPitch must be less than or equal to 85\");if(t.antialias&&e.isSafariWithAntialiasingBug(e.window)&&(t.antialias=!1,e.warnOnce(\"Antialiasing is disabled for this WebGL context to avoid browser bug: https://github.com/mapbox/mapbox-gl-js/issues/11609\")),super(new Ko(t.minZoom,t.maxZoom,t.minPitch,t.maxPitch,t.renderWorldCopies),t),this._interactive=t.interactive,this._minTileCacheSize=t.minTileCacheSize,this._maxTileCacheSize=t.maxTileCacheSize,this._failIfMajorPerformanceCaveat=t.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=t.preserveDrawingBuffer,this._antialias=t.antialias,this._trackResize=t.trackResize,this._bearingSnap=t.bearingSnap,this._refreshExpiredTiles=t.refreshExpiredTiles,this._fadeDuration=t.fadeDuration,this._isInitialLoad=!0,this._crossSourceCollisions=t.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=t.collectResourceTiming,this._optimizeForTerrain=t.optimizeForTerrain,this._language=\"auto\"===t.language?e.window.navigator.language:t.language,this._worldview=t.worldview,this._renderTaskQueue=new Qr,this._domRenderTaskQueue=new Qr,this._controls=[],this._markers=[],this._mapId=e.uniqueId(),this._locale=e.extend({},nn,t.locale),this._clickTolerance=t.clickTolerance,this._cooperativeGestures=t.cooperativeGestures,this._containerWidth=0,this._containerHeight=0,this._averageElevationLastSampledAt=-1/0,this._averageElevationExaggeration=0,this._averageElevation=new rn(0),this._useExplicitProjection=!1,this._requestManager=new e.RequestManager(t.transformRequest,t.accessToken,t.testMode),this._silenceAuthErrors=!!t.testMode,\"string\"==typeof t.container){if(this._container=e.window.document.getElementById(t.container),!this._container)throw new Error(`Container '${t.container}' not found.`)}else {if(!(t.container instanceof e.window.HTMLElement))throw new Error(\"Invalid type: 'container' must be a String or HTMLElement.\");this._container=t.container;}if(this._container.childNodes.length>0&&e.warnOnce(\"The map container element should be empty, otherwise the map's interactivity will be negatively impacted. If you want to display a message when WebGL is not supported, use the Mapbox GL Supported plugin instead.\"),t.maxBounds&&this.setMaxBounds(t.maxBounds),e.bindAll([\"_onWindowOnline\",\"_onWindowResize\",\"_onMapScroll\",\"_contextLost\",\"_contextRestored\"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error(\"Failed to initialize WebGL.\");this.on(\"move\",(()=>this._update(!1))),this.on(\"moveend\",(()=>this._update(!1))),this.on(\"zoom\",(()=>this._update(!0))),void 0!==e.window&&(e.window.addEventListener(\"online\",this._onWindowOnline,!1),e.window.addEventListener(\"resize\",this._onWindowResize,!1),e.window.addEventListener(\"orientationchange\",this._onWindowResize,!1),e.window.addEventListener(\"webkitfullscreenchange\",this._onWindowResize,!1)),this.handlers=new $r(this,t),this._localFontFamily=t.localFontFamily,this._localIdeographFontFamily=t.localIdeographFontFamily,t.style&&this.setStyle(t.style,{localFontFamily:this._localFontFamily,localIdeographFontFamily:this._localIdeographFontFamily}),t.projection&&this.setProjection(t.projection),this._hash=t.hash&&new Qo(\"string\"==typeof t.hash&&t.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:t.center,zoom:t.zoom,bearing:t.bearing,pitch:t.pitch}),t.bounds&&(this.resize(),this.fitBounds(t.bounds,e.extend({},t.fitBoundsOptions,{duration:0})))),this.resize(),t.attributionControl&&this.addControl(new Kr({customAttribution:t.customAttribution})),this._logoControl=new Jr,this.addControl(this._logoControl,t.logoPosition),this.on(\"style.load\",(()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet);})),this.on(\"data\",(t=>{this._update(\"style\"===t.dataType),this.fire(new e.Event(`${t.dataType}data`,t));})),this.on(\"dataloading\",(t=>{this.fire(new e.Event(`${t.dataType}dataloading`,t));}));}_getMapId(){return this._mapId}addControl(t,i){if(void 0===i&&(i=t.getDefaultPosition?t.getDefaultPosition():\"top-right\"),!t||!t.onAdd)return this.fire(new e.ErrorEvent(new Error(\"Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.\")));const o=t.onAdd(this);this._controls.push(t);const r=this._controlPositions[i];return -1!==i.indexOf(\"bottom\")?r.insertBefore(o,r.firstChild):r.appendChild(o),this}removeControl(t){if(!t||!t.onRemove)return this.fire(new e.ErrorEvent(new Error(\"Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.\")));const i=this._controls.indexOf(t);return i>-1&&this._controls.splice(i,1),t.onRemove(this),this}hasControl(e){return this._controls.indexOf(e)>-1}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}resize(t){if(this._updateContainerDimensions(),this._containerWidth===this.transform.width&&this._containerHeight===this.transform.height)return this;this._resizeCanvas(this._containerWidth,this._containerHeight),this.transform.resize(this._containerWidth,this._containerHeight),this.painter.resize(Math.ceil(this._containerWidth),Math.ceil(this._containerHeight));const i=!this._moving;return i&&this.fire(new e.Event(\"movestart\",t)).fire(new e.Event(\"move\",t)),this.fire(new e.Event(\"resize\",t)),i&&this.fire(new e.Event(\"moveend\",t)),this}getBounds(){return \"globe\"===this.transform.projection.name&&e.warnOnce('Globe projection does not support getBounds API, this API may behave unexpectedly.\"'),this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()||null}setMaxBounds(t){return this.transform.setMaxBounds(e.LngLatBounds.convert(t)),this._update()}setMinZoom(t){if((t=null==t?-2:t)>=-2&&t<=this.transform.maxZoom)return this.transform.minZoom=t,this._update(),this.getZoom()<t?this.setZoom(t):this.fire(new e.Event(\"zoomstart\")).fire(new e.Event(\"zoom\")).fire(new e.Event(\"zoomend\")),this;throw new Error(\"minZoom must be between -2 and the current maxZoom, inclusive\")}getMinZoom(){return this.transform.minZoom}setMaxZoom(t){if((t=null==t?22:t)>=this.transform.minZoom)return this.transform.maxZoom=t,this._update(),this.getZoom()>t?this.setZoom(t):this.fire(new e.Event(\"zoomstart\")).fire(new e.Event(\"zoom\")).fire(new e.Event(\"zoomend\")),this;throw new Error(\"maxZoom must be greater than the current minZoom\")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(t){if((t=null==t?0:t)<0)throw new Error(\"minPitch must be greater than or equal to 0\");if(t>=0&&t<=this.transform.maxPitch)return this.transform.minPitch=t,this._update(),this.getPitch()<t?this.setPitch(t):this.fire(new e.Event(\"pitchstart\")).fire(new e.Event(\"pitch\")).fire(new e.Event(\"pitchend\")),this;throw new Error(\"minPitch must be between 0 and the current maxPitch, inclusive\")}getMinPitch(){return this.transform.minPitch}setMaxPitch(t){if((t=null==t?85:t)>85)throw new Error(\"maxPitch must be less than or equal to 85\");if(t>=this.transform.minPitch)return this.transform.maxPitch=t,this._update(),this.getPitch()>t?this.setPitch(t):this.fire(new e.Event(\"pitchstart\")).fire(new e.Event(\"pitch\")).fire(new e.Event(\"pitchend\")),this;throw new Error(\"maxPitch must be greater than or equal to minPitch\")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(e){return this.transform.renderWorldCopies=e,this._update()}getLanguage(){return this._language}setLanguage(t){if(this._language=\"auto\"===t?e.window.navigator.language:t,this.style)for(const e in this.style._sourceCaches){const t=this.style._sourceCaches[e]._source;t._setLanguage&&t._setLanguage(this._language);}for(const e of this._controls)e._setLanguage&&e._setLanguage(this._language);return this}getWorldview(){return this._worldview}setWorldview(e){if(this._worldview=e,this.style)for(const t in this.style._sourceCaches){const i=this.style._sourceCaches[t]._source;i._setWorldview&&i._setWorldview(e);}return this}getProjection(){return this.transform.mercatorFromTransition?{name:\"globe\",center:[0,0]}:this.transform.getProjection()}_showingGlobe(){return \"globe\"===this.transform.projection.name}setProjection(e){return this._lazyInitEmptyStyle(),e?\"string\"==typeof e&&(e={name:e}):e=null,this._useExplicitProjection=!!e,this._prioritizeAndUpdateProjection(e,this.style.stylesheet?this.style.stylesheet.projection:null)}_updateProjectionTransition(){if(\"globe\"!==this.getProjection().name)return;const t=this.transform,i=t.projection.name;let o;\"globe\"===i&&t.zoom>=e.GLOBE_ZOOM_THRESHOLD_MAX?(t.setMercatorFromTransition(),o=!0):\"mercator\"===i&&t.zoom<e.GLOBE_ZOOM_THRESHOLD_MAX&&(t.setProjection({name:\"globe\"}),o=!0),o&&(this.style.applyProjectionUpdate(),this.style._forceSymbolLayerUpdate());}_prioritizeAndUpdateProjection(e,t){return this._updateProjection(e||t||{name:\"mercator\"})}_updateProjection(t){let i;if(i=\"globe\"===t.name&&this.transform.zoom>=e.GLOBE_ZOOM_THRESHOLD_MAX?this.transform.setMercatorFromTransition():this.transform.setProjection(t),this.style.applyProjectionUpdate(),i){this.painter.clearBackgroundTiles();for(const e in this.style._sourceCaches)this.style._sourceCaches[e].clearTiles();this._update(!0);}return this}project(t){return this.transform.locationPoint3D(e.LngLat.convert(t))}unproject(t){return this.transform.pointLocation3D(e.pointGeometry.convert(t))}isMoving(){return this._moving||this.handlers&&this.handlers.isMoving()||!1}isZooming(){return this._zooming||this.handlers&&this.handlers.isZooming()||!1}isRotating(){return this._rotating||this.handlers&&this.handlers.isRotating()||!1}_createDelegatedListener(e,t,i){if(\"mouseenter\"===e||\"mouseover\"===e){let o=!1;const r=r=>{const n=t.filter((e=>this.getLayer(e))),a=n.length?this.queryRenderedFeatures(r.point,{layers:n}):[];a.length?o||(o=!0,i.call(this,new cr(e,this,r.originalEvent,{features:a}))):o=!1;},n=()=>{o=!1;};return {layers:new Set(t),listener:i,delegates:{mousemove:r,mouseout:n}}}if(\"mouseleave\"===e||\"mouseout\"===e){let o=!1;const r=r=>{const n=t.filter((e=>this.getLayer(e)));(n.length?this.queryRenderedFeatures(r.point,{layers:n}):[]).length?o=!0:o&&(o=!1,i.call(this,new cr(e,this,r.originalEvent)));},n=t=>{o&&(o=!1,i.call(this,new cr(e,this,t.originalEvent)));};return {layers:new Set(t),listener:i,delegates:{mousemove:r,mouseout:n}}}{const o=e=>{const o=t.filter((e=>this.getLayer(e))),r=o.length?this.queryRenderedFeatures(e.point,{layers:o}):[];r.length&&(e.features=r,i.call(this,e),delete e.features);};return {layers:new Set(t),listener:i,delegates:{[e]:o}}}}on(e,t,i){if(void 0===i)return super.on(e,t);Array.isArray(t)||(t=[t]);const o=this._createDelegatedListener(e,t,i);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[e]=this._delegatedListeners[e]||[],this._delegatedListeners[e].push(o);for(const e in o.delegates)this.on(e,o.delegates[e]);return this}once(e,t,i){if(void 0===i)return super.once(e,t);Array.isArray(t)||(t=[t]);const o=this._createDelegatedListener(e,t,i);for(const e in o.delegates)this.once(e,o.delegates[e]);return this}off(e,t,i){if(void 0===i)return super.off(e,t);t=new Set(Array.isArray(t)?t:[t]);const o=(e,t)=>{if(e.size!==t.size)return !1;for(const i of e)if(!t.has(i))return !1;return !0},r=this._delegatedListeners?this._delegatedListeners[e]:void 0;return r&&(e=>{for(let r=0;r<e.length;r++){const n=e[r];if(n.listener===i&&o(n.layers,t)){for(const e in n.delegates)this.off(e,n.delegates[e]);return e.splice(r,1),this}}})(r),this}queryRenderedFeatures(t,i){return this.style?(void 0!==i||void 0===t||t instanceof e.pointGeometry||Array.isArray(t)||(i=t,t=void 0),this.style.queryRenderedFeatures(t=t||[[0,0],[this.transform.width,this.transform.height]],i=i||{},this.transform)):[]}querySourceFeatures(e,t){return this.style.querySourceFeatures(e,t)}queryTerrainElevation(t,i){const o=this.transform.elevation;return o?(i=e.extend({},{exaggerated:!0},i),o.getAtPoint(e.MercatorCoordinate.fromLngLat(t),null,i.exaggerated)):null}setStyle(t,i){return !1!==(i=e.extend({},{localIdeographFontFamily:this._localIdeographFontFamily,localFontFamily:this._localFontFamily},i)).diff&&i.localIdeographFontFamily===this._localIdeographFontFamily&&i.localFontFamily===this._localFontFamily&&this.style&&t?(this._diffStyle(t,i),this):(this._localIdeographFontFamily=i.localIdeographFontFamily,this._localFontFamily=i.localFontFamily,this._updateStyle(t,i))}_getUIString(e){const t=this._locale[e];if(null==t)throw new Error(`Missing UI string '${e}'`);return t}_updateStyle(e,t){return this.style&&(this.style.setEventedParent(null),this.style._remove(),this.style=void 0),e&&(this.style=new ei(this,t||{}),this.style.setEventedParent(this,{style:this.style}),\"string\"==typeof e?this.style.loadURL(e):this.style.loadJSON(e)),this._updateTerrain(),this}_lazyInitEmptyStyle(){this.style||(this.style=new ei(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty());}_diffStyle(t,i){if(\"string\"==typeof t){const o=this._requestManager.normalizeStyleURL(t),r=this._requestManager.transformRequest(o,e.ResourceType.Style);e.getJSON(r,((t,o)=>{t?this.fire(new e.ErrorEvent(t)):o&&this._updateDiff(o,i);}));}else \"object\"==typeof t&&this._updateDiff(t,i);}_updateDiff(t,i){try{this.style.setState(t)&&this._update(!0);}catch(o){e.warnOnce(`Unable to perform style diff: ${o.message||o.error||o}.  Rebuilding the style from scratch.`),this._updateStyle(t,i);}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():(e.warnOnce(\"There is no style added to the map.\"),!1)}addSource(e,t){return this._lazyInitEmptyStyle(),this.style.addSource(e,t),this._update(!0)}isSourceLoaded(e){return !!this.style&&this.style._isSourceCacheLoaded(e)}areTilesLoaded(){const e=this.style&&this.style._sourceCaches;for(const t in e){const i=e[t]._tiles;for(const e in i){const t=i[e];if(\"loaded\"!==t.state&&\"errored\"!==t.state)return !1}}return !0}addSourceType(e,t,i){this._lazyInitEmptyStyle(),this.style.addSourceType(e,t,i);}removeSource(e){return this.style.removeSource(e),this._updateTerrain(),this._update(!0)}getSource(e){return this.style.getSource(e)}addImage(t,i,{pixelRatio:o=1,sdf:r=!1,stretchX:n,stretchY:a,content:s}={}){if(this._lazyInitEmptyStyle(),i instanceof e.window.HTMLImageElement||e.window.ImageBitmap&&i instanceof e.window.ImageBitmap){const{width:l,height:c,data:h}=e.exported.getImageData(i);this.style.addImage(t,{data:new e.RGBAImage({width:l,height:c},h),pixelRatio:o,stretchX:n,stretchY:a,content:s,sdf:r,version:0});}else if(void 0===i.width||void 0===i.height)this.fire(new e.ErrorEvent(new Error(\"Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`\")));else {const{width:l,height:c}=i,h=i;this.style.addImage(t,{data:new e.RGBAImage({width:l,height:c},new Uint8Array(h.data)),pixelRatio:o,stretchX:n,stretchY:a,content:s,sdf:r,version:0,userImage:h}),h.onAdd&&h.onAdd(this,t);}}updateImage(t,i){const o=this.style.getImage(t);if(!o)return void this.fire(new e.ErrorEvent(new Error(\"The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.\")));const r=i instanceof e.window.HTMLImageElement||e.window.ImageBitmap&&i instanceof e.window.ImageBitmap?e.exported.getImageData(i):i,{width:n,height:a}=r;void 0!==n&&void 0!==a?n===o.data.width&&a===o.data.height?(o.data.replace(r.data,!(i instanceof e.window.HTMLImageElement||e.window.ImageBitmap&&i instanceof e.window.ImageBitmap)),this.style.updateImage(t,o)):this.fire(new e.ErrorEvent(new Error(`The width and height of the updated image (${n}, ${a})\\n                must be that same as the previous version of the image\\n                (${o.data.width}, ${o.data.height})`))):this.fire(new e.ErrorEvent(new Error(\"Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`\")));}hasImage(t){return t?!!this.style.getImage(t):(this.fire(new e.ErrorEvent(new Error(\"Missing required image id\"))),!1)}removeImage(e){this.style.removeImage(e);}loadImage(t,i){e.getImage(this._requestManager.transformRequest(t,e.ResourceType.Image),((t,o)=>{i(t,o instanceof e.window.HTMLImageElement?e.exported.getImageData(o):o);}));}listImages(){return this.style.listImages()}addLayer(e,t){return this._lazyInitEmptyStyle(),this.style.addLayer(e,t),this._update(!0)}moveLayer(e,t){return this.style.moveLayer(e,t),this._update(!0)}removeLayer(e){return this.style.removeLayer(e),this._update(!0)}getLayer(e){return this.style.getLayer(e)}setLayerZoomRange(e,t,i){return this.style.setLayerZoomRange(e,t,i),this._update(!0)}setFilter(e,t,i={}){return this.style.setFilter(e,t,i),this._update(!0)}getFilter(e){return this.style.getFilter(e)}setPaintProperty(e,t,i,o={}){return this.style.setPaintProperty(e,t,i,o),this._update(!0)}getPaintProperty(e,t){return this.style.getPaintProperty(e,t)}setLayoutProperty(e,t,i,o={}){return this.style.setLayoutProperty(e,t,i,o),this._update(!0)}getLayoutProperty(e,t){return this.style.getLayoutProperty(e,t)}setLight(e,t={}){return this._lazyInitEmptyStyle(),this.style.setLight(e,t),this._update(!0)}getLight(){return this.style.getLight()}setTerrain(e){return this._lazyInitEmptyStyle(),!e&&this.transform.projection.requiresDraping?this.style.setTerrainForDraping():this.style.setTerrain(e),this._averageElevationLastSampledAt=-1/0,this._update(!0)}getTerrain(){return this.style?this.style.getTerrain():null}setFog(e){return this._lazyInitEmptyStyle(),this.style.setFog(e),this._update(!0)}getFog(){return this.style?this.style.getFog():null}_queryFogOpacity(t){return this.style&&this.style.fog?this.style.fog.getOpacityAtLatLng(e.LngLat.convert(t),this.transform):0}setFeatureState(e,t){return this.style.setFeatureState(e,t),this._update()}removeFeatureState(e,t){return this.style.removeFeatureState(e,t),this._update()}getFeatureState(e){return this.style.getFeatureState(e)}_updateContainerDimensions(){if(!this._container)return;const t=this._container.getBoundingClientRect().width||400,i=this._container.getBoundingClientRect().height||300;let o,r,n,a=this._container;for(;a&&(!r||!n);){const t=e.window.getComputedStyle(a).transform;t&&\"none\"!==t&&(o=t.match(/matrix.*\\((.+)\\)/)[1].split(\", \"),o[0]&&\"0\"!==o[0]&&\"1\"!==o[0]&&(r=o[0]),o[3]&&\"0\"!==o[3]&&\"1\"!==o[3]&&(n=o[3])),a=a.parentElement;}this._containerWidth=r?Math.abs(t/r):t,this._containerHeight=n?Math.abs(i/n):i;}_detectMissingCSS(){\"rgb(250, 128, 114)\"!==e.window.getComputedStyle(this._missingCSSCanary).getPropertyValue(\"background-color\")&&e.warnOnce(\"This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.\");}_setupContainer(){const e=this._container;e.classList.add(\"mapboxgl-map\"),(this._missingCSSCanary=n(\"div\",\"mapboxgl-canary\",e)).style.visibility=\"hidden\",this._detectMissingCSS();const t=this._canvasContainer=n(\"div\",\"mapboxgl-canvas-container\",e);this._interactive&&t.classList.add(\"mapboxgl-interactive\"),this._canvas=n(\"canvas\",\"mapboxgl-canvas\",t),this._canvas.addEventListener(\"webglcontextlost\",this._contextLost,!1),this._canvas.addEventListener(\"webglcontextrestored\",this._contextRestored,!1),this._canvas.setAttribute(\"tabindex\",\"0\"),this._canvas.setAttribute(\"aria-label\",this._getUIString(\"Map.Title\")),this._canvas.setAttribute(\"role\",\"region\"),this._updateContainerDimensions(),this._resizeCanvas(this._containerWidth,this._containerHeight);const i=this._controlContainer=n(\"div\",\"mapboxgl-control-container\",e),o=this._controlPositions={};[\"top-left\",\"top-right\",\"bottom-left\",\"bottom-right\"].forEach((e=>{o[e]=n(\"div\",`mapboxgl-ctrl-${e}`,i);})),this._container.addEventListener(\"scroll\",this._onMapScroll,!1);}_resizeCanvas(t,i){const o=e.exported.devicePixelRatio||1;this._canvas.width=o*Math.ceil(t),this._canvas.height=o*Math.ceil(i),this._canvas.style.width=`${t}px`,this._canvas.style.height=`${i}px`;}_addMarker(e){this._markers.push(e);}_removeMarker(e){const t=this._markers.indexOf(e);-1!==t&&this._markers.splice(t,1);}_setupPainter(){const t=e.extend({},i.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),o=this._canvas.getContext(\"webgl\",t)||this._canvas.getContext(\"experimental-webgl\",t);o?(e.storeAuthState(o,!0),this.painter=new Fo(o,this.transform),this.on(\"data\",(e=>{\"source\"===e.dataType&&this.painter.setTileLoadedFlag(!0);})),e.exported$1.testSupport(o)):this.fire(new e.ErrorEvent(new Error(\"Failed to initialize WebGL\")));}_contextLost(t){t.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new e.Event(\"webglcontextlost\",{originalEvent:t}));}_contextRestored(t){this._setupPainter(),this.resize(),this._update(),this.fire(new e.Event(\"webglcontextrestored\",{originalEvent:t}));}_onMapScroll(e){if(e.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}loaded(){return !this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(e){return this.style?(this._styleDirty=this._styleDirty||e,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(e){return this._update(),this._renderTaskQueue.add(e)}_cancelRenderFrame(e){this._renderTaskQueue.remove(e);}_requestDomTask(e){!this.loaded()||this.loaded()&&!this.isMoving()?e():this._domRenderTaskQueue.add(e);}_render(t){let i;const o=this.painter.context.extTimerQuery,r=e.exported.now();if(this.listens(\"gpu-timing-frame\")&&(i=o.createQueryEXT(),o.beginQueryEXT(o.TIME_ELAPSED_EXT,i)),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(t),this._domRenderTaskQueue.run(t),this._removed)return;this._updateProjectionTransition();let n=!1;const a=this._isInitialLoad?0:this._fadeDuration;if(this.style&&this._styleDirty){this._styleDirty=!1;const t=this.transform.zoom,i=this.transform.pitch,o=e.exported.now();this.style.zoomHistory.update(t,o);const r=new e.EvaluationParameters(t,{now:o,fadeDuration:a,pitch:i,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),s=r.crossFadingFactor();1===s&&s===this._crossFadingFactor||(n=!0,this._crossFadingFactor=s),this.style.update(r);}this.style&&this.style.fog&&this.style.fog.hasTransition()&&(this.style._markersNeedUpdate=!0,this._sourcesDirty=!0);let s=!1;if(this.style&&this._sourcesDirty?(this._sourcesDirty=!1,this.painter._updateFog(this.style),this._updateTerrain(),s=this._updateAverageElevation(r),this.style._updateSources(this.transform),this._forceMarkerUpdate()):s=this._updateAverageElevation(r),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,a,this._crossSourceCollisions),this.style&&this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showTerrainWireframe:this.showTerrainWireframe,showOverdrawInspector:this._showOverdrawInspector,showQueryGeometry:!!this._showQueryGeometry,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:a,isInitialLoad:this._isInitialLoad,showPadding:this.showPadding,gpuTiming:!!this.listens(\"gpu-timing-layer\"),gpuTimingDeferredRender:!!this.listens(\"gpu-timing-deferred-render\"),speedIndexTiming:this.speedIndexTiming}),this.fire(new e.Event(\"render\")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new e.Event(\"load\"))),this.style&&(this.style.hasTransitions()||n)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),i){const t=e.exported.now()-r;o.endQueryEXT(o.TIME_ELAPSED_EXT,i),setTimeout((()=>{const n=o.getQueryObjectEXT(i,o.QUERY_RESULT_EXT)/1e6;o.deleteQueryEXT(i),this.fire(new e.Event(\"gpu-timing-frame\",{cpuTime:t,gpuTime:n})),e.window.performance.mark(\"frame-gpu\",{startTime:r,detail:{gpuTime:n}});}),50);}if(this.listens(\"gpu-timing-layer\")){const t=this.painter.collectGpuTimers();setTimeout((()=>{const i=this.painter.queryGpuTimers(t);this.fire(new e.Event(\"gpu-timing-layer\",{layerTimes:i}));}),50);}if(this.listens(\"gpu-timing-deferred-render\")){const t=this.painter.collectDeferredRenderGpuQueries();setTimeout((()=>{const i=this.painter.queryGpuTimeDeferredRender(t);this.fire(new e.Event(\"gpu-timing-deferred-render\",{gpuTime:i}));}),50);}const l=this._sourcesDirty||this._styleDirty||this._placementDirty||s;if(l||this._repaint)this.triggerRepaint();else {const t=!this.isMoving()&&this.loaded();if(t&&(s=this._updateAverageElevation(r,!0)),s)this.triggerRepaint();else if(this._triggerFrame(!1),t&&(this.fire(new e.Event(\"idle\")),this._isInitialLoad=!1,this.speedIndexTiming)){const t=this._calculateSpeedIndex();this.fire(new e.Event(\"speedindexcompleted\",{speedIndex:t})),this.speedIndexTiming=!1;}}!this._loaded||this._fullyLoaded||l||(this._fullyLoaded=!0,this._authenticate());}_forceMarkerUpdate(){for(const e of this._markers)e._update();}_updateAverageElevation(e,t=!1){const i=e=>(this.transform.averageElevation=e,this._update(!1),!0);if(!this.painter.averageElevationNeedsEasing())return 0!==this.transform.averageElevation&&i(0);if((t||e-this._averageElevationLastSampledAt>500)&&!this._averageElevation.isEasing(e)){const t=this.transform.averageElevation;let o=this.transform.sampleAverageElevation(),r=!1;this.transform.elevation&&(r=this.transform.elevation.exaggeration()!==this._averageElevationExaggeration,this._averageElevationExaggeration=this.transform.elevation.exaggeration()),isNaN(o)?o=0:this._averageElevationLastSampledAt=e;const n=Math.abs(t-o);if(n>1){if(this._isInitialLoad||r)return this._averageElevation.jumpTo(o),i(o);this._averageElevation.easeTo(o,e,300);}else if(n>1e-4)return this._averageElevation.jumpTo(o),i(o)}return !!this._averageElevation.isEasing(e)&&i(this._averageElevation.getValue(e))}_authenticate(){e.getMapSessionAPI(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,(t=>{if(t&&(t.message===e.AUTH_ERR_MSG||401===t.status)){const t=this.painter.context.gl;e.storeAuthState(t,!1),this._logoControl instanceof Jr&&this._logoControl._updateLogo(),t&&t.clear(t.DEPTH_BUFFER_BIT|t.COLOR_BUFFER_BIT|t.STENCIL_BUFFER_BIT),this._silenceAuthErrors||this.fire(new e.ErrorEvent(new Error(\"A valid Mapbox access token is required to use Mapbox GL JS. To create an account or a new access token, visit https://account.mapbox.com/\")));}})),e.postMapLoadEvent(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,(()=>{}));}_updateTerrain(){this.painter.updateTerrain(this.style,this.isMoving()||this.isRotating()||this.isZooming());}_calculateSpeedIndex(){const e=this.painter.canvasCopy(),t=this.painter.getCanvasCopiesAndTimestamps();t.timeStamps.push(performance.now());const i=this.painter.context.gl,o=i.createFramebuffer();function r(e){i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,e,0);const t=new Uint8Array(i.drawingBufferWidth*i.drawingBufferHeight*4);return i.readPixels(0,0,i.drawingBufferWidth,i.drawingBufferHeight,i.RGBA,i.UNSIGNED_BYTE,t),t}return i.bindFramebuffer(i.FRAMEBUFFER,o),this._canvasPixelComparison(r(e),t.canvasCopies.map(r),t.timeStamps)}_canvasPixelComparison(e,t,i){let o=i[1]-i[0];const r=e.length/4;for(let n=0;n<t.length;n++){const a=t[n];let s=0;for(let t=0;t<a.length;t+=4)a[t]===e[t]&&a[t+1]===e[t+1]&&a[t+2]===e[t+2]&&a[t+3]===e[t+3]&&(s+=1);o+=(i[n+2]-i[n+1])*(1-s/r);}return o}remove(){this._hash&&this._hash.remove();for(const e of this._controls)e.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this._domRenderTaskQueue.clear(),this.style&&this.style.destroy(),this.painter.destroy(),this.handlers&&this.handlers.destroy(),this.handlers=void 0,this.setStyle(null),void 0!==e.window&&(e.window.removeEventListener(\"resize\",this._onWindowResize,!1),e.window.removeEventListener(\"orientationchange\",this._onWindowResize,!1),e.window.removeEventListener(\"webkitfullscreenchange\",this._onWindowResize,!1),e.window.removeEventListener(\"online\",this._onWindowOnline,!1));const t=this.painter.context.gl.getExtension(\"WEBGL_lose_context\");t&&t.loseContext(),sn(this._canvasContainer),sn(this._controlContainer),sn(this._missingCSSCanary),this._container.classList.remove(\"mapboxgl-map\"),e.removeAuthState(this.painter.context.gl),this._removed=!0,this.fire(new e.Event(\"remove\"));}triggerRepaint(){this._triggerFrame(!0);}_triggerFrame(t){this._renderNextFrame=this._renderNextFrame||t,this.style&&!this._frame&&(this._frame=e.exported.frame((e=>{const t=!!this._renderNextFrame;this._frame=null,this._renderNextFrame=null,t&&this._render(e);})));}_preloadTiles(t){const i=this.style?Object.values(this.style._sourceCaches):[];return e.asyncAll(i,((e,i)=>e._preloadTiles(t,i)),(()=>{this.triggerRepaint();})),this}_onWindowOnline(){this._update();}_onWindowResize(e){this._trackResize&&this.resize({originalEvent:e})._update();}get showTileBoundaries(){return !!this._showTileBoundaries}set showTileBoundaries(e){this._showTileBoundaries!==e&&(this._showTileBoundaries=e,this._update());}get showTerrainWireframe(){return !!this._showTerrainWireframe}set showTerrainWireframe(e){this._showTerrainWireframe!==e&&(this._showTerrainWireframe=e,this._update());}get speedIndexTiming(){return !!this._speedIndexTiming}set speedIndexTiming(e){this._speedIndexTiming!==e&&(this._speedIndexTiming=e,this._update());}get showPadding(){return !!this._showPadding}set showPadding(e){this._showPadding!==e&&(this._showPadding=e,this._update());}get showCollisionBoxes(){return !!this._showCollisionBoxes}set showCollisionBoxes(e){this._showCollisionBoxes!==e&&(this._showCollisionBoxes=e,e?this.style._generateCollisionBoxes():this._update());}get showOverdrawInspector(){return !!this._showOverdrawInspector}set showOverdrawInspector(e){this._showOverdrawInspector!==e&&(this._showOverdrawInspector=e,this._update());}get repaint(){return !!this._repaint}set repaint(e){this._repaint!==e&&(this._repaint=e,this.triggerRepaint());}get vertices(){return !!this._vertices}set vertices(e){this._vertices=e,this._update();}_setCacheLimits(t,i){e.setCacheLimits(t,i);}get version(){return e.version}},NavigationControl:class{constructor(t){this.options=e.extend({},ln,t),this._container=n(\"div\",\"mapboxgl-ctrl mapboxgl-ctrl-group\"),this._container.addEventListener(\"contextmenu\",(e=>e.preventDefault())),this.options.showZoom&&(e.bindAll([\"_setButtonTitle\",\"_updateZoomButtons\"],this),this._zoomInButton=this._createButton(\"mapboxgl-ctrl-zoom-in\",(e=>{this._map&&this._map.zoomIn({},{originalEvent:e});})),n(\"span\",\"mapboxgl-ctrl-icon\",this._zoomInButton).setAttribute(\"aria-hidden\",\"true\"),this._zoomOutButton=this._createButton(\"mapboxgl-ctrl-zoom-out\",(e=>{this._map&&this._map.zoomOut({},{originalEvent:e});})),n(\"span\",\"mapboxgl-ctrl-icon\",this._zoomOutButton).setAttribute(\"aria-hidden\",\"true\")),this.options.showCompass&&(e.bindAll([\"_rotateCompassArrow\"],this),this._compass=this._createButton(\"mapboxgl-ctrl-compass\",(e=>{const t=this._map;t&&(this.options.visualizePitch?t.resetNorthPitch({},{originalEvent:e}):t.resetNorth({},{originalEvent:e}));})),this._compassIcon=n(\"span\",\"mapboxgl-ctrl-icon\",this._compass),this._compassIcon.setAttribute(\"aria-hidden\",\"true\"));}_updateZoomButtons(){const e=this._map;if(!e)return;const t=e.getZoom(),i=t===e.getMaxZoom(),o=t===e.getMinZoom();this._zoomInButton.disabled=i,this._zoomOutButton.disabled=o,this._zoomInButton.setAttribute(\"aria-disabled\",i.toString()),this._zoomOutButton.setAttribute(\"aria-disabled\",o.toString());}_rotateCompassArrow(){const e=this._map;if(!e)return;const t=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(e.transform.pitch*(Math.PI/180)),.5)}) rotateX(${e.transform.pitch}deg) rotateZ(${e.transform.angle*(180/Math.PI)}deg)`:`rotate(${e.transform.angle*(180/Math.PI)}deg)`;e._requestDomTask((()=>{this._compassIcon&&(this._compassIcon.style.transform=t);}));}onAdd(e){return this._map=e,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,\"ZoomIn\"),this._setButtonTitle(this._zoomOutButton,\"ZoomOut\"),e.on(\"zoom\",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,\"ResetBearing\"),this.options.visualizePitch&&e.on(\"pitch\",this._rotateCompassArrow),e.on(\"rotate\",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new cn(e,this._compass,this.options.visualizePitch)),this._container}onRemove(){const e=this._map;e&&(this._container.remove(),this.options.showZoom&&e.off(\"zoom\",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&e.off(\"pitch\",this._rotateCompassArrow),e.off(\"rotate\",this._rotateCompassArrow),this._handler&&this._handler.off(),this._handler=void 0),this._map=void 0);}_createButton(e,t){const i=n(\"button\",e,this._container);return i.type=\"button\",i.addEventListener(\"click\",t),i}_setButtonTitle(e,t){if(!this._map)return;const i=this._map._getUIString(`NavigationControl.${t}`);e.setAttribute(\"aria-label\",i),e.firstElementChild&&e.firstElementChild.setAttribute(\"title\",i);}},GeolocateControl:class extends e.Evented{constructor(t){super(),this.options=e.extend({geolocation:e.window.navigator.geolocation},hn,t),e.bindAll([\"_onSuccess\",\"_onError\",\"_onZoom\",\"_finish\",\"_setupUI\",\"_updateCamera\",\"_updateMarker\",\"_updateMarkerRotation\",\"_onDeviceOrientation\"],this),this._updateMarkerRotationThrottled=Jo(this._updateMarkerRotation,20),this._numberOfWatches=0;}onAdd(e){return this._map=e,this._container=n(\"div\",\"mapboxgl-ctrl mapboxgl-ctrl-group\"),this._checkGeolocationSupport(this._setupUI),this._container}onRemove(){void 0!==this._geolocationWatchID&&(this.options.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),this._container.remove(),this._map.off(\"zoom\",this._onZoom),this._map=void 0,this._numberOfWatches=0,this._noTimeout=!1;}_checkGeolocationSupport(t){void 0!==this._supportsGeolocation?t(this._supportsGeolocation):void 0!==e.window.navigator.permissions?e.window.navigator.permissions.query({name:\"geolocation\"}).then((e=>{this._supportsGeolocation=\"denied\"!==e.state,t(this._supportsGeolocation);})):(this._supportsGeolocation=!!this.options.geolocation,t(this._supportsGeolocation));}_isOutOfMapMaxBounds(e){const t=this._map.getMaxBounds(),i=e.coords;return !!t&&(i.longitude<t.getWest()||i.longitude>t.getEast()||i.latitude<t.getSouth()||i.latitude>t.getNorth())}_setErrorState(){switch(this._watchState){case\"WAITING_ACTIVE\":this._watchState=\"ACTIVE_ERROR\",this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-active\"),this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-active-error\");break;case\"ACTIVE_LOCK\":this._watchState=\"ACTIVE_ERROR\",this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-active\"),this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-active-error\"),this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-waiting\");break;case\"BACKGROUND\":this._watchState=\"BACKGROUND_ERROR\",this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-background\"),this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-background-error\"),this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-waiting\");}}_onSuccess(t){if(this._map){if(this._isOutOfMapMaxBounds(t))return this._setErrorState(),this.fire(new e.Event(\"outofmaxbounds\",t)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=t,this._watchState){case\"WAITING_ACTIVE\":case\"ACTIVE_LOCK\":case\"ACTIVE_ERROR\":this._watchState=\"ACTIVE_LOCK\",this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-waiting\"),this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-active-error\"),this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-active\");break;case\"BACKGROUND\":case\"BACKGROUND_ERROR\":this._watchState=\"BACKGROUND\",this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-waiting\"),this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-background-error\"),this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-background\");}this.options.showUserLocation&&\"OFF\"!==this._watchState&&this._updateMarker(t),this.options.trackUserLocation&&\"ACTIVE_LOCK\"!==this._watchState||this._updateCamera(t),this.options.showUserLocation&&this._dotElement.classList.remove(\"mapboxgl-user-location-dot-stale\"),this.fire(new e.Event(\"geolocate\",t)),this._finish();}}_updateCamera(t){const i=new e.LngLat(t.coords.longitude,t.coords.latitude),o=t.coords.accuracy,r=this._map.getBearing(),n=e.extend({bearing:r},this.options.fitBoundsOptions);this._map.fitBounds(i.toBounds(o),n,{geolocateSource:!0});}_updateMarker(t){if(t){const i=new e.LngLat(t.coords.longitude,t.coords.latitude);this._accuracyCircleMarker.setLngLat(i).addTo(this._map),this._userLocationDotMarker.setLngLat(i).addTo(this._map),this._accuracy=t.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius();}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove();}_updateCircleRadius(){const t=this._map.transform,i=e.mercatorZfromAltitude(1,t._center.lat)*t.worldSize,o=Math.ceil(2*this._accuracy*i);this._circleElement.style.width=`${o}px`,this._circleElement.style.height=`${o}px`;}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius();}_updateMarkerRotation(){this._userLocationDotMarker&&\"number\"==typeof this._heading?(this._userLocationDotMarker.setRotation(this._heading),this._dotElement.classList.add(\"mapboxgl-user-location-show-heading\")):(this._dotElement.classList.remove(\"mapboxgl-user-location-show-heading\"),this._userLocationDotMarker.setRotation(0));}_onError(t){if(this._map){if(this.options.trackUserLocation)if(1===t.code){this._watchState=\"OFF\",this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-waiting\"),this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-active\"),this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-active-error\"),this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-background\"),this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-background-error\"),this._geolocateButton.disabled=!0;const e=this._map._getUIString(\"GeolocateControl.LocationNotAvailable\");this._geolocateButton.setAttribute(\"aria-label\",e),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute(\"title\",e),void 0!==this._geolocationWatchID&&this._clearWatch();}else {if(3===t.code&&this._noTimeout)return;this._setErrorState();}\"OFF\"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add(\"mapboxgl-user-location-dot-stale\"),this.fire(new e.Event(\"error\",t)),this._finish();}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0;}_setupUI(t){if(this._container.addEventListener(\"contextmenu\",(e=>e.preventDefault())),this._geolocateButton=n(\"button\",\"mapboxgl-ctrl-geolocate\",this._container),n(\"span\",\"mapboxgl-ctrl-icon\",this._geolocateButton).setAttribute(\"aria-hidden\",\"true\"),this._geolocateButton.type=\"button\",!1===t){e.warnOnce(\"Geolocation support is not available so the GeolocateControl will be disabled.\");const t=this._map._getUIString(\"GeolocateControl.LocationNotAvailable\");this._geolocateButton.disabled=!0,this._geolocateButton.setAttribute(\"aria-label\",t),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute(\"title\",t);}else {const e=this._map._getUIString(\"GeolocateControl.FindMyLocation\");this._geolocateButton.setAttribute(\"aria-label\",e),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute(\"title\",e);}this.options.trackUserLocation&&(this._geolocateButton.setAttribute(\"aria-pressed\",\"false\"),this._watchState=\"OFF\"),this.options.showUserLocation&&(this._dotElement=n(\"div\",\"mapboxgl-user-location\"),this._dotElement.appendChild(n(\"div\",\"mapboxgl-user-location-dot\")),this._dotElement.appendChild(n(\"div\",\"mapboxgl-user-location-heading\")),this._userLocationDotMarker=new on({element:this._dotElement,rotationAlignment:\"map\",pitchAlignment:\"map\"}),this._circleElement=n(\"div\",\"mapboxgl-user-location-accuracy-circle\"),this._accuracyCircleMarker=new on({element:this._circleElement,pitchAlignment:\"map\"}),this.options.trackUserLocation&&(this._watchState=\"OFF\"),this._map.on(\"zoom\",this._onZoom)),this._geolocateButton.addEventListener(\"click\",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on(\"movestart\",(t=>{t.geolocateSource||\"ACTIVE_LOCK\"!==this._watchState||t.originalEvent&&\"resize\"===t.originalEvent.type||(this._watchState=\"BACKGROUND\",this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-background\"),this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-active\"),this.fire(new e.Event(\"trackuserlocationend\")));}));}_onDeviceOrientation(e){this._userLocationDotMarker&&(e.webkitCompassHeading?this._heading=e.webkitCompassHeading:!0===e.absolute&&(this._heading=-1*e.alpha),this._updateMarkerRotationThrottled());}trigger(){if(!this._setup)return e.warnOnce(\"Geolocate control triggered before added to a map\"),!1;if(this.options.trackUserLocation){switch(this._watchState){case\"OFF\":this._watchState=\"WAITING_ACTIVE\",this.fire(new e.Event(\"trackuserlocationstart\"));break;case\"WAITING_ACTIVE\":case\"ACTIVE_LOCK\":case\"ACTIVE_ERROR\":case\"BACKGROUND_ERROR\":this._numberOfWatches--,this._noTimeout=!1,this._watchState=\"OFF\",this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-waiting\"),this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-active\"),this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-active-error\"),this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-background\"),this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-background-error\"),this.fire(new e.Event(\"trackuserlocationend\"));break;case\"BACKGROUND\":this._watchState=\"ACTIVE_LOCK\",this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-background\"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new e.Event(\"trackuserlocationstart\"));}switch(this._watchState){case\"WAITING_ACTIVE\":this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-waiting\"),this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-active\");break;case\"ACTIVE_LOCK\":this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-active\");break;case\"ACTIVE_ERROR\":this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-waiting\"),this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-active-error\");break;case\"BACKGROUND\":this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-background\");break;case\"BACKGROUND_ERROR\":this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-waiting\"),this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-background-error\");}if(\"OFF\"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){let e;this._geolocateButton.classList.add(\"mapboxgl-ctrl-geolocate-waiting\"),this._geolocateButton.setAttribute(\"aria-pressed\",\"true\"),this._numberOfWatches++,this._numberOfWatches>1?(e={maximumAge:6e5,timeout:0},this._noTimeout=!0):(e=this.options.positionOptions,this._noTimeout=!1),this._geolocationWatchID=this.options.geolocation.watchPosition(this._onSuccess,this._onError,e),this.options.showUserHeading&&this._addDeviceOrientationListener();}}else this.options.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return !0}_addDeviceOrientationListener(){const t=()=>{e.window.addEventListener(\"ondeviceorientationabsolute\"in e.window?\"deviceorientationabsolute\":\"deviceorientation\",this._onDeviceOrientation);};void 0!==e.window.DeviceMotionEvent&&\"function\"==typeof e.window.DeviceMotionEvent.requestPermission?DeviceOrientationEvent.requestPermission().then((e=>{\"granted\"===e&&t();})).catch(console.error):t();}_clearWatch(){this.options.geolocation.clearWatch(this._geolocationWatchID),e.window.removeEventListener(\"deviceorientation\",this._onDeviceOrientation),e.window.removeEventListener(\"deviceorientationabsolute\",this._onDeviceOrientation),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove(\"mapboxgl-ctrl-geolocate-waiting\"),this._geolocateButton.setAttribute(\"aria-pressed\",\"false\"),this.options.showUserLocation&&this._updateMarker(null);}},AttributionControl:Kr,ScaleControl:class{constructor(t){this.options=e.extend({},un,t),function(){try{return new Intl.NumberFormat(\"en\",{style:\"unit\",unitDisplay:\"narrow\",unit:\"meter\"}),!0}catch(e){return !1}}()||(this._setScale=_n.bind(this)),e.bindAll([\"_update\",\"_setScale\",\"setUnit\"],this);}getDefaultPosition(){return \"bottom-left\"}_update(){const e=this.options.maxWidth||100,t=this._map,i=t._containerHeight/2,o=t._containerWidth/2-e/2,r=t.unproject([o,i]),n=t.unproject([o+e,i]),a=r.distanceTo(n);if(\"imperial\"===this.options.unit){const t=3.2808*a;t>5280?this._setScale(e,t/5280,\"mile\"):this._setScale(e,t,\"foot\");}else \"nautical\"===this.options.unit?this._setScale(e,a/1852,\"nautical-mile\"):a>=1e3?this._setScale(e,a/1e3,\"kilometer\"):this._setScale(e,a,\"meter\");}_setScale(e,t,i){const o=dn(t),r=o/t;this._map._requestDomTask((()=>{this._container.style.width=e*r+\"px\",this._container.innerHTML=\"nautical-mile\"!==i?new Intl.NumberFormat(this._language,{style:\"unit\",unitDisplay:\"narrow\",unit:i}).format(o):`${o}&nbsp;nm`;}));}onAdd(e){return this._map=e,this._language=e.getLanguage(),this._container=n(\"div\",\"mapboxgl-ctrl mapboxgl-ctrl-scale\",e.getContainer()),this._container.dir=\"auto\",this._map.on(\"move\",this._update),this._update(),this._container}onRemove(){this._container.remove(),this._map.off(\"move\",this._update),this._map=void 0;}_setLanguage(e){this._language=e,this._update();}setUnit(e){this.options.unit=e,this._update();}},FullscreenControl:class{constructor(t){this._fullscreen=!1,t&&t.container&&(t.container instanceof e.window.HTMLElement?this._container=t.container:e.warnOnce(\"Full screen control 'container' must be a DOM element.\")),e.bindAll([\"_onClickFullscreen\",\"_changeIcon\"],this),\"onfullscreenchange\"in e.window.document?this._fullscreenchange=\"fullscreenchange\":\"onwebkitfullscreenchange\"in e.window.document&&(this._fullscreenchange=\"webkitfullscreenchange\");}onAdd(t){return this._map=t,this._container||(this._container=this._map.getContainer()),this._controlContainer=n(\"div\",\"mapboxgl-ctrl mapboxgl-ctrl-group\"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display=\"none\",e.warnOnce(\"This device does not support fullscreen mode.\")),this._controlContainer}onRemove(){this._controlContainer.remove(),this._map=null,e.window.document.removeEventListener(this._fullscreenchange,this._changeIcon);}_checkFullscreenSupport(){return !(!e.window.document.fullscreenEnabled&&!e.window.document.webkitFullscreenEnabled)}_setupUI(){const t=this._fullscreenButton=n(\"button\",\"mapboxgl-ctrl-fullscreen\",this._controlContainer);n(\"span\",\"mapboxgl-ctrl-icon\",t).setAttribute(\"aria-hidden\",\"true\"),t.type=\"button\",this._updateTitle(),this._fullscreenButton.addEventListener(\"click\",this._onClickFullscreen),e.window.document.addEventListener(this._fullscreenchange,this._changeIcon);}_updateTitle(){const e=this._getTitle();this._fullscreenButton.setAttribute(\"aria-label\",e),this._fullscreenButton.firstElementChild&&this._fullscreenButton.firstElementChild.setAttribute(\"title\",e);}_getTitle(){return this._map._getUIString(this._isFullscreen()?\"FullscreenControl.Exit\":\"FullscreenControl.Enter\")}_isFullscreen(){return this._fullscreen}_changeIcon(){(e.window.document.fullscreenElement||e.window.document.webkitFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle(\"mapboxgl-ctrl-shrink\"),this._fullscreenButton.classList.toggle(\"mapboxgl-ctrl-fullscreen\"),this._updateTitle());}_onClickFullscreen(){this._isFullscreen()?e.window.document.exitFullscreen?e.window.document.exitFullscreen():e.window.document.webkitCancelFullScreen&&e.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen();}},Popup:class extends e.Evented{constructor(t){super(),this.options=e.extend(Object.create(pn),t),e.bindAll([\"_update\",\"_onClose\",\"remove\",\"_onMouseEvent\"],this),this._classList=new Set(t&&t.className?t.className.trim().split(/\\s+/):[]);}addTo(t){return this._map&&this.remove(),this._map=t,this.options.closeOnClick&&t.on(\"preclick\",this._onClose),this.options.closeOnMove&&t.on(\"move\",this._onClose),t.on(\"remove\",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(t.on(\"mousemove\",this._onMouseEvent),t.on(\"mouseup\",this._onMouseEvent),t._canvasContainer.classList.add(\"mapboxgl-track-pointer\")):t.on(\"move\",this._update),this.fire(new e.Event(\"open\")),this}isOpen(){return !!this._map}remove(){this._content&&this._content.remove(),this._container&&(this._container.remove(),this._container=void 0);const t=this._map;return t&&(t.off(\"move\",this._update),t.off(\"move\",this._onClose),t.off(\"preclick\",this._onClose),t.off(\"click\",this._onClose),t.off(\"remove\",this.remove),t.off(\"mousemove\",this._onMouseEvent),t.off(\"mouseup\",this._onMouseEvent),t.off(\"drag\",this._onMouseEvent),this._map=void 0),this.fire(new e.Event(\"close\")),this}getLngLat(){return this._lngLat}setLngLat(t){this._lngLat=e.LngLat.convert(t),this._pos=null,this._trackPointer=!1,this._update();const i=this._map;return i&&(i.on(\"move\",this._update),i.off(\"mousemove\",this._onMouseEvent),i._canvasContainer.classList.remove(\"mapboxgl-track-pointer\")),this}trackPointer(){this._trackPointer=!0,this._pos=null,this._update();const e=this._map;return e&&(e.off(\"move\",this._update),e.on(\"mousemove\",this._onMouseEvent),e.on(\"drag\",this._onMouseEvent),e._canvasContainer.classList.add(\"mapboxgl-track-pointer\")),this}getElement(){return this._container}setText(t){return this.setDOMContent(e.window.document.createTextNode(t))}setHTML(t){const i=e.window.document.createDocumentFragment(),o=e.window.document.createElement(\"body\");let r;for(o.innerHTML=t;r=o.firstChild,r;)i.appendChild(r);return this.setDOMContent(i)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(e){return this.options.maxWidth=e,this._update(),this}setDOMContent(e){let t=this._content;if(t)for(;t.hasChildNodes();)t.firstChild&&t.removeChild(t.firstChild);else t=this._content=n(\"div\",\"mapboxgl-popup-content\",this._container||void 0);if(t.appendChild(e),this.options.closeButton){const e=this._closeButton=n(\"button\",\"mapboxgl-popup-close-button\",t);e.type=\"button\",e.setAttribute(\"aria-label\",\"Close popup\"),e.setAttribute(\"aria-hidden\",\"true\"),e.innerHTML=\"&#215;\",e.addEventListener(\"click\",this._onClose);}return this._update(),this._focusFirstElement(),this}addClassName(e){return this._classList.add(e),this._updateClassList(),this}removeClassName(e){return this._classList.delete(e),this._updateClassList(),this}setOffset(e){return this.options.offset=e,this._update(),this}toggleClassName(e){let t;return this._classList.delete(e)?t=!1:(this._classList.add(e),t=!0),this._updateClassList(),t}_onMouseEvent(e){this._update(e.point);}_getAnchor(e){if(this.options.anchor)return this.options.anchor;const t=this._map,i=this._container,o=this._pos;if(!t||!i||!o)return \"bottom\";const r=i.offsetWidth,n=i.offsetHeight,a=o.x<r/2,s=o.x>t.transform.width-r/2;if(o.y+e<n)return a?\"top-left\":s?\"top-right\":\"top\";if(o.y>t.transform.height-n){if(a)return \"bottom-left\";if(s)return \"bottom-right\"}return a?\"left\":s?\"right\":\"bottom\"}_updateClassList(){const e=this._container;if(!e)return;const t=[...this._classList];t.push(\"mapboxgl-popup\"),this._anchor&&t.push(`mapboxgl-popup-anchor-${this._anchor}`),this._trackPointer&&t.push(\"mapboxgl-popup-track-pointer\"),e.className=t.join(\" \");}_update(t){const i=this._map,o=this._content;if(!i||!this._lngLat&&!this._trackPointer||!o)return;let r=this._container;if(r||(r=this._container=n(\"div\",\"mapboxgl-popup\",i.getContainer()),this._tip=n(\"div\",\"mapboxgl-popup-tip\",r),r.appendChild(o)),this.options.maxWidth&&r.style.maxWidth!==this.options.maxWidth&&(r.style.maxWidth=this.options.maxWidth),i.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=en(this._lngLat,this._pos,i.transform)),!this._trackPointer||t){const e=this._pos=this._trackPointer&&t?t:i.project(this._lngLat),o=fn(this.options.offset),r=this._anchor=this._getAnchor(o.y),n=fn(this.options.offset,r),a=e.add(n).round();i._requestDomTask((()=>{this._container&&r&&(this._container.style.transform=`${tn[r]} translate(${a.x}px,${a.y}px)`);}));}if(!this._marker&&i._showingGlobe()){const t=e.isLngLatBehindGlobe(i.transform,this._lngLat)?0:1;this._setOpacity(t);}this._updateClassList();}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const e=this._container.querySelector(mn);e&&e.focus();}_onClose(){this.remove();}_setOpacity(e){this._container&&(this._container.style.opacity=`${e}`),this._content&&(this._content.style.pointerEvents=e?\"auto\":\"none\");}},Marker:on,Style:ei,LngLat:e.LngLat,LngLatBounds:e.LngLatBounds,Point:e.pointGeometry,MercatorCoordinate:e.MercatorCoordinate,FreeCameraOptions:Zo,Evented:e.Evented,config:e.config,prewarm:function(){Ge().acquire(Fe);},clearPrewarmedResources:function(){const e=Ne;e&&(e.isPreloaded()&&1===e.numActive()?(e.release(Fe),Ne=null):console.warn(\"Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()\"));},get accessToken(){return e.config.ACCESS_TOKEN},set accessToken(t){e.config.ACCESS_TOKEN=t;},get baseApiUrl(){return e.config.API_URL},set baseApiUrl(t){e.config.API_URL=t;},get workerCount(){return Ue.workerCount},set workerCount(e){Ue.workerCount=e;},get maxParallelImageRequests(){return e.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(t){e.config.MAX_PARALLEL_IMAGE_REQUESTS=t;},clearStorage(t){e.clearTileCache(t);},workerUrl:\"\",workerClass:null,setNow:e.exported.setNow,restoreNow:e.exported.restoreNow};return gn}));\n\n//\n\nvar mapboxgl$1 = mapboxgl;\n\nreturn mapboxgl$1;\n\n}));\n//# sourceMappingURL=mapbox-gl.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbWFwYm94LWdsL2Rpc3QvbWFwYm94LWdsLmpzIiwibWFwcGluZ3MiOiI7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3N1cGVyc2V0Ly4vbm9kZV9tb2R1bGVzL21hcGJveC1nbC9kaXN0L21hcGJveC1nbC5qcz9lMTkyIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIE1hcGJveCBHTCBKUyBpcyBDb3B5cmlnaHQgwqkgMjAyMCBNYXBib3ggYW5kIHN1YmplY3QgdG8gdGhlIE1hcGJveCBUZXJtcyBvZiBTZXJ2aWNlICgoaHR0cHM6Ly93d3cubWFwYm94LmNvbS9sZWdhbC90b3MvKS4gKi9cbihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG50eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgPyBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKSA6XG50eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgPyBkZWZpbmUoZmFjdG9yeSkgOlxuKGdsb2JhbCA9IHR5cGVvZiBnbG9iYWxUaGlzICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbFRoaXMgOiBnbG9iYWwgfHwgc2VsZiwgZ2xvYmFsLm1hcGJveGdsID0gZmFjdG9yeSgpKTtcbn0pKHRoaXMsIChmdW5jdGlvbiAoKSB7ICd1c2Ugc3RyaWN0JztcblxuLyogZXNsaW50LWRpc2FibGUgKi9cblxudmFyIHNoYXJlZCwgd29ya2VyLCBtYXBib3hnbDtcbi8vIGRlZmluZSBnZXRzIGNhbGxlZCB0aHJlZSB0aW1lczogb25lIGZvciBlYWNoIGNodW5rLiB3ZSByZWx5IG9uIHRoZSBvcmRlclxuLy8gdGhleSdyZSBpbXBvcnRlZCB0byBrbm93IHdoaWNoIGlzIHdoaWNoXG5mdW5jdGlvbiBkZWZpbmUoXywgY2h1bmspIHtcbmlmICghc2hhcmVkKSB7XG4gICAgc2hhcmVkID0gY2h1bms7XG59IGVsc2UgaWYgKCF3b3JrZXIpIHtcbiAgICB3b3JrZXIgPSBjaHVuaztcbn0gZWxzZSB7XG4gICAgdmFyIHdvcmtlckJ1bmRsZVN0cmluZyA9IFwic2VsZi5vbmVycm9yID0gZnVuY3Rpb24oKSB7IGNvbnNvbGUuZXJyb3IoJ0FuIGVycm9yIG9jY3VycmVkIHdoaWxlIHBhcnNpbmcgdGhlIFdlYldvcmtlciBidW5kbGUuIFRoaXMgaXMgbW9zdCBsaWtlbHkgZHVlIHRvIGltcHJvcGVyIHRyYW5zcGlsYXRpb24gYnkgQmFiZWw7IHBsZWFzZSBzZWUgaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2d1aWRlcy9pbnN0YWxsLyN0cmFuc3BpbGluZycpOyB9OyB2YXIgc2hhcmVkQ2h1bmsgPSB7fTsgKFwiICsgc2hhcmVkICsgXCIpKHNoYXJlZENodW5rKTsgKFwiICsgd29ya2VyICsgXCIpKHNoYXJlZENodW5rKTsgc2VsZi5vbmVycm9yID0gbnVsbDtcIlxuXG4gICAgdmFyIHNoYXJlZENodW5rID0ge307XG4gICAgc2hhcmVkKHNoYXJlZENodW5rKTtcbiAgICBtYXBib3hnbCA9IGNodW5rKHNoYXJlZENodW5rKTtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93ICYmIHdpbmRvdy5VUkwgJiYgd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwpIHtcbiAgICAgICAgbWFwYm94Z2wud29ya2VyVXJsID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwobmV3IEJsb2IoW3dvcmtlckJ1bmRsZVN0cmluZ10sIHsgdHlwZTogJ3RleHQvamF2YXNjcmlwdCcgfSkpO1xuICAgIH1cbn1cbn1cblxuXG5kZWZpbmUoW1wiZXhwb3J0c1wiXSwoZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGU9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjp7fSxyPW47ZnVuY3Rpb24gbih0LGUscixuKXt0aGlzLmN4PTMqdCx0aGlzLmJ4PTMqKHItdCktdGhpcy5jeCx0aGlzLmF4PTEtdGhpcy5jeC10aGlzLmJ4LHRoaXMuY3k9MyplLHRoaXMuYnk9Myoobi1lKS10aGlzLmN5LHRoaXMuYXk9MS10aGlzLmN5LXRoaXMuYnksdGhpcy5wMXg9dCx0aGlzLnAxeT1uLHRoaXMucDJ4PXIsdGhpcy5wMnk9bjt9bi5wcm90b3R5cGUuc2FtcGxlQ3VydmVYPWZ1bmN0aW9uKHQpe3JldHVybiAoKHRoaXMuYXgqdCt0aGlzLmJ4KSp0K3RoaXMuY3gpKnR9LG4ucHJvdG90eXBlLnNhbXBsZUN1cnZlWT1mdW5jdGlvbih0KXtyZXR1cm4gKCh0aGlzLmF5KnQrdGhpcy5ieSkqdCt0aGlzLmN5KSp0fSxuLnByb3RvdHlwZS5zYW1wbGVDdXJ2ZURlcml2YXRpdmVYPWZ1bmN0aW9uKHQpe3JldHVybiAoMyp0aGlzLmF4KnQrMip0aGlzLmJ4KSp0K3RoaXMuY3h9LG4ucHJvdG90eXBlLnNvbHZlQ3VydmVYPWZ1bmN0aW9uKHQsZSl7dmFyIHIsbixpLHMsYTtmb3Iodm9pZCAwPT09ZSYmKGU9MWUtNiksaT10LGE9MDthPDg7YSsrKXtpZihzPXRoaXMuc2FtcGxlQ3VydmVYKGkpLXQsTWF0aC5hYnMocyk8ZSlyZXR1cm4gaTt2YXIgbz10aGlzLnNhbXBsZUN1cnZlRGVyaXZhdGl2ZVgoaSk7aWYoTWF0aC5hYnMobyk8MWUtNilicmVhaztpLT1zL287fWlmKChpPXQpPChyPTApKXJldHVybiByO2lmKGk+KG49MSkpcmV0dXJuIG47Zm9yKDtyPG47KXtpZihzPXRoaXMuc2FtcGxlQ3VydmVYKGkpLE1hdGguYWJzKHMtdCk8ZSlyZXR1cm4gaTt0PnM/cj1pOm49aSxpPS41KihuLXIpK3I7fXJldHVybiBpfSxuLnByb3RvdHlwZS5zb2x2ZT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnNhbXBsZUN1cnZlWSh0aGlzLnNvbHZlQ3VydmVYKHQsZSkpfTt2YXIgaT1zO2Z1bmN0aW9uIHModCxlKXt0aGlzLng9dCx0aGlzLnk9ZTt9cy5wcm90b3R5cGU9e2Nsb25lOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBzKHRoaXMueCx0aGlzLnkpfSxhZGQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fYWRkKHQpfSxzdWI6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fc3ViKHQpfSxtdWx0QnlQb2ludDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jbG9uZSgpLl9tdWx0QnlQb2ludCh0KX0sZGl2QnlQb2ludDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jbG9uZSgpLl9kaXZCeVBvaW50KHQpfSxtdWx0OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNsb25lKCkuX211bHQodCl9LGRpdjpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jbG9uZSgpLl9kaXYodCl9LHJvdGF0ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jbG9uZSgpLl9yb3RhdGUodCl9LHJvdGF0ZUFyb3VuZDpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmNsb25lKCkuX3JvdGF0ZUFyb3VuZCh0LGUpfSxtYXRNdWx0OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNsb25lKCkuX21hdE11bHQodCl9LHVuaXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jbG9uZSgpLl91bml0KCl9LHBlcnA6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jbG9uZSgpLl9wZXJwKCl9LHJvdW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fcm91bmQoKX0sbWFnOmZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguc3FydCh0aGlzLngqdGhpcy54K3RoaXMueSp0aGlzLnkpfSxlcXVhbHM6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMueD09PXQueCYmdGhpcy55PT09dC55fSxkaXN0OmZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLnNxcnQodGhpcy5kaXN0U3FyKHQpKX0sZGlzdFNxcjpmdW5jdGlvbih0KXt2YXIgZT10LngtdGhpcy54LHI9dC55LXRoaXMueTtyZXR1cm4gZSplK3Iqcn0sYW5nbGU6ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5hdGFuMih0aGlzLnksdGhpcy54KX0sYW5nbGVUbzpmdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5hdGFuMih0aGlzLnktdC55LHRoaXMueC10LngpfSxhbmdsZVdpdGg6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuYW5nbGVXaXRoU2VwKHQueCx0LnkpfSxhbmdsZVdpdGhTZXA6ZnVuY3Rpb24odCxlKXtyZXR1cm4gTWF0aC5hdGFuMih0aGlzLngqZS10aGlzLnkqdCx0aGlzLngqdCt0aGlzLnkqZSl9LF9tYXRNdWx0OmZ1bmN0aW9uKHQpe3ZhciBlPXRbMl0qdGhpcy54K3RbM10qdGhpcy55O3JldHVybiB0aGlzLng9dFswXSp0aGlzLngrdFsxXSp0aGlzLnksdGhpcy55PWUsdGhpc30sX2FkZDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy54Kz10LngsdGhpcy55Kz10LnksdGhpc30sX3N1YjpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy54LT10LngsdGhpcy55LT10LnksdGhpc30sX211bHQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMueCo9dCx0aGlzLnkqPXQsdGhpc30sX2RpdjpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy54Lz10LHRoaXMueS89dCx0aGlzfSxfbXVsdEJ5UG9pbnQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMueCo9dC54LHRoaXMueSo9dC55LHRoaXN9LF9kaXZCeVBvaW50OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLngvPXQueCx0aGlzLnkvPXQueSx0aGlzfSxfdW5pdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kaXYodGhpcy5tYWcoKSksdGhpc30sX3BlcnA6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnk7cmV0dXJuIHRoaXMueT10aGlzLngsdGhpcy54PS10LHRoaXN9LF9yb3RhdGU6ZnVuY3Rpb24odCl7dmFyIGU9TWF0aC5jb3ModCkscj1NYXRoLnNpbih0KSxuPXIqdGhpcy54K2UqdGhpcy55O3JldHVybiB0aGlzLng9ZSp0aGlzLngtcip0aGlzLnksdGhpcy55PW4sdGhpc30sX3JvdGF0ZUFyb3VuZDpmdW5jdGlvbih0LGUpe3ZhciByPU1hdGguY29zKHQpLG49TWF0aC5zaW4odCksaT1lLnkrbioodGhpcy54LWUueCkrcioodGhpcy55LWUueSk7cmV0dXJuIHRoaXMueD1lLngrcioodGhpcy54LWUueCktbioodGhpcy55LWUueSksdGhpcy55PWksdGhpc30sX3JvdW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueD1NYXRoLnJvdW5kKHRoaXMueCksdGhpcy55PU1hdGgucm91bmQodGhpcy55KSx0aGlzfX0scy5jb252ZXJ0PWZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2Ygcz90OkFycmF5LmlzQXJyYXkodCk/bmV3IHModFswXSx0WzFdKTp0fTtjb25zdCBhPU1hdGguUEkvMTgwLG89MTgwL01hdGguUEk7ZnVuY3Rpb24gbCh0KXtyZXR1cm4gdCphfWZ1bmN0aW9uIHUodCl7cmV0dXJuIHQqb31jb25zdCBjPVtbMCwwXSxbMSwwXSxbMSwxXSxbMCwxXV07ZnVuY3Rpb24gaCh0KXtpZih0PD0wKXJldHVybiAwO2lmKHQ+PTEpcmV0dXJuIDE7Y29uc3QgZT10KnQscj1lKnQ7cmV0dXJuIDQqKHQ8LjU/cjozKih0LWUpK3ItLjc1KX1mdW5jdGlvbiBwKHQsZSxuLGkpe2NvbnN0IHM9bmV3IHIodCxlLG4saSk7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBzLnNvbHZlKHQpfX1jb25zdCBmPXAoLjI1LC4xLC4yNSwxKTtmdW5jdGlvbiBkKHQsZSxyKXtyZXR1cm4gTWF0aC5taW4ocixNYXRoLm1heChlLHQpKX1mdW5jdGlvbiB5KHQsZSxyKXtyZXR1cm4gKHI9ZCgoci10KS8oZS10KSwwLDEpKSpyKigzLTIqcil9ZnVuY3Rpb24gbSh0LGUscil7Y29uc3Qgbj1yLWUsaT0oKHQtZSklbituKSVuK2U7cmV0dXJuIGk9PT1lP3I6aX1mdW5jdGlvbiBnKHQsZSxyKXtpZighdC5sZW5ndGgpcmV0dXJuIHIobnVsbCxbXSk7bGV0IG49dC5sZW5ndGg7Y29uc3QgaT1uZXcgQXJyYXkodC5sZW5ndGgpO2xldCBzPW51bGw7dC5mb3JFYWNoKCgodCxhKT0+e2UodCwoKHQsZSk9Pnt0JiYocz10KSxpW2FdPWUsMD09LS1uJiZyKHMsaSk7fSkpO30pKTt9ZnVuY3Rpb24geCh0KXtjb25zdCBlPVtdO2Zvcihjb25zdCByIGluIHQpZS5wdXNoKHRbcl0pO3JldHVybiBlfWZ1bmN0aW9uIHYodCwuLi5lKXtmb3IoY29uc3QgciBvZiBlKWZvcihjb25zdCBlIGluIHIpdFtlXT1yW2VdO3JldHVybiB0fWxldCBiPTE7ZnVuY3Rpb24gXygpe3JldHVybiBiKyt9ZnVuY3Rpb24gdygpe3JldHVybiBmdW5jdGlvbiB0KGUpe3JldHVybiBlPyhlXk1hdGgucmFuZG9tKCkqKDE2Pj5lLzQpKS50b1N0cmluZygxNik6KFsxZTddKy1bMWUzXSstNGUzKy04ZTMrLTFlMTEpLnJlcGxhY2UoL1swMThdL2csdCl9KCl9ZnVuY3Rpb24gQSh0KXtyZXR1cm4gdDw9MT8xOk1hdGgucG93KDIsTWF0aC5jZWlsKE1hdGgubG9nKHQpL01hdGguTE4yKSl9ZnVuY3Rpb24gUyh0KXtyZXR1cm4gISF0JiYvXlswLTlhLWZdezh9LVswLTlhLWZdezR9LVs0XVswLTlhLWZdezN9LVs4OWFiXVswLTlhLWZdezN9LVswLTlhLWZdezEyfSQvaS50ZXN0KHQpfWZ1bmN0aW9uIGsodCxlKXt0LmZvckVhY2goKHQ9PntlW3RdJiYoZVt0XT1lW3RdLmJpbmQoZSkpO30pKTt9ZnVuY3Rpb24gSSh0LGUpe3JldHVybiAtMSE9PXQuaW5kZXhPZihlLHQubGVuZ3RoLWUubGVuZ3RoKX1mdW5jdGlvbiBNKHQsZSxyKXtjb25zdCBuPXt9O2Zvcihjb25zdCBpIGluIHQpbltpXT1lLmNhbGwocnx8dGhpcyx0W2ldLGksdCk7cmV0dXJuIG59ZnVuY3Rpb24geih0LGUscil7Y29uc3Qgbj17fTtmb3IoY29uc3QgaSBpbiB0KWUuY2FsbChyfHx0aGlzLHRbaV0saSx0KSYmKG5baV09dFtpXSk7cmV0dXJuIG59ZnVuY3Rpb24gVCh0KXtyZXR1cm4gQXJyYXkuaXNBcnJheSh0KT90Lm1hcChUKTpcIm9iamVjdFwiPT10eXBlb2YgdCYmdD9NKHQsVCk6dH1jb25zdCBCPXt9O2Z1bmN0aW9uIEUodCl7Qlt0XXx8KFwidW5kZWZpbmVkXCIhPXR5cGVvZiBjb25zb2xlJiZjb25zb2xlLndhcm4odCksQlt0XT0hMCk7fWZ1bmN0aW9uIEModCxlLHIpe3JldHVybiAoci55LXQueSkqKGUueC10LngpPihlLnktdC55KSooci54LXQueCl9ZnVuY3Rpb24gUCh0KXtsZXQgZT0wO2ZvcihsZXQgcixuLGk9MCxzPXQubGVuZ3RoLGE9cy0xO2k8czthPWkrKylyPXRbaV0sbj10W2FdLGUrPShuLngtci54KSooci55K24ueSk7cmV0dXJuIGV9ZnVuY3Rpb24gRCgpe3JldHVybiBcInVuZGVmaW5lZFwiIT10eXBlb2YgV29ya2VyR2xvYmFsU2NvcGUmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmJiZzZWxmIGluc3RhbmNlb2YgV29ya2VyR2xvYmFsU2NvcGV9ZnVuY3Rpb24gVih0KXtjb25zdCBlPXt9O2lmKHQucmVwbGFjZSgvKD86XnwoPzpcXHMqXFwsXFxzKikpKFteXFx4MDAtXFx4MjBcXChcXCk8PkBcXCw7XFw6XFxcXFwiXFwvXFxbXFxdXFw/XFw9XFx7XFx9XFx4N0ZdKykoPzpcXD0oPzooW15cXHgwMC1cXHgyMFxcKFxcKTw+QFxcLDtcXDpcXFxcXCJcXC9cXFtcXF1cXD9cXD1cXHtcXH1cXHg3Rl0rKXwoPzpcXFwiKCg/OlteXCJcXFxcXXxcXFxcLikqKVxcXCIpKSk/L2csKCh0LHIsbixpKT0+e2NvbnN0IHM9bnx8aTtyZXR1cm4gZVtyXT0hc3x8cy50b0xvd2VyQ2FzZSgpLFwiXCJ9KSksZVtcIm1heC1hZ2VcIl0pe2NvbnN0IHQ9cGFyc2VJbnQoZVtcIm1heC1hZ2VcIl0sMTApO2lzTmFOKHQpP2RlbGV0ZSBlW1wibWF4LWFnZVwiXTplW1wibWF4LWFnZVwiXT10O31yZXR1cm4gZX1sZXQgRj1udWxsO2Z1bmN0aW9uIEwodCl7aWYobnVsbD09Ril7Y29uc3QgZT10Lm5hdmlnYXRvcj90Lm5hdmlnYXRvci51c2VyQWdlbnQ6bnVsbDtGPSEhdC5zYWZhcml8fCEoIWV8fCEoL1xcYihpUGFkfGlQaG9uZXxpUG9kKVxcYi8udGVzdChlKXx8ZS5tYXRjaChcIlNhZmFyaVwiKSYmIWUubWF0Y2goXCJDaHJvbWVcIikpKTt9cmV0dXJuIEZ9ZnVuY3Rpb24gUih0KXt0cnl7Y29uc3Qgcj1lW3RdO3JldHVybiByLnNldEl0ZW0oXCJfbWFwYm94X3Rlc3RfXCIsMSksci5yZW1vdmVJdGVtKFwiX21hcGJveF90ZXN0X1wiKSwhMH1jYXRjaCh0KXtyZXR1cm4gITF9fWZ1bmN0aW9uIFUodCxlKXtyZXR1cm4gW3RbNCplXSx0WzQqZSsxXSx0WzQqZSsyXSx0WzQqZSszXV19Y29uc3Qgaj1lLnBlcmZvcm1hbmNlO2Z1bmN0aW9uICQodCl7Y29uc3QgZT10P3QudXJsLnRvU3RyaW5nKCk6dm9pZCAwO3JldHVybiBqLmdldEVudHJpZXNCeU5hbWUoZSl9dmFyIE89XCIyLjEwLjBcIjtsZXQgcSxOLEcsWjtjb25zdCBYPXtub3c6KCk9PnZvaWQgMCE9PUc/RzplLnBlcmZvcm1hbmNlLm5vdygpLHNldE5vdyh0KXtHPXQ7fSxyZXN0b3JlTm93KCl7Rz12b2lkIDA7fSxmcmFtZSh0KXtjb25zdCByPWUucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHQpO3JldHVybiB7Y2FuY2VsOigpPT5lLmNhbmNlbEFuaW1hdGlvbkZyYW1lKHIpfX0sZ2V0SW1hZ2VEYXRhKHQscj0wKXtjb25zdHt3aWR0aDpuLGhlaWdodDppfT10O1p8fChaPWUuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSk7Y29uc3Qgcz1aLmdldENvbnRleHQoXCIyZFwiKTtpZighcyl0aHJvdyBuZXcgRXJyb3IoXCJmYWlsZWQgdG8gY3JlYXRlIGNhbnZhcyAyZCBjb250ZXh0XCIpO3JldHVybiAobj5aLndpZHRofHxpPlouaGVpZ2h0KSYmKFoud2lkdGg9bixaLmhlaWdodD1pKSxzLmNsZWFyUmVjdCgtciwtcixuKzIqcixpKzIqcikscy5kcmF3SW1hZ2UodCwwLDAsbixpKSxzLmdldEltYWdlRGF0YSgtciwtcixuKzIqcixpKzIqcil9LHJlc29sdmVVUkw6dD0+KHF8fChxPWUuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIikpLHEuaHJlZj10LHEuaHJlZiksZ2V0IGRldmljZVBpeGVsUmF0aW8oKXtyZXR1cm4gZS5kZXZpY2VQaXhlbFJhdGlvfSxnZXQgcHJlZmVyc1JlZHVjZWRNb3Rpb24oKXtyZXR1cm4gISFlLm1hdGNoTWVkaWEmJihudWxsPT1OJiYoTj1lLm1hdGNoTWVkaWEoXCIocHJlZmVycy1yZWR1Y2VkLW1vdGlvbjogcmVkdWNlKVwiKSksTi5tYXRjaGVzKX19O2xldCBLO2NvbnN0IEg9e0FQSV9VUkw6XCJodHRwczovL2FwaS5tYXBib3guY29tXCIsZ2V0IEFQSV9VUkxfUkVHRVgoKXtpZihudWxsPT1LKXtjb25zdCB0PS9eKChodHRwcz86KT9cXC9cXC8pPyhbXlxcL10rXFwuKT9tYXBib3hcXC5jKG58b20pKFxcL3xcXD98JCkvaTt0cnl7Sz1udWxsIT1wcm9jZXNzLmVudi5BUElfVVJMX1JFR0VYP25ldyBSZWdFeHAocHJvY2Vzcy5lbnYuQVBJX1VSTF9SRUdFWCk6dDt9Y2F0Y2goZSl7Sz10O319cmV0dXJuIEt9LGdldCBFVkVOVFNfVVJMKCl7cmV0dXJuIHRoaXMuQVBJX1VSTD8wPT09dGhpcy5BUElfVVJMLmluZGV4T2YoXCJodHRwczovL2FwaS5tYXBib3guY25cIik/XCJodHRwczovL2V2ZW50cy5tYXBib3guY24vZXZlbnRzL3YyXCI6MD09PXRoaXMuQVBJX1VSTC5pbmRleE9mKFwiaHR0cHM6Ly9hcGkubWFwYm94LmNvbVwiKT9cImh0dHBzOi8vZXZlbnRzLm1hcGJveC5jb20vZXZlbnRzL3YyXCI6bnVsbDpudWxsfSxTRVNTSU9OX1BBVEg6XCIvbWFwLXNlc3Npb25zL3YxXCIsRkVFREJBQ0tfVVJMOlwiaHR0cHM6Ly9hcHBzLm1hcGJveC5jb20vZmVlZGJhY2tcIixUSUxFX1VSTF9WRVJTSU9OOlwidjRcIixSQVNURVJfVVJMX1BSRUZJWDpcInJhc3Rlci92MVwiLFJFUVVJUkVfQUNDRVNTX1RPS0VOOiEwLEFDQ0VTU19UT0tFTjpudWxsLE1BWF9QQVJBTExFTF9JTUFHRV9SRVFVRVNUUzoxNn0sWT17c3VwcG9ydGVkOiExLHRlc3RTdXBwb3J0OmZ1bmN0aW9uKHQpeyFRJiZKJiYodHQ/ZXQodCk6Vz10KTt9fTtsZXQgVyxKLFE9ITEsdHQ9ITE7ZnVuY3Rpb24gZXQodCl7Y29uc3QgZT10LmNyZWF0ZVRleHR1cmUoKTt0LmJpbmRUZXh0dXJlKHQuVEVYVFVSRV8yRCxlKTt0cnl7aWYodC50ZXhJbWFnZTJEKHQuVEVYVFVSRV8yRCwwLHQuUkdCQSx0LlJHQkEsdC5VTlNJR05FRF9CWVRFLEopLHQuaXNDb250ZXh0TG9zdCgpKXJldHVybjtZLnN1cHBvcnRlZD0hMDt9Y2F0Y2godCl7fXQuZGVsZXRlVGV4dHVyZShlKSxRPSEwO31lLmRvY3VtZW50JiYoSj1lLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIiksSi5vbmxvYWQ9ZnVuY3Rpb24oKXtXJiZldChXKSxXPW51bGwsdHQ9ITA7fSxKLm9uZXJyb3I9ZnVuY3Rpb24oKXtRPSEwLFc9bnVsbDt9LEouc3JjPVwiZGF0YTppbWFnZS93ZWJwO2Jhc2U2NCxVa2xHUmg0QUFBQlhSVUpRVmxBNFRCRUFBQUF2QVFBQUFBZlEvLzczdi8rQmlPaC9BQUE9XCIpO2NvbnN0IHJ0PVwiMDFcIixudD1cIk5PX0FDQ0VTU19UT0tFTlwiO2Z1bmN0aW9uIGl0KHQpe3JldHVybiAwPT09dC5pbmRleE9mKFwibWFwYm94OlwiKX1mdW5jdGlvbiBzdCh0KXtyZXR1cm4gSC5BUElfVVJMX1JFR0VYLnRlc3QodCl9Y29uc3QgYXQ9L14oXFx3Kyk6XFwvXFwvKFteLz9dKikoXFwvW14/XSspP1xcPz8oLispPy87ZnVuY3Rpb24gb3QodCl7Y29uc3QgZT10Lm1hdGNoKGF0KTtpZighZSl0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gcGFyc2UgVVJMIG9iamVjdFwiKTtyZXR1cm4ge3Byb3RvY29sOmVbMV0sYXV0aG9yaXR5OmVbMl0scGF0aDplWzNdfHxcIi9cIixwYXJhbXM6ZVs0XT9lWzRdLnNwbGl0KFwiJlwiKTpbXX19ZnVuY3Rpb24gbHQodCl7Y29uc3QgZT10LnBhcmFtcy5sZW5ndGg/YD8ke3QucGFyYW1zLmpvaW4oXCImXCIpfWA6XCJcIjtyZXR1cm4gYCR7dC5wcm90b2NvbH06Ly8ke3QuYXV0aG9yaXR5fSR7dC5wYXRofSR7ZX1gfWZ1bmN0aW9uIHV0KHQpe2lmKCF0KXJldHVybiBudWxsO2NvbnN0IHI9dC5zcGxpdChcIi5cIik7aWYoIXJ8fDMhPT1yLmxlbmd0aClyZXR1cm4gbnVsbDt0cnl7cmV0dXJuIEpTT04ucGFyc2UoZGVjb2RlVVJJQ29tcG9uZW50KGUuYXRvYihyWzFdKS5zcGxpdChcIlwiKS5tYXAoKHQ9PlwiJVwiKyhcIjAwXCIrdC5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTIpKSkuam9pbihcIlwiKSkpfWNhdGNoKHQpe3JldHVybiBudWxsfX1jbGFzcyBjdHtjb25zdHJ1Y3Rvcih0KXt0aGlzLnR5cGU9dCx0aGlzLmFub25JZD1udWxsLHRoaXMuZXZlbnREYXRhPXt9LHRoaXMucXVldWU9W10sdGhpcy5wZW5kaW5nUmVxdWVzdD1udWxsO31nZXRTdG9yYWdlS2V5KHQpe2NvbnN0IHI9dXQoSC5BQ0NFU1NfVE9LRU4pO2xldCBuPVwiXCI7cmV0dXJuIG49ciYmci51P2UuYnRvYShlbmNvZGVVUklDb21wb25lbnQoci51KS5yZXBsYWNlKC8lKFswLTlBLUZdezJ9KS9nLCgodCxlKT0+U3RyaW5nLmZyb21DaGFyQ29kZShOdW1iZXIoXCIweFwiK2UpKSkpKTpILkFDQ0VTU19UT0tFTnx8XCJcIix0P2BtYXBib3guZXZlbnREYXRhLiR7dH06JHtufWA6YG1hcGJveC5ldmVudERhdGE6JHtufWB9ZmV0Y2hFdmVudERhdGEoKXtjb25zdCB0PVIoXCJsb2NhbFN0b3JhZ2VcIikscj10aGlzLmdldFN0b3JhZ2VLZXkoKSxuPXRoaXMuZ2V0U3RvcmFnZUtleShcInV1aWRcIik7aWYodCl0cnl7Y29uc3QgdD1lLmxvY2FsU3RvcmFnZS5nZXRJdGVtKHIpO3QmJih0aGlzLmV2ZW50RGF0YT1KU09OLnBhcnNlKHQpKTtjb25zdCBpPWUubG9jYWxTdG9yYWdlLmdldEl0ZW0obik7aSYmKHRoaXMuYW5vbklkPWkpO31jYXRjaCh0KXtFKFwiVW5hYmxlIHRvIHJlYWQgZnJvbSBMb2NhbFN0b3JhZ2VcIik7fX1zYXZlRXZlbnREYXRhKCl7Y29uc3QgdD1SKFwibG9jYWxTdG9yYWdlXCIpLHI9dGhpcy5nZXRTdG9yYWdlS2V5KCksbj10aGlzLmdldFN0b3JhZ2VLZXkoXCJ1dWlkXCIpO2lmKHQpdHJ5e2UubG9jYWxTdG9yYWdlLnNldEl0ZW0obix0aGlzLmFub25JZCksT2JqZWN0LmtleXModGhpcy5ldmVudERhdGEpLmxlbmd0aD49MSYmZS5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShyLEpTT04uc3RyaW5naWZ5KHRoaXMuZXZlbnREYXRhKSk7fWNhdGNoKHQpe0UoXCJVbmFibGUgdG8gd3JpdGUgdG8gTG9jYWxTdG9yYWdlXCIpO319cHJvY2Vzc1JlcXVlc3RzKHQpe31wb3N0RXZlbnQodCxlLHIsbil7aWYoIUguRVZFTlRTX1VSTClyZXR1cm47Y29uc3QgaT1vdChILkVWRU5UU19VUkwpO2kucGFyYW1zLnB1c2goYGFjY2Vzc190b2tlbj0ke258fEguQUNDRVNTX1RPS0VOfHxcIlwifWApO2NvbnN0IHM9e2V2ZW50OnRoaXMudHlwZSxjcmVhdGVkOm5ldyBEYXRlKHQpLnRvSVNPU3RyaW5nKCksc2RrSWRlbnRpZmllcjpcIm1hcGJveC1nbC1qc1wiLHNka1ZlcnNpb246Tyxza3VJZDpydCx1c2VySWQ6dGhpcy5hbm9uSWR9LGE9ZT92KHMsZSk6cyxvPXt1cmw6bHQoaSksaGVhZGVyczp7XCJDb250ZW50LVR5cGVcIjpcInRleHQvcGxhaW5cIn0sYm9keTpKU09OLnN0cmluZ2lmeShbYV0pfTt0aGlzLnBlbmRpbmdSZXF1ZXN0PVB0KG8sKHQ9Pnt0aGlzLnBlbmRpbmdSZXF1ZXN0PW51bGwscih0KSx0aGlzLnNhdmVFdmVudERhdGEoKSx0aGlzLnByb2Nlc3NSZXF1ZXN0cyhuKTt9KSk7fXF1ZXVlUmVxdWVzdCh0LGUpe3RoaXMucXVldWUucHVzaCh0KSx0aGlzLnByb2Nlc3NSZXF1ZXN0cyhlKTt9fWNvbnN0IGh0PW5ldyBjbGFzcyBleHRlbmRzIGN0e2NvbnN0cnVjdG9yKHQpe3N1cGVyKFwiYXBwVXNlclR1cm5zdGlsZVwiKSx0aGlzLl9jdXN0b21BY2Nlc3NUb2tlbj10O31wb3N0VHVybnN0aWxlRXZlbnQodCxlKXtILkVWRU5UU19VUkwmJkguQUNDRVNTX1RPS0VOJiZBcnJheS5pc0FycmF5KHQpJiZ0LnNvbWUoKHQ9Pml0KHQpfHxzdCh0KSkpJiZ0aGlzLnF1ZXVlUmVxdWVzdChEYXRlLm5vdygpLGUpO31wcm9jZXNzUmVxdWVzdHModCl7aWYodGhpcy5wZW5kaW5nUmVxdWVzdHx8MD09PXRoaXMucXVldWUubGVuZ3RoKXJldHVybjt0aGlzLmFub25JZCYmdGhpcy5ldmVudERhdGEubGFzdFN1Y2Nlc3MmJnRoaXMuZXZlbnREYXRhLnRva2VuVXx8dGhpcy5mZXRjaEV2ZW50RGF0YSgpO2NvbnN0IGU9dXQoSC5BQ0NFU1NfVE9LRU4pLHI9ZT9lLnU6SC5BQ0NFU1NfVE9LRU47bGV0IG49ciE9PXRoaXMuZXZlbnREYXRhLnRva2VuVTtTKHRoaXMuYW5vbklkKXx8KHRoaXMuYW5vbklkPXcoKSxuPSEwKTtjb25zdCBpPXRoaXMucXVldWUuc2hpZnQoKTtpZih0aGlzLmV2ZW50RGF0YS5sYXN0U3VjY2Vzcyl7Y29uc3QgdD1uZXcgRGF0ZSh0aGlzLmV2ZW50RGF0YS5sYXN0U3VjY2VzcyksZT1uZXcgRGF0ZShpKSxyPShpLXRoaXMuZXZlbnREYXRhLmxhc3RTdWNjZXNzKS84NjRlNTtuPW58fHI+PTF8fHI8LTF8fHQuZ2V0RGF0ZSgpIT09ZS5nZXREYXRlKCk7fWVsc2Ugbj0hMDtuP3RoaXMucG9zdEV2ZW50KGkse1wiZW5hYmxlZC50ZWxlbWV0cnlcIjohMX0sKHQ9Pnt0fHwodGhpcy5ldmVudERhdGEubGFzdFN1Y2Nlc3M9aSx0aGlzLmV2ZW50RGF0YS50b2tlblU9cik7fSksdCk6dGhpcy5wcm9jZXNzUmVxdWVzdHMoKTt9fSxwdD1odC5wb3N0VHVybnN0aWxlRXZlbnQuYmluZChodCksZnQ9bmV3IGNsYXNzIGV4dGVuZHMgY3R7Y29uc3RydWN0b3IoKXtzdXBlcihcIm1hcC5sb2FkXCIpLHRoaXMuc3VjY2Vzcz17fSx0aGlzLnNrdVRva2VuPVwiXCI7fXBvc3RNYXBMb2FkRXZlbnQodCxlLHIsbil7dGhpcy5za3VUb2tlbj1lLHRoaXMuZXJyb3JDYj1uLEguRVZFTlRTX1VSTCYmKHJ8fEguQUNDRVNTX1RPS0VOP3RoaXMucXVldWVSZXF1ZXN0KHtpZDp0LHRpbWVzdGFtcDpEYXRlLm5vdygpfSxyKTp0aGlzLmVycm9yQ2IobmV3IEVycm9yKG50KSkpO31wcm9jZXNzUmVxdWVzdHModCl7aWYodGhpcy5wZW5kaW5nUmVxdWVzdHx8MD09PXRoaXMucXVldWUubGVuZ3RoKXJldHVybjtjb25zdHtpZDplLHRpbWVzdGFtcDpyfT10aGlzLnF1ZXVlLnNoaWZ0KCk7ZSYmdGhpcy5zdWNjZXNzW2VdfHwodGhpcy5hbm9uSWR8fHRoaXMuZmV0Y2hFdmVudERhdGEoKSxTKHRoaXMuYW5vbklkKXx8KHRoaXMuYW5vbklkPXcoKSksdGhpcy5wb3N0RXZlbnQocix7c2t1VG9rZW46dGhpcy5za3VUb2tlbn0sKHQ9Pnt0P3RoaXMuZXJyb3JDYih0KTplJiYodGhpcy5zdWNjZXNzW2VdPSEwKTt9KSx0KSk7fX0sZHQ9ZnQucG9zdE1hcExvYWRFdmVudC5iaW5kKGZ0KSx5dD1uZXcgY2xhc3MgZXh0ZW5kcyBjdHtjb25zdHJ1Y3Rvcigpe3N1cGVyKFwibWFwLmF1dGhcIiksdGhpcy5zdWNjZXNzPXt9LHRoaXMuc2t1VG9rZW49XCJcIjt9Z2V0U2Vzc2lvbih0LGUscixuKXtpZighSC5BUElfVVJMfHwhSC5TRVNTSU9OX1BBVEgpcmV0dXJuO2NvbnN0IGk9b3QoSC5BUElfVVJMK0guU0VTU0lPTl9QQVRIKTtpLnBhcmFtcy5wdXNoKGBza3U9JHtlfHxcIlwifWApLGkucGFyYW1zLnB1c2goYGFjY2Vzc190b2tlbj0ke258fEguQUNDRVNTX1RPS0VOfHxcIlwifWApO2NvbnN0IHM9e3VybDpsdChpKSxoZWFkZXJzOntcIkNvbnRlbnQtVHlwZVwiOlwidGV4dC9wbGFpblwifX07dGhpcy5wZW5kaW5nUmVxdWVzdD1EdChzLCh0PT57dGhpcy5wZW5kaW5nUmVxdWVzdD1udWxsLHIodCksdGhpcy5zYXZlRXZlbnREYXRhKCksdGhpcy5wcm9jZXNzUmVxdWVzdHMobik7fSkpO31nZXRTZXNzaW9uQVBJKHQsZSxyLG4pe3RoaXMuc2t1VG9rZW49ZSx0aGlzLmVycm9yQ2I9bixILlNFU1NJT05fUEFUSCYmSC5BUElfVVJMJiYocnx8SC5BQ0NFU1NfVE9LRU4/dGhpcy5xdWV1ZVJlcXVlc3Qoe2lkOnQsdGltZXN0YW1wOkRhdGUubm93KCl9LHIpOnRoaXMuZXJyb3JDYihuZXcgRXJyb3IobnQpKSk7fXByb2Nlc3NSZXF1ZXN0cyh0KXtpZih0aGlzLnBlbmRpbmdSZXF1ZXN0fHwwPT09dGhpcy5xdWV1ZS5sZW5ndGgpcmV0dXJuO2NvbnN0e2lkOmUsdGltZXN0YW1wOnJ9PXRoaXMucXVldWUuc2hpZnQoKTtlJiZ0aGlzLnN1Y2Nlc3NbZV18fHRoaXMuZ2V0U2Vzc2lvbihyLHRoaXMuc2t1VG9rZW4sKHQ9Pnt0P3RoaXMuZXJyb3JDYih0KTplJiYodGhpcy5zdWNjZXNzW2VdPSEwKTt9KSx0KTt9fSxtdD15dC5nZXRTZXNzaW9uQVBJLmJpbmQoeXQpLGd0PW5ldyBTZXQ7bGV0IHh0LHZ0PTUwMCxidD01MCxfdD17fTtmdW5jdGlvbiB3dCh0KXtjb25zdCBlPWt0KHQpO2xldCByLG47ZSYmZS5mb3JFYWNoKCh0PT57Y29uc3QgZT10LnNwbGl0KFwiPVwiKTtcImxhbmd1YWdlXCI9PT1lWzBdP3I9ZVsxXTpcIndvcmxkdmlld1wiPT09ZVswXSYmKG49ZVsxXSk7fSkpO2xldCBpPVwibWFwYm94LXRpbGVzXCI7cmV0dXJuIHImJihpKz1gLSR7cn1gKSxuJiYoaSs9YC0ke259YCksaX1mdW5jdGlvbiBBdCgpe3RyeXtyZXR1cm4gZS5jYWNoZXN9Y2F0Y2godCl7fX1mdW5jdGlvbiBTdCh0KXtjb25zdCBlPUF0KCk7ZSYmIV90W3RdJiYoX3RbdF09ZS5vcGVuKHQpKTt9ZnVuY3Rpb24ga3QodCl7Y29uc3QgZT10LmluZGV4T2YoXCI/XCIpO3JldHVybiBlPjA/dC5zbGljZShlKzEpLnNwbGl0KFwiJlwiKTpbXX1mdW5jdGlvbiBJdCh0KXtjb25zdCBlPXQuaW5kZXhPZihcIj9cIik7aWYoZTwwKXJldHVybiB0O2NvbnN0IHI9a3QodCkuZmlsdGVyKCh0PT57Y29uc3QgZT10LnNwbGl0KFwiPVwiKTtyZXR1cm4gXCJsYW5ndWFnZVwiPT09ZVswXXx8XCJ3b3JsZHZpZXdcIj09PWVbMF19KSk7cmV0dXJuIHIubGVuZ3RoP2Ake3Quc2xpY2UoMCxlKX0/JHtyLmpvaW4oXCImXCIpfWA6dC5zbGljZSgwLGUpfWxldCBNdD0xLzA7Y29uc3QgenQ9e1Vua25vd246XCJVbmtub3duXCIsU3R5bGU6XCJTdHlsZVwiLFNvdXJjZTpcIlNvdXJjZVwiLFRpbGU6XCJUaWxlXCIsR2x5cGhzOlwiR2x5cGhzXCIsU3ByaXRlSW1hZ2U6XCJTcHJpdGVJbWFnZVwiLFNwcml0ZUpTT046XCJTcHJpdGVKU09OXCIsSW1hZ2U6XCJJbWFnZVwifTtcImZ1bmN0aW9uXCI9PXR5cGVvZiBPYmplY3QuZnJlZXplJiZPYmplY3QuZnJlZXplKHp0KTtjbGFzcyBUdCBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKHQsZSxyKXs0MDE9PT1lJiZzdChyKSYmKHQrPVwiOiB5b3UgbWF5IGhhdmUgcHJvdmlkZWQgYW4gaW52YWxpZCBNYXBib3ggYWNjZXNzIHRva2VuLiBTZWUgaHR0cHM6Ly93d3cubWFwYm94LmNvbS9hcGktZG9jdW1lbnRhdGlvbi8jYWNjZXNzLXRva2Vucy1hbmQtdG9rZW4tc2NvcGVzXCIpLHN1cGVyKHQpLHRoaXMuc3RhdHVzPWUsdGhpcy51cmw9cjt9dG9TdHJpbmcoKXtyZXR1cm4gYCR7dGhpcy5uYW1lfTogJHt0aGlzLm1lc3NhZ2V9ICgke3RoaXMuc3RhdHVzfSk6ICR7dGhpcy51cmx9YH19Y29uc3QgQnQ9RCgpPygpPT5zZWxmLndvcmtlciYmc2VsZi53b3JrZXIucmVmZXJyZXI6KCk9PihcImJsb2I6XCI9PT1lLmxvY2F0aW9uLnByb3RvY29sP2UucGFyZW50OmUpLmxvY2F0aW9uLmhyZWY7Y29uc3QgRXQ9ZnVuY3Rpb24odCxyKXtpZighKC9eZmlsZTovLnRlc3Qobj10LnVybCl8fC9eZmlsZTovLnRlc3QoQnQoKSkmJiEvXlxcdys6Ly50ZXN0KG4pKSl7aWYoZS5mZXRjaCYmZS5SZXF1ZXN0JiZlLkFib3J0Q29udHJvbGxlciYmZS5SZXF1ZXN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eShcInNpZ25hbFwiKSlyZXR1cm4gZnVuY3Rpb24odCxyKXtjb25zdCBuPW5ldyBlLkFib3J0Q29udHJvbGxlcixpPW5ldyBlLlJlcXVlc3QodC51cmwse21ldGhvZDp0Lm1ldGhvZHx8XCJHRVRcIixib2R5OnQuYm9keSxjcmVkZW50aWFsczp0LmNyZWRlbnRpYWxzLGhlYWRlcnM6dC5oZWFkZXJzLHJlZmVycmVyOkJ0KCksc2lnbmFsOm4uc2lnbmFsfSk7bGV0IHM9ITEsYT0hMTtjb25zdCBvPShsPWkudXJsKS5pbmRleE9mKFwic2t1PVwiKT4wJiZzdChsKTt2YXIgbDtcImpzb25cIj09PXQudHlwZSYmaS5oZWFkZXJzLnNldChcIkFjY2VwdFwiLFwiYXBwbGljYXRpb24vanNvblwiKTtjb25zdCB1PShuLHMsbCk9PntpZihhKXJldHVybjtpZihuJiZcIlNlY3VyaXR5RXJyb3JcIiE9PW4ubWVzc2FnZSYmRShuKSxzJiZsKXJldHVybiBjKHMpO2NvbnN0IHU9RGF0ZS5ub3coKTtlLmZldGNoKGkpLnRoZW4oKGU9PntpZihlLm9rKXtjb25zdCB0PW8/ZS5jbG9uZSgpOm51bGw7cmV0dXJuIGMoZSx0LHUpfXJldHVybiByKG5ldyBUdChlLnN0YXR1c1RleHQsZS5zdGF0dXMsdC51cmwpKX0pKS5jYXRjaCgodD0+ezIwIT09dC5jb2RlJiZyKG5ldyBFcnJvcih0Lm1lc3NhZ2UpKTt9KSk7fSxjPShuLG8sbCk9PnsoXCJhcnJheUJ1ZmZlclwiPT09dC50eXBlP24uYXJyYXlCdWZmZXIoKTpcImpzb25cIj09PXQudHlwZT9uLmpzb24oKTpuLnRleHQoKSkudGhlbigodD0+e2F8fChvJiZsJiZmdW5jdGlvbih0LHIsbil7Y29uc3QgaT13dCh0LnVybCk7aWYoU3QoaSksIV90W2ldKXJldHVybjtjb25zdCBzPXtzdGF0dXM6ci5zdGF0dXMsc3RhdHVzVGV4dDpyLnN0YXR1c1RleHQsaGVhZGVyczpuZXcgZS5IZWFkZXJzfTtyLmhlYWRlcnMuZm9yRWFjaCgoKHQsZSk9PnMuaGVhZGVycy5zZXQoZSx0KSkpO2NvbnN0IGE9VihyLmhlYWRlcnMuZ2V0KFwiQ2FjaGUtQ29udHJvbFwiKXx8XCJcIik7aWYoYVtcIm5vLXN0b3JlXCJdKXJldHVybjthW1wibWF4LWFnZVwiXSYmcy5oZWFkZXJzLnNldChcIkV4cGlyZXNcIixuZXcgRGF0ZShuKzFlMyphW1wibWF4LWFnZVwiXSkudG9VVENTdHJpbmcoKSk7Y29uc3Qgbz1zLmhlYWRlcnMuZ2V0KFwiRXhwaXJlc1wiKTtvJiYobmV3IERhdGUobykuZ2V0VGltZSgpLW48NDJlNHx8ZnVuY3Rpb24odCxlKXtpZih2b2lkIDA9PT14dCl0cnl7bmV3IFJlc3BvbnNlKG5ldyBSZWFkYWJsZVN0cmVhbSkseHQ9ITA7fWNhdGNoKHQpe3h0PSExO314dD9lKHQuYm9keSk6dC5ibG9iKCkudGhlbihlKTt9KHIsKHI9Pntjb25zdCBuPW5ldyBlLlJlc3BvbnNlKHIscyk7U3QoaSksX3RbaV0mJl90W2ldLnRoZW4oKGU9PmUucHV0KEl0KHQudXJsKSxuKSkpLmNhdGNoKCh0PT5FKHQubWVzc2FnZSkpKTt9KSkpO30oaSxvLGwpLHM9ITAscihudWxsLHQsbi5oZWFkZXJzLmdldChcIkNhY2hlLUNvbnRyb2xcIiksbi5oZWFkZXJzLmdldChcIkV4cGlyZXNcIikpKTt9KSkuY2F0Y2goKHQ9PnthfHxyKG5ldyBFcnJvcih0Lm1lc3NhZ2UpKTt9KSk7fTtyZXR1cm4gbz9mdW5jdGlvbih0LGUpe2NvbnN0IHI9d3QodC51cmwpO2lmKFN0KHIpLCFfdFtyXSlyZXR1cm4gZShudWxsKTtjb25zdCBuPUl0KHQudXJsKTtfdFtyXS50aGVuKCh0PT57dC5tYXRjaChuKS50aGVuKChyPT57Y29uc3QgaT1mdW5jdGlvbih0KXtpZighdClyZXR1cm4gITE7Y29uc3QgZT1uZXcgRGF0ZSh0LmhlYWRlcnMuZ2V0KFwiRXhwaXJlc1wiKXx8MCkscj1WKHQuaGVhZGVycy5nZXQoXCJDYWNoZS1Db250cm9sXCIpfHxcIlwiKTtyZXR1cm4gZT5EYXRlLm5vdygpJiYhcltcIm5vLWNhY2hlXCJdfShyKTt0LmRlbGV0ZShuKSxpJiZ0LnB1dChuLHIuY2xvbmUoKSksZShudWxsLHIsaSk7fSkpLmNhdGNoKGUpO30pKS5jYXRjaChlKTt9KGksdSk6dShudWxsLG51bGwpLHtjYW5jZWw6KCk9PnthPSEwLHN8fG4uYWJvcnQoKTt9fX0odCxyKTtpZihEKCkmJnNlbGYud29ya2VyJiZzZWxmLndvcmtlci5hY3RvcilyZXR1cm4gc2VsZi53b3JrZXIuYWN0b3Iuc2VuZChcImdldFJlc291cmNlXCIsdCxyLHZvaWQgMCwhMCl9dmFyIG47cmV0dXJuIGZ1bmN0aW9uKHQscil7Y29uc3Qgbj1uZXcgZS5YTUxIdHRwUmVxdWVzdDtuLm9wZW4odC5tZXRob2R8fFwiR0VUXCIsdC51cmwsITApLFwiYXJyYXlCdWZmZXJcIj09PXQudHlwZSYmKG4ucmVzcG9uc2VUeXBlPVwiYXJyYXlidWZmZXJcIik7Zm9yKGNvbnN0IGUgaW4gdC5oZWFkZXJzKW4uc2V0UmVxdWVzdEhlYWRlcihlLHQuaGVhZGVyc1tlXSk7cmV0dXJuIFwianNvblwiPT09dC50eXBlJiYobi5yZXNwb25zZVR5cGU9XCJ0ZXh0XCIsbi5zZXRSZXF1ZXN0SGVhZGVyKFwiQWNjZXB0XCIsXCJhcHBsaWNhdGlvbi9qc29uXCIpKSxuLndpdGhDcmVkZW50aWFscz1cImluY2x1ZGVcIj09PXQuY3JlZGVudGlhbHMsbi5vbmVycm9yPSgpPT57cihuZXcgRXJyb3Iobi5zdGF0dXNUZXh0KSk7fSxuLm9ubG9hZD0oKT0+e2lmKChuLnN0YXR1cz49MjAwJiZuLnN0YXR1czwzMDB8fDA9PT1uLnN0YXR1cykmJm51bGwhPT1uLnJlc3BvbnNlKXtsZXQgZT1uLnJlc3BvbnNlO2lmKFwianNvblwiPT09dC50eXBlKXRyeXtlPUpTT04ucGFyc2Uobi5yZXNwb25zZSk7fWNhdGNoKHQpe3JldHVybiByKHQpfXIobnVsbCxlLG4uZ2V0UmVzcG9uc2VIZWFkZXIoXCJDYWNoZS1Db250cm9sXCIpLG4uZ2V0UmVzcG9uc2VIZWFkZXIoXCJFeHBpcmVzXCIpKTt9ZWxzZSByKG5ldyBUdChuLnN0YXR1c1RleHQsbi5zdGF0dXMsdC51cmwpKTt9LG4uc2VuZCh0LmJvZHkpLHtjYW5jZWw6KCk9Pm4uYWJvcnQoKX19KHQscil9LEN0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIEV0KHYodCx7dHlwZTpcImFycmF5QnVmZmVyXCJ9KSxlKX0sUHQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gRXQodih0LHttZXRob2Q6XCJQT1NUXCJ9KSxlKX0sRHQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gRXQodih0LHttZXRob2Q6XCJHRVRcIn0pLGUpfTtmdW5jdGlvbiBWdCh0KXtjb25zdCByPWUuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7cmV0dXJuIHIuaHJlZj10LHIucHJvdG9jb2w9PT1lLmRvY3VtZW50LmxvY2F0aW9uLnByb3RvY29sJiZyLmhvc3Q9PT1lLmRvY3VtZW50LmxvY2F0aW9uLmhvc3R9Y29uc3QgRnQ9XCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFFQUFBQUJDQVlBQUFBZkZjU0pBQUFBQzBsRVFWUVlWMk5nQUFJQUFBVUFBYXJWeUZFQUFBQUFTVVZPUks1Q1lJST1cIjtsZXQgTHQsUnQ7THQ9W10sUnQ9MDtjb25zdCBVdD1mdW5jdGlvbih0LHIpe2lmKFkuc3VwcG9ydGVkJiYodC5oZWFkZXJzfHwodC5oZWFkZXJzPXt9KSx0LmhlYWRlcnMuYWNjZXB0PVwiaW1hZ2Uvd2VicCwqLypcIiksUnQ+PUguTUFYX1BBUkFMTEVMX0lNQUdFX1JFUVVFU1RTKXtjb25zdCBlPXtyZXF1ZXN0UGFyYW1ldGVyczp0LGNhbGxiYWNrOnIsY2FuY2VsbGVkOiExLGNhbmNlbCgpe3RoaXMuY2FuY2VsbGVkPSEwO319O3JldHVybiBMdC5wdXNoKGUpLGV9UnQrKztsZXQgbj0hMTtjb25zdCBpPSgpPT57aWYoIW4pZm9yKG49ITAsUnQtLTtMdC5sZW5ndGgmJlJ0PEguTUFYX1BBUkFMTEVMX0lNQUdFX1JFUVVFU1RTOyl7Y29uc3QgdD1MdC5zaGlmdCgpLHtyZXF1ZXN0UGFyYW1ldGVyczplLGNhbGxiYWNrOnIsY2FuY2VsbGVkOm59PXQ7bnx8KHQuY2FuY2VsPVV0KGUscikuY2FuY2VsKTt9fSxzPUN0KHQsKCh0LG4scyxhKT0+e2koKSx0P3IodCk6biYmKGUuY3JlYXRlSW1hZ2VCaXRtYXA/ZnVuY3Rpb24odCxyKXtjb25zdCBuPW5ldyBlLkJsb2IoW25ldyBVaW50OEFycmF5KHQpXSx7dHlwZTpcImltYWdlL3BuZ1wifSk7ZS5jcmVhdGVJbWFnZUJpdG1hcChuKS50aGVuKCh0PT57cihudWxsLHQpO30pKS5jYXRjaCgodD0+e3IobmV3IEVycm9yKGBDb3VsZCBub3QgbG9hZCBpbWFnZSBiZWNhdXNlIG9mICR7dC5tZXNzYWdlfS4gUGxlYXNlIG1ha2Ugc3VyZSB0byB1c2UgYSBzdXBwb3J0ZWQgaW1hZ2UgdHlwZSBzdWNoIGFzIFBORyBvciBKUEVHLiBOb3RlIHRoYXQgU1ZHcyBhcmUgbm90IHN1cHBvcnRlZC5gKSk7fSkpO30obiwoKHQsZSk9PnIodCxlLHMsYSkpKTpmdW5jdGlvbih0LHIpe2NvbnN0IG49bmV3IGUuSW1hZ2UsaT1lLlVSTDtuLm9ubG9hZD0oKT0+e3IobnVsbCxuKSxpLnJldm9rZU9iamVjdFVSTChuLnNyYyksbi5vbmxvYWQ9bnVsbCxlLnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKCk9PntuLnNyYz1GdDt9KSk7fSxuLm9uZXJyb3I9KCk9PnIobmV3IEVycm9yKFwiQ291bGQgbm90IGxvYWQgaW1hZ2UuIFBsZWFzZSBtYWtlIHN1cmUgdG8gdXNlIGEgc3VwcG9ydGVkIGltYWdlIHR5cGUgc3VjaCBhcyBQTkcgb3IgSlBFRy4gTm90ZSB0aGF0IFNWR3MgYXJlIG5vdCBzdXBwb3J0ZWQuXCIpKTtjb25zdCBzPW5ldyBlLkJsb2IoW25ldyBVaW50OEFycmF5KHQpXSx7dHlwZTpcImltYWdlL3BuZ1wifSk7bi5zcmM9dC5ieXRlTGVuZ3RoP2kuY3JlYXRlT2JqZWN0VVJMKHMpOkZ0O30obiwoKHQsZSk9PnIodCxlLHMsYSkpKSk7fSkpO3JldHVybiB7Y2FuY2VsOigpPT57cy5jYW5jZWwoKSxpKCk7fX19O2Z1bmN0aW9uIGp0KHQsZSxyKXtyW3RdJiYtMSE9PXJbdF0uaW5kZXhPZihlKXx8KHJbdF09clt0XXx8W10sclt0XS5wdXNoKGUpKTt9ZnVuY3Rpb24gJHQodCxlLHIpe2lmKHImJnJbdF0pe2NvbnN0IG49clt0XS5pbmRleE9mKGUpOy0xIT09biYmclt0XS5zcGxpY2UobiwxKTt9fWNsYXNzIE90e2NvbnN0cnVjdG9yKHQsZT17fSl7dih0aGlzLGUpLHRoaXMudHlwZT10O319Y2xhc3MgcXQgZXh0ZW5kcyBPdHtjb25zdHJ1Y3Rvcih0LGU9e30pe3N1cGVyKFwiZXJyb3JcIix2KHtlcnJvcjp0fSxlKSk7fX1jbGFzcyBOdHtvbih0LGUpe3JldHVybiB0aGlzLl9saXN0ZW5lcnM9dGhpcy5fbGlzdGVuZXJzfHx7fSxqdCh0LGUsdGhpcy5fbGlzdGVuZXJzKSx0aGlzfW9mZih0LGUpe3JldHVybiAkdCh0LGUsdGhpcy5fbGlzdGVuZXJzKSwkdCh0LGUsdGhpcy5fb25lVGltZUxpc3RlbmVycyksdGhpc31vbmNlKHQsZSl7cmV0dXJuIGU/KHRoaXMuX29uZVRpbWVMaXN0ZW5lcnM9dGhpcy5fb25lVGltZUxpc3RlbmVyc3x8e30sanQodCxlLHRoaXMuX29uZVRpbWVMaXN0ZW5lcnMpLHRoaXMpOm5ldyBQcm9taXNlKChlPT50aGlzLm9uY2UodCxlKSkpfWZpcmUodCxlKXtcInN0cmluZ1wiPT10eXBlb2YgdCYmKHQ9bmV3IE90KHQsZXx8e30pKTtjb25zdCByPXQudHlwZTtpZih0aGlzLmxpc3RlbnMocikpe3QudGFyZ2V0PXRoaXM7Y29uc3QgZT10aGlzLl9saXN0ZW5lcnMmJnRoaXMuX2xpc3RlbmVyc1tyXT90aGlzLl9saXN0ZW5lcnNbcl0uc2xpY2UoKTpbXTtmb3IoY29uc3QgciBvZiBlKXIuY2FsbCh0aGlzLHQpO2NvbnN0IG49dGhpcy5fb25lVGltZUxpc3RlbmVycyYmdGhpcy5fb25lVGltZUxpc3RlbmVyc1tyXT90aGlzLl9vbmVUaW1lTGlzdGVuZXJzW3JdLnNsaWNlKCk6W107Zm9yKGNvbnN0IGUgb2YgbikkdChyLGUsdGhpcy5fb25lVGltZUxpc3RlbmVycyksZS5jYWxsKHRoaXMsdCk7Y29uc3QgaT10aGlzLl9ldmVudGVkUGFyZW50O2kmJih2KHQsXCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcy5fZXZlbnRlZFBhcmVudERhdGE/dGhpcy5fZXZlbnRlZFBhcmVudERhdGEoKTp0aGlzLl9ldmVudGVkUGFyZW50RGF0YSksaS5maXJlKHQpKTt9ZWxzZSB0IGluc3RhbmNlb2YgcXQmJmNvbnNvbGUuZXJyb3IodC5lcnJvcik7cmV0dXJuIHRoaXN9bGlzdGVucyh0KXtyZXR1cm4gISEodGhpcy5fbGlzdGVuZXJzJiZ0aGlzLl9saXN0ZW5lcnNbdF0mJnRoaXMuX2xpc3RlbmVyc1t0XS5sZW5ndGg+MHx8dGhpcy5fb25lVGltZUxpc3RlbmVycyYmdGhpcy5fb25lVGltZUxpc3RlbmVyc1t0XSYmdGhpcy5fb25lVGltZUxpc3RlbmVyc1t0XS5sZW5ndGg+MHx8dGhpcy5fZXZlbnRlZFBhcmVudCYmdGhpcy5fZXZlbnRlZFBhcmVudC5saXN0ZW5zKHQpKX1zZXRFdmVudGVkUGFyZW50KHQsZSl7cmV0dXJuIHRoaXMuX2V2ZW50ZWRQYXJlbnQ9dCx0aGlzLl9ldmVudGVkUGFyZW50RGF0YT1lLHRoaXN9fXZhciBHdD1KU09OLnBhcnNlKCd7XCIkdmVyc2lvblwiOjgsXCIkcm9vdFwiOntcInZlcnNpb25cIjp7XCJyZXF1aXJlZFwiOnRydWUsXCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjpbOF19LFwibmFtZVwiOntcInR5cGVcIjpcInN0cmluZ1wifSxcIm1ldGFkYXRhXCI6e1widHlwZVwiOlwiKlwifSxcImNlbnRlclwiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwibnVtYmVyXCJ9LFwiem9vbVwiOntcInR5cGVcIjpcIm51bWJlclwifSxcImJlYXJpbmdcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwicGVyaW9kXCI6MzYwLFwidW5pdHNcIjpcImRlZ3JlZXNcIn0sXCJwaXRjaFwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjAsXCJ1bml0c1wiOlwiZGVncmVlc1wifSxcImxpZ2h0XCI6e1widHlwZVwiOlwibGlnaHRcIn0sXCJ0ZXJyYWluXCI6e1widHlwZVwiOlwidGVycmFpblwifSxcImZvZ1wiOntcInR5cGVcIjpcImZvZ1wifSxcInNvdXJjZXNcIjp7XCJyZXF1aXJlZFwiOnRydWUsXCJ0eXBlXCI6XCJzb3VyY2VzXCJ9LFwic3ByaXRlXCI6e1widHlwZVwiOlwic3RyaW5nXCJ9LFwiZ2x5cGhzXCI6e1widHlwZVwiOlwic3RyaW5nXCJ9LFwidHJhbnNpdGlvblwiOntcInR5cGVcIjpcInRyYW5zaXRpb25cIn0sXCJwcm9qZWN0aW9uXCI6e1widHlwZVwiOlwicHJvamVjdGlvblwifSxcImxheWVyc1wiOntcInJlcXVpcmVkXCI6dHJ1ZSxcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwibGF5ZXJcIn19LFwic291cmNlc1wiOntcIipcIjp7XCJ0eXBlXCI6XCJzb3VyY2VcIn19LFwic291cmNlXCI6W1wic291cmNlX3ZlY3RvclwiLFwic291cmNlX3Jhc3RlclwiLFwic291cmNlX3Jhc3Rlcl9kZW1cIixcInNvdXJjZV9nZW9qc29uXCIsXCJzb3VyY2VfdmlkZW9cIixcInNvdXJjZV9pbWFnZVwiXSxcInNvdXJjZV92ZWN0b3JcIjp7XCJ0eXBlXCI6e1wicmVxdWlyZWRcIjp0cnVlLFwidHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1widmVjdG9yXCI6e319fSxcInVybFwiOntcInR5cGVcIjpcInN0cmluZ1wifSxcInRpbGVzXCI6e1widHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCJzdHJpbmdcIn0sXCJib3VuZHNcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcIm51bWJlclwiLFwibGVuZ3RoXCI6NCxcImRlZmF1bHRcIjpbLTE4MCwtODUuMDUxMTI5LDE4MCw4NS4wNTExMjldfSxcInNjaGVtZVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcInh5elwiOnt9LFwidG1zXCI6e319LFwiZGVmYXVsdFwiOlwieHl6XCJ9LFwibWluem9vbVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjB9LFwibWF4em9vbVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjIyfSxcImF0dHJpYnV0aW9uXCI6e1widHlwZVwiOlwic3RyaW5nXCJ9LFwicHJvbW90ZUlkXCI6e1widHlwZVwiOlwicHJvbW90ZUlkXCJ9LFwidm9sYXRpbGVcIjp7XCJ0eXBlXCI6XCJib29sZWFuXCIsXCJkZWZhdWx0XCI6ZmFsc2V9LFwiKlwiOntcInR5cGVcIjpcIipcIn19LFwic291cmNlX3Jhc3RlclwiOntcInR5cGVcIjp7XCJyZXF1aXJlZFwiOnRydWUsXCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJyYXN0ZXJcIjp7fX19LFwidXJsXCI6e1widHlwZVwiOlwic3RyaW5nXCJ9LFwidGlsZXNcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcInN0cmluZ1wifSxcImJvdW5kc1wiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwibnVtYmVyXCIsXCJsZW5ndGhcIjo0LFwiZGVmYXVsdFwiOlstMTgwLC04NS4wNTExMjksMTgwLDg1LjA1MTEyOV19LFwibWluem9vbVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjB9LFwibWF4em9vbVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjIyfSxcInRpbGVTaXplXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6NTEyLFwidW5pdHNcIjpcInBpeGVsc1wifSxcInNjaGVtZVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcInh5elwiOnt9LFwidG1zXCI6e319LFwiZGVmYXVsdFwiOlwieHl6XCJ9LFwiYXR0cmlidXRpb25cIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIn0sXCJ2b2xhdGlsZVwiOntcInR5cGVcIjpcImJvb2xlYW5cIixcImRlZmF1bHRcIjpmYWxzZX0sXCIqXCI6e1widHlwZVwiOlwiKlwifX0sXCJzb3VyY2VfcmFzdGVyX2RlbVwiOntcInR5cGVcIjp7XCJyZXF1aXJlZFwiOnRydWUsXCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJyYXN0ZXItZGVtXCI6e319fSxcInVybFwiOntcInR5cGVcIjpcInN0cmluZ1wifSxcInRpbGVzXCI6e1widHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCJzdHJpbmdcIn0sXCJib3VuZHNcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcIm51bWJlclwiLFwibGVuZ3RoXCI6NCxcImRlZmF1bHRcIjpbLTE4MCwtODUuMDUxMTI5LDE4MCw4NS4wNTExMjldfSxcIm1pbnpvb21cIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowfSxcIm1heHpvb21cIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoyMn0sXCJ0aWxlU2l6ZVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjUxMixcInVuaXRzXCI6XCJwaXhlbHNcIn0sXCJhdHRyaWJ1dGlvblwiOntcInR5cGVcIjpcInN0cmluZ1wifSxcImVuY29kaW5nXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1widGVycmFyaXVtXCI6e30sXCJtYXBib3hcIjp7fX0sXCJkZWZhdWx0XCI6XCJtYXBib3hcIn0sXCJ2b2xhdGlsZVwiOntcInR5cGVcIjpcImJvb2xlYW5cIixcImRlZmF1bHRcIjpmYWxzZX0sXCIqXCI6e1widHlwZVwiOlwiKlwifX0sXCJzb3VyY2VfZ2VvanNvblwiOntcInR5cGVcIjp7XCJyZXF1aXJlZFwiOnRydWUsXCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJnZW9qc29uXCI6e319fSxcImRhdGFcIjp7XCJ0eXBlXCI6XCIqXCJ9LFwibWF4em9vbVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjE4fSxcImF0dHJpYnV0aW9uXCI6e1widHlwZVwiOlwic3RyaW5nXCJ9LFwiYnVmZmVyXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MTI4LFwibWF4aW11bVwiOjUxMixcIm1pbmltdW1cIjowfSxcImZpbHRlclwiOntcInR5cGVcIjpcIipcIn0sXCJ0b2xlcmFuY2VcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLjM3NX0sXCJjbHVzdGVyXCI6e1widHlwZVwiOlwiYm9vbGVhblwiLFwiZGVmYXVsdFwiOmZhbHNlfSxcImNsdXN0ZXJSYWRpdXNcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjo1MCxcIm1pbmltdW1cIjowfSxcImNsdXN0ZXJNYXhab29tXCI6e1widHlwZVwiOlwibnVtYmVyXCJ9LFwiY2x1c3Rlck1pblBvaW50c1wiOntcInR5cGVcIjpcIm51bWJlclwifSxcImNsdXN0ZXJQcm9wZXJ0aWVzXCI6e1widHlwZVwiOlwiKlwifSxcImxpbmVNZXRyaWNzXCI6e1widHlwZVwiOlwiYm9vbGVhblwiLFwiZGVmYXVsdFwiOmZhbHNlfSxcImdlbmVyYXRlSWRcIjp7XCJ0eXBlXCI6XCJib29sZWFuXCIsXCJkZWZhdWx0XCI6ZmFsc2V9LFwicHJvbW90ZUlkXCI6e1widHlwZVwiOlwicHJvbW90ZUlkXCJ9fSxcInNvdXJjZV92aWRlb1wiOntcInR5cGVcIjp7XCJyZXF1aXJlZFwiOnRydWUsXCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJ2aWRlb1wiOnt9fX0sXCJ1cmxzXCI6e1wicmVxdWlyZWRcIjp0cnVlLFwidHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCJzdHJpbmdcIn0sXCJjb29yZGluYXRlc1wiOntcInJlcXVpcmVkXCI6dHJ1ZSxcInR5cGVcIjpcImFycmF5XCIsXCJsZW5ndGhcIjo0LFwidmFsdWVcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwibGVuZ3RoXCI6MixcInZhbHVlXCI6XCJudW1iZXJcIn19fSxcInNvdXJjZV9pbWFnZVwiOntcInR5cGVcIjp7XCJyZXF1aXJlZFwiOnRydWUsXCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJpbWFnZVwiOnt9fX0sXCJ1cmxcIjp7XCJyZXF1aXJlZFwiOnRydWUsXCJ0eXBlXCI6XCJzdHJpbmdcIn0sXCJjb29yZGluYXRlc1wiOntcInJlcXVpcmVkXCI6dHJ1ZSxcInR5cGVcIjpcImFycmF5XCIsXCJsZW5ndGhcIjo0LFwidmFsdWVcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwibGVuZ3RoXCI6MixcInZhbHVlXCI6XCJudW1iZXJcIn19fSxcImxheWVyXCI6e1wiaWRcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcInJlcXVpcmVkXCI6dHJ1ZX0sXCJ0eXBlXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wiZmlsbFwiOnt9LFwibGluZVwiOnt9LFwic3ltYm9sXCI6e30sXCJjaXJjbGVcIjp7fSxcImhlYXRtYXBcIjp7fSxcImZpbGwtZXh0cnVzaW9uXCI6e30sXCJyYXN0ZXJcIjp7fSxcImhpbGxzaGFkZVwiOnt9LFwiYmFja2dyb3VuZFwiOnt9LFwic2t5XCI6e319LFwicmVxdWlyZWRcIjp0cnVlfSxcIm1ldGFkYXRhXCI6e1widHlwZVwiOlwiKlwifSxcInNvdXJjZVwiOntcInR5cGVcIjpcInN0cmluZ1wifSxcInNvdXJjZS1sYXllclwiOntcInR5cGVcIjpcInN0cmluZ1wifSxcIm1pbnpvb21cIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjI0fSxcIm1heHpvb21cIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjI0fSxcImZpbHRlclwiOntcInR5cGVcIjpcImZpbHRlclwifSxcImxheW91dFwiOntcInR5cGVcIjpcImxheW91dFwifSxcInBhaW50XCI6e1widHlwZVwiOlwicGFpbnRcIn19LFwibGF5b3V0XCI6W1wibGF5b3V0X2ZpbGxcIixcImxheW91dF9saW5lXCIsXCJsYXlvdXRfY2lyY2xlXCIsXCJsYXlvdXRfaGVhdG1hcFwiLFwibGF5b3V0X2ZpbGwtZXh0cnVzaW9uXCIsXCJsYXlvdXRfc3ltYm9sXCIsXCJsYXlvdXRfcmFzdGVyXCIsXCJsYXlvdXRfaGlsbHNoYWRlXCIsXCJsYXlvdXRfYmFja2dyb3VuZFwiLFwibGF5b3V0X3NreVwiXSxcImxheW91dF9iYWNrZ3JvdW5kXCI6e1widmlzaWJpbGl0eVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcInZpc2libGVcIjp7fSxcIm5vbmVcIjp7fX0sXCJkZWZhdWx0XCI6XCJ2aXNpYmxlXCIsXCJwcm9wZXJ0eS10eXBlXCI6XCJjb25zdGFudFwifX0sXCJsYXlvdXRfc2t5XCI6e1widmlzaWJpbGl0eVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcInZpc2libGVcIjp7fSxcIm5vbmVcIjp7fX0sXCJkZWZhdWx0XCI6XCJ2aXNpYmxlXCIsXCJwcm9wZXJ0eS10eXBlXCI6XCJjb25zdGFudFwifX0sXCJsYXlvdXRfZmlsbFwiOntcImZpbGwtc29ydC1rZXlcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwidmlzaWJpbGl0eVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcInZpc2libGVcIjp7fSxcIm5vbmVcIjp7fX0sXCJkZWZhdWx0XCI6XCJ2aXNpYmxlXCIsXCJwcm9wZXJ0eS10eXBlXCI6XCJjb25zdGFudFwifX0sXCJsYXlvdXRfY2lyY2xlXCI6e1wiY2lyY2xlLXNvcnQta2V5XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcInZpc2liaWxpdHlcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJ2aXNpYmxlXCI6e30sXCJub25lXCI6e319LFwiZGVmYXVsdFwiOlwidmlzaWJsZVwiLFwicHJvcGVydHktdHlwZVwiOlwiY29uc3RhbnRcIn19LFwibGF5b3V0X2hlYXRtYXBcIjp7XCJ2aXNpYmlsaXR5XCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1widmlzaWJsZVwiOnt9LFwibm9uZVwiOnt9fSxcImRlZmF1bHRcIjpcInZpc2libGVcIixcInByb3BlcnR5LXR5cGVcIjpcImNvbnN0YW50XCJ9fSxcImxheW91dF9maWxsLWV4dHJ1c2lvblwiOntcInZpc2liaWxpdHlcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJ2aXNpYmxlXCI6e30sXCJub25lXCI6e319LFwiZGVmYXVsdFwiOlwidmlzaWJsZVwiLFwicHJvcGVydHktdHlwZVwiOlwiY29uc3RhbnRcIn0sXCJmaWxsLWV4dHJ1c2lvbi1lZGdlLXJhZGl1c1wiOntcInR5cGVcIjpcIm51bWJlclwiLFwicHJpdmF0ZVwiOnRydWUsXCJkZWZhdWx0XCI6MCxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEsXCJwcm9wZXJ0eS10eXBlXCI6XCJjb25zdGFudFwifX0sXCJsYXlvdXRfbGluZVwiOntcImxpbmUtY2FwXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wiYnV0dFwiOnt9LFwicm91bmRcIjp7fSxcInNxdWFyZVwiOnt9fSxcImRlZmF1bHRcIjpcImJ1dHRcIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwibGluZS1qb2luXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wiYmV2ZWxcIjp7fSxcInJvdW5kXCI6e30sXCJtaXRlclwiOnt9fSxcImRlZmF1bHRcIjpcIm1pdGVyXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImxpbmUtbWl0ZXItbGltaXRcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoyLFwicmVxdWlyZXNcIjpbe1wibGluZS1qb2luXCI6XCJtaXRlclwifV0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJsaW5lLXJvdW5kLWxpbWl0XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MS4wNSxcInJlcXVpcmVzXCI6W3tcImxpbmUtam9pblwiOlwicm91bmRcIn1dLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwibGluZS1zb3J0LWtleVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJ2aXNpYmlsaXR5XCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1widmlzaWJsZVwiOnt9LFwibm9uZVwiOnt9fSxcImRlZmF1bHRcIjpcInZpc2libGVcIixcInByb3BlcnR5LXR5cGVcIjpcImNvbnN0YW50XCJ9fSxcImxheW91dF9zeW1ib2xcIjp7XCJzeW1ib2wtcGxhY2VtZW50XCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wicG9pbnRcIjp7fSxcImxpbmVcIjp7fSxcImxpbmUtY2VudGVyXCI6e319LFwiZGVmYXVsdFwiOlwicG9pbnRcIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJzeW1ib2wtc3BhY2luZ1wiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjI1MCxcIm1pbmltdW1cIjoxLFwidW5pdHNcIjpcInBpeGVsc1wiLFwicmVxdWlyZXNcIjpbe1wic3ltYm9sLXBsYWNlbWVudFwiOlwibGluZVwifV0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJzeW1ib2wtYXZvaWQtZWRnZXNcIjp7XCJ0eXBlXCI6XCJib29sZWFuXCIsXCJkZWZhdWx0XCI6ZmFsc2UsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwic3ltYm9sLXNvcnQta2V5XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcInN5bWJvbC16LW9yZGVyXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wiYXV0b1wiOnt9LFwidmlld3BvcnQteVwiOnt9LFwic291cmNlXCI6e319LFwiZGVmYXVsdFwiOlwiYXV0b1wiLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImljb24tYWxsb3ctb3ZlcmxhcFwiOntcInR5cGVcIjpcImJvb2xlYW5cIixcImRlZmF1bHRcIjpmYWxzZSxcInJlcXVpcmVzXCI6W1wiaWNvbi1pbWFnZVwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJpY29uLWlnbm9yZS1wbGFjZW1lbnRcIjp7XCJ0eXBlXCI6XCJib29sZWFuXCIsXCJkZWZhdWx0XCI6ZmFsc2UsXCJyZXF1aXJlc1wiOltcImljb24taW1hZ2VcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiaWNvbi1vcHRpb25hbFwiOntcInR5cGVcIjpcImJvb2xlYW5cIixcImRlZmF1bHRcIjpmYWxzZSxcInJlcXVpcmVzXCI6W1wiaWNvbi1pbWFnZVwiLFwidGV4dC1maWVsZFwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJpY29uLXJvdGF0aW9uLWFsaWdubWVudFwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcIm1hcFwiOnt9LFwidmlld3BvcnRcIjp7fSxcImF1dG9cIjp7fX0sXCJkZWZhdWx0XCI6XCJhdXRvXCIsXCJyZXF1aXJlc1wiOltcImljb24taW1hZ2VcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiaWNvbi1zaXplXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MSxcIm1pbmltdW1cIjowLFwidW5pdHNcIjpcImZhY3RvciBvZiB0aGUgb3JpZ2luYWwgaWNvbiBzaXplXCIsXCJyZXF1aXJlc1wiOltcImljb24taW1hZ2VcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiaWNvbi10ZXh0LWZpdFwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcIm5vbmVcIjp7fSxcIndpZHRoXCI6e30sXCJoZWlnaHRcIjp7fSxcImJvdGhcIjp7fX0sXCJkZWZhdWx0XCI6XCJub25lXCIsXCJyZXF1aXJlc1wiOltcImljb24taW1hZ2VcIixcInRleHQtZmllbGRcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiaWNvbi10ZXh0LWZpdC1wYWRkaW5nXCI6e1widHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCJudW1iZXJcIixcImxlbmd0aFwiOjQsXCJkZWZhdWx0XCI6WzAsMCwwLDBdLFwidW5pdHNcIjpcInBpeGVsc1wiLFwicmVxdWlyZXNcIjpbXCJpY29uLWltYWdlXCIsXCJ0ZXh0LWZpZWxkXCIse1wiaWNvbi10ZXh0LWZpdFwiOltcImJvdGhcIixcIndpZHRoXCIsXCJoZWlnaHRcIl19XSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImljb24taW1hZ2VcIjp7XCJ0eXBlXCI6XCJyZXNvbHZlZEltYWdlXCIsXCJ0b2tlbnNcIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJpY29uLXJvdGF0ZVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjAsXCJwZXJpb2RcIjozNjAsXCJ1bml0c1wiOlwiZGVncmVlc1wiLFwicmVxdWlyZXNcIjpbXCJpY29uLWltYWdlXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImljb24tcGFkZGluZ1wiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjIsXCJtaW5pbXVtXCI6MCxcInVuaXRzXCI6XCJwaXhlbHNcIixcInJlcXVpcmVzXCI6W1wiaWNvbi1pbWFnZVwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImljb24ta2VlcC11cHJpZ2h0XCI6e1widHlwZVwiOlwiYm9vbGVhblwiLFwiZGVmYXVsdFwiOmZhbHNlLFwicmVxdWlyZXNcIjpbXCJpY29uLWltYWdlXCIse1wiaWNvbi1yb3RhdGlvbi1hbGlnbm1lbnRcIjpcIm1hcFwifSx7XCJzeW1ib2wtcGxhY2VtZW50XCI6W1wibGluZVwiLFwibGluZS1jZW50ZXJcIl19XSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJpY29uLW9mZnNldFwiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwibnVtYmVyXCIsXCJsZW5ndGhcIjoyLFwiZGVmYXVsdFwiOlswLDBdLFwicmVxdWlyZXNcIjpbXCJpY29uLWltYWdlXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImljb24tYW5jaG9yXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wiY2VudGVyXCI6e30sXCJsZWZ0XCI6e30sXCJyaWdodFwiOnt9LFwidG9wXCI6e30sXCJib3R0b21cIjp7fSxcInRvcC1sZWZ0XCI6e30sXCJ0b3AtcmlnaHRcIjp7fSxcImJvdHRvbS1sZWZ0XCI6e30sXCJib3R0b20tcmlnaHRcIjp7fX0sXCJkZWZhdWx0XCI6XCJjZW50ZXJcIixcInJlcXVpcmVzXCI6W1wiaWNvbi1pbWFnZVwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiaWNvbi1waXRjaC1hbGlnbm1lbnRcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJtYXBcIjp7fSxcInZpZXdwb3J0XCI6e30sXCJhdXRvXCI6e319LFwiZGVmYXVsdFwiOlwiYXV0b1wiLFwicmVxdWlyZXNcIjpbXCJpY29uLWltYWdlXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInRleHQtcGl0Y2gtYWxpZ25tZW50XCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wibWFwXCI6e30sXCJ2aWV3cG9ydFwiOnt9LFwiYXV0b1wiOnt9fSxcImRlZmF1bHRcIjpcImF1dG9cIixcInJlcXVpcmVzXCI6W1widGV4dC1maWVsZFwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJ0ZXh0LXJvdGF0aW9uLWFsaWdubWVudFwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcIm1hcFwiOnt9LFwidmlld3BvcnRcIjp7fSxcImF1dG9cIjp7fX0sXCJkZWZhdWx0XCI6XCJhdXRvXCIsXCJyZXF1aXJlc1wiOltcInRleHQtZmllbGRcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwidGV4dC1maWVsZFwiOntcInR5cGVcIjpcImZvcm1hdHRlZFwiLFwiZGVmYXVsdFwiOlwiXCIsXCJ0b2tlbnNcIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJ0ZXh0LWZvbnRcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcInN0cmluZ1wiLFwiZGVmYXVsdFwiOltcIk9wZW4gU2FucyBSZWd1bGFyXCIsXCJBcmlhbCBVbmljb2RlIE1TIFJlZ3VsYXJcIl0sXCJyZXF1aXJlc1wiOltcInRleHQtZmllbGRcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcInRleHQtc2l6ZVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjE2LFwibWluaW11bVwiOjAsXCJ1bml0c1wiOlwicGl4ZWxzXCIsXCJyZXF1aXJlc1wiOltcInRleHQtZmllbGRcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwidGV4dC1tYXgtd2lkdGhcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoxMCxcIm1pbmltdW1cIjowLFwidW5pdHNcIjpcImVtc1wiLFwicmVxdWlyZXNcIjpbXCJ0ZXh0LWZpZWxkXCIse1wic3ltYm9sLXBsYWNlbWVudFwiOltcInBvaW50XCJdfV0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwidGV4dC1saW5lLWhlaWdodFwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjEuMixcInVuaXRzXCI6XCJlbXNcIixcInJlcXVpcmVzXCI6W1widGV4dC1maWVsZFwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJ0ZXh0LWxldHRlci1zcGFjaW5nXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcInVuaXRzXCI6XCJlbXNcIixcInJlcXVpcmVzXCI6W1widGV4dC1maWVsZFwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJ0ZXh0LWp1c3RpZnlcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJhdXRvXCI6e30sXCJsZWZ0XCI6e30sXCJjZW50ZXJcIjp7fSxcInJpZ2h0XCI6e319LFwiZGVmYXVsdFwiOlwiY2VudGVyXCIsXCJyZXF1aXJlc1wiOltcInRleHQtZmllbGRcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcInRleHQtcmFkaWFsLW9mZnNldFwiOntcInR5cGVcIjpcIm51bWJlclwiLFwidW5pdHNcIjpcImVtc1wiLFwiZGVmYXVsdFwiOjAsXCJyZXF1aXJlc1wiOltcInRleHQtZmllbGRcIl0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwiLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX19LFwidGV4dC12YXJpYWJsZS1hbmNob3JcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcImVudW1cIixcInZhbHVlc1wiOntcImNlbnRlclwiOnt9LFwibGVmdFwiOnt9LFwicmlnaHRcIjp7fSxcInRvcFwiOnt9LFwiYm90dG9tXCI6e30sXCJ0b3AtbGVmdFwiOnt9LFwidG9wLXJpZ2h0XCI6e30sXCJib3R0b20tbGVmdFwiOnt9LFwiYm90dG9tLXJpZ2h0XCI6e319LFwicmVxdWlyZXNcIjpbXCJ0ZXh0LWZpZWxkXCIse1wic3ltYm9sLXBsYWNlbWVudFwiOltcInBvaW50XCJdfV0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwidGV4dC1hbmNob3JcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJjZW50ZXJcIjp7fSxcImxlZnRcIjp7fSxcInJpZ2h0XCI6e30sXCJ0b3BcIjp7fSxcImJvdHRvbVwiOnt9LFwidG9wLWxlZnRcIjp7fSxcInRvcC1yaWdodFwiOnt9LFwiYm90dG9tLWxlZnRcIjp7fSxcImJvdHRvbS1yaWdodFwiOnt9fSxcImRlZmF1bHRcIjpcImNlbnRlclwiLFwicmVxdWlyZXNcIjpbXCJ0ZXh0LWZpZWxkXCIse1wiIVwiOlwidGV4dC12YXJpYWJsZS1hbmNob3JcIn1dLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJ0ZXh0LW1heC1hbmdsZVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjQ1LFwidW5pdHNcIjpcImRlZ3JlZXNcIixcInJlcXVpcmVzXCI6W1widGV4dC1maWVsZFwiLHtcInN5bWJvbC1wbGFjZW1lbnRcIjpbXCJsaW5lXCIsXCJsaW5lLWNlbnRlclwiXX1dLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwidGV4dC13cml0aW5nLW1vZGVcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcImVudW1cIixcInZhbHVlc1wiOntcImhvcml6b250YWxcIjp7fSxcInZlcnRpY2FsXCI6e319LFwicmVxdWlyZXNcIjpbXCJ0ZXh0LWZpZWxkXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInRleHQtcm90YXRlXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcInBlcmlvZFwiOjM2MCxcInVuaXRzXCI6XCJkZWdyZWVzXCIsXCJyZXF1aXJlc1wiOltcInRleHQtZmllbGRcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwidGV4dC1wYWRkaW5nXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MixcIm1pbmltdW1cIjowLFwidW5pdHNcIjpcInBpeGVsc1wiLFwicmVxdWlyZXNcIjpbXCJ0ZXh0LWZpZWxkXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwidGV4dC1rZWVwLXVwcmlnaHRcIjp7XCJ0eXBlXCI6XCJib29sZWFuXCIsXCJkZWZhdWx0XCI6dHJ1ZSxcInJlcXVpcmVzXCI6W1widGV4dC1maWVsZFwiLHtcInRleHQtcm90YXRpb24tYWxpZ25tZW50XCI6XCJtYXBcIn0se1wic3ltYm9sLXBsYWNlbWVudFwiOltcImxpbmVcIixcImxpbmUtY2VudGVyXCJdfV0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwidGV4dC10cmFuc2Zvcm1cIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJub25lXCI6e30sXCJ1cHBlcmNhc2VcIjp7fSxcImxvd2VyY2FzZVwiOnt9fSxcImRlZmF1bHRcIjpcIm5vbmVcIixcInJlcXVpcmVzXCI6W1widGV4dC1maWVsZFwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwidGV4dC1vZmZzZXRcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcIm51bWJlclwiLFwidW5pdHNcIjpcImVtc1wiLFwibGVuZ3RoXCI6MixcImRlZmF1bHRcIjpbMCwwXSxcInJlcXVpcmVzXCI6W1widGV4dC1maWVsZFwiLHtcIiFcIjpcInRleHQtcmFkaWFsLW9mZnNldFwifV0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwidGV4dC1hbGxvdy1vdmVybGFwXCI6e1widHlwZVwiOlwiYm9vbGVhblwiLFwiZGVmYXVsdFwiOmZhbHNlLFwicmVxdWlyZXNcIjpbXCJ0ZXh0LWZpZWxkXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInRleHQtaWdub3JlLXBsYWNlbWVudFwiOntcInR5cGVcIjpcImJvb2xlYW5cIixcImRlZmF1bHRcIjpmYWxzZSxcInJlcXVpcmVzXCI6W1widGV4dC1maWVsZFwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJ0ZXh0LW9wdGlvbmFsXCI6e1widHlwZVwiOlwiYm9vbGVhblwiLFwiZGVmYXVsdFwiOmZhbHNlLFwicmVxdWlyZXNcIjpbXCJ0ZXh0LWZpZWxkXCIsXCJpY29uLWltYWdlXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInZpc2liaWxpdHlcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJ2aXNpYmxlXCI6e30sXCJub25lXCI6e319LFwiZGVmYXVsdFwiOlwidmlzaWJsZVwiLFwicHJvcGVydHktdHlwZVwiOlwiY29uc3RhbnRcIn19LFwibGF5b3V0X3Jhc3RlclwiOntcInZpc2liaWxpdHlcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJ2aXNpYmxlXCI6e30sXCJub25lXCI6e319LFwiZGVmYXVsdFwiOlwidmlzaWJsZVwiLFwicHJvcGVydHktdHlwZVwiOlwiY29uc3RhbnRcIn19LFwibGF5b3V0X2hpbGxzaGFkZVwiOntcInZpc2liaWxpdHlcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJ2aXNpYmxlXCI6e30sXCJub25lXCI6e319LFwiZGVmYXVsdFwiOlwidmlzaWJsZVwiLFwicHJvcGVydHktdHlwZVwiOlwiY29uc3RhbnRcIn19LFwiZmlsdGVyXCI6e1widHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCIqXCJ9LFwiZmlsdGVyX3N5bWJvbFwiOntcInR5cGVcIjpcImJvb2xlYW5cIixcImRlZmF1bHRcIjpmYWxzZSxcInRyYW5zaXRpb25cIjpmYWxzZSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwicGl0Y2hcIixcImRpc3RhbmNlLWZyb20tY2VudGVyXCJdfX0sXCJmaWx0ZXJfZmlsbFwiOntcInR5cGVcIjpcImJvb2xlYW5cIixcImRlZmF1bHRcIjpmYWxzZSxcInRyYW5zaXRpb25cIjpmYWxzZSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX19LFwiZmlsdGVyX2xpbmVcIjp7XCJ0eXBlXCI6XCJib29sZWFuXCIsXCJkZWZhdWx0XCI6ZmFsc2UsXCJ0cmFuc2l0aW9uXCI6ZmFsc2UsXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwiLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19fSxcImZpbHRlcl9jaXJjbGVcIjp7XCJ0eXBlXCI6XCJib29sZWFuXCIsXCJkZWZhdWx0XCI6ZmFsc2UsXCJ0cmFuc2l0aW9uXCI6ZmFsc2UsXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwiLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19fSxcImZpbHRlcl9maWxsLWV4dHJ1c2lvblwiOntcInR5cGVcIjpcImJvb2xlYW5cIixcImRlZmF1bHRcIjpmYWxzZSxcInRyYW5zaXRpb25cIjpmYWxzZSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX19LFwiZmlsdGVyX2hlYXRtYXBcIjp7XCJ0eXBlXCI6XCJib29sZWFuXCIsXCJkZWZhdWx0XCI6ZmFsc2UsXCJ0cmFuc2l0aW9uXCI6ZmFsc2UsXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwiLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19fSxcImZpbHRlcl9vcGVyYXRvclwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcIj09XCI6e30sXCIhPVwiOnt9LFwiPlwiOnt9LFwiPj1cIjp7fSxcIjxcIjp7fSxcIjw9XCI6e30sXCJpblwiOnt9LFwiIWluXCI6e30sXCJhbGxcIjp7fSxcImFueVwiOnt9LFwibm9uZVwiOnt9LFwiaGFzXCI6e30sXCIhaGFzXCI6e30sXCJ3aXRoaW5cIjp7fX19LFwiZ2VvbWV0cnlfdHlwZVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcIlBvaW50XCI6e30sXCJMaW5lU3RyaW5nXCI6e30sXCJQb2x5Z29uXCI6e319fSxcImZ1bmN0aW9uXCI6e1wiZXhwcmVzc2lvblwiOntcInR5cGVcIjpcImV4cHJlc3Npb25cIn0sXCJzdG9wc1wiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwiZnVuY3Rpb25fc3RvcFwifSxcImJhc2VcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoxLFwibWluaW11bVwiOjB9LFwicHJvcGVydHlcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImRlZmF1bHRcIjpcIiR6b29tXCJ9LFwidHlwZVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcImlkZW50aXR5XCI6e30sXCJleHBvbmVudGlhbFwiOnt9LFwiaW50ZXJ2YWxcIjp7fSxcImNhdGVnb3JpY2FsXCI6e319LFwiZGVmYXVsdFwiOlwiZXhwb25lbnRpYWxcIn0sXCJjb2xvclNwYWNlXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wicmdiXCI6e30sXCJsYWJcIjp7fSxcImhjbFwiOnt9fSxcImRlZmF1bHRcIjpcInJnYlwifSxcImRlZmF1bHRcIjp7XCJ0eXBlXCI6XCIqXCIsXCJyZXF1aXJlZFwiOmZhbHNlfX0sXCJmdW5jdGlvbl9zdG9wXCI6e1widHlwZVwiOlwiYXJyYXlcIixcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjI0LFwidmFsdWVcIjpbXCJudW1iZXJcIixcImNvbG9yXCJdLFwibGVuZ3RoXCI6Mn0sXCJleHByZXNzaW9uXCI6e1widHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCIqXCIsXCJtaW5pbXVtXCI6MX0sXCJmb2dcIjp7XCJyYW5nZVwiOntcInR5cGVcIjpcImFycmF5XCIsXCJkZWZhdWx0XCI6WzAuNSwxMF0sXCJtaW5pbXVtXCI6LTIwLFwibWF4aW11bVwiOjIwLFwibGVuZ3RoXCI6MixcInZhbHVlXCI6XCJudW1iZXJcIixcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIixcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX19LFwiY29sb3JcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwiLFwiZGVmYXVsdFwiOlwiI2ZmZmZmZlwiLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJ0cmFuc2l0aW9uXCI6dHJ1ZX0sXCJoaWdoLWNvbG9yXCI6e1widHlwZVwiOlwiY29sb3JcIixcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIixcImRlZmF1bHRcIjpcIiMyNDVjZGZcIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwidHJhbnNpdGlvblwiOnRydWV9LFwic3BhY2UtY29sb3JcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwiLFwiZGVmYXVsdFwiOltcImludGVycG9sYXRlXCIsW1wibGluZWFyXCJdLFtcInpvb21cIl0sNCxcIiMwMTBiMTlcIiw3LFwiIzM2N2FiOVwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwidHJhbnNpdGlvblwiOnRydWV9LFwiaG9yaXpvbi1ibGVuZFwiOntcInR5cGVcIjpcIm51bWJlclwiLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwiLFwiZGVmYXVsdFwiOltcImludGVycG9sYXRlXCIsW1wibGluZWFyXCJdLFtcInpvb21cIl0sNCwwLjIsNywwLjFdLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwidHJhbnNpdGlvblwiOnRydWV9LFwic3Rhci1pbnRlbnNpdHlcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIixcImRlZmF1bHRcIjpbXCJpbnRlcnBvbGF0ZVwiLFtcImxpbmVhclwiXSxbXCJ6b29tXCJdLDUsMC4zNSw2LDBdLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwidHJhbnNpdGlvblwiOnRydWV9fSxcImxpZ2h0XCI6e1wiYW5jaG9yXCI6e1widHlwZVwiOlwiZW51bVwiLFwiZGVmYXVsdFwiOlwidmlld3BvcnRcIixcInZhbHVlc1wiOntcIm1hcFwiOnt9LFwidmlld3BvcnRcIjp7fX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCIsXCJ0cmFuc2l0aW9uXCI6ZmFsc2UsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX19LFwicG9zaXRpb25cIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwiZGVmYXVsdFwiOlsxLjE1LDIxMCwzMF0sXCJsZW5ndGhcIjozLFwidmFsdWVcIjpcIm51bWJlclwiLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwiLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfX0sXCJjb2xvclwiOntcInR5cGVcIjpcImNvbG9yXCIsXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCIsXCJkZWZhdWx0XCI6XCIjZmZmZmZmXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInRyYW5zaXRpb25cIjp0cnVlfSxcImludGVuc2l0eVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwiLFwiZGVmYXVsdFwiOjAuNSxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInRyYW5zaXRpb25cIjp0cnVlfX0sXCJwcm9qZWN0aW9uXCI6e1wibmFtZVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcImFsYmVyc1wiOnt9LFwiZXF1YWxFYXJ0aFwiOnt9LFwiZXF1aXJlY3Rhbmd1bGFyXCI6e30sXCJsYW1iZXJ0Q29uZm9ybWFsQ29uaWNcIjp7fSxcIm1lcmNhdG9yXCI6e30sXCJuYXR1cmFsRWFydGhcIjp7fSxcIndpbmtlbFRyaXBlbFwiOnt9LFwiZ2xvYmVcIjp7fX0sXCJkZWZhdWx0XCI6XCJtZXJjYXRvclwiLFwicmVxdWlyZWRcIjp0cnVlfSxcImNlbnRlclwiOntcInR5cGVcIjpcImFycmF5XCIsXCJsZW5ndGhcIjoyLFwidmFsdWVcIjpcIm51bWJlclwiLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwiLFwibWluaW11bVwiOlstMTgwLC05MF0sXCJtYXhpbXVtXCI6WzE4MCw5MF0sXCJ0cmFuc2l0aW9uXCI6ZmFsc2UsXCJyZXF1aXJlc1wiOlt7XCJuYW1lXCI6W1wiYWxiZXJzXCIsXCJsYW1iZXJ0Q29uZm9ybWFsQ29uaWNcIl19XX0sXCJwYXJhbGxlbHNcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwibGVuZ3RoXCI6MixcInZhbHVlXCI6XCJudW1iZXJcIixcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIixcIm1pbmltdW1cIjpbLTkwLC05MF0sXCJtYXhpbXVtXCI6WzkwLDkwXSxcInRyYW5zaXRpb25cIjpmYWxzZSxcInJlcXVpcmVzXCI6W3tcIm5hbWVcIjpbXCJhbGJlcnNcIixcImxhbWJlcnRDb25mb3JtYWxDb25pY1wiXX1dfX0sXCJ0ZXJyYWluXCI6e1wic291cmNlXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJyZXF1aXJlZFwiOnRydWV9LFwiZXhhZ2dlcmF0aW9uXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCIsXCJkZWZhdWx0XCI6MSxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEwMDAsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInRyYW5zaXRpb25cIjp0cnVlLFwicmVxdWlyZXNcIjpbXCJzb3VyY2VcIl19fSxcInBhaW50XCI6W1wicGFpbnRfZmlsbFwiLFwicGFpbnRfbGluZVwiLFwicGFpbnRfY2lyY2xlXCIsXCJwYWludF9oZWF0bWFwXCIsXCJwYWludF9maWxsLWV4dHJ1c2lvblwiLFwicGFpbnRfc3ltYm9sXCIsXCJwYWludF9yYXN0ZXJcIixcInBhaW50X2hpbGxzaGFkZVwiLFwicGFpbnRfYmFja2dyb3VuZFwiLFwicGFpbnRfc2t5XCJdLFwicGFpbnRfZmlsbFwiOntcImZpbGwtYW50aWFsaWFzXCI6e1widHlwZVwiOlwiYm9vbGVhblwiLFwiZGVmYXVsdFwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiZmlsbC1vcGFjaXR5XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MSxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJmaWxsLWNvbG9yXCI6e1widHlwZVwiOlwiY29sb3JcIixcImRlZmF1bHRcIjpcIiMwMDAwMDBcIixcInRyYW5zaXRpb25cIjp0cnVlLFwicmVxdWlyZXNcIjpbe1wiIVwiOlwiZmlsbC1wYXR0ZXJuXCJ9XSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJmaWxsLW91dGxpbmUtY29sb3JcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwidHJhbnNpdGlvblwiOnRydWUsXCJyZXF1aXJlc1wiOlt7XCIhXCI6XCJmaWxsLXBhdHRlcm5cIn0se1wiZmlsbC1hbnRpYWxpYXNcIjp0cnVlfV0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiZmlsbC10cmFuc2xhdGVcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcIm51bWJlclwiLFwibGVuZ3RoXCI6MixcImRlZmF1bHRcIjpbMCwwXSxcInRyYW5zaXRpb25cIjp0cnVlLFwidW5pdHNcIjpcInBpeGVsc1wiLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiZmlsbC10cmFuc2xhdGUtYW5jaG9yXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wibWFwXCI6e30sXCJ2aWV3cG9ydFwiOnt9fSxcImRlZmF1bHRcIjpcIm1hcFwiLFwicmVxdWlyZXNcIjpbXCJmaWxsLXRyYW5zbGF0ZVwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJmaWxsLXBhdHRlcm5cIjp7XCJ0eXBlXCI6XCJyZXNvbHZlZEltYWdlXCIsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImNyb3NzLWZhZGVkLWRhdGEtZHJpdmVuXCJ9fSxcInBhaW50X2ZpbGwtZXh0cnVzaW9uXCI6e1wiZmlsbC1leHRydXNpb24tb3BhY2l0eVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjEsXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjoxLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJmaWxsLWV4dHJ1c2lvbi1jb2xvclwiOntcInR5cGVcIjpcImNvbG9yXCIsXCJkZWZhdWx0XCI6XCIjMDAwMDAwXCIsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcInJlcXVpcmVzXCI6W3tcIiFcIjpcImZpbGwtZXh0cnVzaW9uLXBhdHRlcm5cIn1dLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImZpbGwtZXh0cnVzaW9uLXRyYW5zbGF0ZVwiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwibnVtYmVyXCIsXCJsZW5ndGhcIjoyLFwiZGVmYXVsdFwiOlswLDBdLFwidHJhbnNpdGlvblwiOnRydWUsXCJ1bml0c1wiOlwicGl4ZWxzXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJmaWxsLWV4dHJ1c2lvbi10cmFuc2xhdGUtYW5jaG9yXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wibWFwXCI6e30sXCJ2aWV3cG9ydFwiOnt9fSxcImRlZmF1bHRcIjpcIm1hcFwiLFwicmVxdWlyZXNcIjpbXCJmaWxsLWV4dHJ1c2lvbi10cmFuc2xhdGVcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiZmlsbC1leHRydXNpb24tcGF0dGVyblwiOntcInR5cGVcIjpcInJlc29sdmVkSW1hZ2VcIixcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiY3Jvc3MtZmFkZWQtZGF0YS1kcml2ZW5cIn0sXCJmaWxsLWV4dHJ1c2lvbi1oZWlnaHRcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwibWluaW11bVwiOjAsXCJ1bml0c1wiOlwibWV0ZXJzXCIsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJmaWxsLWV4dHJ1c2lvbi1iYXNlXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcIm1pbmltdW1cIjowLFwidW5pdHNcIjpcIm1ldGVyc1wiLFwidHJhbnNpdGlvblwiOnRydWUsXCJyZXF1aXJlc1wiOltcImZpbGwtZXh0cnVzaW9uLWhlaWdodFwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJmaWxsLWV4dHJ1c2lvbi12ZXJ0aWNhbC1ncmFkaWVudFwiOntcInR5cGVcIjpcImJvb2xlYW5cIixcImRlZmF1bHRcIjp0cnVlLFwidHJhbnNpdGlvblwiOmZhbHNlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImZpbGwtZXh0cnVzaW9uLWFtYmllbnQtb2NjbHVzaW9uLWludGVuc2l0eVwiOntcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIixcInR5cGVcIjpcIm51bWJlclwiLFwicHJpdmF0ZVwiOnRydWUsXCJkZWZhdWx0XCI6MCxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInRyYW5zaXRpb25cIjp0cnVlfSxcImZpbGwtZXh0cnVzaW9uLWFtYmllbnQtb2NjbHVzaW9uLXJhZGl1c1wiOntcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIixcInR5cGVcIjpcIm51bWJlclwiLFwicHJpdmF0ZVwiOnRydWUsXCJkZWZhdWx0XCI6MyxcIm1pbmltdW1cIjowLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJ0cmFuc2l0aW9uXCI6dHJ1ZX19LFwicGFpbnRfbGluZVwiOntcImxpbmUtb3BhY2l0eVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjEsXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjoxLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwibGluZS1jb2xvclwiOntcInR5cGVcIjpcImNvbG9yXCIsXCJkZWZhdWx0XCI6XCIjMDAwMDAwXCIsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcInJlcXVpcmVzXCI6W3tcIiFcIjpcImxpbmUtcGF0dGVyblwifV0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwibGluZS10cmFuc2xhdGVcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcIm51bWJlclwiLFwibGVuZ3RoXCI6MixcImRlZmF1bHRcIjpbMCwwXSxcInRyYW5zaXRpb25cIjp0cnVlLFwidW5pdHNcIjpcInBpeGVsc1wiLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwibGluZS10cmFuc2xhdGUtYW5jaG9yXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wibWFwXCI6e30sXCJ2aWV3cG9ydFwiOnt9fSxcImRlZmF1bHRcIjpcIm1hcFwiLFwicmVxdWlyZXNcIjpbXCJsaW5lLXRyYW5zbGF0ZVwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJsaW5lLXdpZHRoXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MSxcIm1pbmltdW1cIjowLFwidHJhbnNpdGlvblwiOnRydWUsXCJ1bml0c1wiOlwicGl4ZWxzXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwibGluZS1nYXAtd2lkdGhcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwibWluaW11bVwiOjAsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcInVuaXRzXCI6XCJwaXhlbHNcIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJsaW5lLW9mZnNldFwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjAsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcInVuaXRzXCI6XCJwaXhlbHNcIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJsaW5lLWJsdXJcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwibWluaW11bVwiOjAsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcInVuaXRzXCI6XCJwaXhlbHNcIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJsaW5lLWRhc2hhcnJheVwiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwibnVtYmVyXCIsXCJtaW5pbXVtXCI6MCxcInRyYW5zaXRpb25cIjp0cnVlLFwidW5pdHNcIjpcImxpbmUgd2lkdGhzXCIsXCJyZXF1aXJlc1wiOlt7XCIhXCI6XCJsaW5lLXBhdHRlcm5cIn1dLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiY3Jvc3MtZmFkZWQtZGF0YS1kcml2ZW5cIn0sXCJsaW5lLXBhdHRlcm5cIjp7XCJ0eXBlXCI6XCJyZXNvbHZlZEltYWdlXCIsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImNyb3NzLWZhZGVkLWRhdGEtZHJpdmVuXCJ9LFwibGluZS1ncmFkaWVudFwiOntcInR5cGVcIjpcImNvbG9yXCIsXCJ0cmFuc2l0aW9uXCI6ZmFsc2UsXCJyZXF1aXJlc1wiOlt7XCIhXCI6XCJsaW5lLXBhdHRlcm5cIn0se1wic291cmNlXCI6XCJnZW9qc29uXCIsXCJoYXNcIjp7XCJsaW5lTWV0cmljc1wiOnRydWV9fV0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJsaW5lLXByb2dyZXNzXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImNvbG9yLXJhbXBcIn0sXCJsaW5lLXRyaW0tb2Zmc2V0XCI6e1widHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCJudW1iZXJcIixcImxlbmd0aFwiOjIsXCJkZWZhdWx0XCI6WzAsMF0sXCJtaW5pbXVtXCI6WzAsMF0sXCJtYXhpbXVtXCI6WzEsMV0sXCJ0cmFuc2l0aW9uXCI6ZmFsc2UsXCJyZXF1aXJlc1wiOlt7XCJzb3VyY2VcIjpcImdlb2pzb25cIixcImhhc1wiOntcImxpbmVNZXRyaWNzXCI6dHJ1ZX19XSxcInByb3BlcnR5LXR5cGVcIjpcImNvbnN0YW50XCJ9fSxcInBhaW50X2NpcmNsZVwiOntcImNpcmNsZS1yYWRpdXNcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjo1LFwibWluaW11bVwiOjAsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcInVuaXRzXCI6XCJwaXhlbHNcIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJjaXJjbGUtY29sb3JcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwiZGVmYXVsdFwiOlwiIzAwMDAwMFwiLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiY2lyY2xlLWJsdXJcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiY2lyY2xlLW9wYWNpdHlcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoxLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImNpcmNsZS10cmFuc2xhdGVcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcIm51bWJlclwiLFwibGVuZ3RoXCI6MixcImRlZmF1bHRcIjpbMCwwXSxcInRyYW5zaXRpb25cIjp0cnVlLFwidW5pdHNcIjpcInBpeGVsc1wiLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiY2lyY2xlLXRyYW5zbGF0ZS1hbmNob3JcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJtYXBcIjp7fSxcInZpZXdwb3J0XCI6e319LFwiZGVmYXVsdFwiOlwibWFwXCIsXCJyZXF1aXJlc1wiOltcImNpcmNsZS10cmFuc2xhdGVcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiY2lyY2xlLXBpdGNoLXNjYWxlXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wibWFwXCI6e30sXCJ2aWV3cG9ydFwiOnt9fSxcImRlZmF1bHRcIjpcIm1hcFwiLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImNpcmNsZS1waXRjaC1hbGlnbm1lbnRcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJtYXBcIjp7fSxcInZpZXdwb3J0XCI6e319LFwiZGVmYXVsdFwiOlwidmlld3BvcnRcIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJjaXJjbGUtc3Ryb2tlLXdpZHRoXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcIm1pbmltdW1cIjowLFwidHJhbnNpdGlvblwiOnRydWUsXCJ1bml0c1wiOlwicGl4ZWxzXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiY2lyY2xlLXN0cm9rZS1jb2xvclwiOntcInR5cGVcIjpcImNvbG9yXCIsXCJkZWZhdWx0XCI6XCIjMDAwMDAwXCIsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJjaXJjbGUtc3Ryb2tlLW9wYWNpdHlcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoxLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifX0sXCJwYWludF9oZWF0bWFwXCI6e1wiaGVhdG1hcC1yYWRpdXNcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjozMCxcIm1pbmltdW1cIjoxLFwidHJhbnNpdGlvblwiOnRydWUsXCJ1bml0c1wiOlwicGl4ZWxzXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiaGVhdG1hcC13ZWlnaHRcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoxLFwibWluaW11bVwiOjAsXCJ0cmFuc2l0aW9uXCI6ZmFsc2UsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiaGVhdG1hcC1pbnRlbnNpdHlcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoxLFwibWluaW11bVwiOjAsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImhlYXRtYXAtY29sb3JcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwiZGVmYXVsdFwiOltcImludGVycG9sYXRlXCIsW1wibGluZWFyXCJdLFtcImhlYXRtYXAtZGVuc2l0eVwiXSwwLFwicmdiYSgwLCAwLCAyNTUsIDApXCIsMC4xLFwicm95YWxibHVlXCIsMC4zLFwiY3lhblwiLDAuNSxcImxpbWVcIiwwLjcsXCJ5ZWxsb3dcIiwxLFwicmVkXCJdLFwidHJhbnNpdGlvblwiOmZhbHNlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiaGVhdG1hcC1kZW5zaXR5XCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImNvbG9yLXJhbXBcIn0sXCJoZWF0bWFwLW9wYWNpdHlcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoxLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9fSxcInBhaW50X3N5bWJvbFwiOntcImljb24tb3BhY2l0eVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjEsXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjoxLFwidHJhbnNpdGlvblwiOnRydWUsXCJyZXF1aXJlc1wiOltcImljb24taW1hZ2VcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiaWNvbi1jb2xvclwiOntcInR5cGVcIjpcImNvbG9yXCIsXCJkZWZhdWx0XCI6XCIjMDAwMDAwXCIsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcInJlcXVpcmVzXCI6W1wiaWNvbi1pbWFnZVwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJpY29uLWhhbG8tY29sb3JcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwiZGVmYXVsdFwiOlwicmdiYSgwLCAwLCAwLCAwKVwiLFwidHJhbnNpdGlvblwiOnRydWUsXCJyZXF1aXJlc1wiOltcImljb24taW1hZ2VcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiaWNvbi1oYWxvLXdpZHRoXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcIm1pbmltdW1cIjowLFwidHJhbnNpdGlvblwiOnRydWUsXCJ1bml0c1wiOlwicGl4ZWxzXCIsXCJyZXF1aXJlc1wiOltcImljb24taW1hZ2VcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiaWNvbi1oYWxvLWJsdXJcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwibWluaW11bVwiOjAsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcInVuaXRzXCI6XCJwaXhlbHNcIixcInJlcXVpcmVzXCI6W1wiaWNvbi1pbWFnZVwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJpY29uLXRyYW5zbGF0ZVwiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwibnVtYmVyXCIsXCJsZW5ndGhcIjoyLFwiZGVmYXVsdFwiOlswLDBdLFwidHJhbnNpdGlvblwiOnRydWUsXCJ1bml0c1wiOlwicGl4ZWxzXCIsXCJyZXF1aXJlc1wiOltcImljb24taW1hZ2VcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJpY29uLXRyYW5zbGF0ZS1hbmNob3JcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJtYXBcIjp7fSxcInZpZXdwb3J0XCI6e319LFwiZGVmYXVsdFwiOlwibWFwXCIsXCJyZXF1aXJlc1wiOltcImljb24taW1hZ2VcIixcImljb24tdHJhbnNsYXRlXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInRleHQtb3BhY2l0eVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjEsXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjoxLFwidHJhbnNpdGlvblwiOnRydWUsXCJyZXF1aXJlc1wiOltcInRleHQtZmllbGRcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwidGV4dC1jb2xvclwiOntcInR5cGVcIjpcImNvbG9yXCIsXCJkZWZhdWx0XCI6XCIjMDAwMDAwXCIsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcIm92ZXJyaWRhYmxlXCI6dHJ1ZSxcInJlcXVpcmVzXCI6W1widGV4dC1maWVsZFwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJ0ZXh0LWhhbG8tY29sb3JcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwiZGVmYXVsdFwiOlwicmdiYSgwLCAwLCAwLCAwKVwiLFwidHJhbnNpdGlvblwiOnRydWUsXCJyZXF1aXJlc1wiOltcInRleHQtZmllbGRcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwidGV4dC1oYWxvLXdpZHRoXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcIm1pbmltdW1cIjowLFwidHJhbnNpdGlvblwiOnRydWUsXCJ1bml0c1wiOlwicGl4ZWxzXCIsXCJyZXF1aXJlc1wiOltcInRleHQtZmllbGRcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwidGV4dC1oYWxvLWJsdXJcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwibWluaW11bVwiOjAsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcInVuaXRzXCI6XCJwaXhlbHNcIixcInJlcXVpcmVzXCI6W1widGV4dC1maWVsZFwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJ0ZXh0LXRyYW5zbGF0ZVwiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwibnVtYmVyXCIsXCJsZW5ndGhcIjoyLFwiZGVmYXVsdFwiOlswLDBdLFwidHJhbnNpdGlvblwiOnRydWUsXCJ1bml0c1wiOlwicGl4ZWxzXCIsXCJyZXF1aXJlc1wiOltcInRleHQtZmllbGRcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJ0ZXh0LXRyYW5zbGF0ZS1hbmNob3JcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJtYXBcIjp7fSxcInZpZXdwb3J0XCI6e319LFwiZGVmYXVsdFwiOlwibWFwXCIsXCJyZXF1aXJlc1wiOltcInRleHQtZmllbGRcIixcInRleHQtdHJhbnNsYXRlXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifX0sXCJwYWludF9yYXN0ZXJcIjp7XCJyYXN0ZXItb3BhY2l0eVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjEsXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjoxLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJyYXN0ZXItaHVlLXJvdGF0ZVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjAsXCJwZXJpb2RcIjozNjAsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcInVuaXRzXCI6XCJkZWdyZWVzXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJyYXN0ZXItYnJpZ2h0bmVzcy1taW5cIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwicmFzdGVyLWJyaWdodG5lc3MtbWF4XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MSxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInJhc3Rlci1zYXR1cmF0aW9uXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcIm1pbmltdW1cIjotMSxcIm1heGltdW1cIjoxLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJyYXN0ZXItY29udHJhc3RcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwibWluaW11bVwiOi0xLFwibWF4aW11bVwiOjEsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInJhc3Rlci1yZXNhbXBsaW5nXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wibGluZWFyXCI6e30sXCJuZWFyZXN0XCI6e319LFwiZGVmYXVsdFwiOlwibGluZWFyXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwicmFzdGVyLWZhZGUtZHVyYXRpb25cIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjozMDAsXCJtaW5pbXVtXCI6MCxcInRyYW5zaXRpb25cIjpmYWxzZSxcInVuaXRzXCI6XCJtaWxsaXNlY29uZHNcIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifX0sXCJwYWludF9oaWxsc2hhZGVcIjp7XCJoaWxsc2hhZGUtaWxsdW1pbmF0aW9uLWRpcmVjdGlvblwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjMzNSxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjM1OSxcInRyYW5zaXRpb25cIjpmYWxzZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImhpbGxzaGFkZS1pbGx1bWluYXRpb24tYW5jaG9yXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wibWFwXCI6e30sXCJ2aWV3cG9ydFwiOnt9fSxcImRlZmF1bHRcIjpcInZpZXdwb3J0XCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiaGlsbHNoYWRlLWV4YWdnZXJhdGlvblwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjAuNSxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImhpbGxzaGFkZS1zaGFkb3ctY29sb3JcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwiZGVmYXVsdFwiOlwiIzAwMDAwMFwiLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJoaWxsc2hhZGUtaGlnaGxpZ2h0LWNvbG9yXCI6e1widHlwZVwiOlwiY29sb3JcIixcImRlZmF1bHRcIjpcIiNGRkZGRkZcIixcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiaGlsbHNoYWRlLWFjY2VudC1jb2xvclwiOntcInR5cGVcIjpcImNvbG9yXCIsXCJkZWZhdWx0XCI6XCIjMDAwMDAwXCIsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifX0sXCJwYWludF9iYWNrZ3JvdW5kXCI6e1wiYmFja2dyb3VuZC1jb2xvclwiOntcInR5cGVcIjpcImNvbG9yXCIsXCJkZWZhdWx0XCI6XCIjMDAwMDAwXCIsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcInJlcXVpcmVzXCI6W3tcIiFcIjpcImJhY2tncm91bmQtcGF0dGVyblwifV0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJiYWNrZ3JvdW5kLXBhdHRlcm5cIjp7XCJ0eXBlXCI6XCJyZXNvbHZlZEltYWdlXCIsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImNyb3NzLWZhZGVkXCJ9LFwiYmFja2dyb3VuZC1vcGFjaXR5XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MSxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifX0sXCJwYWludF9za3lcIjp7XCJza3ktdHlwZVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcImdyYWRpZW50XCI6e30sXCJhdG1vc3BoZXJlXCI6e319LFwiZGVmYXVsdFwiOlwiYXRtb3NwaGVyZVwiLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInNreS1hdG1vc3BoZXJlLXN1blwiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwibnVtYmVyXCIsXCJsZW5ndGhcIjoyLFwidW5pdHNcIjpcImRlZ3JlZXNcIixcIm1pbmltdW1cIjpbMCwwXSxcIm1heGltdW1cIjpbMzYwLDE4MF0sXCJ0cmFuc2l0aW9uXCI6ZmFsc2UsXCJyZXF1aXJlc1wiOlt7XCJza3ktdHlwZVwiOlwiYXRtb3NwaGVyZVwifV0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwic2t5LWF0bW9zcGhlcmUtc3VuLWludGVuc2l0eVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwicmVxdWlyZXNcIjpbe1wic2t5LXR5cGVcIjpcImF0bW9zcGhlcmVcIn1dLFwiZGVmYXVsdFwiOjEwLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MTAwLFwidHJhbnNpdGlvblwiOmZhbHNlLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInNreS1ncmFkaWVudC1jZW50ZXJcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwicmVxdWlyZXNcIjpbe1wic2t5LXR5cGVcIjpcImdyYWRpZW50XCJ9XSxcInZhbHVlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjpbMCwwXSxcImxlbmd0aFwiOjIsXCJ1bml0c1wiOlwiZGVncmVlc1wiLFwibWluaW11bVwiOlswLDBdLFwibWF4aW11bVwiOlszNjAsMTgwXSxcInRyYW5zaXRpb25cIjpmYWxzZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJza3ktZ3JhZGllbnQtcmFkaXVzXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJyZXF1aXJlc1wiOlt7XCJza3ktdHlwZVwiOlwiZ3JhZGllbnRcIn1dLFwiZGVmYXVsdFwiOjkwLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MTgwLFwidHJhbnNpdGlvblwiOmZhbHNlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInNreS1ncmFkaWVudFwiOntcInR5cGVcIjpcImNvbG9yXCIsXCJkZWZhdWx0XCI6W1wiaW50ZXJwb2xhdGVcIixbXCJsaW5lYXJcIl0sW1wic2t5LXJhZGlhbC1wcm9ncmVzc1wiXSwwLjgsXCIjODdjZWViXCIsMSxcIndoaXRlXCJdLFwidHJhbnNpdGlvblwiOmZhbHNlLFwicmVxdWlyZXNcIjpbe1wic2t5LXR5cGVcIjpcImdyYWRpZW50XCJ9XSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInNreS1yYWRpYWwtcHJvZ3Jlc3NcIl19LFwicHJvcGVydHktdHlwZVwiOlwiY29sb3ItcmFtcFwifSxcInNreS1hdG1vc3BoZXJlLWhhbG8tY29sb3JcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwiZGVmYXVsdFwiOlwid2hpdGVcIixcInRyYW5zaXRpb25cIjpmYWxzZSxcInJlcXVpcmVzXCI6W3tcInNreS10eXBlXCI6XCJhdG1vc3BoZXJlXCJ9XSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJza3ktYXRtb3NwaGVyZS1jb2xvclwiOntcInR5cGVcIjpcImNvbG9yXCIsXCJkZWZhdWx0XCI6XCJ3aGl0ZVwiLFwidHJhbnNpdGlvblwiOmZhbHNlLFwicmVxdWlyZXNcIjpbe1wic2t5LXR5cGVcIjpcImF0bW9zcGhlcmVcIn1dLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInNreS1vcGFjaXR5XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MSxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifX0sXCJ0cmFuc2l0aW9uXCI6e1wiZHVyYXRpb25cIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjozMDAsXCJtaW5pbXVtXCI6MCxcInVuaXRzXCI6XCJtaWxsaXNlY29uZHNcIn0sXCJkZWxheVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjAsXCJtaW5pbXVtXCI6MCxcInVuaXRzXCI6XCJtaWxsaXNlY29uZHNcIn19LFwicHJvcGVydHktdHlwZVwiOntcImRhdGEtZHJpdmVuXCI6e1widHlwZVwiOlwicHJvcGVydHktdHlwZVwifSxcImNyb3NzLWZhZGVkXCI6e1widHlwZVwiOlwicHJvcGVydHktdHlwZVwifSxcImNyb3NzLWZhZGVkLWRhdGEtZHJpdmVuXCI6e1widHlwZVwiOlwicHJvcGVydHktdHlwZVwifSxcImNvbG9yLXJhbXBcIjp7XCJ0eXBlXCI6XCJwcm9wZXJ0eS10eXBlXCJ9LFwiZGF0YS1jb25zdGFudFwiOntcInR5cGVcIjpcInByb3BlcnR5LXR5cGVcIn0sXCJjb25zdGFudFwiOntcInR5cGVcIjpcInByb3BlcnR5LXR5cGVcIn19LFwicHJvbW90ZUlkXCI6e1wiKlwiOntcInR5cGVcIjpcInN0cmluZ1wifX19Jyk7ZnVuY3Rpb24gWnQodCwuLi5lKXtmb3IoY29uc3QgciBvZiBlKWZvcihjb25zdCBlIGluIHIpdFtlXT1yW2VdO3JldHVybiB0fWZ1bmN0aW9uIFh0KHQpe3JldHVybiB0IGluc3RhbmNlb2YgTnVtYmVyfHx0IGluc3RhbmNlb2YgU3RyaW5nfHx0IGluc3RhbmNlb2YgQm9vbGVhbj90LnZhbHVlT2YoKTp0fWZ1bmN0aW9uIEt0KHQpe2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIHQubWFwKEt0KTtpZih0IGluc3RhbmNlb2YgT2JqZWN0JiYhKHQgaW5zdGFuY2VvZiBOdW1iZXJ8fHQgaW5zdGFuY2VvZiBTdHJpbmd8fHQgaW5zdGFuY2VvZiBCb29sZWFuKSl7Y29uc3QgZT17fTtmb3IoY29uc3QgciBpbiB0KWVbcl09S3QodFtyXSk7cmV0dXJuIGV9cmV0dXJuIFh0KHQpfWNsYXNzIEh0IGV4dGVuZHMgRXJyb3J7Y29uc3RydWN0b3IodCxlKXtzdXBlcihlKSx0aGlzLm1lc3NhZ2U9ZSx0aGlzLmtleT10O319dmFyIFl0PUh0O2NsYXNzIFd0e2NvbnN0cnVjdG9yKHQsZT1bXSl7dGhpcy5wYXJlbnQ9dCx0aGlzLmJpbmRpbmdzPXt9O2Zvcihjb25zdFt0LHJdb2YgZSl0aGlzLmJpbmRpbmdzW3RdPXI7fWNvbmNhdCh0KXtyZXR1cm4gbmV3IFd0KHRoaXMsdCl9Z2V0KHQpe2lmKHRoaXMuYmluZGluZ3NbdF0pcmV0dXJuIHRoaXMuYmluZGluZ3NbdF07aWYodGhpcy5wYXJlbnQpcmV0dXJuIHRoaXMucGFyZW50LmdldCh0KTt0aHJvdyBuZXcgRXJyb3IoYCR7dH0gbm90IGZvdW5kIGluIHNjb3BlLmApfWhhcyh0KXtyZXR1cm4gISF0aGlzLmJpbmRpbmdzW3RdfHwhIXRoaXMucGFyZW50JiZ0aGlzLnBhcmVudC5oYXModCl9fXZhciBKdD1XdDtjb25zdCBRdD17a2luZDpcIm51bGxcIn0sdGU9e2tpbmQ6XCJudW1iZXJcIn0sZWU9e2tpbmQ6XCJzdHJpbmdcIn0scmU9e2tpbmQ6XCJib29sZWFuXCJ9LG5lPXtraW5kOlwiY29sb3JcIn0saWU9e2tpbmQ6XCJvYmplY3RcIn0sc2U9e2tpbmQ6XCJ2YWx1ZVwifSxhZT17a2luZDpcImNvbGxhdG9yXCJ9LG9lPXtraW5kOlwiZm9ybWF0dGVkXCJ9LGxlPXtraW5kOlwicmVzb2x2ZWRJbWFnZVwifTtmdW5jdGlvbiB1ZSh0LGUpe3JldHVybiB7a2luZDpcImFycmF5XCIsaXRlbVR5cGU6dCxOOmV9fWZ1bmN0aW9uIGNlKHQpe2lmKFwiYXJyYXlcIj09PXQua2luZCl7Y29uc3QgZT1jZSh0Lml0ZW1UeXBlKTtyZXR1cm4gXCJudW1iZXJcIj09dHlwZW9mIHQuTj9gYXJyYXk8JHtlfSwgJHt0Lk59PmA6XCJ2YWx1ZVwiPT09dC5pdGVtVHlwZS5raW5kP1wiYXJyYXlcIjpgYXJyYXk8JHtlfT5gfXJldHVybiB0LmtpbmR9Y29uc3QgaGU9W1F0LHRlLGVlLHJlLG5lLG9lLGllLHVlKHNlKSxsZV07ZnVuY3Rpb24gcGUodCxlKXtpZihcImVycm9yXCI9PT1lLmtpbmQpcmV0dXJuIG51bGw7aWYoXCJhcnJheVwiPT09dC5raW5kKXtpZihcImFycmF5XCI9PT1lLmtpbmQmJigwPT09ZS5OJiZcInZhbHVlXCI9PT1lLml0ZW1UeXBlLmtpbmR8fCFwZSh0Lml0ZW1UeXBlLGUuaXRlbVR5cGUpKSYmKFwibnVtYmVyXCIhPXR5cGVvZiB0Lk58fHQuTj09PWUuTikpcmV0dXJuIG51bGx9ZWxzZSB7aWYodC5raW5kPT09ZS5raW5kKXJldHVybiBudWxsO2lmKFwidmFsdWVcIj09PXQua2luZClmb3IoY29uc3QgdCBvZiBoZSlpZighcGUodCxlKSlyZXR1cm4gbnVsbH1yZXR1cm4gYEV4cGVjdGVkICR7Y2UodCl9IGJ1dCBmb3VuZCAke2NlKGUpfSBpbnN0ZWFkLmB9ZnVuY3Rpb24gZmUodCxlKXtyZXR1cm4gZS5zb21lKChlPT5lLmtpbmQ9PT10LmtpbmQpKX1mdW5jdGlvbiBkZSh0LGUpe3JldHVybiBlLnNvbWUoKGU9PlwibnVsbFwiPT09ZT9udWxsPT09dDpcImFycmF5XCI9PT1lP0FycmF5LmlzQXJyYXkodCk6XCJvYmplY3RcIj09PWU/dCYmIUFycmF5LmlzQXJyYXkodCkmJlwib2JqZWN0XCI9PXR5cGVvZiB0OmU9PT10eXBlb2YgdCkpfWZ1bmN0aW9uIHllKHQpe3ZhciBlPXtleHBvcnRzOnt9fTtyZXR1cm4gdChlLGUuZXhwb3J0cyksZS5leHBvcnRzfXZhciBtZT15ZSgoZnVuY3Rpb24odCxlKXt2YXIgcj17dHJhbnNwYXJlbnQ6WzAsMCwwLDBdLGFsaWNlYmx1ZTpbMjQwLDI0OCwyNTUsMV0sYW50aXF1ZXdoaXRlOlsyNTAsMjM1LDIxNSwxXSxhcXVhOlswLDI1NSwyNTUsMV0sYXF1YW1hcmluZTpbMTI3LDI1NSwyMTIsMV0sYXp1cmU6WzI0MCwyNTUsMjU1LDFdLGJlaWdlOlsyNDUsMjQ1LDIyMCwxXSxiaXNxdWU6WzI1NSwyMjgsMTk2LDFdLGJsYWNrOlswLDAsMCwxXSxibGFuY2hlZGFsbW9uZDpbMjU1LDIzNSwyMDUsMV0sYmx1ZTpbMCwwLDI1NSwxXSxibHVldmlvbGV0OlsxMzgsNDMsMjI2LDFdLGJyb3duOlsxNjUsNDIsNDIsMV0sYnVybHl3b29kOlsyMjIsMTg0LDEzNSwxXSxjYWRldGJsdWU6Wzk1LDE1OCwxNjAsMV0sY2hhcnRyZXVzZTpbMTI3LDI1NSwwLDFdLGNob2NvbGF0ZTpbMjEwLDEwNSwzMCwxXSxjb3JhbDpbMjU1LDEyNyw4MCwxXSxjb3JuZmxvd2VyYmx1ZTpbMTAwLDE0OSwyMzcsMV0sY29ybnNpbGs6WzI1NSwyNDgsMjIwLDFdLGNyaW1zb246WzIyMCwyMCw2MCwxXSxjeWFuOlswLDI1NSwyNTUsMV0sZGFya2JsdWU6WzAsMCwxMzksMV0sZGFya2N5YW46WzAsMTM5LDEzOSwxXSxkYXJrZ29sZGVucm9kOlsxODQsMTM0LDExLDFdLGRhcmtncmF5OlsxNjksMTY5LDE2OSwxXSxkYXJrZ3JlZW46WzAsMTAwLDAsMV0sZGFya2dyZXk6WzE2OSwxNjksMTY5LDFdLGRhcmtraGFraTpbMTg5LDE4MywxMDcsMV0sZGFya21hZ2VudGE6WzEzOSwwLDEzOSwxXSxkYXJrb2xpdmVncmVlbjpbODUsMTA3LDQ3LDFdLGRhcmtvcmFuZ2U6WzI1NSwxNDAsMCwxXSxkYXJrb3JjaGlkOlsxNTMsNTAsMjA0LDFdLGRhcmtyZWQ6WzEzOSwwLDAsMV0sZGFya3NhbG1vbjpbMjMzLDE1MCwxMjIsMV0sZGFya3NlYWdyZWVuOlsxNDMsMTg4LDE0MywxXSxkYXJrc2xhdGVibHVlOls3Miw2MSwxMzksMV0sZGFya3NsYXRlZ3JheTpbNDcsNzksNzksMV0sZGFya3NsYXRlZ3JleTpbNDcsNzksNzksMV0sZGFya3R1cnF1b2lzZTpbMCwyMDYsMjA5LDFdLGRhcmt2aW9sZXQ6WzE0OCwwLDIxMSwxXSxkZWVwcGluazpbMjU1LDIwLDE0NywxXSxkZWVwc2t5Ymx1ZTpbMCwxOTEsMjU1LDFdLGRpbWdyYXk6WzEwNSwxMDUsMTA1LDFdLGRpbWdyZXk6WzEwNSwxMDUsMTA1LDFdLGRvZGdlcmJsdWU6WzMwLDE0NCwyNTUsMV0sZmlyZWJyaWNrOlsxNzgsMzQsMzQsMV0sZmxvcmFsd2hpdGU6WzI1NSwyNTAsMjQwLDFdLGZvcmVzdGdyZWVuOlszNCwxMzksMzQsMV0sZnVjaHNpYTpbMjU1LDAsMjU1LDFdLGdhaW5zYm9ybzpbMjIwLDIyMCwyMjAsMV0sZ2hvc3R3aGl0ZTpbMjQ4LDI0OCwyNTUsMV0sZ29sZDpbMjU1LDIxNSwwLDFdLGdvbGRlbnJvZDpbMjE4LDE2NSwzMiwxXSxncmF5OlsxMjgsMTI4LDEyOCwxXSxncmVlbjpbMCwxMjgsMCwxXSxncmVlbnllbGxvdzpbMTczLDI1NSw0NywxXSxncmV5OlsxMjgsMTI4LDEyOCwxXSxob25leWRldzpbMjQwLDI1NSwyNDAsMV0saG90cGluazpbMjU1LDEwNSwxODAsMV0saW5kaWFucmVkOlsyMDUsOTIsOTIsMV0saW5kaWdvOls3NSwwLDEzMCwxXSxpdm9yeTpbMjU1LDI1NSwyNDAsMV0sa2hha2k6WzI0MCwyMzAsMTQwLDFdLGxhdmVuZGVyOlsyMzAsMjMwLDI1MCwxXSxsYXZlbmRlcmJsdXNoOlsyNTUsMjQwLDI0NSwxXSxsYXduZ3JlZW46WzEyNCwyNTIsMCwxXSxsZW1vbmNoaWZmb246WzI1NSwyNTAsMjA1LDFdLGxpZ2h0Ymx1ZTpbMTczLDIxNiwyMzAsMV0sbGlnaHRjb3JhbDpbMjQwLDEyOCwxMjgsMV0sbGlnaHRjeWFuOlsyMjQsMjU1LDI1NSwxXSxsaWdodGdvbGRlbnJvZHllbGxvdzpbMjUwLDI1MCwyMTAsMV0sbGlnaHRncmF5OlsyMTEsMjExLDIxMSwxXSxsaWdodGdyZWVuOlsxNDQsMjM4LDE0NCwxXSxsaWdodGdyZXk6WzIxMSwyMTEsMjExLDFdLGxpZ2h0cGluazpbMjU1LDE4MiwxOTMsMV0sbGlnaHRzYWxtb246WzI1NSwxNjAsMTIyLDFdLGxpZ2h0c2VhZ3JlZW46WzMyLDE3OCwxNzAsMV0sbGlnaHRza3libHVlOlsxMzUsMjA2LDI1MCwxXSxsaWdodHNsYXRlZ3JheTpbMTE5LDEzNiwxNTMsMV0sbGlnaHRzbGF0ZWdyZXk6WzExOSwxMzYsMTUzLDFdLGxpZ2h0c3RlZWxibHVlOlsxNzYsMTk2LDIyMiwxXSxsaWdodHllbGxvdzpbMjU1LDI1NSwyMjQsMV0sbGltZTpbMCwyNTUsMCwxXSxsaW1lZ3JlZW46WzUwLDIwNSw1MCwxXSxsaW5lbjpbMjUwLDI0MCwyMzAsMV0sbWFnZW50YTpbMjU1LDAsMjU1LDFdLG1hcm9vbjpbMTI4LDAsMCwxXSxtZWRpdW1hcXVhbWFyaW5lOlsxMDIsMjA1LDE3MCwxXSxtZWRpdW1ibHVlOlswLDAsMjA1LDFdLG1lZGl1bW9yY2hpZDpbMTg2LDg1LDIxMSwxXSxtZWRpdW1wdXJwbGU6WzE0NywxMTIsMjE5LDFdLG1lZGl1bXNlYWdyZWVuOls2MCwxNzksMTEzLDFdLG1lZGl1bXNsYXRlYmx1ZTpbMTIzLDEwNCwyMzgsMV0sbWVkaXVtc3ByaW5nZ3JlZW46WzAsMjUwLDE1NCwxXSxtZWRpdW10dXJxdW9pc2U6WzcyLDIwOSwyMDQsMV0sbWVkaXVtdmlvbGV0cmVkOlsxOTksMjEsMTMzLDFdLG1pZG5pZ2h0Ymx1ZTpbMjUsMjUsMTEyLDFdLG1pbnRjcmVhbTpbMjQ1LDI1NSwyNTAsMV0sbWlzdHlyb3NlOlsyNTUsMjI4LDIyNSwxXSxtb2NjYXNpbjpbMjU1LDIyOCwxODEsMV0sbmF2YWpvd2hpdGU6WzI1NSwyMjIsMTczLDFdLG5hdnk6WzAsMCwxMjgsMV0sb2xkbGFjZTpbMjUzLDI0NSwyMzAsMV0sb2xpdmU6WzEyOCwxMjgsMCwxXSxvbGl2ZWRyYWI6WzEwNywxNDIsMzUsMV0sb3JhbmdlOlsyNTUsMTY1LDAsMV0sb3JhbmdlcmVkOlsyNTUsNjksMCwxXSxvcmNoaWQ6WzIxOCwxMTIsMjE0LDFdLHBhbGVnb2xkZW5yb2Q6WzIzOCwyMzIsMTcwLDFdLHBhbGVncmVlbjpbMTUyLDI1MSwxNTIsMV0scGFsZXR1cnF1b2lzZTpbMTc1LDIzOCwyMzgsMV0scGFsZXZpb2xldHJlZDpbMjE5LDExMiwxNDcsMV0scGFwYXlhd2hpcDpbMjU1LDIzOSwyMTMsMV0scGVhY2hwdWZmOlsyNTUsMjE4LDE4NSwxXSxwZXJ1OlsyMDUsMTMzLDYzLDFdLHBpbms6WzI1NSwxOTIsMjAzLDFdLHBsdW06WzIyMSwxNjAsMjIxLDFdLHBvd2RlcmJsdWU6WzE3NiwyMjQsMjMwLDFdLHB1cnBsZTpbMTI4LDAsMTI4LDFdLHJlYmVjY2FwdXJwbGU6WzEwMiw1MSwxNTMsMV0scmVkOlsyNTUsMCwwLDFdLHJvc3licm93bjpbMTg4LDE0MywxNDMsMV0scm95YWxibHVlOls2NSwxMDUsMjI1LDFdLHNhZGRsZWJyb3duOlsxMzksNjksMTksMV0sc2FsbW9uOlsyNTAsMTI4LDExNCwxXSxzYW5keWJyb3duOlsyNDQsMTY0LDk2LDFdLHNlYWdyZWVuOls0NiwxMzksODcsMV0sc2Vhc2hlbGw6WzI1NSwyNDUsMjM4LDFdLHNpZW5uYTpbMTYwLDgyLDQ1LDFdLHNpbHZlcjpbMTkyLDE5MiwxOTIsMV0sc2t5Ymx1ZTpbMTM1LDIwNiwyMzUsMV0sc2xhdGVibHVlOlsxMDYsOTAsMjA1LDFdLHNsYXRlZ3JheTpbMTEyLDEyOCwxNDQsMV0sc2xhdGVncmV5OlsxMTIsMTI4LDE0NCwxXSxzbm93OlsyNTUsMjUwLDI1MCwxXSxzcHJpbmdncmVlbjpbMCwyNTUsMTI3LDFdLHN0ZWVsYmx1ZTpbNzAsMTMwLDE4MCwxXSx0YW46WzIxMCwxODAsMTQwLDFdLHRlYWw6WzAsMTI4LDEyOCwxXSx0aGlzdGxlOlsyMTYsMTkxLDIxNiwxXSx0b21hdG86WzI1NSw5OSw3MSwxXSx0dXJxdW9pc2U6WzY0LDIyNCwyMDgsMV0sdmlvbGV0OlsyMzgsMTMwLDIzOCwxXSx3aGVhdDpbMjQ1LDIyMiwxNzksMV0sd2hpdGU6WzI1NSwyNTUsMjU1LDFdLHdoaXRlc21va2U6WzI0NSwyNDUsMjQ1LDFdLHllbGxvdzpbMjU1LDI1NSwwLDFdLHllbGxvd2dyZWVuOlsxNTQsMjA1LDUwLDFdfTtmdW5jdGlvbiBuKHQpe3JldHVybiAodD1NYXRoLnJvdW5kKHQpKTwwPzA6dD4yNTU/MjU1OnR9ZnVuY3Rpb24gaSh0KXtyZXR1cm4gbihcIiVcIj09PXRbdC5sZW5ndGgtMV0/cGFyc2VGbG9hdCh0KS8xMDAqMjU1OnBhcnNlSW50KHQpKX1mdW5jdGlvbiBzKHQpe3JldHVybiAoZT1cIiVcIj09PXRbdC5sZW5ndGgtMV0/cGFyc2VGbG9hdCh0KS8xMDA6cGFyc2VGbG9hdCh0KSk8MD8wOmU+MT8xOmU7dmFyIGU7fWZ1bmN0aW9uIGEodCxlLHIpe3JldHVybiByPDA/cis9MTpyPjEmJihyLT0xKSw2KnI8MT90KyhlLXQpKnIqNjoyKnI8MT9lOjMqcjwyP3QrKGUtdCkqKDIvMy1yKSo2OnR9dHJ5e2UucGFyc2VDU1NDb2xvcj1mdW5jdGlvbih0KXt2YXIgZSxvPXQucmVwbGFjZSgvIC9nLFwiXCIpLnRvTG93ZXJDYXNlKCk7aWYobyBpbiByKXJldHVybiByW29dLnNsaWNlKCk7aWYoXCIjXCI9PT1vWzBdKXJldHVybiA0PT09by5sZW5ndGg/KGU9cGFyc2VJbnQoby5zdWJzdHIoMSksMTYpKT49MCYmZTw9NDA5NT9bKDM4NDAmZSk+PjR8KDM4NDAmZSk+PjgsMjQwJmV8KDI0MCZlKT4+NCwxNSZlfCgxNSZlKTw8NCwxXTpudWxsOjc9PT1vLmxlbmd0aCYmKGU9cGFyc2VJbnQoby5zdWJzdHIoMSksMTYpKT49MCYmZTw9MTY3NzcyMTU/WygxNjcxMTY4MCZlKT4+MTYsKDY1MjgwJmUpPj44LDI1NSZlLDFdOm51bGw7dmFyIGw9by5pbmRleE9mKFwiKFwiKSx1PW8uaW5kZXhPZihcIilcIik7aWYoLTEhPT1sJiZ1KzE9PT1vLmxlbmd0aCl7dmFyIGM9by5zdWJzdHIoMCxsKSxoPW8uc3Vic3RyKGwrMSx1LShsKzEpKS5zcGxpdChcIixcIikscD0xO3N3aXRjaChjKXtjYXNlXCJyZ2JhXCI6aWYoNCE9PWgubGVuZ3RoKXJldHVybiBudWxsO3A9cyhoLnBvcCgpKTtjYXNlXCJyZ2JcIjpyZXR1cm4gMyE9PWgubGVuZ3RoP251bGw6W2koaFswXSksaShoWzFdKSxpKGhbMl0pLHBdO2Nhc2VcImhzbGFcIjppZig0IT09aC5sZW5ndGgpcmV0dXJuIG51bGw7cD1zKGgucG9wKCkpO2Nhc2VcImhzbFwiOmlmKDMhPT1oLmxlbmd0aClyZXR1cm4gbnVsbDt2YXIgZj0ocGFyc2VGbG9hdChoWzBdKSUzNjArMzYwKSUzNjAvMzYwLGQ9cyhoWzFdKSx5PXMoaFsyXSksbT15PD0uNT95KihkKzEpOnkrZC15KmQsZz0yKnktbTtyZXR1cm4gW24oMjU1KmEoZyxtLGYrMS8zKSksbigyNTUqYShnLG0sZikpLG4oMjU1KmEoZyxtLGYtMS8zKSkscF07ZGVmYXVsdDpyZXR1cm4gbnVsbH19cmV0dXJuIG51bGx9O31jYXRjaCh0KXt9fSkpO2NsYXNzIGdle2NvbnN0cnVjdG9yKHQsZSxyLG49MSl7dGhpcy5yPXQsdGhpcy5nPWUsdGhpcy5iPXIsdGhpcy5hPW47fXN0YXRpYyBwYXJzZSh0KXtpZighdClyZXR1cm47aWYodCBpbnN0YW5jZW9mIGdlKXJldHVybiB0O2lmKFwic3RyaW5nXCIhPXR5cGVvZiB0KXJldHVybjtjb25zdCBlPW1lLnBhcnNlQ1NTQ29sb3IodCk7cmV0dXJuIGU/bmV3IGdlKGVbMF0vMjU1KmVbM10sZVsxXS8yNTUqZVszXSxlWzJdLzI1NSplWzNdLGVbM10pOnZvaWQgMH10b1N0cmluZygpe2NvbnN0W3QsZSxyLG5dPXRoaXMudG9BcnJheSgpO3JldHVybiBgcmdiYSgke01hdGgucm91bmQodCl9LCR7TWF0aC5yb3VuZChlKX0sJHtNYXRoLnJvdW5kKHIpfSwke259KWB9dG9BcnJheSgpe2NvbnN0e3I6dCxnOmUsYjpyLGE6bn09dGhpcztyZXR1cm4gMD09PW4/WzAsMCwwLDBdOlsyNTUqdC9uLDI1NSplL24sMjU1KnIvbixuXX10b0FycmF5MDEoKXtjb25zdHtyOnQsZzplLGI6cixhOm59PXRoaXM7cmV0dXJuIDA9PT1uP1swLDAsMCwwXTpbdC9uLGUvbixyL24sbl19dG9BcnJheTAxUHJlbXVsdGlwbGllZEFscGhhKCl7Y29uc3R7cjp0LGc6ZSxiOnIsYTpufT10aGlzO3JldHVybiBbdCxlLHIsbl19fWdlLmJsYWNrPW5ldyBnZSgwLDAsMCwxKSxnZS53aGl0ZT1uZXcgZ2UoMSwxLDEsMSksZ2UudHJhbnNwYXJlbnQ9bmV3IGdlKDAsMCwwLDApLGdlLnJlZD1uZXcgZ2UoMSwwLDAsMSksZ2UuYmx1ZT1uZXcgZ2UoMCwwLDEsMSk7dmFyIHhlPWdlO2NsYXNzIHZle2NvbnN0cnVjdG9yKHQsZSxyKXt0aGlzLnNlbnNpdGl2aXR5PXQ/ZT9cInZhcmlhbnRcIjpcImNhc2VcIjplP1wiYWNjZW50XCI6XCJiYXNlXCIsdGhpcy5sb2NhbGU9cix0aGlzLmNvbGxhdG9yPW5ldyBJbnRsLkNvbGxhdG9yKHRoaXMubG9jYWxlP3RoaXMubG9jYWxlOltdLHtzZW5zaXRpdml0eTp0aGlzLnNlbnNpdGl2aXR5LHVzYWdlOlwic2VhcmNoXCJ9KTt9Y29tcGFyZSh0LGUpe3JldHVybiB0aGlzLmNvbGxhdG9yLmNvbXBhcmUodCxlKX1yZXNvbHZlZExvY2FsZSgpe3JldHVybiBuZXcgSW50bC5Db2xsYXRvcih0aGlzLmxvY2FsZT90aGlzLmxvY2FsZTpbXSkucmVzb2x2ZWRPcHRpb25zKCkubG9jYWxlfX1jbGFzcyBiZXtjb25zdHJ1Y3Rvcih0LGUscixuLGkpe3RoaXMudGV4dD10Lm5vcm1hbGl6ZT90Lm5vcm1hbGl6ZSgpOnQsdGhpcy5pbWFnZT1lLHRoaXMuc2NhbGU9cix0aGlzLmZvbnRTdGFjaz1uLHRoaXMudGV4dENvbG9yPWk7fX1jbGFzcyBfZXtjb25zdHJ1Y3Rvcih0KXt0aGlzLnNlY3Rpb25zPXQ7fXN0YXRpYyBmcm9tU3RyaW5nKHQpe3JldHVybiBuZXcgX2UoW25ldyBiZSh0LG51bGwsbnVsbCxudWxsLG51bGwpXSl9aXNFbXB0eSgpe3JldHVybiAwPT09dGhpcy5zZWN0aW9ucy5sZW5ndGh8fCF0aGlzLnNlY3Rpb25zLnNvbWUoKHQ9PjAhPT10LnRleHQubGVuZ3RofHx0LmltYWdlJiYwIT09dC5pbWFnZS5uYW1lLmxlbmd0aCkpfXN0YXRpYyBmYWN0b3J5KHQpe3JldHVybiB0IGluc3RhbmNlb2YgX2U/dDpfZS5mcm9tU3RyaW5nKHQpfXRvU3RyaW5nKCl7cmV0dXJuIDA9PT10aGlzLnNlY3Rpb25zLmxlbmd0aD9cIlwiOnRoaXMuc2VjdGlvbnMubWFwKCh0PT50LnRleHQpKS5qb2luKFwiXCIpfXNlcmlhbGl6ZSgpe2NvbnN0IHQ9W1wiZm9ybWF0XCJdO2Zvcihjb25zdCBlIG9mIHRoaXMuc2VjdGlvbnMpe2lmKGUuaW1hZ2Upe3QucHVzaChbXCJpbWFnZVwiLGUuaW1hZ2UubmFtZV0pO2NvbnRpbnVlfXQucHVzaChlLnRleHQpO2NvbnN0IHI9e307ZS5mb250U3RhY2smJihyW1widGV4dC1mb250XCJdPVtcImxpdGVyYWxcIixlLmZvbnRTdGFjay5zcGxpdChcIixcIildKSxlLnNjYWxlJiYocltcImZvbnQtc2NhbGVcIl09ZS5zY2FsZSksZS50ZXh0Q29sb3ImJihyW1widGV4dC1jb2xvclwiXT1bXCJyZ2JhXCJdLmNvbmNhdChlLnRleHRDb2xvci50b0FycmF5KCkpKSx0LnB1c2gocik7fXJldHVybiB0fX1jbGFzcyB3ZXtjb25zdHJ1Y3Rvcih0KXt0aGlzLm5hbWU9dC5uYW1lLHRoaXMuYXZhaWxhYmxlPXQuYXZhaWxhYmxlO310b1N0cmluZygpe3JldHVybiB0aGlzLm5hbWV9c3RhdGljIGZyb21TdHJpbmcodCl7cmV0dXJuIHQ/bmV3IHdlKHtuYW1lOnQsYXZhaWxhYmxlOiExfSk6bnVsbH1zZXJpYWxpemUoKXtyZXR1cm4gW1wiaW1hZ2VcIix0aGlzLm5hbWVdfX1mdW5jdGlvbiBBZSh0LGUscixuKXtyZXR1cm4gXCJudW1iZXJcIj09dHlwZW9mIHQmJnQ+PTAmJnQ8PTI1NSYmXCJudW1iZXJcIj09dHlwZW9mIGUmJmU+PTAmJmU8PTI1NSYmXCJudW1iZXJcIj09dHlwZW9mIHImJnI+PTAmJnI8PTI1NT92b2lkIDA9PT1ufHxcIm51bWJlclwiPT10eXBlb2YgbiYmbj49MCYmbjw9MT9udWxsOmBJbnZhbGlkIHJnYmEgdmFsdWUgWyR7W3QsZSxyLG5dLmpvaW4oXCIsIFwiKX1dOiAnYScgbXVzdCBiZSBiZXR3ZWVuIDAgYW5kIDEuYDpgSW52YWxpZCByZ2JhIHZhbHVlIFskeyhcIm51bWJlclwiPT10eXBlb2Ygbj9bdCxlLHIsbl06W3QsZSxyXSkuam9pbihcIiwgXCIpfV06ICdyJywgJ2cnLCBhbmQgJ2InIG11c3QgYmUgYmV0d2VlbiAwIGFuZCAyNTUuYH1mdW5jdGlvbiBTZSh0KXtpZihudWxsPT09dClyZXR1cm4gITA7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpcmV0dXJuICEwO2lmKFwiYm9vbGVhblwiPT10eXBlb2YgdClyZXR1cm4gITA7aWYoXCJudW1iZXJcIj09dHlwZW9mIHQpcmV0dXJuICEwO2lmKHQgaW5zdGFuY2VvZiB4ZSlyZXR1cm4gITA7aWYodCBpbnN0YW5jZW9mIHZlKXJldHVybiAhMDtpZih0IGluc3RhbmNlb2YgX2UpcmV0dXJuICEwO2lmKHQgaW5zdGFuY2VvZiB3ZSlyZXR1cm4gITA7aWYoQXJyYXkuaXNBcnJheSh0KSl7Zm9yKGNvbnN0IGUgb2YgdClpZighU2UoZSkpcmV0dXJuICExO3JldHVybiAhMH1pZihcIm9iamVjdFwiPT10eXBlb2YgdCl7Zm9yKGNvbnN0IGUgaW4gdClpZighU2UodFtlXSkpcmV0dXJuICExO3JldHVybiAhMH1yZXR1cm4gITF9ZnVuY3Rpb24ga2UodCl7aWYobnVsbD09PXQpcmV0dXJuIFF0O2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXJldHVybiBlZTtpZihcImJvb2xlYW5cIj09dHlwZW9mIHQpcmV0dXJuIHJlO2lmKFwibnVtYmVyXCI9PXR5cGVvZiB0KXJldHVybiB0ZTtpZih0IGluc3RhbmNlb2YgeGUpcmV0dXJuIG5lO2lmKHQgaW5zdGFuY2VvZiB2ZSlyZXR1cm4gYWU7aWYodCBpbnN0YW5jZW9mIF9lKXJldHVybiBvZTtpZih0IGluc3RhbmNlb2Ygd2UpcmV0dXJuIGxlO2lmKEFycmF5LmlzQXJyYXkodCkpe2NvbnN0IGU9dC5sZW5ndGg7bGV0IHI7Zm9yKGNvbnN0IGUgb2YgdCl7Y29uc3QgdD1rZShlKTtpZihyKXtpZihyPT09dCljb250aW51ZTtyPXNlO2JyZWFrfXI9dDt9cmV0dXJuIHVlKHJ8fHNlLGUpfXJldHVybiBpZX1mdW5jdGlvbiBJZSh0KXtjb25zdCBlPXR5cGVvZiB0O3JldHVybiBudWxsPT09dD9cIlwiOlwic3RyaW5nXCI9PT1lfHxcIm51bWJlclwiPT09ZXx8XCJib29sZWFuXCI9PT1lP1N0cmluZyh0KTp0IGluc3RhbmNlb2YgeGV8fHQgaW5zdGFuY2VvZiBfZXx8dCBpbnN0YW5jZW9mIHdlP3QudG9TdHJpbmcoKTpKU09OLnN0cmluZ2lmeSh0KX1jbGFzcyBNZXtjb25zdHJ1Y3Rvcih0LGUpe3RoaXMudHlwZT10LHRoaXMudmFsdWU9ZTt9c3RhdGljIHBhcnNlKHQsZSl7aWYoMiE9PXQubGVuZ3RoKXJldHVybiBlLmVycm9yKGAnbGl0ZXJhbCcgZXhwcmVzc2lvbiByZXF1aXJlcyBleGFjdGx5IG9uZSBhcmd1bWVudCwgYnV0IGZvdW5kICR7dC5sZW5ndGgtMX0gaW5zdGVhZC5gKTtpZighU2UodFsxXSkpcmV0dXJuIGUuZXJyb3IoXCJpbnZhbGlkIHZhbHVlXCIpO2NvbnN0IHI9dFsxXTtsZXQgbj1rZShyKTtjb25zdCBpPWUuZXhwZWN0ZWRUeXBlO3JldHVybiBcImFycmF5XCIhPT1uLmtpbmR8fDAhPT1uLk58fCFpfHxcImFycmF5XCIhPT1pLmtpbmR8fFwibnVtYmVyXCI9PXR5cGVvZiBpLk4mJjAhPT1pLk58fChuPWkpLG5ldyBNZShuLHIpfWV2YWx1YXRlKCl7cmV0dXJuIHRoaXMudmFsdWV9ZWFjaENoaWxkKCl7fW91dHB1dERlZmluZWQoKXtyZXR1cm4gITB9c2VyaWFsaXplKCl7cmV0dXJuIFwiYXJyYXlcIj09PXRoaXMudHlwZS5raW5kfHxcIm9iamVjdFwiPT09dGhpcy50eXBlLmtpbmQ/W1wibGl0ZXJhbFwiLHRoaXMudmFsdWVdOnRoaXMudmFsdWUgaW5zdGFuY2VvZiB4ZT9bXCJyZ2JhXCJdLmNvbmNhdCh0aGlzLnZhbHVlLnRvQXJyYXkoKSk6dGhpcy52YWx1ZSBpbnN0YW5jZW9mIF9lP3RoaXMudmFsdWUuc2VyaWFsaXplKCk6dGhpcy52YWx1ZX19dmFyIHplPU1lLFRlPWNsYXNze2NvbnN0cnVjdG9yKHQpe3RoaXMubmFtZT1cIkV4cHJlc3Npb25FdmFsdWF0aW9uRXJyb3JcIix0aGlzLm1lc3NhZ2U9dDt9dG9KU09OKCl7cmV0dXJuIHRoaXMubWVzc2FnZX19O2NvbnN0IEJlPXtzdHJpbmc6ZWUsbnVtYmVyOnRlLGJvb2xlYW46cmUsb2JqZWN0OmllfTtjbGFzcyBFZXtjb25zdHJ1Y3Rvcih0LGUpe3RoaXMudHlwZT10LHRoaXMuYXJncz1lO31zdGF0aWMgcGFyc2UodCxlKXtpZih0Lmxlbmd0aDwyKXJldHVybiBlLmVycm9yKFwiRXhwZWN0ZWQgYXQgbGVhc3Qgb25lIGFyZ3VtZW50LlwiKTtsZXQgcixuPTE7Y29uc3QgaT10WzBdO2lmKFwiYXJyYXlcIj09PWkpe2xldCBpLHM7aWYodC5sZW5ndGg+Mil7Y29uc3Qgcj10WzFdO2lmKFwic3RyaW5nXCIhPXR5cGVvZiByfHwhKHIgaW4gQmUpfHxcIm9iamVjdFwiPT09cilyZXR1cm4gZS5lcnJvcignVGhlIGl0ZW0gdHlwZSBhcmd1bWVudCBvZiBcImFycmF5XCIgbXVzdCBiZSBvbmUgb2Ygc3RyaW5nLCBudW1iZXIsIGJvb2xlYW4nLDEpO2k9QmVbcl0sbisrO31lbHNlIGk9c2U7aWYodC5sZW5ndGg+Myl7aWYobnVsbCE9PXRbMl0mJihcIm51bWJlclwiIT10eXBlb2YgdFsyXXx8dFsyXTwwfHx0WzJdIT09TWF0aC5mbG9vcih0WzJdKSkpcmV0dXJuIGUuZXJyb3IoJ1RoZSBsZW5ndGggYXJndW1lbnQgdG8gXCJhcnJheVwiIG11c3QgYmUgYSBwb3NpdGl2ZSBpbnRlZ2VyIGxpdGVyYWwnLDIpO3M9dFsyXSxuKys7fXI9dWUoaSxzKTt9ZWxzZSByPUJlW2ldO2NvbnN0IHM9W107Zm9yKDtuPHQubGVuZ3RoO24rKyl7Y29uc3Qgcj1lLnBhcnNlKHRbbl0sbixzZSk7aWYoIXIpcmV0dXJuIG51bGw7cy5wdXNoKHIpO31yZXR1cm4gbmV3IEVlKHIscyl9ZXZhbHVhdGUodCl7Zm9yKGxldCBlPTA7ZTx0aGlzLmFyZ3MubGVuZ3RoO2UrKyl7Y29uc3Qgcj10aGlzLmFyZ3NbZV0uZXZhbHVhdGUodCk7aWYoIXBlKHRoaXMudHlwZSxrZShyKSkpcmV0dXJuIHI7aWYoZT09PXRoaXMuYXJncy5sZW5ndGgtMSl0aHJvdyBuZXcgVGUoYEV4cGVjdGVkIHZhbHVlIHRvIGJlIG9mIHR5cGUgJHtjZSh0aGlzLnR5cGUpfSwgYnV0IGZvdW5kICR7Y2Uoa2UocikpfSBpbnN0ZWFkLmApfXJldHVybiBudWxsfWVhY2hDaGlsZCh0KXt0aGlzLmFyZ3MuZm9yRWFjaCh0KTt9b3V0cHV0RGVmaW5lZCgpe3JldHVybiB0aGlzLmFyZ3MuZXZlcnkoKHQ9PnQub3V0cHV0RGVmaW5lZCgpKSl9c2VyaWFsaXplKCl7Y29uc3QgdD10aGlzLnR5cGUsZT1bdC5raW5kXTtpZihcImFycmF5XCI9PT10LmtpbmQpe2NvbnN0IHI9dC5pdGVtVHlwZTtpZihcInN0cmluZ1wiPT09ci5raW5kfHxcIm51bWJlclwiPT09ci5raW5kfHxcImJvb2xlYW5cIj09PXIua2luZCl7ZS5wdXNoKHIua2luZCk7Y29uc3Qgbj10Lk47KFwibnVtYmVyXCI9PXR5cGVvZiBufHx0aGlzLmFyZ3MubGVuZ3RoPjEpJiZlLnB1c2gobik7fX1yZXR1cm4gZS5jb25jYXQodGhpcy5hcmdzLm1hcCgodD0+dC5zZXJpYWxpemUoKSkpKX19dmFyIENlPUVlO2NsYXNzIFBle2NvbnN0cnVjdG9yKHQpe3RoaXMudHlwZT1vZSx0aGlzLnNlY3Rpb25zPXQ7fXN0YXRpYyBwYXJzZSh0LGUpe2lmKHQubGVuZ3RoPDIpcmV0dXJuIGUuZXJyb3IoXCJFeHBlY3RlZCBhdCBsZWFzdCBvbmUgYXJndW1lbnQuXCIpO2NvbnN0IHI9dFsxXTtpZighQXJyYXkuaXNBcnJheShyKSYmXCJvYmplY3RcIj09dHlwZW9mIHIpcmV0dXJuIGUuZXJyb3IoXCJGaXJzdCBhcmd1bWVudCBtdXN0IGJlIGFuIGltYWdlIG9yIHRleHQgc2VjdGlvbi5cIik7Y29uc3Qgbj1bXTtsZXQgaT0hMTtmb3IobGV0IHI9MTtyPD10Lmxlbmd0aC0xOysrcil7Y29uc3Qgcz10W3JdO2lmKGkmJlwib2JqZWN0XCI9PXR5cGVvZiBzJiYhQXJyYXkuaXNBcnJheShzKSl7aT0hMTtsZXQgdD1udWxsO2lmKHNbXCJmb250LXNjYWxlXCJdJiYodD1lLnBhcnNlKHNbXCJmb250LXNjYWxlXCJdLDEsdGUpLCF0KSlyZXR1cm4gbnVsbDtsZXQgcj1udWxsO2lmKHNbXCJ0ZXh0LWZvbnRcIl0mJihyPWUucGFyc2Uoc1tcInRleHQtZm9udFwiXSwxLHVlKGVlKSksIXIpKXJldHVybiBudWxsO2xldCBhPW51bGw7aWYoc1tcInRleHQtY29sb3JcIl0mJihhPWUucGFyc2Uoc1tcInRleHQtY29sb3JcIl0sMSxuZSksIWEpKXJldHVybiBudWxsO2NvbnN0IG89bltuLmxlbmd0aC0xXTtvLnNjYWxlPXQsby5mb250PXIsby50ZXh0Q29sb3I9YTt9ZWxzZSB7Y29uc3Qgcz1lLnBhcnNlKHRbcl0sMSxzZSk7aWYoIXMpcmV0dXJuIG51bGw7Y29uc3QgYT1zLnR5cGUua2luZDtpZihcInN0cmluZ1wiIT09YSYmXCJ2YWx1ZVwiIT09YSYmXCJudWxsXCIhPT1hJiZcInJlc29sdmVkSW1hZ2VcIiE9PWEpcmV0dXJuIGUuZXJyb3IoXCJGb3JtYXR0ZWQgdGV4dCB0eXBlIG11c3QgYmUgJ3N0cmluZycsICd2YWx1ZScsICdpbWFnZScgb3IgJ251bGwnLlwiKTtpPSEwLG4ucHVzaCh7Y29udGVudDpzLHNjYWxlOm51bGwsZm9udDpudWxsLHRleHRDb2xvcjpudWxsfSk7fX1yZXR1cm4gbmV3IFBlKG4pfWV2YWx1YXRlKHQpe3JldHVybiBuZXcgX2UodGhpcy5zZWN0aW9ucy5tYXAoKGU9Pntjb25zdCByPWUuY29udGVudC5ldmFsdWF0ZSh0KTtyZXR1cm4ga2Uocik9PT1sZT9uZXcgYmUoXCJcIixyLG51bGwsbnVsbCxudWxsKTpuZXcgYmUoSWUociksbnVsbCxlLnNjYWxlP2Uuc2NhbGUuZXZhbHVhdGUodCk6bnVsbCxlLmZvbnQ/ZS5mb250LmV2YWx1YXRlKHQpLmpvaW4oXCIsXCIpOm51bGwsZS50ZXh0Q29sb3I/ZS50ZXh0Q29sb3IuZXZhbHVhdGUodCk6bnVsbCl9KSkpfWVhY2hDaGlsZCh0KXtmb3IoY29uc3QgZSBvZiB0aGlzLnNlY3Rpb25zKXQoZS5jb250ZW50KSxlLnNjYWxlJiZ0KGUuc2NhbGUpLGUuZm9udCYmdChlLmZvbnQpLGUudGV4dENvbG9yJiZ0KGUudGV4dENvbG9yKTt9b3V0cHV0RGVmaW5lZCgpe3JldHVybiAhMX1zZXJpYWxpemUoKXtjb25zdCB0PVtcImZvcm1hdFwiXTtmb3IoY29uc3QgZSBvZiB0aGlzLnNlY3Rpb25zKXt0LnB1c2goZS5jb250ZW50LnNlcmlhbGl6ZSgpKTtjb25zdCByPXt9O2Uuc2NhbGUmJihyW1wiZm9udC1zY2FsZVwiXT1lLnNjYWxlLnNlcmlhbGl6ZSgpKSxlLmZvbnQmJihyW1widGV4dC1mb250XCJdPWUuZm9udC5zZXJpYWxpemUoKSksZS50ZXh0Q29sb3ImJihyW1widGV4dC1jb2xvclwiXT1lLnRleHRDb2xvci5zZXJpYWxpemUoKSksdC5wdXNoKHIpO31yZXR1cm4gdH19Y2xhc3MgRGV7Y29uc3RydWN0b3IodCl7dGhpcy50eXBlPWxlLHRoaXMuaW5wdXQ9dDt9c3RhdGljIHBhcnNlKHQsZSl7aWYoMiE9PXQubGVuZ3RoKXJldHVybiBlLmVycm9yKFwiRXhwZWN0ZWQgdHdvIGFyZ3VtZW50cy5cIik7Y29uc3Qgcj1lLnBhcnNlKHRbMV0sMSxlZSk7cmV0dXJuIHI/bmV3IERlKHIpOmUuZXJyb3IoXCJObyBpbWFnZSBuYW1lIHByb3ZpZGVkLlwiKX1ldmFsdWF0ZSh0KXtjb25zdCBlPXRoaXMuaW5wdXQuZXZhbHVhdGUodCkscj13ZS5mcm9tU3RyaW5nKGUpO3JldHVybiByJiZ0LmF2YWlsYWJsZUltYWdlcyYmKHIuYXZhaWxhYmxlPXQuYXZhaWxhYmxlSW1hZ2VzLmluZGV4T2YoZSk+LTEpLHJ9ZWFjaENoaWxkKHQpe3QodGhpcy5pbnB1dCk7fW91dHB1dERlZmluZWQoKXtyZXR1cm4gITF9c2VyaWFsaXplKCl7cmV0dXJuIFtcImltYWdlXCIsdGhpcy5pbnB1dC5zZXJpYWxpemUoKV19fWNvbnN0IFZlPXtcInRvLWJvb2xlYW5cIjpyZSxcInRvLWNvbG9yXCI6bmUsXCJ0by1udW1iZXJcIjp0ZSxcInRvLXN0cmluZ1wiOmVlfTtjbGFzcyBGZXtjb25zdHJ1Y3Rvcih0LGUpe3RoaXMudHlwZT10LHRoaXMuYXJncz1lO31zdGF0aWMgcGFyc2UodCxlKXtpZih0Lmxlbmd0aDwyKXJldHVybiBlLmVycm9yKFwiRXhwZWN0ZWQgYXQgbGVhc3Qgb25lIGFyZ3VtZW50LlwiKTtjb25zdCByPXRbMF07aWYoKFwidG8tYm9vbGVhblwiPT09cnx8XCJ0by1zdHJpbmdcIj09PXIpJiYyIT09dC5sZW5ndGgpcmV0dXJuIGUuZXJyb3IoXCJFeHBlY3RlZCBvbmUgYXJndW1lbnQuXCIpO2NvbnN0IG49VmVbcl0saT1bXTtmb3IobGV0IHI9MTtyPHQubGVuZ3RoO3IrKyl7Y29uc3Qgbj1lLnBhcnNlKHRbcl0scixzZSk7aWYoIW4pcmV0dXJuIG51bGw7aS5wdXNoKG4pO31yZXR1cm4gbmV3IEZlKG4saSl9ZXZhbHVhdGUodCl7aWYoXCJib29sZWFuXCI9PT10aGlzLnR5cGUua2luZClyZXR1cm4gQm9vbGVhbih0aGlzLmFyZ3NbMF0uZXZhbHVhdGUodCkpO2lmKFwiY29sb3JcIj09PXRoaXMudHlwZS5raW5kKXtsZXQgZSxyO2Zvcihjb25zdCBuIG9mIHRoaXMuYXJncyl7aWYoZT1uLmV2YWx1YXRlKHQpLHI9bnVsbCxlIGluc3RhbmNlb2YgeGUpcmV0dXJuIGU7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpe2NvbnN0IHI9dC5wYXJzZUNvbG9yKGUpO2lmKHIpcmV0dXJuIHJ9ZWxzZSBpZihBcnJheS5pc0FycmF5KGUpJiYocj1lLmxlbmd0aDwzfHxlLmxlbmd0aD40P2BJbnZhbGlkIHJiZ2EgdmFsdWUgJHtKU09OLnN0cmluZ2lmeShlKX06IGV4cGVjdGVkIGFuIGFycmF5IGNvbnRhaW5pbmcgZWl0aGVyIHRocmVlIG9yIGZvdXIgbnVtZXJpYyB2YWx1ZXMuYDpBZShlWzBdLGVbMV0sZVsyXSxlWzNdKSwhcikpcmV0dXJuIG5ldyB4ZShlWzBdLzI1NSxlWzFdLzI1NSxlWzJdLzI1NSxlWzNdKX10aHJvdyBuZXcgVGUocnx8YENvdWxkIG5vdCBwYXJzZSBjb2xvciBmcm9tIHZhbHVlICcke1wic3RyaW5nXCI9PXR5cGVvZiBlP2U6U3RyaW5nKEpTT04uc3RyaW5naWZ5KGUpKX0nYCl9aWYoXCJudW1iZXJcIj09PXRoaXMudHlwZS5raW5kKXtsZXQgZT1udWxsO2Zvcihjb25zdCByIG9mIHRoaXMuYXJncyl7aWYoZT1yLmV2YWx1YXRlKHQpLG51bGw9PT1lKXJldHVybiAwO2NvbnN0IG49TnVtYmVyKGUpO2lmKCFpc05hTihuKSlyZXR1cm4gbn10aHJvdyBuZXcgVGUoYENvdWxkIG5vdCBjb252ZXJ0ICR7SlNPTi5zdHJpbmdpZnkoZSl9IHRvIG51bWJlci5gKX1yZXR1cm4gXCJmb3JtYXR0ZWRcIj09PXRoaXMudHlwZS5raW5kP19lLmZyb21TdHJpbmcoSWUodGhpcy5hcmdzWzBdLmV2YWx1YXRlKHQpKSk6XCJyZXNvbHZlZEltYWdlXCI9PT10aGlzLnR5cGUua2luZD93ZS5mcm9tU3RyaW5nKEllKHRoaXMuYXJnc1swXS5ldmFsdWF0ZSh0KSkpOkllKHRoaXMuYXJnc1swXS5ldmFsdWF0ZSh0KSl9ZWFjaENoaWxkKHQpe3RoaXMuYXJncy5mb3JFYWNoKHQpO31vdXRwdXREZWZpbmVkKCl7cmV0dXJuIHRoaXMuYXJncy5ldmVyeSgodD0+dC5vdXRwdXREZWZpbmVkKCkpKX1zZXJpYWxpemUoKXtpZihcImZvcm1hdHRlZFwiPT09dGhpcy50eXBlLmtpbmQpcmV0dXJuIG5ldyBQZShbe2NvbnRlbnQ6dGhpcy5hcmdzWzBdLHNjYWxlOm51bGwsZm9udDpudWxsLHRleHRDb2xvcjpudWxsfV0pLnNlcmlhbGl6ZSgpO2lmKFwicmVzb2x2ZWRJbWFnZVwiPT09dGhpcy50eXBlLmtpbmQpcmV0dXJuIG5ldyBEZSh0aGlzLmFyZ3NbMF0pLnNlcmlhbGl6ZSgpO2NvbnN0IHQ9W2B0by0ke3RoaXMudHlwZS5raW5kfWBdO3JldHVybiB0aGlzLmVhY2hDaGlsZCgoZT0+e3QucHVzaChlLnNlcmlhbGl6ZSgpKTt9KSksdH19dmFyIExlPUZlO2NvbnN0IFJlPVtcIlVua25vd25cIixcIlBvaW50XCIsXCJMaW5lU3RyaW5nXCIsXCJQb2x5Z29uXCJdO3ZhciBVZT1jbGFzc3tjb25zdHJ1Y3Rvcigpe3RoaXMuZ2xvYmFscz1udWxsLHRoaXMuZmVhdHVyZT1udWxsLHRoaXMuZmVhdHVyZVN0YXRlPW51bGwsdGhpcy5mb3JtYXR0ZWRTZWN0aW9uPW51bGwsdGhpcy5fcGFyc2VDb2xvckNhY2hlPXt9LHRoaXMuYXZhaWxhYmxlSW1hZ2VzPW51bGwsdGhpcy5jYW5vbmljYWw9bnVsbCx0aGlzLmZlYXR1cmVUaWxlQ29vcmQ9bnVsbCx0aGlzLmZlYXR1cmVEaXN0YW5jZURhdGE9bnVsbDt9aWQoKXtyZXR1cm4gdGhpcy5mZWF0dXJlJiZ2b2lkIDAhPT10aGlzLmZlYXR1cmUuaWQ/dGhpcy5mZWF0dXJlLmlkOm51bGx9Z2VvbWV0cnlUeXBlKCl7cmV0dXJuIHRoaXMuZmVhdHVyZT9cIm51bWJlclwiPT10eXBlb2YgdGhpcy5mZWF0dXJlLnR5cGU/UmVbdGhpcy5mZWF0dXJlLnR5cGVdOnRoaXMuZmVhdHVyZS50eXBlOm51bGx9Z2VvbWV0cnkoKXtyZXR1cm4gdGhpcy5mZWF0dXJlJiZcImdlb21ldHJ5XCJpbiB0aGlzLmZlYXR1cmU/dGhpcy5mZWF0dXJlLmdlb21ldHJ5Om51bGx9Y2Fub25pY2FsSUQoKXtyZXR1cm4gdGhpcy5jYW5vbmljYWx9cHJvcGVydGllcygpe3JldHVybiB0aGlzLmZlYXR1cmUmJnRoaXMuZmVhdHVyZS5wcm9wZXJ0aWVzfHx7fX1kaXN0YW5jZUZyb21DZW50ZXIoKXtpZih0aGlzLmZlYXR1cmVUaWxlQ29vcmQmJnRoaXMuZmVhdHVyZURpc3RhbmNlRGF0YSl7Y29uc3QgdD10aGlzLmZlYXR1cmVEaXN0YW5jZURhdGEuY2VudGVyLGU9dGhpcy5mZWF0dXJlRGlzdGFuY2VEYXRhLnNjYWxlLHt4OnIseTpufT10aGlzLmZlYXR1cmVUaWxlQ29vcmQ7cmV0dXJuIHRoaXMuZmVhdHVyZURpc3RhbmNlRGF0YS5iZWFyaW5nWzBdKihyKmUtdFswXSkrdGhpcy5mZWF0dXJlRGlzdGFuY2VEYXRhLmJlYXJpbmdbMV0qKG4qZS10WzFdKX1yZXR1cm4gMH1wYXJzZUNvbG9yKHQpe2xldCBlPXRoaXMuX3BhcnNlQ29sb3JDYWNoZVt0XTtyZXR1cm4gZXx8KGU9dGhpcy5fcGFyc2VDb2xvckNhY2hlW3RdPXhlLnBhcnNlKHQpKSxlfX07Y2xhc3MgamV7Y29uc3RydWN0b3IodCxlLHIsbil7dGhpcy5uYW1lPXQsdGhpcy50eXBlPWUsdGhpcy5fZXZhbHVhdGU9cix0aGlzLmFyZ3M9bjt9ZXZhbHVhdGUodCl7cmV0dXJuIHRoaXMuX2V2YWx1YXRlKHQsdGhpcy5hcmdzKX1lYWNoQ2hpbGQodCl7dGhpcy5hcmdzLmZvckVhY2godCk7fW91dHB1dERlZmluZWQoKXtyZXR1cm4gITF9c2VyaWFsaXplKCl7cmV0dXJuIFt0aGlzLm5hbWVdLmNvbmNhdCh0aGlzLmFyZ3MubWFwKCh0PT50LnNlcmlhbGl6ZSgpKSkpfXN0YXRpYyBwYXJzZSh0LGUpe2NvbnN0IHI9dFswXSxuPWplLmRlZmluaXRpb25zW3JdO2lmKCFuKXJldHVybiBlLmVycm9yKGBVbmtub3duIGV4cHJlc3Npb24gXCIke3J9XCIuIElmIHlvdSB3YW50ZWQgYSBsaXRlcmFsIGFycmF5LCB1c2UgW1wibGl0ZXJhbFwiLCBbLi4uXV0uYCwwKTtjb25zdCBpPUFycmF5LmlzQXJyYXkobik/blswXTpuLnR5cGUscz1BcnJheS5pc0FycmF5KG4pP1tbblsxXSxuWzJdXV06bi5vdmVybG9hZHMsYT1zLmZpbHRlcigoKFtlXSk9PiFBcnJheS5pc0FycmF5KGUpfHxlLmxlbmd0aD09PXQubGVuZ3RoLTEpKTtsZXQgbz1udWxsO2Zvcihjb25zdFtuLHNdb2YgYSl7bz1uZXcgZnIoZS5yZWdpc3RyeSxlLnBhdGgsbnVsbCxlLnNjb3BlKTtjb25zdCBhPVtdO2xldCBsPSExO2ZvcihsZXQgZT0xO2U8dC5sZW5ndGg7ZSsrKXtjb25zdCByPXRbZV0saT1BcnJheS5pc0FycmF5KG4pP25bZS0xXTpuLnR5cGUscz1vLnBhcnNlKHIsMSthLmxlbmd0aCxpKTtpZighcyl7bD0hMDticmVha31hLnB1c2gocyk7fWlmKCFsKWlmKEFycmF5LmlzQXJyYXkobikmJm4ubGVuZ3RoIT09YS5sZW5ndGgpby5lcnJvcihgRXhwZWN0ZWQgJHtuLmxlbmd0aH0gYXJndW1lbnRzLCBidXQgZm91bmQgJHthLmxlbmd0aH0gaW5zdGVhZC5gKTtlbHNlIHtmb3IobGV0IHQ9MDt0PGEubGVuZ3RoO3QrKyl7Y29uc3QgZT1BcnJheS5pc0FycmF5KG4pP25bdF06bi50eXBlLHI9YVt0XTtvLmNvbmNhdCh0KzEpLmNoZWNrU3VidHlwZShlLHIudHlwZSk7fWlmKDA9PT1vLmVycm9ycy5sZW5ndGgpcmV0dXJuIG5ldyBqZShyLGkscyxhKX19aWYoMT09PWEubGVuZ3RoKWUuZXJyb3JzLnB1c2goLi4uby5lcnJvcnMpO2Vsc2Uge2NvbnN0IHI9KGEubGVuZ3RoP2E6cykubWFwKCgoW3RdKT0+e3JldHVybiBlPXQsQXJyYXkuaXNBcnJheShlKT9gKCR7ZS5tYXAoY2UpLmpvaW4oXCIsIFwiKX0pYDpgKCR7Y2UoZS50eXBlKX0uLi4pYDt2YXIgZTt9KSkuam9pbihcIiB8IFwiKSxuPVtdO2ZvcihsZXQgcj0xO3I8dC5sZW5ndGg7cisrKXtjb25zdCBpPWUucGFyc2UodFtyXSwxK24ubGVuZ3RoKTtpZighaSlyZXR1cm4gbnVsbDtuLnB1c2goY2UoaS50eXBlKSk7fWUuZXJyb3IoYEV4cGVjdGVkIGFyZ3VtZW50cyBvZiB0eXBlICR7cn0sIGJ1dCBmb3VuZCAoJHtuLmpvaW4oXCIsIFwiKX0pIGluc3RlYWQuYCk7fXJldHVybiBudWxsfXN0YXRpYyByZWdpc3Rlcih0LGUpe2plLmRlZmluaXRpb25zPWU7Zm9yKGNvbnN0IHIgaW4gZSl0W3JdPWplO319dmFyICRlPWplO2NsYXNzIE9le2NvbnN0cnVjdG9yKHQsZSxyKXt0aGlzLnR5cGU9YWUsdGhpcy5sb2NhbGU9cix0aGlzLmNhc2VTZW5zaXRpdmU9dCx0aGlzLmRpYWNyaXRpY1NlbnNpdGl2ZT1lO31zdGF0aWMgcGFyc2UodCxlKXtpZigyIT09dC5sZW5ndGgpcmV0dXJuIGUuZXJyb3IoXCJFeHBlY3RlZCBvbmUgYXJndW1lbnQuXCIpO2NvbnN0IHI9dFsxXTtpZihcIm9iamVjdFwiIT10eXBlb2Ygcnx8QXJyYXkuaXNBcnJheShyKSlyZXR1cm4gZS5lcnJvcihcIkNvbGxhdG9yIG9wdGlvbnMgYXJndW1lbnQgbXVzdCBiZSBhbiBvYmplY3QuXCIpO2NvbnN0IG49ZS5wYXJzZSh2b2lkIDAhPT1yW1wiY2FzZS1zZW5zaXRpdmVcIl0mJnJbXCJjYXNlLXNlbnNpdGl2ZVwiXSwxLHJlKTtpZighbilyZXR1cm4gbnVsbDtjb25zdCBpPWUucGFyc2Uodm9pZCAwIT09cltcImRpYWNyaXRpYy1zZW5zaXRpdmVcIl0mJnJbXCJkaWFjcml0aWMtc2Vuc2l0aXZlXCJdLDEscmUpO2lmKCFpKXJldHVybiBudWxsO2xldCBzPW51bGw7cmV0dXJuIHIubG9jYWxlJiYocz1lLnBhcnNlKHIubG9jYWxlLDEsZWUpLCFzKT9udWxsOm5ldyBPZShuLGkscyl9ZXZhbHVhdGUodCl7cmV0dXJuIG5ldyB2ZSh0aGlzLmNhc2VTZW5zaXRpdmUuZXZhbHVhdGUodCksdGhpcy5kaWFjcml0aWNTZW5zaXRpdmUuZXZhbHVhdGUodCksdGhpcy5sb2NhbGU/dGhpcy5sb2NhbGUuZXZhbHVhdGUodCk6bnVsbCl9ZWFjaENoaWxkKHQpe3QodGhpcy5jYXNlU2Vuc2l0aXZlKSx0KHRoaXMuZGlhY3JpdGljU2Vuc2l0aXZlKSx0aGlzLmxvY2FsZSYmdCh0aGlzLmxvY2FsZSk7fW91dHB1dERlZmluZWQoKXtyZXR1cm4gITF9c2VyaWFsaXplKCl7Y29uc3QgdD17fTtyZXR1cm4gdFtcImNhc2Utc2Vuc2l0aXZlXCJdPXRoaXMuY2FzZVNlbnNpdGl2ZS5zZXJpYWxpemUoKSx0W1wiZGlhY3JpdGljLXNlbnNpdGl2ZVwiXT10aGlzLmRpYWNyaXRpY1NlbnNpdGl2ZS5zZXJpYWxpemUoKSx0aGlzLmxvY2FsZSYmKHQubG9jYWxlPXRoaXMubG9jYWxlLnNlcmlhbGl6ZSgpKSxbXCJjb2xsYXRvclwiLHRdfX1jb25zdCBxZT04MTkyO2Z1bmN0aW9uIE5lKHQsZSl7dFswXT1NYXRoLm1pbih0WzBdLGVbMF0pLHRbMV09TWF0aC5taW4odFsxXSxlWzFdKSx0WzJdPU1hdGgubWF4KHRbMl0sZVswXSksdFszXT1NYXRoLm1heCh0WzNdLGVbMV0pO31mdW5jdGlvbiBHZSh0LGUpe3JldHVybiAhKHRbMF08PWVbMF18fHRbMl0+PWVbMl18fHRbMV08PWVbMV18fHRbM10+PWVbM10pfWZ1bmN0aW9uIFplKHQsZSl7Y29uc3Qgcj0oMTgwK3RbMF0pLzM2MCxuPSgxODAtMTgwL01hdGguUEkqTWF0aC5sb2coTWF0aC50YW4oTWF0aC5QSS80K3RbMV0qTWF0aC5QSS8zNjApKSkvMzYwLGk9TWF0aC5wb3coMixlLnopO3JldHVybiBbTWF0aC5yb3VuZChyKmkqcWUpLE1hdGgucm91bmQobippKnFlKV19ZnVuY3Rpb24gWGUodCxlLHIpe2NvbnN0IG49dFswXS1lWzBdLGk9dFsxXS1lWzFdLHM9dFswXS1yWzBdLGE9dFsxXS1yWzFdO3JldHVybiBuKmEtcyppPT0wJiZuKnM8PTAmJmkqYTw9MH1mdW5jdGlvbiBLZSh0LGUpe2xldCByPSExO2ZvcihsZXQgYT0wLG89ZS5sZW5ndGg7YTxvO2ErKyl7Y29uc3Qgbz1lW2FdO2ZvcihsZXQgZT0wLGE9by5sZW5ndGg7ZTxhLTE7ZSsrKXtpZihYZSh0LG9bZV0sb1tlKzFdKSlyZXR1cm4gITE7KGk9b1tlXSlbMV0+KG49dClbMV0hPShzPW9bZSsxXSlbMV0+blsxXSYmblswXTwoc1swXS1pWzBdKSooblsxXS1pWzFdKS8oc1sxXS1pWzFdKStpWzBdJiYocj0hcik7fX12YXIgbixpLHM7cmV0dXJuIHJ9ZnVuY3Rpb24gSGUodCxlKXtmb3IobGV0IHI9MDtyPGUubGVuZ3RoO3IrKylpZihLZSh0LGVbcl0pKXJldHVybiAhMDtyZXR1cm4gITF9ZnVuY3Rpb24gWWUodCxlLHIsbil7Y29uc3QgaT1uWzBdLXJbMF0scz1uWzFdLXJbMV0sYT0odFswXS1yWzBdKSpzLWkqKHRbMV0tclsxXSksbz0oZVswXS1yWzBdKSpzLWkqKGVbMV0tclsxXSk7cmV0dXJuIGE+MCYmbzwwfHxhPDAmJm8+MH1mdW5jdGlvbiBXZSh0LGUscil7Zm9yKGNvbnN0IHUgb2Ygcilmb3IobGV0IHI9MDtyPHUubGVuZ3RoLTE7KytyKWlmKDAhPShvPVsoYT11W3IrMV0pWzBdLShzPXVbcl0pWzBdLGFbMV0tc1sxXV0pWzBdKihsPVsoaT1lKVswXS0obj10KVswXSxpWzFdLW5bMV1dKVsxXS1vWzFdKmxbMF0mJlllKG4saSxzLGEpJiZZZShzLGEsbixpKSlyZXR1cm4gITA7dmFyIG4saSxzLGEsbyxsO3JldHVybiAhMX1mdW5jdGlvbiBKZSh0LGUpe2ZvcihsZXQgcj0wO3I8dC5sZW5ndGg7KytyKWlmKCFLZSh0W3JdLGUpKXJldHVybiAhMTtmb3IobGV0IHI9MDtyPHQubGVuZ3RoLTE7KytyKWlmKFdlKHRbcl0sdFtyKzFdLGUpKXJldHVybiAhMTtyZXR1cm4gITB9ZnVuY3Rpb24gUWUodCxlKXtmb3IobGV0IHI9MDtyPGUubGVuZ3RoO3IrKylpZihKZSh0LGVbcl0pKXJldHVybiAhMDtyZXR1cm4gITF9ZnVuY3Rpb24gdHIodCxlLHIpe2NvbnN0IG49W107Zm9yKGxldCBpPTA7aTx0Lmxlbmd0aDtpKyspe2NvbnN0IHM9W107Zm9yKGxldCBuPTA7bjx0W2ldLmxlbmd0aDtuKyspe2NvbnN0IGE9WmUodFtpXVtuXSxyKTtOZShlLGEpLHMucHVzaChhKTt9bi5wdXNoKHMpO31yZXR1cm4gbn1mdW5jdGlvbiBlcih0LGUscil7Y29uc3Qgbj1bXTtmb3IobGV0IGk9MDtpPHQubGVuZ3RoO2krKyl7Y29uc3Qgcz10cih0W2ldLGUscik7bi5wdXNoKHMpO31yZXR1cm4gbn1mdW5jdGlvbiBycih0LGUscixuKXtpZih0WzBdPHJbMF18fHRbMF0+clsyXSl7Y29uc3QgZT0uNSpuO2xldCBpPXRbMF0tclswXT5lPy1uOnJbMF0tdFswXT5lP246MDswPT09aSYmKGk9dFswXS1yWzJdPmU/LW46clsyXS10WzBdPmU/bjowKSx0WzBdKz1pO31OZShlLHQpO31mdW5jdGlvbiBucih0LGUscixuKXtjb25zdCBpPU1hdGgucG93KDIsbi56KSpxZSxzPVtuLngqcWUsbi55KnFlXSxhPVtdO2lmKCF0KXJldHVybiBhO2Zvcihjb25zdCBuIG9mIHQpZm9yKGNvbnN0IHQgb2Ygbil7Y29uc3Qgbj1bdC54K3NbMF0sdC55K3NbMV1dO3JyKG4sZSxyLGkpLGEucHVzaChuKTt9cmV0dXJuIGF9ZnVuY3Rpb24gaXIodCxlLHIsbil7Y29uc3QgaT1NYXRoLnBvdygyLG4ueikqcWUscz1bbi54KnFlLG4ueSpxZV0sYT1bXTtpZighdClyZXR1cm4gYTtmb3IoY29uc3QgciBvZiB0KXtjb25zdCB0PVtdO2Zvcihjb25zdCBuIG9mIHIpe2NvbnN0IHI9W24ueCtzWzBdLG4ueStzWzFdXTtOZShlLHIpLHQucHVzaChyKTt9YS5wdXNoKHQpO31pZihlWzJdLWVbMF08PWkvMil7KG89ZSlbMF09b1sxXT0xLzAsb1syXT1vWzNdPS0xLzA7Zm9yKGNvbnN0IHQgb2YgYSlmb3IoY29uc3QgbiBvZiB0KXJyKG4sZSxyLGkpO312YXIgbztyZXR1cm4gYX1jbGFzcyBzcntjb25zdHJ1Y3Rvcih0LGUpe3RoaXMudHlwZT1yZSx0aGlzLmdlb2pzb249dCx0aGlzLmdlb21ldHJpZXM9ZTt9c3RhdGljIHBhcnNlKHQsZSl7aWYoMiE9PXQubGVuZ3RoKXJldHVybiBlLmVycm9yKGAnd2l0aGluJyBleHByZXNzaW9uIHJlcXVpcmVzIGV4YWN0bHkgb25lIGFyZ3VtZW50LCBidXQgZm91bmQgJHt0Lmxlbmd0aC0xfSBpbnN0ZWFkLmApO2lmKFNlKHRbMV0pKXtjb25zdCBlPXRbMV07aWYoXCJGZWF0dXJlQ29sbGVjdGlvblwiPT09ZS50eXBlKWZvcihsZXQgdD0wO3Q8ZS5mZWF0dXJlcy5sZW5ndGg7Kyt0KXtjb25zdCByPWUuZmVhdHVyZXNbdF0uZ2VvbWV0cnkudHlwZTtpZihcIlBvbHlnb25cIj09PXJ8fFwiTXVsdGlQb2x5Z29uXCI9PT1yKXJldHVybiBuZXcgc3IoZSxlLmZlYXR1cmVzW3RdLmdlb21ldHJ5KX1lbHNlIGlmKFwiRmVhdHVyZVwiPT09ZS50eXBlKXtjb25zdCB0PWUuZ2VvbWV0cnkudHlwZTtpZihcIlBvbHlnb25cIj09PXR8fFwiTXVsdGlQb2x5Z29uXCI9PT10KXJldHVybiBuZXcgc3IoZSxlLmdlb21ldHJ5KX1lbHNlIGlmKFwiUG9seWdvblwiPT09ZS50eXBlfHxcIk11bHRpUG9seWdvblwiPT09ZS50eXBlKXJldHVybiBuZXcgc3IoZSxlKX1yZXR1cm4gZS5lcnJvcihcIid3aXRoaW4nIGV4cHJlc3Npb24gcmVxdWlyZXMgdmFsaWQgZ2VvanNvbiBvYmplY3QgdGhhdCBjb250YWlucyBwb2x5Z29uIGdlb21ldHJ5IHR5cGUuXCIpfWV2YWx1YXRlKHQpe2lmKG51bGwhPXQuZ2VvbWV0cnkoKSYmbnVsbCE9dC5jYW5vbmljYWxJRCgpKXtpZihcIlBvaW50XCI9PT10Lmdlb21ldHJ5VHlwZSgpKXJldHVybiBmdW5jdGlvbih0LGUpe2NvbnN0IHI9WzEvMCwxLzAsLTEvMCwtMS8wXSxuPVsxLzAsMS8wLC0xLzAsLTEvMF0saT10LmNhbm9uaWNhbElEKCk7aWYoIWkpcmV0dXJuICExO2lmKFwiUG9seWdvblwiPT09ZS50eXBlKXtjb25zdCBzPXRyKGUuY29vcmRpbmF0ZXMsbixpKSxhPW5yKHQuZ2VvbWV0cnkoKSxyLG4saSk7aWYoIUdlKHIsbikpcmV0dXJuICExO2Zvcihjb25zdCB0IG9mIGEpaWYoIUtlKHQscykpcmV0dXJuICExfWlmKFwiTXVsdGlQb2x5Z29uXCI9PT1lLnR5cGUpe2NvbnN0IHM9ZXIoZS5jb29yZGluYXRlcyxuLGkpLGE9bnIodC5nZW9tZXRyeSgpLHIsbixpKTtpZighR2UocixuKSlyZXR1cm4gITE7Zm9yKGNvbnN0IHQgb2YgYSlpZighSGUodCxzKSlyZXR1cm4gITF9cmV0dXJuICEwfSh0LHRoaXMuZ2VvbWV0cmllcyk7aWYoXCJMaW5lU3RyaW5nXCI9PT10Lmdlb21ldHJ5VHlwZSgpKXJldHVybiBmdW5jdGlvbih0LGUpe2NvbnN0IHI9WzEvMCwxLzAsLTEvMCwtMS8wXSxuPVsxLzAsMS8wLC0xLzAsLTEvMF0saT10LmNhbm9uaWNhbElEKCk7aWYoIWkpcmV0dXJuICExO2lmKFwiUG9seWdvblwiPT09ZS50eXBlKXtjb25zdCBzPXRyKGUuY29vcmRpbmF0ZXMsbixpKSxhPWlyKHQuZ2VvbWV0cnkoKSxyLG4saSk7aWYoIUdlKHIsbikpcmV0dXJuICExO2Zvcihjb25zdCB0IG9mIGEpaWYoIUplKHQscykpcmV0dXJuICExfWlmKFwiTXVsdGlQb2x5Z29uXCI9PT1lLnR5cGUpe2NvbnN0IHM9ZXIoZS5jb29yZGluYXRlcyxuLGkpLGE9aXIodC5nZW9tZXRyeSgpLHIsbixpKTtpZighR2UocixuKSlyZXR1cm4gITE7Zm9yKGNvbnN0IHQgb2YgYSlpZighUWUodCxzKSlyZXR1cm4gITF9cmV0dXJuICEwfSh0LHRoaXMuZ2VvbWV0cmllcyl9cmV0dXJuICExfWVhY2hDaGlsZCgpe31vdXRwdXREZWZpbmVkKCl7cmV0dXJuICEwfXNlcmlhbGl6ZSgpe3JldHVybiBbXCJ3aXRoaW5cIix0aGlzLmdlb2pzb25dfX12YXIgYXI9c3I7ZnVuY3Rpb24gb3IodCl7aWYodCBpbnN0YW5jZW9mICRlKXtpZihcImdldFwiPT09dC5uYW1lJiYxPT09dC5hcmdzLmxlbmd0aClyZXR1cm4gITE7aWYoXCJmZWF0dXJlLXN0YXRlXCI9PT10Lm5hbWUpcmV0dXJuICExO2lmKFwiaGFzXCI9PT10Lm5hbWUmJjE9PT10LmFyZ3MubGVuZ3RoKXJldHVybiAhMTtpZihcInByb3BlcnRpZXNcIj09PXQubmFtZXx8XCJnZW9tZXRyeS10eXBlXCI9PT10Lm5hbWV8fFwiaWRcIj09PXQubmFtZSlyZXR1cm4gITE7aWYoL15maWx0ZXItLy50ZXN0KHQubmFtZSkpcmV0dXJuICExfWlmKHQgaW5zdGFuY2VvZiBhcilyZXR1cm4gITE7bGV0IGU9ITA7cmV0dXJuIHQuZWFjaENoaWxkKCh0PT57ZSYmIW9yKHQpJiYoZT0hMSk7fSkpLGV9ZnVuY3Rpb24gbHIodCl7aWYodCBpbnN0YW5jZW9mICRlJiZcImZlYXR1cmUtc3RhdGVcIj09PXQubmFtZSlyZXR1cm4gITE7bGV0IGU9ITA7cmV0dXJuIHQuZWFjaENoaWxkKCh0PT57ZSYmIWxyKHQpJiYoZT0hMSk7fSkpLGV9ZnVuY3Rpb24gdXIodCxlKXtpZih0IGluc3RhbmNlb2YgJGUmJmUuaW5kZXhPZih0Lm5hbWUpPj0wKXJldHVybiAhMTtsZXQgcj0hMDtyZXR1cm4gdC5lYWNoQ2hpbGQoKHQ9PntyJiYhdXIodCxlKSYmKHI9ITEpO30pKSxyfWNsYXNzIGNye2NvbnN0cnVjdG9yKHQsZSl7dGhpcy50eXBlPWUudHlwZSx0aGlzLm5hbWU9dCx0aGlzLmJvdW5kRXhwcmVzc2lvbj1lO31zdGF0aWMgcGFyc2UodCxlKXtpZigyIT09dC5sZW5ndGh8fFwic3RyaW5nXCIhPXR5cGVvZiB0WzFdKXJldHVybiBlLmVycm9yKFwiJ3ZhcicgZXhwcmVzc2lvbiByZXF1aXJlcyBleGFjdGx5IG9uZSBzdHJpbmcgbGl0ZXJhbCBhcmd1bWVudC5cIik7Y29uc3Qgcj10WzFdO3JldHVybiBlLnNjb3BlLmhhcyhyKT9uZXcgY3IocixlLnNjb3BlLmdldChyKSk6ZS5lcnJvcihgVW5rbm93biB2YXJpYWJsZSBcIiR7cn1cIi4gTWFrZSBzdXJlIFwiJHtyfVwiIGhhcyBiZWVuIGJvdW5kIGluIGFuIGVuY2xvc2luZyBcImxldFwiIGV4cHJlc3Npb24gYmVmb3JlIHVzaW5nIGl0LmAsMSl9ZXZhbHVhdGUodCl7cmV0dXJuIHRoaXMuYm91bmRFeHByZXNzaW9uLmV2YWx1YXRlKHQpfWVhY2hDaGlsZCgpe31vdXRwdXREZWZpbmVkKCl7cmV0dXJuICExfXNlcmlhbGl6ZSgpe3JldHVybiBbXCJ2YXJcIix0aGlzLm5hbWVdfX12YXIgaHI9Y3I7Y2xhc3MgcHJ7Y29uc3RydWN0b3IodCxlPVtdLHIsbj1uZXcgSnQsaT1bXSl7dGhpcy5yZWdpc3RyeT10LHRoaXMucGF0aD1lLHRoaXMua2V5PWUubWFwKCh0PT5gWyR7dH1dYCkpLmpvaW4oXCJcIiksdGhpcy5zY29wZT1uLHRoaXMuZXJyb3JzPWksdGhpcy5leHBlY3RlZFR5cGU9cjt9cGFyc2UodCxlLHIsbixpPXt9KXtyZXR1cm4gZT90aGlzLmNvbmNhdChlLHIsbikuX3BhcnNlKHQsaSk6dGhpcy5fcGFyc2UodCxpKX1fcGFyc2UodCxlKXtmdW5jdGlvbiByKHQsZSxyKXtyZXR1cm4gXCJhc3NlcnRcIj09PXI/bmV3IENlKGUsW3RdKTpcImNvZXJjZVwiPT09cj9uZXcgTGUoZSxbdF0pOnR9aWYobnVsbCE9PXQmJlwic3RyaW5nXCIhPXR5cGVvZiB0JiZcImJvb2xlYW5cIiE9dHlwZW9mIHQmJlwibnVtYmVyXCIhPXR5cGVvZiB0fHwodD1bXCJsaXRlcmFsXCIsdF0pLEFycmF5LmlzQXJyYXkodCkpe2lmKDA9PT10Lmxlbmd0aClyZXR1cm4gdGhpcy5lcnJvcignRXhwZWN0ZWQgYW4gYXJyYXkgd2l0aCBhdCBsZWFzdCBvbmUgZWxlbWVudC4gSWYgeW91IHdhbnRlZCBhIGxpdGVyYWwgYXJyYXksIHVzZSBbXCJsaXRlcmFsXCIsIFtdXS4nKTtjb25zdCBuPXRbMF07aWYoXCJzdHJpbmdcIiE9dHlwZW9mIG4pcmV0dXJuIHRoaXMuZXJyb3IoYEV4cHJlc3Npb24gbmFtZSBtdXN0IGJlIGEgc3RyaW5nLCBidXQgZm91bmQgJHt0eXBlb2Ygbn0gaW5zdGVhZC4gSWYgeW91IHdhbnRlZCBhIGxpdGVyYWwgYXJyYXksIHVzZSBbXCJsaXRlcmFsXCIsIFsuLi5dXS5gLDApLG51bGw7Y29uc3QgaT10aGlzLnJlZ2lzdHJ5W25dO2lmKGkpe2xldCBuPWkucGFyc2UodCx0aGlzKTtpZighbilyZXR1cm4gbnVsbDtpZih0aGlzLmV4cGVjdGVkVHlwZSl7Y29uc3QgdD10aGlzLmV4cGVjdGVkVHlwZSxpPW4udHlwZTtpZihcInN0cmluZ1wiIT09dC5raW5kJiZcIm51bWJlclwiIT09dC5raW5kJiZcImJvb2xlYW5cIiE9PXQua2luZCYmXCJvYmplY3RcIiE9PXQua2luZCYmXCJhcnJheVwiIT09dC5raW5kfHxcInZhbHVlXCIhPT1pLmtpbmQpaWYoXCJjb2xvclwiIT09dC5raW5kJiZcImZvcm1hdHRlZFwiIT09dC5raW5kJiZcInJlc29sdmVkSW1hZ2VcIiE9PXQua2luZHx8XCJ2YWx1ZVwiIT09aS5raW5kJiZcInN0cmluZ1wiIT09aS5raW5kKXtpZih0aGlzLmNoZWNrU3VidHlwZSh0LGkpKXJldHVybiBudWxsfWVsc2Ugbj1yKG4sdCxlLnR5cGVBbm5vdGF0aW9ufHxcImNvZXJjZVwiKTtlbHNlIG49cihuLHQsZS50eXBlQW5ub3RhdGlvbnx8XCJhc3NlcnRcIik7fWlmKCEobiBpbnN0YW5jZW9mIHplKSYmXCJyZXNvbHZlZEltYWdlXCIhPT1uLnR5cGUua2luZCYmZHIobikpe2NvbnN0IHQ9bmV3IFVlO3RyeXtuPW5ldyB6ZShuLnR5cGUsbi5ldmFsdWF0ZSh0KSk7fWNhdGNoKHQpe3JldHVybiB0aGlzLmVycm9yKHQubWVzc2FnZSksbnVsbH19cmV0dXJuIG59cmV0dXJuIHRoaXMuZXJyb3IoYFVua25vd24gZXhwcmVzc2lvbiBcIiR7bn1cIi4gSWYgeW91IHdhbnRlZCBhIGxpdGVyYWwgYXJyYXksIHVzZSBbXCJsaXRlcmFsXCIsIFsuLi5dXS5gLDApfXJldHVybiB0aGlzLmVycm9yKHZvaWQgMD09PXQ/XCIndW5kZWZpbmVkJyB2YWx1ZSBpbnZhbGlkLiBVc2UgbnVsbCBpbnN0ZWFkLlwiOlwib2JqZWN0XCI9PXR5cGVvZiB0PydCYXJlIG9iamVjdHMgaW52YWxpZC4gVXNlIFtcImxpdGVyYWxcIiwgey4uLn1dIGluc3RlYWQuJzpgRXhwZWN0ZWQgYW4gYXJyYXksIGJ1dCBmb3VuZCAke3R5cGVvZiB0fSBpbnN0ZWFkLmApfWNvbmNhdCh0LGUscil7Y29uc3Qgbj1cIm51bWJlclwiPT10eXBlb2YgdD90aGlzLnBhdGguY29uY2F0KHQpOnRoaXMucGF0aCxpPXI/dGhpcy5zY29wZS5jb25jYXQocik6dGhpcy5zY29wZTtyZXR1cm4gbmV3IHByKHRoaXMucmVnaXN0cnksbixlfHxudWxsLGksdGhpcy5lcnJvcnMpfWVycm9yKHQsLi4uZSl7Y29uc3Qgcj1gJHt0aGlzLmtleX0ke2UubWFwKCh0PT5gWyR7dH1dYCkpLmpvaW4oXCJcIil9YDt0aGlzLmVycm9ycy5wdXNoKG5ldyBZdChyLHQpKTt9Y2hlY2tTdWJ0eXBlKHQsZSl7Y29uc3Qgcj1wZSh0LGUpO3JldHVybiByJiZ0aGlzLmVycm9yKHIpLHJ9fXZhciBmcj1wcjtmdW5jdGlvbiBkcih0KXtpZih0IGluc3RhbmNlb2YgaHIpcmV0dXJuIGRyKHQuYm91bmRFeHByZXNzaW9uKTtpZih0IGluc3RhbmNlb2YgJGUmJlwiZXJyb3JcIj09PXQubmFtZSlyZXR1cm4gITE7aWYodCBpbnN0YW5jZW9mIE9lKXJldHVybiAhMTtpZih0IGluc3RhbmNlb2YgYXIpcmV0dXJuICExO2NvbnN0IGU9dCBpbnN0YW5jZW9mIExlfHx0IGluc3RhbmNlb2YgQ2U7bGV0IHI9ITA7cmV0dXJuIHQuZWFjaENoaWxkKCh0PT57cj1lP3ImJmRyKHQpOnImJnQgaW5zdGFuY2VvZiB6ZTt9KSksISFyJiZvcih0KSYmdXIodCxbXCJ6b29tXCIsXCJoZWF0bWFwLWRlbnNpdHlcIixcImxpbmUtcHJvZ3Jlc3NcIixcInNreS1yYWRpYWwtcHJvZ3Jlc3NcIixcImFjY3VtdWxhdGVkXCIsXCJpcy1zdXBwb3J0ZWQtc2NyaXB0XCIsXCJwaXRjaFwiLFwiZGlzdGFuY2UtZnJvbS1jZW50ZXJcIl0pfWZ1bmN0aW9uIHlyKHQsZSl7Y29uc3Qgcj10Lmxlbmd0aC0xO2xldCBuLGkscz0wLGE9cixvPTA7Zm9yKDtzPD1hOylpZihvPU1hdGguZmxvb3IoKHMrYSkvMiksbj10W29dLGk9dFtvKzFdLG48PWUpe2lmKG89PT1yfHxlPGkpcmV0dXJuIG87cz1vKzE7fWVsc2Uge2lmKCEobj5lKSl0aHJvdyBuZXcgVGUoXCJJbnB1dCBpcyBub3QgYSBudW1iZXIuXCIpO2E9by0xO31yZXR1cm4gMH1jbGFzcyBtcntjb25zdHJ1Y3Rvcih0LGUscil7dGhpcy50eXBlPXQsdGhpcy5pbnB1dD1lLHRoaXMubGFiZWxzPVtdLHRoaXMub3V0cHV0cz1bXTtmb3IoY29uc3RbdCxlXW9mIHIpdGhpcy5sYWJlbHMucHVzaCh0KSx0aGlzLm91dHB1dHMucHVzaChlKTt9c3RhdGljIHBhcnNlKHQsZSl7aWYodC5sZW5ndGgtMTw0KXJldHVybiBlLmVycm9yKGBFeHBlY3RlZCBhdCBsZWFzdCA0IGFyZ3VtZW50cywgYnV0IGZvdW5kIG9ubHkgJHt0Lmxlbmd0aC0xfS5gKTtpZigodC5sZW5ndGgtMSklMiE9MClyZXR1cm4gZS5lcnJvcihcIkV4cGVjdGVkIGFuIGV2ZW4gbnVtYmVyIG9mIGFyZ3VtZW50cy5cIik7Y29uc3Qgcj1lLnBhcnNlKHRbMV0sMSx0ZSk7aWYoIXIpcmV0dXJuIG51bGw7Y29uc3Qgbj1bXTtsZXQgaT1udWxsO2UuZXhwZWN0ZWRUeXBlJiZcInZhbHVlXCIhPT1lLmV4cGVjdGVkVHlwZS5raW5kJiYoaT1lLmV4cGVjdGVkVHlwZSk7Zm9yKGxldCByPTE7cjx0Lmxlbmd0aDtyKz0yKXtjb25zdCBzPTE9PT1yPy0xLzA6dFtyXSxhPXRbcisxXSxvPXIsbD1yKzE7aWYoXCJudW1iZXJcIiE9dHlwZW9mIHMpcmV0dXJuIGUuZXJyb3IoJ0lucHV0L291dHB1dCBwYWlycyBmb3IgXCJzdGVwXCIgZXhwcmVzc2lvbnMgbXVzdCBiZSBkZWZpbmVkIHVzaW5nIGxpdGVyYWwgbnVtZXJpYyB2YWx1ZXMgKG5vdCBjb21wdXRlZCBleHByZXNzaW9ucykgZm9yIHRoZSBpbnB1dCB2YWx1ZXMuJyxvKTtpZihuLmxlbmd0aCYmbltuLmxlbmd0aC0xXVswXT49cylyZXR1cm4gZS5lcnJvcignSW5wdXQvb3V0cHV0IHBhaXJzIGZvciBcInN0ZXBcIiBleHByZXNzaW9ucyBtdXN0IGJlIGFycmFuZ2VkIHdpdGggaW5wdXQgdmFsdWVzIGluIHN0cmljdGx5IGFzY2VuZGluZyBvcmRlci4nLG8pO2NvbnN0IHU9ZS5wYXJzZShhLGwsaSk7aWYoIXUpcmV0dXJuIG51bGw7aT1pfHx1LnR5cGUsbi5wdXNoKFtzLHVdKTt9cmV0dXJuIG5ldyBtcihpLHIsbil9ZXZhbHVhdGUodCl7Y29uc3QgZT10aGlzLmxhYmVscyxyPXRoaXMub3V0cHV0cztpZigxPT09ZS5sZW5ndGgpcmV0dXJuIHJbMF0uZXZhbHVhdGUodCk7Y29uc3Qgbj10aGlzLmlucHV0LmV2YWx1YXRlKHQpO2lmKG48PWVbMF0pcmV0dXJuIHJbMF0uZXZhbHVhdGUodCk7Y29uc3QgaT1lLmxlbmd0aDtyZXR1cm4gbj49ZVtpLTFdP3JbaS0xXS5ldmFsdWF0ZSh0KTpyW3lyKGUsbildLmV2YWx1YXRlKHQpfWVhY2hDaGlsZCh0KXt0KHRoaXMuaW5wdXQpO2Zvcihjb25zdCBlIG9mIHRoaXMub3V0cHV0cyl0KGUpO31vdXRwdXREZWZpbmVkKCl7cmV0dXJuIHRoaXMub3V0cHV0cy5ldmVyeSgodD0+dC5vdXRwdXREZWZpbmVkKCkpKX1zZXJpYWxpemUoKXtjb25zdCB0PVtcInN0ZXBcIix0aGlzLmlucHV0LnNlcmlhbGl6ZSgpXTtmb3IobGV0IGU9MDtlPHRoaXMubGFiZWxzLmxlbmd0aDtlKyspZT4wJiZ0LnB1c2godGhpcy5sYWJlbHNbZV0pLHQucHVzaCh0aGlzLm91dHB1dHNbZV0uc2VyaWFsaXplKCkpO3JldHVybiB0fX12YXIgZ3I9bXI7ZnVuY3Rpb24geHIodCxlLHIpe3JldHVybiB0KigxLXIpK2Uqcn1mdW5jdGlvbiB2cih0LGUscil7cmV0dXJuIHQubWFwKCgodCxuKT0+eHIodCxlW25dLHIpKSl9dmFyIGJyPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLG51bWJlcjp4cixjb2xvcjpmdW5jdGlvbih0LGUscil7cmV0dXJuIG5ldyB4ZSh4cih0LnIsZS5yLHIpLHhyKHQuZyxlLmcscikseHIodC5iLGUuYixyKSx4cih0LmEsZS5hLHIpKX0sYXJyYXk6dnJ9KTtjb25zdCBfcj0uOTUwNDcsd3I9MS4wODg4MyxBcj00LzI5LFNyPTYvMjksa3I9MypTcipTcixJcj1NYXRoLlBJLzE4MCxNcj0xODAvTWF0aC5QSTtmdW5jdGlvbiB6cih0KXtyZXR1cm4gdD4uMDA4ODU2NDUxNjc5MDM1NjMxP01hdGgucG93KHQsMS8zKTp0L2tyK0FyfWZ1bmN0aW9uIFRyKHQpe3JldHVybiB0PlNyP3QqdCp0OmtyKih0LUFyKX1mdW5jdGlvbiBCcih0KXtyZXR1cm4gMjU1Kih0PD0uMDAzMTMwOD8xMi45Mip0OjEuMDU1Kk1hdGgucG93KHQsMS8yLjQpLS4wNTUpfWZ1bmN0aW9uIEVyKHQpe3JldHVybiAodC89MjU1KTw9LjA0MDQ1P3QvMTIuOTI6TWF0aC5wb3coKHQrLjA1NSkvMS4wNTUsMi40KX1mdW5jdGlvbiBDcih0KXtjb25zdCBlPUVyKHQucikscj1Fcih0LmcpLG49RXIodC5iKSxpPXpyKCguNDEyNDU2NCplKy4zNTc1NzYxKnIrLjE4MDQzNzUqbikvX3IpLHM9enIoKC4yMTI2NzI5KmUrLjcxNTE1MjIqcisuMDcyMTc1Km4pLzEpO3JldHVybiB7bDoxMTYqcy0xNixhOjUwMCooaS1zKSxiOjIwMCoocy16cigoLjAxOTMzMzkqZSsuMTE5MTkyKnIrLjk1MDMwNDEqbikvd3IpKSxhbHBoYTp0LmF9fWZ1bmN0aW9uIFByKHQpe2xldCBlPSh0LmwrMTYpLzExNixyPWlzTmFOKHQuYSk/ZTplK3QuYS81MDAsbj1pc05hTih0LmIpP2U6ZS10LmIvMjAwO3JldHVybiBlPTEqVHIoZSkscj1fcipUcihyKSxuPXdyKlRyKG4pLG5ldyB4ZShCcigzLjI0MDQ1NDIqci0xLjUzNzEzODUqZS0uNDk4NTMxNCpuKSxCcigtLjk2OTI2NipyKzEuODc2MDEwOCplKy4wNDE1NTYqbiksQnIoLjA1NTY0MzQqci0uMjA0MDI1OSplKzEuMDU3MjI1MipuKSx0LmFscGhhKX1mdW5jdGlvbiBEcih0LGUscil7Y29uc3Qgbj1lLXQ7cmV0dXJuIHQrcioobj4xODB8fG48LTE4MD9uLTM2MCpNYXRoLnJvdW5kKG4vMzYwKTpuKX1jb25zdCBWcj17Zm9yd2FyZDpDcixyZXZlcnNlOlByLGludGVycG9sYXRlOmZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4ge2w6eHIodC5sLGUubCxyKSxhOnhyKHQuYSxlLmEsciksYjp4cih0LmIsZS5iLHIpLGFscGhhOnhyKHQuYWxwaGEsZS5hbHBoYSxyKX19fSxGcj17Zm9yd2FyZDpmdW5jdGlvbih0KXtjb25zdHtsOmUsYTpyLGI6bn09Q3IodCksaT1NYXRoLmF0YW4yKG4scikqTXI7cmV0dXJuIHtoOmk8MD9pKzM2MDppLGM6TWF0aC5zcXJ0KHIqcituKm4pLGw6ZSxhbHBoYTp0LmF9fSxyZXZlcnNlOmZ1bmN0aW9uKHQpe2NvbnN0IGU9dC5oKklyLHI9dC5jO3JldHVybiBQcih7bDp0LmwsYTpNYXRoLmNvcyhlKSpyLGI6TWF0aC5zaW4oZSkqcixhbHBoYTp0LmFscGhhfSl9LGludGVycG9sYXRlOmZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4ge2g6RHIodC5oLGUuaCxyKSxjOnhyKHQuYyxlLmMsciksbDp4cih0LmwsZS5sLHIpLGFscGhhOnhyKHQuYWxwaGEsZS5hbHBoYSxyKX19fTt2YXIgTHI9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsbGFiOlZyLGhjbDpGcn0pO2NsYXNzIFJye2NvbnN0cnVjdG9yKHQsZSxyLG4saSl7dGhpcy50eXBlPXQsdGhpcy5vcGVyYXRvcj1lLHRoaXMuaW50ZXJwb2xhdGlvbj1yLHRoaXMuaW5wdXQ9bix0aGlzLmxhYmVscz1bXSx0aGlzLm91dHB1dHM9W107Zm9yKGNvbnN0W3QsZV1vZiBpKXRoaXMubGFiZWxzLnB1c2godCksdGhpcy5vdXRwdXRzLnB1c2goZSk7fXN0YXRpYyBpbnRlcnBvbGF0aW9uRmFjdG9yKHQsZSxuLGkpe2xldCBzPTA7aWYoXCJleHBvbmVudGlhbFwiPT09dC5uYW1lKXM9VXIoZSx0LmJhc2UsbixpKTtlbHNlIGlmKFwibGluZWFyXCI9PT10Lm5hbWUpcz1VcihlLDEsbixpKTtlbHNlIGlmKFwiY3ViaWMtYmV6aWVyXCI9PT10Lm5hbWUpe2NvbnN0IGE9dC5jb250cm9sUG9pbnRzO3M9bmV3IHIoYVswXSxhWzFdLGFbMl0sYVszXSkuc29sdmUoVXIoZSwxLG4saSkpO31yZXR1cm4gc31zdGF0aWMgcGFyc2UodCxlKXtsZXRbcixuLGksLi4uc109dDtpZighQXJyYXkuaXNBcnJheShuKXx8MD09PW4ubGVuZ3RoKXJldHVybiBlLmVycm9yKFwiRXhwZWN0ZWQgYW4gaW50ZXJwb2xhdGlvbiB0eXBlIGV4cHJlc3Npb24uXCIsMSk7aWYoXCJsaW5lYXJcIj09PW5bMF0pbj17bmFtZTpcImxpbmVhclwifTtlbHNlIGlmKFwiZXhwb25lbnRpYWxcIj09PW5bMF0pe2NvbnN0IHQ9blsxXTtpZihcIm51bWJlclwiIT10eXBlb2YgdClyZXR1cm4gZS5lcnJvcihcIkV4cG9uZW50aWFsIGludGVycG9sYXRpb24gcmVxdWlyZXMgYSBudW1lcmljIGJhc2UuXCIsMSwxKTtuPXtuYW1lOlwiZXhwb25lbnRpYWxcIixiYXNlOnR9O31lbHNlIHtpZihcImN1YmljLWJlemllclwiIT09blswXSlyZXR1cm4gZS5lcnJvcihgVW5rbm93biBpbnRlcnBvbGF0aW9uIHR5cGUgJHtTdHJpbmcoblswXSl9YCwxLDApO3tjb25zdCB0PW4uc2xpY2UoMSk7aWYoNCE9PXQubGVuZ3RofHx0LnNvbWUoKHQ9PlwibnVtYmVyXCIhPXR5cGVvZiB0fHx0PDB8fHQ+MSkpKXJldHVybiBlLmVycm9yKFwiQ3ViaWMgYmV6aWVyIGludGVycG9sYXRpb24gcmVxdWlyZXMgZm91ciBudW1lcmljIGFyZ3VtZW50cyB3aXRoIHZhbHVlcyBiZXR3ZWVuIDAgYW5kIDEuXCIsMSk7bj17bmFtZTpcImN1YmljLWJlemllclwiLGNvbnRyb2xQb2ludHM6dH07fX1pZih0Lmxlbmd0aC0xPDQpcmV0dXJuIGUuZXJyb3IoYEV4cGVjdGVkIGF0IGxlYXN0IDQgYXJndW1lbnRzLCBidXQgZm91bmQgb25seSAke3QubGVuZ3RoLTF9LmApO2lmKCh0Lmxlbmd0aC0xKSUyIT0wKXJldHVybiBlLmVycm9yKFwiRXhwZWN0ZWQgYW4gZXZlbiBudW1iZXIgb2YgYXJndW1lbnRzLlwiKTtpZihpPWUucGFyc2UoaSwyLHRlKSwhaSlyZXR1cm4gbnVsbDtjb25zdCBhPVtdO2xldCBvPW51bGw7XCJpbnRlcnBvbGF0ZS1oY2xcIj09PXJ8fFwiaW50ZXJwb2xhdGUtbGFiXCI9PT1yP289bmU6ZS5leHBlY3RlZFR5cGUmJlwidmFsdWVcIiE9PWUuZXhwZWN0ZWRUeXBlLmtpbmQmJihvPWUuZXhwZWN0ZWRUeXBlKTtmb3IobGV0IHQ9MDt0PHMubGVuZ3RoO3QrPTIpe2NvbnN0IHI9c1t0XSxuPXNbdCsxXSxpPXQrMyxsPXQrNDtpZihcIm51bWJlclwiIT10eXBlb2YgcilyZXR1cm4gZS5lcnJvcignSW5wdXQvb3V0cHV0IHBhaXJzIGZvciBcImludGVycG9sYXRlXCIgZXhwcmVzc2lvbnMgbXVzdCBiZSBkZWZpbmVkIHVzaW5nIGxpdGVyYWwgbnVtZXJpYyB2YWx1ZXMgKG5vdCBjb21wdXRlZCBleHByZXNzaW9ucykgZm9yIHRoZSBpbnB1dCB2YWx1ZXMuJyxpKTtpZihhLmxlbmd0aCYmYVthLmxlbmd0aC0xXVswXT49cilyZXR1cm4gZS5lcnJvcignSW5wdXQvb3V0cHV0IHBhaXJzIGZvciBcImludGVycG9sYXRlXCIgZXhwcmVzc2lvbnMgbXVzdCBiZSBhcnJhbmdlZCB3aXRoIGlucHV0IHZhbHVlcyBpbiBzdHJpY3RseSBhc2NlbmRpbmcgb3JkZXIuJyxpKTtjb25zdCB1PWUucGFyc2UobixsLG8pO2lmKCF1KXJldHVybiBudWxsO289b3x8dS50eXBlLGEucHVzaChbcix1XSk7fXJldHVybiBcIm51bWJlclwiPT09by5raW5kfHxcImNvbG9yXCI9PT1vLmtpbmR8fFwiYXJyYXlcIj09PW8ua2luZCYmXCJudW1iZXJcIj09PW8uaXRlbVR5cGUua2luZCYmXCJudW1iZXJcIj09dHlwZW9mIG8uTj9uZXcgUnIobyxyLG4saSxhKTplLmVycm9yKGBUeXBlICR7Y2Uobyl9IGlzIG5vdCBpbnRlcnBvbGF0YWJsZS5gKX1ldmFsdWF0ZSh0KXtjb25zdCBlPXRoaXMubGFiZWxzLHI9dGhpcy5vdXRwdXRzO2lmKDE9PT1lLmxlbmd0aClyZXR1cm4gclswXS5ldmFsdWF0ZSh0KTtjb25zdCBuPXRoaXMuaW5wdXQuZXZhbHVhdGUodCk7aWYobjw9ZVswXSlyZXR1cm4gclswXS5ldmFsdWF0ZSh0KTtjb25zdCBpPWUubGVuZ3RoO2lmKG4+PWVbaS0xXSlyZXR1cm4gcltpLTFdLmV2YWx1YXRlKHQpO2NvbnN0IHM9eXIoZSxuKSxhPVJyLmludGVycG9sYXRpb25GYWN0b3IodGhpcy5pbnRlcnBvbGF0aW9uLG4sZVtzXSxlW3MrMV0pLG89cltzXS5ldmFsdWF0ZSh0KSxsPXJbcysxXS5ldmFsdWF0ZSh0KTtyZXR1cm4gXCJpbnRlcnBvbGF0ZVwiPT09dGhpcy5vcGVyYXRvcj9iclt0aGlzLnR5cGUua2luZC50b0xvd2VyQ2FzZSgpXShvLGwsYSk6XCJpbnRlcnBvbGF0ZS1oY2xcIj09PXRoaXMub3BlcmF0b3I/RnIucmV2ZXJzZShGci5pbnRlcnBvbGF0ZShGci5mb3J3YXJkKG8pLEZyLmZvcndhcmQobCksYSkpOlZyLnJldmVyc2UoVnIuaW50ZXJwb2xhdGUoVnIuZm9yd2FyZChvKSxWci5mb3J3YXJkKGwpLGEpKX1lYWNoQ2hpbGQodCl7dCh0aGlzLmlucHV0KTtmb3IoY29uc3QgZSBvZiB0aGlzLm91dHB1dHMpdChlKTt9b3V0cHV0RGVmaW5lZCgpe3JldHVybiB0aGlzLm91dHB1dHMuZXZlcnkoKHQ9PnQub3V0cHV0RGVmaW5lZCgpKSl9c2VyaWFsaXplKCl7bGV0IHQ7dD1cImxpbmVhclwiPT09dGhpcy5pbnRlcnBvbGF0aW9uLm5hbWU/W1wibGluZWFyXCJdOlwiZXhwb25lbnRpYWxcIj09PXRoaXMuaW50ZXJwb2xhdGlvbi5uYW1lPzE9PT10aGlzLmludGVycG9sYXRpb24uYmFzZT9bXCJsaW5lYXJcIl06W1wiZXhwb25lbnRpYWxcIix0aGlzLmludGVycG9sYXRpb24uYmFzZV06W1wiY3ViaWMtYmV6aWVyXCJdLmNvbmNhdCh0aGlzLmludGVycG9sYXRpb24uY29udHJvbFBvaW50cyk7Y29uc3QgZT1bdGhpcy5vcGVyYXRvcix0LHRoaXMuaW5wdXQuc2VyaWFsaXplKCldO2ZvcihsZXQgdD0wO3Q8dGhpcy5sYWJlbHMubGVuZ3RoO3QrKyllLnB1c2godGhpcy5sYWJlbHNbdF0sdGhpcy5vdXRwdXRzW3RdLnNlcmlhbGl6ZSgpKTtyZXR1cm4gZX19ZnVuY3Rpb24gVXIodCxlLHIsbil7Y29uc3QgaT1uLXIscz10LXI7cmV0dXJuIDA9PT1pPzA6MT09PWU/cy9pOihNYXRoLnBvdyhlLHMpLTEpLyhNYXRoLnBvdyhlLGkpLTEpfXZhciBqcj1ScjtjbGFzcyAkcntjb25zdHJ1Y3Rvcih0LGUpe3RoaXMudHlwZT10LHRoaXMuYXJncz1lO31zdGF0aWMgcGFyc2UodCxlKXtpZih0Lmxlbmd0aDwyKXJldHVybiBlLmVycm9yKFwiRXhwZWN0ZWN0ZWQgYXQgbGVhc3Qgb25lIGFyZ3VtZW50LlwiKTtsZXQgcj1udWxsO2NvbnN0IG49ZS5leHBlY3RlZFR5cGU7biYmXCJ2YWx1ZVwiIT09bi5raW5kJiYocj1uKTtjb25zdCBpPVtdO2Zvcihjb25zdCBuIG9mIHQuc2xpY2UoMSkpe2NvbnN0IHQ9ZS5wYXJzZShuLDEraS5sZW5ndGgscix2b2lkIDAse3R5cGVBbm5vdGF0aW9uOlwib21pdFwifSk7aWYoIXQpcmV0dXJuIG51bGw7cj1yfHx0LnR5cGUsaS5wdXNoKHQpO31jb25zdCBzPW4mJmkuc29tZSgodD0+cGUobix0LnR5cGUpKSk7cmV0dXJuIG5ldyAkcihzP3NlOnIsaSl9ZXZhbHVhdGUodCl7bGV0IGUscj1udWxsLG49MDtmb3IoY29uc3QgaSBvZiB0aGlzLmFyZ3Mpe2lmKG4rKyxyPWkuZXZhbHVhdGUodCksciYmciBpbnN0YW5jZW9mIHdlJiYhci5hdmFpbGFibGUmJihlfHwoZT1yKSxyPW51bGwsbj09PXRoaXMuYXJncy5sZW5ndGgpKXJldHVybiBlO2lmKG51bGwhPT1yKWJyZWFrfXJldHVybiByfWVhY2hDaGlsZCh0KXt0aGlzLmFyZ3MuZm9yRWFjaCh0KTt9b3V0cHV0RGVmaW5lZCgpe3JldHVybiB0aGlzLmFyZ3MuZXZlcnkoKHQ9PnQub3V0cHV0RGVmaW5lZCgpKSl9c2VyaWFsaXplKCl7Y29uc3QgdD1bXCJjb2FsZXNjZVwiXTtyZXR1cm4gdGhpcy5lYWNoQ2hpbGQoKGU9Pnt0LnB1c2goZS5zZXJpYWxpemUoKSk7fSkpLHR9fXZhciBPcj0kcjtjbGFzcyBxcntjb25zdHJ1Y3Rvcih0LGUpe3RoaXMudHlwZT1lLnR5cGUsdGhpcy5iaW5kaW5ncz1bXS5jb25jYXQodCksdGhpcy5yZXN1bHQ9ZTt9ZXZhbHVhdGUodCl7cmV0dXJuIHRoaXMucmVzdWx0LmV2YWx1YXRlKHQpfWVhY2hDaGlsZCh0KXtmb3IoY29uc3QgZSBvZiB0aGlzLmJpbmRpbmdzKXQoZVsxXSk7dCh0aGlzLnJlc3VsdCk7fXN0YXRpYyBwYXJzZSh0LGUpe2lmKHQubGVuZ3RoPDQpcmV0dXJuIGUuZXJyb3IoYEV4cGVjdGVkIGF0IGxlYXN0IDMgYXJndW1lbnRzLCBidXQgZm91bmQgJHt0Lmxlbmd0aC0xfSBpbnN0ZWFkLmApO2NvbnN0IHI9W107Zm9yKGxldCBuPTE7bjx0Lmxlbmd0aC0xO24rPTIpe2NvbnN0IGk9dFtuXTtpZihcInN0cmluZ1wiIT10eXBlb2YgaSlyZXR1cm4gZS5lcnJvcihgRXhwZWN0ZWQgc3RyaW5nLCBidXQgZm91bmQgJHt0eXBlb2YgaX0gaW5zdGVhZC5gLG4pO2lmKC9bXmEtekEtWjAtOV9dLy50ZXN0KGkpKXJldHVybiBlLmVycm9yKFwiVmFyaWFibGUgbmFtZXMgbXVzdCBjb250YWluIG9ubHkgYWxwaGFudW1lcmljIGNoYXJhY3RlcnMgb3IgJ18nLlwiLG4pO2NvbnN0IHM9ZS5wYXJzZSh0W24rMV0sbisxKTtpZighcylyZXR1cm4gbnVsbDtyLnB1c2goW2ksc10pO31jb25zdCBuPWUucGFyc2UodFt0Lmxlbmd0aC0xXSx0Lmxlbmd0aC0xLGUuZXhwZWN0ZWRUeXBlLHIpO3JldHVybiBuP25ldyBxcihyLG4pOm51bGx9b3V0cHV0RGVmaW5lZCgpe3JldHVybiB0aGlzLnJlc3VsdC5vdXRwdXREZWZpbmVkKCl9c2VyaWFsaXplKCl7Y29uc3QgdD1bXCJsZXRcIl07Zm9yKGNvbnN0W2Uscl1vZiB0aGlzLmJpbmRpbmdzKXQucHVzaChlLHIuc2VyaWFsaXplKCkpO3JldHVybiB0LnB1c2godGhpcy5yZXN1bHQuc2VyaWFsaXplKCkpLHR9fXZhciBOcj1xcjtjbGFzcyBHcntjb25zdHJ1Y3Rvcih0LGUscil7dGhpcy50eXBlPXQsdGhpcy5pbmRleD1lLHRoaXMuaW5wdXQ9cjt9c3RhdGljIHBhcnNlKHQsZSl7aWYoMyE9PXQubGVuZ3RoKXJldHVybiBlLmVycm9yKGBFeHBlY3RlZCAyIGFyZ3VtZW50cywgYnV0IGZvdW5kICR7dC5sZW5ndGgtMX0gaW5zdGVhZC5gKTtjb25zdCByPWUucGFyc2UodFsxXSwxLHRlKSxuPWUucGFyc2UodFsyXSwyLHVlKGUuZXhwZWN0ZWRUeXBlfHxzZSkpO3JldHVybiByJiZuP25ldyBHcihuLnR5cGUuaXRlbVR5cGUscixuKTpudWxsfWV2YWx1YXRlKHQpe2NvbnN0IGU9dGhpcy5pbmRleC5ldmFsdWF0ZSh0KSxyPXRoaXMuaW5wdXQuZXZhbHVhdGUodCk7aWYoZTwwKXRocm93IG5ldyBUZShgQXJyYXkgaW5kZXggb3V0IG9mIGJvdW5kczogJHtlfSA8IDAuYCk7aWYoZT49ci5sZW5ndGgpdGhyb3cgbmV3IFRlKGBBcnJheSBpbmRleCBvdXQgb2YgYm91bmRzOiAke2V9ID4gJHtyLmxlbmd0aC0xfS5gKTtpZihlIT09TWF0aC5mbG9vcihlKSl0aHJvdyBuZXcgVGUoYEFycmF5IGluZGV4IG11c3QgYmUgYW4gaW50ZWdlciwgYnV0IGZvdW5kICR7ZX0gaW5zdGVhZC5gKTtyZXR1cm4gcltlXX1lYWNoQ2hpbGQodCl7dCh0aGlzLmluZGV4KSx0KHRoaXMuaW5wdXQpO31vdXRwdXREZWZpbmVkKCl7cmV0dXJuICExfXNlcmlhbGl6ZSgpe3JldHVybiBbXCJhdFwiLHRoaXMuaW5kZXguc2VyaWFsaXplKCksdGhpcy5pbnB1dC5zZXJpYWxpemUoKV19fXZhciBacj1HcjtjbGFzcyBYcntjb25zdHJ1Y3Rvcih0LGUpe3RoaXMudHlwZT1yZSx0aGlzLm5lZWRsZT10LHRoaXMuaGF5c3RhY2s9ZTt9c3RhdGljIHBhcnNlKHQsZSl7aWYoMyE9PXQubGVuZ3RoKXJldHVybiBlLmVycm9yKGBFeHBlY3RlZCAyIGFyZ3VtZW50cywgYnV0IGZvdW5kICR7dC5sZW5ndGgtMX0gaW5zdGVhZC5gKTtjb25zdCByPWUucGFyc2UodFsxXSwxLHNlKSxuPWUucGFyc2UodFsyXSwyLHNlKTtyZXR1cm4gciYmbj9mZShyLnR5cGUsW3JlLGVlLHRlLFF0LHNlXSk/bmV3IFhyKHIsbik6ZS5lcnJvcihgRXhwZWN0ZWQgZmlyc3QgYXJndW1lbnQgdG8gYmUgb2YgdHlwZSBib29sZWFuLCBzdHJpbmcsIG51bWJlciBvciBudWxsLCBidXQgZm91bmQgJHtjZShyLnR5cGUpfSBpbnN0ZWFkYCk6bnVsbH1ldmFsdWF0ZSh0KXtjb25zdCBlPXRoaXMubmVlZGxlLmV2YWx1YXRlKHQpLHI9dGhpcy5oYXlzdGFjay5ldmFsdWF0ZSh0KTtpZihudWxsPT1yKXJldHVybiAhMTtpZighZGUoZSxbXCJib29sZWFuXCIsXCJzdHJpbmdcIixcIm51bWJlclwiLFwibnVsbFwiXSkpdGhyb3cgbmV3IFRlKGBFeHBlY3RlZCBmaXJzdCBhcmd1bWVudCB0byBiZSBvZiB0eXBlIGJvb2xlYW4sIHN0cmluZywgbnVtYmVyIG9yIG51bGwsIGJ1dCBmb3VuZCAke2NlKGtlKGUpKX0gaW5zdGVhZC5gKTtpZighZGUocixbXCJzdHJpbmdcIixcImFycmF5XCJdKSl0aHJvdyBuZXcgVGUoYEV4cGVjdGVkIHNlY29uZCBhcmd1bWVudCB0byBiZSBvZiB0eXBlIGFycmF5IG9yIHN0cmluZywgYnV0IGZvdW5kICR7Y2Uoa2UocikpfSBpbnN0ZWFkLmApO3JldHVybiByLmluZGV4T2YoZSk+PTB9ZWFjaENoaWxkKHQpe3QodGhpcy5uZWVkbGUpLHQodGhpcy5oYXlzdGFjayk7fW91dHB1dERlZmluZWQoKXtyZXR1cm4gITB9c2VyaWFsaXplKCl7cmV0dXJuIFtcImluXCIsdGhpcy5uZWVkbGUuc2VyaWFsaXplKCksdGhpcy5oYXlzdGFjay5zZXJpYWxpemUoKV19fXZhciBLcj1YcjtjbGFzcyBIcntjb25zdHJ1Y3Rvcih0LGUscil7dGhpcy50eXBlPXRlLHRoaXMubmVlZGxlPXQsdGhpcy5oYXlzdGFjaz1lLHRoaXMuZnJvbUluZGV4PXI7fXN0YXRpYyBwYXJzZSh0LGUpe2lmKHQubGVuZ3RoPD0yfHx0Lmxlbmd0aD49NSlyZXR1cm4gZS5lcnJvcihgRXhwZWN0ZWQgMyBvciA0IGFyZ3VtZW50cywgYnV0IGZvdW5kICR7dC5sZW5ndGgtMX0gaW5zdGVhZC5gKTtjb25zdCByPWUucGFyc2UodFsxXSwxLHNlKSxuPWUucGFyc2UodFsyXSwyLHNlKTtpZighcnx8IW4pcmV0dXJuIG51bGw7aWYoIWZlKHIudHlwZSxbcmUsZWUsdGUsUXQsc2VdKSlyZXR1cm4gZS5lcnJvcihgRXhwZWN0ZWQgZmlyc3QgYXJndW1lbnQgdG8gYmUgb2YgdHlwZSBib29sZWFuLCBzdHJpbmcsIG51bWJlciBvciBudWxsLCBidXQgZm91bmQgJHtjZShyLnR5cGUpfSBpbnN0ZWFkYCk7aWYoND09PXQubGVuZ3RoKXtjb25zdCBpPWUucGFyc2UodFszXSwzLHRlKTtyZXR1cm4gaT9uZXcgSHIocixuLGkpOm51bGx9cmV0dXJuIG5ldyBIcihyLG4pfWV2YWx1YXRlKHQpe2NvbnN0IGU9dGhpcy5uZWVkbGUuZXZhbHVhdGUodCkscj10aGlzLmhheXN0YWNrLmV2YWx1YXRlKHQpO2lmKCFkZShlLFtcImJvb2xlYW5cIixcInN0cmluZ1wiLFwibnVtYmVyXCIsXCJudWxsXCJdKSl0aHJvdyBuZXcgVGUoYEV4cGVjdGVkIGZpcnN0IGFyZ3VtZW50IHRvIGJlIG9mIHR5cGUgYm9vbGVhbiwgc3RyaW5nLCBudW1iZXIgb3IgbnVsbCwgYnV0IGZvdW5kICR7Y2Uoa2UoZSkpfSBpbnN0ZWFkLmApO2lmKCFkZShyLFtcInN0cmluZ1wiLFwiYXJyYXlcIl0pKXRocm93IG5ldyBUZShgRXhwZWN0ZWQgc2Vjb25kIGFyZ3VtZW50IHRvIGJlIG9mIHR5cGUgYXJyYXkgb3Igc3RyaW5nLCBidXQgZm91bmQgJHtjZShrZShyKSl9IGluc3RlYWQuYCk7aWYodGhpcy5mcm9tSW5kZXgpe2NvbnN0IG49dGhpcy5mcm9tSW5kZXguZXZhbHVhdGUodCk7cmV0dXJuIHIuaW5kZXhPZihlLG4pfXJldHVybiByLmluZGV4T2YoZSl9ZWFjaENoaWxkKHQpe3QodGhpcy5uZWVkbGUpLHQodGhpcy5oYXlzdGFjayksdGhpcy5mcm9tSW5kZXgmJnQodGhpcy5mcm9tSW5kZXgpO31vdXRwdXREZWZpbmVkKCl7cmV0dXJuICExfXNlcmlhbGl6ZSgpe2lmKG51bGwhPXRoaXMuZnJvbUluZGV4JiZ2b2lkIDAhPT10aGlzLmZyb21JbmRleCl7Y29uc3QgdD10aGlzLmZyb21JbmRleC5zZXJpYWxpemUoKTtyZXR1cm4gW1wiaW5kZXgtb2ZcIix0aGlzLm5lZWRsZS5zZXJpYWxpemUoKSx0aGlzLmhheXN0YWNrLnNlcmlhbGl6ZSgpLHRdfXJldHVybiBbXCJpbmRleC1vZlwiLHRoaXMubmVlZGxlLnNlcmlhbGl6ZSgpLHRoaXMuaGF5c3RhY2suc2VyaWFsaXplKCldfX12YXIgWXI9SHI7Y2xhc3MgV3J7Y29uc3RydWN0b3IodCxlLHIsbixpLHMpe3RoaXMuaW5wdXRUeXBlPXQsdGhpcy50eXBlPWUsdGhpcy5pbnB1dD1yLHRoaXMuY2FzZXM9bix0aGlzLm91dHB1dHM9aSx0aGlzLm90aGVyd2lzZT1zO31zdGF0aWMgcGFyc2UodCxlKXtpZih0Lmxlbmd0aDw1KXJldHVybiBlLmVycm9yKGBFeHBlY3RlZCBhdCBsZWFzdCA0IGFyZ3VtZW50cywgYnV0IGZvdW5kIG9ubHkgJHt0Lmxlbmd0aC0xfS5gKTtpZih0Lmxlbmd0aCUyIT0xKXJldHVybiBlLmVycm9yKFwiRXhwZWN0ZWQgYW4gZXZlbiBudW1iZXIgb2YgYXJndW1lbnRzLlwiKTtsZXQgcixuO2UuZXhwZWN0ZWRUeXBlJiZcInZhbHVlXCIhPT1lLmV4cGVjdGVkVHlwZS5raW5kJiYobj1lLmV4cGVjdGVkVHlwZSk7Y29uc3QgaT17fSxzPVtdO2ZvcihsZXQgYT0yO2E8dC5sZW5ndGgtMTthKz0yKXtsZXQgbz10W2FdO2NvbnN0IGw9dFthKzFdO0FycmF5LmlzQXJyYXkobyl8fChvPVtvXSk7Y29uc3QgdT1lLmNvbmNhdChhKTtpZigwPT09by5sZW5ndGgpcmV0dXJuIHUuZXJyb3IoXCJFeHBlY3RlZCBhdCBsZWFzdCBvbmUgYnJhbmNoIGxhYmVsLlwiKTtmb3IoY29uc3QgdCBvZiBvKXtpZihcIm51bWJlclwiIT10eXBlb2YgdCYmXCJzdHJpbmdcIiE9dHlwZW9mIHQpcmV0dXJuIHUuZXJyb3IoXCJCcmFuY2ggbGFiZWxzIG11c3QgYmUgbnVtYmVycyBvciBzdHJpbmdzLlwiKTtpZihcIm51bWJlclwiPT10eXBlb2YgdCYmTWF0aC5hYnModCk+TnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIpcmV0dXJuIHUuZXJyb3IoYEJyYW5jaCBsYWJlbHMgbXVzdCBiZSBpbnRlZ2VycyBubyBsYXJnZXIgdGhhbiAke051bWJlci5NQVhfU0FGRV9JTlRFR0VSfS5gKTtpZihcIm51bWJlclwiPT10eXBlb2YgdCYmTWF0aC5mbG9vcih0KSE9PXQpcmV0dXJuIHUuZXJyb3IoXCJOdW1lcmljIGJyYW5jaCBsYWJlbHMgbXVzdCBiZSBpbnRlZ2VyIHZhbHVlcy5cIik7aWYocil7aWYodS5jaGVja1N1YnR5cGUocixrZSh0KSkpcmV0dXJuIG51bGx9ZWxzZSByPWtlKHQpO2lmKHZvaWQgMCE9PWlbU3RyaW5nKHQpXSlyZXR1cm4gdS5lcnJvcihcIkJyYW5jaCBsYWJlbHMgbXVzdCBiZSB1bmlxdWUuXCIpO2lbU3RyaW5nKHQpXT1zLmxlbmd0aDt9Y29uc3QgYz1lLnBhcnNlKGwsYSxuKTtpZighYylyZXR1cm4gbnVsbDtuPW58fGMudHlwZSxzLnB1c2goYyk7fWNvbnN0IGE9ZS5wYXJzZSh0WzFdLDEsc2UpO2lmKCFhKXJldHVybiBudWxsO2NvbnN0IG89ZS5wYXJzZSh0W3QubGVuZ3RoLTFdLHQubGVuZ3RoLTEsbik7cmV0dXJuIG8/XCJ2YWx1ZVwiIT09YS50eXBlLmtpbmQmJmUuY29uY2F0KDEpLmNoZWNrU3VidHlwZShyLGEudHlwZSk/bnVsbDpuZXcgV3IocixuLGEsaSxzLG8pOm51bGx9ZXZhbHVhdGUodCl7Y29uc3QgZT10aGlzLmlucHV0LmV2YWx1YXRlKHQpO3JldHVybiAoa2UoZSk9PT10aGlzLmlucHV0VHlwZSYmdGhpcy5vdXRwdXRzW3RoaXMuY2FzZXNbZV1dfHx0aGlzLm90aGVyd2lzZSkuZXZhbHVhdGUodCl9ZWFjaENoaWxkKHQpe3QodGhpcy5pbnB1dCksdGhpcy5vdXRwdXRzLmZvckVhY2godCksdCh0aGlzLm90aGVyd2lzZSk7fW91dHB1dERlZmluZWQoKXtyZXR1cm4gdGhpcy5vdXRwdXRzLmV2ZXJ5KCh0PT50Lm91dHB1dERlZmluZWQoKSkpJiZ0aGlzLm90aGVyd2lzZS5vdXRwdXREZWZpbmVkKCl9c2VyaWFsaXplKCl7Y29uc3QgdD1bXCJtYXRjaFwiLHRoaXMuaW5wdXQuc2VyaWFsaXplKCldLGU9T2JqZWN0LmtleXModGhpcy5jYXNlcykuc29ydCgpLHI9W10sbj17fTtmb3IoY29uc3QgdCBvZiBlKXtjb25zdCBlPW5bdGhpcy5jYXNlc1t0XV07dm9pZCAwPT09ZT8oblt0aGlzLmNhc2VzW3RdXT1yLmxlbmd0aCxyLnB1c2goW3RoaXMuY2FzZXNbdF0sW3RdXSkpOnJbZV1bMV0ucHVzaCh0KTt9Y29uc3QgaT10PT5cIm51bWJlclwiPT09dGhpcy5pbnB1dFR5cGUua2luZD9OdW1iZXIodCk6dDtmb3IoY29uc3RbZSxuXW9mIHIpdC5wdXNoKDE9PT1uLmxlbmd0aD9pKG5bMF0pOm4ubWFwKGkpKSx0LnB1c2godGhpcy5vdXRwdXRzW2VdLnNlcmlhbGl6ZSgpKTtyZXR1cm4gdC5wdXNoKHRoaXMub3RoZXJ3aXNlLnNlcmlhbGl6ZSgpKSx0fX12YXIgSnI9V3I7Y2xhc3MgUXJ7Y29uc3RydWN0b3IodCxlLHIpe3RoaXMudHlwZT10LHRoaXMuYnJhbmNoZXM9ZSx0aGlzLm90aGVyd2lzZT1yO31zdGF0aWMgcGFyc2UodCxlKXtpZih0Lmxlbmd0aDw0KXJldHVybiBlLmVycm9yKGBFeHBlY3RlZCBhdCBsZWFzdCAzIGFyZ3VtZW50cywgYnV0IGZvdW5kIG9ubHkgJHt0Lmxlbmd0aC0xfS5gKTtpZih0Lmxlbmd0aCUyIT0wKXJldHVybiBlLmVycm9yKFwiRXhwZWN0ZWQgYW4gb2RkIG51bWJlciBvZiBhcmd1bWVudHMuXCIpO2xldCByO2UuZXhwZWN0ZWRUeXBlJiZcInZhbHVlXCIhPT1lLmV4cGVjdGVkVHlwZS5raW5kJiYocj1lLmV4cGVjdGVkVHlwZSk7Y29uc3Qgbj1bXTtmb3IobGV0IGk9MTtpPHQubGVuZ3RoLTE7aSs9Mil7Y29uc3Qgcz1lLnBhcnNlKHRbaV0saSxyZSk7aWYoIXMpcmV0dXJuIG51bGw7Y29uc3QgYT1lLnBhcnNlKHRbaSsxXSxpKzEscik7aWYoIWEpcmV0dXJuIG51bGw7bi5wdXNoKFtzLGFdKSxyPXJ8fGEudHlwZTt9Y29uc3QgaT1lLnBhcnNlKHRbdC5sZW5ndGgtMV0sdC5sZW5ndGgtMSxyKTtyZXR1cm4gaT9uZXcgUXIocixuLGkpOm51bGx9ZXZhbHVhdGUodCl7Zm9yKGNvbnN0W2Uscl1vZiB0aGlzLmJyYW5jaGVzKWlmKGUuZXZhbHVhdGUodCkpcmV0dXJuIHIuZXZhbHVhdGUodCk7cmV0dXJuIHRoaXMub3RoZXJ3aXNlLmV2YWx1YXRlKHQpfWVhY2hDaGlsZCh0KXtmb3IoY29uc3RbZSxyXW9mIHRoaXMuYnJhbmNoZXMpdChlKSx0KHIpO3QodGhpcy5vdGhlcndpc2UpO31vdXRwdXREZWZpbmVkKCl7cmV0dXJuIHRoaXMuYnJhbmNoZXMuZXZlcnkoKChbdCxlXSk9PmUub3V0cHV0RGVmaW5lZCgpKSkmJnRoaXMub3RoZXJ3aXNlLm91dHB1dERlZmluZWQoKX1zZXJpYWxpemUoKXtjb25zdCB0PVtcImNhc2VcIl07cmV0dXJuIHRoaXMuZWFjaENoaWxkKChlPT57dC5wdXNoKGUuc2VyaWFsaXplKCkpO30pKSx0fX12YXIgdG49UXI7Y2xhc3MgZW57Y29uc3RydWN0b3IodCxlLHIsbil7dGhpcy50eXBlPXQsdGhpcy5pbnB1dD1lLHRoaXMuYmVnaW5JbmRleD1yLHRoaXMuZW5kSW5kZXg9bjt9c3RhdGljIHBhcnNlKHQsZSl7aWYodC5sZW5ndGg8PTJ8fHQubGVuZ3RoPj01KXJldHVybiBlLmVycm9yKGBFeHBlY3RlZCAzIG9yIDQgYXJndW1lbnRzLCBidXQgZm91bmQgJHt0Lmxlbmd0aC0xfSBpbnN0ZWFkLmApO2NvbnN0IHI9ZS5wYXJzZSh0WzFdLDEsc2UpLG49ZS5wYXJzZSh0WzJdLDIsdGUpO2lmKCFyfHwhbilyZXR1cm4gbnVsbDtpZighZmUoci50eXBlLFt1ZShzZSksZWUsc2VdKSlyZXR1cm4gZS5lcnJvcihgRXhwZWN0ZWQgZmlyc3QgYXJndW1lbnQgdG8gYmUgb2YgdHlwZSBhcnJheSBvciBzdHJpbmcsIGJ1dCBmb3VuZCAke2NlKHIudHlwZSl9IGluc3RlYWRgKTtpZig0PT09dC5sZW5ndGgpe2NvbnN0IGk9ZS5wYXJzZSh0WzNdLDMsdGUpO3JldHVybiBpP25ldyBlbihyLnR5cGUscixuLGkpOm51bGx9cmV0dXJuIG5ldyBlbihyLnR5cGUscixuKX1ldmFsdWF0ZSh0KXtjb25zdCBlPXRoaXMuaW5wdXQuZXZhbHVhdGUodCkscj10aGlzLmJlZ2luSW5kZXguZXZhbHVhdGUodCk7aWYoIWRlKGUsW1wic3RyaW5nXCIsXCJhcnJheVwiXSkpdGhyb3cgbmV3IFRlKGBFeHBlY3RlZCBmaXJzdCBhcmd1bWVudCB0byBiZSBvZiB0eXBlIGFycmF5IG9yIHN0cmluZywgYnV0IGZvdW5kICR7Y2Uoa2UoZSkpfSBpbnN0ZWFkLmApO2lmKHRoaXMuZW5kSW5kZXgpe2NvbnN0IG49dGhpcy5lbmRJbmRleC5ldmFsdWF0ZSh0KTtyZXR1cm4gZS5zbGljZShyLG4pfXJldHVybiBlLnNsaWNlKHIpfWVhY2hDaGlsZCh0KXt0KHRoaXMuaW5wdXQpLHQodGhpcy5iZWdpbkluZGV4KSx0aGlzLmVuZEluZGV4JiZ0KHRoaXMuZW5kSW5kZXgpO31vdXRwdXREZWZpbmVkKCl7cmV0dXJuICExfXNlcmlhbGl6ZSgpe2lmKG51bGwhPXRoaXMuZW5kSW5kZXgmJnZvaWQgMCE9PXRoaXMuZW5kSW5kZXgpe2NvbnN0IHQ9dGhpcy5lbmRJbmRleC5zZXJpYWxpemUoKTtyZXR1cm4gW1wic2xpY2VcIix0aGlzLmlucHV0LnNlcmlhbGl6ZSgpLHRoaXMuYmVnaW5JbmRleC5zZXJpYWxpemUoKSx0XX1yZXR1cm4gW1wic2xpY2VcIix0aGlzLmlucHV0LnNlcmlhbGl6ZSgpLHRoaXMuYmVnaW5JbmRleC5zZXJpYWxpemUoKV19fXZhciBybj1lbjtmdW5jdGlvbiBubih0LGUpe3JldHVybiBcIj09XCI9PT10fHxcIiE9XCI9PT10P1wiYm9vbGVhblwiPT09ZS5raW5kfHxcInN0cmluZ1wiPT09ZS5raW5kfHxcIm51bWJlclwiPT09ZS5raW5kfHxcIm51bGxcIj09PWUua2luZHx8XCJ2YWx1ZVwiPT09ZS5raW5kOlwic3RyaW5nXCI9PT1lLmtpbmR8fFwibnVtYmVyXCI9PT1lLmtpbmR8fFwidmFsdWVcIj09PWUua2luZH1mdW5jdGlvbiBzbih0LGUscixuKXtyZXR1cm4gMD09PW4uY29tcGFyZShlLHIpfWZ1bmN0aW9uIGFuKHQsZSxyKXtjb25zdCBuPVwiPT1cIiE9PXQmJlwiIT1cIiE9PXQ7cmV0dXJuIGNsYXNzIGl7Y29uc3RydWN0b3IodCxlLHIpe3RoaXMudHlwZT1yZSx0aGlzLmxocz10LHRoaXMucmhzPWUsdGhpcy5jb2xsYXRvcj1yLHRoaXMuaGFzVW50eXBlZEFyZ3VtZW50PVwidmFsdWVcIj09PXQudHlwZS5raW5kfHxcInZhbHVlXCI9PT1lLnR5cGUua2luZDt9c3RhdGljIHBhcnNlKHQsZSl7aWYoMyE9PXQubGVuZ3RoJiY0IT09dC5sZW5ndGgpcmV0dXJuIGUuZXJyb3IoXCJFeHBlY3RlZCB0d28gb3IgdGhyZWUgYXJndW1lbnRzLlwiKTtjb25zdCByPXRbMF07bGV0IHM9ZS5wYXJzZSh0WzFdLDEsc2UpO2lmKCFzKXJldHVybiBudWxsO2lmKCFubihyLHMudHlwZSkpcmV0dXJuIGUuY29uY2F0KDEpLmVycm9yKGBcIiR7cn1cIiBjb21wYXJpc29ucyBhcmUgbm90IHN1cHBvcnRlZCBmb3IgdHlwZSAnJHtjZShzLnR5cGUpfScuYCk7bGV0IGE9ZS5wYXJzZSh0WzJdLDIsc2UpO2lmKCFhKXJldHVybiBudWxsO2lmKCFubihyLGEudHlwZSkpcmV0dXJuIGUuY29uY2F0KDIpLmVycm9yKGBcIiR7cn1cIiBjb21wYXJpc29ucyBhcmUgbm90IHN1cHBvcnRlZCBmb3IgdHlwZSAnJHtjZShhLnR5cGUpfScuYCk7aWYocy50eXBlLmtpbmQhPT1hLnR5cGUua2luZCYmXCJ2YWx1ZVwiIT09cy50eXBlLmtpbmQmJlwidmFsdWVcIiE9PWEudHlwZS5raW5kKXJldHVybiBlLmVycm9yKGBDYW5ub3QgY29tcGFyZSB0eXBlcyAnJHtjZShzLnR5cGUpfScgYW5kICcke2NlKGEudHlwZSl9Jy5gKTtuJiYoXCJ2YWx1ZVwiPT09cy50eXBlLmtpbmQmJlwidmFsdWVcIiE9PWEudHlwZS5raW5kP3M9bmV3IENlKGEudHlwZSxbc10pOlwidmFsdWVcIiE9PXMudHlwZS5raW5kJiZcInZhbHVlXCI9PT1hLnR5cGUua2luZCYmKGE9bmV3IENlKHMudHlwZSxbYV0pKSk7bGV0IG89bnVsbDtpZig0PT09dC5sZW5ndGgpe2lmKFwic3RyaW5nXCIhPT1zLnR5cGUua2luZCYmXCJzdHJpbmdcIiE9PWEudHlwZS5raW5kJiZcInZhbHVlXCIhPT1zLnR5cGUua2luZCYmXCJ2YWx1ZVwiIT09YS50eXBlLmtpbmQpcmV0dXJuIGUuZXJyb3IoXCJDYW5ub3QgdXNlIGNvbGxhdG9yIHRvIGNvbXBhcmUgbm9uLXN0cmluZyB0eXBlcy5cIik7aWYobz1lLnBhcnNlKHRbM10sMyxhZSksIW8pcmV0dXJuIG51bGx9cmV0dXJuIG5ldyBpKHMsYSxvKX1ldmFsdWF0ZShpKXtjb25zdCBzPXRoaXMubGhzLmV2YWx1YXRlKGkpLGE9dGhpcy5yaHMuZXZhbHVhdGUoaSk7aWYobiYmdGhpcy5oYXNVbnR5cGVkQXJndW1lbnQpe2NvbnN0IGU9a2Uocykscj1rZShhKTtpZihlLmtpbmQhPT1yLmtpbmR8fFwic3RyaW5nXCIhPT1lLmtpbmQmJlwibnVtYmVyXCIhPT1lLmtpbmQpdGhyb3cgbmV3IFRlKGBFeHBlY3RlZCBhcmd1bWVudHMgZm9yIFwiJHt0fVwiIHRvIGJlIChzdHJpbmcsIHN0cmluZykgb3IgKG51bWJlciwgbnVtYmVyKSwgYnV0IGZvdW5kICgke2Uua2luZH0sICR7ci5raW5kfSkgaW5zdGVhZC5gKX1pZih0aGlzLmNvbGxhdG9yJiYhbiYmdGhpcy5oYXNVbnR5cGVkQXJndW1lbnQpe2NvbnN0IHQ9a2Uocykscj1rZShhKTtpZihcInN0cmluZ1wiIT09dC5raW5kfHxcInN0cmluZ1wiIT09ci5raW5kKXJldHVybiBlKGkscyxhKX1yZXR1cm4gdGhpcy5jb2xsYXRvcj9yKGkscyxhLHRoaXMuY29sbGF0b3IuZXZhbHVhdGUoaSkpOmUoaSxzLGEpfWVhY2hDaGlsZCh0KXt0KHRoaXMubGhzKSx0KHRoaXMucmhzKSx0aGlzLmNvbGxhdG9yJiZ0KHRoaXMuY29sbGF0b3IpO31vdXRwdXREZWZpbmVkKCl7cmV0dXJuICEwfXNlcmlhbGl6ZSgpe2NvbnN0IGU9W3RdO3JldHVybiB0aGlzLmVhY2hDaGlsZCgodD0+e2UucHVzaCh0LnNlcmlhbGl6ZSgpKTt9KSksZX19fWNvbnN0IG9uPWFuKFwiPT1cIiwoZnVuY3Rpb24odCxlLHIpe3JldHVybiBlPT09cn0pLHNuKSxsbj1hbihcIiE9XCIsKGZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gZSE9PXJ9KSwoZnVuY3Rpb24odCxlLHIsbil7cmV0dXJuICFzbigwLGUscixuKX0pKSx1bj1hbihcIjxcIiwoZnVuY3Rpb24odCxlLHIpe3JldHVybiBlPHJ9KSwoZnVuY3Rpb24odCxlLHIsbil7cmV0dXJuIG4uY29tcGFyZShlLHIpPDB9KSksY249YW4oXCI+XCIsKGZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gZT5yfSksKGZ1bmN0aW9uKHQsZSxyLG4pe3JldHVybiBuLmNvbXBhcmUoZSxyKT4wfSkpLGhuPWFuKFwiPD1cIiwoZnVuY3Rpb24odCxlLHIpe3JldHVybiBlPD1yfSksKGZ1bmN0aW9uKHQsZSxyLG4pe3JldHVybiBuLmNvbXBhcmUoZSxyKTw9MH0pKSxwbj1hbihcIj49XCIsKGZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gZT49cn0pLChmdW5jdGlvbih0LGUscixuKXtyZXR1cm4gbi5jb21wYXJlKGUscik+PTB9KSk7Y2xhc3MgZm57Y29uc3RydWN0b3IodCxlLHIsbixpLHMpe3RoaXMudHlwZT1lZSx0aGlzLm51bWJlcj10LHRoaXMubG9jYWxlPWUsdGhpcy5jdXJyZW5jeT1yLHRoaXMudW5pdD1uLHRoaXMubWluRnJhY3Rpb25EaWdpdHM9aSx0aGlzLm1heEZyYWN0aW9uRGlnaXRzPXM7fXN0YXRpYyBwYXJzZSh0LGUpe2lmKDMhPT10Lmxlbmd0aClyZXR1cm4gZS5lcnJvcihcIkV4cGVjdGVkIHR3byBhcmd1bWVudHMuXCIpO2NvbnN0IHI9ZS5wYXJzZSh0WzFdLDEsdGUpO2lmKCFyKXJldHVybiBudWxsO2NvbnN0IG49dFsyXTtpZihcIm9iamVjdFwiIT10eXBlb2Ygbnx8QXJyYXkuaXNBcnJheShuKSlyZXR1cm4gZS5lcnJvcihcIk51bWJlckZvcm1hdCBvcHRpb25zIGFyZ3VtZW50IG11c3QgYmUgYW4gb2JqZWN0LlwiKTtsZXQgaT1udWxsO2lmKG4ubG9jYWxlJiYoaT1lLnBhcnNlKG4ubG9jYWxlLDEsZWUpLCFpKSlyZXR1cm4gbnVsbDtsZXQgcz1udWxsO2lmKG4uY3VycmVuY3kmJihzPWUucGFyc2Uobi5jdXJyZW5jeSwxLGVlKSwhcykpcmV0dXJuIG51bGw7bGV0IGE9bnVsbDtpZihuLnVuaXQmJihhPWUucGFyc2Uobi51bml0LDEsZWUpLCFhKSlyZXR1cm4gbnVsbDtsZXQgbz1udWxsO2lmKG5bXCJtaW4tZnJhY3Rpb24tZGlnaXRzXCJdJiYobz1lLnBhcnNlKG5bXCJtaW4tZnJhY3Rpb24tZGlnaXRzXCJdLDEsdGUpLCFvKSlyZXR1cm4gbnVsbDtsZXQgbD1udWxsO3JldHVybiBuW1wibWF4LWZyYWN0aW9uLWRpZ2l0c1wiXSYmKGw9ZS5wYXJzZShuW1wibWF4LWZyYWN0aW9uLWRpZ2l0c1wiXSwxLHRlKSwhbCk/bnVsbDpuZXcgZm4ocixpLHMsYSxvLGwpfWV2YWx1YXRlKHQpe3JldHVybiBuZXcgSW50bC5OdW1iZXJGb3JtYXQodGhpcy5sb2NhbGU/dGhpcy5sb2NhbGUuZXZhbHVhdGUodCk6W10se3N0eWxlOih0aGlzLmN1cnJlbmN5P1wiY3VycmVuY3lcIjp0aGlzLnVuaXQmJlwidW5pdFwiKXx8XCJkZWNpbWFsXCIsY3VycmVuY3k6dGhpcy5jdXJyZW5jeT90aGlzLmN1cnJlbmN5LmV2YWx1YXRlKHQpOnZvaWQgMCx1bml0OnRoaXMudW5pdD90aGlzLnVuaXQuZXZhbHVhdGUodCk6dm9pZCAwLG1pbmltdW1GcmFjdGlvbkRpZ2l0czp0aGlzLm1pbkZyYWN0aW9uRGlnaXRzP3RoaXMubWluRnJhY3Rpb25EaWdpdHMuZXZhbHVhdGUodCk6dm9pZCAwLG1heGltdW1GcmFjdGlvbkRpZ2l0czp0aGlzLm1heEZyYWN0aW9uRGlnaXRzP3RoaXMubWF4RnJhY3Rpb25EaWdpdHMuZXZhbHVhdGUodCk6dm9pZCAwfSkuZm9ybWF0KHRoaXMubnVtYmVyLmV2YWx1YXRlKHQpKX1lYWNoQ2hpbGQodCl7dCh0aGlzLm51bWJlciksdGhpcy5sb2NhbGUmJnQodGhpcy5sb2NhbGUpLHRoaXMuY3VycmVuY3kmJnQodGhpcy5jdXJyZW5jeSksdGhpcy51bml0JiZ0KHRoaXMudW5pdCksdGhpcy5taW5GcmFjdGlvbkRpZ2l0cyYmdCh0aGlzLm1pbkZyYWN0aW9uRGlnaXRzKSx0aGlzLm1heEZyYWN0aW9uRGlnaXRzJiZ0KHRoaXMubWF4RnJhY3Rpb25EaWdpdHMpO31vdXRwdXREZWZpbmVkKCl7cmV0dXJuICExfXNlcmlhbGl6ZSgpe2NvbnN0IHQ9e307cmV0dXJuIHRoaXMubG9jYWxlJiYodC5sb2NhbGU9dGhpcy5sb2NhbGUuc2VyaWFsaXplKCkpLHRoaXMuY3VycmVuY3kmJih0LmN1cnJlbmN5PXRoaXMuY3VycmVuY3kuc2VyaWFsaXplKCkpLHRoaXMudW5pdCYmKHQudW5pdD10aGlzLnVuaXQuc2VyaWFsaXplKCkpLHRoaXMubWluRnJhY3Rpb25EaWdpdHMmJih0W1wibWluLWZyYWN0aW9uLWRpZ2l0c1wiXT10aGlzLm1pbkZyYWN0aW9uRGlnaXRzLnNlcmlhbGl6ZSgpKSx0aGlzLm1heEZyYWN0aW9uRGlnaXRzJiYodFtcIm1heC1mcmFjdGlvbi1kaWdpdHNcIl09dGhpcy5tYXhGcmFjdGlvbkRpZ2l0cy5zZXJpYWxpemUoKSksW1wibnVtYmVyLWZvcm1hdFwiLHRoaXMubnVtYmVyLnNlcmlhbGl6ZSgpLHRdfX1jbGFzcyBkbntjb25zdHJ1Y3Rvcih0KXt0aGlzLnR5cGU9dGUsdGhpcy5pbnB1dD10O31zdGF0aWMgcGFyc2UodCxlKXtpZigyIT09dC5sZW5ndGgpcmV0dXJuIGUuZXJyb3IoYEV4cGVjdGVkIDEgYXJndW1lbnQsIGJ1dCBmb3VuZCAke3QubGVuZ3RoLTF9IGluc3RlYWQuYCk7Y29uc3Qgcj1lLnBhcnNlKHRbMV0sMSk7cmV0dXJuIHI/XCJhcnJheVwiIT09ci50eXBlLmtpbmQmJlwic3RyaW5nXCIhPT1yLnR5cGUua2luZCYmXCJ2YWx1ZVwiIT09ci50eXBlLmtpbmQ/ZS5lcnJvcihgRXhwZWN0ZWQgYXJndW1lbnQgb2YgdHlwZSBzdHJpbmcgb3IgYXJyYXksIGJ1dCBmb3VuZCAke2NlKHIudHlwZSl9IGluc3RlYWQuYCk6bmV3IGRuKHIpOm51bGx9ZXZhbHVhdGUodCl7Y29uc3QgZT10aGlzLmlucHV0LmV2YWx1YXRlKHQpO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlKXJldHVybiBlLmxlbmd0aDtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlLmxlbmd0aDt0aHJvdyBuZXcgVGUoYEV4cGVjdGVkIHZhbHVlIHRvIGJlIG9mIHR5cGUgc3RyaW5nIG9yIGFycmF5LCBidXQgZm91bmQgJHtjZShrZShlKSl9IGluc3RlYWQuYCl9ZWFjaENoaWxkKHQpe3QodGhpcy5pbnB1dCk7fW91dHB1dERlZmluZWQoKXtyZXR1cm4gITF9c2VyaWFsaXplKCl7Y29uc3QgdD1bXCJsZW5ndGhcIl07cmV0dXJuIHRoaXMuZWFjaENoaWxkKChlPT57dC5wdXNoKGUuc2VyaWFsaXplKCkpO30pKSx0fX1jb25zdCB5bj17XCI9PVwiOm9uLFwiIT1cIjpsbixcIj5cIjpjbixcIjxcIjp1bixcIj49XCI6cG4sXCI8PVwiOmhuLGFycmF5OkNlLGF0OlpyLGJvb2xlYW46Q2UsY2FzZTp0bixjb2FsZXNjZTpPcixjb2xsYXRvcjpPZSxmb3JtYXQ6UGUsaW1hZ2U6RGUsaW46S3IsXCJpbmRleC1vZlwiOllyLGludGVycG9sYXRlOmpyLFwiaW50ZXJwb2xhdGUtaGNsXCI6anIsXCJpbnRlcnBvbGF0ZS1sYWJcIjpqcixsZW5ndGg6ZG4sbGV0Ok5yLGxpdGVyYWw6emUsbWF0Y2g6SnIsbnVtYmVyOkNlLFwibnVtYmVyLWZvcm1hdFwiOmZuLG9iamVjdDpDZSxzbGljZTpybixzdGVwOmdyLHN0cmluZzpDZSxcInRvLWJvb2xlYW5cIjpMZSxcInRvLWNvbG9yXCI6TGUsXCJ0by1udW1iZXJcIjpMZSxcInRvLXN0cmluZ1wiOkxlLHZhcjpocix3aXRoaW46YXJ9O2Z1bmN0aW9uIG1uKHQsW2UscixuLGldKXtlPWUuZXZhbHVhdGUodCkscj1yLmV2YWx1YXRlKHQpLG49bi5ldmFsdWF0ZSh0KTtjb25zdCBzPWk/aS5ldmFsdWF0ZSh0KToxLGE9QWUoZSxyLG4scyk7aWYoYSl0aHJvdyBuZXcgVGUoYSk7cmV0dXJuIG5ldyB4ZShlLzI1NSpzLHIvMjU1KnMsbi8yNTUqcyxzKX1mdW5jdGlvbiBnbih0LGUpe3JldHVybiB0IGluIGV9ZnVuY3Rpb24geG4odCxlKXtjb25zdCByPWVbdF07cmV0dXJuIHZvaWQgMD09PXI/bnVsbDpyfWZ1bmN0aW9uIHZuKHQpe3JldHVybiB7dHlwZTp0fX0kZS5yZWdpc3Rlcih5bix7ZXJyb3I6W3traW5kOlwiZXJyb3JcIn0sW2VlXSwodCxbZV0pPT57dGhyb3cgbmV3IFRlKGUuZXZhbHVhdGUodCkpfV0sdHlwZW9mOltlZSxbc2VdLCh0LFtlXSk9PmNlKGtlKGUuZXZhbHVhdGUodCkpKV0sXCJ0by1yZ2JhXCI6W3VlKHRlLDQpLFtuZV0sKHQsW2VdKT0+ZS5ldmFsdWF0ZSh0KS50b0FycmF5KCldLHJnYjpbbmUsW3RlLHRlLHRlXSxtbl0scmdiYTpbbmUsW3RlLHRlLHRlLHRlXSxtbl0saGFzOnt0eXBlOnJlLG92ZXJsb2FkczpbW1tlZV0sKHQsW2VdKT0+Z24oZS5ldmFsdWF0ZSh0KSx0LnByb3BlcnRpZXMoKSldLFtbZWUsaWVdLCh0LFtlLHJdKT0+Z24oZS5ldmFsdWF0ZSh0KSxyLmV2YWx1YXRlKHQpKV1dfSxnZXQ6e3R5cGU6c2Usb3ZlcmxvYWRzOltbW2VlXSwodCxbZV0pPT54bihlLmV2YWx1YXRlKHQpLHQucHJvcGVydGllcygpKV0sW1tlZSxpZV0sKHQsW2Uscl0pPT54bihlLmV2YWx1YXRlKHQpLHIuZXZhbHVhdGUodCkpXV19LFwiZmVhdHVyZS1zdGF0ZVwiOltzZSxbZWVdLCh0LFtlXSk9PnhuKGUuZXZhbHVhdGUodCksdC5mZWF0dXJlU3RhdGV8fHt9KV0scHJvcGVydGllczpbaWUsW10sdD0+dC5wcm9wZXJ0aWVzKCldLFwiZ2VvbWV0cnktdHlwZVwiOltlZSxbXSx0PT50Lmdlb21ldHJ5VHlwZSgpXSxpZDpbc2UsW10sdD0+dC5pZCgpXSx6b29tOlt0ZSxbXSx0PT50Lmdsb2JhbHMuem9vbV0scGl0Y2g6W3RlLFtdLHQ9PnQuZ2xvYmFscy5waXRjaHx8MF0sXCJkaXN0YW5jZS1mcm9tLWNlbnRlclwiOlt0ZSxbXSx0PT50LmRpc3RhbmNlRnJvbUNlbnRlcigpXSxcImhlYXRtYXAtZGVuc2l0eVwiOlt0ZSxbXSx0PT50Lmdsb2JhbHMuaGVhdG1hcERlbnNpdHl8fDBdLFwibGluZS1wcm9ncmVzc1wiOlt0ZSxbXSx0PT50Lmdsb2JhbHMubGluZVByb2dyZXNzfHwwXSxcInNreS1yYWRpYWwtcHJvZ3Jlc3NcIjpbdGUsW10sdD0+dC5nbG9iYWxzLnNreVJhZGlhbFByb2dyZXNzfHwwXSxhY2N1bXVsYXRlZDpbc2UsW10sdD0+dm9pZCAwPT09dC5nbG9iYWxzLmFjY3VtdWxhdGVkP251bGw6dC5nbG9iYWxzLmFjY3VtdWxhdGVkXSxcIitcIjpbdGUsdm4odGUpLCh0LGUpPT57bGV0IHI9MDtmb3IoY29uc3QgbiBvZiBlKXIrPW4uZXZhbHVhdGUodCk7cmV0dXJuIHJ9XSxcIipcIjpbdGUsdm4odGUpLCh0LGUpPT57bGV0IHI9MTtmb3IoY29uc3QgbiBvZiBlKXIqPW4uZXZhbHVhdGUodCk7cmV0dXJuIHJ9XSxcIi1cIjp7dHlwZTp0ZSxvdmVybG9hZHM6W1tbdGUsdGVdLCh0LFtlLHJdKT0+ZS5ldmFsdWF0ZSh0KS1yLmV2YWx1YXRlKHQpXSxbW3RlXSwodCxbZV0pPT4tZS5ldmFsdWF0ZSh0KV1dfSxcIi9cIjpbdGUsW3RlLHRlXSwodCxbZSxyXSk9PmUuZXZhbHVhdGUodCkvci5ldmFsdWF0ZSh0KV0sXCIlXCI6W3RlLFt0ZSx0ZV0sKHQsW2Uscl0pPT5lLmV2YWx1YXRlKHQpJXIuZXZhbHVhdGUodCldLGxuMjpbdGUsW10sKCk9Pk1hdGguTE4yXSxwaTpbdGUsW10sKCk9Pk1hdGguUEldLGU6W3RlLFtdLCgpPT5NYXRoLkVdLFwiXlwiOlt0ZSxbdGUsdGVdLCh0LFtlLHJdKT0+TWF0aC5wb3coZS5ldmFsdWF0ZSh0KSxyLmV2YWx1YXRlKHQpKV0sc3FydDpbdGUsW3RlXSwodCxbZV0pPT5NYXRoLnNxcnQoZS5ldmFsdWF0ZSh0KSldLGxvZzEwOlt0ZSxbdGVdLCh0LFtlXSk9Pk1hdGgubG9nKGUuZXZhbHVhdGUodCkpL01hdGguTE4xMF0sbG46W3RlLFt0ZV0sKHQsW2VdKT0+TWF0aC5sb2coZS5ldmFsdWF0ZSh0KSldLGxvZzI6W3RlLFt0ZV0sKHQsW2VdKT0+TWF0aC5sb2coZS5ldmFsdWF0ZSh0KSkvTWF0aC5MTjJdLHNpbjpbdGUsW3RlXSwodCxbZV0pPT5NYXRoLnNpbihlLmV2YWx1YXRlKHQpKV0sY29zOlt0ZSxbdGVdLCh0LFtlXSk9Pk1hdGguY29zKGUuZXZhbHVhdGUodCkpXSx0YW46W3RlLFt0ZV0sKHQsW2VdKT0+TWF0aC50YW4oZS5ldmFsdWF0ZSh0KSldLGFzaW46W3RlLFt0ZV0sKHQsW2VdKT0+TWF0aC5hc2luKGUuZXZhbHVhdGUodCkpXSxhY29zOlt0ZSxbdGVdLCh0LFtlXSk9Pk1hdGguYWNvcyhlLmV2YWx1YXRlKHQpKV0sYXRhbjpbdGUsW3RlXSwodCxbZV0pPT5NYXRoLmF0YW4oZS5ldmFsdWF0ZSh0KSldLG1pbjpbdGUsdm4odGUpLCh0LGUpPT5NYXRoLm1pbiguLi5lLm1hcCgoZT0+ZS5ldmFsdWF0ZSh0KSkpKV0sbWF4Olt0ZSx2bih0ZSksKHQsZSk9Pk1hdGgubWF4KC4uLmUubWFwKChlPT5lLmV2YWx1YXRlKHQpKSkpXSxhYnM6W3RlLFt0ZV0sKHQsW2VdKT0+TWF0aC5hYnMoZS5ldmFsdWF0ZSh0KSldLHJvdW5kOlt0ZSxbdGVdLCh0LFtlXSk9Pntjb25zdCByPWUuZXZhbHVhdGUodCk7cmV0dXJuIHI8MD8tTWF0aC5yb3VuZCgtcik6TWF0aC5yb3VuZChyKX1dLGZsb29yOlt0ZSxbdGVdLCh0LFtlXSk9Pk1hdGguZmxvb3IoZS5ldmFsdWF0ZSh0KSldLGNlaWw6W3RlLFt0ZV0sKHQsW2VdKT0+TWF0aC5jZWlsKGUuZXZhbHVhdGUodCkpXSxcImZpbHRlci09PVwiOltyZSxbZWUsc2VdLCh0LFtlLHJdKT0+dC5wcm9wZXJ0aWVzKClbZS52YWx1ZV09PT1yLnZhbHVlXSxcImZpbHRlci1pZC09PVwiOltyZSxbc2VdLCh0LFtlXSk9PnQuaWQoKT09PWUudmFsdWVdLFwiZmlsdGVyLXR5cGUtPT1cIjpbcmUsW2VlXSwodCxbZV0pPT50Lmdlb21ldHJ5VHlwZSgpPT09ZS52YWx1ZV0sXCJmaWx0ZXItPFwiOltyZSxbZWUsc2VdLCh0LFtlLHJdKT0+e2NvbnN0IG49dC5wcm9wZXJ0aWVzKClbZS52YWx1ZV0saT1yLnZhbHVlO3JldHVybiB0eXBlb2Ygbj09dHlwZW9mIGkmJm48aX1dLFwiZmlsdGVyLWlkLTxcIjpbcmUsW3NlXSwodCxbZV0pPT57Y29uc3Qgcj10LmlkKCksbj1lLnZhbHVlO3JldHVybiB0eXBlb2Ygcj09dHlwZW9mIG4mJnI8bn1dLFwiZmlsdGVyLT5cIjpbcmUsW2VlLHNlXSwodCxbZSxyXSk9Pntjb25zdCBuPXQucHJvcGVydGllcygpW2UudmFsdWVdLGk9ci52YWx1ZTtyZXR1cm4gdHlwZW9mIG49PXR5cGVvZiBpJiZuPml9XSxcImZpbHRlci1pZC0+XCI6W3JlLFtzZV0sKHQsW2VdKT0+e2NvbnN0IHI9dC5pZCgpLG49ZS52YWx1ZTtyZXR1cm4gdHlwZW9mIHI9PXR5cGVvZiBuJiZyPm59XSxcImZpbHRlci08PVwiOltyZSxbZWUsc2VdLCh0LFtlLHJdKT0+e2NvbnN0IG49dC5wcm9wZXJ0aWVzKClbZS52YWx1ZV0saT1yLnZhbHVlO3JldHVybiB0eXBlb2Ygbj09dHlwZW9mIGkmJm48PWl9XSxcImZpbHRlci1pZC08PVwiOltyZSxbc2VdLCh0LFtlXSk9Pntjb25zdCByPXQuaWQoKSxuPWUudmFsdWU7cmV0dXJuIHR5cGVvZiByPT10eXBlb2YgbiYmcjw9bn1dLFwiZmlsdGVyLT49XCI6W3JlLFtlZSxzZV0sKHQsW2Uscl0pPT57Y29uc3Qgbj10LnByb3BlcnRpZXMoKVtlLnZhbHVlXSxpPXIudmFsdWU7cmV0dXJuIHR5cGVvZiBuPT10eXBlb2YgaSYmbj49aX1dLFwiZmlsdGVyLWlkLT49XCI6W3JlLFtzZV0sKHQsW2VdKT0+e2NvbnN0IHI9dC5pZCgpLG49ZS52YWx1ZTtyZXR1cm4gdHlwZW9mIHI9PXR5cGVvZiBuJiZyPj1ufV0sXCJmaWx0ZXItaGFzXCI6W3JlLFtzZV0sKHQsW2VdKT0+ZS52YWx1ZSBpbiB0LnByb3BlcnRpZXMoKV0sXCJmaWx0ZXItaGFzLWlkXCI6W3JlLFtdLHQ9Pm51bGwhPT10LmlkKCkmJnZvaWQgMCE9PXQuaWQoKV0sXCJmaWx0ZXItdHlwZS1pblwiOltyZSxbdWUoZWUpXSwodCxbZV0pPT5lLnZhbHVlLmluZGV4T2YodC5nZW9tZXRyeVR5cGUoKSk+PTBdLFwiZmlsdGVyLWlkLWluXCI6W3JlLFt1ZShzZSldLCh0LFtlXSk9PmUudmFsdWUuaW5kZXhPZih0LmlkKCkpPj0wXSxcImZpbHRlci1pbi1zbWFsbFwiOltyZSxbZWUsdWUoc2UpXSwodCxbZSxyXSk9PnIudmFsdWUuaW5kZXhPZih0LnByb3BlcnRpZXMoKVtlLnZhbHVlXSk+PTBdLFwiZmlsdGVyLWluLWxhcmdlXCI6W3JlLFtlZSx1ZShzZSldLCh0LFtlLHJdKT0+ZnVuY3Rpb24odCxlLHIsbil7Zm9yKDtyPD1uOyl7Y29uc3QgaT1yK24+PjE7aWYoZVtpXT09PXQpcmV0dXJuICEwO2VbaV0+dD9uPWktMTpyPWkrMTt9cmV0dXJuICExfSh0LnByb3BlcnRpZXMoKVtlLnZhbHVlXSxyLnZhbHVlLDAsci52YWx1ZS5sZW5ndGgtMSldLGFsbDp7dHlwZTpyZSxvdmVybG9hZHM6W1tbcmUscmVdLCh0LFtlLHJdKT0+ZS5ldmFsdWF0ZSh0KSYmci5ldmFsdWF0ZSh0KV0sW3ZuKHJlKSwodCxlKT0+e2Zvcihjb25zdCByIG9mIGUpaWYoIXIuZXZhbHVhdGUodCkpcmV0dXJuICExO3JldHVybiAhMH1dXX0sYW55Ont0eXBlOnJlLG92ZXJsb2FkczpbW1tyZSxyZV0sKHQsW2Uscl0pPT5lLmV2YWx1YXRlKHQpfHxyLmV2YWx1YXRlKHQpXSxbdm4ocmUpLCh0LGUpPT57Zm9yKGNvbnN0IHIgb2YgZSlpZihyLmV2YWx1YXRlKHQpKXJldHVybiAhMDtyZXR1cm4gITF9XV19LFwiIVwiOltyZSxbcmVdLCh0LFtlXSk9PiFlLmV2YWx1YXRlKHQpXSxcImlzLXN1cHBvcnRlZC1zY3JpcHRcIjpbcmUsW2VlXSwodCxbZV0pPT57Y29uc3Qgcj10Lmdsb2JhbHMmJnQuZ2xvYmFscy5pc1N1cHBvcnRlZFNjcmlwdDtyZXR1cm4gIXJ8fHIoZS5ldmFsdWF0ZSh0KSl9XSx1cGNhc2U6W2VlLFtlZV0sKHQsW2VdKT0+ZS5ldmFsdWF0ZSh0KS50b1VwcGVyQ2FzZSgpXSxkb3duY2FzZTpbZWUsW2VlXSwodCxbZV0pPT5lLmV2YWx1YXRlKHQpLnRvTG93ZXJDYXNlKCldLGNvbmNhdDpbZWUsdm4oc2UpLCh0LGUpPT5lLm1hcCgoZT0+SWUoZS5ldmFsdWF0ZSh0KSkpKS5qb2luKFwiXCIpXSxcInJlc29sdmVkLWxvY2FsZVwiOltlZSxbYWVdLCh0LFtlXSk9PmUuZXZhbHVhdGUodCkucmVzb2x2ZWRMb2NhbGUoKV19KTt2YXIgYm49eW47ZnVuY3Rpb24gX24odCl7cmV0dXJuIHtyZXN1bHQ6XCJzdWNjZXNzXCIsdmFsdWU6dH19ZnVuY3Rpb24gd24odCl7cmV0dXJuIHtyZXN1bHQ6XCJlcnJvclwiLHZhbHVlOnR9fWZ1bmN0aW9uIEFuKHQpe3JldHVybiBcImRhdGEtZHJpdmVuXCI9PT10W1wicHJvcGVydHktdHlwZVwiXXx8XCJjcm9zcy1mYWRlZC1kYXRhLWRyaXZlblwiPT09dFtcInByb3BlcnR5LXR5cGVcIl19ZnVuY3Rpb24gU24odCl7cmV0dXJuICEhdC5leHByZXNzaW9uJiZ0LmV4cHJlc3Npb24ucGFyYW1ldGVycy5pbmRleE9mKFwiem9vbVwiKT4tMX1mdW5jdGlvbiBrbih0KXtyZXR1cm4gISF0LmV4cHJlc3Npb24mJnQuZXhwcmVzc2lvbi5pbnRlcnBvbGF0ZWR9ZnVuY3Rpb24gSW4odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBOdW1iZXI/XCJudW1iZXJcIjp0IGluc3RhbmNlb2YgU3RyaW5nP1wic3RyaW5nXCI6dCBpbnN0YW5jZW9mIEJvb2xlYW4/XCJib29sZWFuXCI6QXJyYXkuaXNBcnJheSh0KT9cImFycmF5XCI6bnVsbD09PXQ/XCJudWxsXCI6dHlwZW9mIHR9ZnVuY3Rpb24gTW4odCl7cmV0dXJuIFwib2JqZWN0XCI9PXR5cGVvZiB0JiZudWxsIT09dCYmIUFycmF5LmlzQXJyYXkodCl9ZnVuY3Rpb24gem4odCl7cmV0dXJuIHR9ZnVuY3Rpb24gVG4odCxlKXtjb25zdCByPVwiY29sb3JcIj09PWUudHlwZSxuPXQuc3RvcHMmJlwib2JqZWN0XCI9PXR5cGVvZiB0LnN0b3BzWzBdWzBdLGk9bnx8IShufHx2b2lkIDAhPT10LnByb3BlcnR5KSxzPXQudHlwZXx8KGtuKGUpP1wiZXhwb25lbnRpYWxcIjpcImludGVydmFsXCIpO2lmKHImJigodD1adCh7fSx0KSkuc3RvcHMmJih0LnN0b3BzPXQuc3RvcHMubWFwKCh0PT5bdFswXSx4ZS5wYXJzZSh0WzFdKV0pKSksdC5kZWZhdWx0PXhlLnBhcnNlKHQuZGVmYXVsdD90LmRlZmF1bHQ6ZS5kZWZhdWx0KSksdC5jb2xvclNwYWNlJiZcInJnYlwiIT09dC5jb2xvclNwYWNlJiYhTHJbdC5jb2xvclNwYWNlXSl0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gY29sb3Igc3BhY2U6ICR7dC5jb2xvclNwYWNlfWApO2xldCBhLG8sbDtpZihcImV4cG9uZW50aWFsXCI9PT1zKWE9UG47ZWxzZSBpZihcImludGVydmFsXCI9PT1zKWE9Q247ZWxzZSBpZihcImNhdGVnb3JpY2FsXCI9PT1zKXthPUVuLG89T2JqZWN0LmNyZWF0ZShudWxsKTtmb3IoY29uc3QgZSBvZiB0LnN0b3BzKW9bZVswXV09ZVsxXTtsPXR5cGVvZiB0LnN0b3BzWzBdWzBdO31lbHNlIHtpZihcImlkZW50aXR5XCIhPT1zKXRocm93IG5ldyBFcnJvcihgVW5rbm93biBmdW5jdGlvbiB0eXBlIFwiJHtzfVwiYCk7YT1Ebjt9aWYobil7Y29uc3Qgcj17fSxuPVtdO2ZvcihsZXQgZT0wO2U8dC5zdG9wcy5sZW5ndGg7ZSsrKXtjb25zdCBpPXQuc3RvcHNbZV0scz1pWzBdLnpvb207dm9pZCAwPT09cltzXSYmKHJbc109e3pvb206cyx0eXBlOnQudHlwZSxwcm9wZXJ0eTp0LnByb3BlcnR5LGRlZmF1bHQ6dC5kZWZhdWx0LHN0b3BzOltdfSxuLnB1c2gocykpLHJbc10uc3RvcHMucHVzaChbaVswXS52YWx1ZSxpWzFdXSk7fWNvbnN0IGk9W107Zm9yKGNvbnN0IHQgb2YgbilpLnB1c2goW3JbdF0uem9vbSxUbihyW3RdLGUpXSk7Y29uc3Qgcz17bmFtZTpcImxpbmVhclwifTtyZXR1cm4ge2tpbmQ6XCJjb21wb3NpdGVcIixpbnRlcnBvbGF0aW9uVHlwZTpzLGludGVycG9sYXRpb25GYWN0b3I6anIuaW50ZXJwb2xhdGlvbkZhY3Rvci5iaW5kKHZvaWQgMCxzKSx6b29tU3RvcHM6aS5tYXAoKHQ9PnRbMF0pKSxldmFsdWF0ZTooe3pvb206cn0sbik9PlBuKHtzdG9wczppLGJhc2U6dC5iYXNlfSxlLHIpLmV2YWx1YXRlKHIsbil9fWlmKGkpe2NvbnN0IHI9XCJleHBvbmVudGlhbFwiPT09cz97bmFtZTpcImV4cG9uZW50aWFsXCIsYmFzZTp2b2lkIDAhPT10LmJhc2U/dC5iYXNlOjF9Om51bGw7cmV0dXJuIHtraW5kOlwiY2FtZXJhXCIsaW50ZXJwb2xhdGlvblR5cGU6cixpbnRlcnBvbGF0aW9uRmFjdG9yOmpyLmludGVycG9sYXRpb25GYWN0b3IuYmluZCh2b2lkIDAsciksem9vbVN0b3BzOnQuc3RvcHMubWFwKCh0PT50WzBdKSksZXZhbHVhdGU6KHt6b29tOnJ9KT0+YSh0LGUscixvLGwpfX1yZXR1cm4ge2tpbmQ6XCJzb3VyY2VcIixldmFsdWF0ZShyLG4pe2NvbnN0IGk9biYmbi5wcm9wZXJ0aWVzP24ucHJvcGVydGllc1t0LnByb3BlcnR5XTp2b2lkIDA7cmV0dXJuIHZvaWQgMD09PWk/Qm4odC5kZWZhdWx0LGUuZGVmYXVsdCk6YSh0LGUsaSxvLGwpfX19ZnVuY3Rpb24gQm4odCxlLHIpe3JldHVybiB2b2lkIDAhPT10P3Q6dm9pZCAwIT09ZT9lOnZvaWQgMCE9PXI/cjp2b2lkIDB9ZnVuY3Rpb24gRW4odCxlLHIsbixpKXtyZXR1cm4gQm4odHlwZW9mIHI9PT1pP25bcl06dm9pZCAwLHQuZGVmYXVsdCxlLmRlZmF1bHQpfWZ1bmN0aW9uIENuKHQsZSxyKXtpZihcIm51bWJlclwiIT09SW4ocikpcmV0dXJuIEJuKHQuZGVmYXVsdCxlLmRlZmF1bHQpO2NvbnN0IG49dC5zdG9wcy5sZW5ndGg7aWYoMT09PW4pcmV0dXJuIHQuc3RvcHNbMF1bMV07aWYocjw9dC5zdG9wc1swXVswXSlyZXR1cm4gdC5zdG9wc1swXVsxXTtpZihyPj10LnN0b3BzW24tMV1bMF0pcmV0dXJuIHQuc3RvcHNbbi0xXVsxXTtjb25zdCBpPXlyKHQuc3RvcHMubWFwKCh0PT50WzBdKSkscik7cmV0dXJuIHQuc3RvcHNbaV1bMV19ZnVuY3Rpb24gUG4odCxlLHIpe2NvbnN0IG49dm9pZCAwIT09dC5iYXNlP3QuYmFzZToxO2lmKFwibnVtYmVyXCIhPT1JbihyKSlyZXR1cm4gQm4odC5kZWZhdWx0LGUuZGVmYXVsdCk7Y29uc3QgaT10LnN0b3BzLmxlbmd0aDtpZigxPT09aSlyZXR1cm4gdC5zdG9wc1swXVsxXTtpZihyPD10LnN0b3BzWzBdWzBdKXJldHVybiB0LnN0b3BzWzBdWzFdO2lmKHI+PXQuc3RvcHNbaS0xXVswXSlyZXR1cm4gdC5zdG9wc1tpLTFdWzFdO2NvbnN0IHM9eXIodC5zdG9wcy5tYXAoKHQ9PnRbMF0pKSxyKSxhPWZ1bmN0aW9uKHQsZSxyLG4pe2NvbnN0IGk9bi1yLHM9dC1yO3JldHVybiAwPT09aT8wOjE9PT1lP3MvaTooTWF0aC5wb3coZSxzKS0xKS8oTWF0aC5wb3coZSxpKS0xKX0ocixuLHQuc3RvcHNbc11bMF0sdC5zdG9wc1tzKzFdWzBdKSxvPXQuc3RvcHNbc11bMV0sbD10LnN0b3BzW3MrMV1bMV07bGV0IHU9YnJbZS50eXBlXXx8em47aWYodC5jb2xvclNwYWNlJiZcInJnYlwiIT09dC5jb2xvclNwYWNlKXtjb25zdCBlPUxyW3QuY29sb3JTcGFjZV07dT0odCxyKT0+ZS5yZXZlcnNlKGUuaW50ZXJwb2xhdGUoZS5mb3J3YXJkKHQpLGUuZm9yd2FyZChyKSxhKSk7fXJldHVybiBcImZ1bmN0aW9uXCI9PXR5cGVvZiBvLmV2YWx1YXRlP3tldmFsdWF0ZSguLi50KXtjb25zdCBlPW8uZXZhbHVhdGUuYXBwbHkodm9pZCAwLHQpLHI9bC5ldmFsdWF0ZS5hcHBseSh2b2lkIDAsdCk7aWYodm9pZCAwIT09ZSYmdm9pZCAwIT09cilyZXR1cm4gdShlLHIsYSl9fTp1KG8sbCxhKX1mdW5jdGlvbiBEbih0LGUscil7cmV0dXJuIFwiY29sb3JcIj09PWUudHlwZT9yPXhlLnBhcnNlKHIpOlwiZm9ybWF0dGVkXCI9PT1lLnR5cGU/cj1fZS5mcm9tU3RyaW5nKHIudG9TdHJpbmcoKSk6XCJyZXNvbHZlZEltYWdlXCI9PT1lLnR5cGU/cj13ZS5mcm9tU3RyaW5nKHIudG9TdHJpbmcoKSk6SW4ocik9PT1lLnR5cGV8fFwiZW51bVwiPT09ZS50eXBlJiZlLnZhbHVlc1tyXXx8KHI9dm9pZCAwKSxCbihyLHQuZGVmYXVsdCxlLmRlZmF1bHQpfWNsYXNzIFZue2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5leHByZXNzaW9uPXQsdGhpcy5fd2FybmluZ0hpc3Rvcnk9e30sdGhpcy5fZXZhbHVhdG9yPW5ldyBVZSx0aGlzLl9kZWZhdWx0VmFsdWU9ZT9mdW5jdGlvbih0KXtyZXR1cm4gXCJjb2xvclwiPT09dC50eXBlJiYoTW4odC5kZWZhdWx0KXx8QXJyYXkuaXNBcnJheSh0LmRlZmF1bHQpKT9uZXcgeGUoMCwwLDAsMCk6XCJjb2xvclwiPT09dC50eXBlP3hlLnBhcnNlKHQuZGVmYXVsdCl8fG51bGw6dm9pZCAwPT09dC5kZWZhdWx0P251bGw6dC5kZWZhdWx0fShlKTpudWxsLHRoaXMuX2VudW1WYWx1ZXM9ZSYmXCJlbnVtXCI9PT1lLnR5cGU/ZS52YWx1ZXM6bnVsbDt9ZXZhbHVhdGVXaXRob3V0RXJyb3JIYW5kbGluZyh0LGUscixuLGkscyxhLG8pe3JldHVybiB0aGlzLl9ldmFsdWF0b3IuZ2xvYmFscz10LHRoaXMuX2V2YWx1YXRvci5mZWF0dXJlPWUsdGhpcy5fZXZhbHVhdG9yLmZlYXR1cmVTdGF0ZT1yLHRoaXMuX2V2YWx1YXRvci5jYW5vbmljYWw9bnx8bnVsbCx0aGlzLl9ldmFsdWF0b3IuYXZhaWxhYmxlSW1hZ2VzPWl8fG51bGwsdGhpcy5fZXZhbHVhdG9yLmZvcm1hdHRlZFNlY3Rpb249cyx0aGlzLl9ldmFsdWF0b3IuZmVhdHVyZVRpbGVDb29yZD1hfHxudWxsLHRoaXMuX2V2YWx1YXRvci5mZWF0dXJlRGlzdGFuY2VEYXRhPW98fG51bGwsdGhpcy5leHByZXNzaW9uLmV2YWx1YXRlKHRoaXMuX2V2YWx1YXRvcil9ZXZhbHVhdGUodCxlLHIsbixpLHMsYSxvKXt0aGlzLl9ldmFsdWF0b3IuZ2xvYmFscz10LHRoaXMuX2V2YWx1YXRvci5mZWF0dXJlPWV8fG51bGwsdGhpcy5fZXZhbHVhdG9yLmZlYXR1cmVTdGF0ZT1yfHxudWxsLHRoaXMuX2V2YWx1YXRvci5jYW5vbmljYWw9bnx8bnVsbCx0aGlzLl9ldmFsdWF0b3IuYXZhaWxhYmxlSW1hZ2VzPWl8fG51bGwsdGhpcy5fZXZhbHVhdG9yLmZvcm1hdHRlZFNlY3Rpb249c3x8bnVsbCx0aGlzLl9ldmFsdWF0b3IuZmVhdHVyZVRpbGVDb29yZD1hfHxudWxsLHRoaXMuX2V2YWx1YXRvci5mZWF0dXJlRGlzdGFuY2VEYXRhPW98fG51bGw7dHJ5e2NvbnN0IHQ9dGhpcy5leHByZXNzaW9uLmV2YWx1YXRlKHRoaXMuX2V2YWx1YXRvcik7aWYobnVsbD09dHx8XCJudW1iZXJcIj09dHlwZW9mIHQmJnQhPXQpcmV0dXJuIHRoaXMuX2RlZmF1bHRWYWx1ZTtpZih0aGlzLl9lbnVtVmFsdWVzJiYhKHQgaW4gdGhpcy5fZW51bVZhbHVlcykpdGhyb3cgbmV3IFRlKGBFeHBlY3RlZCB2YWx1ZSB0byBiZSBvbmUgb2YgJHtPYmplY3Qua2V5cyh0aGlzLl9lbnVtVmFsdWVzKS5tYXAoKHQ9PkpTT04uc3RyaW5naWZ5KHQpKSkuam9pbihcIiwgXCIpfSwgYnV0IGZvdW5kICR7SlNPTi5zdHJpbmdpZnkodCl9IGluc3RlYWQuYCk7cmV0dXJuIHR9Y2F0Y2godCl7cmV0dXJuIHRoaXMuX3dhcm5pbmdIaXN0b3J5W3QubWVzc2FnZV18fCh0aGlzLl93YXJuaW5nSGlzdG9yeVt0Lm1lc3NhZ2VdPSEwLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBjb25zb2xlJiZjb25zb2xlLndhcm4odC5tZXNzYWdlKSksdGhpcy5fZGVmYXVsdFZhbHVlfX19ZnVuY3Rpb24gRm4odCl7cmV0dXJuIEFycmF5LmlzQXJyYXkodCkmJnQubGVuZ3RoPjAmJlwic3RyaW5nXCI9PXR5cGVvZiB0WzBdJiZ0WzBdaW4gYm59ZnVuY3Rpb24gTG4odCxlKXtjb25zdCByPW5ldyBmcihibixbXSxlP2Z1bmN0aW9uKHQpe2NvbnN0IGU9e2NvbG9yOm5lLHN0cmluZzplZSxudW1iZXI6dGUsZW51bTplZSxib29sZWFuOnJlLGZvcm1hdHRlZDpvZSxyZXNvbHZlZEltYWdlOmxlfTtyZXR1cm4gXCJhcnJheVwiPT09dC50eXBlP3VlKGVbdC52YWx1ZV18fHNlLHQubGVuZ3RoKTplW3QudHlwZV19KGUpOnZvaWQgMCksbj1yLnBhcnNlKHQsdm9pZCAwLHZvaWQgMCx2b2lkIDAsZSYmXCJzdHJpbmdcIj09PWUudHlwZT97dHlwZUFubm90YXRpb246XCJjb2VyY2VcIn06dm9pZCAwKTtyZXR1cm4gbj9fbihuZXcgVm4obixlKSk6d24oci5lcnJvcnMpfWNsYXNzIFJue2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5raW5kPXQsdGhpcy5fc3R5bGVFeHByZXNzaW9uPWUsdGhpcy5pc1N0YXRlRGVwZW5kZW50PVwiY29uc3RhbnRcIiE9PXQmJiFscihlLmV4cHJlc3Npb24pO31ldmFsdWF0ZVdpdGhvdXRFcnJvckhhbmRsaW5nKHQsZSxyLG4saSxzKXtyZXR1cm4gdGhpcy5fc3R5bGVFeHByZXNzaW9uLmV2YWx1YXRlV2l0aG91dEVycm9ySGFuZGxpbmcodCxlLHIsbixpLHMpfWV2YWx1YXRlKHQsZSxyLG4saSxzKXtyZXR1cm4gdGhpcy5fc3R5bGVFeHByZXNzaW9uLmV2YWx1YXRlKHQsZSxyLG4saSxzKX19Y2xhc3MgVW57Y29uc3RydWN0b3IodCxlLHIsbil7dGhpcy5raW5kPXQsdGhpcy56b29tU3RvcHM9cix0aGlzLl9zdHlsZUV4cHJlc3Npb249ZSx0aGlzLmlzU3RhdGVEZXBlbmRlbnQ9XCJjYW1lcmFcIiE9PXQmJiFscihlLmV4cHJlc3Npb24pLHRoaXMuaW50ZXJwb2xhdGlvblR5cGU9bjt9ZXZhbHVhdGVXaXRob3V0RXJyb3JIYW5kbGluZyh0LGUscixuLGkscyl7cmV0dXJuIHRoaXMuX3N0eWxlRXhwcmVzc2lvbi5ldmFsdWF0ZVdpdGhvdXRFcnJvckhhbmRsaW5nKHQsZSxyLG4saSxzKX1ldmFsdWF0ZSh0LGUscixuLGkscyl7cmV0dXJuIHRoaXMuX3N0eWxlRXhwcmVzc2lvbi5ldmFsdWF0ZSh0LGUscixuLGkscyl9aW50ZXJwb2xhdGlvbkZhY3Rvcih0LGUscil7cmV0dXJuIHRoaXMuaW50ZXJwb2xhdGlvblR5cGU/anIuaW50ZXJwb2xhdGlvbkZhY3Rvcih0aGlzLmludGVycG9sYXRpb25UeXBlLHQsZSxyKTowfX1mdW5jdGlvbiBqbih0LGUpe2lmKFwiZXJyb3JcIj09PSh0PUxuKHQsZSkpLnJlc3VsdClyZXR1cm4gdDtjb25zdCByPXQudmFsdWUuZXhwcmVzc2lvbixuPW9yKHIpO2lmKCFuJiYhQW4oZSkpcmV0dXJuIHduKFtuZXcgWXQoXCJcIixcImRhdGEgZXhwcmVzc2lvbnMgbm90IHN1cHBvcnRlZFwiKV0pO2NvbnN0IGk9dXIocixbXCJ6b29tXCIsXCJwaXRjaFwiLFwiZGlzdGFuY2UtZnJvbS1jZW50ZXJcIl0pO2lmKCFpJiYhU24oZSkpcmV0dXJuIHduKFtuZXcgWXQoXCJcIixcInpvb20gZXhwcmVzc2lvbnMgbm90IHN1cHBvcnRlZFwiKV0pO2NvbnN0IHM9T24ocik7cmV0dXJuIHN8fGk/cyBpbnN0YW5jZW9mIFl0P3duKFtzXSk6cyBpbnN0YW5jZW9mIGpyJiYha24oZSk/d24oW25ldyBZdChcIlwiLCdcImludGVycG9sYXRlXCIgZXhwcmVzc2lvbnMgY2Fubm90IGJlIHVzZWQgd2l0aCB0aGlzIHByb3BlcnR5JyldKTpfbihzP25ldyBVbihuP1wiY2FtZXJhXCI6XCJjb21wb3NpdGVcIix0LnZhbHVlLHMubGFiZWxzLHMgaW5zdGFuY2VvZiBqcj9zLmludGVycG9sYXRpb246dm9pZCAwKTpuZXcgUm4obj9cImNvbnN0YW50XCI6XCJzb3VyY2VcIix0LnZhbHVlKSk6d24oW25ldyBZdChcIlwiLCdcInpvb21cIiBleHByZXNzaW9uIG1heSBvbmx5IGJlIHVzZWQgYXMgaW5wdXQgdG8gYSB0b3AtbGV2ZWwgXCJzdGVwXCIgb3IgXCJpbnRlcnBvbGF0ZVwiIGV4cHJlc3Npb24uJyldKX1jbGFzcyAkbntjb25zdHJ1Y3Rvcih0LGUpe3RoaXMuX3BhcmFtZXRlcnM9dCx0aGlzLl9zcGVjaWZpY2F0aW9uPWUsWnQodGhpcyxUbih0aGlzLl9wYXJhbWV0ZXJzLHRoaXMuX3NwZWNpZmljYXRpb24pKTt9c3RhdGljIGRlc2VyaWFsaXplKHQpe3JldHVybiBuZXcgJG4odC5fcGFyYW1ldGVycyx0Ll9zcGVjaWZpY2F0aW9uKX1zdGF0aWMgc2VyaWFsaXplKHQpe3JldHVybiB7X3BhcmFtZXRlcnM6dC5fcGFyYW1ldGVycyxfc3BlY2lmaWNhdGlvbjp0Ll9zcGVjaWZpY2F0aW9ufX19ZnVuY3Rpb24gT24odCl7bGV0IGU9bnVsbDtpZih0IGluc3RhbmNlb2YgTnIpZT1Pbih0LnJlc3VsdCk7ZWxzZSBpZih0IGluc3RhbmNlb2YgT3Ipe2Zvcihjb25zdCByIG9mIHQuYXJncylpZihlPU9uKHIpLGUpYnJlYWt9ZWxzZSAodCBpbnN0YW5jZW9mIGdyfHx0IGluc3RhbmNlb2YganIpJiZ0LmlucHV0IGluc3RhbmNlb2YgJGUmJlwiem9vbVwiPT09dC5pbnB1dC5uYW1lJiYoZT10KTtyZXR1cm4gZSBpbnN0YW5jZW9mIFl0fHx0LmVhY2hDaGlsZCgodD0+e2NvbnN0IHI9T24odCk7ciBpbnN0YW5jZW9mIFl0P2U9cjohZSYmcj9lPW5ldyBZdChcIlwiLCdcInpvb21cIiBleHByZXNzaW9uIG1heSBvbmx5IGJlIHVzZWQgYXMgaW5wdXQgdG8gYSB0b3AtbGV2ZWwgXCJzdGVwXCIgb3IgXCJpbnRlcnBvbGF0ZVwiIGV4cHJlc3Npb24uJyk6ZSYmciYmZSE9PXImJihlPW5ldyBZdChcIlwiLCdPbmx5IG9uZSB6b29tLWJhc2VkIFwic3RlcFwiIG9yIFwiaW50ZXJwb2xhdGVcIiBzdWJleHByZXNzaW9uIG1heSBiZSB1c2VkIGluIGFuIGV4cHJlc3Npb24uJykpO30pKSxlfWNsYXNzIHFue2NvbnN0cnVjdG9yKHQsZSxyLG4pe3RoaXMubWVzc2FnZT0odD9gJHt0fTogYDpcIlwiKStyLG4mJih0aGlzLmlkZW50aWZpZXI9biksbnVsbCE9ZSYmZS5fX2xpbmVfXyYmKHRoaXMubGluZT1lLl9fbGluZV9fKTt9fWZ1bmN0aW9uIE5uKHQpe2NvbnN0IGU9dC5rZXkscj10LnZhbHVlLG49dC52YWx1ZVNwZWN8fHt9LGk9dC5vYmplY3RFbGVtZW50VmFsaWRhdG9yc3x8e30scz10LnN0eWxlLGE9dC5zdHlsZVNwZWM7bGV0IG89W107Y29uc3QgbD1JbihyKTtpZihcIm9iamVjdFwiIT09bClyZXR1cm4gW25ldyBxbihlLHIsYG9iamVjdCBleHBlY3RlZCwgJHtsfSBmb3VuZGApXTtmb3IoY29uc3QgdCBpbiByKXtjb25zdCBsPXQuc3BsaXQoXCIuXCIpWzBdLHU9bltsXXx8bltcIipcIl07bGV0IGM7aVtsXT9jPWlbbF06bltsXT9jPUFpOmlbXCIqXCJdP2M9aVtcIipcIl06bltcIipcIl0mJihjPUFpKSxjP289by5jb25jYXQoYyh7a2V5OihlP2Ake2V9LmA6ZSkrdCx2YWx1ZTpyW3RdLHZhbHVlU3BlYzp1LHN0eWxlOnMsc3R5bGVTcGVjOmEsb2JqZWN0OnIsb2JqZWN0S2V5OnR9LHIpKTpvLnB1c2gobmV3IHFuKGUsclt0XSxgdW5rbm93biBwcm9wZXJ0eSBcIiR7dH1cImApKTt9Zm9yKGNvbnN0IHQgaW4gbilpW3RdfHxuW3RdLnJlcXVpcmVkJiZ2b2lkIDA9PT1uW3RdLmRlZmF1bHQmJnZvaWQgMD09PXJbdF0mJm8ucHVzaChuZXcgcW4oZSxyLGBtaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IFwiJHt0fVwiYCkpO3JldHVybiBvfWZ1bmN0aW9uIEduKHQpe2NvbnN0IGU9dC52YWx1ZSxyPXQudmFsdWVTcGVjLG49dC5zdHlsZSxpPXQuc3R5bGVTcGVjLHM9dC5rZXksYT10LmFycmF5RWxlbWVudFZhbGlkYXRvcnx8QWk7aWYoXCJhcnJheVwiIT09SW4oZSkpcmV0dXJuIFtuZXcgcW4ocyxlLGBhcnJheSBleHBlY3RlZCwgJHtJbihlKX0gZm91bmRgKV07aWYoci5sZW5ndGgmJmUubGVuZ3RoIT09ci5sZW5ndGgpcmV0dXJuIFtuZXcgcW4ocyxlLGBhcnJheSBsZW5ndGggJHtyLmxlbmd0aH0gZXhwZWN0ZWQsIGxlbmd0aCAke2UubGVuZ3RofSBmb3VuZGApXTtpZihyW1wibWluLWxlbmd0aFwiXSYmZS5sZW5ndGg8cltcIm1pbi1sZW5ndGhcIl0pcmV0dXJuIFtuZXcgcW4ocyxlLGBhcnJheSBsZW5ndGggYXQgbGVhc3QgJHtyW1wibWluLWxlbmd0aFwiXX0gZXhwZWN0ZWQsIGxlbmd0aCAke2UubGVuZ3RofSBmb3VuZGApXTtsZXQgbz17dHlwZTpyLnZhbHVlLHZhbHVlczpyLnZhbHVlcyxtaW5pbXVtOnIubWluaW11bSxtYXhpbXVtOnIubWF4aW11bSxmdW5jdGlvbjp2b2lkIDB9O2kuJHZlcnNpb248NyYmKG8uZnVuY3Rpb249ci5mdW5jdGlvbiksXCJvYmplY3RcIj09PUluKHIudmFsdWUpJiYobz1yLnZhbHVlKTtsZXQgbD1bXTtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKylsPWwuY29uY2F0KGEoe2FycmF5OmUsYXJyYXlJbmRleDp0LHZhbHVlOmVbdF0sdmFsdWVTcGVjOm8sc3R5bGU6bixzdHlsZVNwZWM6aSxrZXk6YCR7c31bJHt0fV1gfSkpO3JldHVybiBsfWZ1bmN0aW9uIFpuKHQpe2NvbnN0IGU9dC5rZXkscj10LnZhbHVlLG49dC52YWx1ZVNwZWM7bGV0IGk9SW4ocik7aWYoXCJudW1iZXJcIj09PWkmJnIhPXImJihpPVwiTmFOXCIpLFwibnVtYmVyXCIhPT1pKXJldHVybiBbbmV3IHFuKGUscixgbnVtYmVyIGV4cGVjdGVkLCAke2l9IGZvdW5kYCldO2lmKFwibWluaW11bVwiaW4gbil7bGV0IGk9bi5taW5pbXVtO2lmKFwiYXJyYXlcIj09PUluKG4ubWluaW11bSkmJihpPW4ubWluaW11bVt0LmFycmF5SW5kZXhdKSxyPGkpcmV0dXJuIFtuZXcgcW4oZSxyLGAke3J9IGlzIGxlc3MgdGhhbiB0aGUgbWluaW11bSB2YWx1ZSAke2l9YCldfWlmKFwibWF4aW11bVwiaW4gbil7bGV0IGk9bi5tYXhpbXVtO2lmKFwiYXJyYXlcIj09PUluKG4ubWF4aW11bSkmJihpPW4ubWF4aW11bVt0LmFycmF5SW5kZXhdKSxyPmkpcmV0dXJuIFtuZXcgcW4oZSxyLGAke3J9IGlzIGdyZWF0ZXIgdGhhbiB0aGUgbWF4aW11bSB2YWx1ZSAke2l9YCldfXJldHVybiBbXX1mdW5jdGlvbiBYbih0KXtjb25zdCBlPXQudmFsdWVTcGVjLHI9WHQodC52YWx1ZS50eXBlKTtsZXQgbixpLHMsYT17fTtjb25zdCBvPVwiY2F0ZWdvcmljYWxcIiE9PXImJnZvaWQgMD09PXQudmFsdWUucHJvcGVydHksbD0hbyx1PVwiYXJyYXlcIj09PUluKHQudmFsdWUuc3RvcHMpJiZcImFycmF5XCI9PT1Jbih0LnZhbHVlLnN0b3BzWzBdKSYmXCJvYmplY3RcIj09PUluKHQudmFsdWUuc3RvcHNbMF1bMF0pLGM9Tm4oe2tleTp0LmtleSx2YWx1ZTp0LnZhbHVlLHZhbHVlU3BlYzp0LnN0eWxlU3BlYy5mdW5jdGlvbixzdHlsZTp0LnN0eWxlLHN0eWxlU3BlYzp0LnN0eWxlU3BlYyxvYmplY3RFbGVtZW50VmFsaWRhdG9yczp7c3RvcHM6ZnVuY3Rpb24odCl7aWYoXCJpZGVudGl0eVwiPT09cilyZXR1cm4gW25ldyBxbih0LmtleSx0LnZhbHVlLCdpZGVudGl0eSBmdW5jdGlvbiBtYXkgbm90IGhhdmUgYSBcInN0b3BzXCIgcHJvcGVydHknKV07bGV0IGU9W107Y29uc3Qgbj10LnZhbHVlO3JldHVybiBlPWUuY29uY2F0KEduKHtrZXk6dC5rZXksdmFsdWU6bix2YWx1ZVNwZWM6dC52YWx1ZVNwZWMsc3R5bGU6dC5zdHlsZSxzdHlsZVNwZWM6dC5zdHlsZVNwZWMsYXJyYXlFbGVtZW50VmFsaWRhdG9yOmh9KSksXCJhcnJheVwiPT09SW4obikmJjA9PT1uLmxlbmd0aCYmZS5wdXNoKG5ldyBxbih0LmtleSxuLFwiYXJyYXkgbXVzdCBoYXZlIGF0IGxlYXN0IG9uZSBzdG9wXCIpKSxlfSxkZWZhdWx0OmZ1bmN0aW9uKHQpe3JldHVybiBBaSh7a2V5OnQua2V5LHZhbHVlOnQudmFsdWUsdmFsdWVTcGVjOmUsc3R5bGU6dC5zdHlsZSxzdHlsZVNwZWM6dC5zdHlsZVNwZWN9KX19fSk7cmV0dXJuIFwiaWRlbnRpdHlcIj09PXImJm8mJmMucHVzaChuZXcgcW4odC5rZXksdC52YWx1ZSwnbWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSBcInByb3BlcnR5XCInKSksXCJpZGVudGl0eVwiPT09cnx8dC52YWx1ZS5zdG9wc3x8Yy5wdXNoKG5ldyBxbih0LmtleSx0LnZhbHVlLCdtaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IFwic3RvcHNcIicpKSxcImV4cG9uZW50aWFsXCI9PT1yJiZ0LnZhbHVlU3BlYy5leHByZXNzaW9uJiYha24odC52YWx1ZVNwZWMpJiZjLnB1c2gobmV3IHFuKHQua2V5LHQudmFsdWUsXCJleHBvbmVudGlhbCBmdW5jdGlvbnMgbm90IHN1cHBvcnRlZFwiKSksdC5zdHlsZVNwZWMuJHZlcnNpb24+PTgmJihsJiYhQW4odC52YWx1ZVNwZWMpP2MucHVzaChuZXcgcW4odC5rZXksdC52YWx1ZSxcInByb3BlcnR5IGZ1bmN0aW9ucyBub3Qgc3VwcG9ydGVkXCIpKTpvJiYhU24odC52YWx1ZVNwZWMpJiZjLnB1c2gobmV3IHFuKHQua2V5LHQudmFsdWUsXCJ6b29tIGZ1bmN0aW9ucyBub3Qgc3VwcG9ydGVkXCIpKSksXCJjYXRlZ29yaWNhbFwiIT09ciYmIXV8fHZvaWQgMCE9PXQudmFsdWUucHJvcGVydHl8fGMucHVzaChuZXcgcW4odC5rZXksdC52YWx1ZSwnXCJwcm9wZXJ0eVwiIHByb3BlcnR5IGlzIHJlcXVpcmVkJykpLGM7ZnVuY3Rpb24gaCh0KXtsZXQgcj1bXTtjb25zdCBuPXQudmFsdWUsbz10LmtleTtpZihcImFycmF5XCIhPT1JbihuKSlyZXR1cm4gW25ldyBxbihvLG4sYGFycmF5IGV4cGVjdGVkLCAke0luKG4pfSBmb3VuZGApXTtpZigyIT09bi5sZW5ndGgpcmV0dXJuIFtuZXcgcW4obyxuLGBhcnJheSBsZW5ndGggMiBleHBlY3RlZCwgbGVuZ3RoICR7bi5sZW5ndGh9IGZvdW5kYCldO2lmKHUpe2lmKFwib2JqZWN0XCIhPT1JbihuWzBdKSlyZXR1cm4gW25ldyBxbihvLG4sYG9iamVjdCBleHBlY3RlZCwgJHtJbihuWzBdKX0gZm91bmRgKV07aWYodm9pZCAwPT09blswXS56b29tKXJldHVybiBbbmV3IHFuKG8sbixcIm9iamVjdCBzdG9wIGtleSBtdXN0IGhhdmUgem9vbVwiKV07aWYodm9pZCAwPT09blswXS52YWx1ZSlyZXR1cm4gW25ldyBxbihvLG4sXCJvYmplY3Qgc3RvcCBrZXkgbXVzdCBoYXZlIHZhbHVlXCIpXTtjb25zdCBlPVh0KG5bMF0uem9vbSk7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGUpcmV0dXJuIFtuZXcgcW4obyxuWzBdLnpvb20sXCJzdG9wIHpvb20gdmFsdWVzIG11c3QgYmUgbnVtYmVyc1wiKV07aWYocyYmcz5lKXJldHVybiBbbmV3IHFuKG8sblswXS56b29tLFwic3RvcCB6b29tIHZhbHVlcyBtdXN0IGFwcGVhciBpbiBhc2NlbmRpbmcgb3JkZXJcIildO2UhPT1zJiYocz1lLGk9dm9pZCAwLGE9e30pLHI9ci5jb25jYXQoTm4oe2tleTpgJHtvfVswXWAsdmFsdWU6blswXSx2YWx1ZVNwZWM6e3pvb206e319LHN0eWxlOnQuc3R5bGUsc3R5bGVTcGVjOnQuc3R5bGVTcGVjLG9iamVjdEVsZW1lbnRWYWxpZGF0b3JzOnt6b29tOlpuLHZhbHVlOnB9fSkpO31lbHNlIHI9ci5jb25jYXQocCh7a2V5OmAke299WzBdYCx2YWx1ZTpuWzBdLHZhbHVlU3BlYzp7fSxzdHlsZTp0LnN0eWxlLHN0eWxlU3BlYzp0LnN0eWxlU3BlY30sbikpO3JldHVybiBGbihLdChuWzFdKSk/ci5jb25jYXQoW25ldyBxbihgJHtvfVsxXWAsblsxXSxcImV4cHJlc3Npb25zIGFyZSBub3QgYWxsb3dlZCBpbiBmdW5jdGlvbiBzdG9wcy5cIildKTpyLmNvbmNhdChBaSh7a2V5OmAke299WzFdYCx2YWx1ZTpuWzFdLHZhbHVlU3BlYzplLHN0eWxlOnQuc3R5bGUsc3R5bGVTcGVjOnQuc3R5bGVTcGVjfSkpfWZ1bmN0aW9uIHAodCxzKXtjb25zdCBvPUluKHQudmFsdWUpLGw9WHQodC52YWx1ZSksdT1udWxsIT09dC52YWx1ZT90LnZhbHVlOnM7aWYobil7aWYobyE9PW4pcmV0dXJuIFtuZXcgcW4odC5rZXksdSxgJHtvfSBzdG9wIGRvbWFpbiB0eXBlIG11c3QgbWF0Y2ggcHJldmlvdXMgc3RvcCBkb21haW4gdHlwZSAke259YCldfWVsc2Ugbj1vO2lmKFwibnVtYmVyXCIhPT1vJiZcInN0cmluZ1wiIT09byYmXCJib29sZWFuXCIhPT1vJiZcIm51bWJlclwiIT10eXBlb2YgbCYmXCJzdHJpbmdcIiE9dHlwZW9mIGwmJlwiYm9vbGVhblwiIT10eXBlb2YgbClyZXR1cm4gW25ldyBxbih0LmtleSx1LFwic3RvcCBkb21haW4gdmFsdWUgbXVzdCBiZSBhIG51bWJlciwgc3RyaW5nLCBvciBib29sZWFuXCIpXTtpZihcIm51bWJlclwiIT09byYmXCJjYXRlZ29yaWNhbFwiIT09cil7bGV0IG49YG51bWJlciBleHBlY3RlZCwgJHtvfSBmb3VuZGA7cmV0dXJuIEFuKGUpJiZ2b2lkIDA9PT1yJiYobis9J1xcbklmIHlvdSBpbnRlbmRlZCB0byB1c2UgYSBjYXRlZ29yaWNhbCBmdW5jdGlvbiwgc3BlY2lmeSBgXCJ0eXBlXCI6IFwiY2F0ZWdvcmljYWxcImAuJyksW25ldyBxbih0LmtleSx1LG4pXX1yZXR1cm4gXCJjYXRlZ29yaWNhbFwiIT09cnx8XCJudW1iZXJcIiE9PW98fFwibnVtYmVyXCI9PXR5cGVvZiBsJiZpc0Zpbml0ZShsKSYmTWF0aC5mbG9vcihsKT09PWw/XCJjYXRlZ29yaWNhbFwiIT09ciYmXCJudW1iZXJcIj09PW8mJlwibnVtYmVyXCI9PXR5cGVvZiBsJiZcIm51bWJlclwiPT10eXBlb2YgaSYmdm9pZCAwIT09aSYmbDxpP1tuZXcgcW4odC5rZXksdSxcInN0b3AgZG9tYWluIHZhbHVlcyBtdXN0IGFwcGVhciBpbiBhc2NlbmRpbmcgb3JkZXJcIildOihpPWwsXCJjYXRlZ29yaWNhbFwiPT09ciYmbCBpbiBhP1tuZXcgcW4odC5rZXksdSxcInN0b3AgZG9tYWluIHZhbHVlcyBtdXN0IGJlIHVuaXF1ZVwiKV06KGFbbF09ITAsW10pKTpbbmV3IHFuKHQua2V5LHUsYGludGVnZXIgZXhwZWN0ZWQsIGZvdW5kICR7U3RyaW5nKGwpfWApXX19ZnVuY3Rpb24gS24odCl7Y29uc3QgZT0oXCJwcm9wZXJ0eVwiPT09dC5leHByZXNzaW9uQ29udGV4dD9qbjpMbikoS3QodC52YWx1ZSksdC52YWx1ZVNwZWMpO2lmKFwiZXJyb3JcIj09PWUucmVzdWx0KXJldHVybiBlLnZhbHVlLm1hcCgoZT0+bmV3IHFuKGAke3Qua2V5fSR7ZS5rZXl9YCx0LnZhbHVlLGUubWVzc2FnZSkpKTtjb25zdCByPWUudmFsdWUuZXhwcmVzc2lvbnx8ZS52YWx1ZS5fc3R5bGVFeHByZXNzaW9uLmV4cHJlc3Npb247aWYoXCJwcm9wZXJ0eVwiPT09dC5leHByZXNzaW9uQ29udGV4dCYmXCJ0ZXh0LWZvbnRcIj09PXQucHJvcGVydHlLZXkmJiFyLm91dHB1dERlZmluZWQoKSlyZXR1cm4gW25ldyBxbih0LmtleSx0LnZhbHVlLGBJbnZhbGlkIGRhdGEgZXhwcmVzc2lvbiBmb3IgXCIke3QucHJvcGVydHlLZXl9XCIuIE91dHB1dCB2YWx1ZXMgbXVzdCBiZSBjb250YWluZWQgYXMgbGl0ZXJhbHMgd2l0aGluIHRoZSBleHByZXNzaW9uLmApXTtpZihcInByb3BlcnR5XCI9PT10LmV4cHJlc3Npb25Db250ZXh0JiZcImxheW91dFwiPT09dC5wcm9wZXJ0eVR5cGUmJiFscihyKSlyZXR1cm4gW25ldyBxbih0LmtleSx0LnZhbHVlLCdcImZlYXR1cmUtc3RhdGVcIiBkYXRhIGV4cHJlc3Npb25zIGFyZSBub3Qgc3VwcG9ydGVkIHdpdGggbGF5b3V0IHByb3BlcnRpZXMuJyldO2lmKFwiZmlsdGVyXCI9PT10LmV4cHJlc3Npb25Db250ZXh0KXJldHVybiBIbihyLHQpO2lmKHQuZXhwcmVzc2lvbkNvbnRleHQmJjA9PT10LmV4cHJlc3Npb25Db250ZXh0LmluZGV4T2YoXCJjbHVzdGVyXCIpKXtpZighdXIocixbXCJ6b29tXCIsXCJmZWF0dXJlLXN0YXRlXCJdKSlyZXR1cm4gW25ldyBxbih0LmtleSx0LnZhbHVlLCdcInpvb21cIiBhbmQgXCJmZWF0dXJlLXN0YXRlXCIgZXhwcmVzc2lvbnMgYXJlIG5vdCBzdXBwb3J0ZWQgd2l0aCBjbHVzdGVyIHByb3BlcnRpZXMuJyldO2lmKFwiY2x1c3Rlci1pbml0aWFsXCI9PT10LmV4cHJlc3Npb25Db250ZXh0JiYhb3IocikpcmV0dXJuIFtuZXcgcW4odC5rZXksdC52YWx1ZSxcIkZlYXR1cmUgZGF0YSBleHByZXNzaW9ucyBhcmUgbm90IHN1cHBvcnRlZCB3aXRoIGluaXRpYWwgZXhwcmVzc2lvbiBwYXJ0IG9mIGNsdXN0ZXIgcHJvcGVydGllcy5cIildfXJldHVybiBbXX1mdW5jdGlvbiBIbih0LGUpe2NvbnN0IHI9bmV3IFNldChbXCJ6b29tXCIsXCJmZWF0dXJlLXN0YXRlXCIsXCJwaXRjaFwiLFwiZGlzdGFuY2UtZnJvbS1jZW50ZXJcIl0pO2lmKGUudmFsdWVTcGVjJiZlLnZhbHVlU3BlYy5leHByZXNzaW9uKWZvcihjb25zdCB0IG9mIGUudmFsdWVTcGVjLmV4cHJlc3Npb24ucGFyYW1ldGVycylyLmRlbGV0ZSh0KTtpZigwPT09ci5zaXplKXJldHVybiBbXTtjb25zdCBuPVtdO3JldHVybiB0IGluc3RhbmNlb2YgJGUmJnIuaGFzKHQubmFtZSk/W25ldyBxbihlLmtleSxlLnZhbHVlLGBbXCIke3QubmFtZX1cIl0gZXhwcmVzc2lvbiBpcyBub3Qgc3VwcG9ydGVkIGluIGEgZmlsdGVyIGZvciBhICR7ZS5vYmplY3QudHlwZX0gbGF5ZXIgd2l0aCBpZDogJHtlLm9iamVjdC5pZH1gKV06KHQuZWFjaENoaWxkKCh0PT57bi5wdXNoKC4uLkhuKHQsZSkpO30pKSxuKX1mdW5jdGlvbiBZbih0KXtjb25zdCBlPXQua2V5LHI9dC52YWx1ZSxuPXQudmFsdWVTcGVjLGk9W107cmV0dXJuIEFycmF5LmlzQXJyYXkobi52YWx1ZXMpPy0xPT09bi52YWx1ZXMuaW5kZXhPZihYdChyKSkmJmkucHVzaChuZXcgcW4oZSxyLGBleHBlY3RlZCBvbmUgb2YgWyR7bi52YWx1ZXMuam9pbihcIiwgXCIpfV0sICR7SlNPTi5zdHJpbmdpZnkocil9IGZvdW5kYCkpOi0xPT09T2JqZWN0LmtleXMobi52YWx1ZXMpLmluZGV4T2YoWHQocikpJiZpLnB1c2gobmV3IHFuKGUscixgZXhwZWN0ZWQgb25lIG9mIFske09iamVjdC5rZXlzKG4udmFsdWVzKS5qb2luKFwiLCBcIil9XSwgJHtKU09OLnN0cmluZ2lmeShyKX0gZm91bmRgKSksaX1mdW5jdGlvbiBXbih0KXtpZighMD09PXR8fCExPT09dClyZXR1cm4gITA7aWYoIUFycmF5LmlzQXJyYXkodCl8fDA9PT10Lmxlbmd0aClyZXR1cm4gITE7c3dpdGNoKHRbMF0pe2Nhc2VcImhhc1wiOnJldHVybiB0Lmxlbmd0aD49MiYmXCIkaWRcIiE9PXRbMV0mJlwiJHR5cGVcIiE9PXRbMV07Y2FzZVwiaW5cIjpyZXR1cm4gdC5sZW5ndGg+PTMmJihcInN0cmluZ1wiIT10eXBlb2YgdFsxXXx8QXJyYXkuaXNBcnJheSh0WzJdKSk7Y2FzZVwiIWluXCI6Y2FzZVwiIWhhc1wiOmNhc2VcIm5vbmVcIjpyZXR1cm4gITE7Y2FzZVwiPT1cIjpjYXNlXCIhPVwiOmNhc2VcIj5cIjpjYXNlXCI+PVwiOmNhc2VcIjxcIjpjYXNlXCI8PVwiOnJldHVybiAzIT09dC5sZW5ndGh8fEFycmF5LmlzQXJyYXkodFsxXSl8fEFycmF5LmlzQXJyYXkodFsyXSk7Y2FzZVwiYW55XCI6Y2FzZVwiYWxsXCI6Zm9yKGNvbnN0IGUgb2YgdC5zbGljZSgxKSlpZighV24oZSkmJlwiYm9vbGVhblwiIT10eXBlb2YgZSlyZXR1cm4gITE7cmV0dXJuICEwO2RlZmF1bHQ6cmV0dXJuICEwfX1mdW5jdGlvbiBKbih0LGU9XCJmaWxsXCIpe2lmKG51bGw9PXQpcmV0dXJuIHtmaWx0ZXI6KCk9PiEwLG5lZWRHZW9tZXRyeTohMSxuZWVkRmVhdHVyZTohMX07V24odCl8fCh0PXNpKHQpKTtjb25zdCByPXQ7bGV0IG49ITA7dHJ5e249ZnVuY3Rpb24odCl7aWYoIWVpKHQpKXJldHVybiB0O2xldCBlPUt0KHQpO3JldHVybiB0aShlKSxlPVFuKGUpLGV9KHIpO31jYXRjaCh0KXtjb25zb2xlLndhcm4oYEZhaWxlZCB0byBleHRyYWN0IHN0YXRpYyBmaWx0ZXIuIEZpbHRlciB3aWxsIGNvbnRpbnVlIHdvcmtpbmcsIGJ1dCBhdCBoaWdoZXIgbWVtb3J5IHVzYWdlIGFuZCBzbG93ZXIgZnJhbWVyYXRlLlxcblRoaXMgaXMgbW9zdCBsaWtlbHkgYSBidWcsIHBsZWFzZSByZXBvcnQgdGhpcyB2aWEgaHR0cHM6Ly9naXRodWIuY29tL21hcGJveC9tYXBib3gtZ2wtanMvaXNzdWVzL25ldz9hc3NpZ25lZXM9JmxhYmVscz0mdGVtcGxhdGU9QnVnX3JlcG9ydC5tZFxcbmFuZCBwYXN0ZSB0aGUgY29udGVudHMgb2YgdGhpcyBtZXNzYWdlIGluIHRoZSByZXBvcnQuXFxuVGhhbmsgeW91IVxcbkZpbHRlciBFeHByZXNzaW9uOlxcbiR7SlNPTi5zdHJpbmdpZnkocixudWxsLDIpfVxcbiAgICAgICAgYCk7fWNvbnN0IGk9R3RbYGZpbHRlcl8ke2V9YF0scz1MbihuLGkpO2xldCBhPW51bGw7aWYoXCJlcnJvclwiPT09cy5yZXN1bHQpdGhyb3cgbmV3IEVycm9yKHMudmFsdWUubWFwKCh0PT5gJHt0LmtleX06ICR7dC5tZXNzYWdlfWApKS5qb2luKFwiLCBcIikpO2E9KHQsZSxyKT0+cy52YWx1ZS5ldmFsdWF0ZSh0LGUse30scik7bGV0IG89bnVsbCxsPW51bGw7aWYobiE9PXIpe2NvbnN0IHQ9TG4ocixpKTtpZihcImVycm9yXCI9PT10LnJlc3VsdCl0aHJvdyBuZXcgRXJyb3IodC52YWx1ZS5tYXAoKHQ9PmAke3Qua2V5fTogJHt0Lm1lc3NhZ2V9YCkpLmpvaW4oXCIsIFwiKSk7bz0oZSxyLG4saSxzKT0+dC52YWx1ZS5ldmFsdWF0ZShlLHIse30sbix2b2lkIDAsdm9pZCAwLGkscyksbD0hb3IodC52YWx1ZS5leHByZXNzaW9uKTt9cmV0dXJuIGE9YSx7ZmlsdGVyOmEsZHluYW1pY0ZpbHRlcjpvfHx2b2lkIDAsbmVlZEdlb21ldHJ5OmlpKG4pLG5lZWRGZWF0dXJlOiEhbH19ZnVuY3Rpb24gUW4odCl7aWYoIUFycmF5LmlzQXJyYXkodCkpcmV0dXJuIHQ7Y29uc3QgZT1mdW5jdGlvbih0KXtpZihyaS5oYXModFswXSkpZm9yKGxldCBlPTE7ZTx0Lmxlbmd0aDtlKyspaWYoZWkodFtlXSkpcmV0dXJuICEwO3JldHVybiB0fSh0KTtyZXR1cm4gITA9PT1lP2U6ZS5tYXAoKHQ9PlFuKHQpKSl9ZnVuY3Rpb24gdGkodCl7bGV0IGU9ITE7Y29uc3Qgcj1bXTtpZihcImNhc2VcIj09PXRbMF0pe2ZvcihsZXQgbj0xO248dC5sZW5ndGgtMTtuKz0yKWU9ZXx8ZWkodFtuXSksci5wdXNoKHRbbisxXSk7ci5wdXNoKHRbdC5sZW5ndGgtMV0pO31lbHNlIGlmKFwibWF0Y2hcIj09PXRbMF0pe2U9ZXx8ZWkodFsxXSk7Zm9yKGxldCBlPTI7ZTx0Lmxlbmd0aC0xO2UrPTIpci5wdXNoKHRbZSsxXSk7ci5wdXNoKHRbdC5sZW5ndGgtMV0pO31lbHNlIGlmKFwic3RlcFwiPT09dFswXSl7ZT1lfHxlaSh0WzFdKTtmb3IobGV0IGU9MTtlPHQubGVuZ3RoLTE7ZSs9MilyLnB1c2godFtlKzFdKTt9ZSYmKHQubGVuZ3RoPTAsdC5wdXNoKFwiYW55XCIsLi4ucikpO2ZvcihsZXQgZT0xO2U8dC5sZW5ndGg7ZSsrKXRpKHRbZV0pO31mdW5jdGlvbiBlaSh0KXtpZighQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gITE7aWYoXCJwaXRjaFwiPT09KGU9dFswXSl8fFwiZGlzdGFuY2UtZnJvbS1jZW50ZXJcIj09PWUpcmV0dXJuICEwO3ZhciBlO2ZvcihsZXQgZT0xO2U8dC5sZW5ndGg7ZSsrKWlmKGVpKHRbZV0pKXJldHVybiAhMDtyZXR1cm4gITF9Y29uc3Qgcmk9bmV3IFNldChbXCJpblwiLFwiPT1cIixcIiE9XCIsXCI+XCIsXCI+PVwiLFwiPFwiLFwiPD1cIixcInRvLWJvb2xlYW5cIl0pO2Z1bmN0aW9uIG5pKHQsZSl7cmV0dXJuIHQ8ZT8tMTp0PmU/MTowfWZ1bmN0aW9uIGlpKHQpe2lmKCFBcnJheS5pc0FycmF5KHQpKXJldHVybiAhMTtpZihcIndpdGhpblwiPT09dFswXSlyZXR1cm4gITA7Zm9yKGxldCBlPTE7ZTx0Lmxlbmd0aDtlKyspaWYoaWkodFtlXSkpcmV0dXJuICEwO3JldHVybiAhMX1mdW5jdGlvbiBzaSh0KXtpZighdClyZXR1cm4gITA7Y29uc3QgZT10WzBdO3JldHVybiB0Lmxlbmd0aDw9MT9cImFueVwiIT09ZTpcIj09XCI9PT1lP2FpKHRbMV0sdFsyXSxcIj09XCIpOlwiIT1cIj09PWU/dWkoYWkodFsxXSx0WzJdLFwiPT1cIikpOlwiPFwiPT09ZXx8XCI+XCI9PT1lfHxcIjw9XCI9PT1lfHxcIj49XCI9PT1lP2FpKHRbMV0sdFsyXSxlKTpcImFueVwiPT09ZT8ocj10LnNsaWNlKDEpLFtcImFueVwiXS5jb25jYXQoci5tYXAoc2kpKSk6XCJhbGxcIj09PWU/W1wiYWxsXCJdLmNvbmNhdCh0LnNsaWNlKDEpLm1hcChzaSkpOlwibm9uZVwiPT09ZT9bXCJhbGxcIl0uY29uY2F0KHQuc2xpY2UoMSkubWFwKHNpKS5tYXAodWkpKTpcImluXCI9PT1lP29pKHRbMV0sdC5zbGljZSgyKSk6XCIhaW5cIj09PWU/dWkob2kodFsxXSx0LnNsaWNlKDIpKSk6XCJoYXNcIj09PWU/bGkodFsxXSk6XCIhaGFzXCI9PT1lP3VpKGxpKHRbMV0pKTpcIndpdGhpblwiIT09ZXx8dDt2YXIgcjt9ZnVuY3Rpb24gYWkodCxlLHIpe3N3aXRjaCh0KXtjYXNlXCIkdHlwZVwiOnJldHVybiBbYGZpbHRlci10eXBlLSR7cn1gLGVdO2Nhc2VcIiRpZFwiOnJldHVybiBbYGZpbHRlci1pZC0ke3J9YCxlXTtkZWZhdWx0OnJldHVybiBbYGZpbHRlci0ke3J9YCx0LGVdfX1mdW5jdGlvbiBvaSh0LGUpe2lmKDA9PT1lLmxlbmd0aClyZXR1cm4gITE7c3dpdGNoKHQpe2Nhc2VcIiR0eXBlXCI6cmV0dXJuIFtcImZpbHRlci10eXBlLWluXCIsW1wibGl0ZXJhbFwiLGVdXTtjYXNlXCIkaWRcIjpyZXR1cm4gW1wiZmlsdGVyLWlkLWluXCIsW1wibGl0ZXJhbFwiLGVdXTtkZWZhdWx0OnJldHVybiBlLmxlbmd0aD4yMDAmJiFlLnNvbWUoKHQ9PnR5cGVvZiB0IT10eXBlb2YgZVswXSkpP1tcImZpbHRlci1pbi1sYXJnZVwiLHQsW1wibGl0ZXJhbFwiLGUuc29ydChuaSldXTpbXCJmaWx0ZXItaW4tc21hbGxcIix0LFtcImxpdGVyYWxcIixlXV19fWZ1bmN0aW9uIGxpKHQpe3N3aXRjaCh0KXtjYXNlXCIkdHlwZVwiOnJldHVybiAhMDtjYXNlXCIkaWRcIjpyZXR1cm4gW1wiZmlsdGVyLWhhcy1pZFwiXTtkZWZhdWx0OnJldHVybiBbXCJmaWx0ZXItaGFzXCIsdF19fWZ1bmN0aW9uIHVpKHQpe3JldHVybiBbXCIhXCIsdF19ZnVuY3Rpb24gY2kodCl7cmV0dXJuIFduKEt0KHQudmFsdWUpKT9LbihadCh7fSx0LHtleHByZXNzaW9uQ29udGV4dDpcImZpbHRlclwiLHZhbHVlU3BlYzp0LnN0eWxlU3BlY1tgZmlsdGVyXyR7dC5sYXllclR5cGV8fFwiZmlsbFwifWBdfSkpOmhpKHQpfWZ1bmN0aW9uIGhpKHQpe2NvbnN0IGU9dC52YWx1ZSxyPXQua2V5O2lmKFwiYXJyYXlcIiE9PUluKGUpKXJldHVybiBbbmV3IHFuKHIsZSxgYXJyYXkgZXhwZWN0ZWQsICR7SW4oZSl9IGZvdW5kYCldO2NvbnN0IG49dC5zdHlsZVNwZWM7bGV0IGkscz1bXTtpZihlLmxlbmd0aDwxKXJldHVybiBbbmV3IHFuKHIsZSxcImZpbHRlciBhcnJheSBtdXN0IGhhdmUgYXQgbGVhc3QgMSBlbGVtZW50XCIpXTtzd2l0Y2gocz1zLmNvbmNhdChZbih7a2V5OmAke3J9WzBdYCx2YWx1ZTplWzBdLHZhbHVlU3BlYzpuLmZpbHRlcl9vcGVyYXRvcixzdHlsZTp0LnN0eWxlLHN0eWxlU3BlYzp0LnN0eWxlU3BlY30pKSxYdChlWzBdKSl7Y2FzZVwiPFwiOmNhc2VcIjw9XCI6Y2FzZVwiPlwiOmNhc2VcIj49XCI6ZS5sZW5ndGg+PTImJlwiJHR5cGVcIj09PVh0KGVbMV0pJiZzLnB1c2gobmV3IHFuKHIsZSxgXCIkdHlwZVwiIGNhbm5vdCBiZSB1c2Ugd2l0aCBvcGVyYXRvciBcIiR7ZVswXX1cImApKTtjYXNlXCI9PVwiOmNhc2VcIiE9XCI6MyE9PWUubGVuZ3RoJiZzLnB1c2gobmV3IHFuKHIsZSxgZmlsdGVyIGFycmF5IGZvciBvcGVyYXRvciBcIiR7ZVswXX1cIiBtdXN0IGhhdmUgMyBlbGVtZW50c2ApKTtjYXNlXCJpblwiOmNhc2VcIiFpblwiOmUubGVuZ3RoPj0yJiYoaT1JbihlWzFdKSxcInN0cmluZ1wiIT09aSYmcy5wdXNoKG5ldyBxbihgJHtyfVsxXWAsZVsxXSxgc3RyaW5nIGV4cGVjdGVkLCAke2l9IGZvdW5kYCkpKTtmb3IobGV0IGE9MjthPGUubGVuZ3RoO2ErKylpPUluKGVbYV0pLFwiJHR5cGVcIj09PVh0KGVbMV0pP3M9cy5jb25jYXQoWW4oe2tleTpgJHtyfVske2F9XWAsdmFsdWU6ZVthXSx2YWx1ZVNwZWM6bi5nZW9tZXRyeV90eXBlLHN0eWxlOnQuc3R5bGUsc3R5bGVTcGVjOnQuc3R5bGVTcGVjfSkpOlwic3RyaW5nXCIhPT1pJiZcIm51bWJlclwiIT09aSYmXCJib29sZWFuXCIhPT1pJiZzLnB1c2gobmV3IHFuKGAke3J9WyR7YX1dYCxlW2FdLGBzdHJpbmcsIG51bWJlciwgb3IgYm9vbGVhbiBleHBlY3RlZCwgJHtpfSBmb3VuZGApKTticmVhaztjYXNlXCJhbnlcIjpjYXNlXCJhbGxcIjpjYXNlXCJub25lXCI6Zm9yKGxldCBuPTE7bjxlLmxlbmd0aDtuKyspcz1zLmNvbmNhdChoaSh7a2V5OmAke3J9WyR7bn1dYCx2YWx1ZTplW25dLHN0eWxlOnQuc3R5bGUsc3R5bGVTcGVjOnQuc3R5bGVTcGVjfSkpO2JyZWFrO2Nhc2VcImhhc1wiOmNhc2VcIiFoYXNcIjppPUluKGVbMV0pLDIhPT1lLmxlbmd0aD9zLnB1c2gobmV3IHFuKHIsZSxgZmlsdGVyIGFycmF5IGZvciBcIiR7ZVswXX1cIiBvcGVyYXRvciBtdXN0IGhhdmUgMiBlbGVtZW50c2ApKTpcInN0cmluZ1wiIT09aSYmcy5wdXNoKG5ldyBxbihgJHtyfVsxXWAsZVsxXSxgc3RyaW5nIGV4cGVjdGVkLCAke2l9IGZvdW5kYCkpO2JyZWFrO2Nhc2VcIndpdGhpblwiOmk9SW4oZVsxXSksMiE9PWUubGVuZ3RoP3MucHVzaChuZXcgcW4ocixlLGBmaWx0ZXIgYXJyYXkgZm9yIFwiJHtlWzBdfVwiIG9wZXJhdG9yIG11c3QgaGF2ZSAyIGVsZW1lbnRzYCkpOlwib2JqZWN0XCIhPT1pJiZzLnB1c2gobmV3IHFuKGAke3J9WzFdYCxlWzFdLGBvYmplY3QgZXhwZWN0ZWQsICR7aX0gZm91bmRgKSk7fXJldHVybiBzfWZ1bmN0aW9uIHBpKHQsZSl7Y29uc3Qgcj10LmtleSxuPXQuc3R5bGUsaT10LnN0eWxlU3BlYyxzPXQudmFsdWUsYT10Lm9iamVjdEtleSxvPWlbYCR7ZX1fJHt0LmxheWVyVHlwZX1gXTtpZighbylyZXR1cm4gW107Y29uc3QgbD1hLm1hdGNoKC9eKC4qKS10cmFuc2l0aW9uJC8pO2lmKFwicGFpbnRcIj09PWUmJmwmJm9bbFsxXV0mJm9bbFsxXV0udHJhbnNpdGlvbilyZXR1cm4gQWkoe2tleTpyLHZhbHVlOnMsdmFsdWVTcGVjOmkudHJhbnNpdGlvbixzdHlsZTpuLHN0eWxlU3BlYzppfSk7Y29uc3QgdT10LnZhbHVlU3BlY3x8b1thXTtpZighdSlyZXR1cm4gW25ldyBxbihyLHMsYHVua25vd24gcHJvcGVydHkgXCIke2F9XCJgKV07bGV0IGM7aWYoXCJzdHJpbmdcIj09PUluKHMpJiZBbih1KSYmIXUudG9rZW5zJiYoYz0vXnsoW159XSspfSQvLmV4ZWMocykpKXJldHVybiBbbmV3IHFuKHIscyxgXCIke2F9XCIgZG9lcyBub3Qgc3VwcG9ydCBpbnRlcnBvbGF0aW9uIHN5bnRheFxcblVzZSBhbiBpZGVudGl0eSBwcm9wZXJ0eSBmdW5jdGlvbiBpbnN0ZWFkOiBcXGB7IFwidHlwZVwiOiBcImlkZW50aXR5XCIsIFwicHJvcGVydHlcIjogJHtKU09OLnN0cmluZ2lmeShjWzFdKX0gfVxcYC5gKV07Y29uc3QgaD1bXTtyZXR1cm4gXCJzeW1ib2xcIj09PXQubGF5ZXJUeXBlJiYoXCJ0ZXh0LWZpZWxkXCI9PT1hJiZuJiYhbi5nbHlwaHMmJmgucHVzaChuZXcgcW4ocixzLCd1c2Ugb2YgXCJ0ZXh0LWZpZWxkXCIgcmVxdWlyZXMgYSBzdHlsZSBcImdseXBoc1wiIHByb3BlcnR5JykpLFwidGV4dC1mb250XCI9PT1hJiZNbihLdChzKSkmJlwiaWRlbnRpdHlcIj09PVh0KHMudHlwZSkmJmgucHVzaChuZXcgcW4ocixzLCdcInRleHQtZm9udFwiIGRvZXMgbm90IHN1cHBvcnQgaWRlbnRpdHkgZnVuY3Rpb25zJykpKSxoLmNvbmNhdChBaSh7a2V5OnQua2V5LHZhbHVlOnMsdmFsdWVTcGVjOnUsc3R5bGU6bixzdHlsZVNwZWM6aSxleHByZXNzaW9uQ29udGV4dDpcInByb3BlcnR5XCIscHJvcGVydHlUeXBlOmUscHJvcGVydHlLZXk6YX0pKX1mdW5jdGlvbiBmaSh0KXtyZXR1cm4gcGkodCxcInBhaW50XCIpfWZ1bmN0aW9uIGRpKHQpe3JldHVybiBwaSh0LFwibGF5b3V0XCIpfWZ1bmN0aW9uIHlpKHQpe2xldCBlPVtdO2NvbnN0IHI9dC52YWx1ZSxuPXQua2V5LGk9dC5zdHlsZSxzPXQuc3R5bGVTcGVjO3IudHlwZXx8ci5yZWZ8fGUucHVzaChuZXcgcW4obixyLCdlaXRoZXIgXCJ0eXBlXCIgb3IgXCJyZWZcIiBpcyByZXF1aXJlZCcpKTtsZXQgYT1YdChyLnR5cGUpO2NvbnN0IG89WHQoci5yZWYpO2lmKHIuaWQpe2NvbnN0IHM9WHQoci5pZCk7Zm9yKGxldCBhPTA7YTx0LmFycmF5SW5kZXg7YSsrKXtjb25zdCB0PWkubGF5ZXJzW2FdO1h0KHQuaWQpPT09cyYmZS5wdXNoKG5ldyBxbihuLHIuaWQsYGR1cGxpY2F0ZSBsYXllciBpZCBcIiR7ci5pZH1cIiwgcHJldmlvdXNseSB1c2VkIGF0IGxpbmUgJHt0LmlkLl9fbGluZV9ffWApKTt9fWlmKFwicmVmXCJpbiByKXtsZXQgdDtbXCJ0eXBlXCIsXCJzb3VyY2VcIixcInNvdXJjZS1sYXllclwiLFwiZmlsdGVyXCIsXCJsYXlvdXRcIl0uZm9yRWFjaCgodD0+e3QgaW4gciYmZS5wdXNoKG5ldyBxbihuLHJbdF0sYFwiJHt0fVwiIGlzIHByb2hpYml0ZWQgZm9yIHJlZiBsYXllcnNgKSk7fSkpLGkubGF5ZXJzLmZvckVhY2goKGU9PntYdChlLmlkKT09PW8mJih0PWUpO30pKSx0P3QucmVmP2UucHVzaChuZXcgcW4obixyLnJlZixcInJlZiBjYW5ub3QgcmVmZXJlbmNlIGFub3RoZXIgcmVmIGxheWVyXCIpKTphPVh0KHQudHlwZSk6XCJzdHJpbmdcIj09dHlwZW9mIG8mJmUucHVzaChuZXcgcW4obixyLnJlZixgcmVmIGxheWVyIFwiJHtvfVwiIG5vdCBmb3VuZGApKTt9ZWxzZSBpZihcImJhY2tncm91bmRcIiE9PWEmJlwic2t5XCIhPT1hKWlmKHIuc291cmNlKXtjb25zdCB0PWkuc291cmNlcyYmaS5zb3VyY2VzW3Iuc291cmNlXSxzPXQmJlh0KHQudHlwZSk7dD9cInZlY3RvclwiPT09cyYmXCJyYXN0ZXJcIj09PWE/ZS5wdXNoKG5ldyBxbihuLHIuc291cmNlLGBsYXllciBcIiR7ci5pZH1cIiByZXF1aXJlcyBhIHJhc3RlciBzb3VyY2VgKSk6XCJyYXN0ZXJcIj09PXMmJlwicmFzdGVyXCIhPT1hP2UucHVzaChuZXcgcW4obixyLnNvdXJjZSxgbGF5ZXIgXCIke3IuaWR9XCIgcmVxdWlyZXMgYSB2ZWN0b3Igc291cmNlYCkpOlwidmVjdG9yXCIhPT1zfHxyW1wic291cmNlLWxheWVyXCJdP1wicmFzdGVyLWRlbVwiPT09cyYmXCJoaWxsc2hhZGVcIiE9PWE/ZS5wdXNoKG5ldyBxbihuLHIuc291cmNlLFwicmFzdGVyLWRlbSBzb3VyY2UgY2FuIG9ubHkgYmUgdXNlZCB3aXRoIGxheWVyIHR5cGUgJ2hpbGxzaGFkZScuXCIpKTpcImxpbmVcIiE9PWF8fCFyLnBhaW50fHwhci5wYWludFtcImxpbmUtZ3JhZGllbnRcIl0mJiFyLnBhaW50W1wibGluZS10cmltLW9mZnNldFwiXXx8XCJnZW9qc29uXCI9PT1zJiZ0LmxpbmVNZXRyaWNzfHxlLnB1c2gobmV3IHFuKG4scixgbGF5ZXIgXCIke3IuaWR9XCIgc3BlY2lmaWVzIGEgbGluZS1ncmFkaWVudCwgd2hpY2ggcmVxdWlyZXMgYSBHZW9KU09OIHNvdXJjZSB3aXRoIFxcYGxpbmVNZXRyaWNzXFxgIGVuYWJsZWQuYCkpOmUucHVzaChuZXcgcW4obixyLGBsYXllciBcIiR7ci5pZH1cIiBtdXN0IHNwZWNpZnkgYSBcInNvdXJjZS1sYXllclwiYCkpOmUucHVzaChuZXcgcW4obixyLnNvdXJjZSxgc291cmNlIFwiJHtyLnNvdXJjZX1cIiBub3QgZm91bmRgKSk7fWVsc2UgZS5wdXNoKG5ldyBxbihuLHIsJ21pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgXCJzb3VyY2VcIicpKTtyZXR1cm4gZT1lLmNvbmNhdChObih7a2V5Om4sdmFsdWU6cix2YWx1ZVNwZWM6cy5sYXllcixzdHlsZTp0LnN0eWxlLHN0eWxlU3BlYzp0LnN0eWxlU3BlYyxvYmplY3RFbGVtZW50VmFsaWRhdG9yczp7XCIqXCI6KCk9PltdLHR5cGU6KCk9PkFpKHtrZXk6YCR7bn0udHlwZWAsdmFsdWU6ci50eXBlLHZhbHVlU3BlYzpzLmxheWVyLnR5cGUsc3R5bGU6dC5zdHlsZSxzdHlsZVNwZWM6dC5zdHlsZVNwZWMsb2JqZWN0OnIsb2JqZWN0S2V5OlwidHlwZVwifSksZmlsdGVyOnQ9PmNpKFp0KHtsYXllclR5cGU6YX0sdCkpLGxheW91dDp0PT5Obih7bGF5ZXI6cixrZXk6dC5rZXksdmFsdWU6dC52YWx1ZSx2YWx1ZVNwZWM6e30sc3R5bGU6dC5zdHlsZSxzdHlsZVNwZWM6dC5zdHlsZVNwZWMsb2JqZWN0RWxlbWVudFZhbGlkYXRvcnM6e1wiKlwiOnQ9PmRpKFp0KHtsYXllclR5cGU6YX0sdCkpfX0pLHBhaW50OnQ9Pk5uKHtsYXllcjpyLGtleTp0LmtleSx2YWx1ZTp0LnZhbHVlLHZhbHVlU3BlYzp7fSxzdHlsZTp0LnN0eWxlLHN0eWxlU3BlYzp0LnN0eWxlU3BlYyxvYmplY3RFbGVtZW50VmFsaWRhdG9yczp7XCIqXCI6dD0+ZmkoWnQoe2xheWVyVHlwZTphfSx0KSl9fSl9fSkpLGV9ZnVuY3Rpb24gbWkodCl7Y29uc3QgZT10LnZhbHVlLHI9dC5rZXksbj1JbihlKTtyZXR1cm4gXCJzdHJpbmdcIiE9PW4/W25ldyBxbihyLGUsYHN0cmluZyBleHBlY3RlZCwgJHtufSBmb3VuZGApXTpbXX1jb25zdCBnaT17cHJvbW90ZUlkOmZ1bmN0aW9uKHtrZXk6dCx2YWx1ZTplfSl7aWYoXCJzdHJpbmdcIj09PUluKGUpKXJldHVybiBtaSh7a2V5OnQsdmFsdWU6ZX0pO3tjb25zdCByPVtdO2Zvcihjb25zdCBuIGluIGUpci5wdXNoKC4uLm1pKHtrZXk6YCR7dH0uJHtufWAsdmFsdWU6ZVtuXX0pKTtyZXR1cm4gcn19fTtmdW5jdGlvbiB4aSh0KXtjb25zdCBlPXQudmFsdWUscj10LmtleSxuPXQuc3R5bGVTcGVjLGk9dC5zdHlsZTtpZighZS50eXBlKXJldHVybiBbbmV3IHFuKHIsZSwnXCJ0eXBlXCIgaXMgcmVxdWlyZWQnKV07Y29uc3Qgcz1YdChlLnR5cGUpO2xldCBhO3N3aXRjaChzKXtjYXNlXCJ2ZWN0b3JcIjpjYXNlXCJyYXN0ZXJcIjpjYXNlXCJyYXN0ZXItZGVtXCI6cmV0dXJuIGE9Tm4oe2tleTpyLHZhbHVlOmUsdmFsdWVTcGVjOm5bYHNvdXJjZV8ke3MucmVwbGFjZShcIi1cIixcIl9cIil9YF0sc3R5bGU6dC5zdHlsZSxzdHlsZVNwZWM6bixvYmplY3RFbGVtZW50VmFsaWRhdG9yczpnaX0pLGE7Y2FzZVwiZ2VvanNvblwiOmlmKGE9Tm4oe2tleTpyLHZhbHVlOmUsdmFsdWVTcGVjOm4uc291cmNlX2dlb2pzb24sc3R5bGU6aSxzdHlsZVNwZWM6bixvYmplY3RFbGVtZW50VmFsaWRhdG9yczpnaX0pLGUuY2x1c3Rlcilmb3IoY29uc3QgdCBpbiBlLmNsdXN0ZXJQcm9wZXJ0aWVzKXtjb25zdFtuLGldPWUuY2x1c3RlclByb3BlcnRpZXNbdF0scz1cInN0cmluZ1wiPT10eXBlb2Ygbj9bbixbXCJhY2N1bXVsYXRlZFwiXSxbXCJnZXRcIix0XV06bjthLnB1c2goLi4uS24oe2tleTpgJHtyfS4ke3R9Lm1hcGAsdmFsdWU6aSxleHByZXNzaW9uQ29udGV4dDpcImNsdXN0ZXItbWFwXCJ9KSksYS5wdXNoKC4uLktuKHtrZXk6YCR7cn0uJHt0fS5yZWR1Y2VgLHZhbHVlOnMsZXhwcmVzc2lvbkNvbnRleHQ6XCJjbHVzdGVyLXJlZHVjZVwifSkpO31yZXR1cm4gYTtjYXNlXCJ2aWRlb1wiOnJldHVybiBObih7a2V5OnIsdmFsdWU6ZSx2YWx1ZVNwZWM6bi5zb3VyY2VfdmlkZW8sc3R5bGU6aSxzdHlsZVNwZWM6bn0pO2Nhc2VcImltYWdlXCI6cmV0dXJuIE5uKHtrZXk6cix2YWx1ZTplLHZhbHVlU3BlYzpuLnNvdXJjZV9pbWFnZSxzdHlsZTppLHN0eWxlU3BlYzpufSk7Y2FzZVwiY2FudmFzXCI6cmV0dXJuIFtuZXcgcW4ocixudWxsLFwiUGxlYXNlIHVzZSBydW50aW1lIEFQSXMgdG8gYWRkIGNhbnZhcyBzb3VyY2VzLCByYXRoZXIgdGhhbiBpbmNsdWRpbmcgdGhlbSBpbiBzdHlsZXNoZWV0cy5cIixcInNvdXJjZS5jYW52YXNcIildO2RlZmF1bHQ6cmV0dXJuIFluKHtrZXk6YCR7cn0udHlwZWAsdmFsdWU6ZS50eXBlLHZhbHVlU3BlYzp7dmFsdWVzOltcInZlY3RvclwiLFwicmFzdGVyXCIsXCJyYXN0ZXItZGVtXCIsXCJnZW9qc29uXCIsXCJ2aWRlb1wiLFwiaW1hZ2VcIl19LHN0eWxlOmksc3R5bGVTcGVjOm59KX19ZnVuY3Rpb24gdmkodCl7Y29uc3QgZT10LnZhbHVlLHI9dC5zdHlsZVNwZWMsbj1yLmxpZ2h0LGk9dC5zdHlsZTtsZXQgcz1bXTtjb25zdCBhPUluKGUpO2lmKHZvaWQgMD09PWUpcmV0dXJuIHM7aWYoXCJvYmplY3RcIiE9PWEpcmV0dXJuIHM9cy5jb25jYXQoW25ldyBxbihcImxpZ2h0XCIsZSxgb2JqZWN0IGV4cGVjdGVkLCAke2F9IGZvdW5kYCldKSxzO2Zvcihjb25zdCB0IGluIGUpe2NvbnN0IGE9dC5tYXRjaCgvXiguKiktdHJhbnNpdGlvbiQvKTtzPXMuY29uY2F0KGEmJm5bYVsxXV0mJm5bYVsxXV0udHJhbnNpdGlvbj9BaSh7a2V5OnQsdmFsdWU6ZVt0XSx2YWx1ZVNwZWM6ci50cmFuc2l0aW9uLHN0eWxlOmksc3R5bGVTcGVjOnJ9KTpuW3RdP0FpKHtrZXk6dCx2YWx1ZTplW3RdLHZhbHVlU3BlYzpuW3RdLHN0eWxlOmksc3R5bGVTcGVjOnJ9KTpbbmV3IHFuKHQsZVt0XSxgdW5rbm93biBwcm9wZXJ0eSBcIiR7dH1cImApXSk7fXJldHVybiBzfWZ1bmN0aW9uIGJpKHQpe2NvbnN0IGU9dC52YWx1ZSxyPXQua2V5LG49dC5zdHlsZSxpPXQuc3R5bGVTcGVjLHM9aS50ZXJyYWluO2xldCBhPVtdO2NvbnN0IG89SW4oZSk7aWYodm9pZCAwPT09ZSlyZXR1cm4gYTtpZihcIm9iamVjdFwiIT09bylyZXR1cm4gYT1hLmNvbmNhdChbbmV3IHFuKFwidGVycmFpblwiLGUsYG9iamVjdCBleHBlY3RlZCwgJHtvfSBmb3VuZGApXSksYTtmb3IoY29uc3QgdCBpbiBlKXtjb25zdCByPXQubWF0Y2goL14oLiopLXRyYW5zaXRpb24kLyk7YT1hLmNvbmNhdChyJiZzW3JbMV1dJiZzW3JbMV1dLnRyYW5zaXRpb24/QWkoe2tleTp0LHZhbHVlOmVbdF0sdmFsdWVTcGVjOmkudHJhbnNpdGlvbixzdHlsZTpuLHN0eWxlU3BlYzppfSk6c1t0XT9BaSh7a2V5OnQsdmFsdWU6ZVt0XSx2YWx1ZVNwZWM6c1t0XSxzdHlsZTpuLHN0eWxlU3BlYzppfSk6W25ldyBxbih0LGVbdF0sYHVua25vd24gcHJvcGVydHkgXCIke3R9XCJgKV0pO31pZihlLnNvdXJjZSl7Y29uc3QgdD1uLnNvdXJjZXMmJm4uc291cmNlc1tlLnNvdXJjZV0saT10JiZYdCh0LnR5cGUpO3Q/XCJyYXN0ZXItZGVtXCIhPT1pJiZhLnB1c2gobmV3IHFuKHIsZS5zb3VyY2UsYHRlcnJhaW4gY2Fubm90IGJlIHVzZWQgd2l0aCBhIHNvdXJjZSBvZiB0eXBlICR7U3RyaW5nKGkpfSwgaXQgb25seSBiZSB1c2VkIHdpdGggYSBcInJhc3Rlci1kZW1cIiBzb3VyY2UgdHlwZWApKTphLnB1c2gobmV3IHFuKHIsZS5zb3VyY2UsYHNvdXJjZSBcIiR7ZS5zb3VyY2V9XCIgbm90IGZvdW5kYCkpO31lbHNlIGEucHVzaChuZXcgcW4ocixlLCd0ZXJyYWluIGlzIG1pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgXCJzb3VyY2VcIicpKTtyZXR1cm4gYX1mdW5jdGlvbiBfaSh0KXtjb25zdCBlPXQudmFsdWUscj10LnN0eWxlLG49dC5zdHlsZVNwZWMsaT1uLmZvZztsZXQgcz1bXTtjb25zdCBhPUluKGUpO2lmKHZvaWQgMD09PWUpcmV0dXJuIHM7aWYoXCJvYmplY3RcIiE9PWEpcmV0dXJuIHM9cy5jb25jYXQoW25ldyBxbihcImZvZ1wiLGUsYG9iamVjdCBleHBlY3RlZCwgJHthfSBmb3VuZGApXSkscztmb3IoY29uc3QgdCBpbiBlKXtjb25zdCBhPXQubWF0Y2goL14oLiopLXRyYW5zaXRpb24kLyk7cz1zLmNvbmNhdChhJiZpW2FbMV1dJiZpW2FbMV1dLnRyYW5zaXRpb24/QWkoe2tleTp0LHZhbHVlOmVbdF0sdmFsdWVTcGVjOm4udHJhbnNpdGlvbixzdHlsZTpyLHN0eWxlU3BlYzpufSk6aVt0XT9BaSh7a2V5OnQsdmFsdWU6ZVt0XSx2YWx1ZVNwZWM6aVt0XSxzdHlsZTpyLHN0eWxlU3BlYzpufSk6W25ldyBxbih0LGVbdF0sYHVua25vd24gcHJvcGVydHkgXCIke3R9XCJgKV0pO31yZXR1cm4gc31jb25zdCB3aT17XCIqXCI6KCk9PltdLGFycmF5OkduLGJvb2xlYW46ZnVuY3Rpb24odCl7Y29uc3QgZT10LnZhbHVlLHI9dC5rZXksbj1JbihlKTtyZXR1cm4gXCJib29sZWFuXCIhPT1uP1tuZXcgcW4ocixlLGBib29sZWFuIGV4cGVjdGVkLCAke259IGZvdW5kYCldOltdfSxudW1iZXI6Wm4sY29sb3I6ZnVuY3Rpb24odCl7Y29uc3QgZT10LmtleSxyPXQudmFsdWUsbj1JbihyKTtyZXR1cm4gXCJzdHJpbmdcIiE9PW4/W25ldyBxbihlLHIsYGNvbG9yIGV4cGVjdGVkLCAke259IGZvdW5kYCldOm51bGw9PT1tZS5wYXJzZUNTU0NvbG9yKHIpP1tuZXcgcW4oZSxyLGBjb2xvciBleHBlY3RlZCwgXCIke3J9XCIgZm91bmRgKV06W119LGVudW06WW4sZmlsdGVyOmNpLGZ1bmN0aW9uOlhuLGxheWVyOnlpLG9iamVjdDpObixzb3VyY2U6eGksbGlnaHQ6dmksdGVycmFpbjpiaSxmb2c6X2ksc3RyaW5nOm1pLGZvcm1hdHRlZDpmdW5jdGlvbih0KXtyZXR1cm4gMD09PW1pKHQpLmxlbmd0aD9bXTpLbih0KX0scmVzb2x2ZWRJbWFnZTpmdW5jdGlvbih0KXtyZXR1cm4gMD09PW1pKHQpLmxlbmd0aD9bXTpLbih0KX0scHJvamVjdGlvbjpmdW5jdGlvbih0KXtjb25zdCBlPXQudmFsdWUscj10LnN0eWxlU3BlYyxuPXIucHJvamVjdGlvbixpPXQuc3R5bGU7bGV0IHM9W107Y29uc3QgYT1JbihlKTtpZihcIm9iamVjdFwiPT09YSlmb3IoY29uc3QgdCBpbiBlKXM9cy5jb25jYXQoQWkoe2tleTp0LHZhbHVlOmVbdF0sdmFsdWVTcGVjOm5bdF0sc3R5bGU6aSxzdHlsZVNwZWM6cn0pKTtlbHNlIFwic3RyaW5nXCIhPT1hJiYocz1zLmNvbmNhdChbbmV3IHFuKFwicHJvamVjdGlvblwiLGUsYG9iamVjdCBvciBzdHJpbmcgZXhwZWN0ZWQsICR7YX0gZm91bmRgKV0pKTtyZXR1cm4gc319O2Z1bmN0aW9uIEFpKHQpe2NvbnN0IGU9dC52YWx1ZSxyPXQudmFsdWVTcGVjLG49dC5zdHlsZVNwZWM7cmV0dXJuIHIuZXhwcmVzc2lvbiYmTW4oWHQoZSkpP1huKHQpOnIuZXhwcmVzc2lvbiYmRm4oS3QoZSkpP0tuKHQpOnIudHlwZSYmd2lbci50eXBlXT93aVtyLnR5cGVdKHQpOk5uKFp0KHt9LHQse3ZhbHVlU3BlYzpyLnR5cGU/bltyLnR5cGVdOnJ9KSl9ZnVuY3Rpb24gU2kodCl7Y29uc3QgZT10LnZhbHVlLHI9dC5rZXksbj1taSh0KTtyZXR1cm4gbi5sZW5ndGh8fCgtMT09PWUuaW5kZXhPZihcIntmb250c3RhY2t9XCIpJiZuLnB1c2gobmV3IHFuKHIsZSwnXCJnbHlwaHNcIiB1cmwgbXVzdCBpbmNsdWRlIGEgXCJ7Zm9udHN0YWNrfVwiIHRva2VuJykpLC0xPT09ZS5pbmRleE9mKFwie3JhbmdlfVwiKSYmbi5wdXNoKG5ldyBxbihyLGUsJ1wiZ2x5cGhzXCIgdXJsIG11c3QgaW5jbHVkZSBhIFwie3JhbmdlfVwiIHRva2VuJykpKSxufWZ1bmN0aW9uIGtpKHQsZT1HdCl7cmV0dXJuIHppKEFpKHtrZXk6XCJcIix2YWx1ZTp0LHZhbHVlU3BlYzplLiRyb290LHN0eWxlU3BlYzplLHN0eWxlOnQsb2JqZWN0RWxlbWVudFZhbGlkYXRvcnM6e2dseXBoczpTaSxcIipcIjooKT0+W119fSkpfWNvbnN0IElpPXQ9PnppKGZpKHQpKSxNaT10PT56aShkaSh0KSk7ZnVuY3Rpb24gemkodCl7cmV0dXJuIHQuc2xpY2UoKS5zb3J0KCgodCxlKT0+dC5saW5lJiZlLmxpbmU/dC5saW5lLWUubGluZTowKSl9ZnVuY3Rpb24gVGkodCxlKXtsZXQgcj0hMTtpZihlJiZlLmxlbmd0aClmb3IoY29uc3QgbiBvZiBlKXQuZmlyZShuZXcgcXQobmV3IEVycm9yKG4ubWVzc2FnZSkpKSxyPSEwO3JldHVybiByfXZhciBCaT1FaTtmdW5jdGlvbiBFaSh0LGUscil7dmFyIG49dGhpcy5jZWxscz1bXTtpZih0IGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpe3RoaXMuYXJyYXlCdWZmZXI9dDt2YXIgaT1uZXcgSW50MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKTt0PWlbMF0sdGhpcy5kPShlPWlbMV0pKzIqKHI9aVsyXSk7Zm9yKHZhciBzPTA7czx0aGlzLmQqdGhpcy5kO3MrKyl7dmFyIGE9aVszK3NdLG89aVszK3MrMV07bi5wdXNoKGE9PT1vP251bGw6aS5zdWJhcnJheShhLG8pKTt9dmFyIGw9aVszK24ubGVuZ3RoKzFdO3RoaXMua2V5cz1pLnN1YmFycmF5KGlbMytuLmxlbmd0aF0sbCksdGhpcy5iYm94ZXM9aS5zdWJhcnJheShsKSx0aGlzLmluc2VydD10aGlzLl9pbnNlcnRSZWFkb25seTt9ZWxzZSB7dGhpcy5kPWUrMipyO2Zvcih2YXIgdT0wO3U8dGhpcy5kKnRoaXMuZDt1Kyspbi5wdXNoKFtdKTt0aGlzLmtleXM9W10sdGhpcy5iYm94ZXM9W107fXRoaXMubj1lLHRoaXMuZXh0ZW50PXQsdGhpcy5wYWRkaW5nPXIsdGhpcy5zY2FsZT1lL3QsdGhpcy51aWQ9MDt2YXIgYz1yL2UqdDt0aGlzLm1pbj0tYyx0aGlzLm1heD10K2M7fUVpLnByb3RvdHlwZS5pbnNlcnQ9ZnVuY3Rpb24odCxlLHIsbixpKXt0aGlzLl9mb3JFYWNoQ2VsbChlLHIsbixpLHRoaXMuX2luc2VydENlbGwsdGhpcy51aWQrKyksdGhpcy5rZXlzLnB1c2godCksdGhpcy5iYm94ZXMucHVzaChlKSx0aGlzLmJib3hlcy5wdXNoKHIpLHRoaXMuYmJveGVzLnB1c2gobiksdGhpcy5iYm94ZXMucHVzaChpKTt9LEVpLnByb3RvdHlwZS5faW5zZXJ0UmVhZG9ubHk9ZnVuY3Rpb24oKXt0aHJvdyBcIkNhbm5vdCBpbnNlcnQgaW50byBhIEdyaWRJbmRleCBjcmVhdGVkIGZyb20gYW4gQXJyYXlCdWZmZXIuXCJ9LEVpLnByb3RvdHlwZS5faW5zZXJ0Q2VsbD1mdW5jdGlvbih0LGUscixuLGkscyl7dGhpcy5jZWxsc1tpXS5wdXNoKHMpO30sRWkucHJvdG90eXBlLnF1ZXJ5PWZ1bmN0aW9uKHQsZSxyLG4saSl7dmFyIHM9dGhpcy5taW4sYT10aGlzLm1heDtpZih0PD1zJiZlPD1zJiZhPD1yJiZhPD1uJiYhaSlyZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodGhpcy5rZXlzKTt2YXIgbz1bXTtyZXR1cm4gdGhpcy5fZm9yRWFjaENlbGwodCxlLHIsbix0aGlzLl9xdWVyeUNlbGwsbyx7fSxpKSxvfSxFaS5wcm90b3R5cGUuX3F1ZXJ5Q2VsbD1mdW5jdGlvbih0LGUscixuLGkscyxhLG8pe3ZhciBsPXRoaXMuY2VsbHNbaV07aWYobnVsbCE9PWwpZm9yKHZhciB1PXRoaXMua2V5cyxjPXRoaXMuYmJveGVzLGg9MDtoPGwubGVuZ3RoO2grKyl7dmFyIHA9bFtoXTtpZih2b2lkIDA9PT1hW3BdKXt2YXIgZj00KnA7KG8/byhjW2YrMF0sY1tmKzFdLGNbZisyXSxjW2YrM10pOnQ8PWNbZisyXSYmZTw9Y1tmKzNdJiZyPj1jW2YrMF0mJm4+PWNbZisxXSk/KGFbcF09ITAscy5wdXNoKHVbcF0pKTphW3BdPSExO319fSxFaS5wcm90b3R5cGUuX2ZvckVhY2hDZWxsPWZ1bmN0aW9uKHQsZSxyLG4saSxzLGEsbyl7Zm9yKHZhciBsPXRoaXMuX2NvbnZlcnRUb0NlbGxDb29yZCh0KSx1PXRoaXMuX2NvbnZlcnRUb0NlbGxDb29yZChlKSxjPXRoaXMuX2NvbnZlcnRUb0NlbGxDb29yZChyKSxoPXRoaXMuX2NvbnZlcnRUb0NlbGxDb29yZChuKSxwPWw7cDw9YztwKyspZm9yKHZhciBmPXU7Zjw9aDtmKyspe3ZhciBkPXRoaXMuZCpmK3A7aWYoKCFvfHxvKHRoaXMuX2NvbnZlcnRGcm9tQ2VsbENvb3JkKHApLHRoaXMuX2NvbnZlcnRGcm9tQ2VsbENvb3JkKGYpLHRoaXMuX2NvbnZlcnRGcm9tQ2VsbENvb3JkKHArMSksdGhpcy5fY29udmVydEZyb21DZWxsQ29vcmQoZisxKSkpJiZpLmNhbGwodGhpcyx0LGUscixuLGQscyxhLG8pKXJldHVybn19LEVpLnByb3RvdHlwZS5fY29udmVydEZyb21DZWxsQ29vcmQ9ZnVuY3Rpb24odCl7cmV0dXJuICh0LXRoaXMucGFkZGluZykvdGhpcy5zY2FsZX0sRWkucHJvdG90eXBlLl9jb252ZXJ0VG9DZWxsQ29vcmQ9ZnVuY3Rpb24odCl7cmV0dXJuIE1hdGgubWF4KDAsTWF0aC5taW4odGhpcy5kLTEsTWF0aC5mbG9vcih0KnRoaXMuc2NhbGUpK3RoaXMucGFkZGluZykpfSxFaS5wcm90b3R5cGUudG9BcnJheUJ1ZmZlcj1mdW5jdGlvbigpe2lmKHRoaXMuYXJyYXlCdWZmZXIpcmV0dXJuIHRoaXMuYXJyYXlCdWZmZXI7Zm9yKHZhciB0PXRoaXMuY2VsbHMsZT0zK3RoaXMuY2VsbHMubGVuZ3RoKzErMSxyPTAsbj0wO248dGhpcy5jZWxscy5sZW5ndGg7bisrKXIrPXRoaXMuY2VsbHNbbl0ubGVuZ3RoO3ZhciBpPW5ldyBJbnQzMkFycmF5KGUrcit0aGlzLmtleXMubGVuZ3RoK3RoaXMuYmJveGVzLmxlbmd0aCk7aVswXT10aGlzLmV4dGVudCxpWzFdPXRoaXMubixpWzJdPXRoaXMucGFkZGluZztmb3IodmFyIHM9ZSxhPTA7YTx0Lmxlbmd0aDthKyspe3ZhciBvPXRbYV07aVszK2FdPXMsaS5zZXQobyxzKSxzKz1vLmxlbmd0aDt9cmV0dXJuIGlbMyt0Lmxlbmd0aF09cyxpLnNldCh0aGlzLmtleXMscyksaVszK3QubGVuZ3RoKzFdPXMrPXRoaXMua2V5cy5sZW5ndGgsaS5zZXQodGhpcy5iYm94ZXMscykscys9dGhpcy5iYm94ZXMubGVuZ3RoLGkuYnVmZmVyfTtjb25zdCBDaT17fTtmdW5jdGlvbiBQaSh0LGUscj17fSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfY2xhc3NSZWdpc3RyeUtleVwiLHt2YWx1ZTplLHdyaXRlYWJsZTohMX0pLENpW2VdPXtrbGFzczp0LG9taXQ6ci5vbWl0fHxbXX07fVBpKE9iamVjdCxcIk9iamVjdFwiKSxCaS5zZXJpYWxpemU9ZnVuY3Rpb24odCxlKXtjb25zdCByPXQudG9BcnJheUJ1ZmZlcigpO3JldHVybiBlJiZlLnB1c2gocikse2J1ZmZlcjpyfX0sQmkuZGVzZXJpYWxpemU9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBCaSh0LmJ1ZmZlcil9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCaSxcIm5hbWVcIix7dmFsdWU6XCJHcmlkXCJ9KSxQaShCaSxcIkdyaWRcIiksUGkoeGUsXCJDb2xvclwiKSxQaShFcnJvcixcIkVycm9yXCIpLFBpKFR0LFwiQUpBWEVycm9yXCIpLFBpKHdlLFwiUmVzb2x2ZWRJbWFnZVwiKSxQaSgkbixcIlN0eWxlUHJvcGVydHlGdW5jdGlvblwiKSxQaShWbixcIlN0eWxlRXhwcmVzc2lvblwiLHtvbWl0OltcIl9ldmFsdWF0b3JcIl19KSxQaShVbixcIlpvb21EZXBlbmRlbnRFeHByZXNzaW9uXCIpLFBpKFJuLFwiWm9vbUNvbnN0YW50RXhwcmVzc2lvblwiKSxQaSgkZSxcIkNvbXBvdW5kRXhwcmVzc2lvblwiLHtvbWl0OltcIl9ldmFsdWF0ZVwiXX0pO2Zvcihjb25zdCB0IGluIGJuKUNpW2JuW3RdLl9jbGFzc1JlZ2lzdHJ5S2V5XXx8UGkoYm5bdF0sYEV4cHJlc3Npb24ke3R9YCk7ZnVuY3Rpb24gRGkodCl7cmV0dXJuIHQmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBBcnJheUJ1ZmZlciYmKHQgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcnx8dC5jb25zdHJ1Y3RvciYmXCJBcnJheUJ1ZmZlclwiPT09dC5jb25zdHJ1Y3Rvci5uYW1lKX1mdW5jdGlvbiBWaSh0KXtyZXR1cm4gZS5JbWFnZUJpdG1hcCYmdCBpbnN0YW5jZW9mIGUuSW1hZ2VCaXRtYXB9ZnVuY3Rpb24gRmkodCxyKXtpZihudWxsPT10fHxcImJvb2xlYW5cIj09dHlwZW9mIHR8fFwibnVtYmVyXCI9PXR5cGVvZiB0fHxcInN0cmluZ1wiPT10eXBlb2YgdHx8dCBpbnN0YW5jZW9mIEJvb2xlYW58fHQgaW5zdGFuY2VvZiBOdW1iZXJ8fHQgaW5zdGFuY2VvZiBTdHJpbmd8fHQgaW5zdGFuY2VvZiBEYXRlfHx0IGluc3RhbmNlb2YgUmVnRXhwKXJldHVybiB0O2lmKERpKHQpfHxWaSh0KSlyZXR1cm4gciYmci5wdXNoKHQpLHQ7aWYoQXJyYXlCdWZmZXIuaXNWaWV3KHQpKXtjb25zdCBlPXQ7cmV0dXJuIHImJnIucHVzaChlLmJ1ZmZlciksZX1pZih0IGluc3RhbmNlb2YgZS5JbWFnZURhdGEpcmV0dXJuIHImJnIucHVzaCh0LmRhdGEuYnVmZmVyKSx0O2lmKEFycmF5LmlzQXJyYXkodCkpe2NvbnN0IGU9W107Zm9yKGNvbnN0IG4gb2YgdCllLnB1c2goRmkobixyKSk7cmV0dXJuIGV9aWYoXCJvYmplY3RcIj09dHlwZW9mIHQpe2NvbnN0IGU9dC5jb25zdHJ1Y3RvcixuPWUuX2NsYXNzUmVnaXN0cnlLZXk7aWYoIW4pdGhyb3cgbmV3IEVycm9yKGBjYW4ndCBzZXJpYWxpemUgb2JqZWN0IG9mIHVucmVnaXN0ZXJlZCBjbGFzcyAke259YCk7Y29uc3QgaT1lLnNlcmlhbGl6ZT9lLnNlcmlhbGl6ZSh0LHIpOnt9O2lmKCFlLnNlcmlhbGl6ZSl7Zm9yKGNvbnN0IGUgaW4gdCl0Lmhhc093blByb3BlcnR5KGUpJiYoQ2lbbl0ub21pdC5pbmRleE9mKGUpPj0wfHwoaVtlXT1GaSh0W2VdLHIpKSk7dCBpbnN0YW5jZW9mIEVycm9yJiYoaS5tZXNzYWdlPXQubWVzc2FnZSk7fWlmKGkuJG5hbWUpdGhyb3cgbmV3IEVycm9yKFwiJG5hbWUgcHJvcGVydHkgaXMgcmVzZXJ2ZWQgZm9yIHdvcmtlciBzZXJpYWxpemF0aW9uIGxvZ2ljLlwiKTtyZXR1cm4gXCJPYmplY3RcIiE9PW4mJihpLiRuYW1lPW4pLGl9dGhyb3cgbmV3IEVycm9yKFwiY2FuJ3Qgc2VyaWFsaXplIG9iamVjdCBvZiB0eXBlIFwiK3R5cGVvZiB0KX1mdW5jdGlvbiBMaSh0KXtpZihudWxsPT10fHxcImJvb2xlYW5cIj09dHlwZW9mIHR8fFwibnVtYmVyXCI9PXR5cGVvZiB0fHxcInN0cmluZ1wiPT10eXBlb2YgdHx8dCBpbnN0YW5jZW9mIEJvb2xlYW58fHQgaW5zdGFuY2VvZiBOdW1iZXJ8fHQgaW5zdGFuY2VvZiBTdHJpbmd8fHQgaW5zdGFuY2VvZiBEYXRlfHx0IGluc3RhbmNlb2YgUmVnRXhwfHxEaSh0KXx8VmkodCl8fEFycmF5QnVmZmVyLmlzVmlldyh0KXx8dCBpbnN0YW5jZW9mIGUuSW1hZ2VEYXRhKXJldHVybiB0O2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIHQubWFwKExpKTtpZihcIm9iamVjdFwiPT10eXBlb2YgdCl7Y29uc3QgZT10LiRuYW1lfHxcIk9iamVjdFwiLHtrbGFzczpyfT1DaVtlXTtpZighcil0aHJvdyBuZXcgRXJyb3IoYGNhbid0IGRlc2VyaWFsaXplIHVucmVnaXN0ZXJlZCBjbGFzcyAke2V9YCk7aWYoci5kZXNlcmlhbGl6ZSlyZXR1cm4gci5kZXNlcmlhbGl6ZSh0KTtjb25zdCBuPU9iamVjdC5jcmVhdGUoci5wcm90b3R5cGUpO2Zvcihjb25zdCBlIG9mIE9iamVjdC5rZXlzKHQpKVwiJG5hbWVcIiE9PWUmJihuW2VdPUxpKHRbZV0pKTtyZXR1cm4gbn10aHJvdyBuZXcgRXJyb3IoXCJjYW4ndCBkZXNlcmlhbGl6ZSBvYmplY3Qgb2YgdHlwZSBcIit0eXBlb2YgdCl9Y2xhc3MgUml7Y29uc3RydWN0b3IoKXt0aGlzLmZpcnN0PSEwO311cGRhdGUodCxlKXtjb25zdCByPU1hdGguZmxvb3IodCk7cmV0dXJuIHRoaXMuZmlyc3Q/KHRoaXMuZmlyc3Q9ITEsdGhpcy5sYXN0SW50ZWdlclpvb209cix0aGlzLmxhc3RJbnRlZ2VyWm9vbVRpbWU9MCx0aGlzLmxhc3Rab29tPXQsdGhpcy5sYXN0Rmxvb3Jab29tPXIsITApOih0aGlzLmxhc3RGbG9vclpvb20+cj8odGhpcy5sYXN0SW50ZWdlclpvb209cisxLHRoaXMubGFzdEludGVnZXJab29tVGltZT1lKTp0aGlzLmxhc3RGbG9vclpvb208ciYmKHRoaXMubGFzdEludGVnZXJab29tPXIsdGhpcy5sYXN0SW50ZWdlclpvb21UaW1lPWUpLHQhPT10aGlzLmxhc3Rab29tJiYodGhpcy5sYXN0Wm9vbT10LHRoaXMubGFzdEZsb29yWm9vbT1yLCEwKSl9fWNvbnN0IFVpPXQ9PnQ+PTE1MzYmJnQ8PTE3OTEsamk9dD0+dD49MTg3MiYmdDw9MTkxOSwkaT10PT50Pj0yMjA4JiZ0PD0yMzAzLE9pPXQ9PnQ+PTExOTA0JiZ0PD0xMjAzMSxxaT10PT50Pj0xMjAzMiYmdDw9MTIyNTUsTmk9dD0+dD49MTIyNzImJnQ8PTEyMjg3LEdpPXQ9PnQ+PTEyMjg4JiZ0PD0xMjM1MSxaaT10PT50Pj0xMjM1MiYmdDw9MTI0NDcsWGk9dD0+dD49MTI0NDgmJnQ8PTEyNTQzLEtpPXQ9PnQ+PTEyNTQ0JiZ0PD0xMjU5MSxIaT10PT50Pj0xMjcwNCYmdDw9MTI3MzUsWWk9dD0+dD49MTI3MzYmJnQ8PTEyNzgzLFdpPXQ9PnQ+PTEyNzg0JiZ0PD0xMjc5OSxKaT10PT50Pj0xMjgwMCYmdDw9MTMwNTUsUWk9dD0+dD49MTMwNTYmJnQ8PTEzMzExLHRzPXQ9PnQ+PTEzMzEyJiZ0PD0xOTkwMyxlcz10PT50Pj0xOTk2OCYmdDw9NDA5NTkscnM9dD0+dD49NDA5NjAmJnQ8PTQyMTI3LG5zPXQ9PnQ+PTQyMTI4JiZ0PD00MjE5MSxpcz10PT50Pj00NDAzMiYmdDw9NTUyMTUsc3M9dD0+dD49NjM3NDQmJnQ8PTY0MjU1LGFzPXQ9PnQ+PTY0MzM2JiZ0PD02NTAyMyxvcz10PT50Pj02NTA0MCYmdDw9NjUwNTUsbHM9dD0+dD49NjUwNzImJnQ8PTY1MTAzLHVzPXQ9PnQ+PTY1MTA0JiZ0PD02NTEzNSxjcz10PT50Pj02NTEzNiYmdDw9NjUyNzksaHM9dD0+dD49NjUyODAmJnQ8PTY1NTE5O2Z1bmN0aW9uIHBzKHQpe2Zvcihjb25zdCBlIG9mIHQpaWYoeXMoZS5jaGFyQ29kZUF0KDApKSlyZXR1cm4gITA7cmV0dXJuICExfWZ1bmN0aW9uIGZzKHQpe2Zvcihjb25zdCBlIG9mIHQpaWYoIWRzKGUuY2hhckNvZGVBdCgwKSkpcmV0dXJuICExO3JldHVybiAhMH1mdW5jdGlvbiBkcyh0KXtyZXR1cm4gIShVaSh0KXx8amkodCl8fCRpKHQpfHxhcyh0KXx8Y3ModCkpfWZ1bmN0aW9uIHlzKHQpe3JldHVybiAhKDc0NiE9PXQmJjc0NyE9PXQmJih0PDQzNTJ8fCEoSGkodCl8fEtpKHQpfHxscyh0KSYmISh0Pj02NTA5NyYmdDw9NjUxMDMpfHxzcyh0KXx8UWkodCl8fE9pKHQpfHxZaSh0KXx8ISghR2kodCl8fHQ+PTEyMjk2JiZ0PD0xMjMwNXx8dD49MTIzMDgmJnQ8PTEyMzE5fHwxMjMzNj09PXQpfHx0cyh0KXx8ZXModCl8fEppKHQpfHwodD0+dD49MTI1OTImJnQ8PTEyNjg3KSh0KXx8KHQ9PnQ+PTQzMzYwJiZ0PD00MzM5MSkodCl8fCh0PT50Pj01NTIxNiYmdDw9NTUyOTUpKHQpfHwodD0+dD49NDM1MiYmdDw9NDYwNykodCl8fGlzKHQpfHxaaSh0KXx8TmkodCl8fCh0PT50Pj0xMjY4OCYmdDw9MTI3MDMpKHQpfHxxaSh0KXx8V2kodCl8fFhpKHQpJiYxMjU0MCE9PXR8fCEoIWhzKHQpfHw2NTI4OD09PXR8fDY1Mjg5PT09dHx8NjUyOTM9PT10fHx0Pj02NTMwNiYmdDw9NjUzMTB8fDY1MzM5PT09dHx8NjUzNDE9PT10fHw2NTM0Mz09PXR8fHQ+PTY1MzcxJiZ0PD02NTUwM3x8NjU1MDc9PT10fHx0Pj02NTUxMiYmdDw9NjU1MTkpfHwhKCF1cyh0KXx8dD49NjUxMTImJnQ8PTY1MTE4fHx0Pj02NTEyMyYmdDw9NjUxMjYpfHwodD0+dD49NTEyMCYmdDw9NTc1OSkodCl8fCh0PT50Pj02MzIwJiZ0PD02Mzk5KSh0KXx8b3ModCl8fCh0PT50Pj0xOTkwNCYmdDw9MTk5NjcpKHQpfHxycyh0KXx8bnModCkpKSl9ZnVuY3Rpb24gbXModCl7cmV0dXJuICEoeXModCl8fGZ1bmN0aW9uKHQpe3JldHVybiAhISgodD0+dD49MTI4JiZ0PD0yNTUpKHQpJiYoMTY3PT09dHx8MTY5PT09dHx8MTc0PT09dHx8MTc3PT09dHx8MTg4PT09dHx8MTg5PT09dHx8MTkwPT09dHx8MjE1PT09dHx8MjQ3PT09dCl8fCh0PT50Pj04MTkyJiZ0PD04MzAzKSh0KSYmKDgyMTQ9PT10fHw4MjI0PT09dHx8ODIyNT09PXR8fDgyNDA9PT10fHw4MjQxPT09dHx8ODI1MT09PXR8fDgyNTI9PT10fHw4MjU4PT09dHx8ODI2Mz09PXR8fDgyNjQ9PT10fHw4MjY1PT09dHx8ODI3Mz09PXQpfHwodD0+dD49ODQ0OCYmdDw9ODUyNykodCl8fCh0PT50Pj04NTI4JiZ0PD04NTkxKSh0KXx8KHQ9PnQ+PTg5NjAmJnQ8PTkyMTUpKHQpJiYodD49ODk2MCYmdDw9ODk2N3x8dD49ODk3MiYmdDw9ODk5MXx8dD49ODk5NiYmdDw9OWUzfHw5MDAzPT09dHx8dD49OTA4NSYmdDw9OTExNHx8dD49OTE1MCYmdDw9OTE2NXx8OTE2Nz09PXR8fHQ+PTkxNjkmJnQ8PTkxNzl8fHQ+PTkxODYmJnQ8PTkyMTUpfHwodD0+dD49OTIxNiYmdDw9OTI3OSkodCkmJjkyNTEhPT10fHwodD0+dD49OTI4MCYmdDw9OTMxMSkodCl8fCh0PT50Pj05MzEyJiZ0PD05NDcxKSh0KXx8KHQ9PnQ+PTk2MzImJnQ8PTk3MjcpKHQpfHwodD0+dD49OTcyOCYmdDw9OTk4MykodCkmJiEodD49OTc1NCYmdDw9OTc1OSl8fCh0PT50Pj0xMTAwOCYmdDw9MTEyNjMpKHQpJiYodD49MTEwMjYmJnQ8PTExMDU1fHx0Pj0xMTA4OCYmdDw9MTEwOTd8fHQ+PTExMTkyJiZ0PD0xMTI0Myl8fEdpKHQpfHxYaSh0KXx8KHQ9PnQ+PTU3MzQ0JiZ0PD02Mzc0MykodCl8fGxzKHQpfHx1cyh0KXx8aHModCl8fDg3MzQ9PT10fHw4NzU2PT09dHx8ODc1Nz09PXR8fHQ+PTk5ODQmJnQ8PTEwMDg3fHx0Pj0xMDEwMiYmdDw9MTAxMzF8fDY1NTMyPT09dHx8NjU1MzM9PT10KX0odCkpfWZ1bmN0aW9uIGdzKHQpe3JldHVybiB0Pj0xNDI0JiZ0PD0yMzAzfHxhcyh0KXx8Y3ModCl9ZnVuY3Rpb24geHModCxlKXtyZXR1cm4gISghZSYmZ3ModCl8fHQ+PTIzMDQmJnQ8PTM1ODN8fHQ+PTM4NDAmJnQ8PTQyNTV8fCh0PT50Pj02MDE2JiZ0PD02MTQzKSh0KSl9ZnVuY3Rpb24gdnModCl7Zm9yKGNvbnN0IGUgb2YgdClpZihncyhlLmNoYXJDb2RlQXQoMCkpKXJldHVybiAhMDtyZXR1cm4gITF9Y29uc3QgYnM9XCJkZWZlcnJlZFwiLF9zPVwibG9hZGluZ1wiLHdzPVwibG9hZGVkXCI7bGV0IEFzPW51bGwsU3M9XCJ1bmF2YWlsYWJsZVwiLGtzPW51bGw7Y29uc3QgSXM9ZnVuY3Rpb24odCl7dCYmXCJzdHJpbmdcIj09dHlwZW9mIHQmJnQuaW5kZXhPZihcIk5ldHdvcmtFcnJvclwiKT4tMSYmKFNzPVwiZXJyb3JcIiksQXMmJkFzKHQpO307ZnVuY3Rpb24gTXMoKXt6cy5maXJlKG5ldyBPdChcInBsdWdpblN0YXRlQ2hhbmdlXCIse3BsdWdpblN0YXR1czpTcyxwbHVnaW5VUkw6a3N9KSk7fWNvbnN0IHpzPW5ldyBOdCxUcz1mdW5jdGlvbigpe3JldHVybiBTc30sQnM9ZnVuY3Rpb24oKXtpZihTcyE9PWJzfHwha3MpdGhyb3cgbmV3IEVycm9yKFwicnRsLXRleHQtcGx1Z2luIGNhbm5vdCBiZSBkb3dubG9hZGVkIHVubGVzcyBhIHBsdWdpblVSTCBpcyBzcGVjaWZpZWRcIik7U3M9X3MsTXMoKSxrcyYmQ3Qoe3VybDprc30sKHQ9Pnt0P0lzKHQpOihTcz13cyxNcygpKTt9KSk7fSxFcz17YXBwbHlBcmFiaWNTaGFwaW5nOm51bGwscHJvY2Vzc0JpZGlyZWN0aW9uYWxUZXh0Om51bGwscHJvY2Vzc1N0eWxlZEJpZGlyZWN0aW9uYWxUZXh0Om51bGwsaXNMb2FkZWQ6KCk9PlNzPT09d3N8fG51bGwhPUVzLmFwcGx5QXJhYmljU2hhcGluZyxpc0xvYWRpbmc6KCk9PlNzPT09X3Msc2V0U3RhdGUodCl7U3M9dC5wbHVnaW5TdGF0dXMsa3M9dC5wbHVnaW5VUkw7fSxpc1BhcnNlZDooKT0+bnVsbCE9RXMuYXBwbHlBcmFiaWNTaGFwaW5nJiZudWxsIT1Fcy5wcm9jZXNzQmlkaXJlY3Rpb25hbFRleHQmJm51bGwhPUVzLnByb2Nlc3NTdHlsZWRCaWRpcmVjdGlvbmFsVGV4dCxnZXRQbHVnaW5VUkw6KCk9PmtzfTtjbGFzcyBDc3tjb25zdHJ1Y3Rvcih0LGUpe3RoaXMuem9vbT10LGU/KHRoaXMubm93PWUubm93LHRoaXMuZmFkZUR1cmF0aW9uPWUuZmFkZUR1cmF0aW9uLHRoaXMuem9vbUhpc3Rvcnk9ZS56b29tSGlzdG9yeSx0aGlzLnRyYW5zaXRpb249ZS50cmFuc2l0aW9uLHRoaXMucGl0Y2g9ZS5waXRjaCk6KHRoaXMubm93PTAsdGhpcy5mYWRlRHVyYXRpb249MCx0aGlzLnpvb21IaXN0b3J5PW5ldyBSaSx0aGlzLnRyYW5zaXRpb249e30sdGhpcy5waXRjaD0wKTt9aXNTdXBwb3J0ZWRTY3JpcHQodCl7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7Zm9yKGNvbnN0IHIgb2YgdClpZigheHMoci5jaGFyQ29kZUF0KDApLGUpKXJldHVybiAhMTtyZXR1cm4gITB9KHQsRXMuaXNMb2FkZWQoKSl9Y3Jvc3NGYWRpbmdGYWN0b3IoKXtyZXR1cm4gMD09PXRoaXMuZmFkZUR1cmF0aW9uPzE6TWF0aC5taW4oKHRoaXMubm93LXRoaXMuem9vbUhpc3RvcnkubGFzdEludGVnZXJab29tVGltZSkvdGhpcy5mYWRlRHVyYXRpb24sMSl9Z2V0Q3Jvc3NmYWRlUGFyYW1ldGVycygpe2NvbnN0IHQ9dGhpcy56b29tLGU9dC1NYXRoLmZsb29yKHQpLHI9dGhpcy5jcm9zc0ZhZGluZ0ZhY3RvcigpO3JldHVybiB0PnRoaXMuem9vbUhpc3RvcnkubGFzdEludGVnZXJab29tP3tmcm9tU2NhbGU6Mix0b1NjYWxlOjEsdDplKygxLWUpKnJ9Ontmcm9tU2NhbGU6LjUsdG9TY2FsZToxLHQ6MS0oMS1yKSplfX19Y2xhc3MgUHN7Y29uc3RydWN0b3IodCxlKXt0aGlzLnByb3BlcnR5PXQsdGhpcy52YWx1ZT1lLHRoaXMuZXhwcmVzc2lvbj1mdW5jdGlvbih0LGUpe2lmKE1uKHQpKXJldHVybiBuZXcgJG4odCxlKTtpZihGbih0KSl7Y29uc3Qgcj1qbih0LGUpO2lmKFwiZXJyb3JcIj09PXIucmVzdWx0KXRocm93IG5ldyBFcnJvcihyLnZhbHVlLm1hcCgodD0+YCR7dC5rZXl9OiAke3QubWVzc2FnZX1gKSkuam9pbihcIiwgXCIpKTtyZXR1cm4gci52YWx1ZX17bGV0IHI9dDtyZXR1cm4gXCJzdHJpbmdcIj09dHlwZW9mIHQmJlwiY29sb3JcIj09PWUudHlwZSYmKHI9eGUucGFyc2UodCkpLHtraW5kOlwiY29uc3RhbnRcIixldmFsdWF0ZTooKT0+cn19fSh2b2lkIDA9PT1lP3Quc3BlY2lmaWNhdGlvbi5kZWZhdWx0OmUsdC5zcGVjaWZpY2F0aW9uKTt9aXNEYXRhRHJpdmVuKCl7cmV0dXJuIFwic291cmNlXCI9PT10aGlzLmV4cHJlc3Npb24ua2luZHx8XCJjb21wb3NpdGVcIj09PXRoaXMuZXhwcmVzc2lvbi5raW5kfXBvc3NpYmx5RXZhbHVhdGUodCxlLHIpe3JldHVybiB0aGlzLnByb3BlcnR5LnBvc3NpYmx5RXZhbHVhdGUodGhpcyx0LGUscil9fWNsYXNzIERze2NvbnN0cnVjdG9yKHQpe3RoaXMucHJvcGVydHk9dCx0aGlzLnZhbHVlPW5ldyBQcyh0LHZvaWQgMCk7fXRyYW5zaXRpb25lZCh0LGUpe3JldHVybiBuZXcgRnModGhpcy5wcm9wZXJ0eSx0aGlzLnZhbHVlLGUsdih7fSx0LnRyYW5zaXRpb24sdGhpcy50cmFuc2l0aW9uKSx0Lm5vdyl9dW50cmFuc2l0aW9uZWQoKXtyZXR1cm4gbmV3IEZzKHRoaXMucHJvcGVydHksdGhpcy52YWx1ZSxudWxsLHt9LDApfX1jbGFzcyBWc3tjb25zdHJ1Y3Rvcih0KXt0aGlzLl9wcm9wZXJ0aWVzPXQsdGhpcy5fdmFsdWVzPU9iamVjdC5jcmVhdGUodC5kZWZhdWx0VHJhbnNpdGlvbmFibGVQcm9wZXJ0eVZhbHVlcyk7fWdldFZhbHVlKHQpe3JldHVybiBUKHRoaXMuX3ZhbHVlc1t0XS52YWx1ZS52YWx1ZSl9c2V0VmFsdWUodCxlKXt0aGlzLl92YWx1ZXMuaGFzT3duUHJvcGVydHkodCl8fCh0aGlzLl92YWx1ZXNbdF09bmV3IERzKHRoaXMuX3ZhbHVlc1t0XS5wcm9wZXJ0eSkpLHRoaXMuX3ZhbHVlc1t0XS52YWx1ZT1uZXcgUHModGhpcy5fdmFsdWVzW3RdLnByb3BlcnR5LG51bGw9PT1lP3ZvaWQgMDpUKGUpKTt9Z2V0VHJhbnNpdGlvbih0KXtyZXR1cm4gVCh0aGlzLl92YWx1ZXNbdF0udHJhbnNpdGlvbil9c2V0VHJhbnNpdGlvbih0LGUpe3RoaXMuX3ZhbHVlcy5oYXNPd25Qcm9wZXJ0eSh0KXx8KHRoaXMuX3ZhbHVlc1t0XT1uZXcgRHModGhpcy5fdmFsdWVzW3RdLnByb3BlcnR5KSksdGhpcy5fdmFsdWVzW3RdLnRyYW5zaXRpb249VChlKXx8dm9pZCAwO31zZXJpYWxpemUoKXtjb25zdCB0PXt9O2Zvcihjb25zdCBlIG9mIE9iamVjdC5rZXlzKHRoaXMuX3ZhbHVlcykpe2NvbnN0IHI9dGhpcy5nZXRWYWx1ZShlKTt2b2lkIDAhPT1yJiYodFtlXT1yKTtjb25zdCBuPXRoaXMuZ2V0VHJhbnNpdGlvbihlKTt2b2lkIDAhPT1uJiYodFtgJHtlfS10cmFuc2l0aW9uYF09bik7fXJldHVybiB0fXRyYW5zaXRpb25lZCh0LGUpe2NvbnN0IHI9bmV3IExzKHRoaXMuX3Byb3BlcnRpZXMpO2Zvcihjb25zdCBuIG9mIE9iamVjdC5rZXlzKHRoaXMuX3ZhbHVlcykpci5fdmFsdWVzW25dPXRoaXMuX3ZhbHVlc1tuXS50cmFuc2l0aW9uZWQodCxlLl92YWx1ZXNbbl0pO3JldHVybiByfXVudHJhbnNpdGlvbmVkKCl7Y29uc3QgdD1uZXcgTHModGhpcy5fcHJvcGVydGllcyk7Zm9yKGNvbnN0IGUgb2YgT2JqZWN0LmtleXModGhpcy5fdmFsdWVzKSl0Ll92YWx1ZXNbZV09dGhpcy5fdmFsdWVzW2VdLnVudHJhbnNpdGlvbmVkKCk7cmV0dXJuIHR9fWNsYXNzIEZze2NvbnN0cnVjdG9yKHQsZSxyLG4saSl7Y29uc3Qgcz1uLmRlbGF5fHwwLGE9bi5kdXJhdGlvbnx8MDtpPWl8fDAsdGhpcy5wcm9wZXJ0eT10LHRoaXMudmFsdWU9ZSx0aGlzLmJlZ2luPWkrcyx0aGlzLmVuZD10aGlzLmJlZ2luK2EsdC5zcGVjaWZpY2F0aW9uLnRyYW5zaXRpb24mJihuLmRlbGF5fHxuLmR1cmF0aW9uKSYmKHRoaXMucHJpb3I9cik7fXBvc3NpYmx5RXZhbHVhdGUodCxlLHIpe2NvbnN0IG49dC5ub3d8fDAsaT10aGlzLnZhbHVlLnBvc3NpYmx5RXZhbHVhdGUodCxlLHIpLHM9dGhpcy5wcmlvcjtpZihzKXtpZihuPnRoaXMuZW5kKXJldHVybiB0aGlzLnByaW9yPW51bGwsaTtpZih0aGlzLnZhbHVlLmlzRGF0YURyaXZlbigpKXJldHVybiB0aGlzLnByaW9yPW51bGwsaTtpZihuPHRoaXMuYmVnaW4pcmV0dXJuIHMucG9zc2libHlFdmFsdWF0ZSh0LGUscik7e2NvbnN0IGE9KG4tdGhpcy5iZWdpbikvKHRoaXMuZW5kLXRoaXMuYmVnaW4pO3JldHVybiB0aGlzLnByb3BlcnR5LmludGVycG9sYXRlKHMucG9zc2libHlFdmFsdWF0ZSh0LGUsciksaSxoKGEpKX19cmV0dXJuIGl9fWNsYXNzIExze2NvbnN0cnVjdG9yKHQpe3RoaXMuX3Byb3BlcnRpZXM9dCx0aGlzLl92YWx1ZXM9T2JqZWN0LmNyZWF0ZSh0LmRlZmF1bHRUcmFuc2l0aW9uaW5nUHJvcGVydHlWYWx1ZXMpO31wb3NzaWJseUV2YWx1YXRlKHQsZSxyKXtjb25zdCBuPW5ldyBqcyh0aGlzLl9wcm9wZXJ0aWVzKTtmb3IoY29uc3QgaSBvZiBPYmplY3Qua2V5cyh0aGlzLl92YWx1ZXMpKW4uX3ZhbHVlc1tpXT10aGlzLl92YWx1ZXNbaV0ucG9zc2libHlFdmFsdWF0ZSh0LGUscik7cmV0dXJuIG59aGFzVHJhbnNpdGlvbigpe2Zvcihjb25zdCB0IG9mIE9iamVjdC5rZXlzKHRoaXMuX3ZhbHVlcykpaWYodGhpcy5fdmFsdWVzW3RdLnByaW9yKXJldHVybiAhMDtyZXR1cm4gITF9fWNsYXNzIFJze2NvbnN0cnVjdG9yKHQpe3RoaXMuX3Byb3BlcnRpZXM9dCx0aGlzLl92YWx1ZXM9T2JqZWN0LmNyZWF0ZSh0LmRlZmF1bHRQcm9wZXJ0eVZhbHVlcyk7fWdldFZhbHVlKHQpe3JldHVybiBUKHRoaXMuX3ZhbHVlc1t0XS52YWx1ZSl9c2V0VmFsdWUodCxlKXt0aGlzLl92YWx1ZXNbdF09bmV3IFBzKHRoaXMuX3ZhbHVlc1t0XS5wcm9wZXJ0eSxudWxsPT09ZT92b2lkIDA6VChlKSk7fXNlcmlhbGl6ZSgpe2NvbnN0IHQ9e307Zm9yKGNvbnN0IGUgb2YgT2JqZWN0LmtleXModGhpcy5fdmFsdWVzKSl7Y29uc3Qgcj10aGlzLmdldFZhbHVlKGUpO3ZvaWQgMCE9PXImJih0W2VdPXIpO31yZXR1cm4gdH1wb3NzaWJseUV2YWx1YXRlKHQsZSxyKXtjb25zdCBuPW5ldyBqcyh0aGlzLl9wcm9wZXJ0aWVzKTtmb3IoY29uc3QgaSBvZiBPYmplY3Qua2V5cyh0aGlzLl92YWx1ZXMpKW4uX3ZhbHVlc1tpXT10aGlzLl92YWx1ZXNbaV0ucG9zc2libHlFdmFsdWF0ZSh0LGUscik7cmV0dXJuIG59fWNsYXNzIFVze2NvbnN0cnVjdG9yKHQsZSxyKXt0aGlzLnByb3BlcnR5PXQsdGhpcy52YWx1ZT1lLHRoaXMucGFyYW1ldGVycz1yO31pc0NvbnN0YW50KCl7cmV0dXJuIFwiY29uc3RhbnRcIj09PXRoaXMudmFsdWUua2luZH1jb25zdGFudE9yKHQpe3JldHVybiBcImNvbnN0YW50XCI9PT10aGlzLnZhbHVlLmtpbmQ/dGhpcy52YWx1ZS52YWx1ZTp0fWV2YWx1YXRlKHQsZSxyLG4pe3JldHVybiB0aGlzLnByb3BlcnR5LmV2YWx1YXRlKHRoaXMudmFsdWUsdGhpcy5wYXJhbWV0ZXJzLHQsZSxyLG4pfX1jbGFzcyBqc3tjb25zdHJ1Y3Rvcih0KXt0aGlzLl9wcm9wZXJ0aWVzPXQsdGhpcy5fdmFsdWVzPU9iamVjdC5jcmVhdGUodC5kZWZhdWx0UG9zc2libHlFdmFsdWF0ZWRWYWx1ZXMpO31nZXQodCl7cmV0dXJuIHRoaXMuX3ZhbHVlc1t0XX19Y2xhc3MgJHN7Y29uc3RydWN0b3IodCl7dGhpcy5zcGVjaWZpY2F0aW9uPXQ7fXBvc3NpYmx5RXZhbHVhdGUodCxlKXtyZXR1cm4gdC5leHByZXNzaW9uLmV2YWx1YXRlKGUpfWludGVycG9sYXRlKHQsZSxyKXtjb25zdCBuPWJyW3RoaXMuc3BlY2lmaWNhdGlvbi50eXBlXTtyZXR1cm4gbj9uKHQsZSxyKTp0fX1jbGFzcyBPc3tjb25zdHJ1Y3Rvcih0LGUpe3RoaXMuc3BlY2lmaWNhdGlvbj10LHRoaXMub3ZlcnJpZGVzPWU7fXBvc3NpYmx5RXZhbHVhdGUodCxlLHIsbil7cmV0dXJuIG5ldyBVcyh0aGlzLFwiY29uc3RhbnRcIj09PXQuZXhwcmVzc2lvbi5raW5kfHxcImNhbWVyYVwiPT09dC5leHByZXNzaW9uLmtpbmQ/e2tpbmQ6XCJjb25zdGFudFwiLHZhbHVlOnQuZXhwcmVzc2lvbi5ldmFsdWF0ZShlLG51bGwse30scixuKX06dC5leHByZXNzaW9uLGUpfWludGVycG9sYXRlKHQsZSxyKXtpZihcImNvbnN0YW50XCIhPT10LnZhbHVlLmtpbmR8fFwiY29uc3RhbnRcIiE9PWUudmFsdWUua2luZClyZXR1cm4gdDtpZih2b2lkIDA9PT10LnZhbHVlLnZhbHVlfHx2b2lkIDA9PT1lLnZhbHVlLnZhbHVlKXJldHVybiBuZXcgVXModGhpcyx7a2luZDpcImNvbnN0YW50XCIsdmFsdWU6dm9pZCAwfSx0LnBhcmFtZXRlcnMpO2NvbnN0IG49YnJbdGhpcy5zcGVjaWZpY2F0aW9uLnR5cGVdO3JldHVybiBuP25ldyBVcyh0aGlzLHtraW5kOlwiY29uc3RhbnRcIix2YWx1ZTpuKHQudmFsdWUudmFsdWUsZS52YWx1ZS52YWx1ZSxyKX0sdC5wYXJhbWV0ZXJzKTp0fWV2YWx1YXRlKHQsZSxyLG4saSxzKXtyZXR1cm4gXCJjb25zdGFudFwiPT09dC5raW5kP3QudmFsdWU6dC5ldmFsdWF0ZShlLHIsbixpLHMpfX1jbGFzcyBxcyBleHRlbmRzIE9ze3Bvc3NpYmx5RXZhbHVhdGUodCxlLHIsbil7aWYodm9pZCAwPT09dC52YWx1ZSlyZXR1cm4gbmV3IFVzKHRoaXMse2tpbmQ6XCJjb25zdGFudFwiLHZhbHVlOnZvaWQgMH0sZSk7aWYoXCJjb25zdGFudFwiPT09dC5leHByZXNzaW9uLmtpbmQpe2NvbnN0IGk9dC5leHByZXNzaW9uLmV2YWx1YXRlKGUsbnVsbCx7fSxyLG4pLHM9XCJyZXNvbHZlZEltYWdlXCI9PT10LnByb3BlcnR5LnNwZWNpZmljYXRpb24udHlwZSYmXCJzdHJpbmdcIiE9dHlwZW9mIGk/aS5uYW1lOmksYT10aGlzLl9jYWxjdWxhdGUocyxzLHMsZSk7cmV0dXJuIG5ldyBVcyh0aGlzLHtraW5kOlwiY29uc3RhbnRcIix2YWx1ZTphfSxlKX1pZihcImNhbWVyYVwiPT09dC5leHByZXNzaW9uLmtpbmQpe2NvbnN0IHI9dGhpcy5fY2FsY3VsYXRlKHQuZXhwcmVzc2lvbi5ldmFsdWF0ZSh7em9vbTplLnpvb20tMX0pLHQuZXhwcmVzc2lvbi5ldmFsdWF0ZSh7em9vbTplLnpvb219KSx0LmV4cHJlc3Npb24uZXZhbHVhdGUoe3pvb206ZS56b29tKzF9KSxlKTtyZXR1cm4gbmV3IFVzKHRoaXMse2tpbmQ6XCJjb25zdGFudFwiLHZhbHVlOnJ9LGUpfXJldHVybiBuZXcgVXModGhpcyx0LmV4cHJlc3Npb24sZSl9ZXZhbHVhdGUodCxlLHIsbixpLHMpe2lmKFwic291cmNlXCI9PT10LmtpbmQpe2NvbnN0IGE9dC5ldmFsdWF0ZShlLHIsbixpLHMpO3JldHVybiB0aGlzLl9jYWxjdWxhdGUoYSxhLGEsZSl9cmV0dXJuIFwiY29tcG9zaXRlXCI9PT10LmtpbmQ/dGhpcy5fY2FsY3VsYXRlKHQuZXZhbHVhdGUoe3pvb206TWF0aC5mbG9vcihlLnpvb20pLTF9LHIsbiksdC5ldmFsdWF0ZSh7em9vbTpNYXRoLmZsb29yKGUuem9vbSl9LHIsbiksdC5ldmFsdWF0ZSh7em9vbTpNYXRoLmZsb29yKGUuem9vbSkrMX0scixuKSxlKTp0LnZhbHVlfV9jYWxjdWxhdGUodCxlLHIsbil7cmV0dXJuIG4uem9vbT5uLnpvb21IaXN0b3J5Lmxhc3RJbnRlZ2VyWm9vbT97ZnJvbTp0LHRvOmUsb3RoZXI6cn06e2Zyb206cix0bzplLG90aGVyOnR9fWludGVycG9sYXRlKHQpe3JldHVybiB0fX1jbGFzcyBOc3tjb25zdHJ1Y3Rvcih0KXt0aGlzLnNwZWNpZmljYXRpb249dDt9cG9zc2libHlFdmFsdWF0ZSh0LGUscixuKXtpZih2b2lkIDAhPT10LnZhbHVlKXtpZihcImNvbnN0YW50XCI9PT10LmV4cHJlc3Npb24ua2luZCl7Y29uc3QgaT10LmV4cHJlc3Npb24uZXZhbHVhdGUoZSxudWxsLHt9LHIsbik7cmV0dXJuIHRoaXMuX2NhbGN1bGF0ZShpLGksaSxlKX1yZXR1cm4gdGhpcy5fY2FsY3VsYXRlKHQuZXhwcmVzc2lvbi5ldmFsdWF0ZShuZXcgQ3MoTWF0aC5mbG9vcihlLnpvb20tMSksZSkpLHQuZXhwcmVzc2lvbi5ldmFsdWF0ZShuZXcgQ3MoTWF0aC5mbG9vcihlLnpvb20pLGUpKSx0LmV4cHJlc3Npb24uZXZhbHVhdGUobmV3IENzKE1hdGguZmxvb3IoZS56b29tKzEpLGUpKSxlKX19X2NhbGN1bGF0ZSh0LGUscixuKXtyZXR1cm4gbi56b29tPm4uem9vbUhpc3RvcnkubGFzdEludGVnZXJab29tP3tmcm9tOnQsdG86ZX06e2Zyb206cix0bzplfX1pbnRlcnBvbGF0ZSh0KXtyZXR1cm4gdH19Y2xhc3MgR3N7Y29uc3RydWN0b3IodCl7dGhpcy5zcGVjaWZpY2F0aW9uPXQ7fXBvc3NpYmx5RXZhbHVhdGUodCxlLHIsbil7cmV0dXJuICEhdC5leHByZXNzaW9uLmV2YWx1YXRlKGUsbnVsbCx7fSxyLG4pfWludGVycG9sYXRlKCl7cmV0dXJuICExfX1jbGFzcyBac3tjb25zdHJ1Y3Rvcih0KXt0aGlzLnByb3BlcnRpZXM9dCx0aGlzLmRlZmF1bHRQcm9wZXJ0eVZhbHVlcz17fSx0aGlzLmRlZmF1bHRUcmFuc2l0aW9uYWJsZVByb3BlcnR5VmFsdWVzPXt9LHRoaXMuZGVmYXVsdFRyYW5zaXRpb25pbmdQcm9wZXJ0eVZhbHVlcz17fSx0aGlzLmRlZmF1bHRQb3NzaWJseUV2YWx1YXRlZFZhbHVlcz17fSx0aGlzLm92ZXJyaWRhYmxlUHJvcGVydGllcz1bXTtjb25zdCBlPW5ldyBDcygwLHt9KTtmb3IoY29uc3QgciBpbiB0KXtjb25zdCBuPXRbcl07bi5zcGVjaWZpY2F0aW9uLm92ZXJyaWRhYmxlJiZ0aGlzLm92ZXJyaWRhYmxlUHJvcGVydGllcy5wdXNoKHIpO2NvbnN0IGk9dGhpcy5kZWZhdWx0UHJvcGVydHlWYWx1ZXNbcl09bmV3IFBzKG4sdm9pZCAwKSxzPXRoaXMuZGVmYXVsdFRyYW5zaXRpb25hYmxlUHJvcGVydHlWYWx1ZXNbcl09bmV3IERzKG4pO3RoaXMuZGVmYXVsdFRyYW5zaXRpb25pbmdQcm9wZXJ0eVZhbHVlc1tyXT1zLnVudHJhbnNpdGlvbmVkKCksdGhpcy5kZWZhdWx0UG9zc2libHlFdmFsdWF0ZWRWYWx1ZXNbcl09aS5wb3NzaWJseUV2YWx1YXRlKGUpO319fWZ1bmN0aW9uIFhzKHQsZSl7cmV0dXJuIDI1NioodD1kKE1hdGguZmxvb3IodCksMCwyNTUpKStkKE1hdGguZmxvb3IoZSksMCwyNTUpfVBpKE9zLFwiRGF0YURyaXZlblByb3BlcnR5XCIpLFBpKCRzLFwiRGF0YUNvbnN0YW50UHJvcGVydHlcIiksUGkocXMsXCJDcm9zc0ZhZGVkRGF0YURyaXZlblByb3BlcnR5XCIpLFBpKE5zLFwiQ3Jvc3NGYWRlZFByb3BlcnR5XCIpLFBpKEdzLFwiQ29sb3JSYW1wUHJvcGVydHlcIik7Y29uc3QgS3M9e0ludDg6SW50OEFycmF5LFVpbnQ4OlVpbnQ4QXJyYXksSW50MTY6SW50MTZBcnJheSxVaW50MTY6VWludDE2QXJyYXksSW50MzI6SW50MzJBcnJheSxVaW50MzI6VWludDMyQXJyYXksRmxvYXQzMjpGbG9hdDMyQXJyYXl9O2NsYXNzIEhze2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5fc3RydWN0QXJyYXk9dCx0aGlzLl9wb3MxPWUqdGhpcy5zaXplLHRoaXMuX3BvczI9dGhpcy5fcG9zMS8yLHRoaXMuX3BvczQ9dGhpcy5fcG9zMS80LHRoaXMuX3Bvczg9dGhpcy5fcG9zMS84O319Y2xhc3MgWXN7Y29uc3RydWN0b3IoKXt0aGlzLmlzVHJhbnNmZXJyZWQ9ITEsdGhpcy5jYXBhY2l0eT0tMSx0aGlzLnJlc2l6ZSgwKTt9c3RhdGljIHNlcmlhbGl6ZSh0LGUpe3JldHVybiB0Ll90cmltKCksZSYmKHQuaXNUcmFuc2ZlcnJlZD0hMCxlLnB1c2godC5hcnJheUJ1ZmZlcikpLHtsZW5ndGg6dC5sZW5ndGgsYXJyYXlCdWZmZXI6dC5hcnJheUJ1ZmZlcn19c3RhdGljIGRlc2VyaWFsaXplKHQpe2NvbnN0IGU9T2JqZWN0LmNyZWF0ZSh0aGlzLnByb3RvdHlwZSk7cmV0dXJuIGUuYXJyYXlCdWZmZXI9dC5hcnJheUJ1ZmZlcixlLmxlbmd0aD10Lmxlbmd0aCxlLmNhcGFjaXR5PXQuYXJyYXlCdWZmZXIuYnl0ZUxlbmd0aC9lLmJ5dGVzUGVyRWxlbWVudCxlLl9yZWZyZXNoVmlld3MoKSxlfV90cmltKCl7dGhpcy5sZW5ndGghPT10aGlzLmNhcGFjaXR5JiYodGhpcy5jYXBhY2l0eT10aGlzLmxlbmd0aCx0aGlzLmFycmF5QnVmZmVyPXRoaXMuYXJyYXlCdWZmZXIuc2xpY2UoMCx0aGlzLmxlbmd0aCp0aGlzLmJ5dGVzUGVyRWxlbWVudCksdGhpcy5fcmVmcmVzaFZpZXdzKCkpO31jbGVhcigpe3RoaXMubGVuZ3RoPTA7fXJlc2l6ZSh0KXt0aGlzLnJlc2VydmUodCksdGhpcy5sZW5ndGg9dDt9cmVzZXJ2ZSh0KXtpZih0PnRoaXMuY2FwYWNpdHkpe3RoaXMuY2FwYWNpdHk9TWF0aC5tYXgodCxNYXRoLmZsb29yKDUqdGhpcy5jYXBhY2l0eSksMTI4KSx0aGlzLmFycmF5QnVmZmVyPW5ldyBBcnJheUJ1ZmZlcih0aGlzLmNhcGFjaXR5KnRoaXMuYnl0ZXNQZXJFbGVtZW50KTtjb25zdCBlPXRoaXMudWludDg7dGhpcy5fcmVmcmVzaFZpZXdzKCksZSYmdGhpcy51aW50OC5zZXQoZSk7fX1fcmVmcmVzaFZpZXdzKCl7dGhyb3cgbmV3IEVycm9yKFwiX3JlZnJlc2hWaWV3cygpIG11c3QgYmUgaW1wbGVtZW50ZWQgYnkgZWFjaCBjb25jcmV0ZSBTdHJ1Y3RBcnJheSBsYXlvdXRcIil9ZGVzdHJveSgpe3RoaXMuaW50OD10aGlzLnVpbnQ4PXRoaXMuaW50MTY9dGhpcy51aW50MTY9dGhpcy5pbnQzMj10aGlzLnVpbnQzMj10aGlzLmZsb2F0MzI9bnVsbCx0aGlzLmFycmF5QnVmZmVyPW51bGw7fX1mdW5jdGlvbiBXcyh0LGU9MSl7bGV0IHI9MCxuPTA7cmV0dXJuIHttZW1iZXJzOnQubWFwKCh0PT57Y29uc3QgaT1Lc1t0LnR5cGVdLkJZVEVTX1BFUl9FTEVNRU5ULHM9cj1KcyhyLE1hdGgubWF4KGUsaSkpLGE9dC5jb21wb25lbnRzfHwxO3JldHVybiBuPU1hdGgubWF4KG4saSkscis9aSphLHtuYW1lOnQubmFtZSx0eXBlOnQudHlwZSxjb21wb25lbnRzOmEsb2Zmc2V0OnN9fSkpLHNpemU6SnMocixNYXRoLm1heChuLGUpKSxhbGlnbm1lbnQ6ZX19ZnVuY3Rpb24gSnModCxlKXtyZXR1cm4gTWF0aC5jZWlsKHQvZSkqZX1jbGFzcyBRcyBleHRlbmRzIFlze19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuaW50MTY9bmV3IEludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlcik7fWVtcGxhY2VCYWNrKHQsZSl7Y29uc3Qgcj10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUocisxKSx0aGlzLmVtcGxhY2Uocix0LGUpfWVtcGxhY2UodCxlLHIpe2NvbnN0IG49Mip0O3JldHVybiB0aGlzLmludDE2W24rMF09ZSx0aGlzLmludDE2W24rMV09cix0fX1Rcy5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTQsUGkoUXMsXCJTdHJ1Y3RBcnJheUxheW91dDJpNFwiKTtjbGFzcyB0YSBleHRlbmRzIFlze19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuaW50MTY9bmV3IEludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlcik7fWVtcGxhY2VCYWNrKHQsZSxyKXtjb25zdCBuPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShuKzEpLHRoaXMuZW1wbGFjZShuLHQsZSxyKX1lbXBsYWNlKHQsZSxyLG4pe2NvbnN0IGk9Myp0O3JldHVybiB0aGlzLmludDE2W2krMF09ZSx0aGlzLmludDE2W2krMV09cix0aGlzLmludDE2W2krMl09bix0fX10YS5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTYsUGkodGEsXCJTdHJ1Y3RBcnJheUxheW91dDNpNlwiKTtjbGFzcyBlYSBleHRlbmRzIFlze19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuaW50MTY9bmV3IEludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlcik7fWVtcGxhY2VCYWNrKHQsZSxyLG4pe2NvbnN0IGk9dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKGkrMSksdGhpcy5lbXBsYWNlKGksdCxlLHIsbil9ZW1wbGFjZSh0LGUscixuLGkpe2NvbnN0IHM9NCp0O3JldHVybiB0aGlzLmludDE2W3MrMF09ZSx0aGlzLmludDE2W3MrMV09cix0aGlzLmludDE2W3MrMl09bix0aGlzLmludDE2W3MrM109aSx0fX1lYS5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTgsUGkoZWEsXCJTdHJ1Y3RBcnJheUxheW91dDRpOFwiKTtjbGFzcyByYSBleHRlbmRzIFlze19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuaW50MTY9bmV3IEludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5mbG9hdDMyPW5ldyBGbG9hdDMyQXJyYXkodGhpcy5hcnJheUJ1ZmZlcik7fWVtcGxhY2VCYWNrKHQsZSxyLG4saSxzLGEpe2NvbnN0IG89dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKG8rMSksdGhpcy5lbXBsYWNlKG8sdCxlLHIsbixpLHMsYSl9ZW1wbGFjZSh0LGUscixuLGkscyxhLG8pe2NvbnN0IGw9Nip0LHU9MTIqdCxjPTMqdDtyZXR1cm4gdGhpcy5pbnQxNltsKzBdPWUsdGhpcy5pbnQxNltsKzFdPXIsdGhpcy51aW50OFt1KzRdPW4sdGhpcy51aW50OFt1KzVdPWksdGhpcy51aW50OFt1KzZdPXMsdGhpcy51aW50OFt1KzddPWEsdGhpcy5mbG9hdDMyW2MrMl09byx0fX1yYS5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTEyLFBpKHJhLFwiU3RydWN0QXJyYXlMYXlvdXQyaTR1YjFmMTJcIik7Y2xhc3MgbmEgZXh0ZW5kcyBZc3tfcmVmcmVzaFZpZXdzKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmZsb2F0MzI9bmV3IEZsb2F0MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKTt9ZW1wbGFjZUJhY2sodCxlLHIsbil7Y29uc3QgaT10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUoaSsxKSx0aGlzLmVtcGxhY2UoaSx0LGUscixuKX1lbXBsYWNlKHQsZSxyLG4saSl7Y29uc3Qgcz00KnQ7cmV0dXJuIHRoaXMuZmxvYXQzMltzKzBdPWUsdGhpcy5mbG9hdDMyW3MrMV09cix0aGlzLmZsb2F0MzJbcysyXT1uLHRoaXMuZmxvYXQzMltzKzNdPWksdH19bmEucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD0xNixQaShuYSxcIlN0cnVjdEFycmF5TGF5b3V0NGYxNlwiKTtjbGFzcyBpYSBleHRlbmRzIFlze19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMudWludDE2PW5ldyBVaW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKTt9ZW1wbGFjZUJhY2sodCxlLHIsbixpLHMsYSxvLGwsdSl7Y29uc3QgYz10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUoYysxKSx0aGlzLmVtcGxhY2UoYyx0LGUscixuLGkscyxhLG8sbCx1KX1lbXBsYWNlKHQsZSxyLG4saSxzLGEsbyxsLHUsYyl7Y29uc3QgaD0xMCp0O3JldHVybiB0aGlzLnVpbnQxNltoKzBdPWUsdGhpcy51aW50MTZbaCsxXT1yLHRoaXMudWludDE2W2grMl09bix0aGlzLnVpbnQxNltoKzNdPWksdGhpcy51aW50MTZbaCs0XT1zLHRoaXMudWludDE2W2grNV09YSx0aGlzLnVpbnQxNltoKzZdPW8sdGhpcy51aW50MTZbaCs3XT1sLHRoaXMudWludDE2W2grOF09dSx0aGlzLnVpbnQxNltoKzldPWMsdH19aWEucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD0yMCxQaShpYSxcIlN0cnVjdEFycmF5TGF5b3V0MTB1aTIwXCIpO2NsYXNzIHNhIGV4dGVuZHMgWXN7X3JlZnJlc2hWaWV3cygpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy51aW50MTY9bmV3IFVpbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO31lbXBsYWNlQmFjayh0LGUscixuLGkscyxhLG8pe2NvbnN0IGw9dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKGwrMSksdGhpcy5lbXBsYWNlKGwsdCxlLHIsbixpLHMsYSxvKX1lbXBsYWNlKHQsZSxyLG4saSxzLGEsbyxsKXtjb25zdCB1PTgqdDtyZXR1cm4gdGhpcy51aW50MTZbdSswXT1lLHRoaXMudWludDE2W3UrMV09cix0aGlzLnVpbnQxNlt1KzJdPW4sdGhpcy51aW50MTZbdSszXT1pLHRoaXMudWludDE2W3UrNF09cyx0aGlzLnVpbnQxNlt1KzVdPWEsdGhpcy51aW50MTZbdSs2XT1vLHRoaXMudWludDE2W3UrN109bCx0fX1zYS5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTE2LFBpKHNhLFwiU3RydWN0QXJyYXlMYXlvdXQ4dWkxNlwiKTtjbGFzcyBhYSBleHRlbmRzIFlze19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuaW50MTY9bmV3IEludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlcik7fWVtcGxhY2VCYWNrKHQsZSxyLG4saSxzKXtjb25zdCBhPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShhKzEpLHRoaXMuZW1wbGFjZShhLHQsZSxyLG4saSxzKX1lbXBsYWNlKHQsZSxyLG4saSxzLGEpe2NvbnN0IG89Nip0O3JldHVybiB0aGlzLmludDE2W28rMF09ZSx0aGlzLmludDE2W28rMV09cix0aGlzLmludDE2W28rMl09bix0aGlzLmludDE2W28rM109aSx0aGlzLmludDE2W28rNF09cyx0aGlzLmludDE2W28rNV09YSx0fX1hYS5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTEyLFBpKGFhLFwiU3RydWN0QXJyYXlMYXlvdXQ2aTEyXCIpO2NsYXNzIG9hIGV4dGVuZHMgWXN7X3JlZnJlc2hWaWV3cygpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5pbnQxNj1uZXcgSW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLnVpbnQxNj1uZXcgVWludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlcik7fWVtcGxhY2VCYWNrKHQsZSxyLG4saSxzLGEsbyxsLHUsYyxoKXtjb25zdCBwPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShwKzEpLHRoaXMuZW1wbGFjZShwLHQsZSxyLG4saSxzLGEsbyxsLHUsYyxoKX1lbXBsYWNlKHQsZSxyLG4saSxzLGEsbyxsLHUsYyxoLHApe2NvbnN0IGY9MTIqdDtyZXR1cm4gdGhpcy5pbnQxNltmKzBdPWUsdGhpcy5pbnQxNltmKzFdPXIsdGhpcy5pbnQxNltmKzJdPW4sdGhpcy5pbnQxNltmKzNdPWksdGhpcy51aW50MTZbZis0XT1zLHRoaXMudWludDE2W2YrNV09YSx0aGlzLnVpbnQxNltmKzZdPW8sdGhpcy51aW50MTZbZis3XT1sLHRoaXMuaW50MTZbZis4XT11LHRoaXMuaW50MTZbZis5XT1jLHRoaXMuaW50MTZbZisxMF09aCx0aGlzLmludDE2W2YrMTFdPXAsdH19b2EucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD0yNCxQaShvYSxcIlN0cnVjdEFycmF5TGF5b3V0NGk0dWk0aTI0XCIpO2NsYXNzIGxhIGV4dGVuZHMgWXN7X3JlZnJlc2hWaWV3cygpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5pbnQxNj1uZXcgSW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmZsb2F0MzI9bmV3IEZsb2F0MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKTt9ZW1wbGFjZUJhY2sodCxlLHIsbixpLHMpe2NvbnN0IGE9dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKGErMSksdGhpcy5lbXBsYWNlKGEsdCxlLHIsbixpLHMpfWVtcGxhY2UodCxlLHIsbixpLHMsYSl7Y29uc3Qgbz0xMCp0LGw9NSp0O3JldHVybiB0aGlzLmludDE2W28rMF09ZSx0aGlzLmludDE2W28rMV09cix0aGlzLmludDE2W28rMl09bix0aGlzLmZsb2F0MzJbbCsyXT1pLHRoaXMuZmxvYXQzMltsKzNdPXMsdGhpcy5mbG9hdDMyW2wrNF09YSx0fX1sYS5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTIwLFBpKGxhLFwiU3RydWN0QXJyYXlMYXlvdXQzaTNmMjBcIik7Y2xhc3MgdWEgZXh0ZW5kcyBZc3tfcmVmcmVzaFZpZXdzKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLnVpbnQzMj1uZXcgVWludDMyQXJyYXkodGhpcy5hcnJheUJ1ZmZlcik7fWVtcGxhY2VCYWNrKHQpe2NvbnN0IGU9dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKGUrMSksdGhpcy5lbXBsYWNlKGUsdCl9ZW1wbGFjZSh0LGUpe3JldHVybiB0aGlzLnVpbnQzMlsxKnQrMF09ZSx0fX11YS5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTQsUGkodWEsXCJTdHJ1Y3RBcnJheUxheW91dDF1bDRcIik7Y2xhc3MgY2EgZXh0ZW5kcyBZc3tfcmVmcmVzaFZpZXdzKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmludDE2PW5ldyBJbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuZmxvYXQzMj1uZXcgRmxvYXQzMkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMudWludDMyPW5ldyBVaW50MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLnVpbnQxNj1uZXcgVWludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlcik7fWVtcGxhY2VCYWNrKHQsZSxyLG4saSxzLGEsbyxsLHUsYyxoLHApe2NvbnN0IGY9dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKGYrMSksdGhpcy5lbXBsYWNlKGYsdCxlLHIsbixpLHMsYSxvLGwsdSxjLGgscCl9ZW1wbGFjZSh0LGUscixuLGkscyxhLG8sbCx1LGMsaCxwLGYpe2NvbnN0IGQ9MjAqdCx5PTEwKnQ7cmV0dXJuIHRoaXMuaW50MTZbZCswXT1lLHRoaXMuaW50MTZbZCsxXT1yLHRoaXMuaW50MTZbZCsyXT1uLHRoaXMuaW50MTZbZCszXT1pLHRoaXMuaW50MTZbZCs0XT1zLHRoaXMuZmxvYXQzMlt5KzNdPWEsdGhpcy5mbG9hdDMyW3krNF09byx0aGlzLmZsb2F0MzJbeSs1XT1sLHRoaXMuZmxvYXQzMlt5KzZdPXUsdGhpcy5pbnQxNltkKzE0XT1jLHRoaXMudWludDMyW3krOF09aCx0aGlzLnVpbnQxNltkKzE4XT1wLHRoaXMudWludDE2W2QrMTldPWYsdH19Y2EucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD00MCxQaShjYSxcIlN0cnVjdEFycmF5TGF5b3V0NWk0ZjFpMXVsMnVpNDBcIik7Y2xhc3MgaGEgZXh0ZW5kcyBZc3tfcmVmcmVzaFZpZXdzKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmludDE2PW5ldyBJbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO31lbXBsYWNlQmFjayh0LGUscixuLGkscyxhKXtjb25zdCBvPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShvKzEpLHRoaXMuZW1wbGFjZShvLHQsZSxyLG4saSxzLGEpfWVtcGxhY2UodCxlLHIsbixpLHMsYSxvKXtjb25zdCBsPTgqdDtyZXR1cm4gdGhpcy5pbnQxNltsKzBdPWUsdGhpcy5pbnQxNltsKzFdPXIsdGhpcy5pbnQxNltsKzJdPW4sdGhpcy5pbnQxNltsKzRdPWksdGhpcy5pbnQxNltsKzVdPXMsdGhpcy5pbnQxNltsKzZdPWEsdGhpcy5pbnQxNltsKzddPW8sdH19aGEucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD0xNixQaShoYSxcIlN0cnVjdEFycmF5TGF5b3V0M2kyaTJpMTZcIik7Y2xhc3MgcGEgZXh0ZW5kcyBZc3tfcmVmcmVzaFZpZXdzKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmZsb2F0MzI9bmV3IEZsb2F0MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmludDE2PW5ldyBJbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO31lbXBsYWNlQmFjayh0LGUscixuLGkpe2NvbnN0IHM9dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKHMrMSksdGhpcy5lbXBsYWNlKHMsdCxlLHIsbixpKX1lbXBsYWNlKHQsZSxyLG4saSxzKXtjb25zdCBhPTQqdCxvPTgqdDtyZXR1cm4gdGhpcy5mbG9hdDMyW2ErMF09ZSx0aGlzLmZsb2F0MzJbYSsxXT1yLHRoaXMuZmxvYXQzMlthKzJdPW4sdGhpcy5pbnQxNltvKzZdPWksdGhpcy5pbnQxNltvKzddPXMsdH19cGEucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD0xNixQaShwYSxcIlN0cnVjdEFycmF5TGF5b3V0MmYxZjJpMTZcIik7Y2xhc3MgZmEgZXh0ZW5kcyBZc3tfcmVmcmVzaFZpZXdzKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmZsb2F0MzI9bmV3IEZsb2F0MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKTt9ZW1wbGFjZUJhY2sodCxlLHIsbil7Y29uc3QgaT10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUoaSsxKSx0aGlzLmVtcGxhY2UoaSx0LGUscixuKX1lbXBsYWNlKHQsZSxyLG4saSl7Y29uc3Qgcz0xMip0LGE9Myp0O3JldHVybiB0aGlzLnVpbnQ4W3MrMF09ZSx0aGlzLnVpbnQ4W3MrMV09cix0aGlzLmZsb2F0MzJbYSsxXT1uLHRoaXMuZmxvYXQzMlthKzJdPWksdH19ZmEucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD0xMixQaShmYSxcIlN0cnVjdEFycmF5TGF5b3V0MnViMmYxMlwiKTtjbGFzcyBkYSBleHRlbmRzIFlze19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuZmxvYXQzMj1uZXcgRmxvYXQzMkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO31lbXBsYWNlQmFjayh0LGUscil7Y29uc3Qgbj10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUobisxKSx0aGlzLmVtcGxhY2Uobix0LGUscil9ZW1wbGFjZSh0LGUscixuKXtjb25zdCBpPTMqdDtyZXR1cm4gdGhpcy5mbG9hdDMyW2krMF09ZSx0aGlzLmZsb2F0MzJbaSsxXT1yLHRoaXMuZmxvYXQzMltpKzJdPW4sdH19ZGEucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD0xMixQaShkYSxcIlN0cnVjdEFycmF5TGF5b3V0M2YxMlwiKTtjbGFzcyB5YSBleHRlbmRzIFlze19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMudWludDE2PW5ldyBVaW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKTt9ZW1wbGFjZUJhY2sodCxlLHIpe2NvbnN0IG49dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKG4rMSksdGhpcy5lbXBsYWNlKG4sdCxlLHIpfWVtcGxhY2UodCxlLHIsbil7Y29uc3QgaT0zKnQ7cmV0dXJuIHRoaXMudWludDE2W2krMF09ZSx0aGlzLnVpbnQxNltpKzFdPXIsdGhpcy51aW50MTZbaSsyXT1uLHR9fXlhLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9NixQaSh5YSxcIlN0cnVjdEFycmF5TGF5b3V0M3VpNlwiKTtjbGFzcyBtYSBleHRlbmRzIFlze19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuaW50MTY9bmV3IEludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5mbG9hdDMyPW5ldyBGbG9hdDMyQXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy51aW50MTY9bmV3IFVpbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMudWludDMyPW5ldyBVaW50MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKTt9ZW1wbGFjZUJhY2sodCxlLHIsbixpLHMsYSxvLGwsdSxjLGgscCxmLGQseSxtLGcseCx2LGIpe2NvbnN0IF89dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKF8rMSksdGhpcy5lbXBsYWNlKF8sdCxlLHIsbixpLHMsYSxvLGwsdSxjLGgscCxmLGQseSxtLGcseCx2LGIpfWVtcGxhY2UodCxlLHIsbixpLHMsYSxvLGwsdSxjLGgscCxmLGQseSxtLGcseCx2LGIsXyl7Y29uc3Qgdz0zMCp0LEE9MTUqdCxTPTYwKnQ7cmV0dXJuIHRoaXMuaW50MTZbdyswXT1lLHRoaXMuaW50MTZbdysxXT1yLHRoaXMuaW50MTZbdysyXT1uLHRoaXMuZmxvYXQzMltBKzJdPWksdGhpcy5mbG9hdDMyW0ErM109cyx0aGlzLnVpbnQxNlt3KzhdPWEsdGhpcy51aW50MTZbdys5XT1vLHRoaXMudWludDMyW0ErNV09bCx0aGlzLnVpbnQzMltBKzZdPXUsdGhpcy51aW50MzJbQSs3XT1jLHRoaXMudWludDE2W3crMTZdPWgsdGhpcy51aW50MTZbdysxN109cCx0aGlzLnVpbnQxNlt3KzE4XT1mLHRoaXMuZmxvYXQzMltBKzEwXT1kLHRoaXMuZmxvYXQzMltBKzExXT15LHRoaXMudWludDhbUys0OF09bSx0aGlzLnVpbnQ4W1MrNDldPWcsdGhpcy51aW50OFtTKzUwXT14LHRoaXMudWludDMyW0ErMTNdPXYsdGhpcy5pbnQxNlt3KzI4XT1iLHRoaXMudWludDhbUys1OF09Xyx0fX1tYS5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTYwLFBpKG1hLFwiU3RydWN0QXJyYXlMYXlvdXQzaTJmMnVpM3VsM3VpMmYzdWIxdWwxaTF1YjYwXCIpO2NsYXNzIGdhIGV4dGVuZHMgWXN7X3JlZnJlc2hWaWV3cygpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5pbnQxNj1uZXcgSW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmZsb2F0MzI9bmV3IEZsb2F0MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLnVpbnQxNj1uZXcgVWludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy51aW50MzI9bmV3IFVpbnQzMkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO31lbXBsYWNlQmFjayh0LGUscixuLGkscyxhLG8sbCx1LGMsaCxwLGYsZCx5LG0sZyx4LHYsYixfLHcsQSxTLGssSSxNLHosVCl7Y29uc3QgQj10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUoQisxKSx0aGlzLmVtcGxhY2UoQix0LGUscixuLGkscyxhLG8sbCx1LGMsaCxwLGYsZCx5LG0sZyx4LHYsYixfLHcsQSxTLGssSSxNLHosVCl9ZW1wbGFjZSh0LGUscixuLGkscyxhLG8sbCx1LGMsaCxwLGYsZCx5LG0sZyx4LHYsYixfLHcsQSxTLGssSSxNLHosVCxCKXtjb25zdCBFPTM4KnQsQz0xOSp0O3JldHVybiB0aGlzLmludDE2W0UrMF09ZSx0aGlzLmludDE2W0UrMV09cix0aGlzLmludDE2W0UrMl09bix0aGlzLmZsb2F0MzJbQysyXT1pLHRoaXMuZmxvYXQzMltDKzNdPXMsdGhpcy5pbnQxNltFKzhdPWEsdGhpcy5pbnQxNltFKzldPW8sdGhpcy5pbnQxNltFKzEwXT1sLHRoaXMuaW50MTZbRSsxMV09dSx0aGlzLmludDE2W0UrMTJdPWMsdGhpcy5pbnQxNltFKzEzXT1oLHRoaXMudWludDE2W0UrMTRdPXAsdGhpcy51aW50MTZbRSsxNV09Zix0aGlzLnVpbnQxNltFKzE2XT1kLHRoaXMudWludDE2W0UrMTddPXksdGhpcy51aW50MTZbRSsxOF09bSx0aGlzLnVpbnQxNltFKzE5XT1nLHRoaXMudWludDE2W0UrMjBdPXgsdGhpcy51aW50MTZbRSsyMV09dix0aGlzLnVpbnQxNltFKzIyXT1iLHRoaXMudWludDE2W0UrMjNdPV8sdGhpcy51aW50MTZbRSsyNF09dyx0aGlzLnVpbnQxNltFKzI1XT1BLHRoaXMudWludDE2W0UrMjZdPVMsdGhpcy51aW50MTZbRSsyN109ayx0aGlzLnVpbnQxNltFKzI4XT1JLHRoaXMudWludDMyW0MrMTVdPU0sdGhpcy5mbG9hdDMyW0MrMTZdPXosdGhpcy5mbG9hdDMyW0MrMTddPVQsdGhpcy5mbG9hdDMyW0MrMThdPUIsdH19Z2EucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD03NixQaShnYSxcIlN0cnVjdEFycmF5TGF5b3V0M2kyZjZpMTV1aTF1bDNmNzZcIik7Y2xhc3MgeGEgZXh0ZW5kcyBZc3tfcmVmcmVzaFZpZXdzKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmZsb2F0MzI9bmV3IEZsb2F0MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKTt9ZW1wbGFjZUJhY2sodCl7Y29uc3QgZT10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUoZSsxKSx0aGlzLmVtcGxhY2UoZSx0KX1lbXBsYWNlKHQsZSl7cmV0dXJuIHRoaXMuZmxvYXQzMlsxKnQrMF09ZSx0fX14YS5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTQsUGkoeGEsXCJTdHJ1Y3RBcnJheUxheW91dDFmNFwiKTtjbGFzcyB2YSBleHRlbmRzIFlze19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuZmxvYXQzMj1uZXcgRmxvYXQzMkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO31lbXBsYWNlQmFjayh0LGUscixuLGkpe2NvbnN0IHM9dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKHMrMSksdGhpcy5lbXBsYWNlKHMsdCxlLHIsbixpKX1lbXBsYWNlKHQsZSxyLG4saSxzKXtjb25zdCBhPTUqdDtyZXR1cm4gdGhpcy5mbG9hdDMyW2ErMF09ZSx0aGlzLmZsb2F0MzJbYSsxXT1yLHRoaXMuZmxvYXQzMlthKzJdPW4sdGhpcy5mbG9hdDMyW2ErM109aSx0aGlzLmZsb2F0MzJbYSs0XT1zLHR9fXZhLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9MjAsUGkodmEsXCJTdHJ1Y3RBcnJheUxheW91dDVmMjBcIik7Y2xhc3MgYmEgZXh0ZW5kcyBZc3tfcmVmcmVzaFZpZXdzKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLnVpbnQzMj1uZXcgVWludDMyQXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy51aW50MTY9bmV3IFVpbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO31lbXBsYWNlQmFjayh0LGUscixuKXtjb25zdCBpPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShpKzEpLHRoaXMuZW1wbGFjZShpLHQsZSxyLG4pfWVtcGxhY2UodCxlLHIsbixpKXtjb25zdCBzPTYqdDtyZXR1cm4gdGhpcy51aW50MzJbMyp0KzBdPWUsdGhpcy51aW50MTZbcysyXT1yLHRoaXMudWludDE2W3MrM109bix0aGlzLnVpbnQxNltzKzRdPWksdH19YmEucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD0xMixQaShiYSxcIlN0cnVjdEFycmF5TGF5b3V0MXVsM3VpMTJcIik7Y2xhc3MgX2EgZXh0ZW5kcyBZc3tfcmVmcmVzaFZpZXdzKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLnVpbnQxNj1uZXcgVWludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlcik7fWVtcGxhY2VCYWNrKHQsZSl7Y29uc3Qgcj10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUocisxKSx0aGlzLmVtcGxhY2Uocix0LGUpfWVtcGxhY2UodCxlLHIpe2NvbnN0IG49Mip0O3JldHVybiB0aGlzLnVpbnQxNltuKzBdPWUsdGhpcy51aW50MTZbbisxXT1yLHR9fV9hLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9NCxQaShfYSxcIlN0cnVjdEFycmF5TGF5b3V0MnVpNFwiKTtjbGFzcyB3YSBleHRlbmRzIFlze19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMudWludDE2PW5ldyBVaW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKTt9ZW1wbGFjZUJhY2sodCl7Y29uc3QgZT10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUoZSsxKSx0aGlzLmVtcGxhY2UoZSx0KX1lbXBsYWNlKHQsZSl7cmV0dXJuIHRoaXMudWludDE2WzEqdCswXT1lLHR9fXdhLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9MixQaSh3YSxcIlN0cnVjdEFycmF5TGF5b3V0MXVpMlwiKTtjbGFzcyBBYSBleHRlbmRzIFlze19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuZmxvYXQzMj1uZXcgRmxvYXQzMkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpO31lbXBsYWNlQmFjayh0LGUpe2NvbnN0IHI9dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKHIrMSksdGhpcy5lbXBsYWNlKHIsdCxlKX1lbXBsYWNlKHQsZSxyKXtjb25zdCBuPTIqdDtyZXR1cm4gdGhpcy5mbG9hdDMyW24rMF09ZSx0aGlzLmZsb2F0MzJbbisxXT1yLHR9fUFhLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9OCxQaShBYSxcIlN0cnVjdEFycmF5TGF5b3V0MmY4XCIpO2NsYXNzIFNhIGV4dGVuZHMgSHN7Z2V0IGFfcG9zXzMwKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrMF19Z2V0IGFfcG9zXzMxKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrMV19Z2V0IGFfcG9zXzMyKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrMl19Z2V0IGFfcG9zX25vcm1hbF8zMCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzNdfWdldCBhX3Bvc19ub3JtYWxfMzEoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMis0XX1nZXQgYV9wb3Nfbm9ybWFsXzMyKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrNV19fVNhLnByb3RvdHlwZS5zaXplPTEyO2NsYXNzIGthIGV4dGVuZHMgYWF7Z2V0KHQpe3JldHVybiBuZXcgU2EodGhpcyx0KX19UGkoa2EsXCJGaWxsRXh0cnVzaW9uRXh0QXJyYXlcIik7Y2xhc3MgSWEgZXh0ZW5kcyBIc3tnZXQgcHJvamVjdGVkQW5jaG9yWCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzBdfWdldCBwcm9qZWN0ZWRBbmNob3JZKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrMV19Z2V0IHByb2plY3RlZEFuY2hvclooKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMisyXX1nZXQgdGlsZUFuY2hvclgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMiszXX1nZXQgdGlsZUFuY2hvclkoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMis0XX1nZXQgeDEoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuZmxvYXQzMlt0aGlzLl9wb3M0KzNdfWdldCB5MSgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5mbG9hdDMyW3RoaXMuX3BvczQrNF19Z2V0IHgyKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmZsb2F0MzJbdGhpcy5fcG9zNCs1XX1nZXQgeTIoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuZmxvYXQzMlt0aGlzLl9wb3M0KzZdfWdldCBwYWRkaW5nKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrMTRdfWdldCBmZWF0dXJlSW5kZXgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDMyW3RoaXMuX3BvczQrOF19Z2V0IHNvdXJjZUxheWVySW5kZXgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMThdfWdldCBidWNrZXRJbmRleCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisxOV19fUlhLnByb3RvdHlwZS5zaXplPTQwO2NsYXNzIE1hIGV4dGVuZHMgY2F7Z2V0KHQpe3JldHVybiBuZXcgSWEodGhpcyx0KX19UGkoTWEsXCJDb2xsaXNpb25Cb3hBcnJheVwiKTtjbGFzcyB6YSBleHRlbmRzIEhze2dldCBwcm9qZWN0ZWRBbmNob3JYKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrMF19Z2V0IHByb2plY3RlZEFuY2hvclkoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMisxXX1nZXQgcHJvamVjdGVkQW5jaG9yWigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzJdfWdldCB0aWxlQW5jaG9yWCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5mbG9hdDMyW3RoaXMuX3BvczQrMl19Z2V0IHRpbGVBbmNob3JZKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmZsb2F0MzJbdGhpcy5fcG9zNCszXX1nZXQgZ2x5cGhTdGFydEluZGV4KCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzhdfWdldCBudW1HbHlwaHMoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrOV19Z2V0IHZlcnRleFN0YXJ0SW5kZXgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDMyW3RoaXMuX3BvczQrNV19Z2V0IGxpbmVTdGFydEluZGV4KCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQzMlt0aGlzLl9wb3M0KzZdfWdldCBsaW5lTGVuZ3RoKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQzMlt0aGlzLl9wb3M0KzddfWdldCBzZWdtZW50KCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzE2XX1nZXQgbG93ZXJTaXplKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzE3XX1nZXQgdXBwZXJTaXplKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzE4XX1nZXQgbGluZU9mZnNldFgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuZmxvYXQzMlt0aGlzLl9wb3M0KzEwXX1nZXQgbGluZU9mZnNldFkoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuZmxvYXQzMlt0aGlzLl9wb3M0KzExXX1nZXQgd3JpdGluZ01vZGUoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDhbdGhpcy5fcG9zMSs0OF19Z2V0IHBsYWNlZE9yaWVudGF0aW9uKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQ4W3RoaXMuX3BvczErNDldfXNldCBwbGFjZWRPcmllbnRhdGlvbih0KXt0aGlzLl9zdHJ1Y3RBcnJheS51aW50OFt0aGlzLl9wb3MxKzQ5XT10O31nZXQgaGlkZGVuKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQ4W3RoaXMuX3BvczErNTBdfXNldCBoaWRkZW4odCl7dGhpcy5fc3RydWN0QXJyYXkudWludDhbdGhpcy5fcG9zMSs1MF09dDt9Z2V0IGNyb3NzVGlsZUlEKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQzMlt0aGlzLl9wb3M0KzEzXX1zZXQgY3Jvc3NUaWxlSUQodCl7dGhpcy5fc3RydWN0QXJyYXkudWludDMyW3RoaXMuX3BvczQrMTNdPXQ7fWdldCBhc3NvY2lhdGVkSWNvbkluZGV4KCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrMjhdfWdldCBmbGlwU3RhdGUoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDhbdGhpcy5fcG9zMSs1OF19c2V0IGZsaXBTdGF0ZSh0KXt0aGlzLl9zdHJ1Y3RBcnJheS51aW50OFt0aGlzLl9wb3MxKzU4XT10O319emEucHJvdG90eXBlLnNpemU9NjA7Y2xhc3MgVGEgZXh0ZW5kcyBtYXtnZXQodCl7cmV0dXJuIG5ldyB6YSh0aGlzLHQpfX1QaShUYSxcIlBsYWNlZFN5bWJvbEFycmF5XCIpO2NsYXNzIEJhIGV4dGVuZHMgSHN7Z2V0IHByb2plY3RlZEFuY2hvclgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMiswXX1nZXQgcHJvamVjdGVkQW5jaG9yWSgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzFdfWdldCBwcm9qZWN0ZWRBbmNob3JaKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrMl19Z2V0IHRpbGVBbmNob3JYKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmZsb2F0MzJbdGhpcy5fcG9zNCsyXX1nZXQgdGlsZUFuY2hvclkoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuZmxvYXQzMlt0aGlzLl9wb3M0KzNdfWdldCByaWdodEp1c3RpZmllZFRleHRTeW1ib2xJbmRleCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzhdfWdldCBjZW50ZXJKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMis5XX1nZXQgbGVmdEp1c3RpZmllZFRleHRTeW1ib2xJbmRleCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzEwXX1nZXQgdmVydGljYWxQbGFjZWRUZXh0U3ltYm9sSW5kZXgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMisxMV19Z2V0IHBsYWNlZEljb25TeW1ib2xJbmRleCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzEyXX1nZXQgdmVydGljYWxQbGFjZWRJY29uU3ltYm9sSW5kZXgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMisxM119Z2V0IGtleSgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisxNF19Z2V0IHRleHRCb3hTdGFydEluZGV4KCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzE1XX1nZXQgdGV4dEJveEVuZEluZGV4KCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzE2XX1nZXQgdmVydGljYWxUZXh0Qm94U3RhcnRJbmRleCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisxN119Z2V0IHZlcnRpY2FsVGV4dEJveEVuZEluZGV4KCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzE4XX1nZXQgaWNvbkJveFN0YXJ0SW5kZXgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMTldfWdldCBpY29uQm94RW5kSW5kZXgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMjBdfWdldCB2ZXJ0aWNhbEljb25Cb3hTdGFydEluZGV4KCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzIxXX1nZXQgdmVydGljYWxJY29uQm94RW5kSW5kZXgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMjJdfWdldCBmZWF0dXJlSW5kZXgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMjNdfWdldCBudW1Ib3Jpem9udGFsR2x5cGhWZXJ0aWNlcygpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisyNF19Z2V0IG51bVZlcnRpY2FsR2x5cGhWZXJ0aWNlcygpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisyNV19Z2V0IG51bUljb25WZXJ0aWNlcygpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisyNl19Z2V0IG51bVZlcnRpY2FsSWNvblZlcnRpY2VzKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzI3XX1nZXQgdXNlUnVudGltZUNvbGxpc2lvbkNpcmNsZXMoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMjhdfWdldCBjcm9zc1RpbGVJRCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MzJbdGhpcy5fcG9zNCsxNV19c2V0IGNyb3NzVGlsZUlEKHQpe3RoaXMuX3N0cnVjdEFycmF5LnVpbnQzMlt0aGlzLl9wb3M0KzE1XT10O31nZXQgdGV4dE9mZnNldDAoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuZmxvYXQzMlt0aGlzLl9wb3M0KzE2XX1nZXQgdGV4dE9mZnNldDEoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuZmxvYXQzMlt0aGlzLl9wb3M0KzE3XX1nZXQgY29sbGlzaW9uQ2lyY2xlRGlhbWV0ZXIoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuZmxvYXQzMlt0aGlzLl9wb3M0KzE4XX19QmEucHJvdG90eXBlLnNpemU9NzY7Y2xhc3MgRWEgZXh0ZW5kcyBnYXtnZXQodCl7cmV0dXJuIG5ldyBCYSh0aGlzLHQpfX1QaShFYSxcIlN5bWJvbEluc3RhbmNlQXJyYXlcIik7Y2xhc3MgQ2EgZXh0ZW5kcyB4YXtnZXRvZmZzZXRYKHQpe3JldHVybiB0aGlzLmZsb2F0MzJbMSp0KzBdfX1QaShDYSxcIkdseXBoT2Zmc2V0QXJyYXlcIik7Y2xhc3MgUGEgZXh0ZW5kcyB0YXtnZXR4KHQpe3JldHVybiB0aGlzLmludDE2WzMqdCswXX1nZXR5KHQpe3JldHVybiB0aGlzLmludDE2WzMqdCsxXX1nZXR0aWxlVW5pdERpc3RhbmNlRnJvbUFuY2hvcih0KXtyZXR1cm4gdGhpcy5pbnQxNlszKnQrMl19fVBpKFBhLFwiU3ltYm9sTGluZVZlcnRleEFycmF5XCIpO2NsYXNzIERhIGV4dGVuZHMgSHN7Z2V0IGZlYXR1cmVJbmRleCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MzJbdGhpcy5fcG9zNCswXX1nZXQgc291cmNlTGF5ZXJJbmRleCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisyXX1nZXQgYnVja2V0SW5kZXgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrM119Z2V0IGxheW91dFZlcnRleEFycmF5T2Zmc2V0KCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzRdfX1EYS5wcm90b3R5cGUuc2l6ZT0xMjtjbGFzcyBWYSBleHRlbmRzIGJhe2dldCh0KXtyZXR1cm4gbmV3IERhKHRoaXMsdCl9fVBpKFZhLFwiRmVhdHVyZUluZGV4QXJyYXlcIik7Y2xhc3MgRmEgZXh0ZW5kcyBIc3tnZXQgYV9jZW50cm9pZF9wb3MwKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzBdfWdldCBhX2NlbnRyb2lkX3BvczEoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMV19fUZhLnByb3RvdHlwZS5zaXplPTQ7Y2xhc3MgTGEgZXh0ZW5kcyBfYXtnZXQodCl7cmV0dXJuIG5ldyBGYSh0aGlzLHQpfX1QaShMYSxcIkZpbGxFeHRydXNpb25DZW50cm9pZEFycmF5XCIpO2NsYXNzIFJhIGV4dGVuZHMgSHN7Z2V0IGFfcG9zXzMwKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrMF19Z2V0IGFfcG9zXzMxKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrMV19Z2V0IGFfcG9zXzMyKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrMl19Z2V0IGFfcG9zX25vcm1hbF8zMCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzNdfWdldCBhX3Bvc19ub3JtYWxfMzEoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMis0XX1nZXQgYV9wb3Nfbm9ybWFsXzMyKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrNV19fVJhLnByb3RvdHlwZS5zaXplPTEyO2NsYXNzIFVhIGV4dGVuZHMgYWF7Z2V0KHQpe3JldHVybiBuZXcgUmEodGhpcyx0KX19UGkoVWEsXCJDaXJjbGVHbG9iZUV4dEFycmF5XCIpO2NvbnN0IGphPVdzKFt7bmFtZTpcImFfcGF0dGVybl90b1wiLGNvbXBvbmVudHM6NCx0eXBlOlwiVWludDE2XCJ9LHtuYW1lOlwiYV9wYXR0ZXJuX2Zyb21cIixjb21wb25lbnRzOjQsdHlwZTpcIlVpbnQxNlwifSx7bmFtZTpcImFfcGl4ZWxfcmF0aW9fdG9cIixjb21wb25lbnRzOjEsdHlwZTpcIlVpbnQxNlwifSx7bmFtZTpcImFfcGl4ZWxfcmF0aW9fZnJvbVwiLGNvbXBvbmVudHM6MSx0eXBlOlwiVWludDE2XCJ9XSksJGE9V3MoW3tuYW1lOlwiYV9kYXNoX3RvXCIsY29tcG9uZW50czo0LHR5cGU6XCJVaW50MTZcIn0se25hbWU6XCJhX2Rhc2hfZnJvbVwiLGNvbXBvbmVudHM6NCx0eXBlOlwiVWludDE2XCJ9XSk7dmFyIE9hPXllKChmdW5jdGlvbih0KXt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXt2YXIgcixuLGkscyxhLG8sbCx1O2ZvcihuPXQubGVuZ3RoLShyPTMmdC5sZW5ndGgpLGk9ZSxhPTM0MzI5MTgzNTMsbz00NjE4NDU5MDcsdT0wO3U8bjspbD0yNTUmdC5jaGFyQ29kZUF0KHUpfCgyNTUmdC5jaGFyQ29kZUF0KCsrdSkpPDw4fCgyNTUmdC5jaGFyQ29kZUF0KCsrdSkpPDwxNnwoMjU1JnQuY2hhckNvZGVBdCgrK3UpKTw8MjQsKyt1LGk9Mjc0OTIrKDY1NTM1JihzPTUqKDY1NTM1JihpPShpXj1sPSg2NTUzNSYobD0obD0oNjU1MzUmbCkqYSsoKChsPj4+MTYpKmEmNjU1MzUpPDwxNikmNDI5NDk2NzI5NSk8PDE1fGw+Pj4xNykpKm8rKCgobD4+PjE2KSpvJjY1NTM1KTw8MTYpJjQyOTQ5NjcyOTUpPDwxM3xpPj4+MTkpKSsoKDUqKGk+Pj4xNikmNjU1MzUpPDwxNikmNDI5NDk2NzI5NSkpKygoNTg5NjQrKHM+Pj4xNikmNjU1MzUpPDwxNik7c3dpdGNoKGw9MCxyKXtjYXNlIDM6bF49KDI1NSZ0LmNoYXJDb2RlQXQodSsyKSk8PDE2O2Nhc2UgMjpsXj0oMjU1JnQuY2hhckNvZGVBdCh1KzEpKTw8ODtjYXNlIDE6aV49bD0oNjU1MzUmKGw9KGw9KDY1NTM1JihsXj0yNTUmdC5jaGFyQ29kZUF0KHUpKSkqYSsoKChsPj4+MTYpKmEmNjU1MzUpPDwxNikmNDI5NDk2NzI5NSk8PDE1fGw+Pj4xNykpKm8rKCgobD4+PjE2KSpvJjY1NTM1KTw8MTYpJjQyOTQ5NjcyOTU7fXJldHVybiBpXj10Lmxlbmd0aCxpPTIyNDY4MjI1MDcqKDY1NTM1JihpXj1pPj4+MTYpKSsoKDIyNDY4MjI1MDcqKGk+Pj4xNikmNjU1MzUpPDwxNikmNDI5NDk2NzI5NSxpPTMyNjY0ODk5MDkqKDY1NTM1JihpXj1pPj4+MTMpKSsoKDMyNjY0ODk5MDkqKGk+Pj4xNikmNjU1MzUpPDwxNikmNDI5NDk2NzI5NSwoaV49aT4+PjE2KT4+PjB9O30pKSxxYT15ZSgoZnVuY3Rpb24odCl7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciByLG49dC5sZW5ndGgsaT1lXm4scz0wO24+PTQ7KXI9MTU0MDQ4MzQ3NyooNjU1MzUmKHI9MjU1JnQuY2hhckNvZGVBdChzKXwoMjU1JnQuY2hhckNvZGVBdCgrK3MpKTw8OHwoMjU1JnQuY2hhckNvZGVBdCgrK3MpKTw8MTZ8KDI1NSZ0LmNoYXJDb2RlQXQoKytzKSk8PDI0KSkrKCgxNTQwNDgzNDc3KihyPj4+MTYpJjY1NTM1KTw8MTYpLGk9MTU0MDQ4MzQ3NyooNjU1MzUmaSkrKCgxNTQwNDgzNDc3KihpPj4+MTYpJjY1NTM1KTw8MTYpXihyPTE1NDA0ODM0NzcqKDY1NTM1JihyXj1yPj4+MjQpKSsoKDE1NDA0ODM0NzcqKHI+Pj4xNikmNjU1MzUpPDwxNikpLG4tPTQsKytzO3N3aXRjaChuKXtjYXNlIDM6aV49KDI1NSZ0LmNoYXJDb2RlQXQocysyKSk8PDE2O2Nhc2UgMjppXj0oMjU1JnQuY2hhckNvZGVBdChzKzEpKTw8ODtjYXNlIDE6aT0xNTQwNDgzNDc3Kig2NTUzNSYoaV49MjU1JnQuY2hhckNvZGVBdChzKSkpKygoMTU0MDQ4MzQ3NyooaT4+PjE2KSY2NTUzNSk8PDE2KTt9cmV0dXJuIGk9MTU0MDQ4MzQ3NyooNjU1MzUmKGlePWk+Pj4xMykpKygoMTU0MDQ4MzQ3NyooaT4+PjE2KSY2NTUzNSk8PDE2KSwoaV49aT4+PjE1KT4+PjB9O30pKSxOYT1PYSxHYT1xYTtOYS5tdXJtdXIzPU9hLE5hLm11cm11cjI9R2E7Y2xhc3MgWmF7Y29uc3RydWN0b3IoKXt0aGlzLmlkcz1bXSx0aGlzLnBvc2l0aW9ucz1bXSx0aGlzLmluZGV4ZWQ9ITE7fWFkZCh0LGUscixuKXt0aGlzLmlkcy5wdXNoKFhhKHQpKSx0aGlzLnBvc2l0aW9ucy5wdXNoKGUscixuKTt9Z2V0UG9zaXRpb25zKHQpe2NvbnN0IGU9WGEodCk7bGV0IHI9MCxuPXRoaXMuaWRzLmxlbmd0aC0xO2Zvcig7cjxuOyl7Y29uc3QgdD1yK24+PjE7dGhpcy5pZHNbdF0+PWU/bj10OnI9dCsxO31jb25zdCBpPVtdO2Zvcig7dGhpcy5pZHNbcl09PT1lOylpLnB1c2goe2luZGV4OnRoaXMucG9zaXRpb25zWzMqcl0sc3RhcnQ6dGhpcy5wb3NpdGlvbnNbMypyKzFdLGVuZDp0aGlzLnBvc2l0aW9uc1szKnIrMl19KSxyKys7cmV0dXJuIGl9c3RhdGljIHNlcmlhbGl6ZSh0LGUpe2NvbnN0IHI9bmV3IEZsb2F0NjRBcnJheSh0Lmlkcyksbj1uZXcgVWludDMyQXJyYXkodC5wb3NpdGlvbnMpO3JldHVybiBLYShyLG4sMCxyLmxlbmd0aC0xKSxlJiZlLnB1c2goci5idWZmZXIsbi5idWZmZXIpLHtpZHM6cixwb3NpdGlvbnM6bn19c3RhdGljIGRlc2VyaWFsaXplKHQpe2NvbnN0IGU9bmV3IFphO3JldHVybiBlLmlkcz10LmlkcyxlLnBvc2l0aW9ucz10LnBvc2l0aW9ucyxlLmluZGV4ZWQ9ITAsZX19ZnVuY3Rpb24gWGEodCl7Y29uc3QgZT0rdDtyZXR1cm4gIWlzTmFOKGUpJiZOdW1iZXIuTUlOX1NBRkVfSU5URUdFUjw9ZSYmZTw9TnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI/ZTpOYShTdHJpbmcodCkpfWZ1bmN0aW9uIEthKHQsZSxyLG4pe2Zvcig7cjxuOyl7Y29uc3QgaT10W3Irbj4+MV07bGV0IHM9ci0xLGE9bisxO2Zvcig7Oyl7ZG97cysrO313aGlsZSh0W3NdPGkpO2Rve2EtLTt9d2hpbGUodFthXT5pKTtpZihzPj1hKWJyZWFrO0hhKHQscyxhKSxIYShlLDMqcywzKmEpLEhhKGUsMypzKzEsMyphKzEpLEhhKGUsMypzKzIsMyphKzIpO31hLXI8bi1hPyhLYSh0LGUscixhKSxyPWErMSk6KEthKHQsZSxhKzEsbiksbj1hKTt9fWZ1bmN0aW9uIEhhKHQsZSxyKXtjb25zdCBuPXRbZV07dFtlXT10W3JdLHRbcl09bjt9UGkoWmEsXCJGZWF0dXJlUG9zaXRpb25NYXBcIik7Y2xhc3MgWWF7Y29uc3RydWN0b3IodCl7dGhpcy5nbD10LmdsLHRoaXMuaW5pdGlhbGl6ZWQ9ITE7fWZldGNoVW5pZm9ybUxvY2F0aW9uKHQsZSl7cmV0dXJuIHRoaXMubG9jYXRpb258fHRoaXMuaW5pdGlhbGl6ZWR8fCh0aGlzLmxvY2F0aW9uPXRoaXMuZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHQsZSksdGhpcy5pbml0aWFsaXplZD0hMCksISF0aGlzLmxvY2F0aW9ufX1jbGFzcyBXYSBleHRlbmRzIFlhe2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMuY3VycmVudD0wO31zZXQodCxlLHIpe3RoaXMuZmV0Y2hVbmlmb3JtTG9jYXRpb24odCxlKSYmdGhpcy5jdXJyZW50IT09ciYmKHRoaXMuY3VycmVudD1yLHRoaXMuZ2wudW5pZm9ybTFmKHRoaXMubG9jYXRpb24scikpO319Y2xhc3MgSmEgZXh0ZW5kcyBZYXtjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KSx0aGlzLmN1cnJlbnQ9WzAsMCwwLDBdO31zZXQodCxlLHIpe3RoaXMuZmV0Y2hVbmlmb3JtTG9jYXRpb24odCxlKSYmKHJbMF09PT10aGlzLmN1cnJlbnRbMF0mJnJbMV09PT10aGlzLmN1cnJlbnRbMV0mJnJbMl09PT10aGlzLmN1cnJlbnRbMl0mJnJbM109PT10aGlzLmN1cnJlbnRbM118fCh0aGlzLmN1cnJlbnQ9cix0aGlzLmdsLnVuaWZvcm00Zih0aGlzLmxvY2F0aW9uLHJbMF0sclsxXSxyWzJdLHJbM10pKSk7fX1jbGFzcyBRYSBleHRlbmRzIFlhe2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMuY3VycmVudD14ZS50cmFuc3BhcmVudDt9c2V0KHQsZSxyKXt0aGlzLmZldGNoVW5pZm9ybUxvY2F0aW9uKHQsZSkmJihyLnI9PT10aGlzLmN1cnJlbnQuciYmci5nPT09dGhpcy5jdXJyZW50LmcmJnIuYj09PXRoaXMuY3VycmVudC5iJiZyLmE9PT10aGlzLmN1cnJlbnQuYXx8KHRoaXMuY3VycmVudD1yLHRoaXMuZ2wudW5pZm9ybTRmKHRoaXMubG9jYXRpb24sci5yLHIuZyxyLmIsci5hKSkpO319Y29uc3QgdG89bmV3IEZsb2F0MzJBcnJheSgxNiksZW89bmV3IEZsb2F0MzJBcnJheSg5KSxybz1uZXcgRmxvYXQzMkFycmF5KDQpO2Z1bmN0aW9uIG5vKHQpe3JldHVybiBbWHMoMjU1KnQuciwyNTUqdC5nKSxYcygyNTUqdC5iLDI1NSp0LmEpXX1jbGFzcyBpb3tjb25zdHJ1Y3Rvcih0LGUscil7dGhpcy52YWx1ZT10LHRoaXMudW5pZm9ybU5hbWVzPWUubWFwKCh0PT5gdV8ke3R9YCkpLHRoaXMudHlwZT1yO31zZXRVbmlmb3JtKHQsZSxyLG4saSl7ZS5zZXQodCxpLG4uY29uc3RhbnRPcih0aGlzLnZhbHVlKSk7fWdldEJpbmRpbmcodCxlKXtyZXR1cm4gXCJjb2xvclwiPT09dGhpcy50eXBlP25ldyBRYSh0KTpuZXcgV2EodCl9fWNsYXNzIHNve2NvbnN0cnVjdG9yKHQsZSl7dGhpcy51bmlmb3JtTmFtZXM9ZS5tYXAoKHQ9PmB1XyR7dH1gKSksdGhpcy5wYXR0ZXJuRnJvbT1udWxsLHRoaXMucGF0dGVyblRvPW51bGwsdGhpcy5waXhlbFJhdGlvRnJvbT0xLHRoaXMucGl4ZWxSYXRpb1RvPTE7fXNldENvbnN0YW50UGF0dGVyblBvc2l0aW9ucyh0LGUpe3RoaXMucGl4ZWxSYXRpb0Zyb209ZS5waXhlbFJhdGlvfHwxLHRoaXMucGl4ZWxSYXRpb1RvPXQucGl4ZWxSYXRpb3x8MSx0aGlzLnBhdHRlcm5Gcm9tPWUudGwuY29uY2F0KGUuYnIpLHRoaXMucGF0dGVyblRvPXQudGwuY29uY2F0KHQuYnIpO31zZXRVbmlmb3JtKHQsZSxyLG4saSl7Y29uc3Qgcz1cInVfcGF0dGVybl90b1wiPT09aXx8XCJ1X2Rhc2hfdG9cIj09PWk/dGhpcy5wYXR0ZXJuVG86XCJ1X3BhdHRlcm5fZnJvbVwiPT09aXx8XCJ1X2Rhc2hfZnJvbVwiPT09aT90aGlzLnBhdHRlcm5Gcm9tOlwidV9waXhlbF9yYXRpb190b1wiPT09aT90aGlzLnBpeGVsUmF0aW9UbzpcInVfcGl4ZWxfcmF0aW9fZnJvbVwiPT09aT90aGlzLnBpeGVsUmF0aW9Gcm9tOm51bGw7cyYmZS5zZXQodCxpLHMpO31nZXRCaW5kaW5nKHQsZSl7cmV0dXJuIFwidV9wYXR0ZXJuX2Zyb21cIj09PWV8fFwidV9wYXR0ZXJuX3RvXCI9PT1lfHxcInVfZGFzaF9mcm9tXCI9PT1lfHxcInVfZGFzaF90b1wiPT09ZT9uZXcgSmEodCk6bmV3IFdhKHQpfX1jbGFzcyBhb3tjb25zdHJ1Y3Rvcih0LGUscixuKXt0aGlzLmV4cHJlc3Npb249dCx0aGlzLnR5cGU9cix0aGlzLm1heFZhbHVlPTAsdGhpcy5wYWludFZlcnRleEF0dHJpYnV0ZXM9ZS5tYXAoKHQ9Pih7bmFtZTpgYV8ke3R9YCx0eXBlOlwiRmxvYXQzMlwiLGNvbXBvbmVudHM6XCJjb2xvclwiPT09cj8yOjEsb2Zmc2V0OjB9KSkpLHRoaXMucGFpbnRWZXJ0ZXhBcnJheT1uZXcgbjt9cG9wdWxhdGVQYWludEFycmF5KHQsZSxyLG4saSxzKXtjb25zdCBhPXRoaXMucGFpbnRWZXJ0ZXhBcnJheS5sZW5ndGgsbz10aGlzLmV4cHJlc3Npb24uZXZhbHVhdGUobmV3IENzKDApLGUse30saSxuLHMpO3RoaXMucGFpbnRWZXJ0ZXhBcnJheS5yZXNpemUodCksdGhpcy5fc2V0UGFpbnRWYWx1ZShhLHQsbyk7fXVwZGF0ZVBhaW50QXJyYXkodCxlLHIsbixpKXtjb25zdCBzPXRoaXMuZXhwcmVzc2lvbi5ldmFsdWF0ZSh7em9vbTowfSxyLG4sdm9pZCAwLGkpO3RoaXMuX3NldFBhaW50VmFsdWUodCxlLHMpO31fc2V0UGFpbnRWYWx1ZSh0LGUscil7aWYoXCJjb2xvclwiPT09dGhpcy50eXBlKXtjb25zdCBuPW5vKHIpO2ZvcihsZXQgcj10O3I8ZTtyKyspdGhpcy5wYWludFZlcnRleEFycmF5LmVtcGxhY2UocixuWzBdLG5bMV0pO31lbHNlIHtmb3IobGV0IG49dDtuPGU7bisrKXRoaXMucGFpbnRWZXJ0ZXhBcnJheS5lbXBsYWNlKG4scik7dGhpcy5tYXhWYWx1ZT1NYXRoLm1heCh0aGlzLm1heFZhbHVlLE1hdGguYWJzKHIpKTt9fXVwbG9hZCh0KXt0aGlzLnBhaW50VmVydGV4QXJyYXkmJnRoaXMucGFpbnRWZXJ0ZXhBcnJheS5hcnJheUJ1ZmZlciYmKHRoaXMucGFpbnRWZXJ0ZXhCdWZmZXImJnRoaXMucGFpbnRWZXJ0ZXhCdWZmZXIuYnVmZmVyP3RoaXMucGFpbnRWZXJ0ZXhCdWZmZXIudXBkYXRlRGF0YSh0aGlzLnBhaW50VmVydGV4QXJyYXkpOnRoaXMucGFpbnRWZXJ0ZXhCdWZmZXI9dC5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy5wYWludFZlcnRleEFycmF5LHRoaXMucGFpbnRWZXJ0ZXhBdHRyaWJ1dGVzLHRoaXMuZXhwcmVzc2lvbi5pc1N0YXRlRGVwZW5kZW50KSk7fWRlc3Ryb3koKXt0aGlzLnBhaW50VmVydGV4QnVmZmVyJiZ0aGlzLnBhaW50VmVydGV4QnVmZmVyLmRlc3Ryb3koKTt9fWNsYXNzIG9ve2NvbnN0cnVjdG9yKHQsZSxyLG4saSxzKXt0aGlzLmV4cHJlc3Npb249dCx0aGlzLnVuaWZvcm1OYW1lcz1lLm1hcCgodD0+YHVfJHt0fV90YCkpLHRoaXMudHlwZT1yLHRoaXMudXNlSW50ZWdlclpvb209bix0aGlzLnpvb209aSx0aGlzLm1heFZhbHVlPTAsdGhpcy5wYWludFZlcnRleEF0dHJpYnV0ZXM9ZS5tYXAoKHQ9Pih7bmFtZTpgYV8ke3R9YCx0eXBlOlwiRmxvYXQzMlwiLGNvbXBvbmVudHM6XCJjb2xvclwiPT09cj80OjIsb2Zmc2V0OjB9KSkpLHRoaXMucGFpbnRWZXJ0ZXhBcnJheT1uZXcgczt9cG9wdWxhdGVQYWludEFycmF5KHQsZSxyLG4saSxzKXtjb25zdCBhPXRoaXMuZXhwcmVzc2lvbi5ldmFsdWF0ZShuZXcgQ3ModGhpcy56b29tKSxlLHt9LGksbixzKSxvPXRoaXMuZXhwcmVzc2lvbi5ldmFsdWF0ZShuZXcgQ3ModGhpcy56b29tKzEpLGUse30saSxuLHMpLGw9dGhpcy5wYWludFZlcnRleEFycmF5Lmxlbmd0aDt0aGlzLnBhaW50VmVydGV4QXJyYXkucmVzaXplKHQpLHRoaXMuX3NldFBhaW50VmFsdWUobCx0LGEsbyk7fXVwZGF0ZVBhaW50QXJyYXkodCxlLHIsbixpKXtjb25zdCBzPXRoaXMuZXhwcmVzc2lvbi5ldmFsdWF0ZSh7em9vbTp0aGlzLnpvb219LHIsbix2b2lkIDAsaSksYT10aGlzLmV4cHJlc3Npb24uZXZhbHVhdGUoe3pvb206dGhpcy56b29tKzF9LHIsbix2b2lkIDAsaSk7dGhpcy5fc2V0UGFpbnRWYWx1ZSh0LGUscyxhKTt9X3NldFBhaW50VmFsdWUodCxlLHIsbil7aWYoXCJjb2xvclwiPT09dGhpcy50eXBlKXtjb25zdCBpPW5vKHIpLHM9bm8obik7Zm9yKGxldCByPXQ7cjxlO3IrKyl0aGlzLnBhaW50VmVydGV4QXJyYXkuZW1wbGFjZShyLGlbMF0saVsxXSxzWzBdLHNbMV0pO31lbHNlIHtmb3IobGV0IGk9dDtpPGU7aSsrKXRoaXMucGFpbnRWZXJ0ZXhBcnJheS5lbXBsYWNlKGkscixuKTt0aGlzLm1heFZhbHVlPU1hdGgubWF4KHRoaXMubWF4VmFsdWUsTWF0aC5hYnMociksTWF0aC5hYnMobikpO319dXBsb2FkKHQpe3RoaXMucGFpbnRWZXJ0ZXhBcnJheSYmdGhpcy5wYWludFZlcnRleEFycmF5LmFycmF5QnVmZmVyJiYodGhpcy5wYWludFZlcnRleEJ1ZmZlciYmdGhpcy5wYWludFZlcnRleEJ1ZmZlci5idWZmZXI/dGhpcy5wYWludFZlcnRleEJ1ZmZlci51cGRhdGVEYXRhKHRoaXMucGFpbnRWZXJ0ZXhBcnJheSk6dGhpcy5wYWludFZlcnRleEJ1ZmZlcj10LmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLnBhaW50VmVydGV4QXJyYXksdGhpcy5wYWludFZlcnRleEF0dHJpYnV0ZXMsdGhpcy5leHByZXNzaW9uLmlzU3RhdGVEZXBlbmRlbnQpKTt9ZGVzdHJveSgpe3RoaXMucGFpbnRWZXJ0ZXhCdWZmZXImJnRoaXMucGFpbnRWZXJ0ZXhCdWZmZXIuZGVzdHJveSgpO31zZXRVbmlmb3JtKHQsZSxyLG4saSl7Y29uc3Qgcz10aGlzLnVzZUludGVnZXJab29tP01hdGguZmxvb3Ioci56b29tKTpyLnpvb20sYT1kKHRoaXMuZXhwcmVzc2lvbi5pbnRlcnBvbGF0aW9uRmFjdG9yKHMsdGhpcy56b29tLHRoaXMuem9vbSsxKSwwLDEpO2Uuc2V0KHQsaSxhKTt9Z2V0QmluZGluZyh0LGUpe3JldHVybiBuZXcgV2EodCl9fWNsYXNzIGxve2NvbnN0cnVjdG9yKHQsZSxyLG4saSxzLGEpe3RoaXMuZXhwcmVzc2lvbj10LHRoaXMudHlwZT1yLHRoaXMudXNlSW50ZWdlclpvb209bix0aGlzLnpvb209aSx0aGlzLmxheWVySWQ9YSx0aGlzLnBhaW50VmVydGV4QXR0cmlidXRlcz0oXCJhcnJheVwiPT09cj8kYTpqYSkubWVtYmVycztmb3IobGV0IHQ9MDt0PGUubGVuZ3RoOysrdCk7dGhpcy56b29tSW5QYWludFZlcnRleEFycmF5PW5ldyBzLHRoaXMuem9vbU91dFBhaW50VmVydGV4QXJyYXk9bmV3IHM7fXBvcHVsYXRlUGFpbnRBcnJheSh0LGUscil7Y29uc3Qgbj10aGlzLnpvb21JblBhaW50VmVydGV4QXJyYXkubGVuZ3RoO3RoaXMuem9vbUluUGFpbnRWZXJ0ZXhBcnJheS5yZXNpemUodCksdGhpcy56b29tT3V0UGFpbnRWZXJ0ZXhBcnJheS5yZXNpemUodCksdGhpcy5fc2V0UGFpbnRWYWx1ZXMobix0LGUucGF0dGVybnMmJmUucGF0dGVybnNbdGhpcy5sYXllcklkXSxyKTt9dXBkYXRlUGFpbnRBcnJheSh0LGUscixuLGkscyl7dGhpcy5fc2V0UGFpbnRWYWx1ZXModCxlLHIucGF0dGVybnMmJnIucGF0dGVybnNbdGhpcy5sYXllcklkXSxzKTt9X3NldFBhaW50VmFsdWVzKHQsZSxyLG4pe2lmKCFufHwhcilyZXR1cm47Y29uc3R7bWluOmksbWlkOnMsbWF4OmF9PXIsbz1uW2ldLGw9bltzXSx1PW5bYV07aWYobyYmbCYmdSlmb3IobGV0IHI9dDtyPGU7cisrKXRoaXMuX3NldFBhaW50VmFsdWUodGhpcy56b29tSW5QYWludFZlcnRleEFycmF5LHIsbCxvKSx0aGlzLl9zZXRQYWludFZhbHVlKHRoaXMuem9vbU91dFBhaW50VmVydGV4QXJyYXkscixsLHUpO31fc2V0UGFpbnRWYWx1ZSh0LGUscixuKXt0LmVtcGxhY2UoZSxyLnRsWzBdLHIudGxbMV0sci5iclswXSxyLmJyWzFdLG4udGxbMF0sbi50bFsxXSxuLmJyWzBdLG4uYnJbMV0sci5waXhlbFJhdGlvLG4ucGl4ZWxSYXRpbyk7fXVwbG9hZCh0KXt0aGlzLnpvb21JblBhaW50VmVydGV4QXJyYXkmJnRoaXMuem9vbUluUGFpbnRWZXJ0ZXhBcnJheS5hcnJheUJ1ZmZlciYmdGhpcy56b29tT3V0UGFpbnRWZXJ0ZXhBcnJheSYmdGhpcy56b29tT3V0UGFpbnRWZXJ0ZXhBcnJheS5hcnJheUJ1ZmZlciYmKHRoaXMuem9vbUluUGFpbnRWZXJ0ZXhCdWZmZXI9dC5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy56b29tSW5QYWludFZlcnRleEFycmF5LHRoaXMucGFpbnRWZXJ0ZXhBdHRyaWJ1dGVzLHRoaXMuZXhwcmVzc2lvbi5pc1N0YXRlRGVwZW5kZW50KSx0aGlzLnpvb21PdXRQYWludFZlcnRleEJ1ZmZlcj10LmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLnpvb21PdXRQYWludFZlcnRleEFycmF5LHRoaXMucGFpbnRWZXJ0ZXhBdHRyaWJ1dGVzLHRoaXMuZXhwcmVzc2lvbi5pc1N0YXRlRGVwZW5kZW50KSk7fWRlc3Ryb3koKXt0aGlzLnpvb21PdXRQYWludFZlcnRleEJ1ZmZlciYmdGhpcy56b29tT3V0UGFpbnRWZXJ0ZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMuem9vbUluUGFpbnRWZXJ0ZXhCdWZmZXImJnRoaXMuem9vbUluUGFpbnRWZXJ0ZXhCdWZmZXIuZGVzdHJveSgpO319Y2xhc3MgdW97Y29uc3RydWN0b3IodCxlLHI9KCgpPT4hMCkpe3RoaXMuYmluZGVycz17fSx0aGlzLl9idWZmZXJzPVtdO2NvbnN0IG49W107Zm9yKGNvbnN0IGkgaW4gdC5wYWludC5fdmFsdWVzKXtpZighcihpKSljb250aW51ZTtjb25zdCBzPXQucGFpbnQuZ2V0KGkpO2lmKCEocyBpbnN0YW5jZW9mIFVzJiZBbihzLnByb3BlcnR5LnNwZWNpZmljYXRpb24pKSljb250aW51ZTtjb25zdCBhPXBvKGksdC50eXBlKSxvPXMudmFsdWUsbD1zLnByb3BlcnR5LnNwZWNpZmljYXRpb24udHlwZSx1PXMucHJvcGVydHkudXNlSW50ZWdlclpvb20sYz1zLnByb3BlcnR5LnNwZWNpZmljYXRpb25bXCJwcm9wZXJ0eS10eXBlXCJdLGg9XCJjcm9zcy1mYWRlZFwiPT09Y3x8XCJjcm9zcy1mYWRlZC1kYXRhLWRyaXZlblwiPT09YyxwPVwibGluZS1kYXNoYXJyYXlcIj09PVN0cmluZyhpKSYmXCJjb25zdGFudFwiIT09dC5sYXlvdXQuZ2V0KFwibGluZS1jYXBcIikudmFsdWUua2luZDtpZihcImNvbnN0YW50XCIhPT1vLmtpbmR8fHApaWYoXCJzb3VyY2VcIj09PW8ua2luZHx8cHx8aCl7Y29uc3Qgcj1tbyhpLGwsXCJzb3VyY2VcIik7dGhpcy5iaW5kZXJzW2ldPWg/bmV3IGxvKG8sYSxsLHUsZSxyLHQuaWQpOm5ldyBhbyhvLGEsbCxyKSxuLnB1c2goYC9hXyR7aX1gKTt9ZWxzZSB7Y29uc3QgdD1tbyhpLGwsXCJjb21wb3NpdGVcIik7dGhpcy5iaW5kZXJzW2ldPW5ldyBvbyhvLGEsbCx1LGUsdCksbi5wdXNoKGAvel8ke2l9YCk7fWVsc2UgdGhpcy5iaW5kZXJzW2ldPWg/bmV3IHNvKG8udmFsdWUsYSk6bmV3IGlvKG8udmFsdWUsYSxsKSxuLnB1c2goYC91XyR7aX1gKTt9dGhpcy5jYWNoZUtleT1uLnNvcnQoKS5qb2luKFwiXCIpO31nZXRNYXhWYWx1ZSh0KXtjb25zdCBlPXRoaXMuYmluZGVyc1t0XTtyZXR1cm4gZSBpbnN0YW5jZW9mIGFvfHxlIGluc3RhbmNlb2Ygb28/ZS5tYXhWYWx1ZTowfXBvcHVsYXRlUGFpbnRBcnJheXModCxlLHIsbixpLHMpe2Zvcihjb25zdCBhIGluIHRoaXMuYmluZGVycyl7Y29uc3Qgbz10aGlzLmJpbmRlcnNbYV07KG8gaW5zdGFuY2VvZiBhb3x8byBpbnN0YW5jZW9mIG9vfHxvIGluc3RhbmNlb2YgbG8pJiZvLnBvcHVsYXRlUGFpbnRBcnJheSh0LGUscixuLGkscyk7fX1zZXRDb25zdGFudFBhdHRlcm5Qb3NpdGlvbnModCxlKXtmb3IoY29uc3QgciBpbiB0aGlzLmJpbmRlcnMpe2NvbnN0IG49dGhpcy5iaW5kZXJzW3JdO24gaW5zdGFuY2VvZiBzbyYmbi5zZXRDb25zdGFudFBhdHRlcm5Qb3NpdGlvbnModCxlKTt9fXVwZGF0ZVBhaW50QXJyYXlzKHQsZSxyLG4saSxzKXtsZXQgYT0hMTtmb3IoY29uc3QgbyBpbiB0KXtjb25zdCBsPWUuZ2V0UG9zaXRpb25zKG8pO2Zvcihjb25zdCBlIG9mIGwpe2NvbnN0IGw9ci5mZWF0dXJlKGUuaW5kZXgpO2Zvcihjb25zdCByIGluIHRoaXMuYmluZGVycyl7Y29uc3QgdT10aGlzLmJpbmRlcnNbcl07aWYoKHUgaW5zdGFuY2VvZiBhb3x8dSBpbnN0YW5jZW9mIG9vfHx1IGluc3RhbmNlb2YgbG8pJiYhMD09PXUuZXhwcmVzc2lvbi5pc1N0YXRlRGVwZW5kZW50KXtjb25zdCBjPW4ucGFpbnQuZ2V0KHIpO3UuZXhwcmVzc2lvbj1jLnZhbHVlLHUudXBkYXRlUGFpbnRBcnJheShlLnN0YXJ0LGUuZW5kLGwsdFtvXSxpLHMpLGE9ITA7fX19fXJldHVybiBhfWRlZmluZXMoKXtjb25zdCB0PVtdO2Zvcihjb25zdCBlIGluIHRoaXMuYmluZGVycyl7Y29uc3Qgcj10aGlzLmJpbmRlcnNbZV07KHIgaW5zdGFuY2VvZiBpb3x8ciBpbnN0YW5jZW9mIHNvKSYmdC5wdXNoKC4uLnIudW5pZm9ybU5hbWVzLm1hcCgodD0+YCNkZWZpbmUgSEFTX1VOSUZPUk1fJHt0fWApKSk7fXJldHVybiB0fWdldEJpbmRlckF0dHJpYnV0ZXMoKXtjb25zdCB0PVtdO2Zvcihjb25zdCBlIGluIHRoaXMuYmluZGVycyl7Y29uc3Qgcj10aGlzLmJpbmRlcnNbZV07aWYociBpbnN0YW5jZW9mIGFvfHxyIGluc3RhbmNlb2Ygb298fHIgaW5zdGFuY2VvZiBsbylmb3IobGV0IGU9MDtlPHIucGFpbnRWZXJ0ZXhBdHRyaWJ1dGVzLmxlbmd0aDtlKyspdC5wdXNoKHIucGFpbnRWZXJ0ZXhBdHRyaWJ1dGVzW2VdLm5hbWUpO31yZXR1cm4gdH1nZXRCaW5kZXJVbmlmb3Jtcygpe2NvbnN0IHQ9W107Zm9yKGNvbnN0IGUgaW4gdGhpcy5iaW5kZXJzKXtjb25zdCByPXRoaXMuYmluZGVyc1tlXTtpZihyIGluc3RhbmNlb2YgaW98fHIgaW5zdGFuY2VvZiBzb3x8ciBpbnN0YW5jZW9mIG9vKWZvcihjb25zdCBlIG9mIHIudW5pZm9ybU5hbWVzKXQucHVzaChlKTt9cmV0dXJuIHR9Z2V0UGFpbnRWZXJ0ZXhCdWZmZXJzKCl7cmV0dXJuIHRoaXMuX2J1ZmZlcnN9Z2V0VW5pZm9ybXModCl7Y29uc3QgZT1bXTtmb3IoY29uc3QgciBpbiB0aGlzLmJpbmRlcnMpe2NvbnN0IG49dGhpcy5iaW5kZXJzW3JdO2lmKG4gaW5zdGFuY2VvZiBpb3x8biBpbnN0YW5jZW9mIHNvfHxuIGluc3RhbmNlb2Ygb28pZm9yKGNvbnN0IGkgb2Ygbi51bmlmb3JtTmFtZXMpZS5wdXNoKHtuYW1lOmkscHJvcGVydHk6cixiaW5kaW5nOm4uZ2V0QmluZGluZyh0LGkpfSk7fXJldHVybiBlfXNldFVuaWZvcm1zKHQsZSxyLG4saSl7Zm9yKGNvbnN0e25hbWU6ZSxwcm9wZXJ0eTpzLGJpbmRpbmc6YX1vZiByKXRoaXMuYmluZGVyc1tzXS5zZXRVbmlmb3JtKHQsYSxpLG4uZ2V0KHMpLGUpO311cGRhdGVQYWludEJ1ZmZlcnModCl7dGhpcy5fYnVmZmVycz1bXTtmb3IoY29uc3QgZSBpbiB0aGlzLmJpbmRlcnMpe2NvbnN0IHI9dGhpcy5iaW5kZXJzW2VdO2lmKHQmJnIgaW5zdGFuY2VvZiBsbyl7Y29uc3QgZT0yPT09dC5mcm9tU2NhbGU/ci56b29tSW5QYWludFZlcnRleEJ1ZmZlcjpyLnpvb21PdXRQYWludFZlcnRleEJ1ZmZlcjtlJiZ0aGlzLl9idWZmZXJzLnB1c2goZSk7fWVsc2UgKHIgaW5zdGFuY2VvZiBhb3x8ciBpbnN0YW5jZW9mIG9vKSYmci5wYWludFZlcnRleEJ1ZmZlciYmdGhpcy5fYnVmZmVycy5wdXNoKHIucGFpbnRWZXJ0ZXhCdWZmZXIpO319dXBsb2FkKHQpe2Zvcihjb25zdCBlIGluIHRoaXMuYmluZGVycyl7Y29uc3Qgcj10aGlzLmJpbmRlcnNbZV07KHIgaW5zdGFuY2VvZiBhb3x8ciBpbnN0YW5jZW9mIG9vfHxyIGluc3RhbmNlb2YgbG8pJiZyLnVwbG9hZCh0KTt9dGhpcy51cGRhdGVQYWludEJ1ZmZlcnMoKTt9ZGVzdHJveSgpe2Zvcihjb25zdCB0IGluIHRoaXMuYmluZGVycyl7Y29uc3QgZT10aGlzLmJpbmRlcnNbdF07KGUgaW5zdGFuY2VvZiBhb3x8ZSBpbnN0YW5jZW9mIG9vfHxlIGluc3RhbmNlb2YgbG8pJiZlLmRlc3Ryb3koKTt9fX1jbGFzcyBjb3tjb25zdHJ1Y3Rvcih0LGUscj0oKCk9PiEwKSl7dGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnM9e307Zm9yKGNvbnN0IG4gb2YgdCl0aGlzLnByb2dyYW1Db25maWd1cmF0aW9uc1tuLmlkXT1uZXcgdW8obixlLHIpO3RoaXMubmVlZHNVcGxvYWQ9ITEsdGhpcy5fZmVhdHVyZU1hcD1uZXcgWmEsdGhpcy5fYnVmZmVyT2Zmc2V0PTA7fXBvcHVsYXRlUGFpbnRBcnJheXModCxlLHIsbixpLHMsYSl7Zm9yKGNvbnN0IHIgaW4gdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMpdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnNbcl0ucG9wdWxhdGVQYWludEFycmF5cyh0LGUsbixpLHMsYSk7dm9pZCAwIT09ZS5pZCYmdGhpcy5fZmVhdHVyZU1hcC5hZGQoZS5pZCxyLHRoaXMuX2J1ZmZlck9mZnNldCx0KSx0aGlzLl9idWZmZXJPZmZzZXQ9dCx0aGlzLm5lZWRzVXBsb2FkPSEwO311cGRhdGVQYWludEFycmF5cyh0LGUscixuLGkpe2Zvcihjb25zdCBzIG9mIHIpdGhpcy5uZWVkc1VwbG9hZD10aGlzLnByb2dyYW1Db25maWd1cmF0aW9uc1tzLmlkXS51cGRhdGVQYWludEFycmF5cyh0LHRoaXMuX2ZlYXR1cmVNYXAsZSxzLG4saSl8fHRoaXMubmVlZHNVcGxvYWQ7fWdldCh0KXtyZXR1cm4gdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnNbdF19dXBsb2FkKHQpe2lmKHRoaXMubmVlZHNVcGxvYWQpe2Zvcihjb25zdCBlIGluIHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zKXRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zW2VdLnVwbG9hZCh0KTt0aGlzLm5lZWRzVXBsb2FkPSExO319ZGVzdHJveSgpe2Zvcihjb25zdCB0IGluIHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zKXRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zW3RdLmRlc3Ryb3koKTt9fWNvbnN0IGhvPXtcInRleHQtb3BhY2l0eVwiOltcIm9wYWNpdHlcIl0sXCJpY29uLW9wYWNpdHlcIjpbXCJvcGFjaXR5XCJdLFwidGV4dC1jb2xvclwiOltcImZpbGxfY29sb3JcIl0sXCJpY29uLWNvbG9yXCI6W1wiZmlsbF9jb2xvclwiXSxcInRleHQtaGFsby1jb2xvclwiOltcImhhbG9fY29sb3JcIl0sXCJpY29uLWhhbG8tY29sb3JcIjpbXCJoYWxvX2NvbG9yXCJdLFwidGV4dC1oYWxvLWJsdXJcIjpbXCJoYWxvX2JsdXJcIl0sXCJpY29uLWhhbG8tYmx1clwiOltcImhhbG9fYmx1clwiXSxcInRleHQtaGFsby13aWR0aFwiOltcImhhbG9fd2lkdGhcIl0sXCJpY29uLWhhbG8td2lkdGhcIjpbXCJoYWxvX3dpZHRoXCJdLFwibGluZS1nYXAtd2lkdGhcIjpbXCJnYXB3aWR0aFwiXSxcImxpbmUtcGF0dGVyblwiOltcInBhdHRlcm5fdG9cIixcInBhdHRlcm5fZnJvbVwiLFwicGl4ZWxfcmF0aW9fdG9cIixcInBpeGVsX3JhdGlvX2Zyb21cIl0sXCJmaWxsLXBhdHRlcm5cIjpbXCJwYXR0ZXJuX3RvXCIsXCJwYXR0ZXJuX2Zyb21cIixcInBpeGVsX3JhdGlvX3RvXCIsXCJwaXhlbF9yYXRpb19mcm9tXCJdLFwiZmlsbC1leHRydXNpb24tcGF0dGVyblwiOltcInBhdHRlcm5fdG9cIixcInBhdHRlcm5fZnJvbVwiLFwicGl4ZWxfcmF0aW9fdG9cIixcInBpeGVsX3JhdGlvX2Zyb21cIl0sXCJsaW5lLWRhc2hhcnJheVwiOltcImRhc2hfdG9cIixcImRhc2hfZnJvbVwiXX07ZnVuY3Rpb24gcG8odCxlKXtyZXR1cm4gaG9bdF18fFt0LnJlcGxhY2UoYCR7ZX0tYCxcIlwiKS5yZXBsYWNlKC8tL2csXCJfXCIpXX1jb25zdCBmbz17XCJsaW5lLXBhdHRlcm5cIjp7c291cmNlOmlhLGNvbXBvc2l0ZTppYX0sXCJmaWxsLXBhdHRlcm5cIjp7c291cmNlOmlhLGNvbXBvc2l0ZTppYX0sXCJmaWxsLWV4dHJ1c2lvbi1wYXR0ZXJuXCI6e3NvdXJjZTppYSxjb21wb3NpdGU6aWF9LFwibGluZS1kYXNoYXJyYXlcIjp7c291cmNlOnNhLGNvbXBvc2l0ZTpzYX19LHlvPXtjb2xvcjp7c291cmNlOkFhLGNvbXBvc2l0ZTpuYX0sbnVtYmVyOntzb3VyY2U6eGEsY29tcG9zaXRlOkFhfX07ZnVuY3Rpb24gbW8odCxlLHIpe2NvbnN0IG49Zm9bdF07cmV0dXJuIG4mJm5bcl18fHlvW2VdW3JdfVBpKGlvLFwiQ29uc3RhbnRCaW5kZXJcIiksUGkoc28sXCJDcm9zc0ZhZGVkQ29uc3RhbnRCaW5kZXJcIiksUGkoYW8sXCJTb3VyY2VFeHByZXNzaW9uQmluZGVyXCIpLFBpKGxvLFwiQ3Jvc3NGYWRlZENvbXBvc2l0ZUJpbmRlclwiKSxQaShvbyxcIkNvbXBvc2l0ZUV4cHJlc3Npb25CaW5kZXJcIiksUGkodW8sXCJQcm9ncmFtQ29uZmlndXJhdGlvblwiLHtvbWl0OltcIl9idWZmZXJzXCJdfSksUGkoY28sXCJQcm9ncmFtQ29uZmlndXJhdGlvblNldFwiKTtjb25zdCBnbz1cIi10cmFuc2l0aW9uXCI7Y2xhc3MgeG8gZXh0ZW5kcyBOdHtjb25zdHJ1Y3Rvcih0LGUpe2lmKHN1cGVyKCksdGhpcy5pZD10LmlkLHRoaXMudHlwZT10LnR5cGUsdGhpcy5fZmVhdHVyZUZpbHRlcj17ZmlsdGVyOigpPT4hMCxuZWVkR2VvbWV0cnk6ITEsbmVlZEZlYXR1cmU6ITF9LHRoaXMuX2ZpbHRlckNvbXBpbGVkPSExLFwiY3VzdG9tXCIhPT10LnR5cGUmJih0aGlzLm1ldGFkYXRhPSh0PXQpLm1ldGFkYXRhLHRoaXMubWluem9vbT10Lm1pbnpvb20sdGhpcy5tYXh6b29tPXQubWF4em9vbSxcImJhY2tncm91bmRcIiE9PXQudHlwZSYmXCJza3lcIiE9PXQudHlwZSYmKHRoaXMuc291cmNlPXQuc291cmNlLHRoaXMuc291cmNlTGF5ZXI9dFtcInNvdXJjZS1sYXllclwiXSx0aGlzLmZpbHRlcj10LmZpbHRlciksZS5sYXlvdXQmJih0aGlzLl91bmV2YWx1YXRlZExheW91dD1uZXcgUnMoZS5sYXlvdXQpKSxlLnBhaW50KSl7dGhpcy5fdHJhbnNpdGlvbmFibGVQYWludD1uZXcgVnMoZS5wYWludCk7Zm9yKGNvbnN0IGUgaW4gdC5wYWludCl0aGlzLnNldFBhaW50UHJvcGVydHkoZSx0LnBhaW50W2VdLHt2YWxpZGF0ZTohMX0pO2Zvcihjb25zdCBlIGluIHQubGF5b3V0KXRoaXMuc2V0TGF5b3V0UHJvcGVydHkoZSx0LmxheW91dFtlXSx7dmFsaWRhdGU6ITF9KTt0aGlzLl90cmFuc2l0aW9uaW5nUGFpbnQ9dGhpcy5fdHJhbnNpdGlvbmFibGVQYWludC51bnRyYW5zaXRpb25lZCgpLHRoaXMucGFpbnQ9bmV3IGpzKGUucGFpbnQpO319Z2V0Q3Jvc3NmYWRlUGFyYW1ldGVycygpe3JldHVybiB0aGlzLl9jcm9zc2ZhZGVQYXJhbWV0ZXJzfWdldExheW91dFByb3BlcnR5KHQpe3JldHVybiBcInZpc2liaWxpdHlcIj09PXQ/dGhpcy52aXNpYmlsaXR5OnRoaXMuX3VuZXZhbHVhdGVkTGF5b3V0LmdldFZhbHVlKHQpfXNldExheW91dFByb3BlcnR5KHQsZSxyPXt9KXtudWxsIT1lJiZ0aGlzLl92YWxpZGF0ZShNaSxgbGF5ZXJzLiR7dGhpcy5pZH0ubGF5b3V0LiR7dH1gLHQsZSxyKXx8KFwidmlzaWJpbGl0eVwiIT09dD90aGlzLl91bmV2YWx1YXRlZExheW91dC5zZXRWYWx1ZSh0LGUpOnRoaXMudmlzaWJpbGl0eT1lKTt9Z2V0UGFpbnRQcm9wZXJ0eSh0KXtyZXR1cm4gSSh0LGdvKT90aGlzLl90cmFuc2l0aW9uYWJsZVBhaW50LmdldFRyYW5zaXRpb24odC5zbGljZSgwLC1nby5sZW5ndGgpKTp0aGlzLl90cmFuc2l0aW9uYWJsZVBhaW50LmdldFZhbHVlKHQpfXNldFBhaW50UHJvcGVydHkodCxlLHI9e30pe2lmKG51bGwhPWUmJnRoaXMuX3ZhbGlkYXRlKElpLGBsYXllcnMuJHt0aGlzLmlkfS5wYWludC4ke3R9YCx0LGUscikpcmV0dXJuICExO2lmKEkodCxnbykpcmV0dXJuIHRoaXMuX3RyYW5zaXRpb25hYmxlUGFpbnQuc2V0VHJhbnNpdGlvbih0LnNsaWNlKDAsLWdvLmxlbmd0aCksZXx8dm9pZCAwKSwhMTt7Y29uc3Qgcj10aGlzLl90cmFuc2l0aW9uYWJsZVBhaW50Ll92YWx1ZXNbdF0sbj1cImNyb3NzLWZhZGVkLWRhdGEtZHJpdmVuXCI9PT1yLnByb3BlcnR5LnNwZWNpZmljYXRpb25bXCJwcm9wZXJ0eS10eXBlXCJdLGk9ci52YWx1ZS5pc0RhdGFEcml2ZW4oKSxzPXIudmFsdWU7dGhpcy5fdHJhbnNpdGlvbmFibGVQYWludC5zZXRWYWx1ZSh0LGUpLHRoaXMuX2hhbmRsZVNwZWNpYWxQYWludFByb3BlcnR5VXBkYXRlKHQpO2NvbnN0IGE9dGhpcy5fdHJhbnNpdGlvbmFibGVQYWludC5fdmFsdWVzW3RdLnZhbHVlO3JldHVybiBhLmlzRGF0YURyaXZlbigpfHxpfHxufHx0aGlzLl9oYW5kbGVPdmVycmlkYWJsZVBhaW50UHJvcGVydHlVcGRhdGUodCxzLGEpfX1faGFuZGxlU3BlY2lhbFBhaW50UHJvcGVydHlVcGRhdGUodCl7fWdldFByb2dyYW1JZHMoKXtyZXR1cm4gbnVsbH1nZXRQcm9ncmFtQ29uZmlndXJhdGlvbih0KXtyZXR1cm4gbnVsbH1faGFuZGxlT3ZlcnJpZGFibGVQYWludFByb3BlcnR5VXBkYXRlKHQsZSxyKXtyZXR1cm4gITF9aXNIaWRkZW4odCl7cmV0dXJuICEhKHRoaXMubWluem9vbSYmdDx0aGlzLm1pbnpvb20pfHwhISh0aGlzLm1heHpvb20mJnQ+PXRoaXMubWF4em9vbSl8fFwibm9uZVwiPT09dGhpcy52aXNpYmlsaXR5fXVwZGF0ZVRyYW5zaXRpb25zKHQpe3RoaXMuX3RyYW5zaXRpb25pbmdQYWludD10aGlzLl90cmFuc2l0aW9uYWJsZVBhaW50LnRyYW5zaXRpb25lZCh0LHRoaXMuX3RyYW5zaXRpb25pbmdQYWludCk7fWhhc1RyYW5zaXRpb24oKXtyZXR1cm4gdGhpcy5fdHJhbnNpdGlvbmluZ1BhaW50Lmhhc1RyYW5zaXRpb24oKX1yZWNhbGN1bGF0ZSh0LGUpe3QuZ2V0Q3Jvc3NmYWRlUGFyYW1ldGVycyYmKHRoaXMuX2Nyb3NzZmFkZVBhcmFtZXRlcnM9dC5nZXRDcm9zc2ZhZGVQYXJhbWV0ZXJzKCkpLHRoaXMuX3VuZXZhbHVhdGVkTGF5b3V0JiYodGhpcy5sYXlvdXQ9dGhpcy5fdW5ldmFsdWF0ZWRMYXlvdXQucG9zc2libHlFdmFsdWF0ZSh0LHZvaWQgMCxlKSksdGhpcy5wYWludD10aGlzLl90cmFuc2l0aW9uaW5nUGFpbnQucG9zc2libHlFdmFsdWF0ZSh0LHZvaWQgMCxlKTt9c2VyaWFsaXplKCl7Y29uc3QgdD17aWQ6dGhpcy5pZCx0eXBlOnRoaXMudHlwZSxzb3VyY2U6dGhpcy5zb3VyY2UsXCJzb3VyY2UtbGF5ZXJcIjp0aGlzLnNvdXJjZUxheWVyLG1ldGFkYXRhOnRoaXMubWV0YWRhdGEsbWluem9vbTp0aGlzLm1pbnpvb20sbWF4em9vbTp0aGlzLm1heHpvb20sZmlsdGVyOnRoaXMuZmlsdGVyLGxheW91dDp0aGlzLl91bmV2YWx1YXRlZExheW91dCYmdGhpcy5fdW5ldmFsdWF0ZWRMYXlvdXQuc2VyaWFsaXplKCkscGFpbnQ6dGhpcy5fdHJhbnNpdGlvbmFibGVQYWludCYmdGhpcy5fdHJhbnNpdGlvbmFibGVQYWludC5zZXJpYWxpemUoKX07cmV0dXJuIHRoaXMudmlzaWJpbGl0eSYmKHQubGF5b3V0PXQubGF5b3V0fHx7fSx0LmxheW91dC52aXNpYmlsaXR5PXRoaXMudmlzaWJpbGl0eSkseih0LCgodCxlKT0+ISh2b2lkIDA9PT10fHxcImxheW91dFwiPT09ZSYmIU9iamVjdC5rZXlzKHQpLmxlbmd0aHx8XCJwYWludFwiPT09ZSYmIU9iamVjdC5rZXlzKHQpLmxlbmd0aCkpKX1fdmFsaWRhdGUodCxlLHIsbixpPXt9KXtyZXR1cm4gKCFpfHwhMSE9PWkudmFsaWRhdGUpJiZUaSh0aGlzLHQuY2FsbChraSx7a2V5OmUsbGF5ZXJUeXBlOnRoaXMudHlwZSxvYmplY3RLZXk6cix2YWx1ZTpuLHN0eWxlU3BlYzpHdCxzdHlsZTp7Z2x5cGhzOiEwLHNwcml0ZTohMH19KSl9aXMzRCgpe3JldHVybiAhMX1pc1NreSgpe3JldHVybiAhMX1pc1RpbGVDbGlwcGVkKCl7cmV0dXJuICExfWhhc09mZnNjcmVlblBhc3MoKXtyZXR1cm4gITF9cmVzaXplKCl7fWlzU3RhdGVEZXBlbmRlbnQoKXtmb3IoY29uc3QgdCBpbiB0aGlzLnBhaW50Ll92YWx1ZXMpe2NvbnN0IGU9dGhpcy5wYWludC5nZXQodCk7aWYoZSBpbnN0YW5jZW9mIFVzJiZBbihlLnByb3BlcnR5LnNwZWNpZmljYXRpb24pJiYoXCJzb3VyY2VcIj09PWUudmFsdWUua2luZHx8XCJjb21wb3NpdGVcIj09PWUudmFsdWUua2luZCkmJmUudmFsdWUuaXNTdGF0ZURlcGVuZGVudClyZXR1cm4gITB9cmV0dXJuICExfWNvbXBpbGVGaWx0ZXIoKXt0aGlzLl9maWx0ZXJDb21waWxlZHx8KHRoaXMuX2ZlYXR1cmVGaWx0ZXI9Sm4odGhpcy5maWx0ZXIpLHRoaXMuX2ZpbHRlckNvbXBpbGVkPSEwKTt9aW52YWxpZGF0ZUNvbXBpbGVkRmlsdGVyKCl7dGhpcy5fZmlsdGVyQ29tcGlsZWQ9ITE7fWR5bmFtaWNGaWx0ZXIoKXtyZXR1cm4gdGhpcy5fZmVhdHVyZUZpbHRlci5keW5hbWljRmlsdGVyfWR5bmFtaWNGaWx0ZXJOZWVkc0ZlYXR1cmUoKXtyZXR1cm4gdGhpcy5fZmVhdHVyZUZpbHRlci5uZWVkRmVhdHVyZX19Y29uc3Qgdm89V3MoW3tuYW1lOlwiYV9wb3NcIixjb21wb25lbnRzOjIsdHlwZTpcIkludDE2XCJ9XSw0KSxibz1Xcyhbe25hbWU6XCJhX3Bvc18zXCIsY29tcG9uZW50czozLHR5cGU6XCJJbnQxNlwifSx7bmFtZTpcImFfcG9zX25vcm1hbF8zXCIsY29tcG9uZW50czozLHR5cGU6XCJJbnQxNlwifV0pO2NsYXNzIF9ve2NvbnN0cnVjdG9yKHQ9W10pe3RoaXMuc2VnbWVudHM9dDt9cHJlcGFyZVNlZ21lbnQodCxlLHIsbil7bGV0IGk9dGhpcy5zZWdtZW50c1t0aGlzLnNlZ21lbnRzLmxlbmd0aC0xXTtyZXR1cm4gdD5fby5NQVhfVkVSVEVYX0FSUkFZX0xFTkdUSCYmRShgTWF4IHZlcnRpY2VzIHBlciBzZWdtZW50IGlzICR7X28uTUFYX1ZFUlRFWF9BUlJBWV9MRU5HVEh9OiBidWNrZXQgcmVxdWVzdGVkICR7dH1gKSwoIWl8fGkudmVydGV4TGVuZ3RoK3Q+X28uTUFYX1ZFUlRFWF9BUlJBWV9MRU5HVEh8fGkuc29ydEtleSE9PW4pJiYoaT17dmVydGV4T2Zmc2V0OmUubGVuZ3RoLHByaW1pdGl2ZU9mZnNldDpyLmxlbmd0aCx2ZXJ0ZXhMZW5ndGg6MCxwcmltaXRpdmVMZW5ndGg6MH0sdm9pZCAwIT09biYmKGkuc29ydEtleT1uKSx0aGlzLnNlZ21lbnRzLnB1c2goaSkpLGl9Z2V0KCl7cmV0dXJuIHRoaXMuc2VnbWVudHN9ZGVzdHJveSgpe2Zvcihjb25zdCB0IG9mIHRoaXMuc2VnbWVudHMpZm9yKGNvbnN0IGUgaW4gdC52YW9zKXQudmFvc1tlXS5kZXN0cm95KCk7fXN0YXRpYyBzaW1wbGVTZWdtZW50KHQsZSxyLG4pe3JldHVybiBuZXcgX28oW3t2ZXJ0ZXhPZmZzZXQ6dCxwcmltaXRpdmVPZmZzZXQ6ZSx2ZXJ0ZXhMZW5ndGg6cixwcmltaXRpdmVMZW5ndGg6bix2YW9zOnt9LHNvcnRLZXk6MH1dKX19X28uTUFYX1ZFUlRFWF9BUlJBWV9MRU5HVEg9TWF0aC5wb3coMiwxNiktMSxQaShfbyxcIlNlZ21lbnRWZWN0b3JcIik7dmFyIHdvPTgxOTI7Y2xhc3MgQW97Y29uc3RydWN0b3IodCxlKXt0JiYoZT90aGlzLnNldFNvdXRoV2VzdCh0KS5zZXROb3J0aEVhc3QoZSk6ND09PXQubGVuZ3RoP3RoaXMuc2V0U291dGhXZXN0KFt0WzBdLHRbMV1dKS5zZXROb3J0aEVhc3QoW3RbMl0sdFszXV0pOnRoaXMuc2V0U291dGhXZXN0KHRbMF0pLnNldE5vcnRoRWFzdCh0WzFdKSk7fXNldE5vcnRoRWFzdCh0KXtyZXR1cm4gdGhpcy5fbmU9dCBpbnN0YW5jZW9mIGtvP25ldyBrbyh0LmxuZyx0LmxhdCk6a28uY29udmVydCh0KSx0aGlzfXNldFNvdXRoV2VzdCh0KXtyZXR1cm4gdGhpcy5fc3c9dCBpbnN0YW5jZW9mIGtvP25ldyBrbyh0LmxuZyx0LmxhdCk6a28uY29udmVydCh0KSx0aGlzfWV4dGVuZCh0KXtjb25zdCBlPXRoaXMuX3N3LHI9dGhpcy5fbmU7bGV0IG4saTtpZih0IGluc3RhbmNlb2Yga28pbj10LGk9dDtlbHNlIHtpZighKHQgaW5zdGFuY2VvZiBBbykpcmV0dXJuIEFycmF5LmlzQXJyYXkodCk/ND09PXQubGVuZ3RofHx0LmV2ZXJ5KEFycmF5LmlzQXJyYXkpP3RoaXMuZXh0ZW5kKEFvLmNvbnZlcnQodCkpOnRoaXMuZXh0ZW5kKGtvLmNvbnZlcnQodCkpOnRoaXM7aWYobj10Ll9zdyxpPXQuX25lLCFufHwhaSlyZXR1cm4gdGhpc31yZXR1cm4gZXx8cj8oZS5sbmc9TWF0aC5taW4obi5sbmcsZS5sbmcpLGUubGF0PU1hdGgubWluKG4ubGF0LGUubGF0KSxyLmxuZz1NYXRoLm1heChpLmxuZyxyLmxuZyksci5sYXQ9TWF0aC5tYXgoaS5sYXQsci5sYXQpKToodGhpcy5fc3c9bmV3IGtvKG4ubG5nLG4ubGF0KSx0aGlzLl9uZT1uZXcga28oaS5sbmcsaS5sYXQpKSx0aGlzfWdldENlbnRlcigpe3JldHVybiBuZXcga28oKHRoaXMuX3N3LmxuZyt0aGlzLl9uZS5sbmcpLzIsKHRoaXMuX3N3LmxhdCt0aGlzLl9uZS5sYXQpLzIpfWdldFNvdXRoV2VzdCgpe3JldHVybiB0aGlzLl9zd31nZXROb3J0aEVhc3QoKXtyZXR1cm4gdGhpcy5fbmV9Z2V0Tm9ydGhXZXN0KCl7cmV0dXJuIG5ldyBrbyh0aGlzLmdldFdlc3QoKSx0aGlzLmdldE5vcnRoKCkpfWdldFNvdXRoRWFzdCgpe3JldHVybiBuZXcga28odGhpcy5nZXRFYXN0KCksdGhpcy5nZXRTb3V0aCgpKX1nZXRXZXN0KCl7cmV0dXJuIHRoaXMuX3N3LmxuZ31nZXRTb3V0aCgpe3JldHVybiB0aGlzLl9zdy5sYXR9Z2V0RWFzdCgpe3JldHVybiB0aGlzLl9uZS5sbmd9Z2V0Tm9ydGgoKXtyZXR1cm4gdGhpcy5fbmUubGF0fXRvQXJyYXkoKXtyZXR1cm4gW3RoaXMuX3N3LnRvQXJyYXkoKSx0aGlzLl9uZS50b0FycmF5KCldfXRvU3RyaW5nKCl7cmV0dXJuIGBMbmdMYXRCb3VuZHMoJHt0aGlzLl9zdy50b1N0cmluZygpfSwgJHt0aGlzLl9uZS50b1N0cmluZygpfSlgfWlzRW1wdHkoKXtyZXR1cm4gISh0aGlzLl9zdyYmdGhpcy5fbmUpfWNvbnRhaW5zKHQpe2NvbnN0e2xuZzplLGxhdDpyfT1rby5jb252ZXJ0KHQpO2xldCBuPXRoaXMuX3N3LmxuZzw9ZSYmZTw9dGhpcy5fbmUubG5nO3JldHVybiB0aGlzLl9zdy5sbmc+dGhpcy5fbmUubG5nJiYobj10aGlzLl9zdy5sbmc+PWUmJmU+PXRoaXMuX25lLmxuZyksdGhpcy5fc3cubGF0PD1yJiZyPD10aGlzLl9uZS5sYXQmJm59c3RhdGljIGNvbnZlcnQodCl7cmV0dXJuICF0fHx0IGluc3RhbmNlb2YgQW8/dDpuZXcgQW8odCl9fWNvbnN0IFNvPTYzNzEwMDguODtjbGFzcyBrb3tjb25zdHJ1Y3Rvcih0LGUpe2lmKGlzTmFOKHQpfHxpc05hTihlKSl0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgTG5nTGF0IG9iamVjdDogKCR7dH0sICR7ZX0pYCk7aWYodGhpcy5sbmc9K3QsdGhpcy5sYXQ9K2UsdGhpcy5sYXQ+OTB8fHRoaXMubGF0PC05MCl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIExuZ0xhdCBsYXRpdHVkZSB2YWx1ZTogbXVzdCBiZSBiZXR3ZWVuIC05MCBhbmQgOTBcIil9d3JhcCgpe3JldHVybiBuZXcga28obSh0aGlzLmxuZywtMTgwLDE4MCksdGhpcy5sYXQpfXRvQXJyYXkoKXtyZXR1cm4gW3RoaXMubG5nLHRoaXMubGF0XX10b1N0cmluZygpe3JldHVybiBgTG5nTGF0KCR7dGhpcy5sbmd9LCAke3RoaXMubGF0fSlgfWRpc3RhbmNlVG8odCl7Y29uc3QgZT1NYXRoLlBJLzE4MCxyPXRoaXMubGF0KmUsbj10LmxhdCplLGk9TWF0aC5zaW4ocikqTWF0aC5zaW4obikrTWF0aC5jb3MocikqTWF0aC5jb3MobikqTWF0aC5jb3MoKHQubG5nLXRoaXMubG5nKSplKTtyZXR1cm4gU28qTWF0aC5hY29zKE1hdGgubWluKGksMSkpfXRvQm91bmRzKHQ9MCl7Y29uc3QgZT0zNjAqdC80MDA3NTAxNyxyPWUvTWF0aC5jb3MoTWF0aC5QSS8xODAqdGhpcy5sYXQpO3JldHVybiBuZXcgQW8obmV3IGtvKHRoaXMubG5nLXIsdGhpcy5sYXQtZSksbmV3IGtvKHRoaXMubG5nK3IsdGhpcy5sYXQrZSkpfXN0YXRpYyBjb252ZXJ0KHQpe2lmKHQgaW5zdGFuY2VvZiBrbylyZXR1cm4gdDtpZihBcnJheS5pc0FycmF5KHQpJiYoMj09PXQubGVuZ3RofHwzPT09dC5sZW5ndGgpKXJldHVybiBuZXcga28oTnVtYmVyKHRbMF0pLE51bWJlcih0WzFdKSk7aWYoIUFycmF5LmlzQXJyYXkodCkmJlwib2JqZWN0XCI9PXR5cGVvZiB0JiZudWxsIT09dClyZXR1cm4gbmV3IGtvKE51bWJlcihcImxuZ1wiaW4gdD90LmxuZzp0LmxvbiksTnVtYmVyKHQubGF0KSk7dGhyb3cgbmV3IEVycm9yKFwiYExuZ0xhdExpa2VgIGFyZ3VtZW50IG11c3QgYmUgc3BlY2lmaWVkIGFzIGEgTG5nTGF0IGluc3RhbmNlLCBhbiBvYmplY3Qge2xuZzogPGxuZz4sIGxhdDogPGxhdD59LCBhbiBvYmplY3Qge2xvbjogPGxuZz4sIGxhdDogPGxhdD59LCBvciBhbiBhcnJheSBvZiBbPGxuZz4sIDxsYXQ+XVwiKX19Y29uc3QgSW89MipNYXRoLlBJKlNvO2Z1bmN0aW9uIE1vKHQpe3JldHVybiBJbypNYXRoLmNvcyh0Kk1hdGguUEkvMTgwKX1mdW5jdGlvbiB6byh0KXtyZXR1cm4gKDE4MCt0KS8zNjB9ZnVuY3Rpb24gVG8odCl7cmV0dXJuICgxODAtMTgwL01hdGguUEkqTWF0aC5sb2coTWF0aC50YW4oTWF0aC5QSS80K3QqTWF0aC5QSS8zNjApKSkvMzYwfWZ1bmN0aW9uIEJvKHQsZSl7cmV0dXJuIHQvTW8oZSl9ZnVuY3Rpb24gRW8odCl7cmV0dXJuIDM2MCp0LTE4MH1mdW5jdGlvbiBDbyh0KXtyZXR1cm4gMzYwL01hdGguUEkqTWF0aC5hdGFuKE1hdGguZXhwKCgxODAtMzYwKnQpKk1hdGguUEkvMTgwKSktOTB9ZnVuY3Rpb24gUG8odCxlKXtyZXR1cm4gdCpNbyhDbyhlKSl9Y29uc3QgRG89ODUuMDUxMTI5O2Z1bmN0aW9uIFZvKHQpe3JldHVybiAxL01hdGguY29zKHQqTWF0aC5QSS8xODApfWNsYXNzIEZve2NvbnN0cnVjdG9yKHQsZSxyPTApe3RoaXMueD0rdCx0aGlzLnk9K2UsdGhpcy56PStyO31zdGF0aWMgZnJvbUxuZ0xhdCh0LGU9MCl7Y29uc3Qgcj1rby5jb252ZXJ0KHQpO3JldHVybiBuZXcgRm8oem8oci5sbmcpLFRvKHIubGF0KSxCbyhlLHIubGF0KSl9dG9MbmdMYXQoKXtyZXR1cm4gbmV3IGtvKEVvKHRoaXMueCksQ28odGhpcy55KSl9dG9BbHRpdHVkZSgpe3JldHVybiBQbyh0aGlzLnosdGhpcy55KX1tZXRlckluTWVyY2F0b3JDb29yZGluYXRlVW5pdHMoKXtyZXR1cm4gMS9JbypWbyhDbyh0aGlzLnkpKX19ZnVuY3Rpb24gTG8odCxlLHIsbixzLGEsbyxsLHUpe2NvbnN0IGM9KGUrbikvMixoPShyK3MpLzIscD1uZXcgaShjLGgpO2wocCksZnVuY3Rpb24odCxlLHIsbixpLHMpe2NvbnN0IGE9ci1pLG89bi1zO3JldHVybiBNYXRoLmFicygobi1lKSphLShyLXQpKm8pL01hdGguaHlwb3QoYSxvKX0ocC54LHAueSxhLngsYS55LG8ueCxvLnkpPj11PyhMbyh0LGUscixjLGgsYSxwLGwsdSksTG8odCxjLGgsbixzLHAsbyxsLHUpKTp0LnB1c2gobyk7fWZ1bmN0aW9uIFJvKHQsZSxyKXtsZXQgbj10WzBdLGk9bi54LHM9bi55O2Uobik7Y29uc3QgYT1bbl07Zm9yKGxldCBvPTE7bzx0Lmxlbmd0aDtvKyspe2NvbnN0IGw9dFtvXSx7eDp1LHk6Y309bDtlKGwpLExvKGEsaSxzLHUsYyxuLGwsZSxyKSxpPXUscz1jLG49bDt9cmV0dXJuIGF9ZnVuY3Rpb24gVW8odCxlLHIsbixpKXtpZihpKGUscikpe2NvbnN0IHM9ZS5hZGQocikubXVsdCguNSk7bihzKSxVbyh0LGUscyxuLGkpLFVvKHQscyxyLG4saSk7fWVsc2UgdC5wdXNoKHIpO31mdW5jdGlvbiBqbyh0LGUscil7bGV0IG49dFswXTtlKG4pO2NvbnN0IGk9W25dO2ZvcihsZXQgcz0xO3M8dC5sZW5ndGg7cysrKXtjb25zdCBhPXRbc107ZShhKSxVbyhpLG4sYSxlLHIpLG49YTt9cmV0dXJuIGl9Y29uc3QgJG89TWF0aC5wb3coMiwxNCktMSxPbz0tJG8tMTtmdW5jdGlvbiBxbyh0LGUpe2NvbnN0IHI9TWF0aC5yb3VuZCh0LngqZSksbj1NYXRoLnJvdW5kKHQueSplKTtyZXR1cm4gdC54PWQocixPbywkbyksdC55PWQobixPbywkbyksKHI8dC54fHxyPnQueCsxfHxuPHQueXx8bj50LnkrMSkmJkUoXCJHZW9tZXRyeSBleGNlZWRzIGFsbG93ZWQgZXh0ZW50LCByZWR1Y2UgeW91ciB2ZWN0b3IgdGlsZSBidWZmZXIgc2l6ZVwiKSx0fWZ1bmN0aW9uIE5vKHQsZSxyKXtjb25zdCBuPXQubG9hZEdlb21ldHJ5KCksaT10LmV4dGVudCxzPXdvL2k7aWYoZSYmciYmci5wcm9qZWN0aW9uLmlzUmVwcm9qZWN0ZWRJblRpbGVTcGFjZSl7Y29uc3Qgcz0xPDxlLnose3NjYWxlOmEseDpvLHk6bCxwcm9qZWN0aW9uOnV9PXIsYz10PT57Y29uc3Qgcj1FbygoZS54K3QueC9pKS9zKSxuPUNvKChlLnkrdC55L2kpL3MpLGM9dS5wcm9qZWN0KHIsbik7dC54PShjLngqYS1vKSppLHQueT0oYy55KmEtbCkqaTt9O2ZvcihsZXQgZT0wO2U8bi5sZW5ndGg7ZSsrKWlmKDEhPT10LnR5cGUpbltlXT1SbyhuW2VdLGMsMSk7ZWxzZSB7Y29uc3QgdD1bXTtmb3IoY29uc3QgciBvZiBuW2VdKXIueDwwfHxyLng+PWl8fHIueTwwfHxyLnk+PWl8fChjKHIpLHQucHVzaChyKSk7bltlXT10O319Zm9yKGNvbnN0IHQgb2Ygbilmb3IoY29uc3QgZSBvZiB0KXFvKGUscyk7cmV0dXJuIG59ZnVuY3Rpb24gR28odCxlKXtyZXR1cm4ge3R5cGU6dC50eXBlLGlkOnQuaWQscHJvcGVydGllczp0LnByb3BlcnRpZXMsZ2VvbWV0cnk6ZT9Obyh0KTpbXX19ZnVuY3Rpb24gWm8odCxlLHIsbixpKXt0LmVtcGxhY2VCYWNrKDIqZSsobisxKS8yLDIqcisoaSsxKS8yKTt9ZnVuY3Rpb24gWG8odCxlLHIpe2NvbnN0IG49MTYzODQ7dC5lbXBsYWNlQmFjayhlLngsZS55LGUueixyWzBdKm4sclsxXSpuLHJbMl0qbik7fWNsYXNzIEtve2NvbnN0cnVjdG9yKHQpe3RoaXMuem9vbT10Lnpvb20sdGhpcy5vdmVyc2NhbGluZz10Lm92ZXJzY2FsaW5nLHRoaXMubGF5ZXJzPXQubGF5ZXJzLHRoaXMubGF5ZXJJZHM9dGhpcy5sYXllcnMubWFwKCh0PT50LmlkKSksdGhpcy5pbmRleD10LmluZGV4LHRoaXMuaGFzUGF0dGVybj0hMSx0aGlzLnByb2plY3Rpb249dC5wcm9qZWN0aW9uLHRoaXMubGF5b3V0VmVydGV4QXJyYXk9bmV3IFFzLHRoaXMuaW5kZXhBcnJheT1uZXcgeWEsdGhpcy5zZWdtZW50cz1uZXcgX28sdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnM9bmV3IGNvKHQubGF5ZXJzLHQuem9vbSksdGhpcy5zdGF0ZURlcGVuZGVudExheWVySWRzPXRoaXMubGF5ZXJzLmZpbHRlcigodD0+dC5pc1N0YXRlRGVwZW5kZW50KCkpKS5tYXAoKHQ9PnQuaWQpKTt9cG9wdWxhdGUodCxlLHIsbil7Y29uc3QgaT10aGlzLmxheWVyc1swXSxzPVtdO2xldCBhPW51bGw7XCJjaXJjbGVcIj09PWkudHlwZSYmKGE9aS5sYXlvdXQuZ2V0KFwiY2lyY2xlLXNvcnQta2V5XCIpKTtmb3IoY29uc3R7ZmVhdHVyZTplLGlkOmksaW5kZXg6byxzb3VyY2VMYXllckluZGV4Omx9b2YgdCl7Y29uc3QgdD10aGlzLmxheWVyc1swXS5fZmVhdHVyZUZpbHRlci5uZWVkR2VvbWV0cnksdT1HbyhlLHQpO2lmKCF0aGlzLmxheWVyc1swXS5fZmVhdHVyZUZpbHRlci5maWx0ZXIobmV3IENzKHRoaXMuem9vbSksdSxyKSljb250aW51ZTtjb25zdCBjPWE/YS5ldmFsdWF0ZSh1LHt9LHIpOnZvaWQgMCxoPXtpZDppLHByb3BlcnRpZXM6ZS5wcm9wZXJ0aWVzLHR5cGU6ZS50eXBlLHNvdXJjZUxheWVySW5kZXg6bCxpbmRleDpvLGdlb21ldHJ5OnQ/dS5nZW9tZXRyeTpObyhlLHIsbikscGF0dGVybnM6e30sc29ydEtleTpjfTtzLnB1c2goaCk7fWEmJnMuc29ydCgoKHQsZSk9PnQuc29ydEtleS1lLnNvcnRLZXkpKTtsZXQgbz1udWxsO1wiZ2xvYmVcIj09PW4ucHJvamVjdGlvbi5uYW1lJiYodGhpcy5nbG9iZUV4dFZlcnRleEFycmF5PW5ldyBVYSxvPW4ucHJvamVjdGlvbik7Zm9yKGNvbnN0IG4gb2Ygcyl7Y29uc3R7Z2VvbWV0cnk6aSxpbmRleDpzLHNvdXJjZUxheWVySW5kZXg6YX09bixsPXRbc10uZmVhdHVyZTt0aGlzLmFkZEZlYXR1cmUobixpLHMsZS5hdmFpbGFibGVJbWFnZXMscixvKSxlLmZlYXR1cmVJbmRleC5pbnNlcnQobCxpLHMsYSx0aGlzLmluZGV4KTt9fXVwZGF0ZSh0LGUscixuKXt0aGlzLnN0YXRlRGVwZW5kZW50TGF5ZXJzLmxlbmd0aCYmdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMudXBkYXRlUGFpbnRBcnJheXModCxlLHRoaXMuc3RhdGVEZXBlbmRlbnRMYXllcnMscixuKTt9aXNFbXB0eSgpe3JldHVybiAwPT09dGhpcy5sYXlvdXRWZXJ0ZXhBcnJheS5sZW5ndGh9dXBsb2FkUGVuZGluZygpe3JldHVybiAhdGhpcy51cGxvYWRlZHx8dGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMubmVlZHNVcGxvYWR9dXBsb2FkKHQpe3RoaXMudXBsb2FkZWR8fCh0aGlzLmxheW91dFZlcnRleEJ1ZmZlcj10LmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLmxheW91dFZlcnRleEFycmF5LHZvLm1lbWJlcnMpLHRoaXMuaW5kZXhCdWZmZXI9dC5jcmVhdGVJbmRleEJ1ZmZlcih0aGlzLmluZGV4QXJyYXkpLHRoaXMuZ2xvYmVFeHRWZXJ0ZXhBcnJheSYmKHRoaXMuZ2xvYmVFeHRWZXJ0ZXhCdWZmZXI9dC5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy5nbG9iZUV4dFZlcnRleEFycmF5LGJvLm1lbWJlcnMpKSksdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMudXBsb2FkKHQpLHRoaXMudXBsb2FkZWQ9ITA7fWRlc3Ryb3koKXt0aGlzLmxheW91dFZlcnRleEJ1ZmZlciYmKHRoaXMubGF5b3V0VmVydGV4QnVmZmVyLmRlc3Ryb3koKSx0aGlzLmluZGV4QnVmZmVyLmRlc3Ryb3koKSx0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy5kZXN0cm95KCksdGhpcy5zZWdtZW50cy5kZXN0cm95KCksdGhpcy5nbG9iZUV4dFZlcnRleEJ1ZmZlciYmdGhpcy5nbG9iZUV4dFZlcnRleEJ1ZmZlci5kZXN0cm95KCkpO31hZGRGZWF0dXJlKHQsZSxyLG4saSxzKXtmb3IoY29uc3QgciBvZiBlKWZvcihjb25zdCBlIG9mIHIpe2NvbnN0IHI9ZS54LG49ZS55O2lmKHI8MHx8cj49d298fG48MHx8bj49d28pY29udGludWU7aWYocyl7Y29uc3QgdD1zLnByb2plY3RUaWxlUG9pbnQocixuLGkpLGU9cy51cFZlY3RvcihpLHIsbiksYT10aGlzLmdsb2JlRXh0VmVydGV4QXJyYXk7WG8oYSx0LGUpLFhvKGEsdCxlKSxYbyhhLHQsZSksWG8oYSx0LGUpO31jb25zdCBhPXRoaXMuc2VnbWVudHMucHJlcGFyZVNlZ21lbnQoNCx0aGlzLmxheW91dFZlcnRleEFycmF5LHRoaXMuaW5kZXhBcnJheSx0LnNvcnRLZXkpLG89YS52ZXJ0ZXhMZW5ndGg7Wm8odGhpcy5sYXlvdXRWZXJ0ZXhBcnJheSxyLG4sLTEsLTEpLFpvKHRoaXMubGF5b3V0VmVydGV4QXJyYXkscixuLDEsLTEpLFpvKHRoaXMubGF5b3V0VmVydGV4QXJyYXkscixuLDEsMSksWm8odGhpcy5sYXlvdXRWZXJ0ZXhBcnJheSxyLG4sLTEsMSksdGhpcy5pbmRleEFycmF5LmVtcGxhY2VCYWNrKG8sbysxLG8rMiksdGhpcy5pbmRleEFycmF5LmVtcGxhY2VCYWNrKG8sbysyLG8rMyksYS52ZXJ0ZXhMZW5ndGgrPTQsYS5wcmltaXRpdmVMZW5ndGgrPTI7fXRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnBvcHVsYXRlUGFpbnRBcnJheXModGhpcy5sYXlvdXRWZXJ0ZXhBcnJheS5sZW5ndGgsdCxyLHt9LG4saSk7fX1mdW5jdGlvbiBIbyh0LGUpe2ZvcihsZXQgcj0wO3I8dC5sZW5ndGg7cisrKWlmKGlsKGUsdFtyXSkpcmV0dXJuICEwO2ZvcihsZXQgcj0wO3I8ZS5sZW5ndGg7cisrKWlmKGlsKHQsZVtyXSkpcmV0dXJuICEwO3JldHVybiAhIVFvKHQsZSl9ZnVuY3Rpb24gWW8odCxlLHIpe3JldHVybiAhIWlsKHQsZSl8fCEhZWwoZSx0LHIpfWZ1bmN0aW9uIFdvKHQsZSl7aWYoMT09PXQubGVuZ3RoKXJldHVybiBubChlLHRbMF0pO2ZvcihsZXQgcj0wO3I8ZS5sZW5ndGg7cisrKXtjb25zdCBuPWVbcl07Zm9yKGxldCBlPTA7ZTxuLmxlbmd0aDtlKyspaWYoaWwodCxuW2VdKSlyZXR1cm4gITB9Zm9yKGxldCByPTA7cjx0Lmxlbmd0aDtyKyspaWYobmwoZSx0W3JdKSlyZXR1cm4gITA7Zm9yKGxldCByPTA7cjxlLmxlbmd0aDtyKyspaWYoUW8odCxlW3JdKSlyZXR1cm4gITA7cmV0dXJuICExfWZ1bmN0aW9uIEpvKHQsZSxyKXtpZih0Lmxlbmd0aD4xKXtpZihRbyh0LGUpKXJldHVybiAhMDtmb3IobGV0IG49MDtuPGUubGVuZ3RoO24rKylpZihlbChlW25dLHQscikpcmV0dXJuICEwfWZvcihsZXQgbj0wO248dC5sZW5ndGg7bisrKWlmKGVsKHRbbl0sZSxyKSlyZXR1cm4gITA7cmV0dXJuICExfWZ1bmN0aW9uIFFvKHQsZSl7aWYoMD09PXQubGVuZ3RofHwwPT09ZS5sZW5ndGgpcmV0dXJuICExO2ZvcihsZXQgcj0wO3I8dC5sZW5ndGgtMTtyKyspe2NvbnN0IG49dFtyXSxpPXRbcisxXTtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoLTE7dCsrKWlmKHRsKG4saSxlW3RdLGVbdCsxXSkpcmV0dXJuICEwfXJldHVybiAhMX1mdW5jdGlvbiB0bCh0LGUscixuKXtyZXR1cm4gQyh0LHIsbikhPT1DKGUscixuKSYmQyh0LGUscikhPT1DKHQsZSxuKX1mdW5jdGlvbiBlbCh0LGUscil7Y29uc3Qgbj1yKnI7aWYoMT09PWUubGVuZ3RoKXJldHVybiB0LmRpc3RTcXIoZVswXSk8bjtmb3IobGV0IHI9MTtyPGUubGVuZ3RoO3IrKylpZihybCh0LGVbci0xXSxlW3JdKTxuKXJldHVybiAhMDtyZXR1cm4gITF9ZnVuY3Rpb24gcmwodCxlLHIpe2NvbnN0IG49ZS5kaXN0U3FyKHIpO2lmKDA9PT1uKXJldHVybiB0LmRpc3RTcXIoZSk7Y29uc3QgaT0oKHQueC1lLngpKihyLngtZS54KSsodC55LWUueSkqKHIueS1lLnkpKS9uO3JldHVybiB0LmRpc3RTcXIoaTwwP2U6aT4xP3I6ci5zdWIoZSkuX211bHQoaSkuX2FkZChlKSl9ZnVuY3Rpb24gbmwodCxlKXtsZXQgcixuLGkscz0hMTtmb3IobGV0IGE9MDthPHQubGVuZ3RoO2ErKyl7cj10W2FdO2ZvcihsZXQgdD0wLGE9ci5sZW5ndGgtMTt0PHIubGVuZ3RoO2E9dCsrKW49clt0XSxpPXJbYV0sbi55PmUueSE9aS55PmUueSYmZS54PChpLngtbi54KSooZS55LW4ueSkvKGkueS1uLnkpK24ueCYmKHM9IXMpO31yZXR1cm4gc31mdW5jdGlvbiBpbCh0LGUpe2xldCByPSExO2ZvcihsZXQgbj0wLGk9dC5sZW5ndGgtMTtuPHQubGVuZ3RoO2k9bisrKXtjb25zdCBzPXRbbl0sYT10W2ldO3MueT5lLnkhPWEueT5lLnkmJmUueDwoYS54LXMueCkqKGUueS1zLnkpLyhhLnktcy55KStzLngmJihyPSFyKTt9cmV0dXJuIHJ9ZnVuY3Rpb24gc2wodCxlLHIsbixzKXtmb3IoY29uc3QgaSBvZiB0KWlmKGU8PWkueCYmcjw9aS55JiZuPj1pLngmJnM+PWkueSlyZXR1cm4gITA7Y29uc3QgYT1bbmV3IGkoZSxyKSxuZXcgaShlLHMpLG5ldyBpKG4scyksbmV3IGkobixyKV07aWYodC5sZW5ndGg+Milmb3IoY29uc3QgZSBvZiBhKWlmKGlsKHQsZSkpcmV0dXJuICEwO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGgtMTtlKyspaWYoYWwodFtlXSx0W2UrMV0sYSkpcmV0dXJuICEwO3JldHVybiAhMX1mdW5jdGlvbiBhbCh0LGUscil7Y29uc3Qgbj1yWzBdLGk9clsyXTtpZih0Lng8bi54JiZlLng8bi54fHx0Lng+aS54JiZlLng+aS54fHx0Lnk8bi55JiZlLnk8bi55fHx0Lnk+aS55JiZlLnk+aS55KXJldHVybiAhMTtjb25zdCBzPUModCxlLHJbMF0pO3JldHVybiBzIT09Qyh0LGUsclsxXSl8fHMhPT1DKHQsZSxyWzJdKXx8cyE9PUModCxlLHJbM10pfWZ1bmN0aW9uIG9sKHQsZSxyKXtjb25zdCBuPWUucGFpbnQuZ2V0KHQpLnZhbHVlO3JldHVybiBcImNvbnN0YW50XCI9PT1uLmtpbmQ/bi52YWx1ZTpyLnByb2dyYW1Db25maWd1cmF0aW9ucy5nZXQoZS5pZCkuZ2V0TWF4VmFsdWUodCl9ZnVuY3Rpb24gbGwodCl7cmV0dXJuIE1hdGguc3FydCh0WzBdKnRbMF0rdFsxXSp0WzFdKX1mdW5jdGlvbiB1bCh0LGUscixuLHMpe2lmKCFlWzBdJiYhZVsxXSlyZXR1cm4gdDtjb25zdCBhPWkuY29udmVydChlKS5fbXVsdChzKTtcInZpZXdwb3J0XCI9PT1yJiZhLl9yb3RhdGUoLW4pO2NvbnN0IG89W107Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDtlKyspby5wdXNoKHRbZV0uc3ViKGEpKTtyZXR1cm4gb31mdW5jdGlvbiBjbCh0LGUscixuKXtjb25zdCBzPWkuY29udmVydCh0KS5fbXVsdChuKTtyZXR1cm4gXCJ2aWV3cG9ydFwiPT09ZSYmcy5fcm90YXRlKC1yKSxzfVBpKEtvLFwiQ2lyY2xlQnVja2V0XCIse29taXQ6W1wibGF5ZXJzXCJdfSk7Y29uc3QgaGw9bmV3IFpzKHtcImNpcmNsZS1zb3J0LWtleVwiOm5ldyBPcyhHdC5sYXlvdXRfY2lyY2xlW1wiY2lyY2xlLXNvcnQta2V5XCJdKX0pO3ZhciBwbD17cGFpbnQ6bmV3IFpzKHtcImNpcmNsZS1yYWRpdXNcIjpuZXcgT3MoR3QucGFpbnRfY2lyY2xlW1wiY2lyY2xlLXJhZGl1c1wiXSksXCJjaXJjbGUtY29sb3JcIjpuZXcgT3MoR3QucGFpbnRfY2lyY2xlW1wiY2lyY2xlLWNvbG9yXCJdKSxcImNpcmNsZS1ibHVyXCI6bmV3IE9zKEd0LnBhaW50X2NpcmNsZVtcImNpcmNsZS1ibHVyXCJdKSxcImNpcmNsZS1vcGFjaXR5XCI6bmV3IE9zKEd0LnBhaW50X2NpcmNsZVtcImNpcmNsZS1vcGFjaXR5XCJdKSxcImNpcmNsZS10cmFuc2xhdGVcIjpuZXcgJHMoR3QucGFpbnRfY2lyY2xlW1wiY2lyY2xlLXRyYW5zbGF0ZVwiXSksXCJjaXJjbGUtdHJhbnNsYXRlLWFuY2hvclwiOm5ldyAkcyhHdC5wYWludF9jaXJjbGVbXCJjaXJjbGUtdHJhbnNsYXRlLWFuY2hvclwiXSksXCJjaXJjbGUtcGl0Y2gtc2NhbGVcIjpuZXcgJHMoR3QucGFpbnRfY2lyY2xlW1wiY2lyY2xlLXBpdGNoLXNjYWxlXCJdKSxcImNpcmNsZS1waXRjaC1hbGlnbm1lbnRcIjpuZXcgJHMoR3QucGFpbnRfY2lyY2xlW1wiY2lyY2xlLXBpdGNoLWFsaWdubWVudFwiXSksXCJjaXJjbGUtc3Ryb2tlLXdpZHRoXCI6bmV3IE9zKEd0LnBhaW50X2NpcmNsZVtcImNpcmNsZS1zdHJva2Utd2lkdGhcIl0pLFwiY2lyY2xlLXN0cm9rZS1jb2xvclwiOm5ldyBPcyhHdC5wYWludF9jaXJjbGVbXCJjaXJjbGUtc3Ryb2tlLWNvbG9yXCJdKSxcImNpcmNsZS1zdHJva2Utb3BhY2l0eVwiOm5ldyBPcyhHdC5wYWludF9jaXJjbGVbXCJjaXJjbGUtc3Ryb2tlLW9wYWNpdHlcIl0pfSksbGF5b3V0OmhsfSxmbD0xZS02LGRsPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBGbG9hdDMyQXJyYXk/RmxvYXQzMkFycmF5OkFycmF5O2Z1bmN0aW9uIHlsKCl7dmFyIHQ9bmV3IGRsKDkpO3JldHVybiBkbCE9RmxvYXQzMkFycmF5JiYodFsxXT0wLHRbMl09MCx0WzNdPTAsdFs1XT0wLHRbNl09MCx0WzddPTApLHRbMF09MSx0WzRdPTEsdFs4XT0xLHR9ZnVuY3Rpb24gbWwodCl7cmV0dXJuIHRbMF09MSx0WzFdPTAsdFsyXT0wLHRbM109MCx0WzRdPTAsdFs1XT0xLHRbNl09MCx0WzddPTAsdFs4XT0wLHRbOV09MCx0WzEwXT0xLHRbMTFdPTAsdFsxMl09MCx0WzEzXT0wLHRbMTRdPTAsdFsxNV09MSx0fWZ1bmN0aW9uIGdsKHQsZSl7dmFyIHI9ZVswXSxuPWVbMV0saT1lWzJdLHM9ZVszXSxhPWVbNF0sbz1lWzVdLGw9ZVs2XSx1PWVbN10sYz1lWzhdLGg9ZVs5XSxwPWVbMTBdLGY9ZVsxMV0sZD1lWzEyXSx5PWVbMTNdLG09ZVsxNF0sZz1lWzE1XSx4PXIqby1uKmEsdj1yKmwtaSphLGI9cip1LXMqYSxfPW4qbC1pKm8sdz1uKnUtcypvLEE9aSp1LXMqbCxTPWMqeS1oKmQsaz1jKm0tcCpkLEk9YypnLWYqZCxNPWgqbS1wKnksej1oKmctZip5LFQ9cCpnLWYqbSxCPXgqVC12KnorYipNK18qSS13KmsrQSpTO3JldHVybiBCPyh0WzBdPShvKlQtbCp6K3UqTSkqKEI9MS9CKSx0WzFdPShpKnotbipULXMqTSkqQix0WzJdPSh5KkEtbSp3K2cqXykqQix0WzNdPShwKnctaCpBLWYqXykqQix0WzRdPShsKkktYSpULXUqaykqQix0WzVdPShyKlQtaSpJK3MqaykqQix0WzZdPShtKmItZCpBLWcqdikqQix0WzddPShjKkEtcCpiK2YqdikqQix0WzhdPShhKnotbypJK3UqUykqQix0WzldPShuKkktcip6LXMqUykqQix0WzEwXT0oZCp3LXkqYitnKngpKkIsdFsxMV09KGgqYi1jKnctZip4KSpCLHRbMTJdPShvKmstYSpNLWwqUykqQix0WzEzXT0ocipNLW4qaytpKlMpKkIsdFsxNF09KHkqdi1kKl8tbSp4KSpCLHRbMTVdPShjKl8taCp2K3AqeCkqQix0KTpudWxsfWZ1bmN0aW9uIHhsKHQsZSxyKXt2YXIgbj1lWzBdLGk9ZVsxXSxzPWVbMl0sYT1lWzNdLG89ZVs0XSxsPWVbNV0sdT1lWzZdLGM9ZVs3XSxoPWVbOF0scD1lWzldLGY9ZVsxMF0sZD1lWzExXSx5PWVbMTJdLG09ZVsxM10sZz1lWzE0XSx4PWVbMTVdLHY9clswXSxiPXJbMV0sXz1yWzJdLHc9clszXTtyZXR1cm4gdFswXT12Km4rYipvK18qaCt3KnksdFsxXT12KmkrYipsK18qcCt3Km0sdFsyXT12KnMrYip1K18qZit3KmcsdFszXT12KmErYipjK18qZCt3KngsdFs0XT0odj1yWzRdKSpuKyhiPXJbNV0pKm8rKF89cls2XSkqaCsodz1yWzddKSp5LHRbNV09dippK2IqbCtfKnArdyptLHRbNl09dipzK2IqdStfKmYrdypnLHRbN109diphK2IqYytfKmQrdyp4LHRbOF09KHY9cls4XSkqbisoYj1yWzldKSpvKyhfPXJbMTBdKSpoKyh3PXJbMTFdKSp5LHRbOV09dippK2IqbCtfKnArdyptLHRbMTBdPXYqcytiKnUrXypmK3cqZyx0WzExXT12KmErYipjK18qZCt3KngsdFsxMl09KHY9clsxMl0pKm4rKGI9clsxM10pKm8rKF89clsxNF0pKmgrKHc9clsxNV0pKnksdFsxM109dippK2IqbCtfKnArdyptLHRbMTRdPXYqcytiKnUrXypmK3cqZyx0WzE1XT12KmErYipjK18qZCt3KngsdH1mdW5jdGlvbiB2bCh0LGUscil7dmFyIG4saSxzLGEsbyxsLHUsYyxoLHAsZixkLHk9clswXSxtPXJbMV0sZz1yWzJdO3JldHVybiBlPT09dD8odFsxMl09ZVswXSp5K2VbNF0qbStlWzhdKmcrZVsxMl0sdFsxM109ZVsxXSp5K2VbNV0qbStlWzldKmcrZVsxM10sdFsxNF09ZVsyXSp5K2VbNl0qbStlWzEwXSpnK2VbMTRdLHRbMTVdPWVbM10qeStlWzddKm0rZVsxMV0qZytlWzE1XSk6KGk9ZVsxXSxzPWVbMl0sYT1lWzNdLG89ZVs0XSxsPWVbNV0sdT1lWzZdLGM9ZVs3XSxoPWVbOF0scD1lWzldLGY9ZVsxMF0sZD1lWzExXSx0WzBdPW49ZVswXSx0WzFdPWksdFsyXT1zLHRbM109YSx0WzRdPW8sdFs1XT1sLHRbNl09dSx0WzddPWMsdFs4XT1oLHRbOV09cCx0WzEwXT1mLHRbMTFdPWQsdFsxMl09bip5K28qbStoKmcrZVsxMl0sdFsxM109aSp5K2wqbStwKmcrZVsxM10sdFsxNF09cyp5K3UqbStmKmcrZVsxNF0sdFsxNV09YSp5K2MqbStkKmcrZVsxNV0pLHR9ZnVuY3Rpb24gYmwodCxlLHIpe3ZhciBuPXJbMF0saT1yWzFdLHM9clsyXTtyZXR1cm4gdFswXT1lWzBdKm4sdFsxXT1lWzFdKm4sdFsyXT1lWzJdKm4sdFszXT1lWzNdKm4sdFs0XT1lWzRdKmksdFs1XT1lWzVdKmksdFs2XT1lWzZdKmksdFs3XT1lWzddKmksdFs4XT1lWzhdKnMsdFs5XT1lWzldKnMsdFsxMF09ZVsxMF0qcyx0WzExXT1lWzExXSpzLHRbMTJdPWVbMTJdLHRbMTNdPWVbMTNdLHRbMTRdPWVbMTRdLHRbMTVdPWVbMTVdLHR9ZnVuY3Rpb24gX2wodCxlLHIpe3ZhciBuPU1hdGguc2luKHIpLGk9TWF0aC5jb3Mocikscz1lWzRdLGE9ZVs1XSxvPWVbNl0sbD1lWzddLHU9ZVs4XSxjPWVbOV0saD1lWzEwXSxwPWVbMTFdO3JldHVybiBlIT09dCYmKHRbMF09ZVswXSx0WzFdPWVbMV0sdFsyXT1lWzJdLHRbM109ZVszXSx0WzEyXT1lWzEyXSx0WzEzXT1lWzEzXSx0WzE0XT1lWzE0XSx0WzE1XT1lWzE1XSksdFs0XT1zKmkrdSpuLHRbNV09YSppK2Mqbix0WzZdPW8qaStoKm4sdFs3XT1sKmkrcCpuLHRbOF09dSppLXMqbix0WzldPWMqaS1hKm4sdFsxMF09aCppLW8qbix0WzExXT1wKmktbCpuLHR9ZnVuY3Rpb24gd2wodCxlLHIpe3ZhciBuPU1hdGguc2luKHIpLGk9TWF0aC5jb3Mocikscz1lWzBdLGE9ZVsxXSxvPWVbMl0sbD1lWzNdLHU9ZVs4XSxjPWVbOV0saD1lWzEwXSxwPWVbMTFdO3JldHVybiBlIT09dCYmKHRbNF09ZVs0XSx0WzVdPWVbNV0sdFs2XT1lWzZdLHRbN109ZVs3XSx0WzEyXT1lWzEyXSx0WzEzXT1lWzEzXSx0WzE0XT1lWzE0XSx0WzE1XT1lWzE1XSksdFswXT1zKmktdSpuLHRbMV09YSppLWMqbix0WzJdPW8qaS1oKm4sdFszXT1sKmktcCpuLHRbOF09cypuK3UqaSx0WzldPWEqbitjKmksdFsxMF09bypuK2gqaSx0WzExXT1sKm4rcCppLHR9ZnVuY3Rpb24gQWwodCxlKXtyZXR1cm4gdFswXT1lWzBdLHRbMV09MCx0WzJdPTAsdFszXT0wLHRbNF09MCx0WzVdPWVbMV0sdFs2XT0wLHRbN109MCx0WzhdPTAsdFs5XT0wLHRbMTBdPWVbMl0sdFsxMV09MCx0WzEyXT0wLHRbMTNdPTAsdFsxNF09MCx0WzE1XT0xLHR9ZnVuY3Rpb24gU2wodCxlLHIpe3ZhciBuLGkscyxhPXJbMF0sbz1yWzFdLGw9clsyXSx1PU1hdGguaHlwb3QoYSxvLGwpO3JldHVybiB1PGZsP251bGw6KGEqPXU9MS91LG8qPXUsbCo9dSxuPU1hdGguc2luKGUpLGk9TWF0aC5jb3MoZSksdFswXT1hKmEqKHM9MS1pKStpLHRbMV09byphKnMrbCpuLHRbMl09bCphKnMtbypuLHRbM109MCx0WzRdPWEqbypzLWwqbix0WzVdPW8qbypzK2ksdFs2XT1sKm8qcythKm4sdFs3XT0wLHRbOF09YSpsKnMrbypuLHRbOV09bypsKnMtYSpuLHRbMTBdPWwqbCpzK2ksdFsxMV09MCx0WzEyXT0wLHRbMTNdPTAsdFsxNF09MCx0WzE1XT0xLHQpfU1hdGguaHlwb3R8fChNYXRoLmh5cG90PWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTAsZT1hcmd1bWVudHMubGVuZ3RoO2UtLTspdCs9YXJndW1lbnRzW2VdKmFyZ3VtZW50c1tlXTtyZXR1cm4gTWF0aC5zcXJ0KHQpfSk7dmFyIGtsPXhsO2Z1bmN0aW9uIElsKCl7dmFyIHQ9bmV3IGRsKDMpO3JldHVybiBkbCE9RmxvYXQzMkFycmF5JiYodFswXT0wLHRbMV09MCx0WzJdPTApLHR9ZnVuY3Rpb24gTWwodCl7dmFyIGU9bmV3IGRsKDMpO3JldHVybiBlWzBdPXRbMF0sZVsxXT10WzFdLGVbMl09dFsyXSxlfWZ1bmN0aW9uIHpsKHQpe3JldHVybiBNYXRoLmh5cG90KHRbMF0sdFsxXSx0WzJdKX1mdW5jdGlvbiBUbCh0LGUscil7dmFyIG49bmV3IGRsKDMpO3JldHVybiBuWzBdPXQsblsxXT1lLG5bMl09cixufWZ1bmN0aW9uIEJsKHQsZSxyKXtyZXR1cm4gdFswXT1lWzBdK3JbMF0sdFsxXT1lWzFdK3JbMV0sdFsyXT1lWzJdK3JbMl0sdH1mdW5jdGlvbiBFbCh0LGUscil7cmV0dXJuIHRbMF09ZVswXS1yWzBdLHRbMV09ZVsxXS1yWzFdLHRbMl09ZVsyXS1yWzJdLHR9ZnVuY3Rpb24gQ2wodCxlLHIpe3JldHVybiB0WzBdPWVbMF0qclswXSx0WzFdPWVbMV0qclsxXSx0WzJdPWVbMl0qclsyXSx0fWZ1bmN0aW9uIFBsKHQsZSxyKXtyZXR1cm4gdFswXT1NYXRoLm1pbihlWzBdLHJbMF0pLHRbMV09TWF0aC5taW4oZVsxXSxyWzFdKSx0WzJdPU1hdGgubWluKGVbMl0sclsyXSksdH1mdW5jdGlvbiBEbCh0LGUscil7cmV0dXJuIHRbMF09TWF0aC5tYXgoZVswXSxyWzBdKSx0WzFdPU1hdGgubWF4KGVbMV0sclsxXSksdFsyXT1NYXRoLm1heChlWzJdLHJbMl0pLHR9ZnVuY3Rpb24gVmwodCxlLHIpe3JldHVybiB0WzBdPWVbMF0qcix0WzFdPWVbMV0qcix0WzJdPWVbMl0qcix0fWZ1bmN0aW9uIEZsKHQsZSxyLG4pe3JldHVybiB0WzBdPWVbMF0rclswXSpuLHRbMV09ZVsxXStyWzFdKm4sdFsyXT1lWzJdK3JbMl0qbix0fWZ1bmN0aW9uIExsKHQsZSl7dmFyIHI9ZVswXSxuPWVbMV0saT1lWzJdLHM9cipyK24qbitpKmk7cmV0dXJuIHM+MCYmKHM9MS9NYXRoLnNxcnQocykpLHRbMF09ZVswXSpzLHRbMV09ZVsxXSpzLHRbMl09ZVsyXSpzLHR9ZnVuY3Rpb24gUmwodCxlKXtyZXR1cm4gdFswXSplWzBdK3RbMV0qZVsxXSt0WzJdKmVbMl19ZnVuY3Rpb24gVWwodCxlLHIpe3ZhciBuPWVbMF0saT1lWzFdLHM9ZVsyXSxhPXJbMF0sbz1yWzFdLGw9clsyXTtyZXR1cm4gdFswXT1pKmwtcypvLHRbMV09cyphLW4qbCx0WzJdPW4qby1pKmEsdH1mdW5jdGlvbiBqbCh0LGUscil7dmFyIG49ZVswXSxpPWVbMV0scz1lWzJdLGE9clszXSpuK3JbN10qaStyWzExXSpzK3JbMTVdO3JldHVybiB0WzBdPShyWzBdKm4rcls0XSppK3JbOF0qcytyWzEyXSkvKGE9YXx8MSksdFsxXT0oclsxXSpuK3JbNV0qaStyWzldKnMrclsxM10pL2EsdFsyXT0oclsyXSpuK3JbNl0qaStyWzEwXSpzK3JbMTRdKS9hLHR9ZnVuY3Rpb24gJGwodCxlLHIpe3ZhciBuPXJbMF0saT1yWzFdLHM9clsyXSxhPWVbMF0sbz1lWzFdLGw9ZVsyXSx1PWkqbC1zKm8sYz1zKmEtbipsLGg9bipvLWkqYSxwPWkqaC1zKmMsZj1zKnUtbipoLGQ9bipjLWkqdSx5PTIqclszXTtyZXR1cm4gYyo9eSxoKj15LGYqPTIsZCo9Mix0WzBdPWErKHUqPXkpKyhwKj0yKSx0WzFdPW8rYytmLHRbMl09bCtoK2QsdH12YXIgT2wscWw9RWwsTmw9Q2wsR2w9emw7ZnVuY3Rpb24gWmwodCxlLHIpe3JldHVybiB0WzBdPWVbMF0qcix0WzFdPWVbMV0qcix0WzJdPWVbMl0qcix0WzNdPWVbM10qcix0fWZ1bmN0aW9uIFhsKHQsZSxyKXt2YXIgbj1lWzBdLGk9ZVsxXSxzPWVbMl0sYT1lWzNdO3JldHVybiB0WzBdPXJbMF0qbityWzRdKmkrcls4XSpzK3JbMTJdKmEsdFsxXT1yWzFdKm4rcls1XSppK3JbOV0qcytyWzEzXSphLHRbMl09clsyXSpuK3JbNl0qaStyWzEwXSpzK3JbMTRdKmEsdFszXT1yWzNdKm4rcls3XSppK3JbMTFdKnMrclsxNV0qYSx0fWZ1bmN0aW9uIEtsKCl7dmFyIHQ9bmV3IGRsKDQpO3JldHVybiBkbCE9RmxvYXQzMkFycmF5JiYodFswXT0wLHRbMV09MCx0WzJdPTApLHRbM109MSx0fWZ1bmN0aW9uIEhsKHQpe3JldHVybiB0WzBdPTAsdFsxXT0wLHRbMl09MCx0WzNdPTEsdH1mdW5jdGlvbiBZbCh0LGUscil7cio9LjU7dmFyIG49ZVswXSxpPWVbMV0scz1lWzJdLGE9ZVszXSxvPU1hdGguc2luKHIpLGw9TWF0aC5jb3Mocik7cmV0dXJuIHRbMF09bipsK2Eqbyx0WzFdPWkqbCtzKm8sdFsyXT1zKmwtaSpvLHRbM109YSpsLW4qbyx0fWZ1bmN0aW9uIFdsKHQsZSxyKXtyKj0uNTt2YXIgbj1lWzBdLGk9ZVsxXSxzPWVbMl0sYT1lWzNdLG89TWF0aC5zaW4ociksbD1NYXRoLmNvcyhyKTtyZXR1cm4gdFswXT1uKmwtcypvLHRbMV09aSpsK2Eqbyx0WzJdPXMqbCtuKm8sdFszXT1hKmwtaSpvLHR9SWwoKSxPbD1uZXcgZGwoNCksZGwhPUZsb2F0MzJBcnJheSYmKE9sWzBdPTAsT2xbMV09MCxPbFsyXT0wLE9sWzNdPTApLElsKCksVGwoMSwwLDApLFRsKDAsMSwwKSxLbCgpLEtsKCkseWwoKTtjbGFzcyBKbHtjb25zdHJ1Y3Rvcih0LGUpe3RoaXMucG9zPXQsdGhpcy5kaXI9ZTt9aW50ZXJzZWN0c1BsYW5lKHQsZSxyKXtjb25zdCBuPVJsKGUsdGhpcy5kaXIpO2lmKE1hdGguYWJzKG4pPDFlLTYpcmV0dXJuICExO2NvbnN0IGk9KCh0WzBdLXRoaXMucG9zWzBdKSplWzBdKyh0WzFdLXRoaXMucG9zWzFdKSplWzFdKyh0WzJdLXRoaXMucG9zWzJdKSplWzJdKS9uO3JldHVybiByWzBdPXRoaXMucG9zWzBdK3RoaXMuZGlyWzBdKmksclsxXT10aGlzLnBvc1sxXSt0aGlzLmRpclsxXSppLHJbMl09dGhpcy5wb3NbMl0rdGhpcy5kaXJbMl0qaSwhMH1jbG9zZXN0UG9pbnRPblNwaGVyZSh0LGUscil7aWYoZnVuY3Rpb24odCxlKXt2YXIgcj10WzBdLG49dFsxXSxpPXRbMl0scz1lWzBdLGE9ZVsxXSxvPWVbMl07cmV0dXJuIE1hdGguYWJzKHItcyk8PWZsKk1hdGgubWF4KDEsTWF0aC5hYnMociksTWF0aC5hYnMocykpJiZNYXRoLmFicyhuLWEpPD1mbCpNYXRoLm1heCgxLE1hdGguYWJzKG4pLE1hdGguYWJzKGEpKSYmTWF0aC5hYnMoaS1vKTw9ZmwqTWF0aC5tYXgoMSxNYXRoLmFicyhpKSxNYXRoLmFicyhvKSl9KHRoaXMucG9zLHQpfHwwPT09ZSlyZXR1cm4gclswXT1yWzFdPXJbMl09MCwhMTtjb25zdFtuLGksc109dGhpcy5kaXIsYT10aGlzLnBvc1swXS10WzBdLG89dGhpcy5wb3NbMV0tdFsxXSxsPXRoaXMucG9zWzJdLXRbMl0sdT1uKm4raSppK3MqcyxjPTIqKGEqbitvKmkrbCpzKSxoPWMqYy00KnUqKGEqYStvKm8rbCpsLWUqZSk7aWYoaDwwKXtjb25zdCB0PU1hdGgubWF4KC1jLzIsMCksdT1hK24qdCxoPW8raSp0LHA9bCtzKnQsZj1NYXRoLmh5cG90KHUsaCxwKTtyZXR1cm4gclswXT11KmUvZixyWzFdPWgqZS9mLHJbMl09cCplL2YsITF9e2NvbnN0IHQ9KC1jLU1hdGguc3FydChoKSkvKDIqdSk7aWYodDwwKXtjb25zdCB0PU1hdGguaHlwb3QoYSxvLGwpO3JldHVybiByWzBdPWEqZS90LHJbMV09byplL3QsclsyXT1sKmUvdCwhMX1yZXR1cm4gclswXT1hK24qdCxyWzFdPW8raSp0LHJbMl09bCtzKnQsITB9fX1jbGFzcyBRbHtjb25zdHJ1Y3Rvcih0LGUscixuLGkpe3RoaXMuVEw9dCx0aGlzLlRSPWUsdGhpcy5CUj1yLHRoaXMuQkw9bix0aGlzLmhvcml6b249aTt9c3RhdGljIGZyb21JbnZQcm9qZWN0aW9uTWF0cml4KHQsZSxyKXtjb25zdCBuPVstMSwxLDFdLGk9WzEsMSwxXSxzPVsxLC0xLDFdLGE9Wy0xLC0xLDFdLG89amwobixuLHQpLGw9amwoaSxpLHQpLHU9amwocyxzLHQpLGM9amwoYSxhLHQpO3JldHVybiBuZXcgUWwobyxsLHUsYyxlL3IpfX1jbGFzcyB0dXtjb25zdHJ1Y3Rvcih0LGUpe3RoaXMucG9pbnRzPXQsdGhpcy5wbGFuZXM9ZTt9c3RhdGljIGZyb21JbnZQcm9qZWN0aW9uTWF0cml4KHQsZSxyLG4pe2NvbnN0IGk9TWF0aC5wb3coMixyKSxzPVtbLTEsMSwtMSwxXSxbMSwxLC0xLDFdLFsxLC0xLC0xLDFdLFstMSwtMSwtMSwxXSxbLTEsMSwxLDFdLFsxLDEsMSwxXSxbMSwtMSwxLDFdLFstMSwtMSwxLDFdXS5tYXAoKHI9Pntjb25zdCBzPVhsKFtdLHIsdCksYT0xL3NbM10vZSppO3JldHVybiBmdW5jdGlvbih0LGUscil7cmV0dXJuIHRbMF09ZVswXSpyWzBdLHRbMV09ZVsxXSpyWzFdLHRbMl09ZVsyXSpyWzJdLHRbM109ZVszXSpyWzNdLHR9KHMscyxbYSxhLG4/MS9zWzNdOmEsYV0pfSkpLGE9W1swLDEsMl0sWzYsNSw0XSxbMCwzLDddLFsyLDEsNV0sWzMsMiw2XSxbMCw0LDVdXS5tYXAoKHQ9Pntjb25zdCBlPUxsKFtdLFVsKFtdLHFsKFtdLHNbdFswXV0sc1t0WzFdXSkscWwoW10sc1t0WzJdXSxzW3RbMV1dKSkpLHI9LVJsKGUsc1t0WzFdXSk7cmV0dXJuIGUuY29uY2F0KHIpfSkpO3JldHVybiBuZXcgdHUocyxhKX19Y2xhc3MgZXV7c3RhdGljIGZyb21Qb2ludHModCl7Y29uc3QgZT1bTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUVdLHI9W051bWJlci5NSU5fVkFMVUUsTnVtYmVyLk1JTl9WQUxVRSxOdW1iZXIuTUlOX1ZBTFVFXTtmb3IoY29uc3QgbiBvZiB0KWVbMF09TWF0aC5taW4oZVswXSxuWzBdKSxlWzFdPU1hdGgubWluKGVbMV0sblsxXSksZVsyXT1NYXRoLm1pbihlWzJdLG5bMl0pLHJbMF09TWF0aC5tYXgoclswXSxuWzBdKSxyWzFdPU1hdGgubWF4KHJbMV0sblsxXSksclsyXT1NYXRoLm1heChyWzJdLG5bMl0pO3JldHVybiBuZXcgZXUoZSxyKX1jb25zdHJ1Y3Rvcih0LGUpe3RoaXMubWluPXQsdGhpcy5tYXg9ZSx0aGlzLmNlbnRlcj1WbChbXSxCbChbXSx0aGlzLm1pbix0aGlzLm1heCksLjUpO31xdWFkcmFudCh0KXtjb25zdCBlPVt0JTI9PTAsdDwyXSxyPU1sKHRoaXMubWluKSxuPU1sKHRoaXMubWF4KTtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKylyW3RdPWVbdF0/dGhpcy5taW5bdF06dGhpcy5jZW50ZXJbdF0sblt0XT1lW3RdP3RoaXMuY2VudGVyW3RdOnRoaXMubWF4W3RdO3JldHVybiBuWzJdPXRoaXMubWF4WzJdLG5ldyBldShyLG4pfWRpc3RhbmNlWCh0KXtyZXR1cm4gTWF0aC5tYXgoTWF0aC5taW4odGhpcy5tYXhbMF0sdFswXSksdGhpcy5taW5bMF0pLXRbMF19ZGlzdGFuY2VZKHQpe3JldHVybiBNYXRoLm1heChNYXRoLm1pbih0aGlzLm1heFsxXSx0WzFdKSx0aGlzLm1pblsxXSktdFsxXX1kaXN0YW5jZVoodCl7cmV0dXJuIE1hdGgubWF4KE1hdGgubWluKHRoaXMubWF4WzJdLHRbMl0pLHRoaXMubWluWzJdKS10WzJdfWdldENvcm5lcnMoKXtjb25zdCB0PXRoaXMubWluLGU9dGhpcy5tYXg7cmV0dXJuIFtbdFswXSx0WzFdLHRbMl1dLFtlWzBdLHRbMV0sdFsyXV0sW2VbMF0sZVsxXSx0WzJdXSxbdFswXSxlWzFdLHRbMl1dLFt0WzBdLHRbMV0sZVsyXV0sW2VbMF0sdFsxXSxlWzJdXSxbZVswXSxlWzFdLGVbMl1dLFt0WzBdLGVbMV0sZVsyXV1dfWludGVyc2VjdHModCl7Y29uc3QgZT10aGlzLmdldENvcm5lcnMoKTtsZXQgcj0hMDtmb3IobGV0IG49MDtuPHQucGxhbmVzLmxlbmd0aDtuKyspe2NvbnN0IGk9dC5wbGFuZXNbbl07bGV0IHM9MDtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKylzKz1SbChpLGVbdF0pK2lbM10+PTA7aWYoMD09PXMpcmV0dXJuIDA7cyE9PWUubGVuZ3RoJiYocj0hMSk7fWlmKHIpcmV0dXJuIDI7Zm9yKGxldCBlPTA7ZTwzO2UrKyl7bGV0IHI9TnVtYmVyLk1BWF9WQUxVRSxuPS1OdW1iZXIuTUFYX1ZBTFVFO2ZvcihsZXQgaT0wO2k8dC5wb2ludHMubGVuZ3RoO2krKyl7Y29uc3Qgcz10LnBvaW50c1tpXVtlXS10aGlzLm1pbltlXTtyPU1hdGgubWluKHIscyksbj1NYXRoLm1heChuLHMpO31pZihuPDB8fHI+dGhpcy5tYXhbZV0tdGhpcy5taW5bZV0pcmV0dXJuIDB9cmV0dXJuIDF9fWZ1bmN0aW9uIHJ1KHQsZSxyLG4saSxzLGEsbyxsKXtpZihzJiZ0LnF1ZXJ5R2VvbWV0cnkuaXNBYm92ZUhvcml6b24pcmV0dXJuICExO3MmJihsKj10LnBpeGVsVG9UaWxlVW5pdHNGYWN0b3IpO2NvbnN0IHU9dC50aWxlSUQuY2Fub25pY2FsLGM9ci5wcm9qZWN0aW9uLnVwVmVjdG9yU2NhbGUodSxyLmNlbnRlci5sYXQsci53b3JsZFNpemUpLm1ldGVyc1RvVGlsZTtmb3IoY29uc3QgaCBvZiBlKWZvcihjb25zdCBlIG9mIGgpe2NvbnN0IGg9ZS5hZGQobykscD1pJiZyLmVsZXZhdGlvbj9yLmVsZXZhdGlvbi5leGFnZ2VyYXRpb24oKSppLmdldEVsZXZhdGlvbkF0KGgueCxoLnksITApOjAsZj1yLnByb2plY3Rpb24ucHJvamVjdFRpbGVQb2ludChoLngsaC55LHUpO2lmKHA+MCl7Y29uc3QgdD1yLnByb2plY3Rpb24udXBWZWN0b3IodSxoLngsaC55KTtmLngrPXRbMF0qYypwLGYueSs9dFsxXSpjKnAsZi56Kz10WzJdKmMqcDt9Y29uc3QgZD1zP2g6bnUoZi54LGYueSxmLnosbikseT1zP3QudGlsZXNwYWNlUmF5cy5tYXAoKHQ9PmF1KHQscCkpKTp0LnF1ZXJ5R2VvbWV0cnkuc2NyZWVuR2VvbWV0cnksbT1YbChbXSxbZi54LGYueSxmLnosMV0sbik7aWYoIWEmJnM/bCo9bVszXS9yLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2U6YSYmIXMmJihsKj1yLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2UvbVszXSkscyl7Y29uc3QgdD1DbygoZS55L3dvK3UueSkvKDE8PHUueikpO2wvPXIucHJvamVjdGlvbi5waXhlbHNQZXJNZXRlcih0LDEpL0JvKDEsdCk7fWlmKFlvKHksZCxsKSlyZXR1cm4gITB9cmV0dXJuICExfWZ1bmN0aW9uIG51KHQsZSxyLG4pe2NvbnN0IHM9WGwoW10sW3QsZSxyLDFdLG4pO3JldHVybiBuZXcgaShzWzBdL3NbM10sc1sxXS9zWzNdKX1jb25zdCBpdT1UbCgwLDAsMCksc3U9VGwoMCwwLDEpO2Z1bmN0aW9uIGF1KHQsZSl7Y29uc3Qgcj1JbCgpO3JldHVybiBpdVsyXT1lLHQuaW50ZXJzZWN0c1BsYW5lKGl1LHN1LHIpLG5ldyBpKHJbMF0sclsxXSl9Y2xhc3Mgb3UgZXh0ZW5kcyBLb3t9ZnVuY3Rpb24gbHUodCx7d2lkdGg6ZSxoZWlnaHQ6cn0sbixpKXtpZihpKXtpZihpIGluc3RhbmNlb2YgVWludDhDbGFtcGVkQXJyYXkpaT1uZXcgVWludDhBcnJheShpLmJ1ZmZlcik7ZWxzZSBpZihpLmxlbmd0aCE9PWUqcipuKXRocm93IG5ldyBSYW5nZUVycm9yKFwibWlzbWF0Y2hlZCBpbWFnZSBzaXplXCIpfWVsc2UgaT1uZXcgVWludDhBcnJheShlKnIqbik7cmV0dXJuIHQud2lkdGg9ZSx0LmhlaWdodD1yLHQuZGF0YT1pLHR9ZnVuY3Rpb24gdXUodCxlLHIpe2NvbnN0e3dpZHRoOm4saGVpZ2h0Oml9PWU7bj09PXQud2lkdGgmJmk9PT10LmhlaWdodHx8KGN1KHQsZSx7eDowLHk6MH0se3g6MCx5OjB9LHt3aWR0aDpNYXRoLm1pbih0LndpZHRoLG4pLGhlaWdodDpNYXRoLm1pbih0LmhlaWdodCxpKX0sciksdC53aWR0aD1uLHQuaGVpZ2h0PWksdC5kYXRhPWUuZGF0YSk7fWZ1bmN0aW9uIGN1KHQsZSxyLG4saSxzKXtpZigwPT09aS53aWR0aHx8MD09PWkuaGVpZ2h0KXJldHVybiBlO2lmKGkud2lkdGg+dC53aWR0aHx8aS5oZWlnaHQ+dC5oZWlnaHR8fHIueD50LndpZHRoLWkud2lkdGh8fHIueT50LmhlaWdodC1pLmhlaWdodCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIm91dCBvZiByYW5nZSBzb3VyY2UgY29vcmRpbmF0ZXMgZm9yIGltYWdlIGNvcHlcIik7aWYoaS53aWR0aD5lLndpZHRofHxpLmhlaWdodD5lLmhlaWdodHx8bi54PmUud2lkdGgtaS53aWR0aHx8bi55PmUuaGVpZ2h0LWkuaGVpZ2h0KXRocm93IG5ldyBSYW5nZUVycm9yKFwib3V0IG9mIHJhbmdlIGRlc3RpbmF0aW9uIGNvb3JkaW5hdGVzIGZvciBpbWFnZSBjb3B5XCIpO2NvbnN0IGE9dC5kYXRhLG89ZS5kYXRhO2ZvcihsZXQgbD0wO2w8aS5oZWlnaHQ7bCsrKXtjb25zdCB1PSgoci55K2wpKnQud2lkdGgrci54KSpzLGM9KChuLnkrbCkqZS53aWR0aCtuLngpKnM7Zm9yKGxldCB0PTA7dDxpLndpZHRoKnM7dCsrKW9bYyt0XT1hW3UrdF07fXJldHVybiBlfVBpKG91LFwiSGVhdG1hcEJ1Y2tldFwiLHtvbWl0OltcImxheWVyc1wiXX0pO2NsYXNzIGh1e2NvbnN0cnVjdG9yKHQsZSl7bHUodGhpcyx0LDEsZSk7fXJlc2l6ZSh0KXt1dSh0aGlzLG5ldyBodSh0KSwxKTt9Y2xvbmUoKXtyZXR1cm4gbmV3IGh1KHt3aWR0aDp0aGlzLndpZHRoLGhlaWdodDp0aGlzLmhlaWdodH0sbmV3IFVpbnQ4QXJyYXkodGhpcy5kYXRhKSl9c3RhdGljIGNvcHkodCxlLHIsbixpKXtjdSh0LGUscixuLGksMSk7fX1jbGFzcyBwdXtjb25zdHJ1Y3Rvcih0LGUpe2x1KHRoaXMsdCw0LGUpO31yZXNpemUodCl7dXUodGhpcyxuZXcgcHUodCksNCk7fXJlcGxhY2UodCxlKXtlP3RoaXMuZGF0YS5zZXQodCk6dGhpcy5kYXRhPXQgaW5zdGFuY2VvZiBVaW50OENsYW1wZWRBcnJheT9uZXcgVWludDhBcnJheSh0LmJ1ZmZlcik6dDt9Y2xvbmUoKXtyZXR1cm4gbmV3IHB1KHt3aWR0aDp0aGlzLndpZHRoLGhlaWdodDp0aGlzLmhlaWdodH0sbmV3IFVpbnQ4QXJyYXkodGhpcy5kYXRhKSl9c3RhdGljIGNvcHkodCxlLHIsbixpKXtjdSh0LGUscixuLGksNCk7fX1QaShodSxcIkFscGhhSW1hZ2VcIiksUGkocHUsXCJSR0JBSW1hZ2VcIik7dmFyIGZ1PXtwYWludDpuZXcgWnMoe1wiaGVhdG1hcC1yYWRpdXNcIjpuZXcgT3MoR3QucGFpbnRfaGVhdG1hcFtcImhlYXRtYXAtcmFkaXVzXCJdKSxcImhlYXRtYXAtd2VpZ2h0XCI6bmV3IE9zKEd0LnBhaW50X2hlYXRtYXBbXCJoZWF0bWFwLXdlaWdodFwiXSksXCJoZWF0bWFwLWludGVuc2l0eVwiOm5ldyAkcyhHdC5wYWludF9oZWF0bWFwW1wiaGVhdG1hcC1pbnRlbnNpdHlcIl0pLFwiaGVhdG1hcC1jb2xvclwiOm5ldyBHcyhHdC5wYWludF9oZWF0bWFwW1wiaGVhdG1hcC1jb2xvclwiXSksXCJoZWF0bWFwLW9wYWNpdHlcIjpuZXcgJHMoR3QucGFpbnRfaGVhdG1hcFtcImhlYXRtYXAtb3BhY2l0eVwiXSl9KX07ZnVuY3Rpb24gZHUodCl7Y29uc3QgZT17fSxyPXQucmVzb2x1dGlvbnx8MjU2LG49dC5jbGlwcz90LmNsaXBzLmxlbmd0aDoxLGk9dC5pbWFnZXx8bmV3IHB1KHt3aWR0aDpyLGhlaWdodDpufSkscz0ocixuLHMpPT57ZVt0LmV2YWx1YXRpb25LZXldPXM7Y29uc3QgYT10LmV4cHJlc3Npb24uZXZhbHVhdGUoZSk7aS5kYXRhW3IrbiswXT1NYXRoLmZsb29yKDI1NSphLnIvYS5hKSxpLmRhdGFbcituKzFdPU1hdGguZmxvb3IoMjU1KmEuZy9hLmEpLGkuZGF0YVtyK24rMl09TWF0aC5mbG9vcigyNTUqYS5iL2EuYSksaS5kYXRhW3IrbiszXT1NYXRoLmZsb29yKDI1NSphLmEpO307aWYodC5jbGlwcylmb3IobGV0IGU9MCxpPTA7ZTxuOysrZSxpKz00KnIpZm9yKGxldCBuPTAsYT0wO248cjtuKyssYSs9NCl7Y29uc3Qgbz1uLyhyLTEpLHtzdGFydDpsLGVuZDp1fT10LmNsaXBzW2VdO3MoaSxhLGwqKDEtbykrdSpvKTt9ZWxzZSBmb3IobGV0IHQ9MCxlPTA7dDxyO3QrKyxlKz00KXMoMCxlLHQvKHItMSkpO3JldHVybiBpfXZhciB5dT17cGFpbnQ6bmV3IFpzKHtcImhpbGxzaGFkZS1pbGx1bWluYXRpb24tZGlyZWN0aW9uXCI6bmV3ICRzKEd0LnBhaW50X2hpbGxzaGFkZVtcImhpbGxzaGFkZS1pbGx1bWluYXRpb24tZGlyZWN0aW9uXCJdKSxcImhpbGxzaGFkZS1pbGx1bWluYXRpb24tYW5jaG9yXCI6bmV3ICRzKEd0LnBhaW50X2hpbGxzaGFkZVtcImhpbGxzaGFkZS1pbGx1bWluYXRpb24tYW5jaG9yXCJdKSxcImhpbGxzaGFkZS1leGFnZ2VyYXRpb25cIjpuZXcgJHMoR3QucGFpbnRfaGlsbHNoYWRlW1wiaGlsbHNoYWRlLWV4YWdnZXJhdGlvblwiXSksXCJoaWxsc2hhZGUtc2hhZG93LWNvbG9yXCI6bmV3ICRzKEd0LnBhaW50X2hpbGxzaGFkZVtcImhpbGxzaGFkZS1zaGFkb3ctY29sb3JcIl0pLFwiaGlsbHNoYWRlLWhpZ2hsaWdodC1jb2xvclwiOm5ldyAkcyhHdC5wYWludF9oaWxsc2hhZGVbXCJoaWxsc2hhZGUtaGlnaGxpZ2h0LWNvbG9yXCJdKSxcImhpbGxzaGFkZS1hY2NlbnQtY29sb3JcIjpuZXcgJHMoR3QucGFpbnRfaGlsbHNoYWRlW1wiaGlsbHNoYWRlLWFjY2VudC1jb2xvclwiXSl9KX07Y29uc3QgbXU9V3MoW3tuYW1lOlwiYV9wb3NcIixjb21wb25lbnRzOjIsdHlwZTpcIkludDE2XCJ9XSw0KSx7bWVtYmVyczpndX09bXU7dmFyIHh1PWJ1LHZ1PWJ1O2Z1bmN0aW9uIGJ1KHQsZSxyKXtyPXJ8fDI7dmFyIG4saSxzLGEsbyxsLHUsYz1lJiZlLmxlbmd0aCxoPWM/ZVswXSpyOnQubGVuZ3RoLHA9X3UodCwwLGgsciwhMCksZj1bXTtpZighcHx8cC5uZXh0PT09cC5wcmV2KXJldHVybiBmO2lmKGMmJihwPWZ1bmN0aW9uKHQsZSxyLG4pe3ZhciBpLHMsYSxvPVtdO2ZvcihpPTAscz1lLmxlbmd0aDtpPHM7aSsrKShhPV91KHQsZVtpXSpuLGk8cy0xP2VbaSsxXSpuOnQubGVuZ3RoLG4sITEpKT09PWEubmV4dCYmKGEuc3RlaW5lcj0hMCksby5wdXNoKEN1KGEpKTtmb3Ioby5zb3J0KHp1KSxpPTA7aTxvLmxlbmd0aDtpKyspcj1UdShvW2ldLHIpO3JldHVybiByfSh0LGUscCxyKSksdC5sZW5ndGg+ODAqcil7bj1zPXRbMF0saT1hPXRbMV07Zm9yKHZhciBkPXI7ZDxoO2QrPXIpKG89dFtkXSk8biYmKG49byksKGw9dFtkKzFdKTxpJiYoaT1sKSxvPnMmJihzPW8pLGw+YSYmKGE9bCk7dT0wIT09KHU9TWF0aC5tYXgocy1uLGEtaSkpPzMyNzY3L3U6MDt9cmV0dXJuIEF1KHAsZixyLG4saSx1LDApLGZ9ZnVuY3Rpb24gX3UodCxlLHIsbixpKXt2YXIgcyxhO2lmKGk9PT1HdSh0LGUscixuKT4wKWZvcihzPWU7czxyO3MrPW4pYT1PdShzLHRbc10sdFtzKzFdLGEpO2Vsc2UgZm9yKHM9ci1uO3M+PWU7cy09bilhPU91KHMsdFtzXSx0W3MrMV0sYSk7cmV0dXJuIGEmJkZ1KGEsYS5uZXh0KSYmKHF1KGEpLGE9YS5uZXh0KSxhfWZ1bmN0aW9uIHd1KHQsZSl7aWYoIXQpcmV0dXJuIHQ7ZXx8KGU9dCk7dmFyIHIsbj10O2Rve2lmKHI9ITEsbi5zdGVpbmVyfHwhRnUobixuLm5leHQpJiYwIT09VnUobi5wcmV2LG4sbi5uZXh0KSluPW4ubmV4dDtlbHNlIHtpZihxdShuKSwobj1lPW4ucHJldik9PT1uLm5leHQpYnJlYWs7cj0hMDt9fXdoaWxlKHJ8fG4hPT1lKTtyZXR1cm4gZX1mdW5jdGlvbiBBdSh0LGUscixuLGkscyxhKXtpZih0KXshYSYmcyYmZnVuY3Rpb24odCxlLHIsbil7dmFyIGk9dDtkb3swPT09aS56JiYoaS56PUV1KGkueCxpLnksZSxyLG4pKSxpLnByZXZaPWkucHJldixpLm5leHRaPWkubmV4dCxpPWkubmV4dDt9d2hpbGUoaSE9PXQpO2kucHJldloubmV4dFo9bnVsbCxpLnByZXZaPW51bGwsZnVuY3Rpb24odCl7dmFyIGUscixuLGkscyxhLG8sbCx1PTE7ZG97Zm9yKHI9dCx0PW51bGwscz1udWxsLGE9MDtyOyl7Zm9yKGErKyxuPXIsbz0wLGU9MDtlPHUmJihvKyssbj1uLm5leHRaKTtlKyspO2ZvcihsPXU7bz4wfHxsPjAmJm47KTAhPT1vJiYoMD09PWx8fCFufHxyLno8PW4ueik/KGk9cixyPXIubmV4dFosby0tKTooaT1uLG49bi5uZXh0WixsLS0pLHM/cy5uZXh0Wj1pOnQ9aSxpLnByZXZaPXMscz1pO3I9bjt9cy5uZXh0Wj1udWxsLHUqPTI7fXdoaWxlKGE+MSl9KGkpO30odCxuLGkscyk7Zm9yKHZhciBvLGwsdT10O3QucHJldiE9PXQubmV4dDspaWYobz10LnByZXYsbD10Lm5leHQscz9rdSh0LG4saSxzKTpTdSh0KSllLnB1c2goby5pL3J8MCksZS5wdXNoKHQuaS9yfDApLGUucHVzaChsLmkvcnwwKSxxdSh0KSx0PWwubmV4dCx1PWwubmV4dDtlbHNlIGlmKCh0PWwpPT09dSl7YT8xPT09YT9BdSh0PUl1KHd1KHQpLGUsciksZSxyLG4saSxzLDIpOjI9PT1hJiZNdSh0LGUscixuLGkscyk6QXUod3UodCksZSxyLG4saSxzLDEpO2JyZWFrfX19ZnVuY3Rpb24gU3UodCl7dmFyIGU9dC5wcmV2LHI9dCxuPXQubmV4dDtpZihWdShlLHIsbik+PTApcmV0dXJuICExO2Zvcih2YXIgaT1lLngscz1yLngsYT1uLngsbz1lLnksbD1yLnksdT1uLnksYz1pPHM/aTxhP2k6YTpzPGE/czphLGg9bzxsP288dT9vOnU6bDx1P2w6dSxwPWk+cz9pPmE/aTphOnM+YT9zOmEsZj1vPmw/bz51P286dTpsPnU/bDp1LGQ9bi5uZXh0O2QhPT1lOyl7aWYoZC54Pj1jJiZkLng8PXAmJmQueT49aCYmZC55PD1mJiZQdShpLG8scyxsLGEsdSxkLngsZC55KSYmVnUoZC5wcmV2LGQsZC5uZXh0KT49MClyZXR1cm4gITE7ZD1kLm5leHQ7fXJldHVybiAhMH1mdW5jdGlvbiBrdSh0LGUscixuKXt2YXIgaT10LnByZXYscz10LGE9dC5uZXh0O2lmKFZ1KGkscyxhKT49MClyZXR1cm4gITE7Zm9yKHZhciBvPWkueCxsPXMueCx1PWEueCxjPWkueSxoPXMueSxwPWEueSxmPW88bD9vPHU/bzp1Omw8dT9sOnUsZD1jPGg/YzxwP2M6cDpoPHA/aDpwLHk9bz5sP28+dT9vOnU6bD51P2w6dSxtPWM+aD9jPnA/YzpwOmg+cD9oOnAsZz1FdShmLGQsZSxyLG4pLHg9RXUoeSxtLGUscixuKSx2PXQucHJldlosYj10Lm5leHRaO3YmJnYuej49ZyYmYiYmYi56PD14Oyl7aWYodi54Pj1mJiZ2Lng8PXkmJnYueT49ZCYmdi55PD1tJiZ2IT09aSYmdiE9PWEmJlB1KG8sYyxsLGgsdSxwLHYueCx2LnkpJiZWdSh2LnByZXYsdix2Lm5leHQpPj0wKXJldHVybiAhMTtpZih2PXYucHJldlosYi54Pj1mJiZiLng8PXkmJmIueT49ZCYmYi55PD1tJiZiIT09aSYmYiE9PWEmJlB1KG8sYyxsLGgsdSxwLGIueCxiLnkpJiZWdShiLnByZXYsYixiLm5leHQpPj0wKXJldHVybiAhMTtiPWIubmV4dFo7fWZvcig7diYmdi56Pj1nOyl7aWYodi54Pj1mJiZ2Lng8PXkmJnYueT49ZCYmdi55PD1tJiZ2IT09aSYmdiE9PWEmJlB1KG8sYyxsLGgsdSxwLHYueCx2LnkpJiZWdSh2LnByZXYsdix2Lm5leHQpPj0wKXJldHVybiAhMTt2PXYucHJldlo7fWZvcig7YiYmYi56PD14Oyl7aWYoYi54Pj1mJiZiLng8PXkmJmIueT49ZCYmYi55PD1tJiZiIT09aSYmYiE9PWEmJlB1KG8sYyxsLGgsdSxwLGIueCxiLnkpJiZWdShiLnByZXYsYixiLm5leHQpPj0wKXJldHVybiAhMTtiPWIubmV4dFo7fXJldHVybiAhMH1mdW5jdGlvbiBJdSh0LGUscil7dmFyIG49dDtkb3t2YXIgaT1uLnByZXYscz1uLm5leHQubmV4dDshRnUoaSxzKSYmTHUoaSxuLG4ubmV4dCxzKSYmanUoaSxzKSYmanUocyxpKSYmKGUucHVzaChpLmkvcnwwKSxlLnB1c2gobi5pL3J8MCksZS5wdXNoKHMuaS9yfDApLHF1KG4pLHF1KG4ubmV4dCksbj10PXMpLG49bi5uZXh0O313aGlsZShuIT09dCk7cmV0dXJuIHd1KG4pfWZ1bmN0aW9uIE11KHQsZSxyLG4saSxzKXt2YXIgYT10O2Rve2Zvcih2YXIgbz1hLm5leHQubmV4dDtvIT09YS5wcmV2Oyl7aWYoYS5pIT09by5pJiZEdShhLG8pKXt2YXIgbD0kdShhLG8pO3JldHVybiBhPXd1KGEsYS5uZXh0KSxsPXd1KGwsbC5uZXh0KSxBdShhLGUscixuLGkscywwKSx2b2lkIEF1KGwsZSxyLG4saSxzLDApfW89by5uZXh0O31hPWEubmV4dDt9d2hpbGUoYSE9PXQpfWZ1bmN0aW9uIHp1KHQsZSl7cmV0dXJuIHQueC1lLnh9ZnVuY3Rpb24gVHUodCxlKXt2YXIgcj1mdW5jdGlvbih0LGUpe3ZhciByLG49ZSxpPXQueCxzPXQueSxhPS0xLzA7ZG97aWYoczw9bi55JiZzPj1uLm5leHQueSYmbi5uZXh0LnkhPT1uLnkpe3ZhciBvPW4ueCsocy1uLnkpKihuLm5leHQueC1uLngpLyhuLm5leHQueS1uLnkpO2lmKG88PWkmJm8+YSYmKGE9byxyPW4ueDxuLm5leHQueD9uOm4ubmV4dCxvPT09aSkpcmV0dXJuIHJ9bj1uLm5leHQ7fXdoaWxlKG4hPT1lKTtpZighcilyZXR1cm4gbnVsbDt2YXIgbCx1PXIsYz1yLngsaD1yLnkscD0xLzA7bj1yO2Rve2k+PW4ueCYmbi54Pj1jJiZpIT09bi54JiZQdShzPGg/aTphLHMsYyxoLHM8aD9hOmkscyxuLngsbi55KSYmKGw9TWF0aC5hYnMocy1uLnkpLyhpLW4ueCksanUobix0KSYmKGw8cHx8bD09PXAmJihuLng+ci54fHxuLng9PT1yLngmJkJ1KHIsbikpKSYmKHI9bixwPWwpKSxuPW4ubmV4dDt9d2hpbGUobiE9PXUpO3JldHVybiByfSh0LGUpO2lmKCFyKXJldHVybiBlO3ZhciBuPSR1KHIsdCk7cmV0dXJuIHd1KG4sbi5uZXh0KSx3dShyLHIubmV4dCl9ZnVuY3Rpb24gQnUodCxlKXtyZXR1cm4gVnUodC5wcmV2LHQsZS5wcmV2KTwwJiZWdShlLm5leHQsdCx0Lm5leHQpPDB9ZnVuY3Rpb24gRXUodCxlLHIsbixpKXtyZXR1cm4gKHQ9MTQzMTY1NTc2NSYoKHQ9ODU4OTkzNDU5JigodD0yNTI2NDUxMzUmKCh0PTE2NzExOTM1JigodD0odC1yKSppfDApfHQ8PDgpKXx0PDw0KSl8dDw8MikpfHQ8PDEpKXwoZT0xNDMxNjU1NzY1JigoZT04NTg5OTM0NTkmKChlPTI1MjY0NTEzNSYoKGU9MTY3MTE5MzUmKChlPShlLW4pKml8MCl8ZTw8OCkpfGU8PDQpKXxlPDwyKSl8ZTw8MSkpPDwxfWZ1bmN0aW9uIEN1KHQpe3ZhciBlPXQscj10O2RveyhlLng8ci54fHxlLng9PT1yLngmJmUueTxyLnkpJiYocj1lKSxlPWUubmV4dDt9d2hpbGUoZSE9PXQpO3JldHVybiByfWZ1bmN0aW9uIFB1KHQsZSxyLG4saSxzLGEsbyl7cmV0dXJuIChpLWEpKihlLW8pPj0odC1hKSoocy1vKSYmKHQtYSkqKG4tbyk+PShyLWEpKihlLW8pJiYoci1hKSoocy1vKT49KGktYSkqKG4tbyl9ZnVuY3Rpb24gRHUodCxlKXtyZXR1cm4gdC5uZXh0LmkhPT1lLmkmJnQucHJldi5pIT09ZS5pJiYhZnVuY3Rpb24odCxlKXt2YXIgcj10O2Rve2lmKHIuaSE9PXQuaSYmci5uZXh0LmkhPT10LmkmJnIuaSE9PWUuaSYmci5uZXh0LmkhPT1lLmkmJkx1KHIsci5uZXh0LHQsZSkpcmV0dXJuICEwO3I9ci5uZXh0O313aGlsZShyIT09dCk7cmV0dXJuICExfSh0LGUpJiYoanUodCxlKSYmanUoZSx0KSYmZnVuY3Rpb24odCxlKXt2YXIgcj10LG49ITEsaT0odC54K2UueCkvMixzPSh0LnkrZS55KS8yO2Rve3IueT5zIT1yLm5leHQueT5zJiZyLm5leHQueSE9PXIueSYmaTwoci5uZXh0Lngtci54KSoocy1yLnkpLyhyLm5leHQueS1yLnkpK3IueCYmKG49IW4pLHI9ci5uZXh0O313aGlsZShyIT09dCk7cmV0dXJuIG59KHQsZSkmJihWdSh0LnByZXYsdCxlLnByZXYpfHxWdSh0LGUucHJldixlKSl8fEZ1KHQsZSkmJlZ1KHQucHJldix0LHQubmV4dCk+MCYmVnUoZS5wcmV2LGUsZS5uZXh0KT4wKX1mdW5jdGlvbiBWdSh0LGUscil7cmV0dXJuIChlLnktdC55KSooci54LWUueCktKGUueC10LngpKihyLnktZS55KX1mdW5jdGlvbiBGdSh0LGUpe3JldHVybiB0Lng9PT1lLngmJnQueT09PWUueX1mdW5jdGlvbiBMdSh0LGUscixuKXt2YXIgaT1VdShWdSh0LGUscikpLHM9VXUoVnUodCxlLG4pKSxhPVV1KFZ1KHIsbix0KSksbz1VdShWdShyLG4sZSkpO3JldHVybiBpIT09cyYmYSE9PW98fCEoMCE9PWl8fCFSdSh0LHIsZSkpfHwhKDAhPT1zfHwhUnUodCxuLGUpKXx8ISgwIT09YXx8IVJ1KHIsdCxuKSl8fCEoMCE9PW98fCFSdShyLGUsbikpfWZ1bmN0aW9uIFJ1KHQsZSxyKXtyZXR1cm4gZS54PD1NYXRoLm1heCh0Lngsci54KSYmZS54Pj1NYXRoLm1pbih0Lngsci54KSYmZS55PD1NYXRoLm1heCh0Lnksci55KSYmZS55Pj1NYXRoLm1pbih0Lnksci55KX1mdW5jdGlvbiBVdSh0KXtyZXR1cm4gdD4wPzE6dDwwPy0xOjB9ZnVuY3Rpb24ganUodCxlKXtyZXR1cm4gVnUodC5wcmV2LHQsdC5uZXh0KTwwP1Z1KHQsZSx0Lm5leHQpPj0wJiZWdSh0LHQucHJldixlKT49MDpWdSh0LGUsdC5wcmV2KTwwfHxWdSh0LHQubmV4dCxlKTwwfWZ1bmN0aW9uICR1KHQsZSl7dmFyIHI9bmV3IE51KHQuaSx0LngsdC55KSxuPW5ldyBOdShlLmksZS54LGUueSksaT10Lm5leHQscz1lLnByZXY7cmV0dXJuIHQubmV4dD1lLGUucHJldj10LHIubmV4dD1pLGkucHJldj1yLG4ubmV4dD1yLHIucHJldj1uLHMubmV4dD1uLG4ucHJldj1zLG59ZnVuY3Rpb24gT3UodCxlLHIsbil7dmFyIGk9bmV3IE51KHQsZSxyKTtyZXR1cm4gbj8oaS5uZXh0PW4ubmV4dCxpLnByZXY9bixuLm5leHQucHJldj1pLG4ubmV4dD1pKTooaS5wcmV2PWksaS5uZXh0PWkpLGl9ZnVuY3Rpb24gcXUodCl7dC5uZXh0LnByZXY9dC5wcmV2LHQucHJldi5uZXh0PXQubmV4dCx0LnByZXZaJiYodC5wcmV2Wi5uZXh0Wj10Lm5leHRaKSx0Lm5leHRaJiYodC5uZXh0Wi5wcmV2Wj10LnByZXZaKTt9ZnVuY3Rpb24gTnUodCxlLHIpe3RoaXMuaT10LHRoaXMueD1lLHRoaXMueT1yLHRoaXMucHJldj1udWxsLHRoaXMubmV4dD1udWxsLHRoaXMuej0wLHRoaXMucHJldlo9bnVsbCx0aGlzLm5leHRaPW51bGwsdGhpcy5zdGVpbmVyPSExO31mdW5jdGlvbiBHdSh0LGUscixuKXtmb3IodmFyIGk9MCxzPWUsYT1yLW47czxyO3MrPW4paSs9KHRbYV0tdFtzXSkqKHRbcysxXSt0W2ErMV0pLGE9cztyZXR1cm4gaX1mdW5jdGlvbiBadSh0LGUscixuLGkpe1h1KHQsZSxyfHwwLG58fHQubGVuZ3RoLTEsaXx8SHUpO31mdW5jdGlvbiBYdSh0LGUscixuLGkpe2Zvcig7bj5yOyl7aWYobi1yPjYwMCl7dmFyIHM9bi1yKzEsYT1lLXIrMSxvPU1hdGgubG9nKHMpLGw9LjUqTWF0aC5leHAoMipvLzMpLHU9LjUqTWF0aC5zcXJ0KG8qbCoocy1sKS9zKSooYS1zLzI8MD8tMToxKTtYdSh0LGUsTWF0aC5tYXgocixNYXRoLmZsb29yKGUtYSpsL3MrdSkpLE1hdGgubWluKG4sTWF0aC5mbG9vcihlKyhzLWEpKmwvcyt1KSksaSk7fXZhciBjPXRbZV0saD1yLHA9bjtmb3IoS3UodCxyLGUpLGkodFtuXSxjKT4wJiZLdSh0LHIsbik7aDxwOyl7Zm9yKEt1KHQsaCxwKSxoKysscC0tO2kodFtoXSxjKTwwOyloKys7Zm9yKDtpKHRbcF0sYyk+MDspcC0tO30wPT09aSh0W3JdLGMpP0t1KHQscixwKTpLdSh0LCsrcCxuKSxwPD1lJiYocj1wKzEpLGU8PXAmJihuPXAtMSk7fX1mdW5jdGlvbiBLdSh0LGUscil7dmFyIG49dFtlXTt0W2VdPXRbcl0sdFtyXT1uO31mdW5jdGlvbiBIdSh0LGUpe3JldHVybiB0PGU/LTE6dD5lPzE6MH1mdW5jdGlvbiBZdSh0LGUpe2NvbnN0IHI9dC5sZW5ndGg7aWYocjw9MSlyZXR1cm4gW3RdO2NvbnN0IG49W107bGV0IGkscztmb3IobGV0IGU9MDtlPHI7ZSsrKXtjb25zdCByPVAodFtlXSk7MCE9PXImJih0W2VdLmFyZWE9TWF0aC5hYnMociksdm9pZCAwPT09cyYmKHM9cjwwKSxzPT09cjwwPyhpJiZuLnB1c2goaSksaT1bdFtlXV0pOmkucHVzaCh0W2VdKSk7fWlmKGkmJm4ucHVzaChpKSxlPjEpZm9yKGxldCB0PTA7dDxuLmxlbmd0aDt0Kyspblt0XS5sZW5ndGg8PWV8fChadShuW3RdLGUsMSxuW3RdLmxlbmd0aC0xLFd1KSxuW3RdPW5bdF0uc2xpY2UoMCxlKSk7cmV0dXJuIG59ZnVuY3Rpb24gV3UodCxlKXtyZXR1cm4gZS5hcmVhLXQuYXJlYX1mdW5jdGlvbiBKdSh0LGUscil7Y29uc3Qgbj1yLnBhdHRlcm5EZXBlbmRlbmNpZXM7bGV0IGk9ITE7Zm9yKGNvbnN0IHIgb2YgZSl7Y29uc3QgZT1yLnBhaW50LmdldChgJHt0fS1wYXR0ZXJuYCk7ZS5pc0NvbnN0YW50KCl8fChpPSEwKTtjb25zdCBzPWUuY29uc3RhbnRPcihudWxsKTtzJiYoaT0hMCxuW3MudG9dPSEwLG5bcy5mcm9tXT0hMCk7fXJldHVybiBpfWZ1bmN0aW9uIFF1KHQsZSxyLG4saSl7Y29uc3Qgcz1pLnBhdHRlcm5EZXBlbmRlbmNpZXM7Zm9yKGNvbnN0IGEgb2YgZSl7Y29uc3QgZT1hLnBhaW50LmdldChgJHt0fS1wYXR0ZXJuYCkudmFsdWU7aWYoXCJjb25zdGFudFwiIT09ZS5raW5kKXtsZXQgdD1lLmV2YWx1YXRlKHt6b29tOm4tMX0scix7fSxpLmF2YWlsYWJsZUltYWdlcyksbz1lLmV2YWx1YXRlKHt6b29tOm59LHIse30saS5hdmFpbGFibGVJbWFnZXMpLGw9ZS5ldmFsdWF0ZSh7em9vbTpuKzF9LHIse30saS5hdmFpbGFibGVJbWFnZXMpO3Q9dCYmdC5uYW1lP3QubmFtZTp0LG89byYmby5uYW1lP28ubmFtZTpvLGw9bCYmbC5uYW1lP2wubmFtZTpsLHNbdF09ITAsc1tvXT0hMCxzW2xdPSEwLHIucGF0dGVybnNbYS5pZF09e21pbjp0LG1pZDpvLG1heDpsfTt9fXJldHVybiByfWJ1LmRldmlhdGlvbj1mdW5jdGlvbih0LGUscixuKXt2YXIgaT1lJiZlLmxlbmd0aCxzPU1hdGguYWJzKEd1KHQsMCxpP2VbMF0qcjp0Lmxlbmd0aCxyKSk7aWYoaSlmb3IodmFyIGE9MCxvPWUubGVuZ3RoO2E8bzthKyspcy09TWF0aC5hYnMoR3UodCxlW2FdKnIsYTxvLTE/ZVthKzFdKnI6dC5sZW5ndGgscikpO3ZhciBsPTA7Zm9yKGE9MDthPG4ubGVuZ3RoO2ErPTMpe3ZhciB1PW5bYV0qcixjPW5bYSsxXSpyLGg9blthKzJdKnI7bCs9TWF0aC5hYnMoKHRbdV0tdFtoXSkqKHRbYysxXS10W3UrMV0pLSh0W3VdLXRbY10pKih0W2grMV0tdFt1KzFdKSk7fXJldHVybiAwPT09cyYmMD09PWw/MDpNYXRoLmFicygobC1zKS9zKX0sYnUuZmxhdHRlbj1mdW5jdGlvbih0KXtmb3IodmFyIGU9dFswXVswXS5sZW5ndGgscj17dmVydGljZXM6W10saG9sZXM6W10sZGltZW5zaW9uczplfSxuPTAsaT0wO2k8dC5sZW5ndGg7aSsrKXtmb3IodmFyIHM9MDtzPHRbaV0ubGVuZ3RoO3MrKylmb3IodmFyIGE9MDthPGU7YSsrKXIudmVydGljZXMucHVzaCh0W2ldW3NdW2FdKTtpPjAmJnIuaG9sZXMucHVzaChuKz10W2ktMV0ubGVuZ3RoKTt9cmV0dXJuIHJ9LHh1LmRlZmF1bHQ9dnU7Y2xhc3MgdGN7Y29uc3RydWN0b3IodCl7dGhpcy56b29tPXQuem9vbSx0aGlzLm92ZXJzY2FsaW5nPXQub3ZlcnNjYWxpbmcsdGhpcy5sYXllcnM9dC5sYXllcnMsdGhpcy5sYXllcklkcz10aGlzLmxheWVycy5tYXAoKHQ9PnQuaWQpKSx0aGlzLmluZGV4PXQuaW5kZXgsdGhpcy5oYXNQYXR0ZXJuPSExLHRoaXMucGF0dGVybkZlYXR1cmVzPVtdLHRoaXMubGF5b3V0VmVydGV4QXJyYXk9bmV3IFFzLHRoaXMuaW5kZXhBcnJheT1uZXcgeWEsdGhpcy5pbmRleEFycmF5Mj1uZXcgX2EsdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnM9bmV3IGNvKHQubGF5ZXJzLHQuem9vbSksdGhpcy5zZWdtZW50cz1uZXcgX28sdGhpcy5zZWdtZW50czI9bmV3IF9vLHRoaXMuc3RhdGVEZXBlbmRlbnRMYXllcklkcz10aGlzLmxheWVycy5maWx0ZXIoKHQ9PnQuaXNTdGF0ZURlcGVuZGVudCgpKSkubWFwKCh0PT50LmlkKSksdGhpcy5wcm9qZWN0aW9uPXQucHJvamVjdGlvbjt9cG9wdWxhdGUodCxlLHIsbil7dGhpcy5oYXNQYXR0ZXJuPUp1KFwiZmlsbFwiLHRoaXMubGF5ZXJzLGUpO2NvbnN0IGk9dGhpcy5sYXllcnNbMF0ubGF5b3V0LmdldChcImZpbGwtc29ydC1rZXlcIikscz1bXTtmb3IoY29uc3R7ZmVhdHVyZTphLGlkOm8saW5kZXg6bCxzb3VyY2VMYXllckluZGV4OnV9b2YgdCl7Y29uc3QgdD10aGlzLmxheWVyc1swXS5fZmVhdHVyZUZpbHRlci5uZWVkR2VvbWV0cnksYz1HbyhhLHQpO2lmKCF0aGlzLmxheWVyc1swXS5fZmVhdHVyZUZpbHRlci5maWx0ZXIobmV3IENzKHRoaXMuem9vbSksYyxyKSljb250aW51ZTtjb25zdCBoPWk/aS5ldmFsdWF0ZShjLHt9LHIsZS5hdmFpbGFibGVJbWFnZXMpOnZvaWQgMCxwPXtpZDpvLHByb3BlcnRpZXM6YS5wcm9wZXJ0aWVzLHR5cGU6YS50eXBlLHNvdXJjZUxheWVySW5kZXg6dSxpbmRleDpsLGdlb21ldHJ5OnQ/Yy5nZW9tZXRyeTpObyhhLHIsbikscGF0dGVybnM6e30sc29ydEtleTpofTtzLnB1c2gocCk7fWkmJnMuc29ydCgoKHQsZSk9PnQuc29ydEtleS1lLnNvcnRLZXkpKTtmb3IoY29uc3QgbiBvZiBzKXtjb25zdHtnZW9tZXRyeTppLGluZGV4OnMsc291cmNlTGF5ZXJJbmRleDphfT1uO2lmKHRoaXMuaGFzUGF0dGVybil7Y29uc3QgdD1RdShcImZpbGxcIix0aGlzLmxheWVycyxuLHRoaXMuem9vbSxlKTt0aGlzLnBhdHRlcm5GZWF0dXJlcy5wdXNoKHQpO31lbHNlIHRoaXMuYWRkRmVhdHVyZShuLGkscyxyLHt9LGUuYXZhaWxhYmxlSW1hZ2VzKTtlLmZlYXR1cmVJbmRleC5pbnNlcnQodFtzXS5mZWF0dXJlLGkscyxhLHRoaXMuaW5kZXgpO319dXBkYXRlKHQsZSxyLG4pe3RoaXMuc3RhdGVEZXBlbmRlbnRMYXllcnMubGVuZ3RoJiZ0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy51cGRhdGVQYWludEFycmF5cyh0LGUsdGhpcy5zdGF0ZURlcGVuZGVudExheWVycyxyLG4pO31hZGRGZWF0dXJlcyh0LGUscixuLGkpe2Zvcihjb25zdCB0IG9mIHRoaXMucGF0dGVybkZlYXR1cmVzKXRoaXMuYWRkRmVhdHVyZSh0LHQuZ2VvbWV0cnksdC5pbmRleCxlLHIsbik7fWlzRW1wdHkoKXtyZXR1cm4gMD09PXRoaXMubGF5b3V0VmVydGV4QXJyYXkubGVuZ3RofXVwbG9hZFBlbmRpbmcoKXtyZXR1cm4gIXRoaXMudXBsb2FkZWR8fHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLm5lZWRzVXBsb2FkfXVwbG9hZCh0KXt0aGlzLnVwbG9hZGVkfHwodGhpcy5sYXlvdXRWZXJ0ZXhCdWZmZXI9dC5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy5sYXlvdXRWZXJ0ZXhBcnJheSxndSksdGhpcy5pbmRleEJ1ZmZlcj10LmNyZWF0ZUluZGV4QnVmZmVyKHRoaXMuaW5kZXhBcnJheSksdGhpcy5pbmRleEJ1ZmZlcjI9dC5jcmVhdGVJbmRleEJ1ZmZlcih0aGlzLmluZGV4QXJyYXkyKSksdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMudXBsb2FkKHQpLHRoaXMudXBsb2FkZWQ9ITA7fWRlc3Ryb3koKXt0aGlzLmxheW91dFZlcnRleEJ1ZmZlciYmKHRoaXMubGF5b3V0VmVydGV4QnVmZmVyLmRlc3Ryb3koKSx0aGlzLmluZGV4QnVmZmVyLmRlc3Ryb3koKSx0aGlzLmluZGV4QnVmZmVyMi5kZXN0cm95KCksdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMuZGVzdHJveSgpLHRoaXMuc2VnbWVudHMuZGVzdHJveSgpLHRoaXMuc2VnbWVudHMyLmRlc3Ryb3koKSk7fWFkZEZlYXR1cmUodCxlLHIsbixpLHM9W10pe2Zvcihjb25zdCB0IG9mIFl1KGUsNTAwKSl7bGV0IGU9MDtmb3IoY29uc3QgciBvZiB0KWUrPXIubGVuZ3RoO2NvbnN0IHI9dGhpcy5zZWdtZW50cy5wcmVwYXJlU2VnbWVudChlLHRoaXMubGF5b3V0VmVydGV4QXJyYXksdGhpcy5pbmRleEFycmF5KSxuPXIudmVydGV4TGVuZ3RoLGk9W10scz1bXTtmb3IoY29uc3QgZSBvZiB0KXtpZigwPT09ZS5sZW5ndGgpY29udGludWU7ZSE9PXRbMF0mJnMucHVzaChpLmxlbmd0aC8yKTtjb25zdCByPXRoaXMuc2VnbWVudHMyLnByZXBhcmVTZWdtZW50KGUubGVuZ3RoLHRoaXMubGF5b3V0VmVydGV4QXJyYXksdGhpcy5pbmRleEFycmF5Miksbj1yLnZlcnRleExlbmd0aDt0aGlzLmxheW91dFZlcnRleEFycmF5LmVtcGxhY2VCYWNrKGVbMF0ueCxlWzBdLnkpLHRoaXMuaW5kZXhBcnJheTIuZW1wbGFjZUJhY2sobitlLmxlbmd0aC0xLG4pLGkucHVzaChlWzBdLngpLGkucHVzaChlWzBdLnkpO2ZvcihsZXQgdD0xO3Q8ZS5sZW5ndGg7dCsrKXRoaXMubGF5b3V0VmVydGV4QXJyYXkuZW1wbGFjZUJhY2soZVt0XS54LGVbdF0ueSksdGhpcy5pbmRleEFycmF5Mi5lbXBsYWNlQmFjayhuK3QtMSxuK3QpLGkucHVzaChlW3RdLngpLGkucHVzaChlW3RdLnkpO3IudmVydGV4TGVuZ3RoKz1lLmxlbmd0aCxyLnByaW1pdGl2ZUxlbmd0aCs9ZS5sZW5ndGg7fWNvbnN0IGE9eHUoaSxzKTtmb3IobGV0IHQ9MDt0PGEubGVuZ3RoO3QrPTMpdGhpcy5pbmRleEFycmF5LmVtcGxhY2VCYWNrKG4rYVt0XSxuK2FbdCsxXSxuK2FbdCsyXSk7ci52ZXJ0ZXhMZW5ndGgrPWUsci5wcmltaXRpdmVMZW5ndGgrPWEubGVuZ3RoLzM7fXRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnBvcHVsYXRlUGFpbnRBcnJheXModGhpcy5sYXlvdXRWZXJ0ZXhBcnJheS5sZW5ndGgsdCxyLGkscyxuKTt9fVBpKHRjLFwiRmlsbEJ1Y2tldFwiLHtvbWl0OltcImxheWVyc1wiLFwicGF0dGVybkZlYXR1cmVzXCJdfSk7Y29uc3QgZWM9bmV3IFpzKHtcImZpbGwtc29ydC1rZXlcIjpuZXcgT3MoR3QubGF5b3V0X2ZpbGxbXCJmaWxsLXNvcnQta2V5XCJdKX0pO3ZhciByYz17cGFpbnQ6bmV3IFpzKHtcImZpbGwtYW50aWFsaWFzXCI6bmV3ICRzKEd0LnBhaW50X2ZpbGxbXCJmaWxsLWFudGlhbGlhc1wiXSksXCJmaWxsLW9wYWNpdHlcIjpuZXcgT3MoR3QucGFpbnRfZmlsbFtcImZpbGwtb3BhY2l0eVwiXSksXCJmaWxsLWNvbG9yXCI6bmV3IE9zKEd0LnBhaW50X2ZpbGxbXCJmaWxsLWNvbG9yXCJdKSxcImZpbGwtb3V0bGluZS1jb2xvclwiOm5ldyBPcyhHdC5wYWludF9maWxsW1wiZmlsbC1vdXRsaW5lLWNvbG9yXCJdKSxcImZpbGwtdHJhbnNsYXRlXCI6bmV3ICRzKEd0LnBhaW50X2ZpbGxbXCJmaWxsLXRyYW5zbGF0ZVwiXSksXCJmaWxsLXRyYW5zbGF0ZS1hbmNob3JcIjpuZXcgJHMoR3QucGFpbnRfZmlsbFtcImZpbGwtdHJhbnNsYXRlLWFuY2hvclwiXSksXCJmaWxsLXBhdHRlcm5cIjpuZXcgcXMoR3QucGFpbnRfZmlsbFtcImZpbGwtcGF0dGVyblwiXSl9KSxsYXlvdXQ6ZWN9O2NvbnN0IG5jPVdzKFt7bmFtZTpcImFfcG9zX25vcm1hbF9lZFwiLGNvbXBvbmVudHM6NCx0eXBlOlwiSW50MTZcIn1dKSxpYz1Xcyhbe25hbWU6XCJhX2NlbnRyb2lkX3Bvc1wiLGNvbXBvbmVudHM6Mix0eXBlOlwiVWludDE2XCJ9XSksc2M9V3MoW3tuYW1lOlwiYV9wb3NfM1wiLGNvbXBvbmVudHM6Myx0eXBlOlwiSW50MTZcIn0se25hbWU6XCJhX3Bvc19ub3JtYWxfM1wiLGNvbXBvbmVudHM6Myx0eXBlOlwiSW50MTZcIn1dKSx7bWVtYmVyczphY309bmM7dmFyIG9jPWxjO2Z1bmN0aW9uIGxjKHQsZSxyLG4saSl7dGhpcy5wcm9wZXJ0aWVzPXt9LHRoaXMuZXh0ZW50PXIsdGhpcy50eXBlPTAsdGhpcy5fcGJmPXQsdGhpcy5fZ2VvbWV0cnk9LTEsdGhpcy5fa2V5cz1uLHRoaXMuX3ZhbHVlcz1pLHQucmVhZEZpZWxkcyh1Yyx0aGlzLGUpO31mdW5jdGlvbiB1Yyh0LGUscil7MT09dD9lLmlkPXIucmVhZFZhcmludCgpOjI9PXQ/ZnVuY3Rpb24odCxlKXtmb3IodmFyIHI9dC5yZWFkVmFyaW50KCkrdC5wb3M7dC5wb3M8cjspe3ZhciBuPWUuX2tleXNbdC5yZWFkVmFyaW50KCldLGk9ZS5fdmFsdWVzW3QucmVhZFZhcmludCgpXTtlLnByb3BlcnRpZXNbbl09aTt9fShyLGUpOjM9PXQ/ZS50eXBlPXIucmVhZFZhcmludCgpOjQ9PXQmJihlLl9nZW9tZXRyeT1yLnBvcyk7fWZ1bmN0aW9uIGNjKHQpe2Zvcih2YXIgZSxyLG49MCxpPTAscz10Lmxlbmd0aCxhPXMtMTtpPHM7YT1pKyspbis9KChyPXRbYV0pLngtKGU9dFtpXSkueCkqKGUueStyLnkpO3JldHVybiBufWxjLnR5cGVzPVtcIlVua25vd25cIixcIlBvaW50XCIsXCJMaW5lU3RyaW5nXCIsXCJQb2x5Z29uXCJdLGxjLnByb3RvdHlwZS5sb2FkR2VvbWV0cnk9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9wYmY7dC5wb3M9dGhpcy5fZ2VvbWV0cnk7Zm9yKHZhciBlLHI9dC5yZWFkVmFyaW50KCkrdC5wb3Msbj0xLHM9MCxhPTAsbz0wLGw9W107dC5wb3M8cjspe2lmKHM8PTApe3ZhciB1PXQucmVhZFZhcmludCgpO249NyZ1LHM9dT4+Mzt9aWYocy0tLDE9PT1ufHwyPT09bilhKz10LnJlYWRTVmFyaW50KCksbys9dC5yZWFkU1ZhcmludCgpLDE9PT1uJiYoZSYmbC5wdXNoKGUpLGU9W10pLGUucHVzaChuZXcgaShhLG8pKTtlbHNlIHtpZig3IT09bil0aHJvdyBuZXcgRXJyb3IoXCJ1bmtub3duIGNvbW1hbmQgXCIrbik7ZSYmZS5wdXNoKGVbMF0uY2xvbmUoKSk7fX1yZXR1cm4gZSYmbC5wdXNoKGUpLGx9LGxjLnByb3RvdHlwZS5iYm94PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fcGJmO3QucG9zPXRoaXMuX2dlb21ldHJ5O2Zvcih2YXIgZT10LnJlYWRWYXJpbnQoKSt0LnBvcyxyPTEsbj0wLGk9MCxzPTAsYT0xLzAsbz0tMS8wLGw9MS8wLHU9LTEvMDt0LnBvczxlOyl7aWYobjw9MCl7dmFyIGM9dC5yZWFkVmFyaW50KCk7cj03JmMsbj1jPj4zO31pZihuLS0sMT09PXJ8fDI9PT1yKShpKz10LnJlYWRTVmFyaW50KCkpPGEmJihhPWkpLGk+byYmKG89aSksKHMrPXQucmVhZFNWYXJpbnQoKSk8bCYmKGw9cykscz51JiYodT1zKTtlbHNlIGlmKDchPT1yKXRocm93IG5ldyBFcnJvcihcInVua25vd24gY29tbWFuZCBcIityKX1yZXR1cm4gW2EsbCxvLHVdfSxsYy5wcm90b3R5cGUudG9HZW9KU09OPWZ1bmN0aW9uKHQsZSxyKXt2YXIgbixpLHM9dGhpcy5leHRlbnQqTWF0aC5wb3coMixyKSxhPXRoaXMuZXh0ZW50KnQsbz10aGlzLmV4dGVudCplLGw9dGhpcy5sb2FkR2VvbWV0cnkoKSx1PWxjLnR5cGVzW3RoaXMudHlwZV07ZnVuY3Rpb24gYyh0KXtmb3IodmFyIGU9MDtlPHQubGVuZ3RoO2UrKyl7dmFyIHI9dFtlXTt0W2VdPVszNjAqKHIueCthKS9zLTE4MCwzNjAvTWF0aC5QSSpNYXRoLmF0YW4oTWF0aC5leHAoKDE4MC0zNjAqKHIueStvKS9zKSpNYXRoLlBJLzE4MCkpLTkwXTt9fXN3aXRjaCh0aGlzLnR5cGUpe2Nhc2UgMTp2YXIgaD1bXTtmb3Iobj0wO248bC5sZW5ndGg7bisrKWhbbl09bFtuXVswXTtjKGw9aCk7YnJlYWs7Y2FzZSAyOmZvcihuPTA7bjxsLmxlbmd0aDtuKyspYyhsW25dKTticmVhaztjYXNlIDM6Zm9yKGw9ZnVuY3Rpb24odCl7dmFyIGU9dC5sZW5ndGg7aWYoZTw9MSlyZXR1cm4gW3RdO2Zvcih2YXIgcixuLGk9W10scz0wO3M8ZTtzKyspe3ZhciBhPWNjKHRbc10pOzAhPT1hJiYodm9pZCAwPT09biYmKG49YTwwKSxuPT09YTwwPyhyJiZpLnB1c2gocikscj1bdFtzXV0pOnIucHVzaCh0W3NdKSk7fXJldHVybiByJiZpLnB1c2gociksaX0obCksbj0wO248bC5sZW5ndGg7bisrKWZvcihpPTA7aTxsW25dLmxlbmd0aDtpKyspYyhsW25dW2ldKTt9MT09PWwubGVuZ3RoP2w9bFswXTp1PVwiTXVsdGlcIit1O3ZhciBwPXt0eXBlOlwiRmVhdHVyZVwiLGdlb21ldHJ5Ont0eXBlOnUsY29vcmRpbmF0ZXM6bH0scHJvcGVydGllczp0aGlzLnByb3BlcnRpZXN9O3JldHVybiBcImlkXCJpbiB0aGlzJiYocC5pZD10aGlzLmlkKSxwfTt2YXIgaGM9cGM7ZnVuY3Rpb24gcGModCxlKXt0aGlzLnZlcnNpb249MSx0aGlzLm5hbWU9bnVsbCx0aGlzLmV4dGVudD00MDk2LHRoaXMubGVuZ3RoPTAsdGhpcy5fcGJmPXQsdGhpcy5fa2V5cz1bXSx0aGlzLl92YWx1ZXM9W10sdGhpcy5fZmVhdHVyZXM9W10sdC5yZWFkRmllbGRzKGZjLHRoaXMsZSksdGhpcy5sZW5ndGg9dGhpcy5fZmVhdHVyZXMubGVuZ3RoO31mdW5jdGlvbiBmYyh0LGUscil7MTU9PT10P2UudmVyc2lvbj1yLnJlYWRWYXJpbnQoKToxPT09dD9lLm5hbWU9ci5yZWFkU3RyaW5nKCk6NT09PXQ/ZS5leHRlbnQ9ci5yZWFkVmFyaW50KCk6Mj09PXQ/ZS5fZmVhdHVyZXMucHVzaChyLnBvcyk6Mz09PXQ/ZS5fa2V5cy5wdXNoKHIucmVhZFN0cmluZygpKTo0PT09dCYmZS5fdmFsdWVzLnB1c2goZnVuY3Rpb24odCl7Zm9yKHZhciBlPW51bGwscj10LnJlYWRWYXJpbnQoKSt0LnBvczt0LnBvczxyOyl7dmFyIG49dC5yZWFkVmFyaW50KCk+PjM7ZT0xPT09bj90LnJlYWRTdHJpbmcoKToyPT09bj90LnJlYWRGbG9hdCgpOjM9PT1uP3QucmVhZERvdWJsZSgpOjQ9PT1uP3QucmVhZFZhcmludDY0KCk6NT09PW4/dC5yZWFkVmFyaW50KCk6Nj09PW4/dC5yZWFkU1ZhcmludCgpOjc9PT1uP3QucmVhZEJvb2xlYW4oKTpudWxsO31yZXR1cm4gZX0ocikpO31mdW5jdGlvbiBkYyh0LGUscil7aWYoMz09PXQpe3ZhciBuPW5ldyBoYyhyLHIucmVhZFZhcmludCgpK3IucG9zKTtuLmxlbmd0aCYmKGVbbi5uYW1lXT1uKTt9fXBjLnByb3RvdHlwZS5mZWF0dXJlPWZ1bmN0aW9uKHQpe2lmKHQ8MHx8dD49dGhpcy5fZmVhdHVyZXMubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcImZlYXR1cmUgaW5kZXggb3V0IG9mIGJvdW5kc1wiKTt0aGlzLl9wYmYucG9zPXRoaXMuX2ZlYXR1cmVzW3RdO3ZhciBlPXRoaXMuX3BiZi5yZWFkVmFyaW50KCkrdGhpcy5fcGJmLnBvcztyZXR1cm4gbmV3IG9jKHRoaXMuX3BiZixlLHRoaXMuZXh0ZW50LHRoaXMuX2tleXMsdGhpcy5fdmFsdWVzKX07dmFyIHljPXtWZWN0b3JUaWxlOmZ1bmN0aW9uKHQsZSl7dGhpcy5sYXllcnM9dC5yZWFkRmllbGRzKGRjLHt9LGUpO30sVmVjdG9yVGlsZUZlYXR1cmU6b2MsVmVjdG9yVGlsZUxheWVyOmhjfTtmdW5jdGlvbiBtYyh0LGUscixuKXtjb25zdCBzPVtdLGE9MD09PW4/KHQsZSxyLG4scyxhKT0+e3QucHVzaChuZXcgaShhLHIrKGEtZSkvKG4tZSkqKHMtcikpKTt9Oih0LGUscixuLHMsYSk9Pnt0LnB1c2gobmV3IGkoZSsoYS1yKS8ocy1yKSoobi1lKSxhKSk7fTtmb3IoY29uc3QgaSBvZiB0KXtjb25zdCB0PVtdO2Zvcihjb25zdCBzIG9mIGkpe2lmKHMubGVuZ3RoPD0yKWNvbnRpbnVlO2NvbnN0IGk9W107Zm9yKGxldCB0PTA7dDxzLmxlbmd0aC0xO3QrKyl7Y29uc3Qgbz1zW3RdLngsbD1zW3RdLnksdT1zW3QrMV0ueCxjPXNbdCsxXS55LGg9MD09PW4/bzpsLHA9MD09PW4/dTpjO2g8ZT9wPmUmJmEoaSxvLGwsdSxjLGUpOmg+cj9wPHImJmEoaSxvLGwsdSxjLHIpOmkucHVzaChzW3RdKSxwPGUmJmg+PWUmJmEoaSxvLGwsdSxjLGUpLHA+ciYmaDw9ciYmYShpLG8sbCx1LGMscik7fWxldCBvPXNbcy5sZW5ndGgtMV07Y29uc3QgbD0wPT09bj9vLng6by55O2w+PWUmJmw8PXImJmkucHVzaChvKSxpLmxlbmd0aCYmKG89aVtpLmxlbmd0aC0xXSxpWzBdLng9PT1vLngmJmlbMF0ueT09PW8ueXx8aS5wdXNoKGlbMF0pLHQucHVzaChpKSk7fXQubGVuZ3RoJiZzLnB1c2godCk7fXJldHVybiBzfWNvbnN0IGdjPXljLlZlY3RvclRpbGVGZWF0dXJlLnR5cGVzLHhjPU1hdGgucG93KDIsMTMpO2Z1bmN0aW9uIHZjKHQsZSxyLG4saSxzLGEsbyl7dC5lbXBsYWNlQmFjaygoZTw8MSkrYSwocjw8MSkrcywoTWF0aC5mbG9vcihuKnhjKTw8MSkraSxNYXRoLnJvdW5kKG8pKTt9ZnVuY3Rpb24gYmModCxlLHIpe2NvbnN0IG49MTYzODQ7dC5lbXBsYWNlQmFjayhlLngsZS55LGUueixyWzBdKm4sclsxXSpuLHJbMl0qbik7fWNsYXNzIF9je2NvbnN0cnVjdG9yKCl7dGhpcy5hY2M9bmV3IGkoMCwwKSx0aGlzLnBvbHlDb3VudD1bXTt9c3RhcnRSaW5nKHQpe3RoaXMuY3VycmVudFBvbHlDb3VudD17ZWRnZXM6MCx0b3A6MH0sdGhpcy5wb2x5Q291bnQucHVzaCh0aGlzLmN1cnJlbnRQb2x5Q291bnQpLHRoaXMubWlufHwodGhpcy5taW49bmV3IGkodC54LHQueSksdGhpcy5tYXg9bmV3IGkodC54LHQueSkpO31hcHBlbmQodCxlKXt0aGlzLmN1cnJlbnRQb2x5Q291bnQuZWRnZXMrKyx0aGlzLmFjYy5fYWRkKHQpO2NvbnN0IHI9dGhpcy5taW4sbj10aGlzLm1heDt0Lng8ci54P3IueD10Lng6dC54Pm4ueCYmKG4ueD10LngpLHQueTxyLnk/ci55PXQueTp0Lnk+bi55JiYobi55PXQueSksKCgwPT09dC54fHx0Lng9PT13bykmJnQueD09PWUueCkhPSgoMD09PXQueXx8dC55PT09d28pJiZ0Lnk9PT1lLnkpJiZ0aGlzLnByb2Nlc3NCb3JkZXJPdmVybGFwKHQsZSksZS54PDAhPXQueDwwJiZ0aGlzLmFkZEJvcmRlckludGVyc2VjdGlvbigwLHhyKGUueSx0LnksKDAtZS54KS8odC54LWUueCkpKSxlLng+d28hPXQueD53byYmdGhpcy5hZGRCb3JkZXJJbnRlcnNlY3Rpb24oMSx4cihlLnksdC55LCh3by1lLngpLyh0LngtZS54KSkpLGUueTwwIT10Lnk8MCYmdGhpcy5hZGRCb3JkZXJJbnRlcnNlY3Rpb24oMix4cihlLngsdC54LCgwLWUueSkvKHQueS1lLnkpKSksZS55PndvIT10Lnk+d28mJnRoaXMuYWRkQm9yZGVySW50ZXJzZWN0aW9uKDMseHIoZS54LHQueCwod28tZS55KS8odC55LWUueSkpKTt9YWRkQm9yZGVySW50ZXJzZWN0aW9uKHQsZSl7dGhpcy5ib3JkZXJzfHwodGhpcy5ib3JkZXJzPVtbTnVtYmVyLk1BWF9WQUxVRSwtTnVtYmVyLk1BWF9WQUxVRV0sW051bWJlci5NQVhfVkFMVUUsLU51bWJlci5NQVhfVkFMVUVdLFtOdW1iZXIuTUFYX1ZBTFVFLC1OdW1iZXIuTUFYX1ZBTFVFXSxbTnVtYmVyLk1BWF9WQUxVRSwtTnVtYmVyLk1BWF9WQUxVRV1dKTtjb25zdCByPXRoaXMuYm9yZGVyc1t0XTtlPHJbMF0mJihyWzBdPWUpLGU+clsxXSYmKHJbMV09ZSk7fXByb2Nlc3NCb3JkZXJPdmVybGFwKHQsZSl7aWYodC54PT09ZS54KXtpZih0Lnk9PT1lLnkpcmV0dXJuO2NvbnN0IHI9MD09PXQueD8wOjE7dGhpcy5hZGRCb3JkZXJJbnRlcnNlY3Rpb24ocixlLnkpLHRoaXMuYWRkQm9yZGVySW50ZXJzZWN0aW9uKHIsdC55KTt9ZWxzZSB7Y29uc3Qgcj0wPT09dC55PzI6Mzt0aGlzLmFkZEJvcmRlckludGVyc2VjdGlvbihyLGUueCksdGhpcy5hZGRCb3JkZXJJbnRlcnNlY3Rpb24ocix0LngpO319Y2VudHJvaWQoKXtjb25zdCB0PXRoaXMucG9seUNvdW50LnJlZHVjZSgoKHQsZSk9PnQrZS5lZGdlcyksMCk7cmV0dXJuIDAhPT10P3RoaXMuYWNjLmRpdih0KS5fcm91bmQoKTpuZXcgaSgwLDApfXNwYW4oKXtyZXR1cm4gbmV3IGkodGhpcy5tYXgueC10aGlzLm1pbi54LHRoaXMubWF4LnktdGhpcy5taW4ueSl9aW50ZXJzZWN0c0NvdW50KCl7cmV0dXJuIHRoaXMuYm9yZGVycy5yZWR1Y2UoKCh0LGUpPT50KyArKGVbMF0hPT1OdW1iZXIuTUFYX1ZBTFVFKSksMCl9fWNsYXNzIHdje2NvbnN0cnVjdG9yKHQpe3RoaXMuem9vbT10Lnpvb20sdGhpcy5jYW5vbmljYWw9dC5jYW5vbmljYWwsdGhpcy5vdmVyc2NhbGluZz10Lm92ZXJzY2FsaW5nLHRoaXMubGF5ZXJzPXQubGF5ZXJzLHRoaXMubGF5ZXJJZHM9dGhpcy5sYXllcnMubWFwKCh0PT50LmlkKSksdGhpcy5pbmRleD10LmluZGV4LHRoaXMuaGFzUGF0dGVybj0hMSx0aGlzLmVkZ2VSYWRpdXM9MCx0aGlzLnByb2plY3Rpb249dC5wcm9qZWN0aW9uLHRoaXMubGF5b3V0VmVydGV4QXJyYXk9bmV3IGVhLHRoaXMuY2VudHJvaWRWZXJ0ZXhBcnJheT1uZXcgTGEsdGhpcy5pbmRleEFycmF5PW5ldyB5YSx0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucz1uZXcgY28odC5sYXllcnMsdC56b29tKSx0aGlzLnNlZ21lbnRzPW5ldyBfbyx0aGlzLnN0YXRlRGVwZW5kZW50TGF5ZXJJZHM9dGhpcy5sYXllcnMuZmlsdGVyKCh0PT50LmlzU3RhdGVEZXBlbmRlbnQoKSkpLm1hcCgodD0+dC5pZCkpLHRoaXMuZW5hYmxlVGVycmFpbj10LmVuYWJsZVRlcnJhaW47fXBvcHVsYXRlKHQsZSxyLG4pe3RoaXMuZmVhdHVyZXM9W10sdGhpcy5oYXNQYXR0ZXJuPUp1KFwiZmlsbC1leHRydXNpb25cIix0aGlzLmxheWVycyxlKSx0aGlzLmZlYXR1cmVzT25Cb3JkZXI9W10sdGhpcy5ib3JkZXJzPVtbXSxbXSxbXSxbXV0sdGhpcy5ib3JkZXJEb25lV2l0aE5laWdoYm9yWj1bLTEsLTEsLTEsLTFdLHRoaXMudGlsZVRvTWV0ZXI9ZnVuY3Rpb24odCl7Y29uc3QgZT1NYXRoLmV4cChNYXRoLlBJKigxLXQueS8oMTw8dC56KSoyKSk7cmV0dXJuIDgwMTUwMDM0KmUvKGUqZSsxKS93by8oMTw8dC56KX0ociksdGhpcy5lZGdlUmFkaXVzPXRoaXMubGF5ZXJzWzBdLmxheW91dC5nZXQoXCJmaWxsLWV4dHJ1c2lvbi1lZGdlLXJhZGl1c1wiKS90aGlzLnRpbGVUb01ldGVyO2Zvcihjb25zdHtmZWF0dXJlOmksaWQ6cyxpbmRleDphLHNvdXJjZUxheWVySW5kZXg6b31vZiB0KXtjb25zdCB0PXRoaXMubGF5ZXJzWzBdLl9mZWF0dXJlRmlsdGVyLm5lZWRHZW9tZXRyeSxsPUdvKGksdCk7aWYoIXRoaXMubGF5ZXJzWzBdLl9mZWF0dXJlRmlsdGVyLmZpbHRlcihuZXcgQ3ModGhpcy56b29tKSxsLHIpKWNvbnRpbnVlO2NvbnN0IHU9e2lkOnMsc291cmNlTGF5ZXJJbmRleDpvLGluZGV4OmEsZ2VvbWV0cnk6dD9sLmdlb21ldHJ5Ok5vKGkscixuKSxwcm9wZXJ0aWVzOmkucHJvcGVydGllcyx0eXBlOmkudHlwZSxwYXR0ZXJuczp7fX0sYz10aGlzLmxheW91dFZlcnRleEFycmF5Lmxlbmd0aDt0aGlzLmhhc1BhdHRlcm4/dGhpcy5mZWF0dXJlcy5wdXNoKFF1KFwiZmlsbC1leHRydXNpb25cIix0aGlzLmxheWVycyx1LHRoaXMuem9vbSxlKSk6dGhpcy5hZGRGZWF0dXJlKHUsdS5nZW9tZXRyeSxhLHIse30sZS5hdmFpbGFibGVJbWFnZXMsbiksZS5mZWF0dXJlSW5kZXguaW5zZXJ0KGksdS5nZW9tZXRyeSxhLG8sdGhpcy5pbmRleCxjKTt9dGhpcy5zb3J0Qm9yZGVycygpO31hZGRGZWF0dXJlcyh0LGUscixuLGkpe2Zvcihjb25zdCB0IG9mIHRoaXMuZmVhdHVyZXMpe2NvbnN0e2dlb21ldHJ5OnN9PXQ7dGhpcy5hZGRGZWF0dXJlKHQscyx0LmluZGV4LGUscixuLGkpO310aGlzLnNvcnRCb3JkZXJzKCk7fXVwZGF0ZSh0LGUscixuKXt0aGlzLnN0YXRlRGVwZW5kZW50TGF5ZXJzLmxlbmd0aCYmdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMudXBkYXRlUGFpbnRBcnJheXModCxlLHRoaXMuc3RhdGVEZXBlbmRlbnRMYXllcnMscixuKTt9aXNFbXB0eSgpe3JldHVybiAwPT09dGhpcy5sYXlvdXRWZXJ0ZXhBcnJheS5sZW5ndGh9dXBsb2FkUGVuZGluZygpe3JldHVybiAhdGhpcy51cGxvYWRlZHx8dGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMubmVlZHNVcGxvYWR9dXBsb2FkKHQpe3RoaXMudXBsb2FkZWR8fCh0aGlzLmxheW91dFZlcnRleEJ1ZmZlcj10LmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLmxheW91dFZlcnRleEFycmF5LGFjKSx0aGlzLmluZGV4QnVmZmVyPXQuY3JlYXRlSW5kZXhCdWZmZXIodGhpcy5pbmRleEFycmF5KSx0aGlzLmxheW91dFZlcnRleEV4dEFycmF5JiYodGhpcy5sYXlvdXRWZXJ0ZXhFeHRCdWZmZXI9dC5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy5sYXlvdXRWZXJ0ZXhFeHRBcnJheSxzYy5tZW1iZXJzLCEwKSkpLHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnVwbG9hZCh0KSx0aGlzLnVwbG9hZGVkPSEwO311cGxvYWRDZW50cm9pZCh0KXswIT09dGhpcy5jZW50cm9pZFZlcnRleEFycmF5Lmxlbmd0aCYmKHRoaXMuY2VudHJvaWRWZXJ0ZXhCdWZmZXI/dGhpcy5uZWVkc0NlbnRyb2lkVXBkYXRlJiZ0aGlzLmNlbnRyb2lkVmVydGV4QnVmZmVyLnVwZGF0ZURhdGEodGhpcy5jZW50cm9pZFZlcnRleEFycmF5KTp0aGlzLmNlbnRyb2lkVmVydGV4QnVmZmVyPXQuY3JlYXRlVmVydGV4QnVmZmVyKHRoaXMuY2VudHJvaWRWZXJ0ZXhBcnJheSxpYy5tZW1iZXJzLCEwKSx0aGlzLm5lZWRzQ2VudHJvaWRVcGRhdGU9ITEpO31kZXN0cm95KCl7dGhpcy5sYXlvdXRWZXJ0ZXhCdWZmZXImJih0aGlzLmxheW91dFZlcnRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5jZW50cm9pZFZlcnRleEJ1ZmZlciYmdGhpcy5jZW50cm9pZFZlcnRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5sYXlvdXRWZXJ0ZXhFeHRCdWZmZXImJnRoaXMubGF5b3V0VmVydGV4RXh0QnVmZmVyLmRlc3Ryb3koKSx0aGlzLmluZGV4QnVmZmVyLmRlc3Ryb3koKSx0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy5kZXN0cm95KCksdGhpcy5zZWdtZW50cy5kZXN0cm95KCkpO31hZGRGZWF0dXJlKHQsZSxyLG4scyxhLG8pe2NvbnN0IGw9W25ldyBpKDAsMCksbmV3IGkod28sd28pXSx1PW8ucHJvamVjdGlvbixjPVwiZ2xvYmVcIj09PXUubmFtZSxoPXRoaXMuZW5hYmxlVGVycmFpbiYmIWM/bmV3IF9jOm51bGwscD1cIlBvbHlnb25cIj09PWdjW3QudHlwZV07YyYmIXRoaXMubGF5b3V0VmVydGV4RXh0QXJyYXkmJih0aGlzLmxheW91dFZlcnRleEV4dEFycmF5PW5ldyBrYSk7Y29uc3QgZj1ZdShlLDUwMCk7Zm9yKGxldCB0PWYubGVuZ3RoLTE7dD49MDt0LS0pe2NvbnN0IGU9Zlt0XTsoMD09PWUubGVuZ3RofHwoZD1lWzBdKS5ldmVyeSgodD0+dC54PD0wKSl8fGQuZXZlcnkoKHQ9PnQueD49d28pKXx8ZC5ldmVyeSgodD0+dC55PD0wKSl8fGQuZXZlcnkoKHQ9PnQueT49d28pKSkmJmYuc3BsaWNlKHQsMSk7fXZhciBkO2xldCB5O2lmKGMpeT1CYyhmLGwsbik7ZWxzZSB7eT1bXTtmb3IoY29uc3QgdCBvZiBmKXkucHVzaCh7cG9seWdvbjp0LGJvdW5kczpsfSk7fWNvbnN0IG09cD90aGlzLmVkZ2VSYWRpdXM6MDtmb3IoY29uc3R7cG9seWdvbjp0LGJvdW5kczplfW9mIHkpe2xldCByPTAsaT0wO2Zvcihjb25zdCBlIG9mIHQpcCYmIWVbMF0uZXF1YWxzKGVbZS5sZW5ndGgtMV0pJiZlLnB1c2goZVswXSksaSs9cD9lLmxlbmd0aC0xOmUubGVuZ3RoO2NvbnN0IHM9dGhpcy5zZWdtZW50cy5wcmVwYXJlU2VnbWVudCgocD81OjQpKmksdGhpcy5sYXlvdXRWZXJ0ZXhBcnJheSx0aGlzLmluZGV4QXJyYXkpO2lmKHApe2NvbnN0IGU9W10saT1bXTtyPXMudmVydGV4TGVuZ3RoO2Zvcihjb25zdCByIG9mIHQpe2xldCBhLG87ci5sZW5ndGgmJnIhPT10WzBdJiZpLnB1c2goZS5sZW5ndGgvMiksYT1yWzFdLnN1YihyWzBdKS5fcGVycCgpLl91bml0KCk7Zm9yKGxldCB0PTE7dDxyLmxlbmd0aDt0Kyspe2NvbnN0IGk9clt0XSxsPXJbdD09PXIubGVuZ3RoLTE/MTp0KzFdO2xldHt4OmgseTpwfT1pO2lmKG0pe289bC5zdWIoaSkuX3BlcnAoKS5fdW5pdCgpO2NvbnN0IHQ9YS5hZGQobykuX3VuaXQoKSxlPW0qTWF0aC5taW4oNCwxLyhhLngqdC54K2EueSp0LnkpKTtoKz1lKnQueCxwKz1lKnQueSxhPW87fXZjKHRoaXMubGF5b3V0VmVydGV4QXJyYXksaCxwLDAsMCwxLDEsMCkscy52ZXJ0ZXhMZW5ndGgrKyxlLnB1c2goaS54LGkueSksYyYmYmModGhpcy5sYXlvdXRWZXJ0ZXhFeHRBcnJheSx1LnByb2plY3RUaWxlUG9pbnQoaCxwLG4pLHUudXBWZWN0b3IobixoLHApKTt9fWNvbnN0IGE9eHUoZSxpKTtmb3IobGV0IHQ9MDt0PGEubGVuZ3RoO3QrPTMpdGhpcy5pbmRleEFycmF5LmVtcGxhY2VCYWNrKHIrYVt0XSxyK2FbdCsyXSxyK2FbdCsxXSkscy5wcmltaXRpdmVMZW5ndGgrKzt9Zm9yKGNvbnN0IGkgb2YgdCl7aCYmaS5sZW5ndGgmJmguc3RhcnRSaW5nKGlbMF0pO2xldCB0LGEsbyxsPWkubGVuZ3RoPjQmJk1jKGlbaS5sZW5ndGgtMl0saVswXSxpWzFdKSxmPW0/U2MoaVtpLmxlbmd0aC0yXSxpWzBdLGlbMV0sbSk6MDthPWlbMV0uc3ViKGlbMF0pLl9wZXJwKCkuX3VuaXQoKTtmb3IobGV0IGQ9MSx5PTA7ZDxpLmxlbmd0aDtkKyspe2xldCBnPWlbZC0xXSx4PWlbZF07Y29uc3Qgdj1pW2Q9PT1pLmxlbmd0aC0xPzE6ZCsxXTtpZihoJiZwJiZoLmN1cnJlbnRQb2x5Q291bnQudG9wKyssSWMoeCxnLGUpKXttJiYoYT12LnN1Yih4KS5fcGVycCgpLl91bml0KCkpO2NvbnRpbnVlfWgmJmguYXBwZW5kKHgsZyk7Y29uc3QgYj14LnN1YihnKS5fcGVycCgpLF89Yi54LyhNYXRoLmFicyhiLngpK01hdGguYWJzKGIueSkpLHc9Yi55PjA/MTowLEE9Zy5kaXN0KHgpO2lmKHkrQT4zMjc2OCYmKHk9MCksbSl7bz12LnN1Yih4KS5fcGVycCgpLl91bml0KCk7bGV0IHQ9a2MoZyx4LHYsQWMoYSxvKSxtKTtpc05hTih0KSYmKHQ9MCk7Y29uc3QgZT14LnN1YihnKS5fdW5pdCgpO2c9Zy5hZGQoZS5tdWx0KGYpKS5fcm91bmQoKSx4PXguYWRkKGUubXVsdCgtdCkpLl9yb3VuZCgpLGY9dCxhPW87fWNvbnN0IFM9cy52ZXJ0ZXhMZW5ndGgsaz1pLmxlbmd0aD40JiZNYyhnLHgsdik7bGV0IEk9emMoeSxsLCEwKTtpZih2Yyh0aGlzLmxheW91dFZlcnRleEFycmF5LGcueCxnLnksXyx3LDAsMCxJKSx2Yyh0aGlzLmxheW91dFZlcnRleEFycmF5LGcueCxnLnksXyx3LDAsMSxJKSx5Kz1BLEk9emMoeSxrLCExKSxsPWssdmModGhpcy5sYXlvdXRWZXJ0ZXhBcnJheSx4LngseC55LF8sdywwLDAsSSksdmModGhpcy5sYXlvdXRWZXJ0ZXhBcnJheSx4LngseC55LF8sdywwLDEsSSkscy52ZXJ0ZXhMZW5ndGgrPTQsdGhpcy5pbmRleEFycmF5LmVtcGxhY2VCYWNrKFMrMCxTKzEsUysyKSx0aGlzLmluZGV4QXJyYXkuZW1wbGFjZUJhY2soUysxLFMrMyxTKzIpLHMucHJpbWl0aXZlTGVuZ3RoKz0yLG0pe2NvbnN0IG49cisoMT09PWQ/aS5sZW5ndGgtMjpkLTIpLGE9MT09PWQ/cjpuKzE7aWYodGhpcy5pbmRleEFycmF5LmVtcGxhY2VCYWNrKFMrMSxuLFMrMyksdGhpcy5pbmRleEFycmF5LmVtcGxhY2VCYWNrKG4sYSxTKzMpLHMucHJpbWl0aXZlTGVuZ3RoKz0yLHZvaWQgMD09PXQmJih0PVMpLCFJYyh2LGlbZF0sZSkpe2NvbnN0IGU9ZD09PWkubGVuZ3RoLTE/dDpzLnZlcnRleExlbmd0aDt0aGlzLmluZGV4QXJyYXkuZW1wbGFjZUJhY2soUysyLFMrMyxlKSx0aGlzLmluZGV4QXJyYXkuZW1wbGFjZUJhY2soUyszLGUrMSxlKSx0aGlzLmluZGV4QXJyYXkuZW1wbGFjZUJhY2soUyszLGEsZSsxKSxzLnByaW1pdGl2ZUxlbmd0aCs9Mzt9fWlmKGMpe2NvbnN0IHQ9dGhpcy5sYXlvdXRWZXJ0ZXhFeHRBcnJheSxlPXUucHJvamVjdFRpbGVQb2ludChnLngsZy55LG4pLHI9dS5wcm9qZWN0VGlsZVBvaW50KHgueCx4LnksbiksaT11LnVwVmVjdG9yKG4sZy54LGcueSkscz11LnVwVmVjdG9yKG4seC54LHgueSk7YmModCxlLGkpLGJjKHQsZSxpKSxiYyh0LHIscyksYmModCxyLHMpO319cCYmKHIrPWkubGVuZ3RoLTEpO319aWYoaCYmaC5wb2x5Q291bnQubGVuZ3RoPjApe2lmKGguYm9yZGVycyl7aC52ZXJ0ZXhBcnJheU9mZnNldD10aGlzLmNlbnRyb2lkVmVydGV4QXJyYXkubGVuZ3RoO2NvbnN0IHQ9aC5ib3JkZXJzLGU9dGhpcy5mZWF0dXJlc09uQm9yZGVyLnB1c2goaCktMTtmb3IobGV0IHI9MDtyPDQ7cisrKXRbcl1bMF0hPT1OdW1iZXIuTUFYX1ZBTFVFJiZ0aGlzLmJvcmRlcnNbcl0ucHVzaChlKTt9dGhpcy5lbmNvZGVDZW50cm9pZChoLmJvcmRlcnM/dm9pZCAwOmguY2VudHJvaWQoKSxoKTt9dGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMucG9wdWxhdGVQYWludEFycmF5cyh0aGlzLmxheW91dFZlcnRleEFycmF5Lmxlbmd0aCx0LHIscyxhLG4pO31zb3J0Qm9yZGVycygpe2ZvcihsZXQgdD0wO3Q8NDt0KyspdGhpcy5ib3JkZXJzW3RdLnNvcnQoKChlLHIpPT50aGlzLmZlYXR1cmVzT25Cb3JkZXJbZV0uYm9yZGVyc1t0XVswXS10aGlzLmZlYXR1cmVzT25Cb3JkZXJbcl0uYm9yZGVyc1t0XVswXSkpO31lbmNvZGVDZW50cm9pZCh0LGUscj0hMCl7bGV0IG4saTtpZih0KWlmKDAhPT10Lnkpe2NvbnN0IHI9ZS5zcGFuKCkuX211bHQodGhpcy50aWxlVG9NZXRlcik7bj0oTWF0aC5tYXgodC54LDEpPDwzKStNYXRoLm1pbig3LE1hdGgucm91bmQoci54LzEwKSksaT0oTWF0aC5tYXgodC55LDEpPDwzKStNYXRoLm1pbig3LE1hdGgucm91bmQoci55LzEwKSk7fWVsc2Ugbj1NYXRoLmNlaWwoNyoodC54KzQ1MCkpLGk9MDtlbHNlIG49MCxpPStyO2xldCBzPXI/dGhpcy5jZW50cm9pZFZlcnRleEFycmF5Lmxlbmd0aDplLnZlcnRleEFycmF5T2Zmc2V0O2Zvcihjb25zdCB0IG9mIGUucG9seUNvdW50KXtyJiZ0aGlzLmNlbnRyb2lkVmVydGV4QXJyYXkucmVzaXplKHRoaXMuY2VudHJvaWRWZXJ0ZXhBcnJheS5sZW5ndGgrNCp0LmVkZ2VzK3QudG9wKTtmb3IobGV0IGU9MDtlPHQudG9wO2UrKyl0aGlzLmNlbnRyb2lkVmVydGV4QXJyYXkuZW1wbGFjZShzKyssbixpKTtmb3IobGV0IGU9MDtlPDIqdC5lZGdlcztlKyspdGhpcy5jZW50cm9pZFZlcnRleEFycmF5LmVtcGxhY2UocysrLDAsaSksdGhpcy5jZW50cm9pZFZlcnRleEFycmF5LmVtcGxhY2UocysrLG4saSk7fX19ZnVuY3Rpb24gQWModCxlKXtjb25zdCByPXQuYWRkKGUpLl91bml0KCk7cmV0dXJuIHQueCpyLngrdC55KnIueX1mdW5jdGlvbiBTYyh0LGUscixuKXtjb25zdCBpPWUuc3ViKHQpLl9wZXJwKCkuX3VuaXQoKSxzPXIuc3ViKGUpLl9wZXJwKCkuX3VuaXQoKTtyZXR1cm4ga2ModCxlLHIsQWMoaSxzKSxuKX1mdW5jdGlvbiBrYyh0LGUscixuLGkpe2NvbnN0IHM9TWF0aC5zcXJ0KDEtbipuKTtyZXR1cm4gTWF0aC5taW4odC5kaXN0KGUpLzMsZS5kaXN0KHIpLzMsaSpzL24pfWZ1bmN0aW9uIEljKHQsZSxyKXtyZXR1cm4gdC54PHJbMF0ueCYmZS54PHJbMF0ueHx8dC54PnJbMV0ueCYmZS54PnJbMV0ueHx8dC55PHJbMF0ueSYmZS55PHJbMF0ueXx8dC55PnJbMV0ueSYmZS55PnJbMV0ueX1mdW5jdGlvbiBNYyh0LGUscil7aWYodC54PDB8fHQueD49d298fGUueDwwfHxlLng+PXdvfHxyLng8MHx8ci54Pj13bylyZXR1cm4gITE7Y29uc3Qgbj1yLnN1YihlKSxpPW4ucGVycCgpLHM9dC5zdWIoZSk7cmV0dXJuIChuLngqcy54K24ueSpzLnkpL01hdGguc3FydCgobi54Km4ueCtuLnkqbi55KSoocy54KnMueCtzLnkqcy55KSk+LS44NjYmJmkueCpzLngraS55KnMueTwwfWZ1bmN0aW9uIHpjKHQsZSxyKXtjb25zdCBuPWU/Mnx0Oi0zJnQ7cmV0dXJuIHI/MXxuOi0yJm59ZnVuY3Rpb24gVGMoKXtjb25zdCB0PU1hdGguUEkvMzIsZT1NYXRoLnRhbih0KSxyPVNvO3JldHVybiByKk1hdGguc3FydCgxKzIqZSplKS1yfWZ1bmN0aW9uIEJjKHQsZSxyKXtjb25zdCBuPTE8PHIueixzPUVvKHIueC9uKSxhPUVvKChyLngrMSkvbiksbz1DbyhyLnkvbiksbD1Dbygoci55KzEpL24pO3JldHVybiBmdW5jdGlvbih0LGUscixuLHM9MCxhKXtjb25zdCBvPVtdO2lmKCF0Lmxlbmd0aHx8IXJ8fCFuKXJldHVybiBvO2NvbnN0IGw9KHQsZSk9Pntmb3IoY29uc3QgciBvZiB0KW8ucHVzaCh7cG9seWdvbjpyLGJvdW5kczplfSk7fSx1PU1hdGguY2VpbChNYXRoLmxvZzIocikpLGM9TWF0aC5jZWlsKE1hdGgubG9nMihuKSksaD11LWMscD1bXTtmb3IobGV0IHQ9MDt0PE1hdGguYWJzKGgpO3QrKylwLnB1c2goaD4wPzA6MSk7Zm9yKGxldCB0PTA7dDxNYXRoLm1pbih1LGMpO3QrKylwLnB1c2goMCkscC5wdXNoKDEpO2xldCBmPXQ7aWYoZj1tYyhmLGVbMF0ueS1zLGVbMV0ueStzLDEpLGY9bWMoZixlWzBdLngtcyxlWzFdLngrcywwKSwhZi5sZW5ndGgpcmV0dXJuIG87Y29uc3QgZD1bXTtmb3IocC5sZW5ndGg/ZC5wdXNoKHtwb2x5Z29uczpmLGJvdW5kczplLGRlcHRoOjB9KTpsKGYsZSk7ZC5sZW5ndGg7KXtjb25zdCB0PWQucG9wKCksZT10LmRlcHRoLHI9cFtlXSxuPXQuYm91bmRzWzBdLG89dC5ib3VuZHNbMV0sdT0wPT09cj9uLng6bi55LGM9MD09PXI/by54Om8ueSxoPWE/YShyLHUsYyk6LjUqKHUrYyksZj1tYyh0LnBvbHlnb25zLHUtcyxoK3MscikseT1tYyh0LnBvbHlnb25zLGgtcyxjK3Mscik7aWYoZi5sZW5ndGgpe2NvbnN0IHQ9W24sbmV3IGkoMD09PXI/aDpvLngsMT09PXI/aDpvLnkpXTtwLmxlbmd0aD5lKzE/ZC5wdXNoKHtwb2x5Z29uczpmLGJvdW5kczp0LGRlcHRoOmUrMX0pOmwoZix0KTt9aWYoeS5sZW5ndGgpe2NvbnN0IHQ9W25ldyBpKDA9PT1yP2g6bi54LDE9PT1yP2g6bi55KSxvXTtwLmxlbmd0aD5lKzE/ZC5wdXNoKHtwb2x5Z29uczp5LGJvdW5kczp0LGRlcHRoOmUrMX0pOmwoeSx0KTt9fXJldHVybiBvfSh0LGUsTWF0aC5jZWlsKChhLXMpLzExLjI1KSxNYXRoLmNlaWwoKG8tbCkvMTEuMjUpLDEsKCh0LGUsaSk9PntpZigwPT09dClyZXR1cm4gLjUqKGUraSk7e2NvbnN0IHQ9Q28oKHIueStlL3dvKS9uKTtyZXR1cm4gKFRvKC41KihDbygoci55K2kvd28pL24pK3QpKSpuLXIueSkqd299fSkpfVBpKHdjLFwiRmlsbEV4dHJ1c2lvbkJ1Y2tldFwiLHtvbWl0OltcImxheWVyc1wiLFwiZmVhdHVyZXNcIl19KSxQaShfYyxcIlBhcnRNZXRhZGF0YVwiKTtjb25zdCBFYz1uZXcgWnMoe1wiZmlsbC1leHRydXNpb24tZWRnZS1yYWRpdXNcIjpuZXcgJHMoR3RbXCJsYXlvdXRfZmlsbC1leHRydXNpb25cIl1bXCJmaWxsLWV4dHJ1c2lvbi1lZGdlLXJhZGl1c1wiXSl9KTt2YXIgQ2M9e3BhaW50Om5ldyBacyh7XCJmaWxsLWV4dHJ1c2lvbi1vcGFjaXR5XCI6bmV3ICRzKEd0W1wicGFpbnRfZmlsbC1leHRydXNpb25cIl1bXCJmaWxsLWV4dHJ1c2lvbi1vcGFjaXR5XCJdKSxcImZpbGwtZXh0cnVzaW9uLWNvbG9yXCI6bmV3IE9zKEd0W1wicGFpbnRfZmlsbC1leHRydXNpb25cIl1bXCJmaWxsLWV4dHJ1c2lvbi1jb2xvclwiXSksXCJmaWxsLWV4dHJ1c2lvbi10cmFuc2xhdGVcIjpuZXcgJHMoR3RbXCJwYWludF9maWxsLWV4dHJ1c2lvblwiXVtcImZpbGwtZXh0cnVzaW9uLXRyYW5zbGF0ZVwiXSksXCJmaWxsLWV4dHJ1c2lvbi10cmFuc2xhdGUtYW5jaG9yXCI6bmV3ICRzKEd0W1wicGFpbnRfZmlsbC1leHRydXNpb25cIl1bXCJmaWxsLWV4dHJ1c2lvbi10cmFuc2xhdGUtYW5jaG9yXCJdKSxcImZpbGwtZXh0cnVzaW9uLXBhdHRlcm5cIjpuZXcgcXMoR3RbXCJwYWludF9maWxsLWV4dHJ1c2lvblwiXVtcImZpbGwtZXh0cnVzaW9uLXBhdHRlcm5cIl0pLFwiZmlsbC1leHRydXNpb24taGVpZ2h0XCI6bmV3IE9zKEd0W1wicGFpbnRfZmlsbC1leHRydXNpb25cIl1bXCJmaWxsLWV4dHJ1c2lvbi1oZWlnaHRcIl0pLFwiZmlsbC1leHRydXNpb24tYmFzZVwiOm5ldyBPcyhHdFtcInBhaW50X2ZpbGwtZXh0cnVzaW9uXCJdW1wiZmlsbC1leHRydXNpb24tYmFzZVwiXSksXCJmaWxsLWV4dHJ1c2lvbi12ZXJ0aWNhbC1ncmFkaWVudFwiOm5ldyAkcyhHdFtcInBhaW50X2ZpbGwtZXh0cnVzaW9uXCJdW1wiZmlsbC1leHRydXNpb24tdmVydGljYWwtZ3JhZGllbnRcIl0pLFwiZmlsbC1leHRydXNpb24tYW1iaWVudC1vY2NsdXNpb24taW50ZW5zaXR5XCI6bmV3ICRzKEd0W1wicGFpbnRfZmlsbC1leHRydXNpb25cIl1bXCJmaWxsLWV4dHJ1c2lvbi1hbWJpZW50LW9jY2x1c2lvbi1pbnRlbnNpdHlcIl0pLFwiZmlsbC1leHRydXNpb24tYW1iaWVudC1vY2NsdXNpb24tcmFkaXVzXCI6bmV3ICRzKEd0W1wicGFpbnRfZmlsbC1leHRydXNpb25cIl1bXCJmaWxsLWV4dHJ1c2lvbi1hbWJpZW50LW9jY2x1c2lvbi1yYWRpdXNcIl0pfSksbGF5b3V0OkVjfTtmdW5jdGlvbiBQYyh0LGUscil7dmFyIG49MipNYXRoLlBJKjYzNzgxMzcvMjU2L01hdGgucG93KDIscik7cmV0dXJuIFt0Km4tMipNYXRoLlBJKjYzNzgxMzcvMixlKm4tMipNYXRoLlBJKjYzNzgxMzcvMl19Y2xhc3MgRGN7Y29uc3RydWN0b3IodCxlLHIpe3RoaXMuej10LHRoaXMueD1lLHRoaXMueT1yLHRoaXMua2V5PUxjKDAsdCx0LGUscik7fWVxdWFscyh0KXtyZXR1cm4gdGhpcy56PT09dC56JiZ0aGlzLng9PT10LngmJnRoaXMueT09PXQueX11cmwodCxlKXtjb25zdCByPWZ1bmN0aW9uKHQsZSxyKXt2YXIgbj1QYygyNTYqdCwyNTYqKGU9TWF0aC5wb3coMixyKS1lLTEpLHIpLGk9UGMoMjU2Kih0KzEpLDI1NiooZSsxKSxyKTtyZXR1cm4gblswXStcIixcIituWzFdK1wiLFwiK2lbMF0rXCIsXCIraVsxXX0odGhpcy54LHRoaXMueSx0aGlzLnopLG49ZnVuY3Rpb24odCxlLHIpe2xldCBuLGk9XCJcIjtmb3IobGV0IHM9dDtzPjA7cy0tKW49MTw8cy0xLGkrPShlJm4/MTowKSsociZuPzI6MCk7cmV0dXJuIGl9KHRoaXMueix0aGlzLngsdGhpcy55KTtyZXR1cm4gdFsodGhpcy54K3RoaXMueSkldC5sZW5ndGhdLnJlcGxhY2UoXCJ7cHJlZml4fVwiLCh0aGlzLnglMTYpLnRvU3RyaW5nKDE2KSsodGhpcy55JTE2KS50b1N0cmluZygxNikpLnJlcGxhY2UoL3t6fS9nLFN0cmluZyh0aGlzLnopKS5yZXBsYWNlKC97eH0vZyxTdHJpbmcodGhpcy54KSkucmVwbGFjZSgve3l9L2csU3RyaW5nKFwidG1zXCI9PT1lP01hdGgucG93KDIsdGhpcy56KS10aGlzLnktMTp0aGlzLnkpKS5yZXBsYWNlKFwie3F1YWRrZXl9XCIsbikucmVwbGFjZShcIntiYm94LWVwc2ctMzg1N31cIixyKX10b1N0cmluZygpe3JldHVybiBgJHt0aGlzLnp9LyR7dGhpcy54fS8ke3RoaXMueX1gfX1jbGFzcyBWY3tjb25zdHJ1Y3Rvcih0LGUpe3RoaXMud3JhcD10LHRoaXMuY2Fub25pY2FsPWUsdGhpcy5rZXk9TGModCxlLnosZS56LGUueCxlLnkpO319Y2xhc3MgRmN7Y29uc3RydWN0b3IodCxlLHIsbixpKXt0aGlzLm92ZXJzY2FsZWRaPXQsdGhpcy53cmFwPWUsdGhpcy5jYW5vbmljYWw9bmV3IERjKHIsK24sK2kpLHRoaXMua2V5PTA9PT1lJiZ0PT09cj90aGlzLmNhbm9uaWNhbC5rZXk6TGMoZSx0LHIsbixpKTt9ZXF1YWxzKHQpe3JldHVybiB0aGlzLm92ZXJzY2FsZWRaPT09dC5vdmVyc2NhbGVkWiYmdGhpcy53cmFwPT09dC53cmFwJiZ0aGlzLmNhbm9uaWNhbC5lcXVhbHModC5jYW5vbmljYWwpfXNjYWxlZFRvKHQpe2NvbnN0IGU9dGhpcy5jYW5vbmljYWwuei10O3JldHVybiB0PnRoaXMuY2Fub25pY2FsLno/bmV3IEZjKHQsdGhpcy53cmFwLHRoaXMuY2Fub25pY2FsLnosdGhpcy5jYW5vbmljYWwueCx0aGlzLmNhbm9uaWNhbC55KTpuZXcgRmModCx0aGlzLndyYXAsdCx0aGlzLmNhbm9uaWNhbC54Pj5lLHRoaXMuY2Fub25pY2FsLnk+PmUpfWNhbGN1bGF0ZVNjYWxlZEtleSh0LGU9ITApe2lmKHRoaXMub3ZlcnNjYWxlZFo9PT10JiZlKXJldHVybiB0aGlzLmtleTtpZih0PnRoaXMuY2Fub25pY2FsLnopcmV0dXJuIExjKHRoaXMud3JhcCorZSx0LHRoaXMuY2Fub25pY2FsLnosdGhpcy5jYW5vbmljYWwueCx0aGlzLmNhbm9uaWNhbC55KTt7Y29uc3Qgcj10aGlzLmNhbm9uaWNhbC56LXQ7cmV0dXJuIExjKHRoaXMud3JhcCorZSx0LHQsdGhpcy5jYW5vbmljYWwueD4+cix0aGlzLmNhbm9uaWNhbC55Pj5yKX19aXNDaGlsZE9mKHQpe2lmKHQud3JhcCE9PXRoaXMud3JhcClyZXR1cm4gITE7Y29uc3QgZT10aGlzLmNhbm9uaWNhbC56LXQuY2Fub25pY2FsLno7cmV0dXJuIDA9PT10Lm92ZXJzY2FsZWRafHx0Lm92ZXJzY2FsZWRaPHRoaXMub3ZlcnNjYWxlZFomJnQuY2Fub25pY2FsLng9PT10aGlzLmNhbm9uaWNhbC54Pj5lJiZ0LmNhbm9uaWNhbC55PT09dGhpcy5jYW5vbmljYWwueT4+ZX1jaGlsZHJlbih0KXtpZih0aGlzLm92ZXJzY2FsZWRaPj10KXJldHVybiBbbmV3IEZjKHRoaXMub3ZlcnNjYWxlZForMSx0aGlzLndyYXAsdGhpcy5jYW5vbmljYWwueix0aGlzLmNhbm9uaWNhbC54LHRoaXMuY2Fub25pY2FsLnkpXTtjb25zdCBlPXRoaXMuY2Fub25pY2FsLnorMSxyPTIqdGhpcy5jYW5vbmljYWwueCxuPTIqdGhpcy5jYW5vbmljYWwueTtyZXR1cm4gW25ldyBGYyhlLHRoaXMud3JhcCxlLHIsbiksbmV3IEZjKGUsdGhpcy53cmFwLGUscisxLG4pLG5ldyBGYyhlLHRoaXMud3JhcCxlLHIsbisxKSxuZXcgRmMoZSx0aGlzLndyYXAsZSxyKzEsbisxKV19aXNMZXNzVGhhbih0KXtyZXR1cm4gdGhpcy53cmFwPHQud3JhcHx8ISh0aGlzLndyYXA+dC53cmFwKSYmKHRoaXMub3ZlcnNjYWxlZFo8dC5vdmVyc2NhbGVkWnx8ISh0aGlzLm92ZXJzY2FsZWRaPnQub3ZlcnNjYWxlZFopJiYodGhpcy5jYW5vbmljYWwueDx0LmNhbm9uaWNhbC54fHwhKHRoaXMuY2Fub25pY2FsLng+dC5jYW5vbmljYWwueCkmJnRoaXMuY2Fub25pY2FsLnk8dC5jYW5vbmljYWwueSkpfXdyYXBwZWQoKXtyZXR1cm4gbmV3IEZjKHRoaXMub3ZlcnNjYWxlZFosMCx0aGlzLmNhbm9uaWNhbC56LHRoaXMuY2Fub25pY2FsLngsdGhpcy5jYW5vbmljYWwueSl9dW53cmFwVG8odCl7cmV0dXJuIG5ldyBGYyh0aGlzLm92ZXJzY2FsZWRaLHQsdGhpcy5jYW5vbmljYWwueix0aGlzLmNhbm9uaWNhbC54LHRoaXMuY2Fub25pY2FsLnkpfW92ZXJzY2FsZUZhY3Rvcigpe3JldHVybiBNYXRoLnBvdygyLHRoaXMub3ZlcnNjYWxlZFotdGhpcy5jYW5vbmljYWwueil9dG9VbndyYXBwZWQoKXtyZXR1cm4gbmV3IFZjKHRoaXMud3JhcCx0aGlzLmNhbm9uaWNhbCl9dG9TdHJpbmcoKXtyZXR1cm4gYCR7dGhpcy5vdmVyc2NhbGVkWn0vJHt0aGlzLmNhbm9uaWNhbC54fS8ke3RoaXMuY2Fub25pY2FsLnl9YH19ZnVuY3Rpb24gTGModCxlLHIsbixpKXtjb25zdCBzPTE8PE1hdGgubWluKHIsMjIpO2xldCBhPXMqKGklcykrbiVzO3JldHVybiB0JiZyPDIyJiYoYSs9cypzKigodDwwPy0yKnQtMToyKnQpJSgxPDwyKigyMi1yKSkpKSwxNiooMzIqYStyKSsoZS1yKX1mdW5jdGlvbiBSYyh0LGUpe3JldHVybiB0LngqZS54K3QueSplLnl9ZnVuY3Rpb24gVWModCxlKXtpZigxPT09dC5sZW5ndGgpe2xldCByPTA7Y29uc3Qgbj1lW3IrK107bGV0IGk7Zm9yKDshaXx8bi5lcXVhbHMoaSk7KWlmKGk9ZVtyKytdLCFpKXJldHVybiAxLzA7Zm9yKDtyPGUubGVuZ3RoO3IrKyl7Y29uc3Qgcz1lW3JdLGE9dFswXSxvPWkuc3ViKG4pLGw9cy5zdWIobiksdT1hLnN1YihuKSxjPVJjKG8sbyksaD1SYyhvLGwpLHA9UmMobCxsKSxmPVJjKHUsbyksZD1SYyh1LGwpLHk9YypwLWgqaCxtPShwKmYtaCpkKS95LGc9KGMqZC1oKmYpL3kseD1uLnoqKDEtbS1nKStpLnoqbStzLnoqZztpZihpc0Zpbml0ZSh4KSlyZXR1cm4geH1yZXR1cm4gMS8wfXtsZXQgdD0xLzA7Zm9yKGNvbnN0IHIgb2YgZSl0PU1hdGgubWluKHQsci56KTtyZXR1cm4gdH19ZnVuY3Rpb24gamModCl7Y29uc3QgZT1uZXcgaSh0WzBdLHRbMV0pO3JldHVybiBlLno9dFsyXSxlfWZ1bmN0aW9uICRjKHQsZSxyLG4saSxzLGEsbyl7Y29uc3QgbD1hKmkuZ2V0RWxldmF0aW9uQXQodCxlLCEwLCEwKSx1PTAhPT1zWzBdLGM9dT8wPT09c1sxXT9hKihzWzBdLzctNDUwKTphKmZ1bmN0aW9uKHQsZSxyKXtjb25zdCBuPU1hdGguZmxvb3IoZVswXS84KSxpPU1hdGguZmxvb3IoZVsxXS84KSxzPTEwKihlWzBdLTgqbiksYT0xMCooZVsxXS04KmkpLG89dC5nZXRFbGV2YXRpb25BdChuLGksITAsITApLGw9dC5nZXRNZXRlclRvREVNKHIpLHU9TWF0aC5mbG9vciguNSoocypsLTEpKSxjPU1hdGguZmxvb3IoLjUqKGEqbC0xKSksaD10LnRpbGVDb29yZFRvUGl4ZWwobixpKSxwPTIqdSsxLGY9MipjKzEsZD1mdW5jdGlvbih0LGUscixuLGkpe3JldHVybiBbdC5nZXRFbGV2YXRpb25BdFBpeGVsKGUsciwhMCksdC5nZXRFbGV2YXRpb25BdFBpeGVsKGUraSxyLCEwKSx0LmdldEVsZXZhdGlvbkF0UGl4ZWwoZSxyK2ksITApLHQuZ2V0RWxldmF0aW9uQXRQaXhlbChlK24scitpLCEwKV19KHQsaC54LXUsaC55LWMscCxmKSx5PU1hdGguYWJzKGRbMF0tZFsxXSksbT1NYXRoLmFicyhkWzJdLWRbM10pLGc9TWF0aC5hYnMoZFswXS1kWzJdKStNYXRoLmFicyhkWzFdLWRbM10pLHg9TWF0aC5taW4oLjI1LC41KmwqKHkrbSkvcCksdj1NYXRoLm1pbiguMjUsLjUqbCpnL2YpO3JldHVybiBvK01hdGgubWF4KHgqcyx2KmEpfShpLHMsbyk6bDtyZXR1cm4ge2Jhc2U6bCsoMD09PXIpPy0xOnIsdG9wOnU/TWF0aC5tYXgoYytuLGwrcisyKTpsK259fVBpKERjLFwiQ2Fub25pY2FsVGlsZUlEXCIpLFBpKEZjLFwiT3ZlcnNjYWxlZFRpbGVJRFwiLHtvbWl0OltcInByb2pNYXRyaXhcIl19KTtjb25zdCBPYz1Xcyhbe25hbWU6XCJhX3Bvc19ub3JtYWxcIixjb21wb25lbnRzOjIsdHlwZTpcIkludDE2XCJ9LHtuYW1lOlwiYV9kYXRhXCIsY29tcG9uZW50czo0LHR5cGU6XCJVaW50OFwifSx7bmFtZTpcImFfbGluZXNvZmFyXCIsY29tcG9uZW50czoxLHR5cGU6XCJGbG9hdDMyXCJ9XSw0KSx7bWVtYmVyczpxY309T2MsTmM9V3MoW3tuYW1lOlwiYV9wYWNrZWRcIixjb21wb25lbnRzOjQsdHlwZTpcIkZsb2F0MzJcIn1dKSx7bWVtYmVyczpHY309TmMsWmM9eWMuVmVjdG9yVGlsZUZlYXR1cmUudHlwZXMsWGM9TWF0aC5jb3MoTWF0aC5QSS8xODAqMzcuNSk7Y2xhc3MgS2N7Y29uc3RydWN0b3IodCl7dGhpcy56b29tPXQuem9vbSx0aGlzLm92ZXJzY2FsaW5nPXQub3ZlcnNjYWxpbmcsdGhpcy5sYXllcnM9dC5sYXllcnMsdGhpcy5sYXllcklkcz10aGlzLmxheWVycy5tYXAoKHQ9PnQuaWQpKSx0aGlzLmluZGV4PXQuaW5kZXgsdGhpcy5wcm9qZWN0aW9uPXQucHJvamVjdGlvbix0aGlzLmhhc1BhdHRlcm49ITEsdGhpcy5wYXR0ZXJuRmVhdHVyZXM9W10sdGhpcy5saW5lQ2xpcHNBcnJheT1bXSx0aGlzLmdyYWRpZW50cz17fSx0aGlzLmxheWVycy5mb3JFYWNoKCh0PT57dGhpcy5ncmFkaWVudHNbdC5pZF09e307fSkpLHRoaXMubGF5b3V0VmVydGV4QXJyYXk9bmV3IHJhLHRoaXMubGF5b3V0VmVydGV4QXJyYXkyPW5ldyBuYSx0aGlzLmluZGV4QXJyYXk9bmV3IHlhLHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zPW5ldyBjbyh0LmxheWVycyx0Lnpvb20pLHRoaXMuc2VnbWVudHM9bmV3IF9vLHRoaXMubWF4TGluZUxlbmd0aD0wLHRoaXMuc3RhdGVEZXBlbmRlbnRMYXllcklkcz10aGlzLmxheWVycy5maWx0ZXIoKHQ9PnQuaXNTdGF0ZURlcGVuZGVudCgpKSkubWFwKCh0PT50LmlkKSk7fXBvcHVsYXRlKHQsZSxyLG4pe3RoaXMuaGFzUGF0dGVybj1KdShcImxpbmVcIix0aGlzLmxheWVycyxlKTtjb25zdCBpPXRoaXMubGF5ZXJzWzBdLmxheW91dC5nZXQoXCJsaW5lLXNvcnQta2V5XCIpLHM9W107Zm9yKGNvbnN0e2ZlYXR1cmU6ZSxpZDphLGluZGV4Om8sc291cmNlTGF5ZXJJbmRleDpsfW9mIHQpe2NvbnN0IHQ9dGhpcy5sYXllcnNbMF0uX2ZlYXR1cmVGaWx0ZXIubmVlZEdlb21ldHJ5LHU9R28oZSx0KTtpZighdGhpcy5sYXllcnNbMF0uX2ZlYXR1cmVGaWx0ZXIuZmlsdGVyKG5ldyBDcyh0aGlzLnpvb20pLHUscikpY29udGludWU7Y29uc3QgYz1pP2kuZXZhbHVhdGUodSx7fSxyKTp2b2lkIDAsaD17aWQ6YSxwcm9wZXJ0aWVzOmUucHJvcGVydGllcyx0eXBlOmUudHlwZSxzb3VyY2VMYXllckluZGV4OmwsaW5kZXg6byxnZW9tZXRyeTp0P3UuZ2VvbWV0cnk6Tm8oZSxyLG4pLHBhdHRlcm5zOnt9LHNvcnRLZXk6Y307cy5wdXNoKGgpO31pJiZzLnNvcnQoKCh0LGUpPT50LnNvcnRLZXktZS5zb3J0S2V5KSk7Y29uc3R7bGluZUF0bGFzOmEsZmVhdHVyZUluZGV4Om99PWUsbD10aGlzLmFkZENvbnN0YW50RGFzaGVzKGEpO2Zvcihjb25zdCBuIG9mIHMpe2NvbnN0e2dlb21ldHJ5OmksaW5kZXg6cyxzb3VyY2VMYXllckluZGV4OnV9PW47aWYobCYmdGhpcy5hZGRGZWF0dXJlRGFzaGVzKG4sYSksdGhpcy5oYXNQYXR0ZXJuKXtjb25zdCB0PVF1KFwibGluZVwiLHRoaXMubGF5ZXJzLG4sdGhpcy56b29tLGUpO3RoaXMucGF0dGVybkZlYXR1cmVzLnB1c2godCk7fWVsc2UgdGhpcy5hZGRGZWF0dXJlKG4saSxzLHIsYS5wb3NpdGlvbnMsZS5hdmFpbGFibGVJbWFnZXMpO28uaW5zZXJ0KHRbc10uZmVhdHVyZSxpLHMsdSx0aGlzLmluZGV4KTt9fWFkZENvbnN0YW50RGFzaGVzKHQpe2xldCBlPSExO2Zvcihjb25zdCByIG9mIHRoaXMubGF5ZXJzKXtjb25zdCBuPXIucGFpbnQuZ2V0KFwibGluZS1kYXNoYXJyYXlcIikudmFsdWUsaT1yLmxheW91dC5nZXQoXCJsaW5lLWNhcFwiKS52YWx1ZTtpZihcImNvbnN0YW50XCIhPT1uLmtpbmR8fFwiY29uc3RhbnRcIiE9PWkua2luZCllPSEwO2Vsc2Uge2NvbnN0IGU9aS52YWx1ZSxyPW4udmFsdWU7aWYoIXIpY29udGludWU7dC5hZGREYXNoKHIuZnJvbSxlKSx0LmFkZERhc2goci50byxlKSxyLm90aGVyJiZ0LmFkZERhc2goci5vdGhlcixlKTt9fXJldHVybiBlfWFkZEZlYXR1cmVEYXNoZXModCxlKXtjb25zdCByPXRoaXMuem9vbTtmb3IoY29uc3QgbiBvZiB0aGlzLmxheWVycyl7Y29uc3QgaT1uLnBhaW50LmdldChcImxpbmUtZGFzaGFycmF5XCIpLnZhbHVlLHM9bi5sYXlvdXQuZ2V0KFwibGluZS1jYXBcIikudmFsdWU7aWYoXCJjb25zdGFudFwiPT09aS5raW5kJiZcImNvbnN0YW50XCI9PT1zLmtpbmQpY29udGludWU7bGV0IGEsbyxsLHUsYyxoO2lmKFwiY29uc3RhbnRcIj09PWkua2luZCl7Y29uc3QgdD1pLnZhbHVlO2lmKCF0KWNvbnRpbnVlO2E9dC5vdGhlcnx8dC50byxvPXQudG8sbD10LmZyb207fWVsc2UgYT1pLmV2YWx1YXRlKHt6b29tOnItMX0sdCksbz1pLmV2YWx1YXRlKHt6b29tOnJ9LHQpLGw9aS5ldmFsdWF0ZSh7em9vbTpyKzF9LHQpO1wiY29uc3RhbnRcIj09PXMua2luZD91PWM9aD1zLnZhbHVlOih1PXMuZXZhbHVhdGUoe3pvb206ci0xfSx0KSxjPXMuZXZhbHVhdGUoe3pvb206cn0sdCksaD1zLmV2YWx1YXRlKHt6b29tOnIrMX0sdCkpLGUuYWRkRGFzaChhLHUpLGUuYWRkRGFzaChvLGMpLGUuYWRkRGFzaChsLGgpO2NvbnN0IHA9ZS5nZXRLZXkoYSx1KSxmPWUuZ2V0S2V5KG8sYyksZD1lLmdldEtleShsLGgpO3QucGF0dGVybnNbbi5pZF09e21pbjpwLG1pZDpmLG1heDpkfTt9fXVwZGF0ZSh0LGUscixuKXt0aGlzLnN0YXRlRGVwZW5kZW50TGF5ZXJzLmxlbmd0aCYmdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMudXBkYXRlUGFpbnRBcnJheXModCxlLHRoaXMuc3RhdGVEZXBlbmRlbnRMYXllcnMscixuKTt9YWRkRmVhdHVyZXModCxlLHIsbixpKXtmb3IoY29uc3QgdCBvZiB0aGlzLnBhdHRlcm5GZWF0dXJlcyl0aGlzLmFkZEZlYXR1cmUodCx0Lmdlb21ldHJ5LHQuaW5kZXgsZSxyLG4pO31pc0VtcHR5KCl7cmV0dXJuIDA9PT10aGlzLmxheW91dFZlcnRleEFycmF5Lmxlbmd0aH11cGxvYWRQZW5kaW5nKCl7cmV0dXJuICF0aGlzLnVwbG9hZGVkfHx0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy5uZWVkc1VwbG9hZH11cGxvYWQodCl7dGhpcy51cGxvYWRlZHx8KDAhPT10aGlzLmxheW91dFZlcnRleEFycmF5Mi5sZW5ndGgmJih0aGlzLmxheW91dFZlcnRleEJ1ZmZlcjI9dC5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy5sYXlvdXRWZXJ0ZXhBcnJheTIsR2MpKSx0aGlzLmxheW91dFZlcnRleEJ1ZmZlcj10LmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLmxheW91dFZlcnRleEFycmF5LHFjKSx0aGlzLmluZGV4QnVmZmVyPXQuY3JlYXRlSW5kZXhCdWZmZXIodGhpcy5pbmRleEFycmF5KSksdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMudXBsb2FkKHQpLHRoaXMudXBsb2FkZWQ9ITA7fWRlc3Ryb3koKXt0aGlzLmxheW91dFZlcnRleEJ1ZmZlciYmKHRoaXMubGF5b3V0VmVydGV4QnVmZmVyLmRlc3Ryb3koKSx0aGlzLmluZGV4QnVmZmVyLmRlc3Ryb3koKSx0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy5kZXN0cm95KCksdGhpcy5zZWdtZW50cy5kZXN0cm95KCkpO31saW5lRmVhdHVyZUNsaXBzKHQpe2lmKHQucHJvcGVydGllcyYmdC5wcm9wZXJ0aWVzLmhhc093blByb3BlcnR5KFwibWFwYm94X2NsaXBfc3RhcnRcIikmJnQucHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eShcIm1hcGJveF9jbGlwX2VuZFwiKSlyZXR1cm4ge3N0YXJ0Oit0LnByb3BlcnRpZXMubWFwYm94X2NsaXBfc3RhcnQsZW5kOit0LnByb3BlcnRpZXMubWFwYm94X2NsaXBfZW5kfX1hZGRGZWF0dXJlKHQsZSxyLG4saSxzKXtjb25zdCBhPXRoaXMubGF5ZXJzWzBdLmxheW91dCxvPWEuZ2V0KFwibGluZS1qb2luXCIpLmV2YWx1YXRlKHQse30pLGw9YS5nZXQoXCJsaW5lLWNhcFwiKS5ldmFsdWF0ZSh0LHt9KSx1PWEuZ2V0KFwibGluZS1taXRlci1saW1pdFwiKSxjPWEuZ2V0KFwibGluZS1yb3VuZC1saW1pdFwiKTt0aGlzLmxpbmVDbGlwcz10aGlzLmxpbmVGZWF0dXJlQ2xpcHModCk7Zm9yKGNvbnN0IHIgb2YgZSl0aGlzLmFkZExpbmUocix0LG8sbCx1LGMpO3RoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnBvcHVsYXRlUGFpbnRBcnJheXModGhpcy5sYXlvdXRWZXJ0ZXhBcnJheS5sZW5ndGgsdCxyLGkscyxuKTt9YWRkTGluZSh0LGUscixuLGkscyl7aWYodGhpcy5kaXN0YW5jZT0wLHRoaXMuc2NhbGVkRGlzdGFuY2U9MCx0aGlzLnRvdGFsRGlzdGFuY2U9MCx0aGlzLmxpbmVTb0Zhcj0wLHRoaXMubGluZUNsaXBzKXt0aGlzLmxpbmVDbGlwc0FycmF5LnB1c2godGhpcy5saW5lQ2xpcHMpO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGgtMTtlKyspdGhpcy50b3RhbERpc3RhbmNlKz10W2VdLmRpc3QodFtlKzFdKTt0aGlzLnVwZGF0ZVNjYWxlZERpc3RhbmNlKCksdGhpcy5tYXhMaW5lTGVuZ3RoPU1hdGgubWF4KHRoaXMubWF4TGluZUxlbmd0aCx0aGlzLnRvdGFsRGlzdGFuY2UpO31jb25zdCBhPVwiUG9seWdvblwiPT09WmNbZS50eXBlXTtsZXQgbz10Lmxlbmd0aDtmb3IoO28+PTImJnRbby0xXS5lcXVhbHModFtvLTJdKTspby0tO2xldCBsPTA7Zm9yKDtsPG8tMSYmdFtsXS5lcXVhbHModFtsKzFdKTspbCsrO2lmKG88KGE/MzoyKSlyZXR1cm47XCJiZXZlbFwiPT09ciYmKGk9MS4wNSk7Y29uc3QgdT10aGlzLm92ZXJzY2FsaW5nPD0xNj8xMjI4ODAvKDUxMip0aGlzLm92ZXJzY2FsaW5nKTowLGM9dGhpcy5zZWdtZW50cy5wcmVwYXJlU2VnbWVudCgxMCpvLHRoaXMubGF5b3V0VmVydGV4QXJyYXksdGhpcy5pbmRleEFycmF5KTtsZXQgaCxwLGYsZCx5O3RoaXMuZTE9dGhpcy5lMj0tMSxhJiYoaD10W28tMl0seT10W2xdLnN1YihoKS5fdW5pdCgpLl9wZXJwKCkpO2ZvcihsZXQgZT1sO2U8bztlKyspe2lmKGY9ZT09PW8tMT9hP3RbbCsxXTp2b2lkIDA6dFtlKzFdLGYmJnRbZV0uZXF1YWxzKGYpKWNvbnRpbnVlO3kmJihkPXkpLGgmJihwPWgpLGg9dFtlXSx5PWY/Zi5zdWIoaCkuX3VuaXQoKS5fcGVycCgpOmQsZD1kfHx5O2xldCBtPWQuYWRkKHkpOzA9PT1tLngmJjA9PT1tLnl8fG0uX3VuaXQoKTtjb25zdCBnPWQueCp5LngrZC55KnkueSx4PW0ueCp5LngrbS55KnkueSx2PTAhPT14PzEveDoxLzAsYj0yKk1hdGguc3FydCgyLTIqeCksXz14PFhjJiZwJiZmLHc9ZC54KnkueS1kLnkqeS54PjA7aWYoXyYmZT5sKXtjb25zdCB0PWguZGlzdChwKTtpZih0PjIqdSl7Y29uc3QgZT1oLnN1YihoLnN1YihwKS5fbXVsdCh1L3QpLl9yb3VuZCgpKTt0aGlzLnVwZGF0ZURpc3RhbmNlKHAsZSksdGhpcy5hZGRDdXJyZW50VmVydGV4KGUsZCwwLDAsYykscD1lO319Y29uc3QgQT1wJiZmO2xldCBTPUE/cjphP1wiYnV0dFwiOm47aWYoQSYmXCJyb3VuZFwiPT09UyYmKHY8cz9TPVwibWl0ZXJcIjp2PD0yJiYoUz1cImZha2Vyb3VuZFwiKSksXCJtaXRlclwiPT09UyYmdj5pJiYoUz1cImJldmVsXCIpLFwiYmV2ZWxcIj09PVMmJih2PjImJihTPVwiZmxpcGJldmVsXCIpLHY8aSYmKFM9XCJtaXRlclwiKSkscCYmdGhpcy51cGRhdGVEaXN0YW5jZShwLGgpLFwibWl0ZXJcIj09PVMpbS5fbXVsdCh2KSx0aGlzLmFkZEN1cnJlbnRWZXJ0ZXgoaCxtLDAsMCxjKTtlbHNlIGlmKFwiZmxpcGJldmVsXCI9PT1TKXtpZih2PjEwMCltPXkubXVsdCgtMSk7ZWxzZSB7Y29uc3QgdD12KmQuYWRkKHkpLm1hZygpL2Quc3ViKHkpLm1hZygpO20uX3BlcnAoKS5fbXVsdCh0Kih3Py0xOjEpKTt9dGhpcy5hZGRDdXJyZW50VmVydGV4KGgsbSwwLDAsYyksdGhpcy5hZGRDdXJyZW50VmVydGV4KGgsbS5tdWx0KC0xKSwwLDAsYyk7fWVsc2UgaWYoXCJiZXZlbFwiPT09U3x8XCJmYWtlcm91bmRcIj09PVMpe2NvbnN0IHQ9LU1hdGguc3FydCh2KnYtMSksZT13P3Q6MCxyPXc/MDp0O2lmKHAmJnRoaXMuYWRkQ3VycmVudFZlcnRleChoLGQsZSxyLGMpLFwiZmFrZXJvdW5kXCI9PT1TKXtjb25zdCB0PU1hdGgucm91bmQoMTgwKmIvTWF0aC5QSS8yMCk7Zm9yKGxldCBlPTE7ZTx0O2UrKyl7bGV0IHI9ZS90O2lmKC41IT09cil7Y29uc3QgdD1yLS41O3IrPXIqdCooci0xKSooKDEuMDkwNCtnKihnKigzLjU1NjQ1LTEuNDM1MTkqZyktMy4yNDUyKSkqdCp0KyguODQ4MDEzK2cqKC4yMTU2MzgqZy0xLjA2MDIxKSkpO31jb25zdCBuPXkuc3ViKGQpLl9tdWx0KHIpLl9hZGQoZCkuX3VuaXQoKS5fbXVsdCh3Py0xOjEpO3RoaXMuYWRkSGFsZlZlcnRleChoLG4ueCxuLnksITEsdywwLGMpO319ZiYmdGhpcy5hZGRDdXJyZW50VmVydGV4KGgseSwtZSwtcixjKTt9ZWxzZSBpZihcImJ1dHRcIj09PVMpdGhpcy5hZGRDdXJyZW50VmVydGV4KGgsbSwwLDAsYyk7ZWxzZSBpZihcInNxdWFyZVwiPT09Uyl7Y29uc3QgdD1wPzE6LTE7cHx8dGhpcy5hZGRDdXJyZW50VmVydGV4KGgsbSx0LHQsYyksdGhpcy5hZGRDdXJyZW50VmVydGV4KGgsbSwwLDAsYykscCYmdGhpcy5hZGRDdXJyZW50VmVydGV4KGgsbSx0LHQsYyk7fWVsc2UgXCJyb3VuZFwiPT09UyYmKHAmJih0aGlzLmFkZEN1cnJlbnRWZXJ0ZXgoaCxkLDAsMCxjKSx0aGlzLmFkZEN1cnJlbnRWZXJ0ZXgoaCxkLDEsMSxjLCEwKSksZiYmKHRoaXMuYWRkQ3VycmVudFZlcnRleChoLHksLTEsLTEsYywhMCksdGhpcy5hZGRDdXJyZW50VmVydGV4KGgseSwwLDAsYykpKTtpZihfJiZlPG8tMSl7Y29uc3QgdD1oLmRpc3QoZik7aWYodD4yKnUpe2NvbnN0IGU9aC5hZGQoZi5zdWIoaCkuX211bHQodS90KS5fcm91bmQoKSk7dGhpcy51cGRhdGVEaXN0YW5jZShoLGUpLHRoaXMuYWRkQ3VycmVudFZlcnRleChlLHksMCwwLGMpLGg9ZTt9fX19YWRkQ3VycmVudFZlcnRleCh0LGUscixuLGkscz0hMSl7Y29uc3QgYT1lLnkqbi1lLngsbz0tZS55LWUueCpuO3RoaXMuYWRkSGFsZlZlcnRleCh0LGUueCtlLnkqcixlLnktZS54KnIscywhMSxyLGkpLHRoaXMuYWRkSGFsZlZlcnRleCh0LGEsbyxzLCEwLC1uLGkpO31hZGRIYWxmVmVydGV4KHt4OnQseTplfSxyLG4saSxzLGEsbyl7dGhpcy5sYXlvdXRWZXJ0ZXhBcnJheS5lbXBsYWNlQmFjaygodDw8MSkrKGk/MTowKSwoZTw8MSkrKHM/MTowKSxNYXRoLnJvdW5kKDYzKnIpKzEyOCxNYXRoLnJvdW5kKDYzKm4pKzEyOCwxKygwPT09YT8wOmE8MD8tMToxKSwwLHRoaXMubGluZVNvRmFyKSx0aGlzLmxpbmVDbGlwcyYmdGhpcy5sYXlvdXRWZXJ0ZXhBcnJheTIuZW1wbGFjZUJhY2sodGhpcy5zY2FsZWREaXN0YW5jZSx0aGlzLmxpbmVDbGlwc0FycmF5Lmxlbmd0aCx0aGlzLmxpbmVDbGlwcy5zdGFydCx0aGlzLmxpbmVDbGlwcy5lbmQpO2NvbnN0IGw9by52ZXJ0ZXhMZW5ndGgrKzt0aGlzLmUxPj0wJiZ0aGlzLmUyPj0wJiYodGhpcy5pbmRleEFycmF5LmVtcGxhY2VCYWNrKHRoaXMuZTEsdGhpcy5lMixsKSxvLnByaW1pdGl2ZUxlbmd0aCsrKSxzP3RoaXMuZTI9bDp0aGlzLmUxPWw7fXVwZGF0ZVNjYWxlZERpc3RhbmNlKCl7aWYodGhpcy5saW5lQ2xpcHMpe2NvbnN0IHQ9dGhpcy50b3RhbERpc3RhbmNlLyh0aGlzLmxpbmVDbGlwcy5lbmQtdGhpcy5saW5lQ2xpcHMuc3RhcnQpO3RoaXMuc2NhbGVkRGlzdGFuY2U9dGhpcy5kaXN0YW5jZS90aGlzLnRvdGFsRGlzdGFuY2UsdGhpcy5saW5lU29GYXI9dCp0aGlzLmxpbmVDbGlwcy5zdGFydCt0aGlzLmRpc3RhbmNlO31lbHNlIHRoaXMubGluZVNvRmFyPXRoaXMuZGlzdGFuY2U7fXVwZGF0ZURpc3RhbmNlKHQsZSl7dGhpcy5kaXN0YW5jZSs9dC5kaXN0KGUpLHRoaXMudXBkYXRlU2NhbGVkRGlzdGFuY2UoKTt9fVBpKEtjLFwiTGluZUJ1Y2tldFwiLHtvbWl0OltcImxheWVyc1wiLFwicGF0dGVybkZlYXR1cmVzXCJdfSk7Y29uc3QgSGM9bmV3IFpzKHtcImxpbmUtY2FwXCI6bmV3IE9zKEd0LmxheW91dF9saW5lW1wibGluZS1jYXBcIl0pLFwibGluZS1qb2luXCI6bmV3IE9zKEd0LmxheW91dF9saW5lW1wibGluZS1qb2luXCJdKSxcImxpbmUtbWl0ZXItbGltaXRcIjpuZXcgJHMoR3QubGF5b3V0X2xpbmVbXCJsaW5lLW1pdGVyLWxpbWl0XCJdKSxcImxpbmUtcm91bmQtbGltaXRcIjpuZXcgJHMoR3QubGF5b3V0X2xpbmVbXCJsaW5lLXJvdW5kLWxpbWl0XCJdKSxcImxpbmUtc29ydC1rZXlcIjpuZXcgT3MoR3QubGF5b3V0X2xpbmVbXCJsaW5lLXNvcnQta2V5XCJdKX0pO3ZhciBZYz17cGFpbnQ6bmV3IFpzKHtcImxpbmUtb3BhY2l0eVwiOm5ldyBPcyhHdC5wYWludF9saW5lW1wibGluZS1vcGFjaXR5XCJdKSxcImxpbmUtY29sb3JcIjpuZXcgT3MoR3QucGFpbnRfbGluZVtcImxpbmUtY29sb3JcIl0pLFwibGluZS10cmFuc2xhdGVcIjpuZXcgJHMoR3QucGFpbnRfbGluZVtcImxpbmUtdHJhbnNsYXRlXCJdKSxcImxpbmUtdHJhbnNsYXRlLWFuY2hvclwiOm5ldyAkcyhHdC5wYWludF9saW5lW1wibGluZS10cmFuc2xhdGUtYW5jaG9yXCJdKSxcImxpbmUtd2lkdGhcIjpuZXcgT3MoR3QucGFpbnRfbGluZVtcImxpbmUtd2lkdGhcIl0pLFwibGluZS1nYXAtd2lkdGhcIjpuZXcgT3MoR3QucGFpbnRfbGluZVtcImxpbmUtZ2FwLXdpZHRoXCJdKSxcImxpbmUtb2Zmc2V0XCI6bmV3IE9zKEd0LnBhaW50X2xpbmVbXCJsaW5lLW9mZnNldFwiXSksXCJsaW5lLWJsdXJcIjpuZXcgT3MoR3QucGFpbnRfbGluZVtcImxpbmUtYmx1clwiXSksXCJsaW5lLWRhc2hhcnJheVwiOm5ldyBxcyhHdC5wYWludF9saW5lW1wibGluZS1kYXNoYXJyYXlcIl0pLFwibGluZS1wYXR0ZXJuXCI6bmV3IHFzKEd0LnBhaW50X2xpbmVbXCJsaW5lLXBhdHRlcm5cIl0pLFwibGluZS1ncmFkaWVudFwiOm5ldyBHcyhHdC5wYWludF9saW5lW1wibGluZS1ncmFkaWVudFwiXSksXCJsaW5lLXRyaW0tb2Zmc2V0XCI6bmV3ICRzKEd0LnBhaW50X2xpbmVbXCJsaW5lLXRyaW0tb2Zmc2V0XCJdKX0pLGxheW91dDpIY307Y29uc3QgV2M9bmV3IGNsYXNzIGV4dGVuZHMgT3N7cG9zc2libHlFdmFsdWF0ZSh0LGUpe3JldHVybiBlPW5ldyBDcyhNYXRoLmZsb29yKGUuem9vbSkse25vdzplLm5vdyxmYWRlRHVyYXRpb246ZS5mYWRlRHVyYXRpb24sem9vbUhpc3Rvcnk6ZS56b29tSGlzdG9yeSx0cmFuc2l0aW9uOmUudHJhbnNpdGlvbn0pLHN1cGVyLnBvc3NpYmx5RXZhbHVhdGUodCxlKX1ldmFsdWF0ZSh0LGUscixuKXtyZXR1cm4gZT12KHt9LGUse3pvb206TWF0aC5mbG9vcihlLnpvb20pfSksc3VwZXIuZXZhbHVhdGUodCxlLHIsbil9fShZYy5wYWludC5wcm9wZXJ0aWVzW1wibGluZS13aWR0aFwiXS5zcGVjaWZpY2F0aW9uKTtmdW5jdGlvbiBKYyh0LGUpe3JldHVybiBlPjA/ZSsyKnQ6dH1XYy51c2VJbnRlZ2VyWm9vbT0hMDtjb25zdCBRYz1Xcyhbe25hbWU6XCJhX3Bvc19vZmZzZXRcIixjb21wb25lbnRzOjQsdHlwZTpcIkludDE2XCJ9LHtuYW1lOlwiYV90ZXhfc2l6ZVwiLGNvbXBvbmVudHM6NCx0eXBlOlwiVWludDE2XCJ9LHtuYW1lOlwiYV9waXhlbG9mZnNldFwiLGNvbXBvbmVudHM6NCx0eXBlOlwiSW50MTZcIn1dLDQpLHRoPVdzKFt7bmFtZTpcImFfZ2xvYmVfYW5jaG9yXCIsY29tcG9uZW50czozLHR5cGU6XCJJbnQxNlwifSx7bmFtZTpcImFfZ2xvYmVfbm9ybWFsXCIsY29tcG9uZW50czozLHR5cGU6XCJGbG9hdDMyXCJ9XSw0KSxlaD1Xcyhbe25hbWU6XCJhX3Byb2plY3RlZF9wb3NcIixjb21wb25lbnRzOjQsdHlwZTpcIkZsb2F0MzJcIn1dLDQpO1dzKFt7bmFtZTpcImFfZmFkZV9vcGFjaXR5XCIsY29tcG9uZW50czoxLHR5cGU6XCJVaW50MzJcIn1dLDQpO2NvbnN0IHJoPVdzKFt7bmFtZTpcImFfcGxhY2VkXCIsY29tcG9uZW50czoyLHR5cGU6XCJVaW50OFwifSx7bmFtZTpcImFfc2hpZnRcIixjb21wb25lbnRzOjIsdHlwZTpcIkZsb2F0MzJcIn1dKSxuaD1Xcyhbe25hbWU6XCJhX3NpemVfc2NhbGVcIixjb21wb25lbnRzOjEsdHlwZTpcIkZsb2F0MzJcIn0se25hbWU6XCJhX3BhZGRpbmdcIixjb21wb25lbnRzOjIsdHlwZTpcIkZsb2F0MzJcIn1dKTtXcyhbe3R5cGU6XCJJbnQxNlwiLG5hbWU6XCJwcm9qZWN0ZWRBbmNob3JYXCJ9LHt0eXBlOlwiSW50MTZcIixuYW1lOlwicHJvamVjdGVkQW5jaG9yWVwifSx7dHlwZTpcIkludDE2XCIsbmFtZTpcInByb2plY3RlZEFuY2hvclpcIn0se3R5cGU6XCJJbnQxNlwiLG5hbWU6XCJ0aWxlQW5jaG9yWFwifSx7dHlwZTpcIkludDE2XCIsbmFtZTpcInRpbGVBbmNob3JZXCJ9LHt0eXBlOlwiRmxvYXQzMlwiLG5hbWU6XCJ4MVwifSx7dHlwZTpcIkZsb2F0MzJcIixuYW1lOlwieTFcIn0se3R5cGU6XCJGbG9hdDMyXCIsbmFtZTpcIngyXCJ9LHt0eXBlOlwiRmxvYXQzMlwiLG5hbWU6XCJ5MlwifSx7dHlwZTpcIkludDE2XCIsbmFtZTpcInBhZGRpbmdcIn0se3R5cGU6XCJVaW50MzJcIixuYW1lOlwiZmVhdHVyZUluZGV4XCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcInNvdXJjZUxheWVySW5kZXhcIn0se3R5cGU6XCJVaW50MTZcIixuYW1lOlwiYnVja2V0SW5kZXhcIn1dKTtjb25zdCBpaD1Xcyhbe25hbWU6XCJhX3Bvc1wiLGNvbXBvbmVudHM6Myx0eXBlOlwiSW50MTZcIn0se25hbWU6XCJhX2FuY2hvcl9wb3NcIixjb21wb25lbnRzOjIsdHlwZTpcIkludDE2XCJ9LHtuYW1lOlwiYV9leHRydWRlXCIsY29tcG9uZW50czoyLHR5cGU6XCJJbnQxNlwifV0sNCksc2g9V3MoW3tuYW1lOlwiYV9wb3NfMmZcIixjb21wb25lbnRzOjIsdHlwZTpcIkZsb2F0MzJcIn0se25hbWU6XCJhX3JhZGl1c1wiLGNvbXBvbmVudHM6MSx0eXBlOlwiRmxvYXQzMlwifSx7bmFtZTpcImFfZmxhZ3NcIixjb21wb25lbnRzOjIsdHlwZTpcIkludDE2XCJ9XSw0KTtXcyhbe25hbWU6XCJ0cmlhbmdsZVwiLGNvbXBvbmVudHM6Myx0eXBlOlwiVWludDE2XCJ9XSksV3MoW3t0eXBlOlwiSW50MTZcIixuYW1lOlwicHJvamVjdGVkQW5jaG9yWFwifSx7dHlwZTpcIkludDE2XCIsbmFtZTpcInByb2plY3RlZEFuY2hvcllcIn0se3R5cGU6XCJJbnQxNlwiLG5hbWU6XCJwcm9qZWN0ZWRBbmNob3JaXCJ9LHt0eXBlOlwiRmxvYXQzMlwiLG5hbWU6XCJ0aWxlQW5jaG9yWFwifSx7dHlwZTpcIkZsb2F0MzJcIixuYW1lOlwidGlsZUFuY2hvcllcIn0se3R5cGU6XCJVaW50MTZcIixuYW1lOlwiZ2x5cGhTdGFydEluZGV4XCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcIm51bUdseXBoc1wifSx7dHlwZTpcIlVpbnQzMlwiLG5hbWU6XCJ2ZXJ0ZXhTdGFydEluZGV4XCJ9LHt0eXBlOlwiVWludDMyXCIsbmFtZTpcImxpbmVTdGFydEluZGV4XCJ9LHt0eXBlOlwiVWludDMyXCIsbmFtZTpcImxpbmVMZW5ndGhcIn0se3R5cGU6XCJVaW50MTZcIixuYW1lOlwic2VnbWVudFwifSx7dHlwZTpcIlVpbnQxNlwiLG5hbWU6XCJsb3dlclNpemVcIn0se3R5cGU6XCJVaW50MTZcIixuYW1lOlwidXBwZXJTaXplXCJ9LHt0eXBlOlwiRmxvYXQzMlwiLG5hbWU6XCJsaW5lT2Zmc2V0WFwifSx7dHlwZTpcIkZsb2F0MzJcIixuYW1lOlwibGluZU9mZnNldFlcIn0se3R5cGU6XCJVaW50OFwiLG5hbWU6XCJ3cml0aW5nTW9kZVwifSx7dHlwZTpcIlVpbnQ4XCIsbmFtZTpcInBsYWNlZE9yaWVudGF0aW9uXCJ9LHt0eXBlOlwiVWludDhcIixuYW1lOlwiaGlkZGVuXCJ9LHt0eXBlOlwiVWludDMyXCIsbmFtZTpcImNyb3NzVGlsZUlEXCJ9LHt0eXBlOlwiSW50MTZcIixuYW1lOlwiYXNzb2NpYXRlZEljb25JbmRleFwifSx7dHlwZTpcIlVpbnQ4XCIsbmFtZTpcImZsaXBTdGF0ZVwifV0pLFdzKFt7dHlwZTpcIkludDE2XCIsbmFtZTpcInByb2plY3RlZEFuY2hvclhcIn0se3R5cGU6XCJJbnQxNlwiLG5hbWU6XCJwcm9qZWN0ZWRBbmNob3JZXCJ9LHt0eXBlOlwiSW50MTZcIixuYW1lOlwicHJvamVjdGVkQW5jaG9yWlwifSx7dHlwZTpcIkZsb2F0MzJcIixuYW1lOlwidGlsZUFuY2hvclhcIn0se3R5cGU6XCJGbG9hdDMyXCIsbmFtZTpcInRpbGVBbmNob3JZXCJ9LHt0eXBlOlwiSW50MTZcIixuYW1lOlwicmlnaHRKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXhcIn0se3R5cGU6XCJJbnQxNlwiLG5hbWU6XCJjZW50ZXJKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXhcIn0se3R5cGU6XCJJbnQxNlwiLG5hbWU6XCJsZWZ0SnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4XCJ9LHt0eXBlOlwiSW50MTZcIixuYW1lOlwidmVydGljYWxQbGFjZWRUZXh0U3ltYm9sSW5kZXhcIn0se3R5cGU6XCJJbnQxNlwiLG5hbWU6XCJwbGFjZWRJY29uU3ltYm9sSW5kZXhcIn0se3R5cGU6XCJJbnQxNlwiLG5hbWU6XCJ2ZXJ0aWNhbFBsYWNlZEljb25TeW1ib2xJbmRleFwifSx7dHlwZTpcIlVpbnQxNlwiLG5hbWU6XCJrZXlcIn0se3R5cGU6XCJVaW50MTZcIixuYW1lOlwidGV4dEJveFN0YXJ0SW5kZXhcIn0se3R5cGU6XCJVaW50MTZcIixuYW1lOlwidGV4dEJveEVuZEluZGV4XCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcInZlcnRpY2FsVGV4dEJveFN0YXJ0SW5kZXhcIn0se3R5cGU6XCJVaW50MTZcIixuYW1lOlwidmVydGljYWxUZXh0Qm94RW5kSW5kZXhcIn0se3R5cGU6XCJVaW50MTZcIixuYW1lOlwiaWNvbkJveFN0YXJ0SW5kZXhcIn0se3R5cGU6XCJVaW50MTZcIixuYW1lOlwiaWNvbkJveEVuZEluZGV4XCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcInZlcnRpY2FsSWNvbkJveFN0YXJ0SW5kZXhcIn0se3R5cGU6XCJVaW50MTZcIixuYW1lOlwidmVydGljYWxJY29uQm94RW5kSW5kZXhcIn0se3R5cGU6XCJVaW50MTZcIixuYW1lOlwiZmVhdHVyZUluZGV4XCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcIm51bUhvcml6b250YWxHbHlwaFZlcnRpY2VzXCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcIm51bVZlcnRpY2FsR2x5cGhWZXJ0aWNlc1wifSx7dHlwZTpcIlVpbnQxNlwiLG5hbWU6XCJudW1JY29uVmVydGljZXNcIn0se3R5cGU6XCJVaW50MTZcIixuYW1lOlwibnVtVmVydGljYWxJY29uVmVydGljZXNcIn0se3R5cGU6XCJVaW50MTZcIixuYW1lOlwidXNlUnVudGltZUNvbGxpc2lvbkNpcmNsZXNcIn0se3R5cGU6XCJVaW50MzJcIixuYW1lOlwiY3Jvc3NUaWxlSURcIn0se3R5cGU6XCJGbG9hdDMyXCIsY29tcG9uZW50czoyLG5hbWU6XCJ0ZXh0T2Zmc2V0XCJ9LHt0eXBlOlwiRmxvYXQzMlwiLG5hbWU6XCJjb2xsaXNpb25DaXJjbGVEaWFtZXRlclwifV0pLFdzKFt7dHlwZTpcIkZsb2F0MzJcIixuYW1lOlwib2Zmc2V0WFwifV0pLFdzKFt7dHlwZTpcIkludDE2XCIsbmFtZTpcInhcIn0se3R5cGU6XCJJbnQxNlwiLG5hbWU6XCJ5XCJ9LHt0eXBlOlwiSW50MTZcIixuYW1lOlwidGlsZVVuaXREaXN0YW5jZUZyb21BbmNob3JcIn1dKTt2YXIgYWg9MjQ7Y29uc3Qgb2g9MTI4O2Z1bmN0aW9uIGxoKHQsZSl7Y29uc3R7ZXhwcmVzc2lvbjpyfT1lO2lmKFwiY29uc3RhbnRcIj09PXIua2luZClyZXR1cm4ge2tpbmQ6XCJjb25zdGFudFwiLGxheW91dFNpemU6ci5ldmFsdWF0ZShuZXcgQ3ModCsxKSl9O2lmKFwic291cmNlXCI9PT1yLmtpbmQpcmV0dXJuIHtraW5kOlwic291cmNlXCJ9O3tjb25zdHt6b29tU3RvcHM6ZSxpbnRlcnBvbGF0aW9uVHlwZTpufT1yO2xldCBpPTA7Zm9yKDtpPGUubGVuZ3RoJiZlW2ldPD10OylpKys7aT1NYXRoLm1heCgwLGktMSk7bGV0IHM9aTtmb3IoO3M8ZS5sZW5ndGgmJmVbc108dCsxOylzKys7cz1NYXRoLm1pbihlLmxlbmd0aC0xLHMpO2NvbnN0IGE9ZVtpXSxvPWVbc107cmV0dXJuIFwiY29tcG9zaXRlXCI9PT1yLmtpbmQ/e2tpbmQ6XCJjb21wb3NpdGVcIixtaW5ab29tOmEsbWF4Wm9vbTpvLGludGVycG9sYXRpb25UeXBlOm59OntraW5kOlwiY2FtZXJhXCIsbWluWm9vbTphLG1heFpvb206byxtaW5TaXplOnIuZXZhbHVhdGUobmV3IENzKGEpKSxtYXhTaXplOnIuZXZhbHVhdGUobmV3IENzKG8pKSxpbnRlcnBvbGF0aW9uVHlwZTpufX19ZnVuY3Rpb24gdWgodCx7dVNpemU6ZSx1U2l6ZVQ6cn0se2xvd2VyU2l6ZTpuLHVwcGVyU2l6ZTppfSl7cmV0dXJuIFwic291cmNlXCI9PT10LmtpbmQ/bi9vaDpcImNvbXBvc2l0ZVwiPT09dC5raW5kP3hyKG4vb2gsaS9vaCxyKTplfWZ1bmN0aW9uIGNoKHQsZSl7bGV0IHI9MCxuPTA7aWYoXCJjb25zdGFudFwiPT09dC5raW5kKW49dC5sYXlvdXRTaXplO2Vsc2UgaWYoXCJzb3VyY2VcIiE9PXQua2luZCl7Y29uc3R7aW50ZXJwb2xhdGlvblR5cGU6aSxtaW5ab29tOnMsbWF4Wm9vbTphfT10LG89aT9kKGpyLmludGVycG9sYXRpb25GYWN0b3IoaSxlLHMsYSksMCwxKTowO1wiY2FtZXJhXCI9PT10LmtpbmQ/bj14cih0Lm1pblNpemUsdC5tYXhTaXplLG8pOnI9bzt9cmV0dXJuIHt1U2l6ZVQ6cix1U2l6ZTpufX12YXIgaGg9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsZ2V0U2l6ZURhdGE6bGgsZXZhbHVhdGVTaXplRm9yRmVhdHVyZTp1aCxldmFsdWF0ZVNpemVGb3Jab29tOmNoLFNJWkVfUEFDS19GQUNUT1I6b2h9KTtmdW5jdGlvbiBwaCh0LGUscil7cmV0dXJuIHQuc2VjdGlvbnMuZm9yRWFjaCgodD0+e3QudGV4dD1mdW5jdGlvbih0LGUscil7Y29uc3Qgbj1lLmxheW91dC5nZXQoXCJ0ZXh0LXRyYW5zZm9ybVwiKS5ldmFsdWF0ZShyLHt9KTtyZXR1cm4gXCJ1cHBlcmNhc2VcIj09PW4/dD10LnRvTG9jYWxlVXBwZXJDYXNlKCk6XCJsb3dlcmNhc2VcIj09PW4mJih0PXQudG9Mb2NhbGVMb3dlckNhc2UoKSksRXMuYXBwbHlBcmFiaWNTaGFwaW5nJiYodD1Fcy5hcHBseUFyYWJpY1NoYXBpbmcodCkpLHR9KHQudGV4dCxlLHIpO30pKSx0fWNvbnN0IGZoPXtcIiFcIjpcIu+4lVwiLFwiI1wiOlwi77yDXCIsJDpcIu+8hFwiLFwiJVwiOlwi77yFXCIsXCImXCI6XCLvvIZcIixcIihcIjpcIu+4tVwiLFwiKVwiOlwi77i2XCIsXCIqXCI6XCLvvIpcIixcIitcIjpcIu+8i1wiLFwiLFwiOlwi77iQXCIsXCItXCI6XCLvuLJcIixcIi5cIjpcIuODu1wiLFwiL1wiOlwi77yPXCIsXCI6XCI6XCLvuJNcIixcIjtcIjpcIu+4lFwiLFwiPFwiOlwi77i/XCIsXCI9XCI6XCLvvJ1cIixcIj5cIjpcIu+5gFwiLFwiP1wiOlwi77iWXCIsXCJAXCI6XCLvvKBcIixcIltcIjpcIu+5h1wiLFwiXFxcXFwiOlwi77y8XCIsXCJdXCI6XCLvuYhcIixcIl5cIjpcIu+8vlwiLF86XCLvuLNcIixcImBcIjpcIu+9gFwiLFwie1wiOlwi77i3XCIsXCJ8XCI6XCLigJVcIixcIn1cIjpcIu+4uFwiLFwiflwiOlwi772eXCIsXCLColwiOlwi77+gXCIsXCLCo1wiOlwi77+hXCIsXCLCpVwiOlwi77+lXCIsXCLCplwiOlwi77+kXCIsXCLCrFwiOlwi77+iXCIsXCLCr1wiOlwi77+jXCIsXCLigJNcIjpcIu+4slwiLFwi4oCUXCI6XCLvuLFcIixcIuKAmFwiOlwi77mDXCIsXCLigJlcIjpcIu+5hFwiLFwi4oCcXCI6XCLvuYFcIixcIuKAnVwiOlwi77mCXCIsXCLigKZcIjpcIu+4mVwiLFwi4oCnXCI6XCLjg7tcIixcIuKCqVwiOlwi77+mXCIsXCLjgIFcIjpcIu+4kVwiLFwi44CCXCI6XCLvuJJcIixcIuOAiFwiOlwi77i/XCIsXCLjgIlcIjpcIu+5gFwiLFwi44CKXCI6XCLvuL1cIixcIuOAi1wiOlwi77i+XCIsXCLjgIxcIjpcIu+5gVwiLFwi44CNXCI6XCLvuYJcIixcIuOAjlwiOlwi77mDXCIsXCLjgI9cIjpcIu+5hFwiLFwi44CQXCI6XCLvuLtcIixcIuOAkVwiOlwi77i8XCIsXCLjgJRcIjpcIu+4uVwiLFwi44CVXCI6XCLvuLpcIixcIuOAllwiOlwi77iXXCIsXCLjgJdcIjpcIu+4mFwiLFwi77yBXCI6XCLvuJVcIixcIu+8iFwiOlwi77i1XCIsXCLvvIlcIjpcIu+4tlwiLFwi77yMXCI6XCLvuJBcIixcIu+8jVwiOlwi77iyXCIsXCLvvI5cIjpcIuODu1wiLFwi77yaXCI6XCLvuJNcIixcIu+8m1wiOlwi77iUXCIsXCLvvJxcIjpcIu+4v1wiLFwi77yeXCI6XCLvuYBcIixcIu+8n1wiOlwi77iWXCIsXCLvvLtcIjpcIu+5h1wiLFwi77y9XCI6XCLvuYhcIixcIu+8v1wiOlwi77izXCIsXCLvvZtcIjpcIu+4t1wiLFwi772cXCI6XCLigJVcIixcIu+9nVwiOlwi77i4XCIsXCLvvZ9cIjpcIu+4tVwiLFwi772gXCI6XCLvuLZcIixcIu+9oVwiOlwi77iSXCIsXCLvvaJcIjpcIu+5gVwiLFwi772jXCI6XCLvuYJcIn07ZnVuY3Rpb24gZGgodCl7cmV0dXJuIFwi77i2XCI9PT10fHxcIu+5iFwiPT09dHx8XCLvuLhcIj09PXR8fFwi77mEXCI9PT10fHxcIu+5glwiPT09dHx8XCLvuL5cIj09PXR8fFwi77i8XCI9PT10fHxcIu+4ulwiPT09dHx8XCLvuJhcIj09PXR8fFwi77mAXCI9PT10fHxcIu+4kFwiPT09dHx8XCLvuJNcIj09PXR8fFwi77iUXCI9PT10fHxcIu+9gFwiPT09dHx8XCLvv6NcIj09PXR8fFwi77iRXCI9PT10fHxcIu+4klwiPT09dH1mdW5jdGlvbiB5aCh0KXtyZXR1cm4gXCLvuLVcIj09PXR8fFwi77mHXCI9PT10fHxcIu+4t1wiPT09dHx8XCLvuYNcIj09PXR8fFwi77mBXCI9PT10fHxcIu+4vVwiPT09dHx8XCLvuLtcIj09PXR8fFwi77i5XCI9PT10fHxcIu+4l1wiPT09dHx8XCLvuL9cIj09PXR9dmFyIG1oPWZ1bmN0aW9uKHQsZSxyLG4saSl7dmFyIHMsYSxvPTgqaS1uLTEsbD0oMTw8byktMSx1PWw+PjEsYz0tNyxoPXI/aS0xOjAscD1yPy0xOjEsZj10W2UraF07Zm9yKGgrPXAscz1mJigxPDwtYyktMSxmPj49LWMsYys9bztjPjA7cz0yNTYqcyt0W2UraF0saCs9cCxjLT04KTtmb3IoYT1zJigxPDwtYyktMSxzPj49LWMsYys9bjtjPjA7YT0yNTYqYSt0W2UraF0saCs9cCxjLT04KTtpZigwPT09cylzPTEtdTtlbHNlIHtpZihzPT09bClyZXR1cm4gYT9OYU46MS8wKihmPy0xOjEpO2ErPU1hdGgucG93KDIsbikscy09dTt9cmV0dXJuIChmPy0xOjEpKmEqTWF0aC5wb3coMixzLW4pfSxnaD1mdW5jdGlvbih0LGUscixuLGkscyl7dmFyIGEsbyxsLHU9OCpzLWktMSxjPSgxPDx1KS0xLGg9Yz4+MSxwPTIzPT09aT9NYXRoLnBvdygyLC0yNCktTWF0aC5wb3coMiwtNzcpOjAsZj1uPzA6cy0xLGQ9bj8xOi0xLHk9ZTwwfHwwPT09ZSYmMS9lPDA/MTowO2ZvcihlPU1hdGguYWJzKGUpLGlzTmFOKGUpfHxlPT09MS8wPyhvPWlzTmFOKGUpPzE6MCxhPWMpOihhPU1hdGguZmxvb3IoTWF0aC5sb2coZSkvTWF0aC5MTjIpLGUqKGw9TWF0aC5wb3coMiwtYSkpPDEmJihhLS0sbCo9MiksKGUrPWEraD49MT9wL2w6cCpNYXRoLnBvdygyLDEtaCkpKmw+PTImJihhKyssbC89MiksYStoPj1jPyhvPTAsYT1jKTphK2g+PTE/KG89KGUqbC0xKSpNYXRoLnBvdygyLGkpLGErPWgpOihvPWUqTWF0aC5wb3coMixoLTEpKk1hdGgucG93KDIsaSksYT0wKSk7aT49ODt0W3IrZl09MjU1Jm8sZis9ZCxvLz0yNTYsaS09OCk7Zm9yKGE9YTw8aXxvLHUrPWk7dT4wO3RbcitmXT0yNTUmYSxmKz1kLGEvPTI1Nix1LT04KTt0W3IrZi1kXXw9MTI4Knk7fSx4aD12aDtmdW5jdGlvbiB2aCh0KXt0aGlzLmJ1Zj1BcnJheUJ1ZmZlci5pc1ZpZXcmJkFycmF5QnVmZmVyLmlzVmlldyh0KT90Om5ldyBVaW50OEFycmF5KHR8fDApLHRoaXMucG9zPTAsdGhpcy50eXBlPTAsdGhpcy5sZW5ndGg9dGhpcy5idWYubGVuZ3RoO312aC5WYXJpbnQ9MCx2aC5GaXhlZDY0PTEsdmguQnl0ZXM9Mix2aC5GaXhlZDMyPTU7dmFyIGJoPTQyOTQ5NjcyOTYsX2g9MS9iaCx3aD1cInVuZGVmaW5lZFwiPT10eXBlb2YgVGV4dERlY29kZXI/bnVsbDpuZXcgVGV4dERlY29kZXIoXCJ1dGY4XCIpO2Z1bmN0aW9uIEFoKHQpe3JldHVybiB0LnR5cGU9PT12aC5CeXRlcz90LnJlYWRWYXJpbnQoKSt0LnBvczp0LnBvcysxfWZ1bmN0aW9uIFNoKHQsZSxyKXtyZXR1cm4gcj80Mjk0OTY3Mjk2KmUrKHQ+Pj4wKTo0Mjk0OTY3Mjk2KihlPj4+MCkrKHQ+Pj4wKX1mdW5jdGlvbiBraCh0LGUscil7dmFyIG49ZTw9MTYzODM/MTplPD0yMDk3MTUxPzI6ZTw9MjY4NDM1NDU1PzM6TWF0aC5mbG9vcihNYXRoLmxvZyhlKS8oNypNYXRoLkxOMikpO3IucmVhbGxvYyhuKTtmb3IodmFyIGk9ci5wb3MtMTtpPj10O2ktLSlyLmJ1ZltpK25dPXIuYnVmW2ldO31mdW5jdGlvbiBJaCh0LGUpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKWUud3JpdGVWYXJpbnQodFtyXSk7fWZ1bmN0aW9uIE1oKHQsZSl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspZS53cml0ZVNWYXJpbnQodFtyXSk7fWZ1bmN0aW9uIHpoKHQsZSl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspZS53cml0ZUZsb2F0KHRbcl0pO31mdW5jdGlvbiBUaCh0LGUpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKWUud3JpdGVEb3VibGUodFtyXSk7fWZ1bmN0aW9uIEJoKHQsZSl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspZS53cml0ZUJvb2xlYW4odFtyXSk7fWZ1bmN0aW9uIEVoKHQsZSl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspZS53cml0ZUZpeGVkMzIodFtyXSk7fWZ1bmN0aW9uIENoKHQsZSl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspZS53cml0ZVNGaXhlZDMyKHRbcl0pO31mdW5jdGlvbiBQaCh0LGUpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKWUud3JpdGVGaXhlZDY0KHRbcl0pO31mdW5jdGlvbiBEaCh0LGUpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKWUud3JpdGVTRml4ZWQ2NCh0W3JdKTt9ZnVuY3Rpb24gVmgodCxlKXtyZXR1cm4gKHRbZV18dFtlKzFdPDw4fHRbZSsyXTw8MTYpKzE2Nzc3MjE2KnRbZSszXX1mdW5jdGlvbiBGaCh0LGUscil7dFtyXT1lLHRbcisxXT1lPj4+OCx0W3IrMl09ZT4+PjE2LHRbciszXT1lPj4+MjQ7fWZ1bmN0aW9uIExoKHQsZSl7cmV0dXJuICh0W2VdfHRbZSsxXTw8OHx0W2UrMl08PDE2KSsodFtlKzNdPDwyNCl9ZnVuY3Rpb24gUmgodCxlLHIpe2UuZ2x5cGhzPVtdLDE9PT10JiZyLnJlYWRNZXNzYWdlKFVoLGUpO31mdW5jdGlvbiBVaCh0LGUscil7aWYoMz09PXQpe2NvbnN0e2lkOnQsYml0bWFwOm4sd2lkdGg6aSxoZWlnaHQ6cyxsZWZ0OmEsdG9wOm8sYWR2YW5jZTpsfT1yLnJlYWRNZXNzYWdlKGpoLHt9KTtlLmdseXBocy5wdXNoKHtpZDp0LGJpdG1hcDpuZXcgaHUoe3dpZHRoOmkrNixoZWlnaHQ6cys2fSxuKSxtZXRyaWNzOnt3aWR0aDppLGhlaWdodDpzLGxlZnQ6YSx0b3A6byxhZHZhbmNlOmx9fSk7fWVsc2UgND09PXQ/ZS5hc2NlbmRlcj1yLnJlYWRTVmFyaW50KCk6NT09PXQmJihlLmRlc2NlbmRlcj1yLnJlYWRTVmFyaW50KCkpO31mdW5jdGlvbiBqaCh0LGUscil7MT09PXQ/ZS5pZD1yLnJlYWRWYXJpbnQoKToyPT09dD9lLmJpdG1hcD1yLnJlYWRCeXRlcygpOjM9PT10P2Uud2lkdGg9ci5yZWFkVmFyaW50KCk6ND09PXQ/ZS5oZWlnaHQ9ci5yZWFkVmFyaW50KCk6NT09PXQ/ZS5sZWZ0PXIucmVhZFNWYXJpbnQoKTo2PT09dD9lLnRvcD1yLnJlYWRTVmFyaW50KCk6Nz09PXQmJihlLmFkdmFuY2U9ci5yZWFkVmFyaW50KCkpO31mdW5jdGlvbiAkaCh0KXtsZXQgZT0wLHI9MDtmb3IoY29uc3QgbiBvZiB0KWUrPW4udypuLmgscj1NYXRoLm1heChyLG4udyk7dC5zb3J0KCgodCxlKT0+ZS5oLXQuaCkpO2NvbnN0IG49W3t4OjAseTowLHc6TWF0aC5tYXgoTWF0aC5jZWlsKE1hdGguc3FydChlLy45NSkpLHIpLGg6MS8wfV07bGV0IGk9MCxzPTA7Zm9yKGNvbnN0IGUgb2YgdClmb3IobGV0IHQ9bi5sZW5ndGgtMTt0Pj0wO3QtLSl7Y29uc3Qgcj1uW3RdO2lmKCEoZS53PnIud3x8ZS5oPnIuaCkpe2lmKGUueD1yLngsZS55PXIueSxzPU1hdGgubWF4KHMsZS55K2UuaCksaT1NYXRoLm1heChpLGUueCtlLncpLGUudz09PXIudyYmZS5oPT09ci5oKXtjb25zdCBlPW4ucG9wKCk7dDxuLmxlbmd0aCYmKG5bdF09ZSk7fWVsc2UgZS5oPT09ci5oPyhyLngrPWUudyxyLnctPWUudyk6ZS53PT09ci53PyhyLnkrPWUuaCxyLmgtPWUuaCk6KG4ucHVzaCh7eDpyLngrZS53LHk6ci55LHc6ci53LWUudyxoOmUuaH0pLHIueSs9ZS5oLHIuaC09ZS5oKTticmVha319cmV0dXJuIHt3OmksaDpzLGZpbGw6ZS8oaSpzKXx8MH19dmgucHJvdG90eXBlPXtkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5idWY9bnVsbDt9LHJlYWRGaWVsZHM6ZnVuY3Rpb24odCxlLHIpe2ZvcihyPXJ8fHRoaXMubGVuZ3RoO3RoaXMucG9zPHI7KXt2YXIgbj10aGlzLnJlYWRWYXJpbnQoKSxpPW4+PjMscz10aGlzLnBvczt0aGlzLnR5cGU9NyZuLHQoaSxlLHRoaXMpLHRoaXMucG9zPT09cyYmdGhpcy5za2lwKG4pO31yZXR1cm4gZX0scmVhZE1lc3NhZ2U6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5yZWFkRmllbGRzKHQsZSx0aGlzLnJlYWRWYXJpbnQoKSt0aGlzLnBvcyl9LHJlYWRGaXhlZDMyOmZ1bmN0aW9uKCl7dmFyIHQ9VmgodGhpcy5idWYsdGhpcy5wb3MpO3JldHVybiB0aGlzLnBvcys9NCx0fSxyZWFkU0ZpeGVkMzI6ZnVuY3Rpb24oKXt2YXIgdD1MaCh0aGlzLmJ1Zix0aGlzLnBvcyk7cmV0dXJuIHRoaXMucG9zKz00LHR9LHJlYWRGaXhlZDY0OmZ1bmN0aW9uKCl7dmFyIHQ9VmgodGhpcy5idWYsdGhpcy5wb3MpK1ZoKHRoaXMuYnVmLHRoaXMucG9zKzQpKmJoO3JldHVybiB0aGlzLnBvcys9OCx0fSxyZWFkU0ZpeGVkNjQ6ZnVuY3Rpb24oKXt2YXIgdD1WaCh0aGlzLmJ1Zix0aGlzLnBvcykrTGgodGhpcy5idWYsdGhpcy5wb3MrNCkqYmg7cmV0dXJuIHRoaXMucG9zKz04LHR9LHJlYWRGbG9hdDpmdW5jdGlvbigpe3ZhciB0PW1oKHRoaXMuYnVmLHRoaXMucG9zLCEwLDIzLDQpO3JldHVybiB0aGlzLnBvcys9NCx0fSxyZWFkRG91YmxlOmZ1bmN0aW9uKCl7dmFyIHQ9bWgodGhpcy5idWYsdGhpcy5wb3MsITAsNTIsOCk7cmV0dXJuIHRoaXMucG9zKz04LHR9LHJlYWRWYXJpbnQ6ZnVuY3Rpb24odCl7dmFyIGUscixuPXRoaXMuYnVmO3JldHVybiBlPTEyNyYocj1uW3RoaXMucG9zKytdKSxyPDEyOD9lOihlfD0oMTI3JihyPW5bdGhpcy5wb3MrK10pKTw8NyxyPDEyOD9lOihlfD0oMTI3JihyPW5bdGhpcy5wb3MrK10pKTw8MTQscjwxMjg/ZTooZXw9KDEyNyYocj1uW3RoaXMucG9zKytdKSk8PDIxLHI8MTI4P2U6ZnVuY3Rpb24odCxlLHIpe3ZhciBuLGkscz1yLmJ1ZjtpZihuPSgxMTImKGk9c1tyLnBvcysrXSkpPj40LGk8MTI4KXJldHVybiBTaCh0LG4sZSk7aWYobnw9KDEyNyYoaT1zW3IucG9zKytdKSk8PDMsaTwxMjgpcmV0dXJuIFNoKHQsbixlKTtpZihufD0oMTI3JihpPXNbci5wb3MrK10pKTw8MTAsaTwxMjgpcmV0dXJuIFNoKHQsbixlKTtpZihufD0oMTI3JihpPXNbci5wb3MrK10pKTw8MTcsaTwxMjgpcmV0dXJuIFNoKHQsbixlKTtpZihufD0oMTI3JihpPXNbci5wb3MrK10pKTw8MjQsaTwxMjgpcmV0dXJuIFNoKHQsbixlKTtpZihufD0oMSYoaT1zW3IucG9zKytdKSk8PDMxLGk8MTI4KXJldHVybiBTaCh0LG4sZSk7dGhyb3cgbmV3IEVycm9yKFwiRXhwZWN0ZWQgdmFyaW50IG5vdCBtb3JlIHRoYW4gMTAgYnl0ZXNcIil9KGV8PSgxNSYocj1uW3RoaXMucG9zXSkpPDwyOCx0LHRoaXMpKSkpfSxyZWFkVmFyaW50NjQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZWFkVmFyaW50KCEwKX0scmVhZFNWYXJpbnQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnJlYWRWYXJpbnQoKTtyZXR1cm4gdCUyPT0xPyh0KzEpLy0yOnQvMn0scmVhZEJvb2xlYW46ZnVuY3Rpb24oKXtyZXR1cm4gQm9vbGVhbih0aGlzLnJlYWRWYXJpbnQoKSl9LHJlYWRTdHJpbmc6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnJlYWRWYXJpbnQoKSt0aGlzLnBvcyxlPXRoaXMucG9zO3JldHVybiB0aGlzLnBvcz10LHQtZT49MTImJndoP2Z1bmN0aW9uKHQsZSxyKXtyZXR1cm4gd2guZGVjb2RlKHQuc3ViYXJyYXkoZSxyKSl9KHRoaXMuYnVmLGUsdCk6ZnVuY3Rpb24odCxlLHIpe2Zvcih2YXIgbj1cIlwiLGk9ZTtpPHI7KXt2YXIgcyxhLG8sbD10W2ldLHU9bnVsbCxjPWw+MjM5PzQ6bD4yMjM/MzpsPjE5MT8yOjE7aWYoaStjPnIpYnJlYWs7MT09PWM/bDwxMjgmJih1PWwpOjI9PT1jPzEyOD09KDE5MiYocz10W2krMV0pKSYmKHU9KDMxJmwpPDw2fDYzJnMpPD0xMjcmJih1PW51bGwpOjM9PT1jPyhhPXRbaSsyXSwxMjg9PSgxOTImKHM9dFtpKzFdKSkmJjEyOD09KDE5MiZhKSYmKCh1PSgxNSZsKTw8MTJ8KDYzJnMpPDw2fDYzJmEpPD0yMDQ3fHx1Pj01NTI5NiYmdTw9NTczNDMpJiYodT1udWxsKSk6ND09PWMmJihhPXRbaSsyXSxvPXRbaSszXSwxMjg9PSgxOTImKHM9dFtpKzFdKSkmJjEyOD09KDE5MiZhKSYmMTI4PT0oMTkyJm8pJiYoKHU9KDE1JmwpPDwxOHwoNjMmcyk8PDEyfCg2MyZhKTw8Nnw2MyZvKTw9NjU1MzV8fHU+PTExMTQxMTIpJiYodT1udWxsKSksbnVsbD09PXU/KHU9NjU1MzMsYz0xKTp1PjY1NTM1JiYodS09NjU1MzYsbis9U3RyaW5nLmZyb21DaGFyQ29kZSh1Pj4+MTAmMTAyM3w1NTI5NiksdT01NjMyMHwxMDIzJnUpLG4rPVN0cmluZy5mcm9tQ2hhckNvZGUodSksaSs9Yzt9cmV0dXJuIG59KHRoaXMuYnVmLGUsdCl9LHJlYWRCeXRlczpmdW5jdGlvbigpe3ZhciB0PXRoaXMucmVhZFZhcmludCgpK3RoaXMucG9zLGU9dGhpcy5idWYuc3ViYXJyYXkodGhpcy5wb3MsdCk7cmV0dXJuIHRoaXMucG9zPXQsZX0scmVhZFBhY2tlZFZhcmludDpmdW5jdGlvbih0LGUpe2lmKHRoaXMudHlwZSE9PXZoLkJ5dGVzKXJldHVybiB0LnB1c2godGhpcy5yZWFkVmFyaW50KGUpKTt2YXIgcj1BaCh0aGlzKTtmb3IodD10fHxbXTt0aGlzLnBvczxyOyl0LnB1c2godGhpcy5yZWFkVmFyaW50KGUpKTtyZXR1cm4gdH0scmVhZFBhY2tlZFNWYXJpbnQ6ZnVuY3Rpb24odCl7aWYodGhpcy50eXBlIT09dmguQnl0ZXMpcmV0dXJuIHQucHVzaCh0aGlzLnJlYWRTVmFyaW50KCkpO3ZhciBlPUFoKHRoaXMpO2Zvcih0PXR8fFtdO3RoaXMucG9zPGU7KXQucHVzaCh0aGlzLnJlYWRTVmFyaW50KCkpO3JldHVybiB0fSxyZWFkUGFja2VkQm9vbGVhbjpmdW5jdGlvbih0KXtpZih0aGlzLnR5cGUhPT12aC5CeXRlcylyZXR1cm4gdC5wdXNoKHRoaXMucmVhZEJvb2xlYW4oKSk7dmFyIGU9QWgodGhpcyk7Zm9yKHQ9dHx8W107dGhpcy5wb3M8ZTspdC5wdXNoKHRoaXMucmVhZEJvb2xlYW4oKSk7cmV0dXJuIHR9LHJlYWRQYWNrZWRGbG9hdDpmdW5jdGlvbih0KXtpZih0aGlzLnR5cGUhPT12aC5CeXRlcylyZXR1cm4gdC5wdXNoKHRoaXMucmVhZEZsb2F0KCkpO3ZhciBlPUFoKHRoaXMpO2Zvcih0PXR8fFtdO3RoaXMucG9zPGU7KXQucHVzaCh0aGlzLnJlYWRGbG9hdCgpKTtyZXR1cm4gdH0scmVhZFBhY2tlZERvdWJsZTpmdW5jdGlvbih0KXtpZih0aGlzLnR5cGUhPT12aC5CeXRlcylyZXR1cm4gdC5wdXNoKHRoaXMucmVhZERvdWJsZSgpKTt2YXIgZT1BaCh0aGlzKTtmb3IodD10fHxbXTt0aGlzLnBvczxlOyl0LnB1c2godGhpcy5yZWFkRG91YmxlKCkpO3JldHVybiB0fSxyZWFkUGFja2VkRml4ZWQzMjpmdW5jdGlvbih0KXtpZih0aGlzLnR5cGUhPT12aC5CeXRlcylyZXR1cm4gdC5wdXNoKHRoaXMucmVhZEZpeGVkMzIoKSk7dmFyIGU9QWgodGhpcyk7Zm9yKHQ9dHx8W107dGhpcy5wb3M8ZTspdC5wdXNoKHRoaXMucmVhZEZpeGVkMzIoKSk7cmV0dXJuIHR9LHJlYWRQYWNrZWRTRml4ZWQzMjpmdW5jdGlvbih0KXtpZih0aGlzLnR5cGUhPT12aC5CeXRlcylyZXR1cm4gdC5wdXNoKHRoaXMucmVhZFNGaXhlZDMyKCkpO3ZhciBlPUFoKHRoaXMpO2Zvcih0PXR8fFtdO3RoaXMucG9zPGU7KXQucHVzaCh0aGlzLnJlYWRTRml4ZWQzMigpKTtyZXR1cm4gdH0scmVhZFBhY2tlZEZpeGVkNjQ6ZnVuY3Rpb24odCl7aWYodGhpcy50eXBlIT09dmguQnl0ZXMpcmV0dXJuIHQucHVzaCh0aGlzLnJlYWRGaXhlZDY0KCkpO3ZhciBlPUFoKHRoaXMpO2Zvcih0PXR8fFtdO3RoaXMucG9zPGU7KXQucHVzaCh0aGlzLnJlYWRGaXhlZDY0KCkpO3JldHVybiB0fSxyZWFkUGFja2VkU0ZpeGVkNjQ6ZnVuY3Rpb24odCl7aWYodGhpcy50eXBlIT09dmguQnl0ZXMpcmV0dXJuIHQucHVzaCh0aGlzLnJlYWRTRml4ZWQ2NCgpKTt2YXIgZT1BaCh0aGlzKTtmb3IodD10fHxbXTt0aGlzLnBvczxlOyl0LnB1c2godGhpcy5yZWFkU0ZpeGVkNjQoKSk7cmV0dXJuIHR9LHNraXA6ZnVuY3Rpb24odCl7dmFyIGU9NyZ0O2lmKGU9PT12aC5WYXJpbnQpZm9yKDt0aGlzLmJ1Zlt0aGlzLnBvcysrXT4xMjc7KTtlbHNlIGlmKGU9PT12aC5CeXRlcyl0aGlzLnBvcz10aGlzLnJlYWRWYXJpbnQoKSt0aGlzLnBvcztlbHNlIGlmKGU9PT12aC5GaXhlZDMyKXRoaXMucG9zKz00O2Vsc2Uge2lmKGUhPT12aC5GaXhlZDY0KXRocm93IG5ldyBFcnJvcihcIlVuaW1wbGVtZW50ZWQgdHlwZTogXCIrZSk7dGhpcy5wb3MrPTg7fX0sd3JpdGVUYWc6ZnVuY3Rpb24odCxlKXt0aGlzLndyaXRlVmFyaW50KHQ8PDN8ZSk7fSxyZWFsbG9jOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLmxlbmd0aHx8MTY7ZTx0aGlzLnBvcyt0OyllKj0yO2lmKGUhPT10aGlzLmxlbmd0aCl7dmFyIHI9bmV3IFVpbnQ4QXJyYXkoZSk7ci5zZXQodGhpcy5idWYpLHRoaXMuYnVmPXIsdGhpcy5sZW5ndGg9ZTt9fSxmaW5pc2g6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sZW5ndGg9dGhpcy5wb3MsdGhpcy5wb3M9MCx0aGlzLmJ1Zi5zdWJhcnJheSgwLHRoaXMubGVuZ3RoKX0sd3JpdGVGaXhlZDMyOmZ1bmN0aW9uKHQpe3RoaXMucmVhbGxvYyg0KSxGaCh0aGlzLmJ1Zix0LHRoaXMucG9zKSx0aGlzLnBvcys9NDt9LHdyaXRlU0ZpeGVkMzI6ZnVuY3Rpb24odCl7dGhpcy5yZWFsbG9jKDQpLEZoKHRoaXMuYnVmLHQsdGhpcy5wb3MpLHRoaXMucG9zKz00O30sd3JpdGVGaXhlZDY0OmZ1bmN0aW9uKHQpe3RoaXMucmVhbGxvYyg4KSxGaCh0aGlzLmJ1ZiwtMSZ0LHRoaXMucG9zKSxGaCh0aGlzLmJ1ZixNYXRoLmZsb29yKHQqX2gpLHRoaXMucG9zKzQpLHRoaXMucG9zKz04O30sd3JpdGVTRml4ZWQ2NDpmdW5jdGlvbih0KXt0aGlzLnJlYWxsb2MoOCksRmgodGhpcy5idWYsLTEmdCx0aGlzLnBvcyksRmgodGhpcy5idWYsTWF0aC5mbG9vcih0Kl9oKSx0aGlzLnBvcys0KSx0aGlzLnBvcys9ODt9LHdyaXRlVmFyaW50OmZ1bmN0aW9uKHQpeyh0PSt0fHwwKT4yNjg0MzU0NTV8fHQ8MD9mdW5jdGlvbih0LGUpe3ZhciByLG47aWYodD49MD8ocj10JTQyOTQ5NjcyOTZ8MCxuPXQvNDI5NDk2NzI5NnwwKToobj1+KC10LzQyOTQ5NjcyOTYpLDQyOTQ5NjcyOTVeKHI9figtdCU0Mjk0OTY3Mjk2KSk/cj1yKzF8MDoocj0wLG49bisxfDApKSx0Pj0weDEwMDAwMDAwMDAwMDAwMDAwfHx0PC0weDEwMDAwMDAwMDAwMDAwMDAwKXRocm93IG5ldyBFcnJvcihcIkdpdmVuIHZhcmludCBkb2Vzbid0IGZpdCBpbnRvIDEwIGJ5dGVzXCIpO2UucmVhbGxvYygxMCksZnVuY3Rpb24odCxlLHIpe3IuYnVmW3IucG9zKytdPTEyNyZ0fDEyOCx0Pj4+PTcsci5idWZbci5wb3MrK109MTI3JnR8MTI4LHQ+Pj49NyxyLmJ1ZltyLnBvcysrXT0xMjcmdHwxMjgsdD4+Pj03LHIuYnVmW3IucG9zKytdPTEyNyZ0fDEyOCxyLmJ1ZltyLnBvc109MTI3Jih0Pj4+PTcpO30ociwwLGUpLGZ1bmN0aW9uKHQsZSl7dmFyIHI9KDcmdCk8PDQ7ZS5idWZbZS5wb3MrK118PXJ8KCh0Pj4+PTMpPzEyODowKSx0JiYoZS5idWZbZS5wb3MrK109MTI3JnR8KCh0Pj4+PTcpPzEyODowKSx0JiYoZS5idWZbZS5wb3MrK109MTI3JnR8KCh0Pj4+PTcpPzEyODowKSx0JiYoZS5idWZbZS5wb3MrK109MTI3JnR8KCh0Pj4+PTcpPzEyODowKSx0JiYoZS5idWZbZS5wb3MrK109MTI3JnR8KCh0Pj4+PTcpPzEyODowKSx0JiYoZS5idWZbZS5wb3MrK109MTI3JnQpKSkpKTt9KG4sZSk7fSh0LHRoaXMpOih0aGlzLnJlYWxsb2MoNCksdGhpcy5idWZbdGhpcy5wb3MrK109MTI3JnR8KHQ+MTI3PzEyODowKSx0PD0xMjd8fCh0aGlzLmJ1Zlt0aGlzLnBvcysrXT0xMjcmKHQ+Pj49Nyl8KHQ+MTI3PzEyODowKSx0PD0xMjd8fCh0aGlzLmJ1Zlt0aGlzLnBvcysrXT0xMjcmKHQ+Pj49Nyl8KHQ+MTI3PzEyODowKSx0PD0xMjd8fCh0aGlzLmJ1Zlt0aGlzLnBvcysrXT10Pj4+NyYxMjcpKSkpO30sd3JpdGVTVmFyaW50OmZ1bmN0aW9uKHQpe3RoaXMud3JpdGVWYXJpbnQodDwwPzIqLXQtMToyKnQpO30sd3JpdGVCb29sZWFuOmZ1bmN0aW9uKHQpe3RoaXMud3JpdGVWYXJpbnQoQm9vbGVhbih0KSk7fSx3cml0ZVN0cmluZzpmdW5jdGlvbih0KXt0PVN0cmluZyh0KSx0aGlzLnJlYWxsb2MoNCp0Lmxlbmd0aCksdGhpcy5wb3MrKzt2YXIgZT10aGlzLnBvczt0aGlzLnBvcz1mdW5jdGlvbih0LGUscil7Zm9yKHZhciBuLGkscz0wO3M8ZS5sZW5ndGg7cysrKXtpZigobj1lLmNoYXJDb2RlQXQocykpPjU1Mjk1JiZuPDU3MzQ0KXtpZighaSl7bj41NjMxOXx8cysxPT09ZS5sZW5ndGg/KHRbcisrXT0yMzksdFtyKytdPTE5MSx0W3IrK109MTg5KTppPW47Y29udGludWV9aWYobjw1NjMyMCl7dFtyKytdPTIzOSx0W3IrK109MTkxLHRbcisrXT0xODksaT1uO2NvbnRpbnVlfW49aS01NTI5Njw8MTB8bi01NjMyMHw2NTUzNixpPW51bGw7fWVsc2UgaSYmKHRbcisrXT0yMzksdFtyKytdPTE5MSx0W3IrK109MTg5LGk9bnVsbCk7bjwxMjg/dFtyKytdPW46KG48MjA0OD90W3IrK109bj4+NnwxOTI6KG48NjU1MzY/dFtyKytdPW4+PjEyfDIyNDoodFtyKytdPW4+PjE4fDI0MCx0W3IrK109bj4+MTImNjN8MTI4KSx0W3IrK109bj4+NiY2M3wxMjgpLHRbcisrXT02MyZufDEyOCk7fXJldHVybiByfSh0aGlzLmJ1Zix0LHRoaXMucG9zKTt2YXIgcj10aGlzLnBvcy1lO3I+PTEyOCYma2goZSxyLHRoaXMpLHRoaXMucG9zPWUtMSx0aGlzLndyaXRlVmFyaW50KHIpLHRoaXMucG9zKz1yO30sd3JpdGVGbG9hdDpmdW5jdGlvbih0KXt0aGlzLnJlYWxsb2MoNCksZ2godGhpcy5idWYsdCx0aGlzLnBvcywhMCwyMyw0KSx0aGlzLnBvcys9NDt9LHdyaXRlRG91YmxlOmZ1bmN0aW9uKHQpe3RoaXMucmVhbGxvYyg4KSxnaCh0aGlzLmJ1Zix0LHRoaXMucG9zLCEwLDUyLDgpLHRoaXMucG9zKz04O30sd3JpdGVCeXRlczpmdW5jdGlvbih0KXt2YXIgZT10Lmxlbmd0aDt0aGlzLndyaXRlVmFyaW50KGUpLHRoaXMucmVhbGxvYyhlKTtmb3IodmFyIHI9MDtyPGU7cisrKXRoaXMuYnVmW3RoaXMucG9zKytdPXRbcl07fSx3cml0ZVJhd01lc3NhZ2U6ZnVuY3Rpb24odCxlKXt0aGlzLnBvcysrO3ZhciByPXRoaXMucG9zO3QoZSx0aGlzKTt2YXIgbj10aGlzLnBvcy1yO24+PTEyOCYma2gocixuLHRoaXMpLHRoaXMucG9zPXItMSx0aGlzLndyaXRlVmFyaW50KG4pLHRoaXMucG9zKz1uO30sd3JpdGVNZXNzYWdlOmZ1bmN0aW9uKHQsZSxyKXt0aGlzLndyaXRlVGFnKHQsdmguQnl0ZXMpLHRoaXMud3JpdGVSYXdNZXNzYWdlKGUscik7fSx3cml0ZVBhY2tlZFZhcmludDpmdW5jdGlvbih0LGUpe2UubGVuZ3RoJiZ0aGlzLndyaXRlTWVzc2FnZSh0LEloLGUpO30sd3JpdGVQYWNrZWRTVmFyaW50OmZ1bmN0aW9uKHQsZSl7ZS5sZW5ndGgmJnRoaXMud3JpdGVNZXNzYWdlKHQsTWgsZSk7fSx3cml0ZVBhY2tlZEJvb2xlYW46ZnVuY3Rpb24odCxlKXtlLmxlbmd0aCYmdGhpcy53cml0ZU1lc3NhZ2UodCxCaCxlKTt9LHdyaXRlUGFja2VkRmxvYXQ6ZnVuY3Rpb24odCxlKXtlLmxlbmd0aCYmdGhpcy53cml0ZU1lc3NhZ2UodCx6aCxlKTt9LHdyaXRlUGFja2VkRG91YmxlOmZ1bmN0aW9uKHQsZSl7ZS5sZW5ndGgmJnRoaXMud3JpdGVNZXNzYWdlKHQsVGgsZSk7fSx3cml0ZVBhY2tlZEZpeGVkMzI6ZnVuY3Rpb24odCxlKXtlLmxlbmd0aCYmdGhpcy53cml0ZU1lc3NhZ2UodCxFaCxlKTt9LHdyaXRlUGFja2VkU0ZpeGVkMzI6ZnVuY3Rpb24odCxlKXtlLmxlbmd0aCYmdGhpcy53cml0ZU1lc3NhZ2UodCxDaCxlKTt9LHdyaXRlUGFja2VkRml4ZWQ2NDpmdW5jdGlvbih0LGUpe2UubGVuZ3RoJiZ0aGlzLndyaXRlTWVzc2FnZSh0LFBoLGUpO30sd3JpdGVQYWNrZWRTRml4ZWQ2NDpmdW5jdGlvbih0LGUpe2UubGVuZ3RoJiZ0aGlzLndyaXRlTWVzc2FnZSh0LERoLGUpO30sd3JpdGVCeXRlc0ZpZWxkOmZ1bmN0aW9uKHQsZSl7dGhpcy53cml0ZVRhZyh0LHZoLkJ5dGVzKSx0aGlzLndyaXRlQnl0ZXMoZSk7fSx3cml0ZUZpeGVkMzJGaWVsZDpmdW5jdGlvbih0LGUpe3RoaXMud3JpdGVUYWcodCx2aC5GaXhlZDMyKSx0aGlzLndyaXRlRml4ZWQzMihlKTt9LHdyaXRlU0ZpeGVkMzJGaWVsZDpmdW5jdGlvbih0LGUpe3RoaXMud3JpdGVUYWcodCx2aC5GaXhlZDMyKSx0aGlzLndyaXRlU0ZpeGVkMzIoZSk7fSx3cml0ZUZpeGVkNjRGaWVsZDpmdW5jdGlvbih0LGUpe3RoaXMud3JpdGVUYWcodCx2aC5GaXhlZDY0KSx0aGlzLndyaXRlRml4ZWQ2NChlKTt9LHdyaXRlU0ZpeGVkNjRGaWVsZDpmdW5jdGlvbih0LGUpe3RoaXMud3JpdGVUYWcodCx2aC5GaXhlZDY0KSx0aGlzLndyaXRlU0ZpeGVkNjQoZSk7fSx3cml0ZVZhcmludEZpZWxkOmZ1bmN0aW9uKHQsZSl7dGhpcy53cml0ZVRhZyh0LHZoLlZhcmludCksdGhpcy53cml0ZVZhcmludChlKTt9LHdyaXRlU1ZhcmludEZpZWxkOmZ1bmN0aW9uKHQsZSl7dGhpcy53cml0ZVRhZyh0LHZoLlZhcmludCksdGhpcy53cml0ZVNWYXJpbnQoZSk7fSx3cml0ZVN0cmluZ0ZpZWxkOmZ1bmN0aW9uKHQsZSl7dGhpcy53cml0ZVRhZyh0LHZoLkJ5dGVzKSx0aGlzLndyaXRlU3RyaW5nKGUpO30sd3JpdGVGbG9hdEZpZWxkOmZ1bmN0aW9uKHQsZSl7dGhpcy53cml0ZVRhZyh0LHZoLkZpeGVkMzIpLHRoaXMud3JpdGVGbG9hdChlKTt9LHdyaXRlRG91YmxlRmllbGQ6ZnVuY3Rpb24odCxlKXt0aGlzLndyaXRlVGFnKHQsdmguRml4ZWQ2NCksdGhpcy53cml0ZURvdWJsZShlKTt9LHdyaXRlQm9vbGVhbkZpZWxkOmZ1bmN0aW9uKHQsZSl7dGhpcy53cml0ZVZhcmludEZpZWxkKHQsQm9vbGVhbihlKSk7fX07Y2xhc3MgT2h7Y29uc3RydWN0b3IodCx7cGl4ZWxSYXRpbzplLHZlcnNpb246cixzdHJldGNoWDpuLHN0cmV0Y2hZOmksY29udGVudDpzfSl7dGhpcy5wYWRkZWRSZWN0PXQsdGhpcy5waXhlbFJhdGlvPWUsdGhpcy5zdHJldGNoWD1uLHRoaXMuc3RyZXRjaFk9aSx0aGlzLmNvbnRlbnQ9cyx0aGlzLnZlcnNpb249cjt9Z2V0IHRsKCl7cmV0dXJuIFt0aGlzLnBhZGRlZFJlY3QueCsxLHRoaXMucGFkZGVkUmVjdC55KzFdfWdldCBicigpe3JldHVybiBbdGhpcy5wYWRkZWRSZWN0LngrdGhpcy5wYWRkZWRSZWN0LnctMSx0aGlzLnBhZGRlZFJlY3QueSt0aGlzLnBhZGRlZFJlY3QuaC0xXX1nZXQgZGlzcGxheVNpemUoKXtyZXR1cm4gWyh0aGlzLnBhZGRlZFJlY3Qudy0yKS90aGlzLnBpeGVsUmF0aW8sKHRoaXMucGFkZGVkUmVjdC5oLTIpL3RoaXMucGl4ZWxSYXRpb119fWNsYXNzIHFoe2NvbnN0cnVjdG9yKHQsZSl7Y29uc3Qgcj17fSxuPXt9O3RoaXMuaGF2ZVJlbmRlckNhbGxiYWNrcz1bXTtjb25zdCBpPVtdO3RoaXMuYWRkSW1hZ2VzKHQscixpKSx0aGlzLmFkZEltYWdlcyhlLG4saSk7Y29uc3R7dzpzLGg6YX09JGgoaSksbz1uZXcgcHUoe3dpZHRoOnN8fDEsaGVpZ2h0OmF8fDF9KTtmb3IoY29uc3QgZSBpbiB0KXtjb25zdCBuPXRbZV0saT1yW2VdLnBhZGRlZFJlY3Q7cHUuY29weShuLmRhdGEsbyx7eDowLHk6MH0se3g6aS54KzEseTppLnkrMX0sbi5kYXRhKTt9Zm9yKGNvbnN0IHQgaW4gZSl7Y29uc3Qgcj1lW3RdLGk9blt0XS5wYWRkZWRSZWN0LHM9aS54KzEsYT1pLnkrMSxsPXIuZGF0YS53aWR0aCx1PXIuZGF0YS5oZWlnaHQ7cHUuY29weShyLmRhdGEsbyx7eDowLHk6MH0se3g6cyx5OmF9LHIuZGF0YSkscHUuY29weShyLmRhdGEsbyx7eDowLHk6dS0xfSx7eDpzLHk6YS0xfSx7d2lkdGg6bCxoZWlnaHQ6MX0pLHB1LmNvcHkoci5kYXRhLG8se3g6MCx5OjB9LHt4OnMseTphK3V9LHt3aWR0aDpsLGhlaWdodDoxfSkscHUuY29weShyLmRhdGEsbyx7eDpsLTEseTowfSx7eDpzLTEseTphfSx7d2lkdGg6MSxoZWlnaHQ6dX0pLHB1LmNvcHkoci5kYXRhLG8se3g6MCx5OjB9LHt4OnMrbCx5OmF9LHt3aWR0aDoxLGhlaWdodDp1fSk7fXRoaXMuaW1hZ2U9byx0aGlzLmljb25Qb3NpdGlvbnM9cix0aGlzLnBhdHRlcm5Qb3NpdGlvbnM9bjt9YWRkSW1hZ2VzKHQsZSxyKXtmb3IoY29uc3QgbiBpbiB0KXtjb25zdCBpPXRbbl0scz17eDowLHk6MCx3OmkuZGF0YS53aWR0aCsyLGg6aS5kYXRhLmhlaWdodCsyfTtyLnB1c2gocyksZVtuXT1uZXcgT2gocyxpKSxpLmhhc1JlbmRlckNhbGxiYWNrJiZ0aGlzLmhhdmVSZW5kZXJDYWxsYmFja3MucHVzaChuKTt9fXBhdGNoVXBkYXRlZEltYWdlcyh0LGUpe3RoaXMuaGF2ZVJlbmRlckNhbGxiYWNrcz10aGlzLmhhdmVSZW5kZXJDYWxsYmFja3MuZmlsdGVyKChlPT50Lmhhc0ltYWdlKGUpKSksdC5kaXNwYXRjaFJlbmRlckNhbGxiYWNrcyh0aGlzLmhhdmVSZW5kZXJDYWxsYmFja3MpO2Zvcihjb25zdCByIGluIHQudXBkYXRlZEltYWdlcyl0aGlzLnBhdGNoVXBkYXRlZEltYWdlKHRoaXMuaWNvblBvc2l0aW9uc1tyXSx0LmdldEltYWdlKHIpLGUpLHRoaXMucGF0Y2hVcGRhdGVkSW1hZ2UodGhpcy5wYXR0ZXJuUG9zaXRpb25zW3JdLHQuZ2V0SW1hZ2UociksZSk7fXBhdGNoVXBkYXRlZEltYWdlKHQsZSxyKXtpZighdHx8IWUpcmV0dXJuO2lmKHQudmVyc2lvbj09PWUudmVyc2lvbilyZXR1cm47dC52ZXJzaW9uPWUudmVyc2lvbjtjb25zdFtuLGldPXQudGw7ci51cGRhdGUoZS5kYXRhLHZvaWQgMCx7eDpuLHk6aX0pO319UGkoT2gsXCJJbWFnZVBvc2l0aW9uXCIpLFBpKHFoLFwiSW1hZ2VBdGxhc1wiKTtjb25zdCBOaD17aG9yaXpvbnRhbDoxLHZlcnRpY2FsOjIsaG9yaXpvbnRhbE9ubHk6M307Y2xhc3MgR2h7Y29uc3RydWN0b3IoKXt0aGlzLnNjYWxlPTEsdGhpcy5mb250U3RhY2s9XCJcIix0aGlzLmltYWdlTmFtZT1udWxsO31zdGF0aWMgZm9yVGV4dCh0LGUpe2NvbnN0IHI9bmV3IEdoO3JldHVybiByLnNjYWxlPXR8fDEsci5mb250U3RhY2s9ZSxyfXN0YXRpYyBmb3JJbWFnZSh0KXtjb25zdCBlPW5ldyBHaDtyZXR1cm4gZS5pbWFnZU5hbWU9dCxlfX1jbGFzcyBaaHtjb25zdHJ1Y3Rvcigpe3RoaXMudGV4dD1cIlwiLHRoaXMuc2VjdGlvbkluZGV4PVtdLHRoaXMuc2VjdGlvbnM9W10sdGhpcy5pbWFnZVNlY3Rpb25JRD1udWxsO31zdGF0aWMgZnJvbUZlYXR1cmUodCxlKXtjb25zdCByPW5ldyBaaDtmb3IobGV0IG49MDtuPHQuc2VjdGlvbnMubGVuZ3RoO24rKyl7Y29uc3QgaT10LnNlY3Rpb25zW25dO2kuaW1hZ2U/ci5hZGRJbWFnZVNlY3Rpb24oaSk6ci5hZGRUZXh0U2VjdGlvbihpLGUpO31yZXR1cm4gcn1sZW5ndGgoKXtyZXR1cm4gdGhpcy50ZXh0Lmxlbmd0aH1nZXRTZWN0aW9uKHQpe3JldHVybiB0aGlzLnNlY3Rpb25zW3RoaXMuc2VjdGlvbkluZGV4W3RdXX1nZXRTZWN0aW9ucygpe3JldHVybiB0aGlzLnNlY3Rpb25zfWdldFNlY3Rpb25JbmRleCh0KXtyZXR1cm4gdGhpcy5zZWN0aW9uSW5kZXhbdF19Z2V0Q2hhckNvZGUodCl7cmV0dXJuIHRoaXMudGV4dC5jaGFyQ29kZUF0KHQpfXZlcnRpY2FsaXplUHVuY3R1YXRpb24odCl7dGhpcy50ZXh0PWZ1bmN0aW9uKHQsZSl7bGV0IHI9XCJcIjtmb3IobGV0IG49MDtuPHQubGVuZ3RoO24rKyl7Y29uc3QgaT10LmNoYXJDb2RlQXQobisxKXx8bnVsbCxzPXQuY2hhckNvZGVBdChuLTEpfHxudWxsO3IrPSFlJiYoaSYmbXMoaSkmJiFmaFt0W24rMV1dfHxzJiZtcyhzKSYmIWZoW3Rbbi0xXV0pfHwhZmhbdFtuXV0/dFtuXTpmaFt0W25dXTt9cmV0dXJuIHJ9KHRoaXMudGV4dCx0KTt9dHJpbSgpe2xldCB0PTA7Zm9yKGxldCBlPTA7ZTx0aGlzLnRleHQubGVuZ3RoJiZLaFt0aGlzLnRleHQuY2hhckNvZGVBdChlKV07ZSsrKXQrKztsZXQgZT10aGlzLnRleHQubGVuZ3RoO2ZvcihsZXQgcj10aGlzLnRleHQubGVuZ3RoLTE7cj49MCYmcj49dCYmS2hbdGhpcy50ZXh0LmNoYXJDb2RlQXQocildO3ItLSllLS07dGhpcy50ZXh0PXRoaXMudGV4dC5zdWJzdHJpbmcodCxlKSx0aGlzLnNlY3Rpb25JbmRleD10aGlzLnNlY3Rpb25JbmRleC5zbGljZSh0LGUpO31zdWJzdHJpbmcodCxlKXtjb25zdCByPW5ldyBaaDtyZXR1cm4gci50ZXh0PXRoaXMudGV4dC5zdWJzdHJpbmcodCxlKSxyLnNlY3Rpb25JbmRleD10aGlzLnNlY3Rpb25JbmRleC5zbGljZSh0LGUpLHIuc2VjdGlvbnM9dGhpcy5zZWN0aW9ucyxyfXRvU3RyaW5nKCl7cmV0dXJuIHRoaXMudGV4dH1nZXRNYXhTY2FsZSgpe3JldHVybiB0aGlzLnNlY3Rpb25JbmRleC5yZWR1Y2UoKCh0LGUpPT5NYXRoLm1heCh0LHRoaXMuc2VjdGlvbnNbZV0uc2NhbGUpKSwwKX1hZGRUZXh0U2VjdGlvbih0LGUpe3RoaXMudGV4dCs9dC50ZXh0LHRoaXMuc2VjdGlvbnMucHVzaChHaC5mb3JUZXh0KHQuc2NhbGUsdC5mb250U3RhY2t8fGUpKTtjb25zdCByPXRoaXMuc2VjdGlvbnMubGVuZ3RoLTE7Zm9yKGxldCBlPTA7ZTx0LnRleHQubGVuZ3RoOysrZSl0aGlzLnNlY3Rpb25JbmRleC5wdXNoKHIpO31hZGRJbWFnZVNlY3Rpb24odCl7Y29uc3QgZT10LmltYWdlP3QuaW1hZ2UubmFtZTpcIlwiO2lmKDA9PT1lLmxlbmd0aClyZXR1cm4gdm9pZCBFKFwiQ2FuJ3QgYWRkIEZvcm1hdHRlZFNlY3Rpb24gd2l0aCBhbiBlbXB0eSBpbWFnZS5cIik7Y29uc3Qgcj10aGlzLmdldE5leHRJbWFnZVNlY3Rpb25DaGFyQ29kZSgpO3I/KHRoaXMudGV4dCs9U3RyaW5nLmZyb21DaGFyQ29kZShyKSx0aGlzLnNlY3Rpb25zLnB1c2goR2guZm9ySW1hZ2UoZSkpLHRoaXMuc2VjdGlvbkluZGV4LnB1c2godGhpcy5zZWN0aW9ucy5sZW5ndGgtMSkpOkUoXCJSZWFjaGVkIG1heGltdW0gbnVtYmVyIG9mIGltYWdlcyA2NDAxXCIpO31nZXROZXh0SW1hZ2VTZWN0aW9uQ2hhckNvZGUoKXtyZXR1cm4gdGhpcy5pbWFnZVNlY3Rpb25JRD90aGlzLmltYWdlU2VjdGlvbklEPj02Mzc0Mz9udWxsOisrdGhpcy5pbWFnZVNlY3Rpb25JRDoodGhpcy5pbWFnZVNlY3Rpb25JRD01NzM0NCx0aGlzLmltYWdlU2VjdGlvbklEKX19ZnVuY3Rpb24gWGgodCxlLHIsbixpLHMsYSxvLGwsdSxjLGgscCxmLGQseSl7Y29uc3QgbT1aaC5mcm9tRmVhdHVyZSh0LGkpO2xldCBnO2g9PT1OaC52ZXJ0aWNhbCYmbS52ZXJ0aWNhbGl6ZVB1bmN0dWF0aW9uKHApO2NvbnN0e3Byb2Nlc3NCaWRpcmVjdGlvbmFsVGV4dDp4LHByb2Nlc3NTdHlsZWRCaWRpcmVjdGlvbmFsVGV4dDp2fT1FcztpZih4JiYxPT09bS5zZWN0aW9ucy5sZW5ndGgpe2c9W107Y29uc3QgdD14KG0udG9TdHJpbmcoKSxlcChtLHUscyxlLG4sZixkKSk7Zm9yKGNvbnN0IGUgb2YgdCl7Y29uc3QgdD1uZXcgWmg7dC50ZXh0PWUsdC5zZWN0aW9ucz1tLnNlY3Rpb25zO2ZvcihsZXQgcj0wO3I8ZS5sZW5ndGg7cisrKXQuc2VjdGlvbkluZGV4LnB1c2goMCk7Zy5wdXNoKHQpO319ZWxzZSBpZih2KXtnPVtdO2NvbnN0IHQ9dihtLnRleHQsbS5zZWN0aW9uSW5kZXgsZXAobSx1LHMsZSxuLGYsZCkpO2Zvcihjb25zdCBlIG9mIHQpe2NvbnN0IHQ9bmV3IFpoO3QudGV4dD1lWzBdLHQuc2VjdGlvbkluZGV4PWVbMV0sdC5zZWN0aW9ucz1tLnNlY3Rpb25zLGcucHVzaCh0KTt9fWVsc2UgZz1mdW5jdGlvbih0LGUpe2NvbnN0IHI9W10sbj10LnRleHQ7bGV0IGk9MDtmb3IoY29uc3QgbiBvZiBlKXIucHVzaCh0LnN1YnN0cmluZyhpLG4pKSxpPW47cmV0dXJuIGk8bi5sZW5ndGgmJnIucHVzaCh0LnN1YnN0cmluZyhpLG4ubGVuZ3RoKSkscn0obSxlcChtLHUscyxlLG4sZixkKSk7Y29uc3QgYj1bXSxfPXtwb3NpdGlvbmVkTGluZXM6Yix0ZXh0Om0udG9TdHJpbmcoKSx0b3A6Y1sxXSxib3R0b206Y1sxXSxsZWZ0OmNbMF0scmlnaHQ6Y1swXSx3cml0aW5nTW9kZTpoLGljb25zSW5UZXh0OiExLHZlcnRpY2FsaXphYmxlOiExLGhhc0Jhc2VsaW5lOiExfTtyZXR1cm4gZnVuY3Rpb24odCxlLHIsbixpLHMsYSxvLGwsdSxjLGgpe2xldCBwPTAsZj0wLGQ9MDtjb25zdCB5PVwicmlnaHRcIj09PW8/MTpcImxlZnRcIj09PW8/MDouNTtsZXQgbT0hMTtmb3IoY29uc3QgdCBvZiBpKXtjb25zdCByPXQuZ2V0U2VjdGlvbnMoKTtmb3IoY29uc3QgdCBvZiByKXtpZih0LmltYWdlTmFtZSljb250aW51ZTtjb25zdCByPWVbdC5mb250U3RhY2tdO2lmKHImJihtPXZvaWQgMCE9PXIuYXNjZW5kZXImJnZvaWQgMCE9PXIuZGVzY2VuZGVyLCFtKSlicmVha31pZighbSlicmVha31sZXQgZz0wO2Zvcihjb25zdCBhIG9mIGkpe2EudHJpbSgpO2NvbnN0IGk9YS5nZXRNYXhTY2FsZSgpLG89KGktMSkqYWgsdj17cG9zaXRpb25lZEdseXBoczpbXSxsaW5lT2Zmc2V0OjB9O3QucG9zaXRpb25lZExpbmVzW2ddPXY7Y29uc3QgYj12LnBvc2l0aW9uZWRHbHlwaHM7bGV0IF89MDtpZighYS5sZW5ndGgoKSl7Zis9cywrK2c7Y29udGludWV9bGV0IHc9MCxBPTA7Zm9yKGxldCBzPTA7czxhLmxlbmd0aCgpO3MrKyl7Y29uc3Qgbz1hLmdldFNlY3Rpb24ocyksZD1hLmdldFNlY3Rpb25JbmRleChzKSx5PWEuZ2V0Q2hhckNvZGUocyk7bGV0IGc9by5zY2FsZSx2PW51bGwsUz1udWxsLGs9bnVsbCxJPWFoLE09MDtjb25zdCB6PSEobD09PU5oLmhvcml6b250YWx8fCFjJiYheXMoeSl8fGMmJihLaFt5XXx8KHg9eSxVaSh4KXx8amkoeCl8fCRpKHgpfHxhcyh4KXx8Y3MoeCkpKSk7aWYoby5pbWFnZU5hbWUpe2NvbnN0IGU9bltvLmltYWdlTmFtZV07aWYoIWUpY29udGludWU7az1vLmltYWdlTmFtZSx0Lmljb25zSW5UZXh0PXQuaWNvbnNJblRleHR8fCEwLFM9ZS5wYWRkZWRSZWN0O2NvbnN0IHI9ZS5kaXNwbGF5U2l6ZTtnPWcqYWgvaCx2PXt3aWR0aDpyWzBdLGhlaWdodDpyWzFdLGxlZnQ6MSx0b3A6LTMsYWR2YW5jZTp6P3JbMV06clswXSxsb2NhbEdseXBoOiExfSxNPW0/LXYuaGVpZ2h0Kmc6aSphaC0xNy1yWzFdKmcsST12LmFkdmFuY2U7Y29uc3Qgcz0oej9yWzBdOnJbMV0pKmctYWgqaTtzPjAmJnM+XyYmKF89cyk7fWVsc2Uge2NvbnN0IHQ9cltvLmZvbnRTdGFja107aWYoIXQpY29udGludWU7dFt5XSYmKFM9dFt5XSk7Y29uc3Qgbj1lW28uZm9udFN0YWNrXTtpZighbiljb250aW51ZTtjb25zdCBzPW4uZ2x5cGhzW3ldO2lmKCFzKWNvbnRpbnVlO2lmKHY9cy5tZXRyaWNzLEk9ODIwMyE9PXk/YWg6MCxtKXtjb25zdCB0PXZvaWQgMCE9PW4uYXNjZW5kZXI/TWF0aC5hYnMobi5hc2NlbmRlcik6MCxlPXZvaWQgMCE9PW4uZGVzY2VuZGVyP01hdGguYWJzKG4uZGVzY2VuZGVyKTowLHI9KHQrZSkqZzt3PHImJih3PXIsQT0odC1lKS8yKmcpLE09LXQqZzt9ZWxzZSBNPShpLWcpKmFoLTE3O316Pyh0LnZlcnRpY2FsaXphYmxlPSEwLGIucHVzaCh7Z2x5cGg6eSxpbWFnZU5hbWU6ayx4OnAseTpmK00sdmVydGljYWw6eixzY2FsZTpnLGxvY2FsR2x5cGg6di5sb2NhbEdseXBoLGZvbnRTdGFjazpvLmZvbnRTdGFjayxzZWN0aW9uSW5kZXg6ZCxtZXRyaWNzOnYscmVjdDpTfSkscCs9SSpnK3UpOihiLnB1c2goe2dseXBoOnksaW1hZ2VOYW1lOmsseDpwLHk6ZitNLHZlcnRpY2FsOnosc2NhbGU6Zyxsb2NhbEdseXBoOnYubG9jYWxHbHlwaCxmb250U3RhY2s6by5mb250U3RhY2ssc2VjdGlvbkluZGV4OmQsbWV0cmljczp2LHJlY3Q6U30pLHArPXYuYWR2YW5jZSpnK3UpO30wIT09Yi5sZW5ndGgmJihkPU1hdGgubWF4KHAtdSxkKSxtP25wKGIseSxfLEEscyppLzIpOm5wKGIseSxfLDAscy8yKSkscD0wO2NvbnN0IFM9cyppK187di5saW5lT2Zmc2V0PU1hdGgubWF4KF8sbyksZis9UywrK2c7fXZhciB4O2NvbnN0IHY9Zix7aG9yaXpvbnRhbEFsaWduOmIsdmVydGljYWxBbGlnbjpffT1ycChhKTsoKGZ1bmN0aW9uKHQsZSxyLG4saSxzKXtjb25zdCBhPShlLXIpKmksbz0tcypuO2Zvcihjb25zdCBlIG9mIHQpZm9yKGNvbnN0IHQgb2YgZS5wb3NpdGlvbmVkR2x5cGhzKXQueCs9YSx0LnkrPW87fSkpKHQucG9zaXRpb25lZExpbmVzLHksYixfLGQsdiksdC50b3ArPS1fKnYsdC5ib3R0b209dC50b3Ardix0LmxlZnQrPS1iKmQsdC5yaWdodD10LmxlZnQrZCx0Lmhhc0Jhc2VsaW5lPW07fShfLGUscixuLGcsYSxvLGwsaCx1LHAseSksIWZ1bmN0aW9uKHQpe2Zvcihjb25zdCBlIG9mIHQpaWYoMCE9PWUucG9zaXRpb25lZEdseXBocy5sZW5ndGgpcmV0dXJuICExO3JldHVybiAhMH0oYikmJl99Y29uc3QgS2g9ezk6ITAsMTA6ITAsMTE6ITAsMTI6ITAsMTM6ITAsMzI6ITB9LEhoPXsxMDohMCwzMjohMCwzODohMCw0MDohMCw0MTohMCw0MzohMCw0NTohMCw0NzohMCwxNzM6ITAsMTgzOiEwLDgyMDM6ITAsODIwODohMCw4MjExOiEwLDgyMzE6ITB9O2Z1bmN0aW9uIFloKHQsZSxyLG4saSxzKXtpZihlLmltYWdlTmFtZSl7Y29uc3QgdD1uW2UuaW1hZ2VOYW1lXTtyZXR1cm4gdD90LmRpc3BsYXlTaXplWzBdKmUuc2NhbGUqYWgvcytpOjB9e2NvbnN0IG49cltlLmZvbnRTdGFja10scz1uJiZuLmdseXBoc1t0XTtyZXR1cm4gcz9zLm1ldHJpY3MuYWR2YW5jZSplLnNjYWxlK2k6MH19ZnVuY3Rpb24gV2godCxlLHIsbil7Y29uc3QgaT1NYXRoLnBvdyh0LWUsMik7cmV0dXJuIG4/dDxlP2kvMjoyKmk6aStNYXRoLmFicyhyKSpyfWZ1bmN0aW9uIEpoKHQsZSxyKXtsZXQgbj0wO3JldHVybiAxMD09PXQmJihuLT0xZTQpLHImJihuKz0xNTApLDQwIT09dCYmNjUyODghPT10fHwobis9NTApLDQxIT09ZSYmNjUyODkhPT1lfHwobis9NTApLG59ZnVuY3Rpb24gUWgodCxlLHIsbixpLHMpe2xldCBhPW51bGwsbz1XaChlLHIsaSxzKTtmb3IoY29uc3QgdCBvZiBuKXtjb25zdCBuPVdoKGUtdC54LHIsaSxzKSt0LmJhZG5lc3M7bjw9byYmKGE9dCxvPW4pO31yZXR1cm4ge2luZGV4OnQseDplLHByaW9yQnJlYWs6YSxiYWRuZXNzOm99fWZ1bmN0aW9uIHRwKHQpe3JldHVybiB0P3RwKHQucHJpb3JCcmVhaykuY29uY2F0KHQuaW5kZXgpOltdfWZ1bmN0aW9uIGVwKHQsZSxyLG4saSxzLGEpe2lmKFwicG9pbnRcIiE9PXMpcmV0dXJuIFtdO2lmKCF0KXJldHVybiBbXTtjb25zdCBvPVtdLGw9ZnVuY3Rpb24odCxlLHIsbixpLHMpe2xldCBhPTA7Zm9yKGxldCByPTA7cjx0Lmxlbmd0aCgpO3IrKyl7Y29uc3Qgbz10LmdldFNlY3Rpb24ocik7YSs9WWgodC5nZXRDaGFyQ29kZShyKSxvLG4saSxlLHMpO31yZXR1cm4gYS9NYXRoLm1heCgxLE1hdGguY2VpbChhL3IpKX0odCxlLHIsbixpLGEpLHU9dC50ZXh0LmluZGV4T2YoXCLigItcIik+PTA7bGV0IGM9MDtmb3IobGV0IHI9MDtyPHQubGVuZ3RoKCk7cisrKXtjb25zdCBzPXQuZ2V0U2VjdGlvbihyKSxwPXQuZ2V0Q2hhckNvZGUocik7aWYoS2hbcF18fChjKz1ZaChwLHMsbixpLGUsYSkpLHI8dC5sZW5ndGgoKS0xKXtjb25zdCBlPSEoKGg9cCk8MTE5MDR8fCEoSGkoaCl8fEtpKGgpfHxscyhoKXx8c3MoaCl8fFFpKGgpfHxPaShoKXx8WWkoaCl8fEdpKGgpfHx0cyhoKXx8ZXMoaCl8fEppKGgpfHxocyhoKXx8WmkoaCl8fE5pKGgpfHxxaShoKXx8V2koaCl8fFhpKGgpfHxvcyhoKXx8bnMoaCl8fHJzKGgpKSk7KEhoW3BdfHxlfHxzLmltYWdlTmFtZSkmJm8ucHVzaChRaChyKzEsYyxsLG8sSmgocCx0LmdldENoYXJDb2RlKHIrMSksZSYmdSksITEpKTt9fXZhciBoO3JldHVybiB0cChRaCh0Lmxlbmd0aCgpLGMsbCxvLDAsITApKX1mdW5jdGlvbiBycCh0KXtsZXQgZT0uNSxyPS41O3N3aXRjaCh0KXtjYXNlXCJyaWdodFwiOmNhc2VcInRvcC1yaWdodFwiOmNhc2VcImJvdHRvbS1yaWdodFwiOmU9MTticmVhaztjYXNlXCJsZWZ0XCI6Y2FzZVwidG9wLWxlZnRcIjpjYXNlXCJib3R0b20tbGVmdFwiOmU9MDt9c3dpdGNoKHQpe2Nhc2VcImJvdHRvbVwiOmNhc2VcImJvdHRvbS1yaWdodFwiOmNhc2VcImJvdHRvbS1sZWZ0XCI6cj0xO2JyZWFrO2Nhc2VcInRvcFwiOmNhc2VcInRvcC1yaWdodFwiOmNhc2VcInRvcC1sZWZ0XCI6cj0wO31yZXR1cm4ge2hvcml6b250YWxBbGlnbjplLHZlcnRpY2FsQWxpZ246cn19ZnVuY3Rpb24gbnAodCxlLHIsbixpKXtpZighKGV8fHJ8fG58fGkpKXJldHVybjtjb25zdCBzPXQubGVuZ3RoLTEsYT10W3NdLG89KGEueCthLm1ldHJpY3MuYWR2YW5jZSphLnNjYWxlKSplO2ZvcihsZXQgZT0wO2U8PXM7ZSsrKXRbZV0ueC09byx0W2VdLnkrPXIrbitpO31mdW5jdGlvbiBpcCh0LGUscil7Y29uc3R7aG9yaXpvbnRhbEFsaWduOm4sdmVydGljYWxBbGlnbjppfT1ycChyKSxzPWVbMF0tdC5kaXNwbGF5U2l6ZVswXSpuLGE9ZVsxXS10LmRpc3BsYXlTaXplWzFdKmk7cmV0dXJuIHtpbWFnZTp0LHRvcDphLGJvdHRvbTphK3QuZGlzcGxheVNpemVbMV0sbGVmdDpzLHJpZ2h0OnMrdC5kaXNwbGF5U2l6ZVswXX19ZnVuY3Rpb24gc3AodCxlLHIsbixpLHMpe2NvbnN0IGE9dC5pbWFnZTtsZXQgbztpZihhLmNvbnRlbnQpe2NvbnN0IHQ9YS5jb250ZW50LGU9YS5waXhlbFJhdGlvfHwxO289W3RbMF0vZSx0WzFdL2UsYS5kaXNwbGF5U2l6ZVswXS10WzJdL2UsYS5kaXNwbGF5U2l6ZVsxXS10WzNdL2VdO31jb25zdCBsPWUubGVmdCpzLHU9ZS5yaWdodCpzO2xldCBjLGgscCxmO1wid2lkdGhcIj09PXJ8fFwiYm90aFwiPT09cj8oZj1pWzBdK2wtblszXSxoPWlbMF0rdStuWzFdKTooZj1pWzBdKyhsK3UtYS5kaXNwbGF5U2l6ZVswXSkvMixoPWYrYS5kaXNwbGF5U2l6ZVswXSk7Y29uc3QgZD1lLnRvcCpzLHk9ZS5ib3R0b20qcztyZXR1cm4gXCJoZWlnaHRcIj09PXJ8fFwiYm90aFwiPT09cj8oYz1pWzFdK2QtblswXSxwPWlbMV0reStuWzJdKTooYz1pWzFdKyhkK3ktYS5kaXNwbGF5U2l6ZVsxXSkvMixwPWMrYS5kaXNwbGF5U2l6ZVsxXSkse2ltYWdlOmEsdG9wOmMscmlnaHQ6aCxib3R0b206cCxsZWZ0OmYsY29sbGlzaW9uUGFkZGluZzpvfX1jbGFzcyBhcCBleHRlbmRzIGl7Y29uc3RydWN0b3IodCxlLHIsbixpKXtzdXBlcih0LGUpLHRoaXMuYW5nbGU9bix0aGlzLno9cix2b2lkIDAhPT1pJiYodGhpcy5zZWdtZW50PWkpO31jbG9uZSgpe3JldHVybiBuZXcgYXAodGhpcy54LHRoaXMueSx0aGlzLnosdGhpcy5hbmdsZSx0aGlzLnNlZ21lbnQpfX1mdW5jdGlvbiBvcCh0LGUscixuLGkpe2lmKHZvaWQgMD09PWUuc2VnbWVudClyZXR1cm4gITA7bGV0IHM9ZSxhPWUuc2VnbWVudCsxLG89MDtmb3IoO28+LXIvMjspe2lmKGEtLSxhPDApcmV0dXJuICExO28tPXRbYV0uZGlzdChzKSxzPXRbYV07fW8rPXRbYV0uZGlzdCh0W2ErMV0pLGErKztjb25zdCBsPVtdO2xldCB1PTA7Zm9yKDtvPHIvMjspe2NvbnN0IGU9dFthXSxyPXRbYSsxXTtpZighcilyZXR1cm4gITE7bGV0IHM9dFthLTFdLmFuZ2xlVG8oZSktZS5hbmdsZVRvKHIpO2ZvcihzPU1hdGguYWJzKChzKzMqTWF0aC5QSSklKDIqTWF0aC5QSSktTWF0aC5QSSksbC5wdXNoKHtkaXN0YW5jZTpvLGFuZ2xlRGVsdGE6c30pLHUrPXM7by1sWzBdLmRpc3RhbmNlPm47KXUtPWwuc2hpZnQoKS5hbmdsZURlbHRhO2lmKHU+aSlyZXR1cm4gITE7YSsrLG8rPWUuZGlzdChyKTt9cmV0dXJuICEwfWZ1bmN0aW9uIGxwKHQpe2xldCBlPTA7Zm9yKGxldCByPTA7cjx0Lmxlbmd0aC0xO3IrKyllKz10W3JdLmRpc3QodFtyKzFdKTtyZXR1cm4gZX1mdW5jdGlvbiB1cCh0LGUscil7cmV0dXJuIHQ/LjYqZSpyOjB9ZnVuY3Rpb24gY3AodCxlKXtyZXR1cm4gTWF0aC5tYXgodD90LnJpZ2h0LXQubGVmdDowLGU/ZS5yaWdodC1lLmxlZnQ6MCl9ZnVuY3Rpb24gaHAodCxlLHIsbixpLHMpe2NvbnN0IGE9dXAocixpLHMpLG89Y3AocixuKSpzO2xldCBsPTA7Y29uc3QgdT1scCh0KS8yO2ZvcihsZXQgcj0wO3I8dC5sZW5ndGgtMTtyKyspe2NvbnN0IG49dFtyXSxpPXRbcisxXSxzPW4uZGlzdChpKTtpZihsK3M+dSl7Y29uc3QgYz0odS1sKS9zLGg9eHIobi54LGkueCxjKSxwPXhyKG4ueSxpLnksYyksZj1uZXcgYXAoaCxwLDAsaS5hbmdsZVRvKG4pLHIpO3JldHVybiAhYXx8b3AodCxmLG8sYSxlKT9mOnZvaWQgMH1sKz1zO319ZnVuY3Rpb24gcHAodCxlLHIsbixpLHMsYSxvLGwpe2NvbnN0IHU9dXAobixzLGEpLGM9Y3AobixpKSxoPWMqYSxwPTA9PT10WzBdLnh8fHRbMF0ueD09PWx8fDA9PT10WzBdLnl8fHRbMF0ueT09PWw7cmV0dXJuIGUtaDxlLzQmJihlPWgrZS80KSxmcCh0LHA/ZS8yKm8lZTooYy8yKzIqcykqYSpvJWUsZSx1LHIsaCxwLCExLGwpfWZ1bmN0aW9uIGZwKHQsZSxyLG4saSxzLGEsbyxsKXtjb25zdCB1PXMvMixjPWxwKHQpO2xldCBoPTAscD1lLXIsZj1bXTtmb3IobGV0IGU9MDtlPHQubGVuZ3RoLTE7ZSsrKXtjb25zdCBhPXRbZV0sbz10W2UrMV0sZD1hLmRpc3QobykseT1vLmFuZ2xlVG8oYSk7Zm9yKDtwK3I8aCtkOyl7cCs9cjtjb25zdCBtPShwLWgpL2QsZz14cihhLngsby54LG0pLHg9eHIoYS55LG8ueSxtKTtpZihnPj0wJiZnPGwmJng+PTAmJng8bCYmcC11Pj0wJiZwK3U8PWMpe2NvbnN0IHI9bmV3IGFwKGcseCwwLHksZSk7ci5fcm91bmQoKSxuJiYhb3AodCxyLHMsbixpKXx8Zi5wdXNoKHIpO319aCs9ZDt9cmV0dXJuIG98fGYubGVuZ3RofHxhfHwoZj1mcCh0LGgvMixyLG4saSxzLGEsITAsbCkpLGZ9ZnVuY3Rpb24gZHAodCxlLHIsbixzKXtjb25zdCBhPVtdO2ZvcihsZXQgbz0wO288dC5sZW5ndGg7bysrKXtjb25zdCBsPXRbb107bGV0IHU7Zm9yKGxldCB0PTA7dDxsLmxlbmd0aC0xO3QrKyl7bGV0IG89bFt0XSxjPWxbdCsxXTtvLng8ZSYmYy54PGV8fChvLng8ZT9vPW5ldyBpKGUsby55KyhlLW8ueCkvKGMueC1vLngpKihjLnktby55KSkuX3JvdW5kKCk6Yy54PGUmJihjPW5ldyBpKGUsby55KyhlLW8ueCkvKGMueC1vLngpKihjLnktby55KSkuX3JvdW5kKCkpLG8ueTxyJiZjLnk8cnx8KG8ueTxyP289bmV3IGkoby54KyhyLW8ueSkvKGMueS1vLnkpKihjLngtby54KSxyKS5fcm91bmQoKTpjLnk8ciYmKGM9bmV3IGkoby54KyhyLW8ueSkvKGMueS1vLnkpKihjLngtby54KSxyKS5fcm91bmQoKSksby54Pj1uJiZjLng+PW58fChvLng+PW4/bz1uZXcgaShuLG8ueSsobi1vLngpLyhjLngtby54KSooYy55LW8ueSkpLl9yb3VuZCgpOmMueD49biYmKGM9bmV3IGkobixvLnkrKG4tby54KS8oYy54LW8ueCkqKGMueS1vLnkpKS5fcm91bmQoKSksby55Pj1zJiZjLnk+PXN8fChvLnk+PXM/bz1uZXcgaShvLngrKHMtby55KS8oYy55LW8ueSkqKGMueC1vLngpLHMpLl9yb3VuZCgpOmMueT49cyYmKGM9bmV3IGkoby54KyhzLW8ueSkvKGMueS1vLnkpKihjLngtby54KSxzKS5fcm91bmQoKSksdSYmby5lcXVhbHModVt1Lmxlbmd0aC0xXSl8fCh1PVtvXSxhLnB1c2godSkpLHUucHVzaChjKSkpKSk7fX1yZXR1cm4gYX1QaShhcCxcIkFuY2hvclwiKTtjb25zdCB5cD0xZTIwO2Z1bmN0aW9uIG1wKHQsZSxyLG4saSxzLGEsbyxsKXtmb3IobGV0IHU9ZTt1PGUrbjt1KyspZ3AodCxyKnMrdSxzLGksYSxvLGwpO2ZvcihsZXQgdT1yO3U8citpO3UrKylncCh0LHUqcytlLDEsbixhLG8sbCk7fWZ1bmN0aW9uIGdwKHQsZSxyLG4saSxzLGEpe3NbMF09MCxhWzBdPS15cCxhWzFdPXlwLGlbMF09dFtlXTtmb3IobGV0IG89MSxsPTAsdT0wO288bjtvKyspe2lbb109dFtlK28qcl07Y29uc3Qgbj1vKm87ZG97Y29uc3QgdD1zW2xdO3U9KGlbb10taVt0XStuLXQqdCkvKG8tdCkvMjt9d2hpbGUodTw9YVtsXSYmLS1sPi0xKTtsKyssc1tsXT1vLGFbbF09dSxhW2wrMV09eXA7fWZvcihsZXQgbz0wLGw9MDtvPG47bysrKXtmb3IoO2FbbCsxXTxvOylsKys7Y29uc3Qgbj1zW2xdLHU9by1uO3RbZStvKnJdPWlbbl0rdSp1O319Y29uc3QgeHA9e25vbmU6MCxpZGVvZ3JhcGhzOjEsYWxsOjJ9O2NsYXNzIHZwe2NvbnN0cnVjdG9yKHQsZSxyKXt0aGlzLnJlcXVlc3RNYW5hZ2VyPXQsdGhpcy5sb2NhbEdseXBoTW9kZT1lLHRoaXMubG9jYWxGb250RmFtaWx5PXIsdGhpcy5lbnRyaWVzPXt9LHRoaXMubG9jYWxHbHlwaHM9ezIwMDp7fSw0MDA6e30sNTAwOnt9LDkwMDp7fX07fXNldFVSTCh0KXt0aGlzLnVybD10O31nZXRHbHlwaHModCxlKXtjb25zdCByPVtdO2Zvcihjb25zdCBlIGluIHQpZm9yKGNvbnN0IG4gb2YgdFtlXSlyLnB1c2goe3N0YWNrOmUsaWQ6bn0pO2cociwoKHtzdGFjazp0LGlkOmV9LHIpPT57bGV0IG49dGhpcy5lbnRyaWVzW3RdO258fChuPXRoaXMuZW50cmllc1t0XT17Z2x5cGhzOnt9LHJlcXVlc3RzOnt9LHJhbmdlczp7fSxhc2NlbmRlcjp2b2lkIDAsZGVzY2VuZGVyOnZvaWQgMH0pO2xldCBpPW4uZ2x5cGhzW2VdO2lmKHZvaWQgMCE9PWkpcmV0dXJuIHZvaWQgcihudWxsLHtzdGFjazp0LGlkOmUsZ2x5cGg6aX0pO2lmKGk9dGhpcy5fdGlueVNERihuLHQsZSksaSlyZXR1cm4gbi5nbHlwaHNbZV09aSx2b2lkIHIobnVsbCx7c3RhY2s6dCxpZDplLGdseXBoOml9KTtjb25zdCBzPU1hdGguZmxvb3IoZS8yNTYpO2lmKDI1NipzPjY1NTM1KXJldHVybiB2b2lkIHIobmV3IEVycm9yKFwiZ2x5cGhzID4gNjU1MzUgbm90IHN1cHBvcnRlZFwiKSk7aWYobi5yYW5nZXNbc10pcmV0dXJuIHZvaWQgcihudWxsLHtzdGFjazp0LGlkOmUsZ2x5cGg6aX0pO2xldCBhPW4ucmVxdWVzdHNbc107YXx8KGE9bi5yZXF1ZXN0c1tzXT1bXSx2cC5sb2FkR2x5cGhSYW5nZSh0LHMsdGhpcy51cmwsdGhpcy5yZXF1ZXN0TWFuYWdlciwoKHQsZSk9PntpZihlKXtuLmFzY2VuZGVyPWUuYXNjZW5kZXIsbi5kZXNjZW5kZXI9ZS5kZXNjZW5kZXI7Zm9yKGNvbnN0IHQgaW4gZS5nbHlwaHMpdGhpcy5fZG9lc0NoYXJTdXBwb3J0TG9jYWxHbHlwaCgrdCl8fChuLmdseXBoc1srdF09ZS5nbHlwaHNbK3RdKTtuLnJhbmdlc1tzXT0hMDt9Zm9yKGNvbnN0IHIgb2YgYSlyKHQsZSk7ZGVsZXRlIG4ucmVxdWVzdHNbc107fSkpKSxhLnB1c2goKChuLGkpPT57bj9yKG4pOmkmJnIobnVsbCx7c3RhY2s6dCxpZDplLGdseXBoOmkuZ2x5cGhzW2VdfHxudWxsfSk7fSkpO30pLCgodCxyKT0+e2lmKHQpZSh0KTtlbHNlIGlmKHIpe2NvbnN0IHQ9e307Zm9yKGNvbnN0e3N0YWNrOmUsaWQ6bixnbHlwaDppfW9mIHIpdm9pZCAwPT09dFtlXSYmKHRbZV09e30pLHZvaWQgMD09PXRbZV0uZ2x5cGhzJiYodFtlXS5nbHlwaHM9e30pLHRbZV0uZ2x5cGhzW25dPWkmJntpZDppLmlkLGJpdG1hcDppLmJpdG1hcC5jbG9uZSgpLG1ldHJpY3M6aS5tZXRyaWNzfSx0W2VdLmFzY2VuZGVyPXRoaXMuZW50cmllc1tlXS5hc2NlbmRlcix0W2VdLmRlc2NlbmRlcj10aGlzLmVudHJpZXNbZV0uZGVzY2VuZGVyO2UobnVsbCx0KTt9fSkpO31fZG9lc0NoYXJTdXBwb3J0TG9jYWxHbHlwaCh0KXtyZXR1cm4gdGhpcy5sb2NhbEdseXBoTW9kZSE9PXhwLm5vbmUmJih0aGlzLmxvY2FsR2x5cGhNb2RlPT09eHAuYWxsPyEhdGhpcy5sb2NhbEZvbnRGYW1pbHk6ISF0aGlzLmxvY2FsRm9udEZhbWlseSYmKGVzKHQpfHxpcyh0KXx8WmkodCl8fFhpKHQpfHxHaSh0KSkpfV90aW55U0RGKHQsZSxyKXtjb25zdCBuPXRoaXMubG9jYWxGb250RmFtaWx5O2lmKCFufHwhdGhpcy5fZG9lc0NoYXJTdXBwb3J0TG9jYWxHbHlwaChyKSlyZXR1cm47bGV0IGk9dC50aW55U0RGO2lmKCFpKXtsZXQgcj1cIjQwMFwiOy9ib2xkL2kudGVzdChlKT9yPVwiOTAwXCI6L21lZGl1bS9pLnRlc3QoZSk/cj1cIjUwMFwiOi9saWdodC9pLnRlc3QoZSkmJihyPVwiMjAwXCIpLGk9dC50aW55U0RGPW5ldyB2cC5UaW55U0RGKHtmb250RmFtaWx5Om4sZm9udFdlaWdodDpyLGZvbnRTaXplOjQ4LGJ1ZmZlcjo2LHJhZGl1czoxNn0pLGkuZm9udFdlaWdodD1yO31pZih0aGlzLmxvY2FsR2x5cGhzW2kuZm9udFdlaWdodF1bcl0pcmV0dXJuIHRoaXMubG9jYWxHbHlwaHNbaS5mb250V2VpZ2h0XVtyXTtjb25zdCBzPVN0cmluZy5mcm9tQ2hhckNvZGUocikse2RhdGE6YSx3aWR0aDpvLGhlaWdodDpsLGdseXBoV2lkdGg6dSxnbHlwaEhlaWdodDpjLGdseXBoTGVmdDpoLGdseXBoVG9wOnAsZ2x5cGhBZHZhbmNlOmZ9PWkuZHJhdyhzKTtyZXR1cm4gdGhpcy5sb2NhbEdseXBoc1tpLmZvbnRXZWlnaHRdW3JdPXtpZDpyLGJpdG1hcDpuZXcgaHUoe3dpZHRoOm8saGVpZ2h0Omx9LGEpLG1ldHJpY3M6e3dpZHRoOnUvMixoZWlnaHQ6Yy8yLGxlZnQ6aC8yLHRvcDpwLzItMjcsYWR2YW5jZTpmLzIsbG9jYWxHbHlwaDohMH19fX1mdW5jdGlvbiBicCh0LGUscixuKXtjb25zdCBzPVtdLGE9dC5pbWFnZSxvPWEucGl4ZWxSYXRpbyxsPWEucGFkZGVkUmVjdC53LTIsdT1hLnBhZGRlZFJlY3QuaC0yLGM9dC5yaWdodC10LmxlZnQsaD10LmJvdHRvbS10LnRvcCxwPWEuc3RyZXRjaFh8fFtbMCxsXV0sZj1hLnN0cmV0Y2hZfHxbWzAsdV1dLGQ9KHQsZSk9PnQrZVsxXS1lWzBdLHk9cC5yZWR1Y2UoZCwwKSxtPWYucmVkdWNlKGQsMCksZz1sLXkseD11LW07bGV0IHY9MCxiPXksXz0wLHc9bSxBPTAsUz1nLGs9MCxJPXg7aWYoYS5jb250ZW50JiZuKXtjb25zdCB0PWEuY29udGVudDt2PV9wKHAsMCx0WzBdKSxfPV9wKGYsMCx0WzFdKSxiPV9wKHAsdFswXSx0WzJdKSx3PV9wKGYsdFsxXSx0WzNdKSxBPXRbMF0tdixrPXRbMV0tXyxTPXRbMl0tdFswXS1iLEk9dFszXS10WzFdLXc7fWNvbnN0IE09KG4scyxsLHUpPT57Y29uc3QgcD1BcChuLnN0cmV0Y2gtdixiLGMsdC5sZWZ0KSxmPVNwKG4uZml4ZWQtQSxTLG4uc3RyZXRjaCx5KSxkPUFwKHMuc3RyZXRjaC1fLHcsaCx0LnRvcCksZz1TcChzLmZpeGVkLWssSSxzLnN0cmV0Y2gsbSkseD1BcChsLnN0cmV0Y2gtdixiLGMsdC5sZWZ0KSxNPVNwKGwuZml4ZWQtQSxTLGwuc3RyZXRjaCx5KSx6PUFwKHUuc3RyZXRjaC1fLHcsaCx0LnRvcCksVD1TcCh1LmZpeGVkLWssSSx1LnN0cmV0Y2gsbSksQj1uZXcgaShwLGQpLEU9bmV3IGkoeCxkKSxDPW5ldyBpKHgseiksUD1uZXcgaShwLHopLEQ9bmV3IGkoZi9vLGcvbyksVj1uZXcgaShNL28sVC9vKSxGPWUqTWF0aC5QSS8xODA7aWYoRil7Y29uc3QgdD1NYXRoLnNpbihGKSxlPU1hdGguY29zKEYpLHI9W2UsLXQsdCxlXTtCLl9tYXRNdWx0KHIpLEUuX21hdE11bHQociksUC5fbWF0TXVsdChyKSxDLl9tYXRNdWx0KHIpO31jb25zdCBMPW4uc3RyZXRjaCtuLmZpeGVkLFI9cy5zdHJldGNoK3MuZml4ZWQ7cmV0dXJuIHt0bDpCLHRyOkUsYmw6UCxicjpDLHRleDp7eDphLnBhZGRlZFJlY3QueCsxK0wseTphLnBhZGRlZFJlY3QueSsxK1IsdzpsLnN0cmV0Y2grbC5maXhlZC1MLGg6dS5zdHJldGNoK3UuZml4ZWQtUn0sd3JpdGluZ01vZGU6dm9pZCAwLGdseXBoT2Zmc2V0OlswLDBdLHNlY3Rpb25JbmRleDowLHBpeGVsT2Zmc2V0VEw6RCxwaXhlbE9mZnNldEJSOlYsbWluRm9udFNjYWxlWDpTL28vYyxtaW5Gb250U2NhbGVZOkkvby9oLGlzU0RGOnJ9fTtpZihuJiYoYS5zdHJldGNoWHx8YS5zdHJldGNoWSkpe2NvbnN0IHQ9d3AocCxnLHkpLGU9d3AoZix4LG0pO2ZvcihsZXQgcj0wO3I8dC5sZW5ndGgtMTtyKyspe2NvbnN0IG49dFtyXSxpPXRbcisxXTtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoLTE7dCsrKXMucHVzaChNKG4sZVt0XSxpLGVbdCsxXSkpO319ZWxzZSBzLnB1c2goTSh7Zml4ZWQ6MCxzdHJldGNoOi0xfSx7Zml4ZWQ6MCxzdHJldGNoOi0xfSx7Zml4ZWQ6MCxzdHJldGNoOmwrMX0se2ZpeGVkOjAsc3RyZXRjaDp1KzF9KSk7cmV0dXJuIHN9ZnVuY3Rpb24gX3AodCxlLHIpe2xldCBuPTA7Zm9yKGNvbnN0IGkgb2YgdCluKz1NYXRoLm1heChlLE1hdGgubWluKHIsaVsxXSkpLU1hdGgubWF4KGUsTWF0aC5taW4ocixpWzBdKSk7cmV0dXJuIG59ZnVuY3Rpb24gd3AodCxlLHIpe2NvbnN0IG49W3tmaXhlZDotMSxzdHJldGNoOjB9XTtmb3IoY29uc3RbZSxyXW9mIHQpe2NvbnN0IHQ9bltuLmxlbmd0aC0xXTtuLnB1c2goe2ZpeGVkOmUtdC5zdHJldGNoLHN0cmV0Y2g6dC5zdHJldGNofSksbi5wdXNoKHtmaXhlZDplLXQuc3RyZXRjaCxzdHJldGNoOnQuc3RyZXRjaCsoci1lKX0pO31yZXR1cm4gbi5wdXNoKHtmaXhlZDplKzEsc3RyZXRjaDpyfSksbn1mdW5jdGlvbiBBcCh0LGUscixuKXtyZXR1cm4gdC9lKnIrbn1mdW5jdGlvbiBTcCh0LGUscixuKXtyZXR1cm4gdC1lKnIvbn1mdW5jdGlvbiBrcCh0LGUscixuKXtjb25zdCBpPWUrdC5wb3NpdGlvbmVkTGluZXNbbl0ubGluZU9mZnNldDtyZXR1cm4gMD09PW4/citpLzI6cisoaSsoZSt0LnBvc2l0aW9uZWRMaW5lc1tuLTFdLmxpbmVPZmZzZXQpKS8yfXZwLmxvYWRHbHlwaFJhbmdlPWZ1bmN0aW9uKHQsZSxyLG4saSl7Y29uc3Qgcz0yNTYqZSxhPXMrMjU1LG89bi50cmFuc2Zvcm1SZXF1ZXN0KG4ubm9ybWFsaXplR2x5cGhzVVJMKHIpLnJlcGxhY2UoXCJ7Zm9udHN0YWNrfVwiLHQpLnJlcGxhY2UoXCJ7cmFuZ2V9XCIsYCR7c30tJHthfWApLHp0LkdseXBocyk7Q3QobywoKHQsZSk9PntpZih0KWkodCk7ZWxzZSBpZihlKXtjb25zdCB0PXt9LHI9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyB4aCh0KS5yZWFkRmllbGRzKFJoLHt9KX0oZSk7Zm9yKGNvbnN0IGUgb2Ygci5nbHlwaHMpdFtlLmlkXT1lO2kobnVsbCx7Z2x5cGhzOnQsYXNjZW5kZXI6ci5hc2NlbmRlcixkZXNjZW5kZXI6ci5kZXNjZW5kZXJ9KTt9fSkpO30sdnAuVGlueVNERj1jbGFzc3tjb25zdHJ1Y3Rvcih7Zm9udFNpemU6dD0yNCxidWZmZXI6ZT0zLHJhZGl1czpyPTgsY3V0b2ZmOm49LjI1LGZvbnRGYW1pbHk6aT1cInNhbnMtc2VyaWZcIixmb250V2VpZ2h0OnM9XCJub3JtYWxcIixmb250U3R5bGU6YT1cIm5vcm1hbFwifT17fSl7dGhpcy5idWZmZXI9ZSx0aGlzLmN1dG9mZj1uLHRoaXMucmFkaXVzPXI7Y29uc3Qgbz10aGlzLnNpemU9dCs0KmUsbD10aGlzLl9jcmVhdGVDYW52YXMobyksdT10aGlzLmN0eD1sLmdldENvbnRleHQoXCIyZFwiLHt3aWxsUmVhZEZyZXF1ZW50bHk6ITB9KTt1LmZvbnQ9YCR7YX0gJHtzfSAke3R9cHggJHtpfWAsdS50ZXh0QmFzZWxpbmU9XCJhbHBoYWJldGljXCIsdS50ZXh0QWxpZ249XCJsZWZ0XCIsdS5maWxsU3R5bGU9XCJibGFja1wiLHRoaXMuZ3JpZE91dGVyPW5ldyBGbG9hdDY0QXJyYXkobypvKSx0aGlzLmdyaWRJbm5lcj1uZXcgRmxvYXQ2NEFycmF5KG8qbyksdGhpcy5mPW5ldyBGbG9hdDY0QXJyYXkobyksdGhpcy56PW5ldyBGbG9hdDY0QXJyYXkobysxKSx0aGlzLnY9bmV3IFVpbnQxNkFycmF5KG8pO31fY3JlYXRlQ2FudmFzKHQpe2NvbnN0IGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtyZXR1cm4gZS53aWR0aD1lLmhlaWdodD10LGV9ZHJhdyh0KXtjb25zdHt3aWR0aDplLGFjdHVhbEJvdW5kaW5nQm94QXNjZW50OnIsYWN0dWFsQm91bmRpbmdCb3hEZXNjZW50Om4sYWN0dWFsQm91bmRpbmdCb3hMZWZ0OmksYWN0dWFsQm91bmRpbmdCb3hSaWdodDpzfT10aGlzLmN0eC5tZWFzdXJlVGV4dCh0KSxhPU1hdGguY2VpbChyKSxvPU1hdGgubWluKHRoaXMuc2l6ZS10aGlzLmJ1ZmZlcixNYXRoLmNlaWwocy1pKSksbD1NYXRoLm1pbih0aGlzLnNpemUtdGhpcy5idWZmZXIsYStNYXRoLmNlaWwobikpLHU9bysyKnRoaXMuYnVmZmVyLGM9bCsyKnRoaXMuYnVmZmVyLGg9TWF0aC5tYXgodSpjLDApLHA9bmV3IFVpbnQ4Q2xhbXBlZEFycmF5KGgpLGY9e2RhdGE6cCx3aWR0aDp1LGhlaWdodDpjLGdseXBoV2lkdGg6byxnbHlwaEhlaWdodDpsLGdseXBoVG9wOmEsZ2x5cGhMZWZ0OjAsZ2x5cGhBZHZhbmNlOmV9O2lmKDA9PT1vfHwwPT09bClyZXR1cm4gZjtjb25zdHtjdHg6ZCxidWZmZXI6eSxncmlkSW5uZXI6bSxncmlkT3V0ZXI6Z309dGhpcztkLmNsZWFyUmVjdCh5LHksbyxsKSxkLmZpbGxUZXh0KHQseSx5K2EpO2NvbnN0IHg9ZC5nZXRJbWFnZURhdGEoeSx5LG8sbCk7Zy5maWxsKHlwLDAsaCksbS5maWxsKDAsMCxoKTtmb3IobGV0IHQ9MDt0PGw7dCsrKWZvcihsZXQgZT0wO2U8bztlKyspe2NvbnN0IHI9eC5kYXRhWzQqKHQqbytlKSszXS8yNTU7aWYoMD09PXIpY29udGludWU7Y29uc3Qgbj0odCt5KSp1K2UreTtpZigxPT09cilnW25dPTAsbVtuXT15cDtlbHNlIHtjb25zdCB0PS41LXI7Z1tuXT10PjA/dCp0OjAsbVtuXT10PDA/dCp0OjA7fX1tcChnLDAsMCx1LGMsdSx0aGlzLmYsdGhpcy52LHRoaXMueiksbXAobSx5LHksbyxsLHUsdGhpcy5mLHRoaXMudix0aGlzLnopO2ZvcihsZXQgdD0wO3Q8aDt0Kyspe2NvbnN0IGU9TWF0aC5zcXJ0KGdbdF0pLU1hdGguc3FydChtW3RdKTtwW3RdPU1hdGgucm91bmQoMjU1LTI1NSooZS90aGlzLnJhZGl1cyt0aGlzLmN1dG9mZikpO31yZXR1cm4gZn19O2NsYXNzIElwe2NvbnN0cnVjdG9yKHQ9W10sZT1NcCl7aWYodGhpcy5kYXRhPXQsdGhpcy5sZW5ndGg9dGhpcy5kYXRhLmxlbmd0aCx0aGlzLmNvbXBhcmU9ZSx0aGlzLmxlbmd0aD4wKWZvcihsZXQgdD0odGhpcy5sZW5ndGg+PjEpLTE7dD49MDt0LS0pdGhpcy5fZG93bih0KTt9cHVzaCh0KXt0aGlzLmRhdGEucHVzaCh0KSx0aGlzLmxlbmd0aCsrLHRoaXMuX3VwKHRoaXMubGVuZ3RoLTEpO31wb3AoKXtpZigwPT09dGhpcy5sZW5ndGgpcmV0dXJuO2NvbnN0IHQ9dGhpcy5kYXRhWzBdLGU9dGhpcy5kYXRhLnBvcCgpO3JldHVybiB0aGlzLmxlbmd0aC0tLHRoaXMubGVuZ3RoPjAmJih0aGlzLmRhdGFbMF09ZSx0aGlzLl9kb3duKDApKSx0fXBlZWsoKXtyZXR1cm4gdGhpcy5kYXRhWzBdfV91cCh0KXtjb25zdHtkYXRhOmUsY29tcGFyZTpyfT10aGlzLG49ZVt0XTtmb3IoO3Q+MDspe2NvbnN0IGk9dC0xPj4xLHM9ZVtpXTtpZihyKG4scyk+PTApYnJlYWs7ZVt0XT1zLHQ9aTt9ZVt0XT1uO31fZG93bih0KXtjb25zdHtkYXRhOmUsY29tcGFyZTpyfT10aGlzLG49dGhpcy5sZW5ndGg+PjEsaT1lW3RdO2Zvcig7dDxuOyl7bGV0IG49MSsodDw8MSkscz1lW25dO2NvbnN0IGE9bisxO2lmKGE8dGhpcy5sZW5ndGgmJnIoZVthXSxzKTwwJiYobj1hLHM9ZVthXSkscihzLGkpPj0wKWJyZWFrO2VbdF09cyx0PW47fWVbdF09aTt9fWZ1bmN0aW9uIE1wKHQsZSl7cmV0dXJuIHQ8ZT8tMTp0PmU/MTowfWZ1bmN0aW9uIHpwKHQsZT0xLHI9ITEpe2xldCBuPTEvMCxzPTEvMCxhPS0xLzAsbz0tMS8wO2NvbnN0IGw9dFswXTtmb3IobGV0IHQ9MDt0PGwubGVuZ3RoO3QrKyl7Y29uc3QgZT1sW3RdOyghdHx8ZS54PG4pJiYobj1lLngpLCghdHx8ZS55PHMpJiYocz1lLnkpLCghdHx8ZS54PmEpJiYoYT1lLngpLCghdHx8ZS55Pm8pJiYobz1lLnkpO31jb25zdCB1PU1hdGgubWluKGEtbixvLXMpO2xldCBjPXUvMjtjb25zdCBoPW5ldyBJcChbXSxUcCk7aWYoMD09PXUpcmV0dXJuIG5ldyBpKG4scyk7Zm9yKGxldCBlPW47ZTxhO2UrPXUpZm9yKGxldCByPXM7cjxvO3IrPXUpaC5wdXNoKG5ldyBCcChlK2MscitjLGMsdCkpO2xldCBwPWZ1bmN0aW9uKHQpe2xldCBlPTAscj0wLG49MDtjb25zdCBpPXRbMF07Zm9yKGxldCB0PTAscz1pLmxlbmd0aCxhPXMtMTt0PHM7YT10Kyspe2NvbnN0IHM9aVt0XSxvPWlbYV0sbD1zLngqby55LW8ueCpzLnk7cis9KHMueCtvLngpKmwsbis9KHMueStvLnkpKmwsZSs9MypsO31yZXR1cm4gbmV3IEJwKHIvZSxuL2UsMCx0KX0odCksZj1oLmxlbmd0aDtmb3IoO2gubGVuZ3RoOyl7Y29uc3Qgbj1oLnBvcCgpOyhuLmQ+cC5kfHwhcC5kKSYmKHA9bixyJiZjb25zb2xlLmxvZyhcImZvdW5kIGJlc3QgJWQgYWZ0ZXIgJWQgcHJvYmVzXCIsTWF0aC5yb3VuZCgxZTQqbi5kKS8xZTQsZikpLG4ubWF4LXAuZDw9ZXx8KGM9bi5oLzIsaC5wdXNoKG5ldyBCcChuLnAueC1jLG4ucC55LWMsYyx0KSksaC5wdXNoKG5ldyBCcChuLnAueCtjLG4ucC55LWMsYyx0KSksaC5wdXNoKG5ldyBCcChuLnAueC1jLG4ucC55K2MsYyx0KSksaC5wdXNoKG5ldyBCcChuLnAueCtjLG4ucC55K2MsYyx0KSksZis9NCk7fXJldHVybiByJiYoY29uc29sZS5sb2coYG51bSBwcm9iZXM6ICR7Zn1gKSxjb25zb2xlLmxvZyhgYmVzdCBkaXN0YW5jZTogJHtwLmR9YCkpLHAucH1mdW5jdGlvbiBUcCh0LGUpe3JldHVybiBlLm1heC10Lm1heH1mdW5jdGlvbiBCcCh0LGUscixuKXt0aGlzLnA9bmV3IGkodCxlKSx0aGlzLmg9cix0aGlzLmQ9ZnVuY3Rpb24odCxlKXtsZXQgcj0hMSxuPTEvMDtmb3IobGV0IGk9MDtpPGUubGVuZ3RoO2krKyl7Y29uc3Qgcz1lW2ldO2ZvcihsZXQgZT0wLGk9cy5sZW5ndGgsYT1pLTE7ZTxpO2E9ZSsrKXtjb25zdCBpPXNbZV0sbz1zW2FdO2kueT50LnkhPW8ueT50LnkmJnQueDwoby54LWkueCkqKHQueS1pLnkpLyhvLnktaS55KStpLngmJihyPSFyKSxuPU1hdGgubWluKG4scmwodCxpLG8pKTt9fXJldHVybiAocj8xOi0xKSpNYXRoLnNxcnQobil9KHRoaXMucCxuKSx0aGlzLm1heD10aGlzLmQrdGhpcy5oKk1hdGguU1FSVDI7fWNvbnN0IEVwPU51bWJlci5QT1NJVElWRV9JTkZJTklUWSxDcD1NYXRoLnNxcnQoMik7ZnVuY3Rpb24gUHAodCxlKXtyZXR1cm4gZVsxXSE9PUVwP2Z1bmN0aW9uKHQsZSxyKXtsZXQgbj0wLGk9MDtzd2l0Y2goZT1NYXRoLmFicyhlKSxyPU1hdGguYWJzKHIpLHQpe2Nhc2VcInRvcC1yaWdodFwiOmNhc2VcInRvcC1sZWZ0XCI6Y2FzZVwidG9wXCI6aT1yLTc7YnJlYWs7Y2FzZVwiYm90dG9tLXJpZ2h0XCI6Y2FzZVwiYm90dG9tLWxlZnRcIjpjYXNlXCJib3R0b21cIjppPTctcjt9c3dpdGNoKHQpe2Nhc2VcInRvcC1yaWdodFwiOmNhc2VcImJvdHRvbS1yaWdodFwiOmNhc2VcInJpZ2h0XCI6bj0tZTticmVhaztjYXNlXCJ0b3AtbGVmdFwiOmNhc2VcImJvdHRvbS1sZWZ0XCI6Y2FzZVwibGVmdFwiOm49ZTt9cmV0dXJuIFtuLGldfSh0LGVbMF0sZVsxXSk6ZnVuY3Rpb24odCxlKXtsZXQgcj0wLG49MDtlPDAmJihlPTApO2NvbnN0IGk9ZS9DcDtzd2l0Y2godCl7Y2FzZVwidG9wLXJpZ2h0XCI6Y2FzZVwidG9wLWxlZnRcIjpuPWktNzticmVhaztjYXNlXCJib3R0b20tcmlnaHRcIjpjYXNlXCJib3R0b20tbGVmdFwiOm49Ny1pO2JyZWFrO2Nhc2VcImJvdHRvbVwiOm49Ny1lO2JyZWFrO2Nhc2VcInRvcFwiOm49ZS03O31zd2l0Y2godCl7Y2FzZVwidG9wLXJpZ2h0XCI6Y2FzZVwiYm90dG9tLXJpZ2h0XCI6cj0taTticmVhaztjYXNlXCJ0b3AtbGVmdFwiOmNhc2VcImJvdHRvbS1sZWZ0XCI6cj1pO2JyZWFrO2Nhc2VcImxlZnRcIjpyPWU7YnJlYWs7Y2FzZVwicmlnaHRcIjpyPS1lO31yZXR1cm4gW3Isbl19KHQsZVswXSl9ZnVuY3Rpb24gRHAodCxlLHIsbixpLHMsYSxvLGwsdSl7dC5jcmVhdGVBcnJheXMoKSx0LnRpbGVQaXhlbFJhdGlvPXdvLyg1MTIqdC5vdmVyc2NhbGluZyksdC5jb21wYXJlVGV4dD17fSx0Lmljb25zTmVlZExpbmVhcj0hMTtjb25zdCBjPXQubGF5ZXJzWzBdLmxheW91dCxoPXQubGF5ZXJzWzBdLl91bmV2YWx1YXRlZExheW91dC5fdmFsdWVzLHA9e307aWYoXCJjb21wb3NpdGVcIj09PXQudGV4dFNpemVEYXRhLmtpbmQpe2NvbnN0e21pblpvb206ZSxtYXhab29tOnJ9PXQudGV4dFNpemVEYXRhO3AuY29tcG9zaXRlVGV4dFNpemVzPVtoW1widGV4dC1zaXplXCJdLnBvc3NpYmx5RXZhbHVhdGUobmV3IENzKGUpLG8pLGhbXCJ0ZXh0LXNpemVcIl0ucG9zc2libHlFdmFsdWF0ZShuZXcgQ3MociksbyldO31pZihcImNvbXBvc2l0ZVwiPT09dC5pY29uU2l6ZURhdGEua2luZCl7Y29uc3R7bWluWm9vbTplLG1heFpvb206cn09dC5pY29uU2l6ZURhdGE7cC5jb21wb3NpdGVJY29uU2l6ZXM9W2hbXCJpY29uLXNpemVcIl0ucG9zc2libHlFdmFsdWF0ZShuZXcgQ3MoZSksbyksaFtcImljb24tc2l6ZVwiXS5wb3NzaWJseUV2YWx1YXRlKG5ldyBDcyhyKSxvKV07fXAubGF5b3V0VGV4dFNpemU9aFtcInRleHQtc2l6ZVwiXS5wb3NzaWJseUV2YWx1YXRlKG5ldyBDcyhsKzEpLG8pLHAubGF5b3V0SWNvblNpemU9aFtcImljb24tc2l6ZVwiXS5wb3NzaWJseUV2YWx1YXRlKG5ldyBDcyhsKzEpLG8pLHAudGV4dE1heFNpemU9aFtcInRleHQtc2l6ZVwiXS5wb3NzaWJseUV2YWx1YXRlKG5ldyBDcygxOCksbyk7Y29uc3QgZj1cIm1hcFwiPT09Yy5nZXQoXCJ0ZXh0LXJvdGF0aW9uLWFsaWdubWVudFwiKSYmXCJwb2ludFwiIT09Yy5nZXQoXCJzeW1ib2wtcGxhY2VtZW50XCIpLGQ9Yy5nZXQoXCJ0ZXh0LXNpemVcIik7Zm9yKGNvbnN0IHMgb2YgdC5mZWF0dXJlcyl7Y29uc3QgbD1jLmdldChcInRleHQtZm9udFwiKS5ldmFsdWF0ZShzLHt9LG8pLmpvaW4oXCIsXCIpLGg9ZC5ldmFsdWF0ZShzLHt9LG8pLHk9cC5sYXlvdXRUZXh0U2l6ZS5ldmFsdWF0ZShzLHt9LG8pLG09KHAubGF5b3V0SWNvblNpemUuZXZhbHVhdGUocyx7fSxvKSx7aG9yaXpvbnRhbDp7fSx2ZXJ0aWNhbDp2b2lkIDB9KSxnPXMudGV4dDtsZXQgeCx2PVswLDBdO2lmKGcpe2NvbnN0IG49Zy50b1N0cmluZygpLGE9Yy5nZXQoXCJ0ZXh0LWxldHRlci1zcGFjaW5nXCIpLmV2YWx1YXRlKHMse30sbykqYWgsdT1jLmdldChcInRleHQtbGluZS1oZWlnaHRcIikuZXZhbHVhdGUocyx7fSxvKSphaCxwPWZzKG4pP2E6MCxkPWMuZ2V0KFwidGV4dC1hbmNob3JcIikuZXZhbHVhdGUocyx7fSxvKSx4PWMuZ2V0KFwidGV4dC12YXJpYWJsZS1hbmNob3JcIik7aWYoIXgpe2NvbnN0IHQ9Yy5nZXQoXCJ0ZXh0LXJhZGlhbC1vZmZzZXRcIikuZXZhbHVhdGUocyx7fSxvKTt2PXQ/UHAoZCxbdCphaCxFcF0pOmMuZ2V0KFwidGV4dC1vZmZzZXRcIikuZXZhbHVhdGUocyx7fSxvKS5tYXAoKHQ9PnQqYWgpKTt9bGV0IGI9Zj9cImNlbnRlclwiOmMuZ2V0KFwidGV4dC1qdXN0aWZ5XCIpLmV2YWx1YXRlKHMse30sbyk7Y29uc3QgXz1jLmdldChcInN5bWJvbC1wbGFjZW1lbnRcIiksdz1cInBvaW50XCI9PT1fLEE9XCJwb2ludFwiPT09Xz9jLmdldChcInRleHQtbWF4LXdpZHRoXCIpLmV2YWx1YXRlKHMse30sbykqYWg6MCxTPXM9Pnt0LmFsbG93VmVydGljYWxQbGFjZW1lbnQmJnBzKG4pJiYobS52ZXJ0aWNhbD1YaChnLGUscixpLGwsQSx1LGQscyxwLHYsTmgudmVydGljYWwsITAsXyx5LGgpKTt9O2lmKCFmJiZ4KXtjb25zdCB0PVwiYXV0b1wiPT09Yj94Lm1hcCgodD0+VnAodCkpKTpbYl07bGV0IG49ITE7Zm9yKGxldCBzPTA7czx0Lmxlbmd0aDtzKyspe2NvbnN0IGE9dFtzXTtpZighbS5ob3Jpem9udGFsW2FdKWlmKG4pbS5ob3Jpem9udGFsW2FdPW0uaG9yaXpvbnRhbFswXTtlbHNlIHtjb25zdCB0PVhoKGcsZSxyLGksbCxBLHUsXCJjZW50ZXJcIixhLHAsdixOaC5ob3Jpem9udGFsLCExLF8seSxoKTt0JiYobS5ob3Jpem9udGFsW2FdPXQsbj0xPT09dC5wb3NpdGlvbmVkTGluZXMubGVuZ3RoKTt9fVMoXCJsZWZ0XCIpO31lbHNlIHtpZihcImF1dG9cIj09PWImJihiPVZwKGQpKSx3fHxjLmdldChcInRleHQtd3JpdGluZy1tb2RlXCIpLmluZGV4T2YoXCJob3Jpem9udGFsXCIpPj0wfHwhcHMobikpe2NvbnN0IHQ9WGgoZyxlLHIsaSxsLEEsdSxkLGIscCx2LE5oLmhvcml6b250YWwsITEsXyx5LGgpO3QmJihtLmhvcml6b250YWxbYl09dCk7fVMoXCJwb2ludFwiPT09Xz9cImxlZnRcIjpiKTt9fWxldCBiPSExO2lmKHMuaWNvbiYmcy5pY29uLm5hbWUpe2NvbnN0IGU9bltzLmljb24ubmFtZV07ZSYmKHg9aXAoaVtzLmljb24ubmFtZV0sYy5nZXQoXCJpY29uLW9mZnNldFwiKS5ldmFsdWF0ZShzLHt9LG8pLGMuZ2V0KFwiaWNvbi1hbmNob3JcIikuZXZhbHVhdGUocyx7fSxvKSksYj1lLnNkZix2b2lkIDA9PT10LnNkZkljb25zP3Quc2RmSWNvbnM9ZS5zZGY6dC5zZGZJY29ucyE9PWUuc2RmJiZFKFwiU3R5bGUgc2hlZXQgd2FybmluZzogQ2Fubm90IG1peCBTREYgYW5kIG5vbi1TREYgaWNvbnMgaW4gb25lIGJ1ZmZlclwiKSwoZS5waXhlbFJhdGlvIT09dC5waXhlbFJhdGlvfHwwIT09Yy5nZXQoXCJpY29uLXJvdGF0ZVwiKS5jb25zdGFudE9yKDEpKSYmKHQuaWNvbnNOZWVkTGluZWFyPSEwKSk7fWNvbnN0IF89VXAobS5ob3Jpem9udGFsKXx8bS52ZXJ0aWNhbDt0Lmljb25zSW5UZXh0fHwodC5pY29uc0luVGV4dD0hIV8mJl8uaWNvbnNJblRleHQpLChffHx4KSYmRnAodCxzLG0seCxuLHAseSwwLHYsYixhLG8sdSk7fXMmJnQuZ2VuZXJhdGVDb2xsaXNpb25EZWJ1Z0J1ZmZlcnMobCx0LmNvbGxpc2lvbkJveEFycmF5KTt9ZnVuY3Rpb24gVnAodCl7c3dpdGNoKHQpe2Nhc2VcInJpZ2h0XCI6Y2FzZVwidG9wLXJpZ2h0XCI6Y2FzZVwiYm90dG9tLXJpZ2h0XCI6cmV0dXJuIFwicmlnaHRcIjtjYXNlXCJsZWZ0XCI6Y2FzZVwidG9wLWxlZnRcIjpjYXNlXCJib3R0b20tbGVmdFwiOnJldHVybiBcImxlZnRcIn1yZXR1cm4gXCJjZW50ZXJcIn1mdW5jdGlvbiBGcCh0LGUscixuLGkscyxhLG8sdSxjLGgscCxmKXtsZXQgZD1zLnRleHRNYXhTaXplLmV2YWx1YXRlKGUse30scCk7dm9pZCAwPT09ZCYmKGQ9YSk7Y29uc3QgeT10LmxheWVyc1swXS5sYXlvdXQsbT15LmdldChcImljb24tb2Zmc2V0XCIpLmV2YWx1YXRlKGUse30scCksZz1VcChyLmhvcml6b250YWwpfHxyLnZlcnRpY2FsLHg9XCJnbG9iZVwiPT09Zi5uYW1lLHY9YS8yNCxiPXQudGlsZVBpeGVsUmF0aW8qZC8yNCxfPShUPXQub3ZlcnNjYWxpbmcsdC56b29tPjE4JiZUPjImJihUPj49MSksTWF0aC5tYXgod28vKDUxMipUKSwxKSp5LmdldChcInN5bWJvbC1zcGFjaW5nXCIpKSx3PXkuZ2V0KFwidGV4dC1wYWRkaW5nXCIpKnQudGlsZVBpeGVsUmF0aW8sQT15LmdldChcImljb24tcGFkZGluZ1wiKSp0LnRpbGVQaXhlbFJhdGlvLFM9bCh5LmdldChcInRleHQtbWF4LWFuZ2xlXCIpKSxrPVwibWFwXCI9PT15LmdldChcInRleHQtcm90YXRpb24tYWxpZ25tZW50XCIpJiZcInBvaW50XCIhPT15LmdldChcInN5bWJvbC1wbGFjZW1lbnRcIiksST1cIm1hcFwiPT09eS5nZXQoXCJpY29uLXJvdGF0aW9uLWFsaWdubWVudFwiKSYmXCJwb2ludFwiIT09eS5nZXQoXCJzeW1ib2wtcGxhY2VtZW50XCIpLE09eS5nZXQoXCJzeW1ib2wtcGxhY2VtZW50XCIpLHo9Xy8yO3ZhciBUO2NvbnN0IEI9eS5nZXQoXCJpY29uLXRleHQtZml0XCIpO2xldCBDO24mJlwibm9uZVwiIT09QiYmKHQuYWxsb3dWZXJ0aWNhbFBsYWNlbWVudCYmci52ZXJ0aWNhbCYmKEM9c3AobixyLnZlcnRpY2FsLEIseS5nZXQoXCJpY29uLXRleHQtZml0LXBhZGRpbmdcIiksbSx2KSksZyYmKG49c3AobixnLEIseS5nZXQoXCJpY29uLXRleHQtZml0LXBhZGRpbmdcIiksbSx2KSkpO2NvbnN0IFA9KGEsbyxsKT0+e2lmKG8ueDwwfHxvLng+PXdvfHxvLnk8MHx8by55Pj13bylyZXR1cm47bGV0IGQ9bnVsbDtpZih4KXtjb25zdHt4OnQseTplLHo6cn09Zi5wcm9qZWN0VGlsZVBvaW50KG8ueCxvLnksbCk7ZD17YW5jaG9yOm5ldyBhcCh0LGUsciwwLHZvaWQgMCksdXA6Zi51cFZlY3RvcihsLG8ueCxvLnkpfTt9IWZ1bmN0aW9uKHQsZSxyLG4saSxzLGEsbyxsLHUsYyxoLHAsZixkLHksbSxnLHgsdixiLF8sdyxBLFMpe2NvbnN0IGs9dC5hZGRUb0xpbmVWZXJ0ZXhBcnJheShlLG4pO2xldCBJLE0seixULEIsQyxQLEQ9MCxWPTAsRj0wLEw9MCxSPS0xLFU9LTE7Y29uc3Qgaj17fTtsZXQgJD1OYShcIlwiKTtjb25zdCBPPXI/ci5hbmNob3I6ZTtsZXQgcT0wLE49MDtpZih2b2lkIDA9PT1sLl91bmV2YWx1YXRlZExheW91dC5nZXRWYWx1ZShcInRleHQtcmFkaWFsLW9mZnNldFwiKT9bcSxOXT1sLmxheW91dC5nZXQoXCJ0ZXh0LW9mZnNldFwiKS5ldmFsdWF0ZShiLHt9LFMpLm1hcCgodD0+dCphaCkpOihxPWwubGF5b3V0LmdldChcInRleHQtcmFkaWFsLW9mZnNldFwiKS5ldmFsdWF0ZShiLHt9LFMpKmFoLE49RXApLHQuYWxsb3dWZXJ0aWNhbFBsYWNlbWVudCYmaS52ZXJ0aWNhbCl7Y29uc3QgdD1pLnZlcnRpY2FsO2lmKGQpQz0kcCh0KSxvJiYoUD0kcChvKSk7ZWxzZSB7Y29uc3Qgcj1sLmxheW91dC5nZXQoXCJ0ZXh0LXJvdGF0ZVwiKS5ldmFsdWF0ZShiLHt9LFMpKzkwO3o9anAodSxPLGUsYyxoLHAsdCxmLHIseSksbyYmKFQ9anAodSxPLGUsYyxoLHAsbyxnLHIpKTt9fWlmKHMpe2NvbnN0IG49bC5sYXlvdXQuZ2V0KFwiaWNvbi1yb3RhdGVcIikuZXZhbHVhdGUoYix7fSxTKSxpPVwibm9uZVwiIT09bC5sYXlvdXQuZ2V0KFwiaWNvbi10ZXh0LWZpdFwiKSxhPWJwKHMsbix3LGkpLGY9bz9icChvLG4sdyxpKTp2b2lkIDA7TT1qcCh1LE8sZSxjLGgscCxzLGcsbiksRD00KmEubGVuZ3RoO2NvbnN0IGQ9dC5pY29uU2l6ZURhdGE7bGV0IHk9bnVsbDtcInNvdXJjZVwiPT09ZC5raW5kPyh5PVtvaCpsLmxheW91dC5nZXQoXCJpY29uLXNpemVcIikuZXZhbHVhdGUoYix7fSxTKV0seVswXT5McCYmRShgJHt0LmxheWVySWRzWzBdfTogVmFsdWUgZm9yIFwiaWNvbi1zaXplXCIgaXMgPj0gMjU1LiBSZWR1Y2UgeW91ciBcImljb24tc2l6ZVwiLmApKTpcImNvbXBvc2l0ZVwiPT09ZC5raW5kJiYoeT1bb2gqXy5jb21wb3NpdGVJY29uU2l6ZXNbMF0uZXZhbHVhdGUoYix7fSxTKSxvaCpfLmNvbXBvc2l0ZUljb25TaXplc1sxXS5ldmFsdWF0ZShiLHt9LFMpXSwoeVswXT5McHx8eVsxXT5McCkmJkUoYCR7dC5sYXllcklkc1swXX06IFZhbHVlIGZvciBcImljb24tc2l6ZVwiIGlzID49IDI1NS4gUmVkdWNlIHlvdXIgXCJpY29uLXNpemVcIi5gKSksdC5hZGRTeW1ib2xzKHQuaWNvbixhLHksdix4LGIsITEscixlLGsubGluZVN0YXJ0SW5kZXgsay5saW5lTGVuZ3RoLC0xLEEsUyksUj10Lmljb24ucGxhY2VkU3ltYm9sQXJyYXkubGVuZ3RoLTEsZiYmKFY9NCpmLmxlbmd0aCx0LmFkZFN5bWJvbHModC5pY29uLGYseSx2LHgsYixOaC52ZXJ0aWNhbCxyLGUsay5saW5lU3RhcnRJbmRleCxrLmxpbmVMZW5ndGgsLTEsQSxTKSxVPXQuaWNvbi5wbGFjZWRTeW1ib2xBcnJheS5sZW5ndGgtMSk7fWZvcihjb25zdCBuIGluIGkuaG9yaXpvbnRhbCl7Y29uc3Qgcz1pLmhvcml6b250YWxbbl07SXx8KCQ9TmEocy50ZXh0KSxkP0I9JHAocyk6ST1qcCh1LE8sZSxjLGgscCxzLGYsbC5sYXlvdXQuZ2V0KFwidGV4dC1yb3RhdGVcIikuZXZhbHVhdGUoYix7fSxTKSx5KSk7Y29uc3Qgbz0xPT09cy5wb3NpdGlvbmVkTGluZXMubGVuZ3RoO2lmKEYrPVJwKHQscixlLHMsYSxsLGQsYix5LGssaS52ZXJ0aWNhbD9OaC5ob3Jpem9udGFsOk5oLmhvcml6b250YWxPbmx5LG8/T2JqZWN0LmtleXMoaS5ob3Jpem9udGFsKTpbbl0saixSLF8sQSxTKSxvKWJyZWFrfWkudmVydGljYWwmJihMKz1ScCh0LHIsZSxpLnZlcnRpY2FsLGEsbCxkLGIseSxrLE5oLnZlcnRpY2FsLFtcInZlcnRpY2FsXCJdLGosVSxfLEEsUykpO2xldCBHPS0xO2NvbnN0IFo9KHQsZSk9PnQ/TWF0aC5tYXgodCxlKTplO0c9WihCLEcpLEc9WihDLEcpLEc9WihQLEcpO2NvbnN0IFg9Rz4tMT8xOjA7dC5nbHlwaE9mZnNldEFycmF5Lmxlbmd0aD49UWYuTUFYX0dMWVBIUyYmRShcIlRvbyBtYW55IGdseXBocyBiZWluZyByZW5kZXJlZCBpbiBhIHRpbGUuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vbWFwYm94L21hcGJveC1nbC1qcy9pc3N1ZXMvMjkwN1wiKSx2b2lkIDAhPT1iLnNvcnRLZXkmJnQuYWRkVG9Tb3J0S2V5UmFuZ2VzKHQuc3ltYm9sSW5zdGFuY2VzLmxlbmd0aCxiLnNvcnRLZXkpLHQuc3ltYm9sSW5zdGFuY2VzLmVtcGxhY2VCYWNrKE8ueCxPLnksTy56LGUueCxlLnksai5yaWdodD49MD9qLnJpZ2h0Oi0xLGouY2VudGVyPj0wP2ouY2VudGVyOi0xLGoubGVmdD49MD9qLmxlZnQ6LTEsai52ZXJ0aWNhbD49MD9qLnZlcnRpY2FsOi0xLFIsVSwkLHZvaWQgMCE9PUk/STp0LmNvbGxpc2lvbkJveEFycmF5Lmxlbmd0aCx2b2lkIDAhPT1JP0krMTp0LmNvbGxpc2lvbkJveEFycmF5Lmxlbmd0aCx2b2lkIDAhPT16P3o6dC5jb2xsaXNpb25Cb3hBcnJheS5sZW5ndGgsdm9pZCAwIT09ej96KzE6dC5jb2xsaXNpb25Cb3hBcnJheS5sZW5ndGgsdm9pZCAwIT09TT9NOnQuY29sbGlzaW9uQm94QXJyYXkubGVuZ3RoLHZvaWQgMCE9PU0/TSsxOnQuY29sbGlzaW9uQm94QXJyYXkubGVuZ3RoLFR8fHQuY29sbGlzaW9uQm94QXJyYXkubGVuZ3RoLFQ/VCsxOnQuY29sbGlzaW9uQm94QXJyYXkubGVuZ3RoLGMsRixMLEQsVixYLDAscSxOLEcpO30odCxvLGQsYSxyLG4saSxDLHQubGF5ZXJzWzBdLHQuY29sbGlzaW9uQm94QXJyYXksZS5pbmRleCxlLnNvdXJjZUxheWVySW5kZXgsdC5pbmRleCx3LGssdSwwLEEsSSxtLGUscyxjLGgscCk7fTtpZihcImxpbmVcIj09PU0pZm9yKGNvbnN0IGkgb2YgZHAoZS5nZW9tZXRyeSwwLDAsd28sd28pKXtjb25zdCBlPXBwKGksXyxTLHIudmVydGljYWx8fGcsbiwyNCxiLHQub3ZlcnNjYWxpbmcsd28pO2Zvcihjb25zdCByIG9mIGUpe2NvbnN0IGU9ZztlJiZPcCh0LGUudGV4dCx6LHIpfHxQKGkscixwKTt9fWVsc2UgaWYoXCJsaW5lLWNlbnRlclwiPT09TSl7Zm9yKGNvbnN0IHQgb2YgZS5nZW9tZXRyeSlpZih0Lmxlbmd0aD4xKXtjb25zdCBlPWhwKHQsUyxyLnZlcnRpY2FsfHxnLG4sMjQsYik7ZSYmUCh0LGUscCk7fX1lbHNlIGlmKFwiUG9seWdvblwiPT09ZS50eXBlKWZvcihjb25zdCB0IG9mIFl1KGUuZ2VvbWV0cnksMCkpe2NvbnN0IGU9enAodCwxNik7UCh0WzBdLG5ldyBhcChlLngsZS55LDAsMCx2b2lkIDApLHApO31lbHNlIGlmKFwiTGluZVN0cmluZ1wiPT09ZS50eXBlKWZvcihjb25zdCB0IG9mIGUuZ2VvbWV0cnkpUCh0LG5ldyBhcCh0WzBdLngsdFswXS55LDAsMCx2b2lkIDApLHApO2Vsc2UgaWYoXCJQb2ludFwiPT09ZS50eXBlKWZvcihjb25zdCB0IG9mIGUuZ2VvbWV0cnkpZm9yKGNvbnN0IGUgb2YgdClQKFtlXSxuZXcgYXAoZS54LGUueSwwLDAsdm9pZCAwKSxwKTt9Y29uc3QgTHA9MzI2NDA7ZnVuY3Rpb24gUnAodCxlLHIsbixzLGEsbyxsLHUsYyxoLHAsZixkLHksbSxnKXtjb25zdCB4PWZ1bmN0aW9uKHQsZSxyLG4scyxhLG8sbCl7Y29uc3QgdT1bXTtpZigwPT09ZS5wb3NpdGlvbmVkTGluZXMubGVuZ3RoKXJldHVybiB1O2NvbnN0IGM9bi5sYXlvdXQuZ2V0KFwidGV4dC1yb3RhdGVcIikuZXZhbHVhdGUoYSx7fSkqTWF0aC5QSS8xODAsaD1mdW5jdGlvbih0KXtjb25zdCBlPXRbMF0scj10WzFdLG49ZSpyO3JldHVybiBuPjA/W2UsLXJdOm48MD9bLWUscl06MD09PWU/W3IsZV06W3IsLWVdfShyKTtsZXQgcD1NYXRoLmFicyhlLnRvcC1lLmJvdHRvbSk7Zm9yKGNvbnN0IHQgb2YgZS5wb3NpdGlvbmVkTGluZXMpcC09dC5saW5lT2Zmc2V0O2NvbnN0IGY9ZS5wb3NpdGlvbmVkTGluZXMubGVuZ3RoLGQ9cC9mO2xldCB5PWUudG9wLXJbMV07Zm9yKGxldCB0PTA7dDxmOysrdCl7Y29uc3Qgbj1lLnBvc2l0aW9uZWRMaW5lc1t0XTt5PWtwKGUsZCx5LHQpO2Zvcihjb25zdCB0IG9mIG4ucG9zaXRpb25lZEdseXBocyl7aWYoIXQucmVjdCljb250aW51ZTtjb25zdCBuPXQucmVjdHx8e307bGV0IGE9NCxwPSEwLGY9MSxkPTA7aWYodC5pbWFnZU5hbWUpe2NvbnN0IGU9b1t0LmltYWdlTmFtZV07aWYoIWUpY29udGludWU7aWYoZS5zZGYpe0UoXCJTREYgaW1hZ2VzIGFyZSBub3Qgc3VwcG9ydGVkIGluIGZvcm1hdHRlZCB0ZXh0IGFuZCB3aWxsIGJlIGlnbm9yZWQuXCIpO2NvbnRpbnVlfXA9ITEsZj1lLnBpeGVsUmF0aW8sYT0xL2Y7fWNvbnN0IG09KHN8fGwpJiZ0LnZlcnRpY2FsLGc9dC5tZXRyaWNzLmFkdmFuY2UqdC5zY2FsZS8yLHg9dC5tZXRyaWNzLHY9dC5yZWN0O2lmKG51bGw9PT12KWNvbnRpbnVlO2wmJmUudmVydGljYWxpemFibGUmJihkPXQuaW1hZ2VOYW1lP2ctdC5tZXRyaWNzLndpZHRoKnQuc2NhbGUvMjowKTtjb25zdCBiPXM/W3QueCtnLHQueV06WzAsMF07bGV0IF89WzAsMF0sdz1bMCwwXSxBPSExO3N8fChtPyh3PVt0LngrZytoWzBdLHQueStoWzFdLWRdLEE9ITApOl89W3QueCtnK3JbMF0sdC55K3JbMV0tZF0pO2NvbnN0IFM9di53KnQuc2NhbGUvKGYqKHQubG9jYWxHbHlwaD8yOjEpKSxrPXYuaCp0LnNjYWxlLyhmKih0LmxvY2FsR2x5cGg/MjoxKSk7bGV0IEksTSx6LFQ7aWYobSl7Y29uc3QgZT10LnkteSxyPW5ldyBpKC1nLGctZSksbj0tTWF0aC5QSS8yLHM9bmV3IGkoLi4udyk7ST1uZXcgaSgtZytfWzBdLF9bMV0pLEkuX3JvdGF0ZUFyb3VuZChuLHIpLl9hZGQocyksSS54Kz0tZStnLEkueS09KHgubGVmdC1hKSp0LnNjYWxlO2NvbnN0IG89dC5pbWFnZU5hbWU/eC5hZHZhbmNlKnQuc2NhbGU6YWgqdC5zY2FsZSxsPVN0cmluZy5mcm9tQ2hhckNvZGUodC5nbHlwaCk7ZGgobCk/SS54Kz0oMS1hKSp0LnNjYWxlOnloKGwpP0kueCs9by14LmhlaWdodCp0LnNjYWxlKygtYS0xKSp0LnNjYWxlOkkueCs9dC5pbWFnZU5hbWV8fHgud2lkdGgrMiphPT09di53JiZ4LmhlaWdodCsyKmE9PT12Lmg/KG8taykvMjooby0oeC5oZWlnaHQrMiphKSp0LnNjYWxlKS8yLE09bmV3IGkoSS54LEkueS1TKSx6PW5ldyBpKEkueCtrLEkueSksVD1uZXcgaShJLngrayxJLnktUyk7fWVsc2Uge2NvbnN0IGU9KHgubGVmdC1hKSp0LnNjYWxlLWcrX1swXSxyPSgteC50b3AtYSkqdC5zY2FsZStfWzFdLG49ZStTLHM9citrO0k9bmV3IGkoZSxyKSxNPW5ldyBpKG4sciksej1uZXcgaShlLHMpLFQ9bmV3IGkobixzKTt9aWYoYyl7bGV0IHQ7dD1zP25ldyBpKDAsMCk6QT9uZXcgaShoWzBdLGhbMV0pOm5ldyBpKHJbMF0sclsxXSksSS5fcm90YXRlQXJvdW5kKGMsdCksTS5fcm90YXRlQXJvdW5kKGMsdCksei5fcm90YXRlQXJvdW5kKGMsdCksVC5fcm90YXRlQXJvdW5kKGMsdCk7fWNvbnN0IEI9bmV3IGkoMCwwKSxDPW5ldyBpKDAsMCk7dS5wdXNoKHt0bDpJLHRyOk0sYmw6eixicjpULHRleDpuLHdyaXRpbmdNb2RlOmUud3JpdGluZ01vZGUsZ2x5cGhPZmZzZXQ6YixzZWN0aW9uSW5kZXg6dC5zZWN0aW9uSW5kZXgsaXNTREY6cCxwaXhlbE9mZnNldFRMOkIscGl4ZWxPZmZzZXRCUjpDLG1pbkZvbnRTY2FsZVg6MCxtaW5Gb250U2NhbGVZOjB9KTt9fXJldHVybiB1fSgwLG4sdSxhLG8sbCxzLHQuYWxsb3dWZXJ0aWNhbFBsYWNlbWVudCksdj10LnRleHRTaXplRGF0YTtsZXQgYj1udWxsO1wic291cmNlXCI9PT12LmtpbmQ/KGI9W29oKmEubGF5b3V0LmdldChcInRleHQtc2l6ZVwiKS5ldmFsdWF0ZShsLHt9LGcpXSxiWzBdPkxwJiZFKGAke3QubGF5ZXJJZHNbMF19OiBWYWx1ZSBmb3IgXCJ0ZXh0LXNpemVcIiBpcyA+PSAyNTUuIFJlZHVjZSB5b3VyIFwidGV4dC1zaXplXCIuYCkpOlwiY29tcG9zaXRlXCI9PT12LmtpbmQmJihiPVtvaCp5LmNvbXBvc2l0ZVRleHRTaXplc1swXS5ldmFsdWF0ZShsLHt9LGcpLG9oKnkuY29tcG9zaXRlVGV4dFNpemVzWzFdLmV2YWx1YXRlKGwse30sZyldLChiWzBdPkxwfHxiWzFdPkxwKSYmRShgJHt0LmxheWVySWRzWzBdfTogVmFsdWUgZm9yIFwidGV4dC1zaXplXCIgaXMgPj0gMjU1LiBSZWR1Y2UgeW91ciBcInRleHQtc2l6ZVwiLmApKSx0LmFkZFN5bWJvbHModC50ZXh0LHgsYix1LG8sbCxoLGUscixjLmxpbmVTdGFydEluZGV4LGMubGluZUxlbmd0aCxkLG0sZyk7Zm9yKGNvbnN0IGUgb2YgcClmW2VdPXQudGV4dC5wbGFjZWRTeW1ib2xBcnJheS5sZW5ndGgtMTtyZXR1cm4gNCp4Lmxlbmd0aH1mdW5jdGlvbiBVcCh0KXtmb3IoY29uc3QgZSBpbiB0KXJldHVybiB0W2VdO3JldHVybiBudWxsfWZ1bmN0aW9uIGpwKHQsZSxyLG4scyxhLG8sdSxjLGgpe2xldCBwPW8udG9wLGY9by5ib3R0b20sZD1vLmxlZnQseT1vLnJpZ2h0O2NvbnN0IG09by5jb2xsaXNpb25QYWRkaW5nO2lmKG0mJihkLT1tWzBdLHAtPW1bMV0seSs9bVsyXSxmKz1tWzNdKSxjKXtjb25zdCB0PW5ldyBpKGQscCksZT1uZXcgaSh5LHApLHI9bmV3IGkoZCxmKSxuPW5ldyBpKHksZikscz1sKGMpO2xldCBhPW5ldyBpKDAsMCk7aCYmKGE9bmV3IGkoaFswXSxoWzFdKSksdC5fcm90YXRlQXJvdW5kKHMsYSksZS5fcm90YXRlQXJvdW5kKHMsYSksci5fcm90YXRlQXJvdW5kKHMsYSksbi5fcm90YXRlQXJvdW5kKHMsYSksZD1NYXRoLm1pbih0LngsZS54LHIueCxuLngpLHk9TWF0aC5tYXgodC54LGUueCxyLngsbi54KSxwPU1hdGgubWluKHQueSxlLnksci55LG4ueSksZj1NYXRoLm1heCh0LnksZS55LHIueSxuLnkpO31yZXR1cm4gdC5lbXBsYWNlQmFjayhlLngsZS55LGUueixyLngsci55LGQscCx5LGYsdSxuLHMsYSksdC5sZW5ndGgtMX1mdW5jdGlvbiAkcCh0KXt0LmNvbGxpc2lvblBhZGRpbmcmJih0LnRvcC09dC5jb2xsaXNpb25QYWRkaW5nWzFdLHQuYm90dG9tKz10LmNvbGxpc2lvblBhZGRpbmdbM10pO2NvbnN0IGU9dC5ib3R0b20tdC50b3A7cmV0dXJuIGU+MD9NYXRoLm1heCgxMCxlKTpudWxsfWZ1bmN0aW9uIE9wKHQsZSxyLG4pe2NvbnN0IGk9dC5jb21wYXJlVGV4dDtpZihlIGluIGkpe2NvbnN0IHQ9aVtlXTtmb3IobGV0IGU9dC5sZW5ndGgtMTtlPj0wO2UtLSlpZihuLmRpc3QodFtlXSk8cilyZXR1cm4gITB9ZWxzZSBpW2VdPVtdO3JldHVybiBpW2VdLnB1c2gobiksITF9Y29uc3QgcXA9V3MoW3t0eXBlOlwiRmxvYXQzMlwiLG5hbWU6XCJhX2dsb2JlX3Bvc1wiLGNvbXBvbmVudHM6M30se3R5cGU6XCJGbG9hdDMyXCIsbmFtZTpcImFfdXZcIixjb21wb25lbnRzOjJ9XSkse21lbWJlcnM6TnB9PXFwLEdwPVdzKFt7bmFtZTpcImFfcG9zXzNcIixjb21wb25lbnRzOjMsdHlwZTpcIkludDE2XCJ9XSk7dmFyIFpwPVdzKFt7bmFtZTpcImFfcG9zXCIsdHlwZTpcIkludDE2XCIsY29tcG9uZW50czoyfV0pO2NvbnN0IFhwPXdvL01hdGguUEkvMixLcD0yKkJvKDEsMCkqWHAqTWF0aC5QSSxIcD1bNjQsMzIsMTZdLFlwPS1YcCxXcD1YcCxKcD1bbmV3IGV1KFtZcCxZcCxZcF0sW1dwLFdwLFdwXSksbmV3IGV1KFtZcCxZcCxZcF0sWzAsMCxXcF0pLG5ldyBldShbMCxZcCxZcF0sW1dwLDAsV3BdKSxuZXcgZXUoW1lwLDAsWXBdLFswLFdwLFdwXSksbmV3IGV1KFswLDAsWXBdLFtXcCxXcCxXcF0pXTtmdW5jdGlvbiBRcCh0LGUscixuPSEwKXtjb25zdCBpPVZsKFtdLHQuX2NhbWVyYS5wb3NpdGlvbix0LndvcmxkU2l6ZSkscz1bZSxyLDEsMV07WGwocyxzLHQucGl4ZWxNYXRyaXhJbnZlcnNlKSxabChzLHMsMS9zWzNdKTtjb25zdCBhPUxsKFtdLHFsKFtdLHMsaSkpLG89dC5nbG9iZU1hdHJpeCxsPVtvWzEyXSxvWzEzXSxvWzE0XV0sYz1xbChbXSxsLGkpLGg9emwoYykscD1MbChbXSxjKSxmPXQud29ybGRTaXplLygyKk1hdGguUEkpLHk9UmwocCxhKSxtPU1hdGguYXNpbihmL2gpO2lmKG08TWF0aC5hY29zKHkpKXtpZighbilyZXR1cm4gbnVsbDtjb25zdCB0PVtdLGU9W107VmwodCxhLGgveSksTGwoZSxxbChlLHQsYykpLExsKGEsQmwoYSxjLFZsKGEsZSxNYXRoLnRhbihtKSpoKSkpO31jb25zdCBnPVtdO25ldyBKbChpLGEpLmNsb3Nlc3RQb2ludE9uU3BoZXJlKGwsZixnKTtjb25zdCB4PUxsKFtdLFUobywwKSksdj1MbChbXSxVKG8sMSkpLGI9TGwoW10sVShvLDIpKSxfPVJsKHgsZyksdz1SbCh2LGcpLEE9UmwoYixnKSxTPXUoTWF0aC5hc2luKC13L2YpKTtsZXQgaz11KE1hdGguYXRhbjIoXyxBKSk7az10LmNlbnRlci5sbmcrZnVuY3Rpb24odCxlKXtjb25zdCByPShlLXQrMTgwKSUzNjAtMTgwO3JldHVybiByPC0xODA/ciszNjA6cn0odC5jZW50ZXIubG5nLGspO2NvbnN0IEk9em8oayksTT1kKFRvKFMpLDAsMSk7cmV0dXJuIG5ldyBGbyhJLE0pfWNsYXNzIHRme2NvbnN0cnVjdG9yKHQsZSxyKXt0aGlzLmE9cWwoW10sdCxyKSx0aGlzLmI9cWwoW10sZSxyKSx0aGlzLmNlbnRlcj1yO2NvbnN0IG49TGwoW10sdGhpcy5hKSxpPUxsKFtdLHRoaXMuYik7dGhpcy5hbmdsZT1NYXRoLmFjb3MoUmwobixpKSk7fX1mdW5jdGlvbiBlZih0LGUpe2lmKDA9PT10LmFuZ2xlKXJldHVybiBudWxsO2xldCByO3JldHVybiByPTA9PT10LmFbZV0/MS90LmFuZ2xlKi41Kk1hdGguUEk6MS90LmFuZ2xlKk1hdGguYXRhbih0LmJbZV0vdC5hW2VdL01hdGguc2luKHQuYW5nbGUpLTEvTWF0aC50YW4odC5hbmdsZSkpLHI8MHx8cj4xP251bGw6ZnVuY3Rpb24odCxlLHIsbil7Y29uc3QgaT1NYXRoLnNpbihyKTtyZXR1cm4gdCooTWF0aC5zaW4oKDEtbikqcikvaSkrZSooTWF0aC5zaW4obipyKS9pKX0odC5hW2VdLHQuYltlXSx0LmFuZ2xlLGQociwwLDEpKSt0LmNlbnRlcltlXX1mdW5jdGlvbiByZih0KXtpZih0Lno8PTEpcmV0dXJuIEpwW3QueisyKnQueSt0LnhdO2NvbnN0IGU9bGYob2YodCkpO3JldHVybiBldS5mcm9tUG9pbnRzKGUpfWZ1bmN0aW9uIG5mKHQsZSl7Y29uc3Qgcj1nZihlLnpvb20pO2lmKDA9PT1yKXJldHVybiByZih0KTtjb25zdCBuPW9mKHQpLGk9bGYobikscz16byhuLmdldFdlc3QoKSkqZS53b3JsZFNpemUsYT16byhuLmdldEVhc3QoKSkqZS53b3JsZFNpemUsbz1UbyhuLmdldE5vcnRoKCkpKmUud29ybGRTaXplLGw9VG8obi5nZXRTb3V0aCgpKSplLndvcmxkU2l6ZSx1PVtzLG8sMF0sYz1bYSxvLDBdLGg9W3MsbCwwXSxwPVthLGwsMF0sZj1nbChbXSxlLmdsb2JlTWF0cml4KTtyZXR1cm4gamwodSx1LGYpLGpsKGMsYyxmKSxqbChoLGgsZiksamwocCxwLGYpLGlbMF09dnIoaVswXSxoLHIpLGlbMV09dnIoaVsxXSxwLHIpLGlbMl09dnIoaVsyXSxjLHIpLGlbM109dnIoaVszXSx1LHIpLGV1LmZyb21Qb2ludHMoaSl9ZnVuY3Rpb24gc2YodCxlLHIsbixpKXtmb3IoY29uc3QgcyBvZiByKWpsKHMscyxuKSxWbChzLHMsaSksUGwodCx0LHMpLERsKGUsZSxzKTt9ZnVuY3Rpb24gYWYodCxlLHIpe2NvbnN0IG49ZS90LndvcmxkU2l6ZSxpPU51bWJlci5NQVhfVkFMVUUscz1bLWksLWksLWldLGE9W2ksaSxpXSxvPXQuZ2xvYmVNYXRyaXg7aWYoci56PD0xKXJldHVybiBzZihhLHMscmYocikuZ2V0Q29ybmVycygpLG8sbiksbmV3IGV1KGEscyk7Y29uc3QgdT1vZihyKSxjPWxmKHUpO2lmKHNmKGEscyxjLG8sbiksdS5jb250YWlucyh0LmNlbnRlcikpe3NbMl09MDtjb25zdCBlPXQucG9pbnQscj1bZS54Km4sZS55Km4sMF07cmV0dXJuIFBsKGEsYSxyKSxEbChzLHMsciksbmV3IGV1KGEscyl9Y29uc3QgaD1bb1sxMl0qbixvWzEzXSpuLG9bMTRdKm5dLHA9dS5nZXRDZW50ZXIoKSxmPWQodC5jZW50ZXIubGF0LC04NS4wNTExMjksRG8pLHk9ZChwLmxhdCwtODUuMDUxMTI5LERvKSxtPXpvKHQuY2VudGVyLmxuZyksZz1UbyhmKTtsZXQgeD1tLXpvKHAubG5nKTtjb25zdCB2PWctVG8oeSk7eD4uNT94LT0xOng8LS41JiYoeCs9MSk7bGV0IGI9MDtNYXRoLmFicyh4KT5NYXRoLmFicyh2KT9iPXg+PTA/MTozOihiPXY+PTA/MDoyLEZsKGgsaCxbb1s0XSpuLG9bNV0qbixvWzZdKm5dLC1NYXRoLnNpbihsKHY+PTA/dS5nZXRTb3V0aCgpOnUuZ2V0Tm9ydGgoKSkpKlhwKSk7Y29uc3QgXz1jW2JdLHc9Y1soYisxKSU0XSxBPW5ldyB0ZihfLHcsaCksUz1bZWYoQSwwKXx8X1swXSxlZihBLDEpfHxfWzFdLGVmKEEsMil8fF9bMl1dO3JldHVybiBhWzJdPU1hdGgubWluKF9bMl0sd1syXSksUGwoYSxhLFMpLERsKHMscyxTKSxuZXcgZXUoYSxzKX1mdW5jdGlvbiBvZih7eDp0LHk6ZSx6OnJ9KXtjb25zdCBuPTEvKDE8PHIpLGk9bmV3IGtvKEVvKHQqbiksQ28oKGUrMSkqbikpLHM9bmV3IGtvKEVvKCh0KzEpKm4pLENvKGUqbikpO3JldHVybiBuZXcgQW8oaSxzKX1mdW5jdGlvbiBsZih0KXtjb25zdCBlPWwodC5nZXROb3J0aCgpKSxyPWwodC5nZXRTb3V0aCgpKSxuPU1hdGguY29zKGUpLGk9TWF0aC5jb3Mocikscz1NYXRoLnNpbihlKSxhPU1hdGguc2luKHIpLG89dC5nZXRXZXN0KCksdT10LmdldEVhc3QoKTtyZXR1cm4gW3VmKGksYSxvKSx1ZihpLGEsdSksdWYobixzLHUpLHVmKG4scyxvKV19ZnVuY3Rpb24gdWYodCxlLHIsbj1YcCl7cmV0dXJuIHI9bChyKSxbdCpNYXRoLnNpbihyKSpuLC1lKm4sdCpNYXRoLmNvcyhyKSpuXX1mdW5jdGlvbiBjZih0LGUscil7cmV0dXJuIHVmKE1hdGguY29zKGwodCkpLE1hdGguc2luKGwodCkpLGUscil9ZnVuY3Rpb24gaGYodCxlLHIsbil7Y29uc3QgaT0xPDxyLnoscz0odC93bytyLngpL2k7cmV0dXJuIGNmKENvKChlL3dvK3IueSkvaSksRW8ocyksbil9ZnVuY3Rpb24gcGYoe21pbjp0LG1heDplfSl7cmV0dXJuIDE2MzgzL01hdGgubWF4KGVbMF0tdFswXSxlWzFdLXRbMV0sZVsyXS10WzJdKX1jb25zdCBmZj1uZXcgRmxvYXQ2NEFycmF5KDE2KTtmdW5jdGlvbiBkZih0KXtjb25zdCBlPXBmKHQpLHI9QWwoZmYsW2UsZSxlXSk7cmV0dXJuIHZsKHIsciwoKG49W10pWzBdPS0oaT10Lm1pbilbMF0sblsxXT0taVsxXSxuWzJdPS1pWzJdLG4pKTt2YXIgbixpO31mdW5jdGlvbiB5Zih0KXtjb25zdCBlPShuPXQubWluLChyPWZmKVswXT0xLHJbMV09MCxyWzJdPTAsclszXT0wLHJbNF09MCxyWzVdPTEscls2XT0wLHJbN109MCxyWzhdPTAscls5XT0wLHJbMTBdPTEsclsxMV09MCxyWzEyXT1uWzBdLHJbMTNdPW5bMV0sclsxNF09blsyXSxyWzE1XT0xLHIpO3ZhciByLG47Y29uc3QgaT0xL3BmKHQpO3JldHVybiBibChlLGUsW2ksaSxpXSl9ZnVuY3Rpb24gbWYodCxlLHIsbixpKXtjb25zdCBzPWZ1bmN0aW9uKHQpe2NvbnN0IGU9d28vKDIqTWF0aC5QSSk7cmV0dXJuIHQvKDIqTWF0aC5QSSkvZX0ociksYT1bdCxlLC1yLygyKk1hdGguUEkpXSxvPW1sKG5ldyBGbG9hdDY0QXJyYXkoMTYpKTtyZXR1cm4gdmwobyxvLGEpLGJsKG8sbyxbcyxzLHNdKSxfbChvLG8sbCgtaSkpLHdsKG8sbyxsKC1uKSksb31mdW5jdGlvbiBnZih0KXtyZXR1cm4geSg1LDYsdCl9ZnVuY3Rpb24geGYodCxlKXtjb25zdCByPWNmKGUubGF0LGUubG5nKTtyZXR1cm4gcz0obj1FbChbXSxmdW5jdGlvbih0KXtjb25zdCBlPWNmKHQuX2NlbnRlci5sYXQsdC5fY2VudGVyLmxuZyk7bGV0IHI9VWwoW10sVGwoMCwxLDApLGUpO2NvbnN0IG49U2woW10sLXQuYW5nbGUsZSk7cj1qbChyLHIsbiksU2wobiwtdC5fcGl0Y2gscik7Y29uc3QgaT1MbChbXSxlKTtyZXR1cm4gVmwoaSxpLHQuY2FtZXJhVG9DZW50ZXJEaXN0YW5jZS90LnBpeGVsc1Blck1ldGVyKktwKSxqbChpLGksbiksQmwoW10sZSxpKX0odCkscikpWzBdLGE9blsxXSxvPW5bMl0sbD0oaT1yKVswXSx1PWlbMV0sYz1pWzJdLHA9KGg9TWF0aC5zcXJ0KHMqcythKmErbypvKSpNYXRoLnNxcnQobCpsK3UqdStjKmMpKSYmUmwobixpKS9oLE1hdGguYWNvcyhNYXRoLm1pbihNYXRoLm1heChwLC0xKSwxKSk7dmFyIG4saSxzLGEsbyxsLHUsYyxoLHA7fWNvbnN0IHZmPWwoODUpLGJmPU1hdGguY29zKHZmKSxfZj1NYXRoLnNpbih2Zik7ZnVuY3Rpb24gd2YodCxlKXtjb25zdCByPXQuZm92QWJvdmVDZW50ZXIsbj10LmVsZXZhdGlvbj90LmVsZXZhdGlvbi5nZXRNaW5FbGV2YXRpb25CZWxvd01TTCgpKmU6MCxpPSh0Ll9jYW1lcmEucG9zaXRpb25bMl0qdC53b3JsZFNpemUtbikvTWF0aC5jb3ModC5fcGl0Y2gpLHM9TWF0aC5zaW4ocikqaS9NYXRoLnNpbihNYXRoLm1heChNYXRoLlBJLzItdC5fcGl0Y2gtciwuMDEpKSxhPU1hdGguc2luKHQuX3BpdGNoKSpzK2k7cmV0dXJuIE1hdGgubWluKDEuMDEqYSxpKigxL3QuX2hvcml6b25TaGlmdCkpfWZ1bmN0aW9uIEFmKHQsZSl7aWYoIWUuaXNSZXByb2plY3RlZEluVGlsZVNwYWNlKXJldHVybiB7c2NhbGU6MTw8dC56LHg6dC54LHk6dC55LHgyOnQueCsxLHkyOnQueSsxLHByb2plY3Rpb246ZX07Y29uc3Qgcj1NYXRoLnBvdygyLC10LnopLG49dC54KnIsaT0odC54KzEpKnIscz10LnkqcixhPSh0LnkrMSkqcixvPUVvKG4pLGw9RW8oaSksdT1DbyhzKSxjPUNvKGEpLGg9ZS5wcm9qZWN0KG8sdSkscD1lLnByb2plY3QobCx1KSxmPWUucHJvamVjdChsLGMpLGQ9ZS5wcm9qZWN0KG8sYyk7bGV0IHk9TWF0aC5taW4oaC54LHAueCxmLngsZC54KSxtPU1hdGgubWluKGgueSxwLnksZi55LGQueSksZz1NYXRoLm1heChoLngscC54LGYueCxkLngpLHg9TWF0aC5tYXgoaC55LHAueSxmLnksZC55KTtjb25zdCB2PXIvMTY7ZnVuY3Rpb24gYih0LHIsbixpLHMsYSl7Y29uc3Qgbz0obitzKS8yLGw9KGkrYSkvMix1PWUucHJvamVjdChFbyhvKSxDbyhsKSksYz1NYXRoLm1heCgwLHktdS54LG0tdS55LHUueC1nLHUueS14KTt5PU1hdGgubWluKHksdS54KSxnPU1hdGgubWF4KGcsdS54KSxtPU1hdGgubWluKG0sdS55KSx4PU1hdGgubWF4KHgsdS55KSxjPnYmJihiKHQsdSxuLGksbyxsKSxiKHUscixvLGwscyxhKSk7fWIoaCxwLG4scyxpLHMpLGIocCxmLGkscyxpLGEpLGIoZixkLGksYSxuLGEpLGIoZCxoLG4sYSxuLHMpLHktPXYsbS09dixnKz12LHgrPXY7Y29uc3QgXz0xL01hdGgubWF4KGcteSx4LW0pO3JldHVybiB7c2NhbGU6Xyx4OnkqXyx5Om0qXyx4MjpnKl8seTI6eCpfLHByb2plY3Rpb246ZX19Y29uc3QgU2Y9bWwobmV3IEZsb2F0MzJBcnJheSgxNikpO2NsYXNzIGtme2NvbnN0cnVjdG9yKHQpe3RoaXMuc3BlYz10LHRoaXMubmFtZT10Lm5hbWUsdGhpcy53cmFwPSExLHRoaXMucmVxdWlyZXNEcmFwaW5nPSExLHRoaXMuc3VwcG9ydHNXb3JsZENvcGllcz0hMSx0aGlzLnN1cHBvcnRzVGVycmFpbj0hMSx0aGlzLnN1cHBvcnRzRm9nPSExLHRoaXMuc3VwcG9ydHNGcmVlQ2FtZXJhPSExLHRoaXMuekF4aXNVbml0PVwibWV0ZXJzXCIsdGhpcy5pc1JlcHJvamVjdGVkSW5UaWxlU3BhY2U9ITAsdGhpcy51bnN1cHBvcnRlZExheWVycz1bXCJjdXN0b21cIl0sdGhpcy5jZW50ZXI9WzAsMF0sdGhpcy5yYW5nZT1bMy41LDddO31wcm9qZWN0KHQsZSl7cmV0dXJuIHt4OjAseTowLHo6MH19dW5wcm9qZWN0KHQsZSl7cmV0dXJuIG5ldyBrbygwLDApfXByb2plY3RUaWxlUG9pbnQodCxlLHIpe3JldHVybiB7eDp0LHk6ZSx6OjB9fWxvY2F0aW9uUG9pbnQodCxlLHI9ITApe3JldHVybiB0Ll9jb29yZGluYXRlUG9pbnQodC5sb2NhdGlvbkNvb3JkaW5hdGUoZSkscil9cGl4ZWxzUGVyTWV0ZXIodCxlKXtyZXR1cm4gQm8oMSx0KSplfXBpeGVsU3BhY2VDb252ZXJzaW9uKHQsZSxyKXtyZXR1cm4gMX1mYXJ0aGVzdFBpeGVsRGlzdGFuY2UodCl7cmV0dXJuIHdmKHQsdC5waXhlbHNQZXJNZXRlcil9cG9pbnRDb29yZGluYXRlKHQsZSxyLG4pe2NvbnN0IHM9dC5ob3Jpem9uTGluZUZyb21Ub3AoITEpLGE9bmV3IGkoZSxNYXRoLm1heChzLHIpKTtyZXR1cm4gdC5yYXlJbnRlcnNlY3Rpb25Db29yZGluYXRlKHQucG9pbnRSYXlJbnRlcnNlY3Rpb24oYSxuKSl9cG9pbnRDb29yZGluYXRlM0QodCxlLHIpe2NvbnN0IG49bmV3IGkoZSxyKTtpZih0LmVsZXZhdGlvbilyZXR1cm4gdC5lbGV2YXRpb24ucG9pbnRDb29yZGluYXRlKG4pO3tjb25zdCBlPXRoaXMucG9pbnRDb29yZGluYXRlKHQsbi54LG4ueSwwKTtyZXR1cm4gW2UueCxlLnksZS56XX19aXNQb2ludEFib3ZlSG9yaXpvbih0LGUpe2lmKHQuZWxldmF0aW9uKXJldHVybiAhdGhpcy5wb2ludENvb3JkaW5hdGUzRCh0LGUueCxlLnkpO2NvbnN0IHI9dC5ob3Jpem9uTGluZUZyb21Ub3AoKTtyZXR1cm4gZS55PHJ9Y3JlYXRlSW52ZXJzaW9uTWF0cml4KHQsZSl7cmV0dXJuIFNmfWNyZWF0ZVRpbGVNYXRyaXgodCxlLHIpe2xldCBuLGkscztjb25zdCBhPXIuY2Fub25pY2FsLG89bWwobmV3IEZsb2F0NjRBcnJheSgxNikpO2lmKHRoaXMuaXNSZXByb2plY3RlZEluVGlsZVNwYWNlKXtjb25zdCBsPUFmKGEsdGhpcyk7bj0xLGk9bC54K3Iud3JhcCpsLnNjYWxlLHM9bC55LGJsKG8sbyxbbi9sLnNjYWxlLG4vbC5zY2FsZSx0LnBpeGVsc1Blck1ldGVyL2VdKTt9ZWxzZSBuPWUvdC56b29tU2NhbGUoYS56KSxpPShhLngrTWF0aC5wb3coMixhLnopKnIud3JhcCkqbixzPWEueSpuO3JldHVybiB2bChvLG8sW2kscywwXSksYmwobyxvLFtuL3dvLG4vd28sMV0pLG99dXBWZWN0b3IodCxlLHIpe3JldHVybiBbMCwwLDFdfXVwVmVjdG9yU2NhbGUodCxlLHIpe3JldHVybiB7bWV0ZXJzVG9UaWxlOjF9fX1jbGFzcyBJZiBleHRlbmRzIGtme2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMucmFuZ2U9WzQsN10sdGhpcy5jZW50ZXI9dC5jZW50ZXJ8fFstOTYsMzcuNV07Y29uc3RbZSxyXT10aGlzLnBhcmFsbGVscz10LnBhcmFsbGVsc3x8WzI5LjUsNDUuNV0sbj1NYXRoLnNpbihsKGUpKTt0aGlzLm49KG4rTWF0aC5zaW4obChyKSkpLzIsdGhpcy5jPTErbiooMip0aGlzLm4tbiksdGhpcy5yMD1NYXRoLnNxcnQodGhpcy5jKS90aGlzLm47fXByb2plY3QodCxlKXtjb25zdHtuOnIsYzpuLHIwOml9PXRoaXMscz1sKHQtdGhpcy5jZW50ZXJbMF0pLGE9bChlKSxvPU1hdGguc3FydChuLTIqcipNYXRoLnNpbihhKSkvcjtyZXR1cm4ge3g6bypNYXRoLnNpbihzKnIpLHk6bypNYXRoLmNvcyhzKnIpLWksejowfX11bnByb2plY3QodCxlKXtjb25zdHtuOnIsYzpuLHIwOml9PXRoaXMscz1pK2U7bGV0IGE9TWF0aC5hdGFuMih0LE1hdGguYWJzKHMpKSpNYXRoLnNpZ24ocyk7cypyPDAmJihhLT1NYXRoLlBJKk1hdGguc2lnbih0KSpNYXRoLnNpZ24ocykpO2NvbnN0IG89bCh0aGlzLmNlbnRlclswXSkqcjthPW0oYSwtTWF0aC5QSS1vLE1hdGguUEktbyk7Y29uc3QgYz11KGEvcikrdGhpcy5jZW50ZXJbMF0saD1NYXRoLmFzaW4oZCgobi0odCp0K3MqcykqcipyKS8oMipyKSwtMSwxKSkscD1kKHUoaCksLTg1LjA1MTEyOSxEbyk7cmV0dXJuIG5ldyBrbyhjLHApfX1jb25zdCBNZj0xLjM0MDI2NCx6Zj0tLjA4MTEwNixUZj04OTNlLTYsQmY9LjAwMzc5NixFZj1NYXRoLnNxcnQoMykvMjtjbGFzcyBDZiBleHRlbmRzIGtme3Byb2plY3QodCxlKXtlPWUvMTgwKk1hdGguUEksdD10LzE4MCpNYXRoLlBJO2NvbnN0IHI9TWF0aC5hc2luKEVmKk1hdGguc2luKGUpKSxuPXIqcixpPW4qbipuO3JldHVybiB7eDouNSoodCpNYXRoLmNvcyhyKS8oRWYqKE1mKzMqemYqbitpKig3KlRmKzkqQmYqbikpKS9NYXRoLlBJKy41KSx5OjEtLjUqKHIqKE1mK3pmKm4raSooVGYrQmYqbikpL01hdGguUEkrMSksejowfX11bnByb2plY3QodCxlKXt0PSgyKnQtLjUpKk1hdGguUEk7bGV0IHI9ZT0oMiooMS1lKS0xKSpNYXRoLlBJLG49cipyLGk9bipuKm47Zm9yKGxldCB0LHMsYSxvPTA7bzwxMiYmKHM9ciooTWYremYqbitpKihUZitCZipuKSktZSxhPU1mKzMqemYqbitpKig3KlRmKzkqQmYqbiksdD1zL2Escj1kKHItdCwtTWF0aC5QSS8zLE1hdGguUEkvMyksbj1yKnIsaT1uKm4qbiwhKE1hdGguYWJzKHQpPDFlLTEyKSk7KytvKTtjb25zdCBzPUVmKnQqKE1mKzMqemYqbitpKig3KlRmKzkqQmYqbikpL01hdGguY29zKHIpLGE9TWF0aC5hc2luKE1hdGguc2luKHIpL0VmKSxvPWQoMTgwKnMvTWF0aC5QSSwtMTgwLDE4MCksbD1kKDE4MCphL01hdGguUEksLTg1LjA1MTEyOSxEbyk7cmV0dXJuIG5ldyBrbyhvLGwpfX1jbGFzcyBQZiBleHRlbmRzIGtme2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMud3JhcD0hMCx0aGlzLnN1cHBvcnRzV29ybGRDb3BpZXM9ITA7fXByb2plY3QodCxlKXtyZXR1cm4ge3g6LjUrdC8zNjAseTouNS1lLzM2MCx6OjB9fXVucHJvamVjdCh0LGUpe2NvbnN0IHI9MzYwKih0LS41KSxuPWQoMzYwKiguNS1lKSwtODUuMDUxMTI5LERvKTtyZXR1cm4gbmV3IGtvKHIsbil9fWNvbnN0IERmPU1hdGguUEkvMjtmdW5jdGlvbiBWZih0KXtyZXR1cm4gTWF0aC50YW4oKERmK3QpLzIpfWNsYXNzIEZmIGV4dGVuZHMga2Z7Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5jZW50ZXI9dC5jZW50ZXJ8fFswLDMwXTtjb25zdFtlLHJdPXRoaXMucGFyYWxsZWxzPXQucGFyYWxsZWxzfHxbMzAsMzBdLG49bChlKSxpPWwocikscz1NYXRoLmNvcyhuKTt0aGlzLm49bj09PWk/TWF0aC5zaW4obik6TWF0aC5sb2cocy9NYXRoLmNvcyhpKSkvTWF0aC5sb2coVmYoaSkvVmYobikpLHRoaXMuZj1zKk1hdGgucG93KFZmKG4pLHRoaXMubikvdGhpcy5uO31wcm9qZWN0KHQsZSl7ZT1sKGUpLHQ9bCh0LXRoaXMuY2VudGVyWzBdKTtjb25zdCByPTFlLTYse246bixmOml9PXRoaXM7aT4wP2U8LURmK3ImJihlPS1EZityKTplPkRmLXImJihlPURmLXIpO2NvbnN0IHM9aS9NYXRoLnBvdyhWZihlKSxuKSxhPXMqTWF0aC5zaW4obip0KSxvPWktcypNYXRoLmNvcyhuKnQpO3JldHVybiB7eDouNSooYS9NYXRoLlBJKy41KSx5OjEtLjUqKG8vTWF0aC5QSSsuNSksejowfX11bnByb2plY3QodCxlKXt0PSgyKnQtLjUpKk1hdGguUEksZT0oMiooMS1lKS0uNSkqTWF0aC5QSTtjb25zdHtuOnIsZjpufT10aGlzLGk9bi1lLHM9TWF0aC5zaWduKGkpLGE9TWF0aC5zaWduKHIpKk1hdGguc3FydCh0KnQraSppKTtsZXQgbz1NYXRoLmF0YW4yKHQsTWF0aC5hYnMoaSkpKnM7aSpyPDAmJihvLT1NYXRoLlBJKk1hdGguc2lnbih0KSpzKTtjb25zdCBsPWQodShvL3IpK3RoaXMuY2VudGVyWzBdLC0xODAsMTgwKSxjPWQodSgyKk1hdGguYXRhbihNYXRoLnBvdyhuL2EsMS9yKSktRGYpLC04NS4wNTExMjksRG8pO3JldHVybiBuZXcga28obCxjKX19Y2xhc3MgTGYgZXh0ZW5kcyBrZntjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KSx0aGlzLndyYXA9ITAsdGhpcy5zdXBwb3J0c1dvcmxkQ29waWVzPSEwLHRoaXMuc3VwcG9ydHNUZXJyYWluPSEwLHRoaXMuc3VwcG9ydHNGb2c9ITAsdGhpcy5zdXBwb3J0c0ZyZWVDYW1lcmE9ITAsdGhpcy5pc1JlcHJvamVjdGVkSW5UaWxlU3BhY2U9ITEsdGhpcy51bnN1cHBvcnRlZExheWVycz1bXSx0aGlzLnJhbmdlPW51bGw7fXByb2plY3QodCxlKXtyZXR1cm4ge3g6em8odCkseTpUbyhlKSx6OjB9fXVucHJvamVjdCh0LGUpe2NvbnN0IHI9RW8odCksbj1DbyhlKTtyZXR1cm4gbmV3IGtvKHIsbil9fWNvbnN0IFJmPWwoRG8pO2NsYXNzIFVmIGV4dGVuZHMga2Z7cHJvamVjdCh0LGUpe2NvbnN0IHI9KGU9bChlKSkqZSxuPXIqcjtyZXR1cm4ge3g6LjUqKCh0PWwodCkpKiguODcwNy0uMTMxOTc5KnIrbioobiooLjAwMzk3MSpyLS4wMDE1MjkqbiktLjAxMzc5MSkpL01hdGguUEkrLjUpLHk6MS0uNSooZSooMS4wMDcyMjYrciooLjAxNTA4NStuKiguMDI4ODc0KnItLjA0NDQ3NS0uMDA1OTE2Km4pKSkvTWF0aC5QSSsxKSx6OjB9fXVucHJvamVjdCh0LGUpe3Q9KDIqdC0uNSkqTWF0aC5QSTtsZXQgcj1lPSgyKigxLWUpLTEpKk1hdGguUEksbj0yNSxpPTAscz1yKnI7ZG97cz1yKnI7Y29uc3QgdD1zKnM7aT0ociooMS4wMDcyMjYrcyooLjAxNTA4NSt0KiguMDI4ODc0KnMtLjA0NDQ3NS0uMDA1OTE2KnQpKSktZSkvKDEuMDA3MjI2K3MqKC4wNDUyNTUrdCooLjI1OTg2NipzLS4zMTEzMjUtLjAwNTkxNioxMSp0KSkpLHI9ZChyLWksLVJmLFJmKTt9d2hpbGUoTWF0aC5hYnMoaSk+MWUtNiYmLS1uPjApO3M9cipyO2NvbnN0IGE9ZCh1KHQvKC44NzA3K3MqKHMqKHMqcypzKiguMDAzOTcxLS4wMDE1MjkqcyktLjAxMzc5MSktLjEzMTk3OSkpKSwtMTgwLDE4MCksbz11KHIpO3JldHVybiBuZXcga28oYSxvKX19Y29uc3QgamY9bChEbyk7Y2xhc3MgJGYgZXh0ZW5kcyBrZntwcm9qZWN0KHQsZSl7ZT1sKGUpLHQ9bCh0KTtjb25zdCByPU1hdGguY29zKGUpLG49Mi9NYXRoLlBJLGk9TWF0aC5hY29zKHIqTWF0aC5jb3ModC8yKSkscz1NYXRoLnNpbihpKS9pLGE9LjUqKHQqbisyKnIqTWF0aC5zaW4odC8yKS9zKXx8MCxvPS41KihlK01hdGguc2luKGUpL3MpfHwwO3JldHVybiB7eDouNSooYS9NYXRoLlBJKy41KSx5OjEtLjUqKG8vTWF0aC5QSSsxKSx6OjB9fXVucHJvamVjdCh0LGUpe2xldCByPXQ9KDIqdC0uNSkqTWF0aC5QSSxuPWU9KDIqKDEtZSktMSkqTWF0aC5QSSxpPTI1O2NvbnN0IHM9MWUtNjtsZXQgYT0wLG89MDtkb3tjb25zdCBpPU1hdGguY29zKG4pLHM9TWF0aC5zaW4obiksbD0yKnMqaSx1PXMqcyxjPWkqaSxoPU1hdGguY29zKHIvMikscD1NYXRoLnNpbihyLzIpLGY9MipoKnAseT1wKnAsbT0xLWMqaCpoLGc9bT8xL206MCx4PW0/TWF0aC5hY29zKGkqaCkqTWF0aC5zcXJ0KDEvbSk6MCx2PS41KigyKngqaSpwKzIqci9NYXRoLlBJKS10LGI9LjUqKHgqcytuKS1lLF89LjUqZyooYyp5K3gqaSpoKnUpKzEvTWF0aC5QSSx3PWcqKGYqbC80LXgqcypwKSxBPS4xMjUqZyoobCpwLXgqcypjKmYpLFM9LjUqZyoodSpoK3gqeSppKSsuNSxrPXcqQS1TKl87YT0oYip3LXYqUykvayxvPSh2KkEtYipfKS9rLHI9ZChyLWEsLU1hdGguUEksTWF0aC5QSSksbj1kKG4tbywtamYsamYpO313aGlsZSgoTWF0aC5hYnMoYSk+c3x8TWF0aC5hYnMobyk+cykmJi0taT4wKTtyZXR1cm4gbmV3IGtvKHUociksdShuKSl9fWNsYXNzIE9mIGV4dGVuZHMga2Z7Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5jZW50ZXI9dC5jZW50ZXJ8fFswLDBdLHRoaXMucGFyYWxsZWxzPXQucGFyYWxsZWxzfHxbMCwwXSx0aGlzLmNvc1BoaT1NYXRoLm1heCguMDEsTWF0aC5jb3MobCh0aGlzLnBhcmFsbGVsc1swXSkpKSx0aGlzLnNjYWxlPTEvKDIqTWF0aC5tYXgoTWF0aC5QSSp0aGlzLmNvc1BoaSwxL3RoaXMuY29zUGhpKSksdGhpcy53cmFwPSEwLHRoaXMuc3VwcG9ydHNXb3JsZENvcGllcz0hMDt9cHJvamVjdCh0LGUpe2NvbnN0e3NjYWxlOnIsY29zUGhpOm59PXRoaXM7cmV0dXJuIHt4OmwodCkqbipyKy41LHk6LU1hdGguc2luKGwoZSkpL24qcisuNSx6OjB9fXVucHJvamVjdCh0LGUpe2NvbnN0e3NjYWxlOnIsY29zUGhpOm59PXRoaXMsaT0tKGUtLjUpL3Iscz1kKHUoKHQtLjUpL3IpL24sLTE4MCwxODApLGE9TWF0aC5hc2luKGQoaSpuLC0xLDEpKSxvPWQodShhKSwtODUuMDUxMTI5LERvKTtyZXR1cm4gbmV3IGtvKHMsbyl9fWNsYXNzIHFmIGV4dGVuZHMgTGZ7Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5yZXF1aXJlc0RyYXBpbmc9ITAsdGhpcy5zdXBwb3J0c1dvcmxkQ29waWVzPSExLHRoaXMuc3VwcG9ydHNGb2c9ITAsdGhpcy56QXhpc1VuaXQ9XCJwaXhlbHNcIix0aGlzLnVuc3VwcG9ydGVkTGF5ZXJzPVtcImRlYnVnXCIsXCJjdXN0b21cIl0sdGhpcy5yYW5nZT1bMyw1XTt9cHJvamVjdFRpbGVQb2ludCh0LGUscil7Y29uc3Qgbj1oZih0LGUscik7cmV0dXJuIGpsKG4sbixkZihyZihyKSkpLHt4Om5bMF0seTpuWzFdLHo6blsyXX19bG9jYXRpb25Qb2ludCh0LGUpe2NvbnN0IHI9Y2YoZS5sYXQsZS5sbmcpLG49TGwoW10scikscz10LmVsZXZhdGlvbj90LmVsZXZhdGlvbi5nZXRBdFBvaW50T3JaZXJvKHQubG9jYXRpb25Db29yZGluYXRlKGUpLHQuX2NlbnRlckFsdGl0dWRlKTp0Ll9jZW50ZXJBbHRpdHVkZTtGbChyLHIsbixCbygxLDApKndvKnMpO2NvbnN0IGE9bWwobmV3IEZsb2F0NjRBcnJheSgxNikpO3JldHVybiB4bChhLHQucGl4ZWxNYXRyaXgsdC5nbG9iZU1hdHJpeCksamwocixyLGEpLG5ldyBpKHJbMF0sclsxXSl9cGl4ZWxzUGVyTWV0ZXIodCxlKXtyZXR1cm4gQm8oMSwwKSplfXBpeGVsU3BhY2VDb252ZXJzaW9uKHQsZSxyKXtjb25zdCBuPXhyKEJvKDEsNDUpKmUsQm8oMSx0KSplLHIpO3JldHVybiB0aGlzLnBpeGVsc1Blck1ldGVyKHQsZSkvbn1jcmVhdGVUaWxlTWF0cml4KHQsZSxyKXtjb25zdCBuPXlmKHJmKHIuY2Fub25pY2FsKSk7cmV0dXJuIHhsKG5ldyBGbG9hdDY0QXJyYXkoMTYpLHQuZ2xvYmVNYXRyaXgsbil9Y3JlYXRlSW52ZXJzaW9uTWF0cml4KHQsZSl7Y29uc3R7Y2VudGVyOnJ9PXQsbj1kZihyZihlKSk7cmV0dXJuIHdsKG4sbixsKHIubG5nKSksX2wobixuLGwoci5sYXQpKSxibChuLG4sW3QuX3BpeGVsc1Blck1lcmNhdG9yUGl4ZWwsdC5fcGl4ZWxzUGVyTWVyY2F0b3JQaXhlbCwxXSksRmxvYXQzMkFycmF5LmZyb20obil9cG9pbnRDb29yZGluYXRlKHQsZSxyLG4pe3JldHVybiBRcCh0LGUsciwhMCl8fG5ldyBGbygwLDApfXBvaW50Q29vcmRpbmF0ZTNEKHQsZSxyKXtjb25zdCBuPXRoaXMucG9pbnRDb29yZGluYXRlKHQsZSxyLDApO3JldHVybiBbbi54LG4ueSxuLnpdfWlzUG9pbnRBYm92ZUhvcml6b24odCxlKXtyZXR1cm4gIVFwKHQsZS54LGUueSwhMSl9ZmFydGhlc3RQaXhlbERpc3RhbmNlKHQpe2NvbnN0IGU9ZnVuY3Rpb24odCxlKXtjb25zdCByPXQuY2FtZXJhVG9DZW50ZXJEaXN0YW5jZSxuPXQuX2NlbnRlckFsdGl0dWRlKmUsaT10Ll9jYW1lcmEscz10Ll9jYW1lcmEuZm9yd2FyZCgpLGE9QmwoW10sVmwoW10scywtciksWzAsMCxuXSksbz10LndvcmxkU2l6ZS8oMipNYXRoLlBJKSxsPVswLDAsLW9dLHU9dC53aWR0aC90LmhlaWdodCxjPU1hdGgudGFuKHQuZm92QWJvdmVDZW50ZXIpLGg9VmwoW10saS51cCgpLGMpLHA9VmwoW10saS5yaWdodCgpLGMqdSksZj1MbChbXSxCbChbXSxCbChbXSxzLGgpLHApKSxkPVtdO2xldCB5O2lmKG5ldyBKbChhLGYpLmNsb3Nlc3RQb2ludE9uU3BoZXJlKGwsbyxkKSl7Y29uc3QgZT1CbChbXSxkLGwpLHI9cWwoW10sZSxhKTt5PU1hdGguY29zKHQuZm92QWJvdmVDZW50ZXIpKnpsKHIpO31lbHNlIHtjb25zdCB0PXFsKFtdLGEsbCksZT1xbChbXSxsLGEpO0xsKGUsZSk7Y29uc3Qgcj16bCh0KS1vO3k9TWF0aC5zcXJ0KHIqKHIrMipvKSk7Y29uc3Qgbj1NYXRoLmFjb3MoeS8obytyKSktTWF0aC5hY29zKFJsKHMsZSkpO3kqPU1hdGguY29zKG4pO31yZXR1cm4gMS4wMSp5fSh0LHRoaXMucGl4ZWxzUGVyTWV0ZXIodC5jZW50ZXIubGF0LHQud29ybGRTaXplKSkscj1nZih0Lnpvb20pO2lmKHI+MCl7Y29uc3Qgbj13Zih0LEJvKDEsdC5jZW50ZXIubGF0KSp0LndvcmxkU2l6ZSksaT10LndvcmxkU2l6ZS8oMipNYXRoLlBJKSxzPU1hdGgubWF4KHQud2lkdGgsdC5oZWlnaHQpL3Qud29ybGRTaXplKk1hdGguUEk7cmV0dXJuIHhyKGUsbitpKigxLU1hdGguY29zKHMpKSxNYXRoLnBvdyhyLDEwKSl9cmV0dXJuIGV9dXBWZWN0b3IodCxlLHIpe3JldHVybiBoZihlLHIsdCwxKX11cFZlY3RvclNjYWxlKHQpe3JldHVybiB7bWV0ZXJzVG9UaWxlOktwKnBmKHJmKHQpKX19fWZ1bmN0aW9uIE5mKHQpe2NvbnN0IGU9dC5wYXJhbGxlbHMscj0hIWUmJk1hdGguYWJzKGVbMF0rZVsxXSk8LjAxO3N3aXRjaCh0Lm5hbWUpe2Nhc2VcIm1lcmNhdG9yXCI6cmV0dXJuIG5ldyBMZih0KTtjYXNlXCJlcXVpcmVjdGFuZ3VsYXJcIjpyZXR1cm4gbmV3IFBmKHQpO2Nhc2VcIm5hdHVyYWxFYXJ0aFwiOnJldHVybiBuZXcgVWYodCk7Y2FzZVwiZXF1YWxFYXJ0aFwiOnJldHVybiBuZXcgQ2YodCk7Y2FzZVwid2lua2VsVHJpcGVsXCI6cmV0dXJuIG5ldyAkZih0KTtjYXNlXCJhbGJlcnNcIjpyZXR1cm4gcj9uZXcgT2YodCk6bmV3IElmKHQpO2Nhc2VcImxhbWJlcnRDb25mb3JtYWxDb25pY1wiOnJldHVybiByP25ldyBPZih0KTpuZXcgRmYodCk7Y2FzZVwiZ2xvYmVcIjpyZXR1cm4gbmV3IHFmKHQpfXRocm93IG5ldyBFcnJvcihgSW52YWxpZCBwcm9qZWN0aW9uIG5hbWU6ICR7dC5uYW1lfWApfWNvbnN0IEdmPXljLlZlY3RvclRpbGVGZWF0dXJlLnR5cGVzLFpmPVt7bmFtZTpcImFfZmFkZV9vcGFjaXR5XCIsY29tcG9uZW50czoxLHR5cGU6XCJVaW50OFwiLG9mZnNldDowfV07ZnVuY3Rpb24gWGYodCxlLHIsbixpLHMsYSxvLGwsdSxjLGgscCl7Y29uc3QgZj1vP01hdGgubWluKExwLE1hdGgucm91bmQob1swXSkpOjAsZD1vP01hdGgubWluKExwLE1hdGgucm91bmQob1sxXSkpOjA7dC5lbXBsYWNlQmFjayhlLHIsTWF0aC5yb3VuZCgzMipuKSxNYXRoLnJvdW5kKDMyKmkpLHMsYSwoZjw8MSkrKGw/MTowKSxkLDE2KnUsMTYqYywyNTYqaCwyNTYqcCk7fWZ1bmN0aW9uIEtmKHQsZSxyLG4saSxzLGEpe3QuZW1wbGFjZUJhY2soZSxyLG4saSxzLGEpO31mdW5jdGlvbiBIZih0LGUscixuLGkpe3QuZW1wbGFjZUJhY2soZSxyLG4saSksdC5lbXBsYWNlQmFjayhlLHIsbixpKSx0LmVtcGxhY2VCYWNrKGUscixuLGkpLHQuZW1wbGFjZUJhY2soZSxyLG4saSk7fWZ1bmN0aW9uIFlmKHQpe2Zvcihjb25zdCBlIG9mIHQuc2VjdGlvbnMpaWYodnMoZS50ZXh0KSlyZXR1cm4gITA7cmV0dXJuICExfWNsYXNzIFdme2NvbnN0cnVjdG9yKHQpe3RoaXMubGF5b3V0VmVydGV4QXJyYXk9bmV3IG9hLHRoaXMuaW5kZXhBcnJheT1uZXcgeWEsdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnM9dCx0aGlzLnNlZ21lbnRzPW5ldyBfbyx0aGlzLmR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheT1uZXcgbmEsdGhpcy5vcGFjaXR5VmVydGV4QXJyYXk9bmV3IHVhLHRoaXMucGxhY2VkU3ltYm9sQXJyYXk9bmV3IFRhLHRoaXMuZ2xvYmVFeHRWZXJ0ZXhBcnJheT1uZXcgbGE7fWlzRW1wdHkoKXtyZXR1cm4gMD09PXRoaXMubGF5b3V0VmVydGV4QXJyYXkubGVuZ3RoJiYwPT09dGhpcy5pbmRleEFycmF5Lmxlbmd0aCYmMD09PXRoaXMuZHluYW1pY0xheW91dFZlcnRleEFycmF5Lmxlbmd0aCYmMD09PXRoaXMub3BhY2l0eVZlcnRleEFycmF5Lmxlbmd0aH11cGxvYWQodCxlLHIsbil7dGhpcy5pc0VtcHR5KCl8fChyJiYodGhpcy5sYXlvdXRWZXJ0ZXhCdWZmZXI9dC5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy5sYXlvdXRWZXJ0ZXhBcnJheSxRYy5tZW1iZXJzKSx0aGlzLmluZGV4QnVmZmVyPXQuY3JlYXRlSW5kZXhCdWZmZXIodGhpcy5pbmRleEFycmF5LGUpLHRoaXMuZHluYW1pY0xheW91dFZlcnRleEJ1ZmZlcj10LmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLmR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheSxlaC5tZW1iZXJzLCEwKSx0aGlzLm9wYWNpdHlWZXJ0ZXhCdWZmZXI9dC5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy5vcGFjaXR5VmVydGV4QXJyYXksWmYsITApLHRoaXMuZ2xvYmVFeHRWZXJ0ZXhBcnJheS5sZW5ndGg+MCYmKHRoaXMuZ2xvYmVFeHRWZXJ0ZXhCdWZmZXI9dC5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy5nbG9iZUV4dFZlcnRleEFycmF5LHRoLm1lbWJlcnMsITApKSx0aGlzLm9wYWNpdHlWZXJ0ZXhCdWZmZXIuaXRlbVNpemU9MSksKHJ8fG4pJiZ0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy51cGxvYWQodCkpO31kZXN0cm95KCl7dGhpcy5sYXlvdXRWZXJ0ZXhCdWZmZXImJih0aGlzLmxheW91dFZlcnRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5pbmRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMuZGVzdHJveSgpLHRoaXMuc2VnbWVudHMuZGVzdHJveSgpLHRoaXMuZHluYW1pY0xheW91dFZlcnRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5vcGFjaXR5VmVydGV4QnVmZmVyLmRlc3Ryb3koKSx0aGlzLmdsb2JlRXh0VmVydGV4QnVmZmVyJiZ0aGlzLmdsb2JlRXh0VmVydGV4QnVmZmVyLmRlc3Ryb3koKSk7fX1QaShXZixcIlN5bWJvbEJ1ZmZlcnNcIik7Y2xhc3MgSmZ7Y29uc3RydWN0b3IodCxlLHIpe3RoaXMubGF5b3V0VmVydGV4QXJyYXk9bmV3IHQsdGhpcy5sYXlvdXRBdHRyaWJ1dGVzPWUsdGhpcy5pbmRleEFycmF5PW5ldyByLHRoaXMuc2VnbWVudHM9bmV3IF9vLHRoaXMuY29sbGlzaW9uVmVydGV4QXJyYXk9bmV3IGZhLHRoaXMuY29sbGlzaW9uVmVydGV4QXJyYXlFeHQ9bmV3IGRhO311cGxvYWQodCl7dGhpcy5sYXlvdXRWZXJ0ZXhCdWZmZXI9dC5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy5sYXlvdXRWZXJ0ZXhBcnJheSx0aGlzLmxheW91dEF0dHJpYnV0ZXMpLHRoaXMuaW5kZXhCdWZmZXI9dC5jcmVhdGVJbmRleEJ1ZmZlcih0aGlzLmluZGV4QXJyYXkpLHRoaXMuY29sbGlzaW9uVmVydGV4QnVmZmVyPXQuY3JlYXRlVmVydGV4QnVmZmVyKHRoaXMuY29sbGlzaW9uVmVydGV4QXJyYXkscmgubWVtYmVycywhMCksdGhpcy5jb2xsaXNpb25WZXJ0ZXhCdWZmZXJFeHQ9dC5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy5jb2xsaXNpb25WZXJ0ZXhBcnJheUV4dCxuaC5tZW1iZXJzLCEwKTt9ZGVzdHJveSgpe3RoaXMubGF5b3V0VmVydGV4QnVmZmVyJiYodGhpcy5sYXlvdXRWZXJ0ZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMuaW5kZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMuc2VnbWVudHMuZGVzdHJveSgpLHRoaXMuY29sbGlzaW9uVmVydGV4QnVmZmVyLmRlc3Ryb3koKSx0aGlzLmNvbGxpc2lvblZlcnRleEJ1ZmZlckV4dC5kZXN0cm95KCkpO319UGkoSmYsXCJDb2xsaXNpb25CdWZmZXJzXCIpO2NsYXNzIFFme2NvbnN0cnVjdG9yKHQpe3RoaXMuY29sbGlzaW9uQm94QXJyYXk9dC5jb2xsaXNpb25Cb3hBcnJheSx0aGlzLnpvb209dC56b29tLHRoaXMub3ZlcnNjYWxpbmc9dC5vdmVyc2NhbGluZyx0aGlzLmxheWVycz10LmxheWVycyx0aGlzLmxheWVySWRzPXRoaXMubGF5ZXJzLm1hcCgodD0+dC5pZCkpLHRoaXMuaW5kZXg9dC5pbmRleCx0aGlzLnBpeGVsUmF0aW89dC5waXhlbFJhdGlvLHRoaXMuc291cmNlTGF5ZXJJbmRleD10LnNvdXJjZUxheWVySW5kZXgsdGhpcy5oYXNQYXR0ZXJuPSExLHRoaXMuaGFzUlRMVGV4dD0hMSx0aGlzLmZ1bGx5Q2xpcHBlZD0hMSx0aGlzLnNvcnRLZXlSYW5nZXM9W10sdGhpcy5jb2xsaXNpb25DaXJjbGVBcnJheT1bXSx0aGlzLnBsYWNlbWVudEludlByb2pNYXRyaXg9bWwoW10pLHRoaXMucGxhY2VtZW50Vmlld3BvcnRNYXRyaXg9bWwoW10pO2NvbnN0IGU9dGhpcy5sYXllcnNbMF0uX3VuZXZhbHVhdGVkTGF5b3V0Ll92YWx1ZXM7dGhpcy50ZXh0U2l6ZURhdGE9bGgodGhpcy56b29tLGVbXCJ0ZXh0LXNpemVcIl0pLHRoaXMuaWNvblNpemVEYXRhPWxoKHRoaXMuem9vbSxlW1wiaWNvbi1zaXplXCJdKTtjb25zdCByPXRoaXMubGF5ZXJzWzBdLmxheW91dCxuPXIuZ2V0KFwic3ltYm9sLXNvcnQta2V5XCIpLGk9ci5nZXQoXCJzeW1ib2wtei1vcmRlclwiKTt0aGlzLmNhbk92ZXJsYXA9ci5nZXQoXCJ0ZXh0LWFsbG93LW92ZXJsYXBcIil8fHIuZ2V0KFwiaWNvbi1hbGxvdy1vdmVybGFwXCIpfHxyLmdldChcInRleHQtaWdub3JlLXBsYWNlbWVudFwiKXx8ci5nZXQoXCJpY29uLWlnbm9yZS1wbGFjZW1lbnRcIiksdGhpcy5zb3J0RmVhdHVyZXNCeUtleT1cInZpZXdwb3J0LXlcIiE9PWkmJnZvaWQgMCE9PW4uY29uc3RhbnRPcigxKSx0aGlzLnNvcnRGZWF0dXJlc0J5WT0oXCJ2aWV3cG9ydC15XCI9PT1pfHxcImF1dG9cIj09PWkmJiF0aGlzLnNvcnRGZWF0dXJlc0J5S2V5KSYmdGhpcy5jYW5PdmVybGFwLHRoaXMud3JpdGluZ01vZGVzPXIuZ2V0KFwidGV4dC13cml0aW5nLW1vZGVcIikubWFwKCh0PT5OaFt0XSkpLHRoaXMuc3RhdGVEZXBlbmRlbnRMYXllcklkcz10aGlzLmxheWVycy5maWx0ZXIoKHQ9PnQuaXNTdGF0ZURlcGVuZGVudCgpKSkubWFwKCh0PT50LmlkKSksdGhpcy5zb3VyY2VJRD10LnNvdXJjZUlELHRoaXMucHJvamVjdGlvbj10LnByb2plY3Rpb247fWNyZWF0ZUFycmF5cygpe3RoaXMudGV4dD1uZXcgV2YobmV3IGNvKHRoaXMubGF5ZXJzLHRoaXMuem9vbSwodD0+L150ZXh0Ly50ZXN0KHQpKSkpLHRoaXMuaWNvbj1uZXcgV2YobmV3IGNvKHRoaXMubGF5ZXJzLHRoaXMuem9vbSwodD0+L15pY29uLy50ZXN0KHQpKSkpLHRoaXMuZ2x5cGhPZmZzZXRBcnJheT1uZXcgQ2EsdGhpcy5saW5lVmVydGV4QXJyYXk9bmV3IFBhLHRoaXMuc3ltYm9sSW5zdGFuY2VzPW5ldyBFYTt9Y2FsY3VsYXRlR2x5cGhEZXBlbmRlbmNpZXModCxlLHIsbixpKXtmb3IobGV0IHI9MDtyPHQubGVuZ3RoO3IrKylpZihlW3QuY2hhckNvZGVBdChyKV09ITAsbiYmaSl7Y29uc3Qgbj1maFt0LmNoYXJBdChyKV07biYmKGVbbi5jaGFyQ29kZUF0KDApXT0hMCk7fX1wb3B1bGF0ZSh0LGUscixuKXtjb25zdCBpPXRoaXMubGF5ZXJzWzBdLHM9aS5sYXlvdXQsYT1cImdsb2JlXCI9PT10aGlzLnByb2plY3Rpb24ubmFtZSxvPXMuZ2V0KFwidGV4dC1mb250XCIpLGw9cy5nZXQoXCJ0ZXh0LWZpZWxkXCIpLHU9cy5nZXQoXCJpY29uLWltYWdlXCIpLGM9KFwiY29uc3RhbnRcIiE9PWwudmFsdWUua2luZHx8bC52YWx1ZS52YWx1ZSBpbnN0YW5jZW9mIF9lJiYhbC52YWx1ZS52YWx1ZS5pc0VtcHR5KCl8fGwudmFsdWUudmFsdWUudG9TdHJpbmcoKS5sZW5ndGg+MCkmJihcImNvbnN0YW50XCIhPT1vLnZhbHVlLmtpbmR8fG8udmFsdWUudmFsdWUubGVuZ3RoPjApLGg9XCJjb25zdGFudFwiIT09dS52YWx1ZS5raW5kfHwhIXUudmFsdWUudmFsdWV8fE9iamVjdC5rZXlzKHUucGFyYW1ldGVycykubGVuZ3RoPjAscD1zLmdldChcInN5bWJvbC1zb3J0LWtleVwiKTtpZih0aGlzLmZlYXR1cmVzPVtdLCFjJiYhaClyZXR1cm47Y29uc3QgZj1lLmljb25EZXBlbmRlbmNpZXMsZD1lLmdseXBoRGVwZW5kZW5jaWVzLHk9ZS5hdmFpbGFibGVJbWFnZXMsbT1uZXcgQ3ModGhpcy56b29tKTtmb3IoY29uc3R7ZmVhdHVyZTplLGlkOmwsaW5kZXg6dSxzb3VyY2VMYXllckluZGV4Omd9b2YgdCl7Y29uc3QgdD1pLl9mZWF0dXJlRmlsdGVyLm5lZWRHZW9tZXRyeSx4PUdvKGUsdCk7aWYoIWkuX2ZlYXR1cmVGaWx0ZXIuZmlsdGVyKG0seCxyKSljb250aW51ZTtpZih0fHwoeC5nZW9tZXRyeT1ObyhlLHIsbikpLGEmJjEhPT1lLnR5cGUmJnIuejw9NSl7Y29uc3QgdD14Lmdlb21ldHJ5LGU9Ljk4MDc4NTI4MDU2O2ZvcihsZXQgbj0wO248dC5sZW5ndGg7bisrKXRbbl09am8odFtuXSwodD0+dCksKCh0LG4pPT5SbChoZih0LngsdC55LHIsMSksaGYobi54LG4ueSxyLDEpKTxlKSk7fWxldCB2LGI7aWYoYyl7Y29uc3QgdD1pLmdldFZhbHVlQW5kUmVzb2x2ZVRva2VucyhcInRleHQtZmllbGRcIix4LHIseSksZT1fZS5mYWN0b3J5KHQpO1lmKGUpJiYodGhpcy5oYXNSVExUZXh0PSEwKSwoIXRoaXMuaGFzUlRMVGV4dHx8XCJ1bmF2YWlsYWJsZVwiPT09VHMoKXx8dGhpcy5oYXNSVExUZXh0JiZFcy5pc1BhcnNlZCgpKSYmKHY9cGgoZSxpLHgpKTt9aWYoaCl7Y29uc3QgdD1pLmdldFZhbHVlQW5kUmVzb2x2ZVRva2VucyhcImljb24taW1hZ2VcIix4LHIseSk7Yj10IGluc3RhbmNlb2Ygd2U/dDp3ZS5mcm9tU3RyaW5nKHQpO31pZighdiYmIWIpY29udGludWU7Y29uc3QgXz10aGlzLnNvcnRGZWF0dXJlc0J5S2V5P3AuZXZhbHVhdGUoeCx7fSxyKTp2b2lkIDA7aWYodGhpcy5mZWF0dXJlcy5wdXNoKHtpZDpsLHRleHQ6dixpY29uOmIsaW5kZXg6dSxzb3VyY2VMYXllckluZGV4OmcsZ2VvbWV0cnk6eC5nZW9tZXRyeSxwcm9wZXJ0aWVzOmUucHJvcGVydGllcyx0eXBlOkdmW2UudHlwZV0sc29ydEtleTpffSksYiYmKGZbYi5uYW1lXT0hMCksdil7Y29uc3QgdD1vLmV2YWx1YXRlKHgse30scikuam9pbihcIixcIiksZT1cIm1hcFwiPT09cy5nZXQoXCJ0ZXh0LXJvdGF0aW9uLWFsaWdubWVudFwiKSYmXCJwb2ludFwiIT09cy5nZXQoXCJzeW1ib2wtcGxhY2VtZW50XCIpO3RoaXMuYWxsb3dWZXJ0aWNhbFBsYWNlbWVudD10aGlzLndyaXRpbmdNb2RlcyYmdGhpcy53cml0aW5nTW9kZXMuaW5kZXhPZihOaC52ZXJ0aWNhbCk+PTA7Zm9yKGNvbnN0IHIgb2Ygdi5zZWN0aW9ucylpZihyLmltYWdlKWZbci5pbWFnZS5uYW1lXT0hMDtlbHNlIHtjb25zdCBuPXBzKHYudG9TdHJpbmcoKSksaT1yLmZvbnRTdGFja3x8dCxzPWRbaV09ZFtpXXx8e307dGhpcy5jYWxjdWxhdGVHbHlwaERlcGVuZGVuY2llcyhyLnRleHQscyxlLHRoaXMuYWxsb3dWZXJ0aWNhbFBsYWNlbWVudCxuKTt9fX1cImxpbmVcIj09PXMuZ2V0KFwic3ltYm9sLXBsYWNlbWVudFwiKSYmKHRoaXMuZmVhdHVyZXM9ZnVuY3Rpb24odCl7Y29uc3QgZT17fSxyPXt9LG49W107bGV0IGk9MDtmdW5jdGlvbiBzKGUpe24ucHVzaCh0W2VdKSxpKys7fWZ1bmN0aW9uIGEodCxlLGkpe2NvbnN0IHM9clt0XTtyZXR1cm4gZGVsZXRlIHJbdF0scltlXT1zLG5bc10uZ2VvbWV0cnlbMF0ucG9wKCksbltzXS5nZW9tZXRyeVswXT1uW3NdLmdlb21ldHJ5WzBdLmNvbmNhdChpWzBdKSxzfWZ1bmN0aW9uIG8odCxyLGkpe2NvbnN0IHM9ZVtyXTtyZXR1cm4gZGVsZXRlIGVbcl0sZVt0XT1zLG5bc10uZ2VvbWV0cnlbMF0uc2hpZnQoKSxuW3NdLmdlb21ldHJ5WzBdPWlbMF0uY29uY2F0KG5bc10uZ2VvbWV0cnlbMF0pLHN9ZnVuY3Rpb24gbCh0LGUscil7Y29uc3Qgbj1yP2VbMF1bZVswXS5sZW5ndGgtMV06ZVswXVswXTtyZXR1cm4gYCR7dH06JHtuLnh9OiR7bi55fWB9Zm9yKGxldCB1PTA7dTx0Lmxlbmd0aDt1Kyspe2NvbnN0IGM9dFt1XSxoPWMuZ2VvbWV0cnkscD1jLnRleHQ/Yy50ZXh0LnRvU3RyaW5nKCk6bnVsbDtpZighcCl7cyh1KTtjb250aW51ZX1jb25zdCBmPWwocCxoKSxkPWwocCxoLCEwKTtpZihmIGluIHImJmQgaW4gZSYmcltmXSE9PWVbZF0pe2NvbnN0IHQ9byhmLGQsaCksaT1hKGYsZCxuW3RdLmdlb21ldHJ5KTtkZWxldGUgZVtmXSxkZWxldGUgcltkXSxyW2wocCxuW2ldLmdlb21ldHJ5LCEwKV09aSxuW3RdLmdlb21ldHJ5PW51bGw7fWVsc2UgZiBpbiByP2EoZixkLGgpOmQgaW4gZT9vKGYsZCxoKToocyh1KSxlW2ZdPWktMSxyW2RdPWktMSk7fXJldHVybiBuLmZpbHRlcigodD0+dC5nZW9tZXRyeSkpfSh0aGlzLmZlYXR1cmVzKSksdGhpcy5zb3J0RmVhdHVyZXNCeUtleSYmdGhpcy5mZWF0dXJlcy5zb3J0KCgodCxlKT0+dC5zb3J0S2V5LWUuc29ydEtleSkpO311cGRhdGUodCxlLHIsbil7dGhpcy5zdGF0ZURlcGVuZGVudExheWVycy5sZW5ndGgmJih0aGlzLnRleHQucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnVwZGF0ZVBhaW50QXJyYXlzKHQsZSx0aGlzLmxheWVycyxyLG4pLHRoaXMuaWNvbi5wcm9ncmFtQ29uZmlndXJhdGlvbnMudXBkYXRlUGFpbnRBcnJheXModCxlLHRoaXMubGF5ZXJzLHIsbikpO31pc0VtcHR5KCl7cmV0dXJuIDA9PT10aGlzLnN5bWJvbEluc3RhbmNlcy5sZW5ndGgmJiF0aGlzLmhhc1JUTFRleHR9dXBsb2FkUGVuZGluZygpe3JldHVybiAhdGhpcy51cGxvYWRlZHx8dGhpcy50ZXh0LnByb2dyYW1Db25maWd1cmF0aW9ucy5uZWVkc1VwbG9hZHx8dGhpcy5pY29uLnByb2dyYW1Db25maWd1cmF0aW9ucy5uZWVkc1VwbG9hZH11cGxvYWQodCl7IXRoaXMudXBsb2FkZWQmJnRoaXMuaGFzRGVidWdEYXRhKCkmJih0aGlzLnRleHRDb2xsaXNpb25Cb3gudXBsb2FkKHQpLHRoaXMuaWNvbkNvbGxpc2lvbkJveC51cGxvYWQodCkpLHRoaXMudGV4dC51cGxvYWQodCx0aGlzLnNvcnRGZWF0dXJlc0J5WSwhdGhpcy51cGxvYWRlZCx0aGlzLnRleHQucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLm5lZWRzVXBsb2FkKSx0aGlzLmljb24udXBsb2FkKHQsdGhpcy5zb3J0RmVhdHVyZXNCeVksIXRoaXMudXBsb2FkZWQsdGhpcy5pY29uLnByb2dyYW1Db25maWd1cmF0aW9ucy5uZWVkc1VwbG9hZCksdGhpcy51cGxvYWRlZD0hMDt9ZGVzdHJveURlYnVnRGF0YSgpe3RoaXMudGV4dENvbGxpc2lvbkJveC5kZXN0cm95KCksdGhpcy5pY29uQ29sbGlzaW9uQm94LmRlc3Ryb3koKTt9Z2V0UHJvamVjdGlvbigpe3JldHVybiB0aGlzLnByb2plY3Rpb25JbnN0YW5jZXx8KHRoaXMucHJvamVjdGlvbkluc3RhbmNlPU5mKHRoaXMucHJvamVjdGlvbikpLHRoaXMucHJvamVjdGlvbkluc3RhbmNlfWRlc3Ryb3koKXt0aGlzLnRleHQuZGVzdHJveSgpLHRoaXMuaWNvbi5kZXN0cm95KCksdGhpcy5oYXNEZWJ1Z0RhdGEoKSYmdGhpcy5kZXN0cm95RGVidWdEYXRhKCk7fWFkZFRvTGluZVZlcnRleEFycmF5KHQsZSl7Y29uc3Qgcj10aGlzLmxpbmVWZXJ0ZXhBcnJheS5sZW5ndGgsbj10LnNlZ21lbnQ7aWYodm9pZCAwIT09bil7bGV0IHI9dC5kaXN0KGVbbisxXSksaT10LmRpc3QoZVtuXSk7Y29uc3Qgcz17fTtmb3IobGV0IHQ9bisxO3Q8ZS5sZW5ndGg7dCsrKXNbdF09e3g6ZVt0XS54LHk6ZVt0XS55LHRpbGVVbml0RGlzdGFuY2VGcm9tQW5jaG9yOnJ9LHQ8ZS5sZW5ndGgtMSYmKHIrPWVbdCsxXS5kaXN0KGVbdF0pKTtmb3IobGV0IHQ9bnx8MDt0Pj0wO3QtLSlzW3RdPXt4OmVbdF0ueCx5OmVbdF0ueSx0aWxlVW5pdERpc3RhbmNlRnJvbUFuY2hvcjppfSx0PjAmJihpKz1lW3QtMV0uZGlzdChlW3RdKSk7Zm9yKGxldCB0PTA7dDxlLmxlbmd0aDt0Kyspe2NvbnN0IGU9c1t0XTt0aGlzLmxpbmVWZXJ0ZXhBcnJheS5lbXBsYWNlQmFjayhlLngsZS55LGUudGlsZVVuaXREaXN0YW5jZUZyb21BbmNob3IpO319cmV0dXJuIHtsaW5lU3RhcnRJbmRleDpyLGxpbmVMZW5ndGg6dGhpcy5saW5lVmVydGV4QXJyYXkubGVuZ3RoLXJ9fWFkZFN5bWJvbHModCxlLHIsbixpLHMsYSxvLGwsdSxjLGgscCxmKXtjb25zdCBkPXQuaW5kZXhBcnJheSx5PXQubGF5b3V0VmVydGV4QXJyYXksbT10Lmdsb2JlRXh0VmVydGV4QXJyYXksZz10LnNlZ21lbnRzLnByZXBhcmVTZWdtZW50KDQqZS5sZW5ndGgseSxkLHRoaXMuY2FuT3ZlcmxhcD9zLnNvcnRLZXk6dm9pZCAwKSx4PXRoaXMuZ2x5cGhPZmZzZXRBcnJheS5sZW5ndGgsdj1nLnZlcnRleExlbmd0aCxiPXRoaXMuYWxsb3dWZXJ0aWNhbFBsYWNlbWVudCYmYT09PU5oLnZlcnRpY2FsP01hdGguUEkvMjowLF89cy50ZXh0JiZzLnRleHQuc2VjdGlvbnM7Zm9yKGxldCBuPTA7bjxlLmxlbmd0aDtuKyspe2NvbnN0e3RsOmksdHI6YSxibDp1LGJyOmMsdGV4OmgscGl4ZWxPZmZzZXRUTDp4LHBpeGVsT2Zmc2V0QlI6dixtaW5Gb250U2NhbGVYOncsbWluRm9udFNjYWxlWTpBLGdseXBoT2Zmc2V0OlMsaXNTREY6ayxzZWN0aW9uSW5kZXg6SX09ZVtuXSxNPWcudmVydGV4TGVuZ3RoLHo9U1sxXTtpZihYZih5LGwueCxsLnksaS54LHoraS55LGgueCxoLnkscixrLHgueCx4LnksdyxBKSxYZih5LGwueCxsLnksYS54LHorYS55LGgueCtoLncsaC55LHIsayx2LngseC55LHcsQSksWGYoeSxsLngsbC55LHUueCx6K3UueSxoLngsaC55K2guaCxyLGsseC54LHYueSx3LEEpLFhmKHksbC54LGwueSxjLngseitjLnksaC54K2gudyxoLnkraC5oLHIsayx2Lngsdi55LHcsQSksbyl7Y29uc3QgZT1vLmFuY2hvcixyPW8udXA7S2YobSxlLngsZS55LGUueixyWzBdLHJbMV0sclsyXSksS2YobSxlLngsZS55LGUueixyWzBdLHJbMV0sclsyXSksS2YobSxlLngsZS55LGUueixyWzBdLHJbMV0sclsyXSksS2YobSxlLngsZS55LGUueixyWzBdLHJbMV0sclsyXSksSGYodC5keW5hbWljTGF5b3V0VmVydGV4QXJyYXksZS54LGUueSxlLnosYik7fWVsc2UgSGYodC5keW5hbWljTGF5b3V0VmVydGV4QXJyYXksbC54LGwueSxsLnosYik7ZC5lbXBsYWNlQmFjayhNLE0rMSxNKzIpLGQuZW1wbGFjZUJhY2soTSsxLE0rMixNKzMpLGcudmVydGV4TGVuZ3RoKz00LGcucHJpbWl0aXZlTGVuZ3RoKz0yLHRoaXMuZ2x5cGhPZmZzZXRBcnJheS5lbXBsYWNlQmFjayhTWzBdKSxuIT09ZS5sZW5ndGgtMSYmST09PWVbbisxXS5zZWN0aW9uSW5kZXh8fHQucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnBvcHVsYXRlUGFpbnRBcnJheXMoeS5sZW5ndGgscyxzLmluZGV4LHt9LHAsZixfJiZfW0ldKTt9Y29uc3Qgdz1vP28uYW5jaG9yOmw7dC5wbGFjZWRTeW1ib2xBcnJheS5lbXBsYWNlQmFjayh3Lngsdy55LHcueixsLngsbC55LHgsdGhpcy5nbHlwaE9mZnNldEFycmF5Lmxlbmd0aC14LHYsdSxjLGwuc2VnbWVudCxyP3JbMF06MCxyP3JbMV06MCxuWzBdLG5bMV0sYSwwLCExLDAsaCwwKTt9X2NvbW1pdExheW91dFZlcnRleCh0LGUscixuLGkscyxhKXt0LmVtcGxhY2VCYWNrKGUscixuLGkscyxNYXRoLnJvdW5kKGEueCksTWF0aC5yb3VuZChhLnkpKTt9X2FkZENvbGxpc2lvbkRlYnVnVmVydGljZXModCxlLHIsbixzLGEsbyl7Y29uc3QgbD1yLnNlZ21lbnRzLnByZXBhcmVTZWdtZW50KDQsci5sYXlvdXRWZXJ0ZXhBcnJheSxyLmluZGV4QXJyYXkpLHU9bC52ZXJ0ZXhMZW5ndGgsYz1vLnRpbGVBbmNob3JYLGg9by50aWxlQW5jaG9yWTtmb3IobGV0IHQ9MDt0PDQ7dCsrKXIuY29sbGlzaW9uVmVydGV4QXJyYXkuZW1wbGFjZUJhY2soMCwwLDAsMCk7ci5jb2xsaXNpb25WZXJ0ZXhBcnJheUV4dC5lbXBsYWNlQmFjayhlLC10LnBhZGRpbmcsLXQucGFkZGluZyksci5jb2xsaXNpb25WZXJ0ZXhBcnJheUV4dC5lbXBsYWNlQmFjayhlLHQucGFkZGluZywtdC5wYWRkaW5nKSxyLmNvbGxpc2lvblZlcnRleEFycmF5RXh0LmVtcGxhY2VCYWNrKGUsdC5wYWRkaW5nLHQucGFkZGluZyksci5jb2xsaXNpb25WZXJ0ZXhBcnJheUV4dC5lbXBsYWNlQmFjayhlLC10LnBhZGRpbmcsdC5wYWRkaW5nKSx0aGlzLl9jb21taXRMYXlvdXRWZXJ0ZXgoci5sYXlvdXRWZXJ0ZXhBcnJheSxuLHMsYSxjLGgsbmV3IGkodC54MSx0LnkxKSksdGhpcy5fY29tbWl0TGF5b3V0VmVydGV4KHIubGF5b3V0VmVydGV4QXJyYXksbixzLGEsYyxoLG5ldyBpKHQueDIsdC55MSkpLHRoaXMuX2NvbW1pdExheW91dFZlcnRleChyLmxheW91dFZlcnRleEFycmF5LG4scyxhLGMsaCxuZXcgaSh0LngyLHQueTIpKSx0aGlzLl9jb21taXRMYXlvdXRWZXJ0ZXgoci5sYXlvdXRWZXJ0ZXhBcnJheSxuLHMsYSxjLGgsbmV3IGkodC54MSx0LnkyKSksbC52ZXJ0ZXhMZW5ndGgrPTQ7Y29uc3QgcD1yLmluZGV4QXJyYXk7cC5lbXBsYWNlQmFjayh1LHUrMSkscC5lbXBsYWNlQmFjayh1KzEsdSsyKSxwLmVtcGxhY2VCYWNrKHUrMix1KzMpLHAuZW1wbGFjZUJhY2sodSszLHUpLGwucHJpbWl0aXZlTGVuZ3RoKz00O31fYWRkVGV4dERlYnVnQ29sbGlzaW9uQm94ZXModCxlLHIsbixpLHMpe2ZvcihsZXQgYT1uO2E8aTthKyspe2NvbnN0IG49ci5nZXQoYSksaT10aGlzLmdldFN5bWJvbEluc3RhbmNlVGV4dFNpemUodCxzLGUsYSk7dGhpcy5fYWRkQ29sbGlzaW9uRGVidWdWZXJ0aWNlcyhuLGksdGhpcy50ZXh0Q29sbGlzaW9uQm94LG4ucHJvamVjdGVkQW5jaG9yWCxuLnByb2plY3RlZEFuY2hvclksbi5wcm9qZWN0ZWRBbmNob3JaLHMpO319X2FkZEljb25EZWJ1Z0NvbGxpc2lvbkJveGVzKHQsZSxyLG4saSxzKXtmb3IobGV0IGE9bjthPGk7YSsrKXtjb25zdCBuPXIuZ2V0KGEpLGk9dGhpcy5nZXRTeW1ib2xJbnN0YW5jZUljb25TaXplKHQsZSxhKTt0aGlzLl9hZGRDb2xsaXNpb25EZWJ1Z1ZlcnRpY2VzKG4saSx0aGlzLmljb25Db2xsaXNpb25Cb3gsbi5wcm9qZWN0ZWRBbmNob3JYLG4ucHJvamVjdGVkQW5jaG9yWSxuLnByb2plY3RlZEFuY2hvcloscyk7fX1nZW5lcmF0ZUNvbGxpc2lvbkRlYnVnQnVmZmVycyh0LGUpe3RoaXMuaGFzRGVidWdEYXRhKCkmJnRoaXMuZGVzdHJveURlYnVnRGF0YSgpLHRoaXMudGV4dENvbGxpc2lvbkJveD1uZXcgSmYoaGEsaWgubWVtYmVycyxfYSksdGhpcy5pY29uQ29sbGlzaW9uQm94PW5ldyBKZihoYSxpaC5tZW1iZXJzLF9hKTtjb25zdCByPWNoKHRoaXMuaWNvblNpemVEYXRhLHQpLG49Y2godGhpcy50ZXh0U2l6ZURhdGEsdCk7Zm9yKGxldCBpPTA7aTx0aGlzLnN5bWJvbEluc3RhbmNlcy5sZW5ndGg7aSsrKXtjb25zdCBzPXRoaXMuc3ltYm9sSW5zdGFuY2VzLmdldChpKTt0aGlzLl9hZGRUZXh0RGVidWdDb2xsaXNpb25Cb3hlcyhuLHQsZSxzLnRleHRCb3hTdGFydEluZGV4LHMudGV4dEJveEVuZEluZGV4LHMpLHRoaXMuX2FkZFRleHREZWJ1Z0NvbGxpc2lvbkJveGVzKG4sdCxlLHMudmVydGljYWxUZXh0Qm94U3RhcnRJbmRleCxzLnZlcnRpY2FsVGV4dEJveEVuZEluZGV4LHMpLHRoaXMuX2FkZEljb25EZWJ1Z0NvbGxpc2lvbkJveGVzKHIsdCxlLHMuaWNvbkJveFN0YXJ0SW5kZXgscy5pY29uQm94RW5kSW5kZXgscyksdGhpcy5fYWRkSWNvbkRlYnVnQ29sbGlzaW9uQm94ZXMocix0LGUscy52ZXJ0aWNhbEljb25Cb3hTdGFydEluZGV4LHMudmVydGljYWxJY29uQm94RW5kSW5kZXgscyk7fX1nZXRTeW1ib2xJbnN0YW5jZVRleHRTaXplKHQsZSxyLG4pe2NvbnN0IGk9dGhpcy50ZXh0LnBsYWNlZFN5bWJvbEFycmF5LmdldChlLnJpZ2h0SnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4Pj0wP2UucmlnaHRKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXg6ZS5jZW50ZXJKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXg+PTA/ZS5jZW50ZXJKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXg6ZS5sZWZ0SnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4Pj0wP2UubGVmdEp1c3RpZmllZFRleHRTeW1ib2xJbmRleDplLnZlcnRpY2FsUGxhY2VkVGV4dFN5bWJvbEluZGV4Pj0wP2UudmVydGljYWxQbGFjZWRUZXh0U3ltYm9sSW5kZXg6bikscz11aCh0aGlzLnRleHRTaXplRGF0YSx0LGkpL2FoO3JldHVybiB0aGlzLnRpbGVQaXhlbFJhdGlvKnN9Z2V0U3ltYm9sSW5zdGFuY2VJY29uU2l6ZSh0LGUscil7Y29uc3Qgbj10aGlzLmljb24ucGxhY2VkU3ltYm9sQXJyYXkuZ2V0KHIpLGk9dWgodGhpcy5pY29uU2l6ZURhdGEsdCxuKTtyZXR1cm4gdGhpcy50aWxlUGl4ZWxSYXRpbyppfV9jb21taXREZWJ1Z0NvbGxpc2lvblZlcnRleFVwZGF0ZSh0LGUscil7dC5lbXBsYWNlQmFjayhlLC1yLC1yKSx0LmVtcGxhY2VCYWNrKGUsciwtciksdC5lbXBsYWNlQmFjayhlLHIsciksdC5lbXBsYWNlQmFjayhlLC1yLHIpO31fdXBkYXRlVGV4dERlYnVnQ29sbGlzaW9uQm94ZXModCxlLHIsbixpLHMpe2ZvcihsZXQgYT1uO2E8aTthKyspe2NvbnN0IG49ci5nZXQoYSksaT10aGlzLmdldFN5bWJvbEluc3RhbmNlVGV4dFNpemUodCxzLGUsYSk7dGhpcy5fY29tbWl0RGVidWdDb2xsaXNpb25WZXJ0ZXhVcGRhdGUodGhpcy50ZXh0Q29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEFycmF5RXh0LGksbi5wYWRkaW5nKTt9fV91cGRhdGVJY29uRGVidWdDb2xsaXNpb25Cb3hlcyh0LGUscixuLGkpe2ZvcihsZXQgcz1uO3M8aTtzKyspe2NvbnN0IG49ci5nZXQocyksaT10aGlzLmdldFN5bWJvbEluc3RhbmNlSWNvblNpemUodCxlLHMpO3RoaXMuX2NvbW1pdERlYnVnQ29sbGlzaW9uVmVydGV4VXBkYXRlKHRoaXMuaWNvbkNvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhBcnJheUV4dCxpLG4ucGFkZGluZyk7fX11cGRhdGVDb2xsaXNpb25EZWJ1Z0J1ZmZlcnModCxlKXtpZighdGhpcy5oYXNEZWJ1Z0RhdGEoKSlyZXR1cm47dGhpcy5oYXNUZXh0Q29sbGlzaW9uQm94RGF0YSgpJiZ0aGlzLnRleHRDb2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QXJyYXlFeHQuY2xlYXIoKSx0aGlzLmhhc0ljb25Db2xsaXNpb25Cb3hEYXRhKCkmJnRoaXMuaWNvbkNvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhBcnJheUV4dC5jbGVhcigpO2NvbnN0IHI9Y2godGhpcy5pY29uU2l6ZURhdGEsdCksbj1jaCh0aGlzLnRleHRTaXplRGF0YSx0KTtmb3IobGV0IGk9MDtpPHRoaXMuc3ltYm9sSW5zdGFuY2VzLmxlbmd0aDtpKyspe2NvbnN0IHM9dGhpcy5zeW1ib2xJbnN0YW5jZXMuZ2V0KGkpO3RoaXMuX3VwZGF0ZVRleHREZWJ1Z0NvbGxpc2lvbkJveGVzKG4sdCxlLHMudGV4dEJveFN0YXJ0SW5kZXgscy50ZXh0Qm94RW5kSW5kZXgscyksdGhpcy5fdXBkYXRlVGV4dERlYnVnQ29sbGlzaW9uQm94ZXMobix0LGUscy52ZXJ0aWNhbFRleHRCb3hTdGFydEluZGV4LHMudmVydGljYWxUZXh0Qm94RW5kSW5kZXgscyksdGhpcy5fdXBkYXRlSWNvbkRlYnVnQ29sbGlzaW9uQm94ZXMocix0LGUscy5pY29uQm94U3RhcnRJbmRleCxzLmljb25Cb3hFbmRJbmRleCksdGhpcy5fdXBkYXRlSWNvbkRlYnVnQ29sbGlzaW9uQm94ZXMocix0LGUscy52ZXJ0aWNhbEljb25Cb3hTdGFydEluZGV4LHMudmVydGljYWxJY29uQm94RW5kSW5kZXgpO310aGlzLmhhc1RleHRDb2xsaXNpb25Cb3hEYXRhKCkmJnRoaXMudGV4dENvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhCdWZmZXJFeHQmJnRoaXMudGV4dENvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhCdWZmZXJFeHQudXBkYXRlRGF0YSh0aGlzLnRleHRDb2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QXJyYXlFeHQpLHRoaXMuaGFzSWNvbkNvbGxpc2lvbkJveERhdGEoKSYmdGhpcy5pY29uQ29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEJ1ZmZlckV4dCYmdGhpcy5pY29uQ29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEJ1ZmZlckV4dC51cGRhdGVEYXRhKHRoaXMuaWNvbkNvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhBcnJheUV4dCk7fV9kZXNlcmlhbGl6ZUNvbGxpc2lvbkJveGVzRm9yU3ltYm9sKHQsZSxyLG4saSxzLGEsbyxsKXtjb25zdCB1PXt9O2ZvcihsZXQgbj1lO248cjtuKyspe2NvbnN0IGU9dC5nZXQobik7dS50ZXh0Qm94PXt4MTplLngxLHkxOmUueTEseDI6ZS54Mix5MjplLnkyLHBhZGRpbmc6ZS5wYWRkaW5nLHByb2plY3RlZEFuY2hvclg6ZS5wcm9qZWN0ZWRBbmNob3JYLHByb2plY3RlZEFuY2hvclk6ZS5wcm9qZWN0ZWRBbmNob3JZLHByb2plY3RlZEFuY2hvclo6ZS5wcm9qZWN0ZWRBbmNob3JaLHRpbGVBbmNob3JYOmUudGlsZUFuY2hvclgsdGlsZUFuY2hvclk6ZS50aWxlQW5jaG9yWX0sdS50ZXh0RmVhdHVyZUluZGV4PWUuZmVhdHVyZUluZGV4O2JyZWFrfWZvcihsZXQgZT1uO2U8aTtlKyspe2NvbnN0IHI9dC5nZXQoZSk7dS52ZXJ0aWNhbFRleHRCb3g9e3gxOnIueDEseTE6ci55MSx4MjpyLngyLHkyOnIueTIscGFkZGluZzpyLnBhZGRpbmcscHJvamVjdGVkQW5jaG9yWDpyLnByb2plY3RlZEFuY2hvclgscHJvamVjdGVkQW5jaG9yWTpyLnByb2plY3RlZEFuY2hvclkscHJvamVjdGVkQW5jaG9yWjpyLnByb2plY3RlZEFuY2hvclosdGlsZUFuY2hvclg6ci50aWxlQW5jaG9yWCx0aWxlQW5jaG9yWTpyLnRpbGVBbmNob3JZfSx1LnZlcnRpY2FsVGV4dEZlYXR1cmVJbmRleD1yLmZlYXR1cmVJbmRleDticmVha31mb3IobGV0IGU9cztlPGE7ZSsrKXtjb25zdCByPXQuZ2V0KGUpO3UuaWNvbkJveD17eDE6ci54MSx5MTpyLnkxLHgyOnIueDIseTI6ci55MixwYWRkaW5nOnIucGFkZGluZyxwcm9qZWN0ZWRBbmNob3JYOnIucHJvamVjdGVkQW5jaG9yWCxwcm9qZWN0ZWRBbmNob3JZOnIucHJvamVjdGVkQW5jaG9yWSxwcm9qZWN0ZWRBbmNob3JaOnIucHJvamVjdGVkQW5jaG9yWix0aWxlQW5jaG9yWDpyLnRpbGVBbmNob3JYLHRpbGVBbmNob3JZOnIudGlsZUFuY2hvcll9LHUuaWNvbkZlYXR1cmVJbmRleD1yLmZlYXR1cmVJbmRleDticmVha31mb3IobGV0IGU9bztlPGw7ZSsrKXtjb25zdCByPXQuZ2V0KGUpO3UudmVydGljYWxJY29uQm94PXt4MTpyLngxLHkxOnIueTEseDI6ci54Mix5MjpyLnkyLHBhZGRpbmc6ci5wYWRkaW5nLHByb2plY3RlZEFuY2hvclg6ci5wcm9qZWN0ZWRBbmNob3JYLHByb2plY3RlZEFuY2hvclk6ci5wcm9qZWN0ZWRBbmNob3JZLHByb2plY3RlZEFuY2hvclo6ci5wcm9qZWN0ZWRBbmNob3JaLHRpbGVBbmNob3JYOnIudGlsZUFuY2hvclgsdGlsZUFuY2hvclk6ci50aWxlQW5jaG9yWX0sdS52ZXJ0aWNhbEljb25GZWF0dXJlSW5kZXg9ci5mZWF0dXJlSW5kZXg7YnJlYWt9cmV0dXJuIHV9ZGVzZXJpYWxpemVDb2xsaXNpb25Cb3hlcyh0KXt0aGlzLmNvbGxpc2lvbkFycmF5cz1bXTtmb3IobGV0IGU9MDtlPHRoaXMuc3ltYm9sSW5zdGFuY2VzLmxlbmd0aDtlKyspe2NvbnN0IHI9dGhpcy5zeW1ib2xJbnN0YW5jZXMuZ2V0KGUpO3RoaXMuY29sbGlzaW9uQXJyYXlzLnB1c2godGhpcy5fZGVzZXJpYWxpemVDb2xsaXNpb25Cb3hlc0ZvclN5bWJvbCh0LHIudGV4dEJveFN0YXJ0SW5kZXgsci50ZXh0Qm94RW5kSW5kZXgsci52ZXJ0aWNhbFRleHRCb3hTdGFydEluZGV4LHIudmVydGljYWxUZXh0Qm94RW5kSW5kZXgsci5pY29uQm94U3RhcnRJbmRleCxyLmljb25Cb3hFbmRJbmRleCxyLnZlcnRpY2FsSWNvbkJveFN0YXJ0SW5kZXgsci52ZXJ0aWNhbEljb25Cb3hFbmRJbmRleCkpO319aGFzVGV4dERhdGEoKXtyZXR1cm4gdGhpcy50ZXh0LnNlZ21lbnRzLmdldCgpLmxlbmd0aD4wfWhhc0ljb25EYXRhKCl7cmV0dXJuIHRoaXMuaWNvbi5zZWdtZW50cy5nZXQoKS5sZW5ndGg+MH1oYXNEZWJ1Z0RhdGEoKXtyZXR1cm4gdGhpcy50ZXh0Q29sbGlzaW9uQm94JiZ0aGlzLmljb25Db2xsaXNpb25Cb3h9aGFzVGV4dENvbGxpc2lvbkJveERhdGEoKXtyZXR1cm4gdGhpcy5oYXNEZWJ1Z0RhdGEoKSYmdGhpcy50ZXh0Q29sbGlzaW9uQm94LnNlZ21lbnRzLmdldCgpLmxlbmd0aD4wfWhhc0ljb25Db2xsaXNpb25Cb3hEYXRhKCl7cmV0dXJuIHRoaXMuaGFzRGVidWdEYXRhKCkmJnRoaXMuaWNvbkNvbGxpc2lvbkJveC5zZWdtZW50cy5nZXQoKS5sZW5ndGg+MH1hZGRJbmRpY2VzRm9yUGxhY2VkU3ltYm9sKHQsZSl7Y29uc3Qgcj10LnBsYWNlZFN5bWJvbEFycmF5LmdldChlKSxuPXIudmVydGV4U3RhcnRJbmRleCs0KnIubnVtR2x5cGhzO2ZvcihsZXQgZT1yLnZlcnRleFN0YXJ0SW5kZXg7ZTxuO2UrPTQpdC5pbmRleEFycmF5LmVtcGxhY2VCYWNrKGUsZSsxLGUrMiksdC5pbmRleEFycmF5LmVtcGxhY2VCYWNrKGUrMSxlKzIsZSszKTt9Z2V0U29ydGVkU3ltYm9sSW5kZXhlcyh0KXtpZih0aGlzLnNvcnRlZEFuZ2xlPT09dCYmdm9pZCAwIT09dGhpcy5zeW1ib2xJbnN0YW5jZUluZGV4ZXMpcmV0dXJuIHRoaXMuc3ltYm9sSW5zdGFuY2VJbmRleGVzO2NvbnN0IGU9TWF0aC5zaW4odCkscj1NYXRoLmNvcyh0KSxuPVtdLGk9W10scz1bXTtmb3IobGV0IHQ9MDt0PHRoaXMuc3ltYm9sSW5zdGFuY2VzLmxlbmd0aDsrK3Qpe3MucHVzaCh0KTtjb25zdCBhPXRoaXMuc3ltYm9sSW5zdGFuY2VzLmdldCh0KTtuLnB1c2goMHxNYXRoLnJvdW5kKGUqYS50aWxlQW5jaG9yWCtyKmEudGlsZUFuY2hvclkpKSxpLnB1c2goYS5mZWF0dXJlSW5kZXgpO31yZXR1cm4gcy5zb3J0KCgodCxlKT0+blt0XS1uW2VdfHxpW2VdLWlbdF0pKSxzfWFkZFRvU29ydEtleVJhbmdlcyh0LGUpe2NvbnN0IHI9dGhpcy5zb3J0S2V5UmFuZ2VzW3RoaXMuc29ydEtleVJhbmdlcy5sZW5ndGgtMV07ciYmci5zb3J0S2V5PT09ZT9yLnN5bWJvbEluc3RhbmNlRW5kPXQrMTp0aGlzLnNvcnRLZXlSYW5nZXMucHVzaCh7c29ydEtleTplLHN5bWJvbEluc3RhbmNlU3RhcnQ6dCxzeW1ib2xJbnN0YW5jZUVuZDp0KzF9KTt9c29ydEZlYXR1cmVzKHQpe2lmKHRoaXMuc29ydEZlYXR1cmVzQnlZJiZ0aGlzLnNvcnRlZEFuZ2xlIT09dCYmISh0aGlzLnRleHQuc2VnbWVudHMuZ2V0KCkubGVuZ3RoPjF8fHRoaXMuaWNvbi5zZWdtZW50cy5nZXQoKS5sZW5ndGg+MSkpe3RoaXMuc3ltYm9sSW5zdGFuY2VJbmRleGVzPXRoaXMuZ2V0U29ydGVkU3ltYm9sSW5kZXhlcyh0KSx0aGlzLnNvcnRlZEFuZ2xlPXQsdGhpcy50ZXh0LmluZGV4QXJyYXkuY2xlYXIoKSx0aGlzLmljb24uaW5kZXhBcnJheS5jbGVhcigpLHRoaXMuZmVhdHVyZVNvcnRPcmRlcj1bXTtmb3IoY29uc3QgdCBvZiB0aGlzLnN5bWJvbEluc3RhbmNlSW5kZXhlcyl7Y29uc3QgZT10aGlzLnN5bWJvbEluc3RhbmNlcy5nZXQodCk7dGhpcy5mZWF0dXJlU29ydE9yZGVyLnB1c2goZS5mZWF0dXJlSW5kZXgpLFtlLnJpZ2h0SnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4LGUuY2VudGVySnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4LGUubGVmdEp1c3RpZmllZFRleHRTeW1ib2xJbmRleF0uZm9yRWFjaCgoKHQsZSxyKT0+e3Q+PTAmJnIuaW5kZXhPZih0KT09PWUmJnRoaXMuYWRkSW5kaWNlc0ZvclBsYWNlZFN5bWJvbCh0aGlzLnRleHQsdCk7fSkpLGUudmVydGljYWxQbGFjZWRUZXh0U3ltYm9sSW5kZXg+PTAmJnRoaXMuYWRkSW5kaWNlc0ZvclBsYWNlZFN5bWJvbCh0aGlzLnRleHQsZS52ZXJ0aWNhbFBsYWNlZFRleHRTeW1ib2xJbmRleCksZS5wbGFjZWRJY29uU3ltYm9sSW5kZXg+PTAmJnRoaXMuYWRkSW5kaWNlc0ZvclBsYWNlZFN5bWJvbCh0aGlzLmljb24sZS5wbGFjZWRJY29uU3ltYm9sSW5kZXgpLGUudmVydGljYWxQbGFjZWRJY29uU3ltYm9sSW5kZXg+PTAmJnRoaXMuYWRkSW5kaWNlc0ZvclBsYWNlZFN5bWJvbCh0aGlzLmljb24sZS52ZXJ0aWNhbFBsYWNlZEljb25TeW1ib2xJbmRleCk7fXRoaXMudGV4dC5pbmRleEJ1ZmZlciYmdGhpcy50ZXh0LmluZGV4QnVmZmVyLnVwZGF0ZURhdGEodGhpcy50ZXh0LmluZGV4QXJyYXkpLHRoaXMuaWNvbi5pbmRleEJ1ZmZlciYmdGhpcy5pY29uLmluZGV4QnVmZmVyLnVwZGF0ZURhdGEodGhpcy5pY29uLmluZGV4QXJyYXkpO319fVBpKFFmLFwiU3ltYm9sQnVja2V0XCIse29taXQ6W1wibGF5ZXJzXCIsXCJjb2xsaXNpb25Cb3hBcnJheVwiLFwiZmVhdHVyZXNcIixcImNvbXBhcmVUZXh0XCJdfSksUWYuTUFYX0dMWVBIUz02NTUzNSxRZi5hZGREeW5hbWljQXR0cmlidXRlcz1IZjtjb25zdCB0ZD1uZXcgWnMoe1wic3ltYm9sLXBsYWNlbWVudFwiOm5ldyAkcyhHdC5sYXlvdXRfc3ltYm9sW1wic3ltYm9sLXBsYWNlbWVudFwiXSksXCJzeW1ib2wtc3BhY2luZ1wiOm5ldyAkcyhHdC5sYXlvdXRfc3ltYm9sW1wic3ltYm9sLXNwYWNpbmdcIl0pLFwic3ltYm9sLWF2b2lkLWVkZ2VzXCI6bmV3ICRzKEd0LmxheW91dF9zeW1ib2xbXCJzeW1ib2wtYXZvaWQtZWRnZXNcIl0pLFwic3ltYm9sLXNvcnQta2V5XCI6bmV3IE9zKEd0LmxheW91dF9zeW1ib2xbXCJzeW1ib2wtc29ydC1rZXlcIl0pLFwic3ltYm9sLXotb3JkZXJcIjpuZXcgJHMoR3QubGF5b3V0X3N5bWJvbFtcInN5bWJvbC16LW9yZGVyXCJdKSxcImljb24tYWxsb3ctb3ZlcmxhcFwiOm5ldyAkcyhHdC5sYXlvdXRfc3ltYm9sW1wiaWNvbi1hbGxvdy1vdmVybGFwXCJdKSxcImljb24taWdub3JlLXBsYWNlbWVudFwiOm5ldyAkcyhHdC5sYXlvdXRfc3ltYm9sW1wiaWNvbi1pZ25vcmUtcGxhY2VtZW50XCJdKSxcImljb24tb3B0aW9uYWxcIjpuZXcgJHMoR3QubGF5b3V0X3N5bWJvbFtcImljb24tb3B0aW9uYWxcIl0pLFwiaWNvbi1yb3RhdGlvbi1hbGlnbm1lbnRcIjpuZXcgJHMoR3QubGF5b3V0X3N5bWJvbFtcImljb24tcm90YXRpb24tYWxpZ25tZW50XCJdKSxcImljb24tc2l6ZVwiOm5ldyBPcyhHdC5sYXlvdXRfc3ltYm9sW1wiaWNvbi1zaXplXCJdKSxcImljb24tdGV4dC1maXRcIjpuZXcgJHMoR3QubGF5b3V0X3N5bWJvbFtcImljb24tdGV4dC1maXRcIl0pLFwiaWNvbi10ZXh0LWZpdC1wYWRkaW5nXCI6bmV3ICRzKEd0LmxheW91dF9zeW1ib2xbXCJpY29uLXRleHQtZml0LXBhZGRpbmdcIl0pLFwiaWNvbi1pbWFnZVwiOm5ldyBPcyhHdC5sYXlvdXRfc3ltYm9sW1wiaWNvbi1pbWFnZVwiXSksXCJpY29uLXJvdGF0ZVwiOm5ldyBPcyhHdC5sYXlvdXRfc3ltYm9sW1wiaWNvbi1yb3RhdGVcIl0pLFwiaWNvbi1wYWRkaW5nXCI6bmV3ICRzKEd0LmxheW91dF9zeW1ib2xbXCJpY29uLXBhZGRpbmdcIl0pLFwiaWNvbi1rZWVwLXVwcmlnaHRcIjpuZXcgJHMoR3QubGF5b3V0X3N5bWJvbFtcImljb24ta2VlcC11cHJpZ2h0XCJdKSxcImljb24tb2Zmc2V0XCI6bmV3IE9zKEd0LmxheW91dF9zeW1ib2xbXCJpY29uLW9mZnNldFwiXSksXCJpY29uLWFuY2hvclwiOm5ldyBPcyhHdC5sYXlvdXRfc3ltYm9sW1wiaWNvbi1hbmNob3JcIl0pLFwiaWNvbi1waXRjaC1hbGlnbm1lbnRcIjpuZXcgJHMoR3QubGF5b3V0X3N5bWJvbFtcImljb24tcGl0Y2gtYWxpZ25tZW50XCJdKSxcInRleHQtcGl0Y2gtYWxpZ25tZW50XCI6bmV3ICRzKEd0LmxheW91dF9zeW1ib2xbXCJ0ZXh0LXBpdGNoLWFsaWdubWVudFwiXSksXCJ0ZXh0LXJvdGF0aW9uLWFsaWdubWVudFwiOm5ldyAkcyhHdC5sYXlvdXRfc3ltYm9sW1widGV4dC1yb3RhdGlvbi1hbGlnbm1lbnRcIl0pLFwidGV4dC1maWVsZFwiOm5ldyBPcyhHdC5sYXlvdXRfc3ltYm9sW1widGV4dC1maWVsZFwiXSksXCJ0ZXh0LWZvbnRcIjpuZXcgT3MoR3QubGF5b3V0X3N5bWJvbFtcInRleHQtZm9udFwiXSksXCJ0ZXh0LXNpemVcIjpuZXcgT3MoR3QubGF5b3V0X3N5bWJvbFtcInRleHQtc2l6ZVwiXSksXCJ0ZXh0LW1heC13aWR0aFwiOm5ldyBPcyhHdC5sYXlvdXRfc3ltYm9sW1widGV4dC1tYXgtd2lkdGhcIl0pLFwidGV4dC1saW5lLWhlaWdodFwiOm5ldyBPcyhHdC5sYXlvdXRfc3ltYm9sW1widGV4dC1saW5lLWhlaWdodFwiXSksXCJ0ZXh0LWxldHRlci1zcGFjaW5nXCI6bmV3IE9zKEd0LmxheW91dF9zeW1ib2xbXCJ0ZXh0LWxldHRlci1zcGFjaW5nXCJdKSxcInRleHQtanVzdGlmeVwiOm5ldyBPcyhHdC5sYXlvdXRfc3ltYm9sW1widGV4dC1qdXN0aWZ5XCJdKSxcInRleHQtcmFkaWFsLW9mZnNldFwiOm5ldyBPcyhHdC5sYXlvdXRfc3ltYm9sW1widGV4dC1yYWRpYWwtb2Zmc2V0XCJdKSxcInRleHQtdmFyaWFibGUtYW5jaG9yXCI6bmV3ICRzKEd0LmxheW91dF9zeW1ib2xbXCJ0ZXh0LXZhcmlhYmxlLWFuY2hvclwiXSksXCJ0ZXh0LWFuY2hvclwiOm5ldyBPcyhHdC5sYXlvdXRfc3ltYm9sW1widGV4dC1hbmNob3JcIl0pLFwidGV4dC1tYXgtYW5nbGVcIjpuZXcgJHMoR3QubGF5b3V0X3N5bWJvbFtcInRleHQtbWF4LWFuZ2xlXCJdKSxcInRleHQtd3JpdGluZy1tb2RlXCI6bmV3ICRzKEd0LmxheW91dF9zeW1ib2xbXCJ0ZXh0LXdyaXRpbmctbW9kZVwiXSksXCJ0ZXh0LXJvdGF0ZVwiOm5ldyBPcyhHdC5sYXlvdXRfc3ltYm9sW1widGV4dC1yb3RhdGVcIl0pLFwidGV4dC1wYWRkaW5nXCI6bmV3ICRzKEd0LmxheW91dF9zeW1ib2xbXCJ0ZXh0LXBhZGRpbmdcIl0pLFwidGV4dC1rZWVwLXVwcmlnaHRcIjpuZXcgJHMoR3QubGF5b3V0X3N5bWJvbFtcInRleHQta2VlcC11cHJpZ2h0XCJdKSxcInRleHQtdHJhbnNmb3JtXCI6bmV3IE9zKEd0LmxheW91dF9zeW1ib2xbXCJ0ZXh0LXRyYW5zZm9ybVwiXSksXCJ0ZXh0LW9mZnNldFwiOm5ldyBPcyhHdC5sYXlvdXRfc3ltYm9sW1widGV4dC1vZmZzZXRcIl0pLFwidGV4dC1hbGxvdy1vdmVybGFwXCI6bmV3ICRzKEd0LmxheW91dF9zeW1ib2xbXCJ0ZXh0LWFsbG93LW92ZXJsYXBcIl0pLFwidGV4dC1pZ25vcmUtcGxhY2VtZW50XCI6bmV3ICRzKEd0LmxheW91dF9zeW1ib2xbXCJ0ZXh0LWlnbm9yZS1wbGFjZW1lbnRcIl0pLFwidGV4dC1vcHRpb25hbFwiOm5ldyAkcyhHdC5sYXlvdXRfc3ltYm9sW1widGV4dC1vcHRpb25hbFwiXSl9KTt2YXIgZWQ9e3BhaW50Om5ldyBacyh7XCJpY29uLW9wYWNpdHlcIjpuZXcgT3MoR3QucGFpbnRfc3ltYm9sW1wiaWNvbi1vcGFjaXR5XCJdKSxcImljb24tY29sb3JcIjpuZXcgT3MoR3QucGFpbnRfc3ltYm9sW1wiaWNvbi1jb2xvclwiXSksXCJpY29uLWhhbG8tY29sb3JcIjpuZXcgT3MoR3QucGFpbnRfc3ltYm9sW1wiaWNvbi1oYWxvLWNvbG9yXCJdKSxcImljb24taGFsby13aWR0aFwiOm5ldyBPcyhHdC5wYWludF9zeW1ib2xbXCJpY29uLWhhbG8td2lkdGhcIl0pLFwiaWNvbi1oYWxvLWJsdXJcIjpuZXcgT3MoR3QucGFpbnRfc3ltYm9sW1wiaWNvbi1oYWxvLWJsdXJcIl0pLFwiaWNvbi10cmFuc2xhdGVcIjpuZXcgJHMoR3QucGFpbnRfc3ltYm9sW1wiaWNvbi10cmFuc2xhdGVcIl0pLFwiaWNvbi10cmFuc2xhdGUtYW5jaG9yXCI6bmV3ICRzKEd0LnBhaW50X3N5bWJvbFtcImljb24tdHJhbnNsYXRlLWFuY2hvclwiXSksXCJ0ZXh0LW9wYWNpdHlcIjpuZXcgT3MoR3QucGFpbnRfc3ltYm9sW1widGV4dC1vcGFjaXR5XCJdKSxcInRleHQtY29sb3JcIjpuZXcgT3MoR3QucGFpbnRfc3ltYm9sW1widGV4dC1jb2xvclwiXSx7cnVudGltZVR5cGU6bmUsZ2V0T3ZlcnJpZGU6dD0+dC50ZXh0Q29sb3IsaGFzT3ZlcnJpZGU6dD0+ISF0LnRleHRDb2xvcn0pLFwidGV4dC1oYWxvLWNvbG9yXCI6bmV3IE9zKEd0LnBhaW50X3N5bWJvbFtcInRleHQtaGFsby1jb2xvclwiXSksXCJ0ZXh0LWhhbG8td2lkdGhcIjpuZXcgT3MoR3QucGFpbnRfc3ltYm9sW1widGV4dC1oYWxvLXdpZHRoXCJdKSxcInRleHQtaGFsby1ibHVyXCI6bmV3IE9zKEd0LnBhaW50X3N5bWJvbFtcInRleHQtaGFsby1ibHVyXCJdKSxcInRleHQtdHJhbnNsYXRlXCI6bmV3ICRzKEd0LnBhaW50X3N5bWJvbFtcInRleHQtdHJhbnNsYXRlXCJdKSxcInRleHQtdHJhbnNsYXRlLWFuY2hvclwiOm5ldyAkcyhHdC5wYWludF9zeW1ib2xbXCJ0ZXh0LXRyYW5zbGF0ZS1hbmNob3JcIl0pfSksbGF5b3V0OnRkfTtjbGFzcyByZHtjb25zdHJ1Y3Rvcih0KXt0aGlzLnR5cGU9dC5wcm9wZXJ0eS5vdmVycmlkZXM/dC5wcm9wZXJ0eS5vdmVycmlkZXMucnVudGltZVR5cGU6UXQsdGhpcy5kZWZhdWx0VmFsdWU9dDt9ZXZhbHVhdGUodCl7aWYodC5mb3JtYXR0ZWRTZWN0aW9uKXtjb25zdCBlPXRoaXMuZGVmYXVsdFZhbHVlLnByb3BlcnR5Lm92ZXJyaWRlcztpZihlJiZlLmhhc092ZXJyaWRlKHQuZm9ybWF0dGVkU2VjdGlvbikpcmV0dXJuIGUuZ2V0T3ZlcnJpZGUodC5mb3JtYXR0ZWRTZWN0aW9uKX1yZXR1cm4gdC5mZWF0dXJlJiZ0LmZlYXR1cmVTdGF0ZT90aGlzLmRlZmF1bHRWYWx1ZS5ldmFsdWF0ZSh0LmZlYXR1cmUsdC5mZWF0dXJlU3RhdGUpOnRoaXMuZGVmYXVsdFZhbHVlLnByb3BlcnR5LnNwZWNpZmljYXRpb24uZGVmYXVsdH1lYWNoQ2hpbGQodCl7dGhpcy5kZWZhdWx0VmFsdWUuaXNDb25zdGFudCgpfHx0KHRoaXMuZGVmYXVsdFZhbHVlLnZhbHVlLl9zdHlsZUV4cHJlc3Npb24uZXhwcmVzc2lvbik7fW91dHB1dERlZmluZWQoKXtyZXR1cm4gITF9c2VyaWFsaXplKCl7cmV0dXJuIG51bGx9fVBpKHJkLFwiRm9ybWF0U2VjdGlvbk92ZXJyaWRlXCIse29taXQ6W1wiZGVmYXVsdFZhbHVlXCJdfSk7Y2xhc3MgbmQgZXh0ZW5kcyB4b3tjb25zdHJ1Y3Rvcih0KXtzdXBlcih0LGVkKTt9cmVjYWxjdWxhdGUodCxlKXtzdXBlci5yZWNhbGN1bGF0ZSh0LGUpLFwiYXV0b1wiPT09dGhpcy5sYXlvdXQuZ2V0KFwiaWNvbi1yb3RhdGlvbi1hbGlnbm1lbnRcIikmJih0aGlzLmxheW91dC5fdmFsdWVzW1wiaWNvbi1yb3RhdGlvbi1hbGlnbm1lbnRcIl09XCJwb2ludFwiIT09dGhpcy5sYXlvdXQuZ2V0KFwic3ltYm9sLXBsYWNlbWVudFwiKT9cIm1hcFwiOlwidmlld3BvcnRcIiksXCJhdXRvXCI9PT10aGlzLmxheW91dC5nZXQoXCJ0ZXh0LXJvdGF0aW9uLWFsaWdubWVudFwiKSYmKHRoaXMubGF5b3V0Ll92YWx1ZXNbXCJ0ZXh0LXJvdGF0aW9uLWFsaWdubWVudFwiXT1cInBvaW50XCIhPT10aGlzLmxheW91dC5nZXQoXCJzeW1ib2wtcGxhY2VtZW50XCIpP1wibWFwXCI6XCJ2aWV3cG9ydFwiKSxcImF1dG9cIj09PXRoaXMubGF5b3V0LmdldChcInRleHQtcGl0Y2gtYWxpZ25tZW50XCIpJiYodGhpcy5sYXlvdXQuX3ZhbHVlc1tcInRleHQtcGl0Y2gtYWxpZ25tZW50XCJdPXRoaXMubGF5b3V0LmdldChcInRleHQtcm90YXRpb24tYWxpZ25tZW50XCIpKSxcImF1dG9cIj09PXRoaXMubGF5b3V0LmdldChcImljb24tcGl0Y2gtYWxpZ25tZW50XCIpJiYodGhpcy5sYXlvdXQuX3ZhbHVlc1tcImljb24tcGl0Y2gtYWxpZ25tZW50XCJdPXRoaXMubGF5b3V0LmdldChcImljb24tcm90YXRpb24tYWxpZ25tZW50XCIpKTtjb25zdCByPXRoaXMubGF5b3V0LmdldChcInRleHQtd3JpdGluZy1tb2RlXCIpO2lmKHIpe2NvbnN0IHQ9W107Zm9yKGNvbnN0IGUgb2Ygcil0LmluZGV4T2YoZSk8MCYmdC5wdXNoKGUpO3RoaXMubGF5b3V0Ll92YWx1ZXNbXCJ0ZXh0LXdyaXRpbmctbW9kZVwiXT10O31lbHNlIHRoaXMubGF5b3V0Ll92YWx1ZXNbXCJ0ZXh0LXdyaXRpbmctbW9kZVwiXT1cInBvaW50XCI9PT10aGlzLmxheW91dC5nZXQoXCJzeW1ib2wtcGxhY2VtZW50XCIpP1tcImhvcml6b250YWxcIl06W1wiaG9yaXpvbnRhbFwiLFwidmVydGljYWxcIl07dGhpcy5fc2V0UGFpbnRPdmVycmlkZXMoKTt9Z2V0VmFsdWVBbmRSZXNvbHZlVG9rZW5zKHQsZSxyLG4pe2NvbnN0IGk9dGhpcy5sYXlvdXQuZ2V0KHQpLmV2YWx1YXRlKGUse30scixuKSxzPXRoaXMuX3VuZXZhbHVhdGVkTGF5b3V0Ll92YWx1ZXNbdF07cmV0dXJuIHMuaXNEYXRhRHJpdmVuKCl8fEZuKHMudmFsdWUpfHwhaT9pOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUucmVwbGFjZSgveyhbXnt9XSspfS9nLCgoZSxyKT0+ciBpbiB0P1N0cmluZyh0W3JdKTpcIlwiKSl9KGUucHJvcGVydGllcyxpKX1jcmVhdGVCdWNrZXQodCl7cmV0dXJuIG5ldyBRZih0KX1xdWVyeVJhZGl1cygpe3JldHVybiAwfXF1ZXJ5SW50ZXJzZWN0c0ZlYXR1cmUoKXtyZXR1cm4gITF9X3NldFBhaW50T3ZlcnJpZGVzKCl7Zm9yKGNvbnN0IHQgb2YgZWQucGFpbnQub3ZlcnJpZGFibGVQcm9wZXJ0aWVzKXtpZighbmQuaGFzUGFpbnRPdmVycmlkZSh0aGlzLmxheW91dCx0KSljb250aW51ZTtjb25zdCBlPXRoaXMucGFpbnQuZ2V0KHQpLHI9bmV3IHJkKGUpLG49bmV3IFZuKHIsZS5wcm9wZXJ0eS5zcGVjaWZpY2F0aW9uKTtsZXQgaT1udWxsO2k9XCJjb25zdGFudFwiPT09ZS52YWx1ZS5raW5kfHxcInNvdXJjZVwiPT09ZS52YWx1ZS5raW5kP25ldyBSbihcInNvdXJjZVwiLG4pOm5ldyBVbihcImNvbXBvc2l0ZVwiLG4sZS52YWx1ZS56b29tU3RvcHMsZS52YWx1ZS5faW50ZXJwb2xhdGlvblR5cGUpLHRoaXMucGFpbnQuX3ZhbHVlc1t0XT1uZXcgVXMoZS5wcm9wZXJ0eSxpLGUucGFyYW1ldGVycyk7fX1faGFuZGxlT3ZlcnJpZGFibGVQYWludFByb3BlcnR5VXBkYXRlKHQsZSxyKXtyZXR1cm4gISghdGhpcy5sYXlvdXR8fGUuaXNEYXRhRHJpdmVuKCl8fHIuaXNEYXRhRHJpdmVuKCkpJiZuZC5oYXNQYWludE92ZXJyaWRlKHRoaXMubGF5b3V0LHQpfXN0YXRpYyBoYXNQYWludE92ZXJyaWRlKHQsZSl7Y29uc3Qgcj10LmdldChcInRleHQtZmllbGRcIiksbj1lZC5wYWludC5wcm9wZXJ0aWVzW2VdO2xldCBpPSExO2NvbnN0IHM9dD0+e2Zvcihjb25zdCBlIG9mIHQpaWYobi5vdmVycmlkZXMmJm4ub3ZlcnJpZGVzLmhhc092ZXJyaWRlKGUpKXJldHVybiB2b2lkKGk9ITApfTtpZihcImNvbnN0YW50XCI9PT1yLnZhbHVlLmtpbmQmJnIudmFsdWUudmFsdWUgaW5zdGFuY2VvZiBfZSlzKHIudmFsdWUudmFsdWUuc2VjdGlvbnMpO2Vsc2UgaWYoXCJzb3VyY2VcIj09PXIudmFsdWUua2luZCl7Y29uc3QgdD1lPT57aXx8KGUgaW5zdGFuY2VvZiB6ZSYma2UoZS52YWx1ZSk9PT1vZT9zKGUudmFsdWUuc2VjdGlvbnMpOmUgaW5zdGFuY2VvZiBQZT9zKGUuc2VjdGlvbnMpOmUuZWFjaENoaWxkKHQpKTt9LGU9ci52YWx1ZTtlLl9zdHlsZUV4cHJlc3Npb24mJnQoZS5fc3R5bGVFeHByZXNzaW9uLmV4cHJlc3Npb24pO31yZXR1cm4gaX1nZXRQcm9ncmFtQ29uZmlndXJhdGlvbih0KXtyZXR1cm4gbmV3IHVvKHRoaXMsdCl9fXZhciBpZD17cGFpbnQ6bmV3IFpzKHtcImJhY2tncm91bmQtY29sb3JcIjpuZXcgJHMoR3QucGFpbnRfYmFja2dyb3VuZFtcImJhY2tncm91bmQtY29sb3JcIl0pLFwiYmFja2dyb3VuZC1wYXR0ZXJuXCI6bmV3IE5zKEd0LnBhaW50X2JhY2tncm91bmRbXCJiYWNrZ3JvdW5kLXBhdHRlcm5cIl0pLFwiYmFja2dyb3VuZC1vcGFjaXR5XCI6bmV3ICRzKEd0LnBhaW50X2JhY2tncm91bmRbXCJiYWNrZ3JvdW5kLW9wYWNpdHlcIl0pfSl9LHNkPXtwYWludDpuZXcgWnMoe1wicmFzdGVyLW9wYWNpdHlcIjpuZXcgJHMoR3QucGFpbnRfcmFzdGVyW1wicmFzdGVyLW9wYWNpdHlcIl0pLFwicmFzdGVyLWh1ZS1yb3RhdGVcIjpuZXcgJHMoR3QucGFpbnRfcmFzdGVyW1wicmFzdGVyLWh1ZS1yb3RhdGVcIl0pLFwicmFzdGVyLWJyaWdodG5lc3MtbWluXCI6bmV3ICRzKEd0LnBhaW50X3Jhc3RlcltcInJhc3Rlci1icmlnaHRuZXNzLW1pblwiXSksXCJyYXN0ZXItYnJpZ2h0bmVzcy1tYXhcIjpuZXcgJHMoR3QucGFpbnRfcmFzdGVyW1wicmFzdGVyLWJyaWdodG5lc3MtbWF4XCJdKSxcInJhc3Rlci1zYXR1cmF0aW9uXCI6bmV3ICRzKEd0LnBhaW50X3Jhc3RlcltcInJhc3Rlci1zYXR1cmF0aW9uXCJdKSxcInJhc3Rlci1jb250cmFzdFwiOm5ldyAkcyhHdC5wYWludF9yYXN0ZXJbXCJyYXN0ZXItY29udHJhc3RcIl0pLFwicmFzdGVyLXJlc2FtcGxpbmdcIjpuZXcgJHMoR3QucGFpbnRfcmFzdGVyW1wicmFzdGVyLXJlc2FtcGxpbmdcIl0pLFwicmFzdGVyLWZhZGUtZHVyYXRpb25cIjpuZXcgJHMoR3QucGFpbnRfcmFzdGVyW1wicmFzdGVyLWZhZGUtZHVyYXRpb25cIl0pfSl9O2NsYXNzIGFkIGV4dGVuZHMgeG97Y29uc3RydWN0b3IodCl7c3VwZXIodCx7fSksdGhpcy5pbXBsZW1lbnRhdGlvbj10O31pczNEKCl7cmV0dXJuIFwiM2RcIj09PXRoaXMuaW1wbGVtZW50YXRpb24ucmVuZGVyaW5nTW9kZX1oYXNPZmZzY3JlZW5QYXNzKCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMuaW1wbGVtZW50YXRpb24ucHJlcmVuZGVyfXJlY2FsY3VsYXRlKCl7fXVwZGF0ZVRyYW5zaXRpb25zKCl7fWhhc1RyYW5zaXRpb24oKXtyZXR1cm4gITF9c2VyaWFsaXplKCl7fW9uQWRkKHQpe3RoaXMuaW1wbGVtZW50YXRpb24ub25BZGQmJnRoaXMuaW1wbGVtZW50YXRpb24ub25BZGQodCx0LnBhaW50ZXIuY29udGV4dC5nbCk7fW9uUmVtb3ZlKHQpe3RoaXMuaW1wbGVtZW50YXRpb24ub25SZW1vdmUmJnRoaXMuaW1wbGVtZW50YXRpb24ub25SZW1vdmUodCx0LnBhaW50ZXIuY29udGV4dC5nbCk7fX12YXIgb2Q9e3BhaW50Om5ldyBacyh7XCJza3ktdHlwZVwiOm5ldyAkcyhHdC5wYWludF9za3lbXCJza3ktdHlwZVwiXSksXCJza3ktYXRtb3NwaGVyZS1zdW5cIjpuZXcgJHMoR3QucGFpbnRfc2t5W1wic2t5LWF0bW9zcGhlcmUtc3VuXCJdKSxcInNreS1hdG1vc3BoZXJlLXN1bi1pbnRlbnNpdHlcIjpuZXcgJHMoR3QucGFpbnRfc2t5W1wic2t5LWF0bW9zcGhlcmUtc3VuLWludGVuc2l0eVwiXSksXCJza3ktZ3JhZGllbnQtY2VudGVyXCI6bmV3ICRzKEd0LnBhaW50X3NreVtcInNreS1ncmFkaWVudC1jZW50ZXJcIl0pLFwic2t5LWdyYWRpZW50LXJhZGl1c1wiOm5ldyAkcyhHdC5wYWludF9za3lbXCJza3ktZ3JhZGllbnQtcmFkaXVzXCJdKSxcInNreS1ncmFkaWVudFwiOm5ldyBHcyhHdC5wYWludF9za3lbXCJza3ktZ3JhZGllbnRcIl0pLFwic2t5LWF0bW9zcGhlcmUtaGFsby1jb2xvclwiOm5ldyAkcyhHdC5wYWludF9za3lbXCJza3ktYXRtb3NwaGVyZS1oYWxvLWNvbG9yXCJdKSxcInNreS1hdG1vc3BoZXJlLWNvbG9yXCI6bmV3ICRzKEd0LnBhaW50X3NreVtcInNreS1hdG1vc3BoZXJlLWNvbG9yXCJdKSxcInNreS1vcGFjaXR5XCI6bmV3ICRzKEd0LnBhaW50X3NreVtcInNreS1vcGFjaXR5XCJdKX0pfTtmdW5jdGlvbiBsZCh0LGUscil7Y29uc3Qgbj1bMCwwLDFdLGk9SGwoW10pO3JldHVybiBXbChpLGkscj8tbCh0KStNYXRoLlBJOmwodCkpLFlsKGksaSwtbChlKSksJGwobixuLGkpLExsKG4sbil9Y29uc3QgdWQ9e2NpcmNsZTpjbGFzcyBleHRlbmRzIHhve2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQscGwpO31jcmVhdGVCdWNrZXQodCl7cmV0dXJuIG5ldyBLbyh0KX1xdWVyeVJhZGl1cyh0KXtjb25zdCBlPXQ7cmV0dXJuIG9sKFwiY2lyY2xlLXJhZGl1c1wiLHRoaXMsZSkrb2woXCJjaXJjbGUtc3Ryb2tlLXdpZHRoXCIsdGhpcyxlKStsbCh0aGlzLnBhaW50LmdldChcImNpcmNsZS10cmFuc2xhdGVcIikpfXF1ZXJ5SW50ZXJzZWN0c0ZlYXR1cmUodCxlLHIsbixpLHMsYSxvKXtjb25zdCBsPWNsKHRoaXMucGFpbnQuZ2V0KFwiY2lyY2xlLXRyYW5zbGF0ZVwiKSx0aGlzLnBhaW50LmdldChcImNpcmNsZS10cmFuc2xhdGUtYW5jaG9yXCIpLHMuYW5nbGUsdC5waXhlbFRvVGlsZVVuaXRzRmFjdG9yKSx1PXRoaXMucGFpbnQuZ2V0KFwiY2lyY2xlLXJhZGl1c1wiKS5ldmFsdWF0ZShlLHIpK3RoaXMucGFpbnQuZ2V0KFwiY2lyY2xlLXN0cm9rZS13aWR0aFwiKS5ldmFsdWF0ZShlLHIpO3JldHVybiBydSh0LG4scyxhLG8sXCJtYXBcIj09PXRoaXMucGFpbnQuZ2V0KFwiY2lyY2xlLXBpdGNoLWFsaWdubWVudFwiKSxcIm1hcFwiPT09dGhpcy5wYWludC5nZXQoXCJjaXJjbGUtcGl0Y2gtc2NhbGVcIiksbCx1KX1nZXRQcm9ncmFtSWRzKCl7cmV0dXJuIFtcImNpcmNsZVwiXX1nZXRQcm9ncmFtQ29uZmlndXJhdGlvbih0KXtyZXR1cm4gbmV3IHVvKHRoaXMsdCl9fSxoZWF0bWFwOmNsYXNzIGV4dGVuZHMgeG97Y3JlYXRlQnVja2V0KHQpe3JldHVybiBuZXcgb3UodCl9Y29uc3RydWN0b3IodCl7c3VwZXIodCxmdSksdGhpcy5fdXBkYXRlQ29sb3JSYW1wKCk7fV9oYW5kbGVTcGVjaWFsUGFpbnRQcm9wZXJ0eVVwZGF0ZSh0KXtcImhlYXRtYXAtY29sb3JcIj09PXQmJnRoaXMuX3VwZGF0ZUNvbG9yUmFtcCgpO31fdXBkYXRlQ29sb3JSYW1wKCl7dGhpcy5jb2xvclJhbXA9ZHUoe2V4cHJlc3Npb246dGhpcy5fdHJhbnNpdGlvbmFibGVQYWludC5fdmFsdWVzW1wiaGVhdG1hcC1jb2xvclwiXS52YWx1ZS5leHByZXNzaW9uLGV2YWx1YXRpb25LZXk6XCJoZWF0bWFwRGVuc2l0eVwiLGltYWdlOnRoaXMuY29sb3JSYW1wfSksdGhpcy5jb2xvclJhbXBUZXh0dXJlPW51bGw7fXJlc2l6ZSgpe3RoaXMuaGVhdG1hcEZibyYmKHRoaXMuaGVhdG1hcEZiby5kZXN0cm95KCksdGhpcy5oZWF0bWFwRmJvPW51bGwpO31xdWVyeVJhZGl1cyh0KXtyZXR1cm4gb2woXCJoZWF0bWFwLXJhZGl1c1wiLHRoaXMsdCl9cXVlcnlJbnRlcnNlY3RzRmVhdHVyZSh0LGUscixuLHMsYSxvLGwpe2NvbnN0IHU9dGhpcy5wYWludC5nZXQoXCJoZWF0bWFwLXJhZGl1c1wiKS5ldmFsdWF0ZShlLHIpO3JldHVybiBydSh0LG4sYSxvLGwsITAsITAsbmV3IGkoMCwwKSx1KX1oYXNPZmZzY3JlZW5QYXNzKCl7cmV0dXJuIDAhPT10aGlzLnBhaW50LmdldChcImhlYXRtYXAtb3BhY2l0eVwiKSYmXCJub25lXCIhPT10aGlzLnZpc2liaWxpdHl9Z2V0UHJvZ3JhbUlkcygpe3JldHVybiBbXCJoZWF0bWFwXCIsXCJoZWF0bWFwVGV4dHVyZVwiXX1nZXRQcm9ncmFtQ29uZmlndXJhdGlvbih0KXtyZXR1cm4gbmV3IHVvKHRoaXMsdCl9fSxoaWxsc2hhZGU6Y2xhc3MgZXh0ZW5kcyB4b3tjb25zdHJ1Y3Rvcih0KXtzdXBlcih0LHl1KTt9aGFzT2Zmc2NyZWVuUGFzcygpe3JldHVybiAwIT09dGhpcy5wYWludC5nZXQoXCJoaWxsc2hhZGUtZXhhZ2dlcmF0aW9uXCIpJiZcIm5vbmVcIiE9PXRoaXMudmlzaWJpbGl0eX1nZXRQcm9ncmFtSWRzKCl7cmV0dXJuIFtcImhpbGxzaGFkZVwiLFwiaGlsbHNoYWRlUHJlcGFyZVwiXX19LGZpbGw6Y2xhc3MgZXh0ZW5kcyB4b3tjb25zdHJ1Y3Rvcih0KXtzdXBlcih0LHJjKTt9Z2V0UHJvZ3JhbUlkcygpe2NvbnN0IHQ9dGhpcy5wYWludC5nZXQoXCJmaWxsLXBhdHRlcm5cIiksZT10JiZ0LmNvbnN0YW50T3IoMSkscj1bZT9cImZpbGxQYXR0ZXJuXCI6XCJmaWxsXCJdO3JldHVybiB0aGlzLnBhaW50LmdldChcImZpbGwtYW50aWFsaWFzXCIpJiZyLnB1c2goZSYmIXRoaXMuZ2V0UGFpbnRQcm9wZXJ0eShcImZpbGwtb3V0bGluZS1jb2xvclwiKT9cImZpbGxPdXRsaW5lUGF0dGVyblwiOlwiZmlsbE91dGxpbmVcIikscn1nZXRQcm9ncmFtQ29uZmlndXJhdGlvbih0KXtyZXR1cm4gbmV3IHVvKHRoaXMsdCl9cmVjYWxjdWxhdGUodCxlKXtzdXBlci5yZWNhbGN1bGF0ZSh0LGUpO2NvbnN0IHI9dGhpcy5wYWludC5fdmFsdWVzW1wiZmlsbC1vdXRsaW5lLWNvbG9yXCJdO1wiY29uc3RhbnRcIj09PXIudmFsdWUua2luZCYmdm9pZCAwPT09ci52YWx1ZS52YWx1ZSYmKHRoaXMucGFpbnQuX3ZhbHVlc1tcImZpbGwtb3V0bGluZS1jb2xvclwiXT10aGlzLnBhaW50Ll92YWx1ZXNbXCJmaWxsLWNvbG9yXCJdKTt9Y3JlYXRlQnVja2V0KHQpe3JldHVybiBuZXcgdGModCl9cXVlcnlSYWRpdXMoKXtyZXR1cm4gbGwodGhpcy5wYWludC5nZXQoXCJmaWxsLXRyYW5zbGF0ZVwiKSl9cXVlcnlJbnRlcnNlY3RzRmVhdHVyZSh0LGUscixuLGkscyl7cmV0dXJuICF0LnF1ZXJ5R2VvbWV0cnkuaXNBYm92ZUhvcml6b24mJldvKHVsKHQudGlsZXNwYWNlR2VvbWV0cnksdGhpcy5wYWludC5nZXQoXCJmaWxsLXRyYW5zbGF0ZVwiKSx0aGlzLnBhaW50LmdldChcImZpbGwtdHJhbnNsYXRlLWFuY2hvclwiKSxzLmFuZ2xlLHQucGl4ZWxUb1RpbGVVbml0c0ZhY3Rvciksbil9aXNUaWxlQ2xpcHBlZCgpe3JldHVybiAhMH19LFwiZmlsbC1leHRydXNpb25cIjpjbGFzcyBleHRlbmRzIHhve2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQsQ2MpO31jcmVhdGVCdWNrZXQodCl7cmV0dXJuIG5ldyB3Yyh0KX1xdWVyeVJhZGl1cygpe3JldHVybiBsbCh0aGlzLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLXRyYW5zbGF0ZVwiKSl9aXMzRCgpe3JldHVybiAhMH1nZXRQcm9ncmFtSWRzKCl7cmV0dXJuIFt0aGlzLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLXBhdHRlcm5cIikuY29uc3RhbnRPcigxKT9cImZpbGxFeHRydXNpb25QYXR0ZXJuXCI6XCJmaWxsRXh0cnVzaW9uXCJdfWdldFByb2dyYW1Db25maWd1cmF0aW9uKHQpe3JldHVybiBuZXcgdW8odGhpcyx0KX1xdWVyeUludGVyc2VjdHNGZWF0dXJlKHQsZSxyLG4scyxhLG8sbCx1KXtjb25zdCBjPWNsKHRoaXMucGFpbnQuZ2V0KFwiZmlsbC1leHRydXNpb24tdHJhbnNsYXRlXCIpLHRoaXMucGFpbnQuZ2V0KFwiZmlsbC1leHRydXNpb24tdHJhbnNsYXRlLWFuY2hvclwiKSxhLmFuZ2xlLHQucGl4ZWxUb1RpbGVVbml0c0ZhY3RvciksaD10aGlzLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLWhlaWdodFwiKS5ldmFsdWF0ZShlLHIpLHA9dGhpcy5wYWludC5nZXQoXCJmaWxsLWV4dHJ1c2lvbi1iYXNlXCIpLmV2YWx1YXRlKGUsciksZj1bMCwwXSxkPWwmJmEuZWxldmF0aW9uLHk9YS5lbGV2YXRpb24/YS5lbGV2YXRpb24uZXhhZ2dlcmF0aW9uKCk6MSxtPXQudGlsZS5nZXRCdWNrZXQodGhpcyk7aWYoZCYmbSBpbnN0YW5jZW9mIHdjKXtjb25zdCB0PW0uY2VudHJvaWRWZXJ0ZXhBcnJheSxlPXUrMTtpZihlPHQubGVuZ3RoKXtjb25zdCByPXQuZ2V0KGUpO2ZbMF09ci5hX2NlbnRyb2lkX3BvczAsZlsxXT1yLmFfY2VudHJvaWRfcG9zMTt9fWlmKDA9PT1mWzBdJiYxPT09ZlsxXSlyZXR1cm4gITE7XCJnbG9iZVwiPT09YS5wcm9qZWN0aW9uLm5hbWUmJihuPUJjKFtuXSxbbmV3IGkoMCwwKSxuZXcgaSh3byx3byldLHQudGlsZUlELmNhbm9uaWNhbCkubWFwKCh0PT50LnBvbHlnb24pKS5mbGF0KCkpO2NvbnN0IGc9ZnVuY3Rpb24odCxlLHIsbixzLGEsbyxsLHUsYyxoKXtyZXR1cm4gXCJnbG9iZVwiPT09dC5wcm9qZWN0aW9uLm5hbWU/ZnVuY3Rpb24odCxlLHIsbixpLHMsYSxvLGwsdSxjKXtjb25zdCBoPVtdLHA9W10sZj10LnByb2plY3Rpb24udXBWZWN0b3JTY2FsZShjLHQuY2VudGVyLmxhdCx0LndvcmxkU2l6ZSkubWV0ZXJzVG9UaWxlLGQ9WzAsMCwwLDFdLHk9WzAsMCwwLDFdLG09KHQsZSxyLG4pPT57dFswXT1lLHRbMV09cix0WzJdPW4sdFszXT0xO30sZz1UYygpO3I+MCYmKHIrPWcpLG4rPWc7Zm9yKGNvbnN0IGcgb2YgZSl7Y29uc3QgZT1bXSx4PVtdO2Zvcihjb25zdCBoIG9mIGcpe2NvbnN0IHA9aC54K2kueCxnPWgueStpLnksdj10LnByb2plY3Rpb24ucHJvamVjdFRpbGVQb2ludChwLGcsYyksYj10LnByb2plY3Rpb24udXBWZWN0b3IoYyxoLngsaC55KTtsZXQgXz1yLHc9bjtpZihhKXtjb25zdCB0PSRjKHAsZyxyLG4sYSxvLGwsdSk7Xys9dC5iYXNlLHcrPXQudG9wO30wIT09cj9tKGQsdi54K2JbMF0qZipfLHYueStiWzFdKmYqXyx2LnorYlsyXSpmKl8pOm0oZCx2Lngsdi55LHYueiksbSh5LHYueCtiWzBdKmYqdyx2LnkrYlsxXSpmKncsdi56K2JbMl0qZip3KSxqbChkLGQscyksamwoeSx5LHMpLGUucHVzaChqYyhkKSkseC5wdXNoKGpjKHkpKTt9aC5wdXNoKGUpLHAucHVzaCh4KTt9cmV0dXJuIFtoLHBdfSh0LGUscixuLHMsYSxvLGwsdSxjLGgpOm8/ZnVuY3Rpb24odCxlLHIsbixpLHMsYSxvLGwpe2NvbnN0IHU9W10sYz1bXSxoPVswLDAsMCwxXTtmb3IoY29uc3QgcCBvZiB0KXtjb25zdCB0PVtdLGY9W107Zm9yKGNvbnN0IHUgb2YgcCl7Y29uc3QgYz11Lngrbi54LHA9dS55K24ueSxkPSRjKGMscCxlLHIscyxhLG8sbCk7aFswXT1jLGhbMV09cCxoWzJdPWQuYmFzZSxoWzNdPTEsWGwoaCxoLGkpLGhbM109TWF0aC5tYXgoaFszXSwxZS01KTtjb25zdCB5PWpjKFtoWzBdL2hbM10saFsxXS9oWzNdLGhbMl0vaFszXV0pO2hbMF09YyxoWzFdPXAsaFsyXT1kLnRvcCxoWzNdPTEsWGwoaCxoLGkpLGhbM109TWF0aC5tYXgoaFszXSwxZS01KTtjb25zdCBtPWpjKFtoWzBdL2hbM10saFsxXS9oWzNdLGhbMl0vaFszXV0pO3QucHVzaCh5KSxmLnB1c2gobSk7fXUucHVzaCh0KSxjLnB1c2goZik7fXJldHVybiBbdSxjXX0oZSxyLG4scyxhLG8sbCx1LGMpOmZ1bmN0aW9uKHQsZSxyLG4scyl7Y29uc3QgYT1bXSxvPVtdLGw9c1s4XSplLHU9c1s5XSplLGM9c1sxMF0qZSxoPXNbMTFdKmUscD1zWzhdKnIsZj1zWzldKnIsZD1zWzEwXSpyLHk9c1sxMV0qcjtmb3IoY29uc3QgZSBvZiB0KXtjb25zdCB0PVtdLHI9W107Zm9yKGNvbnN0IGEgb2YgZSl7Y29uc3QgZT1hLngrbi54LG89YS55K24ueSxtPXNbMF0qZStzWzRdKm8rc1sxMl0sZz1zWzFdKmUrc1s1XSpvK3NbMTNdLHg9c1syXSplK3NbNl0qbytzWzE0XSx2PXNbM10qZStzWzddKm8rc1sxNV0sYj1tK2wsXz1nK3Usdz14K2MsQT1NYXRoLm1heCh2K2gsMWUtNSksUz1tK3Asaz1nK2YsST14K2QsTT1NYXRoLm1heCh2K3ksMWUtNSksej1uZXcgaShiL0EsXy9BKTt6Lno9dy9BLHQucHVzaCh6KTtjb25zdCBUPW5ldyBpKFMvTSxrL00pO1Quej1JL00sci5wdXNoKFQpO31hLnB1c2godCksby5wdXNoKHIpO31yZXR1cm4gW2Esb119KGUscixuLHMsYSl9KGEsbixwLGgsYyxvLGQ/bDpudWxsLGYseSxhLmNlbnRlci5sYXQsdC50aWxlSUQuY2Fub25pY2FsKSx4PXQucXVlcnlHZW9tZXRyeTtyZXR1cm4gZnVuY3Rpb24odCxlLHIpe2xldCBuPTEvMDtXbyhyLGUpJiYobj1VYyhyLGVbMF0pKTtmb3IobGV0IGk9MDtpPGUubGVuZ3RoO2krKyl7Y29uc3Qgcz1lW2ldLGE9dFtpXTtmb3IobGV0IHQ9MDt0PHMubGVuZ3RoLTE7dCsrKXtjb25zdCBlPXNbdF0saT1bZSxzW3QrMV0sYVt0KzFdLGFbdF0sZV07SG8ocixpKSYmKG49TWF0aC5taW4obixVYyhyLGkpKSk7fX1yZXR1cm4gbiE9PTEvMCYmbn0oZ1swXSxnWzFdLHguaXNQb2ludFF1ZXJ5KCk/eC5zY3JlZW5Cb3VuZHM6eC5zY3JlZW5HZW9tZXRyeSl9fSxsaW5lOmNsYXNzIGV4dGVuZHMgeG97Y29uc3RydWN0b3IodCl7c3VwZXIodCxZYyksdGhpcy5ncmFkaWVudFZlcnNpb249MDt9X2hhbmRsZVNwZWNpYWxQYWludFByb3BlcnR5VXBkYXRlKHQpe2lmKFwibGluZS1ncmFkaWVudFwiPT09dCl7Y29uc3QgdD10aGlzLl90cmFuc2l0aW9uYWJsZVBhaW50Ll92YWx1ZXNbXCJsaW5lLWdyYWRpZW50XCJdLnZhbHVlLmV4cHJlc3Npb247dGhpcy5zdGVwSW50ZXJwb2xhbnQ9dC5fc3R5bGVFeHByZXNzaW9uJiZ0Ll9zdHlsZUV4cHJlc3Npb24uZXhwcmVzc2lvbiBpbnN0YW5jZW9mIGdyLHRoaXMuZ3JhZGllbnRWZXJzaW9uPSh0aGlzLmdyYWRpZW50VmVyc2lvbisxKSVOdW1iZXIuTUFYX1NBRkVfSU5URUdFUjt9fWdyYWRpZW50RXhwcmVzc2lvbigpe3JldHVybiB0aGlzLl90cmFuc2l0aW9uYWJsZVBhaW50Ll92YWx1ZXNbXCJsaW5lLWdyYWRpZW50XCJdLnZhbHVlLmV4cHJlc3Npb259cmVjYWxjdWxhdGUodCxlKXtzdXBlci5yZWNhbGN1bGF0ZSh0LGUpLHRoaXMucGFpbnQuX3ZhbHVlc1tcImxpbmUtZmxvb3J3aWR0aFwiXT1XYy5wb3NzaWJseUV2YWx1YXRlKHRoaXMuX3RyYW5zaXRpb25pbmdQYWludC5fdmFsdWVzW1wibGluZS13aWR0aFwiXS52YWx1ZSx0KTt9Y3JlYXRlQnVja2V0KHQpe3JldHVybiBuZXcgS2ModCl9Z2V0UHJvZ3JhbUlkcygpe3JldHVybiBbdGhpcy5wYWludC5nZXQoXCJsaW5lLXBhdHRlcm5cIikuY29uc3RhbnRPcigxKT9cImxpbmVQYXR0ZXJuXCI6XCJsaW5lXCJdfWdldFByb2dyYW1Db25maWd1cmF0aW9uKHQpe3JldHVybiBuZXcgdW8odGhpcyx0KX1xdWVyeVJhZGl1cyh0KXtjb25zdCBlPXQscj1KYyhvbChcImxpbmUtd2lkdGhcIix0aGlzLGUpLG9sKFwibGluZS1nYXAtd2lkdGhcIix0aGlzLGUpKSxuPW9sKFwibGluZS1vZmZzZXRcIix0aGlzLGUpO3JldHVybiByLzIrTWF0aC5hYnMobikrbGwodGhpcy5wYWludC5nZXQoXCJsaW5lLXRyYW5zbGF0ZVwiKSl9cXVlcnlJbnRlcnNlY3RzRmVhdHVyZSh0LGUscixuLHMsYSl7aWYodC5xdWVyeUdlb21ldHJ5LmlzQWJvdmVIb3Jpem9uKXJldHVybiAhMTtjb25zdCBvPXVsKHQudGlsZXNwYWNlR2VvbWV0cnksdGhpcy5wYWludC5nZXQoXCJsaW5lLXRyYW5zbGF0ZVwiKSx0aGlzLnBhaW50LmdldChcImxpbmUtdHJhbnNsYXRlLWFuY2hvclwiKSxhLmFuZ2xlLHQucGl4ZWxUb1RpbGVVbml0c0ZhY3RvciksbD10LnBpeGVsVG9UaWxlVW5pdHNGYWN0b3IvMipKYyh0aGlzLnBhaW50LmdldChcImxpbmUtd2lkdGhcIikuZXZhbHVhdGUoZSxyKSx0aGlzLnBhaW50LmdldChcImxpbmUtZ2FwLXdpZHRoXCIpLmV2YWx1YXRlKGUscikpLHU9dGhpcy5wYWludC5nZXQoXCJsaW5lLW9mZnNldFwiKS5ldmFsdWF0ZShlLHIpO3JldHVybiB1JiYobj1mdW5jdGlvbih0LGUpe2NvbnN0IHI9W10sbj1uZXcgaSgwLDApO2ZvcihsZXQgaT0wO2k8dC5sZW5ndGg7aSsrKXtjb25zdCBzPXRbaV0sYT1bXTtmb3IobGV0IHQ9MDt0PHMubGVuZ3RoO3QrKyl7Y29uc3Qgcj1zW3QtMV0saT1zW3RdLG89c1t0KzFdLGw9MD09PXQ/bjppLnN1YihyKS5fdW5pdCgpLl9wZXJwKCksdT10PT09cy5sZW5ndGgtMT9uOm8uc3ViKGkpLl91bml0KCkuX3BlcnAoKSxjPWwuX2FkZCh1KS5fdW5pdCgpO2MuX211bHQoMS8oYy54KnUueCtjLnkqdS55KSksYS5wdXNoKGMuX211bHQoZSkuX2FkZChpKSk7fXIucHVzaChhKTt9cmV0dXJuIHJ9KG4sdSp0LnBpeGVsVG9UaWxlVW5pdHNGYWN0b3IpKSxmdW5jdGlvbih0LGUscil7Zm9yKGxldCBuPTA7bjxlLmxlbmd0aDtuKyspe2NvbnN0IGk9ZVtuXTtpZih0Lmxlbmd0aD49Mylmb3IobGV0IGU9MDtlPGkubGVuZ3RoO2UrKylpZihpbCh0LGlbZV0pKXJldHVybiAhMDtpZihKbyh0LGkscikpcmV0dXJuICEwfXJldHVybiAhMX0obyxuLGwpfWlzVGlsZUNsaXBwZWQoKXtyZXR1cm4gITB9fSxzeW1ib2w6bmQsYmFja2dyb3VuZDpjbGFzcyBleHRlbmRzIHhve2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQsaWQpO31nZXRQcm9ncmFtSWRzKCl7cmV0dXJuIFt0aGlzLnBhaW50LmdldChcImJhY2tncm91bmQtcGF0dGVyblwiKT9cImJhY2tncm91bmRQYXR0ZXJuXCI6XCJiYWNrZ3JvdW5kXCJdfX0scmFzdGVyOmNsYXNzIGV4dGVuZHMgeG97Y29uc3RydWN0b3IodCl7c3VwZXIodCxzZCk7fWdldFByb2dyYW1JZHMoKXtyZXR1cm4gW1wicmFzdGVyXCJdfX0sc2t5OmNsYXNzIGV4dGVuZHMgeG97Y29uc3RydWN0b3IodCl7c3VwZXIodCxvZCksdGhpcy5fdXBkYXRlQ29sb3JSYW1wKCk7fV9oYW5kbGVTcGVjaWFsUGFpbnRQcm9wZXJ0eVVwZGF0ZSh0KXtcInNreS1ncmFkaWVudFwiPT09dD90aGlzLl91cGRhdGVDb2xvclJhbXAoKTpcInNreS1hdG1vc3BoZXJlLXN1blwiIT09dCYmXCJza3ktYXRtb3NwaGVyZS1oYWxvLWNvbG9yXCIhPT10JiZcInNreS1hdG1vc3BoZXJlLWNvbG9yXCIhPT10JiZcInNreS1hdG1vc3BoZXJlLXN1bi1pbnRlbnNpdHlcIiE9PXR8fCh0aGlzLl9za3lib3hJbnZhbGlkYXRlZD0hMCk7fV91cGRhdGVDb2xvclJhbXAoKXt0aGlzLmNvbG9yUmFtcD1kdSh7ZXhwcmVzc2lvbjp0aGlzLl90cmFuc2l0aW9uYWJsZVBhaW50Ll92YWx1ZXNbXCJza3ktZ3JhZGllbnRcIl0udmFsdWUuZXhwcmVzc2lvbixldmFsdWF0aW9uS2V5Olwic2t5UmFkaWFsUHJvZ3Jlc3NcIn0pLHRoaXMuY29sb3JSYW1wVGV4dHVyZSYmKHRoaXMuY29sb3JSYW1wVGV4dHVyZS5kZXN0cm95KCksdGhpcy5jb2xvclJhbXBUZXh0dXJlPW51bGwpO31uZWVkc1NreWJveENhcHR1cmUodCl7aWYodGhpcy5fc2t5Ym94SW52YWxpZGF0ZWR8fCF0aGlzLnNreWJveFRleHR1cmV8fCF0aGlzLnNreWJveEdlb21ldHJ5KXJldHVybiAhMDtpZighdGhpcy5wYWludC5nZXQoXCJza3ktYXRtb3NwaGVyZS1zdW5cIikpe2NvbnN0IGU9dC5zdHlsZS5saWdodC5wcm9wZXJ0aWVzLmdldChcInBvc2l0aW9uXCIpO3JldHVybiB0aGlzLl9saWdodFBvc2l0aW9uLmF6aW11dGhhbCE9PWUuYXppbXV0aGFsfHx0aGlzLl9saWdodFBvc2l0aW9uLnBvbGFyIT09ZS5wb2xhcn1yZXR1cm4gITF9Z2V0Q2VudGVyKHQsZSl7aWYoXCJhdG1vc3BoZXJlXCI9PT10aGlzLnBhaW50LmdldChcInNreS10eXBlXCIpKXtjb25zdCByPXRoaXMucGFpbnQuZ2V0KFwic2t5LWF0bW9zcGhlcmUtc3VuXCIpLG49IXIsaT10LnN0eWxlLmxpZ2h0LHM9aS5wcm9wZXJ0aWVzLmdldChcInBvc2l0aW9uXCIpO3JldHVybiBuJiZcInZpZXdwb3J0XCI9PT1pLnByb3BlcnRpZXMuZ2V0KFwiYW5jaG9yXCIpJiZFKFwiVGhlIHN1biBkaXJlY3Rpb24gaXMgYXR0YWNoZWQgdG8gYSBsaWdodCB3aXRoIHZpZXdwb3J0IGFuY2hvciwgbGlnaHRpbmcgbWF5IGJlaGF2ZSB1bmV4cGVjdGVkbHkuXCIpLG4/bGQocy5hemltdXRoYWwsOTAtcy5wb2xhcixlKTpsZChyWzBdLDkwLXJbMV0sZSl9Y29uc3Qgcj10aGlzLnBhaW50LmdldChcInNreS1ncmFkaWVudC1jZW50ZXJcIik7cmV0dXJuIGxkKHJbMF0sOTAtclsxXSxlKX1pczNEKCl7cmV0dXJuICExfWlzU2t5KCl7cmV0dXJuICEwfW1hcmtTa3lib3hWYWxpZCh0KXt0aGlzLl9za3lib3hJbnZhbGlkYXRlZD0hMSx0aGlzLl9saWdodFBvc2l0aW9uPXQuc3R5bGUubGlnaHQucHJvcGVydGllcy5nZXQoXCJwb3NpdGlvblwiKTt9aGFzT2Zmc2NyZWVuUGFzcygpe3JldHVybiAhMH1nZXRQcm9ncmFtSWRzKCl7Y29uc3QgdD10aGlzLnBhaW50LmdldChcInNreS10eXBlXCIpO3JldHVybiBcImF0bW9zcGhlcmVcIj09PXQ/W1wic2t5Ym94Q2FwdHVyZVwiLFwic2t5Ym94XCJdOlwiZ3JhZGllbnRcIj09PXQ/W1wic2t5Ym94R3JhZGllbnRcIl06bnVsbH19fTtjbGFzcyBjZHtjb25zdHJ1Y3Rvcih0LGUscixuKXt0aGlzLmNvbnRleHQ9dCx0aGlzLmZvcm1hdD1yLHRoaXMudGV4dHVyZT10LmdsLmNyZWF0ZVRleHR1cmUoKSx0aGlzLnVwZGF0ZShlLG4pO311cGRhdGUodCxyLG4pe2NvbnN0e3dpZHRoOmksaGVpZ2h0OnN9PXQse2NvbnRleHQ6YX09dGhpcyx7Z2w6b309YSx7SFRNTEltYWdlRWxlbWVudDpsLEhUTUxDYW52YXNFbGVtZW50OnUsSFRNTFZpZGVvRWxlbWVudDpjLEltYWdlRGF0YTpoLEltYWdlQml0bWFwOnB9PWU7aWYoby5iaW5kVGV4dHVyZShvLlRFWFRVUkVfMkQsdGhpcy50ZXh0dXJlKSxhLnBpeGVsU3RvcmVVbnBhY2tGbGlwWS5zZXQoITEpLGEucGl4ZWxTdG9yZVVucGFjay5zZXQoMSksYS5waXhlbFN0b3JlVW5wYWNrUHJlbXVsdGlwbHlBbHBoYS5zZXQodGhpcy5mb3JtYXQ9PT1vLlJHQkEmJighcnx8ITEhPT1yLnByZW11bHRpcGx5KSksbnx8dGhpcy5zaXplJiZ0aGlzLnNpemVbMF09PT1pJiZ0aGlzLnNpemVbMV09PT1zKXtjb25zdHt4OmUseTpyfT1ufHx7eDowLHk6MH07dCBpbnN0YW5jZW9mIGx8fHQgaW5zdGFuY2VvZiB1fHx0IGluc3RhbmNlb2YgY3x8dCBpbnN0YW5jZW9mIGh8fHAmJnQgaW5zdGFuY2VvZiBwP28udGV4U3ViSW1hZ2UyRChvLlRFWFRVUkVfMkQsMCxlLHIsby5SR0JBLG8uVU5TSUdORURfQllURSx0KTpvLnRleFN1YkltYWdlMkQoby5URVhUVVJFXzJELDAsZSxyLGkscyxvLlJHQkEsby5VTlNJR05FRF9CWVRFLHQuZGF0YSk7fWVsc2UgdGhpcy5zaXplPVtpLHNdLHQgaW5zdGFuY2VvZiBsfHx0IGluc3RhbmNlb2YgdXx8dCBpbnN0YW5jZW9mIGN8fHQgaW5zdGFuY2VvZiBofHxwJiZ0IGluc3RhbmNlb2YgcD9vLnRleEltYWdlMkQoby5URVhUVVJFXzJELDAsdGhpcy5mb3JtYXQsdGhpcy5mb3JtYXQsby5VTlNJR05FRF9CWVRFLHQpOm8udGV4SW1hZ2UyRChvLlRFWFRVUkVfMkQsMCx0aGlzLmZvcm1hdCxpLHMsMCx0aGlzLmZvcm1hdCxvLlVOU0lHTkVEX0JZVEUsdC5kYXRhKTt0aGlzLnVzZU1pcG1hcD1Cb29sZWFuKHImJnIudXNlTWlwbWFwJiZ0aGlzLmlzU2l6ZVBvd2VyT2ZUd28oKSksdGhpcy51c2VNaXBtYXAmJm8uZ2VuZXJhdGVNaXBtYXAoby5URVhUVVJFXzJEKTt9YmluZCh0LGUpe2NvbnN0e2NvbnRleHQ6cn09dGhpcyx7Z2w6bn09cjtuLmJpbmRUZXh0dXJlKG4uVEVYVFVSRV8yRCx0aGlzLnRleHR1cmUpLHQhPT10aGlzLmZpbHRlciYmKG4udGV4UGFyYW1ldGVyaShuLlRFWFRVUkVfMkQsbi5URVhUVVJFX01BR19GSUxURVIsdCksbi50ZXhQYXJhbWV0ZXJpKG4uVEVYVFVSRV8yRCxuLlRFWFRVUkVfTUlOX0ZJTFRFUix0aGlzLnVzZU1pcG1hcD90PT09bi5ORUFSRVNUP24uTkVBUkVTVF9NSVBNQVBfTkVBUkVTVDpuLkxJTkVBUl9NSVBNQVBfTkVBUkVTVDp0KSx0aGlzLmZpbHRlcj10KSxlIT09dGhpcy53cmFwJiYobi50ZXhQYXJhbWV0ZXJpKG4uVEVYVFVSRV8yRCxuLlRFWFRVUkVfV1JBUF9TLGUpLG4udGV4UGFyYW1ldGVyaShuLlRFWFRVUkVfMkQsbi5URVhUVVJFX1dSQVBfVCxlKSx0aGlzLndyYXA9ZSk7fWlzU2l6ZVBvd2VyT2ZUd28oKXtyZXR1cm4gdGhpcy5zaXplWzBdPT09dGhpcy5zaXplWzFdJiZNYXRoLmxvZyh0aGlzLnNpemVbMF0pL01hdGguTE4yJTE9PTB9ZGVzdHJveSgpe2NvbnN0e2dsOnR9PXRoaXMuY29udGV4dDt0LmRlbGV0ZVRleHR1cmUodGhpcy50ZXh0dXJlKSx0aGlzLnRleHR1cmU9bnVsbDt9fWNsYXNzIGhke2NvbnN0cnVjdG9yKHQsZSl7dGhpcy53aWR0aD10LHRoaXMuaGVpZ2h0PWUsdGhpcy5uZXh0Um93PTAsdGhpcy5pbWFnZT1uZXcgaHUoe3dpZHRoOnQsaGVpZ2h0OmV9KSx0aGlzLnBvc2l0aW9ucz17fSx0aGlzLnVwbG9hZGVkPSExO31nZXREYXNoKHQsZSl7Y29uc3Qgcj10aGlzLmdldEtleSh0LGUpO3JldHVybiB0aGlzLnBvc2l0aW9uc1tyXX10cmltKCl7Y29uc3QgdD10aGlzLndpZHRoLGU9dGhpcy5oZWlnaHQ9QSh0aGlzLm5leHRSb3cpO3RoaXMuaW1hZ2UucmVzaXplKHt3aWR0aDp0LGhlaWdodDplfSk7fWdldEtleSh0LGUpe3JldHVybiB0LmpvaW4oXCIsXCIpK2V9Z2V0RGFzaFJhbmdlcyh0LGUscil7Y29uc3Qgbj1bXTtsZXQgaT10Lmxlbmd0aCUyPT0xPy10W3QubGVuZ3RoLTFdKnI6MCxzPXRbMF0qcixhPSEwO24ucHVzaCh7bGVmdDppLHJpZ2h0OnMsaXNEYXNoOmEsemVyb0xlbmd0aDowPT09dFswXX0pO2xldCBvPXRbMF07Zm9yKGxldCBlPTE7ZTx0Lmxlbmd0aDtlKyspe2E9IWE7Y29uc3QgbD10W2VdO2k9bypyLG8rPWwscz1vKnIsbi5wdXNoKHtsZWZ0OmkscmlnaHQ6cyxpc0Rhc2g6YSx6ZXJvTGVuZ3RoOjA9PT1sfSk7fXJldHVybiBufWFkZFJvdW5kRGFzaCh0LGUscil7Y29uc3Qgbj1lLzI7Zm9yKGxldCBlPS1yO2U8PXI7ZSsrKXtjb25zdCBpPXRoaXMud2lkdGgqKHRoaXMubmV4dFJvdytyK2UpO2xldCBzPTAsYT10W3NdO2ZvcihsZXQgbz0wO288dGhpcy53aWR0aDtvKyspe28vYS5yaWdodD4xJiYoYT10Wysrc10pO2NvbnN0IGw9TWF0aC5hYnMoby1hLmxlZnQpLHU9TWF0aC5hYnMoby1hLnJpZ2h0KSxjPU1hdGgubWluKGwsdSk7bGV0IGg7Y29uc3QgcD1lL3IqKG4rMSk7aWYoYS5pc0Rhc2gpe2NvbnN0IHQ9bi1NYXRoLmFicyhwKTtoPU1hdGguc3FydChjKmMrdCp0KTt9ZWxzZSBoPW4tTWF0aC5zcXJ0KGMqYytwKnApO3RoaXMuaW1hZ2UuZGF0YVtpK29dPU1hdGgubWF4KDAsTWF0aC5taW4oMjU1LGgrMTI4KSk7fX19YWRkUmVndWxhckRhc2godCxlKXtmb3IobGV0IGU9dC5sZW5ndGgtMTtlPj0wOy0tZSl7Y29uc3Qgcj10W2VdLG49dFtlKzFdO3IuemVyb0xlbmd0aD90LnNwbGljZShlLDEpOm4mJm4uaXNEYXNoPT09ci5pc0Rhc2gmJihuLmxlZnQ9ci5sZWZ0LHQuc3BsaWNlKGUsMSkpO31jb25zdCByPXRbMF0sbj10W3QubGVuZ3RoLTFdO3IuaXNEYXNoPT09bi5pc0Rhc2gmJihyLmxlZnQ9bi5sZWZ0LXRoaXMud2lkdGgsbi5yaWdodD1yLnJpZ2h0K3RoaXMud2lkdGgpO2NvbnN0IGk9dGhpcy53aWR0aCp0aGlzLm5leHRSb3c7bGV0IHM9MCxhPXRbc107Zm9yKGxldCByPTA7cjx0aGlzLndpZHRoO3IrKyl7ci9hLnJpZ2h0PjEmJihhPXRbKytzXSk7Y29uc3Qgbj1NYXRoLmFicyhyLWEubGVmdCksbz1NYXRoLmFicyhyLWEucmlnaHQpLGw9TWF0aC5taW4obixvKTt0aGlzLmltYWdlLmRhdGFbaStyXT1NYXRoLm1heCgwLE1hdGgubWluKDI1NSwoYS5pc0Rhc2g/bDotbCkrZSsxMjgpKTt9fWFkZERhc2godCxlKXtjb25zdCByPXRoaXMuZ2V0S2V5KHQsZSk7aWYodGhpcy5wb3NpdGlvbnNbcl0pcmV0dXJuIHRoaXMucG9zaXRpb25zW3JdO2NvbnN0IG49XCJyb3VuZFwiPT09ZSxpPW4/NzowLHM9MippKzE7aWYodGhpcy5uZXh0Um93K3M+dGhpcy5oZWlnaHQpcmV0dXJuIEUoXCJMaW5lQXRsYXMgb3V0IG9mIHNwYWNlXCIpLG51bGw7MD09PXQubGVuZ3RoJiZ0LnB1c2goMSk7bGV0IGE9MDtmb3IobGV0IGU9MDtlPHQubGVuZ3RoO2UrKyl0W2VdPDAmJihFKFwiTmVnYXRpdmUgdmFsdWUgaXMgZm91bmQgaW4gbGluZSBkYXNoYXJyYXksIHJlcGxhY2luZyB2YWx1ZXMgd2l0aCAwXCIpLHRbZV09MCksYSs9dFtlXTtpZigwIT09YSl7Y29uc3Qgcj10aGlzLndpZHRoL2Escz10aGlzLmdldERhc2hSYW5nZXModCx0aGlzLndpZHRoLHIpO24/dGhpcy5hZGRSb3VuZERhc2gocyxyLGkpOnRoaXMuYWRkUmVndWxhckRhc2gocyxcInNxdWFyZVwiPT09ZT8uNSpyOjApO31jb25zdCBvPXRoaXMubmV4dFJvdytpO3RoaXMubmV4dFJvdys9cztjb25zdCBsPXt0bDpbbyxpXSxicjpbYSwwXX07cmV0dXJuIHRoaXMucG9zaXRpb25zW3JdPWwsbH19UGkoaGQsXCJMaW5lQXRsYXNcIik7Y2xhc3MgcGR7Y29uc3RydWN0b3IodCl7dGhpcy5fY2FsbGJhY2s9dCx0aGlzLl90cmlnZ2VyZWQ9ITEsXCJ1bmRlZmluZWRcIiE9dHlwZW9mIE1lc3NhZ2VDaGFubmVsJiYodGhpcy5fY2hhbm5lbD1uZXcgTWVzc2FnZUNoYW5uZWwsdGhpcy5fY2hhbm5lbC5wb3J0Mi5vbm1lc3NhZ2U9KCk9Pnt0aGlzLl90cmlnZ2VyZWQ9ITEsdGhpcy5fY2FsbGJhY2soKTt9KTt9dHJpZ2dlcigpe3RoaXMuX3RyaWdnZXJlZHx8KHRoaXMuX3RyaWdnZXJlZD0hMCx0aGlzLl9jaGFubmVsP3RoaXMuX2NoYW5uZWwucG9ydDEucG9zdE1lc3NhZ2UoITApOnNldFRpbWVvdXQoKCgpPT57dGhpcy5fdHJpZ2dlcmVkPSExLHRoaXMuX2NhbGxiYWNrKCk7fSksMCkpO31yZW1vdmUoKXt0aGlzLl9jaGFubmVsPXZvaWQgMCx0aGlzLl9jYWxsYmFjaz0oKT0+e307fX1jbGFzcyBmZHtjb25zdHJ1Y3Rvcigpe3RoaXMudGFza3M9e30sdGhpcy50YXNrUXVldWU9W10sayhbXCJwcm9jZXNzXCJdLHRoaXMpLHRoaXMuaW52b2tlcj1uZXcgcGQodGhpcy5wcm9jZXNzKSx0aGlzLm5leHRJZD0wO31hZGQodCxlKXtjb25zdCByPXRoaXMubmV4dElkKyssbj1mdW5jdGlvbih7dHlwZTp0LGlzU3ltYm9sVGlsZTplLHpvb206cn0pe3JldHVybiByPXJ8fDAsXCJtZXNzYWdlXCI9PT10PzA6XCJtYXliZVByZXBhcmVcIiE9PXR8fGU/XCJwYXJzZVRpbGVcIiE9PXR8fGU/XCJwYXJzZVRpbGVcIj09PXQmJmU/MzAwLXI6XCJtYXliZVByZXBhcmVcIj09PXQmJmU/NDAwLXI6NTAwOjIwMC1yOjEwMC1yfShlKTtpZigwPT09bil7RCgpO3RyeXt0KCk7fWZpbmFsbHl7fXJldHVybiB7Y2FuY2VsOigpPT57fX19cmV0dXJuIHRoaXMudGFza3Nbcl09e2ZuOnQsbWV0YWRhdGE6ZSxwcmlvcml0eTpuLGlkOnJ9LHRoaXMudGFza1F1ZXVlLnB1c2gociksdGhpcy5pbnZva2VyLnRyaWdnZXIoKSx7Y2FuY2VsOigpPT57ZGVsZXRlIHRoaXMudGFza3Nbcl07fX19cHJvY2Vzcygpe0QoKTt0cnl7aWYodGhpcy50YXNrUXVldWU9dGhpcy50YXNrUXVldWUuZmlsdGVyKCh0PT4hIXRoaXMudGFza3NbdF0pKSwhdGhpcy50YXNrUXVldWUubGVuZ3RoKXJldHVybjtjb25zdCB0PXRoaXMucGljaygpO2lmKG51bGw9PT10KXJldHVybjtjb25zdCBlPXRoaXMudGFza3NbdF07aWYoZGVsZXRlIHRoaXMudGFza3NbdF0sdGhpcy50YXNrUXVldWUubGVuZ3RoJiZ0aGlzLmludm9rZXIudHJpZ2dlcigpLCFlKXJldHVybjtlLmZuKCk7fWZpbmFsbHl7fX1waWNrKCl7bGV0IHQ9bnVsbCxlPTEvMDtmb3IobGV0IHI9MDtyPHRoaXMudGFza1F1ZXVlLmxlbmd0aDtyKyspe2NvbnN0IG49dGhpcy50YXNrc1t0aGlzLnRhc2tRdWV1ZVtyXV07bi5wcmlvcml0eTxlJiYoZT1uLnByaW9yaXR5LHQ9cik7fWlmKG51bGw9PT10KXJldHVybiBudWxsO2NvbnN0IHI9dGhpcy50YXNrUXVldWVbdF07cmV0dXJuIHRoaXMudGFza1F1ZXVlLnNwbGljZSh0LDEpLHJ9cmVtb3ZlKCl7dGhpcy5pbnZva2VyLnJlbW92ZSgpO319Y2xhc3MgZGR7Y29uc3RydWN0b3IodCl7dGhpcy5fc3RyaW5nVG9OdW1iZXI9e30sdGhpcy5fbnVtYmVyVG9TdHJpbmc9W107Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDtlKyspe2NvbnN0IHI9dFtlXTt0aGlzLl9zdHJpbmdUb051bWJlcltyXT1lLHRoaXMuX251bWJlclRvU3RyaW5nW2VdPXI7fX1lbmNvZGUodCl7cmV0dXJuIHRoaXMuX3N0cmluZ1RvTnVtYmVyW3RdfWRlY29kZSh0KXtyZXR1cm4gdGhpcy5fbnVtYmVyVG9TdHJpbmdbdF19fWNvbnN0IHlkPVtcInRpbGVcIixcImxheWVyXCIsXCJzb3VyY2VcIixcInNvdXJjZUxheWVyXCIsXCJzdGF0ZVwiXTtjbGFzcyBtZHtjb25zdHJ1Y3Rvcih0LGUscixuLGkpe3RoaXMudHlwZT1cIkZlYXR1cmVcIix0aGlzLl92ZWN0b3JUaWxlRmVhdHVyZT10LHRoaXMuX3o9ZSx0aGlzLl94PXIsdGhpcy5feT1uLHRoaXMucHJvcGVydGllcz10LnByb3BlcnRpZXMsdGhpcy5pZD1pO31nZXQgZ2VvbWV0cnkoKXtyZXR1cm4gdm9pZCAwPT09dGhpcy5fZ2VvbWV0cnkmJih0aGlzLl9nZW9tZXRyeT10aGlzLl92ZWN0b3JUaWxlRmVhdHVyZS50b0dlb0pTT04odGhpcy5feCx0aGlzLl95LHRoaXMuX3opLmdlb21ldHJ5KSx0aGlzLl9nZW9tZXRyeX1zZXQgZ2VvbWV0cnkodCl7dGhpcy5fZ2VvbWV0cnk9dDt9dG9KU09OKCl7Y29uc3QgdD17dHlwZTpcIkZlYXR1cmVcIixnZW9tZXRyeTp0aGlzLmdlb21ldHJ5LHByb3BlcnRpZXM6dGhpcy5wcm9wZXJ0aWVzfTt2b2lkIDAhPT10aGlzLmlkJiYodC5pZD10aGlzLmlkKTtmb3IoY29uc3QgZSBvZiB5ZCl2b2lkIDAhPT10aGlzW2VdJiYodFtlXT10aGlzW2VdKTtyZXR1cm4gdH19Y29uc3QgZ2Q9MzIseGQ9MzMsdmQ9bmV3IFVpbnQxNkFycmF5KDgxODQpO2ZvcihsZXQgdD0wO3Q8MjA0Njt0Kyspe2xldCBlPXQrMixyPTAsbj0wLGk9MCxzPTAsYT0wLG89MDtmb3IoMSZlP2k9cz1hPWdkOnI9bj1vPWdkOyhlPj49MSk+MTspe2NvbnN0IHQ9citpPj4xLGw9bitzPj4xOzEmZT8oaT1yLHM9bixyPWEsbj1vKToocj1pLG49cyxpPWEscz1vKSxhPXQsbz1sO31jb25zdCBsPTQqdDt2ZFtsKzBdPXIsdmRbbCsxXT1uLHZkW2wrMl09aSx2ZFtsKzNdPXM7fWNvbnN0IGJkPW5ldyBVaW50MTZBcnJheSgyMTc4KSxfZD1uZXcgVWludDhBcnJheSgxMDg5KSx3ZD1uZXcgVWludDE2QXJyYXkoMTA4OSk7ZnVuY3Rpb24gQWQodCl7cmV0dXJuIDA9PT10Py0uMDMxMjU6MzI9PT10Py4wMzEyNTowfXZhciBTZD1Xcyhbe25hbWU6XCJhX3Bvc1wiLHR5cGU6XCJJbnQxNlwiLGNvbXBvbmVudHM6Mn0se25hbWU6XCJhX3RleHR1cmVfcG9zXCIsdHlwZTpcIkludDE2XCIsY29tcG9uZW50czoyfV0pO2NvbnN0IGtkPXt0eXBlOjIsZXh0ZW50OndvLGxvYWRHZW9tZXRyeTooKT0+W1tuZXcgaSgwLDApLG5ldyBpKDgxOTMsMCksbmV3IGkoODE5Myw4MTkzKSxuZXcgaSgwLDgxOTMpLG5ldyBpKDAsMCldXX07Y2xhc3MgSWR7Y29uc3RydWN0b3IodCxlLHIsbixpKXt0aGlzLnRpbGVJRD10LHRoaXMudWlkPV8oKSx0aGlzLnVzZXM9MCx0aGlzLnRpbGVTaXplPWUsdGhpcy50aWxlWm9vbT1yLHRoaXMuYnVja2V0cz17fSx0aGlzLmV4cGlyYXRpb25UaW1lPW51bGwsdGhpcy5xdWVyeVBhZGRpbmc9MCx0aGlzLmhhc1N5bWJvbEJ1Y2tldHM9ITEsdGhpcy5oYXNSVExUZXh0PSExLHRoaXMuZGVwZW5kZW5jaWVzPXt9LHRoaXMuaXNSYXN0ZXI9aSx0aGlzLmV4cGlyZWRSZXF1ZXN0Q291bnQ9MCx0aGlzLnN0YXRlPVwibG9hZGluZ1wiLG4mJm4udHJhbnNmb3JtJiYodGhpcy5wcm9qZWN0aW9uPW4udHJhbnNmb3JtLnByb2plY3Rpb24pO31yZWdpc3RlckZhZGVEdXJhdGlvbih0KXtjb25zdCBlPXQrdGhpcy50aW1lQWRkZWQ7ZTxYLm5vdygpfHx0aGlzLmZhZGVFbmRUaW1lJiZlPHRoaXMuZmFkZUVuZFRpbWV8fCh0aGlzLmZhZGVFbmRUaW1lPWUpO313YXNSZXF1ZXN0ZWQoKXtyZXR1cm4gXCJlcnJvcmVkXCI9PT10aGlzLnN0YXRlfHxcImxvYWRlZFwiPT09dGhpcy5zdGF0ZXx8XCJyZWxvYWRpbmdcIj09PXRoaXMuc3RhdGV9Z2V0IHRpbGVUcmFuc2Zvcm0oKXtyZXR1cm4gdGhpcy5fdGlsZVRyYW5zZm9ybXx8KHRoaXMuX3RpbGVUcmFuc2Zvcm09QWYodGhpcy50aWxlSUQuY2Fub25pY2FsLHRoaXMucHJvamVjdGlvbikpLHRoaXMuX3RpbGVUcmFuc2Zvcm19bG9hZFZlY3RvckRhdGEodCxlLHIpe2lmKHRoaXMudW5sb2FkVmVjdG9yRGF0YSgpLHRoaXMuc3RhdGU9XCJsb2FkZWRcIix0KXt0LmZlYXR1cmVJbmRleCYmKHRoaXMubGF0ZXN0RmVhdHVyZUluZGV4PXQuZmVhdHVyZUluZGV4LHQucmF3VGlsZURhdGE/KHRoaXMubGF0ZXN0UmF3VGlsZURhdGE9dC5yYXdUaWxlRGF0YSx0aGlzLmxhdGVzdEZlYXR1cmVJbmRleC5yYXdUaWxlRGF0YT10LnJhd1RpbGVEYXRhKTp0aGlzLmxhdGVzdFJhd1RpbGVEYXRhJiYodGhpcy5sYXRlc3RGZWF0dXJlSW5kZXgucmF3VGlsZURhdGE9dGhpcy5sYXRlc3RSYXdUaWxlRGF0YSkpLHRoaXMuY29sbGlzaW9uQm94QXJyYXk9dC5jb2xsaXNpb25Cb3hBcnJheSx0aGlzLmJ1Y2tldHM9ZnVuY3Rpb24odCxlKXtjb25zdCByPXt9O2lmKCFlKXJldHVybiByO2Zvcihjb25zdCBuIG9mIHQpe2NvbnN0IHQ9bi5sYXllcklkcy5tYXAoKHQ9PmUuZ2V0TGF5ZXIodCkpKS5maWx0ZXIoQm9vbGVhbik7aWYoMCE9PXQubGVuZ3RoKXtuLmxheWVycz10LG4uc3RhdGVEZXBlbmRlbnRMYXllcklkcyYmKG4uc3RhdGVEZXBlbmRlbnRMYXllcnM9bi5zdGF0ZURlcGVuZGVudExheWVySWRzLm1hcCgoZT0+dC5maWx0ZXIoKHQ9PnQuaWQ9PT1lKSlbMF0pKSk7Zm9yKGNvbnN0IGUgb2YgdClyW2UuaWRdPW47fX1yZXR1cm4gcn0odC5idWNrZXRzLGUuc3R5bGUpLHRoaXMuaGFzU3ltYm9sQnVja2V0cz0hMTtmb3IoY29uc3QgdCBpbiB0aGlzLmJ1Y2tldHMpe2NvbnN0IGU9dGhpcy5idWNrZXRzW3RdO2lmKGUgaW5zdGFuY2VvZiBRZil7aWYodGhpcy5oYXNTeW1ib2xCdWNrZXRzPSEwLCFyKWJyZWFrO2UuanVzdFJlbG9hZGVkPSEwO319aWYodGhpcy5oYXNSVExUZXh0PSExLHRoaXMuaGFzU3ltYm9sQnVja2V0cylmb3IoY29uc3QgdCBpbiB0aGlzLmJ1Y2tldHMpe2NvbnN0IGU9dGhpcy5idWNrZXRzW3RdO2lmKGUgaW5zdGFuY2VvZiBRZiYmZS5oYXNSVExUZXh0KXt0aGlzLmhhc1JUTFRleHQ9ITAsRXMuaXNMb2FkaW5nKCl8fEVzLmlzTG9hZGVkKCl8fFwiZGVmZXJyZWRcIiE9PVRzKCl8fEJzKCk7YnJlYWt9fXRoaXMucXVlcnlQYWRkaW5nPTA7Zm9yKGNvbnN0IHQgaW4gdGhpcy5idWNrZXRzKXtjb25zdCByPXRoaXMuYnVja2V0c1t0XTt0aGlzLnF1ZXJ5UGFkZGluZz1NYXRoLm1heCh0aGlzLnF1ZXJ5UGFkZGluZyxlLnN0eWxlLmdldExheWVyKHQpLnF1ZXJ5UmFkaXVzKHIpKTt9dC5pbWFnZUF0bGFzJiYodGhpcy5pbWFnZUF0bGFzPXQuaW1hZ2VBdGxhcyksdC5nbHlwaEF0bGFzSW1hZ2UmJih0aGlzLmdseXBoQXRsYXNJbWFnZT10LmdseXBoQXRsYXNJbWFnZSksdC5saW5lQXRsYXMmJih0aGlzLmxpbmVBdGxhcz10LmxpbmVBdGxhcyk7fWVsc2UgdGhpcy5jb2xsaXNpb25Cb3hBcnJheT1uZXcgTWE7fXVubG9hZFZlY3RvckRhdGEoKXtpZih0aGlzLmhhc0RhdGEoKSl7Zm9yKGNvbnN0IHQgaW4gdGhpcy5idWNrZXRzKXRoaXMuYnVja2V0c1t0XS5kZXN0cm95KCk7dGhpcy5idWNrZXRzPXt9LHRoaXMuaW1hZ2VBdGxhcyYmKHRoaXMuaW1hZ2VBdGxhcz1udWxsKSx0aGlzLmxpbmVBdGxhcyYmKHRoaXMubGluZUF0bGFzPW51bGwpLHRoaXMuaW1hZ2VBdGxhc1RleHR1cmUmJnRoaXMuaW1hZ2VBdGxhc1RleHR1cmUuZGVzdHJveSgpLHRoaXMuZ2x5cGhBdGxhc1RleHR1cmUmJnRoaXMuZ2x5cGhBdGxhc1RleHR1cmUuZGVzdHJveSgpLHRoaXMubGluZUF0bGFzVGV4dHVyZSYmdGhpcy5saW5lQXRsYXNUZXh0dXJlLmRlc3Ryb3koKSx0aGlzLl90aWxlQm91bmRzQnVmZmVyJiYodGhpcy5fdGlsZUJvdW5kc0J1ZmZlci5kZXN0cm95KCksdGhpcy5fdGlsZUJvdW5kc0luZGV4QnVmZmVyLmRlc3Ryb3koKSx0aGlzLl90aWxlQm91bmRzU2VnbWVudHMuZGVzdHJveSgpLHRoaXMuX3RpbGVCb3VuZHNCdWZmZXI9bnVsbCksdGhpcy5fdGlsZURlYnVnQnVmZmVyJiYodGhpcy5fdGlsZURlYnVnQnVmZmVyLmRlc3Ryb3koKSx0aGlzLl90aWxlRGVidWdTZWdtZW50cy5kZXN0cm95KCksdGhpcy5fdGlsZURlYnVnQnVmZmVyPW51bGwpLHRoaXMuX3RpbGVEZWJ1Z0luZGV4QnVmZmVyJiYodGhpcy5fdGlsZURlYnVnSW5kZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMuX3RpbGVEZWJ1Z0luZGV4QnVmZmVyPW51bGwpLHRoaXMuX2dsb2JlVGlsZURlYnVnQm9yZGVyQnVmZmVyJiYodGhpcy5fZ2xvYmVUaWxlRGVidWdCb3JkZXJCdWZmZXIuZGVzdHJveSgpLHRoaXMuX2dsb2JlVGlsZURlYnVnQm9yZGVyQnVmZmVyPW51bGwpLHRoaXMuX3RpbGVEZWJ1Z1RleHRCdWZmZXImJih0aGlzLl90aWxlRGVidWdUZXh0QnVmZmVyLmRlc3Ryb3koKSx0aGlzLl90aWxlRGVidWdUZXh0U2VnbWVudHMuZGVzdHJveSgpLHRoaXMuX3RpbGVEZWJ1Z1RleHRJbmRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5fdGlsZURlYnVnVGV4dEJ1ZmZlcj1udWxsKSx0aGlzLl9nbG9iZVRpbGVEZWJ1Z1RleHRCdWZmZXImJih0aGlzLl9nbG9iZVRpbGVEZWJ1Z1RleHRCdWZmZXIuZGVzdHJveSgpLHRoaXMuX2dsb2JlVGlsZURlYnVnVGV4dEJ1ZmZlcj1udWxsKSx0aGlzLmxhdGVzdEZlYXR1cmVJbmRleD1udWxsLHRoaXMuc3RhdGU9XCJ1bmxvYWRlZFwiO319Z2V0QnVja2V0KHQpe3JldHVybiB0aGlzLmJ1Y2tldHNbdC5pZF19dXBsb2FkKHQpe2Zvcihjb25zdCBlIGluIHRoaXMuYnVja2V0cyl7Y29uc3Qgcj10aGlzLmJ1Y2tldHNbZV07ci51cGxvYWRQZW5kaW5nKCkmJnIudXBsb2FkKHQpO31jb25zdCBlPXQuZ2w7dGhpcy5pbWFnZUF0bGFzJiYhdGhpcy5pbWFnZUF0bGFzLnVwbG9hZGVkJiYodGhpcy5pbWFnZUF0bGFzVGV4dHVyZT1uZXcgY2QodCx0aGlzLmltYWdlQXRsYXMuaW1hZ2UsZS5SR0JBKSx0aGlzLmltYWdlQXRsYXMudXBsb2FkZWQ9ITApLHRoaXMuZ2x5cGhBdGxhc0ltYWdlJiYodGhpcy5nbHlwaEF0bGFzVGV4dHVyZT1uZXcgY2QodCx0aGlzLmdseXBoQXRsYXNJbWFnZSxlLkFMUEhBKSx0aGlzLmdseXBoQXRsYXNJbWFnZT1udWxsKSx0aGlzLmxpbmVBdGxhcyYmIXRoaXMubGluZUF0bGFzLnVwbG9hZGVkJiYodGhpcy5saW5lQXRsYXNUZXh0dXJlPW5ldyBjZCh0LHRoaXMubGluZUF0bGFzLmltYWdlLGUuQUxQSEEpLHRoaXMubGluZUF0bGFzLnVwbG9hZGVkPSEwKTt9cHJlcGFyZSh0KXt0aGlzLmltYWdlQXRsYXMmJnRoaXMuaW1hZ2VBdGxhcy5wYXRjaFVwZGF0ZWRJbWFnZXModCx0aGlzLmltYWdlQXRsYXNUZXh0dXJlKTt9cXVlcnlSZW5kZXJlZEZlYXR1cmVzKHQsZSxyLG4saSxzLGEsbyl7cmV0dXJuIHRoaXMubGF0ZXN0RmVhdHVyZUluZGV4JiZ0aGlzLmxhdGVzdEZlYXR1cmVJbmRleC5yYXdUaWxlRGF0YT90aGlzLmxhdGVzdEZlYXR1cmVJbmRleC5xdWVyeSh7dGlsZVJlc3VsdDpuLHBpeGVsUG9zTWF0cml4OmEsdHJhbnNmb3JtOnMscGFyYW1zOmksdGlsZVRyYW5zZm9ybTp0aGlzLnRpbGVUcmFuc2Zvcm19LHQsZSxyKTp7fX1xdWVyeVNvdXJjZUZlYXR1cmVzKHQsZSl7Y29uc3Qgcj10aGlzLmxhdGVzdEZlYXR1cmVJbmRleDtpZighcnx8IXIucmF3VGlsZURhdGEpcmV0dXJuO2NvbnN0IG49ci5sb2FkVlRMYXllcnMoKSxpPWU/ZS5zb3VyY2VMYXllcjpcIlwiLHM9bi5fZ2VvanNvblRpbGVMYXllcnx8bltpXTtpZighcylyZXR1cm47Y29uc3QgYT1KbihlJiZlLmZpbHRlcikse3o6byx4OmwseTp1fT10aGlzLnRpbGVJRC5jYW5vbmljYWwsYz17ejpvLHg6bCx5OnV9O2ZvcihsZXQgZT0wO2U8cy5sZW5ndGg7ZSsrKXtjb25zdCBuPXMuZmVhdHVyZShlKTtpZihhLm5lZWRHZW9tZXRyeSl7Y29uc3QgdD1HbyhuLCEwKTtpZighYS5maWx0ZXIobmV3IENzKHRoaXMudGlsZUlELm92ZXJzY2FsZWRaKSx0LHRoaXMudGlsZUlELmNhbm9uaWNhbCkpY29udGludWV9ZWxzZSBpZighYS5maWx0ZXIobmV3IENzKHRoaXMudGlsZUlELm92ZXJzY2FsZWRaKSxuKSljb250aW51ZTtjb25zdCBoPXIuZ2V0SWQobixpKSxwPW5ldyBtZChuLG8sbCx1LGgpO3AudGlsZT1jLHQucHVzaChwKTt9fWhhc0RhdGEoKXtyZXR1cm4gXCJsb2FkZWRcIj09PXRoaXMuc3RhdGV8fFwicmVsb2FkaW5nXCI9PT10aGlzLnN0YXRlfHxcImV4cGlyZWRcIj09PXRoaXMuc3RhdGV9cGF0dGVybnNMb2FkZWQoKXtyZXR1cm4gISF0aGlzLmltYWdlQXRsYXMmJiEhT2JqZWN0LmtleXModGhpcy5pbWFnZUF0bGFzLnBhdHRlcm5Qb3NpdGlvbnMpLmxlbmd0aH1zZXRFeHBpcnlEYXRhKHQpe2NvbnN0IGU9dGhpcy5leHBpcmF0aW9uVGltZTtpZih0LmNhY2hlQ29udHJvbCl7Y29uc3QgZT1WKHQuY2FjaGVDb250cm9sKTtlW1wibWF4LWFnZVwiXSYmKHRoaXMuZXhwaXJhdGlvblRpbWU9RGF0ZS5ub3coKSsxZTMqZVtcIm1heC1hZ2VcIl0pO31lbHNlIHQuZXhwaXJlcyYmKHRoaXMuZXhwaXJhdGlvblRpbWU9bmV3IERhdGUodC5leHBpcmVzKS5nZXRUaW1lKCkpO2lmKHRoaXMuZXhwaXJhdGlvblRpbWUpe2NvbnN0IHQ9RGF0ZS5ub3coKTtsZXQgcj0hMTtpZih0aGlzLmV4cGlyYXRpb25UaW1lPnQpcj0hMTtlbHNlIGlmKGUpaWYodGhpcy5leHBpcmF0aW9uVGltZTxlKXI9ITA7ZWxzZSB7Y29uc3Qgbj10aGlzLmV4cGlyYXRpb25UaW1lLWU7bj90aGlzLmV4cGlyYXRpb25UaW1lPXQrTWF0aC5tYXgobiwzZTQpOnI9ITA7fWVsc2Ugcj0hMDtyPyh0aGlzLmV4cGlyZWRSZXF1ZXN0Q291bnQrKyx0aGlzLnN0YXRlPVwiZXhwaXJlZFwiKTp0aGlzLmV4cGlyZWRSZXF1ZXN0Q291bnQ9MDt9fWdldEV4cGlyeVRpbWVvdXQoKXtpZih0aGlzLmV4cGlyYXRpb25UaW1lKXJldHVybiB0aGlzLmV4cGlyZWRSZXF1ZXN0Q291bnQ/MWUzKigxPDxNYXRoLm1pbih0aGlzLmV4cGlyZWRSZXF1ZXN0Q291bnQtMSwzMSkpOk1hdGgubWluKHRoaXMuZXhwaXJhdGlvblRpbWUtKG5ldyBEYXRlKS5nZXRUaW1lKCksTWF0aC5wb3coMiwzMSktMSl9c2V0RmVhdHVyZVN0YXRlKHQsZSl7aWYoIXRoaXMubGF0ZXN0RmVhdHVyZUluZGV4fHwhdGhpcy5sYXRlc3RGZWF0dXJlSW5kZXgucmF3VGlsZURhdGF8fDA9PT1PYmplY3Qua2V5cyh0KS5sZW5ndGh8fCFlKXJldHVybjtjb25zdCByPXRoaXMubGF0ZXN0RmVhdHVyZUluZGV4LmxvYWRWVExheWVycygpLG49ZS5zdHlsZS5saXN0SW1hZ2VzKCk7Zm9yKGNvbnN0IGkgaW4gdGhpcy5idWNrZXRzKXtpZighZS5zdHlsZS5oYXNMYXllcihpKSljb250aW51ZTtjb25zdCBzPXRoaXMuYnVja2V0c1tpXSxhPXMubGF5ZXJzWzBdLnNvdXJjZUxheWVyfHxcIl9nZW9qc29uVGlsZUxheWVyXCIsbz1yW2FdLGw9dFthXTtpZighb3x8IWx8fDA9PT1PYmplY3Qua2V5cyhsKS5sZW5ndGgpY29udGludWU7aWYocy51cGRhdGUobCxvLG4sdGhpcy5pbWFnZUF0bGFzJiZ0aGlzLmltYWdlQXRsYXMucGF0dGVyblBvc2l0aW9uc3x8e30pLHMgaW5zdGFuY2VvZiBLY3x8cyBpbnN0YW5jZW9mIHRjKXtjb25zdCB0PWUuc3R5bGUuX2dldFNvdXJjZUNhY2hlKHMubGF5ZXJzWzBdLnNvdXJjZSk7ZS5fdGVycmFpbiYmZS5fdGVycmFpbi5lbmFibGVkJiZ0JiZzLnByb2dyYW1Db25maWd1cmF0aW9ucy5uZWVkc1VwbG9hZCYmZS5fdGVycmFpbi5fY2xlYXJSZW5kZXJDYWNoZUZvclRpbGUodC5pZCx0aGlzLnRpbGVJRCk7fWNvbnN0IHU9ZSYmZS5zdHlsZSYmZS5zdHlsZS5nZXRMYXllcihpKTt1JiYodGhpcy5xdWVyeVBhZGRpbmc9TWF0aC5tYXgodGhpcy5xdWVyeVBhZGRpbmcsdS5xdWVyeVJhZGl1cyhzKSkpO319aG9sZGluZ0ZvckZhZGUoKXtyZXR1cm4gdm9pZCAwIT09dGhpcy5zeW1ib2xGYWRlSG9sZFVudGlsfXN5bWJvbEZhZGVGaW5pc2hlZCgpe3JldHVybiAhdGhpcy5zeW1ib2xGYWRlSG9sZFVudGlsfHx0aGlzLnN5bWJvbEZhZGVIb2xkVW50aWw8WC5ub3coKX1jbGVhckZhZGVIb2xkKCl7dGhpcy5zeW1ib2xGYWRlSG9sZFVudGlsPXZvaWQgMDt9c2V0SG9sZER1cmF0aW9uKHQpe3RoaXMuc3ltYm9sRmFkZUhvbGRVbnRpbD1YLm5vdygpK3Q7fXNldFRleHR1cmUodCxlKXtjb25zdCByPWUuY29udGV4dCxuPXIuZ2w7dGhpcy50ZXh0dXJlPWUuZ2V0VGlsZVRleHR1cmUodC53aWR0aCksdGhpcy50ZXh0dXJlP3RoaXMudGV4dHVyZS51cGRhdGUodCx7dXNlTWlwbWFwOiEwfSk6KHRoaXMudGV4dHVyZT1uZXcgY2Qocix0LG4uUkdCQSx7dXNlTWlwbWFwOiEwfSksdGhpcy50ZXh0dXJlLmJpbmQobi5MSU5FQVIsbi5DTEFNUF9UT19FREdFKSxyLmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpYyYmbi50ZXhQYXJhbWV0ZXJmKG4uVEVYVFVSRV8yRCxyLmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpYy5URVhUVVJFX01BWF9BTklTT1RST1BZX0VYVCxyLmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpY01heCkpO31zZXREZXBlbmRlbmNpZXModCxlKXtjb25zdCByPXt9O2Zvcihjb25zdCB0IG9mIGUpclt0XT0hMDt0aGlzLmRlcGVuZGVuY2llc1t0XT1yO31oYXNEZXBlbmRlbmN5KHQsZSl7Zm9yKGNvbnN0IHIgb2YgdCl7Y29uc3QgdD10aGlzLmRlcGVuZGVuY2llc1tyXTtpZih0KWZvcihjb25zdCByIG9mIGUpaWYodFtyXSlyZXR1cm4gITB9cmV0dXJuICExfWNsZWFyUXVlcnlEZWJ1Z1Zpeigpe31fbWFrZURlYnVnVGlsZUJvdW5kc0J1ZmZlcnModCxlKXtpZighZXx8XCJtZXJjYXRvclwiPT09ZS5uYW1lfHx0aGlzLl90aWxlRGVidWdCdWZmZXIpcmV0dXJuO2NvbnN0IHI9Tm8oa2QsdGhpcy50aWxlSUQuY2Fub25pY2FsLHRoaXMudGlsZVRyYW5zZm9ybSlbMF0sbj1uZXcgUXMsaT1uZXcgd2E7Zm9yKGxldCB0PTA7dDxyLmxlbmd0aDt0Kyspe2NvbnN0e3g6ZSx5OnN9PXJbdF07bi5lbXBsYWNlQmFjayhlLHMpLGkuZW1wbGFjZUJhY2sodCk7fWkuZW1wbGFjZUJhY2soMCksdGhpcy5fdGlsZURlYnVnSW5kZXhCdWZmZXI9dC5jcmVhdGVJbmRleEJ1ZmZlcihpKSx0aGlzLl90aWxlRGVidWdCdWZmZXI9dC5jcmVhdGVWZXJ0ZXhCdWZmZXIobixacC5tZW1iZXJzKSx0aGlzLl90aWxlRGVidWdTZWdtZW50cz1fby5zaW1wbGVTZWdtZW50KDAsMCxuLmxlbmd0aCxpLmxlbmd0aCk7fV9tYWtlVGlsZUJvdW5kc0J1ZmZlcnModCxlKXtpZih0aGlzLl90aWxlQm91bmRzQnVmZmVyfHwhZXx8XCJtZXJjYXRvclwiPT09ZS5uYW1lKXJldHVybjtjb25zdCByPU5vKGtkLHRoaXMudGlsZUlELmNhbm9uaWNhbCx0aGlzLnRpbGVUcmFuc2Zvcm0pWzBdO2xldCBuLGk7aWYodGhpcy5pc1Jhc3Rlcil7Y29uc3QgdD1mdW5jdGlvbih0LGUpe2NvbnN0IHI9QWYodCxlKSxuPU1hdGgucG93KDIsdC56KTtmb3IobGV0IGk9MDtpPHhkO2krKylmb3IobGV0IHM9MDtzPHhkO3MrKyl7Y29uc3QgYT1FbygodC54KyhzK0FkKHMpKS9nZCkvbiksbz1DbygodC55KyhpK0FkKGkpKS9nZCkvbiksbD1lLnByb2plY3QoYSxvKSx1PWkqeGQrcztiZFsyKnUrMF09TWF0aC5yb3VuZCgobC54KnIuc2NhbGUtci54KSp3byksYmRbMip1KzFdPU1hdGgucm91bmQoKGwueSpyLnNjYWxlLXIueSkqd28pO31fZC5maWxsKDApLHdkLmZpbGwoMCk7Zm9yKGxldCB0PTIwNDU7dD49MDt0LS0pe2NvbnN0IGU9NCp0LHI9dmRbZSswXSxuPXZkW2UrMV0saT12ZFtlKzJdLHM9dmRbZSszXSxhPXIraT4+MSxvPW4rcz4+MSxsPWErby1uLHU9bytyLWEsYz1uKnhkK3IsaD1zKnhkK2kscD1vKnhkK2EsZj1NYXRoLmh5cG90KChiZFsyKmMrMF0rYmRbMipoKzBdKS8yLWJkWzIqcCswXSwoYmRbMipjKzFdK2JkWzIqaCsxXSkvMi1iZFsyKnArMV0pPj0xNjtpZihfZFtwXT1fZFtwXXx8KGY/MTowKSx0PDEwMjIpe2NvbnN0IHQ9KG4rdT4+MSkqeGQrKHIrbD4+MSksZT0ocyt1Pj4xKSp4ZCsoaStsPj4xKTtfZFtwXT1fZFtwXXx8X2RbdF18fF9kW2VdO319Y29uc3QgaT1uZXcgZWEscz1uZXcgeWE7bGV0IGE9MDtmdW5jdGlvbiBvKHQsZSl7Y29uc3Qgcj1lKnhkK3Q7cmV0dXJuIDA9PT13ZFtyXSYmKGkuZW1wbGFjZUJhY2soYmRbMipyKzBdLGJkWzIqcisxXSx0KndvL2dkLGUqd28vZ2QpLHdkW3JdPSsrYSksd2Rbcl0tMX1mdW5jdGlvbiBsKHQsZSxyLG4saSxhKXtjb25zdCB1PXQrcj4+MSxjPWUrbj4+MTtpZihNYXRoLmFicyh0LWkpK01hdGguYWJzKGUtYSk+MSYmX2RbYyp4ZCt1XSlsKGksYSx0LGUsdSxjKSxsKHIsbixpLGEsdSxjKTtlbHNlIHtjb25zdCBsPW8odCxlKSx1PW8ocixuKSxjPW8oaSxhKTtzLmVtcGxhY2VCYWNrKGwsdSxjKTt9fXJldHVybiBsKDAsMCxnZCxnZCxnZCwwKSxsKGdkLGdkLDAsMCwwLGdkKSx7dmVydGljZXM6aSxpbmRpY2VzOnN9fSh0aGlzLnRpbGVJRC5jYW5vbmljYWwsZSk7bj10LnZlcnRpY2VzLGk9dC5pbmRpY2VzO31lbHNlIHtuPW5ldyBlYSxpPW5ldyB5YTtmb3IoY29uc3R7eDp0LHk6ZX1vZiByKW4uZW1wbGFjZUJhY2sodCxlLDAsMCk7Y29uc3QgdD14dShuLmludDE2LHZvaWQgMCw0KTtmb3IobGV0IGU9MDtlPHQubGVuZ3RoO2UrPTMpaS5lbXBsYWNlQmFjayh0W2VdLHRbZSsxXSx0W2UrMl0pO310aGlzLl90aWxlQm91bmRzQnVmZmVyPXQuY3JlYXRlVmVydGV4QnVmZmVyKG4sU2QubWVtYmVycyksdGhpcy5fdGlsZUJvdW5kc0luZGV4QnVmZmVyPXQuY3JlYXRlSW5kZXhCdWZmZXIoaSksdGhpcy5fdGlsZUJvdW5kc1NlZ21lbnRzPV9vLnNpbXBsZVNlZ21lbnQoMCwwLG4ubGVuZ3RoLGkubGVuZ3RoKTt9X21ha2VHbG9iZVRpbGVEZWJ1Z0J1ZmZlcnModCxlKXtjb25zdCByPWUucHJvamVjdGlvbjtpZighcnx8XCJnbG9iZVwiIT09ci5uYW1lfHxlLmZyZWV6ZVRpbGVDb3ZlcmFnZSlyZXR1cm47Y29uc3Qgbj10aGlzLnRpbGVJRC5jYW5vbmljYWwsaT1kZihuZihuLGUpKSxzPWdmKGUuem9vbSk7bGV0IGE7cz4wJiYoYT1nbChuZXcgRmxvYXQ2NEFycmF5KDE2KSxlLmdsb2JlTWF0cml4KSk7Y29uc3Qgbz0obi54Ky41KS8oMTw8bi56KS16byhlLmNlbnRlci5sbmcpO2xldCBsPTA7bz4uNT9sPS0xOm88LS41JiYobD0xKSx0aGlzLl9tYWtlR2xvYmVUaWxlRGVidWdCb3JkZXJCdWZmZXIodCxuLGUsaSxhLHMsbCksdGhpcy5fbWFrZUdsb2JlVGlsZURlYnVnVGV4dEJ1ZmZlcih0LG4sZSxpLGEscyxsKTt9X2dsb2JlUG9pbnQodCxlLHIsbixpLHMsYSxvKXtsZXQgbD1oZih0LGUscik7aWYocyl7Y29uc3QgaT0xPDxyLnosdT1bKCh0L3dvK3IueCkvaStvKSpuLChlL3dvK3IueSkvaSpuLDBdO2psKHUsdSxzKSxsPXZyKGwsdSxhKTt9cmV0dXJuIGpsKGwsbCxpKX1fbWFrZUdsb2JlVGlsZURlYnVnQm9yZGVyQnVmZmVyKHQsZSxyLG4saSxzLGEpe2NvbnN0IG89bmV3IFFzLGw9bmV3IHdhLHU9bmV3IHRhLGM9KHQsYyxoLHAsZik9Pntjb25zdCBkPShoLXQpLyhmLTEpLHk9KHAtYykvKGYtMSksbT1vLmxlbmd0aDtmb3IobGV0IGg9MDtoPGY7aCsrKXtjb25zdCBwPXQraCpkLGY9YytoKnk7by5lbXBsYWNlQmFjayhwLGYpO2NvbnN0IGc9dGhpcy5fZ2xvYmVQb2ludChwLGYsZSxyLndvcmxkU2l6ZSxuLGkscyxhKTt1LmVtcGxhY2VCYWNrKGdbMF0sZ1sxXSxnWzJdKSxsLmVtcGxhY2VCYWNrKG0raCk7fX0saD13bztjKDAsMCxoLDAsMTYpLGMoaCwwLGgsaCwxNiksYyhoLGgsMCxoLDE2KSxjKDAsaCwwLDAsMTYpLHRoaXMuX3RpbGVEZWJ1Z0luZGV4QnVmZmVyPXQuY3JlYXRlSW5kZXhCdWZmZXIobCksdGhpcy5fdGlsZURlYnVnQnVmZmVyPXQuY3JlYXRlVmVydGV4QnVmZmVyKG8sWnAubWVtYmVycyksdGhpcy5fZ2xvYmVUaWxlRGVidWdCb3JkZXJCdWZmZXI9dC5jcmVhdGVWZXJ0ZXhCdWZmZXIodSxHcC5tZW1iZXJzKSx0aGlzLl90aWxlRGVidWdTZWdtZW50cz1fby5zaW1wbGVTZWdtZW50KDAsMCxvLmxlbmd0aCxsLmxlbmd0aCk7fV9tYWtlR2xvYmVUaWxlRGVidWdUZXh0QnVmZmVyKHQsZSxyLG4saSxzLGEpe2NvbnN0IG89bmV3IFFzLGw9bmV3IHlhLHU9bmV3IHRhLGM9MjU7bC5yZXNlcnZlKDMyKSxvLnJlc2VydmUoYyksdS5yZXNlcnZlKGMpO2NvbnN0IGg9KHQsZSk9PmMqdCtlO2ZvcihsZXQgdD0wO3Q8Yzt0Kyspe2NvbnN0IGw9MjA0OCp0O2ZvcihsZXQgdD0wO3Q8Yzt0Kyspe2NvbnN0IGM9MjA0OCp0O28uZW1wbGFjZUJhY2soYyxsKTtjb25zdCBoPXRoaXMuX2dsb2JlUG9pbnQoYyxsLGUsci53b3JsZFNpemUsbixpLHMsYSk7dS5lbXBsYWNlQmFjayhoWzBdLGhbMV0saFsyXSk7fX1mb3IobGV0IHQ9MDt0PDQ7dCsrKWZvcihsZXQgZT0wO2U8NDtlKyspe2NvbnN0IHI9aCh0LGUpLG49aCh0LGUrMSksaT1oKHQrMSxlKSxzPWgodCsxLGUrMSk7bC5lbXBsYWNlQmFjayhyLG4saSksbC5lbXBsYWNlQmFjayhpLG4scyk7fXRoaXMuX3RpbGVEZWJ1Z1RleHRJbmRleEJ1ZmZlcj10LmNyZWF0ZUluZGV4QnVmZmVyKGwpLHRoaXMuX3RpbGVEZWJ1Z1RleHRCdWZmZXI9dC5jcmVhdGVWZXJ0ZXhCdWZmZXIobyxacC5tZW1iZXJzKSx0aGlzLl9nbG9iZVRpbGVEZWJ1Z1RleHRCdWZmZXI9dC5jcmVhdGVWZXJ0ZXhCdWZmZXIodSxHcC5tZW1iZXJzKSx0aGlzLl90aWxlRGVidWdUZXh0U2VnbWVudHM9X28uc2ltcGxlU2VnbWVudCgwLDAsYywzMik7fX1jbGFzcyBNZHtjb25zdHJ1Y3Rvcigpe3RoaXMuc3RhdGU9e30sdGhpcy5zdGF0ZUNoYW5nZXM9e30sdGhpcy5kZWxldGVkU3RhdGVzPXt9O311cGRhdGVTdGF0ZSh0LGUscil7Y29uc3Qgbj1TdHJpbmcoZSk7aWYodGhpcy5zdGF0ZUNoYW5nZXNbdF09dGhpcy5zdGF0ZUNoYW5nZXNbdF18fHt9LHRoaXMuc3RhdGVDaGFuZ2VzW3RdW25dPXRoaXMuc3RhdGVDaGFuZ2VzW3RdW25dfHx7fSx2KHRoaXMuc3RhdGVDaGFuZ2VzW3RdW25dLHIpLG51bGw9PT10aGlzLmRlbGV0ZWRTdGF0ZXNbdF0pe3RoaXMuZGVsZXRlZFN0YXRlc1t0XT17fTtmb3IoY29uc3QgZSBpbiB0aGlzLnN0YXRlW3RdKWUhPT1uJiYodGhpcy5kZWxldGVkU3RhdGVzW3RdW2VdPW51bGwpO31lbHNlIGlmKHRoaXMuZGVsZXRlZFN0YXRlc1t0XSYmbnVsbD09PXRoaXMuZGVsZXRlZFN0YXRlc1t0XVtuXSl7dGhpcy5kZWxldGVkU3RhdGVzW3RdW25dPXt9O2Zvcihjb25zdCBlIGluIHRoaXMuc3RhdGVbdF1bbl0pcltlXXx8KHRoaXMuZGVsZXRlZFN0YXRlc1t0XVtuXVtlXT1udWxsKTt9ZWxzZSBmb3IoY29uc3QgZSBpbiByKXRoaXMuZGVsZXRlZFN0YXRlc1t0XSYmdGhpcy5kZWxldGVkU3RhdGVzW3RdW25dJiZudWxsPT09dGhpcy5kZWxldGVkU3RhdGVzW3RdW25dW2VdJiZkZWxldGUgdGhpcy5kZWxldGVkU3RhdGVzW3RdW25dW2VdO31yZW1vdmVGZWF0dXJlU3RhdGUodCxlLHIpe2lmKG51bGw9PT10aGlzLmRlbGV0ZWRTdGF0ZXNbdF0pcmV0dXJuO2NvbnN0IG49U3RyaW5nKGUpO2lmKHRoaXMuZGVsZXRlZFN0YXRlc1t0XT10aGlzLmRlbGV0ZWRTdGF0ZXNbdF18fHt9LHImJnZvaWQgMCE9PWUpbnVsbCE9PXRoaXMuZGVsZXRlZFN0YXRlc1t0XVtuXSYmKHRoaXMuZGVsZXRlZFN0YXRlc1t0XVtuXT10aGlzLmRlbGV0ZWRTdGF0ZXNbdF1bbl18fHt9LHRoaXMuZGVsZXRlZFN0YXRlc1t0XVtuXVtyXT1udWxsKTtlbHNlIGlmKHZvaWQgMCE9PWUpaWYodGhpcy5zdGF0ZUNoYW5nZXNbdF0mJnRoaXMuc3RhdGVDaGFuZ2VzW3RdW25dKWZvcihyIGluIHRoaXMuZGVsZXRlZFN0YXRlc1t0XVtuXT17fSx0aGlzLnN0YXRlQ2hhbmdlc1t0XVtuXSl0aGlzLmRlbGV0ZWRTdGF0ZXNbdF1bbl1bcl09bnVsbDtlbHNlIHRoaXMuZGVsZXRlZFN0YXRlc1t0XVtuXT1udWxsO2Vsc2UgdGhpcy5kZWxldGVkU3RhdGVzW3RdPW51bGw7fWdldFN0YXRlKHQsZSl7Y29uc3Qgcj1TdHJpbmcoZSksbj12KHt9LCh0aGlzLnN0YXRlW3RdfHx7fSlbcl0sKHRoaXMuc3RhdGVDaGFuZ2VzW3RdfHx7fSlbcl0pO2lmKG51bGw9PT10aGlzLmRlbGV0ZWRTdGF0ZXNbdF0pcmV0dXJuIHt9O2lmKHRoaXMuZGVsZXRlZFN0YXRlc1t0XSl7Y29uc3Qgcj10aGlzLmRlbGV0ZWRTdGF0ZXNbdF1bZV07aWYobnVsbD09PXIpcmV0dXJuIHt9O2Zvcihjb25zdCB0IGluIHIpZGVsZXRlIG5bdF07fXJldHVybiBufWluaXRpYWxpemVUaWxlU3RhdGUodCxlKXt0LnNldEZlYXR1cmVTdGF0ZSh0aGlzLnN0YXRlLGUpO31jb2FsZXNjZUNoYW5nZXModCxlKXtjb25zdCByPXt9O2Zvcihjb25zdCB0IGluIHRoaXMuc3RhdGVDaGFuZ2VzKXt0aGlzLnN0YXRlW3RdPXRoaXMuc3RhdGVbdF18fHt9O2NvbnN0IGU9e307Zm9yKGNvbnN0IHIgaW4gdGhpcy5zdGF0ZUNoYW5nZXNbdF0pdGhpcy5zdGF0ZVt0XVtyXXx8KHRoaXMuc3RhdGVbdF1bcl09e30pLHYodGhpcy5zdGF0ZVt0XVtyXSx0aGlzLnN0YXRlQ2hhbmdlc1t0XVtyXSksZVtyXT10aGlzLnN0YXRlW3RdW3JdO3JbdF09ZTt9Zm9yKGNvbnN0IHQgaW4gdGhpcy5kZWxldGVkU3RhdGVzKXt0aGlzLnN0YXRlW3RdPXRoaXMuc3RhdGVbdF18fHt9O2NvbnN0IGU9e307aWYobnVsbD09PXRoaXMuZGVsZXRlZFN0YXRlc1t0XSlmb3IoY29uc3QgciBpbiB0aGlzLnN0YXRlW3RdKWVbcl09e30sdGhpcy5zdGF0ZVt0XVtyXT17fTtlbHNlIGZvcihjb25zdCByIGluIHRoaXMuZGVsZXRlZFN0YXRlc1t0XSl7aWYobnVsbD09PXRoaXMuZGVsZXRlZFN0YXRlc1t0XVtyXSl0aGlzLnN0YXRlW3RdW3JdPXt9O2Vsc2UgZm9yKGNvbnN0IGUgb2YgT2JqZWN0LmtleXModGhpcy5kZWxldGVkU3RhdGVzW3RdW3JdKSlkZWxldGUgdGhpcy5zdGF0ZVt0XVtyXVtlXTtlW3JdPXRoaXMuc3RhdGVbdF1bcl07fXJbdF09clt0XXx8e30sdihyW3RdLGUpO31pZih0aGlzLnN0YXRlQ2hhbmdlcz17fSx0aGlzLmRlbGV0ZWRTdGF0ZXM9e30sMCE9PU9iamVjdC5rZXlzKHIpLmxlbmd0aClmb3IoY29uc3QgbiBpbiB0KXRbbl0uc2V0RmVhdHVyZVN0YXRlKHIsZSk7fX1jbGFzcyB6ZHtjb25zdHJ1Y3Rvcih0KXt0aGlzLnNpemU9dCx0aGlzLm1pbmltdW1zPVtdLHRoaXMubWF4aW11bXM9W10sdGhpcy5sZWF2ZXM9W107fWdldEVsZXZhdGlvbih0LGUpe2NvbnN0IHI9dGhpcy50b0lkeCh0LGUpO3JldHVybiB7bWluOnRoaXMubWluaW11bXNbcl0sbWF4OnRoaXMubWF4aW11bXNbcl19fWlzTGVhZih0LGUpe3JldHVybiB0aGlzLmxlYXZlc1t0aGlzLnRvSWR4KHQsZSldfXRvSWR4KHQsZSl7cmV0dXJuIGUqdGhpcy5zaXplK3R9fWZ1bmN0aW9uIFRkKHQsZSxyLG4pe2xldCBpPTAscz1OdW1iZXIuTUFYX1ZBTFVFO2ZvcihsZXQgYT0wO2E8MzthKyspaWYoTWF0aC5hYnMoblthXSk8MWUtMTUpe2lmKHJbYV08dFthXXx8clthXT5lW2FdKXJldHVybiBudWxsfWVsc2Uge2NvbnN0IG89MS9uW2FdO2xldCBsPSh0W2FdLXJbYV0pKm8sdT0oZVthXS1yW2FdKSpvO2lmKGw+dSl7Y29uc3QgdD1sO2w9dSx1PXQ7fWlmKGw+aSYmKGk9bCksdTxzJiYocz11KSxpPnMpcmV0dXJuIG51bGx9cmV0dXJuIGl9ZnVuY3Rpb24gQmQodCxlLHIsbixpLHMsYSxvLGwsdSxjKXtjb25zdCBoPW4tdCxwPWktZSxmPXMtcixkPWEtdCx5PW8tZSxtPWwtcixnPWNbMV0qbS1jWzJdKnkseD1jWzJdKmQtY1swXSptLHY9Y1swXSp5LWNbMV0qZCxiPWgqZytwKngrZip2O2lmKE1hdGguYWJzKGIpPDFlLTE1KXJldHVybiBudWxsO2NvbnN0IF89MS9iLHc9dVswXS10LEE9dVsxXS1lLFM9dVsyXS1yLGs9KHcqZytBKngrUyp2KSpfO2lmKGs8MHx8az4xKXJldHVybiBudWxsO2NvbnN0IEk9QSpmLVMqcCxNPVMqaC13KmYsej13KnAtQSpoLFQ9KGNbMF0qSStjWzFdKk0rY1syXSp6KSpfO3JldHVybiBUPDB8fGsrVD4xP251bGw6KGQqSSt5Kk0rbSp6KSpffWZ1bmN0aW9uIEVkKHQsZSxyKXtyZXR1cm4gKHQtZSkvKHItZSl9ZnVuY3Rpb24gQ2QodCxlLHIsbixpLHMsYSxvLGwpe2NvbnN0IHU9MTw8cixjPXMtbixoPWEtaSxwPSh0KzEpL3UqYytuLGY9KGUrMCkvdSpoK2ksZD0oZSsxKS91KmgraTtvWzBdPSh0KzApL3UqYytuLG9bMV09ZixsWzBdPXAsbFsxXT1kO31jbGFzcyBQZHtjb25zdHJ1Y3Rvcih0KXtpZih0aGlzLm1heGltdW1zPVtdLHRoaXMubWluaW11bXM9W10sdGhpcy5sZWF2ZXM9W10sdGhpcy5jaGlsZE9mZnNldHM9W10sdGhpcy5ub2RlQ291bnQ9MCx0aGlzLmRlbT10LHRoaXMuX3NpYmxpbmdPZmZzZXQ9W1swLDBdLFsxLDBdLFswLDFdLFsxLDFdXSwhdGhpcy5kZW0pcmV0dXJuO2NvbnN0IGU9ZnVuY3Rpb24odCl7Y29uc3QgZT1NYXRoLmNlaWwoTWF0aC5sb2cyKHQuZGltLzgpKSxyPVtdO2xldCBuPU1hdGguY2VpbChNYXRoLnBvdygyLGUpKTtjb25zdCBpPTEvbixzPSh0LGUscixuLGkpPT57Y29uc3Qgcz1uPzE6MCxhPSh0KzEpKnItcyxvPWUqcixsPShlKzEpKnItcztpWzBdPXQqcixpWzFdPW8saVsyXT1hLGlbM109bDt9O2xldCBhPW5ldyB6ZChuKTtjb25zdCBvPVtdO2ZvcihsZXQgZT0wO2U8bipuO2UrKyl7cyhlJW4sTWF0aC5mbG9vcihlL24pLGksITEsbyk7Y29uc3Qgcj1WZChvWzBdLG9bMV0sdCksbD1WZChvWzJdLG9bMV0sdCksdT1WZChvWzJdLG9bM10sdCksYz1WZChvWzBdLG9bM10sdCk7YS5taW5pbXVtcy5wdXNoKE1hdGgubWluKHIsbCx1LGMpKSxhLm1heGltdW1zLnB1c2goTWF0aC5tYXgocixsLHUsYykpLGEubGVhdmVzLnB1c2goMSk7fWZvcihyLnB1c2goYSksbi89MjtuPj0xO24vPTIpe2NvbnN0IHQ9cltyLmxlbmd0aC0xXTthPW5ldyB6ZChuKTtmb3IobGV0IGU9MDtlPG4qbjtlKyspe3MoZSVuLE1hdGguZmxvb3IoZS9uKSwyLCEwLG8pO2NvbnN0IHI9dC5nZXRFbGV2YXRpb24ob1swXSxvWzFdKSxpPXQuZ2V0RWxldmF0aW9uKG9bMl0sb1sxXSksbD10LmdldEVsZXZhdGlvbihvWzJdLG9bM10pLHU9dC5nZXRFbGV2YXRpb24ob1swXSxvWzNdKSxjPXQuaXNMZWFmKG9bMF0sb1sxXSksaD10LmlzTGVhZihvWzJdLG9bMV0pLHA9dC5pc0xlYWYob1syXSxvWzNdKSxmPXQuaXNMZWFmKG9bMF0sb1szXSksZD1NYXRoLm1pbihyLm1pbixpLm1pbixsLm1pbix1Lm1pbikseT1NYXRoLm1heChyLm1heCxpLm1heCxsLm1heCx1Lm1heCksbT1jJiZoJiZwJiZmO2EubWF4aW11bXMucHVzaCh5KSxhLm1pbmltdW1zLnB1c2goZCksYS5sZWF2ZXMucHVzaCh5LWQ8PTUmJm0/MTowKTt9ci5wdXNoKGEpO31yZXR1cm4gcn0odGhpcy5kZW0pLHI9ZS5sZW5ndGgtMSxuPWVbcl07dGhpcy5fYWRkTm9kZShuLm1pbmltdW1zWzBdLG4ubWF4aW11bXNbMF0sbi5sZWF2ZXNbMF0pLHRoaXMuX2NvbnN0cnVjdChlLDAsMCxyLDApO31yYXljYXN0Um9vdCh0LGUscixuLGkscyxhPTEpe3JldHVybiBUZChbdCxlLC0xMDBdLFtyLG4sdGhpcy5tYXhpbXVtc1swXSphXSxpLHMpfXJheWNhc3QodCxlLHIsbixpLHMsYT0xKXtpZighdGhpcy5ub2RlQ291bnQpcmV0dXJuIG51bGw7Y29uc3Qgbz10aGlzLnJheWNhc3RSb290KHQsZSxyLG4saSxzLGEpO2lmKG51bGw9PW8pcmV0dXJuIG51bGw7Y29uc3QgbD1bXSx1PVtdLGM9W10saD1bXSxwPVt7aWR4OjAsdDpvLG5vZGV4OjAsbm9kZXk6MCxkZXB0aDowfV07Zm9yKDtwLmxlbmd0aD4wOyl7Y29uc3R7aWR4Om8sdDpmLG5vZGV4OmQsbm9kZXk6eSxkZXB0aDptfT1wLnBvcCgpO2lmKHRoaXMubGVhdmVzW29dKXtDZChkLHksbSx0LGUscixuLGMsaCk7Y29uc3Qgbz0xPDxtLGw9KGQrMCkvbyx1PShkKzEpL28scD0oeSswKS9vLGc9KHkrMSkvbyx4PVZkKGwscCx0aGlzLmRlbSkqYSx2PVZkKHUscCx0aGlzLmRlbSkqYSxiPVZkKHUsZyx0aGlzLmRlbSkqYSxfPVZkKGwsZyx0aGlzLmRlbSkqYSx3PUJkKGNbMF0sY1sxXSx4LGhbMF0sY1sxXSx2LGhbMF0saFsxXSxiLGkscyksQT1CZChoWzBdLGhbMV0sYixjWzBdLGhbMV0sXyxjWzBdLGNbMV0seCxpLHMpLFM9TWF0aC5taW4obnVsbCE9PXc/dzpOdW1iZXIuTUFYX1ZBTFVFLG51bGwhPT1BP0E6TnVtYmVyLk1BWF9WQUxVRSk7aWYoUyE9PU51bWJlci5NQVhfVkFMVUUpcmV0dXJuIFM7e2NvbnN0IHQ9RmwoW10saSxzLGYpO2lmKERkKHgsdixfLGIsRWQodFswXSxjWzBdLGhbMF0pLEVkKHRbMV0sY1sxXSxoWzFdKSk+PXRbMl0pcmV0dXJuIGZ9Y29udGludWV9bGV0IGc9MDtmb3IobGV0IHA9MDtwPHRoaXMuX3NpYmxpbmdPZmZzZXQubGVuZ3RoO3ArKyl7Q2QoKGQ8PDEpK3RoaXMuX3NpYmxpbmdPZmZzZXRbcF1bMF0sKHk8PDEpK3RoaXMuX3NpYmxpbmdPZmZzZXRbcF1bMV0sbSsxLHQsZSxyLG4sYyxoKSxjWzJdPS0xMDAsaFsyXT10aGlzLm1heGltdW1zW3RoaXMuY2hpbGRPZmZzZXRzW29dK3BdKmE7Y29uc3QgZj1UZChjLGgsaSxzKTtpZihudWxsIT1mKXtjb25zdCB0PWY7bFtwXT10O2xldCBlPSExO2ZvcihsZXQgcj0wO3I8ZyYmIWU7cisrKXQ+PWxbdVtyXV0mJih1LnNwbGljZShyLDAscCksZT0hMCk7ZXx8KHVbZ109cCksZysrO319Zm9yKGxldCB0PTA7dDxnO3QrKyl7Y29uc3QgZT11W3RdO3AucHVzaCh7aWR4OnRoaXMuY2hpbGRPZmZzZXRzW29dK2UsdDpsW2VdLG5vZGV4OihkPDwxKSt0aGlzLl9zaWJsaW5nT2Zmc2V0W2VdWzBdLG5vZGV5Oih5PDwxKSt0aGlzLl9zaWJsaW5nT2Zmc2V0W2VdWzFdLGRlcHRoOm0rMX0pO319cmV0dXJuIG51bGx9X2FkZE5vZGUodCxlLHIpe3JldHVybiB0aGlzLm1pbmltdW1zLnB1c2godCksdGhpcy5tYXhpbXVtcy5wdXNoKGUpLHRoaXMubGVhdmVzLnB1c2gociksdGhpcy5jaGlsZE9mZnNldHMucHVzaCgwKSx0aGlzLm5vZGVDb3VudCsrfV9jb25zdHJ1Y3QodCxlLHIsbixpKXtpZigxPT09dFtuXS5pc0xlYWYoZSxyKSlyZXR1cm47dGhpcy5jaGlsZE9mZnNldHNbaV18fCh0aGlzLmNoaWxkT2Zmc2V0c1tpXT10aGlzLm5vZGVDb3VudCk7Y29uc3Qgcz1uLTEsYT10W3NdO2xldCBvPTAsbD0wO2ZvcihsZXQgdD0wO3Q8dGhpcy5fc2libGluZ09mZnNldC5sZW5ndGg7dCsrKXtjb25zdCBuPTIqZSt0aGlzLl9zaWJsaW5nT2Zmc2V0W3RdWzBdLGk9MipyK3RoaXMuX3NpYmxpbmdPZmZzZXRbdF1bMV0scz1hLmdldEVsZXZhdGlvbihuLGkpLHU9YS5pc0xlYWYobixpKSxjPXRoaXMuX2FkZE5vZGUocy5taW4scy5tYXgsdSk7dSYmKG98PTE8PHQpLGx8fChsPWMpO31mb3IobGV0IG49MDtuPHRoaXMuX3NpYmxpbmdPZmZzZXQubGVuZ3RoO24rKylvJjE8PG58fHRoaXMuX2NvbnN0cnVjdCh0LDIqZSt0aGlzLl9zaWJsaW5nT2Zmc2V0W25dWzBdLDIqcit0aGlzLl9zaWJsaW5nT2Zmc2V0W25dWzFdLHMsbCtuKTt9fWZ1bmN0aW9uIERkKHQsZSxyLG4saSxzKXtyZXR1cm4geHIoeHIodCxyLHMpLHhyKGUsbixzKSxpKX1mdW5jdGlvbiBWZCh0LGUscil7Y29uc3Qgbj1yLmRpbSxpPWQodCpuLS41LDAsbi0xKSxzPWQoZSpuLS41LDAsbi0xKSxhPU1hdGguZmxvb3IoaSksbz1NYXRoLmZsb29yKHMpLGw9TWF0aC5taW4oYSsxLG4tMSksdT1NYXRoLm1pbihvKzEsbi0xKTtyZXR1cm4gRGQoci5nZXQoYSxvKSxyLmdldChsLG8pLHIuZ2V0KGEsdSksci5nZXQobCx1KSxpLWEscy1vKX1jb25zdCBGZD17bWFwYm94Ols2NTUzLjYsMjUuNiwuMSwxZTRdLHRlcnJhcml1bTpbMjU2LDEsMS8yNTYsMzI3NjhdfTtjbGFzcyBMZHtnZXQgdHJlZSgpe3JldHVybiB0aGlzLl90cmVlfHx0aGlzLl9idWlsZFF1YWRUcmVlKCksdGhpcy5fdHJlZX1jb25zdHJ1Y3Rvcih0LGUscixuPSExLGk9ITEpe2lmKHRoaXMudWlkPXQsZS5oZWlnaHQhPT1lLndpZHRoKXRocm93IG5ldyBSYW5nZUVycm9yKFwiREVNIHRpbGVzIG11c3QgYmUgc3F1YXJlXCIpO2lmKHImJlwibWFwYm94XCIhPT1yJiZcInRlcnJhcml1bVwiIT09cilyZXR1cm4gRShgXCIke3J9XCIgaXMgbm90IGEgdmFsaWQgZW5jb2RpbmcgdHlwZS4gVmFsaWQgdHlwZXMgaW5jbHVkZSBcIm1hcGJveFwiIGFuZCBcInRlcnJhcml1bVwiLmApO3RoaXMuc3RyaWRlPWUuaGVpZ2h0O2NvbnN0IHM9dGhpcy5kaW09ZS5oZWlnaHQtMixhPW5ldyBVaW50MzJBcnJheShlLmRhdGEuYnVmZmVyKTtpZih0aGlzLnBpeGVscz1uZXcgVWludDhBcnJheShlLmRhdGEuYnVmZmVyKSx0aGlzLmVuY29kaW5nPXJ8fFwibWFwYm94XCIsdGhpcy5ib3JkZXJSZWFkeT1uLCFuKXtmb3IobGV0IHQ9MDt0PHM7dCsrKWFbdGhpcy5faWR4KC0xLHQpXT1hW3RoaXMuX2lkeCgwLHQpXSxhW3RoaXMuX2lkeChzLHQpXT1hW3RoaXMuX2lkeChzLTEsdCldLGFbdGhpcy5faWR4KHQsLTEpXT1hW3RoaXMuX2lkeCh0LDApXSxhW3RoaXMuX2lkeCh0LHMpXT1hW3RoaXMuX2lkeCh0LHMtMSldO2FbdGhpcy5faWR4KC0xLC0xKV09YVt0aGlzLl9pZHgoMCwwKV0sYVt0aGlzLl9pZHgocywtMSldPWFbdGhpcy5faWR4KHMtMSwwKV0sYVt0aGlzLl9pZHgoLTEscyldPWFbdGhpcy5faWR4KDAscy0xKV0sYVt0aGlzLl9pZHgocyxzKV09YVt0aGlzLl9pZHgocy0xLHMtMSldLGkmJnRoaXMuX2J1aWxkUXVhZFRyZWUoKTt9fV9idWlsZFF1YWRUcmVlKCl7dGhpcy5fdHJlZT1uZXcgUGQodGhpcyk7fWdldCh0LGUscj0hMSl7ciYmKHQ9ZCh0LC0xLHRoaXMuZGltKSxlPWQoZSwtMSx0aGlzLmRpbSkpO2NvbnN0IG49NCp0aGlzLl9pZHgodCxlKTtyZXR1cm4gKFwidGVycmFyaXVtXCI9PT10aGlzLmVuY29kaW5nP3RoaXMuX3VucGFja1RlcnJhcml1bTp0aGlzLl91bnBhY2tNYXBib3gpKHRoaXMucGl4ZWxzW25dLHRoaXMucGl4ZWxzW24rMV0sdGhpcy5waXhlbHNbbisyXSl9c3RhdGljIGdldFVucGFja1ZlY3Rvcih0KXtyZXR1cm4gRmRbdF19Z2V0IHVucGFja1ZlY3Rvcigpe3JldHVybiBGZFt0aGlzLmVuY29kaW5nXX1faWR4KHQsZSl7aWYodDwtMXx8dD49dGhpcy5kaW0rMXx8ZTwtMXx8ZT49dGhpcy5kaW0rMSl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIm91dCBvZiByYW5nZSBzb3VyY2UgY29vcmRpbmF0ZXMgZm9yIERFTSBkYXRhXCIpO3JldHVybiAoZSsxKSp0aGlzLnN0cmlkZSsodCsxKX1fdW5wYWNrTWFwYm94KHQsZSxyKXtyZXR1cm4gKDI1Nip0KjI1NisyNTYqZStyKS8xMC0xZTR9X3VucGFja1RlcnJhcml1bSh0LGUscil7cmV0dXJuIDI1Nip0K2Urci8yNTYtMzI3Njh9c3RhdGljIHBhY2sodCxlKXtjb25zdCByPVswLDAsMCwwXSxuPUxkLmdldFVucGFja1ZlY3RvcihlKTtsZXQgaT1NYXRoLmZsb29yKCh0K25bM10pL25bMl0pO3JldHVybiByWzJdPWklMjU2LGk9TWF0aC5mbG9vcihpLzI1NiksclsxXT1pJTI1NixpPU1hdGguZmxvb3IoaS8yNTYpLHJbMF09aSxyfWdldFBpeGVscygpe3JldHVybiBuZXcgcHUoe3dpZHRoOnRoaXMuc3RyaWRlLGhlaWdodDp0aGlzLnN0cmlkZX0sdGhpcy5waXhlbHMpfWJhY2tmaWxsQm9yZGVyKHQsZSxyKXtpZih0aGlzLmRpbSE9PXQuZGltKXRocm93IG5ldyBFcnJvcihcImRlbSBkaW1lbnNpb24gbWlzbWF0Y2hcIik7bGV0IG49ZSp0aGlzLmRpbSxpPWUqdGhpcy5kaW0rdGhpcy5kaW0scz1yKnRoaXMuZGltLGE9cip0aGlzLmRpbSt0aGlzLmRpbTtzd2l0Y2goZSl7Y2FzZS0xOm49aS0xO2JyZWFrO2Nhc2UgMTppPW4rMTt9c3dpdGNoKHIpe2Nhc2UtMTpzPWEtMTticmVhaztjYXNlIDE6YT1zKzE7fWNvbnN0IG89LWUqdGhpcy5kaW0sbD0tcip0aGlzLmRpbTtmb3IobGV0IGU9cztlPGE7ZSsrKWZvcihsZXQgcj1uO3I8aTtyKyspe2NvbnN0IG49NCp0aGlzLl9pZHgocixlKSxpPTQqdGhpcy5faWR4KHIrbyxlK2wpO3RoaXMucGl4ZWxzW24rMF09dC5waXhlbHNbaSswXSx0aGlzLnBpeGVsc1tuKzFdPXQucGl4ZWxzW2krMV0sdGhpcy5waXhlbHNbbisyXT10LnBpeGVsc1tpKzJdLHRoaXMucGl4ZWxzW24rM109dC5waXhlbHNbaSszXTt9fW9uRGVzZXJpYWxpemUoKXt0aGlzLl90cmVlJiYodGhpcy5fdHJlZS5kZW09dGhpcyk7fX1QaShMZCxcIkRFTURhdGFcIiksUGkoUGQsXCJEZW1NaW5NYXhRdWFkVHJlZVwiLHtvbWl0OltcImRlbVwiXX0pO2NsYXNzIFJke2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5tYXg9dCx0aGlzLm9uUmVtb3ZlPWUsdGhpcy5yZXNldCgpO31yZXNldCgpe2Zvcihjb25zdCB0IGluIHRoaXMuZGF0YSlmb3IoY29uc3QgZSBvZiB0aGlzLmRhdGFbdF0pZS50aW1lb3V0JiZjbGVhclRpbWVvdXQoZS50aW1lb3V0KSx0aGlzLm9uUmVtb3ZlKGUudmFsdWUpO3JldHVybiB0aGlzLmRhdGE9e30sdGhpcy5vcmRlcj1bXSx0aGlzfWFkZCh0LGUscil7Y29uc3Qgbj10LndyYXBwZWQoKS5rZXk7dm9pZCAwPT09dGhpcy5kYXRhW25dJiYodGhpcy5kYXRhW25dPVtdKTtjb25zdCBpPXt2YWx1ZTplLHRpbWVvdXQ6dm9pZCAwfTtpZih2b2lkIDAhPT1yJiYoaS50aW1lb3V0PXNldFRpbWVvdXQoKCgpPT57dGhpcy5yZW1vdmUodCxpKTt9KSxyKSksdGhpcy5kYXRhW25dLnB1c2goaSksdGhpcy5vcmRlci5wdXNoKG4pLHRoaXMub3JkZXIubGVuZ3RoPnRoaXMubWF4KXtjb25zdCB0PXRoaXMuX2dldEFuZFJlbW92ZUJ5S2V5KHRoaXMub3JkZXJbMF0pO3QmJnRoaXMub25SZW1vdmUodCk7fXJldHVybiB0aGlzfWhhcyh0KXtyZXR1cm4gdC53cmFwcGVkKCkua2V5IGluIHRoaXMuZGF0YX1nZXRBbmRSZW1vdmUodCl7cmV0dXJuIHRoaXMuaGFzKHQpP3RoaXMuX2dldEFuZFJlbW92ZUJ5S2V5KHQud3JhcHBlZCgpLmtleSk6bnVsbH1fZ2V0QW5kUmVtb3ZlQnlLZXkodCl7Y29uc3QgZT10aGlzLmRhdGFbdF0uc2hpZnQoKTtyZXR1cm4gZS50aW1lb3V0JiZjbGVhclRpbWVvdXQoZS50aW1lb3V0KSwwPT09dGhpcy5kYXRhW3RdLmxlbmd0aCYmZGVsZXRlIHRoaXMuZGF0YVt0XSx0aGlzLm9yZGVyLnNwbGljZSh0aGlzLm9yZGVyLmluZGV4T2YodCksMSksZS52YWx1ZX1nZXRCeUtleSh0KXtjb25zdCBlPXRoaXMuZGF0YVt0XTtyZXR1cm4gZT9lWzBdLnZhbHVlOm51bGx9Z2V0KHQpe3JldHVybiB0aGlzLmhhcyh0KT90aGlzLmRhdGFbdC53cmFwcGVkKCkua2V5XVswXS52YWx1ZTpudWxsfXJlbW92ZSh0LGUpe2lmKCF0aGlzLmhhcyh0KSlyZXR1cm4gdGhpcztjb25zdCByPXQud3JhcHBlZCgpLmtleSxuPXZvaWQgMD09PWU/MDp0aGlzLmRhdGFbcl0uaW5kZXhPZihlKSxpPXRoaXMuZGF0YVtyXVtuXTtyZXR1cm4gdGhpcy5kYXRhW3JdLnNwbGljZShuLDEpLGkudGltZW91dCYmY2xlYXJUaW1lb3V0KGkudGltZW91dCksMD09PXRoaXMuZGF0YVtyXS5sZW5ndGgmJmRlbGV0ZSB0aGlzLmRhdGFbcl0sdGhpcy5vblJlbW92ZShpLnZhbHVlKSx0aGlzLm9yZGVyLnNwbGljZSh0aGlzLm9yZGVyLmluZGV4T2YociksMSksdGhpc31zZXRNYXhTaXplKHQpe2Zvcih0aGlzLm1heD10O3RoaXMub3JkZXIubGVuZ3RoPnRoaXMubWF4Oyl7Y29uc3QgdD10aGlzLl9nZXRBbmRSZW1vdmVCeUtleSh0aGlzLm9yZGVyWzBdKTt0JiZ0aGlzLm9uUmVtb3ZlKHQpO31yZXR1cm4gdGhpc31maWx0ZXIodCl7Y29uc3QgZT1bXTtmb3IoY29uc3QgciBpbiB0aGlzLmRhdGEpZm9yKGNvbnN0IG4gb2YgdGhpcy5kYXRhW3JdKXQobi52YWx1ZSl8fGUucHVzaChuKTtmb3IoY29uc3QgdCBvZiBlKXRoaXMucmVtb3ZlKHQudmFsdWUudGlsZUlELHQpO319Y2xhc3MgVWR7Y29uc3RydWN0b3IodCxlLHIpe3RoaXMuZnVuYz10LHRoaXMubWFzaz1lLHRoaXMucmFuZ2U9cjt9fVVkLlJlYWRPbmx5PSExLFVkLlJlYWRXcml0ZT0hMCxVZC5kaXNhYmxlZD1uZXcgVWQoNTE5LFVkLlJlYWRPbmx5LFswLDFdKTtjb25zdCBqZD03NjgwO2NsYXNzICRke2NvbnN0cnVjdG9yKHQsZSxyLG4saSxzKXt0aGlzLnRlc3Q9dCx0aGlzLnJlZj1lLHRoaXMubWFzaz1yLHRoaXMuZmFpbD1uLHRoaXMuZGVwdGhGYWlsPWksdGhpcy5wYXNzPXM7fX0kZC5kaXNhYmxlZD1uZXcgJGQoe2Z1bmM6NTE5LG1hc2s6MH0sMCwwLGpkLGpkLGpkKTtjbGFzcyBPZHtjb25zdHJ1Y3Rvcih0LGUscil7dGhpcy5ibGVuZEZ1bmN0aW9uPXQsdGhpcy5ibGVuZENvbG9yPWUsdGhpcy5tYXNrPXI7fX1PZC5SZXBsYWNlPVsxLDBdLE9kLmRpc2FibGVkPW5ldyBPZChPZC5SZXBsYWNlLHhlLnRyYW5zcGFyZW50LFshMSwhMSwhMSwhMV0pLE9kLnVuYmxlbmRlZD1uZXcgT2QoT2QuUmVwbGFjZSx4ZS50cmFuc3BhcmVudCxbITAsITAsITAsITBdKSxPZC5hbHBoYUJsZW5kZWQ9bmV3IE9kKFsxLDc3MV0seGUudHJhbnNwYXJlbnQsWyEwLCEwLCEwLCEwXSk7Y29uc3QgcWQ9MTAyOSxOZD0yMzA1O2NsYXNzIEdke2NvbnN0cnVjdG9yKHQsZSxyKXt0aGlzLmVuYWJsZT10LHRoaXMubW9kZT1lLHRoaXMuZnJvbnRGYWNlPXI7fX1HZC5kaXNhYmxlZD1uZXcgR2QoITEscWQsTmQpLEdkLmJhY2tDQ1c9bmV3IEdkKCEwLHFkLE5kKSxHZC5iYWNrQ1c9bmV3IEdkKCEwLHFkLDIzMDQpLEdkLmZyb250Q1c9bmV3IEdkKCEwLDEwMjgsMjMwNCksR2QuZnJvbnRDQ1c9bmV3IEdkKCEwLDEwMjgsTmQpO2NsYXNzIFpkIGV4dGVuZHMgTnR7Y29uc3RydWN0b3IodCxlLHIpe3N1cGVyKCksdGhpcy5pZD10LHRoaXMuX29ubHlTeW1ib2xzPXIsZS5vbihcImRhdGFcIiwodD0+e1wic291cmNlXCI9PT10LmRhdGFUeXBlJiZcIm1ldGFkYXRhXCI9PT10LnNvdXJjZURhdGFUeXBlJiYodGhpcy5fc291cmNlTG9hZGVkPSEwKSx0aGlzLl9zb3VyY2VMb2FkZWQmJiF0aGlzLl9wYXVzZWQmJlwic291cmNlXCI9PT10LmRhdGFUeXBlJiZcImNvbnRlbnRcIj09PXQuc291cmNlRGF0YVR5cGUmJih0aGlzLnJlbG9hZCgpLHRoaXMudHJhbnNmb3JtJiZ0aGlzLnVwZGF0ZSh0aGlzLnRyYW5zZm9ybSkpO30pKSxlLm9uKFwiZXJyb3JcIiwoKCk9Pnt0aGlzLl9zb3VyY2VFcnJvcmVkPSEwO30pKSx0aGlzLl9zb3VyY2U9ZSx0aGlzLl90aWxlcz17fSx0aGlzLl9jYWNoZT1uZXcgUmQoMCx0aGlzLl91bmxvYWRUaWxlLmJpbmQodGhpcykpLHRoaXMuX3RpbWVycz17fSx0aGlzLl9jYWNoZVRpbWVycz17fSx0aGlzLl9taW5UaWxlQ2FjaGVTaXplPWUubWluVGlsZUNhY2hlU2l6ZSx0aGlzLl9tYXhUaWxlQ2FjaGVTaXplPWUubWF4VGlsZUNhY2hlU2l6ZSx0aGlzLl9sb2FkZWRQYXJlbnRUaWxlcz17fSx0aGlzLl9jb3ZlcmVkVGlsZXM9e30sdGhpcy5fc3RhdGU9bmV3IE1kLHRoaXMuX2lzUmFzdGVyPVwicmFzdGVyXCI9PT10aGlzLl9zb3VyY2UudHlwZXx8XCJyYXN0ZXItZGVtXCI9PT10aGlzLl9zb3VyY2UudHlwZXx8XCJjdXN0b21cIj09PXRoaXMuX3NvdXJjZS50eXBlJiZcInJhc3RlclwiPT09dGhpcy5fc291cmNlLl9kYXRhVHlwZTt9b25BZGQodCl7dGhpcy5tYXA9dCx0aGlzLl9taW5UaWxlQ2FjaGVTaXplPXZvaWQgMD09PXRoaXMuX21pblRpbGVDYWNoZVNpemUmJnQ/dC5fbWluVGlsZUNhY2hlU2l6ZTp0aGlzLl9taW5UaWxlQ2FjaGVTaXplLHRoaXMuX21heFRpbGVDYWNoZVNpemU9dm9pZCAwPT09dGhpcy5fbWF4VGlsZUNhY2hlU2l6ZSYmdD90Ll9tYXhUaWxlQ2FjaGVTaXplOnRoaXMuX21heFRpbGVDYWNoZVNpemU7fWxvYWRlZCgpe2lmKHRoaXMuX3NvdXJjZUVycm9yZWQpcmV0dXJuICEwO2lmKCF0aGlzLl9zb3VyY2VMb2FkZWQpcmV0dXJuICExO2lmKCF0aGlzLl9zb3VyY2UubG9hZGVkKCkpcmV0dXJuICExO2Zvcihjb25zdCB0IGluIHRoaXMuX3RpbGVzKXtjb25zdCBlPXRoaXMuX3RpbGVzW3RdO2lmKFwibG9hZGVkXCIhPT1lLnN0YXRlJiZcImVycm9yZWRcIiE9PWUuc3RhdGUpcmV0dXJuICExfXJldHVybiAhMH1nZXRTb3VyY2UoKXtyZXR1cm4gdGhpcy5fc291cmNlfXBhdXNlKCl7dGhpcy5fcGF1c2VkPSEwO31yZXN1bWUoKXtpZighdGhpcy5fcGF1c2VkKXJldHVybjtjb25zdCB0PXRoaXMuX3Nob3VsZFJlbG9hZE9uUmVzdW1lO3RoaXMuX3BhdXNlZD0hMSx0aGlzLl9zaG91bGRSZWxvYWRPblJlc3VtZT0hMSx0JiZ0aGlzLnJlbG9hZCgpLHRoaXMudHJhbnNmb3JtJiZ0aGlzLnVwZGF0ZSh0aGlzLnRyYW5zZm9ybSk7fV9sb2FkVGlsZSh0LGUpe3JldHVybiB0LmlzU3ltYm9sVGlsZT10aGlzLl9vbmx5U3ltYm9scyx0aGlzLl9zb3VyY2UubG9hZFRpbGUodCxlKX1fdW5sb2FkVGlsZSh0KXtpZih0aGlzLl9zb3VyY2UudW5sb2FkVGlsZSlyZXR1cm4gdGhpcy5fc291cmNlLnVubG9hZFRpbGUodCwoKCk9Pnt9KSl9X2Fib3J0VGlsZSh0KXtpZih0aGlzLl9zb3VyY2UuYWJvcnRUaWxlKXJldHVybiB0aGlzLl9zb3VyY2UuYWJvcnRUaWxlKHQsKCgpPT57fSkpfXNlcmlhbGl6ZSgpe3JldHVybiB0aGlzLl9zb3VyY2Uuc2VyaWFsaXplKCl9cHJlcGFyZSh0KXtpZih0aGlzLl9zb3VyY2UucHJlcGFyZSYmdGhpcy5fc291cmNlLnByZXBhcmUoKSx0aGlzLl9zdGF0ZS5jb2FsZXNjZUNoYW5nZXModGhpcy5fdGlsZXMsdGhpcy5tYXA/dGhpcy5tYXAucGFpbnRlcjpudWxsKSx0aGlzLl9zb3VyY2UucHJlcGFyZVRpbGUpZm9yKGNvbnN0IGUgaW4gdGhpcy5fdGlsZXMpe2NvbnN0IHI9dGhpcy5fdGlsZXNbZV07dGhpcy5fc291cmNlLnByZXBhcmVUaWxlKHIpJiZ0aGlzLm1hcC5wYWludGVyLnRlcnJhaW4mJnRoaXMubWFwLnBhaW50ZXIudGVycmFpbi5fY2xlYXJSZW5kZXJDYWNoZUZvclRpbGUodGhpcy5pZCxyLnRpbGVJRCksci51cGxvYWQodCksci5wcmVwYXJlKHRoaXMubWFwLnN0eWxlLmltYWdlTWFuYWdlcik7fWVsc2UgZm9yKGNvbnN0IGUgaW4gdGhpcy5fdGlsZXMpe2NvbnN0IHI9dGhpcy5fdGlsZXNbZV07ci51cGxvYWQodCksci5wcmVwYXJlKHRoaXMubWFwLnN0eWxlLmltYWdlTWFuYWdlcik7fX1nZXRJZHMoKXtyZXR1cm4geCh0aGlzLl90aWxlcykubWFwKCh0PT50LnRpbGVJRCkpLnNvcnQoWGQpLm1hcCgodD0+dC5rZXkpKX1nZXRSZW5kZXJhYmxlSWRzKHQpe2NvbnN0IGU9W107Zm9yKGNvbnN0IHIgaW4gdGhpcy5fdGlsZXMpdGhpcy5faXNJZFJlbmRlcmFibGUoK3IsdCkmJmUucHVzaCh0aGlzLl90aWxlc1tyXSk7cmV0dXJuIHQ/ZS5zb3J0KCgodCxlKT0+e2NvbnN0IHI9dC50aWxlSUQsbj1lLnRpbGVJRCxzPW5ldyBpKHIuY2Fub25pY2FsLngsci5jYW5vbmljYWwueSkuX3JvdGF0ZSh0aGlzLnRyYW5zZm9ybS5hbmdsZSksYT1uZXcgaShuLmNhbm9uaWNhbC54LG4uY2Fub25pY2FsLnkpLl9yb3RhdGUodGhpcy50cmFuc2Zvcm0uYW5nbGUpO3JldHVybiByLm92ZXJzY2FsZWRaLW4ub3ZlcnNjYWxlZFp8fGEueS1zLnl8fGEueC1zLnh9KSkubWFwKCh0PT50LnRpbGVJRC5rZXkpKTplLm1hcCgodD0+dC50aWxlSUQpKS5zb3J0KFhkKS5tYXAoKHQ9PnQua2V5KSl9aGFzUmVuZGVyYWJsZVBhcmVudCh0KXtjb25zdCBlPXRoaXMuZmluZExvYWRlZFBhcmVudCh0LDApO3JldHVybiAhIWUmJnRoaXMuX2lzSWRSZW5kZXJhYmxlKGUudGlsZUlELmtleSl9X2lzSWRSZW5kZXJhYmxlKHQsZSl7cmV0dXJuIHRoaXMuX3RpbGVzW3RdJiZ0aGlzLl90aWxlc1t0XS5oYXNEYXRhKCkmJiF0aGlzLl9jb3ZlcmVkVGlsZXNbdF0mJihlfHwhdGhpcy5fdGlsZXNbdF0uaG9sZGluZ0ZvckZhZGUoKSl9cmVsb2FkKCl7aWYodGhpcy5fcGF1c2VkKXRoaXMuX3Nob3VsZFJlbG9hZE9uUmVzdW1lPSEwO2Vsc2Uge3RoaXMuX2NhY2hlLnJlc2V0KCk7Zm9yKGNvbnN0IHQgaW4gdGhpcy5fdGlsZXMpXCJlcnJvcmVkXCIhPT10aGlzLl90aWxlc1t0XS5zdGF0ZSYmdGhpcy5fcmVsb2FkVGlsZSgrdCxcInJlbG9hZGluZ1wiKTt9fV9yZWxvYWRUaWxlKHQsZSl7Y29uc3Qgcj10aGlzLl90aWxlc1t0XTtyJiYoXCJsb2FkaW5nXCIhPT1yLnN0YXRlJiYoci5zdGF0ZT1lKSx0aGlzLl9sb2FkVGlsZShyLHRoaXMuX3RpbGVMb2FkZWQuYmluZCh0aGlzLHIsdCxlKSkpO31fdGlsZUxvYWRlZCh0LGUscixuKXtpZihuKWlmKHQuc3RhdGU9XCJlcnJvcmVkXCIsNDA0IT09bi5zdGF0dXMpdGhpcy5fc291cmNlLmZpcmUobmV3IHF0KG4se3RpbGU6dH0pKTtlbHNlIGlmKFwicmFzdGVyLWRlbVwiPT09dGhpcy5fc291cmNlLnR5cGUmJnRoaXMudXNlZEZvclRlcnJhaW4mJnRoaXMubWFwLnBhaW50ZXIudGVycmFpbil7Y29uc3QgdD10aGlzLm1hcC5wYWludGVyLnRlcnJhaW47dGhpcy51cGRhdGUodGhpcy50cmFuc2Zvcm0sdC5nZXRTY2FsZWREZW1UaWxlU2l6ZSgpLCEwKSx0LnJlc2V0VGlsZUxvb2t1cENhY2hlKHRoaXMuaWQpO31lbHNlIHRoaXMudXBkYXRlKHRoaXMudHJhbnNmb3JtKTtlbHNlIHQudGltZUFkZGVkPVgubm93KCksXCJleHBpcmVkXCI9PT1yJiYodC5yZWZyZXNoZWRVcG9uRXhwaXJhdGlvbj0hMCksdGhpcy5fc2V0VGlsZVJlbG9hZFRpbWVyKGUsdCksXCJyYXN0ZXItZGVtXCI9PT10aGlzLl9zb3VyY2UudHlwZSYmdC5kZW0mJnRoaXMuX2JhY2tmaWxsREVNKHQpLHRoaXMuX3N0YXRlLmluaXRpYWxpemVUaWxlU3RhdGUodCx0aGlzLm1hcD90aGlzLm1hcC5wYWludGVyOm51bGwpLHRoaXMuX3NvdXJjZS5maXJlKG5ldyBPdChcImRhdGFcIix7ZGF0YVR5cGU6XCJzb3VyY2VcIix0aWxlOnQsY29vcmQ6dC50aWxlSUQsc291cmNlQ2FjaGVJZDp0aGlzLmlkfSkpO31fYmFja2ZpbGxERU0odCl7Y29uc3QgZT10aGlzLmdldFJlbmRlcmFibGVJZHMoKTtmb3IobGV0IG49MDtuPGUubGVuZ3RoO24rKyl7Y29uc3QgaT1lW25dO2lmKHQubmVpZ2hib3JpbmdUaWxlcyYmdC5uZWlnaGJvcmluZ1RpbGVzW2ldKXtjb25zdCBlPXRoaXMuZ2V0VGlsZUJ5SUQoaSk7cih0LGUpLHIoZSx0KTt9fWZ1bmN0aW9uIHIodCxlKXtpZighdC5kZW18fHQuZGVtLmJvcmRlclJlYWR5KXJldHVybjt0Lm5lZWRzSGlsbHNoYWRlUHJlcGFyZT0hMCx0Lm5lZWRzREVNVGV4dHVyZVVwbG9hZD0hMDtsZXQgcj1lLnRpbGVJRC5jYW5vbmljYWwueC10LnRpbGVJRC5jYW5vbmljYWwueDtjb25zdCBuPWUudGlsZUlELmNhbm9uaWNhbC55LXQudGlsZUlELmNhbm9uaWNhbC55LGk9TWF0aC5wb3coMix0LnRpbGVJRC5jYW5vbmljYWwueikscz1lLnRpbGVJRC5rZXk7MD09PXImJjA9PT1ufHxNYXRoLmFicyhuKT4xfHwoTWF0aC5hYnMocik+MSYmKDE9PT1NYXRoLmFicyhyK2kpP3IrPWk6MT09PU1hdGguYWJzKHItaSkmJihyLT1pKSksZS5kZW0mJnQuZGVtJiYodC5kZW0uYmFja2ZpbGxCb3JkZXIoZS5kZW0scixuKSx0Lm5laWdoYm9yaW5nVGlsZXMmJnQubmVpZ2hib3JpbmdUaWxlc1tzXSYmKHQubmVpZ2hib3JpbmdUaWxlc1tzXS5iYWNrZmlsbGVkPSEwKSkpO319Z2V0VGlsZSh0KXtyZXR1cm4gdGhpcy5nZXRUaWxlQnlJRCh0LmtleSl9Z2V0VGlsZUJ5SUQodCl7cmV0dXJuIHRoaXMuX3RpbGVzW3RdfV9yZXRhaW5Mb2FkZWRDaGlsZHJlbih0LGUscixuKXtmb3IoY29uc3QgaSBpbiB0aGlzLl90aWxlcyl7bGV0IHM9dGhpcy5fdGlsZXNbaV07aWYobltpXXx8IXMuaGFzRGF0YSgpfHxzLnRpbGVJRC5vdmVyc2NhbGVkWjw9ZXx8cy50aWxlSUQub3ZlcnNjYWxlZFo+ciljb250aW51ZTtsZXQgYT1zLnRpbGVJRDtmb3IoO3MmJnMudGlsZUlELm92ZXJzY2FsZWRaPmUrMTspe2NvbnN0IHQ9cy50aWxlSUQuc2NhbGVkVG8ocy50aWxlSUQub3ZlcnNjYWxlZFotMSk7cz10aGlzLl90aWxlc1t0LmtleV0scyYmcy5oYXNEYXRhKCkmJihhPXQpO31sZXQgbz1hO2Zvcig7by5vdmVyc2NhbGVkWj5lOylpZihvPW8uc2NhbGVkVG8oby5vdmVyc2NhbGVkWi0xKSx0W28ua2V5XSl7blthLmtleV09YTticmVha319fWZpbmRMb2FkZWRQYXJlbnQodCxlKXtpZih0LmtleSBpbiB0aGlzLl9sb2FkZWRQYXJlbnRUaWxlcyl7Y29uc3Qgcj10aGlzLl9sb2FkZWRQYXJlbnRUaWxlc1t0LmtleV07cmV0dXJuIHImJnIudGlsZUlELm92ZXJzY2FsZWRaPj1lP3I6bnVsbH1mb3IobGV0IHI9dC5vdmVyc2NhbGVkWi0xO3I+PWU7ci0tKXtjb25zdCBlPXQuc2NhbGVkVG8ociksbj10aGlzLl9nZXRMb2FkZWRUaWxlKGUpO2lmKG4pcmV0dXJuIG59fV9nZXRMb2FkZWRUaWxlKHQpe2NvbnN0IGU9dGhpcy5fdGlsZXNbdC5rZXldO3JldHVybiBlJiZlLmhhc0RhdGEoKT9lOnRoaXMuX2NhY2hlLmdldEJ5S2V5KHRoaXMuX3NvdXJjZS5yZXBhcnNlT3ZlcnNjYWxlZD90LndyYXBwZWQoKS5rZXk6dC5jYW5vbmljYWwua2V5KX11cGRhdGVDYWNoZVNpemUodCxlKXtlPWV8fHRoaXMuX3NvdXJjZS50aWxlU2l6ZTtjb25zdCByPU1hdGguY2VpbCh0LndpZHRoL2UpKzEsbj1NYXRoLmNlaWwodC5oZWlnaHQvZSkrMSxpPU1hdGguZmxvb3IocipuKjUpLHM9XCJudW1iZXJcIj09dHlwZW9mIHRoaXMuX21pblRpbGVDYWNoZVNpemU/TWF0aC5tYXgodGhpcy5fbWluVGlsZUNhY2hlU2l6ZSxpKTppLGE9XCJudW1iZXJcIj09dHlwZW9mIHRoaXMuX21heFRpbGVDYWNoZVNpemU/TWF0aC5taW4odGhpcy5fbWF4VGlsZUNhY2hlU2l6ZSxzKTpzO3RoaXMuX2NhY2hlLnNldE1heFNpemUoYSk7fWhhbmRsZVdyYXBKdW1wKHQpe2NvbnN0IGU9TWF0aC5yb3VuZCgodC0odm9pZCAwPT09dGhpcy5fcHJldkxuZz90OnRoaXMuX3ByZXZMbmcpKS8zNjApO2lmKHRoaXMuX3ByZXZMbmc9dCxlKXtjb25zdCB0PXt9O2Zvcihjb25zdCByIGluIHRoaXMuX3RpbGVzKXtjb25zdCBuPXRoaXMuX3RpbGVzW3JdO24udGlsZUlEPW4udGlsZUlELnVud3JhcFRvKG4udGlsZUlELndyYXArZSksdFtuLnRpbGVJRC5rZXldPW47fXRoaXMuX3RpbGVzPXQ7Zm9yKGNvbnN0IHQgaW4gdGhpcy5fdGltZXJzKWNsZWFyVGltZW91dCh0aGlzLl90aW1lcnNbdF0pLGRlbGV0ZSB0aGlzLl90aW1lcnNbdF07Zm9yKGNvbnN0IHQgaW4gdGhpcy5fdGlsZXMpdGhpcy5fc2V0VGlsZVJlbG9hZFRpbWVyKCt0LHRoaXMuX3RpbGVzW3RdKTt9fXVwZGF0ZSh0LGUscil7aWYodGhpcy50cmFuc2Zvcm09dCwhdGhpcy5fc291cmNlTG9hZGVkfHx0aGlzLl9wYXVzZWR8fHRoaXMudHJhbnNmb3JtLmZyZWV6ZVRpbGVDb3ZlcmFnZSlyZXR1cm47aWYodGhpcy51c2VkRm9yVGVycmFpbiYmIXIpcmV0dXJuO2xldCBuO3RoaXMudXBkYXRlQ2FjaGVTaXplKHQsZSksXCJnbG9iZVwiIT09dGhpcy50cmFuc2Zvcm0ucHJvamVjdGlvbi5uYW1lJiZ0aGlzLmhhbmRsZVdyYXBKdW1wKHRoaXMudHJhbnNmb3JtLmNlbnRlci5sbmcpLHRoaXMuX2NvdmVyZWRUaWxlcz17fSx0aGlzLnVzZWR8fHRoaXMudXNlZEZvclRlcnJhaW4/dGhpcy5fc291cmNlLnRpbGVJRD9uPXQuZ2V0VmlzaWJsZVVud3JhcHBlZENvb3JkaW5hdGVzKHRoaXMuX3NvdXJjZS50aWxlSUQpLm1hcCgodD0+bmV3IEZjKHQuY2Fub25pY2FsLnosdC53cmFwLHQuY2Fub25pY2FsLnosdC5jYW5vbmljYWwueCx0LmNhbm9uaWNhbC55KSkpOihuPXQuY292ZXJpbmdUaWxlcyh7dGlsZVNpemU6ZXx8dGhpcy5fc291cmNlLnRpbGVTaXplLG1pbnpvb206dGhpcy5fc291cmNlLm1pbnpvb20sbWF4em9vbTp0aGlzLl9zb3VyY2UubWF4em9vbSxyb3VuZFpvb206dGhpcy5fc291cmNlLnJvdW5kWm9vbSYmIXIscmVwYXJzZU92ZXJzY2FsZWQ6dGhpcy5fc291cmNlLnJlcGFyc2VPdmVyc2NhbGVkLGlzVGVycmFpbkRFTTp0aGlzLnVzZWRGb3JUZXJyYWlufSksdGhpcy5fc291cmNlLmhhc1RpbGUmJihuPW4uZmlsdGVyKCh0PT50aGlzLl9zb3VyY2UuaGFzVGlsZSh0KSkpKSk6bj1bXTtjb25zdCBpPXRoaXMuX3VwZGF0ZVJldGFpbmVkVGlsZXMobik7aWYoS2QodGhpcy5fc291cmNlLnR5cGUpJiYwIT09bi5sZW5ndGgpe2NvbnN0IHQ9e30sZT17fSxyPU9iamVjdC5rZXlzKGkpO2Zvcihjb25zdCBuIG9mIHIpe2NvbnN0IHI9aVtuXSxzPXRoaXMuX3RpbGVzW25dO2lmKCFzfHxzLmZhZGVFbmRUaW1lJiZzLmZhZGVFbmRUaW1lPD1YLm5vdygpKWNvbnRpbnVlO2NvbnN0IGE9dGhpcy5maW5kTG9hZGVkUGFyZW50KHIsTWF0aC5tYXgoci5vdmVyc2NhbGVkWi1aZC5tYXhPdmVyem9vbWluZyx0aGlzLl9zb3VyY2UubWluem9vbSkpO2EmJih0aGlzLl9hZGRUaWxlKGEudGlsZUlEKSx0W2EudGlsZUlELmtleV09YS50aWxlSUQpLGVbbl09cjt9Y29uc3Qgcz1uW24ubGVuZ3RoLTFdLm92ZXJzY2FsZWRaO2Zvcihjb25zdCB0IGluIHRoaXMuX3RpbGVzKXtjb25zdCByPXRoaXMuX3RpbGVzW3RdO2lmKGlbdF18fCFyLmhhc0RhdGEoKSljb250aW51ZTtsZXQgbj1yLnRpbGVJRDtmb3IoO24ub3ZlcnNjYWxlZFo+czspe249bi5zY2FsZWRUbyhuLm92ZXJzY2FsZWRaLTEpO2NvbnN0IHM9dGhpcy5fdGlsZXNbbi5rZXldO2lmKHMmJnMuaGFzRGF0YSgpJiZlW24ua2V5XSl7aVt0XT1yLnRpbGVJRDticmVha319fWZvcihjb25zdCBlIGluIHQpaVtlXXx8KHRoaXMuX2NvdmVyZWRUaWxlc1tlXT0hMCxpW2VdPXRbZV0pO31mb3IoY29uc3QgdCBpbiBpKXRoaXMuX3RpbGVzW3RdLmNsZWFyRmFkZUhvbGQoKTtjb25zdCBzPWZ1bmN0aW9uKHQsZSl7Y29uc3Qgcj1bXTtmb3IoY29uc3QgbiBpbiB0KW4gaW4gZXx8ci5wdXNoKG4pO3JldHVybiByfSh0aGlzLl90aWxlcyxpKTtmb3IoY29uc3QgdCBvZiBzKXtjb25zdCBlPXRoaXMuX3RpbGVzW3RdO2UuaGFzU3ltYm9sQnVja2V0cyYmIWUuaG9sZGluZ0ZvckZhZGUoKT9lLnNldEhvbGREdXJhdGlvbih0aGlzLm1hcC5fZmFkZUR1cmF0aW9uKTplLmhhc1N5bWJvbEJ1Y2tldHMmJiFlLnN5bWJvbEZhZGVGaW5pc2hlZCgpfHx0aGlzLl9yZW1vdmVUaWxlKCt0KTt9dGhpcy5fdXBkYXRlTG9hZGVkUGFyZW50VGlsZUNhY2hlKCksdGhpcy5fb25seVN5bWJvbHMmJnRoaXMuX3NvdXJjZS5hZnRlclVwZGF0ZSYmdGhpcy5fc291cmNlLmFmdGVyVXBkYXRlKCk7fXJlbGVhc2VTeW1ib2xGYWRlVGlsZXMoKXtmb3IoY29uc3QgdCBpbiB0aGlzLl90aWxlcyl0aGlzLl90aWxlc1t0XS5ob2xkaW5nRm9yRmFkZSgpJiZ0aGlzLl9yZW1vdmVUaWxlKCt0KTt9X3VwZGF0ZVJldGFpbmVkVGlsZXModCl7Y29uc3QgZT17fTtpZigwPT09dC5sZW5ndGgpcmV0dXJuIGU7Y29uc3Qgcj17fSxuPXQucmVkdWNlKCgodCxlKT0+TWF0aC5taW4odCxlLm92ZXJzY2FsZWRaKSksMS8wKSxpPXRbMF0ub3ZlcnNjYWxlZFoscz1NYXRoLm1heChpLVpkLm1heE92ZXJ6b29taW5nLHRoaXMuX3NvdXJjZS5taW56b29tKSxhPU1hdGgubWF4KGkrWmQubWF4VW5kZXJ6b29taW5nLHRoaXMuX3NvdXJjZS5taW56b29tKSxvPXt9O2Zvcihjb25zdCByIG9mIHQpe2NvbnN0IHQ9dGhpcy5fYWRkVGlsZShyKTtlW3Iua2V5XT1yLHQuaGFzRGF0YSgpfHxuPHRoaXMuX3NvdXJjZS5tYXh6b29tJiYob1tyLmtleV09cik7fXRoaXMuX3JldGFpbkxvYWRlZENoaWxkcmVuKG8sbixhLGUpO2Zvcihjb25zdCBuIG9mIHQpe2xldCB0PXRoaXMuX3RpbGVzW24ua2V5XTtpZih0Lmhhc0RhdGEoKSljb250aW51ZTtpZihuLmNhbm9uaWNhbC56Pj10aGlzLl9zb3VyY2UubWF4em9vbSl7Y29uc3QgdD1uLmNoaWxkcmVuKHRoaXMuX3NvdXJjZS5tYXh6b29tKVswXSxyPXRoaXMuZ2V0VGlsZSh0KTtpZihyJiZyLmhhc0RhdGEoKSl7ZVt0LmtleV09dDtjb250aW51ZX19ZWxzZSB7Y29uc3QgdD1uLmNoaWxkcmVuKHRoaXMuX3NvdXJjZS5tYXh6b29tKTtpZihlW3RbMF0ua2V5XSYmZVt0WzFdLmtleV0mJmVbdFsyXS5rZXldJiZlW3RbM10ua2V5XSljb250aW51ZX1sZXQgaT10Lndhc1JlcXVlc3RlZCgpO2ZvcihsZXQgYT1uLm92ZXJzY2FsZWRaLTE7YT49czstLWEpe2NvbnN0IHM9bi5zY2FsZWRUbyhhKTtpZihyW3Mua2V5XSlicmVhaztpZihyW3Mua2V5XT0hMCx0PXRoaXMuZ2V0VGlsZShzKSwhdCYmaSYmKHQ9dGhpcy5fYWRkVGlsZShzKSksdCYmKGVbcy5rZXldPXMsaT10Lndhc1JlcXVlc3RlZCgpLHQuaGFzRGF0YSgpKSlicmVha319cmV0dXJuIGV9X3VwZGF0ZUxvYWRlZFBhcmVudFRpbGVDYWNoZSgpe3RoaXMuX2xvYWRlZFBhcmVudFRpbGVzPXt9O2Zvcihjb25zdCB0IGluIHRoaXMuX3RpbGVzKXtjb25zdCBlPVtdO2xldCByLG49dGhpcy5fdGlsZXNbdF0udGlsZUlEO2Zvcig7bi5vdmVyc2NhbGVkWj4wOyl7aWYobi5rZXkgaW4gdGhpcy5fbG9hZGVkUGFyZW50VGlsZXMpe3I9dGhpcy5fbG9hZGVkUGFyZW50VGlsZXNbbi5rZXldO2JyZWFrfWUucHVzaChuLmtleSk7Y29uc3QgdD1uLnNjYWxlZFRvKG4ub3ZlcnNjYWxlZFotMSk7aWYocj10aGlzLl9nZXRMb2FkZWRUaWxlKHQpLHIpYnJlYWs7bj10O31mb3IoY29uc3QgdCBvZiBlKXRoaXMuX2xvYWRlZFBhcmVudFRpbGVzW3RdPXI7fX1fYWRkVGlsZSh0KXtsZXQgZT10aGlzLl90aWxlc1t0LmtleV07aWYoZSlyZXR1cm4gdGhpcy5fc291cmNlLnByZXBhcmVUaWxlJiZ0aGlzLl9zb3VyY2UucHJlcGFyZVRpbGUoZSksZTtlPXRoaXMuX2NhY2hlLmdldEFuZFJlbW92ZSh0KSxlJiYodGhpcy5fc2V0VGlsZVJlbG9hZFRpbWVyKHQua2V5LGUpLGUudGlsZUlEPXQsdGhpcy5fc3RhdGUuaW5pdGlhbGl6ZVRpbGVTdGF0ZShlLHRoaXMubWFwP3RoaXMubWFwLnBhaW50ZXI6bnVsbCksdGhpcy5fY2FjaGVUaW1lcnNbdC5rZXldJiYoY2xlYXJUaW1lb3V0KHRoaXMuX2NhY2hlVGltZXJzW3Qua2V5XSksZGVsZXRlIHRoaXMuX2NhY2hlVGltZXJzW3Qua2V5XSx0aGlzLl9zZXRUaWxlUmVsb2FkVGltZXIodC5rZXksZSkpKTtjb25zdCByPUJvb2xlYW4oZSk7aWYoIXIpe2NvbnN0IHI9dGhpcy5tYXA/dGhpcy5tYXAucGFpbnRlcjpudWxsO2U9bmV3IElkKHQsdGhpcy5fc291cmNlLnRpbGVTaXplKnQub3ZlcnNjYWxlRmFjdG9yKCksdGhpcy50cmFuc2Zvcm0udGlsZVpvb20scix0aGlzLl9pc1Jhc3RlciksdGhpcy5fc291cmNlLnByZXBhcmVUaWxlJiZ0aGlzLl9zb3VyY2UucHJlcGFyZVRpbGUoZSl8fHRoaXMuX2xvYWRUaWxlKGUsdGhpcy5fdGlsZUxvYWRlZC5iaW5kKHRoaXMsZSx0LmtleSxlLnN0YXRlKSk7fXJldHVybiBlPyhlLnVzZXMrKyx0aGlzLl90aWxlc1t0LmtleV09ZSxyfHx0aGlzLl9zb3VyY2UuZmlyZShuZXcgT3QoXCJkYXRhbG9hZGluZ1wiLHt0aWxlOmUsY29vcmQ6ZS50aWxlSUQsZGF0YVR5cGU6XCJzb3VyY2VcIn0pKSxlKTpudWxsfV9zZXRUaWxlUmVsb2FkVGltZXIodCxlKXt0IGluIHRoaXMuX3RpbWVycyYmKGNsZWFyVGltZW91dCh0aGlzLl90aW1lcnNbdF0pLGRlbGV0ZSB0aGlzLl90aW1lcnNbdF0pO2NvbnN0IHI9ZS5nZXRFeHBpcnlUaW1lb3V0KCk7ciYmKHRoaXMuX3RpbWVyc1t0XT1zZXRUaW1lb3V0KCgoKT0+e3RoaXMuX3JlbG9hZFRpbGUodCxcImV4cGlyZWRcIiksZGVsZXRlIHRoaXMuX3RpbWVyc1t0XTt9KSxyKSk7fV9yZW1vdmVUaWxlKHQpe2NvbnN0IGU9dGhpcy5fdGlsZXNbdF07ZSYmKGUudXNlcy0tLGRlbGV0ZSB0aGlzLl90aWxlc1t0XSx0aGlzLl90aW1lcnNbdF0mJihjbGVhclRpbWVvdXQodGhpcy5fdGltZXJzW3RdKSxkZWxldGUgdGhpcy5fdGltZXJzW3RdKSxlLnVzZXM+MHx8KGUuaGFzRGF0YSgpJiZcInJlbG9hZGluZ1wiIT09ZS5zdGF0ZT90aGlzLl9jYWNoZS5hZGQoZS50aWxlSUQsZSxlLmdldEV4cGlyeVRpbWVvdXQoKSk6KGUuYWJvcnRlZD0hMCx0aGlzLl9hYm9ydFRpbGUoZSksdGhpcy5fdW5sb2FkVGlsZShlKSkpKTt9Y2xlYXJUaWxlcygpe3RoaXMuX3Nob3VsZFJlbG9hZE9uUmVzdW1lPSExLHRoaXMuX3BhdXNlZD0hMTtmb3IoY29uc3QgdCBpbiB0aGlzLl90aWxlcyl0aGlzLl9yZW1vdmVUaWxlKCt0KTt0aGlzLl9zb3VyY2UuX2NsZWFyJiZ0aGlzLl9zb3VyY2UuX2NsZWFyKCksdGhpcy5fY2FjaGUucmVzZXQoKSx0aGlzLm1hcCYmdGhpcy51c2VkRm9yVGVycmFpbiYmdGhpcy5tYXAucGFpbnRlci50ZXJyYWluJiZ0aGlzLm1hcC5wYWludGVyLnRlcnJhaW4ucmVzZXRUaWxlTG9va3VwQ2FjaGUodGhpcy5pZCk7fXRpbGVzSW4odCxlLHIpe2NvbnN0IG49W10saT10aGlzLnRyYW5zZm9ybTtpZighaSlyZXR1cm4gbjtjb25zdCBzPVwiZ2xvYmVcIj09PWkucHJvamVjdGlvbi5uYW1lLGE9em8oaS5jZW50ZXIubG5nKTtmb3IoY29uc3QgbyBpbiB0aGlzLl90aWxlcyl7Y29uc3QgbD10aGlzLl90aWxlc1tvXTtpZihyJiZsLmNsZWFyUXVlcnlEZWJ1Z1ZpeigpLGwuaG9sZGluZ0ZvckZhZGUoKSljb250aW51ZTtsZXQgdTtpZihzKXtjb25zdCB0PWwudGlsZUlELmNhbm9uaWNhbDtpZigwPT09dC56KXtjb25zdCBlPVtNYXRoLmFicyhkKGEsLi4uSGQodCwtMSkpLWEpLE1hdGguYWJzKGQoYSwuLi5IZCh0LDEpKS1hKV07dT1bMCwyKmUuaW5kZXhPZihNYXRoLm1pbiguLi5lKSktMV07fWVsc2Uge2NvbnN0IGU9W01hdGguYWJzKGQoYSwuLi5IZCh0LC0xKSktYSksTWF0aC5hYnMoZChhLC4uLkhkKHQsMCkpLWEpLE1hdGguYWJzKGQoYSwuLi5IZCh0LDEpKS1hKV07dT1bZS5pbmRleE9mKE1hdGgubWluKC4uLmUpKS0xXTt9fWVsc2UgdT1bMF07Zm9yKGNvbnN0IHIgb2YgdSl7Y29uc3Qgcz10LmNvbnRhaW5zVGlsZShsLGksZSxyKTtzJiZuLnB1c2gocyk7fX1yZXR1cm4gbn1nZXRWaXNpYmxlQ29vcmRpbmF0ZXModCl7Y29uc3QgZT10aGlzLmdldFJlbmRlcmFibGVJZHModCkubWFwKCh0PT50aGlzLl90aWxlc1t0XS50aWxlSUQpKTtmb3IoY29uc3QgdCBvZiBlKXQucHJvak1hdHJpeD10aGlzLnRyYW5zZm9ybS5jYWxjdWxhdGVQcm9qTWF0cml4KHQudG9VbndyYXBwZWQoKSk7cmV0dXJuIGV9aGFzVHJhbnNpdGlvbigpe2lmKHRoaXMuX3NvdXJjZS5oYXNUcmFuc2l0aW9uKCkpcmV0dXJuICEwO2lmKEtkKHRoaXMuX3NvdXJjZS50eXBlKSlmb3IoY29uc3QgdCBpbiB0aGlzLl90aWxlcyl7Y29uc3QgZT10aGlzLl90aWxlc1t0XTtpZih2b2lkIDAhPT1lLmZhZGVFbmRUaW1lJiZlLmZhZGVFbmRUaW1lPj1YLm5vdygpKXJldHVybiAhMH1yZXR1cm4gITF9c2V0RmVhdHVyZVN0YXRlKHQsZSxyKXt0aGlzLl9zdGF0ZS51cGRhdGVTdGF0ZSh0PXR8fFwiX2dlb2pzb25UaWxlTGF5ZXJcIixlLHIpO31yZW1vdmVGZWF0dXJlU3RhdGUodCxlLHIpe3RoaXMuX3N0YXRlLnJlbW92ZUZlYXR1cmVTdGF0ZSh0PXR8fFwiX2dlb2pzb25UaWxlTGF5ZXJcIixlLHIpO31nZXRGZWF0dXJlU3RhdGUodCxlKXtyZXR1cm4gdGhpcy5fc3RhdGUuZ2V0U3RhdGUodD10fHxcIl9nZW9qc29uVGlsZUxheWVyXCIsZSl9c2V0RGVwZW5kZW5jaWVzKHQsZSxyKXtjb25zdCBuPXRoaXMuX3RpbGVzW3RdO24mJm4uc2V0RGVwZW5kZW5jaWVzKGUscik7fXJlbG9hZFRpbGVzRm9yRGVwZW5kZW5jaWVzKHQsZSl7Zm9yKGNvbnN0IHIgaW4gdGhpcy5fdGlsZXMpdGhpcy5fdGlsZXNbcl0uaGFzRGVwZW5kZW5jeSh0LGUpJiZ0aGlzLl9yZWxvYWRUaWxlKCtyLFwicmVsb2FkaW5nXCIpO3RoaXMuX2NhY2hlLmZpbHRlcigocj0+IXIuaGFzRGVwZW5kZW5jeSh0LGUpKSk7fV9wcmVsb2FkVGlsZXModCxlKXtjb25zdCByPW5ldyBNYXAsbj1BcnJheS5pc0FycmF5KHQpP3Q6W3RdLGk9dGhpcy5tYXAucGFpbnRlci50ZXJyYWluLHM9dGhpcy51c2VkRm9yVGVycmFpbiYmaT9pLmdldFNjYWxlZERlbVRpbGVTaXplKCk6dGhpcy5fc291cmNlLnRpbGVTaXplO2Zvcihjb25zdCB0IG9mIG4pe2NvbnN0IGU9dC5jb3ZlcmluZ1RpbGVzKHt0aWxlU2l6ZTpzLG1pbnpvb206dGhpcy5fc291cmNlLm1pbnpvb20sbWF4em9vbTp0aGlzLl9zb3VyY2UubWF4em9vbSxyb3VuZFpvb206dGhpcy5fc291cmNlLnJvdW5kWm9vbSYmIXRoaXMudXNlZEZvclRlcnJhaW4scmVwYXJzZU92ZXJzY2FsZWQ6dGhpcy5fc291cmNlLnJlcGFyc2VPdmVyc2NhbGVkLGlzVGVycmFpbkRFTTp0aGlzLnVzZWRGb3JUZXJyYWlufSk7Zm9yKGNvbnN0IHQgb2YgZSlyLnNldCh0LmtleSx0KTt0aGlzLnVzZWRGb3JUZXJyYWluJiZ0LnVwZGF0ZUVsZXZhdGlvbighMSk7fWcoQXJyYXkuZnJvbShyLnZhbHVlcygpKSwoKHQsZSk9Pntjb25zdCByPW5ldyBJZCh0LHRoaXMuX3NvdXJjZS50aWxlU2l6ZSp0Lm92ZXJzY2FsZUZhY3RvcigpLHRoaXMudHJhbnNmb3JtLnRpbGVab29tLHRoaXMubWFwLnBhaW50ZXIsdGhpcy5faXNSYXN0ZXIpO3RoaXMuX2xvYWRUaWxlKHIsKHQ9PntcInJhc3Rlci1kZW1cIj09PXRoaXMuX3NvdXJjZS50eXBlJiZyLmRlbSYmdGhpcy5fYmFja2ZpbGxERU0ociksZSh0LHIpO30pKTt9KSxlKTt9fWZ1bmN0aW9uIFhkKHQsZSl7Y29uc3Qgcj1NYXRoLmFicygyKnQud3JhcCktKyh0LndyYXA8MCksbj1NYXRoLmFicygyKmUud3JhcCktKyhlLndyYXA8MCk7cmV0dXJuIHQub3ZlcnNjYWxlZFotZS5vdmVyc2NhbGVkWnx8bi1yfHxlLmNhbm9uaWNhbC55LXQuY2Fub25pY2FsLnl8fGUuY2Fub25pY2FsLngtdC5jYW5vbmljYWwueH1mdW5jdGlvbiBLZCh0KXtyZXR1cm4gXCJyYXN0ZXJcIj09PXR8fFwiaW1hZ2VcIj09PXR8fFwidmlkZW9cIj09PXR9ZnVuY3Rpb24gSGQodCxlKXtjb25zdCByPTE8PHQuejtyZXR1cm4gW3QueC9yK2UsKHQueCsxKS9yK2VdfVpkLm1heE92ZXJ6b29taW5nPTEwLFpkLm1heFVuZGVyem9vbWluZz0zO2NsYXNzIFlke2NvbnN0cnVjdG9yKHQsZSxyKXt0aGlzLl9kZW1UaWxlPXQsdGhpcy5fZGVtPXRoaXMuX2RlbVRpbGUuZGVtLHRoaXMuX3NjYWxlPWUsdGhpcy5fb2Zmc2V0PXI7fXN0YXRpYyBjcmVhdGUodCxlLHIpe2NvbnN0IG49cnx8dC5maW5kREVNVGlsZUZvcihlKTtpZighbnx8IW4uZGVtKXJldHVybjtjb25zdCBpPW4uZGVtLHM9bi50aWxlSUQsYT0xPDxlLmNhbm9uaWNhbC56LXMuY2Fub25pY2FsLno7cmV0dXJuIG5ldyBZZChuLG4udGlsZVNpemUvd28vYSxbKGUuY2Fub25pY2FsLngvYS1zLmNhbm9uaWNhbC54KSppLmRpbSwoZS5jYW5vbmljYWwueS9hLXMuY2Fub25pY2FsLnkpKmkuZGltXSl9dGlsZUNvb3JkVG9QaXhlbCh0LGUpe2NvbnN0IHI9ZSp0aGlzLl9zY2FsZSt0aGlzLl9vZmZzZXRbMV0sbj1NYXRoLmZsb29yKHQqdGhpcy5fc2NhbGUrdGhpcy5fb2Zmc2V0WzBdKSxzPU1hdGguZmxvb3Iocik7cmV0dXJuIG5ldyBpKG4scyl9Z2V0RWxldmF0aW9uQXQodCxlLHIsbil7Y29uc3QgaT10KnRoaXMuX3NjYWxlK3RoaXMuX29mZnNldFswXSxzPWUqdGhpcy5fc2NhbGUrdGhpcy5fb2Zmc2V0WzFdLGE9TWF0aC5mbG9vcihpKSxvPU1hdGguZmxvb3IocyksbD10aGlzLl9kZW07cmV0dXJuIG49ISFuLHI/eHIoeHIobC5nZXQoYSxvLG4pLGwuZ2V0KGEsbysxLG4pLHMtbykseHIobC5nZXQoYSsxLG8sbiksbC5nZXQoYSsxLG8rMSxuKSxzLW8pLGktYSk6bC5nZXQoYSxvLG4pfWdldEVsZXZhdGlvbkF0UGl4ZWwodCxlLHIpe3JldHVybiB0aGlzLl9kZW0uZ2V0KHQsZSwhIXIpfWdldE1ldGVyVG9ERU0odCl7cmV0dXJuICgxPDx0aGlzLl9kZW1UaWxlLnRpbGVJRC5jYW5vbmljYWwueikqQm8oMSx0KSp0aGlzLl9kZW0uc3RyaWRlfX1jbGFzcyBXZHtjb25zdHJ1Y3Rvcih0LGUpe3RoaXMudGlsZUlEPXQsdGhpcy54PXQuY2Fub25pY2FsLngsdGhpcy55PXQuY2Fub25pY2FsLnksdGhpcy56PXQuY2Fub25pY2FsLnosdGhpcy5ncmlkPW5ldyBCaSh3bywxNiwwKSx0aGlzLmZlYXR1cmVJbmRleEFycmF5PW5ldyBWYSx0aGlzLnByb21vdGVJZD1lO31pbnNlcnQodCxlLHIsbixpLHM9MCl7Y29uc3QgYT10aGlzLmZlYXR1cmVJbmRleEFycmF5Lmxlbmd0aDt0aGlzLmZlYXR1cmVJbmRleEFycmF5LmVtcGxhY2VCYWNrKHIsbixpLHMpO2NvbnN0IG89dGhpcy5ncmlkO2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCsrKXtjb25zdCByPWVbdF0sbj1bMS8wLDEvMCwtMS8wLC0xLzBdO2ZvcihsZXQgdD0wO3Q8ci5sZW5ndGg7dCsrKXtjb25zdCBlPXJbdF07blswXT1NYXRoLm1pbihuWzBdLGUueCksblsxXT1NYXRoLm1pbihuWzFdLGUueSksblsyXT1NYXRoLm1heChuWzJdLGUueCksblszXT1NYXRoLm1heChuWzNdLGUueSk7fW5bMF08d28mJm5bMV08d28mJm5bMl0+PTAmJm5bM10+PTAmJm8uaW5zZXJ0KGEsblswXSxuWzFdLG5bMl0sblszXSk7fX1sb2FkVlRMYXllcnMoKXtpZighdGhpcy52dExheWVycyl7dGhpcy52dExheWVycz1uZXcgeWMuVmVjdG9yVGlsZShuZXcgeGgodGhpcy5yYXdUaWxlRGF0YSkpLmxheWVycyx0aGlzLnNvdXJjZUxheWVyQ29kZXI9bmV3IGRkKHRoaXMudnRMYXllcnM/T2JqZWN0LmtleXModGhpcy52dExheWVycykuc29ydCgpOltcIl9nZW9qc29uVGlsZUxheWVyXCJdKSx0aGlzLnZ0RmVhdHVyZXM9e307Zm9yKGNvbnN0IHQgaW4gdGhpcy52dExheWVycyl0aGlzLnZ0RmVhdHVyZXNbdF09W107fXJldHVybiB0aGlzLnZ0TGF5ZXJzfXF1ZXJ5KHQsZSxyLG4pe3RoaXMubG9hZFZUTGF5ZXJzKCk7Y29uc3QgaT10LnBhcmFtc3x8e30scz1KbihpLmZpbHRlciksYT10LnRpbGVSZXN1bHQsbz10LnRyYW5zZm9ybSxsPWEuYnVmZmVyZWRUaWxlc3BhY2VCb3VuZHMsdT10aGlzLmdyaWQucXVlcnkobC5taW4ueCxsLm1pbi55LGwubWF4LngsbC5tYXgueSwoKHQsZSxyLG4pPT5zbChhLmJ1ZmZlcmVkVGlsZXNwYWNlR2VvbWV0cnksdCxlLHIsbikpKTt1LnNvcnQoUWQpO2xldCBjPW51bGw7by5lbGV2YXRpb24mJnUubGVuZ3RoPjAmJihjPVlkLmNyZWF0ZShvLmVsZXZhdGlvbix0aGlzLnRpbGVJRCkpO2NvbnN0IGg9e307bGV0IHA7Zm9yKGxldCBvPTA7bzx1Lmxlbmd0aDtvKyspe2NvbnN0IGw9dVtvXTtpZihsPT09cCljb250aW51ZTtwPWw7Y29uc3QgZj10aGlzLmZlYXR1cmVJbmRleEFycmF5LmdldChsKTtsZXQgZD1udWxsO3RoaXMubG9hZE1hdGNoaW5nRmVhdHVyZShoLGYscyxpLmxheWVycyxpLmF2YWlsYWJsZUltYWdlcyxlLHIsbiwoKGUscixuLGk9MCk9PihkfHwoZD1ObyhlLHRoaXMudGlsZUlELmNhbm9uaWNhbCx0LnRpbGVUcmFuc2Zvcm0pKSxyLnF1ZXJ5SW50ZXJzZWN0c0ZlYXR1cmUoYSxlLG4sZCx0aGlzLnosdC50cmFuc2Zvcm0sdC5waXhlbFBvc01hdHJpeCxjLGkpKSkpO31yZXR1cm4gaH1sb2FkTWF0Y2hpbmdGZWF0dXJlKHQsZSxyLG4saSxzLGEsbyxsKXtjb25zdHtmZWF0dXJlSW5kZXg6dSxidWNrZXRJbmRleDpjLHNvdXJjZUxheWVySW5kZXg6aCxsYXlvdXRWZXJ0ZXhBcnJheU9mZnNldDpwfT1lLGY9dGhpcy5idWNrZXRMYXllcklEc1tjXTtpZihuJiYhZnVuY3Rpb24odCxlKXtmb3IobGV0IHI9MDtyPHQubGVuZ3RoO3IrKylpZihlLmluZGV4T2YodFtyXSk+PTApcmV0dXJuICEwO3JldHVybiAhMX0obixmKSlyZXR1cm47Y29uc3QgZD10aGlzLnNvdXJjZUxheWVyQ29kZXIuZGVjb2RlKGgpLHk9dGhpcy52dExheWVyc1tkXS5mZWF0dXJlKHUpO2lmKHIubmVlZEdlb21ldHJ5KXtjb25zdCB0PUdvKHksITApO2lmKCFyLmZpbHRlcihuZXcgQ3ModGhpcy50aWxlSUQub3ZlcnNjYWxlZFopLHQsdGhpcy50aWxlSUQuY2Fub25pY2FsKSlyZXR1cm59ZWxzZSBpZighci5maWx0ZXIobmV3IENzKHRoaXMudGlsZUlELm92ZXJzY2FsZWRaKSx5KSlyZXR1cm47Y29uc3QgbT10aGlzLmdldElkKHksZCk7Zm9yKGxldCBlPTA7ZTxmLmxlbmd0aDtlKyspe2NvbnN0IHI9ZltlXTtpZihuJiZuLmluZGV4T2Yocik8MCljb250aW51ZTtjb25zdCBjPXNbcl07aWYoIWMpY29udGludWU7bGV0IGg9e307dm9pZCAwIT09bSYmbyYmKGg9by5nZXRTdGF0ZShjLnNvdXJjZUxheWVyfHxcIl9nZW9qc29uVGlsZUxheWVyXCIsbSkpO2NvbnN0IGQ9dih7fSxhW3JdKTtkLnBhaW50PUpkKGQucGFpbnQsYy5wYWludCx5LGgsaSksZC5sYXlvdXQ9SmQoZC5sYXlvdXQsYy5sYXlvdXQseSxoLGkpO2NvbnN0IGc9IWx8fGwoeSxjLGgscCk7aWYoIWcpY29udGludWU7Y29uc3QgeD1uZXcgbWQoeSx0aGlzLnosdGhpcy54LHRoaXMueSxtKTt4LmxheWVyPWQ7bGV0IGI9dFtyXTt2b2lkIDA9PT1iJiYoYj10W3JdPVtdKSxiLnB1c2goe2ZlYXR1cmVJbmRleDp1LGZlYXR1cmU6eCxpbnRlcnNlY3Rpb25aOmd9KTt9fWxvb2t1cFN5bWJvbEZlYXR1cmVzKHQsZSxyLG4saSxzLGEsbyl7Y29uc3QgbD17fTt0aGlzLmxvYWRWVExheWVycygpO2NvbnN0IHU9Sm4oaSk7Zm9yKGNvbnN0IGkgb2YgdCl0aGlzLmxvYWRNYXRjaGluZ0ZlYXR1cmUobCx7YnVja2V0SW5kZXg6cixzb3VyY2VMYXllckluZGV4Om4sZmVhdHVyZUluZGV4OmksbGF5b3V0VmVydGV4QXJyYXlPZmZzZXQ6MH0sdSxzLGEsbyxlKTtyZXR1cm4gbH1sb2FkRmVhdHVyZSh0KXtjb25zdHtmZWF0dXJlSW5kZXg6ZSxzb3VyY2VMYXllckluZGV4OnJ9PXQ7dGhpcy5sb2FkVlRMYXllcnMoKTtjb25zdCBuPXRoaXMuc291cmNlTGF5ZXJDb2Rlci5kZWNvZGUociksaT10aGlzLnZ0RmVhdHVyZXNbbl07aWYoaVtlXSlyZXR1cm4gaVtlXTtjb25zdCBzPXRoaXMudnRMYXllcnNbbl0uZmVhdHVyZShlKTtyZXR1cm4gaVtlXT1zLHN9aGFzTGF5ZXIodCl7Zm9yKGNvbnN0IGUgb2YgdGhpcy5idWNrZXRMYXllcklEcylmb3IoY29uc3QgciBvZiBlKWlmKHQ9PT1yKXJldHVybiAhMDtyZXR1cm4gITF9Z2V0SWQodCxlKXtsZXQgcj10LmlkO3JldHVybiB0aGlzLnByb21vdGVJZCYmKHI9dC5wcm9wZXJ0aWVzW1wic3RyaW5nXCI9PXR5cGVvZiB0aGlzLnByb21vdGVJZD90aGlzLnByb21vdGVJZDp0aGlzLnByb21vdGVJZFtlXV0sXCJib29sZWFuXCI9PXR5cGVvZiByJiYocj1OdW1iZXIocikpKSxyfX1mdW5jdGlvbiBKZCh0LGUscixuLGkpe3JldHVybiBNKHQsKCh0LHMpPT57Y29uc3QgYT1lIGluc3RhbmNlb2YganM/ZS5nZXQocyk6bnVsbDtyZXR1cm4gYSYmYS5ldmFsdWF0ZT9hLmV2YWx1YXRlKHIsbixpKTphfSkpfWZ1bmN0aW9uIFFkKHQsZSl7cmV0dXJuIGUtdH1QaShXZCxcIkZlYXR1cmVJbmRleFwiLHtvbWl0OltcInJhd1RpbGVEYXRhXCIsXCJzb3VyY2VMYXllckNvZGVyXCJdfSk7Y2xhc3MgdHl7Y29uc3RydWN0b3IodCl7Y29uc3QgZT17fSxyPVtdO2Zvcihjb25zdCBuIGluIHQpe2NvbnN0IGk9dFtuXSxzPWVbbl09e307Zm9yKGNvbnN0IHQgaW4gaS5nbHlwaHMpe2NvbnN0IGU9aS5nbHlwaHNbK3RdO2lmKCFlfHwwPT09ZS5iaXRtYXAud2lkdGh8fDA9PT1lLmJpdG1hcC5oZWlnaHQpY29udGludWU7Y29uc3Qgbj1lLm1ldHJpY3MubG9jYWxHbHlwaD8yOjEsYT17eDowLHk6MCx3OmUuYml0bWFwLndpZHRoKzIqbixoOmUuYml0bWFwLmhlaWdodCsyKm59O3IucHVzaChhKSxzW3RdPWE7fX1jb25zdHt3Om4saDppfT0kaChyKSxzPW5ldyBodSh7d2lkdGg6bnx8MSxoZWlnaHQ6aXx8MX0pO2Zvcihjb25zdCByIGluIHQpe2NvbnN0IG49dFtyXTtmb3IoY29uc3QgdCBpbiBuLmdseXBocyl7Y29uc3QgaT1uLmdseXBoc1srdF07aWYoIWl8fDA9PT1pLmJpdG1hcC53aWR0aHx8MD09PWkuYml0bWFwLmhlaWdodCljb250aW51ZTtjb25zdCBhPWVbcl1bdF0sbz1pLm1ldHJpY3MubG9jYWxHbHlwaD8yOjE7aHUuY29weShpLmJpdG1hcCxzLHt4OjAseTowfSx7eDphLngrbyx5OmEueStvfSxpLmJpdG1hcCk7fX10aGlzLmltYWdlPXMsdGhpcy5wb3NpdGlvbnM9ZTt9fVBpKHR5LFwiR2x5cGhBdGxhc1wiKTtjbGFzcyBleXtjb25zdHJ1Y3Rvcih0KXt0aGlzLnRpbGVJRD1uZXcgRmModC50aWxlSUQub3ZlcnNjYWxlZFosdC50aWxlSUQud3JhcCx0LnRpbGVJRC5jYW5vbmljYWwueix0LnRpbGVJRC5jYW5vbmljYWwueCx0LnRpbGVJRC5jYW5vbmljYWwueSksdGhpcy50aWxlWm9vbT10LnRpbGVab29tLHRoaXMudWlkPXQudWlkLHRoaXMuem9vbT10Lnpvb20sdGhpcy5jYW5vbmljYWw9dC50aWxlSUQuY2Fub25pY2FsLHRoaXMucGl4ZWxSYXRpbz10LnBpeGVsUmF0aW8sdGhpcy50aWxlU2l6ZT10LnRpbGVTaXplLHRoaXMuc291cmNlPXQuc291cmNlLHRoaXMub3ZlcnNjYWxpbmc9dGhpcy50aWxlSUQub3ZlcnNjYWxlRmFjdG9yKCksdGhpcy5zaG93Q29sbGlzaW9uQm94ZXM9dC5zaG93Q29sbGlzaW9uQm94ZXMsdGhpcy5jb2xsZWN0UmVzb3VyY2VUaW1pbmc9ISF0LmNvbGxlY3RSZXNvdXJjZVRpbWluZyx0aGlzLnJldHVybkRlcGVuZGVuY2llcz0hIXQucmV0dXJuRGVwZW5kZW5jaWVzLHRoaXMucHJvbW90ZUlkPXQucHJvbW90ZUlkLHRoaXMuZW5hYmxlVGVycmFpbj0hIXQuZW5hYmxlVGVycmFpbix0aGlzLmlzU3ltYm9sVGlsZT10LmlzU3ltYm9sVGlsZSx0aGlzLnRpbGVUcmFuc2Zvcm09QWYodC50aWxlSUQuY2Fub25pY2FsLHQucHJvamVjdGlvbiksdGhpcy5wcm9qZWN0aW9uPXQucHJvamVjdGlvbjt9cGFyc2UodCxlLHIsbixpKXt0aGlzLnN0YXR1cz1cInBhcnNpbmdcIix0aGlzLmRhdGE9dCx0aGlzLmNvbGxpc2lvbkJveEFycmF5PW5ldyBNYTtjb25zdCBzPW5ldyBkZChPYmplY3Qua2V5cyh0LmxheWVycykuc29ydCgpKSxhPW5ldyBXZCh0aGlzLnRpbGVJRCx0aGlzLnByb21vdGVJZCk7YS5idWNrZXRMYXllcklEcz1bXTtjb25zdCBvPXt9LGw9bmV3IGhkKDI1NiwyNTYpLHU9e2ZlYXR1cmVJbmRleDphLGljb25EZXBlbmRlbmNpZXM6e30scGF0dGVybkRlcGVuZGVuY2llczp7fSxnbHlwaERlcGVuZGVuY2llczp7fSxsaW5lQXRsYXM6bCxhdmFpbGFibGVJbWFnZXM6cn0sYz1lLmZhbWlsaWVzQnlTb3VyY2VbdGhpcy5zb3VyY2VdO2Zvcihjb25zdCBlIGluIGMpe2NvbnN0IG49dC5sYXllcnNbZV07aWYoIW4pY29udGludWU7bGV0IGk9ITEsbD0hMTtmb3IoY29uc3QgdCBvZiBjW2VdKVwic3ltYm9sXCI9PT10WzBdLnR5cGU/aT0hMDpsPSEwO2lmKCEwPT09dGhpcy5pc1N5bWJvbFRpbGUmJiFpKWNvbnRpbnVlO2lmKCExPT09dGhpcy5pc1N5bWJvbFRpbGUmJiFsKWNvbnRpbnVlOzE9PT1uLnZlcnNpb24mJkUoYFZlY3RvciB0aWxlIHNvdXJjZSBcIiR7dGhpcy5zb3VyY2V9XCIgbGF5ZXIgXCIke2V9XCIgZG9lcyBub3QgdXNlIHZlY3RvciB0aWxlIHNwZWMgdjIgYW5kIHRoZXJlZm9yZSBtYXkgaGF2ZSBzb21lIHJlbmRlcmluZyBlcnJvcnMuYCk7Y29uc3QgaD1zLmVuY29kZShlKSxwPVtdO2ZvcihsZXQgdD0wO3Q8bi5sZW5ndGg7dCsrKXtjb25zdCByPW4uZmVhdHVyZSh0KSxpPWEuZ2V0SWQocixlKTtwLnB1c2goe2ZlYXR1cmU6cixpZDppLGluZGV4OnQsc291cmNlTGF5ZXJJbmRleDpofSk7fWZvcihjb25zdCB0IG9mIGNbZV0pe2NvbnN0IGU9dFswXTt2b2lkIDAhPT10aGlzLmlzU3ltYm9sVGlsZSYmXCJzeW1ib2xcIj09PWUudHlwZSE9PXRoaXMuaXNTeW1ib2xUaWxlfHxlLm1pbnpvb20mJnRoaXMuem9vbTxNYXRoLmZsb29yKGUubWluem9vbSl8fGUubWF4em9vbSYmdGhpcy56b29tPj1lLm1heHpvb218fFwibm9uZVwiIT09ZS52aXNpYmlsaXR5JiYocnkodCx0aGlzLnpvb20sciksKG9bZS5pZF09ZS5jcmVhdGVCdWNrZXQoe2luZGV4OmEuYnVja2V0TGF5ZXJJRHMubGVuZ3RoLGxheWVyczp0LHpvb206dGhpcy56b29tLGNhbm9uaWNhbDp0aGlzLmNhbm9uaWNhbCxwaXhlbFJhdGlvOnRoaXMucGl4ZWxSYXRpbyxvdmVyc2NhbGluZzp0aGlzLm92ZXJzY2FsaW5nLGNvbGxpc2lvbkJveEFycmF5OnRoaXMuY29sbGlzaW9uQm94QXJyYXksc291cmNlTGF5ZXJJbmRleDpoLHNvdXJjZUlEOnRoaXMuc291cmNlLGVuYWJsZVRlcnJhaW46dGhpcy5lbmFibGVUZXJyYWluLHByb2plY3Rpb246dGhpcy5wcm9qZWN0aW9uLnNwZWMsYXZhaWxhYmxlSW1hZ2VzOnJ9KSkucG9wdWxhdGUocCx1LHRoaXMudGlsZUlELmNhbm9uaWNhbCx0aGlzLnRpbGVUcmFuc2Zvcm0pLGEuYnVja2V0TGF5ZXJJRHMucHVzaCh0Lm1hcCgodD0+dC5pZCkpKSk7fX1sZXQgaCxwLGYsZDtsLnRyaW0oKTtjb25zdCB5PXt0eXBlOlwibWF5YmVQcmVwYXJlXCIsaXNTeW1ib2xUaWxlOnRoaXMuaXNTeW1ib2xUaWxlLHpvb206dGhpcy56b29tfSxtPU0odS5nbHlwaERlcGVuZGVuY2llcywodD0+T2JqZWN0LmtleXModCkubWFwKE51bWJlcikpKTtPYmplY3Qua2V5cyhtKS5sZW5ndGg/bi5zZW5kKFwiZ2V0R2x5cGhzXCIse3VpZDp0aGlzLnVpZCxzdGFja3M6bX0sKCh0LGUpPT57aHx8KGg9dCxwPWUsYi5jYWxsKHRoaXMpKTt9KSx2b2lkIDAsITEseSk6cD17fTtjb25zdCBnPU9iamVjdC5rZXlzKHUuaWNvbkRlcGVuZGVuY2llcyk7Zy5sZW5ndGg/bi5zZW5kKFwiZ2V0SW1hZ2VzXCIse2ljb25zOmcsc291cmNlOnRoaXMuc291cmNlLHRpbGVJRDp0aGlzLnRpbGVJRCx0eXBlOlwiaWNvbnNcIn0sKCh0LGUpPT57aHx8KGg9dCxmPWUsYi5jYWxsKHRoaXMpKTt9KSx2b2lkIDAsITEseSk6Zj17fTtjb25zdCB2PU9iamVjdC5rZXlzKHUucGF0dGVybkRlcGVuZGVuY2llcyk7ZnVuY3Rpb24gYigpe2lmKGgpcmV0dXJuIGkoaCk7aWYocCYmZiYmZCl7Y29uc3QgdD1uZXcgdHkocCksZT1uZXcgcWgoZixkKTtmb3IoY29uc3QgbiBpbiBvKXtjb25zdCBpPW9bbl07aSBpbnN0YW5jZW9mIFFmPyhyeShpLmxheWVycyx0aGlzLnpvb20sciksRHAoaSxwLHQucG9zaXRpb25zLGYsZS5pY29uUG9zaXRpb25zLHRoaXMuc2hvd0NvbGxpc2lvbkJveGVzLHIsdGhpcy50aWxlSUQuY2Fub25pY2FsLHRoaXMudGlsZVpvb20sdGhpcy5wcm9qZWN0aW9uKSk6aS5oYXNQYXR0ZXJuJiYoaSBpbnN0YW5jZW9mIEtjfHxpIGluc3RhbmNlb2YgdGN8fGkgaW5zdGFuY2VvZiB3YykmJihyeShpLmxheWVycyx0aGlzLnpvb20sciksaS5hZGRGZWF0dXJlcyh1LHRoaXMudGlsZUlELmNhbm9uaWNhbCxlLnBhdHRlcm5Qb3NpdGlvbnMscix0aGlzLnRpbGVUcmFuc2Zvcm0pKTt9dGhpcy5zdGF0dXM9XCJkb25lXCIsaShudWxsLHtidWNrZXRzOngobykuZmlsdGVyKCh0PT4hdC5pc0VtcHR5KCkpKSxmZWF0dXJlSW5kZXg6YSxjb2xsaXNpb25Cb3hBcnJheTp0aGlzLmNvbGxpc2lvbkJveEFycmF5LGdseXBoQXRsYXNJbWFnZTp0LmltYWdlLGxpbmVBdGxhczpsLGltYWdlQXRsYXM6ZSxnbHlwaE1hcDp0aGlzLnJldHVybkRlcGVuZGVuY2llcz9wOm51bGwsaWNvbk1hcDp0aGlzLnJldHVybkRlcGVuZGVuY2llcz9mOm51bGwsZ2x5cGhQb3NpdGlvbnM6dGhpcy5yZXR1cm5EZXBlbmRlbmNpZXM/dC5wb3NpdGlvbnM6bnVsbH0pO319di5sZW5ndGg/bi5zZW5kKFwiZ2V0SW1hZ2VzXCIse2ljb25zOnYsc291cmNlOnRoaXMuc291cmNlLHRpbGVJRDp0aGlzLnRpbGVJRCx0eXBlOlwicGF0dGVybnNcIn0sKCh0LGUpPT57aHx8KGg9dCxkPWUsYi5jYWxsKHRoaXMpKTt9KSx2b2lkIDAsITEseSk6ZD17fSxiLmNhbGwodGhpcyk7fX1mdW5jdGlvbiByeSh0LGUscil7Y29uc3Qgbj1uZXcgQ3MoZSk7Zm9yKGNvbnN0IGUgb2YgdCllLnJlY2FsY3VsYXRlKG4scik7fWNsYXNzIG55e2NvbnN0cnVjdG9yKHQpe3RoaXMuZW50cmllcz17fSx0aGlzLnNjaGVkdWxlcj10O31yZXF1ZXN0KHQsZSxyLG4pe2NvbnN0IGk9dGhpcy5lbnRyaWVzW3RdPXRoaXMuZW50cmllc1t0XXx8e2NhbGxiYWNrczpbXX07aWYoaS5yZXN1bHQpe2NvbnN0W3Qscl09aS5yZXN1bHQ7cmV0dXJuIHRoaXMuc2NoZWR1bGVyP3RoaXMuc2NoZWR1bGVyLmFkZCgoKCk9PntuKHQscik7fSksZSk6bih0LHIpLCgpPT57fX1yZXR1cm4gaS5jYWxsYmFja3MucHVzaChuKSxpLmNhbmNlbHx8KGkuY2FuY2VsPXIoKChyLG4pPT57aS5yZXN1bHQ9W3Isbl07Zm9yKGNvbnN0IHQgb2YgaS5jYWxsYmFja3MpdGhpcy5zY2hlZHVsZXI/dGhpcy5zY2hlZHVsZXIuYWRkKCgoKT0+e3QocixuKTt9KSxlKTp0KHIsbik7c2V0VGltZW91dCgoKCk9PmRlbGV0ZSB0aGlzLmVudHJpZXNbdF0pLDNlMyk7fSkpKSwoKT0+e2kucmVzdWx0fHwoaS5jYWxsYmFja3M9aS5jYWxsYmFja3MuZmlsdGVyKCh0PT50IT09bikpLGkuY2FsbGJhY2tzLmxlbmd0aHx8KGkuY2FuY2VsKCksZGVsZXRlIHRoaXMuZW50cmllc1t0XSkpO319fWZ1bmN0aW9uIGl5KHQsZSxyKXtjb25zdCBuPUpTT04uc3RyaW5naWZ5KHQucmVxdWVzdCk7cmV0dXJuIHQuZGF0YSYmKHRoaXMuZGVkdXBlZC5lbnRyaWVzW25dPXtyZXN1bHQ6W251bGwsdC5kYXRhXX0pLHRoaXMuZGVkdXBlZC5yZXF1ZXN0KG4se3R5cGU6XCJwYXJzZVRpbGVcIixpc1N5bWJvbFRpbGU6dC5pc1N5bWJvbFRpbGUsem9vbTp0LnRpbGVab29tfSwoZT0+e2NvbnN0IG49Q3QodC5yZXF1ZXN0LCgodCxuLGkscyk9Pnt0P2UodCk6biYmZShudWxsLHt2ZWN0b3JUaWxlOnI/dm9pZCAwOm5ldyB5Yy5WZWN0b3JUaWxlKG5ldyB4aChuKSkscmF3RGF0YTpuLGNhY2hlQ29udHJvbDppLGV4cGlyZXM6c30pO30pKTtyZXR1cm4gKCk9PntuLmNhbmNlbCgpLGUoKTt9fSksZSl9dC5BUlJBWV9UWVBFPWRsLHQuQVVUSF9FUlJfTVNHPW50LHQuQWFiYj1ldSx0LkFjdG9yPWNsYXNze2NvbnN0cnVjdG9yKHQscixuKXt0aGlzLnRhcmdldD10LHRoaXMucGFyZW50PXIsdGhpcy5tYXBJZD1uLHRoaXMuY2FsbGJhY2tzPXt9LHRoaXMuY2FuY2VsQ2FsbGJhY2tzPXt9LGsoW1wicmVjZWl2ZVwiXSx0aGlzKSx0aGlzLnRhcmdldC5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLHRoaXMucmVjZWl2ZSwhMSksdGhpcy5nbG9iYWxTY29wZT1EKCk/dDplLHRoaXMuc2NoZWR1bGVyPW5ldyBmZDt9c2VuZCh0LGUscixuLGk9ITEscyl7Y29uc3QgYT1NYXRoLnJvdW5kKDFlMTgqTWF0aC5yYW5kb20oKSkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygwLDEwKTtyJiYoci5tZXRhZGF0YT1zLHRoaXMuY2FsbGJhY2tzW2FdPXIpO2NvbnN0IG89TCh0aGlzLmdsb2JhbFNjb3BlKT92b2lkIDA6W107cmV0dXJuIHRoaXMudGFyZ2V0LnBvc3RNZXNzYWdlKHtpZDphLHR5cGU6dCxoYXNDYWxsYmFjazohIXIsdGFyZ2V0TWFwSWQ6bixtdXN0UXVldWU6aSxzb3VyY2VNYXBJZDp0aGlzLm1hcElkLGRhdGE6RmkoZSxvKX0sbykse2NhbmNlbDooKT0+e3ImJmRlbGV0ZSB0aGlzLmNhbGxiYWNrc1thXSx0aGlzLnRhcmdldC5wb3N0TWVzc2FnZSh7aWQ6YSx0eXBlOlwiPGNhbmNlbD5cIix0YXJnZXRNYXBJZDpuLHNvdXJjZU1hcElkOnRoaXMubWFwSWR9KTt9fX1yZWNlaXZlKHQpe2NvbnN0IGU9dC5kYXRhLHI9ZS5pZDtpZihyJiYoIWUudGFyZ2V0TWFwSWR8fHRoaXMubWFwSWQ9PT1lLnRhcmdldE1hcElkKSlpZihcIjxjYW5jZWw+XCI9PT1lLnR5cGUpe2NvbnN0IHQ9dGhpcy5jYW5jZWxDYWxsYmFja3Nbcl07ZGVsZXRlIHRoaXMuY2FuY2VsQ2FsbGJhY2tzW3JdLHQmJnQuY2FuY2VsKCk7fWVsc2UgaWYoZS5tdXN0UXVldWV8fEQoKSl7Y29uc3QgdD10aGlzLmNhbGxiYWNrc1tyXTt0aGlzLmNhbmNlbENhbGxiYWNrc1tyXT10aGlzLnNjaGVkdWxlci5hZGQoKCgpPT50aGlzLnByb2Nlc3NUYXNrKHIsZSkpLHQmJnQubWV0YWRhdGF8fHt0eXBlOlwibWVzc2FnZVwifSk7fWVsc2UgdGhpcy5wcm9jZXNzVGFzayhyLGUpO31wcm9jZXNzVGFzayh0LGUpe2lmKFwiPHJlc3BvbnNlPlwiPT09ZS50eXBlKXtjb25zdCByPXRoaXMuY2FsbGJhY2tzW3RdO2RlbGV0ZSB0aGlzLmNhbGxiYWNrc1t0XSxyJiYoZS5lcnJvcj9yKExpKGUuZXJyb3IpKTpyKG51bGwsTGkoZS5kYXRhKSkpO31lbHNlIHtjb25zdCByPUwodGhpcy5nbG9iYWxTY29wZSk/dm9pZCAwOltdLG49ZS5oYXNDYWxsYmFjaz8oZSxuKT0+e2RlbGV0ZSB0aGlzLmNhbmNlbENhbGxiYWNrc1t0XSx0aGlzLnRhcmdldC5wb3N0TWVzc2FnZSh7aWQ6dCx0eXBlOlwiPHJlc3BvbnNlPlwiLHNvdXJjZU1hcElkOnRoaXMubWFwSWQsZXJyb3I6ZT9GaShlKTpudWxsLGRhdGE6RmkobixyKX0scik7fTp0PT57fSxpPUxpKGUuZGF0YSk7aWYodGhpcy5wYXJlbnRbZS50eXBlXSl0aGlzLnBhcmVudFtlLnR5cGVdKGUuc291cmNlTWFwSWQsaSxuKTtlbHNlIGlmKHRoaXMucGFyZW50LmdldFdvcmtlclNvdXJjZSl7Y29uc3QgdD1lLnR5cGUuc3BsaXQoXCIuXCIpO3RoaXMucGFyZW50LmdldFdvcmtlclNvdXJjZShlLnNvdXJjZU1hcElkLHRbMF0saS5zb3VyY2UpW3RbMV1dKGksbik7fWVsc2UgbihuZXcgRXJyb3IoYENvdWxkIG5vdCBmaW5kIGZ1bmN0aW9uICR7ZS50eXBlfWApKTt9fXJlbW92ZSgpe3RoaXMuc2NoZWR1bGVyLnJlbW92ZSgpLHRoaXMudGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsdGhpcy5yZWNlaXZlLCExKTt9fSx0LkNhbm9uaWNhbFRpbGVJRD1EYyx0LkNvbG9yPXhlLHQuQ29sb3JNb2RlPU9kLHQuQ3VsbEZhY2VNb2RlPUdkLHQuREVNRGF0YT1MZCx0LkRhdGFDb25zdGFudFByb3BlcnR5PSRzLHQuRGVkdXBlZFJlcXVlc3Q9bnksdC5EZXB0aE1vZGU9VWQsdC5FWFRFTlQ9d28sdC5FbGV2YXRpb249Y2xhc3N7aXNEYXRhQXZhaWxhYmxlQXRQb2ludCh0KXtjb25zdCBlPXRoaXMuX3NvdXJjZSgpO2lmKCFlfHx0Lnk8MHx8dC55PjEpcmV0dXJuICExO2NvbnN0IHI9ZS5nZXRTb3VyY2UoKS5tYXh6b29tLG49MTw8cixpPU1hdGguZmxvb3IodC54KSxzPU1hdGguZmxvb3IoKHQueC1pKSpuKSxhPU1hdGguZmxvb3IodC55Km4pLG89dGhpcy5maW5kREVNVGlsZUZvcihuZXcgRmMocixpLHIscyxhKSk7cmV0dXJuICEoIW98fCFvLmRlbSl9Z2V0QXRQb2ludE9yWmVybyh0LGU9MCl7cmV0dXJuIHRoaXMuZ2V0QXRQb2ludCh0LGUpfHwwfWdldEF0UG9pbnQodCxlLHI9ITApe251bGw9PWUmJihlPW51bGwpO2NvbnN0IG49dGhpcy5fc291cmNlKCk7aWYoIW4pcmV0dXJuIGU7aWYodC55PDB8fHQueT4xKXJldHVybiBlO2NvbnN0IGk9bi5nZXRTb3VyY2UoKS5tYXh6b29tLHM9MTw8aSxhPU1hdGguZmxvb3IodC54KSxvPXQueC1hLGw9bmV3IEZjKGksYSxpLE1hdGguZmxvb3IobypzKSxNYXRoLmZsb29yKHQueSpzKSksdT10aGlzLmZpbmRERU1UaWxlRm9yKGwpO2lmKCF1fHwhdS5kZW0pcmV0dXJuIGU7Y29uc3QgYz11LmRlbSxoPTE8PHUudGlsZUlELmNhbm9uaWNhbC56LHA9KG8qaC11LnRpbGVJRC5jYW5vbmljYWwueCkqYy5kaW0sZj0odC55KmgtdS50aWxlSUQuY2Fub25pY2FsLnkpKmMuZGltLGQ9TWF0aC5mbG9vcihwKSx5PU1hdGguZmxvb3IoZik7cmV0dXJuIChyP3RoaXMuZXhhZ2dlcmF0aW9uKCk6MSkqeHIoeHIoYy5nZXQoZCx5KSxjLmdldChkLHkrMSksZi15KSx4cihjLmdldChkKzEseSksYy5nZXQoZCsxLHkrMSksZi15KSxwLWQpfWdldEF0VGlsZU9mZnNldCh0LGUscil7Y29uc3Qgbj0xPDx0LmNhbm9uaWNhbC56O3JldHVybiB0aGlzLmdldEF0UG9pbnRPclplcm8obmV3IEZvKHQud3JhcCsodC5jYW5vbmljYWwueCtlL3dvKS9uLCh0LmNhbm9uaWNhbC55K3Ivd28pL24pKX1nZXRBdFRpbGVPZmZzZXRGdW5jKHQsZSxyLG4pe3JldHVybiBpPT57Y29uc3Qgcz10aGlzLmdldEF0VGlsZU9mZnNldCh0LGkueCxpLnkpLGE9bi51cFZlY3Rvcih0LmNhbm9uaWNhbCxpLngsaS55KTtyZXR1cm4gVmwoYSxhLHMqbi51cFZlY3RvclNjYWxlKHQuY2Fub25pY2FsLGUscikubWV0ZXJzVG9UaWxlKSxhfX1nZXRGb3JUaWxlUG9pbnRzKHQsZSxyLG4pe2NvbnN0IGk9WWQuY3JlYXRlKHRoaXMsdCxuKTtyZXR1cm4gISFpJiYoZS5mb3JFYWNoKCh0PT57dFsyXT10aGlzLmV4YWdnZXJhdGlvbigpKmkuZ2V0RWxldmF0aW9uQXQodFswXSx0WzFdLHIpO30pKSwhMCl9Z2V0TWluTWF4Rm9yVGlsZSh0KXtjb25zdCBlPXRoaXMuZmluZERFTVRpbGVGb3IodCk7aWYoIWV8fCFlLmRlbSlyZXR1cm4gbnVsbDtjb25zdCByPWUuZGVtLnRyZWUsbj1lLnRpbGVJRCxpPTE8PHQuY2Fub25pY2FsLnotbi5jYW5vbmljYWwuejtsZXQgcz10LmNhbm9uaWNhbC54L2ktbi5jYW5vbmljYWwueCxhPXQuY2Fub25pY2FsLnkvaS1uLmNhbm9uaWNhbC55LG89MDtmb3IobGV0IGU9MDtlPHQuY2Fub25pY2FsLnotbi5jYW5vbmljYWwueiYmIXIubGVhdmVzW29dO2UrKyl7cyo9MixhKj0yO2NvbnN0IHQ9MipNYXRoLmZsb29yKGEpK01hdGguZmxvb3Iocyk7bz1yLmNoaWxkT2Zmc2V0c1tvXSt0LHMlPTEsYSU9MTt9cmV0dXJuIHttaW46dGhpcy5leGFnZ2VyYXRpb24oKSpyLm1pbmltdW1zW29dLG1heDp0aGlzLmV4YWdnZXJhdGlvbigpKnIubWF4aW11bXNbb119fWdldE1pbkVsZXZhdGlvbkJlbG93TVNMKCl7dGhyb3cgbmV3IEVycm9yKFwiUHVyZSB2aXJ0dWFsIG1ldGhvZCBjYWxsZWQuXCIpfXJheWNhc3QodCxlLHIpe3Rocm93IG5ldyBFcnJvcihcIlB1cmUgdmlydHVhbCBtZXRob2QgY2FsbGVkLlwiKX1wb2ludENvb3JkaW5hdGUodCl7dGhyb3cgbmV3IEVycm9yKFwiUHVyZSB2aXJ0dWFsIG1ldGhvZCBjYWxsZWQuXCIpfV9zb3VyY2UoKXt0aHJvdyBuZXcgRXJyb3IoXCJQdXJlIHZpcnR1YWwgbWV0aG9kIGNhbGxlZC5cIil9ZXhhZ2dlcmF0aW9uKCl7dGhyb3cgbmV3IEVycm9yKFwiUHVyZSB2aXJ0dWFsIG1ldGhvZCBjYWxsZWQuXCIpfWZpbmRERU1UaWxlRm9yKHQpe3Rocm93IG5ldyBFcnJvcihcIlB1cmUgdmlydHVhbCBtZXRob2QgY2FsbGVkLlwiKX1nZXQgdmlzaWJsZURlbVRpbGVzKCl7dGhyb3cgbmV3IEVycm9yKFwiR2V0dGVyIG11c3QgYmUgaW1wbGVtZW50ZWQgaW4gc3ViY2xhc3MuXCIpfX0sdC5FcnJvckV2ZW50PXF0LHQuRXZhbHVhdGlvblBhcmFtZXRlcnM9Q3MsdC5FdmVudD1PdCx0LkV2ZW50ZWQ9TnQsdC5GaWxsRXh0cnVzaW9uQnVja2V0PXdjLHQuRnJ1c3R1bT10dSx0LkZydXN0dW1Db3JuZXJzPVFsLHQuR0xPQkVfTUVURVJTX1RPX0VDRUY9S3AsdC5HTE9CRV9SQURJVVM9WHAsdC5HTE9CRV9TQ0FMRV9NQVRDSF9MQVRJVFVERT00NSx0LkdMT0JFX1pPT01fVEhSRVNIT0xEX01BWD02LHQuR0xPQkVfWk9PTV9USFJFU0hPTERfTUlOPTUsdC5HbG9iZVNoYXJlZEJ1ZmZlcnM9Y2xhc3N7Y29uc3RydWN0b3IodCl7dGhpcy5fY3JlYXRlR3JpZCh0KSx0aGlzLl9jcmVhdGVQb2xlcyh0KTt9ZGVzdHJveSgpe3RoaXMuX3BvbGVJbmRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5fZ3JpZEJ1ZmZlci5kZXN0cm95KCksdGhpcy5fZ3JpZEluZGV4QnVmZmVyLmRlc3Ryb3koKSx0aGlzLl9wb2xlTm9ydGhWZXJ0ZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMuX3BvbGVTb3V0aFZlcnRleEJ1ZmZlci5kZXN0cm95KCk7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fcG9sZVNlZ21lbnRzKXQuZGVzdHJveSgpO2Zvcihjb25zdCB0IG9mIHRoaXMuX2dyaWRTZWdtZW50cyl0LmRlc3Ryb3koKTtpZih0aGlzLl93aXJlZnJhbWVJbmRleEJ1ZmZlcil7dGhpcy5fd2lyZWZyYW1lSW5kZXhCdWZmZXIuZGVzdHJveSgpO2Zvcihjb25zdCB0IG9mIHRoaXMuX3dpcmVmcmFtZVNlZ21lbnRzKXQuZGVzdHJveSgpO319X2NyZWF0ZUdyaWQodCl7Y29uc3QgZT1uZXcgUXMscj1uZXcgeWEsbj02NTtmb3IobGV0IHQ9MDt0PG47dCsrKWZvcihsZXQgcj0wO3I8bjtyKyspZS5lbXBsYWNlQmFjayhyLHQpO3RoaXMuX2dyaWRTZWdtZW50cz1bXTtmb3IobGV0IHQ9MCxlPTA7dDxIcC5sZW5ndGg7dCsrKXtjb25zdCBpPUhwW3RdO2ZvcihsZXQgdD0wO3Q8aTt0KyspZm9yKGxldCBlPTA7ZTw2NDtlKyspe2NvbnN0IGk9dCpuK2U7ci5lbXBsYWNlQmFjayhpKzEsaSxpK24pLHIuZW1wbGFjZUJhY2soaStuLGkrbisxLGkrMSk7fWNvbnN0IHM9NjQqaSoyO3RoaXMuX2dyaWRTZWdtZW50cy5wdXNoKF9vLnNpbXBsZVNlZ21lbnQoMCxlLChpKzEpKm4scykpLGUrPXM7fXRoaXMuX2dyaWRCdWZmZXI9dC5jcmVhdGVWZXJ0ZXhCdWZmZXIoZSxacC5tZW1iZXJzKSx0aGlzLl9ncmlkSW5kZXhCdWZmZXI9dC5jcmVhdGVJbmRleEJ1ZmZlcihyLCEwKTt9X2NyZWF0ZVBvbGVzKHQpe2NvbnN0IGU9bmV3IHlhO2ZvcihsZXQgdD0wO3Q8PTY0O3QrKyllLmVtcGxhY2VCYWNrKDAsdCsxLHQrMik7dGhpcy5fcG9sZUluZGV4QnVmZmVyPXQuY3JlYXRlSW5kZXhCdWZmZXIoZSwhMCk7Y29uc3Qgcj1uZXcgdmEsbj1uZXcgdmE7dGhpcy5fcG9sZVNlZ21lbnRzPVtdO2ZvcihsZXQgdD0wLGU9MDt0PDU7dCsrKXtjb25zdCBpPTM2MC8oMTw8dCk7ci5lbXBsYWNlQmFjaygwLC1YcCwwLC41LDApLG4uZW1wbGFjZUJhY2soMCwtWHAsMCwuNSwxKTtmb3IobGV0IHQ9MDt0PD02NDt0Kyspe2NvbnN0IGU9dC82NCxzPXhyKDAsaSxlKSxbYSxvLGxdPXVmKGJmLF9mLHMsWHApO3IuZW1wbGFjZUJhY2soYSxvLGwsZSwwKSxuLmVtcGxhY2VCYWNrKGEsbyxsLGUsMSk7fXRoaXMuX3BvbGVTZWdtZW50cy5wdXNoKF9vLnNpbXBsZVNlZ21lbnQoZSwwLDY2LDY0KSksZSs9NjY7fXRoaXMuX3BvbGVOb3J0aFZlcnRleEJ1ZmZlcj10LmNyZWF0ZVZlcnRleEJ1ZmZlcihyLE5wLCExKSx0aGlzLl9wb2xlU291dGhWZXJ0ZXhCdWZmZXI9dC5jcmVhdGVWZXJ0ZXhCdWZmZXIobixOcCwhMSk7fWdldEdyaWRCdWZmZXJzKHQpe3JldHVybiBbdGhpcy5fZ3JpZEJ1ZmZlcix0aGlzLl9ncmlkSW5kZXhCdWZmZXIsdGhpcy5fZ3JpZFNlZ21lbnRzW3RdXX1nZXRQb2xlQnVmZmVycyh0KXtyZXR1cm4gW3RoaXMuX3BvbGVOb3J0aFZlcnRleEJ1ZmZlcix0aGlzLl9wb2xlU291dGhWZXJ0ZXhCdWZmZXIsdGhpcy5fcG9sZUluZGV4QnVmZmVyLHRoaXMuX3BvbGVTZWdtZW50c1t0XV19Z2V0V2lyZWZhbWVCdWZmZXJzKHQsZSl7aWYoIXRoaXMuX3dpcmVmcmFtZVNlZ21lbnRzKXtjb25zdCBlPW5ldyBfYSxyPTY0LG49cisxO3RoaXMuX3dpcmVmcmFtZVNlZ21lbnRzPVtdO2ZvcihsZXQgdD0wLGk9MDt0PEhwLmxlbmd0aDt0Kyspe2NvbnN0IHM9SHBbdF07Zm9yKGxldCB0PTA7dDxzO3QrKylmb3IobGV0IGk9MDtpPHI7aSsrKXtjb25zdCByPXQqbitpO2UuZW1wbGFjZUJhY2socixyKzEpLGUuZW1wbGFjZUJhY2socixyK24pLGUuZW1wbGFjZUJhY2socixyK24rMSk7fWNvbnN0IGE9cypyKjM7dGhpcy5fd2lyZWZyYW1lU2VnbWVudHMucHVzaChfby5zaW1wbGVTZWdtZW50KDAsaSwocysxKSpuLGEpKSxpKz1hO310aGlzLl93aXJlZnJhbWVJbmRleEJ1ZmZlcj10LmNyZWF0ZUluZGV4QnVmZmVyKGUpO31yZXR1cm4gW3RoaXMuX2dyaWRCdWZmZXIsdGhpcy5fd2lyZWZyYW1lSW5kZXhCdWZmZXIsdGhpcy5fd2lyZWZyYW1lU2VnbWVudHNbZV1dfX0sdC5HbHlwaE1hbmFnZXI9dnAsdC5JbWFnZVBvc2l0aW9uPU9oLHQuTGluZUF0bGFzPWhkLHQuTG5nTGF0PWtvLHQuTG5nTGF0Qm91bmRzPUFvLHQuTG9jYWxHbHlwaE1vZGU9eHAsdC5NQVhfTUVSQ0FUT1JfTEFUSVRVREU9RG8sdC5NZXJjYXRvckNvb3JkaW5hdGU9Rm8sdC5PTkVfRU09YWgsdC5PdmVyc2NhbGVkVGlsZUlEPUZjLHQuUHJvcGVydGllcz1acyx0LlJHQkFJbWFnZT1wdSx0LlJheT1KbCx0LlJlcXVlc3RNYW5hZ2VyPWNsYXNze2NvbnN0cnVjdG9yKHQsZSxyKXt0aGlzLl90cmFuc2Zvcm1SZXF1ZXN0Rm49dCx0aGlzLl9jdXN0b21BY2Nlc3NUb2tlbj1lLHRoaXMuX3NpbGVuY2VBdXRoRXJyb3JzPSEhcix0aGlzLl9jcmVhdGVTa3VUb2tlbigpO31fY3JlYXRlU2t1VG9rZW4oKXtjb25zdCB0PWZ1bmN0aW9uKCl7bGV0IHQ9XCJcIjtmb3IobGV0IGU9MDtlPDEwO2UrKyl0Kz1cIjAxMjM0NTY3ODlhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ekFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaXCJbTWF0aC5mbG9vcig2MipNYXRoLnJhbmRvbSgpKV07cmV0dXJuIHt0b2tlbjpbXCIxXCIscnQsdF0uam9pbihcIlwiKSx0b2tlbkV4cGlyZXNBdDpEYXRlLm5vdygpKzQzMmU1fX0oKTt0aGlzLl9za3VUb2tlbj10LnRva2VuLHRoaXMuX3NrdVRva2VuRXhwaXJlc0F0PXQudG9rZW5FeHBpcmVzQXQ7fV9pc1NrdVRva2VuRXhwaXJlZCgpe3JldHVybiBEYXRlLm5vdygpPnRoaXMuX3NrdVRva2VuRXhwaXJlc0F0fXRyYW5zZm9ybVJlcXVlc3QodCxlKXtyZXR1cm4gdGhpcy5fdHJhbnNmb3JtUmVxdWVzdEZuJiZ0aGlzLl90cmFuc2Zvcm1SZXF1ZXN0Rm4odCxlKXx8e3VybDp0fX1ub3JtYWxpemVTdHlsZVVSTCh0LGUpe2lmKCFpdCh0KSlyZXR1cm4gdDtjb25zdCByPW90KHQpO3JldHVybiByLnBhdGg9YC9zdHlsZXMvdjEke3IucGF0aH1gLHRoaXMuX21ha2VBUElVUkwocix0aGlzLl9jdXN0b21BY2Nlc3NUb2tlbnx8ZSl9bm9ybWFsaXplR2x5cGhzVVJMKHQsZSl7aWYoIWl0KHQpKXJldHVybiB0O2NvbnN0IHI9b3QodCk7cmV0dXJuIHIucGF0aD1gL2ZvbnRzL3YxJHtyLnBhdGh9YCx0aGlzLl9tYWtlQVBJVVJMKHIsdGhpcy5fY3VzdG9tQWNjZXNzVG9rZW58fGUpfW5vcm1hbGl6ZVNvdXJjZVVSTCh0LGUscixuKXtpZighaXQodCkpcmV0dXJuIHQ7Y29uc3QgaT1vdCh0KTtyZXR1cm4gaS5wYXRoPWAvdjQvJHtpLmF1dGhvcml0eX0uanNvbmAsaS5wYXJhbXMucHVzaChcInNlY3VyZVwiKSxyJiZpLnBhcmFtcy5wdXNoKGBsYW5ndWFnZT0ke3J9YCksbiYmaS5wYXJhbXMucHVzaChgd29ybGR2aWV3PSR7bn1gKSx0aGlzLl9tYWtlQVBJVVJMKGksdGhpcy5fY3VzdG9tQWNjZXNzVG9rZW58fGUpfW5vcm1hbGl6ZVNwcml0ZVVSTCh0LGUscixuKXtjb25zdCBpPW90KHQpO3JldHVybiBpdCh0KT8oaS5wYXRoPWAvc3R5bGVzL3YxJHtpLnBhdGh9L3Nwcml0ZSR7ZX0ke3J9YCx0aGlzLl9tYWtlQVBJVVJMKGksdGhpcy5fY3VzdG9tQWNjZXNzVG9rZW58fG4pKTooaS5wYXRoKz1gJHtlfSR7cn1gLGx0KGkpKX1ub3JtYWxpemVUaWxlVVJMKHQsZSxyKXtpZih0aGlzLl9pc1NrdVRva2VuRXhwaXJlZCgpJiZ0aGlzLl9jcmVhdGVTa3VUb2tlbigpLHQmJiFpdCh0KSlyZXR1cm4gdDtjb25zdCBuPW90KHQpO24ucGF0aD1uLnBhdGgucmVwbGFjZSgvKFxcLihwbmd8anBnKVxcZCopKD89JCkvLGAke2V8fHImJlwicmFzdGVyXCIhPT1uLmF1dGhvcml0eSYmNTEyPT09cj9cIkAyeFwiOlwiXCJ9JHtZLnN1cHBvcnRlZD9cIi53ZWJwXCI6XCIkMVwifWApLFwicmFzdGVyXCI9PT1uLmF1dGhvcml0eT9uLnBhdGg9YC8ke0guUkFTVEVSX1VSTF9QUkVGSVh9JHtuLnBhdGh9YDoobi5wYXRoPW4ucGF0aC5yZXBsYWNlKC9eLitcXC92NFxcLy8sXCIvXCIpLG4ucGF0aD1gLyR7SC5USUxFX1VSTF9WRVJTSU9OfSR7bi5wYXRofWApO2NvbnN0IGk9dGhpcy5fY3VzdG9tQWNjZXNzVG9rZW58fGZ1bmN0aW9uKHQpe2Zvcihjb25zdCBlIG9mIHQpe2NvbnN0IHQ9ZS5tYXRjaCgvXmFjY2Vzc190b2tlbj0oLiopJC8pO2lmKHQpcmV0dXJuIHRbMV19cmV0dXJuIG51bGx9KG4ucGFyYW1zKXx8SC5BQ0NFU1NfVE9LRU47cmV0dXJuIEguUkVRVUlSRV9BQ0NFU1NfVE9LRU4mJmkmJnRoaXMuX3NrdVRva2VuJiZuLnBhcmFtcy5wdXNoKGBza3U9JHt0aGlzLl9za3VUb2tlbn1gKSx0aGlzLl9tYWtlQVBJVVJMKG4saSl9Y2Fub25pY2FsaXplVGlsZVVSTCh0LGUpe2NvbnN0IHI9b3QodCk7aWYoIXIucGF0aC5tYXRjaCgvXihcXC92NFxcL3xcXC9yYXN0ZXJcXC92MVxcLykvKXx8IXIucGF0aC5tYXRjaCgvXFwuW1xcd10rJC8pKXJldHVybiB0O2xldCBuPVwibWFwYm94Oi8vXCI7ci5wYXRoLm1hdGNoKC9eXFwvcmFzdGVyXFwvdjFcXC8vKT9uKz1gcmFzdGVyLyR7ci5wYXRoLnJlcGxhY2UoYC8ke0guUkFTVEVSX1VSTF9QUkVGSVh9L2AsXCJcIil9YDpuKz1gdGlsZXMvJHtyLnBhdGgucmVwbGFjZShgLyR7SC5USUxFX1VSTF9WRVJTSU9OfS9gLFwiXCIpfWA7bGV0IGk9ci5wYXJhbXM7cmV0dXJuIGUmJihpPWkuZmlsdGVyKCh0PT4hdC5tYXRjaCgvXmFjY2Vzc190b2tlbj0vKSkpKSxpLmxlbmd0aCYmKG4rPWA/JHtpLmpvaW4oXCImXCIpfWApLG59Y2Fub25pY2FsaXplVGlsZXNldCh0LGUpe2NvbnN0IHI9ISFlJiZpdChlKSxuPVtdO2Zvcihjb25zdCBlIG9mIHQudGlsZXN8fFtdKXN0KGUpP24ucHVzaCh0aGlzLmNhbm9uaWNhbGl6ZVRpbGVVUkwoZSxyKSk6bi5wdXNoKGUpO3JldHVybiBufV9tYWtlQVBJVVJMKHQsZSl7Y29uc3Qgcj1cIlNlZSBodHRwczovL3d3dy5tYXBib3guY29tL2FwaS1kb2N1bWVudGF0aW9uLyNhY2Nlc3MtdG9rZW5zLWFuZC10b2tlbi1zY29wZXNcIixuPW90KEguQVBJX1VSTCk7aWYodC5wcm90b2NvbD1uLnByb3RvY29sLHQuYXV0aG9yaXR5PW4uYXV0aG9yaXR5LFwiaHR0cFwiPT09dC5wcm90b2NvbCl7Y29uc3QgZT10LnBhcmFtcy5pbmRleE9mKFwic2VjdXJlXCIpO2U+PTAmJnQucGFyYW1zLnNwbGljZShlLDEpO31pZihcIi9cIiE9PW4ucGF0aCYmKHQucGF0aD1gJHtuLnBhdGh9JHt0LnBhdGh9YCksIUguUkVRVUlSRV9BQ0NFU1NfVE9LRU4pcmV0dXJuIGx0KHQpO2lmKGU9ZXx8SC5BQ0NFU1NfVE9LRU4sIXRoaXMuX3NpbGVuY2VBdXRoRXJyb3JzKXtpZighZSl0aHJvdyBuZXcgRXJyb3IoYEFuIEFQSSBhY2Nlc3MgdG9rZW4gaXMgcmVxdWlyZWQgdG8gdXNlIE1hcGJveCBHTC4gJHtyfWApO2lmKFwic1wiPT09ZVswXSl0aHJvdyBuZXcgRXJyb3IoYFVzZSBhIHB1YmxpYyBhY2Nlc3MgdG9rZW4gKHBrLiopIHdpdGggTWFwYm94IEdMLCBub3QgYSBzZWNyZXQgYWNjZXNzIHRva2VuIChzay4qKS4gJHtyfWApfXJldHVybiB0LnBhcmFtcz10LnBhcmFtcy5maWx0ZXIoKHQ9Pi0xPT09dC5pbmRleE9mKFwiYWNjZXNzX3Rva2VuXCIpKSksdC5wYXJhbXMucHVzaChgYWNjZXNzX3Rva2VuPSR7ZXx8XCJcIn1gKSxsdCh0KX19LHQuUmVzb3VyY2VUeXBlPXp0LHQuU2VnbWVudFZlY3Rvcj1fbyx0LlNvdXJjZUNhY2hlPVpkLHQuU3RlbmNpbE1vZGU9JGQsdC5TdHJ1Y3RBcnJheUxheW91dDF1aTI9d2EsdC5TdHJ1Y3RBcnJheUxheW91dDJmMWYyaTE2PXBhLHQuU3RydWN0QXJyYXlMYXlvdXQyaTQ9UXMsdC5TdHJ1Y3RBcnJheUxheW91dDJ1aTQ9X2EsdC5TdHJ1Y3RBcnJheUxheW91dDNmMTI9ZGEsdC5TdHJ1Y3RBcnJheUxheW91dDN1aTY9eWEsdC5TdHJ1Y3RBcnJheUxheW91dDRpOD1lYSx0LlN0cnVjdEFycmF5TGF5b3V0NWYyMD12YSx0LlRleHR1cmU9Y2QsdC5UaWxlPUlkLHQuVHJhbnNpdGlvbmFibGU9VnMsdC5Vbmlmb3JtMWY9V2EsdC5Vbmlmb3JtMWk9Y2xhc3MgZXh0ZW5kcyBZYXtjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KSx0aGlzLmN1cnJlbnQ9MDt9c2V0KHQsZSxyKXt0aGlzLmZldGNoVW5pZm9ybUxvY2F0aW9uKHQsZSkmJnRoaXMuY3VycmVudCE9PXImJih0aGlzLmN1cnJlbnQ9cix0aGlzLmdsLnVuaWZvcm0xaSh0aGlzLmxvY2F0aW9uLHIpKTt9fSx0LlVuaWZvcm0yZj1jbGFzcyBleHRlbmRzIFlhe2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMuY3VycmVudD1bMCwwXTt9c2V0KHQsZSxyKXt0aGlzLmZldGNoVW5pZm9ybUxvY2F0aW9uKHQsZSkmJihyWzBdPT09dGhpcy5jdXJyZW50WzBdJiZyWzFdPT09dGhpcy5jdXJyZW50WzFdfHwodGhpcy5jdXJyZW50PXIsdGhpcy5nbC51bmlmb3JtMmYodGhpcy5sb2NhdGlvbixyWzBdLHJbMV0pKSk7fX0sdC5Vbmlmb3JtM2Y9Y2xhc3MgZXh0ZW5kcyBZYXtjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KSx0aGlzLmN1cnJlbnQ9WzAsMCwwXTt9c2V0KHQsZSxyKXt0aGlzLmZldGNoVW5pZm9ybUxvY2F0aW9uKHQsZSkmJihyWzBdPT09dGhpcy5jdXJyZW50WzBdJiZyWzFdPT09dGhpcy5jdXJyZW50WzFdJiZyWzJdPT09dGhpcy5jdXJyZW50WzJdfHwodGhpcy5jdXJyZW50PXIsdGhpcy5nbC51bmlmb3JtM2YodGhpcy5sb2NhdGlvbixyWzBdLHJbMV0sclsyXSkpKTt9fSx0LlVuaWZvcm00Zj1KYSx0LlVuaWZvcm1Db2xvcj1RYSx0LlVuaWZvcm1NYXRyaXgyZj1jbGFzcyBleHRlbmRzIFlhe2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMuY3VycmVudD1ybzt9c2V0KHQsZSxyKXtpZih0aGlzLmZldGNoVW5pZm9ybUxvY2F0aW9uKHQsZSkpZm9yKGxldCB0PTA7dDw0O3QrKylpZihyW3RdIT09dGhpcy5jdXJyZW50W3RdKXt0aGlzLmN1cnJlbnQ9cix0aGlzLmdsLnVuaWZvcm1NYXRyaXgyZnYodGhpcy5sb2NhdGlvbiwhMSxyKTticmVha319fSx0LlVuaWZvcm1NYXRyaXgzZj1jbGFzcyBleHRlbmRzIFlhe2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMuY3VycmVudD1lbzt9c2V0KHQsZSxyKXtpZih0aGlzLmZldGNoVW5pZm9ybUxvY2F0aW9uKHQsZSkpZm9yKGxldCB0PTA7dDw5O3QrKylpZihyW3RdIT09dGhpcy5jdXJyZW50W3RdKXt0aGlzLmN1cnJlbnQ9cix0aGlzLmdsLnVuaWZvcm1NYXRyaXgzZnYodGhpcy5sb2NhdGlvbiwhMSxyKTticmVha319fSx0LlVuaWZvcm1NYXRyaXg0Zj1jbGFzcyBleHRlbmRzIFlhe2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMuY3VycmVudD10bzt9c2V0KHQsZSxyKXtpZih0aGlzLmZldGNoVW5pZm9ybUxvY2F0aW9uKHQsZSkpe2lmKHJbMTJdIT09dGhpcy5jdXJyZW50WzEyXXx8clswXSE9PXRoaXMuY3VycmVudFswXSlyZXR1cm4gdGhpcy5jdXJyZW50PXIsdm9pZCB0aGlzLmdsLnVuaWZvcm1NYXRyaXg0ZnYodGhpcy5sb2NhdGlvbiwhMSxyKTtmb3IobGV0IHQ9MTt0PDE2O3QrKylpZihyW3RdIT09dGhpcy5jdXJyZW50W3RdKXt0aGlzLmN1cnJlbnQ9cix0aGlzLmdsLnVuaWZvcm1NYXRyaXg0ZnYodGhpcy5sb2NhdGlvbiwhMSxyKTticmVha319fX0sdC5VbndyYXBwZWRUaWxlSUQ9VmMsdC5WYWxpZGF0aW9uRXJyb3I9cW4sdC5WZWN0b3JUaWxlV29ya2VyU291cmNlPWNsYXNzIGV4dGVuZHMgTnR7Y29uc3RydWN0b3IodCxlLHIsbixpKXtzdXBlcigpLHRoaXMuYWN0b3I9dCx0aGlzLmxheWVySW5kZXg9ZSx0aGlzLmF2YWlsYWJsZUltYWdlcz1yLHRoaXMubG9hZFZlY3RvckRhdGE9aXx8aXksdGhpcy5sb2FkaW5nPXt9LHRoaXMubG9hZGVkPXt9LHRoaXMuZGVkdXBlZD1uZXcgbnkodC5zY2hlZHVsZXIpLHRoaXMuaXNTcHJpdGVMb2FkZWQ9bix0aGlzLnNjaGVkdWxlcj10LnNjaGVkdWxlcjt9bG9hZFRpbGUodCxlKXtjb25zdCByPXQudWlkLG49dCYmdC5yZXF1ZXN0LGk9biYmbi5jb2xsZWN0UmVzb3VyY2VUaW1pbmcscz10aGlzLmxvYWRpbmdbcl09bmV3IGV5KHQpO3MuYWJvcnQ9dGhpcy5sb2FkVmVjdG9yRGF0YSh0LCgoYSxvKT0+e2NvbnN0IGw9IXRoaXMubG9hZGluZ1tyXTtpZihkZWxldGUgdGhpcy5sb2FkaW5nW3JdLGx8fGF8fCFvKXJldHVybiBzLnN0YXR1cz1cImRvbmVcIixsfHwodGhpcy5sb2FkZWRbcl09cyksZShhKTtjb25zdCB1PW8ucmF3RGF0YSxjPXt9O28uZXhwaXJlcyYmKGMuZXhwaXJlcz1vLmV4cGlyZXMpLG8uY2FjaGVDb250cm9sJiYoYy5jYWNoZUNvbnRyb2w9by5jYWNoZUNvbnRyb2wpLHMudmVjdG9yVGlsZT1vLnZlY3RvclRpbGV8fG5ldyB5Yy5WZWN0b3JUaWxlKG5ldyB4aCh1KSk7Y29uc3QgaD0oKT0+e3MucGFyc2Uocy52ZWN0b3JUaWxlLHRoaXMubGF5ZXJJbmRleCx0aGlzLmF2YWlsYWJsZUltYWdlcyx0aGlzLmFjdG9yLCgodCxyKT0+e2lmKHR8fCFyKXJldHVybiBlKHQpO2NvbnN0IHM9e307aWYoaSl7Y29uc3QgdD0kKG4pO3QubGVuZ3RoPjAmJihzLnJlc291cmNlVGltaW5nPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodCkpKTt9ZShudWxsLHYoe3Jhd1RpbGVEYXRhOnUuc2xpY2UoMCl9LHIsYyxzKSk7fSkpO307dGhpcy5pc1Nwcml0ZUxvYWRlZD9oKCk6dGhpcy5vbmNlKFwiaXNTcHJpdGVMb2FkZWRcIiwoKCk9Pnt0aGlzLnNjaGVkdWxlcj90aGlzLnNjaGVkdWxlci5hZGQoaCx7dHlwZTpcInBhcnNlVGlsZVwiLGlzU3ltYm9sVGlsZTp0LmlzU3ltYm9sVGlsZSx6b29tOnQudGlsZVpvb219KTpoKCk7fSkpLHRoaXMubG9hZGVkPXRoaXMubG9hZGVkfHx7fSx0aGlzLmxvYWRlZFtyXT1zO30pKTt9cmVsb2FkVGlsZSh0LGUpe2NvbnN0IHI9dGhpcy5sb2FkZWQsbj10LnVpZCxpPXRoaXM7aWYociYmcltuXSl7Y29uc3Qgcz1yW25dO3Muc2hvd0NvbGxpc2lvbkJveGVzPXQuc2hvd0NvbGxpc2lvbkJveGVzLHMuZW5hYmxlVGVycmFpbj0hIXQuZW5hYmxlVGVycmFpbixzLnByb2plY3Rpb249dC5wcm9qZWN0aW9uLHMudGlsZVRyYW5zZm9ybT1BZih0LnRpbGVJRC5jYW5vbmljYWwsdC5wcm9qZWN0aW9uKTtjb25zdCBhPSh0LHIpPT57Y29uc3Qgbj1zLnJlbG9hZENhbGxiYWNrO24mJihkZWxldGUgcy5yZWxvYWRDYWxsYmFjayxzLnBhcnNlKHMudmVjdG9yVGlsZSxpLmxheWVySW5kZXgsdGhpcy5hdmFpbGFibGVJbWFnZXMsaS5hY3RvcixuKSksZSh0LHIpO307XCJwYXJzaW5nXCI9PT1zLnN0YXR1cz9zLnJlbG9hZENhbGxiYWNrPWE6XCJkb25lXCI9PT1zLnN0YXR1cyYmKHMudmVjdG9yVGlsZT9zLnBhcnNlKHMudmVjdG9yVGlsZSx0aGlzLmxheWVySW5kZXgsdGhpcy5hdmFpbGFibGVJbWFnZXMsdGhpcy5hY3RvcixhKTphKCkpO319YWJvcnRUaWxlKHQsZSl7Y29uc3Qgcj10LnVpZCxuPXRoaXMubG9hZGluZ1tyXTtuJiYobi5hYm9ydCYmbi5hYm9ydCgpLGRlbGV0ZSB0aGlzLmxvYWRpbmdbcl0pLGUoKTt9cmVtb3ZlVGlsZSh0LGUpe2NvbnN0IHI9dGhpcy5sb2FkZWQsbj10LnVpZDtyJiZyW25dJiZkZWxldGUgcltuXSxlKCk7fX0sdC5Xcml0aW5nTW9kZT1OaCx0Llpvb21IaXN0b3J5PVJpLHQuYWRkPUJsLHQuYWRkRHluYW1pY0F0dHJpYnV0ZXM9SGYsdC5hZGpvaW50PWZ1bmN0aW9uKHQsZSl7dmFyIHI9ZVswXSxuPWVbMV0saT1lWzJdLHM9ZVszXSxhPWVbNF0sbz1lWzVdLGw9ZVs2XSx1PWVbN10sYz1lWzhdO3JldHVybiB0WzBdPWEqYy1vKnUsdFsxXT1pKnUtbipjLHRbMl09bipvLWkqYSx0WzNdPW8qbC1zKmMsdFs0XT1yKmMtaSpsLHRbNV09aSpzLXIqbyx0WzZdPXMqdS1hKmwsdFs3XT1uKmwtcip1LHRbOF09ciphLW4qcyx0fSx0LmFzeW5jQWxsPWcsdC5iZXppZXI9cCx0LmJpbmRBbGw9ayx0LmJvdW5kc0F0dHJpYnV0ZXM9U2QsdC5idWZmZXJDb252ZXhQb2x5Z29uPWZ1bmN0aW9uKHQsZSl7Y29uc3Qgcj1bXTtmb3IobGV0IG49MDtuPHQubGVuZ3RoO24rKyl7Y29uc3QgaT1tKG4tMSwtMSx0Lmxlbmd0aC0xKSxzPW0obisxLC0xLHQubGVuZ3RoLTEpLGE9dFtuXSxvPXRbc10sbD10W2ldLnN1YihhKS51bml0KCksdT1vLnN1YihhKS51bml0KCksYz11LmFuZ2xlV2l0aFNlcChsLngsbC55KSxoPWwuYWRkKHUpLnVuaXQoKS5tdWx0KC0xKmUvTWF0aC5zaW4oYy8yKSk7ci5wdXNoKGEuYWRkKGgpKTt9cmV0dXJuIHJ9LHQuY2FjaGVFbnRyeVBvc3NpYmx5QWRkZWQ9ZnVuY3Rpb24odCl7TXQrKyxNdD5idCYmKHQuZ2V0QWN0b3IoKS5zZW5kKFwiZW5mb3JjZUNhY2hlU2l6ZUxpbWl0XCIsdnQpLE10PTApO30sdC5jYWxjdWxhdGVHbG9iZUxhYmVsTWF0cml4PWZ1bmN0aW9uKHQsZSl7Y29uc3R7eDpyLHk6bn09dC5wb2ludCxpPW1mKHIsbix0LndvcmxkU2l6ZS90Ll9waXhlbHNQZXJNZXJjYXRvclBpeGVsLDAsMCk7cmV0dXJuIHhsKGksaSx5ZihyZihlKSkpfSx0LmNhbGN1bGF0ZUdsb2JlTWF0cml4PWZ1bmN0aW9uKHQpe2NvbnN0e3g6ZSx5OnJ9PXQucG9pbnQse2xuZzpuLGxhdDppfT10Ll9jZW50ZXI7cmV0dXJuIG1mKGUscix0LndvcmxkU2l6ZSxuLGkpfSx0LmNhbGN1bGF0ZUdsb2JlTWVyY2F0b3JNYXRyaXg9ZnVuY3Rpb24odCl7Y29uc3QgZT10LnBpeGVsc1Blck1ldGVyLHI9ZS9CbygxLHQuY2VudGVyLmxhdCksbj1tbChuZXcgRmxvYXQ2NEFycmF5KDE2KSk7cmV0dXJuIHZsKG4sbixbdC5wb2ludC54LHQucG9pbnQueSwwXSksYmwobixuLFtyLHIsZV0pLEZsb2F0MzJBcnJheS5mcm9tKG4pfSx0LmNpcmN1bWZlcmVuY2VBdExhdGl0dWRlPU1vLHQuY2xhbXA9ZCx0LmNsZWFyVGlsZUNhY2hlPWZ1bmN0aW9uKHQpe2NvbnN0IGU9QXQoKSxyPVtdO2Zvcihjb25zdCB0IGluIF90KWUmJnIucHVzaChlLmRlbGV0ZSh0KSksZGVsZXRlIF90W3RdO3QmJlByb21pc2UuYWxsKHIpLmNhdGNoKHQpLnRoZW4oKCgpPT50KCkpKTt9LHQuY2xpcExpbmU9ZHAsdC5jbG9uZT1mdW5jdGlvbih0KXt2YXIgZT1uZXcgZGwoMTYpO3JldHVybiBlWzBdPXRbMF0sZVsxXT10WzFdLGVbMl09dFsyXSxlWzNdPXRbM10sZVs0XT10WzRdLGVbNV09dFs1XSxlWzZdPXRbNl0sZVs3XT10WzddLGVbOF09dFs4XSxlWzldPXRbOV0sZVsxMF09dFsxMF0sZVsxMV09dFsxMV0sZVsxMl09dFsxMl0sZVsxM109dFsxM10sZVsxNF09dFsxNF0sZVsxNV09dFsxNV0sZX0sdC5jbG9uZSQxPVQsdC5jb2xsaXNpb25DaXJjbGVMYXlvdXQ9c2gsdC5jb25maWc9SCx0LmNvbmp1Z2F0ZT1mdW5jdGlvbih0LGUpe3JldHVybiB0WzBdPS1lWzBdLHRbMV09LWVbMV0sdFsyXT0tZVsyXSx0WzNdPWVbM10sdH0sdC5jcmVhdGU9ZnVuY3Rpb24oKXt2YXIgdD1uZXcgZGwoMTYpO3JldHVybiBkbCE9RmxvYXQzMkFycmF5JiYodFsxXT0wLHRbMl09MCx0WzNdPTAsdFs0XT0wLHRbNl09MCx0WzddPTAsdFs4XT0wLHRbOV09MCx0WzExXT0wLHRbMTJdPTAsdFsxM109MCx0WzE0XT0wKSx0WzBdPTEsdFs1XT0xLHRbMTBdPTEsdFsxNV09MSx0fSx0LmNyZWF0ZSQxPXlsLHQuY3JlYXRlRXhwcmVzc2lvbj1Mbix0LmNyZWF0ZUxheW91dD1Xcyx0LmNyZWF0ZVN0eWxlTGF5ZXI9ZnVuY3Rpb24odCl7cmV0dXJuIFwiY3VzdG9tXCI9PT10LnR5cGU/bmV3IGFkKHQpOm5ldyB1ZFt0LnR5cGVdKHQpfSx0LmNyb3NzPVVsLHQuZGVnVG9SYWQ9bCx0LmRpc3RhbmNlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIE1hdGguaHlwb3QoZVswXS10WzBdLGVbMV0tdFsxXSxlWzJdLXRbMl0pfSx0LmRpdj1mdW5jdGlvbih0LGUscil7cmV0dXJuIHRbMF09ZVswXS9yWzBdLHRbMV09ZVsxXS9yWzFdLHRbMl09ZVsyXS9yWzJdLHR9LHQuZG90PVJsLHQuZWFzZT1mLHQuZWFzZUN1YmljSW5PdXQ9aCx0LmVtaXRWYWxpZGF0aW9uRXJyb3JzPVRpLHQuZW5kc1dpdGg9SSx0LmVuZm9yY2VDYWNoZVNpemVMaW1pdD1mdW5jdGlvbih0KXtmb3IoY29uc3QgZSBpbiBfdClTdChlKSxfdFtlXS50aGVuKChlPT57ZS5rZXlzKCkudGhlbigocj0+e2ZvcihsZXQgbj0wO248ci5sZW5ndGgtdDtuKyspZS5kZWxldGUocltuXSk7fSkpO30pKTt9LHQuZXZhbHVhdGVTaXplRm9yRmVhdHVyZT11aCx0LmV2YWx1YXRlU2l6ZUZvclpvb209Y2gsdC5ldmFsdWF0ZVZhcmlhYmxlT2Zmc2V0PVBwLHQuZXZlbnRlZD16cyx0LmV4YWN0RXF1YWxzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRbMF09PT1lWzBdJiZ0WzFdPT09ZVsxXSYmdFsyXT09PWVbMl0mJnRbM109PT1lWzNdfSx0LmV4YWN0RXF1YWxzJDE9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdFswXT09PWVbMF0mJnRbMV09PT1lWzFdJiZ0WzJdPT09ZVsyXX0sdC5leHBvcnRlZD1YLHQuZXhwb3J0ZWQkMT1ZLHQuZXh0ZW5kPXYsdC5leHRlbmQkMT1adCx0LmZpbGxFeHRydXNpb25IZWlnaHRMaWZ0PVRjLHQuZmlsdGVyT2JqZWN0PXosdC5mcm9tTWF0ND1mdW5jdGlvbih0LGUpe3JldHVybiB0WzBdPWVbMF0sdFsxXT1lWzFdLHRbMl09ZVsyXSx0WzNdPWVbNF0sdFs0XT1lWzVdLHRbNV09ZVs2XSx0WzZdPWVbOF0sdFs3XT1lWzldLHRbOF09ZVsxMF0sdH0sdC5mcm9tUXVhdD1mdW5jdGlvbih0LGUpe3ZhciByPWVbMF0sbj1lWzFdLGk9ZVsyXSxzPWVbM10sYT1yK3Isbz1uK24sbD1pK2ksdT1yKmEsYz1uKmEsaD1uKm8scD1pKmEsZj1pKm8sZD1pKmwseT1zKmEsbT1zKm8sZz1zKmw7cmV0dXJuIHRbMF09MS1oLWQsdFsxXT1jK2csdFsyXT1wLW0sdFszXT0wLHRbNF09Yy1nLHRbNV09MS11LWQsdFs2XT1mK3ksdFs3XT0wLHRbOF09cCttLHRbOV09Zi15LHRbMTBdPTEtdS1oLHRbMTFdPTAsdFsxMl09MCx0WzEzXT0wLHRbMTRdPTAsdFsxNV09MSx0fSx0LmZyb21Sb3RhdGlvbj1mdW5jdGlvbih0LGUpe3ZhciByPU1hdGguc2luKGUpLG49TWF0aC5jb3MoZSk7cmV0dXJuIHRbMF09bix0WzFdPXIsdFsyXT0wLHRbM109LXIsdFs0XT1uLHRbNV09MCx0WzZdPTAsdFs3XT0wLHRbOF09MSx0fSx0LmZyb21TY2FsaW5nPUFsLHQuZnVydGhlc3RUaWxlQ29ybmVyPWZ1bmN0aW9uKHQpe2NvbnN0IGU9TWF0aC5yb3VuZCgodCs0NSszNjApJTM2MC85MCklNDtyZXR1cm4gY1tlXX0sdC5nZXRBQUJCUG9pbnRTcXVhcmVEaXN0PWZ1bmN0aW9uKHQsZSxyKXtsZXQgbj0wO2ZvcihsZXQgaT0wO2k8MjsrK2kpe2NvbnN0IHM9cj9yW2ldOjA7dFtpXT5zJiYobis9KHRbaV0tcykqKHRbaV0tcykpLGVbaV08cyYmKG4rPShzLWVbaV0pKihzLWVbaV0pKTt9cmV0dXJuIG59LHQuZ2V0QW5jaG9yQWxpZ25tZW50PXJwLHQuZ2V0QW5jaG9ySnVzdGlmaWNhdGlvbj1WcCx0LmdldEJvdW5kcz1mdW5jdGlvbih0KXtsZXQgZT0xLzAscj0xLzAsbj0tMS8wLHM9LTEvMDtmb3IoY29uc3QgaSBvZiB0KWU9TWF0aC5taW4oZSxpLngpLHI9TWF0aC5taW4ocixpLnkpLG49TWF0aC5tYXgobixpLngpLHM9TWF0aC5tYXgocyxpLnkpO3JldHVybiB7bWluOm5ldyBpKGUsciksbWF4Om5ldyBpKG4scyl9fSx0LmdldENvbHVtbj1VLHQuZ2V0R3JpZE1hdHJpeD1mdW5jdGlvbih0LGUscil7Y29uc3Qgbj1lLmdldE5vcnRoKCksaT1lLmdldFNvdXRoKCkscz1lLmdldFdlc3QoKSxhPS4wMTU2MjU7cmV0dXJuIFswLChlLmdldEVhc3QoKS1zKSphLDE8PHQueiwoaS1uKS9IcFtyXSwwLHQueSxuLHMsYV19LHQuZ2V0SW1hZ2U9VXQsdC5nZXRKU09OPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIEV0KHYodCx7dHlwZTpcImpzb25cIn0pLGUpfSx0LmdldExhdGl0dWRpbmFsTG9kPWZ1bmN0aW9uKHQpe2NvbnN0IGU9ODAuMDUxMTI5O3Q9ZCh0LC04MC4wNTExMjksZSkvZSo5MDtjb25zdCByPU1hdGgucG93KE1hdGguYWJzKE1hdGguc2luKGwodCkpKSwzKTtyZXR1cm4gTWF0aC5yb3VuZChyKihIcC5sZW5ndGgtMSkpfSx0LmdldE1hcFNlc3Npb25BUEk9bXQsdC5nZXRQZXJmb3JtYW5jZU1lYXN1cmVtZW50PSQsdC5nZXRQcm9qZWN0aW9uPU5mLHQuZ2V0UlRMVGV4dFBsdWdpblN0YXR1cz1Ucyx0LmdldFJlZmVycmVyPUJ0LHQuZ2V0VGlsZVBvaW50PWZ1bmN0aW9uKHQse3g6ZSx5OnJ9LG49MCl7cmV0dXJuIG5ldyBpKCgoZS1uKSp0LnNjYWxlLXQueCkqd28sKHIqdC5zY2FsZS10LnkpKndvKX0sdC5nZXRUaWxlVmVjMz1mdW5jdGlvbih0LGUscj0wKXtyZXR1cm4gVGwoKChlLngtcikqdC5zY2FsZS10LngpKndvLChlLnkqdC5zY2FsZS10LnkpKndvLFBvKGUueixlLnkpKX0sdC5nZXRWaWRlbz1mdW5jdGlvbih0LHIpe2NvbnN0IG49ZS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidmlkZW9cIik7bi5tdXRlZD0hMCxuLm9ubG9hZHN0YXJ0PWZ1bmN0aW9uKCl7cihudWxsLG4pO307Zm9yKGxldCByPTA7cjx0Lmxlbmd0aDtyKyspe2NvbnN0IGk9ZS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic291cmNlXCIpO1Z0KHRbcl0pfHwobi5jcm9zc09yaWdpbj1cIkFub255bW91c1wiKSxpLnNyYz10W3JdLG4uYXBwZW5kQ2hpbGQoaSk7fXJldHVybiB7Y2FuY2VsOigpPT57fX19LHQuZ2xvYmVDZW50ZXJUb1NjcmVlblBvaW50PWZ1bmN0aW9uKHQpe2NvbnN0IGU9WzAsMCwwXSxyPW1sKG5ldyBGbG9hdDY0QXJyYXkoMTYpKTtyZXR1cm4geGwocix0LnBpeGVsTWF0cml4LHQuZ2xvYmVNYXRyaXgpLGpsKGUsZSxyKSxuZXcgaShlWzBdLGVbMV0pfSx0Lmdsb2JlRGVub3JtYWxpemVFQ0VGPXlmLHQuZ2xvYmVFQ0VGT3JpZ2luPWZ1bmN0aW9uKHQsZSl7Y29uc3Qgcj1bMCwwLDBdO3JldHVybiBqbChyLHIsZGYocmYoZS5jYW5vbmljYWwpKSksamwocixyLHQpLHJ9LHQuZ2xvYmVOb3JtYWxpemVFQ0VGPWRmLHQuZ2xvYmVQaXhlbHNUb1RpbGVVbml0cz1mdW5jdGlvbih0LGUpe3JldHVybiB3by8oNTEyKk1hdGgucG93KDIsdCkpKnBmKHJmKGUpKX0sdC5nbG9iZVBvbGVNYXRyaXhGb3JUaWxlPWZ1bmN0aW9uKHQsZSxyKXtjb25zdCBuPW1sKG5ldyBGbG9hdDY0QXJyYXkoMTYpKSxpPShlLygxPDx0KS0uNSkqTWF0aC5QSSoyO3JldHVybiB3bChuLHIuZ2xvYmVNYXRyaXgsaSksRmxvYXQzMkFycmF5LmZyb20obil9LHQuZ2xvYmVUaWxlQm91bmRzPXJmLHQuZ2xvYmVUaWx0QXRMbmdMYXQ9eGYsdC5nbG9iZVRvTWVyY2F0b3JUcmFuc2l0aW9uPWdmLHQuZ2xvYmVVc2VDdXN0b21BbnRpQWxpYXNpbmc9ZnVuY3Rpb24odCxlLHIpe2NvbnN0IG49Z2Yoci56b29tKSxpPXQuc3R5bGUubWFwLl9hbnRpYWxpYXMscz0hIWUuZXh0U3RhbmRhcmREZXJpdmF0aXZlcyxhPWUuZXh0U3RhbmRhcmREZXJpdmF0aXZlc0ZvcmNlT2ZmfHx0LnRlcnJhaW4mJnQudGVycmFpbi5leGFnZ2VyYXRpb24oKT4wO3JldHVybiAwPT09biYmIWkmJiFhJiZzfSx0LmlkZW50aXR5PW1sLHQuaWRlbnRpdHkkMT1IbCx0LmludmVydD1nbCx0LmlzRnVsbHNjcmVlbj1mdW5jdGlvbigpe3JldHVybiAhIWUuZG9jdW1lbnQuZnVsbHNjcmVlbkVsZW1lbnR8fCEhZS5kb2N1bWVudC53ZWJraXRGdWxsc2NyZWVuRWxlbWVudH0sdC5pc0xuZ0xhdEJlaGluZEdsb2JlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHhmKHQsZSk+TWF0aC5QSS8yKjEuMDF9LHQuaXNNYXBBdXRoZW50aWNhdGVkPWZ1bmN0aW9uKHQpe3JldHVybiBndC5oYXModCl9LHQuaXNNYXBib3hVUkw9aXQsdC5pc1NhZmFyaVdpdGhBbnRpYWxpYXNpbmdCdWc9ZnVuY3Rpb24odCl7Y29uc3QgZT10Lm5hdmlnYXRvcj90Lm5hdmlnYXRvci51c2VyQWdlbnQ6bnVsbDtyZXR1cm4gISFMKHQpJiZlJiYoZS5tYXRjaChcIlZlcnNpb24vMTUuNFwiKXx8ZS5tYXRjaChcIlZlcnNpb24vMTUuNVwiKXx8ZS5tYXRjaCgvQ1BVIChPU3xpUGhvbmUgT1MpICgxNV80fDE1XzUpIGxpa2UgTWFjIE9TIFgvKSl9LHQubGF0RnJvbU1lcmNhdG9yWT1Dbyx0Lmxlbj1HbCx0Lmxlbmd0aD16bCx0Lmxlbmd0aCQxPWZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLmh5cG90KHRbMF0sdFsxXSx0WzJdLHRbM10pfSx0LmxvYWRWZWN0b3JUaWxlPWl5LHQubWFrZVJlcXVlc3Q9RXQsdC5tYXBWYWx1ZT1mdW5jdGlvbih0LGUscixuLGkpe3JldHVybiBkKCh0LWUpLyhyLWUpKihpLW4pK24sbixpKX0sdC5tZXJjYXRvclNjYWxlPVZvLHQubWVyY2F0b3JYZnJvbUxuZz16byx0Lm1lcmNhdG9yWWZyb21MYXQ9VG8sdC5tZXJjYXRvclpmcm9tQWx0aXR1ZGU9Qm8sdC5tdWw9a2wsdC5tdWwkMT1ObCx0Lm11bHRpcGx5PXhsLHQubXVsdGlwbHkkMT1mdW5jdGlvbih0LGUscil7dmFyIG49ZVswXSxpPWVbMV0scz1lWzJdLGE9ZVszXSxvPWVbNF0sbD1lWzVdLHU9ZVs2XSxjPWVbN10saD1lWzhdLHA9clswXSxmPXJbMV0sZD1yWzJdLHk9clszXSxtPXJbNF0sZz1yWzVdLHg9cls2XSx2PXJbN10sYj1yWzhdO3JldHVybiB0WzBdPXAqbitmKmErZCp1LHRbMV09cCppK2YqbytkKmMsdFsyXT1wKnMrZipsK2QqaCx0WzNdPXkqbittKmErZyp1LHRbNF09eSppK20qbytnKmMsdFs1XT15KnMrbSpsK2cqaCx0WzZdPXgqbit2KmErYip1LHRbN109eCppK3YqbytiKmMsdFs4XT14KnMrdipsK2IqaCx0fSx0Lm11bHRpcGx5JDI9Q2wsdC5uZXh0UG93ZXJPZlR3bz1BLHQubm9ybWFsaXplPUxsLHQubm9ybWFsaXplJDE9ZnVuY3Rpb24odCxlKXt2YXIgcj1lWzBdLG49ZVsxXSxpPWVbMl0scz1lWzNdLGE9cipyK24qbitpKmkrcypzO3JldHVybiBhPjAmJihhPTEvTWF0aC5zcXJ0KGEpKSx0WzBdPXIqYSx0WzFdPW4qYSx0WzJdPWkqYSx0WzNdPXMqYSx0fSx0Lm51bWJlcj14cix0Lm9ydGhvPWZ1bmN0aW9uKHQsZSxyLG4saSxzLGEpe3ZhciBvPTEvKGUtciksbD0xLyhuLWkpLHU9MS8ocy1hKTtyZXR1cm4gdFswXT0tMipvLHRbMV09MCx0WzJdPTAsdFszXT0wLHRbNF09MCx0WzVdPS0yKmwsdFs2XT0wLHRbN109MCx0WzhdPTAsdFs5XT0wLHRbMTBdPTIqdSx0WzExXT0wLHRbMTJdPShlK3IpKm8sdFsxM109KGkrbikqbCx0WzE0XT0oYStzKSp1LHRbMTVdPTEsdH0sdC5wYmY9eGgsdC5wZXJzcGVjdGl2ZT1mdW5jdGlvbih0LGUscixuLGkpe3ZhciBzLGE9MS9NYXRoLnRhbihlLzIpO3JldHVybiB0WzBdPWEvcix0WzFdPTAsdFsyXT0wLHRbM109MCx0WzRdPTAsdFs1XT1hLHRbNl09MCx0WzddPTAsdFs4XT0wLHRbOV09MCx0WzExXT0tMSx0WzEyXT0wLHRbMTNdPTAsdFsxNV09MCxudWxsIT1pJiZpIT09MS8wPyh0WzEwXT0oaStuKSoocz0xLyhuLWkpKSx0WzE0XT0yKmkqbipzKToodFsxMF09LTEsdFsxNF09LTIqbiksdH0sdC5waWNrPWZ1bmN0aW9uKHQsZSl7Y29uc3Qgcj17fTtmb3IobGV0IG49MDtuPGUubGVuZ3RoO24rKyl7Y29uc3QgaT1lW25dO2kgaW4gdCYmKHJbaV09dFtpXSk7fXJldHVybiByfSx0LnBsdWdpbj1Fcyx0LnBvaW50R2VvbWV0cnk9aSx0LnBvbHlnb25Db250YWluc1BvaW50PWlsLHQucG9seWdvbkludGVyc2VjdHNCb3g9c2wsdC5wb2x5Z29uSW50ZXJzZWN0c1BvbHlnb249SG8sdC5wb2x5Z29uaXplQm91bmRzPWZ1bmN0aW9uKHQsZSxyPTAsbj0hMCl7Y29uc3Qgcz1uZXcgaShyLHIpLGE9dC5zdWIocyksbz1lLmFkZChzKSxsPVthLG5ldyBpKG8ueCxhLnkpLG8sbmV3IGkoYS54LG8ueSldO3JldHVybiBuJiZsLnB1c2goYS5jbG9uZSgpKSxsfSx0LnBvc0F0dHJpYnV0ZXM9WnAsdC5wb3N0TWFwTG9hZEV2ZW50PWR0LHQucG9zdFR1cm5zdGlsZUV2ZW50PXB0LHQucG90cGFjaz0kaCx0LnByZXZQb3dlck9mVHdvPWZ1bmN0aW9uKHQpe3JldHVybiB0PD0xPzE6TWF0aC5wb3coMixNYXRoLmZsb29yKE1hdGgubG9nKHQpL01hdGguTE4yKSl9LHQucmFkVG9EZWc9dSx0LnJlZlByb3BlcnRpZXM9W1widHlwZVwiLFwic291cmNlXCIsXCJzb3VyY2UtbGF5ZXJcIixcIm1pbnpvb21cIixcIm1heHpvb21cIixcImZpbHRlclwiLFwibGF5b3V0XCJdLHQucmVnaXN0ZXJGb3JQbHVnaW5TdGF0ZUNoYW5nZT1mdW5jdGlvbih0KXtyZXR1cm4gdCh7cGx1Z2luU3RhdHVzOlNzLHBsdWdpblVSTDprc30pLHpzLm9uKFwicGx1Z2luU3RhdGVDaGFuZ2VcIix0KSx0fSx0LnJlbW92ZUF1dGhTdGF0ZT1mdW5jdGlvbih0KXtndC5kZWxldGUodCk7fSx0LnJlbmRlckNvbG9yUmFtcD1kdSx0LnJlc2FtcGxlPVJvLHQucm90YXRlWD1fbCx0LnJvdGF0ZVgkMT1ZbCx0LnJvdGF0ZVk9d2wsdC5yb3RhdGVZJDE9V2wsdC5yb3RhdGVaPWZ1bmN0aW9uKHQsZSxyKXt2YXIgbj1NYXRoLnNpbihyKSxpPU1hdGguY29zKHIpLHM9ZVswXSxhPWVbMV0sbz1lWzJdLGw9ZVszXSx1PWVbNF0sYz1lWzVdLGg9ZVs2XSxwPWVbN107cmV0dXJuIGUhPT10JiYodFs4XT1lWzhdLHRbOV09ZVs5XSx0WzEwXT1lWzEwXSx0WzExXT1lWzExXSx0WzEyXT1lWzEyXSx0WzEzXT1lWzEzXSx0WzE0XT1lWzE0XSx0WzE1XT1lWzE1XSksdFswXT1zKmkrdSpuLHRbMV09YSppK2Mqbix0WzJdPW8qaStoKm4sdFszXT1sKmkrcCpuLHRbNF09dSppLXMqbix0WzVdPWMqaS1hKm4sdFs2XT1oKmktbypuLHRbN109cCppLWwqbix0fSx0LnJvdGF0ZVokMT1mdW5jdGlvbih0LGUscil7cio9LjU7dmFyIG49ZVswXSxpPWVbMV0scz1lWzJdLGE9ZVszXSxvPU1hdGguc2luKHIpLGw9TWF0aC5jb3Mocik7cmV0dXJuIHRbMF09bipsK2kqbyx0WzFdPWkqbC1uKm8sdFsyXT1zKmwrYSpvLHRbM109YSpsLXMqbyx0fSx0LnNjYWxlPWJsLHQuc2NhbGUkMT1abCx0LnNjYWxlJDI9VmwsdC5zY2FsZUFuZEFkZD1GbCx0LnNldENhY2hlTGltaXRzPWZ1bmN0aW9uKHQsZSl7dnQ9dCxidD1lO30sdC5zZXRDb2x1bW49ZnVuY3Rpb24odCxlLHIpe3RbNCplKzBdPXJbMF0sdFs0KmUrMV09clsxXSx0WzQqZSsyXT1yWzJdLHRbNCplKzNdPXJbM107fSx0LnNldFJUTFRleHRQbHVnaW49ZnVuY3Rpb24odCxlLHI9ITEpe2lmKFNzPT09YnN8fFNzPT09X3N8fFNzPT09d3MpdGhyb3cgbmV3IEVycm9yKFwic2V0UlRMVGV4dFBsdWdpbiBjYW5ub3QgYmUgY2FsbGVkIG11bHRpcGxlIHRpbWVzLlwiKTtrcz1YLnJlc29sdmVVUkwodCksU3M9YnMsQXM9ZSxNcygpLHJ8fEJzKCk7fSx0LnNtb290aHN0ZXA9eSx0LnNwZWM9R3QsdC5zdG9yZUF1dGhTdGF0ZT1mdW5jdGlvbih0LGUpe2U/Z3QuYWRkKHQpOmd0LmRlbGV0ZSh0KTt9LHQuc3ViPXFsLHQuc3VidHJhY3Q9RWwsdC5zeW1ib2xTaXplPWhoLHQudGlsZUFBQkI9ZnVuY3Rpb24odCxlLHIsbixpLHMsYSxvLGwpe2lmKFwiZ2xvYmVcIj09PWwubmFtZSlyZXR1cm4gYWYodCxlLG5ldyBEYyhyLG4saSkpO2NvbnN0IHU9QWYoe3o6cix4Om4seTppfSxsKTtyZXR1cm4gbmV3IGV1KFsocyt1LngvdS5zY2FsZSkqZSxlKih1LnkvdS5zY2FsZSksYV0sWyhzK3UueDIvdS5zY2FsZSkqZSxlKih1LnkyL3Uuc2NhbGUpLG9dKX0sdC50aWxlQ29ybmVyc1RvQm91bmRzPW9mLHQudGlsZVRyYW5zZm9ybT1BZix0LnRyYW5zZm9ybU1hdDM9ZnVuY3Rpb24odCxlLHIpe3ZhciBuPWVbMF0saT1lWzFdLHM9ZVsyXTtyZXR1cm4gdFswXT1uKnJbMF0raSpyWzNdK3Mqcls2XSx0WzFdPW4qclsxXStpKnJbNF0rcypyWzddLHRbMl09bipyWzJdK2kqcls1XStzKnJbOF0sdH0sdC50cmFuc2Zvcm1NYXQ0PWpsLHQudHJhbnNmb3JtTWF0NCQxPVhsLHQudHJhbnNmb3JtUXVhdD0kbCx0LnRyYW5zaXRpb25UaWxlQUFCQmluRUNFRj1uZix0LnRyYW5zbGF0ZT12bCx0LnRyYW5zcG9zZT1mdW5jdGlvbih0LGUpe2lmKHQ9PT1lKXt2YXIgcj1lWzFdLG49ZVsyXSxpPWVbNV07dFsxXT1lWzNdLHRbMl09ZVs2XSx0WzNdPXIsdFs1XT1lWzddLHRbNl09bix0WzddPWk7fWVsc2UgdFswXT1lWzBdLHRbMV09ZVszXSx0WzJdPWVbNl0sdFszXT1lWzFdLHRbNF09ZVs0XSx0WzVdPWVbN10sdFs2XT1lWzJdLHRbN109ZVs1XSx0WzhdPWVbOF07cmV0dXJuIHR9LHQudHJpZ2dlclBsdWdpbkNvbXBsZXRpb25FdmVudD1Jcyx0LnVuaXF1ZUlkPV8sdC51cGRhdGVHbG9iZVZlcnRleE5vcm1hbD1mdW5jdGlvbih0LGUscixuLGkpe2NvbnN0IHM9NSplKzI7dC5mbG9hdDMyW3MrMF09cix0LmZsb2F0MzJbcysxXT1uLHQuZmxvYXQzMltzKzJdPWk7fSx0LnZhbGlkYXRlQ3VzdG9tU3R5bGVMYXllcj1mdW5jdGlvbih0KXtjb25zdCBlPVtdLHI9dC5pZDtyZXR1cm4gdm9pZCAwPT09ciYmZS5wdXNoKHttZXNzYWdlOmBsYXllcnMuJHtyfTogbWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSBcImlkXCJgfSksdm9pZCAwPT09dC5yZW5kZXImJmUucHVzaCh7bWVzc2FnZTpgbGF5ZXJzLiR7cn06IG1pc3NpbmcgcmVxdWlyZWQgbWV0aG9kIFwicmVuZGVyXCJgfSksdC5yZW5kZXJpbmdNb2RlJiZcIjJkXCIhPT10LnJlbmRlcmluZ01vZGUmJlwiM2RcIiE9PXQucmVuZGVyaW5nTW9kZSYmZS5wdXNoKHttZXNzYWdlOmBsYXllcnMuJHtyfTogcHJvcGVydHkgXCJyZW5kZXJpbmdNb2RlXCIgbXVzdCBiZSBlaXRoZXIgXCIyZFwiIG9yIFwiM2RcImB9KSxlfSx0LnZhbGlkYXRlRmlsdGVyPXQ9PnppKGNpKHQpKSx0LnZhbGlkYXRlRm9nPXQ9PnppKF9pKHQpKSx0LnZhbGlkYXRlTGF5ZXI9dD0+emkoeWkodCkpLHQudmFsaWRhdGVMaWdodD10PT56aSh2aSh0KSksdC52YWxpZGF0ZVNvdXJjZT10PT56aSh4aSh0KSksdC52YWxpZGF0ZVN0eWxlPWtpLHQudmFsaWRhdGVUZXJyYWluPXQ9PnppKGJpKHQpKSx0LnZhbHVlcz14LHQudmVjdG9yVGlsZT15Yyx0LnZlcnNpb249Tyx0Lndhcm5PbmNlPUUsdC53aW5kb3c9ZSx0LndyYXA9bTt9KSk7XG5cbmRlZmluZShbXCIuL3NoYXJlZFwiXSwoZnVuY3Rpb24oZSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gdChlKXtpZihcIm51bWJlclwiPT10eXBlb2YgZXx8XCJib29sZWFuXCI9PXR5cGVvZiBlfHxcInN0cmluZ1wiPT10eXBlb2YgZXx8bnVsbD09ZSlyZXR1cm4gSlNPTi5zdHJpbmdpZnkoZSk7aWYoQXJyYXkuaXNBcnJheShlKSl7bGV0IHI9XCJbXCI7Zm9yKGNvbnN0IG8gb2YgZSlyKz1gJHt0KG8pfSxgO3JldHVybiBgJHtyfV1gfWxldCByPVwie1wiO2Zvcihjb25zdCBvIG9mIE9iamVjdC5rZXlzKGUpLnNvcnQoKSlyKz1gJHtvfToke3QoZVtvXSl9LGA7cmV0dXJuIGAke3J9fWB9ZnVuY3Rpb24gcihyKXtsZXQgbz1cIlwiO2Zvcihjb25zdCBuIG9mIGUucmVmUHJvcGVydGllcylvKz1gLyR7dChyW25dKX1gO3JldHVybiBvfWNsYXNzIG97Y29uc3RydWN0b3IoZSl7dGhpcy5rZXlDYWNoZT17fSxlJiZ0aGlzLnJlcGxhY2UoZSk7fXJlcGxhY2UoZSl7dGhpcy5fbGF5ZXJDb25maWdzPXt9LHRoaXMuX2xheWVycz17fSx0aGlzLnVwZGF0ZShlLFtdKTt9dXBkYXRlKHQsbyl7Zm9yKGNvbnN0IHIgb2YgdCl0aGlzLl9sYXllckNvbmZpZ3Nbci5pZF09ciwodGhpcy5fbGF5ZXJzW3IuaWRdPWUuY3JlYXRlU3R5bGVMYXllcihyKSkuY29tcGlsZUZpbHRlcigpLHRoaXMua2V5Q2FjaGVbci5pZF0mJmRlbGV0ZSB0aGlzLmtleUNhY2hlW3IuaWRdO2Zvcihjb25zdCBlIG9mIG8pZGVsZXRlIHRoaXMua2V5Q2FjaGVbZV0sZGVsZXRlIHRoaXMuX2xheWVyQ29uZmlnc1tlXSxkZWxldGUgdGhpcy5fbGF5ZXJzW2VdO3RoaXMuZmFtaWxpZXNCeVNvdXJjZT17fTtjb25zdCBuPWZ1bmN0aW9uKGUsdCl7Y29uc3Qgbz17fTtmb3IobGV0IG49MDtuPGUubGVuZ3RoO24rKyl7Y29uc3QgaT10JiZ0W2Vbbl0uaWRdfHxyKGVbbl0pO3QmJih0W2Vbbl0uaWRdPWkpO2xldCBzPW9baV07c3x8KHM9b1tpXT1bXSkscy5wdXNoKGVbbl0pO31jb25zdCBuPVtdO2Zvcihjb25zdCBlIGluIG8pbi5wdXNoKG9bZV0pO3JldHVybiBufShlLnZhbHVlcyh0aGlzLl9sYXllckNvbmZpZ3MpLHRoaXMua2V5Q2FjaGUpO2Zvcihjb25zdCBlIG9mIG4pe2NvbnN0IHQ9ZS5tYXAoKGU9PnRoaXMuX2xheWVyc1tlLmlkXSkpLHI9dFswXTtpZihcIm5vbmVcIj09PXIudmlzaWJpbGl0eSljb250aW51ZTtjb25zdCBvPXIuc291cmNlfHxcIlwiO2xldCBuPXRoaXMuZmFtaWxpZXNCeVNvdXJjZVtvXTtufHwobj10aGlzLmZhbWlsaWVzQnlTb3VyY2Vbb109e30pO2NvbnN0IGk9ci5zb3VyY2VMYXllcnx8XCJfZ2VvanNvblRpbGVMYXllclwiO2xldCBzPW5baV07c3x8KHM9bltpXT1bXSkscy5wdXNoKHQpO319fWNsYXNzIG57bG9hZFRpbGUodCxyKXtjb25zdHt1aWQ6byxlbmNvZGluZzpuLHJhd0ltYWdlRGF0YTppLHBhZGRpbmc6cyxidWlsZFF1YWRUcmVlOmF9PXQsbD1lLndpbmRvdy5JbWFnZUJpdG1hcCYmaSBpbnN0YW5jZW9mIGUud2luZG93LkltYWdlQml0bWFwP3RoaXMuZ2V0SW1hZ2VEYXRhKGkscyk6aTtyKG51bGwsbmV3IGUuREVNRGF0YShvLGwsbixzPDEsYSkpO31nZXRJbWFnZURhdGEoZSx0KXt0aGlzLm9mZnNjcmVlbkNhbnZhcyYmdGhpcy5vZmZzY3JlZW5DYW52YXNDb250ZXh0fHwodGhpcy5vZmZzY3JlZW5DYW52YXM9bmV3IE9mZnNjcmVlbkNhbnZhcyhlLndpZHRoLGUuaGVpZ2h0KSx0aGlzLm9mZnNjcmVlbkNhbnZhc0NvbnRleHQ9dGhpcy5vZmZzY3JlZW5DYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpKSx0aGlzLm9mZnNjcmVlbkNhbnZhcy53aWR0aD1lLndpZHRoLHRoaXMub2Zmc2NyZWVuQ2FudmFzLmhlaWdodD1lLmhlaWdodCx0aGlzLm9mZnNjcmVlbkNhbnZhc0NvbnRleHQuZHJhd0ltYWdlKGUsMCwwLGUud2lkdGgsZS5oZWlnaHQpO2NvbnN0IHI9dGhpcy5vZmZzY3JlZW5DYW52YXNDb250ZXh0LmdldEltYWdlRGF0YSgtdCwtdCxlLndpZHRoKzIqdCxlLmhlaWdodCsyKnQpO3JldHVybiB0aGlzLm9mZnNjcmVlbkNhbnZhc0NvbnRleHQuY2xlYXJSZWN0KDAsMCx0aGlzLm9mZnNjcmVlbkNhbnZhcy53aWR0aCx0aGlzLm9mZnNjcmVlbkNhbnZhcy5oZWlnaHQpLHJ9fXZhciBpPWZ1bmN0aW9uIGUodCxyKXt2YXIgbyxuPXQmJnQudHlwZTtpZihcIkZlYXR1cmVDb2xsZWN0aW9uXCI9PT1uKWZvcihvPTA7bzx0LmZlYXR1cmVzLmxlbmd0aDtvKyspZSh0LmZlYXR1cmVzW29dLHIpO2Vsc2UgaWYoXCJHZW9tZXRyeUNvbGxlY3Rpb25cIj09PW4pZm9yKG89MDtvPHQuZ2VvbWV0cmllcy5sZW5ndGg7bysrKWUodC5nZW9tZXRyaWVzW29dLHIpO2Vsc2UgaWYoXCJGZWF0dXJlXCI9PT1uKWUodC5nZW9tZXRyeSxyKTtlbHNlIGlmKFwiUG9seWdvblwiPT09bilzKHQuY29vcmRpbmF0ZXMscik7ZWxzZSBpZihcIk11bHRpUG9seWdvblwiPT09bilmb3Iobz0wO288dC5jb29yZGluYXRlcy5sZW5ndGg7bysrKXModC5jb29yZGluYXRlc1tvXSxyKTtyZXR1cm4gdH07ZnVuY3Rpb24gcyhlLHQpe2lmKDAhPT1lLmxlbmd0aCl7YShlWzBdLHQpO2Zvcih2YXIgcj0xO3I8ZS5sZW5ndGg7cisrKWEoZVtyXSwhdCk7fX1mdW5jdGlvbiBhKGUsdCl7Zm9yKHZhciByPTAsbz0wLG49MCxpPWUubGVuZ3RoLHM9aS0xO248aTtzPW4rKyl7dmFyIGE9KGVbbl1bMF0tZVtzXVswXSkqKGVbc11bMV0rZVtuXVsxXSksbD1yK2E7bys9TWF0aC5hYnMocik+PU1hdGguYWJzKGEpP3ItbCthOmEtbCtyLHI9bDt9citvPj0wIT0hIXQmJmUucmV2ZXJzZSgpO31jb25zdCBsPWUudmVjdG9yVGlsZS5WZWN0b3JUaWxlRmVhdHVyZS5wcm90b3R5cGUudG9HZW9KU09OO2NsYXNzIHV7Y29uc3RydWN0b3IodCl7dGhpcy5fZmVhdHVyZT10LHRoaXMuZXh0ZW50PWUuRVhURU5ULHRoaXMudHlwZT10LnR5cGUsdGhpcy5wcm9wZXJ0aWVzPXQudGFncyxcImlkXCJpbiB0JiYhaXNOYU4odC5pZCkmJih0aGlzLmlkPXBhcnNlSW50KHQuaWQsMTApKTt9bG9hZEdlb21ldHJ5KCl7aWYoMT09PXRoaXMuX2ZlYXR1cmUudHlwZSl7Y29uc3QgdD1bXTtmb3IoY29uc3QgciBvZiB0aGlzLl9mZWF0dXJlLmdlb21ldHJ5KXQucHVzaChbbmV3IGUucG9pbnRHZW9tZXRyeShyWzBdLHJbMV0pXSk7cmV0dXJuIHR9e2NvbnN0IHQ9W107Zm9yKGNvbnN0IHIgb2YgdGhpcy5fZmVhdHVyZS5nZW9tZXRyeSl7Y29uc3Qgbz1bXTtmb3IoY29uc3QgdCBvZiByKW8ucHVzaChuZXcgZS5wb2ludEdlb21ldHJ5KHRbMF0sdFsxXSkpO3QucHVzaChvKTt9cmV0dXJuIHR9fXRvR2VvSlNPTihlLHQscil7cmV0dXJuIGwuY2FsbCh0aGlzLGUsdCxyKX19Y2xhc3MgaHtjb25zdHJ1Y3Rvcih0KXt0aGlzLmxheWVycz17X2dlb2pzb25UaWxlTGF5ZXI6dGhpc30sdGhpcy5uYW1lPVwiX2dlb2pzb25UaWxlTGF5ZXJcIix0aGlzLmV4dGVudD1lLkVYVEVOVCx0aGlzLmxlbmd0aD10Lmxlbmd0aCx0aGlzLl9mZWF0dXJlcz10O31mZWF0dXJlKGUpe3JldHVybiBuZXcgdSh0aGlzLl9mZWF0dXJlc1tlXSl9fXZhciBjPWUudmVjdG9yVGlsZS5WZWN0b3JUaWxlRmVhdHVyZSxmPXA7ZnVuY3Rpb24gcChlLHQpe3RoaXMub3B0aW9ucz10fHx7fSx0aGlzLmZlYXR1cmVzPWUsdGhpcy5sZW5ndGg9ZS5sZW5ndGg7fWZ1bmN0aW9uIGcoZSx0KXt0aGlzLmlkPVwibnVtYmVyXCI9PXR5cGVvZiBlLmlkP2UuaWQ6dm9pZCAwLHRoaXMudHlwZT1lLnR5cGUsdGhpcy5yYXdHZW9tZXRyeT0xPT09ZS50eXBlP1tlLmdlb21ldHJ5XTplLmdlb21ldHJ5LHRoaXMucHJvcGVydGllcz1lLnRhZ3MsdGhpcy5leHRlbnQ9dHx8NDA5Njt9cC5wcm90b3R5cGUuZmVhdHVyZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IGcodGhpcy5mZWF0dXJlc1tlXSx0aGlzLm9wdGlvbnMuZXh0ZW50KX0sZy5wcm90b3R5cGUubG9hZEdlb21ldHJ5PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5yYXdHZW9tZXRyeTt0aGlzLmdlb21ldHJ5PVtdO2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXtmb3IodmFyIG89dFtyXSxuPVtdLGk9MDtpPG8ubGVuZ3RoO2krKyluLnB1c2gobmV3IGUucG9pbnRHZW9tZXRyeShvW2ldWzBdLG9baV1bMV0pKTt0aGlzLmdlb21ldHJ5LnB1c2gobik7fXJldHVybiB0aGlzLmdlb21ldHJ5fSxnLnByb3RvdHlwZS5iYm94PWZ1bmN0aW9uKCl7dGhpcy5nZW9tZXRyeXx8dGhpcy5sb2FkR2VvbWV0cnkoKTtmb3IodmFyIGU9dGhpcy5nZW9tZXRyeSx0PTEvMCxyPS0xLzAsbz0xLzAsbj0tMS8wLGk9MDtpPGUubGVuZ3RoO2krKylmb3IodmFyIHM9ZVtpXSxhPTA7YTxzLmxlbmd0aDthKyspe3ZhciBsPXNbYV07dD1NYXRoLm1pbih0LGwueCkscj1NYXRoLm1heChyLGwueCksbz1NYXRoLm1pbihvLGwueSksbj1NYXRoLm1heChuLGwueSk7fXJldHVybiBbdCxvLHIsbl19LGcucHJvdG90eXBlLnRvR2VvSlNPTj1jLnByb3RvdHlwZS50b0dlb0pTT047dmFyIGQ9eSxtPWY7ZnVuY3Rpb24geSh0KXt2YXIgcj1uZXcgZS5wYmY7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByIGluIGUubGF5ZXJzKXQud3JpdGVNZXNzYWdlKDMsdixlLmxheWVyc1tyXSk7fSh0LHIpLHIuZmluaXNoKCl9ZnVuY3Rpb24gdihlLHQpe3ZhciByO3Qud3JpdGVWYXJpbnRGaWVsZCgxNSxlLnZlcnNpb258fDEpLHQud3JpdGVTdHJpbmdGaWVsZCgxLGUubmFtZXx8XCJcIiksdC53cml0ZVZhcmludEZpZWxkKDUsZS5leHRlbnR8fDQwOTYpO3ZhciBvPXtrZXlzOltdLHZhbHVlczpbXSxrZXljYWNoZTp7fSx2YWx1ZWNhY2hlOnt9fTtmb3Iocj0wO3I8ZS5sZW5ndGg7cisrKW8uZmVhdHVyZT1lLmZlYXR1cmUociksdC53cml0ZU1lc3NhZ2UoMix4LG8pO3ZhciBuPW8ua2V5cztmb3Iocj0wO3I8bi5sZW5ndGg7cisrKXQud3JpdGVTdHJpbmdGaWVsZCgzLG5bcl0pO3ZhciBpPW8udmFsdWVzO2ZvcihyPTA7cjxpLmxlbmd0aDtyKyspdC53cml0ZU1lc3NhZ2UoNCxiLGlbcl0pO31mdW5jdGlvbiB4KGUsdCl7dmFyIHI9ZS5mZWF0dXJlO3ZvaWQgMCE9PXIuaWQmJnQud3JpdGVWYXJpbnRGaWVsZCgxLHIuaWQpLHQud3JpdGVNZXNzYWdlKDIsdyxlKSx0LndyaXRlVmFyaW50RmllbGQoMyxyLnR5cGUpLHQud3JpdGVNZXNzYWdlKDQsUCxyKTt9ZnVuY3Rpb24gdyhlLHQpe3ZhciByPWUuZmVhdHVyZSxvPWUua2V5cyxuPWUudmFsdWVzLGk9ZS5rZXljYWNoZSxzPWUudmFsdWVjYWNoZTtmb3IodmFyIGEgaW4gci5wcm9wZXJ0aWVzKXt2YXIgbD1yLnByb3BlcnRpZXNbYV0sdT1pW2FdO2lmKG51bGwhPT1sKXt2b2lkIDA9PT11JiYoby5wdXNoKGEpLGlbYV09dT1vLmxlbmd0aC0xKSx0LndyaXRlVmFyaW50KHUpO3ZhciBoPXR5cGVvZiBsO1wic3RyaW5nXCIhPT1oJiZcImJvb2xlYW5cIiE9PWgmJlwibnVtYmVyXCIhPT1oJiYobD1KU09OLnN0cmluZ2lmeShsKSk7dmFyIGM9aCtcIjpcIitsLGY9c1tjXTt2b2lkIDA9PT1mJiYobi5wdXNoKGwpLHNbY109Zj1uLmxlbmd0aC0xKSx0LndyaXRlVmFyaW50KGYpO319fWZ1bmN0aW9uIFMoZSx0KXtyZXR1cm4gKHQ8PDMpKyg3JmUpfWZ1bmN0aW9uIE0oZSl7cmV0dXJuIGU8PDFeZT4+MzF9ZnVuY3Rpb24gUChlLHQpe2Zvcih2YXIgcj1lLmxvYWRHZW9tZXRyeSgpLG89ZS50eXBlLG49MCxpPTAscz1yLmxlbmd0aCxhPTA7YTxzO2ErKyl7dmFyIGw9clthXSx1PTE7MT09PW8mJih1PWwubGVuZ3RoKSx0LndyaXRlVmFyaW50KFMoMSx1KSk7Zm9yKHZhciBoPTM9PT1vP2wubGVuZ3RoLTE6bC5sZW5ndGgsYz0wO2M8aDtjKyspezE9PT1jJiYxIT09byYmdC53cml0ZVZhcmludChTKDIsaC0xKSk7dmFyIGY9bFtjXS54LW4scD1sW2NdLnktaTt0LndyaXRlVmFyaW50KE0oZikpLHQud3JpdGVWYXJpbnQoTShwKSksbis9ZixpKz1wO30zPT09byYmdC53cml0ZVZhcmludChTKDcsMSkpO319ZnVuY3Rpb24gYihlLHQpe3ZhciByPXR5cGVvZiBlO1wic3RyaW5nXCI9PT1yP3Qud3JpdGVTdHJpbmdGaWVsZCgxLGUpOlwiYm9vbGVhblwiPT09cj90LndyaXRlQm9vbGVhbkZpZWxkKDcsZSk6XCJudW1iZXJcIj09PXImJihlJTEhPTA/dC53cml0ZURvdWJsZUZpZWxkKDMsZSk6ZTwwP3Qud3JpdGVTVmFyaW50RmllbGQoNixlKTp0LndyaXRlVmFyaW50RmllbGQoNSxlKSk7fWZ1bmN0aW9uIFQoZSx0LHIsbyxuLGkpe2lmKG4tbzw9cilyZXR1cm47Y29uc3Qgcz1vK24+PjE7ayhlLHQscyxvLG4saSUyKSxUKGUsdCxyLG8scy0xLGkrMSksVChlLHQscixzKzEsbixpKzEpO31mdW5jdGlvbiBrKGUsdCxyLG8sbixpKXtmb3IoO24+bzspe2lmKG4tbz42MDApe2NvbnN0IHM9bi1vKzEsYT1yLW8rMSxsPU1hdGgubG9nKHMpLHU9LjUqTWF0aC5leHAoMipsLzMpLGg9LjUqTWF0aC5zcXJ0KGwqdSoocy11KS9zKSooYS1zLzI8MD8tMToxKTtrKGUsdCxyLE1hdGgubWF4KG8sTWF0aC5mbG9vcihyLWEqdS9zK2gpKSxNYXRoLm1pbihuLE1hdGguZmxvb3Iocisocy1hKSp1L3MraCkpLGkpO31jb25zdCBzPXRbMipyK2ldO2xldCBhPW8sbD1uO2ZvcihJKGUsdCxvLHIpLHRbMipuK2ldPnMmJkkoZSx0LG8sbik7YTxsOyl7Zm9yKEkoZSx0LGEsbCksYSsrLGwtLTt0WzIqYStpXTxzOylhKys7Zm9yKDt0WzIqbCtpXT5zOylsLS07fXRbMipvK2ldPT09cz9JKGUsdCxvLGwpOihsKyssSShlLHQsbCxuKSksbDw9ciYmKG89bCsxKSxyPD1sJiYobj1sLTEpO319ZnVuY3Rpb24gSShlLHQscixvKXtfKGUscixvKSxfKHQsMipyLDIqbyksXyh0LDIqcisxLDIqbysxKTt9ZnVuY3Rpb24gXyhlLHQscil7Y29uc3Qgbz1lW3RdO2VbdF09ZVtyXSxlW3JdPW87fWZ1bmN0aW9uIEwoZSx0LHIsbyl7Y29uc3Qgbj1lLXIsaT10LW87cmV0dXJuIG4qbitpKml9ZC5mcm9tVmVjdG9yVGlsZUpzPXksZC5mcm9tR2VvanNvblZ0PWZ1bmN0aW9uKGUsdCl7dD10fHx7fTt2YXIgcj17fTtmb3IodmFyIG8gaW4gZSlyW29dPW5ldyBmKGVbb10uZmVhdHVyZXMsdCkscltvXS5uYW1lPW8scltvXS52ZXJzaW9uPXQudmVyc2lvbixyW29dLmV4dGVudD10LmV4dGVudDtyZXR1cm4geSh7bGF5ZXJzOnJ9KX0sZC5HZW9KU09OV3JhcHBlcj1tO2NvbnN0IEM9ZT0+ZVswXSxPPWU9PmVbMV07Y2xhc3Mgentjb25zdHJ1Y3RvcihlLHQ9QyxyPU8sbz02NCxuPUZsb2F0NjRBcnJheSl7dGhpcy5ub2RlU2l6ZT1vLHRoaXMucG9pbnRzPWU7Y29uc3QgaT1lLmxlbmd0aDw2NTUzNj9VaW50MTZBcnJheTpVaW50MzJBcnJheSxzPXRoaXMuaWRzPW5ldyBpKGUubGVuZ3RoKSxhPXRoaXMuY29vcmRzPW5ldyBuKDIqZS5sZW5ndGgpO2ZvcihsZXQgbz0wO288ZS5sZW5ndGg7bysrKXNbb109byxhWzIqb109dChlW29dKSxhWzIqbysxXT1yKGVbb10pO1QocyxhLG8sMCxzLmxlbmd0aC0xLDApO31yYW5nZShlLHQscixvKXtyZXR1cm4gZnVuY3Rpb24oZSx0LHIsbyxuLGkscyl7Y29uc3QgYT1bMCxlLmxlbmd0aC0xLDBdLGw9W107bGV0IHUsaDtmb3IoO2EubGVuZ3RoOyl7Y29uc3QgYz1hLnBvcCgpLGY9YS5wb3AoKSxwPWEucG9wKCk7aWYoZi1wPD1zKXtmb3IobGV0IHM9cDtzPD1mO3MrKyl1PXRbMipzXSxoPXRbMipzKzFdLHU+PXImJnU8PW4mJmg+PW8mJmg8PWkmJmwucHVzaChlW3NdKTtjb250aW51ZX1jb25zdCBnPU1hdGguZmxvb3IoKHArZikvMik7dT10WzIqZ10saD10WzIqZysxXSx1Pj1yJiZ1PD1uJiZoPj1vJiZoPD1pJiZsLnB1c2goZVtnXSk7Y29uc3QgZD0oYysxKSUyOygwPT09Yz9yPD11Om88PWgpJiYoYS5wdXNoKHApLGEucHVzaChnLTEpLGEucHVzaChkKSksKDA9PT1jP24+PXU6aT49aCkmJihhLnB1c2goZysxKSxhLnB1c2goZiksYS5wdXNoKGQpKTt9cmV0dXJuIGx9KHRoaXMuaWRzLHRoaXMuY29vcmRzLGUsdCxyLG8sdGhpcy5ub2RlU2l6ZSl9d2l0aGluKGUsdCxyKXtyZXR1cm4gZnVuY3Rpb24oZSx0LHIsbyxuLGkpe2NvbnN0IHM9WzAsZS5sZW5ndGgtMSwwXSxhPVtdLGw9bipuO2Zvcig7cy5sZW5ndGg7KXtjb25zdCB1PXMucG9wKCksaD1zLnBvcCgpLGM9cy5wb3AoKTtpZihoLWM8PWkpe2ZvcihsZXQgbj1jO248PWg7bisrKUwodFsyKm5dLHRbMipuKzFdLHIsbyk8PWwmJmEucHVzaChlW25dKTtjb250aW51ZX1jb25zdCBmPU1hdGguZmxvb3IoKGMraCkvMikscD10WzIqZl0sZz10WzIqZisxXTtMKHAsZyxyLG8pPD1sJiZhLnB1c2goZVtmXSk7Y29uc3QgZD0odSsxKSUyOygwPT09dT9yLW48PXA6by1uPD1nKSYmKHMucHVzaChjKSxzLnB1c2goZi0xKSxzLnB1c2goZCkpLCgwPT09dT9yK24+PXA6bytuPj1nKSYmKHMucHVzaChmKzEpLHMucHVzaChoKSxzLnB1c2goZCkpO31yZXR1cm4gYX0odGhpcy5pZHMsdGhpcy5jb29yZHMsZSx0LHIsdGhpcy5ub2RlU2l6ZSl9fWNvbnN0IEU9e21pblpvb206MCxtYXhab29tOjE2LG1pblBvaW50czoyLHJhZGl1czo0MCxleHRlbnQ6NTEyLG5vZGVTaXplOjY0LGxvZzohMSxnZW5lcmF0ZUlkOiExLHJlZHVjZTpudWxsLG1hcDplPT5lfSxGPU1hdGguZnJvdW5kfHwoTj1uZXcgRmxvYXQzMkFycmF5KDEpLGU9PihOWzBdPStlLE5bMF0pKTt2YXIgTjtjbGFzcyBqe2NvbnN0cnVjdG9yKGUpe3RoaXMub3B0aW9ucz1BKE9iamVjdC5jcmVhdGUoRSksZSksdGhpcy50cmVlcz1uZXcgQXJyYXkodGhpcy5vcHRpb25zLm1heFpvb20rMSk7fWxvYWQoZSl7Y29uc3R7bG9nOnQsbWluWm9vbTpyLG1heFpvb206byxub2RlU2l6ZTpufT10aGlzLm9wdGlvbnM7dCYmY29uc29sZS50aW1lKFwidG90YWwgdGltZVwiKTtjb25zdCBpPWBwcmVwYXJlICR7ZS5sZW5ndGh9IHBvaW50c2A7dCYmY29uc29sZS50aW1lKGkpLHRoaXMucG9pbnRzPWU7bGV0IHM9W107Zm9yKGxldCB0PTA7dDxlLmxlbmd0aDt0KyspZVt0XS5nZW9tZXRyeSYmcy5wdXNoKEcoZVt0XSx0KSk7dGhpcy50cmVlc1tvKzFdPW5ldyB6KHMsRCwkLG4sRmxvYXQzMkFycmF5KSx0JiZjb25zb2xlLnRpbWVFbmQoaSk7Zm9yKGxldCBlPW87ZT49cjtlLS0pe2NvbnN0IHI9K0RhdGUubm93KCk7cz10aGlzLl9jbHVzdGVyKHMsZSksdGhpcy50cmVlc1tlXT1uZXcgeihzLEQsJCxuLEZsb2F0MzJBcnJheSksdCYmY29uc29sZS5sb2coXCJ6JWQ6ICVkIGNsdXN0ZXJzIGluICVkbXNcIixlLHMubGVuZ3RoLCtEYXRlLm5vdygpLXIpO31yZXR1cm4gdCYmY29uc29sZS50aW1lRW5kKFwidG90YWwgdGltZVwiKSx0aGlzfWdldENsdXN0ZXJzKGUsdCl7bGV0IHI9KChlWzBdKzE4MCklMzYwKzM2MCklMzYwLTE4MDtjb25zdCBvPU1hdGgubWF4KC05MCxNYXRoLm1pbig5MCxlWzFdKSk7bGV0IG49MTgwPT09ZVsyXT8xODA6KChlWzJdKzE4MCklMzYwKzM2MCklMzYwLTE4MDtjb25zdCBpPU1hdGgubWF4KC05MCxNYXRoLm1pbig5MCxlWzNdKSk7aWYoZVsyXS1lWzBdPj0zNjApcj0tMTgwLG49MTgwO2Vsc2UgaWYocj5uKXtjb25zdCBlPXRoaXMuZ2V0Q2x1c3RlcnMoW3IsbywxODAsaV0sdCkscz10aGlzLmdldENsdXN0ZXJzKFstMTgwLG8sbixpXSx0KTtyZXR1cm4gZS5jb25jYXQocyl9Y29uc3Qgcz10aGlzLnRyZWVzW3RoaXMuX2xpbWl0Wm9vbSh0KV0sYT1zLnJhbmdlKFkociksWChpKSxZKG4pLFgobykpLGw9W107Zm9yKGNvbnN0IGUgb2YgYSl7Y29uc3QgdD1zLnBvaW50c1tlXTtsLnB1c2godC5udW1Qb2ludHM/Sih0KTp0aGlzLnBvaW50c1t0LmluZGV4XSk7fXJldHVybiBsfWdldENoaWxkcmVuKGUpe2NvbnN0IHQ9dGhpcy5fZ2V0T3JpZ2luSWQoZSkscj10aGlzLl9nZXRPcmlnaW5ab29tKGUpLG89XCJObyBjbHVzdGVyIHdpdGggdGhlIHNwZWNpZmllZCBpZC5cIixuPXRoaXMudHJlZXNbcl07aWYoIW4pdGhyb3cgbmV3IEVycm9yKG8pO2NvbnN0IGk9bi5wb2ludHNbdF07aWYoIWkpdGhyb3cgbmV3IEVycm9yKG8pO2NvbnN0IHM9dGhpcy5vcHRpb25zLnJhZGl1cy8odGhpcy5vcHRpb25zLmV4dGVudCpNYXRoLnBvdygyLHItMSkpLGE9bi53aXRoaW4oaS54LGkueSxzKSxsPVtdO2Zvcihjb25zdCB0IG9mIGEpe2NvbnN0IHI9bi5wb2ludHNbdF07ci5wYXJlbnRJZD09PWUmJmwucHVzaChyLm51bVBvaW50cz9KKHIpOnRoaXMucG9pbnRzW3IuaW5kZXhdKTt9aWYoMD09PWwubGVuZ3RoKXRocm93IG5ldyBFcnJvcihvKTtyZXR1cm4gbH1nZXRMZWF2ZXMoZSx0LHIpe2NvbnN0IG89W107cmV0dXJuIHRoaXMuX2FwcGVuZExlYXZlcyhvLGUsdD10fHwxMCxyPXJ8fDAsMCksb31nZXRUaWxlKGUsdCxyKXtjb25zdCBvPXRoaXMudHJlZXNbdGhpcy5fbGltaXRab29tKGUpXSxuPU1hdGgucG93KDIsZSkse2V4dGVudDppLHJhZGl1czpzfT10aGlzLm9wdGlvbnMsYT1zL2ksbD0oci1hKS9uLHU9KHIrMSthKS9uLGg9e2ZlYXR1cmVzOltdfTtyZXR1cm4gdGhpcy5fYWRkVGlsZUZlYXR1cmVzKG8ucmFuZ2UoKHQtYSkvbixsLCh0KzErYSkvbix1KSxvLnBvaW50cyx0LHIsbixoKSwwPT09dCYmdGhpcy5fYWRkVGlsZUZlYXR1cmVzKG8ucmFuZ2UoMS1hL24sbCwxLHUpLG8ucG9pbnRzLG4scixuLGgpLHQ9PT1uLTEmJnRoaXMuX2FkZFRpbGVGZWF0dXJlcyhvLnJhbmdlKDAsbCxhL24sdSksby5wb2ludHMsLTEscixuLGgpLGguZmVhdHVyZXMubGVuZ3RoP2g6bnVsbH1nZXRDbHVzdGVyRXhwYW5zaW9uWm9vbShlKXtsZXQgdD10aGlzLl9nZXRPcmlnaW5ab29tKGUpLTE7Zm9yKDt0PD10aGlzLm9wdGlvbnMubWF4Wm9vbTspe2NvbnN0IHI9dGhpcy5nZXRDaGlsZHJlbihlKTtpZih0KyssMSE9PXIubGVuZ3RoKWJyZWFrO2U9clswXS5wcm9wZXJ0aWVzLmNsdXN0ZXJfaWQ7fXJldHVybiB0fV9hcHBlbmRMZWF2ZXMoZSx0LHIsbyxuKXtjb25zdCBpPXRoaXMuZ2V0Q2hpbGRyZW4odCk7Zm9yKGNvbnN0IHQgb2YgaSl7Y29uc3QgaT10LnByb3BlcnRpZXM7aWYoaSYmaS5jbHVzdGVyP24raS5wb2ludF9jb3VudDw9bz9uKz1pLnBvaW50X2NvdW50Om49dGhpcy5fYXBwZW5kTGVhdmVzKGUsaS5jbHVzdGVyX2lkLHIsbyxuKTpuPG8/bisrOmUucHVzaCh0KSxlLmxlbmd0aD09PXIpYnJlYWt9cmV0dXJuIG59X2FkZFRpbGVGZWF0dXJlcyhlLHQscixvLG4saSl7Zm9yKGNvbnN0IHMgb2YgZSl7Y29uc3QgZT10W3NdLGE9ZS5udW1Qb2ludHM7bGV0IGwsdSxoO2lmKGEpbD1XKGUpLHU9ZS54LGg9ZS55O2Vsc2Uge2NvbnN0IHQ9dGhpcy5wb2ludHNbZS5pbmRleF07bD10LnByb3BlcnRpZXMsdT1ZKHQuZ2VvbWV0cnkuY29vcmRpbmF0ZXNbMF0pLGg9WCh0Lmdlb21ldHJ5LmNvb3JkaW5hdGVzWzFdKTt9Y29uc3QgYz17dHlwZToxLGdlb21ldHJ5OltbTWF0aC5yb3VuZCh0aGlzLm9wdGlvbnMuZXh0ZW50Kih1Km4tcikpLE1hdGgucm91bmQodGhpcy5vcHRpb25zLmV4dGVudCooaCpuLW8pKV1dLHRhZ3M6bH07bGV0IGY7YT9mPWUuaWQ6dGhpcy5vcHRpb25zLmdlbmVyYXRlSWQ/Zj1lLmluZGV4OnRoaXMucG9pbnRzW2UuaW5kZXhdLmlkJiYoZj10aGlzLnBvaW50c1tlLmluZGV4XS5pZCksdm9pZCAwIT09ZiYmKGMuaWQ9ZiksaS5mZWF0dXJlcy5wdXNoKGMpO319X2xpbWl0Wm9vbShlKXtyZXR1cm4gTWF0aC5tYXgodGhpcy5vcHRpb25zLm1pblpvb20sTWF0aC5taW4oK2UsdGhpcy5vcHRpb25zLm1heFpvb20rMSkpfV9jbHVzdGVyKGUsdCl7Y29uc3Qgcj1bXSx7cmFkaXVzOm8sZXh0ZW50Om4scmVkdWNlOmksbWluUG9pbnRzOnN9PXRoaXMub3B0aW9ucyxhPW8vKG4qTWF0aC5wb3coMix0KSk7Zm9yKGxldCBvPTA7bzxlLmxlbmd0aDtvKyspe2NvbnN0IG49ZVtvXTtpZihuLnpvb208PXQpY29udGludWU7bi56b29tPXQ7Y29uc3QgbD10aGlzLnRyZWVzW3QrMV0sdT1sLndpdGhpbihuLngsbi55LGEpLGg9bi5udW1Qb2ludHN8fDE7bGV0IGM9aDtmb3IoY29uc3QgZSBvZiB1KXtjb25zdCByPWwucG9pbnRzW2VdO3Iuem9vbT50JiYoYys9ci5udW1Qb2ludHN8fDEpO31pZihjPmgmJmM+PXMpe2xldCBlPW4ueCpoLHM9bi55KmgsYT1pJiZoPjE/dGhpcy5fbWFwKG4sITApOm51bGw7Y29uc3QgZj0obzw8NSkrKHQrMSkrdGhpcy5wb2ludHMubGVuZ3RoO2Zvcihjb25zdCByIG9mIHUpe2NvbnN0IG89bC5wb2ludHNbcl07aWYoby56b29tPD10KWNvbnRpbnVlO28uem9vbT10O2NvbnN0IHU9by5udW1Qb2ludHN8fDE7ZSs9by54KnUscys9by55KnUsby5wYXJlbnRJZD1mLGkmJihhfHwoYT10aGlzLl9tYXAobiwhMCkpLGkoYSx0aGlzLl9tYXAobykpKTt9bi5wYXJlbnRJZD1mLHIucHVzaChaKGUvYyxzL2MsZixjLGEpKTt9ZWxzZSBpZihyLnB1c2gobiksYz4xKWZvcihjb25zdCBlIG9mIHUpe2NvbnN0IG89bC5wb2ludHNbZV07by56b29tPD10fHwoby56b29tPXQsci5wdXNoKG8pKTt9fXJldHVybiByfV9nZXRPcmlnaW5JZChlKXtyZXR1cm4gZS10aGlzLnBvaW50cy5sZW5ndGg+PjV9X2dldE9yaWdpblpvb20oZSl7cmV0dXJuIChlLXRoaXMucG9pbnRzLmxlbmd0aCklMzJ9X21hcChlLHQpe2lmKGUubnVtUG9pbnRzKXJldHVybiB0P0Eoe30sZS5wcm9wZXJ0aWVzKTplLnByb3BlcnRpZXM7Y29uc3Qgcj10aGlzLnBvaW50c1tlLmluZGV4XS5wcm9wZXJ0aWVzLG89dGhpcy5vcHRpb25zLm1hcChyKTtyZXR1cm4gdCYmbz09PXI/QSh7fSxvKTpvfX1mdW5jdGlvbiBaKGUsdCxyLG8sbil7cmV0dXJuIHt4OkYoZSkseTpGKHQpLHpvb206MS8wLGlkOnIscGFyZW50SWQ6LTEsbnVtUG9pbnRzOm8scHJvcGVydGllczpufX1mdW5jdGlvbiBHKGUsdCl7Y29uc3RbcixvXT1lLmdlb21ldHJ5LmNvb3JkaW5hdGVzO3JldHVybiB7eDpGKFkocikpLHk6RihYKG8pKSx6b29tOjEvMCxpbmRleDp0LHBhcmVudElkOi0xfX1mdW5jdGlvbiBKKGUpe3JldHVybiB7dHlwZTpcIkZlYXR1cmVcIixpZDplLmlkLHByb3BlcnRpZXM6VyhlKSxnZW9tZXRyeTp7dHlwZTpcIlBvaW50XCIsY29vcmRpbmF0ZXM6Wyh0PWUueCwzNjAqKHQtLjUpKSxWKGUueSldfX07dmFyIHQ7fWZ1bmN0aW9uIFcoZSl7Y29uc3QgdD1lLm51bVBvaW50cyxyPXQ+PTFlND9gJHtNYXRoLnJvdW5kKHQvMWUzKX1rYDp0Pj0xZTM/TWF0aC5yb3VuZCh0LzEwMCkvMTArXCJrXCI6dDtyZXR1cm4gQShBKHt9LGUucHJvcGVydGllcykse2NsdXN0ZXI6ITAsY2x1c3Rlcl9pZDplLmlkLHBvaW50X2NvdW50OnQscG9pbnRfY291bnRfYWJicmV2aWF0ZWQ6cn0pfWZ1bmN0aW9uIFkoZSl7cmV0dXJuIGUvMzYwKy41fWZ1bmN0aW9uIFgoZSl7Y29uc3QgdD1NYXRoLnNpbihlKk1hdGguUEkvMTgwKSxyPS41LS4yNSpNYXRoLmxvZygoMSt0KS8oMS10KSkvTWF0aC5QSTtyZXR1cm4gcjwwPzA6cj4xPzE6cn1mdW5jdGlvbiBWKGUpe2NvbnN0IHQ9KDE4MC0zNjAqZSkqTWF0aC5QSS8xODA7cmV0dXJuIDM2MCpNYXRoLmF0YW4oTWF0aC5leHAodCkpL01hdGguUEktOTB9ZnVuY3Rpb24gQShlLHQpe2Zvcihjb25zdCByIGluIHQpZVtyXT10W3JdO3JldHVybiBlfWZ1bmN0aW9uIEQoZSl7cmV0dXJuIGUueH1mdW5jdGlvbiAkKGUpe3JldHVybiBlLnl9ZnVuY3Rpb24gQihlLHQscixvKXtmb3IodmFyIG4saT1vLHM9ci10Pj4xLGE9ci10LGw9ZVt0XSx1PWVbdCsxXSxoPWVbcl0sYz1lW3IrMV0sZj10KzM7ZjxyO2YrPTMpe3ZhciBwPVIoZVtmXSxlW2YrMV0sbCx1LGgsYyk7aWYocD5pKW49ZixpPXA7ZWxzZSBpZihwPT09aSl7dmFyIGc9TWF0aC5hYnMoZi1zKTtnPGEmJihuPWYsYT1nKTt9fWk+byYmKG4tdD4zJiZCKGUsdCxuLG8pLGVbbisyXT1pLHItbj4zJiZCKGUsbixyLG8pKTt9ZnVuY3Rpb24gUihlLHQscixvLG4saSl7dmFyIHM9bi1yLGE9aS1vO2lmKDAhPT1zfHwwIT09YSl7dmFyIGw9KChlLXIpKnMrKHQtbykqYSkvKHMqcythKmEpO2w+MT8ocj1uLG89aSk6bD4wJiYocis9cypsLG8rPWEqbCk7fXJldHVybiAocz1lLXIpKnMrKGE9dC1vKSphfWZ1bmN0aW9uIHEoZSx0LHIsbyl7dmFyIG49e2lkOnZvaWQgMD09PWU/bnVsbDplLHR5cGU6dCxnZW9tZXRyeTpyLHRhZ3M6byxtaW5YOjEvMCxtaW5ZOjEvMCxtYXhYOi0xLzAsbWF4WTotMS8wfTtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9ZS5nZW9tZXRyeSxyPWUudHlwZTtpZihcIlBvaW50XCI9PT1yfHxcIk11bHRpUG9pbnRcIj09PXJ8fFwiTGluZVN0cmluZ1wiPT09cilVKGUsdCk7ZWxzZSBpZihcIlBvbHlnb25cIj09PXJ8fFwiTXVsdGlMaW5lU3RyaW5nXCI9PT1yKWZvcih2YXIgbz0wO288dC5sZW5ndGg7bysrKVUoZSx0W29dKTtlbHNlIGlmKFwiTXVsdGlQb2x5Z29uXCI9PT1yKWZvcihvPTA7bzx0Lmxlbmd0aDtvKyspZm9yKHZhciBuPTA7bjx0W29dLmxlbmd0aDtuKyspVShlLHRbb11bbl0pO30obiksbn1mdW5jdGlvbiBVKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKz0zKWUubWluWD1NYXRoLm1pbihlLm1pblgsdFtyXSksZS5taW5ZPU1hdGgubWluKGUubWluWSx0W3IrMV0pLGUubWF4WD1NYXRoLm1heChlLm1heFgsdFtyXSksZS5tYXhZPU1hdGgubWF4KGUubWF4WSx0W3IrMV0pO31mdW5jdGlvbiBRKGUsdCxyLG8pe2lmKHQuZ2VvbWV0cnkpe3ZhciBuPXQuZ2VvbWV0cnkuY29vcmRpbmF0ZXMsaT10Lmdlb21ldHJ5LnR5cGUscz1NYXRoLnBvdyhyLnRvbGVyYW5jZS8oKDE8PHIubWF4Wm9vbSkqci5leHRlbnQpLDIpLGE9W10sbD10LmlkO2lmKHIucHJvbW90ZUlkP2w9dC5wcm9wZXJ0aWVzW3IucHJvbW90ZUlkXTpyLmdlbmVyYXRlSWQmJihsPW98fDApLFwiUG9pbnRcIj09PWkpSChuLGEpO2Vsc2UgaWYoXCJNdWx0aVBvaW50XCI9PT1pKWZvcih2YXIgdT0wO3U8bi5sZW5ndGg7dSsrKUgoblt1XSxhKTtlbHNlIGlmKFwiTGluZVN0cmluZ1wiPT09aSlLKG4sYSxzLCExKTtlbHNlIGlmKFwiTXVsdGlMaW5lU3RyaW5nXCI9PT1pKXtpZihyLmxpbmVNZXRyaWNzKXtmb3IodT0wO3U8bi5sZW5ndGg7dSsrKUsoblt1XSxhPVtdLHMsITEpLGUucHVzaChxKGwsXCJMaW5lU3RyaW5nXCIsYSx0LnByb3BlcnRpZXMpKTtyZXR1cm59ZWUobixhLHMsITEpO31lbHNlIGlmKFwiUG9seWdvblwiPT09aSllZShuLGEscywhMCk7ZWxzZSB7aWYoXCJNdWx0aVBvbHlnb25cIiE9PWkpe2lmKFwiR2VvbWV0cnlDb2xsZWN0aW9uXCI9PT1pKXtmb3IodT0wO3U8dC5nZW9tZXRyeS5nZW9tZXRyaWVzLmxlbmd0aDt1KyspUShlLHtpZDpsLGdlb21ldHJ5OnQuZ2VvbWV0cnkuZ2VvbWV0cmllc1t1XSxwcm9wZXJ0aWVzOnQucHJvcGVydGllc30scixvKTtyZXR1cm59dGhyb3cgbmV3IEVycm9yKFwiSW5wdXQgZGF0YSBpcyBub3QgYSB2YWxpZCBHZW9KU09OIG9iamVjdC5cIil9Zm9yKHU9MDt1PG4ubGVuZ3RoO3UrKyl7dmFyIGg9W107ZWUoblt1XSxoLHMsITApLGEucHVzaChoKTt9fWUucHVzaChxKGwsaSxhLHQucHJvcGVydGllcykpO319ZnVuY3Rpb24gSChlLHQpe3QucHVzaCh0ZShlWzBdKSksdC5wdXNoKHJlKGVbMV0pKSx0LnB1c2goMCk7fWZ1bmN0aW9uIEsoZSx0LHIsbyl7Zm9yKHZhciBuLGkscz0wLGE9MDthPGUubGVuZ3RoO2ErKyl7dmFyIGw9dGUoZVthXVswXSksdT1yZShlW2FdWzFdKTt0LnB1c2gobCksdC5wdXNoKHUpLHQucHVzaCgwKSxhPjAmJihzKz1vPyhuKnUtbCppKS8yOk1hdGguc3FydChNYXRoLnBvdyhsLW4sMikrTWF0aC5wb3codS1pLDIpKSksbj1sLGk9dTt9dmFyIGg9dC5sZW5ndGgtMzt0WzJdPTEsQih0LDAsaCxyKSx0W2grMl09MSx0LnNpemU9TWF0aC5hYnMocyksdC5zdGFydD0wLHQuZW5kPXQuc2l6ZTt9ZnVuY3Rpb24gZWUoZSx0LHIsbyl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciBpPVtdO0soZVtuXSxpLHIsbyksdC5wdXNoKGkpO319ZnVuY3Rpb24gdGUoZSl7cmV0dXJuIGUvMzYwKy41fWZ1bmN0aW9uIHJlKGUpe3ZhciB0PU1hdGguc2luKGUqTWF0aC5QSS8xODApLHI9LjUtLjI1Kk1hdGgubG9nKCgxK3QpLygxLXQpKS9NYXRoLlBJO3JldHVybiByPDA/MDpyPjE/MTpyfWZ1bmN0aW9uIG9lKGUsdCxyLG8sbixpLHMsYSl7aWYoby89dCxpPj0oci89dCkmJnM8bylyZXR1cm4gZTtpZihzPHJ8fGk+PW8pcmV0dXJuIG51bGw7Zm9yKHZhciBsPVtdLHU9MDt1PGUubGVuZ3RoO3UrKyl7dmFyIGg9ZVt1XSxjPWguZ2VvbWV0cnksZj1oLnR5cGUscD0wPT09bj9oLm1pblg6aC5taW5ZLGc9MD09PW4/aC5tYXhYOmgubWF4WTtpZihwPj1yJiZnPG8pbC5wdXNoKGgpO2Vsc2UgaWYoIShnPHJ8fHA+PW8pKXt2YXIgZD1bXTtpZihcIlBvaW50XCI9PT1mfHxcIk11bHRpUG9pbnRcIj09PWYpbmUoYyxkLHIsbyxuKTtlbHNlIGlmKFwiTGluZVN0cmluZ1wiPT09ZilpZShjLGQscixvLG4sITEsYS5saW5lTWV0cmljcyk7ZWxzZSBpZihcIk11bHRpTGluZVN0cmluZ1wiPT09ZilhZShjLGQscixvLG4sITEpO2Vsc2UgaWYoXCJQb2x5Z29uXCI9PT1mKWFlKGMsZCxyLG8sbiwhMCk7ZWxzZSBpZihcIk11bHRpUG9seWdvblwiPT09Zilmb3IodmFyIG09MDttPGMubGVuZ3RoO20rKyl7dmFyIHk9W107YWUoY1ttXSx5LHIsbyxuLCEwKSx5Lmxlbmd0aCYmZC5wdXNoKHkpO31pZihkLmxlbmd0aCl7aWYoYS5saW5lTWV0cmljcyYmXCJMaW5lU3RyaW5nXCI9PT1mKXtmb3IobT0wO208ZC5sZW5ndGg7bSsrKWwucHVzaChxKGguaWQsZixkW21dLGgudGFncykpO2NvbnRpbnVlfVwiTGluZVN0cmluZ1wiIT09ZiYmXCJNdWx0aUxpbmVTdHJpbmdcIiE9PWZ8fCgxPT09ZC5sZW5ndGg/KGY9XCJMaW5lU3RyaW5nXCIsZD1kWzBdKTpmPVwiTXVsdGlMaW5lU3RyaW5nXCIpLFwiUG9pbnRcIiE9PWYmJlwiTXVsdGlQb2ludFwiIT09Znx8KGY9Mz09PWQubGVuZ3RoP1wiUG9pbnRcIjpcIk11bHRpUG9pbnRcIiksbC5wdXNoKHEoaC5pZCxmLGQsaC50YWdzKSk7fX19cmV0dXJuIGwubGVuZ3RoP2w6bnVsbH1mdW5jdGlvbiBuZShlLHQscixvLG4pe2Zvcih2YXIgaT0wO2k8ZS5sZW5ndGg7aSs9Myl7dmFyIHM9ZVtpK25dO3M+PXImJnM8PW8mJih0LnB1c2goZVtpXSksdC5wdXNoKGVbaSsxXSksdC5wdXNoKGVbaSsyXSkpO319ZnVuY3Rpb24gaWUoZSx0LHIsbyxuLGkscyl7Zm9yKHZhciBhLGwsdT1zZShlKSxoPTA9PT1uP3VlOmhlLGM9ZS5zdGFydCxmPTA7ZjxlLmxlbmd0aC0zO2YrPTMpe3ZhciBwPWVbZl0sZz1lW2YrMV0sZD1lW2YrMl0sbT1lW2YrM10seT1lW2YrNF0sdj0wPT09bj9wOmcseD0wPT09bj9tOnksdz0hMTtzJiYoYT1NYXRoLnNxcnQoTWF0aC5wb3cocC1tLDIpK01hdGgucG93KGcteSwyKSkpLHY8cj94PnImJihsPWgodSxwLGcsbSx5LHIpLHMmJih1LnN0YXJ0PWMrYSpsKSk6dj5vP3g8byYmKGw9aCh1LHAsZyxtLHksbykscyYmKHUuc3RhcnQ9YythKmwpKTpsZSh1LHAsZyxkKSx4PHImJnY+PXImJihsPWgodSxwLGcsbSx5LHIpLHc9ITApLHg+byYmdjw9byYmKGw9aCh1LHAsZyxtLHksbyksdz0hMCksIWkmJncmJihzJiYodS5lbmQ9YythKmwpLHQucHVzaCh1KSx1PXNlKGUpKSxzJiYoYys9YSk7fXZhciBTPWUubGVuZ3RoLTM7cD1lW1NdLGc9ZVtTKzFdLGQ9ZVtTKzJdLCh2PTA9PT1uP3A6Zyk+PXImJnY8PW8mJmxlKHUscCxnLGQpLFM9dS5sZW5ndGgtMyxpJiZTPj0zJiYodVtTXSE9PXVbMF18fHVbUysxXSE9PXVbMV0pJiZsZSh1LHVbMF0sdVsxXSx1WzJdKSx1Lmxlbmd0aCYmdC5wdXNoKHUpO31mdW5jdGlvbiBzZShlKXt2YXIgdD1bXTtyZXR1cm4gdC5zaXplPWUuc2l6ZSx0LnN0YXJ0PWUuc3RhcnQsdC5lbmQ9ZS5lbmQsdH1mdW5jdGlvbiBhZShlLHQscixvLG4saSl7Zm9yKHZhciBzPTA7czxlLmxlbmd0aDtzKyspaWUoZVtzXSx0LHIsbyxuLGksITEpO31mdW5jdGlvbiBsZShlLHQscixvKXtlLnB1c2godCksZS5wdXNoKHIpLGUucHVzaChvKTt9ZnVuY3Rpb24gdWUoZSx0LHIsbyxuLGkpe3ZhciBzPShpLXQpLyhvLXQpO3JldHVybiBlLnB1c2goaSksZS5wdXNoKHIrKG4tcikqcyksZS5wdXNoKDEpLHN9ZnVuY3Rpb24gaGUoZSx0LHIsbyxuLGkpe3ZhciBzPShpLXIpLyhuLXIpO3JldHVybiBlLnB1c2godCsoby10KSpzKSxlLnB1c2goaSksZS5wdXNoKDEpLHN9ZnVuY3Rpb24gY2UoZSx0KXtmb3IodmFyIHI9W10sbz0wO288ZS5sZW5ndGg7bysrKXt2YXIgbixpPWVbb10scz1pLnR5cGU7aWYoXCJQb2ludFwiPT09c3x8XCJNdWx0aVBvaW50XCI9PT1zfHxcIkxpbmVTdHJpbmdcIj09PXMpbj1mZShpLmdlb21ldHJ5LHQpO2Vsc2UgaWYoXCJNdWx0aUxpbmVTdHJpbmdcIj09PXN8fFwiUG9seWdvblwiPT09cyl7bj1bXTtmb3IodmFyIGE9MDthPGkuZ2VvbWV0cnkubGVuZ3RoO2ErKyluLnB1c2goZmUoaS5nZW9tZXRyeVthXSx0KSk7fWVsc2UgaWYoXCJNdWx0aVBvbHlnb25cIj09PXMpZm9yKG49W10sYT0wO2E8aS5nZW9tZXRyeS5sZW5ndGg7YSsrKXtmb3IodmFyIGw9W10sdT0wO3U8aS5nZW9tZXRyeVthXS5sZW5ndGg7dSsrKWwucHVzaChmZShpLmdlb21ldHJ5W2FdW3VdLHQpKTtuLnB1c2gobCk7fXIucHVzaChxKGkuaWQscyxuLGkudGFncykpO31yZXR1cm4gcn1mdW5jdGlvbiBmZShlLHQpe3ZhciByPVtdO3Iuc2l6ZT1lLnNpemUsdm9pZCAwIT09ZS5zdGFydCYmKHIuc3RhcnQ9ZS5zdGFydCxyLmVuZD1lLmVuZCk7Zm9yKHZhciBvPTA7bzxlLmxlbmd0aDtvKz0zKXIucHVzaChlW29dK3QsZVtvKzFdLGVbbysyXSk7cmV0dXJuIHJ9ZnVuY3Rpb24gcGUoZSx0KXtpZihlLnRyYW5zZm9ybWVkKXJldHVybiBlO3ZhciByLG8sbixpPTE8PGUueixzPWUueCxhPWUueTtmb3Iocj0wO3I8ZS5mZWF0dXJlcy5sZW5ndGg7cisrKXt2YXIgbD1lLmZlYXR1cmVzW3JdLHU9bC5nZW9tZXRyeSxoPWwudHlwZTtpZihsLmdlb21ldHJ5PVtdLDE9PT1oKWZvcihvPTA7bzx1Lmxlbmd0aDtvKz0yKWwuZ2VvbWV0cnkucHVzaChnZSh1W29dLHVbbysxXSx0LGkscyxhKSk7ZWxzZSBmb3Iobz0wO288dS5sZW5ndGg7bysrKXt2YXIgYz1bXTtmb3Iobj0wO248dVtvXS5sZW5ndGg7bis9MiljLnB1c2goZ2UodVtvXVtuXSx1W29dW24rMV0sdCxpLHMsYSkpO2wuZ2VvbWV0cnkucHVzaChjKTt9fXJldHVybiBlLnRyYW5zZm9ybWVkPSEwLGV9ZnVuY3Rpb24gZ2UoZSx0LHIsbyxuLGkpe3JldHVybiBbTWF0aC5yb3VuZChyKihlKm8tbikpLE1hdGgucm91bmQocioodCpvLWkpKV19ZnVuY3Rpb24gZGUoZSx0LHIsbyxuKXtmb3IodmFyIGk9dD09PW4ubWF4Wm9vbT8wOm4udG9sZXJhbmNlLygoMTw8dCkqbi5leHRlbnQpLHM9e2ZlYXR1cmVzOltdLG51bVBvaW50czowLG51bVNpbXBsaWZpZWQ6MCxudW1GZWF0dXJlczowLHNvdXJjZTpudWxsLHg6cix5Om8sejp0LHRyYW5zZm9ybWVkOiExLG1pblg6MixtaW5ZOjEsbWF4WDotMSxtYXhZOjB9LGE9MDthPGUubGVuZ3RoO2ErKyl7cy5udW1GZWF0dXJlcysrLG1lKHMsZVthXSxpLG4pO3ZhciBsPWVbYV0ubWluWCx1PWVbYV0ubWluWSxoPWVbYV0ubWF4WCxjPWVbYV0ubWF4WTtsPHMubWluWCYmKHMubWluWD1sKSx1PHMubWluWSYmKHMubWluWT11KSxoPnMubWF4WCYmKHMubWF4WD1oKSxjPnMubWF4WSYmKHMubWF4WT1jKTt9cmV0dXJuIHN9ZnVuY3Rpb24gbWUoZSx0LHIsbyl7dmFyIG49dC5nZW9tZXRyeSxpPXQudHlwZSxzPVtdO2lmKFwiUG9pbnRcIj09PWl8fFwiTXVsdGlQb2ludFwiPT09aSlmb3IodmFyIGE9MDthPG4ubGVuZ3RoO2ErPTMpcy5wdXNoKG5bYV0pLHMucHVzaChuW2ErMV0pLGUubnVtUG9pbnRzKyssZS5udW1TaW1wbGlmaWVkKys7ZWxzZSBpZihcIkxpbmVTdHJpbmdcIj09PWkpeWUocyxuLGUsciwhMSwhMSk7ZWxzZSBpZihcIk11bHRpTGluZVN0cmluZ1wiPT09aXx8XCJQb2x5Z29uXCI9PT1pKWZvcihhPTA7YTxuLmxlbmd0aDthKyspeWUocyxuW2FdLGUscixcIlBvbHlnb25cIj09PWksMD09PWEpO2Vsc2UgaWYoXCJNdWx0aVBvbHlnb25cIj09PWkpZm9yKHZhciBsPTA7bDxuLmxlbmd0aDtsKyspe3ZhciB1PW5bbF07Zm9yKGE9MDthPHUubGVuZ3RoO2ErKyl5ZShzLHVbYV0sZSxyLCEwLDA9PT1hKTt9aWYocy5sZW5ndGgpe3ZhciBoPXQudGFnc3x8bnVsbDtpZihcIkxpbmVTdHJpbmdcIj09PWkmJm8ubGluZU1ldHJpY3Mpe2Zvcih2YXIgYyBpbiBoPXt9LHQudGFncyloW2NdPXQudGFnc1tjXTtoLm1hcGJveF9jbGlwX3N0YXJ0PW4uc3RhcnQvbi5zaXplLGgubWFwYm94X2NsaXBfZW5kPW4uZW5kL24uc2l6ZTt9dmFyIGY9e2dlb21ldHJ5OnMsdHlwZTpcIlBvbHlnb25cIj09PWl8fFwiTXVsdGlQb2x5Z29uXCI9PT1pPzM6XCJMaW5lU3RyaW5nXCI9PT1pfHxcIk11bHRpTGluZVN0cmluZ1wiPT09aT8yOjEsdGFnczpofTtudWxsIT09dC5pZCYmKGYuaWQ9dC5pZCksZS5mZWF0dXJlcy5wdXNoKGYpO319ZnVuY3Rpb24geWUoZSx0LHIsbyxuLGkpe3ZhciBzPW8qbztpZihvPjAmJnQuc2l6ZTwobj9zOm8pKXIubnVtUG9pbnRzKz10Lmxlbmd0aC8zO2Vsc2Uge2Zvcih2YXIgYT1bXSxsPTA7bDx0Lmxlbmd0aDtsKz0zKSgwPT09b3x8dFtsKzJdPnMpJiYoci5udW1TaW1wbGlmaWVkKyssYS5wdXNoKHRbbF0pLGEucHVzaCh0W2wrMV0pKSxyLm51bVBvaW50cysrO24mJmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPTAsbz0wLG49ZS5sZW5ndGgsaT1uLTI7bzxuO2k9byxvKz0yKXIrPShlW29dLWVbaV0pKihlW28rMV0rZVtpKzFdKTtpZihyPjA9PT10KWZvcihvPTAsbj1lLmxlbmd0aDtvPG4vMjtvKz0yKXt2YXIgcz1lW29dLGE9ZVtvKzFdO2Vbb109ZVtuLTItb10sZVtvKzFdPWVbbi0xLW9dLGVbbi0yLW9dPXMsZVtuLTEtb109YTt9fShhLGkpLGUucHVzaChhKTt9fWZ1bmN0aW9uIHZlKGUsdCl7dmFyIHI9KHQ9dGhpcy5vcHRpb25zPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByIGluIHQpZVtyXT10W3JdO3JldHVybiBlfShPYmplY3QuY3JlYXRlKHRoaXMub3B0aW9ucyksdCkpLmRlYnVnO2lmKHImJmNvbnNvbGUudGltZShcInByZXByb2Nlc3MgZGF0YVwiKSx0Lm1heFpvb208MHx8dC5tYXhab29tPjI0KXRocm93IG5ldyBFcnJvcihcIm1heFpvb20gc2hvdWxkIGJlIGluIHRoZSAwLTI0IHJhbmdlXCIpO2lmKHQucHJvbW90ZUlkJiZ0LmdlbmVyYXRlSWQpdGhyb3cgbmV3IEVycm9yKFwicHJvbW90ZUlkIGFuZCBnZW5lcmF0ZUlkIGNhbm5vdCBiZSB1c2VkIHRvZ2V0aGVyLlwiKTt2YXIgbz1mdW5jdGlvbihlLHQpe3ZhciByPVtdO2lmKFwiRmVhdHVyZUNvbGxlY3Rpb25cIj09PWUudHlwZSlmb3IodmFyIG89MDtvPGUuZmVhdHVyZXMubGVuZ3RoO28rKylRKHIsZS5mZWF0dXJlc1tvXSx0LG8pO2Vsc2UgUShyLFwiRmVhdHVyZVwiPT09ZS50eXBlP2U6e2dlb21ldHJ5OmV9LHQpO3JldHVybiByfShlLHQpO3RoaXMudGlsZXM9e30sdGhpcy50aWxlQ29vcmRzPVtdLHImJihjb25zb2xlLnRpbWVFbmQoXCJwcmVwcm9jZXNzIGRhdGFcIiksY29uc29sZS5sb2coXCJpbmRleDogbWF4Wm9vbTogJWQsIG1heFBvaW50czogJWRcIix0LmluZGV4TWF4Wm9vbSx0LmluZGV4TWF4UG9pbnRzKSxjb25zb2xlLnRpbWUoXCJnZW5lcmF0ZSB0aWxlc1wiKSx0aGlzLnN0YXRzPXt9LHRoaXMudG90YWw9MCksKG89ZnVuY3Rpb24oZSx0KXt2YXIgcj10LmJ1ZmZlci90LmV4dGVudCxvPWUsbj1vZShlLDEsLTEtcixyLDAsLTEsMix0KSxpPW9lKGUsMSwxLXIsMityLDAsLTEsMix0KTtyZXR1cm4gKG58fGkpJiYobz1vZShlLDEsLXIsMStyLDAsLTEsMix0KXx8W10sbiYmKG89Y2UobiwxKS5jb25jYXQobykpLGkmJihvPW8uY29uY2F0KGNlKGksLTEpKSkpLG99KG8sdCkpLmxlbmd0aCYmdGhpcy5zcGxpdFRpbGUobywwLDAsMCksciYmKG8ubGVuZ3RoJiZjb25zb2xlLmxvZyhcImZlYXR1cmVzOiAlZCwgcG9pbnRzOiAlZFwiLHRoaXMudGlsZXNbMF0ubnVtRmVhdHVyZXMsdGhpcy50aWxlc1swXS5udW1Qb2ludHMpLGNvbnNvbGUudGltZUVuZChcImdlbmVyYXRlIHRpbGVzXCIpLGNvbnNvbGUubG9nKFwidGlsZXMgZ2VuZXJhdGVkOlwiLHRoaXMudG90YWwsSlNPTi5zdHJpbmdpZnkodGhpcy5zdGF0cykpKTt9ZnVuY3Rpb24geGUoZSx0LHIpe3JldHVybiAzMiooKDE8PGUpKnIrdCkrZX1mdW5jdGlvbiB3ZShlLHQpe2NvbnN0IHI9ZS50aWxlSUQuY2Fub25pY2FsO2lmKCF0aGlzLl9nZW9KU09OSW5kZXgpcmV0dXJuIHQobnVsbCxudWxsKTtjb25zdCBvPXRoaXMuX2dlb0pTT05JbmRleC5nZXRUaWxlKHIueixyLngsci55KTtpZighbylyZXR1cm4gdChudWxsLG51bGwpO2NvbnN0IG49bmV3IGgoby5mZWF0dXJlcyk7bGV0IGk9ZChuKTswPT09aS5ieXRlT2Zmc2V0JiZpLmJ5dGVMZW5ndGg9PT1pLmJ1ZmZlci5ieXRlTGVuZ3RofHwoaT1uZXcgVWludDhBcnJheShpKSksdChudWxsLHt2ZWN0b3JUaWxlOm4scmF3RGF0YTppLmJ1ZmZlcn0pO312ZS5wcm90b3R5cGUub3B0aW9ucz17bWF4Wm9vbToxNCxpbmRleE1heFpvb206NSxpbmRleE1heFBvaW50czoxZTUsdG9sZXJhbmNlOjMsZXh0ZW50OjQwOTYsYnVmZmVyOjY0LGxpbmVNZXRyaWNzOiExLHByb21vdGVJZDpudWxsLGdlbmVyYXRlSWQ6ITEsZGVidWc6MH0sdmUucHJvdG90eXBlLnNwbGl0VGlsZT1mdW5jdGlvbihlLHQscixvLG4saSxzKXtmb3IodmFyIGE9W2UsdCxyLG9dLGw9dGhpcy5vcHRpb25zLHU9bC5kZWJ1ZzthLmxlbmd0aDspe289YS5wb3AoKSxyPWEucG9wKCksdD1hLnBvcCgpLGU9YS5wb3AoKTt2YXIgaD0xPDx0LGM9eGUodCxyLG8pLGY9dGhpcy50aWxlc1tjXTtpZighZiYmKHU+MSYmY29uc29sZS50aW1lKFwiY3JlYXRpb25cIiksZj10aGlzLnRpbGVzW2NdPWRlKGUsdCxyLG8sbCksdGhpcy50aWxlQ29vcmRzLnB1c2goe3o6dCx4OnIseTpvfSksdSkpe3U+MSYmKGNvbnNvbGUubG9nKFwidGlsZSB6JWQtJWQtJWQgKGZlYXR1cmVzOiAlZCwgcG9pbnRzOiAlZCwgc2ltcGxpZmllZDogJWQpXCIsdCxyLG8sZi5udW1GZWF0dXJlcyxmLm51bVBvaW50cyxmLm51bVNpbXBsaWZpZWQpLGNvbnNvbGUudGltZUVuZChcImNyZWF0aW9uXCIpKTt2YXIgcD1cInpcIit0O3RoaXMuc3RhdHNbcF09KHRoaXMuc3RhdHNbcF18fDApKzEsdGhpcy50b3RhbCsrO31pZihmLnNvdXJjZT1lLG4pe2lmKHQ9PT1sLm1heFpvb218fHQ9PT1uKWNvbnRpbnVlO3ZhciBnPTE8PG4tdDtpZihyIT09TWF0aC5mbG9vcihpL2cpfHxvIT09TWF0aC5mbG9vcihzL2cpKWNvbnRpbnVlfWVsc2UgaWYodD09PWwuaW5kZXhNYXhab29tfHxmLm51bVBvaW50czw9bC5pbmRleE1heFBvaW50cyljb250aW51ZTtpZihmLnNvdXJjZT1udWxsLDAhPT1lLmxlbmd0aCl7dT4xJiZjb25zb2xlLnRpbWUoXCJjbGlwcGluZ1wiKTt2YXIgZCxtLHksdix4LHcsUz0uNSpsLmJ1ZmZlci9sLmV4dGVudCxNPS41LVMsUD0uNStTLGI9MStTO2Q9bT15PXY9bnVsbCx4PW9lKGUsaCxyLVMscitQLDAsZi5taW5YLGYubWF4WCxsKSx3PW9lKGUsaCxyK00scitiLDAsZi5taW5YLGYubWF4WCxsKSxlPW51bGwseCYmKGQ9b2UoeCxoLG8tUyxvK1AsMSxmLm1pblksZi5tYXhZLGwpLG09b2UoeCxoLG8rTSxvK2IsMSxmLm1pblksZi5tYXhZLGwpLHg9bnVsbCksdyYmKHk9b2UodyxoLG8tUyxvK1AsMSxmLm1pblksZi5tYXhZLGwpLHY9b2UodyxoLG8rTSxvK2IsMSxmLm1pblksZi5tYXhZLGwpLHc9bnVsbCksdT4xJiZjb25zb2xlLnRpbWVFbmQoXCJjbGlwcGluZ1wiKSxhLnB1c2goZHx8W10sdCsxLDIqciwyKm8pLGEucHVzaChtfHxbXSx0KzEsMipyLDIqbysxKSxhLnB1c2goeXx8W10sdCsxLDIqcisxLDIqbyksYS5wdXNoKHZ8fFtdLHQrMSwyKnIrMSwyKm8rMSk7fX19LHZlLnByb3RvdHlwZS5nZXRUaWxlPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbz10aGlzLm9wdGlvbnMsbj1vLmV4dGVudCxpPW8uZGVidWc7aWYoZTwwfHxlPjI0KXJldHVybiBudWxsO3ZhciBzPTE8PGUsYT14ZShlLHQ9KHQlcytzKSVzLHIpO2lmKHRoaXMudGlsZXNbYV0pcmV0dXJuIHBlKHRoaXMudGlsZXNbYV0sbik7aT4xJiZjb25zb2xlLmxvZyhcImRyaWxsaW5nIGRvd24gdG8geiVkLSVkLSVkXCIsZSx0LHIpO2Zvcih2YXIgbCx1PWUsaD10LGM9cjshbCYmdT4wOyl1LS0saD1NYXRoLmZsb29yKGgvMiksYz1NYXRoLmZsb29yKGMvMiksbD10aGlzLnRpbGVzW3hlKHUsaCxjKV07cmV0dXJuIGwmJmwuc291cmNlPyhpPjEmJmNvbnNvbGUubG9nKFwiZm91bmQgcGFyZW50IHRpbGUgeiVkLSVkLSVkXCIsdSxoLGMpLGk+MSYmY29uc29sZS50aW1lKFwiZHJpbGxpbmcgZG93blwiKSx0aGlzLnNwbGl0VGlsZShsLnNvdXJjZSx1LGgsYyxlLHQsciksaT4xJiZjb25zb2xlLnRpbWVFbmQoXCJkcmlsbGluZyBkb3duXCIpLHRoaXMudGlsZXNbYV0/cGUodGhpcy50aWxlc1thXSxuKTpudWxsKTpudWxsfTtjbGFzcyBTZSBleHRlbmRzIGUuVmVjdG9yVGlsZVdvcmtlclNvdXJjZXtjb25zdHJ1Y3RvcihlLHQscixvLG4pe3N1cGVyKGUsdCxyLG8sd2UpLG4mJih0aGlzLmxvYWRHZW9KU09OPW4pO31sb2FkRGF0YSh0LHIpe2NvbnN0IG89dCYmdC5yZXF1ZXN0LG49byYmby5jb2xsZWN0UmVzb3VyY2VUaW1pbmc7dGhpcy5sb2FkR2VvSlNPTih0LCgocyxhKT0+e2lmKHN8fCFhKXJldHVybiByKHMpO2lmKFwib2JqZWN0XCIhPXR5cGVvZiBhKXJldHVybiByKG5ldyBFcnJvcihgSW5wdXQgZGF0YSBnaXZlbiB0byAnJHt0LnNvdXJjZX0nIGlzIG5vdCBhIHZhbGlkIEdlb0pTT04gb2JqZWN0LmApKTt7aShhLCEwKTt0cnl7aWYodC5maWx0ZXIpe2NvbnN0IHI9ZS5jcmVhdGVFeHByZXNzaW9uKHQuZmlsdGVyLHt0eXBlOlwiYm9vbGVhblwiLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIixvdmVycmlkYWJsZTohMSx0cmFuc2l0aW9uOiExfSk7aWYoXCJlcnJvclwiPT09ci5yZXN1bHQpdGhyb3cgbmV3IEVycm9yKHIudmFsdWUubWFwKChlPT5gJHtlLmtleX06ICR7ZS5tZXNzYWdlfWApKS5qb2luKFwiLCBcIikpO2NvbnN0IG89YS5mZWF0dXJlcy5maWx0ZXIoKGU9PnIudmFsdWUuZXZhbHVhdGUoe3pvb206MH0sZSkpKTthPXt0eXBlOlwiRmVhdHVyZUNvbGxlY3Rpb25cIixmZWF0dXJlczpvfTt9dGhpcy5fZ2VvSlNPTkluZGV4PXQuY2x1c3Rlcj9uZXcgaihmdW5jdGlvbih7c3VwZXJjbHVzdGVyT3B0aW9uczp0LGNsdXN0ZXJQcm9wZXJ0aWVzOnJ9KXtpZighcnx8IXQpcmV0dXJuIHQ7Y29uc3Qgbz17fSxuPXt9LGk9e2FjY3VtdWxhdGVkOm51bGwsem9vbTowfSxzPXtwcm9wZXJ0aWVzOm51bGx9LGE9T2JqZWN0LmtleXMocik7Zm9yKGNvbnN0IHQgb2YgYSl7Y29uc3RbaSxzXT1yW3RdLGE9ZS5jcmVhdGVFeHByZXNzaW9uKHMpLGw9ZS5jcmVhdGVFeHByZXNzaW9uKFwic3RyaW5nXCI9PXR5cGVvZiBpP1tpLFtcImFjY3VtdWxhdGVkXCJdLFtcImdldFwiLHRdXTppKTtvW3RdPWEudmFsdWUsblt0XT1sLnZhbHVlO31yZXR1cm4gdC5tYXA9ZT0+e3MucHJvcGVydGllcz1lO2NvbnN0IHQ9e307Zm9yKGNvbnN0IGUgb2YgYSl0W2VdPW9bZV0uZXZhbHVhdGUoaSxzKTtyZXR1cm4gdH0sdC5yZWR1Y2U9KGUsdCk9PntzLnByb3BlcnRpZXM9dDtmb3IoY29uc3QgdCBvZiBhKWkuYWNjdW11bGF0ZWQ9ZVt0XSxlW3RdPW5bdF0uZXZhbHVhdGUoaSxzKTt9LHR9KHQpKS5sb2FkKGEuZmVhdHVyZXMpOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyB2ZShlLHQpfShhLHQuZ2VvanNvblZ0T3B0aW9ucyk7fWNhdGNoKHMpe3JldHVybiByKHMpfXRoaXMubG9hZGVkPXt9O2NvbnN0IGw9e307aWYobil7Y29uc3Qgcj1lLmdldFBlcmZvcm1hbmNlTWVhc3VyZW1lbnQobyk7ciYmKGwucmVzb3VyY2VUaW1pbmc9e30sbC5yZXNvdXJjZVRpbWluZ1t0LnNvdXJjZV09SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShyKSkpO31yKG51bGwsbCk7fX0pKTt9cmVsb2FkVGlsZShlLHQpe2NvbnN0IHI9dGhpcy5sb2FkZWQ7cmV0dXJuIHImJnJbZS51aWRdP3N1cGVyLnJlbG9hZFRpbGUoZSx0KTp0aGlzLmxvYWRUaWxlKGUsdCl9bG9hZEdlb0pTT04odCxyKXtpZih0LnJlcXVlc3QpZS5nZXRKU09OKHQucmVxdWVzdCxyKTtlbHNlIHtpZihcInN0cmluZ1wiIT10eXBlb2YgdC5kYXRhKXJldHVybiByKG5ldyBFcnJvcihgSW5wdXQgZGF0YSBnaXZlbiB0byAnJHt0LnNvdXJjZX0nIGlzIG5vdCBhIHZhbGlkIEdlb0pTT04gb2JqZWN0LmApKTt0cnl7cmV0dXJuIHIobnVsbCxKU09OLnBhcnNlKHQuZGF0YSkpfWNhdGNoKGUpe3JldHVybiByKG5ldyBFcnJvcihgSW5wdXQgZGF0YSBnaXZlbiB0byAnJHt0LnNvdXJjZX0nIGlzIG5vdCBhIHZhbGlkIEdlb0pTT04gb2JqZWN0LmApKX19fWdldENsdXN0ZXJFeHBhbnNpb25ab29tKGUsdCl7dHJ5e3QobnVsbCx0aGlzLl9nZW9KU09OSW5kZXguZ2V0Q2x1c3RlckV4cGFuc2lvblpvb20oZS5jbHVzdGVySWQpKTt9Y2F0Y2goZSl7dChlKTt9fWdldENsdXN0ZXJDaGlsZHJlbihlLHQpe3RyeXt0KG51bGwsdGhpcy5fZ2VvSlNPTkluZGV4LmdldENoaWxkcmVuKGUuY2x1c3RlcklkKSk7fWNhdGNoKGUpe3QoZSk7fX1nZXRDbHVzdGVyTGVhdmVzKGUsdCl7dHJ5e3QobnVsbCx0aGlzLl9nZW9KU09OSW5kZXguZ2V0TGVhdmVzKGUuY2x1c3RlcklkLGUubGltaXQsZS5vZmZzZXQpKTt9Y2F0Y2goZSl7dChlKTt9fX1jbGFzcyBNZXtjb25zdHJ1Y3Rvcih0KXt0aGlzLnNlbGY9dCx0aGlzLmFjdG9yPW5ldyBlLkFjdG9yKHQsdGhpcyksdGhpcy5sYXllckluZGV4ZXM9e30sdGhpcy5hdmFpbGFibGVJbWFnZXM9e30sdGhpcy5pc1Nwcml0ZUxvYWRlZD17fSx0aGlzLnByb2plY3Rpb25zPXt9LHRoaXMuZGVmYXVsdFByb2plY3Rpb249ZS5nZXRQcm9qZWN0aW9uKHtuYW1lOlwibWVyY2F0b3JcIn0pLHRoaXMud29ya2VyU291cmNlVHlwZXM9e3ZlY3RvcjplLlZlY3RvclRpbGVXb3JrZXJTb3VyY2UsZ2VvanNvbjpTZX0sdGhpcy53b3JrZXJTb3VyY2VzPXt9LHRoaXMuZGVtV29ya2VyU291cmNlcz17fSx0aGlzLnNlbGYucmVnaXN0ZXJXb3JrZXJTb3VyY2U9KGUsdCk9PntpZih0aGlzLndvcmtlclNvdXJjZVR5cGVzW2VdKXRocm93IG5ldyBFcnJvcihgV29ya2VyIHNvdXJjZSB3aXRoIG5hbWUgXCIke2V9XCIgYWxyZWFkeSByZWdpc3RlcmVkLmApO3RoaXMud29ya2VyU291cmNlVHlwZXNbZV09dDt9LHRoaXMuc2VsZi5yZWdpc3RlclJUTFRleHRQbHVnaW49dD0+e2lmKGUucGx1Z2luLmlzUGFyc2VkKCkpdGhyb3cgbmV3IEVycm9yKFwiUlRMIHRleHQgcGx1Z2luIGFscmVhZHkgcmVnaXN0ZXJlZC5cIik7ZS5wbHVnaW4uYXBwbHlBcmFiaWNTaGFwaW5nPXQuYXBwbHlBcmFiaWNTaGFwaW5nLGUucGx1Z2luLnByb2Nlc3NCaWRpcmVjdGlvbmFsVGV4dD10LnByb2Nlc3NCaWRpcmVjdGlvbmFsVGV4dCxlLnBsdWdpbi5wcm9jZXNzU3R5bGVkQmlkaXJlY3Rpb25hbFRleHQ9dC5wcm9jZXNzU3R5bGVkQmlkaXJlY3Rpb25hbFRleHQ7fTt9Y2xlYXJDYWNoZXMoZSx0LHIpe2RlbGV0ZSB0aGlzLmxheWVySW5kZXhlc1tlXSxkZWxldGUgdGhpcy5hdmFpbGFibGVJbWFnZXNbZV0sZGVsZXRlIHRoaXMud29ya2VyU291cmNlc1tlXSxkZWxldGUgdGhpcy5kZW1Xb3JrZXJTb3VyY2VzW2VdLHIoKTt9Y2hlY2tJZlJlYWR5KGUsdCxyKXtyKCk7fXNldFJlZmVycmVyKGUsdCl7dGhpcy5yZWZlcnJlcj10O31zcHJpdGVMb2FkZWQodCxyKXt0aGlzLmlzU3ByaXRlTG9hZGVkW3RdPXI7Zm9yKGNvbnN0IG8gaW4gdGhpcy53b3JrZXJTb3VyY2VzW3RdKXtjb25zdCBuPXRoaXMud29ya2VyU291cmNlc1t0XVtvXTtmb3IoY29uc3QgdCBpbiBuKW5bdF1pbnN0YW5jZW9mIGUuVmVjdG9yVGlsZVdvcmtlclNvdXJjZSYmKG5bdF0uaXNTcHJpdGVMb2FkZWQ9cixuW3RdLmZpcmUobmV3IGUuRXZlbnQoXCJpc1Nwcml0ZUxvYWRlZFwiKSkpO319c2V0SW1hZ2VzKGUsdCxyKXt0aGlzLmF2YWlsYWJsZUltYWdlc1tlXT10O2Zvcihjb25zdCByIGluIHRoaXMud29ya2VyU291cmNlc1tlXSl7Y29uc3Qgbz10aGlzLndvcmtlclNvdXJjZXNbZV1bcl07Zm9yKGNvbnN0IGUgaW4gbylvW2VdLmF2YWlsYWJsZUltYWdlcz10O31yKCk7fWVuYWJsZVRlcnJhaW4oZSx0LHIpe3RoaXMudGVycmFpbj10LHIoKTt9c2V0UHJvamVjdGlvbih0LHIpe3RoaXMucHJvamVjdGlvbnNbdF09ZS5nZXRQcm9qZWN0aW9uKHIpO31zZXRMYXllcnMoZSx0LHIpe3RoaXMuZ2V0TGF5ZXJJbmRleChlKS5yZXBsYWNlKHQpLHIoKTt9dXBkYXRlTGF5ZXJzKGUsdCxyKXt0aGlzLmdldExheWVySW5kZXgoZSkudXBkYXRlKHQubGF5ZXJzLHQucmVtb3ZlZElkcykscigpO31sb2FkVGlsZSh0LHIsbyl7Y29uc3Qgbj10aGlzLmVuYWJsZVRlcnJhaW4/ZS5leHRlbmQoe2VuYWJsZVRlcnJhaW46dGhpcy50ZXJyYWlufSxyKTpyO24ucHJvamVjdGlvbj10aGlzLnByb2plY3Rpb25zW3RdfHx0aGlzLmRlZmF1bHRQcm9qZWN0aW9uLHRoaXMuZ2V0V29ya2VyU291cmNlKHQsci50eXBlLHIuc291cmNlKS5sb2FkVGlsZShuLG8pO31sb2FkREVNVGlsZSh0LHIsbyl7Y29uc3Qgbj10aGlzLmVuYWJsZVRlcnJhaW4/ZS5leHRlbmQoe2J1aWxkUXVhZFRyZWU6dGhpcy50ZXJyYWlufSxyKTpyO3RoaXMuZ2V0REVNV29ya2VyU291cmNlKHQsci5zb3VyY2UpLmxvYWRUaWxlKG4sbyk7fXJlbG9hZFRpbGUodCxyLG8pe2NvbnN0IG49dGhpcy5lbmFibGVUZXJyYWluP2UuZXh0ZW5kKHtlbmFibGVUZXJyYWluOnRoaXMudGVycmFpbn0scik6cjtuLnByb2plY3Rpb249dGhpcy5wcm9qZWN0aW9uc1t0XXx8dGhpcy5kZWZhdWx0UHJvamVjdGlvbix0aGlzLmdldFdvcmtlclNvdXJjZSh0LHIudHlwZSxyLnNvdXJjZSkucmVsb2FkVGlsZShuLG8pO31hYm9ydFRpbGUoZSx0LHIpe3RoaXMuZ2V0V29ya2VyU291cmNlKGUsdC50eXBlLHQuc291cmNlKS5hYm9ydFRpbGUodCxyKTt9cmVtb3ZlVGlsZShlLHQscil7dGhpcy5nZXRXb3JrZXJTb3VyY2UoZSx0LnR5cGUsdC5zb3VyY2UpLnJlbW92ZVRpbGUodCxyKTt9cmVtb3ZlU291cmNlKGUsdCxyKXtpZighdGhpcy53b3JrZXJTb3VyY2VzW2VdfHwhdGhpcy53b3JrZXJTb3VyY2VzW2VdW3QudHlwZV18fCF0aGlzLndvcmtlclNvdXJjZXNbZV1bdC50eXBlXVt0LnNvdXJjZV0pcmV0dXJuO2NvbnN0IG89dGhpcy53b3JrZXJTb3VyY2VzW2VdW3QudHlwZV1bdC5zb3VyY2VdO2RlbGV0ZSB0aGlzLndvcmtlclNvdXJjZXNbZV1bdC50eXBlXVt0LnNvdXJjZV0sdm9pZCAwIT09by5yZW1vdmVTb3VyY2U/by5yZW1vdmVTb3VyY2UodCxyKTpyKCk7fWxvYWRXb3JrZXJTb3VyY2UoZSx0LHIpe3RyeXt0aGlzLnNlbGYuaW1wb3J0U2NyaXB0cyh0LnVybCkscigpO31jYXRjaChlKXtyKGUudG9TdHJpbmcoKSk7fX1zeW5jUlRMUGx1Z2luU3RhdGUodCxyLG8pe3RyeXtlLnBsdWdpbi5zZXRTdGF0ZShyKTtjb25zdCB0PWUucGx1Z2luLmdldFBsdWdpblVSTCgpO2lmKGUucGx1Z2luLmlzTG9hZGVkKCkmJiFlLnBsdWdpbi5pc1BhcnNlZCgpJiZudWxsIT10KXt0aGlzLnNlbGYuaW1wb3J0U2NyaXB0cyh0KTtjb25zdCByPWUucGx1Z2luLmlzUGFyc2VkKCk7byhyP3ZvaWQgMDpuZXcgRXJyb3IoYFJUTCBUZXh0IFBsdWdpbiBmYWlsZWQgdG8gaW1wb3J0IHNjcmlwdHMgZnJvbSAke3R9YCkscik7fX1jYXRjaChlKXtvKGUudG9TdHJpbmcoKSk7fX1nZXRBdmFpbGFibGVJbWFnZXMoZSl7bGV0IHQ9dGhpcy5hdmFpbGFibGVJbWFnZXNbZV07cmV0dXJuIHR8fCh0PVtdKSx0fWdldExheWVySW5kZXgoZSl7bGV0IHQ9dGhpcy5sYXllckluZGV4ZXNbZV07cmV0dXJuIHR8fCh0PXRoaXMubGF5ZXJJbmRleGVzW2VdPW5ldyBvKSx0fWdldFdvcmtlclNvdXJjZShlLHQscil7cmV0dXJuIHRoaXMud29ya2VyU291cmNlc1tlXXx8KHRoaXMud29ya2VyU291cmNlc1tlXT17fSksdGhpcy53b3JrZXJTb3VyY2VzW2VdW3RdfHwodGhpcy53b3JrZXJTb3VyY2VzW2VdW3RdPXt9KSx0aGlzLndvcmtlclNvdXJjZXNbZV1bdF1bcl18fCh0aGlzLndvcmtlclNvdXJjZXNbZV1bdF1bcl09bmV3IHRoaXMud29ya2VyU291cmNlVHlwZXNbdF0oe3NlbmQ6KHQscixvLG4saSxzKT0+e3RoaXMuYWN0b3Iuc2VuZCh0LHIsbyxlLGkscyk7fSxzY2hlZHVsZXI6dGhpcy5hY3Rvci5zY2hlZHVsZXJ9LHRoaXMuZ2V0TGF5ZXJJbmRleChlKSx0aGlzLmdldEF2YWlsYWJsZUltYWdlcyhlKSx0aGlzLmlzU3ByaXRlTG9hZGVkW2VdKSksdGhpcy53b3JrZXJTb3VyY2VzW2VdW3RdW3JdfWdldERFTVdvcmtlclNvdXJjZShlLHQpe3JldHVybiB0aGlzLmRlbVdvcmtlclNvdXJjZXNbZV18fCh0aGlzLmRlbVdvcmtlclNvdXJjZXNbZV09e30pLHRoaXMuZGVtV29ya2VyU291cmNlc1tlXVt0XXx8KHRoaXMuZGVtV29ya2VyU291cmNlc1tlXVt0XT1uZXcgbiksdGhpcy5kZW1Xb3JrZXJTb3VyY2VzW2VdW3RdfWVuZm9yY2VDYWNoZVNpemVMaW1pdCh0LHIpe2UuZW5mb3JjZUNhY2hlU2l6ZUxpbWl0KHIpO31nZXRXb3JrZXJQZXJmb3JtYW5jZU1ldHJpY3MoZSx0LHIpe3Iodm9pZCAwLHZvaWQgMCk7fX1yZXR1cm4gXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFdvcmtlckdsb2JhbFNjb3BlJiZcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZiYmc2VsZiBpbnN0YW5jZW9mIFdvcmtlckdsb2JhbFNjb3BlJiYoc2VsZi53b3JrZXI9bmV3IE1lKHNlbGYpKSxNZX0pKTtcblxuZGVmaW5lKFtcIi4vc2hhcmVkXCJdLChmdW5jdGlvbihlKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiB0KGUsaSl7aWYoQXJyYXkuaXNBcnJheShlKSl7aWYoIUFycmF5LmlzQXJyYXkoaSl8fGUubGVuZ3RoIT09aS5sZW5ndGgpcmV0dXJuICExO2ZvcihsZXQgbz0wO288ZS5sZW5ndGg7bysrKWlmKCF0KGVbb10saVtvXSkpcmV0dXJuICExO3JldHVybiAhMH1pZihcIm9iamVjdFwiPT10eXBlb2YgZSYmbnVsbCE9PWUmJm51bGwhPT1pKXtpZihcIm9iamVjdFwiIT10eXBlb2YgaSlyZXR1cm4gITE7aWYoT2JqZWN0LmtleXMoZSkubGVuZ3RoIT09T2JqZWN0LmtleXMoaSkubGVuZ3RoKXJldHVybiAhMTtmb3IoY29uc3QgbyBpbiBlKWlmKCF0KGVbb10saVtvXSkpcmV0dXJuICExO3JldHVybiAhMH1yZXR1cm4gZT09PWl9dmFyIGk9bztmdW5jdGlvbiBvKGUpe3JldHVybiAhZnVuY3Rpb24oZSl7cmV0dXJuIFwidW5kZWZpbmVkXCI9PXR5cGVvZiB3aW5kb3d8fFwidW5kZWZpbmVkXCI9PXR5cGVvZiBkb2N1bWVudD9cIm5vdCBhIGJyb3dzZXJcIjpBcnJheS5wcm90b3R5cGUmJkFycmF5LnByb3RvdHlwZS5ldmVyeSYmQXJyYXkucHJvdG90eXBlLmZpbHRlciYmQXJyYXkucHJvdG90eXBlLmZvckVhY2gmJkFycmF5LnByb3RvdHlwZS5pbmRleE9mJiZBcnJheS5wcm90b3R5cGUubGFzdEluZGV4T2YmJkFycmF5LnByb3RvdHlwZS5tYXAmJkFycmF5LnByb3RvdHlwZS5zb21lJiZBcnJheS5wcm90b3R5cGUucmVkdWNlJiZBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQmJkFycmF5LmlzQXJyYXk/RnVuY3Rpb24ucHJvdG90eXBlJiZGdW5jdGlvbi5wcm90b3R5cGUuYmluZD9PYmplY3Qua2V5cyYmT2JqZWN0LmNyZWF0ZSYmT2JqZWN0LmdldFByb3RvdHlwZU9mJiZPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyYmT2JqZWN0LmlzU2VhbGVkJiZPYmplY3QuaXNGcm96ZW4mJk9iamVjdC5pc0V4dGVuc2libGUmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3ImJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSYmT2JqZWN0LmRlZmluZVByb3BlcnRpZXMmJk9iamVjdC5zZWFsJiZPYmplY3QuZnJlZXplJiZPYmplY3QucHJldmVudEV4dGVuc2lvbnM/XCJKU09OXCJpbiB3aW5kb3cmJlwicGFyc2VcImluIEpTT04mJlwic3RyaW5naWZ5XCJpbiBKU09OP2Z1bmN0aW9uKCl7aWYoIShcIldvcmtlclwiaW4gd2luZG93JiZcIkJsb2JcImluIHdpbmRvdyYmXCJVUkxcImluIHdpbmRvdykpcmV0dXJuICExO3ZhciBlLHQsaT1uZXcgQmxvYihbXCJcIl0se3R5cGU6XCJ0ZXh0L2phdmFzY3JpcHRcIn0pLG89VVJMLmNyZWF0ZU9iamVjdFVSTChpKTt0cnl7dD1uZXcgV29ya2VyKG8pLGU9ITA7fWNhdGNoKHQpe2U9ITE7fXJldHVybiB0JiZ0LnRlcm1pbmF0ZSgpLFVSTC5yZXZva2VPYmplY3RVUkwobyksZX0oKT9cIlVpbnQ4Q2xhbXBlZEFycmF5XCJpbiB3aW5kb3c/QXJyYXlCdWZmZXIuaXNWaWV3P2Z1bmN0aW9uKCl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtlLndpZHRoPWUuaGVpZ2h0PTE7dmFyIHQ9ZS5nZXRDb250ZXh0KFwiMmRcIik7aWYoIXQpcmV0dXJuICExO3ZhciBpPXQuZ2V0SW1hZ2VEYXRhKDAsMCwxLDEpO3JldHVybiBpJiZpLndpZHRoPT09ZS53aWR0aH0oKT8odm9pZCAwPT09clt0PWUmJmUuZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdF0mJihyW3RdPWZ1bmN0aW9uKGUpe3ZhciB0LGk9ZnVuY3Rpb24oZSl7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSxpPU9iamVjdC5jcmVhdGUoby53ZWJHTENvbnRleHRBdHRyaWJ1dGVzKTtyZXR1cm4gaS5mYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0PWUsdC5nZXRDb250ZXh0KFwid2ViZ2xcIixpKXx8dC5nZXRDb250ZXh0KFwiZXhwZXJpbWVudGFsLXdlYmdsXCIsaSl9KGUpO2lmKCFpKXJldHVybiAhMTt0cnl7dD1pLmNyZWF0ZVNoYWRlcihpLlZFUlRFWF9TSEFERVIpO31jYXRjaChlKXtyZXR1cm4gITF9cmV0dXJuICEoIXR8fGkuaXNDb250ZXh0TG9zdCgpKSYmKGkuc2hhZGVyU291cmNlKHQsXCJ2b2lkIG1haW4oKSB7fVwiKSxpLmNvbXBpbGVTaGFkZXIodCksITA9PT1pLmdldFNoYWRlclBhcmFtZXRlcih0LGkuQ09NUElMRV9TVEFUVVMpKX0odCkpLHJbdF0/ZG9jdW1lbnQuZG9jdW1lbnRNb2RlP1wiaW5zdWZmaWNpZW50IEVDTUFTY3JpcHQgNiBzdXBwb3J0XCI6dm9pZCAwOlwiaW5zdWZmaWNpZW50IFdlYkdMIHN1cHBvcnRcIik6XCJpbnN1ZmZpY2llbnQgQ2FudmFzL2dldEltYWdlRGF0YSBzdXBwb3J0XCI6XCJpbnN1ZmZpY2llbnQgQXJyYXlCdWZmZXIgc3VwcG9ydFwiOlwiaW5zdWZmaWNpZW50IFVpbnQ4Q2xhbXBlZEFycmF5IHN1cHBvcnRcIjpcImluc3VmZmljaWVudCB3b3JrZXIgc3VwcG9ydFwiOlwiaW5zdWZmaWNpZW50IEpTT04gc3VwcG9ydFwiOlwiaW5zdWZmaWNpZW50IE9iamVjdCBzdXBwb3J0XCI6XCJpbnN1ZmZpY2llbnQgRnVuY3Rpb24gc3VwcG9ydFwiOlwiaW5zdWZmaWNlbnQgQXJyYXkgc3VwcG9ydFwiO3ZhciB0O30oZSl9dmFyIHI9e307ZnVuY3Rpb24gbih0LGksbyl7Y29uc3Qgcj1lLndpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KHQpO3JldHVybiB2b2lkIDAhPT1pJiYoci5jbGFzc05hbWU9aSksbyYmby5hcHBlbmRDaGlsZChyKSxyfWZ1bmN0aW9uIGEodCxpLG8pe2NvbnN0IHI9ZS53aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIix0KTtmb3IoY29uc3QgZSBvZiBPYmplY3Qua2V5cyhpKSlyLnNldEF0dHJpYnV0ZU5TKG51bGwsZSxpW2VdKTtyZXR1cm4gbyYmby5hcHBlbmRDaGlsZChyKSxyfW8ud2ViR0xDb250ZXh0QXR0cmlidXRlcz17YW50aWFsaWFzOiExLGFscGhhOiEwLHN0ZW5jaWw6ITAsZGVwdGg6ITB9O2NvbnN0IHM9ZS53aW5kb3cuZG9jdW1lbnQmJmUud2luZG93LmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZSxsPXMmJnZvaWQgMCE9PXMudXNlclNlbGVjdD9cInVzZXJTZWxlY3RcIjpcIldlYmtpdFVzZXJTZWxlY3RcIjtsZXQgYztmdW5jdGlvbiBoKCl7cyYmbCYmKGM9c1tsXSxzW2xdPVwibm9uZVwiKTt9ZnVuY3Rpb24gdSgpe3MmJmwmJihzW2xdPWMpO31mdW5jdGlvbiBfKHQpe3QucHJldmVudERlZmF1bHQoKSx0LnN0b3BQcm9wYWdhdGlvbigpLGUud2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLF8sITApO31mdW5jdGlvbiBkKCl7ZS53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsXywhMCksZS53aW5kb3cuc2V0VGltZW91dCgoKCk9PntlLndpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIixfLCEwKTt9KSwwKTt9ZnVuY3Rpb24gcChlLHQpe2NvbnN0IGk9ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtyZXR1cm4gZyhlLGksdCl9ZnVuY3Rpb24gbShlLHQpe2NvbnN0IGk9ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxvPVtdO2ZvcihsZXQgcj0wO3I8dC5sZW5ndGg7cisrKW8ucHVzaChnKGUsaSx0W3JdKSk7cmV0dXJuIG99ZnVuY3Rpb24gZih0KXtyZXR1cm4gdm9pZCAwIT09ZS53aW5kb3cuSW5zdGFsbFRyaWdnZXImJjI9PT10LmJ1dHRvbiYmdC5jdHJsS2V5JiZlLndpbmRvdy5uYXZpZ2F0b3IucGxhdGZvcm0udG9VcHBlckNhc2UoKS5pbmRleE9mKFwiTUFDXCIpPj0wPzA6dC5idXR0b259ZnVuY3Rpb24gZyh0LGksbyl7Y29uc3Qgcj10Lm9mZnNldFdpZHRoPT09aS53aWR0aD8xOnQub2Zmc2V0V2lkdGgvaS53aWR0aDtyZXR1cm4gbmV3IGUucG9pbnRHZW9tZXRyeSgoby5jbGllbnRYLWkubGVmdCkqciwoby5jbGllbnRZLWkudG9wKSpyKX1mdW5jdGlvbiB2KGUsdCl7dmFyIGk9dFswXSxvPXRbMV0scj10WzJdLG49dFszXSxhPWkqbi1yKm87cmV0dXJuIGE/KGVbMF09biooYT0xL2EpLGVbMV09LW8qYSxlWzJdPS1yKmEsZVszXT1pKmEsZSk6bnVsbH1mdW5jdGlvbiB4KGUpe2NvbnN0e3VzZXJJbWFnZTp0fT1lO3JldHVybiAhISh0JiZ0LnJlbmRlciYmdC5yZW5kZXIoKSkmJihlLmRhdGEucmVwbGFjZShuZXcgVWludDhBcnJheSh0LmRhdGEuYnVmZmVyKSksITApfWNsYXNzIHkgZXh0ZW5kcyBlLkV2ZW50ZWR7Y29uc3RydWN0b3IoKXtzdXBlcigpLHRoaXMuaW1hZ2VzPXt9LHRoaXMudXBkYXRlZEltYWdlcz17fSx0aGlzLmNhbGxiYWNrRGlzcGF0Y2hlZFRoaXNGcmFtZT17fSx0aGlzLmxvYWRlZD0hMSx0aGlzLnJlcXVlc3RvcnM9W10sdGhpcy5wYXR0ZXJucz17fSx0aGlzLmF0bGFzSW1hZ2U9bmV3IGUuUkdCQUltYWdlKHt3aWR0aDoxLGhlaWdodDoxfSksdGhpcy5kaXJ0eT0hMDt9aXNMb2FkZWQoKXtyZXR1cm4gdGhpcy5sb2FkZWR9c2V0TG9hZGVkKGUpe2lmKHRoaXMubG9hZGVkIT09ZSYmKHRoaXMubG9hZGVkPWUsZSkpe2Zvcihjb25zdHtpZHM6ZSxjYWxsYmFjazp0fW9mIHRoaXMucmVxdWVzdG9ycyl0aGlzLl9ub3RpZnkoZSx0KTt0aGlzLnJlcXVlc3RvcnM9W107fX1oYXNJbWFnZShlKXtyZXR1cm4gISF0aGlzLmdldEltYWdlKGUpfWdldEltYWdlKGUpe3JldHVybiB0aGlzLmltYWdlc1tlXX1hZGRJbWFnZShlLHQpe3RoaXMuX3ZhbGlkYXRlKGUsdCkmJih0aGlzLmltYWdlc1tlXT10KTt9X3ZhbGlkYXRlKHQsaSl7bGV0IG89ITA7cmV0dXJuIHRoaXMuX3ZhbGlkYXRlU3RyZXRjaChpLnN0cmV0Y2hYLGkuZGF0YSYmaS5kYXRhLndpZHRoKXx8KHRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihgSW1hZ2UgXCIke3R9XCIgaGFzIGludmFsaWQgXCJzdHJldGNoWFwiIHZhbHVlYCkpKSxvPSExKSx0aGlzLl92YWxpZGF0ZVN0cmV0Y2goaS5zdHJldGNoWSxpLmRhdGEmJmkuZGF0YS5oZWlnaHQpfHwodGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IEVycm9yKGBJbWFnZSBcIiR7dH1cIiBoYXMgaW52YWxpZCBcInN0cmV0Y2hZXCIgdmFsdWVgKSkpLG89ITEpLHRoaXMuX3ZhbGlkYXRlQ29udGVudChpLmNvbnRlbnQsaSl8fCh0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoYEltYWdlIFwiJHt0fVwiIGhhcyBpbnZhbGlkIFwiY29udGVudFwiIHZhbHVlYCkpKSxvPSExKSxvfV92YWxpZGF0ZVN0cmV0Y2goZSx0KXtpZighZSlyZXR1cm4gITA7bGV0IGk9MDtmb3IoY29uc3QgbyBvZiBlKXtpZihvWzBdPGl8fG9bMV08b1swXXx8dDxvWzFdKXJldHVybiAhMTtpPW9bMV07fXJldHVybiAhMH1fdmFsaWRhdGVDb250ZW50KGUsdCl7cmV0dXJuICEoZSYmKDQhPT1lLmxlbmd0aHx8ZVswXTwwfHx0LmRhdGEud2lkdGg8ZVswXXx8ZVsxXTwwfHx0LmRhdGEuaGVpZ2h0PGVbMV18fGVbMl08MHx8dC5kYXRhLndpZHRoPGVbMl18fGVbM108MHx8dC5kYXRhLmhlaWdodDxlWzNdfHxlWzJdPGVbMF18fGVbM108ZVsxXSkpfXVwZGF0ZUltYWdlKGUsdCl7dC52ZXJzaW9uPXRoaXMuaW1hZ2VzW2VdLnZlcnNpb24rMSx0aGlzLmltYWdlc1tlXT10LHRoaXMudXBkYXRlZEltYWdlc1tlXT0hMDt9cmVtb3ZlSW1hZ2UoZSl7Y29uc3QgdD10aGlzLmltYWdlc1tlXTtkZWxldGUgdGhpcy5pbWFnZXNbZV0sZGVsZXRlIHRoaXMucGF0dGVybnNbZV0sdC51c2VySW1hZ2UmJnQudXNlckltYWdlLm9uUmVtb3ZlJiZ0LnVzZXJJbWFnZS5vblJlbW92ZSgpO31saXN0SW1hZ2VzKCl7cmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuaW1hZ2VzKX1nZXRJbWFnZXMoZSx0KXtsZXQgaT0hMDtpZighdGhpcy5pc0xvYWRlZCgpKWZvcihjb25zdCB0IG9mIGUpdGhpcy5pbWFnZXNbdF18fChpPSExKTt0aGlzLmlzTG9hZGVkKCl8fGk/dGhpcy5fbm90aWZ5KGUsdCk6dGhpcy5yZXF1ZXN0b3JzLnB1c2goe2lkczplLGNhbGxiYWNrOnR9KTt9X25vdGlmeSh0LGkpe2NvbnN0IG89e307Zm9yKGNvbnN0IGkgb2YgdCl7dGhpcy5pbWFnZXNbaV18fHRoaXMuZmlyZShuZXcgZS5FdmVudChcInN0eWxlaW1hZ2VtaXNzaW5nXCIse2lkOml9KSk7Y29uc3QgdD10aGlzLmltYWdlc1tpXTt0P29baV09e2RhdGE6dC5kYXRhLmNsb25lKCkscGl4ZWxSYXRpbzp0LnBpeGVsUmF0aW8sc2RmOnQuc2RmLHZlcnNpb246dC52ZXJzaW9uLHN0cmV0Y2hYOnQuc3RyZXRjaFgsc3RyZXRjaFk6dC5zdHJldGNoWSxjb250ZW50OnQuY29udGVudCxoYXNSZW5kZXJDYWxsYmFjazpCb29sZWFuKHQudXNlckltYWdlJiZ0LnVzZXJJbWFnZS5yZW5kZXIpfTplLndhcm5PbmNlKGBJbWFnZSBcIiR7aX1cIiBjb3VsZCBub3QgYmUgbG9hZGVkLiBQbGVhc2UgbWFrZSBzdXJlIHlvdSBoYXZlIGFkZGVkIHRoZSBpbWFnZSB3aXRoIG1hcC5hZGRJbWFnZSgpIG9yIGEgXCJzcHJpdGVcIiBwcm9wZXJ0eSBpbiB5b3VyIHN0eWxlLiBZb3UgY2FuIHByb3ZpZGUgbWlzc2luZyBpbWFnZXMgYnkgbGlzdGVuaW5nIGZvciB0aGUgXCJzdHlsZWltYWdlbWlzc2luZ1wiIG1hcCBldmVudC5gKTt9aShudWxsLG8pO31nZXRQaXhlbFNpemUoKXtjb25zdHt3aWR0aDplLGhlaWdodDp0fT10aGlzLmF0bGFzSW1hZ2U7cmV0dXJuIHt3aWR0aDplLGhlaWdodDp0fX1nZXRQYXR0ZXJuKHQpe2NvbnN0IGk9dGhpcy5wYXR0ZXJuc1t0XSxvPXRoaXMuZ2V0SW1hZ2UodCk7aWYoIW8pcmV0dXJuIG51bGw7aWYoaSYmaS5wb3NpdGlvbi52ZXJzaW9uPT09by52ZXJzaW9uKXJldHVybiBpLnBvc2l0aW9uO2lmKGkpaS5wb3NpdGlvbi52ZXJzaW9uPW8udmVyc2lvbjtlbHNlIHtjb25zdCBpPXt3Om8uZGF0YS53aWR0aCsyLGg6by5kYXRhLmhlaWdodCsyLHg6MCx5OjB9LHI9bmV3IGUuSW1hZ2VQb3NpdGlvbihpLG8pO3RoaXMucGF0dGVybnNbdF09e2JpbjppLHBvc2l0aW9uOnJ9O31yZXR1cm4gdGhpcy5fdXBkYXRlUGF0dGVybkF0bGFzKCksdGhpcy5wYXR0ZXJuc1t0XS5wb3NpdGlvbn1iaW5kKHQpe2NvbnN0IGk9dC5nbDt0aGlzLmF0bGFzVGV4dHVyZT90aGlzLmRpcnR5JiYodGhpcy5hdGxhc1RleHR1cmUudXBkYXRlKHRoaXMuYXRsYXNJbWFnZSksdGhpcy5kaXJ0eT0hMSk6dGhpcy5hdGxhc1RleHR1cmU9bmV3IGUuVGV4dHVyZSh0LHRoaXMuYXRsYXNJbWFnZSxpLlJHQkEpLHRoaXMuYXRsYXNUZXh0dXJlLmJpbmQoaS5MSU5FQVIsaS5DTEFNUF9UT19FREdFKTt9X3VwZGF0ZVBhdHRlcm5BdGxhcygpe2NvbnN0IHQ9W107Zm9yKGNvbnN0IGUgaW4gdGhpcy5wYXR0ZXJucyl0LnB1c2godGhpcy5wYXR0ZXJuc1tlXS5iaW4pO2NvbnN0e3c6aSxoOm99PWUucG90cGFjayh0KSxyPXRoaXMuYXRsYXNJbWFnZTtyLnJlc2l6ZSh7d2lkdGg6aXx8MSxoZWlnaHQ6b3x8MX0pO2Zvcihjb25zdCB0IGluIHRoaXMucGF0dGVybnMpe2NvbnN0e2JpbjppfT10aGlzLnBhdHRlcm5zW3RdLG89aS54KzEsbj1pLnkrMSxhPXRoaXMuaW1hZ2VzW3RdLmRhdGEscz1hLndpZHRoLGw9YS5oZWlnaHQ7ZS5SR0JBSW1hZ2UuY29weShhLHIse3g6MCx5OjB9LHt4Om8seTpufSx7d2lkdGg6cyxoZWlnaHQ6bH0pLGUuUkdCQUltYWdlLmNvcHkoYSxyLHt4OjAseTpsLTF9LHt4Om8seTpuLTF9LHt3aWR0aDpzLGhlaWdodDoxfSksZS5SR0JBSW1hZ2UuY29weShhLHIse3g6MCx5OjB9LHt4Om8seTpuK2x9LHt3aWR0aDpzLGhlaWdodDoxfSksZS5SR0JBSW1hZ2UuY29weShhLHIse3g6cy0xLHk6MH0se3g6by0xLHk6bn0se3dpZHRoOjEsaGVpZ2h0Omx9KSxlLlJHQkFJbWFnZS5jb3B5KGEscix7eDowLHk6MH0se3g6bytzLHk6bn0se3dpZHRoOjEsaGVpZ2h0Omx9KTt9dGhpcy5kaXJ0eT0hMDt9YmVnaW5GcmFtZSgpe3RoaXMuY2FsbGJhY2tEaXNwYXRjaGVkVGhpc0ZyYW1lPXt9O31kaXNwYXRjaFJlbmRlckNhbGxiYWNrcyhlKXtmb3IoY29uc3QgdCBvZiBlKXtpZih0aGlzLmNhbGxiYWNrRGlzcGF0Y2hlZFRoaXNGcmFtZVt0XSljb250aW51ZTt0aGlzLmNhbGxiYWNrRGlzcGF0Y2hlZFRoaXNGcmFtZVt0XT0hMDtjb25zdCBlPXRoaXMuaW1hZ2VzW3RdO3goZSkmJnRoaXMudXBkYXRlSW1hZ2UodCxlKTt9fX1jb25zdCBiPW5ldyBlLlByb3BlcnRpZXMoe2FuY2hvcjpuZXcgZS5EYXRhQ29uc3RhbnRQcm9wZXJ0eShlLnNwZWMubGlnaHQuYW5jaG9yKSxwb3NpdGlvbjpuZXcgY2xhc3N7Y29uc3RydWN0b3IoKXt0aGlzLnNwZWNpZmljYXRpb249ZS5zcGVjLmxpZ2h0LnBvc2l0aW9uO31wb3NzaWJseUV2YWx1YXRlKHQsaSl7cmV0dXJuIGZ1bmN0aW9uKFt0LGksb10pe2NvbnN0IHI9ZS5kZWdUb1JhZChpKzkwKSxuPWUuZGVnVG9SYWQobyk7cmV0dXJuIHt4OnQqTWF0aC5jb3MocikqTWF0aC5zaW4obikseTp0Kk1hdGguc2luKHIpKk1hdGguc2luKG4pLHo6dCpNYXRoLmNvcyhuKSxhemltdXRoYWw6aSxwb2xhcjpvfX0odC5leHByZXNzaW9uLmV2YWx1YXRlKGkpKX1pbnRlcnBvbGF0ZSh0LGksbyl7cmV0dXJuIHt4OmUubnVtYmVyKHQueCxpLngsbykseTplLm51bWJlcih0LnksaS55LG8pLHo6ZS5udW1iZXIodC56LGkueixvKSxhemltdXRoYWw6ZS5udW1iZXIodC5hemltdXRoYWwsaS5hemltdXRoYWwsbykscG9sYXI6ZS5udW1iZXIodC5wb2xhcixpLnBvbGFyLG8pfX19LGNvbG9yOm5ldyBlLkRhdGFDb25zdGFudFByb3BlcnR5KGUuc3BlYy5saWdodC5jb2xvciksaW50ZW5zaXR5Om5ldyBlLkRhdGFDb25zdGFudFByb3BlcnR5KGUuc3BlYy5saWdodC5pbnRlbnNpdHkpfSksdz1cIi10cmFuc2l0aW9uXCI7Y2xhc3MgVCBleHRlbmRzIGUuRXZlbnRlZHtjb25zdHJ1Y3Rvcih0KXtzdXBlcigpLHRoaXMuX3RyYW5zaXRpb25hYmxlPW5ldyBlLlRyYW5zaXRpb25hYmxlKGIpLHRoaXMuc2V0TGlnaHQodCksdGhpcy5fdHJhbnNpdGlvbmluZz10aGlzLl90cmFuc2l0aW9uYWJsZS51bnRyYW5zaXRpb25lZCgpO31nZXRMaWdodCgpe3JldHVybiB0aGlzLl90cmFuc2l0aW9uYWJsZS5zZXJpYWxpemUoKX1zZXRMaWdodCh0LGk9e30pe2lmKCF0aGlzLl92YWxpZGF0ZShlLnZhbGlkYXRlTGlnaHQsdCxpKSlmb3IoY29uc3QgaSBpbiB0KXtjb25zdCBvPXRbaV07ZS5lbmRzV2l0aChpLHcpP3RoaXMuX3RyYW5zaXRpb25hYmxlLnNldFRyYW5zaXRpb24oaS5zbGljZSgwLC13Lmxlbmd0aCksbyk6dGhpcy5fdHJhbnNpdGlvbmFibGUuc2V0VmFsdWUoaSxvKTt9fXVwZGF0ZVRyYW5zaXRpb25zKGUpe3RoaXMuX3RyYW5zaXRpb25pbmc9dGhpcy5fdHJhbnNpdGlvbmFibGUudHJhbnNpdGlvbmVkKGUsdGhpcy5fdHJhbnNpdGlvbmluZyk7fWhhc1RyYW5zaXRpb24oKXtyZXR1cm4gdGhpcy5fdHJhbnNpdGlvbmluZy5oYXNUcmFuc2l0aW9uKCl9cmVjYWxjdWxhdGUoZSl7dGhpcy5wcm9wZXJ0aWVzPXRoaXMuX3RyYW5zaXRpb25pbmcucG9zc2libHlFdmFsdWF0ZShlKTt9X3ZhbGlkYXRlKHQsaSxvKXtyZXR1cm4gKCFvfHwhMSE9PW8udmFsaWRhdGUpJiZlLmVtaXRWYWxpZGF0aW9uRXJyb3JzKHRoaXMsdC5jYWxsKGUudmFsaWRhdGVTdHlsZSxlLmV4dGVuZCh7dmFsdWU6aSxzdHlsZTp7Z2x5cGhzOiEwLHNwcml0ZTohMH0sc3R5bGVTcGVjOmUuc3BlY30pKSl9fWNvbnN0IEU9bmV3IGUuUHJvcGVydGllcyh7c291cmNlOm5ldyBlLkRhdGFDb25zdGFudFByb3BlcnR5KGUuc3BlYy50ZXJyYWluLnNvdXJjZSksZXhhZ2dlcmF0aW9uOm5ldyBlLkRhdGFDb25zdGFudFByb3BlcnR5KGUuc3BlYy50ZXJyYWluLmV4YWdnZXJhdGlvbil9KSxDPVwiLXRyYW5zaXRpb25cIjtjbGFzcyBJIGV4dGVuZHMgZS5FdmVudGVke2NvbnN0cnVjdG9yKHQsaSl7c3VwZXIoKSx0aGlzLl90cmFuc2l0aW9uYWJsZT1uZXcgZS5UcmFuc2l0aW9uYWJsZShFKSx0aGlzLnNldCh0KSx0aGlzLl90cmFuc2l0aW9uaW5nPXRoaXMuX3RyYW5zaXRpb25hYmxlLnVudHJhbnNpdGlvbmVkKCksdGhpcy5kcmFwZVJlbmRlck1vZGU9aTt9Z2V0KCl7cmV0dXJuIHRoaXMuX3RyYW5zaXRpb25hYmxlLnNlcmlhbGl6ZSgpfXNldCh0KXtmb3IoY29uc3QgaSBpbiB0KXtjb25zdCBvPXRbaV07ZS5lbmRzV2l0aChpLEMpP3RoaXMuX3RyYW5zaXRpb25hYmxlLnNldFRyYW5zaXRpb24oaS5zbGljZSgwLC1DLmxlbmd0aCksbyk6dGhpcy5fdHJhbnNpdGlvbmFibGUuc2V0VmFsdWUoaSxvKTt9fXVwZGF0ZVRyYW5zaXRpb25zKGUpe3RoaXMuX3RyYW5zaXRpb25pbmc9dGhpcy5fdHJhbnNpdGlvbmFibGUudHJhbnNpdGlvbmVkKGUsdGhpcy5fdHJhbnNpdGlvbmluZyk7fWhhc1RyYW5zaXRpb24oKXtyZXR1cm4gdGhpcy5fdHJhbnNpdGlvbmluZy5oYXNUcmFuc2l0aW9uKCl9cmVjYWxjdWxhdGUoZSl7dGhpcy5wcm9wZXJ0aWVzPXRoaXMuX3RyYW5zaXRpb25pbmcucG9zc2libHlFdmFsdWF0ZShlKTt9fWZ1bmN0aW9uIE0odCxpLG8scil7Y29uc3Qgbj1lLnNtb290aHN0ZXAoNDUsNjUsbyksW2Esc109Uyh0LHIpLGw9ZS5sZW5ndGgoaSk7bGV0IGM9MS1NYXRoLm1pbigxLE1hdGguZXhwKChsLWEpLyhzLWEpKi02KSk7cmV0dXJuIGMqPWMqYyxjPU1hdGgubWluKDEsMS4wMDc0NypjKSxjKm4qdC5hbHBoYX1mdW5jdGlvbiBTKGUsdCl7Y29uc3QgaT0uNS9NYXRoLnRhbiguNSp0KTtyZXR1cm4gW2UucmFuZ2VbMF0raSxlLnJhbmdlWzFdK2ldfWNvbnN0IHo9bmV3IGUuUHJvcGVydGllcyh7cmFuZ2U6bmV3IGUuRGF0YUNvbnN0YW50UHJvcGVydHkoZS5zcGVjLmZvZy5yYW5nZSksY29sb3I6bmV3IGUuRGF0YUNvbnN0YW50UHJvcGVydHkoZS5zcGVjLmZvZy5jb2xvciksXCJoaWdoLWNvbG9yXCI6bmV3IGUuRGF0YUNvbnN0YW50UHJvcGVydHkoZS5zcGVjLmZvZ1tcImhpZ2gtY29sb3JcIl0pLFwic3BhY2UtY29sb3JcIjpuZXcgZS5EYXRhQ29uc3RhbnRQcm9wZXJ0eShlLnNwZWMuZm9nW1wic3BhY2UtY29sb3JcIl0pLFwiaG9yaXpvbi1ibGVuZFwiOm5ldyBlLkRhdGFDb25zdGFudFByb3BlcnR5KGUuc3BlYy5mb2dbXCJob3Jpem9uLWJsZW5kXCJdKSxcInN0YXItaW50ZW5zaXR5XCI6bmV3IGUuRGF0YUNvbnN0YW50UHJvcGVydHkoZS5zcGVjLmZvZ1tcInN0YXItaW50ZW5zaXR5XCJdKX0pLEQ9XCItdHJhbnNpdGlvblwiO2NsYXNzIFAgZXh0ZW5kcyBlLkV2ZW50ZWR7Y29uc3RydWN0b3IodCxpKXtzdXBlcigpLHRoaXMuX3RyYW5zaXRpb25hYmxlPW5ldyBlLlRyYW5zaXRpb25hYmxlKHopLHRoaXMuc2V0KHQpLHRoaXMuX3RyYW5zaXRpb25pbmc9dGhpcy5fdHJhbnNpdGlvbmFibGUudW50cmFuc2l0aW9uZWQoKSx0aGlzLl90cmFuc2Zvcm09aTt9Z2V0IHN0YXRlKCl7Y29uc3QgdD10aGlzLl90cmFuc2Zvcm0saT1cImdsb2JlXCI9PT10LnByb2plY3Rpb24ubmFtZSxvPWUuZ2xvYmVUb01lcmNhdG9yVHJhbnNpdGlvbih0Lnpvb20pLHI9dGhpcy5wcm9wZXJ0aWVzLmdldChcInJhbmdlXCIpLG49Wy41LDNdO3JldHVybiB7cmFuZ2U6aT9bZS5udW1iZXIoblswXSxyWzBdLG8pLGUubnVtYmVyKG5bMV0sclsxXSxvKV06cixob3Jpem9uQmxlbmQ6dGhpcy5wcm9wZXJ0aWVzLmdldChcImhvcml6b24tYmxlbmRcIiksYWxwaGE6dGhpcy5wcm9wZXJ0aWVzLmdldChcImNvbG9yXCIpLmF9fWdldCgpe3JldHVybiB0aGlzLl90cmFuc2l0aW9uYWJsZS5zZXJpYWxpemUoKX1zZXQodCxpPXt9KXtpZighdGhpcy5fdmFsaWRhdGUoZS52YWxpZGF0ZUZvZyx0LGkpKXtmb3IoY29uc3QgaSBvZiBPYmplY3Qua2V5cyhlLnNwZWMuZm9nKSl0JiZ2b2lkIDA9PT10W2ldJiYodFtpXT1lLnNwZWMuZm9nW2ldLmRlZmF1bHQpO2Zvcihjb25zdCBpIGluIHQpe2NvbnN0IG89dFtpXTtlLmVuZHNXaXRoKGksRCk/dGhpcy5fdHJhbnNpdGlvbmFibGUuc2V0VHJhbnNpdGlvbihpLnNsaWNlKDAsLUQubGVuZ3RoKSxvKTp0aGlzLl90cmFuc2l0aW9uYWJsZS5zZXRWYWx1ZShpLG8pO319fWdldE9wYWNpdHkodCl7aWYoIXRoaXMuX3RyYW5zZm9ybS5wcm9qZWN0aW9uLnN1cHBvcnRzRm9nKXJldHVybiAwO2NvbnN0IGk9dGhpcy5wcm9wZXJ0aWVzJiZ0aGlzLnByb3BlcnRpZXMuZ2V0KFwiY29sb3JcIil8fDE7cmV0dXJuIChcImdsb2JlXCI9PT10aGlzLl90cmFuc2Zvcm0ucHJvamVjdGlvbi5uYW1lPzE6ZS5zbW9vdGhzdGVwKDQ1LDY1LHQpKSppLmF9Z2V0T3BhY2l0eUF0TGF0TG5nKHQsaSl7cmV0dXJuIHRoaXMuX3RyYW5zZm9ybS5wcm9qZWN0aW9uLnN1cHBvcnRzRm9nP2Z1bmN0aW9uKHQsaSxvKXtjb25zdCByPWUuTWVyY2F0b3JDb29yZGluYXRlLmZyb21MbmdMYXQoaSksbj1vLmVsZXZhdGlvbj9vLmVsZXZhdGlvbi5nZXRBdFBvaW50T3JaZXJvKHIpOjAsYT1bci54LHIueSxuXTtyZXR1cm4gZS50cmFuc2Zvcm1NYXQ0KGEsYSxvLm1lcmNhdG9yRm9nTWF0cml4KSxNKHQsYSxvLnBpdGNoLG8uX2Zvdil9KHRoaXMuc3RhdGUsdCxpKTowfWdldEZvdkFkanVzdGVkUmFuZ2UoZSl7cmV0dXJuIHRoaXMuX3RyYW5zZm9ybS5wcm9qZWN0aW9uLnN1cHBvcnRzRm9nP1ModGhpcy5zdGF0ZSxlKTpbMCwxXX11cGRhdGVUcmFuc2l0aW9ucyhlKXt0aGlzLl90cmFuc2l0aW9uaW5nPXRoaXMuX3RyYW5zaXRpb25hYmxlLnRyYW5zaXRpb25lZChlLHRoaXMuX3RyYW5zaXRpb25pbmcpO31oYXNUcmFuc2l0aW9uKCl7cmV0dXJuIHRoaXMuX3RyYW5zaXRpb25pbmcuaGFzVHJhbnNpdGlvbigpfXJlY2FsY3VsYXRlKGUpe3RoaXMucHJvcGVydGllcz10aGlzLl90cmFuc2l0aW9uaW5nLnBvc3NpYmx5RXZhbHVhdGUoZSk7fV92YWxpZGF0ZSh0LGksbyl7cmV0dXJuICghb3x8ITEhPT1vLnZhbGlkYXRlKSYmZS5lbWl0VmFsaWRhdGlvbkVycm9ycyh0aGlzLHQuY2FsbChlLnZhbGlkYXRlU3R5bGUsZS5leHRlbmQoe3ZhbHVlOmksc3R5bGU6e2dseXBoczohMCxzcHJpdGU6ITB9LHN0eWxlU3BlYzplLnNwZWN9KSkpfX1jbGFzcyBBe2NvbnN0cnVjdG9yKHQsaSl7dGhpcy53b3JrZXJQb29sPXQsdGhpcy5hY3RvcnM9W10sdGhpcy5jdXJyZW50QWN0b3I9MCx0aGlzLmlkPWUudW5pcXVlSWQoKTtjb25zdCBvPXRoaXMud29ya2VyUG9vbC5hY3F1aXJlKHRoaXMuaWQpO2ZvcihsZXQgZT0wO2U8by5sZW5ndGg7ZSsrKXtjb25zdCB0PW5ldyBBLkFjdG9yKG9bZV0saSx0aGlzLmlkKTt0Lm5hbWU9YFdvcmtlciAke2V9YCx0aGlzLmFjdG9ycy5wdXNoKHQpO310aGlzLnJlYWR5PSExLHRoaXMuYnJvYWRjYXN0KFwiY2hlY2tJZlJlYWR5XCIsbnVsbCwoKCk9Pnt0aGlzLnJlYWR5PSEwO30pKTt9YnJvYWRjYXN0KHQsaSxvKXtlLmFzeW5jQWxsKHRoaXMuYWN0b3JzLCgoZSxvKT0+e2Uuc2VuZCh0LGksbyk7fSksbz1vfHxmdW5jdGlvbigpe30pO31nZXRBY3Rvcigpe3JldHVybiB0aGlzLmN1cnJlbnRBY3Rvcj0odGhpcy5jdXJyZW50QWN0b3IrMSkldGhpcy5hY3RvcnMubGVuZ3RoLHRoaXMuYWN0b3JzW3RoaXMuY3VycmVudEFjdG9yXX1yZW1vdmUoKXt0aGlzLmFjdG9ycy5mb3JFYWNoKChlPT57ZS5yZW1vdmUoKTt9KSksdGhpcy5hY3RvcnM9W10sdGhpcy53b3JrZXJQb29sLnJlbGVhc2UodGhpcy5pZCk7fX1mdW5jdGlvbiBMKHQsaSxvKXtyZXR1cm4gaSooZS5FWFRFTlQvKHQudGlsZVNpemUqTWF0aC5wb3coMixvLXQudGlsZUlELm92ZXJzY2FsZWRaKSkpfUEuQWN0b3I9ZS5BY3RvcjtjbGFzcyBSe2NvbnN0cnVjdG9yKGUsdCxpLG8pe3RoaXMuc2NyZWVuQm91bmRzPWUsdGhpcy5jYW1lcmFQb2ludD10LHRoaXMuX3NjcmVlblJheWNhc3RDYWNoZT17fSx0aGlzLl9jYW1lcmFSYXljYXN0Q2FjaGU9e30sdGhpcy5pc0Fib3ZlSG9yaXpvbj1pLHRoaXMuc2NyZWVuR2VvbWV0cnk9dGhpcy5idWZmZXJlZFNjcmVlbkdlb21ldHJ5KDApLHRoaXMuc2NyZWVuR2VvbWV0cnlNZXJjYXRvcj10aGlzLl9idWZmZXJlZFNjcmVlbk1lcmNhdG9yKDAsbyk7fXN0YXRpYyBjcmVhdGVGcm9tU2NyZWVuUG9pbnRzKHQsaSl7bGV0IG8scjtpZih0IGluc3RhbmNlb2YgZS5wb2ludEdlb21ldHJ5fHxcIm51bWJlclwiPT10eXBlb2YgdFswXSl7Y29uc3Qgbj1lLnBvaW50R2VvbWV0cnkuY29udmVydCh0KTtvPVtlLnBvaW50R2VvbWV0cnkuY29udmVydCh0KV0scj1pLmlzUG9pbnRBYm92ZUhvcml6b24obik7fWVsc2Uge2NvbnN0IG49ZS5wb2ludEdlb21ldHJ5LmNvbnZlcnQodFswXSksYT1lLnBvaW50R2VvbWV0cnkuY29udmVydCh0WzFdKTtvPVtuLGFdLHI9ZS5wb2x5Z29uaXplQm91bmRzKG4sYSkuZXZlcnkoKGU9PmkuaXNQb2ludEFib3ZlSG9yaXpvbihlKSkpO31yZXR1cm4gbmV3IFIobyxpLmdldENhbWVyYVBvaW50KCkscixpKX1pc1BvaW50UXVlcnkoKXtyZXR1cm4gMT09PXRoaXMuc2NyZWVuQm91bmRzLmxlbmd0aH1idWZmZXJlZFNjcmVlbkdlb21ldHJ5KHQpe3JldHVybiBlLnBvbHlnb25pemVCb3VuZHModGhpcy5zY3JlZW5Cb3VuZHNbMF0sMT09PXRoaXMuc2NyZWVuQm91bmRzLmxlbmd0aD90aGlzLnNjcmVlbkJvdW5kc1swXTp0aGlzLnNjcmVlbkJvdW5kc1sxXSx0KX1idWZmZXJlZENhbWVyYUdlb21ldHJ5KHQpe2NvbnN0IGk9dGhpcy5zY3JlZW5Cb3VuZHNbMF0sbz0xPT09dGhpcy5zY3JlZW5Cb3VuZHMubGVuZ3RoP3RoaXMuc2NyZWVuQm91bmRzWzBdLmFkZChuZXcgZS5wb2ludEdlb21ldHJ5KDEsMSkpOnRoaXMuc2NyZWVuQm91bmRzWzFdLHI9ZS5wb2x5Z29uaXplQm91bmRzKGksbywwLCExKTtyZXR1cm4gdGhpcy5jYW1lcmFQb2ludC55Pm8ueSYmKHRoaXMuY2FtZXJhUG9pbnQueD5pLngmJnRoaXMuY2FtZXJhUG9pbnQueDxvLng/ci5zcGxpY2UoMywwLHRoaXMuY2FtZXJhUG9pbnQpOnRoaXMuY2FtZXJhUG9pbnQueD49by54P3JbMl09dGhpcy5jYW1lcmFQb2ludDp0aGlzLmNhbWVyYVBvaW50Lng8PWkueCYmKHJbM109dGhpcy5jYW1lcmFQb2ludCkpLGUuYnVmZmVyQ29udmV4UG9seWdvbihyLHQpfWJ1ZmZlcmVkQ2FtZXJhR2VvbWV0cnlHbG9iZSh0KXtjb25zdCBpPXRoaXMuc2NyZWVuQm91bmRzWzBdLG89MT09PXRoaXMuc2NyZWVuQm91bmRzLmxlbmd0aD90aGlzLnNjcmVlbkJvdW5kc1swXS5hZGQobmV3IGUucG9pbnRHZW9tZXRyeSgxLDEpKTp0aGlzLnNjcmVlbkJvdW5kc1sxXSxyPWUucG9seWdvbml6ZUJvdW5kcyhpLG8sdCksbj10aGlzLmNhbWVyYVBvaW50LmNsb25lKCk7c3dpdGNoKDMqKChuLnk+aS55KSsobi55Pm8ueSkpKygobi54PmkueCkrKG4ueD5vLngpKSl7Y2FzZSAwOnJbMF09bixyWzRdPW4uY2xvbmUoKTticmVhaztjYXNlIDE6ci5zcGxpY2UoMSwwLG4pO2JyZWFrO2Nhc2UgMjpyWzFdPW47YnJlYWs7Y2FzZSAzOnIuc3BsaWNlKDQsMCxuKTticmVhaztjYXNlIDU6ci5zcGxpY2UoMiwwLG4pO2JyZWFrO2Nhc2UgNjpyWzNdPW47YnJlYWs7Y2FzZSA3OnIuc3BsaWNlKDMsMCxuKTticmVhaztjYXNlIDg6clsyXT1uO31yZXR1cm4gcn1jb250YWluc1RpbGUodCxpLG8scj0wKXtjb25zdCBuPXQucXVlcnlQYWRkaW5nL2kuX3BpeGVsc1Blck1lcmNhdG9yUGl4ZWwrMSxhPW8/dGhpcy5fYnVmZmVyZWRDYW1lcmFNZXJjYXRvcihuLGkpOnRoaXMuX2J1ZmZlcmVkU2NyZWVuTWVyY2F0b3IobixpKTtsZXQgcz10LnRpbGVJRC53cmFwKyhhLnVud3JhcHBlZD9yOjApO2NvbnN0IGw9YS5wb2x5Z29uLm1hcCgoaT0+ZS5nZXRUaWxlUG9pbnQodC50aWxlVHJhbnNmb3JtLGkscykpKTtpZighZS5wb2x5Z29uSW50ZXJzZWN0c0JveChsLDAsMCxlLkVYVEVOVCxlLkVYVEVOVCkpcmV0dXJuO3M9dC50aWxlSUQud3JhcCsodGhpcy5zY3JlZW5HZW9tZXRyeU1lcmNhdG9yLnVud3JhcHBlZD9yOjApO2NvbnN0IGM9dGhpcy5zY3JlZW5HZW9tZXRyeU1lcmNhdG9yLnBvbHlnb24ubWFwKChpPT5lLmdldFRpbGVWZWMzKHQudGlsZVRyYW5zZm9ybSxpLHMpKSksaD1jLm1hcCgodD0+bmV3IGUucG9pbnRHZW9tZXRyeSh0WzBdLHRbMV0pKSksdT1pLmdldEZyZWVDYW1lcmFPcHRpb25zKCkucG9zaXRpb258fG5ldyBlLk1lcmNhdG9yQ29vcmRpbmF0ZSgwLDAsMCksXz1lLmdldFRpbGVWZWMzKHQudGlsZVRyYW5zZm9ybSx1LHMpLGQ9Yy5tYXAoKHQ9Pntjb25zdCBpPWUuc3ViKHQsdCxfKTtyZXR1cm4gZS5ub3JtYWxpemUoaSxpKSxuZXcgZS5SYXkoXyxpKX0pKSxwPUwodCwxLGkuem9vbSkqaS5fcGl4ZWxzUGVyTWVyY2F0b3JQaXhlbDtyZXR1cm4ge3F1ZXJ5R2VvbWV0cnk6dGhpcyx0aWxlc3BhY2VHZW9tZXRyeTpoLHRpbGVzcGFjZVJheXM6ZCxidWZmZXJlZFRpbGVzcGFjZUdlb21ldHJ5OmwsYnVmZmVyZWRUaWxlc3BhY2VCb3VuZHM6KG09ZS5nZXRCb3VuZHMobCksbS5taW4ueD1lLmNsYW1wKG0ubWluLngsMCxlLkVYVEVOVCksbS5taW4ueT1lLmNsYW1wKG0ubWluLnksMCxlLkVYVEVOVCksbS5tYXgueD1lLmNsYW1wKG0ubWF4LngsMCxlLkVYVEVOVCksbS5tYXgueT1lLmNsYW1wKG0ubWF4LnksMCxlLkVYVEVOVCksbSksdGlsZTp0LHRpbGVJRDp0LnRpbGVJRCxwaXhlbFRvVGlsZVVuaXRzRmFjdG9yOnB9O3ZhciBtO31fYnVmZmVyZWRTY3JlZW5NZXJjYXRvcihlLHQpe2NvbnN0IGk9ayhlKTtpZih0aGlzLl9zY3JlZW5SYXljYXN0Q2FjaGVbaV0pcmV0dXJuIHRoaXMuX3NjcmVlblJheWNhc3RDYWNoZVtpXTt7bGV0IG87cmV0dXJuIG89XCJnbG9iZVwiPT09dC5wcm9qZWN0aW9uLm5hbWU/dGhpcy5fcHJvamVjdEFuZFJlc2FtcGxlKHRoaXMuYnVmZmVyZWRTY3JlZW5HZW9tZXRyeShlKSx0KTp7cG9seWdvbjp0aGlzLmJ1ZmZlcmVkU2NyZWVuR2VvbWV0cnkoZSkubWFwKChlPT50LnBvaW50Q29vcmRpbmF0ZTNEKGUpKSksdW53cmFwcGVkOiEwfSx0aGlzLl9zY3JlZW5SYXljYXN0Q2FjaGVbaV09byxvfX1fYnVmZmVyZWRDYW1lcmFNZXJjYXRvcihlLHQpe2NvbnN0IGk9ayhlKTtpZih0aGlzLl9jYW1lcmFSYXljYXN0Q2FjaGVbaV0pcmV0dXJuIHRoaXMuX2NhbWVyYVJheWNhc3RDYWNoZVtpXTt7bGV0IG87cmV0dXJuIG89XCJnbG9iZVwiPT09dC5wcm9qZWN0aW9uLm5hbWU/dGhpcy5fcHJvamVjdEFuZFJlc2FtcGxlKHRoaXMuYnVmZmVyZWRDYW1lcmFHZW9tZXRyeUdsb2JlKGUpLHQpOntwb2x5Z29uOnRoaXMuYnVmZmVyZWRDYW1lcmFHZW9tZXRyeShlKS5tYXAoKGU9PnQucG9pbnRDb29yZGluYXRlM0QoZSkpKSx1bndyYXBwZWQ6ITB9LHRoaXMuX2NhbWVyYVJheWNhc3RDYWNoZVtpXT1vLG99fV9wcm9qZWN0QW5kUmVzYW1wbGUodCxpKXtjb25zdCBvPWZ1bmN0aW9uKHQsaSl7Y29uc3Qgbz1lLm11bHRpcGx5KFtdLGkucGl4ZWxNYXRyaXgsaS5nbG9iZU1hdHJpeCkscj1bMCwtZS5HTE9CRV9SQURJVVMsMCwxXSxuPVswLGUuR0xPQkVfUkFESVVTLDAsMV0sYT1bMCwwLDAsMV07ZS50cmFuc2Zvcm1NYXQ0JDEocixyLG8pLGUudHJhbnNmb3JtTWF0NCQxKG4sbixvKSxlLnRyYW5zZm9ybU1hdDQkMShhLGEsbyk7Y29uc3Qgcz1uZXcgZS5wb2ludEdlb21ldHJ5KHJbMF0vclszXSxyWzFdL3JbM10pLGw9bmV3IGUucG9pbnRHZW9tZXRyeShuWzBdL25bM10sblsxXS9uWzNdKSxjPWUucG9seWdvbkNvbnRhaW5zUG9pbnQodCxzKSYmclszXTxhWzNdLGg9ZS5wb2x5Z29uQ29udGFpbnNQb2ludCh0LGwpJiZuWzNdPGFbM107aWYoIWMmJiFoKXJldHVybiBudWxsO2NvbnN0IHU9ZnVuY3Rpb24oZSx0LGkpe2ZvcihsZXQgbz0xO288ZS5sZW5ndGg7bysrKXtjb25zdCByPUIodC5wb2ludENvb3JkaW5hdGUzRChlW28tMV0pLngpLG49Qih0LnBvaW50Q29vcmRpbmF0ZTNEKGVbb10pLngpO2lmKGk8MCl7aWYocjxuKXJldHVybiB7aWR4Om8sdDotci8obi0xLXIpfX1lbHNlIGlmKG48cilyZXR1cm4ge2lkeDpvLHQ6KDEtcikvKG4rMS1yKX19cmV0dXJuIG51bGx9KHQsaSxjPy0xOjEpO2lmKCF1KXJldHVybiBudWxsO2NvbnN0e2lkeDpfLHQ6ZH09dTtsZXQgcD1fPjE/Tyh0LnNsaWNlKDAsXyksaSk6W10sbT1fPHQubGVuZ3RoP08odC5zbGljZShfKSxpKTpbXTtwPXAubWFwKCh0PT5uZXcgZS5wb2ludEdlb21ldHJ5KEIodC54KSx0LnkpKSksbT1tLm1hcCgodD0+bmV3IGUucG9pbnRHZW9tZXRyeShCKHQueCksdC55KSkpO2NvbnN0IGY9Wy4uLnBdOzA9PT1mLmxlbmd0aCYmZi5wdXNoKG1bbS5sZW5ndGgtMV0pO2NvbnN0IGc9ZS5udW1iZXIoZltmLmxlbmd0aC0xXS55LCgwPT09bS5sZW5ndGg/cFswXTptWzBdKS55LGQpO2xldCB2O3JldHVybiB2PWM/W25ldyBlLnBvaW50R2VvbWV0cnkoMCxnKSxuZXcgZS5wb2ludEdlb21ldHJ5KDAsMCksbmV3IGUucG9pbnRHZW9tZXRyeSgxLDApLG5ldyBlLnBvaW50R2VvbWV0cnkoMSxnKV06W25ldyBlLnBvaW50R2VvbWV0cnkoMSxnKSxuZXcgZS5wb2ludEdlb21ldHJ5KDEsMSksbmV3IGUucG9pbnRHZW9tZXRyeSgwLDEpLG5ldyBlLnBvaW50R2VvbWV0cnkoMCxnKV0sZi5wdXNoKC4uLnYpLDA9PT1tLmxlbmd0aD9mLnB1c2gocFswXSk6Zi5wdXNoKC4uLm0pLHtwb2x5Z29uOmYubWFwKCh0PT5uZXcgZS5NZXJjYXRvckNvb3JkaW5hdGUodC54LHQueSkpKSx1bndyYXBwZWQ6ITF9fSh0LGkpO2lmKG8pcmV0dXJuIG87Y29uc3Qgcj1mdW5jdGlvbih0LGkpe2xldCBvPSExLHI9LTEvMCxuPTA7Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aC0xO2UrKyl0W2VdLng+ciYmKHI9dFtlXS54LG49ZSk7Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aC0xO2UrKyl7Y29uc3QgaT0obitlKSUodC5sZW5ndGgtMSkscj10W2ldLGE9dFtpKzFdO01hdGguYWJzKHIueC1hLngpPi41JiYoci54PGEueD8oci54Kz0xLDA9PT1pJiYodFt0Lmxlbmd0aC0xXS54Kz0xKSk6KGEueCs9MSxpKzE9PT10Lmxlbmd0aC0xJiYodFswXS54Kz0xKSksbz0hMCk7fWNvbnN0IGE9ZS5tZXJjYXRvclhmcm9tTG5nKGkuY2VudGVyLmxuZyk7cmV0dXJuIG8mJmE8TWF0aC5hYnMoYS0xKSYmdC5mb3JFYWNoKChlPT57ZS54LT0xO30pKSx7cG9seWdvbjp0LHVud3JhcHBlZDpvfX0oTyh0LGkpLm1hcCgodD0+bmV3IGUucG9pbnRHZW9tZXRyeShCKHQueCksdC55KSkpLGkpO3JldHVybiB7cG9seWdvbjpyLnBvbHlnb24ubWFwKCh0PT5uZXcgZS5NZXJjYXRvckNvb3JkaW5hdGUodC54LHQueSkpKSx1bndyYXBwZWQ6ci51bndyYXBwZWR9fX1mdW5jdGlvbiBPKHQsaSl7cmV0dXJuIGUucmVzYW1wbGUodCwoZT0+e2NvbnN0IHQ9aS5wb2ludENvb3JkaW5hdGUzRChlKTtlLng9dC54LGUueT10Lnk7fSksMS8yNTYpfWZ1bmN0aW9uIEIoZSl7cmV0dXJuIGU8MD8xK2UlMTplJTF9ZnVuY3Rpb24gayhlKXtyZXR1cm4gMTAwKmV8MH1mdW5jdGlvbiBGKHQsaSxvLHIsbil7Y29uc3QgYT1mdW5jdGlvbihvLHIpe2lmKG8pcmV0dXJuIG4obyk7aWYocil7Y29uc3Qgbz1lLnBpY2soZS5leHRlbmQocix0KSxbXCJ0aWxlc1wiLFwibWluem9vbVwiLFwibWF4em9vbVwiLFwiYXR0cmlidXRpb25cIixcIm1hcGJveF9sb2dvXCIsXCJib3VuZHNcIixcInNjaGVtZVwiLFwidGlsZVNpemVcIixcImVuY29kaW5nXCJdKTtyLnZlY3Rvcl9sYXllcnMmJihvLnZlY3RvckxheWVycz1yLnZlY3Rvcl9sYXllcnMsby52ZWN0b3JMYXllcklkcz1vLnZlY3RvckxheWVycy5tYXAoKGU9PmUuaWQpKSksci5sYW5ndWFnZV9vcHRpb25zJiYoby5sYW5ndWFnZU9wdGlvbnM9ci5sYW5ndWFnZV9vcHRpb25zKSxyLmxhbmd1YWdlJiZyLmxhbmd1YWdlW3IuaWRdJiYoby5sYW5ndWFnZT1yLmxhbmd1YWdlW3IuaWRdKSxyLndvcmxkdmlld19vcHRpb25zJiYoby53b3JsZHZpZXdPcHRpb25zPXIud29ybGR2aWV3X29wdGlvbnMpLHIud29ybGR2aWV3P28ud29ybGR2aWV3PXIud29ybGR2aWV3W3IuaWRdOnIud29ybGR2aWV3X2RlZmF1bHQmJihvLndvcmxkdmlldz1yLndvcmxkdmlld19kZWZhdWx0KSxvLnRpbGVzPWkuY2Fub25pY2FsaXplVGlsZXNldChvLHQudXJsKSxuKG51bGwsbyk7fX07cmV0dXJuIHQudXJsP2UuZ2V0SlNPTihpLnRyYW5zZm9ybVJlcXVlc3QoaS5ub3JtYWxpemVTb3VyY2VVUkwodC51cmwsbnVsbCxvLHIpLGUuUmVzb3VyY2VUeXBlLlNvdXJjZSksYSk6ZS5leHBvcnRlZC5mcmFtZSgoKCk9PmEobnVsbCx0KSkpfWNsYXNzIFV7Y29uc3RydWN0b3IodCxpLG8pe3RoaXMuYm91bmRzPWUuTG5nTGF0Qm91bmRzLmNvbnZlcnQodGhpcy52YWxpZGF0ZUJvdW5kcyh0KSksdGhpcy5taW56b29tPWl8fDAsdGhpcy5tYXh6b29tPW98fDI0O312YWxpZGF0ZUJvdW5kcyhlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKSYmND09PWUubGVuZ3RoP1tNYXRoLm1heCgtMTgwLGVbMF0pLE1hdGgubWF4KC05MCxlWzFdKSxNYXRoLm1pbigxODAsZVsyXSksTWF0aC5taW4oOTAsZVszXSldOlstMTgwLC05MCwxODAsOTBdfWNvbnRhaW5zKHQpe2NvbnN0IGk9TWF0aC5wb3coMix0LnopLG89TWF0aC5mbG9vcihlLm1lcmNhdG9yWGZyb21MbmcodGhpcy5ib3VuZHMuZ2V0V2VzdCgpKSppKSxyPU1hdGguZmxvb3IoZS5tZXJjYXRvcllmcm9tTGF0KHRoaXMuYm91bmRzLmdldE5vcnRoKCkpKmkpLG49TWF0aC5jZWlsKGUubWVyY2F0b3JYZnJvbUxuZyh0aGlzLmJvdW5kcy5nZXRFYXN0KCkpKmkpLGE9TWF0aC5jZWlsKGUubWVyY2F0b3JZZnJvbUxhdCh0aGlzLmJvdW5kcy5nZXRTb3V0aCgpKSppKTtyZXR1cm4gdC54Pj1vJiZ0Lng8biYmdC55Pj1yJiZ0Lnk8YX19Y2xhc3MgTntjb25zdHJ1Y3RvcihlLHQsaSl7dGhpcy5jb250ZXh0PWU7Y29uc3Qgbz1lLmdsO3RoaXMuYnVmZmVyPW8uY3JlYXRlQnVmZmVyKCksdGhpcy5keW5hbWljRHJhdz1Cb29sZWFuKGkpLHRoaXMuY29udGV4dC51bmJpbmRWQU8oKSxlLmJpbmRFbGVtZW50QnVmZmVyLnNldCh0aGlzLmJ1ZmZlciksby5idWZmZXJEYXRhKG8uRUxFTUVOVF9BUlJBWV9CVUZGRVIsdC5hcnJheUJ1ZmZlcix0aGlzLmR5bmFtaWNEcmF3P28uRFlOQU1JQ19EUkFXOm8uU1RBVElDX0RSQVcpLHRoaXMuZHluYW1pY0RyYXd8fHQuZGVzdHJveSgpO31iaW5kKCl7dGhpcy5jb250ZXh0LmJpbmRFbGVtZW50QnVmZmVyLnNldCh0aGlzLmJ1ZmZlcik7fXVwZGF0ZURhdGEoZSl7Y29uc3QgdD10aGlzLmNvbnRleHQuZ2w7dGhpcy5jb250ZXh0LnVuYmluZFZBTygpLHRoaXMuYmluZCgpLHQuYnVmZmVyU3ViRGF0YSh0LkVMRU1FTlRfQVJSQVlfQlVGRkVSLDAsZS5hcnJheUJ1ZmZlcik7fWRlc3Ryb3koKXt0aGlzLmJ1ZmZlciYmKHRoaXMuY29udGV4dC5nbC5kZWxldGVCdWZmZXIodGhpcy5idWZmZXIpLGRlbGV0ZSB0aGlzLmJ1ZmZlcik7fX1jb25zdCBHPXtJbnQ4OlwiQllURVwiLFVpbnQ4OlwiVU5TSUdORURfQllURVwiLEludDE2OlwiU0hPUlRcIixVaW50MTY6XCJVTlNJR05FRF9TSE9SVFwiLEludDMyOlwiSU5UXCIsVWludDMyOlwiVU5TSUdORURfSU5UXCIsRmxvYXQzMjpcIkZMT0FUXCJ9O2NsYXNzIGp7Y29uc3RydWN0b3IoZSx0LGksbyl7dGhpcy5sZW5ndGg9dC5sZW5ndGgsdGhpcy5hdHRyaWJ1dGVzPWksdGhpcy5pdGVtU2l6ZT10LmJ5dGVzUGVyRWxlbWVudCx0aGlzLmR5bmFtaWNEcmF3PW8sdGhpcy5jb250ZXh0PWU7Y29uc3Qgcj1lLmdsO3RoaXMuYnVmZmVyPXIuY3JlYXRlQnVmZmVyKCksZS5iaW5kVmVydGV4QnVmZmVyLnNldCh0aGlzLmJ1ZmZlciksci5idWZmZXJEYXRhKHIuQVJSQVlfQlVGRkVSLHQuYXJyYXlCdWZmZXIsdGhpcy5keW5hbWljRHJhdz9yLkRZTkFNSUNfRFJBVzpyLlNUQVRJQ19EUkFXKSx0aGlzLmR5bmFtaWNEcmF3fHx0LmRlc3Ryb3koKTt9YmluZCgpe3RoaXMuY29udGV4dC5iaW5kVmVydGV4QnVmZmVyLnNldCh0aGlzLmJ1ZmZlcik7fXVwZGF0ZURhdGEoZSl7Y29uc3QgdD10aGlzLmNvbnRleHQuZ2w7dGhpcy5iaW5kKCksdC5idWZmZXJTdWJEYXRhKHQuQVJSQVlfQlVGRkVSLDAsZS5hcnJheUJ1ZmZlcik7fWVuYWJsZUF0dHJpYnV0ZXMoZSx0KXtmb3IobGV0IGk9MDtpPHRoaXMuYXR0cmlidXRlcy5sZW5ndGg7aSsrKXtjb25zdCBvPXQuYXR0cmlidXRlc1t0aGlzLmF0dHJpYnV0ZXNbaV0ubmFtZV07dm9pZCAwIT09byYmZS5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShvKTt9fXNldFZlcnRleEF0dHJpYlBvaW50ZXJzKGUsdCxpKXtmb3IobGV0IG89MDtvPHRoaXMuYXR0cmlidXRlcy5sZW5ndGg7bysrKXtjb25zdCByPXRoaXMuYXR0cmlidXRlc1tvXSxuPXQuYXR0cmlidXRlc1tyLm5hbWVdO3ZvaWQgMCE9PW4mJmUudmVydGV4QXR0cmliUG9pbnRlcihuLHIuY29tcG9uZW50cyxlW0dbci50eXBlXV0sITEsdGhpcy5pdGVtU2l6ZSxyLm9mZnNldCt0aGlzLml0ZW1TaXplKihpfHwwKSk7fX1kZXN0cm95KCl7dGhpcy5idWZmZXImJih0aGlzLmNvbnRleHQuZ2wuZGVsZXRlQnVmZmVyKHRoaXMuYnVmZmVyKSxkZWxldGUgdGhpcy5idWZmZXIpO319Y2xhc3MgWntjb25zdHJ1Y3RvcihlKXt0aGlzLmdsPWUuZ2wsdGhpcy5kZWZhdWx0PXRoaXMuZ2V0RGVmYXVsdCgpLHRoaXMuY3VycmVudD10aGlzLmRlZmF1bHQsdGhpcy5kaXJ0eT0hMTt9Z2V0KCl7cmV0dXJuIHRoaXMuY3VycmVudH1zZXQoZSl7fWdldERlZmF1bHQoKXtyZXR1cm4gdGhpcy5kZWZhdWx0fXNldERlZmF1bHQoKXt0aGlzLnNldCh0aGlzLmRlZmF1bHQpO319Y2xhc3MgViBleHRlbmRzIFp7Z2V0RGVmYXVsdCgpe3JldHVybiBlLkNvbG9yLnRyYW5zcGFyZW50fXNldChlKXtjb25zdCB0PXRoaXMuY3VycmVudDsoZS5yIT09dC5yfHxlLmchPT10Lmd8fGUuYiE9PXQuYnx8ZS5hIT09dC5hfHx0aGlzLmRpcnR5KSYmKHRoaXMuZ2wuY2xlYXJDb2xvcihlLnIsZS5nLGUuYixlLmEpLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITEpO319Y2xhc3MgVyBleHRlbmRzIFp7Z2V0RGVmYXVsdCgpe3JldHVybiAxfXNldChlKXsoZSE9PXRoaXMuY3VycmVudHx8dGhpcy5kaXJ0eSkmJih0aGlzLmdsLmNsZWFyRGVwdGgoZSksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMSk7fX1jbGFzcyBYIGV4dGVuZHMgWntnZXREZWZhdWx0KCl7cmV0dXJuIDB9c2V0KGUpeyhlIT09dGhpcy5jdXJyZW50fHx0aGlzLmRpcnR5KSYmKHRoaXMuZ2wuY2xlYXJTdGVuY2lsKGUpLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITEpO319Y2xhc3MgcSBleHRlbmRzIFp7Z2V0RGVmYXVsdCgpe3JldHVybiBbITAsITAsITAsITBdfXNldChlKXtjb25zdCB0PXRoaXMuY3VycmVudDsoZVswXSE9PXRbMF18fGVbMV0hPT10WzFdfHxlWzJdIT09dFsyXXx8ZVszXSE9PXRbM118fHRoaXMuZGlydHkpJiYodGhpcy5nbC5jb2xvck1hc2soZVswXSxlWzFdLGVbMl0sZVszXSksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMSk7fX1jbGFzcyAkIGV4dGVuZHMgWntnZXREZWZhdWx0KCl7cmV0dXJuICEwfXNldChlKXsoZSE9PXRoaXMuY3VycmVudHx8dGhpcy5kaXJ0eSkmJih0aGlzLmdsLmRlcHRoTWFzayhlKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExKTt9fWNsYXNzIEggZXh0ZW5kcyBae2dldERlZmF1bHQoKXtyZXR1cm4gMjU1fXNldChlKXsoZSE9PXRoaXMuY3VycmVudHx8dGhpcy5kaXJ0eSkmJih0aGlzLmdsLnN0ZW5jaWxNYXNrKGUpLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITEpO319Y2xhc3MgWSBleHRlbmRzIFp7Z2V0RGVmYXVsdCgpe3JldHVybiB7ZnVuYzp0aGlzLmdsLkFMV0FZUyxyZWY6MCxtYXNrOjI1NX19c2V0KGUpe2NvbnN0IHQ9dGhpcy5jdXJyZW50OyhlLmZ1bmMhPT10LmZ1bmN8fGUucmVmIT09dC5yZWZ8fGUubWFzayE9PXQubWFza3x8dGhpcy5kaXJ0eSkmJih0aGlzLmdsLnN0ZW5jaWxGdW5jKGUuZnVuYyxlLnJlZixlLm1hc2spLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITEpO319Y2xhc3MgSyBleHRlbmRzIFp7Z2V0RGVmYXVsdCgpe2NvbnN0IGU9dGhpcy5nbDtyZXR1cm4gW2UuS0VFUCxlLktFRVAsZS5LRUVQXX1zZXQoZSl7Y29uc3QgdD10aGlzLmN1cnJlbnQ7KGVbMF0hPT10WzBdfHxlWzFdIT09dFsxXXx8ZVsyXSE9PXRbMl18fHRoaXMuZGlydHkpJiYodGhpcy5nbC5zdGVuY2lsT3AoZVswXSxlWzFdLGVbMl0pLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITEpO319Y2xhc3MgSiBleHRlbmRzIFp7Z2V0RGVmYXVsdCgpe3JldHVybiAhMX1zZXQoZSl7aWYoZT09PXRoaXMuY3VycmVudCYmIXRoaXMuZGlydHkpcmV0dXJuO2NvbnN0IHQ9dGhpcy5nbDtlP3QuZW5hYmxlKHQuU1RFTkNJTF9URVNUKTp0LmRpc2FibGUodC5TVEVOQ0lMX1RFU1QpLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITE7fX1jbGFzcyBRIGV4dGVuZHMgWntnZXREZWZhdWx0KCl7cmV0dXJuIFswLDFdfXNldChlKXtjb25zdCB0PXRoaXMuY3VycmVudDsoZVswXSE9PXRbMF18fGVbMV0hPT10WzFdfHx0aGlzLmRpcnR5KSYmKHRoaXMuZ2wuZGVwdGhSYW5nZShlWzBdLGVbMV0pLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITEpO319Y2xhc3MgZWUgZXh0ZW5kcyBae2dldERlZmF1bHQoKXtyZXR1cm4gITF9c2V0KGUpe2lmKGU9PT10aGlzLmN1cnJlbnQmJiF0aGlzLmRpcnR5KXJldHVybjtjb25zdCB0PXRoaXMuZ2w7ZT90LmVuYWJsZSh0LkRFUFRIX1RFU1QpOnQuZGlzYWJsZSh0LkRFUFRIX1RFU1QpLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITE7fX1jbGFzcyB0ZSBleHRlbmRzIFp7Z2V0RGVmYXVsdCgpe3JldHVybiB0aGlzLmdsLkxFU1N9c2V0KGUpeyhlIT09dGhpcy5jdXJyZW50fHx0aGlzLmRpcnR5KSYmKHRoaXMuZ2wuZGVwdGhGdW5jKGUpLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITEpO319Y2xhc3MgaWUgZXh0ZW5kcyBae2dldERlZmF1bHQoKXtyZXR1cm4gITF9c2V0KGUpe2lmKGU9PT10aGlzLmN1cnJlbnQmJiF0aGlzLmRpcnR5KXJldHVybjtjb25zdCB0PXRoaXMuZ2w7ZT90LmVuYWJsZSh0LkJMRU5EKTp0LmRpc2FibGUodC5CTEVORCksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMTt9fWNsYXNzIG9lIGV4dGVuZHMgWntnZXREZWZhdWx0KCl7Y29uc3QgZT10aGlzLmdsO3JldHVybiBbZS5PTkUsZS5aRVJPXX1zZXQoZSl7Y29uc3QgdD10aGlzLmN1cnJlbnQ7KGVbMF0hPT10WzBdfHxlWzFdIT09dFsxXXx8dGhpcy5kaXJ0eSkmJih0aGlzLmdsLmJsZW5kRnVuYyhlWzBdLGVbMV0pLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITEpO319Y2xhc3MgcmUgZXh0ZW5kcyBae2dldERlZmF1bHQoKXtyZXR1cm4gZS5Db2xvci50cmFuc3BhcmVudH1zZXQoZSl7Y29uc3QgdD10aGlzLmN1cnJlbnQ7KGUuciE9PXQucnx8ZS5nIT09dC5nfHxlLmIhPT10LmJ8fGUuYSE9PXQuYXx8dGhpcy5kaXJ0eSkmJih0aGlzLmdsLmJsZW5kQ29sb3IoZS5yLGUuZyxlLmIsZS5hKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExKTt9fWNsYXNzIG5lIGV4dGVuZHMgWntnZXREZWZhdWx0KCl7cmV0dXJuIHRoaXMuZ2wuRlVOQ19BRER9c2V0KGUpeyhlIT09dGhpcy5jdXJyZW50fHx0aGlzLmRpcnR5KSYmKHRoaXMuZ2wuYmxlbmRFcXVhdGlvbihlKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExKTt9fWNsYXNzIGFlIGV4dGVuZHMgWntnZXREZWZhdWx0KCl7cmV0dXJuICExfXNldChlKXtpZihlPT09dGhpcy5jdXJyZW50JiYhdGhpcy5kaXJ0eSlyZXR1cm47Y29uc3QgdD10aGlzLmdsO2U/dC5lbmFibGUodC5DVUxMX0ZBQ0UpOnQuZGlzYWJsZSh0LkNVTExfRkFDRSksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMTt9fWNsYXNzIHNlIGV4dGVuZHMgWntnZXREZWZhdWx0KCl7cmV0dXJuIHRoaXMuZ2wuQkFDS31zZXQoZSl7KGUhPT10aGlzLmN1cnJlbnR8fHRoaXMuZGlydHkpJiYodGhpcy5nbC5jdWxsRmFjZShlKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExKTt9fWNsYXNzIGxlIGV4dGVuZHMgWntnZXREZWZhdWx0KCl7cmV0dXJuIHRoaXMuZ2wuQ0NXfXNldChlKXsoZSE9PXRoaXMuY3VycmVudHx8dGhpcy5kaXJ0eSkmJih0aGlzLmdsLmZyb250RmFjZShlKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExKTt9fWNsYXNzIGNlIGV4dGVuZHMgWntnZXREZWZhdWx0KCl7cmV0dXJuIG51bGx9c2V0KGUpeyhlIT09dGhpcy5jdXJyZW50fHx0aGlzLmRpcnR5KSYmKHRoaXMuZ2wudXNlUHJvZ3JhbShlKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExKTt9fWNsYXNzIGhlIGV4dGVuZHMgWntnZXREZWZhdWx0KCl7cmV0dXJuIHRoaXMuZ2wuVEVYVFVSRTB9c2V0KGUpeyhlIT09dGhpcy5jdXJyZW50fHx0aGlzLmRpcnR5KSYmKHRoaXMuZ2wuYWN0aXZlVGV4dHVyZShlKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExKTt9fWNsYXNzIHVlIGV4dGVuZHMgWntnZXREZWZhdWx0KCl7Y29uc3QgZT10aGlzLmdsO3JldHVybiBbMCwwLGUuZHJhd2luZ0J1ZmZlcldpZHRoLGUuZHJhd2luZ0J1ZmZlckhlaWdodF19c2V0KGUpe2NvbnN0IHQ9dGhpcy5jdXJyZW50OyhlWzBdIT09dFswXXx8ZVsxXSE9PXRbMV18fGVbMl0hPT10WzJdfHxlWzNdIT09dFszXXx8dGhpcy5kaXJ0eSkmJih0aGlzLmdsLnZpZXdwb3J0KGVbMF0sZVsxXSxlWzJdLGVbM10pLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITEpO319Y2xhc3MgX2UgZXh0ZW5kcyBae2dldERlZmF1bHQoKXtyZXR1cm4gbnVsbH1zZXQoZSl7aWYoZT09PXRoaXMuY3VycmVudCYmIXRoaXMuZGlydHkpcmV0dXJuO2NvbnN0IHQ9dGhpcy5nbDt0LmJpbmRGcmFtZWJ1ZmZlcih0LkZSQU1FQlVGRkVSLGUpLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITE7fX1jbGFzcyBkZSBleHRlbmRzIFp7Z2V0RGVmYXVsdCgpe3JldHVybiBudWxsfXNldChlKXtpZihlPT09dGhpcy5jdXJyZW50JiYhdGhpcy5kaXJ0eSlyZXR1cm47Y29uc3QgdD10aGlzLmdsO3QuYmluZFJlbmRlcmJ1ZmZlcih0LlJFTkRFUkJVRkZFUixlKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExO319Y2xhc3MgcGUgZXh0ZW5kcyBae2dldERlZmF1bHQoKXtyZXR1cm4gbnVsbH1zZXQoZSl7aWYoZT09PXRoaXMuY3VycmVudCYmIXRoaXMuZGlydHkpcmV0dXJuO2NvbnN0IHQ9dGhpcy5nbDt0LmJpbmRUZXh0dXJlKHQuVEVYVFVSRV8yRCxlKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExO319Y2xhc3MgbWUgZXh0ZW5kcyBae2dldERlZmF1bHQoKXtyZXR1cm4gbnVsbH1zZXQoZSl7aWYoZT09PXRoaXMuY3VycmVudCYmIXRoaXMuZGlydHkpcmV0dXJuO2NvbnN0IHQ9dGhpcy5nbDt0LmJpbmRCdWZmZXIodC5BUlJBWV9CVUZGRVIsZSksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMTt9fWNsYXNzIGZlIGV4dGVuZHMgWntnZXREZWZhdWx0KCl7cmV0dXJuIG51bGx9c2V0KGUpe2NvbnN0IHQ9dGhpcy5nbDt0LmJpbmRCdWZmZXIodC5FTEVNRU5UX0FSUkFZX0JVRkZFUixlKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExO319Y2xhc3MgZ2UgZXh0ZW5kcyBae2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMudmFvPWUuZXh0VmVydGV4QXJyYXlPYmplY3Q7fWdldERlZmF1bHQoKXtyZXR1cm4gbnVsbH1zZXQoZSl7dGhpcy52YW8mJihlIT09dGhpcy5jdXJyZW50fHx0aGlzLmRpcnR5KSYmKHRoaXMudmFvLmJpbmRWZXJ0ZXhBcnJheU9FUyhlKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExKTt9fWNsYXNzIHZlIGV4dGVuZHMgWntnZXREZWZhdWx0KCl7cmV0dXJuIDR9c2V0KGUpe2lmKGU9PT10aGlzLmN1cnJlbnQmJiF0aGlzLmRpcnR5KXJldHVybjtjb25zdCB0PXRoaXMuZ2w7dC5waXhlbFN0b3JlaSh0LlVOUEFDS19BTElHTk1FTlQsZSksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMTt9fWNsYXNzIHhlIGV4dGVuZHMgWntnZXREZWZhdWx0KCl7cmV0dXJuICExfXNldChlKXtpZihlPT09dGhpcy5jdXJyZW50JiYhdGhpcy5kaXJ0eSlyZXR1cm47Y29uc3QgdD10aGlzLmdsO3QucGl4ZWxTdG9yZWkodC5VTlBBQ0tfUFJFTVVMVElQTFlfQUxQSEFfV0VCR0wsZSksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMTt9fWNsYXNzIHllIGV4dGVuZHMgWntnZXREZWZhdWx0KCl7cmV0dXJuICExfXNldChlKXtpZihlPT09dGhpcy5jdXJyZW50JiYhdGhpcy5kaXJ0eSlyZXR1cm47Y29uc3QgdD10aGlzLmdsO3QucGl4ZWxTdG9yZWkodC5VTlBBQ0tfRkxJUF9ZX1dFQkdMLGUpLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITE7fX1jbGFzcyBiZSBleHRlbmRzIFp7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlKSx0aGlzLmNvbnRleHQ9ZSx0aGlzLnBhcmVudD10O31nZXREZWZhdWx0KCl7cmV0dXJuIG51bGx9fWNsYXNzIHdlIGV4dGVuZHMgYmV7c2V0RGlydHkoKXt0aGlzLmRpcnR5PSEwO31zZXQoZSl7aWYoZT09PXRoaXMuY3VycmVudCYmIXRoaXMuZGlydHkpcmV0dXJuO3RoaXMuY29udGV4dC5iaW5kRnJhbWVidWZmZXIuc2V0KHRoaXMucGFyZW50KTtjb25zdCB0PXRoaXMuZ2w7dC5mcmFtZWJ1ZmZlclRleHR1cmUyRCh0LkZSQU1FQlVGRkVSLHQuQ09MT1JfQVRUQUNITUVOVDAsdC5URVhUVVJFXzJELGUsMCksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMTt9fWNsYXNzIFRlIGV4dGVuZHMgYmV7YXR0YWNobWVudCgpe3JldHVybiB0aGlzLmdsLkRFUFRIX0FUVEFDSE1FTlR9c2V0KGUpe2lmKGU9PT10aGlzLmN1cnJlbnQmJiF0aGlzLmRpcnR5KXJldHVybjt0aGlzLmNvbnRleHQuYmluZEZyYW1lYnVmZmVyLnNldCh0aGlzLnBhcmVudCk7Y29uc3QgdD10aGlzLmdsO3QuZnJhbWVidWZmZXJSZW5kZXJidWZmZXIodC5GUkFNRUJVRkZFUix0aGlzLmF0dGFjaG1lbnQoKSx0LlJFTkRFUkJVRkZFUixlKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExO319Y2xhc3MgRWUgZXh0ZW5kcyBUZXthdHRhY2htZW50KCl7cmV0dXJuIHRoaXMuZ2wuREVQVEhfU1RFTkNJTF9BVFRBQ0hNRU5UfX1jbGFzcyBDZXtjb25zdHJ1Y3RvcihlLHQsaSxvKXt0aGlzLmNvbnRleHQ9ZSx0aGlzLndpZHRoPXQsdGhpcy5oZWlnaHQ9aTtjb25zdCByPXRoaXMuZnJhbWVidWZmZXI9ZS5nbC5jcmVhdGVGcmFtZWJ1ZmZlcigpO3RoaXMuY29sb3JBdHRhY2htZW50PW5ldyB3ZShlLHIpLG8mJih0aGlzLmRlcHRoQXR0YWNobWVudD1uZXcgVGUoZSxyKSk7fWRlc3Ryb3koKXtjb25zdCBlPXRoaXMuY29udGV4dC5nbCx0PXRoaXMuY29sb3JBdHRhY2htZW50LmdldCgpO2lmKHQmJmUuZGVsZXRlVGV4dHVyZSh0KSx0aGlzLmRlcHRoQXR0YWNobWVudCl7Y29uc3QgdD10aGlzLmRlcHRoQXR0YWNobWVudC5nZXQoKTt0JiZlLmRlbGV0ZVJlbmRlcmJ1ZmZlcih0KTt9ZS5kZWxldGVGcmFtZWJ1ZmZlcih0aGlzLmZyYW1lYnVmZmVyKTt9fWNsYXNzIElle2NvbnN0cnVjdG9yKGUpe3RoaXMuZ2w9ZSx0aGlzLmV4dFZlcnRleEFycmF5T2JqZWN0PXRoaXMuZ2wuZ2V0RXh0ZW5zaW9uKFwiT0VTX3ZlcnRleF9hcnJheV9vYmplY3RcIiksdGhpcy5jbGVhckNvbG9yPW5ldyBWKHRoaXMpLHRoaXMuY2xlYXJEZXB0aD1uZXcgVyh0aGlzKSx0aGlzLmNsZWFyU3RlbmNpbD1uZXcgWCh0aGlzKSx0aGlzLmNvbG9yTWFzaz1uZXcgcSh0aGlzKSx0aGlzLmRlcHRoTWFzaz1uZXcgJCh0aGlzKSx0aGlzLnN0ZW5jaWxNYXNrPW5ldyBIKHRoaXMpLHRoaXMuc3RlbmNpbEZ1bmM9bmV3IFkodGhpcyksdGhpcy5zdGVuY2lsT3A9bmV3IEsodGhpcyksdGhpcy5zdGVuY2lsVGVzdD1uZXcgSih0aGlzKSx0aGlzLmRlcHRoUmFuZ2U9bmV3IFEodGhpcyksdGhpcy5kZXB0aFRlc3Q9bmV3IGVlKHRoaXMpLHRoaXMuZGVwdGhGdW5jPW5ldyB0ZSh0aGlzKSx0aGlzLmJsZW5kPW5ldyBpZSh0aGlzKSx0aGlzLmJsZW5kRnVuYz1uZXcgb2UodGhpcyksdGhpcy5ibGVuZENvbG9yPW5ldyByZSh0aGlzKSx0aGlzLmJsZW5kRXF1YXRpb249bmV3IG5lKHRoaXMpLHRoaXMuY3VsbEZhY2U9bmV3IGFlKHRoaXMpLHRoaXMuY3VsbEZhY2VTaWRlPW5ldyBzZSh0aGlzKSx0aGlzLmZyb250RmFjZT1uZXcgbGUodGhpcyksdGhpcy5wcm9ncmFtPW5ldyBjZSh0aGlzKSx0aGlzLmFjdGl2ZVRleHR1cmU9bmV3IGhlKHRoaXMpLHRoaXMudmlld3BvcnQ9bmV3IHVlKHRoaXMpLHRoaXMuYmluZEZyYW1lYnVmZmVyPW5ldyBfZSh0aGlzKSx0aGlzLmJpbmRSZW5kZXJidWZmZXI9bmV3IGRlKHRoaXMpLHRoaXMuYmluZFRleHR1cmU9bmV3IHBlKHRoaXMpLHRoaXMuYmluZFZlcnRleEJ1ZmZlcj1uZXcgbWUodGhpcyksdGhpcy5iaW5kRWxlbWVudEJ1ZmZlcj1uZXcgZmUodGhpcyksdGhpcy5iaW5kVmVydGV4QXJyYXlPRVM9dGhpcy5leHRWZXJ0ZXhBcnJheU9iamVjdCYmbmV3IGdlKHRoaXMpLHRoaXMucGl4ZWxTdG9yZVVucGFjaz1uZXcgdmUodGhpcyksdGhpcy5waXhlbFN0b3JlVW5wYWNrUHJlbXVsdGlwbHlBbHBoYT1uZXcgeGUodGhpcyksdGhpcy5waXhlbFN0b3JlVW5wYWNrRmxpcFk9bmV3IHllKHRoaXMpLHRoaXMuZXh0VGV4dHVyZUZpbHRlckFuaXNvdHJvcGljPWUuZ2V0RXh0ZW5zaW9uKFwiRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljXCIpfHxlLmdldEV4dGVuc2lvbihcIk1PWl9FWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWNcIil8fGUuZ2V0RXh0ZW5zaW9uKFwiV0VCS0lUX0VYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpY1wiKSx0aGlzLmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpYyYmKHRoaXMuZXh0VGV4dHVyZUZpbHRlckFuaXNvdHJvcGljTWF4PWUuZ2V0UGFyYW1ldGVyKHRoaXMuZXh0VGV4dHVyZUZpbHRlckFuaXNvdHJvcGljLk1BWF9URVhUVVJFX01BWF9BTklTT1RST1BZX0VYVCkpLHRoaXMuZXh0VGV4dHVyZUZpbHRlckFuaXNvdHJvcGljRm9yY2VPZmY9ITEsdGhpcy5leHRTdGFuZGFyZERlcml2YXRpdmVzRm9yY2VPZmY9ITEsdGhpcy5leHRUZXh0dXJlSGFsZkZsb2F0PWUuZ2V0RXh0ZW5zaW9uKFwiT0VTX3RleHR1cmVfaGFsZl9mbG9hdFwiKSx0aGlzLmV4dFRleHR1cmVIYWxmRmxvYXQmJihlLmdldEV4dGVuc2lvbihcIk9FU190ZXh0dXJlX2hhbGZfZmxvYXRfbGluZWFyXCIpLHRoaXMuZXh0UmVuZGVyVG9UZXh0dXJlSGFsZkZsb2F0PWUuZ2V0RXh0ZW5zaW9uKFwiRVhUX2NvbG9yX2J1ZmZlcl9oYWxmX2Zsb2F0XCIpKSx0aGlzLmV4dFN0YW5kYXJkRGVyaXZhdGl2ZXM9ZS5nZXRFeHRlbnNpb24oXCJPRVNfc3RhbmRhcmRfZGVyaXZhdGl2ZXNcIiksdGhpcy5leHRUaW1lclF1ZXJ5PWUuZ2V0RXh0ZW5zaW9uKFwiRVhUX2Rpc2pvaW50X3RpbWVyX3F1ZXJ5XCIpLHRoaXMubWF4VGV4dHVyZVNpemU9ZS5nZXRQYXJhbWV0ZXIoZS5NQVhfVEVYVFVSRV9TSVpFKTt9c2V0RGVmYXVsdCgpe3RoaXMudW5iaW5kVkFPKCksdGhpcy5jbGVhckNvbG9yLnNldERlZmF1bHQoKSx0aGlzLmNsZWFyRGVwdGguc2V0RGVmYXVsdCgpLHRoaXMuY2xlYXJTdGVuY2lsLnNldERlZmF1bHQoKSx0aGlzLmNvbG9yTWFzay5zZXREZWZhdWx0KCksdGhpcy5kZXB0aE1hc2suc2V0RGVmYXVsdCgpLHRoaXMuc3RlbmNpbE1hc2suc2V0RGVmYXVsdCgpLHRoaXMuc3RlbmNpbEZ1bmMuc2V0RGVmYXVsdCgpLHRoaXMuc3RlbmNpbE9wLnNldERlZmF1bHQoKSx0aGlzLnN0ZW5jaWxUZXN0LnNldERlZmF1bHQoKSx0aGlzLmRlcHRoUmFuZ2Uuc2V0RGVmYXVsdCgpLHRoaXMuZGVwdGhUZXN0LnNldERlZmF1bHQoKSx0aGlzLmRlcHRoRnVuYy5zZXREZWZhdWx0KCksdGhpcy5ibGVuZC5zZXREZWZhdWx0KCksdGhpcy5ibGVuZEZ1bmMuc2V0RGVmYXVsdCgpLHRoaXMuYmxlbmRDb2xvci5zZXREZWZhdWx0KCksdGhpcy5ibGVuZEVxdWF0aW9uLnNldERlZmF1bHQoKSx0aGlzLmN1bGxGYWNlLnNldERlZmF1bHQoKSx0aGlzLmN1bGxGYWNlU2lkZS5zZXREZWZhdWx0KCksdGhpcy5mcm9udEZhY2Uuc2V0RGVmYXVsdCgpLHRoaXMucHJvZ3JhbS5zZXREZWZhdWx0KCksdGhpcy5hY3RpdmVUZXh0dXJlLnNldERlZmF1bHQoKSx0aGlzLmJpbmRGcmFtZWJ1ZmZlci5zZXREZWZhdWx0KCksdGhpcy5waXhlbFN0b3JlVW5wYWNrLnNldERlZmF1bHQoKSx0aGlzLnBpeGVsU3RvcmVVbnBhY2tQcmVtdWx0aXBseUFscGhhLnNldERlZmF1bHQoKSx0aGlzLnBpeGVsU3RvcmVVbnBhY2tGbGlwWS5zZXREZWZhdWx0KCk7fXNldERpcnR5KCl7dGhpcy5jbGVhckNvbG9yLmRpcnR5PSEwLHRoaXMuY2xlYXJEZXB0aC5kaXJ0eT0hMCx0aGlzLmNsZWFyU3RlbmNpbC5kaXJ0eT0hMCx0aGlzLmNvbG9yTWFzay5kaXJ0eT0hMCx0aGlzLmRlcHRoTWFzay5kaXJ0eT0hMCx0aGlzLnN0ZW5jaWxNYXNrLmRpcnR5PSEwLHRoaXMuc3RlbmNpbEZ1bmMuZGlydHk9ITAsdGhpcy5zdGVuY2lsT3AuZGlydHk9ITAsdGhpcy5zdGVuY2lsVGVzdC5kaXJ0eT0hMCx0aGlzLmRlcHRoUmFuZ2UuZGlydHk9ITAsdGhpcy5kZXB0aFRlc3QuZGlydHk9ITAsdGhpcy5kZXB0aEZ1bmMuZGlydHk9ITAsdGhpcy5ibGVuZC5kaXJ0eT0hMCx0aGlzLmJsZW5kRnVuYy5kaXJ0eT0hMCx0aGlzLmJsZW5kQ29sb3IuZGlydHk9ITAsdGhpcy5ibGVuZEVxdWF0aW9uLmRpcnR5PSEwLHRoaXMuY3VsbEZhY2UuZGlydHk9ITAsdGhpcy5jdWxsRmFjZVNpZGUuZGlydHk9ITAsdGhpcy5mcm9udEZhY2UuZGlydHk9ITAsdGhpcy5wcm9ncmFtLmRpcnR5PSEwLHRoaXMuYWN0aXZlVGV4dHVyZS5kaXJ0eT0hMCx0aGlzLnZpZXdwb3J0LmRpcnR5PSEwLHRoaXMuYmluZEZyYW1lYnVmZmVyLmRpcnR5PSEwLHRoaXMuYmluZFJlbmRlcmJ1ZmZlci5kaXJ0eT0hMCx0aGlzLmJpbmRUZXh0dXJlLmRpcnR5PSEwLHRoaXMuYmluZFZlcnRleEJ1ZmZlci5kaXJ0eT0hMCx0aGlzLmJpbmRFbGVtZW50QnVmZmVyLmRpcnR5PSEwLHRoaXMuZXh0VmVydGV4QXJyYXlPYmplY3QmJih0aGlzLmJpbmRWZXJ0ZXhBcnJheU9FUy5kaXJ0eT0hMCksdGhpcy5waXhlbFN0b3JlVW5wYWNrLmRpcnR5PSEwLHRoaXMucGl4ZWxTdG9yZVVucGFja1ByZW11bHRpcGx5QWxwaGEuZGlydHk9ITAsdGhpcy5waXhlbFN0b3JlVW5wYWNrRmxpcFkuZGlydHk9ITA7fWNyZWF0ZUluZGV4QnVmZmVyKGUsdCl7cmV0dXJuIG5ldyBOKHRoaXMsZSx0KX1jcmVhdGVWZXJ0ZXhCdWZmZXIoZSx0LGkpe3JldHVybiBuZXcgaih0aGlzLGUsdCxpKX1jcmVhdGVSZW5kZXJidWZmZXIoZSx0LGkpe2NvbnN0IG89dGhpcy5nbCxyPW8uY3JlYXRlUmVuZGVyYnVmZmVyKCk7cmV0dXJuIHRoaXMuYmluZFJlbmRlcmJ1ZmZlci5zZXQociksby5yZW5kZXJidWZmZXJTdG9yYWdlKG8uUkVOREVSQlVGRkVSLGUsdCxpKSx0aGlzLmJpbmRSZW5kZXJidWZmZXIuc2V0KG51bGwpLHJ9Y3JlYXRlRnJhbWVidWZmZXIoZSx0LGkpe3JldHVybiBuZXcgQ2UodGhpcyxlLHQsaSl9Y2xlYXIoe2NvbG9yOmUsZGVwdGg6dCxzdGVuY2lsOml9KXtjb25zdCBvPXRoaXMuZ2w7bGV0IHI9MDtlJiYocnw9by5DT0xPUl9CVUZGRVJfQklULHRoaXMuY2xlYXJDb2xvci5zZXQoZSksdGhpcy5jb2xvck1hc2suc2V0KFshMCwhMCwhMCwhMF0pKSx2b2lkIDAhPT10JiYocnw9by5ERVBUSF9CVUZGRVJfQklULHRoaXMuZGVwdGhSYW5nZS5zZXQoWzAsMV0pLHRoaXMuY2xlYXJEZXB0aC5zZXQodCksdGhpcy5kZXB0aE1hc2suc2V0KCEwKSksdm9pZCAwIT09aSYmKHJ8PW8uU1RFTkNJTF9CVUZGRVJfQklULHRoaXMuY2xlYXJTdGVuY2lsLnNldChpKSx0aGlzLnN0ZW5jaWxNYXNrLnNldCgyNTUpKSxvLmNsZWFyKHIpO31zZXRDdWxsRmFjZShlKXshMT09PWUuZW5hYmxlP3RoaXMuY3VsbEZhY2Uuc2V0KCExKToodGhpcy5jdWxsRmFjZS5zZXQoITApLHRoaXMuY3VsbEZhY2VTaWRlLnNldChlLm1vZGUpLHRoaXMuZnJvbnRGYWNlLnNldChlLmZyb250RmFjZSkpO31zZXREZXB0aE1vZGUoZSl7ZS5mdW5jIT09dGhpcy5nbC5BTFdBWVN8fGUubWFzaz8odGhpcy5kZXB0aFRlc3Quc2V0KCEwKSx0aGlzLmRlcHRoRnVuYy5zZXQoZS5mdW5jKSx0aGlzLmRlcHRoTWFzay5zZXQoZS5tYXNrKSx0aGlzLmRlcHRoUmFuZ2Uuc2V0KGUucmFuZ2UpKTp0aGlzLmRlcHRoVGVzdC5zZXQoITEpO31zZXRTdGVuY2lsTW9kZShlKXtlLnRlc3QuZnVuYyE9PXRoaXMuZ2wuQUxXQVlTfHxlLm1hc2s/KHRoaXMuc3RlbmNpbFRlc3Quc2V0KCEwKSx0aGlzLnN0ZW5jaWxNYXNrLnNldChlLm1hc2spLHRoaXMuc3RlbmNpbE9wLnNldChbZS5mYWlsLGUuZGVwdGhGYWlsLGUucGFzc10pLHRoaXMuc3RlbmNpbEZ1bmMuc2V0KHtmdW5jOmUudGVzdC5mdW5jLHJlZjplLnJlZixtYXNrOmUudGVzdC5tYXNrfSkpOnRoaXMuc3RlbmNpbFRlc3Quc2V0KCExKTt9c2V0Q29sb3JNb2RlKGkpe3QoaS5ibGVuZEZ1bmN0aW9uLGUuQ29sb3JNb2RlLlJlcGxhY2UpP3RoaXMuYmxlbmQuc2V0KCExKToodGhpcy5ibGVuZC5zZXQoITApLHRoaXMuYmxlbmRGdW5jLnNldChpLmJsZW5kRnVuY3Rpb24pLHRoaXMuYmxlbmRDb2xvci5zZXQoaS5ibGVuZENvbG9yKSksdGhpcy5jb2xvck1hc2suc2V0KGkubWFzayk7fXVuYmluZFZBTygpe3RoaXMuZXh0VmVydGV4QXJyYXlPYmplY3QmJnRoaXMuYmluZFZlcnRleEFycmF5T0VTLnNldChudWxsKTt9fWNsYXNzIE1lIGV4dGVuZHMgZS5FdmVudGVke2NvbnN0cnVjdG9yKHQsaSxvLHIpe3N1cGVyKCksdGhpcy5pZD10LHRoaXMuZGlzcGF0Y2hlcj1vLHRoaXMuc2V0RXZlbnRlZFBhcmVudChyKSx0aGlzLnR5cGU9XCJyYXN0ZXJcIix0aGlzLm1pbnpvb209MCx0aGlzLm1heHpvb209MjIsdGhpcy5yb3VuZFpvb209ITAsdGhpcy5zY2hlbWU9XCJ4eXpcIix0aGlzLnRpbGVTaXplPTUxMix0aGlzLl9sb2FkZWQ9ITEsdGhpcy5fb3B0aW9ucz1lLmV4dGVuZCh7dHlwZTpcInJhc3RlclwifSxpKSxlLmV4dGVuZCh0aGlzLGUucGljayhpLFtcInVybFwiLFwic2NoZW1lXCIsXCJ0aWxlU2l6ZVwiXSkpO31sb2FkKCl7dGhpcy5fbG9hZGVkPSExLHRoaXMuZmlyZShuZXcgZS5FdmVudChcImRhdGFsb2FkaW5nXCIse2RhdGFUeXBlOlwic291cmNlXCJ9KSksdGhpcy5fdGlsZUpTT05SZXF1ZXN0PUYodGhpcy5fb3B0aW9ucyx0aGlzLm1hcC5fcmVxdWVzdE1hbmFnZXIsbnVsbCxudWxsLCgodCxpKT0+e3RoaXMuX3RpbGVKU09OUmVxdWVzdD1udWxsLHRoaXMuX2xvYWRlZD0hMCx0P3RoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KHQpKTppJiYoZS5leHRlbmQodGhpcyxpKSxpLmJvdW5kcyYmKHRoaXMudGlsZUJvdW5kcz1uZXcgVShpLmJvdW5kcyx0aGlzLm1pbnpvb20sdGhpcy5tYXh6b29tKSksZS5wb3N0VHVybnN0aWxlRXZlbnQoaS50aWxlcyksdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwiZGF0YVwiLHtkYXRhVHlwZTpcInNvdXJjZVwiLHNvdXJjZURhdGFUeXBlOlwibWV0YWRhdGFcIn0pKSx0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJkYXRhXCIse2RhdGFUeXBlOlwic291cmNlXCIsc291cmNlRGF0YVR5cGU6XCJjb250ZW50XCJ9KSkpO30pKTt9bG9hZGVkKCl7cmV0dXJuIHRoaXMuX2xvYWRlZH1vbkFkZChlKXt0aGlzLm1hcD1lLHRoaXMubG9hZCgpO31vblJlbW92ZSgpe3RoaXMuX3RpbGVKU09OUmVxdWVzdCYmKHRoaXMuX3RpbGVKU09OUmVxdWVzdC5jYW5jZWwoKSx0aGlzLl90aWxlSlNPTlJlcXVlc3Q9bnVsbCk7fXNlcmlhbGl6ZSgpe3JldHVybiBlLmV4dGVuZCh7fSx0aGlzLl9vcHRpb25zKX1oYXNUaWxlKGUpe3JldHVybiAhdGhpcy50aWxlQm91bmRzfHx0aGlzLnRpbGVCb3VuZHMuY29udGFpbnMoZS5jYW5vbmljYWwpfWxvYWRUaWxlKHQsaSl7Y29uc3Qgbz1lLmV4cG9ydGVkLmRldmljZVBpeGVsUmF0aW8+PTIscj10aGlzLm1hcC5fcmVxdWVzdE1hbmFnZXIubm9ybWFsaXplVGlsZVVSTCh0LnRpbGVJRC5jYW5vbmljYWwudXJsKHRoaXMudGlsZXMsdGhpcy5zY2hlbWUpLG8sdGhpcy50aWxlU2l6ZSk7dC5yZXF1ZXN0PWUuZ2V0SW1hZ2UodGhpcy5tYXAuX3JlcXVlc3RNYW5hZ2VyLnRyYW5zZm9ybVJlcXVlc3QocixlLlJlc291cmNlVHlwZS5UaWxlKSwoKG8scixuLGEpPT4oZGVsZXRlIHQucmVxdWVzdCx0LmFib3J0ZWQ/KHQuc3RhdGU9XCJ1bmxvYWRlZFwiLGkobnVsbCkpOm8/KHQuc3RhdGU9XCJlcnJvcmVkXCIsaShvKSk6cj8odGhpcy5tYXAuX3JlZnJlc2hFeHBpcmVkVGlsZXMmJnQuc2V0RXhwaXJ5RGF0YSh7Y2FjaGVDb250cm9sOm4sZXhwaXJlczphfSksdC5zZXRUZXh0dXJlKHIsdGhpcy5tYXAucGFpbnRlciksdC5zdGF0ZT1cImxvYWRlZFwiLGUuY2FjaGVFbnRyeVBvc3NpYmx5QWRkZWQodGhpcy5kaXNwYXRjaGVyKSx2b2lkIGkobnVsbCkpOmkobnVsbCkpKSk7fXN0YXRpYyBsb2FkVGlsZURhdGEoZSx0LGkpe2Uuc2V0VGV4dHVyZSh0LGkpO31zdGF0aWMgdW5sb2FkVGlsZURhdGEoZSx0KXtlLnRleHR1cmUmJnQuc2F2ZVRpbGVUZXh0dXJlKGUudGV4dHVyZSk7fWFib3J0VGlsZShlLHQpe2UucmVxdWVzdCYmKGUucmVxdWVzdC5jYW5jZWwoKSxkZWxldGUgZS5yZXF1ZXN0KSx0KCk7fXVubG9hZFRpbGUoZSx0KXtlLnRleHR1cmUmJnRoaXMubWFwLnBhaW50ZXIuc2F2ZVRpbGVUZXh0dXJlKGUudGV4dHVyZSksdCgpO31oYXNUcmFuc2l0aW9uKCl7cmV0dXJuICExfX1sZXQgU2U7ZnVuY3Rpb24gemUodCxpLG8scixuLGEscyxsKXtjb25zdCBjPVt0LG8sbixpLHIsYSwxLDEsMV0saD1bcyxsLDFdLHU9ZS5hZGpvaW50KFtdLGMpLFtfLGQscF09ZS50cmFuc2Zvcm1NYXQzKGgsaCxlLnRyYW5zcG9zZSh1LHUpKTtyZXR1cm4gZS5tdWx0aXBseSQxKGMsW18sMCwwLDAsZCwwLDAsMCxwXSxjKX1jbGFzcyBEZSBleHRlbmRzIGUuRXZlbnRlZHtjb25zdHJ1Y3RvcihlLHQsaSxvKXtzdXBlcigpLHRoaXMuaWQ9ZSx0aGlzLmRpc3BhdGNoZXI9aSx0aGlzLmNvb3JkaW5hdGVzPXQuY29vcmRpbmF0ZXMsdGhpcy50eXBlPVwiaW1hZ2VcIix0aGlzLm1pbnpvb209MCx0aGlzLm1heHpvb209MjIsdGhpcy50aWxlU2l6ZT01MTIsdGhpcy50aWxlcz17fSx0aGlzLl9sb2FkZWQ9ITEsdGhpcy5zZXRFdmVudGVkUGFyZW50KG8pLHRoaXMub3B0aW9ucz10O31sb2FkKHQsaSl7dGhpcy5fbG9hZGVkPWl8fCExLHRoaXMuZmlyZShuZXcgZS5FdmVudChcImRhdGFsb2FkaW5nXCIse2RhdGFUeXBlOlwic291cmNlXCJ9KSksdGhpcy51cmw9dGhpcy5vcHRpb25zLnVybCxlLmdldEltYWdlKHRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlci50cmFuc2Zvcm1SZXF1ZXN0KHRoaXMudXJsLGUuUmVzb3VyY2VUeXBlLkltYWdlKSwoKGksbyk9PntpZih0aGlzLl9sb2FkZWQ9ITAsaSl0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChpKSk7ZWxzZSBpZihvKXtjb25zdHtIVE1MSW1hZ2VFbGVtZW50Oml9PWUud2luZG93O3RoaXMuaW1hZ2U9byBpbnN0YW5jZW9mIGk/ZS5leHBvcnRlZC5nZXRJbWFnZURhdGEobyk6byx0aGlzLndpZHRoPXRoaXMuaW1hZ2Uud2lkdGgsdGhpcy5oZWlnaHQ9dGhpcy5pbWFnZS5oZWlnaHQsdCYmKHRoaXMuY29vcmRpbmF0ZXM9dCksdGhpcy5fZmluaXNoTG9hZGluZygpO319KSk7fWxvYWRlZCgpe3JldHVybiB0aGlzLl9sb2FkZWR9dXBkYXRlSW1hZ2UoZSl7cmV0dXJuIHRoaXMuaW1hZ2UmJmUudXJsPyh0aGlzLm9wdGlvbnMudXJsPWUudXJsLHRoaXMubG9hZChlLmNvb3JkaW5hdGVzLHRoaXMuX2xvYWRlZCksdGhpcyk6dGhpc31fZmluaXNoTG9hZGluZygpe3RoaXMubWFwJiYodGhpcy5zZXRDb29yZGluYXRlcyh0aGlzLmNvb3JkaW5hdGVzKSx0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJkYXRhXCIse2RhdGFUeXBlOlwic291cmNlXCIsc291cmNlRGF0YVR5cGU6XCJtZXRhZGF0YVwifSkpKTt9b25BZGQoZSl7dGhpcy5tYXA9ZSx0aGlzLmxvYWQoKTt9b25SZW1vdmUoKXt0aGlzLnRleHR1cmUmJnRoaXMudGV4dHVyZS5kZXN0cm95KCk7fXNldENvb3JkaW5hdGVzKHQpe3RoaXMuY29vcmRpbmF0ZXM9dCx0aGlzLl9ib3VuZHNBcnJheT12b2lkIDA7Y29uc3QgaT10Lm1hcChlLk1lcmNhdG9yQ29vcmRpbmF0ZS5mcm9tTG5nTGF0KTtyZXR1cm4gdGhpcy50aWxlSUQ9ZnVuY3Rpb24odCl7bGV0IGk9MS8wLG89MS8wLHI9LTEvMCxuPS0xLzA7Zm9yKGNvbnN0IGUgb2YgdClpPU1hdGgubWluKGksZS54KSxvPU1hdGgubWluKG8sZS55KSxyPU1hdGgubWF4KHIsZS54KSxuPU1hdGgubWF4KG4sZS55KTtjb25zdCBhPU1hdGgubWF4KHItaSxuLW8pLHM9TWF0aC5tYXgoMCxNYXRoLmZsb29yKC1NYXRoLmxvZyhhKS9NYXRoLkxOMikpLGw9TWF0aC5wb3coMixzKTtyZXR1cm4gbmV3IGUuQ2Fub25pY2FsVGlsZUlEKHMsTWF0aC5mbG9vcigoaStyKS8yKmwpLE1hdGguZmxvb3IoKG8rbikvMipsKSl9KGkpLHRoaXMubWluem9vbT10aGlzLm1heHpvb209dGhpcy50aWxlSUQueix0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJkYXRhXCIse2RhdGFUeXBlOlwic291cmNlXCIsc291cmNlRGF0YVR5cGU6XCJjb250ZW50XCJ9KSksdGhpc31fY2xlYXIoKXt0aGlzLl9ib3VuZHNBcnJheT12b2lkIDA7fV9wcmVwYXJlRGF0YSh0KXtmb3IoY29uc3QgZSBpbiB0aGlzLnRpbGVzKXtjb25zdCB0PXRoaXMudGlsZXNbZV07XCJsb2FkZWRcIiE9PXQuc3RhdGUmJih0LnN0YXRlPVwibG9hZGVkXCIsdC50ZXh0dXJlPXRoaXMudGV4dHVyZSk7fWlmKHRoaXMuX2JvdW5kc0FycmF5KXJldHVybjtjb25zdCBpPWUudGlsZVRyYW5zZm9ybSh0aGlzLnRpbGVJRCx0aGlzLm1hcC50cmFuc2Zvcm0ucHJvamVjdGlvbiksW28scixuLGFdPXRoaXMuY29vcmRpbmF0ZXMubWFwKCh0PT57Y29uc3Qgbz1pLnByb2plY3Rpb24ucHJvamVjdCh0WzBdLHRbMV0pO3JldHVybiBlLmdldFRpbGVQb2ludChpLG8pLl9yb3VuZCgpfSkpO3RoaXMucGVyc3BlY3RpdmVUcmFuc2Zvcm09ZnVuY3Rpb24odCxpLG8scixuLGEscyxsLGMsaCl7Y29uc3QgdT16ZSgwLDAsdCwwLDAsaSx0LGkpLF89emUobyxyLG4sYSxzLGwsYyxoKTtyZXR1cm4gZS5tdWx0aXBseSQxKF8sZS5hZGpvaW50KHUsdSksXyksW19bNl0vX1s4XSp0L2UuRVhURU5ULF9bN10vX1s4XSppL2UuRVhURU5UXX0odGhpcy53aWR0aCx0aGlzLmhlaWdodCxvLngsby55LHIueCxyLnksYS54LGEueSxuLngsbi55KTtjb25zdCBzPXRoaXMuX2JvdW5kc0FycmF5PW5ldyBlLlN0cnVjdEFycmF5TGF5b3V0NGk4O3MuZW1wbGFjZUJhY2soby54LG8ueSwwLDApLHMuZW1wbGFjZUJhY2soci54LHIueSxlLkVYVEVOVCwwKSxzLmVtcGxhY2VCYWNrKGEueCxhLnksMCxlLkVYVEVOVCkscy5lbXBsYWNlQmFjayhuLngsbi55LGUuRVhURU5ULGUuRVhURU5UKSx0aGlzLmJvdW5kc0J1ZmZlciYmdGhpcy5ib3VuZHNCdWZmZXIuZGVzdHJveSgpLHRoaXMuYm91bmRzQnVmZmVyPXQuY3JlYXRlVmVydGV4QnVmZmVyKHMsZS5ib3VuZHNBdHRyaWJ1dGVzLm1lbWJlcnMpLHRoaXMuYm91bmRzU2VnbWVudHM9ZS5TZWdtZW50VmVjdG9yLnNpbXBsZVNlZ21lbnQoMCwwLDQsMik7fXByZXBhcmUoKXtpZigwPT09T2JqZWN0LmtleXModGhpcy50aWxlcykubGVuZ3RofHwhdGhpcy5pbWFnZSlyZXR1cm47Y29uc3QgdD10aGlzLm1hcC5wYWludGVyLmNvbnRleHQsaT10LmdsO3RoaXMudGV4dHVyZT90aGlzLnRleHR1cmUudXBkYXRlKHRoaXMuaW1hZ2UpOih0aGlzLnRleHR1cmU9bmV3IGUuVGV4dHVyZSh0LHRoaXMuaW1hZ2UsaS5SR0JBKSx0aGlzLnRleHR1cmUuYmluZChpLkxJTkVBUixpLkNMQU1QX1RPX0VER0UpKSx0aGlzLl9wcmVwYXJlRGF0YSh0KTt9bG9hZFRpbGUoZSx0KXt0aGlzLnRpbGVJRCYmdGhpcy50aWxlSUQuZXF1YWxzKGUudGlsZUlELmNhbm9uaWNhbCk/KHRoaXMudGlsZXNbU3RyaW5nKGUudGlsZUlELndyYXApXT1lLGUuYnVja2V0cz17fSx0KG51bGwpKTooZS5zdGF0ZT1cImVycm9yZWRcIix0KG51bGwpKTt9c2VyaWFsaXplKCl7cmV0dXJuIHt0eXBlOlwiaW1hZ2VcIix1cmw6dGhpcy5vcHRpb25zLnVybCxjb29yZGluYXRlczp0aGlzLmNvb3JkaW5hdGVzfX1oYXNUcmFuc2l0aW9uKCl7cmV0dXJuICExfX1jb25zdCBQZT17dmVjdG9yOmNsYXNzIGV4dGVuZHMgZS5FdmVudGVke2NvbnN0cnVjdG9yKHQsaSxvLHIpe2lmKHN1cGVyKCksdGhpcy5pZD10LHRoaXMuZGlzcGF0Y2hlcj1vLHRoaXMudHlwZT1cInZlY3RvclwiLHRoaXMubWluem9vbT0wLHRoaXMubWF4em9vbT0yMix0aGlzLnNjaGVtZT1cInh5elwiLHRoaXMudGlsZVNpemU9NTEyLHRoaXMucmVwYXJzZU92ZXJzY2FsZWQ9ITAsdGhpcy5pc1RpbGVDbGlwcGVkPSEwLHRoaXMuX2xvYWRlZD0hMSxlLmV4dGVuZCh0aGlzLGUucGljayhpLFtcInVybFwiLFwic2NoZW1lXCIsXCJ0aWxlU2l6ZVwiLFwicHJvbW90ZUlkXCJdKSksdGhpcy5fb3B0aW9ucz1lLmV4dGVuZCh7dHlwZTpcInZlY3RvclwifSxpKSx0aGlzLl9jb2xsZWN0UmVzb3VyY2VUaW1pbmc9aS5jb2xsZWN0UmVzb3VyY2VUaW1pbmcsNTEyIT09dGhpcy50aWxlU2l6ZSl0aHJvdyBuZXcgRXJyb3IoXCJ2ZWN0b3IgdGlsZSBzb3VyY2VzIG11c3QgaGF2ZSBhIHRpbGVTaXplIG9mIDUxMlwiKTt0aGlzLnNldEV2ZW50ZWRQYXJlbnQociksdGhpcy5fdGlsZVdvcmtlcnM9e30sdGhpcy5fZGVkdXBlZD1uZXcgZS5EZWR1cGVkUmVxdWVzdDt9bG9hZCh0KXt0aGlzLl9sb2FkZWQ9ITEsdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwiZGF0YWxvYWRpbmdcIix7ZGF0YVR5cGU6XCJzb3VyY2VcIn0pKTtjb25zdCBpPXRoaXMubGFuZ3VhZ2V8fHRoaXMubWFwLl9sYW5ndWFnZSxvPXRoaXMud29ybGR2aWV3fHx0aGlzLm1hcC5fd29ybGR2aWV3O3RoaXMuX3RpbGVKU09OUmVxdWVzdD1GKHRoaXMuX29wdGlvbnMsdGhpcy5tYXAuX3JlcXVlc3RNYW5hZ2VyLGksbywoKHIsbik9Pnt0aGlzLl90aWxlSlNPTlJlcXVlc3Q9bnVsbCx0aGlzLl9sb2FkZWQ9ITAscj8oaSYmY29uc29sZS53YXJuKGBFbnN1cmUgdGhhdCB5b3VyIHJlcXVlc3RlZCBsYW5ndWFnZSBzdHJpbmcgaXMgYSB2YWxpZCBCQ1AtNDcgY29kZS4gRm91bmQ6ICR7aX1gKSxvJiYyIT09by5sZW5ndGgmJmNvbnNvbGUud2FybihgUmVxdWVzdGVkIHdvcmxkdmlldyBzdHJpbmdzIG11c3QgYmUgYSB2YWxpZCBJU08gYWxwaGEtMiBjb2RlLiBGb3VuZDogJHtvfWApLHRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KHIpKSk6biYmKGUuZXh0ZW5kKHRoaXMsbiksbi5ib3VuZHMmJih0aGlzLnRpbGVCb3VuZHM9bmV3IFUobi5ib3VuZHMsdGhpcy5taW56b29tLHRoaXMubWF4em9vbSkpLGUucG9zdFR1cm5zdGlsZUV2ZW50KG4udGlsZXMsdGhpcy5tYXAuX3JlcXVlc3RNYW5hZ2VyLl9jdXN0b21BY2Nlc3NUb2tlbiksdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwiZGF0YVwiLHtkYXRhVHlwZTpcInNvdXJjZVwiLHNvdXJjZURhdGFUeXBlOlwibWV0YWRhdGFcIn0pKSx0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJkYXRhXCIse2RhdGFUeXBlOlwic291cmNlXCIsc291cmNlRGF0YVR5cGU6XCJjb250ZW50XCJ9KSkpLHQmJnQocik7fSkpO31sb2FkZWQoKXtyZXR1cm4gdGhpcy5fbG9hZGVkfWhhc1RpbGUoZSl7cmV0dXJuICF0aGlzLnRpbGVCb3VuZHN8fHRoaXMudGlsZUJvdW5kcy5jb250YWlucyhlLmNhbm9uaWNhbCl9b25BZGQoZSl7dGhpcy5tYXA9ZSx0aGlzLmxvYWQoKTt9c2V0U291cmNlUHJvcGVydHkoZSl7dGhpcy5fdGlsZUpTT05SZXF1ZXN0JiZ0aGlzLl90aWxlSlNPTlJlcXVlc3QuY2FuY2VsKCksZSgpLHRoaXMubG9hZCgoKCk9Pntjb25zdCBlPXRoaXMubWFwLnN0eWxlLl9nZXRTb3VyY2VDYWNoZXModGhpcy5pZCk7Zm9yKGNvbnN0IHQgb2YgZSl0LmNsZWFyVGlsZXMoKTt9KSk7fXNldFRpbGVzKGUpe3JldHVybiB0aGlzLnNldFNvdXJjZVByb3BlcnR5KCgoKT0+e3RoaXMuX29wdGlvbnMudGlsZXM9ZTt9KSksdGhpc31zZXRVcmwoZSl7cmV0dXJuIHRoaXMuc2V0U291cmNlUHJvcGVydHkoKCgpPT57dGhpcy51cmw9ZSx0aGlzLl9vcHRpb25zLnVybD1lO30pKSx0aGlzfV9zZXRMYW5ndWFnZShlKXtyZXR1cm4gZT09PXRoaXMubGFuZ3VhZ2V8fHRoaXMuc2V0U291cmNlUHJvcGVydHkoKCgpPT57dGhpcy5sYW5ndWFnZT1lO30pKSx0aGlzfV9zZXRXb3JsZHZpZXcoZSl7cmV0dXJuIGU9PT10aGlzLndvcmxkdmlldz90aGlzOnRoaXMud29ybGR2aWV3T3B0aW9ucyYmZSYmIXRoaXMud29ybGR2aWV3T3B0aW9uc1tlXT8oY29uc29sZS53YXJuKGBWZWN0b3IgdGlsZSBzb3VyY2UgXCIke3RoaXMuaWR9XCIgZG9lcyBub3Qgc3VwcG9ydCB3b3JsZHZpZXcgXCIke2V9XCIuYCksdGhpcyk6KHRoaXMuc2V0U291cmNlUHJvcGVydHkoKCgpPT57dGhpcy53b3JsZHZpZXc9ZTt9KSksdGhpcyl9b25SZW1vdmUoKXt0aGlzLl90aWxlSlNPTlJlcXVlc3QmJih0aGlzLl90aWxlSlNPTlJlcXVlc3QuY2FuY2VsKCksdGhpcy5fdGlsZUpTT05SZXF1ZXN0PW51bGwpO31zZXJpYWxpemUoKXtyZXR1cm4gZS5leHRlbmQoe30sdGhpcy5fb3B0aW9ucyl9bG9hZFRpbGUodCxpKXtjb25zdCBvPXRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlci5ub3JtYWxpemVUaWxlVVJMKHQudGlsZUlELmNhbm9uaWNhbC51cmwodGhpcy50aWxlcyx0aGlzLnNjaGVtZSkpLHI9e3JlcXVlc3Q6dGhpcy5tYXAuX3JlcXVlc3RNYW5hZ2VyLnRyYW5zZm9ybVJlcXVlc3QobyxlLlJlc291cmNlVHlwZS5UaWxlKSxkYXRhOnZvaWQgMCx1aWQ6dC51aWQsdGlsZUlEOnQudGlsZUlELHRpbGVab29tOnQudGlsZVpvb20sem9vbTp0LnRpbGVJRC5vdmVyc2NhbGVkWix0aWxlU2l6ZTp0aGlzLnRpbGVTaXplKnQudGlsZUlELm92ZXJzY2FsZUZhY3RvcigpLHR5cGU6dGhpcy50eXBlLHNvdXJjZTp0aGlzLmlkLHBpeGVsUmF0aW86ZS5leHBvcnRlZC5kZXZpY2VQaXhlbFJhdGlvLHNob3dDb2xsaXNpb25Cb3hlczp0aGlzLm1hcC5zaG93Q29sbGlzaW9uQm94ZXMscHJvbW90ZUlkOnRoaXMucHJvbW90ZUlkLGlzU3ltYm9sVGlsZTp0LmlzU3ltYm9sVGlsZX07aWYoci5yZXF1ZXN0LmNvbGxlY3RSZXNvdXJjZVRpbWluZz10aGlzLl9jb2xsZWN0UmVzb3VyY2VUaW1pbmcsdC5hY3RvciYmXCJleHBpcmVkXCIhPT10LnN0YXRlKVwibG9hZGluZ1wiPT09dC5zdGF0ZT90LnJlbG9hZENhbGxiYWNrPWk6dC5yZXF1ZXN0PXQuYWN0b3Iuc2VuZChcInJlbG9hZFRpbGVcIixyLG4uYmluZCh0aGlzKSk7ZWxzZSBpZih0LmFjdG9yPXRoaXMuX3RpbGVXb3JrZXJzW29dPXRoaXMuX3RpbGVXb3JrZXJzW29dfHx0aGlzLmRpc3BhdGNoZXIuZ2V0QWN0b3IoKSx0aGlzLmRpc3BhdGNoZXIucmVhZHkpdC5yZXF1ZXN0PXQuYWN0b3Iuc2VuZChcImxvYWRUaWxlXCIscixuLmJpbmQodGhpcyksdm9pZCAwLCEwKTtlbHNlIHtjb25zdCBpPWUubG9hZFZlY3RvclRpbGUuY2FsbCh7ZGVkdXBlZDp0aGlzLl9kZWR1cGVkfSxyLCgoZSxpKT0+e2V8fCFpP24uY2FsbCh0aGlzLGUpOihyLmRhdGE9e2NhY2hlQ29udHJvbDppLmNhY2hlQ29udHJvbCxleHBpcmVzOmkuZXhwaXJlcyxyYXdEYXRhOmkucmF3RGF0YS5zbGljZSgwKX0sdC5hY3RvciYmdC5hY3Rvci5zZW5kKFwibG9hZFRpbGVcIixyLG4uYmluZCh0aGlzKSx2b2lkIDAsITApKTt9KSwhMCk7dC5yZXF1ZXN0PXtjYW5jZWw6aX07fWZ1bmN0aW9uIG4obyxyKXtyZXR1cm4gZGVsZXRlIHQucmVxdWVzdCx0LmFib3J0ZWQ/aShudWxsKTpvJiY0MDQhPT1vLnN0YXR1cz9pKG8pOihyJiZyLnJlc291cmNlVGltaW5nJiYodC5yZXNvdXJjZVRpbWluZz1yLnJlc291cmNlVGltaW5nKSx0aGlzLm1hcC5fcmVmcmVzaEV4cGlyZWRUaWxlcyYmciYmdC5zZXRFeHBpcnlEYXRhKHIpLHQubG9hZFZlY3RvckRhdGEocix0aGlzLm1hcC5wYWludGVyKSxlLmNhY2hlRW50cnlQb3NzaWJseUFkZGVkKHRoaXMuZGlzcGF0Y2hlciksaShudWxsKSx2b2lkKHQucmVsb2FkQ2FsbGJhY2smJih0aGlzLmxvYWRUaWxlKHQsdC5yZWxvYWRDYWxsYmFjayksdC5yZWxvYWRDYWxsYmFjaz1udWxsKSkpfX1hYm9ydFRpbGUoZSl7ZS5yZXF1ZXN0JiYoZS5yZXF1ZXN0LmNhbmNlbCgpLGRlbGV0ZSBlLnJlcXVlc3QpLGUuYWN0b3ImJmUuYWN0b3Iuc2VuZChcImFib3J0VGlsZVwiLHt1aWQ6ZS51aWQsdHlwZTp0aGlzLnR5cGUsc291cmNlOnRoaXMuaWR9KTt9dW5sb2FkVGlsZShlKXtlLnVubG9hZFZlY3RvckRhdGEoKSxlLmFjdG9yJiZlLmFjdG9yLnNlbmQoXCJyZW1vdmVUaWxlXCIse3VpZDplLnVpZCx0eXBlOnRoaXMudHlwZSxzb3VyY2U6dGhpcy5pZH0pO31oYXNUcmFuc2l0aW9uKCl7cmV0dXJuICExfWFmdGVyVXBkYXRlKCl7dGhpcy5fdGlsZVdvcmtlcnM9e307fX0scmFzdGVyOk1lLFwicmFzdGVyLWRlbVwiOmNsYXNzIGV4dGVuZHMgTWV7Y29uc3RydWN0b3IodCxpLG8scil7c3VwZXIodCxpLG8sciksdGhpcy50eXBlPVwicmFzdGVyLWRlbVwiLHRoaXMubWF4em9vbT0yMix0aGlzLl9vcHRpb25zPWUuZXh0ZW5kKHt0eXBlOlwicmFzdGVyLWRlbVwifSxpKSx0aGlzLmVuY29kaW5nPWkuZW5jb2Rpbmd8fFwibWFwYm94XCI7fWxvYWRUaWxlKHQsaSl7Y29uc3Qgbz10aGlzLm1hcC5fcmVxdWVzdE1hbmFnZXIubm9ybWFsaXplVGlsZVVSTCh0LnRpbGVJRC5jYW5vbmljYWwudXJsKHRoaXMudGlsZXMsdGhpcy5zY2hlbWUpLCExLHRoaXMudGlsZVNpemUpO2Z1bmN0aW9uIHIoZSxvKXtlJiYodC5zdGF0ZT1cImVycm9yZWRcIixpKGUpKSxvJiYodC5kZW09byx0LmRlbS5vbkRlc2VyaWFsaXplKCksdC5uZWVkc0hpbGxzaGFkZVByZXBhcmU9ITAsdC5uZWVkc0RFTVRleHR1cmVVcGxvYWQ9ITAsdC5zdGF0ZT1cImxvYWRlZFwiLGkobnVsbCkpO310LnJlcXVlc3Q9ZS5nZXRJbWFnZSh0aGlzLm1hcC5fcmVxdWVzdE1hbmFnZXIudHJhbnNmb3JtUmVxdWVzdChvLGUuUmVzb3VyY2VUeXBlLlRpbGUpLGZ1bmN0aW9uKG8sbixhLHMpe2lmKGRlbGV0ZSB0LnJlcXVlc3QsdC5hYm9ydGVkKXQuc3RhdGU9XCJ1bmxvYWRlZFwiLGkobnVsbCk7ZWxzZSBpZihvKXQuc3RhdGU9XCJlcnJvcmVkXCIsaShvKTtlbHNlIGlmKG4pe3RoaXMubWFwLl9yZWZyZXNoRXhwaXJlZFRpbGVzJiZ0LnNldEV4cGlyeURhdGEoe2NhY2hlQ29udHJvbDphLGV4cGlyZXM6c30pO2NvbnN0IGk9ZS53aW5kb3cuSW1hZ2VCaXRtYXAmJm4gaW5zdGFuY2VvZiBlLndpbmRvdy5JbWFnZUJpdG1hcCYmKG51bGw9PVNlJiYoU2U9ZS53aW5kb3cuT2Zmc2NyZWVuQ2FudmFzJiZuZXcgZS53aW5kb3cuT2Zmc2NyZWVuQ2FudmFzKDEsMSkuZ2V0Q29udGV4dChcIjJkXCIpJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLndpbmRvdy5jcmVhdGVJbWFnZUJpdG1hcCksU2UpLG89MS0obi53aWR0aC1lLnByZXZQb3dlck9mVHdvKG4ud2lkdGgpKS8yO288MXx8dC5uZWlnaGJvcmluZ1RpbGVzfHwodC5uZWlnaGJvcmluZ1RpbGVzPXRoaXMuX2dldE5laWdoYm9yaW5nVGlsZXModC50aWxlSUQpKTtjb25zdCBsPWk/bjplLmV4cG9ydGVkLmdldEltYWdlRGF0YShuLG8pLGM9e3VpZDp0LnVpZCxjb29yZDp0LnRpbGVJRCxzb3VyY2U6dGhpcy5pZCxyYXdJbWFnZURhdGE6bCxlbmNvZGluZzp0aGlzLmVuY29kaW5nLHBhZGRpbmc6b307dC5hY3RvciYmXCJleHBpcmVkXCIhPT10LnN0YXRlfHwodC5hY3Rvcj10aGlzLmRpc3BhdGNoZXIuZ2V0QWN0b3IoKSx0LmFjdG9yLnNlbmQoXCJsb2FkREVNVGlsZVwiLGMsci5iaW5kKHRoaXMpLHZvaWQgMCwhMCkpO319LmJpbmQodGhpcykpO31fZ2V0TmVpZ2hib3JpbmdUaWxlcyh0KXtjb25zdCBpPXQuY2Fub25pY2FsLG89TWF0aC5wb3coMixpLnopLHI9KGkueC0xK28pJW8sbj0wPT09aS54P3Qud3JhcC0xOnQud3JhcCxhPShpLngrMStvKSVvLHM9aS54KzE9PT1vP3Qud3JhcCsxOnQud3JhcCxsPXt9O3JldHVybiBsW25ldyBlLk92ZXJzY2FsZWRUaWxlSUQodC5vdmVyc2NhbGVkWixuLGkueixyLGkueSkua2V5XT17YmFja2ZpbGxlZDohMX0sbFtuZXcgZS5PdmVyc2NhbGVkVGlsZUlEKHQub3ZlcnNjYWxlZFoscyxpLnosYSxpLnkpLmtleV09e2JhY2tmaWxsZWQ6ITF9LGkueT4wJiYobFtuZXcgZS5PdmVyc2NhbGVkVGlsZUlEKHQub3ZlcnNjYWxlZFosbixpLnoscixpLnktMSkua2V5XT17YmFja2ZpbGxlZDohMX0sbFtuZXcgZS5PdmVyc2NhbGVkVGlsZUlEKHQub3ZlcnNjYWxlZFosdC53cmFwLGkueixpLngsaS55LTEpLmtleV09e2JhY2tmaWxsZWQ6ITF9LGxbbmV3IGUuT3ZlcnNjYWxlZFRpbGVJRCh0Lm92ZXJzY2FsZWRaLHMsaS56LGEsaS55LTEpLmtleV09e2JhY2tmaWxsZWQ6ITF9KSxpLnkrMTxvJiYobFtuZXcgZS5PdmVyc2NhbGVkVGlsZUlEKHQub3ZlcnNjYWxlZFosbixpLnoscixpLnkrMSkua2V5XT17YmFja2ZpbGxlZDohMX0sbFtuZXcgZS5PdmVyc2NhbGVkVGlsZUlEKHQub3ZlcnNjYWxlZFosdC53cmFwLGkueixpLngsaS55KzEpLmtleV09e2JhY2tmaWxsZWQ6ITF9LGxbbmV3IGUuT3ZlcnNjYWxlZFRpbGVJRCh0Lm92ZXJzY2FsZWRaLHMsaS56LGEsaS55KzEpLmtleV09e2JhY2tmaWxsZWQ6ITF9KSxsfXVubG9hZFRpbGUoZSl7ZS5kZW1UZXh0dXJlJiZ0aGlzLm1hcC5wYWludGVyLnNhdmVUaWxlVGV4dHVyZShlLmRlbVRleHR1cmUpLGUuZmJvJiYoZS5mYm8uZGVzdHJveSgpLGRlbGV0ZSBlLmZibyksZS5kZW0mJmRlbGV0ZSBlLmRlbSxkZWxldGUgZS5uZWlnaGJvcmluZ1RpbGVzLGUuc3RhdGU9XCJ1bmxvYWRlZFwiO319LGdlb2pzb246Y2xhc3MgZXh0ZW5kcyBlLkV2ZW50ZWR7Y29uc3RydWN0b3IodCxpLG8scil7c3VwZXIoKSx0aGlzLmlkPXQsdGhpcy50eXBlPVwiZ2VvanNvblwiLHRoaXMubWluem9vbT0wLHRoaXMubWF4em9vbT0xOCx0aGlzLnRpbGVTaXplPTUxMix0aGlzLmlzVGlsZUNsaXBwZWQ9ITAsdGhpcy5yZXBhcnNlT3ZlcnNjYWxlZD0hMCx0aGlzLl9sb2FkZWQ9ITEsdGhpcy5hY3Rvcj1vLmdldEFjdG9yKCksdGhpcy5zZXRFdmVudGVkUGFyZW50KHIpLHRoaXMuX2RhdGE9aS5kYXRhLHRoaXMuX29wdGlvbnM9ZS5leHRlbmQoe30saSksdGhpcy5fY29sbGVjdFJlc291cmNlVGltaW5nPWkuY29sbGVjdFJlc291cmNlVGltaW5nLHZvaWQgMCE9PWkubWF4em9vbSYmKHRoaXMubWF4em9vbT1pLm1heHpvb20pLGkudHlwZSYmKHRoaXMudHlwZT1pLnR5cGUpLGkuYXR0cmlidXRpb24mJih0aGlzLmF0dHJpYnV0aW9uPWkuYXR0cmlidXRpb24pLHRoaXMucHJvbW90ZUlkPWkucHJvbW90ZUlkO2NvbnN0IG49ZS5FWFRFTlQvdGhpcy50aWxlU2l6ZTt0aGlzLndvcmtlck9wdGlvbnM9ZS5leHRlbmQoe3NvdXJjZTp0aGlzLmlkLGNsdXN0ZXI6aS5jbHVzdGVyfHwhMSxnZW9qc29uVnRPcHRpb25zOntidWZmZXI6KHZvaWQgMCE9PWkuYnVmZmVyP2kuYnVmZmVyOjEyOCkqbix0b2xlcmFuY2U6KHZvaWQgMCE9PWkudG9sZXJhbmNlP2kudG9sZXJhbmNlOi4zNzUpKm4sZXh0ZW50OmUuRVhURU5ULG1heFpvb206dGhpcy5tYXh6b29tLGxpbmVNZXRyaWNzOmkubGluZU1ldHJpY3N8fCExLGdlbmVyYXRlSWQ6aS5nZW5lcmF0ZUlkfHwhMX0sc3VwZXJjbHVzdGVyT3B0aW9uczp7bWF4Wm9vbTp2b2lkIDAhPT1pLmNsdXN0ZXJNYXhab29tP2kuY2x1c3Rlck1heFpvb206dGhpcy5tYXh6b29tLTEsbWluUG9pbnRzOk1hdGgubWF4KDIsaS5jbHVzdGVyTWluUG9pbnRzfHwyKSxleHRlbnQ6ZS5FWFRFTlQscmFkaXVzOih2b2lkIDAhPT1pLmNsdXN0ZXJSYWRpdXM/aS5jbHVzdGVyUmFkaXVzOjUwKSpuLGxvZzohMSxnZW5lcmF0ZUlkOmkuZ2VuZXJhdGVJZHx8ITF9LGNsdXN0ZXJQcm9wZXJ0aWVzOmkuY2x1c3RlclByb3BlcnRpZXMsZmlsdGVyOmkuZmlsdGVyfSxpLndvcmtlck9wdGlvbnMpO31vbkFkZChlKXt0aGlzLm1hcD1lLHRoaXMuc2V0RGF0YSh0aGlzLl9kYXRhKTt9c2V0RGF0YShlKXtyZXR1cm4gdGhpcy5fZGF0YT1lLHRoaXMuX3VwZGF0ZVdvcmtlckRhdGEoKSx0aGlzfWdldENsdXN0ZXJFeHBhbnNpb25ab29tKGUsdCl7cmV0dXJuIHRoaXMuYWN0b3Iuc2VuZChcImdlb2pzb24uZ2V0Q2x1c3RlckV4cGFuc2lvblpvb21cIix7Y2x1c3RlcklkOmUsc291cmNlOnRoaXMuaWR9LHQpLHRoaXN9Z2V0Q2x1c3RlckNoaWxkcmVuKGUsdCl7cmV0dXJuIHRoaXMuYWN0b3Iuc2VuZChcImdlb2pzb24uZ2V0Q2x1c3RlckNoaWxkcmVuXCIse2NsdXN0ZXJJZDplLHNvdXJjZTp0aGlzLmlkfSx0KSx0aGlzfWdldENsdXN0ZXJMZWF2ZXMoZSx0LGksbyl7cmV0dXJuIHRoaXMuYWN0b3Iuc2VuZChcImdlb2pzb24uZ2V0Q2x1c3RlckxlYXZlc1wiLHtzb3VyY2U6dGhpcy5pZCxjbHVzdGVySWQ6ZSxsaW1pdDp0LG9mZnNldDppfSxvKSx0aGlzfV91cGRhdGVXb3JrZXJEYXRhKCl7aWYodGhpcy5fcGVuZGluZ0xvYWQpcmV0dXJuIHZvaWQodGhpcy5fY29hbGVzY2U9ITApO3RoaXMuZmlyZShuZXcgZS5FdmVudChcImRhdGFsb2FkaW5nXCIse2RhdGFUeXBlOlwic291cmNlXCJ9KSksdGhpcy5fbG9hZGVkPSExO2NvbnN0IHQ9ZS5leHRlbmQoe30sdGhpcy53b3JrZXJPcHRpb25zKSxpPXRoaXMuX2RhdGE7XCJzdHJpbmdcIj09dHlwZW9mIGk/KHQucmVxdWVzdD10aGlzLm1hcC5fcmVxdWVzdE1hbmFnZXIudHJhbnNmb3JtUmVxdWVzdChlLmV4cG9ydGVkLnJlc29sdmVVUkwoaSksZS5SZXNvdXJjZVR5cGUuU291cmNlKSx0LnJlcXVlc3QuY29sbGVjdFJlc291cmNlVGltaW5nPXRoaXMuX2NvbGxlY3RSZXNvdXJjZVRpbWluZyk6dC5kYXRhPUpTT04uc3RyaW5naWZ5KGkpLHRoaXMuX3BlbmRpbmdMb2FkPXRoaXMuYWN0b3Iuc2VuZChgJHt0aGlzLnR5cGV9LmxvYWREYXRhYCx0LCgodCxpKT0+e2lmKHRoaXMuX2xvYWRlZD0hMCx0aGlzLl9wZW5kaW5nTG9hZD1udWxsLHQpdGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQodCkpO2Vsc2Uge2NvbnN0IHQ9e2RhdGFUeXBlOlwic291cmNlXCIsc291cmNlRGF0YVR5cGU6dGhpcy5fbWV0YWRhdGFGaXJlZD9cImNvbnRlbnRcIjpcIm1ldGFkYXRhXCJ9O3RoaXMuX2NvbGxlY3RSZXNvdXJjZVRpbWluZyYmaSYmaS5yZXNvdXJjZVRpbWluZyYmaS5yZXNvdXJjZVRpbWluZ1t0aGlzLmlkXSYmKHQucmVzb3VyY2VUaW1pbmc9aS5yZXNvdXJjZVRpbWluZ1t0aGlzLmlkXSksdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwiZGF0YVwiLHQpKSx0aGlzLl9tZXRhZGF0YUZpcmVkPSEwO310aGlzLl9jb2FsZXNjZSYmKHRoaXMuX3VwZGF0ZVdvcmtlckRhdGEoKSx0aGlzLl9jb2FsZXNjZT0hMSk7fSkpO31sb2FkZWQoKXtyZXR1cm4gdGhpcy5fbG9hZGVkfWxvYWRUaWxlKHQsaSl7Y29uc3Qgbz10LmFjdG9yP1wicmVsb2FkVGlsZVwiOlwibG9hZFRpbGVcIjt0LmFjdG9yPXRoaXMuYWN0b3IsdC5yZXF1ZXN0PXRoaXMuYWN0b3Iuc2VuZChvLHt0eXBlOnRoaXMudHlwZSx1aWQ6dC51aWQsdGlsZUlEOnQudGlsZUlELHRpbGVab29tOnQudGlsZVpvb20sem9vbTp0LnRpbGVJRC5vdmVyc2NhbGVkWixtYXhab29tOnRoaXMubWF4em9vbSx0aWxlU2l6ZTp0aGlzLnRpbGVTaXplLHNvdXJjZTp0aGlzLmlkLHBpeGVsUmF0aW86ZS5leHBvcnRlZC5kZXZpY2VQaXhlbFJhdGlvLHNob3dDb2xsaXNpb25Cb3hlczp0aGlzLm1hcC5zaG93Q29sbGlzaW9uQm94ZXMscHJvbW90ZUlkOnRoaXMucHJvbW90ZUlkfSwoKGUscik9PihkZWxldGUgdC5yZXF1ZXN0LHQudW5sb2FkVmVjdG9yRGF0YSgpLHQuYWJvcnRlZD9pKG51bGwpOmU/aShlKToodC5sb2FkVmVjdG9yRGF0YShyLHRoaXMubWFwLnBhaW50ZXIsXCJyZWxvYWRUaWxlXCI9PT1vKSxpKG51bGwpKSkpLHZvaWQgMCxcImxvYWRUaWxlXCI9PT1vKTt9YWJvcnRUaWxlKGUpe2UucmVxdWVzdCYmKGUucmVxdWVzdC5jYW5jZWwoKSxkZWxldGUgZS5yZXF1ZXN0KSxlLmFib3J0ZWQ9ITA7fXVubG9hZFRpbGUoZSl7ZS51bmxvYWRWZWN0b3JEYXRhKCksdGhpcy5hY3Rvci5zZW5kKFwicmVtb3ZlVGlsZVwiLHt1aWQ6ZS51aWQsdHlwZTp0aGlzLnR5cGUsc291cmNlOnRoaXMuaWR9KTt9b25SZW1vdmUoKXt0aGlzLl9wZW5kaW5nTG9hZCYmdGhpcy5fcGVuZGluZ0xvYWQuY2FuY2VsKCk7fXNlcmlhbGl6ZSgpe3JldHVybiBlLmV4dGVuZCh7fSx0aGlzLl9vcHRpb25zLHt0eXBlOnRoaXMudHlwZSxkYXRhOnRoaXMuX2RhdGF9KX1oYXNUcmFuc2l0aW9uKCl7cmV0dXJuICExfX0sdmlkZW86Y2xhc3MgZXh0ZW5kcyBEZXtjb25zdHJ1Y3RvcihlLHQsaSxvKXtzdXBlcihlLHQsaSxvKSx0aGlzLnJvdW5kWm9vbT0hMCx0aGlzLnR5cGU9XCJ2aWRlb1wiLHRoaXMub3B0aW9ucz10O31sb2FkKCl7dGhpcy5fbG9hZGVkPSExO2NvbnN0IHQ9dGhpcy5vcHRpb25zO3RoaXMudXJscz1bXTtmb3IoY29uc3QgaSBvZiB0LnVybHMpdGhpcy51cmxzLnB1c2godGhpcy5tYXAuX3JlcXVlc3RNYW5hZ2VyLnRyYW5zZm9ybVJlcXVlc3QoaSxlLlJlc291cmNlVHlwZS5Tb3VyY2UpLnVybCk7ZS5nZXRWaWRlbyh0aGlzLnVybHMsKCh0LGkpPT57dGhpcy5fbG9hZGVkPSEwLHQ/dGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQodCkpOmkmJih0aGlzLnZpZGVvPWksdGhpcy52aWRlby5sb29wPSEwLHRoaXMudmlkZW8uc2V0QXR0cmlidXRlKFwicGxheXNpbmxpbmVcIixcIlwiKSx0aGlzLnZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoXCJwbGF5aW5nXCIsKCgpPT57dGhpcy5tYXAudHJpZ2dlclJlcGFpbnQoKTt9KSksdGhpcy5tYXAmJnRoaXMudmlkZW8ucGxheSgpLHRoaXMuX2ZpbmlzaExvYWRpbmcoKSk7fSkpO31wYXVzZSgpe3RoaXMudmlkZW8mJnRoaXMudmlkZW8ucGF1c2UoKTt9cGxheSgpe3RoaXMudmlkZW8mJnRoaXMudmlkZW8ucGxheSgpO31zZWVrKHQpe2lmKHRoaXMudmlkZW8pe2NvbnN0IGk9dGhpcy52aWRlby5zZWVrYWJsZTt0PGkuc3RhcnQoMCl8fHQ+aS5lbmQoMCk/dGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IGUuVmFsaWRhdGlvbkVycm9yKGBzb3VyY2VzLiR7dGhpcy5pZH1gLG51bGwsYFBsYXliYWNrIGZvciB0aGlzIHZpZGVvIGNhbiBiZSBzZXQgb25seSBiZXR3ZWVuIHRoZSAke2kuc3RhcnQoMCl9IGFuZCAke2kuZW5kKDApfS1zZWNvbmQgbWFyay5gKSkpOnRoaXMudmlkZW8uY3VycmVudFRpbWU9dDt9fWdldFZpZGVvKCl7cmV0dXJuIHRoaXMudmlkZW99b25BZGQoZSl7dGhpcy5tYXB8fCh0aGlzLm1hcD1lLHRoaXMubG9hZCgpLHRoaXMudmlkZW8mJih0aGlzLnZpZGVvLnBsYXkoKSx0aGlzLnNldENvb3JkaW5hdGVzKHRoaXMuY29vcmRpbmF0ZXMpKSk7fXByZXBhcmUoKXtpZigwPT09T2JqZWN0LmtleXModGhpcy50aWxlcykubGVuZ3RofHx0aGlzLnZpZGVvLnJlYWR5U3RhdGU8MilyZXR1cm47Y29uc3QgdD10aGlzLm1hcC5wYWludGVyLmNvbnRleHQsaT10LmdsO3RoaXMudGV4dHVyZT90aGlzLnZpZGVvLnBhdXNlZHx8KHRoaXMudGV4dHVyZS5iaW5kKGkuTElORUFSLGkuQ0xBTVBfVE9fRURHRSksaS50ZXhTdWJJbWFnZTJEKGkuVEVYVFVSRV8yRCwwLDAsMCxpLlJHQkEsaS5VTlNJR05FRF9CWVRFLHRoaXMudmlkZW8pKToodGhpcy50ZXh0dXJlPW5ldyBlLlRleHR1cmUodCx0aGlzLnZpZGVvLGkuUkdCQSksdGhpcy50ZXh0dXJlLmJpbmQoaS5MSU5FQVIsaS5DTEFNUF9UT19FREdFKSx0aGlzLndpZHRoPXRoaXMudmlkZW8udmlkZW9XaWR0aCx0aGlzLmhlaWdodD10aGlzLnZpZGVvLnZpZGVvSGVpZ2h0KSx0aGlzLl9wcmVwYXJlRGF0YSh0KTt9c2VyaWFsaXplKCl7cmV0dXJuIHt0eXBlOlwidmlkZW9cIix1cmxzOnRoaXMudXJscyxjb29yZGluYXRlczp0aGlzLmNvb3JkaW5hdGVzfX1oYXNUcmFuc2l0aW9uKCl7cmV0dXJuIHRoaXMudmlkZW8mJiF0aGlzLnZpZGVvLnBhdXNlZH19LGltYWdlOkRlLGNhbnZhczpjbGFzcyBleHRlbmRzIERle2NvbnN0cnVjdG9yKHQsaSxvLHIpe3N1cGVyKHQsaSxvLHIpLGkuY29vcmRpbmF0ZXM/QXJyYXkuaXNBcnJheShpLmNvb3JkaW5hdGVzKSYmND09PWkuY29vcmRpbmF0ZXMubGVuZ3RoJiYhaS5jb29yZGluYXRlcy5zb21lKChlPT4hQXJyYXkuaXNBcnJheShlKXx8MiE9PWUubGVuZ3RofHxlLnNvbWUoKGU9PlwibnVtYmVyXCIhPXR5cGVvZiBlKSkpKXx8dGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IGUuVmFsaWRhdGlvbkVycm9yKGBzb3VyY2VzLiR7dH1gLG51bGwsJ1wiY29vcmRpbmF0ZXNcIiBwcm9wZXJ0eSBtdXN0IGJlIGFuIGFycmF5IG9mIDQgbG9uZ2l0dWRlL2xhdGl0dWRlIGFycmF5IHBhaXJzJykpKTp0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgZS5WYWxpZGF0aW9uRXJyb3IoYHNvdXJjZXMuJHt0fWAsbnVsbCwnbWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSBcImNvb3JkaW5hdGVzXCInKSkpLGkuYW5pbWF0ZSYmXCJib29sZWFuXCIhPXR5cGVvZiBpLmFuaW1hdGUmJnRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBlLlZhbGlkYXRpb25FcnJvcihgc291cmNlcy4ke3R9YCxudWxsLCdvcHRpb25hbCBcImFuaW1hdGVcIiBwcm9wZXJ0eSBtdXN0IGJlIGEgYm9vbGVhbiB2YWx1ZScpKSksaS5jYW52YXM/XCJzdHJpbmdcIj09dHlwZW9mIGkuY2FudmFzfHxpLmNhbnZhcyBpbnN0YW5jZW9mIGUud2luZG93LkhUTUxDYW52YXNFbGVtZW50fHx0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgZS5WYWxpZGF0aW9uRXJyb3IoYHNvdXJjZXMuJHt0fWAsbnVsbCwnXCJjYW52YXNcIiBtdXN0IGJlIGVpdGhlciBhIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIElEIG9mIHRoZSBjYW52YXMgZWxlbWVudCBmcm9tIHdoaWNoIHRvIHJlYWQsIG9yIGFuIEhUTUxDYW52YXNFbGVtZW50IGluc3RhbmNlJykpKTp0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgZS5WYWxpZGF0aW9uRXJyb3IoYHNvdXJjZXMuJHt0fWAsbnVsbCwnbWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSBcImNhbnZhc1wiJykpKSx0aGlzLm9wdGlvbnM9aSx0aGlzLmFuaW1hdGU9dm9pZCAwPT09aS5hbmltYXRlfHxpLmFuaW1hdGU7fWxvYWQoKXt0aGlzLl9sb2FkZWQ9ITAsdGhpcy5jYW52YXN8fCh0aGlzLmNhbnZhcz10aGlzLm9wdGlvbnMuY2FudmFzIGluc3RhbmNlb2YgZS53aW5kb3cuSFRNTENhbnZhc0VsZW1lbnQ/dGhpcy5vcHRpb25zLmNhbnZhczplLndpbmRvdy5kb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLm9wdGlvbnMuY2FudmFzKSksdGhpcy53aWR0aD10aGlzLmNhbnZhcy53aWR0aCx0aGlzLmhlaWdodD10aGlzLmNhbnZhcy5oZWlnaHQsdGhpcy5faGFzSW52YWxpZERpbWVuc2lvbnMoKT90aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoXCJDYW52YXMgZGltZW5zaW9ucyBjYW5ub3QgYmUgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIHplcm8uXCIpKSk6KHRoaXMucGxheT1mdW5jdGlvbigpe3RoaXMuX3BsYXlpbmc9ITAsdGhpcy5tYXAudHJpZ2dlclJlcGFpbnQoKTt9LHRoaXMucGF1c2U9ZnVuY3Rpb24oKXt0aGlzLl9wbGF5aW5nJiYodGhpcy5wcmVwYXJlKCksdGhpcy5fcGxheWluZz0hMSk7fSx0aGlzLl9maW5pc2hMb2FkaW5nKCkpO31nZXRDYW52YXMoKXtyZXR1cm4gdGhpcy5jYW52YXN9b25BZGQoZSl7dGhpcy5tYXA9ZSx0aGlzLmxvYWQoKSx0aGlzLmNhbnZhcyYmdGhpcy5hbmltYXRlJiZ0aGlzLnBsYXkoKTt9b25SZW1vdmUoKXt0aGlzLnBhdXNlKCk7fXByZXBhcmUoKXtsZXQgdD0hMTtpZih0aGlzLmNhbnZhcy53aWR0aCE9PXRoaXMud2lkdGgmJih0aGlzLndpZHRoPXRoaXMuY2FudmFzLndpZHRoLHQ9ITApLHRoaXMuY2FudmFzLmhlaWdodCE9PXRoaXMuaGVpZ2h0JiYodGhpcy5oZWlnaHQ9dGhpcy5jYW52YXMuaGVpZ2h0LHQ9ITApLHRoaXMuX2hhc0ludmFsaWREaW1lbnNpb25zKCkpcmV0dXJuO2lmKDA9PT1PYmplY3Qua2V5cyh0aGlzLnRpbGVzKS5sZW5ndGgpcmV0dXJuO2NvbnN0IGk9dGhpcy5tYXAucGFpbnRlci5jb250ZXh0O3RoaXMudGV4dHVyZT8odHx8dGhpcy5fcGxheWluZykmJnRoaXMudGV4dHVyZS51cGRhdGUodGhpcy5jYW52YXMse3ByZW11bHRpcGx5OiEwfSk6dGhpcy50ZXh0dXJlPW5ldyBlLlRleHR1cmUoaSx0aGlzLmNhbnZhcyxpLmdsLlJHQkEse3ByZW11bHRpcGx5OiEwfSksdGhpcy5fcHJlcGFyZURhdGEoaSk7fXNlcmlhbGl6ZSgpe3JldHVybiB7dHlwZTpcImNhbnZhc1wiLGNvb3JkaW5hdGVzOnRoaXMuY29vcmRpbmF0ZXN9fWhhc1RyYW5zaXRpb24oKXtyZXR1cm4gdGhpcy5fcGxheWluZ31faGFzSW52YWxpZERpbWVuc2lvbnMoKXtmb3IoY29uc3QgZSBvZiBbdGhpcy5jYW52YXMud2lkdGgsdGhpcy5jYW52YXMuaGVpZ2h0XSlpZihpc05hTihlKXx8ZTw9MClyZXR1cm4gITA7cmV0dXJuICExfX0sY3VzdG9tOmNsYXNzIGV4dGVuZHMgZS5FdmVudGVke2NvbnN0cnVjdG9yKHQsaSxvLHIpe3N1cGVyKCksdGhpcy5pZD10LHRoaXMudHlwZT1cImN1c3RvbVwiLHRoaXMuX2RhdGFUeXBlPVwicmFzdGVyXCIsdGhpcy5fZGlzcGF0Y2hlcj1vLHRoaXMuX2ltcGxlbWVudGF0aW9uPWksdGhpcy5zZXRFdmVudGVkUGFyZW50KHIpLHRoaXMuc2NoZW1lPVwieHl6XCIsdGhpcy5taW56b29tPTAsdGhpcy5tYXh6b29tPTIyLHRoaXMudGlsZVNpemU9NTEyLHRoaXMuX2xvYWRlZD0hMSx0aGlzLnJvdW5kWm9vbT0hMCx0aGlzLl9pbXBsZW1lbnRhdGlvbnx8dGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IEVycm9yKGBNaXNzaW5nIGltcGxlbWVudGF0aW9uIGZvciAke3RoaXMuaWR9IGN1c3RvbSBzb3VyY2VgKSkpLHRoaXMuX2ltcGxlbWVudGF0aW9uLmxvYWRUaWxlfHx0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoYE1pc3NpbmcgbG9hZFRpbGUgaW1wbGVtZW50YXRpb24gZm9yICR7dGhpcy5pZH0gY3VzdG9tIHNvdXJjZWApKSksdGhpcy5faW1wbGVtZW50YXRpb24uYm91bmRzJiYodGhpcy50aWxlQm91bmRzPW5ldyBVKHRoaXMuX2ltcGxlbWVudGF0aW9uLmJvdW5kcyx0aGlzLm1pbnpvb20sdGhpcy5tYXh6b29tKSksaS51cGRhdGU9dGhpcy5fdXBkYXRlLmJpbmQodGhpcyksaS5jb3ZlcmluZ1RpbGVzPXRoaXMuX2NvdmVyaW5nVGlsZXMuYmluZCh0aGlzKSxlLmV4dGVuZCh0aGlzLGUucGljayhpLFtcImRhdGFUeXBlXCIsXCJzY2hlbWVcIixcIm1pbnpvb21cIixcIm1heHpvb21cIixcInRpbGVTaXplXCIsXCJhdHRyaWJ1dGlvblwiLFwibWluVGlsZUNhY2hlU2l6ZVwiLFwibWF4VGlsZUNhY2hlU2l6ZVwiXSkpO31zZXJpYWxpemUoKXtyZXR1cm4gZS5waWNrKHRoaXMsW1widHlwZVwiLFwic2NoZW1lXCIsXCJtaW56b29tXCIsXCJtYXh6b29tXCIsXCJ0aWxlU2l6ZVwiLFwiYXR0cmlidXRpb25cIl0pfWxvYWQoKXt0aGlzLl9sb2FkZWQ9ITAsdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwiZGF0YVwiLHtkYXRhVHlwZTpcInNvdXJjZVwiLHNvdXJjZURhdGFUeXBlOlwibWV0YWRhdGFcIn0pKSx0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJkYXRhXCIse2RhdGFUeXBlOlwic291cmNlXCIsc291cmNlRGF0YVR5cGU6XCJjb250ZW50XCJ9KSk7fWxvYWRlZCgpe3JldHVybiB0aGlzLl9sb2FkZWR9b25BZGQodCl7dGhpcy5fbWFwPXQsdGhpcy5fbG9hZGVkPSExLHRoaXMuZmlyZShuZXcgZS5FdmVudChcImRhdGFsb2FkaW5nXCIse2RhdGFUeXBlOlwic291cmNlXCJ9KSksdGhpcy5faW1wbGVtZW50YXRpb24ub25BZGQmJnRoaXMuX2ltcGxlbWVudGF0aW9uLm9uQWRkKHQpLHRoaXMubG9hZCgpO31vblJlbW92ZShlKXt0aGlzLl9pbXBsZW1lbnRhdGlvbi5vblJlbW92ZSYmdGhpcy5faW1wbGVtZW50YXRpb24ub25SZW1vdmUoZSk7fWhhc1RpbGUoZSl7aWYodGhpcy5faW1wbGVtZW50YXRpb24uaGFzVGlsZSl7Y29uc3R7eDp0LHk6aSx6Om99PWUuY2Fub25pY2FsO3JldHVybiB0aGlzLl9pbXBsZW1lbnRhdGlvbi5oYXNUaWxlKHt4OnQseTppLHo6b30pfXJldHVybiAhdGhpcy50aWxlQm91bmRzfHx0aGlzLnRpbGVCb3VuZHMuY29udGFpbnMoZS5jYW5vbmljYWwpfWxvYWRUaWxlKHQsaSl7Y29uc3R7eDpvLHk6cix6Om59PXQudGlsZUlELmNhbm9uaWNhbCxhPW5ldyBlLndpbmRvdy5BYm9ydENvbnRyb2xsZXIscz10aGlzLl9pbXBsZW1lbnRhdGlvbi5sb2FkVGlsZSh7eDpvLHk6cix6Om59LHtzaWduYWw6YS5zaWduYWx9KTtpZighcylyZXR1cm4gdGhpcy5sb2FkVGlsZURhdGEodCx7d2lkdGg6dGhpcy50aWxlU2l6ZSxoZWlnaHQ6dGhpcy50aWxlU2l6ZSxkYXRhOm51bGx9KSx0LnN0YXRlPVwibG9hZGVkXCIsaShudWxsKTtzLmNhbmNlbD0oKT0+YS5hYm9ydCgpLHQucmVxdWVzdD1zLnRoZW4oZnVuY3Rpb24obyl7cmV0dXJuIGRlbGV0ZSB0LnJlcXVlc3QsdC5hYm9ydGVkPyh0LnN0YXRlPVwidW5sb2FkZWRcIixpKG51bGwpKTpvP2Z1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2YgZS53aW5kb3cuSW1hZ2VEYXRhfHx0IGluc3RhbmNlb2YgZS53aW5kb3cuSW1hZ2VCaXRtYXB8fHQgaW5zdGFuY2VvZiBlLndpbmRvdy5IVE1MQ2FudmFzRWxlbWVudH0obyk/KHRoaXMubG9hZFRpbGVEYXRhKHQsbyksdC5zdGF0ZT1cImxvYWRlZFwiLHZvaWQgaShudWxsKSk6KHQuc3RhdGU9XCJlcnJvcmVkXCIsaShuZXcgRXJyb3IoYENhbid0IGluZmVyIGRhdGEgdHlwZSBmb3IgJHt0aGlzLmlkfSwgb25seSByYXN0ZXIgZGF0YSBzdXBwb3J0ZWQgYXQgdGhlIG1vbWVudGApKSk6KHRoaXMubG9hZFRpbGVEYXRhKHQse3dpZHRoOnRoaXMudGlsZVNpemUsaGVpZ2h0OnRoaXMudGlsZVNpemUsZGF0YTpudWxsfSksdC5zdGF0ZT1cImxvYWRlZFwiLGkobnVsbCkpfS5iaW5kKHRoaXMpKS5jYXRjaCgoZT0+ezIwIT09ZS5jb2RlJiYodC5zdGF0ZT1cImVycm9yZWRcIixpKGUpKTt9KSk7fWxvYWRUaWxlRGF0YShlLHQpe01lLmxvYWRUaWxlRGF0YShlLHQsdGhpcy5fbWFwLnBhaW50ZXIpO311bmxvYWRUaWxlRGF0YShlKXtNZS51bmxvYWRUaWxlRGF0YShlLHRoaXMuX21hcC5wYWludGVyKTt9cHJlcGFyZVRpbGUoZSl7aWYoIXRoaXMuX2ltcGxlbWVudGF0aW9uLnByZXBhcmVUaWxlKXJldHVybiBudWxsO2NvbnN0e3g6dCx5OmksejpvfT1lLnRpbGVJRC5jYW5vbmljYWwscj10aGlzLl9pbXBsZW1lbnRhdGlvbi5wcmVwYXJlVGlsZSh7eDp0LHk6aSx6Om99KTtyZXR1cm4gcj8odGhpcy5sb2FkVGlsZURhdGEoZSxyKSxlLnN0YXRlPVwibG9hZGVkXCIscik6bnVsbH11bmxvYWRUaWxlKGUsdCl7aWYodGhpcy51bmxvYWRUaWxlRGF0YShlKSx0aGlzLl9pbXBsZW1lbnRhdGlvbi51bmxvYWRUaWxlKXtjb25zdHt4OnQseTppLHo6b309ZS50aWxlSUQuY2Fub25pY2FsO3RoaXMuX2ltcGxlbWVudGF0aW9uLnVubG9hZFRpbGUoe3g6dCx5OmksejpvfSk7fXQoKTt9YWJvcnRUaWxlKGUsdCl7ZS5yZXF1ZXN0JiZlLnJlcXVlc3QuY2FuY2VsJiYoZS5yZXF1ZXN0LmNhbmNlbCgpLGRlbGV0ZSBlLnJlcXVlc3QpLHQoKTt9aGFzVHJhbnNpdGlvbigpe3JldHVybiAhMX1fY292ZXJpbmdUaWxlcygpe3JldHVybiB0aGlzLl9tYXAudHJhbnNmb3JtLmNvdmVyaW5nVGlsZXMoe3RpbGVTaXplOnRoaXMudGlsZVNpemUsbWluem9vbTp0aGlzLm1pbnpvb20sbWF4em9vbTp0aGlzLm1heHpvb20scm91bmRab29tOnRoaXMucm91bmRab29tfSkubWFwKChlPT4oe3g6ZS5jYW5vbmljYWwueCx5OmUuY2Fub25pY2FsLnksejplLmNhbm9uaWNhbC56fSkpKX1fdXBkYXRlKCl7dGhpcy5maXJlKG5ldyBlLkV2ZW50KFwiZGF0YVwiLHtkYXRhVHlwZTpcInNvdXJjZVwiLHNvdXJjZURhdGFUeXBlOlwiY29udGVudFwifSkpO319fSxBZT1mdW5jdGlvbih0LGksbyxyKXtjb25zdCBuPW5ldyBQZVtpLnR5cGVdKHQsaSxvLHIpO2lmKG4uaWQhPT10KXRocm93IG5ldyBFcnJvcihgRXhwZWN0ZWQgU291cmNlIGlkIHRvIGJlICR7dH0gaW5zdGVhZCBvZiAke24uaWR9YCk7cmV0dXJuIGUuYmluZEFsbChbXCJsb2FkXCIsXCJhYm9ydFwiLFwidW5sb2FkXCIsXCJzZXJpYWxpemVcIixcInByZXBhcmVcIl0sbiksbn07ZnVuY3Rpb24gTGUodCxpKXtjb25zdCBvPWUuaWRlbnRpdHkoW10pO3JldHVybiBlLnNjYWxlKG8sbyxbLjUqdC53aWR0aCwuNSotdC5oZWlnaHQsMV0pLGUudHJhbnNsYXRlKG8sbyxbMSwtMSwwXSksZS5tdWx0aXBseShvLG8sdC5jYWxjdWxhdGVQcm9qTWF0cml4KGkudG9VbndyYXBwZWQoKSkpLEZsb2F0MzJBcnJheS5mcm9tKG8pfWZ1bmN0aW9uIFJlKGUsdCxpLG8scixuLGEscz0hMSl7Y29uc3QgbD1lLnRpbGVzSW4obyxhLHMpO2wuc29ydChCZSk7Y29uc3QgYz1bXTtmb3IoY29uc3QgbyBvZiBsKWMucHVzaCh7d3JhcHBlZFRpbGVJRDpvLnRpbGUudGlsZUlELndyYXBwZWQoKS5rZXkscXVlcnlSZXN1bHRzOm8udGlsZS5xdWVyeVJlbmRlcmVkRmVhdHVyZXModCxpLGUuX3N0YXRlLG8scixuLExlKGUudHJhbnNmb3JtLG8udGlsZS50aWxlSUQpLHMpfSk7Y29uc3QgaD1mdW5jdGlvbihlKXtjb25zdCB0PXt9LGk9e307Zm9yKGNvbnN0IG8gb2YgZSl7Y29uc3QgZT1vLnF1ZXJ5UmVzdWx0cyxyPW8ud3JhcHBlZFRpbGVJRCxuPWlbcl09aVtyXXx8e307Zm9yKGNvbnN0IGkgaW4gZSl7Y29uc3Qgbz1lW2ldLHI9bltpXT1uW2ldfHx7fSxhPXRbaV09dFtpXXx8W107Zm9yKGNvbnN0IGUgb2YgbylyW2UuZmVhdHVyZUluZGV4XXx8KHJbZS5mZWF0dXJlSW5kZXhdPSEwLGEucHVzaChlKSk7fX1yZXR1cm4gdH0oYyk7Zm9yKGNvbnN0IHQgaW4gaCloW3RdLmZvckVhY2goKHQ9Pntjb25zdCBpPXQuZmVhdHVyZSxvPWkubGF5ZXI7byYmXCJiYWNrZ3JvdW5kXCIhPT1vLnR5cGUmJlwic2t5XCIhPT1vLnR5cGUmJihpLnNvdXJjZT1vLnNvdXJjZSxvW1wic291cmNlLWxheWVyXCJdJiYoaS5zb3VyY2VMYXllcj1vW1wic291cmNlLWxheWVyXCJdKSxpLnN0YXRlPXZvaWQgMCE9PWkuaWQ/ZS5nZXRGZWF0dXJlU3RhdGUob1tcInNvdXJjZS1sYXllclwiXSxpLmlkKTp7fSk7fSkpO3JldHVybiBofWZ1bmN0aW9uIE9lKGUsdCl7Y29uc3QgaT1lLmdldFJlbmRlcmFibGVJZHMoKS5tYXAoKHQ9PmUuZ2V0VGlsZUJ5SUQodCkpKSxvPVtdLHI9e307Zm9yKGxldCBlPTA7ZTxpLmxlbmd0aDtlKyspe2NvbnN0IG49aVtlXSxhPW4udGlsZUlELmNhbm9uaWNhbC5rZXk7clthXXx8KHJbYV09ITAsbi5xdWVyeVNvdXJjZUZlYXR1cmVzKG8sdCkpO31yZXR1cm4gb31mdW5jdGlvbiBCZShlLHQpe2NvbnN0IGk9ZS50aWxlSUQsbz10LnRpbGVJRDtyZXR1cm4gaS5vdmVyc2NhbGVkWi1vLm92ZXJzY2FsZWRafHxpLmNhbm9uaWNhbC55LW8uY2Fub25pY2FsLnl8fGkud3JhcC1vLndyYXB8fGkuY2Fub25pY2FsLngtby5jYW5vbmljYWwueH1mdW5jdGlvbiBrZSgpe3JldHVybiBudWxsIT1nbi53b3JrZXJDbGFzcz9uZXcgZ24ud29ya2VyQ2xhc3M6bmV3IGUud2luZG93Lldvcmtlcihnbi53b3JrZXJVcmwpfWNvbnN0IEZlPVwibWFwYm94Z2xfcHJlbG9hZGVkX3dvcmtlcl9wb29sXCI7Y2xhc3MgVWV7Y29uc3RydWN0b3IoKXt0aGlzLmFjdGl2ZT17fTt9YWNxdWlyZShlKXtpZighdGhpcy53b3JrZXJzKWZvcih0aGlzLndvcmtlcnM9W107dGhpcy53b3JrZXJzLmxlbmd0aDxVZS53b3JrZXJDb3VudDspdGhpcy53b3JrZXJzLnB1c2gobmV3IGtlKTtyZXR1cm4gdGhpcy5hY3RpdmVbZV09ITAsdGhpcy53b3JrZXJzLnNsaWNlKCl9cmVsZWFzZShlKXtkZWxldGUgdGhpcy5hY3RpdmVbZV0sMD09PXRoaXMubnVtQWN0aXZlKCkmJih0aGlzLndvcmtlcnMuZm9yRWFjaCgoZT0+e2UudGVybWluYXRlKCk7fSkpLHRoaXMud29ya2Vycz1udWxsKTt9aXNQcmVsb2FkZWQoKXtyZXR1cm4gISF0aGlzLmFjdGl2ZVtGZV19bnVtQWN0aXZlKCl7cmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuYWN0aXZlKS5sZW5ndGh9fWxldCBOZTtmdW5jdGlvbiBHZSgpe3JldHVybiBOZXx8KE5lPW5ldyBVZSksTmV9ZnVuY3Rpb24gamUodCxpKXtjb25zdCBvPXt9O2Zvcihjb25zdCBlIGluIHQpXCJyZWZcIiE9PWUmJihvW2VdPXRbZV0pO3JldHVybiBlLnJlZlByb3BlcnRpZXMuZm9yRWFjaCgoZT0+e2UgaW4gaSYmKG9bZV09aVtlXSk7fSkpLG99ZnVuY3Rpb24gWmUoZSl7ZT1lLnNsaWNlKCk7Y29uc3QgdD1PYmplY3QuY3JlYXRlKG51bGwpO2ZvcihsZXQgaT0wO2k8ZS5sZW5ndGg7aSsrKXRbZVtpXS5pZF09ZVtpXTtmb3IobGV0IGk9MDtpPGUubGVuZ3RoO2krKylcInJlZlwiaW4gZVtpXSYmKGVbaV09amUoZVtpXSx0W2VbaV0ucmVmXSkpO3JldHVybiBlfVVlLndvcmtlckNvdW50PTI7Y29uc3QgVmU9e3NldFN0eWxlOlwic2V0U3R5bGVcIixhZGRMYXllcjpcImFkZExheWVyXCIscmVtb3ZlTGF5ZXI6XCJyZW1vdmVMYXllclwiLHNldFBhaW50UHJvcGVydHk6XCJzZXRQYWludFByb3BlcnR5XCIsc2V0TGF5b3V0UHJvcGVydHk6XCJzZXRMYXlvdXRQcm9wZXJ0eVwiLHNldEZpbHRlcjpcInNldEZpbHRlclwiLGFkZFNvdXJjZTpcImFkZFNvdXJjZVwiLHJlbW92ZVNvdXJjZTpcInJlbW92ZVNvdXJjZVwiLHNldEdlb0pTT05Tb3VyY2VEYXRhOlwic2V0R2VvSlNPTlNvdXJjZURhdGFcIixzZXRMYXllclpvb21SYW5nZTpcInNldExheWVyWm9vbVJhbmdlXCIsc2V0TGF5ZXJQcm9wZXJ0eTpcInNldExheWVyUHJvcGVydHlcIixzZXRDZW50ZXI6XCJzZXRDZW50ZXJcIixzZXRab29tOlwic2V0Wm9vbVwiLHNldEJlYXJpbmc6XCJzZXRCZWFyaW5nXCIsc2V0UGl0Y2g6XCJzZXRQaXRjaFwiLHNldFNwcml0ZTpcInNldFNwcml0ZVwiLHNldEdseXBoczpcInNldEdseXBoc1wiLHNldFRyYW5zaXRpb246XCJzZXRUcmFuc2l0aW9uXCIsc2V0TGlnaHQ6XCJzZXRMaWdodFwiLHNldFRlcnJhaW46XCJzZXRUZXJyYWluXCIsc2V0Rm9nOlwic2V0Rm9nXCIsc2V0UHJvamVjdGlvbjpcInNldFByb2plY3Rpb25cIn07ZnVuY3Rpb24gV2UoZSx0LGkpe2kucHVzaCh7Y29tbWFuZDpWZS5hZGRTb3VyY2UsYXJnczpbZSx0W2VdXX0pO31mdW5jdGlvbiBYZShlLHQsaSl7dC5wdXNoKHtjb21tYW5kOlZlLnJlbW92ZVNvdXJjZSxhcmdzOltlXX0pLGlbZV09ITA7fWZ1bmN0aW9uIHFlKGUsdCxpLG8pe1hlKGUsaSxvKSxXZShlLHQsaSk7fWZ1bmN0aW9uICRlKGUsaSxvKXtsZXQgcjtmb3IociBpbiBlW29dKWlmKGVbb10uaGFzT3duUHJvcGVydHkocikmJlwiZGF0YVwiIT09ciYmIXQoZVtvXVtyXSxpW29dW3JdKSlyZXR1cm4gITE7Zm9yKHIgaW4gaVtvXSlpZihpW29dLmhhc093blByb3BlcnR5KHIpJiZcImRhdGFcIiE9PXImJiF0KGVbb11bcl0saVtvXVtyXSkpcmV0dXJuICExO3JldHVybiAhMH1mdW5jdGlvbiBIZShlLGksbyxyLG4sYSl7bGV0IHM7Zm9yKHMgaW4gaT1pfHx7fSxlPWV8fHt9KWUuaGFzT3duUHJvcGVydHkocykmJih0KGVbc10saVtzXSl8fG8ucHVzaCh7Y29tbWFuZDphLGFyZ3M6W3IscyxpW3NdLG5dfSkpO2ZvcihzIGluIGkpaS5oYXNPd25Qcm9wZXJ0eShzKSYmIWUuaGFzT3duUHJvcGVydHkocykmJih0KGVbc10saVtzXSl8fG8ucHVzaCh7Y29tbWFuZDphLGFyZ3M6W3IscyxpW3NdLG5dfSkpO31mdW5jdGlvbiBZZShlKXtyZXR1cm4gZS5pZH1mdW5jdGlvbiBLZShlLHQpe3JldHVybiBlW3QuaWRdPXQsZX1jbGFzcyBKZXtjb25zdHJ1Y3RvcihlLHQpe3RoaXMucmVzZXQoZSx0KTt9cmVzZXQoZSx0KXt0aGlzLnBvaW50cz1lfHxbXSx0aGlzLl9kaXN0YW5jZXM9WzBdO2ZvcihsZXQgZT0xO2U8dGhpcy5wb2ludHMubGVuZ3RoO2UrKyl0aGlzLl9kaXN0YW5jZXNbZV09dGhpcy5fZGlzdGFuY2VzW2UtMV0rdGhpcy5wb2ludHNbZV0uZGlzdCh0aGlzLnBvaW50c1tlLTFdKTt0aGlzLmxlbmd0aD10aGlzLl9kaXN0YW5jZXNbdGhpcy5fZGlzdGFuY2VzLmxlbmd0aC0xXSx0aGlzLnBhZGRpbmc9TWF0aC5taW4odHx8MCwuNSp0aGlzLmxlbmd0aCksdGhpcy5wYWRkZWRMZW5ndGg9dGhpcy5sZW5ndGgtMip0aGlzLnBhZGRpbmc7fWxlcnAodCl7aWYoMT09PXRoaXMucG9pbnRzLmxlbmd0aClyZXR1cm4gdGhpcy5wb2ludHNbMF07dD1lLmNsYW1wKHQsMCwxKTtsZXQgaT0xLG89dGhpcy5fZGlzdGFuY2VzW2ldO2NvbnN0IHI9dCp0aGlzLnBhZGRlZExlbmd0aCt0aGlzLnBhZGRpbmc7Zm9yKDtvPHImJmk8dGhpcy5fZGlzdGFuY2VzLmxlbmd0aDspbz10aGlzLl9kaXN0YW5jZXNbKytpXTtjb25zdCBuPWktMSxhPXRoaXMuX2Rpc3RhbmNlc1tuXSxzPW8tYSxsPXM+MD8oci1hKS9zOjA7cmV0dXJuIHRoaXMucG9pbnRzW25dLm11bHQoMS1sKS5hZGQodGhpcy5wb2ludHNbaV0ubXVsdChsKSl9fWNsYXNzIFFle2NvbnN0cnVjdG9yKGUsdCxpKXtjb25zdCBvPXRoaXMuYm94Q2VsbHM9W10scj10aGlzLmNpcmNsZUNlbGxzPVtdO3RoaXMueENlbGxDb3VudD1NYXRoLmNlaWwoZS9pKSx0aGlzLnlDZWxsQ291bnQ9TWF0aC5jZWlsKHQvaSk7Zm9yKGxldCBlPTA7ZTx0aGlzLnhDZWxsQ291bnQqdGhpcy55Q2VsbENvdW50O2UrKylvLnB1c2goW10pLHIucHVzaChbXSk7dGhpcy5jaXJjbGVLZXlzPVtdLHRoaXMuYm94S2V5cz1bXSx0aGlzLmJib3hlcz1bXSx0aGlzLmNpcmNsZXM9W10sdGhpcy53aWR0aD1lLHRoaXMuaGVpZ2h0PXQsdGhpcy54U2NhbGU9dGhpcy54Q2VsbENvdW50L2UsdGhpcy55U2NhbGU9dGhpcy55Q2VsbENvdW50L3QsdGhpcy5ib3hVaWQ9MCx0aGlzLmNpcmNsZVVpZD0wO31rZXlzTGVuZ3RoKCl7cmV0dXJuIHRoaXMuYm94S2V5cy5sZW5ndGgrdGhpcy5jaXJjbGVLZXlzLmxlbmd0aH1pbnNlcnQoZSx0LGksbyxyKXt0aGlzLl9mb3JFYWNoQ2VsbCh0LGksbyxyLHRoaXMuX2luc2VydEJveENlbGwsdGhpcy5ib3hVaWQrKyksdGhpcy5ib3hLZXlzLnB1c2goZSksdGhpcy5iYm94ZXMucHVzaCh0KSx0aGlzLmJib3hlcy5wdXNoKGkpLHRoaXMuYmJveGVzLnB1c2gobyksdGhpcy5iYm94ZXMucHVzaChyKTt9aW5zZXJ0Q2lyY2xlKGUsdCxpLG8pe3RoaXMuX2ZvckVhY2hDZWxsKHQtbyxpLW8sdCtvLGkrbyx0aGlzLl9pbnNlcnRDaXJjbGVDZWxsLHRoaXMuY2lyY2xlVWlkKyspLHRoaXMuY2lyY2xlS2V5cy5wdXNoKGUpLHRoaXMuY2lyY2xlcy5wdXNoKHQpLHRoaXMuY2lyY2xlcy5wdXNoKGkpLHRoaXMuY2lyY2xlcy5wdXNoKG8pO31faW5zZXJ0Qm94Q2VsbChlLHQsaSxvLHIsbil7dGhpcy5ib3hDZWxsc1tyXS5wdXNoKG4pO31faW5zZXJ0Q2lyY2xlQ2VsbChlLHQsaSxvLHIsbil7dGhpcy5jaXJjbGVDZWxsc1tyXS5wdXNoKG4pO31fcXVlcnkoZSx0LGksbyxyLG4pe2lmKGk8MHx8ZT50aGlzLndpZHRofHxvPDB8fHQ+dGhpcy5oZWlnaHQpcmV0dXJuICFyJiZbXTtjb25zdCBhPVtdO2lmKGU8PTAmJnQ8PTAmJnRoaXMud2lkdGg8PWkmJnRoaXMuaGVpZ2h0PD1vKXtpZihyKXJldHVybiAhMDtmb3IobGV0IGU9MDtlPHRoaXMuYm94S2V5cy5sZW5ndGg7ZSsrKWEucHVzaCh7a2V5OnRoaXMuYm94S2V5c1tlXSx4MTp0aGlzLmJib3hlc1s0KmVdLHkxOnRoaXMuYmJveGVzWzQqZSsxXSx4Mjp0aGlzLmJib3hlc1s0KmUrMl0seTI6dGhpcy5iYm94ZXNbNCplKzNdfSk7Zm9yKGxldCBlPTA7ZTx0aGlzLmNpcmNsZUtleXMubGVuZ3RoO2UrKyl7Y29uc3QgdD10aGlzLmNpcmNsZXNbMyplXSxpPXRoaXMuY2lyY2xlc1szKmUrMV0sbz10aGlzLmNpcmNsZXNbMyplKzJdO2EucHVzaCh7a2V5OnRoaXMuY2lyY2xlS2V5c1tlXSx4MTp0LW8seTE6aS1vLHgyOnQrbyx5MjppK299KTt9cmV0dXJuIG4/YS5maWx0ZXIobik6YX1yZXR1cm4gdGhpcy5fZm9yRWFjaENlbGwoZSx0LGksbyx0aGlzLl9xdWVyeUNlbGwsYSx7aGl0VGVzdDpyLHNlZW5VaWRzOntib3g6e30sY2lyY2xlOnt9fX0sbikscj9hLmxlbmd0aD4wOmF9X3F1ZXJ5Q2lyY2xlKGUsdCxpLG8scil7Y29uc3Qgbj1lLWksYT1lK2kscz10LWksbD10K2k7aWYoYTwwfHxuPnRoaXMud2lkdGh8fGw8MHx8cz50aGlzLmhlaWdodClyZXR1cm4gIW8mJltdO2NvbnN0IGM9W107cmV0dXJuIHRoaXMuX2ZvckVhY2hDZWxsKG4scyxhLGwsdGhpcy5fcXVlcnlDZWxsQ2lyY2xlLGMse2hpdFRlc3Q6byxjaXJjbGU6e3g6ZSx5OnQscmFkaXVzOml9LHNlZW5VaWRzOntib3g6e30sY2lyY2xlOnt9fX0sciksbz9jLmxlbmd0aD4wOmN9cXVlcnkoZSx0LGksbyxyKXtyZXR1cm4gdGhpcy5fcXVlcnkoZSx0LGksbywhMSxyKX1oaXRUZXN0KGUsdCxpLG8scil7cmV0dXJuIHRoaXMuX3F1ZXJ5KGUsdCxpLG8sITAscil9aGl0VGVzdENpcmNsZShlLHQsaSxvKXtyZXR1cm4gdGhpcy5fcXVlcnlDaXJjbGUoZSx0LGksITAsbyl9X3F1ZXJ5Q2VsbChlLHQsaSxvLHIsbixhLHMpe2NvbnN0IGw9YS5zZWVuVWlkcyxjPXRoaXMuYm94Q2VsbHNbcl07aWYobnVsbCE9PWMpe2NvbnN0IHI9dGhpcy5iYm94ZXM7Zm9yKGNvbnN0IGggb2YgYylpZighbC5ib3hbaF0pe2wuYm94W2hdPSEwO2NvbnN0IGM9NCpoO2lmKGU8PXJbYysyXSYmdDw9cltjKzNdJiZpPj1yW2MrMF0mJm8+PXJbYysxXSYmKCFzfHxzKHRoaXMuYm94S2V5c1toXSkpKXtpZihhLmhpdFRlc3QpcmV0dXJuIG4ucHVzaCghMCksITA7bi5wdXNoKHtrZXk6dGhpcy5ib3hLZXlzW2hdLHgxOnJbY10seTE6cltjKzFdLHgyOnJbYysyXSx5MjpyW2MrM119KTt9fX1jb25zdCBoPXRoaXMuY2lyY2xlQ2VsbHNbcl07aWYobnVsbCE9PWgpe2NvbnN0IHI9dGhpcy5jaXJjbGVzO2Zvcihjb25zdCBjIG9mIGgpaWYoIWwuY2lyY2xlW2NdKXtsLmNpcmNsZVtjXT0hMDtjb25zdCBoPTMqYztpZih0aGlzLl9jaXJjbGVBbmRSZWN0Q29sbGlkZShyW2hdLHJbaCsxXSxyW2grMl0sZSx0LGksbykmJighc3x8cyh0aGlzLmNpcmNsZUtleXNbY10pKSl7aWYoYS5oaXRUZXN0KXJldHVybiBuLnB1c2goITApLCEwO3tjb25zdCBlPXJbaF0sdD1yW2grMV0saT1yW2grMl07bi5wdXNoKHtrZXk6dGhpcy5jaXJjbGVLZXlzW2NdLHgxOmUtaSx5MTp0LWkseDI6ZStpLHkyOnQraX0pO319fX19X3F1ZXJ5Q2VsbENpcmNsZShlLHQsaSxvLHIsbixhLHMpe2NvbnN0IGw9YS5jaXJjbGUsYz1hLnNlZW5VaWRzLGg9dGhpcy5ib3hDZWxsc1tyXTtpZihudWxsIT09aCl7Y29uc3QgZT10aGlzLmJib3hlcztmb3IoY29uc3QgdCBvZiBoKWlmKCFjLmJveFt0XSl7Yy5ib3hbdF09ITA7Y29uc3QgaT00KnQ7aWYodGhpcy5fY2lyY2xlQW5kUmVjdENvbGxpZGUobC54LGwueSxsLnJhZGl1cyxlW2krMF0sZVtpKzFdLGVbaSsyXSxlW2krM10pJiYoIXN8fHModGhpcy5ib3hLZXlzW3RdKSkpcmV0dXJuIG4ucHVzaCghMCksITB9fWNvbnN0IHU9dGhpcy5jaXJjbGVDZWxsc1tyXTtpZihudWxsIT09dSl7Y29uc3QgZT10aGlzLmNpcmNsZXM7Zm9yKGNvbnN0IHQgb2YgdSlpZighYy5jaXJjbGVbdF0pe2MuY2lyY2xlW3RdPSEwO2NvbnN0IGk9Myp0O2lmKHRoaXMuX2NpcmNsZXNDb2xsaWRlKGVbaV0sZVtpKzFdLGVbaSsyXSxsLngsbC55LGwucmFkaXVzKSYmKCFzfHxzKHRoaXMuY2lyY2xlS2V5c1t0XSkpKXJldHVybiBuLnB1c2goITApLCEwfX19X2ZvckVhY2hDZWxsKGUsdCxpLG8scixuLGEscyl7Y29uc3QgbD10aGlzLl9jb252ZXJ0VG9YQ2VsbENvb3JkKGUpLGM9dGhpcy5fY29udmVydFRvWUNlbGxDb29yZCh0KSxoPXRoaXMuX2NvbnZlcnRUb1hDZWxsQ29vcmQoaSksdT10aGlzLl9jb252ZXJ0VG9ZQ2VsbENvb3JkKG8pO2ZvcihsZXQgXz1sO188PWg7XysrKWZvcihsZXQgbD1jO2w8PXU7bCsrKWlmKHIuY2FsbCh0aGlzLGUsdCxpLG8sdGhpcy54Q2VsbENvdW50KmwrXyxuLGEscykpcmV0dXJufV9jb252ZXJ0VG9YQ2VsbENvb3JkKGUpe3JldHVybiBNYXRoLm1heCgwLE1hdGgubWluKHRoaXMueENlbGxDb3VudC0xLE1hdGguZmxvb3IoZSp0aGlzLnhTY2FsZSkpKX1fY29udmVydFRvWUNlbGxDb29yZChlKXtyZXR1cm4gTWF0aC5tYXgoMCxNYXRoLm1pbih0aGlzLnlDZWxsQ291bnQtMSxNYXRoLmZsb29yKGUqdGhpcy55U2NhbGUpKSl9X2NpcmNsZXNDb2xsaWRlKGUsdCxpLG8scixuKXtjb25zdCBhPW8tZSxzPXItdCxsPWkrbjtyZXR1cm4gbCpsPmEqYStzKnN9X2NpcmNsZUFuZFJlY3RDb2xsaWRlKGUsdCxpLG8scixuLGEpe2NvbnN0IHM9KG4tbykvMixsPU1hdGguYWJzKGUtKG8rcykpO2lmKGw+cytpKXJldHVybiAhMTtjb25zdCBjPShhLXIpLzIsaD1NYXRoLmFicyh0LShyK2MpKTtpZihoPmMraSlyZXR1cm4gITE7aWYobDw9c3x8aDw9YylyZXR1cm4gITA7Y29uc3QgdT1sLXMsXz1oLWM7cmV0dXJuIHUqdStfKl88PWkqaX19Y29uc3QgZXQ9TWF0aC50YW4oODUqTWF0aC5QSS8xODApO2Z1bmN0aW9uIHR0KHQsaSxvLHIsbixhLHMpe2NvbnN0IGw9ZS5jcmVhdGUoKTtpZihvKWlmKFwiZ2xvYmVcIj09PWEubmFtZSl7Y29uc3QgdD1lLmNhbGN1bGF0ZUdsb2JlTGFiZWxNYXRyaXgobixpKTtlLm11bHRpcGx5KGwsbCx0KTt9ZWxzZSB7Y29uc3QgdD12KFtdLHMpO2xbMF09dFswXSxsWzFdPXRbMV0sbFs0XT10WzJdLGxbNV09dFszXSxyfHxlLnJvdGF0ZVoobCxsLG4uYW5nbGUpO31lbHNlIGUubXVsdGlwbHkobCxuLmxhYmVsUGxhbmVNYXRyaXgsdCk7cmV0dXJuIGx9ZnVuY3Rpb24gaXQoZSx0LGksbyxyLG4sYSl7Y29uc3Qgcz10dChlLHQsaSxvLHIsbixhKTtyZXR1cm4gXCJnbG9iZVwiPT09bi5uYW1lJiZpfHwoc1syXT1zWzZdPXNbMTBdPXNbMTRdPTApLHN9ZnVuY3Rpb24gb3QodCxpLG8scixuLGEscyl7aWYobyl7aWYoXCJnbG9iZVwiPT09YS5uYW1lKXtjb25zdCBsPXR0KHQsaSxvLHIsbixhLHMpO3JldHVybiBlLmludmVydChsLGwpLGUubXVsdGlwbHkobCx0LGwpLGx9e2NvbnN0IGk9ZS5jbG9uZSh0KSxvPWUuaWRlbnRpdHkoW10pO3JldHVybiBvWzBdPXNbMF0sb1sxXT1zWzFdLG9bNF09c1syXSxvWzVdPXNbM10sZS5tdWx0aXBseShpLGksbykscnx8ZS5yb3RhdGVaKGksaSwtbi5hbmdsZSksaX19cmV0dXJuIG4uZ2xDb29yZE1hdHJpeH1mdW5jdGlvbiBydCh0LGksbz0wKXtjb25zdCByPVt0LngsdC55LG8sMV07bz9lLnRyYW5zZm9ybU1hdDQkMShyLHIsaSk6Z3QocixyLGkpO2NvbnN0IG49clszXTtyZXR1cm4ge3BvaW50OltyWzBdL24sclsxXS9uLHJbMl0vbl0sc2lnbmVkRGlzdGFuY2VGcm9tQ2FtZXJhOm59fWZ1bmN0aW9uIG50KHQsaSl7Y29uc3Qgbz1bdFswXSx0WzFdLHRbMl0sMV07ZS50cmFuc2Zvcm1NYXQ0JDEobyxvLGkpO2NvbnN0IHI9b1szXTtyZXR1cm4ge3BvaW50OltvWzBdL3Isb1sxXS9yLG9bMl0vcl0sc2lnbmVkRGlzdGFuY2VGcm9tQ2FtZXJhOnJ9fWZ1bmN0aW9uIGF0KGUsdCl7cmV0dXJuIE1hdGgubWluKC41K2UvdCouNSwxLjUpfWZ1bmN0aW9uIHN0KGUsdCl7Y29uc3QgaT1lWzBdL2VbM10sbz1lWzFdL2VbM107cmV0dXJuIGk+PS10WzBdJiZpPD10WzBdJiZvPj0tdFsxXSYmbzw9dFsxXX1mdW5jdGlvbiBsdCh0LGksbyxyLG4sYSxzLGwsYyxoKXtjb25zdCB1PW8udHJhbnNmb3JtLF89cj90LnRleHRTaXplRGF0YTp0Lmljb25TaXplRGF0YSxkPWUuZXZhbHVhdGVTaXplRm9yWm9vbShfLG8udHJhbnNmb3JtLnpvb20pLHA9XCJnbG9iZVwiPT09dS5wcm9qZWN0aW9uLm5hbWUsbT1bMjU2L28ud2lkdGgqMisxLDI1Ni9vLmhlaWdodCoyKzFdLGY9cj90LnRleHQuZHluYW1pY0xheW91dFZlcnRleEFycmF5OnQuaWNvbi5keW5hbWljTGF5b3V0VmVydGV4QXJyYXk7Zi5jbGVhcigpO2xldCBnPW51bGw7cCYmKGc9cj90LnRleHQuZ2xvYmVFeHRWZXJ0ZXhBcnJheTp0Lmljb24uZ2xvYmVFeHRWZXJ0ZXhBcnJheSk7Y29uc3Qgdj10LmxpbmVWZXJ0ZXhBcnJheSx4PXI/dC50ZXh0LnBsYWNlZFN5bWJvbEFycmF5OnQuaWNvbi5wbGFjZWRTeW1ib2xBcnJheSx5PW8udHJhbnNmb3JtLndpZHRoL28udHJhbnNmb3JtLmhlaWdodDtsZXQgYj0hMTtmb3IobGV0IHI9MDtyPHgubGVuZ3RoO3IrKyl7Y29uc3QgcD14LmdldChyKTtpZihwLndyaXRpbmdNb2RlIT09ZS5Xcml0aW5nTW9kZS52ZXJ0aWNhbHx8Ynx8MCE9PXImJnguZ2V0KHItMSkud3JpdGluZ01vZGU9PT1lLldyaXRpbmdNb2RlLmhvcml6b250YWx8fChiPSEwKSwocC5oaWRkZW58fHAud3JpdGluZ01vZGU9PT1lLldyaXRpbmdNb2RlLnZlcnRpY2FsKSYmIWIpe2Z0KHAubnVtR2x5cGhzLGYpO2NvbnRpbnVlfWI9ITE7Y29uc3Qgdz1uZXcgZS5wb2ludEdlb21ldHJ5KHAudGlsZUFuY2hvclgscC50aWxlQW5jaG9yWSksVD1jP2Modyk6WzAsMCwwXSxFPXUucHJvamVjdGlvbi5wcm9qZWN0VGlsZVBvaW50KHcueCx3LnksaC5jYW5vbmljYWwpLEM9W0UueCtUWzBdLEUueStUWzFdLEUueitUWzJdXSxJPVsuLi5DLDFdO2lmKGUudHJhbnNmb3JtTWF0NCQxKEksSSxpKSwhc3QoSSxtKSl7ZnQocC5udW1HbHlwaHMsZik7Y29udGludWV9Y29uc3QgTT1hdChvLnRyYW5zZm9ybS5jYW1lcmFUb0NlbnRlckRpc3RhbmNlLElbM10pLFM9ZS5ldmFsdWF0ZVNpemVGb3JGZWF0dXJlKF8sZCxwKSx6PXM/Uy9NOlMqTSxEPXJ0KG5ldyBlLnBvaW50R2VvbWV0cnkoQ1swXSxDWzFdKSxuLENbMl0pO2lmKEQuc2lnbmVkRGlzdGFuY2VGcm9tQ2FtZXJhPD0wKXtmdChwLm51bUdseXBocyxmKTtjb250aW51ZX1sZXQgUD17fTtjb25zdCBBPXM/bnVsbDpjLEw9dXQocCx6LCExLGwsaSxuLGEsdC5nbHlwaE9mZnNldEFycmF5LHYsZixnLEQucG9pbnQsdyxQLHksQSx1LnByb2plY3Rpb24saCxzKTtiPUwudXNlVmVydGljYWwsQSYmTC5uZWVkc0ZsaXBwaW5nJiYoUD17fSksKEwubm90RW5vdWdoUm9vbXx8Ynx8TC5uZWVkc0ZsaXBwaW5nJiZ1dChwLHosITAsbCxpLG4sYSx0LmdseXBoT2Zmc2V0QXJyYXksdixmLGcsRC5wb2ludCx3LFAseSxBLHUucHJvamVjdGlvbixoLHMpLm5vdEVub3VnaFJvb20pJiZmdChwLm51bUdseXBocyxmKTt9cj8odC50ZXh0LmR5bmFtaWNMYXlvdXRWZXJ0ZXhCdWZmZXIudXBkYXRlRGF0YShmKSxnJiZ0LnRleHQuZ2xvYmVFeHRWZXJ0ZXhCdWZmZXIudXBkYXRlRGF0YShnKSk6KHQuaWNvbi5keW5hbWljTGF5b3V0VmVydGV4QnVmZmVyLnVwZGF0ZURhdGEoZiksZyYmdC5pY29uLmdsb2JlRXh0VmVydGV4QnVmZmVyLnVwZGF0ZURhdGEoZykpO31mdW5jdGlvbiBjdChlLHQsaSxvLHIsbixhLHMsbCxjLGgsdSxfLGQscCxtKXtjb25zdCBmPXMuZ2x5cGhTdGFydEluZGV4K3MubnVtR2x5cGhzLGc9cy5saW5lU3RhcnRJbmRleCx2PXMubGluZVN0YXJ0SW5kZXgrcy5saW5lTGVuZ3RoLHg9dC5nZXRvZmZzZXRYKHMuZ2x5cGhTdGFydEluZGV4KSx5PXQuZ2V0b2Zmc2V0WChmLTEpLGI9cHQoZSp4LGksbyxyLG4sYSxzLnNlZ21lbnQsZyx2LGwsYyxoLHUsXywhMCxkLHAsbSk7aWYoIWIpcmV0dXJuIG51bGw7Y29uc3Qgdz1wdChlKnksaSxvLHIsbixhLHMuc2VnbWVudCxnLHYsbCxjLGgsdSxfLCEwLGQscCxtKTtyZXR1cm4gdz97Zmlyc3Q6YixsYXN0Ond9Om51bGx9ZnVuY3Rpb24gaHQodCxpLG8scil7cmV0dXJuIHQud3JpdGluZ01vZGU9PT1lLldyaXRpbmdNb2RlLmhvcml6b250YWwmJk1hdGguYWJzKG8ueS1pLnkpPk1hdGguYWJzKG8ueC1pLngpKnI/e3VzZVZlcnRpY2FsOiEwfTp0LndyaXRpbmdNb2RlPT09ZS5Xcml0aW5nTW9kZS52ZXJ0aWNhbD9pLnk8by55P3tuZWVkc0ZsaXBwaW5nOiEwfTpudWxsOjAhPT10LmZsaXBTdGF0ZSYmZnVuY3Rpb24oZSx0LGkpe2NvbnN0IG89KHQueC1lLngpKmk7cmV0dXJuIDA9PT1vfHxNYXRoLmFicygodC55LWUueSkvbyk+ZXR9KGksbyxyKT8xPT09dC5mbGlwU3RhdGU/e25lZWRzRmxpcHBpbmc6ITB9Om51bGw6aS54Pm8ueD97bmVlZHNGbGlwcGluZzohMH06bnVsbH1mdW5jdGlvbiB1dCh0LGksbyxyLG4sYSxzLGwsYyxoLHUsXyxkLHAsbSxmLGcsdix4KXtjb25zdCB5PWkvMjQsYj10LmxpbmVPZmZzZXRYKnksdz10LmxpbmVPZmZzZXRZKnk7bGV0IFQ7aWYodC5udW1HbHlwaHM+MSl7Y29uc3QgaT10LmdseXBoU3RhcnRJbmRleCt0Lm51bUdseXBocyxuPXQubGluZVN0YXJ0SW5kZXgsaD10LmxpbmVTdGFydEluZGV4K3QubGluZUxlbmd0aCx1PWN0KHksbCxiLHcsbyxfLGQsdCxjLGEscCxmLCExLGcsdix4KTtpZighdSlyZXR1cm4ge25vdEVub3VnaFJvb206ITB9O2NvbnN0IEU9bnQodS5maXJzdC5wb2ludCxzKS5wb2ludCxDPW50KHUubGFzdC5wb2ludCxzKS5wb2ludCxJPW5ldyBlLnBvaW50R2VvbWV0cnkoRVswXSxFWzFdKSxNPW5ldyBlLnBvaW50R2VvbWV0cnkoQ1swXSxDWzFdKTtpZihyJiYhbyl7Y29uc3QgZT1odCh0LEksTSxtKTtpZih0LmZsaXBTdGF0ZT1lJiZlLm5lZWRzRmxpcHBpbmc/MToyLGUpcmV0dXJuIGV9VD1bdS5maXJzdF07Zm9yKGxldCBlPXQuZ2x5cGhTdGFydEluZGV4KzE7ZTxpLTE7ZSsrKVQucHVzaChwdCh5KmwuZ2V0b2Zmc2V0WChlKSxiLHcsbyxfLGQsdC5zZWdtZW50LG4saCxjLGEscCxmLCExLCExLGcsdix4KSk7VC5wdXNoKHUubGFzdCk7fWVsc2Uge2lmKHImJiFvKXtjb25zdCBpPXJ0KGQsbikucG9pbnQsbz10LmxpbmVTdGFydEluZGV4K3Quc2VnbWVudCsxLHI9bmV3IGUucG9pbnRHZW9tZXRyeShjLmdldHgobyksYy5nZXR5KG8pKSxhPXJ0KHIsbikscz1hLnNpZ25lZERpc3RhbmNlRnJvbUNhbWVyYT4wP2EucG9pbnQ6ZHQoZCxyLGksMSxuLHZvaWQgMCxnLHYuY2Fub25pY2FsKSxsPWh0KHQsbmV3IGUucG9pbnRHZW9tZXRyeShpWzBdLGlbMV0pLG5ldyBlLnBvaW50R2VvbWV0cnkoc1swXSxzWzFdKSxtKTtpZih0LmZsaXBTdGF0ZT1sJiZsLm5lZWRzRmxpcHBpbmc/MToyLGwpcmV0dXJuIGx9Y29uc3QgaT1wdCh5KmwuZ2V0b2Zmc2V0WCh0LmdseXBoU3RhcnRJbmRleCksYix3LG8sXyxkLHQuc2VnbWVudCx0LmxpbmVTdGFydEluZGV4LHQubGluZVN0YXJ0SW5kZXgrdC5saW5lTGVuZ3RoLGMsYSxwLGYsITEsITEsZyx2LHgpO2lmKCFpKXJldHVybiB7bm90RW5vdWdoUm9vbTohMH07VD1baV07fWlmKHUpZm9yKGNvbnN0IHQgb2YgVCllLnVwZGF0ZUdsb2JlVmVydGV4Tm9ybWFsKHUsaC5sZW5ndGgrMCx0LnVwWzBdLHQudXBbMV0sdC51cFsyXSksZS51cGRhdGVHbG9iZVZlcnRleE5vcm1hbCh1LGgubGVuZ3RoKzEsdC51cFswXSx0LnVwWzFdLHQudXBbMl0pLGUudXBkYXRlR2xvYmVWZXJ0ZXhOb3JtYWwodSxoLmxlbmd0aCsyLHQudXBbMF0sdC51cFsxXSx0LnVwWzJdKSxlLnVwZGF0ZUdsb2JlVmVydGV4Tm9ybWFsKHUsaC5sZW5ndGgrMyx0LnVwWzBdLHQudXBbMV0sdC51cFsyXSksZS5hZGREeW5hbWljQXR0cmlidXRlcyhoLHQucG9pbnRbMF0sdC5wb2ludFsxXSx0LnBvaW50WzJdLHQuYW5nbGUpO2Vsc2UgZm9yKGNvbnN0IHQgb2YgVCllLmFkZER5bmFtaWNBdHRyaWJ1dGVzKGgsdC5wb2ludFswXSx0LnBvaW50WzFdLHQucG9pbnRbMl0sdC5hbmdsZSk7cmV0dXJuIHt9fWZ1bmN0aW9uIF90KHQsaSxvLHIsbil7Y29uc3QgYT1yLnByb2plY3RUaWxlUG9pbnQodC54LHQueSxpKTtpZighbilyZXR1cm4gcnQoYSxvLGEueik7Y29uc3Qgcz1uKHQpO3JldHVybiBydChuZXcgZS5wb2ludEdlb21ldHJ5KGEueCtzWzBdLGEueStzWzFdKSxvLGEueitzWzJdKX1mdW5jdGlvbiBkdCh0LGksbyxyLG4sYSxzLGwpe2NvbnN0IGM9X3QodC5hZGQodC5zdWIoaSkuX3VuaXQoKSksbCxuLHMsYSkucG9pbnQsaD1lLnN1YihbXSxvLGMpO3JldHVybiBlLnNjYWxlQW5kQWRkKFtdLG8saCxyL2UubGVuZ3RoKGgpKX1mdW5jdGlvbiBwdCh0LGksbyxyLG4sYSxzLGwsYyxoLHUsXyxkLHAsbSxmLGcsdil7Y29uc3QgeD1yP3QtaTp0K2k7bGV0IHk9eD4wPzE6LTEsYj0wO3ImJih5Kj0tMSxiPU1hdGguUEkpLHk8MCYmKGIrPU1hdGguUEkpO2xldCB3PXk+MD9sK3M6bCtzKzEsVD1uLEU9bixDPTAsST0wO2NvbnN0IE09TWF0aC5hYnMoeCksUz1bXSx6PVtdO2xldCBEPWE7Y29uc3QgUD0oKT0+e2NvbnN0IHQ9dy15O3JldHVybiAwPT09Qz9hOm5ldyBlLnBvaW50R2VvbWV0cnkoaC5nZXR4KHQpLGguZ2V0eSh0KSl9LEE9KCk9PmR0KFAoKSxELEUsTS1DKzEsdSxkLGYsZy5jYW5vbmljYWwpO2Zvcig7QytJPD1NOyl7aWYodys9eSx3PGx8fHc+PWMpcmV0dXJuIG51bGw7aWYoRT1ULFMucHVzaChUKSxwJiZ6LnB1c2goRHx8UCgpKSxUPV9bd10sdm9pZCAwPT09VCl7RD1uZXcgZS5wb2ludEdlb21ldHJ5KGguZ2V0eCh3KSxoLmdldHkodykpO2NvbnN0IHQ9X3QoRCxnLmNhbm9uaWNhbCx1LGYsZCk7VD10LnNpZ25lZERpc3RhbmNlRnJvbUNhbWVyYT4wP19bd109dC5wb2ludDpBKCk7fWVsc2UgRD1udWxsO0MrPUksST1lLmRpc3RhbmNlKEUsVCk7fUQ9RHx8bmV3IGUucG9pbnRHZW9tZXRyeShoLmdldHgodyksaC5nZXR5KHcpKTtjb25zdCBMPVAoKTttJiZkJiYoX1t3XT1UPXZvaWQgMD09PV9bd10/VDpBKCksST1lLmRpc3RhbmNlKEUsVCkpO2NvbnN0IFI9KE0tQykvSSxPPUQuc3ViKEwpLm11bHQoUikuX2FkZChMKSxCPWUuc3ViKFtdLFQsRSksaz1lLnNjYWxlQW5kQWRkKFtdLEUsQixSKTtsZXQgRj1bMCwwLDFdLFU9QlswXSxOPUJbMV07aWYodiYmKEY9Zi51cFZlY3RvcihnLmNhbm9uaWNhbCxPLngsTy55KSwwIT09RlswXXx8MCE9PUZbMV18fDEhPT1GWzJdKSl7Y29uc3QgdD1bMSwwLDBdLGk9WzAsMSwwXTt0WzBdPUZbMl0sdFsxXT0wLHRbMl09LUZbMF0sZS5jcm9zcyhpLEYsdCksZS5ub3JtYWxpemUodCx0KSxlLm5vcm1hbGl6ZShpLGkpLFU9ZS5kb3QoQix0KSxOPWUuZG90KEIsaSk7fWlmKG8pe2NvbnN0IHQ9ZS5jcm9zcyhbXSxGLEIpO2Uubm9ybWFsaXplKHQsdCksZS5zY2FsZUFuZEFkZChrLGssdCxvKnkpO31jb25zdCBHPWIrTWF0aC5hdGFuMihOLFUpO3JldHVybiBTLnB1c2goaykscCYmei5wdXNoKE8pLHtwb2ludDprLGFuZ2xlOkcscGF0aDpTLHRpbGVQYXRoOnosdXA6Rn19Y29uc3QgbXQ9bmV3IEZsb2F0MzJBcnJheShbLTEvMCwtMS8wLDAsLTEvMCwtMS8wLDAsLTEvMCwtMS8wLDAsLTEvMCwtMS8wLDAsLTEvMCwtMS8wLDBdKTtmdW5jdGlvbiBmdChlLHQpe2ZvcihsZXQgaT0wO2k8ZTtpKyspe2NvbnN0IGU9dC5sZW5ndGg7dC5yZXNpemUoZSs0KSx0LmZsb2F0MzIuc2V0KG10LDQqZSk7fX1mdW5jdGlvbiBndChlLHQsaSl7Y29uc3Qgbz10WzBdLHI9dFsxXTtyZXR1cm4gZVswXT1pWzBdKm8raVs0XSpyK2lbMTJdLGVbMV09aVsxXSpvK2lbNV0qcitpWzEzXSxlWzNdPWlbM10qbytpWzddKnIraVsxNV0sZX1jb25zdCB2dD0xMDA7Y2xhc3MgeHR7Y29uc3RydWN0b3IoZSx0LGk9bmV3IFFlKGUud2lkdGgrMjAwLGUuaGVpZ2h0KzIwMCwyNSksbz1uZXcgUWUoZS53aWR0aCsyMDAsZS5oZWlnaHQrMjAwLDI1KSl7dGhpcy50cmFuc2Zvcm09ZSx0aGlzLmdyaWQ9aSx0aGlzLmlnbm9yZWRHcmlkPW8sdGhpcy5waXRjaGZhY3Rvcj1NYXRoLmNvcyhlLl9waXRjaCkqZS5jYW1lcmFUb0NlbnRlckRpc3RhbmNlLHRoaXMuc2NyZWVuUmlnaHRCb3VuZGFyeT1lLndpZHRoK3Z0LHRoaXMuc2NyZWVuQm90dG9tQm91bmRhcnk9ZS5oZWlnaHQrdnQsdGhpcy5ncmlkUmlnaHRCb3VuZGFyeT1lLndpZHRoKzIwMCx0aGlzLmdyaWRCb3R0b21Cb3VuZGFyeT1lLmhlaWdodCsyMDAsdGhpcy5mb2dTdGF0ZT10O31wbGFjZUNvbGxpc2lvbkJveChlLHQsaSxvLHIsbixhLHMpe2xldCBsPWkucHJvamVjdGVkQW5jaG9yWCxjPWkucHJvamVjdGVkQW5jaG9yWSxoPWkucHJvamVjdGVkQW5jaG9yWjtjb25zdCB1PWkuZWxldmF0aW9uLF89aS50aWxlSUQ7aWYodSYmXyl7Y29uc3QgdD1lLmdldFByb2plY3Rpb24oKS51cFZlY3RvcihfLmNhbm9uaWNhbCxpLnRpbGVBbmNob3JYLGkudGlsZUFuY2hvclkpLG89ZS5nZXRQcm9qZWN0aW9uKCkudXBWZWN0b3JTY2FsZShfLmNhbm9uaWNhbCx0aGlzLnRyYW5zZm9ybS5jZW50ZXIubGF0LHRoaXMudHJhbnNmb3JtLndvcmxkU2l6ZSkubWV0ZXJzVG9UaWxlO2wrPXRbMF0qdSpvLGMrPXRbMV0qdSpvLGgrPXRbMl0qdSpvO31jb25zdCBkPXRoaXMucHJvamVjdEFuZEdldFBlcnNwZWN0aXZlUmF0aW8oYSxbbCxjLGhdLGkudGlsZUlELFwiZ2xvYmVcIj09PWUucHJvamVjdGlvbi5uYW1lfHwhIXV8fHRoaXMudHJhbnNmb3JtLnBpdGNoPjAsZS5nZXRQcm9qZWN0aW9uKCkpLHA9bipkLnBlcnNwZWN0aXZlUmF0aW8sbT0oaS54MSp0K28ueC1pLnBhZGRpbmcpKnArZC5wb2ludC54LGY9KGkueTEqdCtvLnktaS5wYWRkaW5nKSpwK2QucG9pbnQueSxnPShpLngyKnQrby54K2kucGFkZGluZykqcCtkLnBvaW50Lngsdj0oaS55Mip0K28ueStpLnBhZGRpbmcpKnArZC5wb2ludC55LHg9ZC5wZXJzcGVjdGl2ZVJhdGlvPD0uNTV8fGQub2NjbHVkZWQ7cmV0dXJuICF0aGlzLmlzSW5zaWRlR3JpZChtLGYsZyx2KXx8IXImJnRoaXMuZ3JpZC5oaXRUZXN0KG0sZixnLHYscyl8fHg/e2JveDpbXSxvZmZzY3JlZW46ITEsb2NjbHVkZWQ6ZC5vY2NsdWRlZH06e2JveDpbbSxmLGcsdl0sb2Zmc2NyZWVuOnRoaXMuaXNPZmZzY3JlZW4obSxmLGcsdiksb2NjbHVkZWQ6ITF9fXBsYWNlQ29sbGlzaW9uQ2lyY2xlcyh0LGksbyxyLG4sYSxzLGwsYyxoLHUsXyxkLHAsbSl7Y29uc3QgZj1bXSxnPXRoaXMudHJhbnNmb3JtLmVsZXZhdGlvbix2PWc/Zy5nZXRBdFRpbGVPZmZzZXRGdW5jKG0sdGhpcy50cmFuc2Zvcm0uY2VudGVyLmxhdCx0aGlzLnRyYW5zZm9ybS53b3JsZFNpemUsdC5nZXRQcm9qZWN0aW9uKCkpOmU9PlswLDAsMF0seD1uZXcgZS5wb2ludEdlb21ldHJ5KG8udGlsZUFuY2hvclgsby50aWxlQW5jaG9yWSkseT10LmdldFByb2plY3Rpb24oKS5wcm9qZWN0VGlsZVBvaW50KG8udGlsZUFuY2hvclgsby50aWxlQW5jaG9yWSxtLmNhbm9uaWNhbCksYj12KHgpLHc9W3kueCtiWzBdLHkueStiWzFdLHkueitiWzJdXSxUPVwiZ2xvYmVcIj09PXQucHJvamVjdGlvbi5uYW1lLEU9dGhpcy5wcm9qZWN0QW5kR2V0UGVyc3BlY3RpdmVSYXRpbyhzLFt3WzBdLHdbMV0sd1syXV0sbSxUfHwhIWd8fHRoaXMudHJhbnNmb3JtLnBpdGNoPjAsdC5nZXRQcm9qZWN0aW9uKCkpLHtwZXJzcGVjdGl2ZVJhdGlvOkN9PUUsST0odT9hL0M6YSpDKS9lLk9ORV9FTSxNPXJ0KG5ldyBlLnBvaW50R2VvbWV0cnkod1swXSx3WzFdKSxsLHdbMl0pLnBvaW50LFM9RS5zaWduZWREaXN0YW5jZUZyb21DYW1lcmE+MD9jdChJLG4sby5saW5lT2Zmc2V0WCpJLG8ubGluZU9mZnNldFkqSSwhMSxNLHgsbyxyLGwse30sZyYmIXU/djpudWxsLHUmJiEhZyx0LmdldFByb2plY3Rpb24oKSxtLHUpOm51bGw7bGV0IHo9ITEsRD0hMSxQPSEwO2lmKFMmJiFFLm9jY2x1ZGVkKXtjb25zdCB0PS41KmQqQytwLG89bmV3IGUucG9pbnRHZW9tZXRyeSgtMTAwLC0xMDApLHI9bmV3IGUucG9pbnRHZW9tZXRyeSh0aGlzLnNjcmVlblJpZ2h0Qm91bmRhcnksdGhpcy5zY3JlZW5Cb3R0b21Cb3VuZGFyeSksbj1uZXcgSmUsYT1TLmZpcnN0LHM9Uy5sYXN0O2xldCBsPVtdO2ZvcihsZXQgZT1hLnBhdGgubGVuZ3RoLTE7ZT49MTtlLS0pbC5wdXNoKGEucGF0aFtlXSk7Zm9yKGxldCBlPTE7ZTxzLnBhdGgubGVuZ3RoO2UrKylsLnB1c2gocy5wYXRoW2VdKTtjb25zdCB1PTIuNSp0O2lmKGMpe2NvbnN0IGU9bC5tYXAoZyYmIVQ/KGUsdCk9Pntjb25zdCBpPXYodDxhLnBhdGgubGVuZ3RoLTE/YS50aWxlUGF0aFthLnBhdGgubGVuZ3RoLTEtdF06cy50aWxlUGF0aFt0LWEucGF0aC5sZW5ndGgrMl0pO3JldHVybiBlWzJdPWlbMl0sbnQoZSxjKX06ZT0+bnQoZSxjKSk7bD1lLnNvbWUoKGU9PmUuc2lnbmVkRGlzdGFuY2VGcm9tQ2FtZXJhPD0wKSk/W106ZS5tYXAoKGU9PmUucG9pbnQpKTt9bGV0IG09W107aWYobC5sZW5ndGg+MCl7Y29uc3QgdD1sLm1hcCgodD0+bmV3IGUucG9pbnRHZW9tZXRyeSh0WzBdLHRbMV0pKSk7bGV0IGk9MS8wLG49LTEvMCxhPTEvMCxzPS0xLzA7Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDtlKyspaT1NYXRoLm1pbihpLHRbZV0ueCksYT1NYXRoLm1pbihhLHRbZV0ueSksbj1NYXRoLm1heChuLHRbZV0ueCkscz1NYXRoLm1heChzLHRbZV0ueSk7bT1pPj1vLngmJm48PXIueCYmYT49by55JiZzPD1yLnk/W3RdOm48by54fHxpPnIueHx8czxvLnl8fGE+ci55P1tdOmUuY2xpcExpbmUoW3RdLG8ueCxvLnksci54LHIueSk7fWZvcihjb25zdCBlIG9mIG0pe24ucmVzZXQoZSwuMjUqdCk7bGV0IG89MDtvPW4ubGVuZ3RoPD0uNSp0PzE6TWF0aC5jZWlsKG4ucGFkZGVkTGVuZ3RoL3UpKzE7Zm9yKGxldCBlPTA7ZTxvO2UrKyl7Y29uc3Qgcj1lL01hdGgubWF4KG8tMSwxKSxhPW4ubGVycChyKSxzPWEueCt2dCxsPWEueSt2dDtmLnB1c2gocyxsLHQsMCk7Y29uc3QgYz1zLXQsdT1sLXQsZD1zK3QscD1sK3Q7aWYoUD1QJiZ0aGlzLmlzT2Zmc2NyZWVuKGMsdSxkLHApLEQ9RHx8dGhpcy5pc0luc2lkZUdyaWQoYyx1LGQscCksIWkmJnRoaXMuZ3JpZC5oaXRUZXN0Q2lyY2xlKHMsbCx0LF8pJiYoej0hMCwhaCkpcmV0dXJuIHtjaXJjbGVzOltdLG9mZnNjcmVlbjohMSxjb2xsaXNpb25EZXRlY3RlZDp6LG9jY2x1ZGVkOiExfX19fXJldHVybiB7Y2lyY2xlczohaCYmenx8IUQ/W106ZixvZmZzY3JlZW46UCxjb2xsaXNpb25EZXRlY3RlZDp6LG9jY2x1ZGVkOkUub2NjbHVkZWR9fXF1ZXJ5UmVuZGVyZWRTeW1ib2xzKHQpe2lmKDA9PT10Lmxlbmd0aHx8MD09PXRoaXMuZ3JpZC5rZXlzTGVuZ3RoKCkmJjA9PT10aGlzLmlnbm9yZWRHcmlkLmtleXNMZW5ndGgoKSlyZXR1cm4ge307Y29uc3QgaT1bXTtsZXQgbz0xLzAscj0xLzAsbj0tMS8wLGE9LTEvMDtmb3IoY29uc3QgcyBvZiB0KXtjb25zdCB0PW5ldyBlLnBvaW50R2VvbWV0cnkocy54K3Z0LHMueSt2dCk7bz1NYXRoLm1pbihvLHQueCkscj1NYXRoLm1pbihyLHQueSksbj1NYXRoLm1heChuLHQueCksYT1NYXRoLm1heChhLHQueSksaS5wdXNoKHQpO31jb25zdCBzPXRoaXMuZ3JpZC5xdWVyeShvLHIsbixhKS5jb25jYXQodGhpcy5pZ25vcmVkR3JpZC5xdWVyeShvLHIsbixhKSksbD17fSxjPXt9O2Zvcihjb25zdCB0IG9mIHMpe2NvbnN0IG89dC5rZXk7aWYodm9pZCAwPT09bFtvLmJ1Y2tldEluc3RhbmNlSWRdJiYobFtvLmJ1Y2tldEluc3RhbmNlSWRdPXt9KSxsW28uYnVja2V0SW5zdGFuY2VJZF1bby5mZWF0dXJlSW5kZXhdKWNvbnRpbnVlO2NvbnN0IHI9W25ldyBlLnBvaW50R2VvbWV0cnkodC54MSx0LnkxKSxuZXcgZS5wb2ludEdlb21ldHJ5KHQueDIsdC55MSksbmV3IGUucG9pbnRHZW9tZXRyeSh0LngyLHQueTIpLG5ldyBlLnBvaW50R2VvbWV0cnkodC54MSx0LnkyKV07ZS5wb2x5Z29uSW50ZXJzZWN0c1BvbHlnb24oaSxyKSYmKGxbby5idWNrZXRJbnN0YW5jZUlkXVtvLmZlYXR1cmVJbmRleF09ITAsdm9pZCAwPT09Y1tvLmJ1Y2tldEluc3RhbmNlSWRdJiYoY1tvLmJ1Y2tldEluc3RhbmNlSWRdPVtdKSxjW28uYnVja2V0SW5zdGFuY2VJZF0ucHVzaChvLmZlYXR1cmVJbmRleCkpO31yZXR1cm4gY31pbnNlcnRDb2xsaXNpb25Cb3goZSx0LGksbyxyKXsodD90aGlzLmlnbm9yZWRHcmlkOnRoaXMuZ3JpZCkuaW5zZXJ0KHtidWNrZXRJbnN0YW5jZUlkOmksZmVhdHVyZUluZGV4Om8sY29sbGlzaW9uR3JvdXBJRDpyfSxlWzBdLGVbMV0sZVsyXSxlWzNdKTt9aW5zZXJ0Q29sbGlzaW9uQ2lyY2xlcyhlLHQsaSxvLHIpe2NvbnN0IG49dD90aGlzLmlnbm9yZWRHcmlkOnRoaXMuZ3JpZCxhPXtidWNrZXRJbnN0YW5jZUlkOmksZmVhdHVyZUluZGV4Om8sY29sbGlzaW9uR3JvdXBJRDpyfTtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrPTQpbi5pbnNlcnRDaXJjbGUoYSxlW3RdLGVbdCsxXSxlW3QrMl0pO31wcm9qZWN0QW5kR2V0UGVyc3BlY3RpdmVSYXRpbyh0LGksbyxyLG4pe2NvbnN0IGE9W2lbMF0saVsxXSxpWzJdLDFdO2xldCBzPSExO2lmKGlbMl18fHRoaXMudHJhbnNmb3JtLnBpdGNoPjApe2UudHJhbnNmb3JtTWF0NCQxKGEsYSx0KTtjb25zdCByPVwiZ2xvYmVcIj09PW4ubmFtZTt0aGlzLmZvZ1N0YXRlJiZvJiYhciYmKHM9ZnVuY3Rpb24odCxpLG8scixuLGEpe2NvbnN0IHM9YS5jYWxjdWxhdGVGb2dUaWxlTWF0cml4KG4pLGw9W2ksbyxyXTtyZXR1cm4gZS50cmFuc2Zvcm1NYXQ0KGwsbCxzKSxNKHQsbCxhLnBpdGNoLGEuX2Zvdil9KHRoaXMuZm9nU3RhdGUsaVswXSxpWzFdLGlbMl0sby50b1Vud3JhcHBlZCgpLHRoaXMudHJhbnNmb3JtKT4uOSk7fWVsc2UgZ3QoYSxhLHQpO3JldHVybiB7cG9pbnQ6bmV3IGUucG9pbnRHZW9tZXRyeSgoYVswXS9hWzNdKzEpLzIqdGhpcy50cmFuc2Zvcm0ud2lkdGgrdnQsKC1hWzFdL2FbM10rMSkvMip0aGlzLnRyYW5zZm9ybS5oZWlnaHQrdnQpLHBlcnNwZWN0aXZlUmF0aW86TWF0aC5taW4oLjUrdGhpcy50cmFuc2Zvcm0uZ2V0Q2FtZXJhVG9DZW50ZXJEaXN0YW5jZShuKS9hWzNdKi41LDEuNSksc2lnbmVkRGlzdGFuY2VGcm9tQ2FtZXJhOmFbM10sb2NjbHVkZWQ6ciYmYVsyXT5hWzNdfHxzfX1pc09mZnNjcmVlbihlLHQsaSxvKXtyZXR1cm4gaTx2dHx8ZT49dGhpcy5zY3JlZW5SaWdodEJvdW5kYXJ5fHxvPHZ0fHx0PnRoaXMuc2NyZWVuQm90dG9tQm91bmRhcnl9aXNJbnNpZGVHcmlkKGUsdCxpLG8pe3JldHVybiBpPj0wJiZlPHRoaXMuZ3JpZFJpZ2h0Qm91bmRhcnkmJm8+PTAmJnQ8dGhpcy5ncmlkQm90dG9tQm91bmRhcnl9Z2V0Vmlld3BvcnRNYXRyaXgoKXtjb25zdCB0PWUuaWRlbnRpdHkoW10pO3JldHVybiBlLnRyYW5zbGF0ZSh0LHQsWy0xMDAsLTEwMCwwXSksdH19ZnVuY3Rpb24geXQodCxpLG8pe2NvbnN0IHI9aS5jcmVhdGVUaWxlTWF0cml4KHQsdC53b3JsZFNpemUsby50b1Vud3JhcHBlZCgpKTtyZXR1cm4gZS5tdWx0aXBseShuZXcgRmxvYXQzMkFycmF5KDE2KSx0LnByb2pNYXRyaXgscil9ZnVuY3Rpb24gYnQoZSx0LGkpe2lmKHQucHJvamVjdGlvbi5uYW1lPT09aS5wcm9qZWN0aW9uLm5hbWUpcmV0dXJuIGUucHJvak1hdHJpeDtjb25zdCBvPWkuY2xvbmUoKTtyZXR1cm4gby5zZXRQcm9qZWN0aW9uKHQucHJvamVjdGlvbikseXQobyx0LmdldFByb2plY3Rpb24oKSxlKX1mdW5jdGlvbiB3dChlLHQsaSl7cmV0dXJuIHQubmFtZT09PWkucHJvamVjdGlvbi5uYW1lP2UucHJvak1hdHJpeDp5dChpLHQsZSl9Y2xhc3MgVHR7Y29uc3RydWN0b3IoZSx0LGksbyl7dGhpcy5vcGFjaXR5PWU/TWF0aC5tYXgoMCxNYXRoLm1pbigxLGUub3BhY2l0eSsoZS5wbGFjZWQ/dDotdCkpKTpvJiZpPzE6MCx0aGlzLnBsYWNlZD1pO31pc0hpZGRlbigpe3JldHVybiAwPT09dGhpcy5vcGFjaXR5JiYhdGhpcy5wbGFjZWR9fWNsYXNzIEV0e2NvbnN0cnVjdG9yKGUsdCxpLG8scixuPSExKXt0aGlzLnRleHQ9bmV3IFR0KGU/ZS50ZXh0Om51bGwsdCxpLHIpLHRoaXMuaWNvbj1uZXcgVHQoZT9lLmljb246bnVsbCx0LG8sciksdGhpcy5jbGlwcGVkPW47fWlzSGlkZGVuKCl7cmV0dXJuIHRoaXMudGV4dC5pc0hpZGRlbigpJiZ0aGlzLmljb24uaXNIaWRkZW4oKX19Y2xhc3MgQ3R7Y29uc3RydWN0b3IoZSx0LGksbz0hMSl7dGhpcy50ZXh0PWUsdGhpcy5pY29uPXQsdGhpcy5za2lwRmFkZT1pLHRoaXMuY2xpcHBlZD1vO319Y2xhc3MgSXR7Y29uc3RydWN0b3IoKXt0aGlzLmludlByb2pNYXRyaXg9ZS5jcmVhdGUoKSx0aGlzLnZpZXdwb3J0TWF0cml4PWUuY3JlYXRlKCksdGhpcy5jaXJjbGVzPVtdO319Y2xhc3MgTXR7Y29uc3RydWN0b3IoZSx0LGksbyxyKXt0aGlzLmJ1Y2tldEluc3RhbmNlSWQ9ZSx0aGlzLmZlYXR1cmVJbmRleD10LHRoaXMuc291cmNlTGF5ZXJJbmRleD1pLHRoaXMuYnVja2V0SW5kZXg9byx0aGlzLnRpbGVJRD1yO319Y2xhc3MgU3R7Y29uc3RydWN0b3IoZSl7dGhpcy5jcm9zc1NvdXJjZUNvbGxpc2lvbnM9ZSx0aGlzLm1heEdyb3VwSUQ9MCx0aGlzLmNvbGxpc2lvbkdyb3Vwcz17fTt9Z2V0KGUpe2lmKHRoaXMuY3Jvc3NTb3VyY2VDb2xsaXNpb25zKXJldHVybiB7SUQ6MCxwcmVkaWNhdGU6bnVsbH07aWYoIXRoaXMuY29sbGlzaW9uR3JvdXBzW2VdKXtjb25zdCB0PSsrdGhpcy5tYXhHcm91cElEO3RoaXMuY29sbGlzaW9uR3JvdXBzW2VdPXtJRDp0LHByZWRpY2F0ZTplPT5lLmNvbGxpc2lvbkdyb3VwSUQ9PT10fTt9cmV0dXJuIHRoaXMuY29sbGlzaW9uR3JvdXBzW2VdfX1mdW5jdGlvbiB6dCh0LGksbyxyLG4pe2NvbnN0e2hvcml6b250YWxBbGlnbjphLHZlcnRpY2FsQWxpZ246c309ZS5nZXRBbmNob3JBbGlnbm1lbnQodCksbD0tKGEtLjUpKmksYz0tKHMtLjUpKm8saD1lLmV2YWx1YXRlVmFyaWFibGVPZmZzZXQodCxyKTtyZXR1cm4gbmV3IGUucG9pbnRHZW9tZXRyeShsK2hbMF0qbixjK2hbMV0qbil9ZnVuY3Rpb24gRHQodCxpLG8scixuKXtjb25zdCBhPW5ldyBlLnBvaW50R2VvbWV0cnkodCxpKTtyZXR1cm4gbyYmYS5fcm90YXRlKHI/bjotbiksYX1jbGFzcyBQdHtjb25zdHJ1Y3RvcihlLHQsaSxvLHIpe3RoaXMudHJhbnNmb3JtPWUuY2xvbmUoKSx0aGlzLnByb2plY3Rpb249ZS5wcm9qZWN0aW9uLm5hbWUsdGhpcy5jb2xsaXNpb25JbmRleD1uZXcgeHQodGhpcy50cmFuc2Zvcm0sciksdGhpcy5wbGFjZW1lbnRzPXt9LHRoaXMub3BhY2l0aWVzPXt9LHRoaXMudmFyaWFibGVPZmZzZXRzPXt9LHRoaXMuc3RhbGU9ITEsdGhpcy5jb21taXRUaW1lPTAsdGhpcy5mYWRlRHVyYXRpb249dCx0aGlzLnJldGFpbmVkUXVlcnlEYXRhPXt9LHRoaXMuY29sbGlzaW9uR3JvdXBzPW5ldyBTdChpKSx0aGlzLmNvbGxpc2lvbkNpcmNsZUFycmF5cz17fSx0aGlzLnByZXZQbGFjZW1lbnQ9byxvJiYoby5wcmV2UGxhY2VtZW50PXZvaWQgMCksdGhpcy5wbGFjZWRPcmllbnRhdGlvbnM9e307fWdldEJ1Y2tldFBhcnRzKHQsaSxvLHIpe2NvbnN0IG49by5nZXRCdWNrZXQoaSksYT1vLmxhdGVzdEZlYXR1cmVJbmRleDtpZighbnx8IWF8fGkuaWQhPT1uLmxheWVySWRzWzBdKXJldHVybjtjb25zdCBzPW4ubGF5ZXJzWzBdLmxheW91dCxsPW8uY29sbGlzaW9uQm94QXJyYXksYz1NYXRoLnBvdygyLHRoaXMudHJhbnNmb3JtLnpvb20tby50aWxlSUQub3ZlcnNjYWxlZFopLGg9by50aWxlU2l6ZS9lLkVYVEVOVCx1PW8udGlsZUlELnRvVW53cmFwcGVkKCk7dGhpcy50cmFuc2Zvcm0uc2V0UHJvamVjdGlvbihuLnByb2plY3Rpb24pO2NvbnN0IF89KGQ9by50aWxlSUQscD1uLmdldFByb2plY3Rpb24oKSxtPXRoaXMudHJhbnNmb3JtLHAubmFtZT09PXRoaXMucHJvamVjdGlvbj9tLmNhbGN1bGF0ZVByb2pNYXRyaXgoZC50b1Vud3JhcHBlZCgpKTp5dChtLHAsZCkpO3ZhciBkLHAsbTtjb25zdCBmPVwibWFwXCI9PT1zLmdldChcInRleHQtcGl0Y2gtYWxpZ25tZW50XCIpLGc9XCJtYXBcIj09PXMuZ2V0KFwidGV4dC1yb3RhdGlvbi1hbGlnbm1lbnRcIik7aS5jb21waWxlRmlsdGVyKCk7Y29uc3Qgdj1pLmR5bmFtaWNGaWx0ZXIoKSx4PWkuZHluYW1pY0ZpbHRlck5lZWRzRmVhdHVyZSgpLHk9dGhpcy50cmFuc2Zvcm0uY2FsY3VsYXRlUGl4ZWxzVG9UaWxlVW5pdHNNYXRyaXgobyksYj1pdChfLG8udGlsZUlELmNhbm9uaWNhbCxmLGcsdGhpcy50cmFuc2Zvcm0sbi5nZXRQcm9qZWN0aW9uKCkseSk7bGV0IHc9bnVsbDtpZihmKXtjb25zdCB0PW90KF8sby50aWxlSUQuY2Fub25pY2FsLGYsZyx0aGlzLnRyYW5zZm9ybSxuLmdldFByb2plY3Rpb24oKSx5KTt3PWUubXVsdGlwbHkoW10sdGhpcy50cmFuc2Zvcm0ubGFiZWxQbGFuZU1hdHJpeCx0KTt9bGV0IFQ9bnVsbDt2JiZvLmxhdGVzdEZlYXR1cmVJbmRleCYmKFQ9e3Vud3JhcHBlZFRpbGVJRDp1LGR5bmFtaWNGaWx0ZXI6dixkeW5hbWljRmlsdGVyTmVlZHNGZWF0dXJlOngsZmVhdHVyZUluZGV4Om8ubGF0ZXN0RmVhdHVyZUluZGV4fSksdGhpcy5yZXRhaW5lZFF1ZXJ5RGF0YVtuLmJ1Y2tldEluc3RhbmNlSWRdPW5ldyBNdChuLmJ1Y2tldEluc3RhbmNlSWQsYSxuLnNvdXJjZUxheWVySW5kZXgsbi5pbmRleCxvLnRpbGVJRCk7Y29uc3QgRT17YnVja2V0Om4sbGF5b3V0OnMscG9zTWF0cml4Ol8sdGV4dExhYmVsUGxhbmVNYXRyaXg6YixsYWJlbFRvU2NyZWVuTWF0cml4OncsY2xpcHBpbmdEYXRhOlQsc2NhbGU6Yyx0ZXh0UGl4ZWxSYXRpbzpoLGhvbGRpbmdGb3JGYWRlOm8uaG9sZGluZ0ZvckZhZGUoKSxjb2xsaXNpb25Cb3hBcnJheTpsLHBhcnRpYWxseUV2YWx1YXRlZFRleHRTaXplOmUuZXZhbHVhdGVTaXplRm9yWm9vbShuLnRleHRTaXplRGF0YSx0aGlzLnRyYW5zZm9ybS56b29tKSxwYXJ0aWFsbHlFdmFsdWF0ZWRJY29uU2l6ZTplLmV2YWx1YXRlU2l6ZUZvclpvb20obi5pY29uU2l6ZURhdGEsdGhpcy50cmFuc2Zvcm0uem9vbSksY29sbGlzaW9uR3JvdXA6dGhpcy5jb2xsaXNpb25Hcm91cHMuZ2V0KG4uc291cmNlSUQpfTtpZihyKWZvcihjb25zdCBlIG9mIG4uc29ydEtleVJhbmdlcyl7Y29uc3R7c29ydEtleTppLHN5bWJvbEluc3RhbmNlU3RhcnQ6byxzeW1ib2xJbnN0YW5jZUVuZDpyfT1lO3QucHVzaCh7c29ydEtleTppLHN5bWJvbEluc3RhbmNlU3RhcnQ6byxzeW1ib2xJbnN0YW5jZUVuZDpyLHBhcmFtZXRlcnM6RX0pO31lbHNlIHQucHVzaCh7c3ltYm9sSW5zdGFuY2VTdGFydDowLHN5bWJvbEluc3RhbmNlRW5kOm4uc3ltYm9sSW5zdGFuY2VzLmxlbmd0aCxwYXJhbWV0ZXJzOkV9KTt9YXR0ZW1wdEFuY2hvclBsYWNlbWVudChlLHQsaSxvLHIsbixhLHMsbCxjLGgsdSxfLGQscCxtLGYsZyl7Y29uc3Qgdj1bdS50ZXh0T2Zmc2V0MCx1LnRleHRPZmZzZXQxXSx4PXp0KGUsaSxvLHYscikseT10aGlzLmNvbGxpc2lvbkluZGV4LnBsYWNlQ29sbGlzaW9uQm94KGQscix0LER0KHgueCx4LnksbixhLHRoaXMudHJhbnNmb3JtLmFuZ2xlKSxoLHMsbCxjLnByZWRpY2F0ZSk7aWYoKCFtfHwwIT09dGhpcy5jb2xsaXNpb25JbmRleC5wbGFjZUNvbGxpc2lvbkJveChkLGQuZ2V0U3ltYm9sSW5zdGFuY2VJY29uU2l6ZShnLHRoaXMudHJhbnNmb3JtLnpvb20sXyksbSxEdCh4LngseC55LG4sYSx0aGlzLnRyYW5zZm9ybS5hbmdsZSksaCxzLGwsYy5wcmVkaWNhdGUpLmJveC5sZW5ndGgpJiZ5LmJveC5sZW5ndGg+MCl7bGV0IHQ7cmV0dXJuIHRoaXMucHJldlBsYWNlbWVudCYmdGhpcy5wcmV2UGxhY2VtZW50LnZhcmlhYmxlT2Zmc2V0c1t1LmNyb3NzVGlsZUlEXSYmdGhpcy5wcmV2UGxhY2VtZW50LnBsYWNlbWVudHNbdS5jcm9zc1RpbGVJRF0mJnRoaXMucHJldlBsYWNlbWVudC5wbGFjZW1lbnRzW3UuY3Jvc3NUaWxlSURdLnRleHQmJih0PXRoaXMucHJldlBsYWNlbWVudC52YXJpYWJsZU9mZnNldHNbdS5jcm9zc1RpbGVJRF0uYW5jaG9yKSx0aGlzLnZhcmlhYmxlT2Zmc2V0c1t1LmNyb3NzVGlsZUlEXT17dGV4dE9mZnNldDp2LHdpZHRoOmksaGVpZ2h0Om8sYW5jaG9yOmUsdGV4dFNjYWxlOnIscHJldkFuY2hvcjp0fSx0aGlzLm1hcmtVc2VkSnVzdGlmaWNhdGlvbihkLGUsdSxwKSxkLmFsbG93VmVydGljYWxQbGFjZW1lbnQmJih0aGlzLm1hcmtVc2VkT3JpZW50YXRpb24oZCxwLHUpLHRoaXMucGxhY2VkT3JpZW50YXRpb25zW3UuY3Jvc3NUaWxlSURdPXApLHtzaGlmdDp4LHBsYWNlZEdseXBoQm94ZXM6eX19fXBsYWNlTGF5ZXJCdWNrZXRQYXJ0KHQsaSxvLHIpe2NvbnN0e2J1Y2tldDpuLGxheW91dDphLHBvc01hdHJpeDpzLHRleHRMYWJlbFBsYW5lTWF0cml4OmwsbGFiZWxUb1NjcmVlbk1hdHJpeDpjLGNsaXBwaW5nRGF0YTpoLHRleHRQaXhlbFJhdGlvOnUsaG9sZGluZ0ZvckZhZGU6Xyxjb2xsaXNpb25Cb3hBcnJheTpkLHBhcnRpYWxseUV2YWx1YXRlZFRleHRTaXplOnAscGFydGlhbGx5RXZhbHVhdGVkSWNvblNpemU6bSxjb2xsaXNpb25Hcm91cDpmfT10LnBhcmFtZXRlcnMsZz1hLmdldChcInRleHQtb3B0aW9uYWxcIiksdj1hLmdldChcImljb24tb3B0aW9uYWxcIikseD1hLmdldChcInRleHQtYWxsb3ctb3ZlcmxhcFwiKSx5PWEuZ2V0KFwiaWNvbi1hbGxvdy1vdmVybGFwXCIpLGI9XCJtYXBcIj09PWEuZ2V0KFwidGV4dC1yb3RhdGlvbi1hbGlnbm1lbnRcIiksdz1cIm1hcFwiPT09YS5nZXQoXCJ0ZXh0LXBpdGNoLWFsaWdubWVudFwiKSxUPVwibm9uZVwiIT09YS5nZXQoXCJpY29uLXRleHQtZml0XCIpLEU9XCJ2aWV3cG9ydC15XCI9PT1hLmdldChcInN5bWJvbC16LW9yZGVyXCIpO3RoaXMudHJhbnNmb3JtLnNldFByb2plY3Rpb24obi5wcm9qZWN0aW9uKTtsZXQgQz14JiYoeXx8IW4uaGFzSWNvbkRhdGEoKXx8diksST15JiYoeHx8IW4uaGFzVGV4dERhdGEoKXx8Zyk7IW4uY29sbGlzaW9uQXJyYXlzJiZkJiZuLmRlc2VyaWFsaXplQ29sbGlzaW9uQm94ZXMoZCksbyYmciYmbi51cGRhdGVDb2xsaXNpb25EZWJ1Z0J1ZmZlcnModGhpcy50cmFuc2Zvcm0uem9vbSxkKTtjb25zdCBNPSh0LHIsZCk9PntpZihoKXtjb25zdCBvPXt6b29tOnRoaXMudHJhbnNmb3JtLnpvb20scGl0Y2g6dGhpcy50cmFuc2Zvcm0ucGl0Y2h9O2xldCByPW51bGw7aWYoaC5keW5hbWljRmlsdGVyTmVlZHNGZWF0dXJlKXtjb25zdCBlPXRoaXMucmV0YWluZWRRdWVyeURhdGFbbi5idWNrZXRJbnN0YW5jZUlkXTtyPWguZmVhdHVyZUluZGV4LmxvYWRGZWF0dXJlKHtmZWF0dXJlSW5kZXg6dC5mZWF0dXJlSW5kZXgsYnVja2V0SW5kZXg6ZS5idWNrZXRJbmRleCxzb3VyY2VMYXllckluZGV4OmUuc291cmNlTGF5ZXJJbmRleCxsYXlvdXRWZXJ0ZXhBcnJheU9mZnNldDowfSk7fWlmKCEoMCxoLmR5bmFtaWNGaWx0ZXIpKG8scix0aGlzLnJldGFpbmVkUXVlcnlEYXRhW24uYnVja2V0SW5zdGFuY2VJZF0udGlsZUlELmNhbm9uaWNhbCxuZXcgZS5wb2ludEdlb21ldHJ5KHQudGlsZUFuY2hvclgsdC50aWxlQW5jaG9yWSksdGhpcy50cmFuc2Zvcm0uY2FsY3VsYXRlRGlzdGFuY2VUaWxlRGF0YShoLnVud3JhcHBlZFRpbGVJRCkpKXJldHVybiB0aGlzLnBsYWNlbWVudHNbdC5jcm9zc1RpbGVJRF09bmV3IEN0KCExLCExLCExLCEwKSx2b2lkKGlbdC5jcm9zc1RpbGVJRF09ITApfWlmKGlbdC5jcm9zc1RpbGVJRF0pcmV0dXJuO2lmKF8pcmV0dXJuIHZvaWQodGhpcy5wbGFjZW1lbnRzW3QuY3Jvc3NUaWxlSURdPW5ldyBDdCghMSwhMSwhMSkpO2xldCBFPSExLE09ITEsUz0hMCx6PSExLEQ9ITEsUD1udWxsLEE9e2JveDpudWxsLG9mZnNjcmVlbjpudWxsLG9jY2x1ZGVkOm51bGx9LEw9e2JveDpudWxsLG9mZnNjcmVlbjpudWxsLG9jY2x1ZGVkOm51bGx9LFI9bnVsbCxPPW51bGwsQj1udWxsLGs9MCxGPTAsVT0wO2QudGV4dEZlYXR1cmVJbmRleD9rPWQudGV4dEZlYXR1cmVJbmRleDp0LnVzZVJ1bnRpbWVDb2xsaXNpb25DaXJjbGVzJiYoaz10LmZlYXR1cmVJbmRleCksZC52ZXJ0aWNhbFRleHRGZWF0dXJlSW5kZXgmJihGPWQudmVydGljYWxUZXh0RmVhdHVyZUluZGV4KTtjb25zdCBOPWU9PntlLnRpbGVJRD10aGlzLnJldGFpbmVkUXVlcnlEYXRhW24uYnVja2V0SW5zdGFuY2VJZF0udGlsZUlELCh0aGlzLnRyYW5zZm9ybS5lbGV2YXRpb258fGUuZWxldmF0aW9uKSYmKGUuZWxldmF0aW9uPXRoaXMudHJhbnNmb3JtLmVsZXZhdGlvbj90aGlzLnRyYW5zZm9ybS5lbGV2YXRpb24uZ2V0QXRUaWxlT2Zmc2V0KHRoaXMucmV0YWluZWRRdWVyeURhdGFbbi5idWNrZXRJbnN0YW5jZUlkXS50aWxlSUQsZS50aWxlQW5jaG9yWCxlLnRpbGVBbmNob3JZKTowKTt9LEc9ZC50ZXh0Qm94O2lmKEcpe04oRyk7Y29uc3QgaT1pPT57bGV0IG89ZS5Xcml0aW5nTW9kZS5ob3Jpem9udGFsO2lmKG4uYWxsb3dWZXJ0aWNhbFBsYWNlbWVudCYmIWkmJnRoaXMucHJldlBsYWNlbWVudCl7Y29uc3QgZT10aGlzLnByZXZQbGFjZW1lbnQucGxhY2VkT3JpZW50YXRpb25zW3QuY3Jvc3NUaWxlSURdO2UmJih0aGlzLnBsYWNlZE9yaWVudGF0aW9uc1t0LmNyb3NzVGlsZUlEXT1lLG89ZSx0aGlzLm1hcmtVc2VkT3JpZW50YXRpb24obixvLHQpKTt9cmV0dXJuIG99LG89KGksbyk9PntpZihuLmFsbG93VmVydGljYWxQbGFjZW1lbnQmJnQubnVtVmVydGljYWxHbHlwaFZlcnRpY2VzPjAmJmQudmVydGljYWxUZXh0Qm94KXtmb3IoY29uc3QgdCBvZiBuLndyaXRpbmdNb2RlcylpZih0PT09ZS5Xcml0aW5nTW9kZS52ZXJ0aWNhbD8oQT1vKCksTD1BKTpBPWkoKSxBJiZBLmJveCYmQS5ib3gubGVuZ3RoKWJyZWFrfWVsc2UgQT1pKCk7fTtpZihhLmdldChcInRleHQtdmFyaWFibGUtYW5jaG9yXCIpKXtsZXQgbD1hLmdldChcInRleHQtdmFyaWFibGUtYW5jaG9yXCIpO2lmKHRoaXMucHJldlBsYWNlbWVudCYmdGhpcy5wcmV2UGxhY2VtZW50LnZhcmlhYmxlT2Zmc2V0c1t0LmNyb3NzVGlsZUlEXSl7Y29uc3QgZT10aGlzLnByZXZQbGFjZW1lbnQudmFyaWFibGVPZmZzZXRzW3QuY3Jvc3NUaWxlSURdO2wuaW5kZXhPZihlLmFuY2hvcik+MCYmKGw9bC5maWx0ZXIoKHQ9PnQhPT1lLmFuY2hvcikpLGwudW5zaGlmdChlLmFuY2hvcikpO31jb25zdCBjPShlLGksbyk9Pntjb25zdCBhPW4uZ2V0U3ltYm9sSW5zdGFuY2VUZXh0U2l6ZShwLHQsdGhpcy50cmFuc2Zvcm0uem9vbSxyKSxjPShlLngyLWUueDEpKmErMiplLnBhZGRpbmcsaD0oZS55Mi1lLnkxKSphKzIqZS5wYWRkaW5nLF89VCYmIXk/aTpudWxsO18mJk4oXyk7bGV0IGQ9e2JveDpbXSxvZmZzY3JlZW46ITEsb2NjbHVkZWQ6ITF9O2NvbnN0IGc9eD8yKmwubGVuZ3RoOmwubGVuZ3RoO2ZvcihsZXQgaT0wO2k8ZzsrK2kpe2NvbnN0IGc9dGhpcy5hdHRlbXB0QW5jaG9yUGxhY2VtZW50KGxbaSVsLmxlbmd0aF0sZSxjLGgsYSxiLHcsdSxzLGYsaT49bC5sZW5ndGgsdCxyLG4sbyxfLHAsbSk7aWYoZyYmKGQ9Zy5wbGFjZWRHbHlwaEJveGVzLGQmJmQuYm94JiZkLmJveC5sZW5ndGgpKXtFPSEwLFA9Zy5zaGlmdDticmVha319cmV0dXJuIGR9O28oKCgpPT5jKEcsZC5pY29uQm94LGUuV3JpdGluZ01vZGUuaG9yaXpvbnRhbCkpLCgoKT0+e2NvbnN0IGk9ZC52ZXJ0aWNhbFRleHRCb3g7cmV0dXJuIGkmJk4oaSksbi5hbGxvd1ZlcnRpY2FsUGxhY2VtZW50JiYhKEEmJkEuYm94JiZBLmJveC5sZW5ndGgpJiZ0Lm51bVZlcnRpY2FsR2x5cGhWZXJ0aWNlcz4wJiZpP2MoaSxkLnZlcnRpY2FsSWNvbkJveCxlLldyaXRpbmdNb2RlLnZlcnRpY2FsKTp7Ym94Om51bGwsb2Zmc2NyZWVuOm51bGwsb2NjbHVkZWQ6bnVsbH19KSksQSYmKEU9QS5ib3gsUz1BLm9mZnNjcmVlbix6PUEub2NjbHVkZWQpO2NvbnN0IGg9aShBJiZBLmJveCk7aWYoIUUmJnRoaXMucHJldlBsYWNlbWVudCl7Y29uc3QgZT10aGlzLnByZXZQbGFjZW1lbnQudmFyaWFibGVPZmZzZXRzW3QuY3Jvc3NUaWxlSURdO2UmJih0aGlzLnZhcmlhYmxlT2Zmc2V0c1t0LmNyb3NzVGlsZUlEXT1lLHRoaXMubWFya1VzZWRKdXN0aWZpY2F0aW9uKG4sZS5hbmNob3IsdCxoKSk7fX1lbHNlIHtjb25zdCBhPShpLG8pPT57Y29uc3QgYT1uLmdldFN5bWJvbEluc3RhbmNlVGV4dFNpemUocCx0LHRoaXMudHJhbnNmb3JtLnpvb20sciksbD10aGlzLmNvbGxpc2lvbkluZGV4LnBsYWNlQ29sbGlzaW9uQm94KG4sYSxpLG5ldyBlLnBvaW50R2VvbWV0cnkoMCwwKSx4LHUscyxmLnByZWRpY2F0ZSk7cmV0dXJuIGwmJmwuYm94JiZsLmJveC5sZW5ndGgmJih0aGlzLm1hcmtVc2VkT3JpZW50YXRpb24obixvLHQpLHRoaXMucGxhY2VkT3JpZW50YXRpb25zW3QuY3Jvc3NUaWxlSURdPW8pLGx9O28oKCgpPT5hKEcsZS5Xcml0aW5nTW9kZS5ob3Jpem9udGFsKSksKCgpPT57Y29uc3QgaT1kLnZlcnRpY2FsVGV4dEJveDtyZXR1cm4gbi5hbGxvd1ZlcnRpY2FsUGxhY2VtZW50JiZ0Lm51bVZlcnRpY2FsR2x5cGhWZXJ0aWNlcz4wJiZpPyhOKGkpLGEoaSxlLldyaXRpbmdNb2RlLnZlcnRpY2FsKSk6e2JveDpudWxsLG9mZnNjcmVlbjpudWxsLG9jY2x1ZGVkOm51bGx9fSkpLGkoQSYmQS5ib3gmJkEuYm94Lmxlbmd0aCk7fX1pZihSPUEsRT1SJiZSLmJveCYmUi5ib3gubGVuZ3RoPjAsUz1SJiZSLm9mZnNjcmVlbix6PVImJlIub2NjbHVkZWQsdC51c2VSdW50aW1lQ29sbGlzaW9uQ2lyY2xlcyl7Y29uc3QgaT1uLnRleHQucGxhY2VkU3ltYm9sQXJyYXkuZ2V0KHQuY2VudGVySnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4Pj0wP3QuY2VudGVySnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4OnQudmVydGljYWxQbGFjZWRUZXh0U3ltYm9sSW5kZXgpLHI9ZS5ldmFsdWF0ZVNpemVGb3JGZWF0dXJlKG4udGV4dFNpemVEYXRhLHAsaSksaD1hLmdldChcInRleHQtcGFkZGluZ1wiKTtPPXRoaXMuY29sbGlzaW9uSW5kZXgucGxhY2VDb2xsaXNpb25DaXJjbGVzKG4seCxpLG4ubGluZVZlcnRleEFycmF5LG4uZ2x5cGhPZmZzZXRBcnJheSxyLHMsbCxjLG8sdyxmLnByZWRpY2F0ZSx0LmNvbGxpc2lvbkNpcmNsZURpYW1ldGVyKnIvZS5PTkVfRU0saCx0aGlzLnJldGFpbmVkUXVlcnlEYXRhW24uYnVja2V0SW5zdGFuY2VJZF0udGlsZUlEKSxFPXh8fE8uY2lyY2xlcy5sZW5ndGg+MCYmIU8uY29sbGlzaW9uRGV0ZWN0ZWQsUz1TJiZPLm9mZnNjcmVlbix6PU8ub2NjbHVkZWQ7fWlmKGQuaWNvbkZlYXR1cmVJbmRleCYmKFU9ZC5pY29uRmVhdHVyZUluZGV4KSxkLmljb25Cb3gpe2NvbnN0IHQ9dD0+e04odCk7Y29uc3QgaT1UJiZQP0R0KFAueCxQLnksYix3LHRoaXMudHJhbnNmb3JtLmFuZ2xlKTpuZXcgZS5wb2ludEdlb21ldHJ5KDAsMCksbz1uLmdldFN5bWJvbEluc3RhbmNlSWNvblNpemUobSx0aGlzLnRyYW5zZm9ybS56b29tLHIpO3JldHVybiB0aGlzLmNvbGxpc2lvbkluZGV4LnBsYWNlQ29sbGlzaW9uQm94KG4sbyx0LGkseSx1LHMsZi5wcmVkaWNhdGUpfTtMJiZMLmJveCYmTC5ib3gubGVuZ3RoJiZkLnZlcnRpY2FsSWNvbkJveD8oQj10KGQudmVydGljYWxJY29uQm94KSxNPUIuYm94Lmxlbmd0aD4wKTooQj10KGQuaWNvbkJveCksTT1CLmJveC5sZW5ndGg+MCksUz1TJiZCLm9mZnNjcmVlbixEPUIub2NjbHVkZWQ7fWNvbnN0IGo9Z3x8MD09PXQubnVtSG9yaXpvbnRhbEdseXBoVmVydGljZXMmJjA9PT10Lm51bVZlcnRpY2FsR2x5cGhWZXJ0aWNlcyxaPXZ8fDA9PT10Lm51bUljb25WZXJ0aWNlcztpZihqfHxaP1o/anx8KE09TSYmRSk6RT1NJiZFOk09RT1NJiZFLEUmJlImJlIuYm94JiZ0aGlzLmNvbGxpc2lvbkluZGV4Lmluc2VydENvbGxpc2lvbkJveChSLmJveCxhLmdldChcInRleHQtaWdub3JlLXBsYWNlbWVudFwiKSxuLmJ1Y2tldEluc3RhbmNlSWQsTCYmTC5ib3gmJkY/RjprLGYuSUQpLE0mJkImJnRoaXMuY29sbGlzaW9uSW5kZXguaW5zZXJ0Q29sbGlzaW9uQm94KEIuYm94LGEuZ2V0KFwiaWNvbi1pZ25vcmUtcGxhY2VtZW50XCIpLG4uYnVja2V0SW5zdGFuY2VJZCxVLGYuSUQpLE8mJihFJiZ0aGlzLmNvbGxpc2lvbkluZGV4Lmluc2VydENvbGxpc2lvbkNpcmNsZXMoTy5jaXJjbGVzLGEuZ2V0KFwidGV4dC1pZ25vcmUtcGxhY2VtZW50XCIpLG4uYnVja2V0SW5zdGFuY2VJZCxrLGYuSUQpLG8pKXtjb25zdCBlPW4uYnVja2V0SW5zdGFuY2VJZDtsZXQgdD10aGlzLmNvbGxpc2lvbkNpcmNsZUFycmF5c1tlXTt2b2lkIDA9PT10JiYodD10aGlzLmNvbGxpc2lvbkNpcmNsZUFycmF5c1tlXT1uZXcgSXQpO2ZvcihsZXQgZT0wO2U8Ty5jaXJjbGVzLmxlbmd0aDtlKz00KXQuY2lyY2xlcy5wdXNoKE8uY2lyY2xlc1tlKzBdKSx0LmNpcmNsZXMucHVzaChPLmNpcmNsZXNbZSsxXSksdC5jaXJjbGVzLnB1c2goTy5jaXJjbGVzW2UrMl0pLHQuY2lyY2xlcy5wdXNoKE8uY29sbGlzaW9uRGV0ZWN0ZWQ/MTowKTt9Y29uc3QgVj1cImdsb2JlXCIhPT1uLnByb2plY3Rpb24ubmFtZTtDPUMmJihWfHwheiksST1JJiYoVnx8IUQpLHRoaXMucGxhY2VtZW50c1t0LmNyb3NzVGlsZUlEXT1uZXcgQ3QoRXx8QyxNfHxJLFN8fG4uanVzdFJlbG9hZGVkKSxpW3QuY3Jvc3NUaWxlSURdPSEwO307aWYoRSl7Y29uc3QgZT1uLmdldFNvcnRlZFN5bWJvbEluZGV4ZXModGhpcy50cmFuc2Zvcm0uYW5nbGUpO2ZvcihsZXQgdD1lLmxlbmd0aC0xO3Q+PTA7LS10KXtjb25zdCBpPWVbdF07TShuLnN5bWJvbEluc3RhbmNlcy5nZXQoaSksaSxuLmNvbGxpc2lvbkFycmF5c1tpXSk7fX1lbHNlIGZvcihsZXQgZT10LnN5bWJvbEluc3RhbmNlU3RhcnQ7ZTx0LnN5bWJvbEluc3RhbmNlRW5kO2UrKylNKG4uc3ltYm9sSW5zdGFuY2VzLmdldChlKSxlLG4uY29sbGlzaW9uQXJyYXlzW2VdKTtpZihvJiZuLmJ1Y2tldEluc3RhbmNlSWQgaW4gdGhpcy5jb2xsaXNpb25DaXJjbGVBcnJheXMpe2NvbnN0IHQ9dGhpcy5jb2xsaXNpb25DaXJjbGVBcnJheXNbbi5idWNrZXRJbnN0YW5jZUlkXTtlLmludmVydCh0LmludlByb2pNYXRyaXgscyksdC52aWV3cG9ydE1hdHJpeD10aGlzLmNvbGxpc2lvbkluZGV4LmdldFZpZXdwb3J0TWF0cml4KCk7fW4uanVzdFJlbG9hZGVkPSExO31tYXJrVXNlZEp1c3RpZmljYXRpb24odCxpLG8scil7bGV0IG47bj1yPT09ZS5Xcml0aW5nTW9kZS52ZXJ0aWNhbD9vLnZlcnRpY2FsUGxhY2VkVGV4dFN5bWJvbEluZGV4OntsZWZ0Om8ubGVmdEp1c3RpZmllZFRleHRTeW1ib2xJbmRleCxjZW50ZXI6by5jZW50ZXJKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXgscmlnaHQ6by5yaWdodEp1c3RpZmllZFRleHRTeW1ib2xJbmRleH1bZS5nZXRBbmNob3JKdXN0aWZpY2F0aW9uKGkpXTtjb25zdCBhPVtvLmxlZnRKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXgsby5jZW50ZXJKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXgsby5yaWdodEp1c3RpZmllZFRleHRTeW1ib2xJbmRleCxvLnZlcnRpY2FsUGxhY2VkVGV4dFN5bWJvbEluZGV4XTtmb3IoY29uc3QgZSBvZiBhKWU+PTAmJih0LnRleHQucGxhY2VkU3ltYm9sQXJyYXkuZ2V0KGUpLmNyb3NzVGlsZUlEPW4+PTAmJmUhPT1uPzA6by5jcm9zc1RpbGVJRCk7fW1hcmtVc2VkT3JpZW50YXRpb24odCxpLG8pe2NvbnN0IHI9aT09PWUuV3JpdGluZ01vZGUuaG9yaXpvbnRhbHx8aT09PWUuV3JpdGluZ01vZGUuaG9yaXpvbnRhbE9ubHk/aTowLG49aT09PWUuV3JpdGluZ01vZGUudmVydGljYWw/aTowLGE9W28ubGVmdEp1c3RpZmllZFRleHRTeW1ib2xJbmRleCxvLmNlbnRlckp1c3RpZmllZFRleHRTeW1ib2xJbmRleCxvLnJpZ2h0SnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4XTtmb3IoY29uc3QgZSBvZiBhKXQudGV4dC5wbGFjZWRTeW1ib2xBcnJheS5nZXQoZSkucGxhY2VkT3JpZW50YXRpb249cjtvLnZlcnRpY2FsUGxhY2VkVGV4dFN5bWJvbEluZGV4JiYodC50ZXh0LnBsYWNlZFN5bWJvbEFycmF5LmdldChvLnZlcnRpY2FsUGxhY2VkVGV4dFN5bWJvbEluZGV4KS5wbGFjZWRPcmllbnRhdGlvbj1uKTt9Y29tbWl0KGUpe3RoaXMuY29tbWl0VGltZT1lLHRoaXMuem9vbUF0TGFzdFJlY2VuY3lDaGVjaz10aGlzLnRyYW5zZm9ybS56b29tO2NvbnN0IHQ9dGhpcy5wcmV2UGxhY2VtZW50O2xldCBpPSExO3RoaXMucHJldlpvb21BZGp1c3RtZW50PXQ/dC56b29tQWRqdXN0bWVudCh0aGlzLnRyYW5zZm9ybS56b29tKTowO2NvbnN0IG89dD90LnN5bWJvbEZhZGVDaGFuZ2UoZSk6MSxyPXQ/dC5vcGFjaXRpZXM6e30sbj10P3QudmFyaWFibGVPZmZzZXRzOnt9LGE9dD90LnBsYWNlZE9yaWVudGF0aW9uczp7fTtmb3IoY29uc3QgZSBpbiB0aGlzLnBsYWNlbWVudHMpe2NvbnN0IHQ9dGhpcy5wbGFjZW1lbnRzW2VdLG49cltlXTtuPyh0aGlzLm9wYWNpdGllc1tlXT1uZXcgRXQobixvLHQudGV4dCx0Lmljb24sbnVsbCx0LmNsaXBwZWQpLGk9aXx8dC50ZXh0IT09bi50ZXh0LnBsYWNlZHx8dC5pY29uIT09bi5pY29uLnBsYWNlZCk6KHRoaXMub3BhY2l0aWVzW2VdPW5ldyBFdChudWxsLG8sdC50ZXh0LHQuaWNvbix0LnNraXBGYWRlLHQuY2xpcHBlZCksaT1pfHx0LnRleHR8fHQuaWNvbik7fWZvcihjb25zdCBlIGluIHIpe2NvbnN0IHQ9cltlXTtpZighdGhpcy5vcGFjaXRpZXNbZV0pe2NvbnN0IHI9bmV3IEV0KHQsbywhMSwhMSk7ci5pc0hpZGRlbigpfHwodGhpcy5vcGFjaXRpZXNbZV09cixpPWl8fHQudGV4dC5wbGFjZWR8fHQuaWNvbi5wbGFjZWQpO319Zm9yKGNvbnN0IGUgaW4gbil0aGlzLnZhcmlhYmxlT2Zmc2V0c1tlXXx8IXRoaXMub3BhY2l0aWVzW2VdfHx0aGlzLm9wYWNpdGllc1tlXS5pc0hpZGRlbigpfHwodGhpcy52YXJpYWJsZU9mZnNldHNbZV09bltlXSk7Zm9yKGNvbnN0IGUgaW4gYSl0aGlzLnBsYWNlZE9yaWVudGF0aW9uc1tlXXx8IXRoaXMub3BhY2l0aWVzW2VdfHx0aGlzLm9wYWNpdGllc1tlXS5pc0hpZGRlbigpfHwodGhpcy5wbGFjZWRPcmllbnRhdGlvbnNbZV09YVtlXSk7aT90aGlzLmxhc3RQbGFjZW1lbnRDaGFuZ2VUaW1lPWU6XCJudW1iZXJcIiE9dHlwZW9mIHRoaXMubGFzdFBsYWNlbWVudENoYW5nZVRpbWUmJih0aGlzLmxhc3RQbGFjZW1lbnRDaGFuZ2VUaW1lPXQ/dC5sYXN0UGxhY2VtZW50Q2hhbmdlVGltZTplKTt9dXBkYXRlTGF5ZXJPcGFjaXRpZXMoZSx0KXtjb25zdCBpPXt9O2Zvcihjb25zdCBvIG9mIHQpe2NvbnN0IHQ9by5nZXRCdWNrZXQoZSk7dCYmby5sYXRlc3RGZWF0dXJlSW5kZXgmJmUuaWQ9PT10LmxheWVySWRzWzBdJiZ0aGlzLnVwZGF0ZUJ1Y2tldE9wYWNpdGllcyh0LGksby5jb2xsaXNpb25Cb3hBcnJheSk7fX11cGRhdGVCdWNrZXRPcGFjaXRpZXModCxpLG8pe3QuaGFzVGV4dERhdGEoKSYmdC50ZXh0Lm9wYWNpdHlWZXJ0ZXhBcnJheS5jbGVhcigpLHQuaGFzSWNvbkRhdGEoKSYmdC5pY29uLm9wYWNpdHlWZXJ0ZXhBcnJheS5jbGVhcigpLHQuaGFzSWNvbkNvbGxpc2lvbkJveERhdGEoKSYmdC5pY29uQ29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEFycmF5LmNsZWFyKCksdC5oYXNUZXh0Q29sbGlzaW9uQm94RGF0YSgpJiZ0LnRleHRDb2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QXJyYXkuY2xlYXIoKTtjb25zdCByPXQubGF5ZXJzWzBdLmxheW91dCxuPSEhdC5sYXllcnNbMF0uZHluYW1pY0ZpbHRlcigpLGE9bmV3IEV0KG51bGwsMCwhMSwhMSwhMCkscz1yLmdldChcInRleHQtYWxsb3ctb3ZlcmxhcFwiKSxsPXIuZ2V0KFwiaWNvbi1hbGxvdy1vdmVybGFwXCIpLGM9ci5nZXQoXCJ0ZXh0LXZhcmlhYmxlLWFuY2hvclwiKSxoPVwibWFwXCI9PT1yLmdldChcInRleHQtcm90YXRpb24tYWxpZ25tZW50XCIpLHU9XCJtYXBcIj09PXIuZ2V0KFwidGV4dC1waXRjaC1hbGlnbm1lbnRcIiksXz1cIm5vbmVcIiE9PXIuZ2V0KFwiaWNvbi10ZXh0LWZpdFwiKSxkPW5ldyBFdChudWxsLDAscyYmKGx8fCF0Lmhhc0ljb25EYXRhKCl8fHIuZ2V0KFwiaWNvbi1vcHRpb25hbFwiKSksbCYmKHN8fCF0Lmhhc1RleHREYXRhKCl8fHIuZ2V0KFwidGV4dC1vcHRpb25hbFwiKSksITApOyF0LmNvbGxpc2lvbkFycmF5cyYmbyYmKHQuaGFzSWNvbkNvbGxpc2lvbkJveERhdGEoKXx8dC5oYXNUZXh0Q29sbGlzaW9uQm94RGF0YSgpKSYmdC5kZXNlcmlhbGl6ZUNvbGxpc2lvbkJveGVzKG8pO2NvbnN0IHA9KGUsdCxpKT0+e2ZvcihsZXQgbz0wO288dC80O28rKyllLm9wYWNpdHlWZXJ0ZXhBcnJheS5lbXBsYWNlQmFjayhpKTt9O2xldCBtPTA7Zm9yKGxldCBvPTA7bzx0LnN5bWJvbEluc3RhbmNlcy5sZW5ndGg7bysrKXtjb25zdCByPXQuc3ltYm9sSW5zdGFuY2VzLmdldChvKSx7bnVtSG9yaXpvbnRhbEdseXBoVmVydGljZXM6cyxudW1WZXJ0aWNhbEdseXBoVmVydGljZXM6bCxjcm9zc1RpbGVJRDpmfT1yO2xldCBnPXRoaXMub3BhY2l0aWVzW2ZdO2lbZl0/Zz1hOmd8fChnPWQsdGhpcy5vcGFjaXRpZXNbZl09ZyksaVtmXT0hMDtjb25zdCB2PXM+MHx8bD4wLHg9ci5udW1JY29uVmVydGljZXM+MCx5PXRoaXMucGxhY2VkT3JpZW50YXRpb25zW3IuY3Jvc3NUaWxlSURdLGI9eT09PWUuV3JpdGluZ01vZGUudmVydGljYWwsdz15PT09ZS5Xcml0aW5nTW9kZS5ob3Jpem9udGFsfHx5PT09ZS5Xcml0aW5nTW9kZS5ob3Jpem9udGFsT25seTtpZighdiYmIXh8fGcuaXNIaWRkZW4oKXx8bSsrLHYpe2NvbnN0IGU9TnQoZy50ZXh0KTtwKHQudGV4dCxzLGI/R3Q6ZSkscCh0LnRleHQsbCx3P0d0OmUpO2NvbnN0IGk9Zy50ZXh0LmlzSGlkZGVuKCk7W3IucmlnaHRKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXgsci5jZW50ZXJKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXgsci5sZWZ0SnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4XS5mb3JFYWNoKChlPT57ZT49MCYmKHQudGV4dC5wbGFjZWRTeW1ib2xBcnJheS5nZXQoZSkuaGlkZGVuPWl8fGI/MTowKTt9KSksci52ZXJ0aWNhbFBsYWNlZFRleHRTeW1ib2xJbmRleD49MCYmKHQudGV4dC5wbGFjZWRTeW1ib2xBcnJheS5nZXQoci52ZXJ0aWNhbFBsYWNlZFRleHRTeW1ib2xJbmRleCkuaGlkZGVuPWl8fHc/MTowKTtjb25zdCBvPXRoaXMudmFyaWFibGVPZmZzZXRzW3IuY3Jvc3NUaWxlSURdO28mJnRoaXMubWFya1VzZWRKdXN0aWZpY2F0aW9uKHQsby5hbmNob3Iscix5KTtjb25zdCBuPXRoaXMucGxhY2VkT3JpZW50YXRpb25zW3IuY3Jvc3NUaWxlSURdO24mJih0aGlzLm1hcmtVc2VkSnVzdGlmaWNhdGlvbih0LFwibGVmdFwiLHIsbiksdGhpcy5tYXJrVXNlZE9yaWVudGF0aW9uKHQsbixyKSk7fWlmKHgpe2NvbnN0IGU9TnQoZy5pY29uKTtyLnBsYWNlZEljb25TeW1ib2xJbmRleD49MCYmKHAodC5pY29uLHIubnVtSWNvblZlcnRpY2VzLGI/R3Q6ZSksdC5pY29uLnBsYWNlZFN5bWJvbEFycmF5LmdldChyLnBsYWNlZEljb25TeW1ib2xJbmRleCkuaGlkZGVuPWcuaWNvbi5pc0hpZGRlbigpKSxyLnZlcnRpY2FsUGxhY2VkSWNvblN5bWJvbEluZGV4Pj0wJiYocCh0Lmljb24sci5udW1WZXJ0aWNhbEljb25WZXJ0aWNlcyx3P0d0OmUpLHQuaWNvbi5wbGFjZWRTeW1ib2xBcnJheS5nZXQoci52ZXJ0aWNhbFBsYWNlZEljb25TeW1ib2xJbmRleCkuaGlkZGVuPWcuaWNvbi5pc0hpZGRlbigpKTt9aWYodC5oYXNJY29uQ29sbGlzaW9uQm94RGF0YSgpfHx0Lmhhc1RleHRDb2xsaXNpb25Cb3hEYXRhKCkpe2NvbnN0IGk9dC5jb2xsaXNpb25BcnJheXNbb107aWYoaSl7bGV0IG89bmV3IGUucG9pbnRHZW9tZXRyeSgwLDApLHI9ITA7aWYoaS50ZXh0Qm94fHxpLnZlcnRpY2FsVGV4dEJveCl7aWYoYyl7Y29uc3QgZT10aGlzLnZhcmlhYmxlT2Zmc2V0c1tmXTtlPyhvPXp0KGUuYW5jaG9yLGUud2lkdGgsZS5oZWlnaHQsZS50ZXh0T2Zmc2V0LGUudGV4dFNjYWxlKSxoJiZvLl9yb3RhdGUodT90aGlzLnRyYW5zZm9ybS5hbmdsZTotdGhpcy50cmFuc2Zvcm0uYW5nbGUpKTpyPSExO31uJiYocj0hZy5jbGlwcGVkKSxpLnRleHRCb3gmJkF0KHQudGV4dENvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhBcnJheSxnLnRleHQucGxhY2VkLCFyfHxiLG8ueCxvLnkpLGkudmVydGljYWxUZXh0Qm94JiZBdCh0LnRleHRDb2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QXJyYXksZy50ZXh0LnBsYWNlZCwhcnx8dyxvLngsby55KTt9Y29uc3QgYT1yJiZCb29sZWFuKCF3JiZpLnZlcnRpY2FsSWNvbkJveCk7aS5pY29uQm94JiZBdCh0Lmljb25Db2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QXJyYXksZy5pY29uLnBsYWNlZCxhLF8/by54OjAsXz9vLnk6MCksaS52ZXJ0aWNhbEljb25Cb3gmJkF0KHQuaWNvbkNvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhBcnJheSxnLmljb24ucGxhY2VkLCFhLF8/by54OjAsXz9vLnk6MCk7fX19aWYodC5mdWxseUNsaXBwZWQ9MD09PW0sdC5zb3J0RmVhdHVyZXModGhpcy50cmFuc2Zvcm0uYW5nbGUpLHRoaXMucmV0YWluZWRRdWVyeURhdGFbdC5idWNrZXRJbnN0YW5jZUlkXSYmKHRoaXMucmV0YWluZWRRdWVyeURhdGFbdC5idWNrZXRJbnN0YW5jZUlkXS5mZWF0dXJlU29ydE9yZGVyPXQuZmVhdHVyZVNvcnRPcmRlciksdC5oYXNUZXh0RGF0YSgpJiZ0LnRleHQub3BhY2l0eVZlcnRleEJ1ZmZlciYmdC50ZXh0Lm9wYWNpdHlWZXJ0ZXhCdWZmZXIudXBkYXRlRGF0YSh0LnRleHQub3BhY2l0eVZlcnRleEFycmF5KSx0Lmhhc0ljb25EYXRhKCkmJnQuaWNvbi5vcGFjaXR5VmVydGV4QnVmZmVyJiZ0Lmljb24ub3BhY2l0eVZlcnRleEJ1ZmZlci51cGRhdGVEYXRhKHQuaWNvbi5vcGFjaXR5VmVydGV4QXJyYXkpLHQuaGFzSWNvbkNvbGxpc2lvbkJveERhdGEoKSYmdC5pY29uQ29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEJ1ZmZlciYmdC5pY29uQ29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEJ1ZmZlci51cGRhdGVEYXRhKHQuaWNvbkNvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhBcnJheSksdC5oYXNUZXh0Q29sbGlzaW9uQm94RGF0YSgpJiZ0LnRleHRDb2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QnVmZmVyJiZ0LnRleHRDb2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QnVmZmVyLnVwZGF0ZURhdGEodC50ZXh0Q29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEFycmF5KSx0LmJ1Y2tldEluc3RhbmNlSWQgaW4gdGhpcy5jb2xsaXNpb25DaXJjbGVBcnJheXMpe2NvbnN0IGU9dGhpcy5jb2xsaXNpb25DaXJjbGVBcnJheXNbdC5idWNrZXRJbnN0YW5jZUlkXTt0LnBsYWNlbWVudEludlByb2pNYXRyaXg9ZS5pbnZQcm9qTWF0cml4LHQucGxhY2VtZW50Vmlld3BvcnRNYXRyaXg9ZS52aWV3cG9ydE1hdHJpeCx0LmNvbGxpc2lvbkNpcmNsZUFycmF5PWUuY2lyY2xlcyxkZWxldGUgdGhpcy5jb2xsaXNpb25DaXJjbGVBcnJheXNbdC5idWNrZXRJbnN0YW5jZUlkXTt9fXN5bWJvbEZhZGVDaGFuZ2UoZSl7cmV0dXJuIDA9PT10aGlzLmZhZGVEdXJhdGlvbj8xOihlLXRoaXMuY29tbWl0VGltZSkvdGhpcy5mYWRlRHVyYXRpb24rdGhpcy5wcmV2Wm9vbUFkanVzdG1lbnR9em9vbUFkanVzdG1lbnQoZSl7cmV0dXJuIE1hdGgubWF4KDAsKHRoaXMudHJhbnNmb3JtLnpvb20tZSkvMS41KX1oYXNUcmFuc2l0aW9ucyhlKXtyZXR1cm4gdGhpcy5zdGFsZXx8ZS10aGlzLmxhc3RQbGFjZW1lbnRDaGFuZ2VUaW1lPHRoaXMuZmFkZUR1cmF0aW9ufXN0aWxsUmVjZW50KGUsdCl7Y29uc3QgaT10aGlzLnpvb21BdExhc3RSZWNlbmN5Q2hlY2s9PT10PzEtdGhpcy56b29tQWRqdXN0bWVudCh0KToxO3JldHVybiB0aGlzLnpvb21BdExhc3RSZWNlbmN5Q2hlY2s9dCx0aGlzLmNvbW1pdFRpbWUrdGhpcy5mYWRlRHVyYXRpb24qaT5lfXNldFN0YWxlKCl7dGhpcy5zdGFsZT0hMDt9fWZ1bmN0aW9uIEF0KGUsdCxpLG8scil7ZS5lbXBsYWNlQmFjayh0PzE6MCxpPzE6MCxvfHwwLHJ8fDApLGUuZW1wbGFjZUJhY2sodD8xOjAsaT8xOjAsb3x8MCxyfHwwKSxlLmVtcGxhY2VCYWNrKHQ/MTowLGk/MTowLG98fDAscnx8MCksZS5lbXBsYWNlQmFjayh0PzE6MCxpPzE6MCxvfHwwLHJ8fDApO31jb25zdCBMdD1NYXRoLnBvdygyLDI1KSxSdD1NYXRoLnBvdygyLDI0KSxPdD1NYXRoLnBvdygyLDE3KSxCdD1NYXRoLnBvdygyLDE2KSxrdD1NYXRoLnBvdygyLDkpLEZ0PU1hdGgucG93KDIsOCksVXQ9TWF0aC5wb3coMiwxKTtmdW5jdGlvbiBOdChlKXtpZigwPT09ZS5vcGFjaXR5JiYhZS5wbGFjZWQpcmV0dXJuIDA7aWYoMT09PWUub3BhY2l0eSYmZS5wbGFjZWQpcmV0dXJuIDQyOTQ5NjcyOTU7Y29uc3QgdD1lLnBsYWNlZD8xOjAsaT1NYXRoLmZsb29yKDEyNyplLm9wYWNpdHkpO3JldHVybiBpKkx0K3QqUnQraSpPdCt0KkJ0K2kqa3QrdCpGdCtpKlV0K3R9Y29uc3QgR3Q9MDtjbGFzcyBqdHtjb25zdHJ1Y3RvcihlKXt0aGlzLl9zb3J0QWNyb3NzVGlsZXM9XCJ2aWV3cG9ydC15XCIhPT1lLmxheW91dC5nZXQoXCJzeW1ib2wtei1vcmRlclwiKSYmdm9pZCAwIT09ZS5sYXlvdXQuZ2V0KFwic3ltYm9sLXNvcnQta2V5XCIpLmNvbnN0YW50T3IoMSksdGhpcy5fY3VycmVudFRpbGVJbmRleD0wLHRoaXMuX2N1cnJlbnRQYXJ0SW5kZXg9MCx0aGlzLl9zZWVuQ3Jvc3NUaWxlSURzPXt9LHRoaXMuX2J1Y2tldFBhcnRzPVtdO31jb250aW51ZVBsYWNlbWVudChlLHQsaSxvLHIpe2NvbnN0IG49dGhpcy5fYnVja2V0UGFydHM7Zm9yKDt0aGlzLl9jdXJyZW50VGlsZUluZGV4PGUubGVuZ3RoOylpZih0LmdldEJ1Y2tldFBhcnRzKG4sbyxlW3RoaXMuX2N1cnJlbnRUaWxlSW5kZXhdLHRoaXMuX3NvcnRBY3Jvc3NUaWxlcyksdGhpcy5fY3VycmVudFRpbGVJbmRleCsrLHIoKSlyZXR1cm4gITA7Zm9yKHRoaXMuX3NvcnRBY3Jvc3NUaWxlcyYmKHRoaXMuX3NvcnRBY3Jvc3NUaWxlcz0hMSxuLnNvcnQoKChlLHQpPT5lLnNvcnRLZXktdC5zb3J0S2V5KSkpO3RoaXMuX2N1cnJlbnRQYXJ0SW5kZXg8bi5sZW5ndGg7KXtjb25zdCBlPW5bdGhpcy5fY3VycmVudFBhcnRJbmRleF07aWYodC5wbGFjZUxheWVyQnVja2V0UGFydChlLHRoaXMuX3NlZW5Dcm9zc1RpbGVJRHMsaSwwPT09ZS5zeW1ib2xJbnN0YW5jZVN0YXJ0KSx0aGlzLl9jdXJyZW50UGFydEluZGV4KysscigpKXJldHVybiAhMH1yZXR1cm4gITF9fWNsYXNzIFp0e2NvbnN0cnVjdG9yKGUsdCxpLG8scixuLGEscyl7dGhpcy5wbGFjZW1lbnQ9bmV3IFB0KGUscixuLGEscyksdGhpcy5fY3VycmVudFBsYWNlbWVudEluZGV4PXQubGVuZ3RoLTEsdGhpcy5fZm9yY2VGdWxsUGxhY2VtZW50PWksdGhpcy5fc2hvd0NvbGxpc2lvbkJveGVzPW8sdGhpcy5fZG9uZT0hMTt9aXNEb25lKCl7cmV0dXJuIHRoaXMuX2RvbmV9Y29udGludWVQbGFjZW1lbnQodCxpLG8pe2NvbnN0IHI9ZS5leHBvcnRlZC5ub3coKSxuPSgpPT57Y29uc3QgdD1lLmV4cG9ydGVkLm5vdygpLXI7cmV0dXJuICF0aGlzLl9mb3JjZUZ1bGxQbGFjZW1lbnQmJnQ+Mn07Zm9yKDt0aGlzLl9jdXJyZW50UGxhY2VtZW50SW5kZXg+PTA7KXtjb25zdCBlPWlbdFt0aGlzLl9jdXJyZW50UGxhY2VtZW50SW5kZXhdXSxyPXRoaXMucGxhY2VtZW50LmNvbGxpc2lvbkluZGV4LnRyYW5zZm9ybS56b29tO2lmKFwic3ltYm9sXCI9PT1lLnR5cGUmJighZS5taW56b29tfHxlLm1pbnpvb208PXIpJiYoIWUubWF4em9vbXx8ZS5tYXh6b29tPnIpKXtpZih0aGlzLl9pblByb2dyZXNzTGF5ZXJ8fCh0aGlzLl9pblByb2dyZXNzTGF5ZXI9bmV3IGp0KGUpKSx0aGlzLl9pblByb2dyZXNzTGF5ZXIuY29udGludWVQbGFjZW1lbnQob1tlLnNvdXJjZV0sdGhpcy5wbGFjZW1lbnQsdGhpcy5fc2hvd0NvbGxpc2lvbkJveGVzLGUsbikpcmV0dXJuO2RlbGV0ZSB0aGlzLl9pblByb2dyZXNzTGF5ZXI7fXRoaXMuX2N1cnJlbnRQbGFjZW1lbnRJbmRleC0tO310aGlzLl9kb25lPSEwO31jb21taXQoZSl7cmV0dXJuIHRoaXMucGxhY2VtZW50LmNvbW1pdChlKSx0aGlzLnBsYWNlbWVudH19Y29uc3QgVnQ9NTEyL2UuRVhURU5ULzI7Y2xhc3MgV3R7Y29uc3RydWN0b3IoZSx0LGkpe3RoaXMudGlsZUlEPWUsdGhpcy5pbmRleGVkU3ltYm9sSW5zdGFuY2VzPXt9LHRoaXMuYnVja2V0SW5zdGFuY2VJZD1pO2ZvcihsZXQgaT0wO2k8dC5sZW5ndGg7aSsrKXtjb25zdCBvPXQuZ2V0KGkpLHI9by5rZXk7dGhpcy5pbmRleGVkU3ltYm9sSW5zdGFuY2VzW3JdfHwodGhpcy5pbmRleGVkU3ltYm9sSW5zdGFuY2VzW3JdPVtdKSx0aGlzLmluZGV4ZWRTeW1ib2xJbnN0YW5jZXNbcl0ucHVzaCh7Y3Jvc3NUaWxlSUQ6by5jcm9zc1RpbGVJRCxjb29yZDp0aGlzLmdldFNjYWxlZENvb3JkaW5hdGVzKG8sZSl9KTt9fWdldFNjYWxlZENvb3JkaW5hdGVzKHQsaSl7Y29uc3Qgbz1WdC9NYXRoLnBvdygyLGkuY2Fub25pY2FsLnotdGhpcy50aWxlSUQuY2Fub25pY2FsLnopO3JldHVybiB7eDpNYXRoLmZsb29yKChpLmNhbm9uaWNhbC54KmUuRVhURU5UK3QudGlsZUFuY2hvclgpKm8pLHk6TWF0aC5mbG9vcigoaS5jYW5vbmljYWwueSplLkVYVEVOVCt0LnRpbGVBbmNob3JZKSpvKX19ZmluZE1hdGNoZXMoZSx0LGkpe2NvbnN0IG89dGhpcy50aWxlSUQuY2Fub25pY2FsLno8dC5jYW5vbmljYWwuej8xOk1hdGgucG93KDIsdGhpcy50aWxlSUQuY2Fub25pY2FsLnotdC5jYW5vbmljYWwueik7Zm9yKGxldCByPTA7cjxlLmxlbmd0aDtyKyspe2NvbnN0IG49ZS5nZXQocik7aWYobi5jcm9zc1RpbGVJRCljb250aW51ZTtjb25zdCBhPXRoaXMuaW5kZXhlZFN5bWJvbEluc3RhbmNlc1tuLmtleV07aWYoIWEpY29udGludWU7Y29uc3Qgcz10aGlzLmdldFNjYWxlZENvb3JkaW5hdGVzKG4sdCk7Zm9yKGNvbnN0IGUgb2YgYSlpZihNYXRoLmFicyhlLmNvb3JkLngtcy54KTw9byYmTWF0aC5hYnMoZS5jb29yZC55LXMueSk8PW8mJiFpW2UuY3Jvc3NUaWxlSURdKXtpW2UuY3Jvc3NUaWxlSURdPSEwLG4uY3Jvc3NUaWxlSUQ9ZS5jcm9zc1RpbGVJRDticmVha319fX1jbGFzcyBYdHtjb25zdHJ1Y3Rvcigpe3RoaXMubWF4Q3Jvc3NUaWxlSUQ9MDt9Z2VuZXJhdGUoKXtyZXR1cm4gKyt0aGlzLm1heENyb3NzVGlsZUlEfX1jbGFzcyBxdHtjb25zdHJ1Y3Rvcigpe3RoaXMuaW5kZXhlcz17fSx0aGlzLnVzZWRDcm9zc1RpbGVJRHM9e30sdGhpcy5sbmc9MDt9aGFuZGxlV3JhcEp1bXAoZSl7Y29uc3QgdD1NYXRoLnJvdW5kKChlLXRoaXMubG5nKS8zNjApO2lmKDAhPT10KWZvcihjb25zdCBlIGluIHRoaXMuaW5kZXhlcyl7Y29uc3QgaT10aGlzLmluZGV4ZXNbZV0sbz17fTtmb3IoY29uc3QgZSBpbiBpKXtjb25zdCByPWlbZV07ci50aWxlSUQ9ci50aWxlSUQudW53cmFwVG8oci50aWxlSUQud3JhcCt0KSxvW3IudGlsZUlELmtleV09cjt9dGhpcy5pbmRleGVzW2VdPW87fXRoaXMubG5nPWU7fWFkZEJ1Y2tldChlLHQsaSl7aWYodGhpcy5pbmRleGVzW2Uub3ZlcnNjYWxlZFpdJiZ0aGlzLmluZGV4ZXNbZS5vdmVyc2NhbGVkWl1bZS5rZXldKXtpZih0aGlzLmluZGV4ZXNbZS5vdmVyc2NhbGVkWl1bZS5rZXldLmJ1Y2tldEluc3RhbmNlSWQ9PT10LmJ1Y2tldEluc3RhbmNlSWQpcmV0dXJuICExO3RoaXMucmVtb3ZlQnVja2V0Q3Jvc3NUaWxlSURzKGUub3ZlcnNjYWxlZFosdGhpcy5pbmRleGVzW2Uub3ZlcnNjYWxlZFpdW2Uua2V5XSk7fWZvcihsZXQgZT0wO2U8dC5zeW1ib2xJbnN0YW5jZXMubGVuZ3RoO2UrKyl0LnN5bWJvbEluc3RhbmNlcy5nZXQoZSkuY3Jvc3NUaWxlSUQ9MDt0aGlzLnVzZWRDcm9zc1RpbGVJRHNbZS5vdmVyc2NhbGVkWl18fCh0aGlzLnVzZWRDcm9zc1RpbGVJRHNbZS5vdmVyc2NhbGVkWl09e30pO2NvbnN0IG89dGhpcy51c2VkQ3Jvc3NUaWxlSURzW2Uub3ZlcnNjYWxlZFpdO2Zvcihjb25zdCBpIGluIHRoaXMuaW5kZXhlcyl7Y29uc3Qgcj10aGlzLmluZGV4ZXNbaV07aWYoTnVtYmVyKGkpPmUub3ZlcnNjYWxlZFopZm9yKGNvbnN0IGkgaW4gcil7Y29uc3Qgbj1yW2ldO24udGlsZUlELmlzQ2hpbGRPZihlKSYmbi5maW5kTWF0Y2hlcyh0LnN5bWJvbEluc3RhbmNlcyxlLG8pO31lbHNlIHtjb25zdCBuPXJbZS5zY2FsZWRUbyhOdW1iZXIoaSkpLmtleV07biYmbi5maW5kTWF0Y2hlcyh0LnN5bWJvbEluc3RhbmNlcyxlLG8pO319Zm9yKGxldCBlPTA7ZTx0LnN5bWJvbEluc3RhbmNlcy5sZW5ndGg7ZSsrKXtjb25zdCByPXQuc3ltYm9sSW5zdGFuY2VzLmdldChlKTtyLmNyb3NzVGlsZUlEfHwoci5jcm9zc1RpbGVJRD1pLmdlbmVyYXRlKCksb1tyLmNyb3NzVGlsZUlEXT0hMCk7fXJldHVybiB2b2lkIDA9PT10aGlzLmluZGV4ZXNbZS5vdmVyc2NhbGVkWl0mJih0aGlzLmluZGV4ZXNbZS5vdmVyc2NhbGVkWl09e30pLHRoaXMuaW5kZXhlc1tlLm92ZXJzY2FsZWRaXVtlLmtleV09bmV3IFd0KGUsdC5zeW1ib2xJbnN0YW5jZXMsdC5idWNrZXRJbnN0YW5jZUlkKSwhMH1yZW1vdmVCdWNrZXRDcm9zc1RpbGVJRHMoZSx0KXtmb3IoY29uc3QgaSBpbiB0LmluZGV4ZWRTeW1ib2xJbnN0YW5jZXMpZm9yKGNvbnN0IG8gb2YgdC5pbmRleGVkU3ltYm9sSW5zdGFuY2VzW2ldKWRlbGV0ZSB0aGlzLnVzZWRDcm9zc1RpbGVJRHNbZV1bby5jcm9zc1RpbGVJRF07fXJlbW92ZVN0YWxlQnVja2V0cyhlKXtsZXQgdD0hMTtmb3IoY29uc3QgaSBpbiB0aGlzLmluZGV4ZXMpe2NvbnN0IG89dGhpcy5pbmRleGVzW2ldO2Zvcihjb25zdCByIGluIG8pZVtvW3JdLmJ1Y2tldEluc3RhbmNlSWRdfHwodGhpcy5yZW1vdmVCdWNrZXRDcm9zc1RpbGVJRHMoaSxvW3JdKSxkZWxldGUgb1tyXSx0PSEwKTt9cmV0dXJuIHR9fWNsYXNzICR0e2NvbnN0cnVjdG9yKCl7dGhpcy5sYXllckluZGV4ZXM9e30sdGhpcy5jcm9zc1RpbGVJRHM9bmV3IFh0LHRoaXMubWF4QnVja2V0SW5zdGFuY2VJZD0wLHRoaXMuYnVja2V0c0luQ3VycmVudFBsYWNlbWVudD17fTt9YWRkTGF5ZXIoZSx0LGksbyl7bGV0IHI9dGhpcy5sYXllckluZGV4ZXNbZS5pZF07dm9pZCAwPT09ciYmKHI9dGhpcy5sYXllckluZGV4ZXNbZS5pZF09bmV3IHF0KTtsZXQgbj0hMTtjb25zdCBhPXt9O1wiZ2xvYmVcIiE9PW8ubmFtZSYmci5oYW5kbGVXcmFwSnVtcChpKTtmb3IoY29uc3QgaSBvZiB0KXtjb25zdCB0PWkuZ2V0QnVja2V0KGUpO3QmJmUuaWQ9PT10LmxheWVySWRzWzBdJiYodC5idWNrZXRJbnN0YW5jZUlkfHwodC5idWNrZXRJbnN0YW5jZUlkPSsrdGhpcy5tYXhCdWNrZXRJbnN0YW5jZUlkKSxyLmFkZEJ1Y2tldChpLnRpbGVJRCx0LHRoaXMuY3Jvc3NUaWxlSURzKSYmKG49ITApLGFbdC5idWNrZXRJbnN0YW5jZUlkXT0hMCk7fXJldHVybiByLnJlbW92ZVN0YWxlQnVja2V0cyhhKSYmKG49ITApLG59cHJ1bmVVbnVzZWRMYXllcnMoZSl7Y29uc3QgdD17fTtlLmZvckVhY2goKGU9Pnt0W2VdPSEwO30pKTtmb3IoY29uc3QgZSBpbiB0aGlzLmxheWVySW5kZXhlcyl0W2VdfHxkZWxldGUgdGhpcy5sYXllckluZGV4ZXNbZV07fX1jb25zdCBIdD0odCxpKT0+ZS5lbWl0VmFsaWRhdGlvbkVycm9ycyh0LGkmJmkuZmlsdGVyKChlPT5cInNvdXJjZS5jYW52YXNcIiE9PWUuaWRlbnRpZmllcikpKSxZdD1lLnBpY2soVmUsW1wiYWRkTGF5ZXJcIixcInJlbW92ZUxheWVyXCIsXCJzZXRQYWludFByb3BlcnR5XCIsXCJzZXRMYXlvdXRQcm9wZXJ0eVwiLFwic2V0RmlsdGVyXCIsXCJhZGRTb3VyY2VcIixcInJlbW92ZVNvdXJjZVwiLFwic2V0TGF5ZXJab29tUmFuZ2VcIixcInNldExpZ2h0XCIsXCJzZXRUcmFuc2l0aW9uXCIsXCJzZXRHZW9KU09OU291cmNlRGF0YVwiLFwic2V0VGVycmFpblwiLFwic2V0Rm9nXCIsXCJzZXRQcm9qZWN0aW9uXCJdKSxLdD1lLnBpY2soVmUsW1wic2V0Q2VudGVyXCIsXCJzZXRab29tXCIsXCJzZXRCZWFyaW5nXCIsXCJzZXRQaXRjaFwiXSksSnQ9e3ZlcnNpb246OCxsYXllcnM6W10sc291cmNlczp7fX0sUXQ9e2ZpbGw6ITAsbGluZTohMCxiYWNrZ3JvdW5kOiEwLGhpbGxzaGFkZTohMCxyYXN0ZXI6ITB9O2NsYXNzIGVpIGV4dGVuZHMgZS5FdmVudGVke2NvbnN0cnVjdG9yKHQsaT17fSl7c3VwZXIoKSx0aGlzLm1hcD10LHRoaXMuZGlzcGF0Y2hlcj1uZXcgQShHZSgpLHRoaXMpLHRoaXMuaW1hZ2VNYW5hZ2VyPW5ldyB5LHRoaXMuaW1hZ2VNYW5hZ2VyLnNldEV2ZW50ZWRQYXJlbnQodGhpcyksdGhpcy5nbHlwaE1hbmFnZXI9bmV3IGUuR2x5cGhNYW5hZ2VyKHQuX3JlcXVlc3RNYW5hZ2VyLGkubG9jYWxGb250RmFtaWx5P2UuTG9jYWxHbHlwaE1vZGUuYWxsOmkubG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5P2UuTG9jYWxHbHlwaE1vZGUuaWRlb2dyYXBoczplLkxvY2FsR2x5cGhNb2RlLm5vbmUsaS5sb2NhbEZvbnRGYW1pbHl8fGkubG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5KSx0aGlzLmxpbmVBdGxhcz1uZXcgZS5MaW5lQXRsYXMoMjU2LDUxMiksdGhpcy5jcm9zc1RpbGVTeW1ib2xJbmRleD1uZXcgJHQsdGhpcy5fbGF5ZXJzPXt9LHRoaXMuX251bTNETGF5ZXJzPTAsdGhpcy5fbnVtU3ltYm9sTGF5ZXJzPTAsdGhpcy5fbnVtQ2lyY2xlTGF5ZXJzPTAsdGhpcy5fc2VyaWFsaXplZExheWVycz17fSx0aGlzLl9zb3VyY2VDYWNoZXM9e30sdGhpcy5fb3RoZXJTb3VyY2VDYWNoZXM9e30sdGhpcy5fc3ltYm9sU291cmNlQ2FjaGVzPXt9LHRoaXMuem9vbUhpc3Rvcnk9bmV3IGUuWm9vbUhpc3RvcnksdGhpcy5fbG9hZGVkPSExLHRoaXMuX2F2YWlsYWJsZUltYWdlcz1bXSx0aGlzLl9vcmRlcj1bXSx0aGlzLl9kcmFwZWRGaXJzdE9yZGVyPVtdLHRoaXMuX21hcmtlcnNOZWVkVXBkYXRlPSExLHRoaXMuX3Jlc2V0VXBkYXRlcygpLHRoaXMuZGlzcGF0Y2hlci5icm9hZGNhc3QoXCJzZXRSZWZlcnJlclwiLGUuZ2V0UmVmZXJyZXIoKSk7Y29uc3Qgbz10aGlzO3RoaXMuX3J0bFRleHRQbHVnaW5DYWxsYmFjaz1laS5yZWdpc3RlckZvclBsdWdpblN0YXRlQ2hhbmdlKCh0PT57by5kaXNwYXRjaGVyLmJyb2FkY2FzdChcInN5bmNSVExQbHVnaW5TdGF0ZVwiLHtwbHVnaW5TdGF0dXM6dC5wbHVnaW5TdGF0dXMscGx1Z2luVVJMOnQucGx1Z2luVVJMfSwoKHQsaSk9PntpZihlLnRyaWdnZXJQbHVnaW5Db21wbGV0aW9uRXZlbnQodCksaSYmaS5ldmVyeSgoZT0+ZSkpKWZvcihjb25zdCBlIGluIG8uX3NvdXJjZUNhY2hlcyl7Y29uc3QgdD1vLl9zb3VyY2VDYWNoZXNbZV0saT10LmdldFNvdXJjZSgpLnR5cGU7XCJ2ZWN0b3JcIiE9PWkmJlwiZ2VvanNvblwiIT09aXx8dC5yZWxvYWQoKTt9fSkpO30pKSx0aGlzLm9uKFwiZGF0YVwiLChlPT57aWYoXCJzb3VyY2VcIiE9PWUuZGF0YVR5cGV8fFwibWV0YWRhdGFcIiE9PWUuc291cmNlRGF0YVR5cGUpcmV0dXJuO2NvbnN0IHQ9dGhpcy5nZXRTb3VyY2UoZS5zb3VyY2VJZCk7aWYodCYmdC52ZWN0b3JMYXllcklkcylmb3IoY29uc3QgZSBpbiB0aGlzLl9sYXllcnMpe2NvbnN0IGk9dGhpcy5fbGF5ZXJzW2VdO2kuc291cmNlPT09dC5pZCYmdGhpcy5fdmFsaWRhdGVMYXllcihpKTt9fSkpO31sb2FkVVJMKHQsaT17fSl7dGhpcy5maXJlKG5ldyBlLkV2ZW50KFwiZGF0YWxvYWRpbmdcIix7ZGF0YVR5cGU6XCJzdHlsZVwifSkpO2NvbnN0IG89XCJib29sZWFuXCI9PXR5cGVvZiBpLnZhbGlkYXRlP2kudmFsaWRhdGU6IWUuaXNNYXBib3hVUkwodCk7dD10aGlzLm1hcC5fcmVxdWVzdE1hbmFnZXIubm9ybWFsaXplU3R5bGVVUkwodCxpLmFjY2Vzc1Rva2VuKTtjb25zdCByPXRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlci50cmFuc2Zvcm1SZXF1ZXN0KHQsZS5SZXNvdXJjZVR5cGUuU3R5bGUpO3RoaXMuX3JlcXVlc3Q9ZS5nZXRKU09OKHIsKCh0LGkpPT57dGhpcy5fcmVxdWVzdD1udWxsLHQ/dGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQodCkpOmkmJnRoaXMuX2xvYWQoaSxvKTt9KSk7fWxvYWRKU09OKHQsaT17fSl7dGhpcy5maXJlKG5ldyBlLkV2ZW50KFwiZGF0YWxvYWRpbmdcIix7ZGF0YVR5cGU6XCJzdHlsZVwifSkpLHRoaXMuX3JlcXVlc3Q9ZS5leHBvcnRlZC5mcmFtZSgoKCk9Pnt0aGlzLl9yZXF1ZXN0PW51bGwsdGhpcy5fbG9hZCh0LCExIT09aS52YWxpZGF0ZSk7fSkpO31sb2FkRW1wdHkoKXt0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJkYXRhbG9hZGluZ1wiLHtkYXRhVHlwZTpcInN0eWxlXCJ9KSksdGhpcy5fbG9hZChKdCwhMSk7fV91cGRhdGVMYXllckNvdW50KGUsdCl7Y29uc3QgaT10PzE6LTE7ZS5pczNEKCkmJih0aGlzLl9udW0zRExheWVycys9aSksXCJjaXJjbGVcIj09PWUudHlwZSYmKHRoaXMuX251bUNpcmNsZUxheWVycys9aSksXCJzeW1ib2xcIj09PWUudHlwZSYmKHRoaXMuX251bVN5bWJvbExheWVycys9aSk7fV9sb2FkKHQsaSl7aWYoaSYmSHQodGhpcyxlLnZhbGlkYXRlU3R5bGUodCkpKXJldHVybjt0aGlzLl9sb2FkZWQ9ITAsdGhpcy5zdHlsZXNoZWV0PWUuY2xvbmUkMSh0KSx0aGlzLl91cGRhdGVNYXBQcm9qZWN0aW9uKCk7Zm9yKGNvbnN0IGUgaW4gdC5zb3VyY2VzKXRoaXMuYWRkU291cmNlKGUsdC5zb3VyY2VzW2VdLHt2YWxpZGF0ZTohMX0pO3RoaXMuX2NoYW5nZWQ9ITEsdC5zcHJpdGU/dGhpcy5fbG9hZFNwcml0ZSh0LnNwcml0ZSk6KHRoaXMuaW1hZ2VNYW5hZ2VyLnNldExvYWRlZCghMCksdGhpcy5kaXNwYXRjaGVyLmJyb2FkY2FzdChcInNwcml0ZUxvYWRlZFwiLCEwKSksdGhpcy5nbHlwaE1hbmFnZXIuc2V0VVJMKHQuZ2x5cGhzKTtjb25zdCBvPVplKHRoaXMuc3R5bGVzaGVldC5sYXllcnMpO3RoaXMuX29yZGVyPW8ubWFwKChlPT5lLmlkKSksdGhpcy5fbGF5ZXJzPXt9LHRoaXMuX3NlcmlhbGl6ZWRMYXllcnM9e307Zm9yKGxldCB0IG9mIG8pdD1lLmNyZWF0ZVN0eWxlTGF5ZXIodCksdC5zZXRFdmVudGVkUGFyZW50KHRoaXMse2xheWVyOntpZDp0LmlkfX0pLHRoaXMuX2xheWVyc1t0LmlkXT10LHRoaXMuX3NlcmlhbGl6ZWRMYXllcnNbdC5pZF09dC5zZXJpYWxpemUoKSx0aGlzLl91cGRhdGVMYXllckNvdW50KHQsITApO3RoaXMuZGlzcGF0Y2hlci5icm9hZGNhc3QoXCJzZXRMYXllcnNcIix0aGlzLl9zZXJpYWxpemVMYXllcnModGhpcy5fb3JkZXIpKSx0aGlzLmxpZ2h0PW5ldyBUKHRoaXMuc3R5bGVzaGVldC5saWdodCksdGhpcy5zdHlsZXNoZWV0LnRlcnJhaW4mJiF0aGlzLnRlcnJhaW5TZXRGb3JEcmFwaW5nT25seSgpJiZ0aGlzLl9jcmVhdGVUZXJyYWluKHRoaXMuc3R5bGVzaGVldC50ZXJyYWluLDEpLHRoaXMuc3R5bGVzaGVldC5mb2cmJnRoaXMuX2NyZWF0ZUZvZyh0aGlzLnN0eWxlc2hlZXQuZm9nKSx0aGlzLl91cGRhdGVEcmFwZUZpcnN0TGF5ZXJzKCksdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwiZGF0YVwiLHtkYXRhVHlwZTpcInN0eWxlXCJ9KSksdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwic3R5bGUubG9hZFwiKSk7fXRlcnJhaW5TZXRGb3JEcmFwaW5nT25seSgpe3JldHVybiAhIXRoaXMudGVycmFpbiYmMD09PXRoaXMudGVycmFpbi5kcmFwZVJlbmRlck1vZGV9c2V0UHJvamVjdGlvbihlKXtlP3RoaXMuc3R5bGVzaGVldC5wcm9qZWN0aW9uPWU6ZGVsZXRlIHRoaXMuc3R5bGVzaGVldC5wcm9qZWN0aW9uLHRoaXMuX3VwZGF0ZU1hcFByb2plY3Rpb24oKTt9YXBwbHlQcm9qZWN0aW9uVXBkYXRlKCl7dGhpcy5fbG9hZGVkJiYodGhpcy5kaXNwYXRjaGVyLmJyb2FkY2FzdChcInNldFByb2plY3Rpb25cIix0aGlzLm1hcC50cmFuc2Zvcm0ucHJvamVjdGlvbk9wdGlvbnMpLHRoaXMubWFwLnRyYW5zZm9ybS5wcm9qZWN0aW9uLnJlcXVpcmVzRHJhcGluZz90aGlzLmdldFRlcnJhaW4oKXx8dGhpcy5zdHlsZXNoZWV0LnRlcnJhaW58fHRoaXMuc2V0VGVycmFpbkZvckRyYXBpbmcoKTp0aGlzLnRlcnJhaW5TZXRGb3JEcmFwaW5nT25seSgpJiZ0aGlzLnNldFRlcnJhaW4obnVsbCkpO31fdXBkYXRlTWFwUHJvamVjdGlvbigpe3RoaXMubWFwLl91c2VFeHBsaWNpdFByb2plY3Rpb24/dGhpcy5hcHBseVByb2plY3Rpb25VcGRhdGUoKTp0aGlzLm1hcC5fcHJpb3JpdGl6ZUFuZFVwZGF0ZVByb2plY3Rpb24obnVsbCx0aGlzLnN0eWxlc2hlZXQucHJvamVjdGlvbik7fV9sb2FkU3ByaXRlKHQpe3RoaXMuX3Nwcml0ZVJlcXVlc3Q9ZnVuY3Rpb24odCxpLG8pe2xldCByLG4sYTtjb25zdCBzPWUuZXhwb3J0ZWQuZGV2aWNlUGl4ZWxSYXRpbz4xP1wiQDJ4XCI6XCJcIjtsZXQgbD1lLmdldEpTT04oaS50cmFuc2Zvcm1SZXF1ZXN0KGkubm9ybWFsaXplU3ByaXRlVVJMKHQscyxcIi5qc29uXCIpLGUuUmVzb3VyY2VUeXBlLlNwcml0ZUpTT04pLCgoZSx0KT0+e2w9bnVsbCxhfHwoYT1lLHI9dCxoKCkpO30pKSxjPWUuZ2V0SW1hZ2UoaS50cmFuc2Zvcm1SZXF1ZXN0KGkubm9ybWFsaXplU3ByaXRlVVJMKHQscyxcIi5wbmdcIiksZS5SZXNvdXJjZVR5cGUuU3ByaXRlSW1hZ2UpLCgoZSx0KT0+e2M9bnVsbCxhfHwoYT1lLG49dCxoKCkpO30pKTtmdW5jdGlvbiBoKCl7aWYoYSlvKGEpO2Vsc2UgaWYociYmbil7Y29uc3QgdD1lLmV4cG9ydGVkLmdldEltYWdlRGF0YShuKSxpPXt9O2Zvcihjb25zdCBvIGluIHIpe2NvbnN0e3dpZHRoOm4saGVpZ2h0OmEseDpzLHk6bCxzZGY6YyxwaXhlbFJhdGlvOmgsc3RyZXRjaFg6dSxzdHJldGNoWTpfLGNvbnRlbnQ6ZH09cltvXSxwPW5ldyBlLlJHQkFJbWFnZSh7d2lkdGg6bixoZWlnaHQ6YX0pO2UuUkdCQUltYWdlLmNvcHkodCxwLHt4OnMseTpsfSx7eDowLHk6MH0se3dpZHRoOm4saGVpZ2h0OmF9KSxpW29dPXtkYXRhOnAscGl4ZWxSYXRpbzpoLHNkZjpjLHN0cmV0Y2hYOnUsc3RyZXRjaFk6Xyxjb250ZW50OmR9O31vKG51bGwsaSk7fX1yZXR1cm4ge2NhbmNlbCgpe2wmJihsLmNhbmNlbCgpLGw9bnVsbCksYyYmKGMuY2FuY2VsKCksYz1udWxsKTt9fX0odCx0aGlzLm1hcC5fcmVxdWVzdE1hbmFnZXIsKCh0LGkpPT57aWYodGhpcy5fc3ByaXRlUmVxdWVzdD1udWxsLHQpdGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQodCkpO2Vsc2UgaWYoaSlmb3IoY29uc3QgZSBpbiBpKXRoaXMuaW1hZ2VNYW5hZ2VyLmFkZEltYWdlKGUsaVtlXSk7dGhpcy5pbWFnZU1hbmFnZXIuc2V0TG9hZGVkKCEwKSx0aGlzLl9hdmFpbGFibGVJbWFnZXM9dGhpcy5pbWFnZU1hbmFnZXIubGlzdEltYWdlcygpLHRoaXMuZGlzcGF0Y2hlci5icm9hZGNhc3QoXCJzZXRJbWFnZXNcIix0aGlzLl9hdmFpbGFibGVJbWFnZXMpLHRoaXMuZGlzcGF0Y2hlci5icm9hZGNhc3QoXCJzcHJpdGVMb2FkZWRcIiwhMCksdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwiZGF0YVwiLHtkYXRhVHlwZTpcInN0eWxlXCJ9KSk7fSkpO31fdmFsaWRhdGVMYXllcih0KXtjb25zdCBpPXRoaXMuZ2V0U291cmNlKHQuc291cmNlKTtpZighaSlyZXR1cm47Y29uc3Qgbz10LnNvdXJjZUxheWVyO28mJihcImdlb2pzb25cIj09PWkudHlwZXx8aS52ZWN0b3JMYXllcklkcyYmLTE9PT1pLnZlY3RvckxheWVySWRzLmluZGV4T2YobykpJiZ0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoYFNvdXJjZSBsYXllciBcIiR7b31cIiBkb2VzIG5vdCBleGlzdCBvbiBzb3VyY2UgXCIke2kuaWR9XCIgYXMgc3BlY2lmaWVkIGJ5IHN0eWxlIGxheWVyIFwiJHt0LmlkfVwiYCkpKTt9bG9hZGVkKCl7aWYoIXRoaXMuX2xvYWRlZClyZXR1cm4gITE7aWYoT2JqZWN0LmtleXModGhpcy5fdXBkYXRlZFNvdXJjZXMpLmxlbmd0aClyZXR1cm4gITE7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fc291cmNlQ2FjaGVzKWlmKCF0aGlzLl9zb3VyY2VDYWNoZXNbZV0ubG9hZGVkKCkpcmV0dXJuICExO3JldHVybiAhIXRoaXMuaW1hZ2VNYW5hZ2VyLmlzTG9hZGVkKCl9X3NlcmlhbGl6ZUxheWVycyhlKXtjb25zdCB0PVtdO2Zvcihjb25zdCBpIG9mIGUpe2NvbnN0IGU9dGhpcy5fbGF5ZXJzW2ldO1wiY3VzdG9tXCIhPT1lLnR5cGUmJnQucHVzaChlLnNlcmlhbGl6ZSgpKTt9cmV0dXJuIHR9aGFzVHJhbnNpdGlvbnMoKXtpZih0aGlzLmxpZ2h0JiZ0aGlzLmxpZ2h0Lmhhc1RyYW5zaXRpb24oKSlyZXR1cm4gITA7aWYodGhpcy5mb2cmJnRoaXMuZm9nLmhhc1RyYW5zaXRpb24oKSlyZXR1cm4gITA7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fc291cmNlQ2FjaGVzKWlmKHRoaXMuX3NvdXJjZUNhY2hlc1tlXS5oYXNUcmFuc2l0aW9uKCkpcmV0dXJuICEwO2Zvcihjb25zdCBlIGluIHRoaXMuX2xheWVycylpZih0aGlzLl9sYXllcnNbZV0uaGFzVHJhbnNpdGlvbigpKXJldHVybiAhMDtyZXR1cm4gITF9Z2V0IG9yZGVyKCl7cmV0dXJuIHRoaXMubWFwLl9vcHRpbWl6ZUZvclRlcnJhaW4mJnRoaXMudGVycmFpbj90aGlzLl9kcmFwZWRGaXJzdE9yZGVyOnRoaXMuX29yZGVyfWlzTGF5ZXJEcmFwZWQoZSl7cmV0dXJuICEhdGhpcy50ZXJyYWluJiZRdFtlLnR5cGVdfV9jaGVja0xvYWRlZCgpe2lmKCF0aGlzLl9sb2FkZWQpdGhyb3cgbmV3IEVycm9yKFwiU3R5bGUgaXMgbm90IGRvbmUgbG9hZGluZ1wiKX11cGRhdGUodCl7aWYoIXRoaXMuX2xvYWRlZClyZXR1cm47Y29uc3QgaT10aGlzLl9jaGFuZ2VkO2lmKHRoaXMuX2NoYW5nZWQpe2NvbnN0IGU9T2JqZWN0LmtleXModGhpcy5fdXBkYXRlZExheWVycyksaT1PYmplY3Qua2V5cyh0aGlzLl9yZW1vdmVkTGF5ZXJzKTsoZS5sZW5ndGh8fGkubGVuZ3RoKSYmdGhpcy5fdXBkYXRlV29ya2VyTGF5ZXJzKGUsaSk7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fdXBkYXRlZFNvdXJjZXMpe2NvbnN0IHQ9dGhpcy5fdXBkYXRlZFNvdXJjZXNbZV07XCJyZWxvYWRcIj09PXQ/dGhpcy5fcmVsb2FkU291cmNlKGUpOlwiY2xlYXJcIj09PXQmJnRoaXMuX2NsZWFyU291cmNlKGUpO310aGlzLl91cGRhdGVUaWxlc0ZvckNoYW5nZWRJbWFnZXMoKTtmb3IoY29uc3QgZSBpbiB0aGlzLl91cGRhdGVkUGFpbnRQcm9wcyl0aGlzLl9sYXllcnNbZV0udXBkYXRlVHJhbnNpdGlvbnModCk7dGhpcy5saWdodC51cGRhdGVUcmFuc2l0aW9ucyh0KSx0aGlzLmZvZyYmdGhpcy5mb2cudXBkYXRlVHJhbnNpdGlvbnModCksdGhpcy5fcmVzZXRVcGRhdGVzKCk7fWNvbnN0IG89e307Zm9yKGNvbnN0IGUgaW4gdGhpcy5fc291cmNlQ2FjaGVzKXtjb25zdCB0PXRoaXMuX3NvdXJjZUNhY2hlc1tlXTtvW2VdPXQudXNlZCx0LnVzZWQ9ITE7fWZvcihjb25zdCBlIG9mIHRoaXMuX29yZGVyKXtjb25zdCBpPXRoaXMuX2xheWVyc1tlXTtpZihpLnJlY2FsY3VsYXRlKHQsdGhpcy5fYXZhaWxhYmxlSW1hZ2VzKSwhaS5pc0hpZGRlbih0Lnpvb20pKXtjb25zdCBlPXRoaXMuX2dldExheWVyU291cmNlQ2FjaGUoaSk7ZSYmKGUudXNlZD0hMCk7fWNvbnN0IG89dGhpcy5tYXAucGFpbnRlcjtpZihvKXtjb25zdCBlPWkuZ2V0UHJvZ3JhbUlkcygpO2lmKCFlKWNvbnRpbnVlO2NvbnN0IHI9aS5nZXRQcm9ncmFtQ29uZmlndXJhdGlvbih0Lnpvb20pO2Zvcihjb25zdCB0IG9mIGUpby51c2VQcm9ncmFtKHQscik7fX1mb3IoY29uc3QgdCBpbiBvKXtjb25zdCBpPXRoaXMuX3NvdXJjZUNhY2hlc1t0XTtvW3RdIT09aS51c2VkJiZpLmdldFNvdXJjZSgpLmZpcmUobmV3IGUuRXZlbnQoXCJkYXRhXCIse3NvdXJjZURhdGFUeXBlOlwidmlzaWJpbGl0eVwiLGRhdGFUeXBlOlwic291cmNlXCIsc291cmNlSWQ6aS5nZXRTb3VyY2UoKS5pZH0pKTt9dGhpcy5saWdodC5yZWNhbGN1bGF0ZSh0KSx0aGlzLnRlcnJhaW4mJnRoaXMudGVycmFpbi5yZWNhbGN1bGF0ZSh0KSx0aGlzLmZvZyYmdGhpcy5mb2cucmVjYWxjdWxhdGUodCksdGhpcy56PXQuem9vbSx0aGlzLl9tYXJrZXJzTmVlZFVwZGF0ZSYmKHRoaXMuX3VwZGF0ZU1hcmtlcnNPcGFjaXR5KCksdGhpcy5fbWFya2Vyc05lZWRVcGRhdGU9ITEpLGkmJnRoaXMuZmlyZShuZXcgZS5FdmVudChcImRhdGFcIix7ZGF0YVR5cGU6XCJzdHlsZVwifSkpO31fdXBkYXRlVGlsZXNGb3JDaGFuZ2VkSW1hZ2VzKCl7Y29uc3QgZT1PYmplY3Qua2V5cyh0aGlzLl9jaGFuZ2VkSW1hZ2VzKTtpZihlLmxlbmd0aCl7Zm9yKGNvbnN0IHQgaW4gdGhpcy5fc291cmNlQ2FjaGVzKXRoaXMuX3NvdXJjZUNhY2hlc1t0XS5yZWxvYWRUaWxlc0ZvckRlcGVuZGVuY2llcyhbXCJpY29uc1wiLFwicGF0dGVybnNcIl0sZSk7dGhpcy5fY2hhbmdlZEltYWdlcz17fTt9fV91cGRhdGVXb3JrZXJMYXllcnMoZSx0KXt0aGlzLmRpc3BhdGNoZXIuYnJvYWRjYXN0KFwidXBkYXRlTGF5ZXJzXCIse2xheWVyczp0aGlzLl9zZXJpYWxpemVMYXllcnMoZSkscmVtb3ZlZElkczp0fSk7fV9yZXNldFVwZGF0ZXMoKXt0aGlzLl9jaGFuZ2VkPSExLHRoaXMuX3VwZGF0ZWRMYXllcnM9e30sdGhpcy5fcmVtb3ZlZExheWVycz17fSx0aGlzLl91cGRhdGVkU291cmNlcz17fSx0aGlzLl91cGRhdGVkUGFpbnRQcm9wcz17fSx0aGlzLl9jaGFuZ2VkSW1hZ2VzPXt9O31zZXRTdGF0ZShpKXtpZih0aGlzLl9jaGVja0xvYWRlZCgpLEh0KHRoaXMsZS52YWxpZGF0ZVN0eWxlKGkpKSlyZXR1cm4gITE7KGk9ZS5jbG9uZSQxKGkpKS5sYXllcnM9WmUoaS5sYXllcnMpO2NvbnN0IG89ZnVuY3Rpb24oZSxpKXtpZighZSlyZXR1cm4gW3tjb21tYW5kOlZlLnNldFN0eWxlLGFyZ3M6W2ldfV07bGV0IG89W107dHJ5e2lmKCF0KGUudmVyc2lvbixpLnZlcnNpb24pKXJldHVybiBbe2NvbW1hbmQ6VmUuc2V0U3R5bGUsYXJnczpbaV19XTt0KGUuY2VudGVyLGkuY2VudGVyKXx8by5wdXNoKHtjb21tYW5kOlZlLnNldENlbnRlcixhcmdzOltpLmNlbnRlcl19KSx0KGUuem9vbSxpLnpvb20pfHxvLnB1c2goe2NvbW1hbmQ6VmUuc2V0Wm9vbSxhcmdzOltpLnpvb21dfSksdChlLmJlYXJpbmcsaS5iZWFyaW5nKXx8by5wdXNoKHtjb21tYW5kOlZlLnNldEJlYXJpbmcsYXJnczpbaS5iZWFyaW5nXX0pLHQoZS5waXRjaCxpLnBpdGNoKXx8by5wdXNoKHtjb21tYW5kOlZlLnNldFBpdGNoLGFyZ3M6W2kucGl0Y2hdfSksdChlLnNwcml0ZSxpLnNwcml0ZSl8fG8ucHVzaCh7Y29tbWFuZDpWZS5zZXRTcHJpdGUsYXJnczpbaS5zcHJpdGVdfSksdChlLmdseXBocyxpLmdseXBocyl8fG8ucHVzaCh7Y29tbWFuZDpWZS5zZXRHbHlwaHMsYXJnczpbaS5nbHlwaHNdfSksdChlLnRyYW5zaXRpb24saS50cmFuc2l0aW9uKXx8by5wdXNoKHtjb21tYW5kOlZlLnNldFRyYW5zaXRpb24sYXJnczpbaS50cmFuc2l0aW9uXX0pLHQoZS5saWdodCxpLmxpZ2h0KXx8by5wdXNoKHtjb21tYW5kOlZlLnNldExpZ2h0LGFyZ3M6W2kubGlnaHRdfSksdChlLmZvZyxpLmZvZyl8fG8ucHVzaCh7Y29tbWFuZDpWZS5zZXRGb2csYXJnczpbaS5mb2ddfSksdChlLnByb2plY3Rpb24saS5wcm9qZWN0aW9uKXx8by5wdXNoKHtjb21tYW5kOlZlLnNldFByb2plY3Rpb24sYXJnczpbaS5wcm9qZWN0aW9uXX0pO2NvbnN0IHI9e30sbj1bXTshZnVuY3Rpb24oZSxpLG8scil7bGV0IG47Zm9yKG4gaW4gaT1pfHx7fSxlPWV8fHt9KWUuaGFzT3duUHJvcGVydHkobikmJihpLmhhc093blByb3BlcnR5KG4pfHxYZShuLG8scikpO2ZvcihuIGluIGkpaS5oYXNPd25Qcm9wZXJ0eShuKSYmKGUuaGFzT3duUHJvcGVydHkobik/dChlW25dLGlbbl0pfHwoXCJnZW9qc29uXCI9PT1lW25dLnR5cGUmJlwiZ2VvanNvblwiPT09aVtuXS50eXBlJiYkZShlLGksbik/by5wdXNoKHtjb21tYW5kOlZlLnNldEdlb0pTT05Tb3VyY2VEYXRhLGFyZ3M6W24saVtuXS5kYXRhXX0pOnFlKG4saSxvLHIpKTpXZShuLGksbykpO30oZS5zb3VyY2VzLGkuc291cmNlcyxuLHIpO2NvbnN0IGE9W107ZS5sYXllcnMmJmUubGF5ZXJzLmZvckVhY2goKGU9PntlLnNvdXJjZSYmcltlLnNvdXJjZV0/by5wdXNoKHtjb21tYW5kOlZlLnJlbW92ZUxheWVyLGFyZ3M6W2UuaWRdfSk6YS5wdXNoKGUpO30pKTtsZXQgcz1lLnRlcnJhaW47cyYmcltzLnNvdXJjZV0mJihvLnB1c2goe2NvbW1hbmQ6VmUuc2V0VGVycmFpbixhcmdzOlt2b2lkIDBdfSkscz12b2lkIDApLG89by5jb25jYXQobiksdChzLGkudGVycmFpbil8fG8ucHVzaCh7Y29tbWFuZDpWZS5zZXRUZXJyYWluLGFyZ3M6W2kudGVycmFpbl19KSxmdW5jdGlvbihlLGksbyl7aT1pfHxbXTtjb25zdCByPShlPWV8fFtdKS5tYXAoWWUpLG49aS5tYXAoWWUpLGE9ZS5yZWR1Y2UoS2Use30pLHM9aS5yZWR1Y2UoS2Use30pLGw9ci5zbGljZSgpLGM9T2JqZWN0LmNyZWF0ZShudWxsKTtsZXQgaCx1LF8sZCxwLG0sZjtmb3IoaD0wLHU9MDtoPHIubGVuZ3RoO2grKylfPXJbaF0scy5oYXNPd25Qcm9wZXJ0eShfKT91Kys6KG8ucHVzaCh7Y29tbWFuZDpWZS5yZW1vdmVMYXllcixhcmdzOltfXX0pLGwuc3BsaWNlKGwuaW5kZXhPZihfLHUpLDEpKTtmb3IoaD0wLHU9MDtoPG4ubGVuZ3RoO2grKylfPW5bbi5sZW5ndGgtMS1oXSxsW2wubGVuZ3RoLTEtaF0hPT1fJiYoYS5oYXNPd25Qcm9wZXJ0eShfKT8oby5wdXNoKHtjb21tYW5kOlZlLnJlbW92ZUxheWVyLGFyZ3M6W19dfSksbC5zcGxpY2UobC5sYXN0SW5kZXhPZihfLGwubGVuZ3RoLXUpLDEpKTp1KyssbT1sW2wubGVuZ3RoLWhdLG8ucHVzaCh7Y29tbWFuZDpWZS5hZGRMYXllcixhcmdzOltzW19dLG1dfSksbC5zcGxpY2UobC5sZW5ndGgtaCwwLF8pLGNbX109ITApO2ZvcihoPTA7aDxuLmxlbmd0aDtoKyspaWYoXz1uW2hdLGQ9YVtfXSxwPXNbX10sIWNbX10mJiF0KGQscCkpaWYodChkLnNvdXJjZSxwLnNvdXJjZSkmJnQoZFtcInNvdXJjZS1sYXllclwiXSxwW1wic291cmNlLWxheWVyXCJdKSYmdChkLnR5cGUscC50eXBlKSl7Zm9yKGYgaW4gSGUoZC5sYXlvdXQscC5sYXlvdXQsbyxfLG51bGwsVmUuc2V0TGF5b3V0UHJvcGVydHkpLEhlKGQucGFpbnQscC5wYWludCxvLF8sbnVsbCxWZS5zZXRQYWludFByb3BlcnR5KSx0KGQuZmlsdGVyLHAuZmlsdGVyKXx8by5wdXNoKHtjb21tYW5kOlZlLnNldEZpbHRlcixhcmdzOltfLHAuZmlsdGVyXX0pLHQoZC5taW56b29tLHAubWluem9vbSkmJnQoZC5tYXh6b29tLHAubWF4em9vbSl8fG8ucHVzaCh7Y29tbWFuZDpWZS5zZXRMYXllclpvb21SYW5nZSxhcmdzOltfLHAubWluem9vbSxwLm1heHpvb21dfSksZClkLmhhc093blByb3BlcnR5KGYpJiZcImxheW91dFwiIT09ZiYmXCJwYWludFwiIT09ZiYmXCJmaWx0ZXJcIiE9PWYmJlwibWV0YWRhdGFcIiE9PWYmJlwibWluem9vbVwiIT09ZiYmXCJtYXh6b29tXCIhPT1mJiYoMD09PWYuaW5kZXhPZihcInBhaW50LlwiKT9IZShkW2ZdLHBbZl0sbyxfLGYuc2xpY2UoNiksVmUuc2V0UGFpbnRQcm9wZXJ0eSk6dChkW2ZdLHBbZl0pfHxvLnB1c2goe2NvbW1hbmQ6VmUuc2V0TGF5ZXJQcm9wZXJ0eSxhcmdzOltfLGYscFtmXV19KSk7Zm9yKGYgaW4gcClwLmhhc093blByb3BlcnR5KGYpJiYhZC5oYXNPd25Qcm9wZXJ0eShmKSYmXCJsYXlvdXRcIiE9PWYmJlwicGFpbnRcIiE9PWYmJlwiZmlsdGVyXCIhPT1mJiZcIm1ldGFkYXRhXCIhPT1mJiZcIm1pbnpvb21cIiE9PWYmJlwibWF4em9vbVwiIT09ZiYmKDA9PT1mLmluZGV4T2YoXCJwYWludC5cIik/SGUoZFtmXSxwW2ZdLG8sXyxmLnNsaWNlKDYpLFZlLnNldFBhaW50UHJvcGVydHkpOnQoZFtmXSxwW2ZdKXx8by5wdXNoKHtjb21tYW5kOlZlLnNldExheWVyUHJvcGVydHksYXJnczpbXyxmLHBbZl1dfSkpO31lbHNlIG8ucHVzaCh7Y29tbWFuZDpWZS5yZW1vdmVMYXllcixhcmdzOltfXX0pLG09bFtsLmxhc3RJbmRleE9mKF8pKzFdLG8ucHVzaCh7Y29tbWFuZDpWZS5hZGRMYXllcixhcmdzOltwLG1dfSk7fShhLGkubGF5ZXJzLG8pO31jYXRjaChlKXtjb25zb2xlLndhcm4oXCJVbmFibGUgdG8gY29tcHV0ZSBzdHlsZSBkaWZmOlwiLGUpLG89W3tjb21tYW5kOlZlLnNldFN0eWxlLGFyZ3M6W2ldfV07fXJldHVybiBvfSh0aGlzLnNlcmlhbGl6ZSgpLGkpLmZpbHRlcigoZT0+IShlLmNvbW1hbmQgaW4gS3QpKSk7aWYoMD09PW8ubGVuZ3RoKXJldHVybiAhMTtjb25zdCByPW8uZmlsdGVyKChlPT4hKGUuY29tbWFuZCBpbiBZdCkpKTtpZihyLmxlbmd0aD4wKXRocm93IG5ldyBFcnJvcihgVW5pbXBsZW1lbnRlZDogJHtyLm1hcCgoZT0+ZS5jb21tYW5kKSkuam9pbihcIiwgXCIpfS5gKTtyZXR1cm4gby5mb3JFYWNoKChlPT57XCJzZXRUcmFuc2l0aW9uXCIhPT1lLmNvbW1hbmQmJlwic2V0UHJvamVjdGlvblwiIT09ZS5jb21tYW5kJiZ0aGlzW2UuY29tbWFuZF0uYXBwbHkodGhpcyxlLmFyZ3MpO30pKSx0aGlzLnN0eWxlc2hlZXQ9aSx0aGlzLl91cGRhdGVNYXBQcm9qZWN0aW9uKCksITB9YWRkSW1hZ2UodCxpKXtyZXR1cm4gdGhpcy5nZXRJbWFnZSh0KT90aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoXCJBbiBpbWFnZSB3aXRoIHRoaXMgbmFtZSBhbHJlYWR5IGV4aXN0cy5cIikpKToodGhpcy5pbWFnZU1hbmFnZXIuYWRkSW1hZ2UodCxpKSx0aGlzLl9hZnRlckltYWdlVXBkYXRlZCh0KSx0aGlzKX11cGRhdGVJbWFnZShlLHQpe3RoaXMuaW1hZ2VNYW5hZ2VyLnVwZGF0ZUltYWdlKGUsdCk7fWdldEltYWdlKGUpe3JldHVybiB0aGlzLmltYWdlTWFuYWdlci5nZXRJbWFnZShlKX1yZW1vdmVJbWFnZSh0KXtyZXR1cm4gdGhpcy5nZXRJbWFnZSh0KT8odGhpcy5pbWFnZU1hbmFnZXIucmVtb3ZlSW1hZ2UodCksdGhpcy5fYWZ0ZXJJbWFnZVVwZGF0ZWQodCksdGhpcyk6dGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IEVycm9yKFwiTm8gaW1hZ2Ugd2l0aCB0aGlzIG5hbWUgZXhpc3RzLlwiKSkpfV9hZnRlckltYWdlVXBkYXRlZCh0KXt0aGlzLl9hdmFpbGFibGVJbWFnZXM9dGhpcy5pbWFnZU1hbmFnZXIubGlzdEltYWdlcygpLHRoaXMuX2NoYW5nZWRJbWFnZXNbdF09ITAsdGhpcy5fY2hhbmdlZD0hMCx0aGlzLmRpc3BhdGNoZXIuYnJvYWRjYXN0KFwic2V0SW1hZ2VzXCIsdGhpcy5fYXZhaWxhYmxlSW1hZ2VzKSx0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJkYXRhXCIse2RhdGFUeXBlOlwic3R5bGVcIn0pKTt9bGlzdEltYWdlcygpe3JldHVybiB0aGlzLl9jaGVja0xvYWRlZCgpLHRoaXMuX2F2YWlsYWJsZUltYWdlcy5zbGljZSgpfWFkZFNvdXJjZSh0LGksbz17fSl7aWYodGhpcy5fY2hlY2tMb2FkZWQoKSx2b2lkIDAhPT10aGlzLmdldFNvdXJjZSh0KSl0aHJvdyBuZXcgRXJyb3IoXCJUaGVyZSBpcyBhbHJlYWR5IGEgc291cmNlIHdpdGggdGhpcyBJRFwiKTtpZighaS50eXBlKXRocm93IG5ldyBFcnJvcihgVGhlIHR5cGUgcHJvcGVydHkgbXVzdCBiZSBkZWZpbmVkLCBidXQgb25seSB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXMgd2VyZSBnaXZlbjogJHtPYmplY3Qua2V5cyhpKS5qb2luKFwiLCBcIil9LmApO2lmKFtcInZlY3RvclwiLFwicmFzdGVyXCIsXCJnZW9qc29uXCIsXCJ2aWRlb1wiLFwiaW1hZ2VcIl0uaW5kZXhPZihpLnR5cGUpPj0wJiZ0aGlzLl92YWxpZGF0ZShlLnZhbGlkYXRlU291cmNlLGBzb3VyY2VzLiR7dH1gLGksbnVsbCxvKSlyZXR1cm47dGhpcy5tYXAmJnRoaXMubWFwLl9jb2xsZWN0UmVzb3VyY2VUaW1pbmcmJihpLmNvbGxlY3RSZXNvdXJjZVRpbWluZz0hMCk7Y29uc3Qgcj1BZSh0LGksdGhpcy5kaXNwYXRjaGVyLHRoaXMpO3Iuc2V0RXZlbnRlZFBhcmVudCh0aGlzLCgoKT0+KHtpc1NvdXJjZUxvYWRlZDp0aGlzLl9pc1NvdXJjZUNhY2hlTG9hZGVkKHQpLHNvdXJjZTpyLnNlcmlhbGl6ZSgpLHNvdXJjZUlkOnR9KSkpO2NvbnN0IG49aT0+e2NvbnN0IG89KGk/XCJzeW1ib2w6XCI6XCJvdGhlcjpcIikrdCxuPXRoaXMuX3NvdXJjZUNhY2hlc1tvXT1uZXcgZS5Tb3VyY2VDYWNoZShvLHIsaSk7KGk/dGhpcy5fc3ltYm9sU291cmNlQ2FjaGVzOnRoaXMuX290aGVyU291cmNlQ2FjaGVzKVt0XT1uLG4uc3R5bGU9dGhpcyxuLm9uQWRkKHRoaXMubWFwKTt9O24oITEpLFwidmVjdG9yXCIhPT1pLnR5cGUmJlwiZ2VvanNvblwiIT09aS50eXBlfHxuKCEwKSxyLm9uQWRkJiZyLm9uQWRkKHRoaXMubWFwKSx0aGlzLl9jaGFuZ2VkPSEwO31yZW1vdmVTb3VyY2UodCl7dGhpcy5fY2hlY2tMb2FkZWQoKTtjb25zdCBpPXRoaXMuZ2V0U291cmNlKHQpO2lmKCFpKXRocm93IG5ldyBFcnJvcihcIlRoZXJlIGlzIG5vIHNvdXJjZSB3aXRoIHRoaXMgSURcIik7Zm9yKGNvbnN0IGkgaW4gdGhpcy5fbGF5ZXJzKWlmKHRoaXMuX2xheWVyc1tpXS5zb3VyY2U9PT10KXJldHVybiB0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoYFNvdXJjZSBcIiR7dH1cIiBjYW5ub3QgYmUgcmVtb3ZlZCB3aGlsZSBsYXllciBcIiR7aX1cIiBpcyB1c2luZyBpdC5gKSkpO2lmKHRoaXMudGVycmFpbiYmdGhpcy50ZXJyYWluLmdldCgpLnNvdXJjZT09PXQpcmV0dXJuIHRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihgU291cmNlIFwiJHt0fVwiIGNhbm5vdCBiZSByZW1vdmVkIHdoaWxlIHRlcnJhaW4gaXMgdXNpbmcgaXQuYCkpKTtjb25zdCBvPXRoaXMuX2dldFNvdXJjZUNhY2hlcyh0KTtmb3IoY29uc3QgdCBvZiBvKWRlbGV0ZSB0aGlzLl9zb3VyY2VDYWNoZXNbdC5pZF0sZGVsZXRlIHRoaXMuX3VwZGF0ZWRTb3VyY2VzW3QuaWRdLHQuZmlyZShuZXcgZS5FdmVudChcImRhdGFcIix7c291cmNlRGF0YVR5cGU6XCJtZXRhZGF0YVwiLGRhdGFUeXBlOlwic291cmNlXCIsc291cmNlSWQ6dC5nZXRTb3VyY2UoKS5pZH0pKSx0LnNldEV2ZW50ZWRQYXJlbnQobnVsbCksdC5jbGVhclRpbGVzKCk7cmV0dXJuIGRlbGV0ZSB0aGlzLl9vdGhlclNvdXJjZUNhY2hlc1t0XSxkZWxldGUgdGhpcy5fc3ltYm9sU291cmNlQ2FjaGVzW3RdLGkuc2V0RXZlbnRlZFBhcmVudChudWxsKSxpLm9uUmVtb3ZlJiZpLm9uUmVtb3ZlKHRoaXMubWFwKSx0aGlzLl9jaGFuZ2VkPSEwLHRoaXN9c2V0R2VvSlNPTlNvdXJjZURhdGEoZSx0KXt0aGlzLl9jaGVja0xvYWRlZCgpLHRoaXMuZ2V0U291cmNlKGUpLnNldERhdGEodCksdGhpcy5fY2hhbmdlZD0hMDt9Z2V0U291cmNlKGUpe2NvbnN0IHQ9dGhpcy5fZ2V0U291cmNlQ2FjaGUoZSk7cmV0dXJuIHQmJnQuZ2V0U291cmNlKCl9YWRkTGF5ZXIodCxpLG89e30pe3RoaXMuX2NoZWNrTG9hZGVkKCk7Y29uc3Qgcj10LmlkO2lmKHRoaXMuZ2V0TGF5ZXIocikpcmV0dXJuIHZvaWQgdGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IEVycm9yKGBMYXllciB3aXRoIGlkIFwiJHtyfVwiIGFscmVhZHkgZXhpc3RzIG9uIHRoaXMgbWFwYCkpKTtsZXQgbjtpZihcImN1c3RvbVwiPT09dC50eXBlKXtpZihIdCh0aGlzLGUudmFsaWRhdGVDdXN0b21TdHlsZUxheWVyKHQpKSlyZXR1cm47bj1lLmNyZWF0ZVN0eWxlTGF5ZXIodCk7fWVsc2Uge2lmKFwib2JqZWN0XCI9PXR5cGVvZiB0LnNvdXJjZSYmKHRoaXMuYWRkU291cmNlKHIsdC5zb3VyY2UpLHQ9ZS5jbG9uZSQxKHQpLHQ9ZS5leHRlbmQodCx7c291cmNlOnJ9KSksdGhpcy5fdmFsaWRhdGUoZS52YWxpZGF0ZUxheWVyLGBsYXllcnMuJHtyfWAsdCx7YXJyYXlJbmRleDotMX0sbykpcmV0dXJuO249ZS5jcmVhdGVTdHlsZUxheWVyKHQpLHRoaXMuX3ZhbGlkYXRlTGF5ZXIobiksbi5zZXRFdmVudGVkUGFyZW50KHRoaXMse2xheWVyOntpZDpyfX0pLHRoaXMuX3NlcmlhbGl6ZWRMYXllcnNbbi5pZF09bi5zZXJpYWxpemUoKSx0aGlzLl91cGRhdGVMYXllckNvdW50KG4sITApO31jb25zdCBhPWk/dGhpcy5fb3JkZXIuaW5kZXhPZihpKTp0aGlzLl9vcmRlci5sZW5ndGg7aWYoaSYmLTE9PT1hKXJldHVybiB2b2lkIHRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihgTGF5ZXIgd2l0aCBpZCBcIiR7aX1cIiBkb2VzIG5vdCBleGlzdCBvbiB0aGlzIG1hcC5gKSkpO3RoaXMuX29yZGVyLnNwbGljZShhLDAsciksdGhpcy5fbGF5ZXJPcmRlckNoYW5nZWQ9ITAsdGhpcy5fbGF5ZXJzW3JdPW47Y29uc3Qgcz10aGlzLl9nZXRMYXllclNvdXJjZUNhY2hlKG4pO2lmKHRoaXMuX3JlbW92ZWRMYXllcnNbcl0mJm4uc291cmNlJiZzJiZcImN1c3RvbVwiIT09bi50eXBlKXtjb25zdCBlPXRoaXMuX3JlbW92ZWRMYXllcnNbcl07ZGVsZXRlIHRoaXMuX3JlbW92ZWRMYXllcnNbcl0sZS50eXBlIT09bi50eXBlP3RoaXMuX3VwZGF0ZWRTb3VyY2VzW24uc291cmNlXT1cImNsZWFyXCI6KHRoaXMuX3VwZGF0ZWRTb3VyY2VzW24uc291cmNlXT1cInJlbG9hZFwiLHMucGF1c2UoKSk7fXRoaXMuX3VwZGF0ZUxheWVyKG4pLG4ub25BZGQmJm4ub25BZGQodGhpcy5tYXApLHRoaXMuX3VwZGF0ZURyYXBlRmlyc3RMYXllcnMoKTt9bW92ZUxheWVyKHQsaSl7aWYodGhpcy5fY2hlY2tMb2FkZWQoKSx0aGlzLl9jaGFuZ2VkPSEwLCF0aGlzLl9sYXllcnNbdF0pcmV0dXJuIHZvaWQgdGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IEVycm9yKGBUaGUgbGF5ZXIgJyR7dH0nIGRvZXMgbm90IGV4aXN0IGluIHRoZSBtYXAncyBzdHlsZSBhbmQgY2Fubm90IGJlIG1vdmVkLmApKSk7aWYodD09PWkpcmV0dXJuO2NvbnN0IG89dGhpcy5fb3JkZXIuaW5kZXhPZih0KTt0aGlzLl9vcmRlci5zcGxpY2UobywxKTtjb25zdCByPWk/dGhpcy5fb3JkZXIuaW5kZXhPZihpKTp0aGlzLl9vcmRlci5sZW5ndGg7aSYmLTE9PT1yP3RoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihgTGF5ZXIgd2l0aCBpZCBcIiR7aX1cIiBkb2VzIG5vdCBleGlzdCBvbiB0aGlzIG1hcC5gKSkpOih0aGlzLl9vcmRlci5zcGxpY2UociwwLHQpLHRoaXMuX2xheWVyT3JkZXJDaGFuZ2VkPSEwLHRoaXMuX3VwZGF0ZURyYXBlRmlyc3RMYXllcnMoKSk7fXJlbW92ZUxheWVyKHQpe3RoaXMuX2NoZWNrTG9hZGVkKCk7Y29uc3QgaT10aGlzLl9sYXllcnNbdF07aWYoIWkpcmV0dXJuIHZvaWQgdGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IEVycm9yKGBUaGUgbGF5ZXIgJyR7dH0nIGRvZXMgbm90IGV4aXN0IGluIHRoZSBtYXAncyBzdHlsZSBhbmQgY2Fubm90IGJlIHJlbW92ZWQuYCkpKTtpLnNldEV2ZW50ZWRQYXJlbnQobnVsbCksdGhpcy5fdXBkYXRlTGF5ZXJDb3VudChpLCExKTtjb25zdCBvPXRoaXMuX29yZGVyLmluZGV4T2YodCk7dGhpcy5fb3JkZXIuc3BsaWNlKG8sMSksdGhpcy5fbGF5ZXJPcmRlckNoYW5nZWQ9ITAsdGhpcy5fY2hhbmdlZD0hMCx0aGlzLl9yZW1vdmVkTGF5ZXJzW3RdPWksZGVsZXRlIHRoaXMuX2xheWVyc1t0XSxkZWxldGUgdGhpcy5fc2VyaWFsaXplZExheWVyc1t0XSxkZWxldGUgdGhpcy5fdXBkYXRlZExheWVyc1t0XSxkZWxldGUgdGhpcy5fdXBkYXRlZFBhaW50UHJvcHNbdF0saS5vblJlbW92ZSYmaS5vblJlbW92ZSh0aGlzLm1hcCksdGhpcy5fdXBkYXRlRHJhcGVGaXJzdExheWVycygpO31nZXRMYXllcihlKXtyZXR1cm4gdGhpcy5fbGF5ZXJzW2VdfWhhc0xheWVyKGUpe3JldHVybiBlIGluIHRoaXMuX2xheWVyc31oYXNMYXllclR5cGUoZSl7Zm9yKGNvbnN0IHQgaW4gdGhpcy5fbGF5ZXJzKWlmKHRoaXMuX2xheWVyc1t0XS50eXBlPT09ZSlyZXR1cm4gITA7cmV0dXJuICExfXNldExheWVyWm9vbVJhbmdlKHQsaSxvKXt0aGlzLl9jaGVja0xvYWRlZCgpO2NvbnN0IHI9dGhpcy5nZXRMYXllcih0KTtyP3IubWluem9vbT09PWkmJnIubWF4em9vbT09PW98fChudWxsIT1pJiYoci5taW56b29tPWkpLG51bGwhPW8mJihyLm1heHpvb209byksdGhpcy5fdXBkYXRlTGF5ZXIocikpOnRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihgVGhlIGxheWVyICcke3R9JyBkb2VzIG5vdCBleGlzdCBpbiB0aGUgbWFwJ3Mgc3R5bGUgYW5kIGNhbm5vdCBoYXZlIHpvb20gZXh0ZW50LmApKSk7fXNldEZpbHRlcihpLG8scj17fSl7dGhpcy5fY2hlY2tMb2FkZWQoKTtjb25zdCBuPXRoaXMuZ2V0TGF5ZXIoaSk7aWYobil7aWYoIXQobi5maWx0ZXIsbykpcmV0dXJuIG51bGw9PW8/KG4uZmlsdGVyPXZvaWQgMCx2b2lkIHRoaXMuX3VwZGF0ZUxheWVyKG4pKTp2b2lkKHRoaXMuX3ZhbGlkYXRlKGUudmFsaWRhdGVGaWx0ZXIsYGxheWVycy4ke24uaWR9LmZpbHRlcmAsbyx7bGF5ZXJUeXBlOm4udHlwZX0scil8fChuLmZpbHRlcj1lLmNsb25lJDEobyksdGhpcy5fdXBkYXRlTGF5ZXIobikpKX1lbHNlIHRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihgVGhlIGxheWVyICcke2l9JyBkb2VzIG5vdCBleGlzdCBpbiB0aGUgbWFwJ3Mgc3R5bGUgYW5kIGNhbm5vdCBiZSBmaWx0ZXJlZC5gKSkpO31nZXRGaWx0ZXIodCl7Y29uc3QgaT10aGlzLmdldExheWVyKHQpO3JldHVybiBpJiZlLmNsb25lJDEoaS5maWx0ZXIpfXNldExheW91dFByb3BlcnR5KGksbyxyLG49e30pe3RoaXMuX2NoZWNrTG9hZGVkKCk7Y29uc3QgYT10aGlzLmdldExheWVyKGkpO2E/dChhLmdldExheW91dFByb3BlcnR5KG8pLHIpfHwoYS5zZXRMYXlvdXRQcm9wZXJ0eShvLHIsbiksdGhpcy5fdXBkYXRlTGF5ZXIoYSkpOnRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihgVGhlIGxheWVyICcke2l9JyBkb2VzIG5vdCBleGlzdCBpbiB0aGUgbWFwJ3Mgc3R5bGUgYW5kIGNhbm5vdCBiZSBzdHlsZWQuYCkpKTt9Z2V0TGF5b3V0UHJvcGVydHkodCxpKXtjb25zdCBvPXRoaXMuZ2V0TGF5ZXIodCk7aWYobylyZXR1cm4gby5nZXRMYXlvdXRQcm9wZXJ0eShpKTt0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoYFRoZSBsYXllciAnJHt0fScgZG9lcyBub3QgZXhpc3QgaW4gdGhlIG1hcCdzIHN0eWxlLmApKSk7fXNldFBhaW50UHJvcGVydHkoaSxvLHIsbj17fSl7dGhpcy5fY2hlY2tMb2FkZWQoKTtjb25zdCBhPXRoaXMuZ2V0TGF5ZXIoaSk7YT90KGEuZ2V0UGFpbnRQcm9wZXJ0eShvKSxyKXx8KGEuc2V0UGFpbnRQcm9wZXJ0eShvLHIsbikmJnRoaXMuX3VwZGF0ZUxheWVyKGEpLHRoaXMuX2NoYW5nZWQ9ITAsdGhpcy5fdXBkYXRlZFBhaW50UHJvcHNbaV09ITApOnRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihgVGhlIGxheWVyICcke2l9JyBkb2VzIG5vdCBleGlzdCBpbiB0aGUgbWFwJ3Mgc3R5bGUgYW5kIGNhbm5vdCBiZSBzdHlsZWQuYCkpKTt9Z2V0UGFpbnRQcm9wZXJ0eShlLHQpe2NvbnN0IGk9dGhpcy5nZXRMYXllcihlKTtyZXR1cm4gaSYmaS5nZXRQYWludFByb3BlcnR5KHQpfXNldEZlYXR1cmVTdGF0ZSh0LGkpe3RoaXMuX2NoZWNrTG9hZGVkKCk7Y29uc3Qgbz10LnNvdXJjZSxyPXQuc291cmNlTGF5ZXIsbj10aGlzLmdldFNvdXJjZShvKTtpZighbilyZXR1cm4gdm9pZCB0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoYFRoZSBzb3VyY2UgJyR7b30nIGRvZXMgbm90IGV4aXN0IGluIHRoZSBtYXAncyBzdHlsZS5gKSkpO2NvbnN0IGE9bi50eXBlO2lmKFwiZ2VvanNvblwiPT09YSYmcilyZXR1cm4gdm9pZCB0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoXCJHZW9KU09OIHNvdXJjZXMgY2Fubm90IGhhdmUgYSBzb3VyY2VMYXllciBwYXJhbWV0ZXIuXCIpKSk7aWYoXCJ2ZWN0b3JcIj09PWEmJiFyKXJldHVybiB2b2lkIHRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihcIlRoZSBzb3VyY2VMYXllciBwYXJhbWV0ZXIgbXVzdCBiZSBwcm92aWRlZCBmb3IgdmVjdG9yIHNvdXJjZSB0eXBlcy5cIikpKTt2b2lkIDA9PT10LmlkJiZ0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoXCJUaGUgZmVhdHVyZSBpZCBwYXJhbWV0ZXIgbXVzdCBiZSBwcm92aWRlZC5cIikpKTtjb25zdCBzPXRoaXMuX2dldFNvdXJjZUNhY2hlcyhvKTtmb3IoY29uc3QgZSBvZiBzKWUuc2V0RmVhdHVyZVN0YXRlKHIsdC5pZCxpKTt9cmVtb3ZlRmVhdHVyZVN0YXRlKHQsaSl7dGhpcy5fY2hlY2tMb2FkZWQoKTtjb25zdCBvPXQuc291cmNlLHI9dGhpcy5nZXRTb3VyY2Uobyk7aWYoIXIpcmV0dXJuIHZvaWQgdGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IEVycm9yKGBUaGUgc291cmNlICcke299JyBkb2VzIG5vdCBleGlzdCBpbiB0aGUgbWFwJ3Mgc3R5bGUuYCkpKTtjb25zdCBuPXIudHlwZSxhPVwidmVjdG9yXCI9PT1uP3Quc291cmNlTGF5ZXI6dm9pZCAwO2lmKFwidmVjdG9yXCI9PT1uJiYhYSlyZXR1cm4gdm9pZCB0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoXCJUaGUgc291cmNlTGF5ZXIgcGFyYW1ldGVyIG11c3QgYmUgcHJvdmlkZWQgZm9yIHZlY3RvciBzb3VyY2UgdHlwZXMuXCIpKSk7aWYoaSYmXCJzdHJpbmdcIiE9dHlwZW9mIHQuaWQmJlwibnVtYmVyXCIhPXR5cGVvZiB0LmlkKXJldHVybiB2b2lkIHRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihcIkEgZmVhdHVyZSBpZCBpcyByZXF1aXJlZCB0byByZW1vdmUgaXRzIHNwZWNpZmljIHN0YXRlIHByb3BlcnR5LlwiKSkpO2NvbnN0IHM9dGhpcy5fZ2V0U291cmNlQ2FjaGVzKG8pO2Zvcihjb25zdCBlIG9mIHMpZS5yZW1vdmVGZWF0dXJlU3RhdGUoYSx0LmlkLGkpO31nZXRGZWF0dXJlU3RhdGUodCl7dGhpcy5fY2hlY2tMb2FkZWQoKTtjb25zdCBpPXQuc291cmNlLG89dC5zb3VyY2VMYXllcixyPXRoaXMuZ2V0U291cmNlKGkpO2lmKHIpe2lmKFwidmVjdG9yXCIhPT1yLnR5cGV8fG8pcmV0dXJuIHZvaWQgMD09PXQuaWQmJnRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihcIlRoZSBmZWF0dXJlIGlkIHBhcmFtZXRlciBtdXN0IGJlIHByb3ZpZGVkLlwiKSkpLHRoaXMuX2dldFNvdXJjZUNhY2hlcyhpKVswXS5nZXRGZWF0dXJlU3RhdGUobyx0LmlkKTt0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoXCJUaGUgc291cmNlTGF5ZXIgcGFyYW1ldGVyIG11c3QgYmUgcHJvdmlkZWQgZm9yIHZlY3RvciBzb3VyY2UgdHlwZXMuXCIpKSk7fWVsc2UgdGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IEVycm9yKGBUaGUgc291cmNlICcke2l9JyBkb2VzIG5vdCBleGlzdCBpbiB0aGUgbWFwJ3Mgc3R5bGUuYCkpKTt9Z2V0VHJhbnNpdGlvbigpe3JldHVybiBlLmV4dGVuZCh7ZHVyYXRpb246MzAwLGRlbGF5OjB9LHRoaXMuc3R5bGVzaGVldCYmdGhpcy5zdHlsZXNoZWV0LnRyYW5zaXRpb24pfXNlcmlhbGl6ZSgpe2NvbnN0IHQ9e307Zm9yKGNvbnN0IGUgaW4gdGhpcy5fc291cmNlQ2FjaGVzKXtjb25zdCBpPXRoaXMuX3NvdXJjZUNhY2hlc1tlXS5nZXRTb3VyY2UoKTt0W2kuaWRdfHwodFtpLmlkXT1pLnNlcmlhbGl6ZSgpKTt9cmV0dXJuIGUuZmlsdGVyT2JqZWN0KHt2ZXJzaW9uOnRoaXMuc3R5bGVzaGVldC52ZXJzaW9uLG5hbWU6dGhpcy5zdHlsZXNoZWV0Lm5hbWUsbWV0YWRhdGE6dGhpcy5zdHlsZXNoZWV0Lm1ldGFkYXRhLGxpZ2h0OnRoaXMuc3R5bGVzaGVldC5saWdodCx0ZXJyYWluOnRoaXMuc3R5bGVzaGVldC50ZXJyYWluLGZvZzp0aGlzLnN0eWxlc2hlZXQuZm9nLGNlbnRlcjp0aGlzLnN0eWxlc2hlZXQuY2VudGVyLHpvb206dGhpcy5zdHlsZXNoZWV0Lnpvb20sYmVhcmluZzp0aGlzLnN0eWxlc2hlZXQuYmVhcmluZyxwaXRjaDp0aGlzLnN0eWxlc2hlZXQucGl0Y2gsc3ByaXRlOnRoaXMuc3R5bGVzaGVldC5zcHJpdGUsZ2x5cGhzOnRoaXMuc3R5bGVzaGVldC5nbHlwaHMsdHJhbnNpdGlvbjp0aGlzLnN0eWxlc2hlZXQudHJhbnNpdGlvbixwcm9qZWN0aW9uOnRoaXMuc3R5bGVzaGVldC5wcm9qZWN0aW9uLHNvdXJjZXM6dCxsYXllcnM6dGhpcy5fc2VyaWFsaXplTGF5ZXJzKHRoaXMuX29yZGVyKX0sKGU9PnZvaWQgMCE9PWUpKX1fdXBkYXRlTGF5ZXIoZSl7dGhpcy5fdXBkYXRlZExheWVyc1tlLmlkXT0hMDtjb25zdCB0PXRoaXMuX2dldExheWVyU291cmNlQ2FjaGUoZSk7ZS5zb3VyY2UmJiF0aGlzLl91cGRhdGVkU291cmNlc1tlLnNvdXJjZV0mJnQmJlwicmFzdGVyXCIhPT10LmdldFNvdXJjZSgpLnR5cGUmJih0aGlzLl91cGRhdGVkU291cmNlc1tlLnNvdXJjZV09XCJyZWxvYWRcIix0LnBhdXNlKCkpLHRoaXMuX2NoYW5nZWQ9ITAsZS5pbnZhbGlkYXRlQ29tcGlsZWRGaWx0ZXIoKTt9X2ZsYXR0ZW5BbmRTb3J0UmVuZGVyZWRGZWF0dXJlcyhlKXtjb25zdCB0PWU9PlwiZmlsbC1leHRydXNpb25cIj09PXRoaXMuX2xheWVyc1tlXS50eXBlLGk9e30sbz1bXTtmb3IobGV0IHI9dGhpcy5fb3JkZXIubGVuZ3RoLTE7cj49MDtyLS0pe2NvbnN0IG49dGhpcy5fb3JkZXJbcl07aWYodChuKSl7aVtuXT1yO2Zvcihjb25zdCB0IG9mIGUpe2NvbnN0IGU9dFtuXTtpZihlKWZvcihjb25zdCB0IG9mIGUpby5wdXNoKHQpO319fW8uc29ydCgoKGUsdCk9PnQuaW50ZXJzZWN0aW9uWi1lLmludGVyc2VjdGlvblopKTtjb25zdCByPVtdO2ZvcihsZXQgbj10aGlzLl9vcmRlci5sZW5ndGgtMTtuPj0wO24tLSl7Y29uc3QgYT10aGlzLl9vcmRlcltuXTtpZih0KGEpKWZvcihsZXQgZT1vLmxlbmd0aC0xO2U+PTA7ZS0tKXtjb25zdCB0PW9bZV0uZmVhdHVyZTtpZihpW3QubGF5ZXIuaWRdPG4pYnJlYWs7ci5wdXNoKHQpLG8ucG9wKCk7fWVsc2UgZm9yKGNvbnN0IHQgb2YgZSl7Y29uc3QgZT10W2FdO2lmKGUpZm9yKGNvbnN0IHQgb2YgZSlyLnB1c2godC5mZWF0dXJlKTt9fXJldHVybiByfXF1ZXJ5UmVuZGVyZWRGZWF0dXJlcyh0LGksbyl7aSYmaS5maWx0ZXImJnRoaXMuX3ZhbGlkYXRlKGUudmFsaWRhdGVGaWx0ZXIsXCJxdWVyeVJlbmRlcmVkRmVhdHVyZXMuZmlsdGVyXCIsaS5maWx0ZXIsbnVsbCxpKTtjb25zdCByPXt9O2lmKGkmJmkubGF5ZXJzKXtpZighQXJyYXkuaXNBcnJheShpLmxheWVycykpcmV0dXJuIHRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihcInBhcmFtZXRlcnMubGF5ZXJzIG11c3QgYmUgYW4gQXJyYXkuXCIpKSksW107Zm9yKGNvbnN0IHQgb2YgaS5sYXllcnMpe2NvbnN0IGk9dGhpcy5fbGF5ZXJzW3RdO2lmKCFpKXJldHVybiB0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoYFRoZSBsYXllciAnJHt0fScgZG9lcyBub3QgZXhpc3QgaW4gdGhlIG1hcCdzIHN0eWxlIGFuZCBjYW5ub3QgYmUgcXVlcmllZCBmb3IgZmVhdHVyZXMuYCkpKSxbXTtyW2kuc291cmNlXT0hMDt9fWNvbnN0IG49W107aS5hdmFpbGFibGVJbWFnZXM9dGhpcy5fYXZhaWxhYmxlSW1hZ2VzO2NvbnN0IGE9aSYmaS5sYXllcnM/aS5sYXllcnMuc29tZSgoZT0+e2NvbnN0IHQ9dGhpcy5nZXRMYXllcihlKTtyZXR1cm4gdCYmdC5pczNEKCl9KSk6dGhpcy5oYXMzRExheWVycygpLHM9Ui5jcmVhdGVGcm9tU2NyZWVuUG9pbnRzKHQsbyk7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fc291cmNlQ2FjaGVzKXtjb25zdCB0PXRoaXMuX3NvdXJjZUNhY2hlc1tlXS5nZXRTb3VyY2UoKS5pZDtpLmxheWVycyYmIXJbdF18fG4ucHVzaChSZSh0aGlzLl9zb3VyY2VDYWNoZXNbZV0sdGhpcy5fbGF5ZXJzLHRoaXMuX3NlcmlhbGl6ZWRMYXllcnMscyxpLG8sYSwhIXRoaXMubWFwLl9zaG93UXVlcnlHZW9tZXRyeSkpO31yZXR1cm4gdGhpcy5wbGFjZW1lbnQmJm4ucHVzaChmdW5jdGlvbihlLHQsaSxvLHIsbixhKXtjb25zdCBzPXt9LGw9bi5xdWVyeVJlbmRlcmVkU3ltYm9scyhvKSxjPVtdO2Zvcihjb25zdCBlIG9mIE9iamVjdC5rZXlzKGwpLm1hcChOdW1iZXIpKWMucHVzaChhW2VdKTtjLnNvcnQoQmUpO2Zvcihjb25zdCBpIG9mIGMpe2NvbnN0IG89aS5mZWF0dXJlSW5kZXgubG9va3VwU3ltYm9sRmVhdHVyZXMobFtpLmJ1Y2tldEluc3RhbmNlSWRdLHQsaS5idWNrZXRJbmRleCxpLnNvdXJjZUxheWVySW5kZXgsci5maWx0ZXIsci5sYXllcnMsci5hdmFpbGFibGVJbWFnZXMsZSk7Zm9yKGNvbnN0IGUgaW4gbyl7Y29uc3QgdD1zW2VdPXNbZV18fFtdLHI9b1tlXTtyLnNvcnQoKChlLHQpPT57Y29uc3Qgbz1pLmZlYXR1cmVTb3J0T3JkZXI7aWYobyl7Y29uc3QgaT1vLmluZGV4T2YoZS5mZWF0dXJlSW5kZXgpO3JldHVybiBvLmluZGV4T2YodC5mZWF0dXJlSW5kZXgpLWl9cmV0dXJuIHQuZmVhdHVyZUluZGV4LWUuZmVhdHVyZUluZGV4fSkpO2Zvcihjb25zdCBlIG9mIHIpdC5wdXNoKGUpO319Zm9yKGNvbnN0IHQgaW4gcylzW3RdLmZvckVhY2goKG89Pntjb25zdCByPW8uZmVhdHVyZSxuPWkoZVt0XSkuZ2V0RmVhdHVyZVN0YXRlKHIubGF5ZXJbXCJzb3VyY2UtbGF5ZXJcIl0sci5pZCk7ci5zb3VyY2U9ci5sYXllci5zb3VyY2Usci5sYXllcltcInNvdXJjZS1sYXllclwiXSYmKHIuc291cmNlTGF5ZXI9ci5sYXllcltcInNvdXJjZS1sYXllclwiXSksci5zdGF0ZT1uO30pKTtyZXR1cm4gc30odGhpcy5fbGF5ZXJzLHRoaXMuX3NlcmlhbGl6ZWRMYXllcnMsdGhpcy5fZ2V0TGF5ZXJTb3VyY2VDYWNoZS5iaW5kKHRoaXMpLHMuc2NyZWVuR2VvbWV0cnksaSx0aGlzLnBsYWNlbWVudC5jb2xsaXNpb25JbmRleCx0aGlzLnBsYWNlbWVudC5yZXRhaW5lZFF1ZXJ5RGF0YSkpLHRoaXMuX2ZsYXR0ZW5BbmRTb3J0UmVuZGVyZWRGZWF0dXJlcyhuKX1xdWVyeVNvdXJjZUZlYXR1cmVzKHQsaSl7aSYmaS5maWx0ZXImJnRoaXMuX3ZhbGlkYXRlKGUudmFsaWRhdGVGaWx0ZXIsXCJxdWVyeVNvdXJjZUZlYXR1cmVzLmZpbHRlclwiLGkuZmlsdGVyLG51bGwsaSk7Y29uc3Qgbz10aGlzLl9nZXRTb3VyY2VDYWNoZXModCk7bGV0IHI9W107Zm9yKGNvbnN0IGUgb2YgbylyPXIuY29uY2F0KE9lKGUsaSkpO3JldHVybiByfWFkZFNvdXJjZVR5cGUoZSx0LGkpe3JldHVybiBlaS5nZXRTb3VyY2VUeXBlKGUpP2kobmV3IEVycm9yKGBBIHNvdXJjZSB0eXBlIGNhbGxlZCBcIiR7ZX1cIiBhbHJlYWR5IGV4aXN0cy5gKSk6KGVpLnNldFNvdXJjZVR5cGUoZSx0KSx0LndvcmtlclNvdXJjZVVSTD92b2lkIHRoaXMuZGlzcGF0Y2hlci5icm9hZGNhc3QoXCJsb2FkV29ya2VyU291cmNlXCIse25hbWU6ZSx1cmw6dC53b3JrZXJTb3VyY2VVUkx9LGkpOmkobnVsbCxudWxsKSl9Z2V0TGlnaHQoKXtyZXR1cm4gdGhpcy5saWdodC5nZXRMaWdodCgpfXNldExpZ2h0KGUsaT17fSl7dGhpcy5fY2hlY2tMb2FkZWQoKTtjb25zdCBvPXRoaXMubGlnaHQuZ2V0TGlnaHQoKTtsZXQgcj0hMTtmb3IoY29uc3QgaSBpbiBlKWlmKCF0KGVbaV0sb1tpXSkpe3I9ITA7YnJlYWt9aWYoIXIpcmV0dXJuO2NvbnN0IG49dGhpcy5fc2V0VHJhbnNpdGlvblBhcmFtZXRlcnMoe2R1cmF0aW9uOjMwMCxkZWxheTowfSk7dGhpcy5saWdodC5zZXRMaWdodChlLGkpLHRoaXMubGlnaHQudXBkYXRlVHJhbnNpdGlvbnMobik7fWdldFRlcnJhaW4oKXtyZXR1cm4gdGhpcy50ZXJyYWluJiYxPT09dGhpcy50ZXJyYWluLmRyYXBlUmVuZGVyTW9kZT90aGlzLnRlcnJhaW4uZ2V0KCk6bnVsbH1zZXRUZXJyYWluRm9yRHJhcGluZygpe3RoaXMuc2V0VGVycmFpbih7c291cmNlOlwiXCIsZXhhZ2dlcmF0aW9uOjB9LDApO31zZXRUZXJyYWluKGksbz0xKXtpZih0aGlzLl9jaGVja0xvYWRlZCgpLCFpKXJldHVybiBkZWxldGUgdGhpcy50ZXJyYWluLGRlbGV0ZSB0aGlzLnN0eWxlc2hlZXQudGVycmFpbix0aGlzLmRpc3BhdGNoZXIuYnJvYWRjYXN0KFwiZW5hYmxlVGVycmFpblwiLCExKSx0aGlzLl9mb3JjZTNETGF5ZXJVcGRhdGUoKSx2b2lkKHRoaXMuX21hcmtlcnNOZWVkVXBkYXRlPSEwKTtpZigxPT09byl7aWYoXCJvYmplY3RcIj09dHlwZW9mIGkuc291cmNlKXtjb25zdCB0PVwidGVycmFpbi1kZW0tc3JjXCI7dGhpcy5hZGRTb3VyY2UodCxpLnNvdXJjZSksaT1lLmNsb25lJDEoaSksaT1lLmV4dGVuZChpLHtzb3VyY2U6dH0pO31pZih0aGlzLl92YWxpZGF0ZShlLnZhbGlkYXRlVGVycmFpbixcInRlcnJhaW5cIixpKSlyZXR1cm59aWYoIXRoaXMudGVycmFpbnx8dGhpcy50ZXJyYWluJiZvIT09dGhpcy50ZXJyYWluLmRyYXBlUmVuZGVyTW9kZSl0aGlzLl9jcmVhdGVUZXJyYWluKGksbyk7ZWxzZSB7Y29uc3Qgbz10aGlzLnRlcnJhaW4scj1vLmdldCgpO2Zvcihjb25zdCB0IG9mIE9iamVjdC5rZXlzKGUuc3BlYy50ZXJyYWluKSkhaS5oYXNPd25Qcm9wZXJ0eSh0KSYmZS5zcGVjLnRlcnJhaW5bdF0uZGVmYXVsdCYmKGlbdF09ZS5zcGVjLnRlcnJhaW5bdF0uZGVmYXVsdCk7Zm9yKGNvbnN0IGUgaW4gaSlpZighdChpW2VdLHJbZV0pKXtvLnNldChpKSx0aGlzLnN0eWxlc2hlZXQudGVycmFpbj1pO2NvbnN0IGU9dGhpcy5fc2V0VHJhbnNpdGlvblBhcmFtZXRlcnMoe2R1cmF0aW9uOjB9KTtvLnVwZGF0ZVRyYW5zaXRpb25zKGUpO2JyZWFrfX10aGlzLl91cGRhdGVEcmFwZUZpcnN0TGF5ZXJzKCksdGhpcy5fbWFya2Vyc05lZWRVcGRhdGU9ITA7fV9jcmVhdGVGb2coZSl7Y29uc3QgdD10aGlzLmZvZz1uZXcgUChlLHRoaXMubWFwLnRyYW5zZm9ybSk7dGhpcy5zdHlsZXNoZWV0LmZvZz1lO2NvbnN0IGk9dGhpcy5fc2V0VHJhbnNpdGlvblBhcmFtZXRlcnMoe2R1cmF0aW9uOjB9KTt0LnVwZGF0ZVRyYW5zaXRpb25zKGkpO31fdXBkYXRlTWFya2Vyc09wYWNpdHkoKXswIT09dGhpcy5tYXAuX21hcmtlcnMubGVuZ3RoJiZ0aGlzLm1hcC5fcmVxdWVzdERvbVRhc2soKCgpPT57Zm9yKGNvbnN0IGUgb2YgdGhpcy5tYXAuX21hcmtlcnMpZS5fZXZhbHVhdGVPcGFjaXR5KCk7fSkpO31nZXRGb2coKXtyZXR1cm4gdGhpcy5mb2c/dGhpcy5mb2cuZ2V0KCk6bnVsbH1zZXRGb2coZSl7aWYodGhpcy5fY2hlY2tMb2FkZWQoKSwhZSlyZXR1cm4gZGVsZXRlIHRoaXMuZm9nLGRlbGV0ZSB0aGlzLnN0eWxlc2hlZXQuZm9nLHZvaWQodGhpcy5fbWFya2Vyc05lZWRVcGRhdGU9ITApO2lmKHRoaXMuZm9nKXtjb25zdCBpPXRoaXMuZm9nLG89aS5nZXQoKTswPT09T2JqZWN0LmtleXMoZSkubGVuZ3RoJiZpLnNldChlKTtmb3IoY29uc3QgciBpbiBlKWlmKCF0KGVbcl0sb1tyXSkpe2kuc2V0KGUpLHRoaXMuc3R5bGVzaGVldC5mb2c9ZTtjb25zdCB0PXRoaXMuX3NldFRyYW5zaXRpb25QYXJhbWV0ZXJzKHtkdXJhdGlvbjowfSk7aS51cGRhdGVUcmFuc2l0aW9ucyh0KTticmVha319ZWxzZSB0aGlzLl9jcmVhdGVGb2coZSk7dGhpcy5fbWFya2Vyc05lZWRVcGRhdGU9ITA7fV9zZXRUcmFuc2l0aW9uUGFyYW1ldGVycyh0KXtyZXR1cm4ge25vdzplLmV4cG9ydGVkLm5vdygpLHRyYW5zaXRpb246ZS5leHRlbmQodCx0aGlzLnN0eWxlc2hlZXQudHJhbnNpdGlvbil9fV91cGRhdGVEcmFwZUZpcnN0TGF5ZXJzKCl7aWYoIXRoaXMubWFwLl9vcHRpbWl6ZUZvclRlcnJhaW58fCF0aGlzLnRlcnJhaW4pcmV0dXJuO2NvbnN0IGU9dGhpcy5fb3JkZXIuZmlsdGVyKChlPT50aGlzLmlzTGF5ZXJEcmFwZWQodGhpcy5fbGF5ZXJzW2VdKSkpLHQ9dGhpcy5fb3JkZXIuZmlsdGVyKChlPT4hdGhpcy5pc0xheWVyRHJhcGVkKHRoaXMuX2xheWVyc1tlXSkpKTt0aGlzLl9kcmFwZWRGaXJzdE9yZGVyPVtdLHRoaXMuX2RyYXBlZEZpcnN0T3JkZXIucHVzaCguLi5lKSx0aGlzLl9kcmFwZWRGaXJzdE9yZGVyLnB1c2goLi4udCk7fV9jcmVhdGVUZXJyYWluKGUsdCl7Y29uc3QgaT10aGlzLnRlcnJhaW49bmV3IEkoZSx0KTt0aGlzLnN0eWxlc2hlZXQudGVycmFpbj1lLHRoaXMuZGlzcGF0Y2hlci5icm9hZGNhc3QoXCJlbmFibGVUZXJyYWluXCIsIXRoaXMudGVycmFpblNldEZvckRyYXBpbmdPbmx5KCkpLHRoaXMuX2ZvcmNlM0RMYXllclVwZGF0ZSgpO2NvbnN0IG89dGhpcy5fc2V0VHJhbnNpdGlvblBhcmFtZXRlcnMoe2R1cmF0aW9uOjB9KTtpLnVwZGF0ZVRyYW5zaXRpb25zKG8pO31fZm9yY2UzRExheWVyVXBkYXRlKCl7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fbGF5ZXJzKXtjb25zdCB0PXRoaXMuX2xheWVyc1tlXTtcImZpbGwtZXh0cnVzaW9uXCI9PT10LnR5cGUmJnRoaXMuX3VwZGF0ZUxheWVyKHQpO319X2ZvcmNlU3ltYm9sTGF5ZXJVcGRhdGUoKXtmb3IoY29uc3QgZSBpbiB0aGlzLl9sYXllcnMpe2NvbnN0IHQ9dGhpcy5fbGF5ZXJzW2VdO1wic3ltYm9sXCI9PT10LnR5cGUmJnRoaXMuX3VwZGF0ZUxheWVyKHQpO319X3ZhbGlkYXRlKHQsaSxvLHIsbj17fSl7cmV0dXJuICghbnx8ITEhPT1uLnZhbGlkYXRlKSYmSHQodGhpcyx0LmNhbGwoZS52YWxpZGF0ZVN0eWxlLGUuZXh0ZW5kKHtrZXk6aSxzdHlsZTp0aGlzLnNlcmlhbGl6ZSgpLHZhbHVlOm8sc3R5bGVTcGVjOmUuc3BlY30scikpKX1fcmVtb3ZlKCl7dGhpcy5fcmVxdWVzdCYmKHRoaXMuX3JlcXVlc3QuY2FuY2VsKCksdGhpcy5fcmVxdWVzdD1udWxsKSx0aGlzLl9zcHJpdGVSZXF1ZXN0JiYodGhpcy5fc3ByaXRlUmVxdWVzdC5jYW5jZWwoKSx0aGlzLl9zcHJpdGVSZXF1ZXN0PW51bGwpLGUuZXZlbnRlZC5vZmYoXCJwbHVnaW5TdGF0ZUNoYW5nZVwiLHRoaXMuX3J0bFRleHRQbHVnaW5DYWxsYmFjayk7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fbGF5ZXJzKXRoaXMuX2xheWVyc1tlXS5zZXRFdmVudGVkUGFyZW50KG51bGwpO2Zvcihjb25zdCBlIGluIHRoaXMuX3NvdXJjZUNhY2hlcyl0aGlzLl9zb3VyY2VDYWNoZXNbZV0uY2xlYXJUaWxlcygpLHRoaXMuX3NvdXJjZUNhY2hlc1tlXS5zZXRFdmVudGVkUGFyZW50KG51bGwpO3RoaXMuaW1hZ2VNYW5hZ2VyLnNldEV2ZW50ZWRQYXJlbnQobnVsbCksdGhpcy5zZXRFdmVudGVkUGFyZW50KG51bGwpLHRoaXMuZGlzcGF0Y2hlci5yZW1vdmUoKTt9X2NsZWFyU291cmNlKGUpe2NvbnN0IHQ9dGhpcy5fZ2V0U291cmNlQ2FjaGVzKGUpO2Zvcihjb25zdCBlIG9mIHQpZS5jbGVhclRpbGVzKCk7fV9yZWxvYWRTb3VyY2UoZSl7Y29uc3QgdD10aGlzLl9nZXRTb3VyY2VDYWNoZXMoZSk7Zm9yKGNvbnN0IGUgb2YgdCllLnJlc3VtZSgpLGUucmVsb2FkKCk7fV91cGRhdGVTb3VyY2VzKGUpe2Zvcihjb25zdCB0IGluIHRoaXMuX3NvdXJjZUNhY2hlcyl0aGlzLl9zb3VyY2VDYWNoZXNbdF0udXBkYXRlKGUpO31fZ2VuZXJhdGVDb2xsaXNpb25Cb3hlcygpe2Zvcihjb25zdCBlIGluIHRoaXMuX3NvdXJjZUNhY2hlcyl7Y29uc3QgdD10aGlzLl9zb3VyY2VDYWNoZXNbZV07dC5yZXN1bWUoKSx0LnJlbG9hZCgpO319X3VwZGF0ZVBsYWNlbWVudCh0LGksbyxyLG49ITEpe2xldCBhPSExLHM9ITE7Y29uc3QgbD17fTtmb3IoY29uc3QgZSBvZiB0aGlzLl9vcmRlcil7Y29uc3QgaT10aGlzLl9sYXllcnNbZV07aWYoXCJzeW1ib2xcIiE9PWkudHlwZSljb250aW51ZTtpZighbFtpLnNvdXJjZV0pe2NvbnN0IGU9dGhpcy5fZ2V0TGF5ZXJTb3VyY2VDYWNoZShpKTtpZighZSljb250aW51ZTtsW2kuc291cmNlXT1lLmdldFJlbmRlcmFibGVJZHMoITApLm1hcCgodD0+ZS5nZXRUaWxlQnlJRCh0KSkpLnNvcnQoKChlLHQpPT50LnRpbGVJRC5vdmVyc2NhbGVkWi1lLnRpbGVJRC5vdmVyc2NhbGVkWnx8KGUudGlsZUlELmlzTGVzc1RoYW4odC50aWxlSUQpPy0xOjEpKSk7fWNvbnN0IG89dGhpcy5jcm9zc1RpbGVTeW1ib2xJbmRleC5hZGRMYXllcihpLGxbaS5zb3VyY2VdLHQuY2VudGVyLmxuZyx0LnByb2plY3Rpb24pO2E9YXx8bzt9aWYodGhpcy5jcm9zc1RpbGVTeW1ib2xJbmRleC5wcnVuZVVudXNlZExheWVycyh0aGlzLl9vcmRlciksbj1ufHx0aGlzLl9sYXllck9yZGVyQ2hhbmdlZHx8MD09PW8sdGhpcy5fbGF5ZXJPcmRlckNoYW5nZWQmJnRoaXMuZmlyZShuZXcgZS5FdmVudChcIm5ld29yZGVyXCIpKSwobnx8IXRoaXMucGF1c2VhYmxlUGxhY2VtZW50fHx0aGlzLnBhdXNlYWJsZVBsYWNlbWVudC5pc0RvbmUoKSYmIXRoaXMucGxhY2VtZW50LnN0aWxsUmVjZW50KGUuZXhwb3J0ZWQubm93KCksdC56b29tKSkmJih0aGlzLnBhdXNlYWJsZVBsYWNlbWVudD1uZXcgWnQodCx0aGlzLl9vcmRlcixuLGksbyxyLHRoaXMucGxhY2VtZW50LHRoaXMuZm9nJiZ0LnByb2plY3Rpb24uc3VwcG9ydHNGb2c/dGhpcy5mb2cuc3RhdGU6bnVsbCksdGhpcy5fbGF5ZXJPcmRlckNoYW5nZWQ9ITEpLHRoaXMucGF1c2VhYmxlUGxhY2VtZW50LmlzRG9uZSgpP3RoaXMucGxhY2VtZW50LnNldFN0YWxlKCk6KHRoaXMucGF1c2VhYmxlUGxhY2VtZW50LmNvbnRpbnVlUGxhY2VtZW50KHRoaXMuX29yZGVyLHRoaXMuX2xheWVycyxsKSx0aGlzLnBhdXNlYWJsZVBsYWNlbWVudC5pc0RvbmUoKSYmKHRoaXMucGxhY2VtZW50PXRoaXMucGF1c2VhYmxlUGxhY2VtZW50LmNvbW1pdChlLmV4cG9ydGVkLm5vdygpKSxzPSEwKSxhJiZ0aGlzLnBhdXNlYWJsZVBsYWNlbWVudC5wbGFjZW1lbnQuc2V0U3RhbGUoKSksc3x8YSlmb3IoY29uc3QgZSBvZiB0aGlzLl9vcmRlcil7Y29uc3QgdD10aGlzLl9sYXllcnNbZV07XCJzeW1ib2xcIj09PXQudHlwZSYmdGhpcy5wbGFjZW1lbnQudXBkYXRlTGF5ZXJPcGFjaXRpZXModCxsW3Quc291cmNlXSk7fXJldHVybiAhdGhpcy5wYXVzZWFibGVQbGFjZW1lbnQuaXNEb25lKCl8fHRoaXMucGxhY2VtZW50Lmhhc1RyYW5zaXRpb25zKGUuZXhwb3J0ZWQubm93KCkpfV9yZWxlYXNlU3ltYm9sRmFkZVRpbGVzKCl7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fc291cmNlQ2FjaGVzKXRoaXMuX3NvdXJjZUNhY2hlc1tlXS5yZWxlYXNlU3ltYm9sRmFkZVRpbGVzKCk7fWdldEltYWdlcyhlLHQsaSl7dGhpcy5pbWFnZU1hbmFnZXIuZ2V0SW1hZ2VzKHQuaWNvbnMsaSksdGhpcy5fdXBkYXRlVGlsZXNGb3JDaGFuZ2VkSW1hZ2VzKCk7Y29uc3Qgbz1lPT57ZSYmZS5zZXREZXBlbmRlbmNpZXModC50aWxlSUQua2V5LHQudHlwZSx0Lmljb25zKTt9O28odGhpcy5fb3RoZXJTb3VyY2VDYWNoZXNbdC5zb3VyY2VdKSxvKHRoaXMuX3N5bWJvbFNvdXJjZUNhY2hlc1t0LnNvdXJjZV0pO31nZXRHbHlwaHMoZSx0LGkpe3RoaXMuZ2x5cGhNYW5hZ2VyLmdldEdseXBocyh0LnN0YWNrcyxpKTt9Z2V0UmVzb3VyY2UodCxpLG8pe3JldHVybiBlLm1ha2VSZXF1ZXN0KGksbyl9X2dldFNvdXJjZUNhY2hlKGUpe3JldHVybiB0aGlzLl9vdGhlclNvdXJjZUNhY2hlc1tlXX1fZ2V0TGF5ZXJTb3VyY2VDYWNoZShlKXtyZXR1cm4gXCJzeW1ib2xcIj09PWUudHlwZT90aGlzLl9zeW1ib2xTb3VyY2VDYWNoZXNbZS5zb3VyY2VdOnRoaXMuX290aGVyU291cmNlQ2FjaGVzW2Uuc291cmNlXX1fZ2V0U291cmNlQ2FjaGVzKGUpe2NvbnN0IHQ9W107cmV0dXJuIHRoaXMuX290aGVyU291cmNlQ2FjaGVzW2VdJiZ0LnB1c2godGhpcy5fb3RoZXJTb3VyY2VDYWNoZXNbZV0pLHRoaXMuX3N5bWJvbFNvdXJjZUNhY2hlc1tlXSYmdC5wdXNoKHRoaXMuX3N5bWJvbFNvdXJjZUNhY2hlc1tlXSksdH1faXNTb3VyY2VDYWNoZUxvYWRlZCh0KXtjb25zdCBpPXRoaXMuX2dldFNvdXJjZUNhY2hlcyh0KTtyZXR1cm4gMD09PWkubGVuZ3RoPyh0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoYFRoZXJlIGlzIG5vIHNvdXJjZSB3aXRoIElEICcke3R9J2ApKSksITEpOmkuZXZlcnkoKGU9PmUubG9hZGVkKCkpKX1oYXMzRExheWVycygpe3JldHVybiB0aGlzLl9udW0zRExheWVycz4wfWhhc1N5bWJvbExheWVycygpe3JldHVybiB0aGlzLl9udW1TeW1ib2xMYXllcnM+MH1oYXNDaXJjbGVMYXllcnMoKXtyZXR1cm4gdGhpcy5fbnVtQ2lyY2xlTGF5ZXJzPjB9X2NsZWFyV29ya2VyQ2FjaGVzKCl7dGhpcy5kaXNwYXRjaGVyLmJyb2FkY2FzdChcImNsZWFyQ2FjaGVzXCIpO31kZXN0cm95KCl7dGhpcy5fY2xlYXJXb3JrZXJDYWNoZXMoKSx0aGlzLnRlcnJhaW5TZXRGb3JEcmFwaW5nT25seSgpJiYoZGVsZXRlIHRoaXMudGVycmFpbixkZWxldGUgdGhpcy5zdHlsZXNoZWV0LnRlcnJhaW4pO319ZWkuZ2V0U291cmNlVHlwZT1mdW5jdGlvbihlKXtyZXR1cm4gUGVbZV19LGVpLnNldFNvdXJjZVR5cGU9ZnVuY3Rpb24oZSx0KXtQZVtlXT10O30sZWkucmVnaXN0ZXJGb3JQbHVnaW5TdGF0ZUNoYW5nZT1lLnJlZ2lzdGVyRm9yUGx1Z2luU3RhdGVDaGFuZ2U7dmFyIHRpPVwiXFxuI2RlZmluZSBFUFNJTE9OIDAuMDAwMDAwMVxcbiNkZWZpbmUgUEkgMy4xNDE1OTI2NTM1ODk3OTNcXG4jZGVmaW5lIEVYVEVOVCA4MTkyLjBcXG4jZGVmaW5lIEhBTEZfUEkgUEkvMi4wXFxuI2RlZmluZSBRVUFSVEVSX1BJIFBJLzQuMFxcbiNkZWZpbmUgUkFEX1RPX0RFRyAxODAuMC9QSVxcbiNkZWZpbmUgREVHX1RPX1JBRCBQSS8xODAuMFxcbiNkZWZpbmUgR0xPQkVfUkFESVVTIEVYVEVOVC9QSS8yLjBcIixpaT1cImF0dHJpYnV0ZSBoaWdocCB2ZWMzIGFfcG9zXzNmO3VuaWZvcm0gbG93cCBtYXQ0IHVfbWF0cml4O3ZhcnlpbmcgaGlnaHAgdmVjMyB2X3V2O3ZvaWQgbWFpbigpIHtjb25zdCBtYXQzIGhhbGZfbmVnX3BpX2Fyb3VuZF94PW1hdDMoMS4wLDAuMCwgMC4wLDAuMCwwLjAsLTEuMCwwLjAsMS4wLCAwLjApO3ZfdXY9aGFsZl9uZWdfcGlfYXJvdW5kX3gqYV9wb3NfM2Y7dmVjNCBwb3M9dV9tYXRyaXgqdmVjNChhX3Bvc18zZiwxLjApO2dsX1Bvc2l0aW9uPXBvcy54eXd3O31cIixvaT1cIlxcbiNkZWZpbmUgRUxFVkFUSU9OX1NDQUxFIDcuMFxcbiNkZWZpbmUgRUxFVkFUSU9OX09GRlNFVCA0NTAuMFxcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG51bmlmb3JtIHZlYzMgdV90aWxlX3RsX3VwO3VuaWZvcm0gdmVjMyB1X3RpbGVfdHJfdXA7dW5pZm9ybSB2ZWMzIHVfdGlsZV9icl91cDt1bmlmb3JtIHZlYzMgdV90aWxlX2JsX3VwO3VuaWZvcm0gZmxvYXQgdV90aWxlX3VwX3NjYWxlO3ZlYzMgZWxldmF0aW9uVmVjdG9yKHZlYzIgcG9zKSB7dmVjMiB1dj1wb3MvRVhURU5UO3ZlYzMgdXA9bm9ybWFsaXplKG1peChcXG5taXgodV90aWxlX3RsX3VwLHVfdGlsZV90cl91cCx1di54eHgpLG1peCh1X3RpbGVfYmxfdXAsdV90aWxlX2JyX3VwLHV2Lnh4eCksdXYueXl5KSk7cmV0dXJuIHVwKnVfdGlsZV91cF9zY2FsZTt9XFxuI2Vsc2VcXG52ZWMzIGVsZXZhdGlvblZlY3Rvcih2ZWMyIHBvcykgeyByZXR1cm4gdmVjMygwLDAsMSk7IH1cXG4jZW5kaWZcXG4jaWZkZWYgVEVSUkFJTlxcbiNpZmRlZiBURVJSQUlOX0RFTV9GTE9BVF9GT1JNQVRcXG51bmlmb3JtIGhpZ2hwIHNhbXBsZXIyRCB1X2RlbTt1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyRCB1X2RlbV9wcmV2O1xcbiNlbHNlXFxudW5pZm9ybSBzYW1wbGVyMkQgdV9kZW07dW5pZm9ybSBzYW1wbGVyMkQgdV9kZW1fcHJldjtcXG4jZW5kaWZcXG51bmlmb3JtIHZlYzQgdV9kZW1fdW5wYWNrO3VuaWZvcm0gdmVjMiB1X2RlbV90bDt1bmlmb3JtIHZlYzIgdV9kZW1fdGxfcHJldjt1bmlmb3JtIGZsb2F0IHVfZGVtX3NjYWxlO3VuaWZvcm0gZmxvYXQgdV9kZW1fc2NhbGVfcHJldjt1bmlmb3JtIGZsb2F0IHVfZGVtX3NpemU7dW5pZm9ybSBmbG9hdCB1X2RlbV9sZXJwO3VuaWZvcm0gZmxvYXQgdV9leGFnZ2VyYXRpb247dW5pZm9ybSBmbG9hdCB1X21ldGVyX3RvX2RlbTt1bmlmb3JtIG1hdDQgdV9sYWJlbF9wbGFuZV9tYXRyaXhfaW52O3VuaWZvcm0gc2FtcGxlcjJEIHVfZGVwdGg7dW5pZm9ybSB2ZWMyIHVfZGVwdGhfc2l6ZV9pbnY7dmVjNCB0aWxlVXZUb0RlbVNhbXBsZSh2ZWMyIHV2LGZsb2F0IGRlbV9zaXplLGZsb2F0IGRlbV9zY2FsZSx2ZWMyIGRlbV90bCkge3ZlYzIgcG9zPWRlbV9zaXplKih1dipkZW1fc2NhbGUrZGVtX3RsKSsxLjA7dmVjMiBmPWZyYWN0KHBvcyk7cmV0dXJuIHZlYzQoKHBvcy1mKzAuNSkvKGRlbV9zaXplKzIuMCksZik7fWZsb2F0IGRlY29kZUVsZXZhdGlvbih2ZWM0IHYpIHtyZXR1cm4gZG90KHZlYzQodi54eXoqMjU1LjAsLTEuMCksdV9kZW1fdW5wYWNrKTt9ZmxvYXQgY3VycmVudEVsZXZhdGlvbih2ZWMyIGFwb3MpIHtcXG4jaWZkZWYgVEVSUkFJTl9ERU1fRkxPQVRfRk9STUFUXFxudmVjMiBwb3M9KHVfZGVtX3NpemUqKGFwb3MvODE5Mi4wKnVfZGVtX3NjYWxlK3VfZGVtX3RsKSsxLjUpLyh1X2RlbV9zaXplKzIuMCk7cmV0dXJuIHVfZXhhZ2dlcmF0aW9uKnRleHR1cmUyRCh1X2RlbSxwb3MpLmE7XFxuI2Vsc2VcXG5mbG9hdCBkZD0xLjAvKHVfZGVtX3NpemUrMi4wKTt2ZWM0IHI9dGlsZVV2VG9EZW1TYW1wbGUoYXBvcy84MTkyLjAsdV9kZW1fc2l6ZSx1X2RlbV9zY2FsZSx1X2RlbV90bCk7dmVjMiBwb3M9ci54eTt2ZWMyIGY9ci56dztmbG9hdCB0bD1kZWNvZGVFbGV2YXRpb24odGV4dHVyZTJEKHVfZGVtLHBvcykpO1xcbiNpZmRlZiBURVJSQUlOX0RFTV9ORUFSRVNUX0ZJTFRFUlxcbnJldHVybiB1X2V4YWdnZXJhdGlvbip0bDtcXG4jZW5kaWZcXG5mbG9hdCB0cj1kZWNvZGVFbGV2YXRpb24odGV4dHVyZTJEKHVfZGVtLHBvcyt2ZWMyKGRkLDAuMCkpKTtmbG9hdCBibD1kZWNvZGVFbGV2YXRpb24odGV4dHVyZTJEKHVfZGVtLHBvcyt2ZWMyKDAuMCxkZCkpKTtmbG9hdCBicj1kZWNvZGVFbGV2YXRpb24odGV4dHVyZTJEKHVfZGVtLHBvcyt2ZWMyKGRkLGRkKSkpO3JldHVybiB1X2V4YWdnZXJhdGlvbiptaXgobWl4KHRsLHRyLGYueCksbWl4KGJsLGJyLGYueCksZi55KTtcXG4jZW5kaWZcXG59ZmxvYXQgcHJldkVsZXZhdGlvbih2ZWMyIGFwb3MpIHtcXG4jaWZkZWYgVEVSUkFJTl9ERU1fRkxPQVRfRk9STUFUXFxudmVjMiBwb3M9KHVfZGVtX3NpemUqKGFwb3MvODE5Mi4wKnVfZGVtX3NjYWxlX3ByZXYrdV9kZW1fdGxfcHJldikrMS41KS8odV9kZW1fc2l6ZSsyLjApO3JldHVybiB1X2V4YWdnZXJhdGlvbip0ZXh0dXJlMkQodV9kZW1fcHJldixwb3MpLmE7XFxuI2Vsc2VcXG5mbG9hdCBkZD0xLjAvKHVfZGVtX3NpemUrMi4wKTt2ZWM0IHI9dGlsZVV2VG9EZW1TYW1wbGUoYXBvcy84MTkyLjAsdV9kZW1fc2l6ZSx1X2RlbV9zY2FsZV9wcmV2LHVfZGVtX3RsX3ByZXYpO3ZlYzIgcG9zPXIueHk7dmVjMiBmPXIuenc7ZmxvYXQgdGw9ZGVjb2RlRWxldmF0aW9uKHRleHR1cmUyRCh1X2RlbV9wcmV2LHBvcykpO2Zsb2F0IHRyPWRlY29kZUVsZXZhdGlvbih0ZXh0dXJlMkQodV9kZW1fcHJldixwb3MrdmVjMihkZCwwLjApKSk7ZmxvYXQgYmw9ZGVjb2RlRWxldmF0aW9uKHRleHR1cmUyRCh1X2RlbV9wcmV2LHBvcyt2ZWMyKDAuMCxkZCkpKTtmbG9hdCBicj1kZWNvZGVFbGV2YXRpb24odGV4dHVyZTJEKHVfZGVtX3ByZXYscG9zK3ZlYzIoZGQsZGQpKSk7cmV0dXJuIHVfZXhhZ2dlcmF0aW9uKm1peChtaXgodGwsdHIsZi54KSxtaXgoYmwsYnIsZi54KSxmLnkpO1xcbiNlbmRpZlxcbn1cXG4jaWZkZWYgVEVSUkFJTl9WRVJURVhfTU9SUEhJTkdcXG5mbG9hdCBlbGV2YXRpb24odmVjMiBhcG9zKSB7ZmxvYXQgbmV4dEVsZXZhdGlvbj1jdXJyZW50RWxldmF0aW9uKGFwb3MpO2Zsb2F0IHByZXZFbGV2YXRpb249cHJldkVsZXZhdGlvbihhcG9zKTtyZXR1cm4gbWl4KHByZXZFbGV2YXRpb24sbmV4dEVsZXZhdGlvbix1X2RlbV9sZXJwKTt9XFxuI2Vsc2VcXG5mbG9hdCBlbGV2YXRpb24odmVjMiBhcG9zKSB7cmV0dXJuIGN1cnJlbnRFbGV2YXRpb24oYXBvcyk7fVxcbiNlbmRpZlxcbmhpZ2hwIGZsb2F0IHVucGFja19kZXB0aChoaWdocCB2ZWM0IHJnYmFfZGVwdGgpXFxue2NvbnN0IGhpZ2hwIHZlYzQgYml0X3NoaWZ0PXZlYzQoMS4wLygyNTUuMCoyNTUuMCoyNTUuMCksMS4wLygyNTUuMCoyNTUuMCksMS4wLzI1NS4wLDEuMCk7cmV0dXJuIGRvdChyZ2JhX2RlcHRoLGJpdF9zaGlmdCkqMi4wLTEuMDt9Ym9vbCBpc09jY2x1ZGVkKHZlYzQgZnJhZykge3ZlYzMgY29vcmQ9ZnJhZy54eXovZnJhZy53O2Zsb2F0IGRlcHRoPXVucGFja19kZXB0aCh0ZXh0dXJlMkQodV9kZXB0aCwoY29vcmQueHkrMS4wKSowLjUpKTtyZXR1cm4gY29vcmQueiA+IGRlcHRoKzAuMDAwNTt9ZmxvYXQgb2NjbHVzaW9uRmFkZSh2ZWM0IGZyYWcpIHt2ZWMzIGNvb3JkPWZyYWcueHl6L2ZyYWcudzt2ZWMzIGRmPXZlYzMoNS4wKnVfZGVwdGhfc2l6ZV9pbnYsMC4wKTt2ZWMyIHV2PTAuNSpjb29yZC54eSswLjU7dmVjNCBkZXB0aD12ZWM0KFxcbnVucGFja19kZXB0aCh0ZXh0dXJlMkQodV9kZXB0aCx1di1kZi54eikpLHVucGFja19kZXB0aCh0ZXh0dXJlMkQodV9kZXB0aCx1ditkZi54eikpLHVucGFja19kZXB0aCh0ZXh0dXJlMkQodV9kZXB0aCx1di1kZi56eSkpLHVucGFja19kZXB0aCh0ZXh0dXJlMkQodV9kZXB0aCx1ditkZi56eSkpXFxuKTtyZXR1cm4gZG90KHZlYzQoMC4yNSksdmVjNCgxLjApLWNsYW1wKDMwMC4wKih2ZWM0KGNvb3JkLnotMC4wMDEpLWRlcHRoKSwwLjAsMS4wKSk7fXZlYzQgZm91clNhbXBsZSh2ZWMyIHBvcyx2ZWMyIG9mZikge1xcbiNpZmRlZiBURVJSQUlOX0RFTV9GTE9BVF9GT1JNQVRcXG5mbG9hdCB0bD10ZXh0dXJlMkQodV9kZW0scG9zKS5hO2Zsb2F0IHRyPXRleHR1cmUyRCh1X2RlbSxwb3MrdmVjMihvZmYueCwwLjApKS5hO2Zsb2F0IGJsPXRleHR1cmUyRCh1X2RlbSxwb3MrdmVjMigwLjAsb2ZmLnkpKS5hO2Zsb2F0IGJyPXRleHR1cmUyRCh1X2RlbSxwb3Mrb2ZmKS5hO1xcbiNlbHNlXFxudmVjNCBkZW10bD12ZWM0KHRleHR1cmUyRCh1X2RlbSxwb3MpLnh5eioyNTUuMCwtMS4wKTtmbG9hdCB0bD1kb3QoZGVtdGwsdV9kZW1fdW5wYWNrKTt2ZWM0IGRlbXRyPXZlYzQodGV4dHVyZTJEKHVfZGVtLHBvcyt2ZWMyKG9mZi54LDAuMCkpLnh5eioyNTUuMCwtMS4wKTtmbG9hdCB0cj1kb3QoZGVtdHIsdV9kZW1fdW5wYWNrKTt2ZWM0IGRlbWJsPXZlYzQodGV4dHVyZTJEKHVfZGVtLHBvcyt2ZWMyKDAuMCxvZmYueSkpLnh5eioyNTUuMCwtMS4wKTtmbG9hdCBibD1kb3QoZGVtYmwsdV9kZW1fdW5wYWNrKTt2ZWM0IGRlbWJyPXZlYzQodGV4dHVyZTJEKHVfZGVtLHBvcytvZmYpLnh5eioyNTUuMCwtMS4wKTtmbG9hdCBicj1kb3QoZGVtYnIsdV9kZW1fdW5wYWNrKTtcXG4jZW5kaWZcXG5yZXR1cm4gdmVjNCh0bCx0cixibCxicik7fWZsb2F0IGZsYXRFbGV2YXRpb24odmVjMiBwYWNrKSB7dmVjMiBhcG9zPWZsb29yKHBhY2svOC4wKTt2ZWMyIHNwYW49MTAuMCoocGFjay1hcG9zKjguMCk7dmVjMiB1dlRleD0oYXBvcy12ZWMyKDEuMCwxLjApKS84MTkwLjA7ZmxvYXQgc2l6ZT11X2RlbV9zaXplKzIuMDtmbG9hdCBkZD0xLjAvc2l6ZTt2ZWMyIHBvcz11X2RlbV9zaXplKih1dlRleCp1X2RlbV9zY2FsZSt1X2RlbV90bCkrMS4wO3ZlYzIgZj1mcmFjdChwb3MpO3Bvcz0ocG9zLWYrMC41KSpkZDt2ZWM0IGg9Zm91clNhbXBsZShwb3MsdmVjMihkZCkpO2Zsb2F0IHo9bWl4KG1peChoLngsaC55LGYueCksbWl4KGgueixoLncsZi54KSxmLnkpO3ZlYzIgdz1mbG9vcigwLjUqKHNwYW4qdV9tZXRlcl90b19kZW0tMS4wKSk7dmVjMiBkPWRkKnc7dmVjNCBib3VuZHM9dmVjNChkLHZlYzIoMS4wKS1kKTtoPWZvdXJTYW1wbGUocG9zLWQsMi4wKmQrdmVjMihkZCkpO3ZlYzQgZGlmZj1hYnMoaC54enh5LWgueXd6dyk7dmVjMiBzbG9wZT1taW4odmVjMigwLjI1KSx1X21ldGVyX3RvX2RlbSowLjUqKGRpZmYueHorZGlmZi55dykvKDIuMCp3K3ZlYzIoMS4wKSkpO3ZlYzIgZml4PXNsb3BlKnNwYW47ZmxvYXQgYmFzZT16K21heChmaXgueCxmaXgueSk7cmV0dXJuIHVfZXhhZ2dlcmF0aW9uKmJhc2U7fWZsb2F0IGVsZXZhdGlvbkZyb21VaW50MTYoZmxvYXQgd29yZCkge3JldHVybiB1X2V4YWdnZXJhdGlvbiood29yZC9FTEVWQVRJT05fU0NBTEUtRUxFVkFUSU9OX09GRlNFVCk7fVxcbiNlbHNlXFxuZmxvYXQgZWxldmF0aW9uKHZlYzIgcG9zKSB7IHJldHVybiAwLjA7IH1ib29sIGlzT2NjbHVkZWQodmVjNCBmcmFnKSB7IHJldHVybiBmYWxzZTsgfWZsb2F0IG9jY2x1c2lvbkZhZGUodmVjNCBmcmFnKSB7IHJldHVybiAxLjA7IH1cXG4jZW5kaWZcIixyaT1cIiNpZmRlZiBGT0dcXG51bmlmb3JtIG1lZGl1bXAgdmVjNCB1X2ZvZ19jb2xvcjt1bmlmb3JtIG1lZGl1bXAgdmVjMiB1X2ZvZ19yYW5nZTt1bmlmb3JtIG1lZGl1bXAgZmxvYXQgdV9mb2dfaG9yaXpvbl9ibGVuZDt1bmlmb3JtIG1lZGl1bXAgbWF0NCB1X2ZvZ19tYXRyaXg7dmFyeWluZyB2ZWMzIHZfZm9nX3BvcztmbG9hdCBmb2dfcmFuZ2UoZmxvYXQgZGVwdGgpIHtyZXR1cm4gKGRlcHRoLXVfZm9nX3JhbmdlWzBdKS8odV9mb2dfcmFuZ2VbMV0tdV9mb2dfcmFuZ2VbMF0pO31mbG9hdCBmb2dfaG9yaXpvbl9ibGVuZGluZyh2ZWMzIGNhbWVyYV9kaXIpIHtmbG9hdCB0PW1heCgwLjAsY2FtZXJhX2Rpci56L3VfZm9nX2hvcml6b25fYmxlbmQpO3JldHVybiB1X2ZvZ19jb2xvci5hKmV4cCgtMy4wKnQqdCk7fWZsb2F0IGZvZ19vcGFjaXR5KGZsb2F0IHQpIHtjb25zdCBmbG9hdCBkZWNheT02LjA7ZmxvYXQgZmFsbG9mZj0xLjAtbWluKDEuMCxleHAoLWRlY2F5KnQpKTtmYWxsb2ZmKj1mYWxsb2ZmKmZhbGxvZmY7cmV0dXJuIHVfZm9nX2NvbG9yLmEqbWluKDEuMCwxLjAwNzQ3KmZhbGxvZmYpO312ZWMzIGZvZ19wb3NpdGlvbih2ZWMzIHBvcykge3JldHVybiAodV9mb2dfbWF0cml4KnZlYzQocG9zLDEuMCkpLnh5ejt9dmVjMyBmb2dfcG9zaXRpb24odmVjMiBwb3MpIHtyZXR1cm4gZm9nX3Bvc2l0aW9uKHZlYzMocG9zLDAuMCkpO31mbG9hdCBmb2codmVjMyBwb3MpIHtmbG9hdCBkZXB0aD1sZW5ndGgocG9zKTtmbG9hdCBvcGFjaXR5PWZvZ19vcGFjaXR5KGZvZ19yYW5nZShkZXB0aCkpO3JldHVybiBvcGFjaXR5KmZvZ19ob3Jpem9uX2JsZW5kaW5nKHBvcy9kZXB0aCk7fVxcbiNlbmRpZlwiLG5pPVwiI2lmZGVmIEZPR1xcbnVuaWZvcm0gbWVkaXVtcCB2ZWM0IHVfZm9nX2NvbG9yO3VuaWZvcm0gbWVkaXVtcCB2ZWMyIHVfZm9nX3JhbmdlO3VuaWZvcm0gbWVkaXVtcCBmbG9hdCB1X2ZvZ19ob3Jpem9uX2JsZW5kO3VuaWZvcm0gbWVkaXVtcCBmbG9hdCB1X2ZvZ190ZW1wb3JhbF9vZmZzZXQ7dmFyeWluZyB2ZWMzIHZfZm9nX3Bvczt1bmlmb3JtIGhpZ2hwIHZlYzMgdV9mcnVzdHVtX3RsO3VuaWZvcm0gaGlnaHAgdmVjMyB1X2ZydXN0dW1fdHI7dW5pZm9ybSBoaWdocCB2ZWMzIHVfZnJ1c3R1bV9icjt1bmlmb3JtIGhpZ2hwIHZlYzMgdV9mcnVzdHVtX2JsO3VuaWZvcm0gaGlnaHAgdmVjMyB1X2dsb2JlX3Bvczt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfZ2xvYmVfcmFkaXVzO3VuaWZvcm0gaGlnaHAgdmVjMiB1X3ZpZXdwb3J0O3VuaWZvcm0gZmxvYXQgdV9nbG9iZV90cmFuc2l0aW9uO3VuaWZvcm0gaW50IHVfaXNfZ2xvYmU7ZmxvYXQgZm9nX3JhbmdlKGZsb2F0IGRlcHRoKSB7cmV0dXJuIChkZXB0aC11X2ZvZ19yYW5nZVswXSkvKHVfZm9nX3JhbmdlWzFdLXVfZm9nX3JhbmdlWzBdKTt9ZmxvYXQgZm9nX2hvcml6b25fYmxlbmRpbmcodmVjMyBjYW1lcmFfZGlyKSB7ZmxvYXQgdD1tYXgoMC4wLGNhbWVyYV9kaXIuei91X2ZvZ19ob3Jpem9uX2JsZW5kKTtyZXR1cm4gdV9mb2dfY29sb3IuYSpleHAoLTMuMCp0KnQpO31mbG9hdCBmb2dfb3BhY2l0eShmbG9hdCB0KSB7Y29uc3QgZmxvYXQgZGVjYXk9Ni4wO2Zsb2F0IGZhbGxvZmY9MS4wLW1pbigxLjAsZXhwKC1kZWNheSp0KSk7ZmFsbG9mZio9ZmFsbG9mZipmYWxsb2ZmO3JldHVybiB1X2ZvZ19jb2xvci5hKm1pbigxLjAsMS4wMDc0NypmYWxsb2ZmKTt9ZmxvYXQgZ2xvYmVfZ2xvd19wcm9ncmVzcygpIHtoaWdocCB2ZWMyIHV2PWdsX0ZyYWdDb29yZC54eS91X3ZpZXdwb3J0O2hpZ2hwIHZlYzMgcmF5X2Rpcj1taXgoXFxubWl4KHVfZnJ1c3R1bV90bCx1X2ZydXN0dW1fdHIsdXYueCksbWl4KHVfZnJ1c3R1bV9ibCx1X2ZydXN0dW1fYnIsdXYueCksMS4wLXV2LnkpO2hpZ2hwIHZlYzMgZGlyPW5vcm1hbGl6ZShyYXlfZGlyKTtoaWdocCB2ZWMzIGNsb3Nlc3RfcG9pbnQ9ZG90KHVfZ2xvYmVfcG9zLGRpcikqZGlyO2hpZ2hwIGZsb2F0IHNkZj1sZW5ndGgoY2xvc2VzdF9wb2ludC11X2dsb2JlX3BvcykvdV9nbG9iZV9yYWRpdXM7cmV0dXJuIHNkZitQSSowLjU7fWZsb2F0IGZvZ19vcGFjaXR5KHZlYzMgcG9zKSB7ZmxvYXQgZGVwdGg9bGVuZ3RoKHBvcyk7cmV0dXJuIGZvZ19vcGFjaXR5KGZvZ19yYW5nZShkZXB0aCkpO312ZWMzIGZvZ19hcHBseSh2ZWMzIGNvbG9yLHZlYzMgcG9zKSB7ZmxvYXQgZGVwdGg9bGVuZ3RoKHBvcyk7ZmxvYXQgb3BhY2l0eTtpZiAodV9pc19nbG9iZT09MSkge2Zsb2F0IGdsb3dfcHJvZ3Jlc3M9Z2xvYmVfZ2xvd19wcm9ncmVzcygpO2Zsb2F0IHQ9bWl4KGdsb3dfcHJvZ3Jlc3MsZGVwdGgsdV9nbG9iZV90cmFuc2l0aW9uKTtvcGFjaXR5PWZvZ19vcGFjaXR5KGZvZ19yYW5nZSh0KSk7fSBlbHNlIHtvcGFjaXR5PWZvZ19vcGFjaXR5KGZvZ19yYW5nZShkZXB0aCkpO29wYWNpdHkqPWZvZ19ob3Jpem9uX2JsZW5kaW5nKHBvcy9kZXB0aCk7fXJldHVybiBtaXgoY29sb3IsdV9mb2dfY29sb3IucmdiLG9wYWNpdHkpO312ZWM0IGZvZ19hcHBseV9mcm9tX3ZlcnQodmVjNCBjb2xvcixmbG9hdCBmb2dfb3BhYykge2Zsb2F0IGFscGhhPUVQU0lMT04rY29sb3IuYTtjb2xvci5yZ2I9bWl4KGNvbG9yLnJnYi9hbHBoYSx1X2ZvZ19jb2xvci5yZ2IsZm9nX29wYWMpKmFscGhhO3JldHVybiBjb2xvcjt9dmVjMyBmb2dfYXBwbHlfc2t5X2dyYWRpZW50KHZlYzMgY2FtZXJhX3JheSx2ZWMzIHNreV9jb2xvcikge2Zsb2F0IGhvcml6b25fYmxlbmQ9Zm9nX2hvcml6b25fYmxlbmRpbmcobm9ybWFsaXplKGNhbWVyYV9yYXkpKTtyZXR1cm4gbWl4KHNreV9jb2xvcix1X2ZvZ19jb2xvci5yZ2IsaG9yaXpvbl9ibGVuZCk7fXZlYzQgZm9nX2FwcGx5X3ByZW11bHRpcGxpZWQodmVjNCBjb2xvcix2ZWMzIHBvcykge2Zsb2F0IGFscGhhPUVQU0lMT04rY29sb3IuYTtjb2xvci5yZ2I9Zm9nX2FwcGx5KGNvbG9yLnJnYi9hbHBoYSxwb3MpKmFscGhhO3JldHVybiBjb2xvcjt9dmVjMyBmb2dfZGl0aGVyKHZlYzMgY29sb3IpIHt2ZWMyIGRpdGhlcl9zZWVkPWdsX0ZyYWdDb29yZC54eSt1X2ZvZ190ZW1wb3JhbF9vZmZzZXQ7cmV0dXJuIGRpdGhlcihjb2xvcixkaXRoZXJfc2VlZCk7fXZlYzQgZm9nX2RpdGhlcih2ZWM0IGNvbG9yKSB7cmV0dXJuIHZlYzQoZm9nX2RpdGhlcihjb2xvci5yZ2IpLGNvbG9yLmEpO31cXG4jZW5kaWZcIjtsZXQgYWk9e30sc2k9e307Y29uc3QgbGk9W107ZGkodGksbGkpLGRpKG9pLGxpKSxkaShyaSxsaSksZGkobmksbGkpLGFpPXBpKFwiXCIsb2kpLHNpPXBpKG5pLHJpKTtjb25zdCBjaT1waShcIlxcbmhpZ2hwIHZlYzMgaGFzaChoaWdocCB2ZWMyIHApIHtoaWdocCB2ZWMzIHAzPWZyYWN0KHAueHl4KnZlYzMoNDQzLjg5NzUsMzk3LjI5NzMsNDkxLjE4NzEpKTtwMys9ZG90KHAzLHAzLnl4eisxOS4xOSk7cmV0dXJuIGZyYWN0KChwMy54eHkrcDMueXp6KSpwMy56eXgpO312ZWMzIGRpdGhlcih2ZWMzIGNvbG9yLGhpZ2hwIHZlYzIgc2VlZCkge3ZlYzMgcm5kPWhhc2goc2VlZCkraGFzaChzZWVkKzAuNTkzNzQpLTAuNTtyZXR1cm4gY29sb3Ircm5kLzI1NS4wO31oaWdocCBmbG9hdCB1bnBhY2tfZGVwdGgoaGlnaHAgdmVjNCByZ2JhX2RlcHRoKVxcbntjb25zdCBoaWdocCB2ZWM0IGJpdF9zaGlmdD12ZWM0KDEuMC8oMjU1LjAqMjU1LjAqMjU1LjApLDEuMC8oMjU1LjAqMjU1LjApLDEuMC8yNTUuMCwxLjApO3JldHVybiBkb3QocmdiYV9kZXB0aCxiaXRfc2hpZnQpKjIuMC0xLjA7fWhpZ2hwIHZlYzQgcGFja19kZXB0aChoaWdocCBmbG9hdCBuZGNfeikge2hpZ2hwIGZsb2F0IGRlcHRoPW5kY196KjAuNSswLjU7Y29uc3QgaGlnaHAgdmVjNCBiaXRfc2hpZnQ9dmVjNCgyNTUuMCoyNTUuMCoyNTUuMCwyNTUuMCoyNTUuMCwyNTUuMCwxLjApO2NvbnN0IGhpZ2hwIHZlYzQgYml0X21hc2sgPXZlYzQoMC4wLDEuMC8yNTUuMCwxLjAvMjU1LjAsMS4wLzI1NS4wKTtoaWdocCB2ZWM0IHJlcz1mcmFjdChkZXB0aCpiaXRfc2hpZnQpO3Jlcy09cmVzLnh4eXoqYml0X21hc2s7cmV0dXJuIHJlczt9XCIsXCJcXG5mbG9hdCB3cmFwKGZsb2F0IG4sZmxvYXQgbWluLGZsb2F0IG1heCkge2Zsb2F0IGQ9bWF4LW1pbjtmbG9hdCB3PW1vZChtb2Qobi1taW4sZCkrZCxkKSttaW47cmV0dXJuICh3PT1taW4pID8gbWF4IDogdzt9XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbnZlYzMgbWVyY2F0b3JfdGlsZV9wb3NpdGlvbihtYXQ0IG1hdHJpeCx2ZWMyIHRpbGVfYW5jaG9yLHZlYzMgdGlsZV9pZCx2ZWMyIG1lcmNhdG9yX2NlbnRlcikge1xcbiNpZm5kZWYgUFJPSkVDVEVEX1BPU19PTl9WSUVXUE9SVFxcbmZsb2F0IHRpbGVzPXRpbGVfaWQuejt2ZWMyIG1lcmNhdG9yPSh0aWxlX2FuY2hvci9FWFRFTlQrdGlsZV9pZC54eSkvdGlsZXM7bWVyY2F0b3ItPW1lcmNhdG9yX2NlbnRlcjttZXJjYXRvci54PXdyYXAobWVyY2F0b3IueCwtMC41LDAuNSk7dmVjNCBtZXJjYXRvcl90aWxlPXZlYzQobWVyY2F0b3IueHkqRVhURU5ULEVYVEVOVC8oMi4wKlBJKSwxLjApO21lcmNhdG9yX3RpbGU9bWF0cml4Km1lcmNhdG9yX3RpbGU7cmV0dXJuIG1lcmNhdG9yX3RpbGUueHl6O1xcbiNlbHNlXFxucmV0dXJuIHZlYzMoMC4wKTtcXG4jZW5kaWZcXG59dmVjMyBtaXhfZ2xvYmVfbWVyY2F0b3IodmVjMyBnbG9iZSx2ZWMzIG1lcmNhdG9yLGZsb2F0IHQpIHtyZXR1cm4gbWl4KGdsb2JlLG1lcmNhdG9yLHQpO31tYXQzIGdsb2JlX21lcmNhdG9yX3N1cmZhY2VfdmVjdG9ycyh2ZWMzIHBvc19ub3JtYWwsdmVjMyB1cF9kaXIsZmxvYXQgem9vbV90cmFuc2l0aW9uKSB7dmVjMyBub3JtYWw9em9vbV90cmFuc2l0aW9uPT0wLjAgPyBwb3Nfbm9ybWFsIDogbm9ybWFsaXplKG1peChwb3Nfbm9ybWFsLHVwX2Rpcix6b29tX3RyYW5zaXRpb24pKTt2ZWMzIHhBeGlzPW5vcm1hbGl6ZSh2ZWMzKG5vcm1hbC56LDAuMCwtbm9ybWFsLngpKTt2ZWMzIHlBeGlzPW5vcm1hbGl6ZShjcm9zcyhub3JtYWwseEF4aXMpKTtyZXR1cm4gbWF0Myh4QXhpcyx5QXhpcyxub3JtYWwpO31cXG4jZW5kaWZcXG52ZWMyIHVucGFja19mbG9hdChjb25zdCBmbG9hdCBwYWNrZWRWYWx1ZSkge2ludCBwYWNrZWRJbnRWYWx1ZT1pbnQocGFja2VkVmFsdWUpO2ludCB2MD1wYWNrZWRJbnRWYWx1ZS8yNTY7cmV0dXJuIHZlYzIodjAscGFja2VkSW50VmFsdWUtdjAqMjU2KTt9dmVjMiB1bnBhY2tfb3BhY2l0eShjb25zdCBmbG9hdCBwYWNrZWRPcGFjaXR5KSB7aW50IGludE9wYWNpdHk9aW50KHBhY2tlZE9wYWNpdHkpLzI7cmV0dXJuIHZlYzIoZmxvYXQoaW50T3BhY2l0eSkvMTI3LjAsbW9kKHBhY2tlZE9wYWNpdHksMi4wKSk7fXZlYzQgZGVjb2RlX2NvbG9yKGNvbnN0IHZlYzIgZW5jb2RlZENvbG9yKSB7cmV0dXJuIHZlYzQoXFxudW5wYWNrX2Zsb2F0KGVuY29kZWRDb2xvclswXSkvMjU1LjAsdW5wYWNrX2Zsb2F0KGVuY29kZWRDb2xvclsxXSkvMjU1LjBcXG4pO31mbG9hdCB1bnBhY2tfbWl4X3ZlYzIoY29uc3QgdmVjMiBwYWNrZWRWYWx1ZSxjb25zdCBmbG9hdCB0KSB7cmV0dXJuIG1peChwYWNrZWRWYWx1ZVswXSxwYWNrZWRWYWx1ZVsxXSx0KTt9dmVjNCB1bnBhY2tfbWl4X2NvbG9yKGNvbnN0IHZlYzQgcGFja2VkQ29sb3JzLGNvbnN0IGZsb2F0IHQpIHt2ZWM0IG1pbkNvbG9yPWRlY29kZV9jb2xvcih2ZWMyKHBhY2tlZENvbG9yc1swXSxwYWNrZWRDb2xvcnNbMV0pKTt2ZWM0IG1heENvbG9yPWRlY29kZV9jb2xvcih2ZWMyKHBhY2tlZENvbG9yc1syXSxwYWNrZWRDb2xvcnNbM10pKTtyZXR1cm4gbWl4KG1pbkNvbG9yLG1heENvbG9yLHQpO312ZWMyIGdldF9wYXR0ZXJuX3Bvcyhjb25zdCB2ZWMyIHBpeGVsX2Nvb3JkX3VwcGVyLGNvbnN0IHZlYzIgcGl4ZWxfY29vcmRfbG93ZXIsY29uc3QgdmVjMiBwYXR0ZXJuX3NpemUsY29uc3QgZmxvYXQgdGlsZV91bml0c190b19waXhlbHMsY29uc3QgdmVjMiBwb3MpIHt2ZWMyIG9mZnNldD1tb2QobW9kKG1vZChwaXhlbF9jb29yZF91cHBlcixwYXR0ZXJuX3NpemUpKjI1Ni4wLHBhdHRlcm5fc2l6ZSkqMjU2LjArcGl4ZWxfY29vcmRfbG93ZXIscGF0dGVybl9zaXplKTtyZXR1cm4gKHRpbGVfdW5pdHNfdG9fcGl4ZWxzKnBvcytvZmZzZXQpL3BhdHRlcm5fc2l6ZTt9Y29uc3QgdmVjNCBBV0FZPXZlYzQoLTEwMDAuMCwtMTAwMC4wLC0xMDAwLjAsMSk7Ly9Ob3JtYWxpemVkIGRldmljZSBjb29yZGluYXRlIHRoYXQgaXMgbm90IHJlbmRlcmVkLlwiKSxoaT10aSx1aT1cIlxcbiNpZmRlZiBHTF9FU1xcbnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xcbiNlbHNlXFxuXFxuI2lmICFkZWZpbmVkKGxvd3ApXFxuI2RlZmluZSBsb3dwXFxuI2VuZGlmXFxuXFxuI2lmICFkZWZpbmVkKG1lZGl1bXApXFxuI2RlZmluZSBtZWRpdW1wXFxuI2VuZGlmXFxuXFxuI2lmICFkZWZpbmVkKGhpZ2hwKVxcbiNkZWZpbmUgaGlnaHBcXG4jZW5kaWZcXG5cXG4jZW5kaWZcIjt2YXIgX2k9e2JhY2tncm91bmQ6cGkoXCJ1bmlmb3JtIHZlYzQgdV9jb2xvcjt1bmlmb3JtIGZsb2F0IHVfb3BhY2l0eTt2b2lkIG1haW4oKSB7dmVjNCBvdXRfY29sb3I9dV9jb2xvcjtcXG4jaWZkZWYgRk9HXFxub3V0X2NvbG9yPWZvZ19kaXRoZXIoZm9nX2FwcGx5X3ByZW11bHRpcGxpZWQob3V0X2NvbG9yLHZfZm9nX3BvcykpO1xcbiNlbmRpZlxcbmdsX0ZyYWdDb2xvcj1vdXRfY29sb3IqdV9vcGFjaXR5O1xcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xcbiNlbmRpZlxcbn1cIixcImF0dHJpYnV0ZSB2ZWMyIGFfcG9zO3VuaWZvcm0gbWF0NCB1X21hdHJpeDt2b2lkIG1haW4oKSB7Z2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChhX3BvcywwLDEpO1xcbiNpZmRlZiBGT0dcXG52X2ZvZ19wb3M9Zm9nX3Bvc2l0aW9uKGFfcG9zKTtcXG4jZW5kaWZcXG59XCIpLGJhY2tncm91bmRQYXR0ZXJuOnBpKFwidW5pZm9ybSB2ZWMyIHVfcGF0dGVybl90bF9hO3VuaWZvcm0gdmVjMiB1X3BhdHRlcm5fYnJfYTt1bmlmb3JtIHZlYzIgdV9wYXR0ZXJuX3RsX2I7dW5pZm9ybSB2ZWMyIHVfcGF0dGVybl9icl9iO3VuaWZvcm0gdmVjMiB1X3RleHNpemU7dW5pZm9ybSBmbG9hdCB1X21peDt1bmlmb3JtIGZsb2F0IHVfb3BhY2l0eTt1bmlmb3JtIHNhbXBsZXIyRCB1X2ltYWdlO3ZhcnlpbmcgdmVjMiB2X3Bvc19hO3ZhcnlpbmcgdmVjMiB2X3Bvc19iO3ZvaWQgbWFpbigpIHt2ZWMyIGltYWdlY29vcmQ9bW9kKHZfcG9zX2EsMS4wKTt2ZWMyIHBvcz1taXgodV9wYXR0ZXJuX3RsX2EvdV90ZXhzaXplLHVfcGF0dGVybl9icl9hL3VfdGV4c2l6ZSxpbWFnZWNvb3JkKTt2ZWM0IGNvbG9yMT10ZXh0dXJlMkQodV9pbWFnZSxwb3MpO3ZlYzIgaW1hZ2Vjb29yZF9iPW1vZCh2X3Bvc19iLDEuMCk7dmVjMiBwb3MyPW1peCh1X3BhdHRlcm5fdGxfYi91X3RleHNpemUsdV9wYXR0ZXJuX2JyX2IvdV90ZXhzaXplLGltYWdlY29vcmRfYik7dmVjNCBjb2xvcjI9dGV4dHVyZTJEKHVfaW1hZ2UscG9zMik7dmVjNCBvdXRfY29sb3I9bWl4KGNvbG9yMSxjb2xvcjIsdV9taXgpO1xcbiNpZmRlZiBGT0dcXG5vdXRfY29sb3I9Zm9nX2RpdGhlcihmb2dfYXBwbHlfcHJlbXVsdGlwbGllZChvdXRfY29sb3Isdl9mb2dfcG9zKSk7XFxuI2VuZGlmXFxuZ2xfRnJhZ0NvbG9yPW91dF9jb2xvcip1X29wYWNpdHk7XFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbmdsX0ZyYWdDb2xvcj12ZWM0KDEuMCk7XFxuI2VuZGlmXFxufVwiLFwidW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gdmVjMiB1X3BhdHRlcm5fc2l6ZV9hO3VuaWZvcm0gdmVjMiB1X3BhdHRlcm5fc2l6ZV9iO3VuaWZvcm0gdmVjMiB1X3BpeGVsX2Nvb3JkX3VwcGVyO3VuaWZvcm0gdmVjMiB1X3BpeGVsX2Nvb3JkX2xvd2VyO3VuaWZvcm0gZmxvYXQgdV9zY2FsZV9hO3VuaWZvcm0gZmxvYXQgdV9zY2FsZV9iO3VuaWZvcm0gZmxvYXQgdV90aWxlX3VuaXRzX3RvX3BpeGVsczthdHRyaWJ1dGUgdmVjMiBhX3Bvczt2YXJ5aW5nIHZlYzIgdl9wb3NfYTt2YXJ5aW5nIHZlYzIgdl9wb3NfYjt2b2lkIG1haW4oKSB7Z2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChhX3BvcywwLDEpO3ZfcG9zX2E9Z2V0X3BhdHRlcm5fcG9zKHVfcGl4ZWxfY29vcmRfdXBwZXIsdV9waXhlbF9jb29yZF9sb3dlcix1X3NjYWxlX2EqdV9wYXR0ZXJuX3NpemVfYSx1X3RpbGVfdW5pdHNfdG9fcGl4ZWxzLGFfcG9zKTt2X3Bvc19iPWdldF9wYXR0ZXJuX3Bvcyh1X3BpeGVsX2Nvb3JkX3VwcGVyLHVfcGl4ZWxfY29vcmRfbG93ZXIsdV9zY2FsZV9iKnVfcGF0dGVybl9zaXplX2IsdV90aWxlX3VuaXRzX3RvX3BpeGVscyxhX3Bvcyk7XFxuI2lmZGVmIEZPR1xcbnZfZm9nX3Bvcz1mb2dfcG9zaXRpb24oYV9wb3MpO1xcbiNlbmRpZlxcbn1cIiksY2lyY2xlOnBpKFwidmFyeWluZyB2ZWMzIHZfZGF0YTt2YXJ5aW5nIGZsb2F0IHZfdmlzaWJpbGl0eTtcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgY29sb3JcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIG1lZGl1bXAgZmxvYXQgcmFkaXVzXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGJsdXJcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBzdHJva2VfY29sb3JcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIG1lZGl1bXAgZmxvYXQgc3Ryb2tlX3dpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IHN0cm9rZV9vcGFjaXR5XFxudm9pZCBtYWluKCkge1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgY29sb3JcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIGZsb2F0IHJhZGl1c1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgYmx1clxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgc3Ryb2tlX2NvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCBmbG9hdCBzdHJva2Vfd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IHN0cm9rZV9vcGFjaXR5XFxudmVjMiBleHRydWRlPXZfZGF0YS54eTtmbG9hdCBleHRydWRlX2xlbmd0aD1sZW5ndGgoZXh0cnVkZSk7bG93cCBmbG9hdCBhbnRpYWxpYXNibHVyPXZfZGF0YS56O2Zsb2F0IGFudGlhbGlhc2VkX2JsdXI9LW1heChibHVyLGFudGlhbGlhc2JsdXIpO2Zsb2F0IG9wYWNpdHlfdD1zbW9vdGhzdGVwKDAuMCxhbnRpYWxpYXNlZF9ibHVyLGV4dHJ1ZGVfbGVuZ3RoLTEuMCk7ZmxvYXQgY29sb3JfdD1zdHJva2Vfd2lkdGggPCAwLjAxID8gMC4wIDogc21vb3Roc3RlcChcXG5hbnRpYWxpYXNlZF9ibHVyLDAuMCxleHRydWRlX2xlbmd0aC1yYWRpdXMvKHJhZGl1cytzdHJva2Vfd2lkdGgpXFxuKTt2ZWM0IG91dF9jb2xvcj1taXgoY29sb3Iqb3BhY2l0eSxzdHJva2VfY29sb3Iqc3Ryb2tlX29wYWNpdHksY29sb3JfdCk7XFxuI2lmZGVmIEZPR1xcbm91dF9jb2xvcj1mb2dfYXBwbHlfcHJlbXVsdGlwbGllZChvdXRfY29sb3Isdl9mb2dfcG9zKTtcXG4jZW5kaWZcXG5nbF9GcmFnQ29sb3I9b3V0X2NvbG9yKih2X3Zpc2liaWxpdHkqb3BhY2l0eV90KTtcXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuZ2xfRnJhZ0NvbG9yPXZlYzQoMS4wKTtcXG4jZW5kaWZcXG59XCIsXCIjZGVmaW5lIE5VTV9WSVNJQklMSVRZX1JJTkdTIDJcXG4jZGVmaW5lIElOVl9TUVJUMiAwLjcwNzEwNjc4XFxuI2RlZmluZSBFTEVWQVRJT05fQklBUyAwLjAwMDFcXG4jZGVmaW5lIE5VTV9TQU1QTEVTX1BFUl9SSU5HIDE2XFxudW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gbWF0MiB1X2V4dHJ1ZGVfc2NhbGU7dW5pZm9ybSBsb3dwIGZsb2F0IHVfZGV2aWNlX3BpeGVsX3JhdGlvO3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlO2F0dHJpYnV0ZSB2ZWMyIGFfcG9zO1xcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG5hdHRyaWJ1dGUgdmVjMyBhX3Bvc18zO2F0dHJpYnV0ZSB2ZWMzIGFfcG9zX25vcm1hbF8zO3VuaWZvcm0gbWF0NCB1X2ludl9yb3RfbWF0cml4O3VuaWZvcm0gdmVjMiB1X21lcmNfY2VudGVyO3VuaWZvcm0gdmVjMyB1X3RpbGVfaWQ7dW5pZm9ybSBmbG9hdCB1X3pvb21fdHJhbnNpdGlvbjt1bmlmb3JtIHZlYzMgdV91cF9kaXI7XFxuI2VuZGlmXFxudmFyeWluZyB2ZWMzIHZfZGF0YTt2YXJ5aW5nIGZsb2F0IHZfdmlzaWJpbGl0eTtcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgY29sb3JcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIG1lZGl1bXAgZmxvYXQgcmFkaXVzXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGJsdXJcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBzdHJva2VfY29sb3JcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIG1lZGl1bXAgZmxvYXQgc3Ryb2tlX3dpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IHN0cm9rZV9vcGFjaXR5XFxudmVjMiBjYWxjX29mZnNldCh2ZWMyIGV4dHJ1c2lvbixmbG9hdCByYWRpdXMsZmxvYXQgc3Ryb2tlX3dpZHRoLCBmbG9hdCB2aWV3X3NjYWxlKSB7cmV0dXJuIGV4dHJ1c2lvbioocmFkaXVzK3N0cm9rZV93aWR0aCkqdV9leHRydWRlX3NjYWxlKnZpZXdfc2NhbGU7fWZsb2F0IGNhbnRpbGV2ZXJlZF9lbGV2YXRpb24odmVjMiBwb3MsZmxvYXQgcmFkaXVzLGZsb2F0IHN0cm9rZV93aWR0aCxmbG9hdCB2aWV3X3NjYWxlKSB7dmVjMiBjMT1wb3MrY2FsY19vZmZzZXQodmVjMigtMSwtMSkscmFkaXVzLHN0cm9rZV93aWR0aCx2aWV3X3NjYWxlKTt2ZWMyIGMyPXBvcytjYWxjX29mZnNldCh2ZWMyKDEsLTEpLHJhZGl1cyxzdHJva2Vfd2lkdGgsdmlld19zY2FsZSk7dmVjMiBjMz1wb3MrY2FsY19vZmZzZXQodmVjMigxLDEpLHJhZGl1cyxzdHJva2Vfd2lkdGgsdmlld19zY2FsZSk7dmVjMiBjND1wb3MrY2FsY19vZmZzZXQodmVjMigtMSwxKSxyYWRpdXMsc3Ryb2tlX3dpZHRoLHZpZXdfc2NhbGUpO2Zsb2F0IGgxPWVsZXZhdGlvbihjMSkrRUxFVkFUSU9OX0JJQVM7ZmxvYXQgaDI9ZWxldmF0aW9uKGMyKStFTEVWQVRJT05fQklBUztmbG9hdCBoMz1lbGV2YXRpb24oYzMpK0VMRVZBVElPTl9CSUFTO2Zsb2F0IGg0PWVsZXZhdGlvbihjNCkrRUxFVkFUSU9OX0JJQVM7cmV0dXJuIG1heChoNCxtYXgoaDMsbWF4KGgxLGgyKSkpO31mbG9hdCBjaXJjbGVfZWxldmF0aW9uKHZlYzIgcG9zKSB7XFxuI2lmIGRlZmluZWQoVEVSUkFJTilcXG5yZXR1cm4gZWxldmF0aW9uKHBvcykrRUxFVkFUSU9OX0JJQVM7XFxuI2Vsc2VcXG5yZXR1cm4gMC4wO1xcbiNlbmRpZlxcbn12ZWM0IHByb2plY3RfdmVydGV4KHZlYzIgZXh0cnVzaW9uLHZlYzQgd29ybGRfY2VudGVyLHZlYzQgcHJvamVjdGVkX2NlbnRlcixmbG9hdCByYWRpdXMsZmxvYXQgc3Ryb2tlX3dpZHRoLCBmbG9hdCB2aWV3X3NjYWxlLG1hdDMgc3VyZmFjZV92ZWN0b3JzKSB7dmVjMiBzYW1wbGVfb2Zmc2V0PWNhbGNfb2Zmc2V0KGV4dHJ1c2lvbixyYWRpdXMsc3Ryb2tlX3dpZHRoLHZpZXdfc2NhbGUpO1xcbiNpZmRlZiBQSVRDSF9XSVRIX01BUFxcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG5yZXR1cm4gdV9tYXRyaXgqKCB3b3JsZF9jZW50ZXIrdmVjNChzYW1wbGVfb2Zmc2V0Lngqc3VyZmFjZV92ZWN0b3JzWzBdK3NhbXBsZV9vZmZzZXQueSpzdXJmYWNlX3ZlY3RvcnNbMV0sMCkgKTtcXG4jZWxzZVxcbnJldHVybiB1X21hdHJpeCooIHdvcmxkX2NlbnRlcit2ZWM0KHNhbXBsZV9vZmZzZXQsMCwwKSApO1xcbiNlbmRpZlxcbiNlbHNlXFxucmV0dXJuIHByb2plY3RlZF9jZW50ZXIrdmVjNChzYW1wbGVfb2Zmc2V0LDAsMCk7XFxuI2VuZGlmXFxufWZsb2F0IGdldF9zYW1wbGVfc3RlcCgpIHtcXG4jaWZkZWYgUElUQ0hfV0lUSF9NQVBcXG5yZXR1cm4gMi4wKlBJL2Zsb2F0KE5VTV9TQU1QTEVTX1BFUl9SSU5HKTtcXG4jZWxzZVxcbnJldHVybiBQSS9mbG9hdChOVU1fU0FNUExFU19QRVJfUklORyk7XFxuI2VuZGlmXFxufXZvaWQgbWFpbih2b2lkKSB7XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgdmVjNCBjb2xvclxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgZmxvYXQgcmFkaXVzXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBibHVyXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgdmVjNCBzdHJva2VfY29sb3JcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIGZsb2F0IHN0cm9rZV93aWR0aFxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgc3Ryb2tlX29wYWNpdHlcXG52ZWMyIGV4dHJ1ZGU9dmVjMihtb2QoYV9wb3MsMi4wKSoyLjAtMS4wKTt2ZWMyIGNpcmNsZV9jZW50ZXI9Zmxvb3IoYV9wb3MqMC41KTtcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxudmVjMyBwb3Nfbm9ybWFsXzM9YV9wb3Nfbm9ybWFsXzMvMTYzODQuMDttYXQzIHN1cmZhY2VfdmVjdG9ycz1nbG9iZV9tZXJjYXRvcl9zdXJmYWNlX3ZlY3RvcnMocG9zX25vcm1hbF8zLHVfdXBfZGlyLHVfem9vbV90cmFuc2l0aW9uKTt2ZWMzIHN1cmZhY2VfZXh0cnVzaW9uPWV4dHJ1ZGUueCpzdXJmYWNlX3ZlY3RvcnNbMF0rZXh0cnVkZS55KnN1cmZhY2VfdmVjdG9yc1sxXTt2ZWMzIGdsb2JlX2VsZXZhdGlvbj1lbGV2YXRpb25WZWN0b3IoY2lyY2xlX2NlbnRlcikqY2lyY2xlX2VsZXZhdGlvbihjaXJjbGVfY2VudGVyKTt2ZWMzIGdsb2JlX3Bvcz1hX3Bvc18zK3N1cmZhY2VfZXh0cnVzaW9uK2dsb2JlX2VsZXZhdGlvbjt2ZWMzIG1lcmNhdG9yX2VsZXZhdGlvbj11X3VwX2Rpcip1X3RpbGVfdXBfc2NhbGUqY2lyY2xlX2VsZXZhdGlvbihjaXJjbGVfY2VudGVyKTt2ZWMzIG1lcmNfcG9zPW1lcmNhdG9yX3RpbGVfcG9zaXRpb24odV9pbnZfcm90X21hdHJpeCxjaXJjbGVfY2VudGVyLHVfdGlsZV9pZCx1X21lcmNfY2VudGVyKStzdXJmYWNlX2V4dHJ1c2lvbittZXJjYXRvcl9lbGV2YXRpb247dmVjMyBwb3M9bWl4X2dsb2JlX21lcmNhdG9yKGdsb2JlX3BvcyxtZXJjX3Bvcyx1X3pvb21fdHJhbnNpdGlvbik7dmVjNCB3b3JsZF9jZW50ZXI9dmVjNChwb3MsMSk7XFxuI2Vsc2UgXFxubWF0MyBzdXJmYWNlX3ZlY3RvcnM9bWF0MygxLjApO2Zsb2F0IGhlaWdodD1jaXJjbGVfZWxldmF0aW9uKGNpcmNsZV9jZW50ZXIpO3ZlYzQgd29ybGRfY2VudGVyPXZlYzQoY2lyY2xlX2NlbnRlcixoZWlnaHQsMSk7XFxuI2VuZGlmXFxudmVjNCBwcm9qZWN0ZWRfY2VudGVyPXVfbWF0cml4KndvcmxkX2NlbnRlcjtmbG9hdCB2aWV3X3NjYWxlPTAuMDtcXG4jaWZkZWYgUElUQ0hfV0lUSF9NQVBcXG4jaWZkZWYgU0NBTEVfV0lUSF9NQVBcXG52aWV3X3NjYWxlPTEuMDtcXG4jZWxzZVxcbnZpZXdfc2NhbGU9cHJvamVjdGVkX2NlbnRlci53L3VfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZTtcXG4jZW5kaWZcXG4jZWxzZVxcbiNpZmRlZiBTQ0FMRV9XSVRIX01BUFxcbnZpZXdfc2NhbGU9dV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlO1xcbiNlbHNlXFxudmlld19zY2FsZT1wcm9qZWN0ZWRfY2VudGVyLnc7XFxuI2VuZGlmXFxuI2VuZGlmXFxuZ2xfUG9zaXRpb249cHJvamVjdF92ZXJ0ZXgoZXh0cnVkZSx3b3JsZF9jZW50ZXIscHJvamVjdGVkX2NlbnRlcixyYWRpdXMsc3Ryb2tlX3dpZHRoLHZpZXdfc2NhbGUsc3VyZmFjZV92ZWN0b3JzKTtmbG9hdCB2aXNpYmlsaXR5PTAuMDtcXG4jaWZkZWYgVEVSUkFJTlxcbmZsb2F0IHN0ZXA9Z2V0X3NhbXBsZV9zdGVwKCk7XFxuI2lmZGVmIFBJVENIX1dJVEhfTUFQXFxuZmxvYXQgY2FudGlsZXZlcmVkX2hlaWdodD1jYW50aWxldmVyZWRfZWxldmF0aW9uKGNpcmNsZV9jZW50ZXIscmFkaXVzLHN0cm9rZV93aWR0aCx2aWV3X3NjYWxlKTt2ZWM0IG9jY2x1c2lvbl93b3JsZF9jZW50ZXI9dmVjNChjaXJjbGVfY2VudGVyLGNhbnRpbGV2ZXJlZF9oZWlnaHQsMSk7dmVjNCBvY2NsdXNpb25fcHJvamVjdGVkX2NlbnRlcj11X21hdHJpeCpvY2NsdXNpb25fd29ybGRfY2VudGVyO1xcbiNlbHNlXFxudmVjNCBvY2NsdXNpb25fd29ybGRfY2VudGVyPXdvcmxkX2NlbnRlcjt2ZWM0IG9jY2x1c2lvbl9wcm9qZWN0ZWRfY2VudGVyPXByb2plY3RlZF9jZW50ZXI7XFxuI2VuZGlmXFxuZm9yKGludCByaW5nPTA7IHJpbmcgPCBOVU1fVklTSUJJTElUWV9SSU5HUzsgcmluZysrKSB7ZmxvYXQgc2NhbGU9KGZsb2F0KHJpbmcpKzEuMCkvZmxvYXQoTlVNX1ZJU0lCSUxJVFlfUklOR1MpO2ZvcihpbnQgaT0wOyBpIDwgTlVNX1NBTVBMRVNfUEVSX1JJTkc7IGkrKykge3ZlYzIgZXh0cnVzaW9uPXZlYzIoY29zKHN0ZXAqZmxvYXQoaSkpLC1zaW4oc3RlcCpmbG9hdChpKSkpKnNjYWxlO3ZlYzQgZnJhZ19wb3M9cHJvamVjdF92ZXJ0ZXgoZXh0cnVzaW9uLG9jY2x1c2lvbl93b3JsZF9jZW50ZXIsb2NjbHVzaW9uX3Byb2plY3RlZF9jZW50ZXIscmFkaXVzLHN0cm9rZV93aWR0aCx2aWV3X3NjYWxlLHN1cmZhY2VfdmVjdG9ycyk7dmlzaWJpbGl0eSs9ZmxvYXQoIWlzT2NjbHVkZWQoZnJhZ19wb3MpKTt9fXZpc2liaWxpdHkvPWZsb2F0KE5VTV9WSVNJQklMSVRZX1JJTkdTKSpmbG9hdChOVU1fU0FNUExFU19QRVJfUklORyk7XFxuI2Vsc2VcXG52aXNpYmlsaXR5PTEuMDtcXG4jZW5kaWZcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxudmlzaWJpbGl0eT0xLjA7XFxuI2VuZGlmXFxudl92aXNpYmlsaXR5PXZpc2liaWxpdHk7bG93cCBmbG9hdCBhbnRpYWxpYXNibHVyPTEuMC91X2RldmljZV9waXhlbF9yYXRpby8ocmFkaXVzK3N0cm9rZV93aWR0aCk7dl9kYXRhPXZlYzMoZXh0cnVkZS54LGV4dHJ1ZGUueSxhbnRpYWxpYXNibHVyKTtcXG4jaWZkZWYgRk9HXFxudl9mb2dfcG9zPWZvZ19wb3NpdGlvbih3b3JsZF9jZW50ZXIueHl6KTtcXG4jZW5kaWZcXG59XCIpLGNsaXBwaW5nTWFzazpwaShcInZvaWQgbWFpbigpIHtnbF9GcmFnQ29sb3I9dmVjNCgxLjApO31cIixcImF0dHJpYnV0ZSB2ZWMyIGFfcG9zO3VuaWZvcm0gbWF0NCB1X21hdHJpeDt2b2lkIG1haW4oKSB7Z2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChhX3BvcywwLDEpO31cIiksaGVhdG1hcDpwaShcInVuaWZvcm0gaGlnaHAgZmxvYXQgdV9pbnRlbnNpdHk7dmFyeWluZyB2ZWMyIHZfZXh0cnVkZTtcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIGZsb2F0IHdlaWdodFxcbiNkZWZpbmUgR0FVU1NfQ09FRiAwLjM5ODk0MjI4MDQwMTQzMjdcXG52b2lkIG1haW4oKSB7XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgZmxvYXQgd2VpZ2h0XFxuZmxvYXQgZD0tMC41KjMuMCozLjAqZG90KHZfZXh0cnVkZSx2X2V4dHJ1ZGUpO2Zsb2F0IHZhbD13ZWlnaHQqdV9pbnRlbnNpdHkqR0FVU1NfQ09FRipleHAoZCk7Z2xfRnJhZ0NvbG9yPXZlYzQodmFsLDEuMCwxLjAsMS4wKTtcXG4jaWZkZWYgRk9HXFxuaWYgKHVfaXNfZ2xvYmU9PTApIHtnbF9GcmFnQ29sb3Iucio9cG93KDEuMC1mb2dfb3BhY2l0eSh2X2ZvZ19wb3MpLDIuMCk7fVxcbiNlbmRpZlxcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xcbiNlbmRpZlxcbn1cIixcInVuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIGZsb2F0IHVfZXh0cnVkZV9zY2FsZTt1bmlmb3JtIGZsb2F0IHVfb3BhY2l0eTt1bmlmb3JtIGZsb2F0IHVfaW50ZW5zaXR5O2F0dHJpYnV0ZSB2ZWMyIGFfcG9zO1xcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG5hdHRyaWJ1dGUgdmVjMyBhX3Bvc18zO2F0dHJpYnV0ZSB2ZWMzIGFfcG9zX25vcm1hbF8zO3VuaWZvcm0gbWF0NCB1X2ludl9yb3RfbWF0cml4O3VuaWZvcm0gdmVjMiB1X21lcmNfY2VudGVyO3VuaWZvcm0gdmVjMyB1X3RpbGVfaWQ7dW5pZm9ybSBmbG9hdCB1X3pvb21fdHJhbnNpdGlvbjt1bmlmb3JtIHZlYzMgdV91cF9kaXI7XFxuI2VuZGlmXFxudmFyeWluZyB2ZWMyIHZfZXh0cnVkZTtcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIGZsb2F0IHdlaWdodFxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbWVkaXVtcCBmbG9hdCByYWRpdXNcXG5jb25zdCBoaWdocCBmbG9hdCBaRVJPPTEuMC8yNTUuMC8xNi4wO1xcbiNkZWZpbmUgR0FVU1NfQ09FRiAwLjM5ODk0MjI4MDQwMTQzMjdcXG52b2lkIG1haW4odm9pZCkge1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIGZsb2F0IHdlaWdodFxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgZmxvYXQgcmFkaXVzXFxudmVjMiB1bnNjYWxlZF9leHRydWRlPXZlYzIobW9kKGFfcG9zLDIuMCkqMi4wLTEuMCk7ZmxvYXQgUz1zcXJ0KC0yLjAqbG9nKFpFUk8vd2VpZ2h0L3VfaW50ZW5zaXR5L0dBVVNTX0NPRUYpKS8zLjA7dl9leHRydWRlPVMqdW5zY2FsZWRfZXh0cnVkZTt2ZWMyIGV4dHJ1ZGU9dl9leHRydWRlKnJhZGl1cyp1X2V4dHJ1ZGVfc2NhbGU7dmVjMiB0aWxlUG9zPWZsb29yKGFfcG9zKjAuNSk7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbnZlYzMgcG9zX25vcm1hbF8zPWFfcG9zX25vcm1hbF8zLzE2Mzg0LjA7bWF0MyBzdXJmYWNlX3ZlY3RvcnM9Z2xvYmVfbWVyY2F0b3Jfc3VyZmFjZV92ZWN0b3JzKHBvc19ub3JtYWxfMyx1X3VwX2Rpcix1X3pvb21fdHJhbnNpdGlvbik7dmVjMyBzdXJmYWNlX2V4dHJ1c2lvbj1leHRydWRlLngqc3VyZmFjZV92ZWN0b3JzWzBdK2V4dHJ1ZGUueSpzdXJmYWNlX3ZlY3RvcnNbMV07dmVjMyBnbG9iZV9lbGV2YXRpb249ZWxldmF0aW9uVmVjdG9yKHRpbGVQb3MpKmVsZXZhdGlvbih0aWxlUG9zKTt2ZWMzIGdsb2JlX3Bvcz1hX3Bvc18zK3N1cmZhY2VfZXh0cnVzaW9uK2dsb2JlX2VsZXZhdGlvbjt2ZWMzIG1lcmNhdG9yX2VsZXZhdGlvbj11X3VwX2Rpcip1X3RpbGVfdXBfc2NhbGUqZWxldmF0aW9uKHRpbGVQb3MpO3ZlYzMgbWVyY19wb3M9bWVyY2F0b3JfdGlsZV9wb3NpdGlvbih1X2ludl9yb3RfbWF0cml4LHRpbGVQb3MsdV90aWxlX2lkLHVfbWVyY19jZW50ZXIpK3N1cmZhY2VfZXh0cnVzaW9uK21lcmNhdG9yX2VsZXZhdGlvbjt2ZWMzIHBvcz1taXhfZ2xvYmVfbWVyY2F0b3IoZ2xvYmVfcG9zLG1lcmNfcG9zLHVfem9vbV90cmFuc2l0aW9uKTtcXG4jZWxzZVxcbnZlYzMgcG9zPXZlYzModGlsZVBvcytleHRydWRlLGVsZXZhdGlvbih0aWxlUG9zKSk7XFxuI2VuZGlmXFxuZ2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChwb3MsMSk7XFxuI2lmZGVmIEZPR1xcbnZfZm9nX3Bvcz1mb2dfcG9zaXRpb24ocG9zKTtcXG4jZW5kaWZcXG59XCIpLGhlYXRtYXBUZXh0dXJlOnBpKFwidW5pZm9ybSBzYW1wbGVyMkQgdV9pbWFnZTt1bmlmb3JtIHNhbXBsZXIyRCB1X2NvbG9yX3JhbXA7dW5pZm9ybSBmbG9hdCB1X29wYWNpdHk7dmFyeWluZyB2ZWMyIHZfcG9zO3ZvaWQgbWFpbigpIHtmbG9hdCB0PXRleHR1cmUyRCh1X2ltYWdlLHZfcG9zKS5yO3ZlYzQgY29sb3I9dGV4dHVyZTJEKHVfY29sb3JfcmFtcCx2ZWMyKHQsMC41KSk7Z2xfRnJhZ0NvbG9yPWNvbG9yKnVfb3BhY2l0eTtcXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuZ2xfRnJhZ0NvbG9yPXZlYzQoMC4wKTtcXG4jZW5kaWZcXG59XCIsXCJhdHRyaWJ1dGUgdmVjMiBhX3Bvczt2YXJ5aW5nIHZlYzIgdl9wb3M7dm9pZCBtYWluKCkge2dsX1Bvc2l0aW9uPXZlYzQoYV9wb3MsMCwxKTt2X3Bvcz1hX3BvcyowLjUrMC41O31cIiksY29sbGlzaW9uQm94OnBpKFwidmFyeWluZyBmbG9hdCB2X3BsYWNlZDt2YXJ5aW5nIGZsb2F0IHZfbm90VXNlZDt2b2lkIG1haW4oKSB7dmVjNCByZWQgPXZlYzQoMS4wLDAuMCwwLjAsMS4wKTt2ZWM0IGJsdWU9dmVjNCgwLjAsMC4wLDEuMCwwLjUpO2dsX0ZyYWdDb2xvciA9bWl4KHJlZCxibHVlLHN0ZXAoMC41LHZfcGxhY2VkKSkqMC41O2dsX0ZyYWdDb2xvcio9bWl4KDEuMCwwLjEsc3RlcCgwLjUsdl9ub3RVc2VkKSk7fVwiLFwiYXR0cmlidXRlIHZlYzMgYV9wb3M7YXR0cmlidXRlIHZlYzIgYV9hbmNob3JfcG9zO2F0dHJpYnV0ZSB2ZWMyIGFfZXh0cnVkZTthdHRyaWJ1dGUgdmVjMiBhX3BsYWNlZDthdHRyaWJ1dGUgdmVjMiBhX3NoaWZ0O2F0dHJpYnV0ZSBmbG9hdCBhX3NpemVfc2NhbGU7YXR0cmlidXRlIHZlYzIgYV9wYWRkaW5nO3VuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIHZlYzIgdV9leHRydWRlX3NjYWxlO3VuaWZvcm0gZmxvYXQgdV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlO3ZhcnlpbmcgZmxvYXQgdl9wbGFjZWQ7dmFyeWluZyBmbG9hdCB2X25vdFVzZWQ7dm9pZCBtYWluKCkge3ZlYzQgcHJvamVjdGVkUG9pbnQ9dV9tYXRyaXgqdmVjNChhX3BvcytlbGV2YXRpb25WZWN0b3IoYV9hbmNob3JfcG9zKSplbGV2YXRpb24oYV9hbmNob3JfcG9zKSwxKTtoaWdocCBmbG9hdCBjYW1lcmFfdG9fYW5jaG9yX2Rpc3RhbmNlPXByb2plY3RlZFBvaW50Lnc7aGlnaHAgZmxvYXQgY29sbGlzaW9uX3BlcnNwZWN0aXZlX3JhdGlvPWNsYW1wKFxcbjAuNSswLjUqKHVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZS9jYW1lcmFfdG9fYW5jaG9yX2Rpc3RhbmNlKSwwLjAsMS41KTtnbF9Qb3NpdGlvbj1wcm9qZWN0ZWRQb2ludDtnbF9Qb3NpdGlvbi54eSs9KGFfZXh0cnVkZSphX3NpemVfc2NhbGUrYV9zaGlmdCthX3BhZGRpbmcpKnVfZXh0cnVkZV9zY2FsZSpnbF9Qb3NpdGlvbi53KmNvbGxpc2lvbl9wZXJzcGVjdGl2ZV9yYXRpbzt2X3BsYWNlZD1hX3BsYWNlZC54O3Zfbm90VXNlZD1hX3BsYWNlZC55O31cIiksY29sbGlzaW9uQ2lyY2xlOnBpKFwidmFyeWluZyBmbG9hdCB2X3JhZGl1czt2YXJ5aW5nIHZlYzIgdl9leHRydWRlO3ZhcnlpbmcgZmxvYXQgdl9wZXJzcGVjdGl2ZV9yYXRpbzt2YXJ5aW5nIGZsb2F0IHZfY29sbGlzaW9uO3ZvaWQgbWFpbigpIHtmbG9hdCBhbHBoYT0wLjUqbWluKHZfcGVyc3BlY3RpdmVfcmF0aW8sMS4wKTtmbG9hdCBzdHJva2VfcmFkaXVzPTAuOSptYXgodl9wZXJzcGVjdGl2ZV9yYXRpbywxLjApO2Zsb2F0IGRpc3RhbmNlX3RvX2NlbnRlcj1sZW5ndGgodl9leHRydWRlKTtmbG9hdCBkaXN0YW5jZV90b19lZGdlPWFicyhkaXN0YW5jZV90b19jZW50ZXItdl9yYWRpdXMpO2Zsb2F0IG9wYWNpdHlfdD1zbW9vdGhzdGVwKC1zdHJva2VfcmFkaXVzLDAuMCwtZGlzdGFuY2VfdG9fZWRnZSk7dmVjNCBjb2xvcj1taXgodmVjNCgwLjAsMC4wLDEuMCwwLjUpLHZlYzQoMS4wLDAuMCwwLjAsMS4wKSx2X2NvbGxpc2lvbik7Z2xfRnJhZ0NvbG9yPWNvbG9yKmFscGhhKm9wYWNpdHlfdDt9XCIsXCJhdHRyaWJ1dGUgdmVjMiBhX3Bvc18yZjthdHRyaWJ1dGUgZmxvYXQgYV9yYWRpdXM7YXR0cmlidXRlIHZlYzIgYV9mbGFnczt1bmlmb3JtIG1hdDQgdV9tYXRyaXg7dW5pZm9ybSBtYXQ0IHVfaW52X21hdHJpeDt1bmlmb3JtIHZlYzIgdV92aWV3cG9ydF9zaXplO3VuaWZvcm0gZmxvYXQgdV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlO3ZhcnlpbmcgZmxvYXQgdl9yYWRpdXM7dmFyeWluZyB2ZWMyIHZfZXh0cnVkZTt2YXJ5aW5nIGZsb2F0IHZfcGVyc3BlY3RpdmVfcmF0aW87dmFyeWluZyBmbG9hdCB2X2NvbGxpc2lvbjt2ZWMzIHRvVGlsZVBvc2l0aW9uKHZlYzIgc2NyZWVuUG9zKSB7dmVjNCByYXlTdGFydD11X2ludl9tYXRyaXgqdmVjNChzY3JlZW5Qb3MsLTEuMCwxLjApO3ZlYzQgcmF5RW5kICA9dV9pbnZfbWF0cml4KnZlYzQoc2NyZWVuUG9zLCAxLjAsMS4wKTtyYXlTdGFydC54eXovPXJheVN0YXJ0Lnc7cmF5RW5kLnh5eiAgLz1yYXlFbmQudztoaWdocCBmbG9hdCB0PSgwLjAtcmF5U3RhcnQueikvKHJheUVuZC56LXJheVN0YXJ0LnopO3JldHVybiBtaXgocmF5U3RhcnQueHl6LHJheUVuZC54eXosdCk7fXZvaWQgbWFpbigpIHt2ZWMyIHF1YWRDZW50ZXJQb3M9YV9wb3NfMmY7ZmxvYXQgcmFkaXVzPWFfcmFkaXVzO2Zsb2F0IGNvbGxpc2lvbj1hX2ZsYWdzLng7ZmxvYXQgdmVydGV4SWR4PWFfZmxhZ3MueTt2ZWMyIHF1YWRWZXJ0ZXhPZmZzZXQ9dmVjMihcXG5taXgoLTEuMCwxLjAsZmxvYXQodmVydGV4SWR4ID49Mi4wKSksbWl4KC0xLjAsMS4wLGZsb2F0KHZlcnRleElkeCA+PTEuMCAmJiB2ZXJ0ZXhJZHggPD0yLjApKSk7dmVjMiBxdWFkVmVydGV4RXh0ZW50PXF1YWRWZXJ0ZXhPZmZzZXQqcmFkaXVzO3ZlYzMgdGlsZVBvcz10b1RpbGVQb3NpdGlvbihxdWFkQ2VudGVyUG9zKTt2ZWM0IGNsaXBQb3M9dV9tYXRyaXgqdmVjNCh0aWxlUG9zLDEuMCk7aGlnaHAgZmxvYXQgY2FtZXJhX3RvX2FuY2hvcl9kaXN0YW5jZT1jbGlwUG9zLnc7aGlnaHAgZmxvYXQgY29sbGlzaW9uX3BlcnNwZWN0aXZlX3JhdGlvPWNsYW1wKFxcbjAuNSswLjUqKHVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZS9jYW1lcmFfdG9fYW5jaG9yX2Rpc3RhbmNlKSwwLjAsNC4wKTtmbG9hdCBwYWRkaW5nX2ZhY3Rvcj0xLjI7dl9yYWRpdXM9cmFkaXVzO3ZfZXh0cnVkZT1xdWFkVmVydGV4RXh0ZW50KnBhZGRpbmdfZmFjdG9yO3ZfcGVyc3BlY3RpdmVfcmF0aW89Y29sbGlzaW9uX3BlcnNwZWN0aXZlX3JhdGlvO3ZfY29sbGlzaW9uPWNvbGxpc2lvbjtnbF9Qb3NpdGlvbj12ZWM0KGNsaXBQb3MueHl6L2NsaXBQb3MudywxLjApK3ZlYzQocXVhZFZlcnRleEV4dGVudCpwYWRkaW5nX2ZhY3Rvci91X3ZpZXdwb3J0X3NpemUqMi4wLDAuMCwwLjApO31cIiksZGVidWc6cGkoXCJ1bmlmb3JtIGhpZ2hwIHZlYzQgdV9jb2xvcjt1bmlmb3JtIHNhbXBsZXIyRCB1X292ZXJsYXk7dmFyeWluZyB2ZWMyIHZfdXY7dm9pZCBtYWluKCkge3ZlYzQgb3ZlcmxheV9jb2xvcj10ZXh0dXJlMkQodV9vdmVybGF5LHZfdXYpO2dsX0ZyYWdDb2xvcj1taXgodV9jb2xvcixvdmVybGF5X2NvbG9yLG92ZXJsYXlfY29sb3IuYSk7fVwiLFwiYXR0cmlidXRlIHZlYzIgYV9wb3M7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbmF0dHJpYnV0ZSB2ZWMzIGFfcG9zXzM7XFxuI2VuZGlmXFxudmFyeWluZyB2ZWMyIHZfdXY7dW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gZmxvYXQgdV9vdmVybGF5X3NjYWxlO3ZvaWQgbWFpbigpIHtmbG9hdCBoPWVsZXZhdGlvbihhX3Bvcyk7dl91dj1hX3Bvcy84MTkyLjA7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbmdsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQoYV9wb3NfMytlbGV2YXRpb25WZWN0b3IoYV9wb3MpKmgsMSk7XFxuI2Vsc2VcXG5nbF9Qb3NpdGlvbj11X21hdHJpeCp2ZWM0KGFfcG9zKnVfb3ZlcmxheV9zY2FsZSxoLDEpO1xcbiNlbmRpZlxcbn1cIiksZmlsbDpwaShcIiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBjb2xvclxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XFxudm9pZCBtYWluKCkge1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgY29sb3JcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG52ZWM0IG91dF9jb2xvcj1jb2xvcjtcXG4jaWZkZWYgRk9HXFxub3V0X2NvbG9yPWZvZ19kaXRoZXIoZm9nX2FwcGx5X3ByZW11bHRpcGxpZWQob3V0X2NvbG9yLHZfZm9nX3BvcykpO1xcbiNlbmRpZlxcbmdsX0ZyYWdDb2xvcj1vdXRfY29sb3Iqb3BhY2l0eTtcXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuZ2xfRnJhZ0NvbG9yPXZlYzQoMS4wKTtcXG4jZW5kaWZcXG59XCIsXCJhdHRyaWJ1dGUgdmVjMiBhX3Bvczt1bmlmb3JtIG1hdDQgdV9tYXRyaXg7XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IGNvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG52b2lkIG1haW4oKSB7XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgdmVjNCBjb2xvclxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxcbmdsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQoYV9wb3MsMCwxKTtcXG4jaWZkZWYgRk9HXFxudl9mb2dfcG9zPWZvZ19wb3NpdGlvbihhX3Bvcyk7XFxuI2VuZGlmXFxufVwiKSxmaWxsT3V0bGluZTpwaShcInZhcnlpbmcgdmVjMiB2X3BvcztcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgb3V0bGluZV9jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XFxudm9pZCBtYWluKCkge1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgb3V0bGluZV9jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxcbmZsb2F0IGRpc3Q9bGVuZ3RoKHZfcG9zLWdsX0ZyYWdDb29yZC54eSk7ZmxvYXQgYWxwaGE9MS4wLXNtb290aHN0ZXAoMC4wLDEuMCxkaXN0KTt2ZWM0IG91dF9jb2xvcj1vdXRsaW5lX2NvbG9yO1xcbiNpZmRlZiBGT0dcXG5vdXRfY29sb3I9Zm9nX2RpdGhlcihmb2dfYXBwbHlfcHJlbXVsdGlwbGllZChvdXRfY29sb3Isdl9mb2dfcG9zKSk7XFxuI2VuZGlmXFxuZ2xfRnJhZ0NvbG9yPW91dF9jb2xvciooYWxwaGEqb3BhY2l0eSk7XFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbmdsX0ZyYWdDb2xvcj12ZWM0KDEuMCk7XFxuI2VuZGlmXFxufVwiLFwiYXR0cmlidXRlIHZlYzIgYV9wb3M7dW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gdmVjMiB1X3dvcmxkO3ZhcnlpbmcgdmVjMiB2X3BvcztcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgb3V0bGluZV9jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XFxudm9pZCBtYWluKCkge1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgb3V0bGluZV9jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxcbmdsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQoYV9wb3MsMCwxKTt2X3Bvcz0oZ2xfUG9zaXRpb24ueHkvZ2xfUG9zaXRpb24udysxLjApLzIuMCp1X3dvcmxkO1xcbiNpZmRlZiBGT0dcXG52X2ZvZ19wb3M9Zm9nX3Bvc2l0aW9uKGFfcG9zKTtcXG4jZW5kaWZcXG59XCIpLGZpbGxPdXRsaW5lUGF0dGVybjpwaShcInVuaWZvcm0gdmVjMiB1X3RleHNpemU7dW5pZm9ybSBzYW1wbGVyMkQgdV9pbWFnZTt1bmlmb3JtIGZsb2F0IHVfZmFkZTt2YXJ5aW5nIHZlYzIgdl9wb3NfYTt2YXJ5aW5nIHZlYzIgdl9wb3NfYjt2YXJ5aW5nIHZlYzIgdl9wb3M7XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgdmVjNCBwYXR0ZXJuX2Zyb21cXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgdmVjNCBwYXR0ZXJuX3RvXFxudm9pZCBtYWluKCkge1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgdmVjNCBwYXR0ZXJuX2Zyb21cXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIHZlYzQgcGF0dGVybl90b1xcbnZlYzIgcGF0dGVybl90bF9hPXBhdHRlcm5fZnJvbS54eTt2ZWMyIHBhdHRlcm5fYnJfYT1wYXR0ZXJuX2Zyb20uenc7dmVjMiBwYXR0ZXJuX3RsX2I9cGF0dGVybl90by54eTt2ZWMyIHBhdHRlcm5fYnJfYj1wYXR0ZXJuX3RvLnp3O3ZlYzIgaW1hZ2Vjb29yZD1tb2Qodl9wb3NfYSwxLjApO3ZlYzIgcG9zPW1peChwYXR0ZXJuX3RsX2EvdV90ZXhzaXplLHBhdHRlcm5fYnJfYS91X3RleHNpemUsaW1hZ2Vjb29yZCk7dmVjNCBjb2xvcjE9dGV4dHVyZTJEKHVfaW1hZ2UscG9zKTt2ZWMyIGltYWdlY29vcmRfYj1tb2Qodl9wb3NfYiwxLjApO3ZlYzIgcG9zMj1taXgocGF0dGVybl90bF9iL3VfdGV4c2l6ZSxwYXR0ZXJuX2JyX2IvdV90ZXhzaXplLGltYWdlY29vcmRfYik7dmVjNCBjb2xvcjI9dGV4dHVyZTJEKHVfaW1hZ2UscG9zMik7ZmxvYXQgZGlzdD1sZW5ndGgodl9wb3MtZ2xfRnJhZ0Nvb3JkLnh5KTtmbG9hdCBhbHBoYT0xLjAtc21vb3Roc3RlcCgwLjAsMS4wLGRpc3QpO3ZlYzQgb3V0X2NvbG9yPW1peChjb2xvcjEsY29sb3IyLHVfZmFkZSk7XFxuI2lmZGVmIEZPR1xcbm91dF9jb2xvcj1mb2dfZGl0aGVyKGZvZ19hcHBseV9wcmVtdWx0aXBsaWVkKG91dF9jb2xvcix2X2ZvZ19wb3MpKTtcXG4jZW5kaWZcXG5nbF9GcmFnQ29sb3I9b3V0X2NvbG9yKihhbHBoYSpvcGFjaXR5KTtcXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuZ2xfRnJhZ0NvbG9yPXZlYzQoMS4wKTtcXG4jZW5kaWZcXG59XCIsXCJ1bmlmb3JtIG1hdDQgdV9tYXRyaXg7dW5pZm9ybSB2ZWMyIHVfd29ybGQ7dW5pZm9ybSB2ZWMyIHVfcGl4ZWxfY29vcmRfdXBwZXI7dW5pZm9ybSB2ZWMyIHVfcGl4ZWxfY29vcmRfbG93ZXI7dW5pZm9ybSB2ZWMzIHVfc2NhbGU7YXR0cmlidXRlIHZlYzIgYV9wb3M7dmFyeWluZyB2ZWMyIHZfcG9zX2E7dmFyeWluZyB2ZWMyIHZfcG9zX2I7dmFyeWluZyB2ZWMyIHZfcG9zO1xcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIHZlYzQgcGF0dGVybl9mcm9tXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIHZlYzQgcGF0dGVybl90b1xcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBwaXhlbF9yYXRpb19mcm9tXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IHBpeGVsX3JhdGlvX3RvXFxudm9pZCBtYWluKCkge1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgdmVjNCBwYXR0ZXJuX2Zyb21cXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIHZlYzQgcGF0dGVybl90b1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgcGl4ZWxfcmF0aW9fZnJvbVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgcGl4ZWxfcmF0aW9fdG9cXG52ZWMyIHBhdHRlcm5fdGxfYT1wYXR0ZXJuX2Zyb20ueHk7dmVjMiBwYXR0ZXJuX2JyX2E9cGF0dGVybl9mcm9tLnp3O3ZlYzIgcGF0dGVybl90bF9iPXBhdHRlcm5fdG8ueHk7dmVjMiBwYXR0ZXJuX2JyX2I9cGF0dGVybl90by56dztmbG9hdCB0aWxlUmF0aW89dV9zY2FsZS54O2Zsb2F0IGZyb21TY2FsZT11X3NjYWxlLnk7ZmxvYXQgdG9TY2FsZT11X3NjYWxlLno7Z2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChhX3BvcywwLDEpO3ZlYzIgZGlzcGxheV9zaXplX2E9KHBhdHRlcm5fYnJfYS1wYXR0ZXJuX3RsX2EpL3BpeGVsX3JhdGlvX2Zyb207dmVjMiBkaXNwbGF5X3NpemVfYj0ocGF0dGVybl9icl9iLXBhdHRlcm5fdGxfYikvcGl4ZWxfcmF0aW9fdG87dl9wb3NfYT1nZXRfcGF0dGVybl9wb3ModV9waXhlbF9jb29yZF91cHBlcix1X3BpeGVsX2Nvb3JkX2xvd2VyLGZyb21TY2FsZSpkaXNwbGF5X3NpemVfYSx0aWxlUmF0aW8sYV9wb3MpO3ZfcG9zX2I9Z2V0X3BhdHRlcm5fcG9zKHVfcGl4ZWxfY29vcmRfdXBwZXIsdV9waXhlbF9jb29yZF9sb3dlcix0b1NjYWxlKmRpc3BsYXlfc2l6ZV9iLHRpbGVSYXRpbyxhX3Bvcyk7dl9wb3M9KGdsX1Bvc2l0aW9uLnh5L2dsX1Bvc2l0aW9uLncrMS4wKS8yLjAqdV93b3JsZDtcXG4jaWZkZWYgRk9HXFxudl9mb2dfcG9zPWZvZ19wb3NpdGlvbihhX3Bvcyk7XFxuI2VuZGlmXFxufVwiKSxmaWxsUGF0dGVybjpwaShcInVuaWZvcm0gdmVjMiB1X3RleHNpemU7dW5pZm9ybSBmbG9hdCB1X2ZhZGU7dW5pZm9ybSBzYW1wbGVyMkQgdV9pbWFnZTt2YXJ5aW5nIHZlYzIgdl9wb3NfYTt2YXJ5aW5nIHZlYzIgdl9wb3NfYjtcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCB2ZWM0IHBhdHRlcm5fZnJvbVxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCB2ZWM0IHBhdHRlcm5fdG9cXG52b2lkIG1haW4oKSB7XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCB2ZWM0IHBhdHRlcm5fZnJvbVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgdmVjNCBwYXR0ZXJuX3RvXFxudmVjMiBwYXR0ZXJuX3RsX2E9cGF0dGVybl9mcm9tLnh5O3ZlYzIgcGF0dGVybl9icl9hPXBhdHRlcm5fZnJvbS56dzt2ZWMyIHBhdHRlcm5fdGxfYj1wYXR0ZXJuX3RvLnh5O3ZlYzIgcGF0dGVybl9icl9iPXBhdHRlcm5fdG8uenc7dmVjMiBpbWFnZWNvb3JkPW1vZCh2X3Bvc19hLDEuMCk7dmVjMiBwb3M9bWl4KHBhdHRlcm5fdGxfYS91X3RleHNpemUscGF0dGVybl9icl9hL3VfdGV4c2l6ZSxpbWFnZWNvb3JkKTt2ZWM0IGNvbG9yMT10ZXh0dXJlMkQodV9pbWFnZSxwb3MpO3ZlYzIgaW1hZ2Vjb29yZF9iPW1vZCh2X3Bvc19iLDEuMCk7dmVjMiBwb3MyPW1peChwYXR0ZXJuX3RsX2IvdV90ZXhzaXplLHBhdHRlcm5fYnJfYi91X3RleHNpemUsaW1hZ2Vjb29yZF9iKTt2ZWM0IGNvbG9yMj10ZXh0dXJlMkQodV9pbWFnZSxwb3MyKTt2ZWM0IG91dF9jb2xvcj1taXgoY29sb3IxLGNvbG9yMix1X2ZhZGUpO1xcbiNpZmRlZiBGT0dcXG5vdXRfY29sb3I9Zm9nX2RpdGhlcihmb2dfYXBwbHlfcHJlbXVsdGlwbGllZChvdXRfY29sb3Isdl9mb2dfcG9zKSk7XFxuI2VuZGlmXFxuZ2xfRnJhZ0NvbG9yPW91dF9jb2xvcipvcGFjaXR5O1xcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xcbiNlbmRpZlxcbn1cIixcInVuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIHZlYzIgdV9waXhlbF9jb29yZF91cHBlcjt1bmlmb3JtIHZlYzIgdV9waXhlbF9jb29yZF9sb3dlcjt1bmlmb3JtIHZlYzMgdV9zY2FsZTthdHRyaWJ1dGUgdmVjMiBhX3Bvczt2YXJ5aW5nIHZlYzIgdl9wb3NfYTt2YXJ5aW5nIHZlYzIgdl9wb3NfYjtcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCB2ZWM0IHBhdHRlcm5fZnJvbVxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCB2ZWM0IHBhdHRlcm5fdG9cXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgcGl4ZWxfcmF0aW9fZnJvbVxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBwaXhlbF9yYXRpb190b1xcbnZvaWQgbWFpbigpIHtcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIHZlYzQgcGF0dGVybl9mcm9tXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCB2ZWM0IHBhdHRlcm5fdG9cXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IHBpeGVsX3JhdGlvX2Zyb21cXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IHBpeGVsX3JhdGlvX3RvXFxudmVjMiBwYXR0ZXJuX3RsX2E9cGF0dGVybl9mcm9tLnh5O3ZlYzIgcGF0dGVybl9icl9hPXBhdHRlcm5fZnJvbS56dzt2ZWMyIHBhdHRlcm5fdGxfYj1wYXR0ZXJuX3RvLnh5O3ZlYzIgcGF0dGVybl9icl9iPXBhdHRlcm5fdG8uenc7ZmxvYXQgdGlsZVpvb21SYXRpbz11X3NjYWxlLng7ZmxvYXQgZnJvbVNjYWxlPXVfc2NhbGUueTtmbG9hdCB0b1NjYWxlPXVfc2NhbGUuejt2ZWMyIGRpc3BsYXlfc2l6ZV9hPShwYXR0ZXJuX2JyX2EtcGF0dGVybl90bF9hKS9waXhlbF9yYXRpb19mcm9tO3ZlYzIgZGlzcGxheV9zaXplX2I9KHBhdHRlcm5fYnJfYi1wYXR0ZXJuX3RsX2IpL3BpeGVsX3JhdGlvX3RvO2dsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQoYV9wb3MsMCwxKTt2X3Bvc19hPWdldF9wYXR0ZXJuX3Bvcyh1X3BpeGVsX2Nvb3JkX3VwcGVyLHVfcGl4ZWxfY29vcmRfbG93ZXIsZnJvbVNjYWxlKmRpc3BsYXlfc2l6ZV9hLHRpbGVab29tUmF0aW8sYV9wb3MpO3ZfcG9zX2I9Z2V0X3BhdHRlcm5fcG9zKHVfcGl4ZWxfY29vcmRfdXBwZXIsdV9waXhlbF9jb29yZF9sb3dlcix0b1NjYWxlKmRpc3BsYXlfc2l6ZV9iLHRpbGVab29tUmF0aW8sYV9wb3MpO1xcbiNpZmRlZiBGT0dcXG52X2ZvZ19wb3M9Zm9nX3Bvc2l0aW9uKGFfcG9zKTtcXG4jZW5kaWZcXG59XCIpLGZpbGxFeHRydXNpb246cGkoXCJ1bmlmb3JtIGxvd3AgdmVjMyB1X2xpZ2h0cG9zO3ZhcnlpbmcgdmVjNCB2X2NvbG9yO1xcbiNpZmRlZiBSRU5ERVJfU0hBRE9XU1xcbnZhcnlpbmcgaGlnaHAgdmVjNCB2X3Bvc19saWdodF92aWV3XzA7dmFyeWluZyBoaWdocCB2ZWM0IHZfcG9zX2xpZ2h0X3ZpZXdfMTt2YXJ5aW5nIGZsb2F0IHZfZGVwdGg7dmFyeWluZyBoaWdocCB2ZWMzIHZfbm9ybWFsO1xcbiNlbmRpZlxcbiNpZmRlZiBGQVVYX0FPXFxudW5pZm9ybSBsb3dwIHZlYzIgdV9hbzt2YXJ5aW5nIHZlYzMgdl9hbztcXG4jZW5kaWZcXG52b2lkIG1haW4oKSB7dmVjNCBjb2xvcj12X2NvbG9yO1xcbiNpZmRlZiBGQVVYX0FPXFxuZmxvYXQgaW50ZW5zaXR5PXVfYW9bMF07ZmxvYXQgaD1tYXgoMC4wLHZfYW8ueik7ZmxvYXQgaF9mbG9vcnM9aC91X2FvWzFdO2Zsb2F0IHlfc2hhZGU9MS4wLTAuOSppbnRlbnNpdHkqbWluKHZfYW8ueSwxLjApO2Zsb2F0IHNoYWRlPSgxLjAtMC4wOCppbnRlbnNpdHkpKih5X3NoYWRlKygxLjAteV9zaGFkZSkqKDEuMC1wb3coMS4wLW1pbihoX2Zsb29ycy8xNi4wLDEuMCksMTYuMCkpKSswLjA4KmludGVuc2l0eSptaW4oaF9mbG9vcnMvMTYwLjAsMS4wKTtmbG9hdCBjb25jYXZlPXZfYW8ueCp2X2FvLng7ZmxvYXQgeF9zaGFkZT1taXgoMS4wLG1peCgwLjYsMC43NSxtaW4oaF9mbG9vcnMvMzAuMCwxLjApKSxpbnRlbnNpdHkpKzAuMSppbnRlbnNpdHkqbWluKGgsMS4wKTtzaGFkZSo9bWl4KDEuMCx4X3NoYWRlKnhfc2hhZGUqeF9zaGFkZSxjb25jYXZlKTtjb2xvci5yZ2I9Y29sb3IucmdiKnNoYWRlO1xcbiNlbmRpZlxcbiNpZmRlZiBSRU5ERVJfU0hBRE9XU1xcbmNvbG9yLnh5ej1zaGFkb3dlZF9jb2xvcl9ub3JtYWwoY29sb3IueHl6LG5vcm1hbGl6ZSh2X25vcm1hbCksdl9wb3NfbGlnaHRfdmlld18wLHZfcG9zX2xpZ2h0X3ZpZXdfMSx2X2RlcHRoKTtcXG4jZW5kaWZcXG4jaWZkZWYgRk9HXFxuY29sb3I9Zm9nX2RpdGhlcihmb2dfYXBwbHlfcHJlbXVsdGlwbGllZChjb2xvcix2X2ZvZ19wb3MpKTtcXG4jZW5kaWZcXG5nbF9GcmFnQ29sb3I9Y29sb3I7XFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbmdsX0ZyYWdDb2xvcj12ZWM0KDEuMCk7XFxuI2VuZGlmXFxufVwiLFwidW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gdmVjMyB1X2xpZ2h0Y29sb3I7dW5pZm9ybSBsb3dwIHZlYzMgdV9saWdodHBvczt1bmlmb3JtIGxvd3AgZmxvYXQgdV9saWdodGludGVuc2l0eTt1bmlmb3JtIGZsb2F0IHVfdmVydGljYWxfZ3JhZGllbnQ7dW5pZm9ybSBsb3dwIGZsb2F0IHVfb3BhY2l0eTt1bmlmb3JtIGZsb2F0IHVfZWRnZV9yYWRpdXM7YXR0cmlidXRlIHZlYzQgYV9wb3Nfbm9ybWFsX2VkO2F0dHJpYnV0ZSB2ZWMyIGFfY2VudHJvaWRfcG9zO1xcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG5hdHRyaWJ1dGUgdmVjMyBhX3Bvc18zO2F0dHJpYnV0ZSB2ZWMzIGFfcG9zX25vcm1hbF8zO3VuaWZvcm0gbWF0NCB1X2ludl9yb3RfbWF0cml4O3VuaWZvcm0gdmVjMiB1X21lcmNfY2VudGVyO3VuaWZvcm0gdmVjMyB1X3RpbGVfaWQ7dW5pZm9ybSBmbG9hdCB1X3pvb21fdHJhbnNpdGlvbjt1bmlmb3JtIHZlYzMgdV91cF9kaXI7dW5pZm9ybSBmbG9hdCB1X2hlaWdodF9saWZ0O1xcbiNlbmRpZlxcbnZhcnlpbmcgdmVjNCB2X2NvbG9yO1xcbiNpZmRlZiBSRU5ERVJfU0hBRE9XU1xcbnVuaWZvcm0gbWF0NCB1X2xpZ2h0X21hdHJpeF8wO3VuaWZvcm0gbWF0NCB1X2xpZ2h0X21hdHJpeF8xO3ZhcnlpbmcgaGlnaHAgdmVjNCB2X3Bvc19saWdodF92aWV3XzA7dmFyeWluZyBoaWdocCB2ZWM0IHZfcG9zX2xpZ2h0X3ZpZXdfMTt2YXJ5aW5nIGhpZ2hwIHZlYzMgdl9ub3JtYWw7dmFyeWluZyBmbG9hdCB2X2RlcHRoO1xcbiNlbmRpZlxcbiNpZmRlZiBGQVVYX0FPXFxudW5pZm9ybSBsb3dwIHZlYzIgdV9hbzt2YXJ5aW5nIHZlYzMgdl9hbztcXG4jZW5kaWZcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIGZsb2F0IGJhc2VcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIGZsb2F0IGhlaWdodFxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBjb2xvclxcbnZvaWQgbWFpbigpIHtcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCBmbG9hdCBiYXNlXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgZmxvYXQgaGVpZ2h0XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgdmVjNCBjb2xvclxcbnZlYzQgcG9zX254PWZsb29yKGFfcG9zX25vcm1hbF9lZCowLjUpO3ZlYzQgdG9wX3VwX255X3N0YXJ0PWFfcG9zX25vcm1hbF9lZC0yLjAqcG9zX254O3ZlYzMgdG9wX3VwX255PXRvcF91cF9ueV9zdGFydC54eXo7ZmxvYXQgeF9ub3JtYWw9cG9zX254LnovODE5Mi4wO3ZlYzMgbm9ybWFsPXRvcF91cF9ueS55PT0xLjAgPyB2ZWMzKDAuMCwwLjAsMS4wKSA6IG5vcm1hbGl6ZSh2ZWMzKHhfbm9ybWFsLCgyLjAqdG9wX3VwX255LnotMS4wKSooMS4wLWFicyh4X25vcm1hbCkpLDAuMCkpO2Jhc2U9bWF4KDAuMCxiYXNlKTtoZWlnaHQ9bWF4KDAuMCx0b3BfdXBfbnkueT09MC4wICYmIHRvcF91cF9ueS54PT0xLjAgPyBoZWlnaHQtdV9lZGdlX3JhZGl1cyA6IGhlaWdodCk7ZmxvYXQgdD10b3BfdXBfbnkueDt2ZWMyIGNlbnRyb2lkX3Bvcz12ZWMyKDAuMCk7XFxuI2lmIGRlZmluZWQoSEFTX0NFTlRST0lEKSB8fCBkZWZpbmVkKFRFUlJBSU4pXFxuY2VudHJvaWRfcG9zPWFfY2VudHJvaWRfcG9zO1xcbiNlbmRpZlxcbmZsb2F0IGVsZT0wLjA7ZmxvYXQgaD0wLjA7XFxuI2lmZGVmIFRFUlJBSU5cXG5ib29sIGZsYXRfcm9vZj1jZW50cm9pZF9wb3MueCAhPTAuMCAmJiB0ID4gMC4wO2VsZT1lbGV2YXRpb24ocG9zX254Lnh5KTtmbG9hdCBjX2VsZT1mbGF0X3Jvb2YgPyBjZW50cm9pZF9wb3MueT09MC4wID8gZWxldmF0aW9uRnJvbVVpbnQxNihjZW50cm9pZF9wb3MueCkgOiBmbGF0RWxldmF0aW9uKGNlbnRyb2lkX3BvcykgOiBlbGU7aD1mbGF0X3Jvb2YgPyBtYXgoY19lbGUraGVpZ2h0LGVsZStiYXNlKzIuMCkgOiBlbGUrKHQgPiAwLjAgPyBoZWlnaHQgOiBiYXNlPT0wLjAgPy01LjAgOiBiYXNlKTt2ZWMzIHBvcz12ZWMzKHBvc19ueC54eSxoKTtcXG4jZWxzZVxcbmg9dCA+IDAuMCA/IGhlaWdodCA6IGJhc2U7dmVjMyBwb3M9dmVjMyhwb3NfbngueHksaCk7XFxuI2VuZGlmXFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbmZsb2F0IGxpZnQ9ZmxvYXQoKHQrYmFzZSkgPiAwLjApKnVfaGVpZ2h0X2xpZnQ7aCs9bGlmdDt2ZWMzIGdsb2JlX25vcm1hbD1ub3JtYWxpemUobWl4KGFfcG9zX25vcm1hbF8zLzE2Mzg0LjAsdV91cF9kaXIsdV96b29tX3RyYW5zaXRpb24pKTt2ZWMzIGdsb2JlX3Bvcz1hX3Bvc18zK2dsb2JlX25vcm1hbCoodV90aWxlX3VwX3NjYWxlKmgpO3ZlYzMgbWVyY19wb3M9bWVyY2F0b3JfdGlsZV9wb3NpdGlvbih1X2ludl9yb3RfbWF0cml4LHBvcy54eSx1X3RpbGVfaWQsdV9tZXJjX2NlbnRlcikrdV91cF9kaXIqdV90aWxlX3VwX3NjYWxlKnBvcy56O3Bvcz1taXhfZ2xvYmVfbWVyY2F0b3IoZ2xvYmVfcG9zLG1lcmNfcG9zLHVfem9vbV90cmFuc2l0aW9uKTtcXG4jZW5kaWZcXG5mbG9hdCBoaWRkZW49ZmxvYXQoY2VudHJvaWRfcG9zLng9PTAuMCAmJiBjZW50cm9pZF9wb3MueT09MS4wKTtnbF9Qb3NpdGlvbj1taXgodV9tYXRyaXgqdmVjNChwb3MsMSksQVdBWSxoaWRkZW4pO1xcbiNpZmRlZiBSRU5ERVJfU0hBRE9XU1xcbnZfcG9zX2xpZ2h0X3ZpZXdfMD11X2xpZ2h0X21hdHJpeF8wKnZlYzQocG9zLDEpO3ZfcG9zX2xpZ2h0X3ZpZXdfMT11X2xpZ2h0X21hdHJpeF8xKnZlYzQocG9zLDEpO3Zfbm9ybWFsPW5vcm1hbDt2X2RlcHRoPWdsX1Bvc2l0aW9uLnc7XFxuI2VuZGlmXFxuZmxvYXQgY29sb3J2YWx1ZT1jb2xvci5yKjAuMjEyNitjb2xvci5nKjAuNzE1Mitjb2xvci5iKjAuMDcyMjt2X2NvbG9yPXZlYzQoMC4wLDAuMCwwLjAsMS4wKTt2ZWM0IGFtYmllbnRsaWdodD12ZWM0KDAuMDMsMC4wMywwLjAzLDEuMCk7Y29sb3IrPWFtYmllbnRsaWdodDtmbG9hdCBkaXJlY3Rpb25hbD1jbGFtcChkb3Qobm9ybWFsLHVfbGlnaHRwb3MpLDAuMCwxLjApO2RpcmVjdGlvbmFsPW1peCgoMS4wLXVfbGlnaHRpbnRlbnNpdHkpLG1heCgoMS4wLWNvbG9ydmFsdWUrdV9saWdodGludGVuc2l0eSksMS4wKSxkaXJlY3Rpb25hbCk7aWYgKG5vcm1hbC55ICE9MC4wKSB7ZGlyZWN0aW9uYWwqPShcXG4oMS4wLXVfdmVydGljYWxfZ3JhZGllbnQpKyh1X3ZlcnRpY2FsX2dyYWRpZW50KmNsYW1wKCh0K2Jhc2UpKnBvdyhoZWlnaHQvMTUwLjAsMC41KSxtaXgoMC43LDAuOTgsMS4wLXVfbGlnaHRpbnRlbnNpdHkpLDEuMCkpKTt9XFxuI2lmZGVmIEZBVVhfQU9cXG5mbG9hdCBjb25jYXZlPXBvc19ueC53LWZsb29yKHBvc19ueC53KjAuNSkqMi4wO2Zsb2F0IHN0YXJ0PXRvcF91cF9ueV9zdGFydC53O2Zsb2F0IHlfZ3JvdW5kPTEuMC1jbGFtcCh0K2Jhc2UsMC4wLDEuMCk7ZmxvYXQgdG9wX2hlaWdodD1oZWlnaHQ7XFxuI2lmZGVmIFRFUlJBSU5cXG50b3BfaGVpZ2h0PW1peChtYXgoY19lbGUraGVpZ2h0LGVsZStiYXNlKzIuMCksZWxlK2hlaWdodCxmbG9hdChjZW50cm9pZF9wb3MueD09MC4wKSktZWxlO3lfZ3JvdW5kKz15X2dyb3VuZCo1LjAvbWF4KDMuMCx0b3BfaGVpZ2h0KTtcXG4jZW5kaWZcXG52X2FvPXZlYzMobWl4KGNvbmNhdmUsLWNvbmNhdmUsc3RhcnQpLHlfZ3JvdW5kLGgtZWxlKTtkaXJlY3Rpb25hbCo9KDEuMCswLjA1KigxLjAtdG9wX3VwX255LnkpKnVfYW9bMF0pO1xcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG50b3BfaGVpZ2h0Kz11X2hlaWdodF9saWZ0O1xcbiNlbmRpZlxcbmdsX1Bvc2l0aW9uLnotPSgwLjAwMDAwMDYqKG1pbih0b3BfaGVpZ2h0LDUwMC4pKzIuMCptaW4oYmFzZSw1MDAuMCkrNjAuMCpjb25jYXZlKzMuMCpzdGFydCkpKmdsX1Bvc2l0aW9uLnc7XFxuI2VuZGlmXFxudl9jb2xvci5yZ2IrPWNsYW1wKGNvbG9yLnJnYipkaXJlY3Rpb25hbCp1X2xpZ2h0Y29sb3IsbWl4KHZlYzMoMC4wKSx2ZWMzKDAuMyksMS4wLXVfbGlnaHRjb2xvciksdmVjMygxLjApKTt2X2NvbG9yKj11X29wYWNpdHk7XFxuI2lmZGVmIEZPR1xcbnZfZm9nX3Bvcz1mb2dfcG9zaXRpb24ocG9zKTtcXG4jZW5kaWZcXG59XCIpLGZpbGxFeHRydXNpb25QYXR0ZXJuOnBpKFwidW5pZm9ybSB2ZWMyIHVfdGV4c2l6ZTt1bmlmb3JtIGZsb2F0IHVfZmFkZTt1bmlmb3JtIHNhbXBsZXIyRCB1X2ltYWdlO1xcbiNpZmRlZiBGQVVYX0FPXFxudW5pZm9ybSBsb3dwIHZlYzIgdV9hbzt2YXJ5aW5nIHZlYzMgdl9hbztcXG4jZW5kaWZcXG52YXJ5aW5nIHZlYzIgdl9wb3NfYTt2YXJ5aW5nIHZlYzIgdl9wb3NfYjt2YXJ5aW5nIHZlYzQgdl9saWdodGluZztcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgYmFzZVxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBoZWlnaHRcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgdmVjNCBwYXR0ZXJuX2Zyb21cXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgdmVjNCBwYXR0ZXJuX3RvXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IHBpeGVsX3JhdGlvX2Zyb21cXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgcGl4ZWxfcmF0aW9fdG9cXG52b2lkIG1haW4oKSB7XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBiYXNlXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBoZWlnaHRcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIHZlYzQgcGF0dGVybl9mcm9tXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCB2ZWM0IHBhdHRlcm5fdG9cXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IHBpeGVsX3JhdGlvX2Zyb21cXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IHBpeGVsX3JhdGlvX3RvXFxudmVjMiBwYXR0ZXJuX3RsX2E9cGF0dGVybl9mcm9tLnh5O3ZlYzIgcGF0dGVybl9icl9hPXBhdHRlcm5fZnJvbS56dzt2ZWMyIHBhdHRlcm5fdGxfYj1wYXR0ZXJuX3RvLnh5O3ZlYzIgcGF0dGVybl9icl9iPXBhdHRlcm5fdG8uenc7dmVjMiBpbWFnZWNvb3JkPW1vZCh2X3Bvc19hLDEuMCk7dmVjMiBwb3M9bWl4KHBhdHRlcm5fdGxfYS91X3RleHNpemUscGF0dGVybl9icl9hL3VfdGV4c2l6ZSxpbWFnZWNvb3JkKTt2ZWM0IGNvbG9yMT10ZXh0dXJlMkQodV9pbWFnZSxwb3MpO3ZlYzIgaW1hZ2Vjb29yZF9iPW1vZCh2X3Bvc19iLDEuMCk7dmVjMiBwb3MyPW1peChwYXR0ZXJuX3RsX2IvdV90ZXhzaXplLHBhdHRlcm5fYnJfYi91X3RleHNpemUsaW1hZ2Vjb29yZF9iKTt2ZWM0IGNvbG9yMj10ZXh0dXJlMkQodV9pbWFnZSxwb3MyKTt2ZWM0IG91dF9jb2xvcj1taXgoY29sb3IxLGNvbG9yMix1X2ZhZGUpO291dF9jb2xvcj1vdXRfY29sb3Iqdl9saWdodGluZztcXG4jaWZkZWYgRkFVWF9BT1xcbmZsb2F0IGludGVuc2l0eT11X2FvWzBdO2Zsb2F0IGg9bWF4KDAuMCx2X2FvLnopO2Zsb2F0IGhfZmxvb3JzPWgvdV9hb1sxXTtmbG9hdCB5X3NoYWRlPTEuMC0wLjkqaW50ZW5zaXR5Km1pbih2X2FvLnksMS4wKTtmbG9hdCBzaGFkZT0oMS4wLTAuMDgqaW50ZW5zaXR5KSooeV9zaGFkZSsoMS4wLXlfc2hhZGUpKigxLjAtcG93KDEuMC1taW4oaF9mbG9vcnMvMTYuMCwxLjApLDE2LjApKSkrMC4wOCppbnRlbnNpdHkqbWluKGhfZmxvb3JzLzE2MC4wLDEuMCk7ZmxvYXQgY29uY2F2ZT12X2FvLngqdl9hby54O2Zsb2F0IHhfc2hhZGU9bWl4KDEuMCxtaXgoMC42LDAuNzUsbWluKGhfZmxvb3JzLzMwLjAsMS4wKSksaW50ZW5zaXR5KSswLjEqaW50ZW5zaXR5Km1pbihoLDEuMCk7c2hhZGUqPW1peCgxLjAseF9zaGFkZSp4X3NoYWRlKnhfc2hhZGUsY29uY2F2ZSk7b3V0X2NvbG9yLnJnYj1vdXRfY29sb3IucmdiKnNoYWRlO1xcbiNlbmRpZlxcbiNpZmRlZiBGT0dcXG5vdXRfY29sb3I9Zm9nX2RpdGhlcihmb2dfYXBwbHlfcHJlbXVsdGlwbGllZChvdXRfY29sb3Isdl9mb2dfcG9zKSk7XFxuI2VuZGlmXFxuZ2xfRnJhZ0NvbG9yPW91dF9jb2xvcjtcXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuZ2xfRnJhZ0NvbG9yPXZlYzQoMS4wKTtcXG4jZW5kaWZcXG59XCIsXCJ1bmlmb3JtIG1hdDQgdV9tYXRyaXg7dW5pZm9ybSB2ZWMyIHVfcGl4ZWxfY29vcmRfdXBwZXI7dW5pZm9ybSB2ZWMyIHVfcGl4ZWxfY29vcmRfbG93ZXI7dW5pZm9ybSBmbG9hdCB1X2hlaWdodF9mYWN0b3I7dW5pZm9ybSB2ZWMzIHVfc2NhbGU7dW5pZm9ybSBmbG9hdCB1X3ZlcnRpY2FsX2dyYWRpZW50O3VuaWZvcm0gbG93cCBmbG9hdCB1X29wYWNpdHk7dW5pZm9ybSB2ZWMzIHVfbGlnaHRjb2xvcjt1bmlmb3JtIGxvd3AgdmVjMyB1X2xpZ2h0cG9zO3VuaWZvcm0gbG93cCBmbG9hdCB1X2xpZ2h0aW50ZW5zaXR5O2F0dHJpYnV0ZSB2ZWM0IGFfcG9zX25vcm1hbF9lZDthdHRyaWJ1dGUgdmVjMiBhX2NlbnRyb2lkX3BvcztcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxuYXR0cmlidXRlIHZlYzMgYV9wb3NfMzthdHRyaWJ1dGUgdmVjMyBhX3Bvc19ub3JtYWxfMzt1bmlmb3JtIG1hdDQgdV9pbnZfcm90X21hdHJpeDt1bmlmb3JtIHZlYzIgdV9tZXJjX2NlbnRlcjt1bmlmb3JtIHZlYzMgdV90aWxlX2lkO3VuaWZvcm0gZmxvYXQgdV96b29tX3RyYW5zaXRpb247dW5pZm9ybSB2ZWMzIHVfdXBfZGlyO3VuaWZvcm0gZmxvYXQgdV9oZWlnaHRfbGlmdDtcXG4jZW5kaWZcXG52YXJ5aW5nIHZlYzIgdl9wb3NfYTt2YXJ5aW5nIHZlYzIgdl9wb3NfYjt2YXJ5aW5nIHZlYzQgdl9saWdodGluZztcXG4jaWZkZWYgRkFVWF9BT1xcbnVuaWZvcm0gbG93cCB2ZWMyIHVfYW87dmFyeWluZyB2ZWMzIHZfYW87XFxuI2VuZGlmXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGJhc2VcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgaGVpZ2h0XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIHZlYzQgcGF0dGVybl9mcm9tXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIHZlYzQgcGF0dGVybl90b1xcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBwaXhlbF9yYXRpb19mcm9tXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IHBpeGVsX3JhdGlvX3RvXFxudm9pZCBtYWluKCkge1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgYmFzZVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgaGVpZ2h0XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCB2ZWM0IHBhdHRlcm5fZnJvbVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgdmVjNCBwYXR0ZXJuX3RvXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBwaXhlbF9yYXRpb19mcm9tXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBwaXhlbF9yYXRpb190b1xcbnZlYzIgcGF0dGVybl90bF9hPXBhdHRlcm5fZnJvbS54eTt2ZWMyIHBhdHRlcm5fYnJfYT1wYXR0ZXJuX2Zyb20uenc7dmVjMiBwYXR0ZXJuX3RsX2I9cGF0dGVybl90by54eTt2ZWMyIHBhdHRlcm5fYnJfYj1wYXR0ZXJuX3RvLnp3O2Zsb2F0IHRpbGVSYXRpbz11X3NjYWxlLng7ZmxvYXQgZnJvbVNjYWxlPXVfc2NhbGUueTtmbG9hdCB0b1NjYWxlPXVfc2NhbGUuejt2ZWM0IHBvc19ueD1mbG9vcihhX3Bvc19ub3JtYWxfZWQqMC41KTttZWRpdW1wIHZlYzQgdG9wX3VwX255X3N0YXJ0PWFfcG9zX25vcm1hbF9lZC0yLjAqcG9zX254O21lZGl1bXAgdmVjMyB0b3BfdXBfbnk9dG9wX3VwX255X3N0YXJ0Lnh5ejtmbG9hdCB4X25vcm1hbD1wb3Nfbnguei84MTkyLjA7dmVjMyBub3JtYWw9dG9wX3VwX255Lnk9PTEuMCA/IHZlYzMoMC4wLDAuMCwxLjApIDogbm9ybWFsaXplKHZlYzMoeF9ub3JtYWwsKDIuMCp0b3BfdXBfbnkuei0xLjApKigxLjAtYWJzKHhfbm9ybWFsKSksMC4wKSk7ZmxvYXQgZWRnZWRpc3RhbmNlPWFfcG9zX25vcm1hbF9lZC53O3ZlYzIgZGlzcGxheV9zaXplX2E9KHBhdHRlcm5fYnJfYS1wYXR0ZXJuX3RsX2EpL3BpeGVsX3JhdGlvX2Zyb207dmVjMiBkaXNwbGF5X3NpemVfYj0ocGF0dGVybl9icl9iLXBhdHRlcm5fdGxfYikvcGl4ZWxfcmF0aW9fdG87YmFzZT1tYXgoMC4wLGJhc2UpO2hlaWdodD1tYXgoMC4wLGhlaWdodCk7ZmxvYXQgdD10b3BfdXBfbnkueDtmbG9hdCB6PXQgPiAwLjAgPyBoZWlnaHQgOiBiYXNlO3ZlYzIgY2VudHJvaWRfcG9zPXZlYzIoMC4wKTtcXG4jaWYgZGVmaW5lZChIQVNfQ0VOVFJPSUQpIHx8IGRlZmluZWQoVEVSUkFJTilcXG5jZW50cm9pZF9wb3M9YV9jZW50cm9pZF9wb3M7XFxuI2VuZGlmXFxuZmxvYXQgZWxlPTAuMDtmbG9hdCBoPXo7XFxuI2lmZGVmIFRFUlJBSU5cXG5ib29sIGZsYXRfcm9vZj1jZW50cm9pZF9wb3MueCAhPTAuMCAmJiB0ID4gMC4wO2VsZT1lbGV2YXRpb24ocG9zX254Lnh5KTtmbG9hdCBjX2VsZT1mbGF0X3Jvb2YgPyBjZW50cm9pZF9wb3MueT09MC4wID8gZWxldmF0aW9uRnJvbVVpbnQxNihjZW50cm9pZF9wb3MueCkgOiBmbGF0RWxldmF0aW9uKGNlbnRyb2lkX3BvcykgOiBlbGU7aD1mbGF0X3Jvb2YgPyBtYXgoY19lbGUraGVpZ2h0LGVsZStiYXNlKzIuMCkgOiBlbGUrKHQgPiAwLjAgPyBoZWlnaHQgOiBiYXNlPT0wLjAgPy01LjAgOiBiYXNlKTt2ZWMzIHA9dmVjMyhwb3NfbngueHksaCk7XFxuI2Vsc2VcXG52ZWMzIHA9dmVjMyhwb3NfbngueHkseik7XFxuI2VuZGlmXFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbmZsb2F0IGxpZnQ9ZmxvYXQoKHQrYmFzZSkgPiAwLjApKnVfaGVpZ2h0X2xpZnQ7aCs9bGlmdDt2ZWMzIGdsb2JlX25vcm1hbD1ub3JtYWxpemUobWl4KGFfcG9zX25vcm1hbF8zLzE2Mzg0LjAsdV91cF9kaXIsdV96b29tX3RyYW5zaXRpb24pKTt2ZWMzIGdsb2JlX3Bvcz1hX3Bvc18zK2dsb2JlX25vcm1hbCoodV90aWxlX3VwX3NjYWxlKihwLnorbGlmdCkpO3ZlYzMgbWVyY19wb3M9bWVyY2F0b3JfdGlsZV9wb3NpdGlvbih1X2ludl9yb3RfbWF0cml4LHAueHksdV90aWxlX2lkLHVfbWVyY19jZW50ZXIpK3VfdXBfZGlyKnVfdGlsZV91cF9zY2FsZSpwLno7cD1taXhfZ2xvYmVfbWVyY2F0b3IoZ2xvYmVfcG9zLG1lcmNfcG9zLHVfem9vbV90cmFuc2l0aW9uKTtcXG4jZW5kaWZcXG5mbG9hdCBoaWRkZW49ZmxvYXQoY2VudHJvaWRfcG9zLng9PTAuMCAmJiBjZW50cm9pZF9wb3MueT09MS4wKTtnbF9Qb3NpdGlvbj1taXgodV9tYXRyaXgqdmVjNChwLDEpLEFXQVksaGlkZGVuKTt2ZWMyIHBvcz1ub3JtYWwuej09MS4wXFxuPyBwb3NfbngueHlcXG46IHZlYzIoZWRnZWRpc3RhbmNlLHoqdV9oZWlnaHRfZmFjdG9yKTt2X3Bvc19hPWdldF9wYXR0ZXJuX3Bvcyh1X3BpeGVsX2Nvb3JkX3VwcGVyLHVfcGl4ZWxfY29vcmRfbG93ZXIsZnJvbVNjYWxlKmRpc3BsYXlfc2l6ZV9hLHRpbGVSYXRpbyxwb3MpO3ZfcG9zX2I9Z2V0X3BhdHRlcm5fcG9zKHVfcGl4ZWxfY29vcmRfdXBwZXIsdV9waXhlbF9jb29yZF9sb3dlcix0b1NjYWxlKmRpc3BsYXlfc2l6ZV9iLHRpbGVSYXRpbyxwb3MpO3ZfbGlnaHRpbmc9dmVjNCgwLjAsMC4wLDAuMCwxLjApO2Zsb2F0IGRpcmVjdGlvbmFsPWNsYW1wKGRvdChub3JtYWwsdV9saWdodHBvcyksMC4wLDEuMCk7ZGlyZWN0aW9uYWw9bWl4KCgxLjAtdV9saWdodGludGVuc2l0eSksbWF4KCgwLjUrdV9saWdodGludGVuc2l0eSksMS4wKSxkaXJlY3Rpb25hbCk7aWYgKG5vcm1hbC55ICE9MC4wKSB7ZGlyZWN0aW9uYWwqPShcXG4oMS4wLXVfdmVydGljYWxfZ3JhZGllbnQpKyh1X3ZlcnRpY2FsX2dyYWRpZW50KmNsYW1wKCh0K2Jhc2UpKnBvdyhoZWlnaHQvMTUwLjAsMC41KSxtaXgoMC43LDAuOTgsMS4wLXVfbGlnaHRpbnRlbnNpdHkpLDEuMCkpKTt9XFxuI2lmZGVmIEZBVVhfQU9cXG5mbG9hdCBjb25jYXZlPXBvc19ueC53LWZsb29yKHBvc19ueC53KjAuNSkqMi4wO2Zsb2F0IHN0YXJ0PXRvcF91cF9ueV9zdGFydC53O2Zsb2F0IHlfZ3JvdW5kPTEuMC1jbGFtcCh0K2Jhc2UsMC4wLDEuMCk7ZmxvYXQgdG9wX2hlaWdodD1oZWlnaHQ7XFxuI2lmZGVmIFRFUlJBSU5cXG50b3BfaGVpZ2h0PW1peChtYXgoY19lbGUraGVpZ2h0LGVsZStiYXNlKzIuMCksZWxlK2hlaWdodCxmbG9hdChjZW50cm9pZF9wb3MueD09MC4wKSktZWxlO3lfZ3JvdW5kKz15X2dyb3VuZCo1LjAvbWF4KDMuMCx0b3BfaGVpZ2h0KTtcXG4jZW5kaWZcXG52X2FvPXZlYzMobWl4KGNvbmNhdmUsLWNvbmNhdmUsc3RhcnQpLHlfZ3JvdW5kLGgtZWxlKTtkaXJlY3Rpb25hbCo9KDEuMCswLjA1KigxLjAtdG9wX3VwX255LnkpKnVfYW9bMF0pO1xcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG50b3BfaGVpZ2h0Kz11X2hlaWdodF9saWZ0O1xcbiNlbmRpZlxcbmdsX1Bvc2l0aW9uLnotPSgwLjAwMDAwMDYqKG1pbih0b3BfaGVpZ2h0LDUwMC4pKzIuMCptaW4oYmFzZSw1MDAuMCkrNjAuMCpjb25jYXZlKzMuMCpzdGFydCkpKmdsX1Bvc2l0aW9uLnc7XFxuI2VuZGlmXFxudl9saWdodGluZy5yZ2IrPWNsYW1wKGRpcmVjdGlvbmFsKnVfbGlnaHRjb2xvcixtaXgodmVjMygwLjApLHZlYzMoMC4zKSwxLjAtdV9saWdodGNvbG9yKSx2ZWMzKDEuMCkpO3ZfbGlnaHRpbmcqPXVfb3BhY2l0eTtcXG4jaWZkZWYgRk9HXFxudl9mb2dfcG9zPWZvZ19wb3NpdGlvbihwKTtcXG4jZW5kaWZcXG59XCIpLGhpbGxzaGFkZVByZXBhcmU6cGkoXCIjaWZkZWYgR0xfRVNcXG5wcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuI2VuZGlmXFxudW5pZm9ybSBzYW1wbGVyMkQgdV9pbWFnZTt2YXJ5aW5nIHZlYzIgdl9wb3M7dW5pZm9ybSB2ZWMyIHVfZGltZW5zaW9uO3VuaWZvcm0gZmxvYXQgdV96b29tO3VuaWZvcm0gdmVjNCB1X3VucGFjaztmbG9hdCBnZXRFbGV2YXRpb24odmVjMiBjb29yZCkge1xcbiNpZmRlZiBURVJSQUlOX0RFTV9GTE9BVF9GT1JNQVRcXG5yZXR1cm4gdGV4dHVyZTJEKHVfaW1hZ2UsY29vcmQpLmEvNC4wO1xcbiNlbHNlXFxudmVjNCBkYXRhPXRleHR1cmUyRCh1X2ltYWdlLGNvb3JkKSoyNTUuMDtkYXRhLmE9LTEuMDtyZXR1cm4gZG90KGRhdGEsdV91bnBhY2spLzQuMDtcXG4jZW5kaWZcXG59dm9pZCBtYWluKCkge3ZlYzIgZXBzaWxvbj0xLjAvdV9kaW1lbnNpb247ZmxvYXQgYT1nZXRFbGV2YXRpb24odl9wb3MrdmVjMigtZXBzaWxvbi54LC1lcHNpbG9uLnkpKTtmbG9hdCBiPWdldEVsZXZhdGlvbih2X3Bvcyt2ZWMyKDAsLWVwc2lsb24ueSkpO2Zsb2F0IGM9Z2V0RWxldmF0aW9uKHZfcG9zK3ZlYzIoZXBzaWxvbi54LC1lcHNpbG9uLnkpKTtmbG9hdCBkPWdldEVsZXZhdGlvbih2X3Bvcyt2ZWMyKC1lcHNpbG9uLngsMCkpO2Zsb2F0IGU9Z2V0RWxldmF0aW9uKHZfcG9zKTtmbG9hdCBmPWdldEVsZXZhdGlvbih2X3Bvcyt2ZWMyKGVwc2lsb24ueCwwKSk7ZmxvYXQgZz1nZXRFbGV2YXRpb24odl9wb3MrdmVjMigtZXBzaWxvbi54LGVwc2lsb24ueSkpO2Zsb2F0IGg9Z2V0RWxldmF0aW9uKHZfcG9zK3ZlYzIoMCxlcHNpbG9uLnkpKTtmbG9hdCBpPWdldEVsZXZhdGlvbih2X3Bvcyt2ZWMyKGVwc2lsb24ueCxlcHNpbG9uLnkpKTtmbG9hdCBleGFnZ2VyYXRpb25GYWN0b3I9dV96b29tIDwgMi4wID8gMC40IDogdV96b29tIDwgNC41ID8gMC4zNSA6IDAuMztmbG9hdCBleGFnZ2VyYXRpb249dV96b29tIDwgMTUuMCA/ICh1X3pvb20tMTUuMCkqZXhhZ2dlcmF0aW9uRmFjdG9yIDogMC4wO3ZlYzIgZGVyaXY9dmVjMihcXG4oYytmK2YraSktKGErZCtkK2cpLChnK2graCtpKS0oYStiK2IrYylcXG4pL3BvdygyLjAsZXhhZ2dlcmF0aW9uKygxOS4yNTYyLXVfem9vbSkpO2dsX0ZyYWdDb2xvcj1jbGFtcCh2ZWM0KFxcbmRlcml2LngvMi4wKzAuNSxkZXJpdi55LzIuMCswLjUsMS4wLDEuMCksMC4wLDEuMCk7XFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbmdsX0ZyYWdDb2xvcj12ZWM0KDEuMCk7XFxuI2VuZGlmXFxufVwiLFwidW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gdmVjMiB1X2RpbWVuc2lvbjthdHRyaWJ1dGUgdmVjMiBhX3BvczthdHRyaWJ1dGUgdmVjMiBhX3RleHR1cmVfcG9zO3ZhcnlpbmcgdmVjMiB2X3Bvczt2b2lkIG1haW4oKSB7Z2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChhX3BvcywwLDEpO2hpZ2hwIHZlYzIgZXBzaWxvbj0xLjAvdV9kaW1lbnNpb247ZmxvYXQgc2NhbGU9KHVfZGltZW5zaW9uLngtMi4wKS91X2RpbWVuc2lvbi54O3ZfcG9zPShhX3RleHR1cmVfcG9zLzgxOTIuMCkqc2NhbGUrZXBzaWxvbjt9XCIpLGhpbGxzaGFkZTpwaShcInVuaWZvcm0gc2FtcGxlcjJEIHVfaW1hZ2U7dmFyeWluZyB2ZWMyIHZfcG9zO3VuaWZvcm0gdmVjMiB1X2xhdHJhbmdlO3VuaWZvcm0gdmVjMiB1X2xpZ2h0O3VuaWZvcm0gdmVjNCB1X3NoYWRvdzt1bmlmb3JtIHZlYzQgdV9oaWdobGlnaHQ7dW5pZm9ybSB2ZWM0IHVfYWNjZW50O3ZvaWQgbWFpbigpIHt2ZWM0IHBpeGVsPXRleHR1cmUyRCh1X2ltYWdlLHZfcG9zKTt2ZWMyIGRlcml2PSgocGl4ZWwucmcqMi4wKS0xLjApO2Zsb2F0IHNjYWxlRmFjdG9yPWNvcyhyYWRpYW5zKCh1X2xhdHJhbmdlWzBdLXVfbGF0cmFuZ2VbMV0pKigxLjAtdl9wb3MueSkrdV9sYXRyYW5nZVsxXSkpO2Zsb2F0IHNsb3BlPWF0YW4oMS4yNSpsZW5ndGgoZGVyaXYpL3NjYWxlRmFjdG9yKTtmbG9hdCBhc3BlY3Q9ZGVyaXYueCAhPTAuMCA/IGF0YW4oZGVyaXYueSwtZGVyaXYueCkgOiBQSS8yLjAqKGRlcml2LnkgPiAwLjAgPyAxLjAgOi0xLjApO2Zsb2F0IGludGVuc2l0eT11X2xpZ2h0Lng7ZmxvYXQgYXppbXV0aD11X2xpZ2h0LnkrUEk7ZmxvYXQgYmFzZT0xLjg3NS1pbnRlbnNpdHkqMS43NTtmbG9hdCBtYXhWYWx1ZT0wLjUqUEk7ZmxvYXQgc2NhbGVkU2xvcGU9aW50ZW5zaXR5ICE9MC41ID8gKChwb3coYmFzZSxzbG9wZSktMS4wKS8ocG93KGJhc2UsbWF4VmFsdWUpLTEuMCkpKm1heFZhbHVlIDogc2xvcGU7ZmxvYXQgYWNjZW50PWNvcyhzY2FsZWRTbG9wZSk7dmVjNCBhY2NlbnRfY29sb3I9KDEuMC1hY2NlbnQpKnVfYWNjZW50KmNsYW1wKGludGVuc2l0eSoyLjAsMC4wLDEuMCk7ZmxvYXQgc2hhZGU9YWJzKG1vZCgoYXNwZWN0K2F6aW11dGgpL1BJKzAuNSwyLjApLTEuMCk7dmVjNCBzaGFkZV9jb2xvcj1taXgodV9zaGFkb3csdV9oaWdobGlnaHQsc2hhZGUpKnNpbihzY2FsZWRTbG9wZSkqY2xhbXAoaW50ZW5zaXR5KjIuMCwwLjAsMS4wKTtnbF9GcmFnQ29sb3I9YWNjZW50X2NvbG9yKigxLjAtc2hhZGVfY29sb3IuYSkrc2hhZGVfY29sb3I7XFxuI2lmZGVmIEZPR1xcbmdsX0ZyYWdDb2xvcj1mb2dfZGl0aGVyKGZvZ19hcHBseV9wcmVtdWx0aXBsaWVkKGdsX0ZyYWdDb2xvcix2X2ZvZ19wb3MpKTtcXG4jZW5kaWZcXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuZ2xfRnJhZ0NvbG9yPXZlYzQoMS4wKTtcXG4jZW5kaWZcXG59XCIsXCJ1bmlmb3JtIG1hdDQgdV9tYXRyaXg7YXR0cmlidXRlIHZlYzIgYV9wb3M7YXR0cmlidXRlIHZlYzIgYV90ZXh0dXJlX3Bvczt2YXJ5aW5nIHZlYzIgdl9wb3M7dm9pZCBtYWluKCkge2dsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQoYV9wb3MsMCwxKTt2X3Bvcz1hX3RleHR1cmVfcG9zLzgxOTIuMDtcXG4jaWZkZWYgRk9HXFxudl9mb2dfcG9zPWZvZ19wb3NpdGlvbihhX3Bvcyk7XFxuI2VuZGlmXFxufVwiKSxsaW5lOnBpKFwidW5pZm9ybSBsb3dwIGZsb2F0IHVfZGV2aWNlX3BpeGVsX3JhdGlvO3VuaWZvcm0gZmxvYXQgdV9hbHBoYV9kaXNjYXJkX3RocmVzaG9sZDt1bmlmb3JtIGhpZ2hwIHZlYzIgdV90cmltX29mZnNldDt2YXJ5aW5nIHZlYzIgdl93aWR0aDI7dmFyeWluZyB2ZWMyIHZfbm9ybWFsO3ZhcnlpbmcgZmxvYXQgdl9nYW1tYV9zY2FsZTt2YXJ5aW5nIGhpZ2hwIHZlYzQgdl91djtcXG4jaWZkZWYgUkVOREVSX0xJTkVfREFTSFxcbnVuaWZvcm0gc2FtcGxlcjJEIHVfZGFzaF9pbWFnZTt1bmlmb3JtIGZsb2F0IHVfbWl4O3VuaWZvcm0gdmVjMyB1X3NjYWxlO3ZhcnlpbmcgdmVjMiB2X3RleF9hO3ZhcnlpbmcgdmVjMiB2X3RleF9iO1xcbiNlbmRpZlxcbiNpZmRlZiBSRU5ERVJfTElORV9HUkFESUVOVFxcbnVuaWZvcm0gc2FtcGxlcjJEIHVfZ3JhZGllbnRfaW1hZ2U7XFxuI2VuZGlmXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IGNvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGZsb29yd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgdmVjNCBkYXNoX2Zyb21cXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgdmVjNCBkYXNoX3RvXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGJsdXJcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxcbnZvaWQgbWFpbigpIHtcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IGNvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBmbG9vcndpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCB2ZWM0IGRhc2hfZnJvbVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgdmVjNCBkYXNoX3RvXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBibHVyXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XFxuZmxvYXQgZGlzdD1sZW5ndGgodl9ub3JtYWwpKnZfd2lkdGgyLnM7ZmxvYXQgYmx1cjI9KGJsdXIrMS4wL3VfZGV2aWNlX3BpeGVsX3JhdGlvKSp2X2dhbW1hX3NjYWxlO2Zsb2F0IGFscGhhPWNsYW1wKG1pbihkaXN0LSh2X3dpZHRoMi50LWJsdXIyKSx2X3dpZHRoMi5zLWRpc3QpL2JsdXIyLDAuMCwxLjApO1xcbiNpZmRlZiBSRU5ERVJfTElORV9EQVNIXFxuZmxvYXQgc2RmZGlzdF9hPXRleHR1cmUyRCh1X2Rhc2hfaW1hZ2Usdl90ZXhfYSkuYTtmbG9hdCBzZGZkaXN0X2I9dGV4dHVyZTJEKHVfZGFzaF9pbWFnZSx2X3RleF9iKS5hO2Zsb2F0IHNkZmRpc3Q9bWl4KHNkZmRpc3RfYSxzZGZkaXN0X2IsdV9taXgpO2Zsb2F0IHNkZndpZHRoPW1pbihkYXNoX2Zyb20ueip1X3NjYWxlLnksZGFzaF90by56KnVfc2NhbGUueik7ZmxvYXQgc2RmZ2FtbWE9MS4wLygyLjAqdV9kZXZpY2VfcGl4ZWxfcmF0aW8pL3NkZndpZHRoO2FscGhhKj1zbW9vdGhzdGVwKDAuNS1zZGZnYW1tYS9mbG9vcndpZHRoLDAuNStzZGZnYW1tYS9mbG9vcndpZHRoLHNkZmRpc3QpO1xcbiNlbmRpZlxcbiNpZmRlZiBSRU5ERVJfTElORV9HUkFESUVOVFxcbmhpZ2hwIHZlYzQgb3V0X2NvbG9yPXRleHR1cmUyRCh1X2dyYWRpZW50X2ltYWdlLHZfdXYueHkpO1xcbiNlbHNlXFxudmVjNCBvdXRfY29sb3I9Y29sb3I7XFxuI2VuZGlmXFxuI2lmZGVmIFJFTkRFUl9MSU5FX1RSSU1fT0ZGU0VUXFxuaGlnaHAgZmxvYXQgc3RhcnQ9dl91dlsyXTtoaWdocCBmbG9hdCBlbmQ9dl91dlszXTtoaWdocCBmbG9hdCB0cmltX3N0YXJ0PXVfdHJpbV9vZmZzZXRbMF07aGlnaHAgZmxvYXQgdHJpbV9lbmQ9dV90cmltX29mZnNldFsxXTtoaWdocCBmbG9hdCBsaW5lX3Byb2dyZXNzPShzdGFydCsodl91di54KSooZW5kLXN0YXJ0KSk7aWYgKHRyaW1fZW5kID4gdHJpbV9zdGFydCkge2lmIChsaW5lX3Byb2dyZXNzIDw9dHJpbV9lbmQgJiYgbGluZV9wcm9ncmVzcyA+PXRyaW1fc3RhcnQpIHtvdXRfY29sb3I9dmVjNCgwLDAsMCwwKTt9fVxcbiNlbmRpZlxcbiNpZmRlZiBGT0dcXG5vdXRfY29sb3I9Zm9nX2RpdGhlcihmb2dfYXBwbHlfcHJlbXVsdGlwbGllZChvdXRfY29sb3Isdl9mb2dfcG9zKSk7XFxuI2VuZGlmXFxuI2lmZGVmIFJFTkRFUl9MSU5FX0FMUEhBX0RJU0NBUkRcXG5pZiAoYWxwaGEgPCB1X2FscGhhX2Rpc2NhcmRfdGhyZXNob2xkKSB7ZGlzY2FyZDt9XFxuI2VuZGlmXFxuZ2xfRnJhZ0NvbG9yPW91dF9jb2xvciooYWxwaGEqb3BhY2l0eSk7XFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbmdsX0ZyYWdDb2xvcj12ZWM0KDEuMCk7XFxuI2VuZGlmXFxufVwiLFwiXFxuI2RlZmluZSBFWFRSVURFX1NDQUxFIDAuMDE1ODczMDE2XFxuYXR0cmlidXRlIHZlYzIgYV9wb3Nfbm9ybWFsO2F0dHJpYnV0ZSB2ZWM0IGFfZGF0YTtcXG4jaWYgZGVmaW5lZChSRU5ERVJfTElORV9HUkFESUVOVCkgfHwgZGVmaW5lZChSRU5ERVJfTElORV9UUklNX09GRlNFVClcXG5hdHRyaWJ1dGUgaGlnaHAgdmVjNCBhX3BhY2tlZDtcXG4jZW5kaWZcXG4jaWZkZWYgUkVOREVSX0xJTkVfREFTSFxcbmF0dHJpYnV0ZSBmbG9hdCBhX2xpbmVzb2ZhcjtcXG4jZW5kaWZcXG51bmlmb3JtIG1hdDQgdV9tYXRyaXg7dW5pZm9ybSBtYXQyIHVfcGl4ZWxzX3RvX3RpbGVfdW5pdHM7dW5pZm9ybSB2ZWMyIHVfdW5pdHNfdG9fcGl4ZWxzO3VuaWZvcm0gbG93cCBmbG9hdCB1X2RldmljZV9waXhlbF9yYXRpbzt2YXJ5aW5nIHZlYzIgdl9ub3JtYWw7dmFyeWluZyB2ZWMyIHZfd2lkdGgyO3ZhcnlpbmcgZmxvYXQgdl9nYW1tYV9zY2FsZTt2YXJ5aW5nIGhpZ2hwIHZlYzQgdl91djtcXG4jaWZkZWYgUkVOREVSX0xJTkVfREFTSFxcbnVuaWZvcm0gdmVjMiB1X3RleHNpemU7dW5pZm9ybSBtZWRpdW1wIHZlYzMgdV9zY2FsZTt2YXJ5aW5nIHZlYzIgdl90ZXhfYTt2YXJ5aW5nIHZlYzIgdl90ZXhfYjtcXG4jZW5kaWZcXG4jaWZkZWYgUkVOREVSX0xJTkVfR1JBRElFTlRcXG51bmlmb3JtIGZsb2F0IHVfaW1hZ2VfaGVpZ2h0O1xcbiNlbmRpZlxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBjb2xvclxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBmbG9vcndpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIHZlYzQgZGFzaF9mcm9tXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIHZlYzQgZGFzaF90b1xcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBibHVyXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIG1lZGl1bXAgZmxvYXQgZ2Fwd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb2Zmc2V0XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBtZWRpdW1wIGZsb2F0IHdpZHRoXFxudm9pZCBtYWluKCkge1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgY29sb3JcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGZsb29yd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIHZlYzQgZGFzaF9mcm9tXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCB2ZWM0IGRhc2hfdG9cXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGJsdXJcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIGZsb2F0IGdhcHdpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvZmZzZXRcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIGZsb2F0IHdpZHRoXFxuZmxvYXQgQU5USUFMSUFTSU5HPTEuMC91X2RldmljZV9waXhlbF9yYXRpby8yLjA7dmVjMiBhX2V4dHJ1ZGU9YV9kYXRhLnh5LTEyOC4wO2Zsb2F0IGFfZGlyZWN0aW9uPW1vZChhX2RhdGEueiw0LjApLTEuMDt2ZWMyIHBvcz1mbG9vcihhX3Bvc19ub3JtYWwqMC41KTttZWRpdW1wIHZlYzIgbm9ybWFsPWFfcG9zX25vcm1hbC0yLjAqcG9zO25vcm1hbC55PW5vcm1hbC55KjIuMC0xLjA7dl9ub3JtYWw9bm9ybWFsO2dhcHdpZHRoPWdhcHdpZHRoLzIuMDtmbG9hdCBoYWxmd2lkdGg9d2lkdGgvMi4wO29mZnNldD0tMS4wKm9mZnNldDtmbG9hdCBpbnNldD1nYXB3aWR0aCsoZ2Fwd2lkdGggPiAwLjAgPyBBTlRJQUxJQVNJTkcgOiAwLjApO2Zsb2F0IG91dHNldD1nYXB3aWR0aCtoYWxmd2lkdGgqKGdhcHdpZHRoID4gMC4wID8gMi4wIDogMS4wKSsoaGFsZndpZHRoPT0wLjAgPyAwLjAgOiBBTlRJQUxJQVNJTkcpO21lZGl1bXAgdmVjMiBkaXN0PW91dHNldCphX2V4dHJ1ZGUqRVhUUlVERV9TQ0FMRTttZWRpdW1wIGZsb2F0IHU9MC41KmFfZGlyZWN0aW9uO21lZGl1bXAgZmxvYXQgdD0xLjAtYWJzKHUpO21lZGl1bXAgdmVjMiBvZmZzZXQyPW9mZnNldCphX2V4dHJ1ZGUqRVhUUlVERV9TQ0FMRSpub3JtYWwueSptYXQyKHQsLXUsdSx0KTt2ZWM0IHByb2plY3RlZF9leHRydWRlPXVfbWF0cml4KnZlYzQoZGlzdCp1X3BpeGVsc190b190aWxlX3VuaXRzLDAuMCwwLjApO2dsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQocG9zK29mZnNldDIqdV9waXhlbHNfdG9fdGlsZV91bml0cywwLjAsMS4wKStwcm9qZWN0ZWRfZXh0cnVkZTtcXG4jaWZuZGVmIFJFTkRFUl9UT19URVhUVVJFXFxuZmxvYXQgZXh0cnVkZV9sZW5ndGhfd2l0aG91dF9wZXJzcGVjdGl2ZT1sZW5ndGgoZGlzdCk7ZmxvYXQgZXh0cnVkZV9sZW5ndGhfd2l0aF9wZXJzcGVjdGl2ZT1sZW5ndGgocHJvamVjdGVkX2V4dHJ1ZGUueHkvZ2xfUG9zaXRpb24udyp1X3VuaXRzX3RvX3BpeGVscyk7dl9nYW1tYV9zY2FsZT1leHRydWRlX2xlbmd0aF93aXRob3V0X3BlcnNwZWN0aXZlL2V4dHJ1ZGVfbGVuZ3RoX3dpdGhfcGVyc3BlY3RpdmU7XFxuI2Vsc2VcXG52X2dhbW1hX3NjYWxlPTEuMDtcXG4jZW5kaWZcXG4jaWYgZGVmaW5lZChSRU5ERVJfTElORV9HUkFESUVOVCkgfHwgZGVmaW5lZChSRU5ERVJfTElORV9UUklNX09GRlNFVClcXG5mbG9hdCBhX3V2X3g9YV9wYWNrZWRbMF07ZmxvYXQgYV9zcGxpdF9pbmRleD1hX3BhY2tlZFsxXTtoaWdocCBmbG9hdCBhX2NsaXBfc3RhcnQ9YV9wYWNrZWRbMl07aGlnaHAgZmxvYXQgYV9jbGlwX2VuZD1hX3BhY2tlZFszXTtcXG4jaWZkZWYgUkVOREVSX0xJTkVfR1JBRElFTlRcXG5oaWdocCBmbG9hdCB0ZXhlbF9oZWlnaHQ9MS4wL3VfaW1hZ2VfaGVpZ2h0O2hpZ2hwIGZsb2F0IGhhbGZfdGV4ZWxfaGVpZ2h0PTAuNSp0ZXhlbF9oZWlnaHQ7dl91dj12ZWM0KGFfdXZfeCxhX3NwbGl0X2luZGV4KnRleGVsX2hlaWdodC1oYWxmX3RleGVsX2hlaWdodCxhX2NsaXBfc3RhcnQsYV9jbGlwX2VuZCk7XFxuI2Vsc2VcXG52X3V2PXZlYzQoYV91dl94LDAuMCxhX2NsaXBfc3RhcnQsYV9jbGlwX2VuZCk7XFxuI2VuZGlmXFxuI2VuZGlmXFxuI2lmZGVmIFJFTkRFUl9MSU5FX0RBU0hcXG5mbG9hdCB0aWxlWm9vbVJhdGlvPXVfc2NhbGUueDtmbG9hdCBmcm9tU2NhbGU9dV9zY2FsZS55O2Zsb2F0IHRvU2NhbGU9dV9zY2FsZS56O2Zsb2F0IHNjYWxlQT1kYXNoX2Zyb20uej09MC4wID8gMC4wIDogdGlsZVpvb21SYXRpby8oZGFzaF9mcm9tLnoqZnJvbVNjYWxlKTtmbG9hdCBzY2FsZUI9ZGFzaF90by56PT0wLjAgPyAwLjAgOiB0aWxlWm9vbVJhdGlvLyhkYXNoX3RvLnoqdG9TY2FsZSk7ZmxvYXQgaGVpZ2h0QT1kYXNoX2Zyb20ueTtmbG9hdCBoZWlnaHRCPWRhc2hfdG8ueTt2X3RleF9hPXZlYzIoYV9saW5lc29mYXIqc2NhbGVBL2Zsb29yd2lkdGgsKC1ub3JtYWwueSpoZWlnaHRBK2Rhc2hfZnJvbS54KzAuNSkvdV90ZXhzaXplLnkpO3ZfdGV4X2I9dmVjMihhX2xpbmVzb2ZhcipzY2FsZUIvZmxvb3J3aWR0aCwoLW5vcm1hbC55KmhlaWdodEIrZGFzaF90by54KzAuNSkvdV90ZXhzaXplLnkpO1xcbiNlbmRpZlxcbnZfd2lkdGgyPXZlYzIob3V0c2V0LGluc2V0KTtcXG4jaWZkZWYgRk9HXFxudl9mb2dfcG9zPWZvZ19wb3NpdGlvbihwb3MpO1xcbiNlbmRpZlxcbn1cIiksbGluZVBhdHRlcm46cGkoXCJ1bmlmb3JtIGxvd3AgZmxvYXQgdV9kZXZpY2VfcGl4ZWxfcmF0aW87dW5pZm9ybSB2ZWMyIHVfdGV4c2l6ZTt1bmlmb3JtIGZsb2F0IHVfZmFkZTt1bmlmb3JtIG1lZGl1bXAgdmVjMyB1X3NjYWxlO3VuaWZvcm0gc2FtcGxlcjJEIHVfaW1hZ2U7dmFyeWluZyB2ZWMyIHZfbm9ybWFsO3ZhcnlpbmcgdmVjMiB2X3dpZHRoMjt2YXJ5aW5nIGZsb2F0IHZfbGluZXNvZmFyO3ZhcnlpbmcgZmxvYXQgdl9nYW1tYV9zY2FsZTt2YXJ5aW5nIGZsb2F0IHZfd2lkdGg7XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIHZlYzQgcGF0dGVybl9mcm9tXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIHZlYzQgcGF0dGVybl90b1xcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBwaXhlbF9yYXRpb19mcm9tXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IHBpeGVsX3JhdGlvX3RvXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGJsdXJcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxcbnZvaWQgbWFpbigpIHtcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIHZlYzQgcGF0dGVybl9mcm9tXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCB2ZWM0IHBhdHRlcm5fdG9cXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IHBpeGVsX3JhdGlvX2Zyb21cXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IHBpeGVsX3JhdGlvX3RvXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBibHVyXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XFxudmVjMiBwYXR0ZXJuX3RsX2E9cGF0dGVybl9mcm9tLnh5O3ZlYzIgcGF0dGVybl9icl9hPXBhdHRlcm5fZnJvbS56dzt2ZWMyIHBhdHRlcm5fdGxfYj1wYXR0ZXJuX3RvLnh5O3ZlYzIgcGF0dGVybl9icl9iPXBhdHRlcm5fdG8uenc7ZmxvYXQgdGlsZVpvb21SYXRpbz11X3NjYWxlLng7ZmxvYXQgZnJvbVNjYWxlPXVfc2NhbGUueTtmbG9hdCB0b1NjYWxlPXVfc2NhbGUuejt2ZWMyIGRpc3BsYXlfc2l6ZV9hPShwYXR0ZXJuX2JyX2EtcGF0dGVybl90bF9hKS9waXhlbF9yYXRpb19mcm9tO3ZlYzIgZGlzcGxheV9zaXplX2I9KHBhdHRlcm5fYnJfYi1wYXR0ZXJuX3RsX2IpL3BpeGVsX3JhdGlvX3RvO3ZlYzIgcGF0dGVybl9zaXplX2E9dmVjMihkaXNwbGF5X3NpemVfYS54KmZyb21TY2FsZS90aWxlWm9vbVJhdGlvLGRpc3BsYXlfc2l6ZV9hLnkpO3ZlYzIgcGF0dGVybl9zaXplX2I9dmVjMihkaXNwbGF5X3NpemVfYi54KnRvU2NhbGUvdGlsZVpvb21SYXRpbyxkaXNwbGF5X3NpemVfYi55KTtmbG9hdCBhc3BlY3RfYT1kaXNwbGF5X3NpemVfYS55L3Zfd2lkdGg7ZmxvYXQgYXNwZWN0X2I9ZGlzcGxheV9zaXplX2IueS92X3dpZHRoO2Zsb2F0IGRpc3Q9bGVuZ3RoKHZfbm9ybWFsKSp2X3dpZHRoMi5zO2Zsb2F0IGJsdXIyPShibHVyKzEuMC91X2RldmljZV9waXhlbF9yYXRpbykqdl9nYW1tYV9zY2FsZTtmbG9hdCBhbHBoYT1jbGFtcChtaW4oZGlzdC0odl93aWR0aDIudC1ibHVyMiksdl93aWR0aDIucy1kaXN0KS9ibHVyMiwwLjAsMS4wKTtmbG9hdCB4X2E9bW9kKHZfbGluZXNvZmFyL3BhdHRlcm5fc2l6ZV9hLngqYXNwZWN0X2EsMS4wKTtmbG9hdCB4X2I9bW9kKHZfbGluZXNvZmFyL3BhdHRlcm5fc2l6ZV9iLngqYXNwZWN0X2IsMS4wKTtmbG9hdCB5PTAuNSp2X25vcm1hbC55KzAuNTt2ZWMyIHRleGVsX3NpemU9MS4wL3VfdGV4c2l6ZTt2ZWMyIHBvc19hPW1peChwYXR0ZXJuX3RsX2EqdGV4ZWxfc2l6ZS10ZXhlbF9zaXplLHBhdHRlcm5fYnJfYSp0ZXhlbF9zaXplK3RleGVsX3NpemUsdmVjMih4X2EseSkpO3ZlYzIgcG9zX2I9bWl4KHBhdHRlcm5fdGxfYip0ZXhlbF9zaXplLXRleGVsX3NpemUscGF0dGVybl9icl9iKnRleGVsX3NpemUrdGV4ZWxfc2l6ZSx2ZWMyKHhfYix5KSk7dmVjNCBjb2xvcj1taXgodGV4dHVyZTJEKHVfaW1hZ2UscG9zX2EpLHRleHR1cmUyRCh1X2ltYWdlLHBvc19iKSx1X2ZhZGUpO1xcbiNpZmRlZiBGT0dcXG5jb2xvcj1mb2dfZGl0aGVyKGZvZ19hcHBseV9wcmVtdWx0aXBsaWVkKGNvbG9yLHZfZm9nX3BvcykpO1xcbiNlbmRpZlxcbmdsX0ZyYWdDb2xvcj1jb2xvciooYWxwaGEqb3BhY2l0eSk7XFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbmdsX0ZyYWdDb2xvcj12ZWM0KDEuMCk7XFxuI2VuZGlmXFxufVwiLFwiXFxuI2RlZmluZSBzY2FsZSAwLjAxNTg3MzAxNlxcbmF0dHJpYnV0ZSB2ZWMyIGFfcG9zX25vcm1hbDthdHRyaWJ1dGUgdmVjNCBhX2RhdGE7YXR0cmlidXRlIGZsb2F0IGFfbGluZXNvZmFyO3VuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIHZlYzIgdV91bml0c190b19waXhlbHM7dW5pZm9ybSBtYXQyIHVfcGl4ZWxzX3RvX3RpbGVfdW5pdHM7dW5pZm9ybSBsb3dwIGZsb2F0IHVfZGV2aWNlX3BpeGVsX3JhdGlvO3ZhcnlpbmcgdmVjMiB2X25vcm1hbDt2YXJ5aW5nIHZlYzIgdl93aWR0aDI7dmFyeWluZyBmbG9hdCB2X2xpbmVzb2Zhcjt2YXJ5aW5nIGZsb2F0IHZfZ2FtbWFfc2NhbGU7dmFyeWluZyBmbG9hdCB2X3dpZHRoO1xcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBibHVyXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb2Zmc2V0XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBtZWRpdW1wIGZsb2F0IGdhcHdpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBtZWRpdW1wIGZsb2F0IHdpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGZsb29yd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgdmVjNCBwYXR0ZXJuX2Zyb21cXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgdmVjNCBwYXR0ZXJuX3RvXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IHBpeGVsX3JhdGlvX2Zyb21cXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgcGl4ZWxfcmF0aW9fdG9cXG52b2lkIG1haW4oKSB7XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBibHVyXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvZmZzZXRcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIGZsb2F0IGdhcHdpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCBmbG9hdCB3aWR0aFxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgZmxvb3J3aWR0aFxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgdmVjNCBwYXR0ZXJuX2Zyb21cXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIHZlYzQgcGF0dGVybl90b1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgcGl4ZWxfcmF0aW9fZnJvbVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgcGl4ZWxfcmF0aW9fdG9cXG5mbG9hdCBBTlRJQUxJQVNJTkc9MS4wL3VfZGV2aWNlX3BpeGVsX3JhdGlvLzIuMDt2ZWMyIGFfZXh0cnVkZT1hX2RhdGEueHktMTI4LjA7ZmxvYXQgYV9kaXJlY3Rpb249bW9kKGFfZGF0YS56LDQuMCktMS4wO3ZlYzIgcG9zPWZsb29yKGFfcG9zX25vcm1hbCowLjUpO21lZGl1bXAgdmVjMiBub3JtYWw9YV9wb3Nfbm9ybWFsLTIuMCpwb3M7bm9ybWFsLnk9bm9ybWFsLnkqMi4wLTEuMDt2X25vcm1hbD1ub3JtYWw7Z2Fwd2lkdGg9Z2Fwd2lkdGgvMi4wO2Zsb2F0IGhhbGZ3aWR0aD13aWR0aC8yLjA7b2Zmc2V0PS0xLjAqb2Zmc2V0O2Zsb2F0IGluc2V0PWdhcHdpZHRoKyhnYXB3aWR0aCA+IDAuMCA/IEFOVElBTElBU0lORyA6IDAuMCk7ZmxvYXQgb3V0c2V0PWdhcHdpZHRoK2hhbGZ3aWR0aCooZ2Fwd2lkdGggPiAwLjAgPyAyLjAgOiAxLjApKyhoYWxmd2lkdGg9PTAuMCA/IDAuMCA6IEFOVElBTElBU0lORyk7bWVkaXVtcCB2ZWMyIGRpc3Q9b3V0c2V0KmFfZXh0cnVkZSpzY2FsZTttZWRpdW1wIGZsb2F0IHU9MC41KmFfZGlyZWN0aW9uO21lZGl1bXAgZmxvYXQgdD0xLjAtYWJzKHUpO21lZGl1bXAgdmVjMiBvZmZzZXQyPW9mZnNldCphX2V4dHJ1ZGUqc2NhbGUqbm9ybWFsLnkqbWF0Mih0LC11LHUsdCk7dmVjNCBwcm9qZWN0ZWRfZXh0cnVkZT11X21hdHJpeCp2ZWM0KGRpc3QqdV9waXhlbHNfdG9fdGlsZV91bml0cywwLjAsMC4wKTtnbF9Qb3NpdGlvbj11X21hdHJpeCp2ZWM0KHBvcytvZmZzZXQyKnVfcGl4ZWxzX3RvX3RpbGVfdW5pdHMsMC4wLDEuMCkrcHJvamVjdGVkX2V4dHJ1ZGU7XFxuI2lmbmRlZiBSRU5ERVJfVE9fVEVYVFVSRVxcbmZsb2F0IGV4dHJ1ZGVfbGVuZ3RoX3dpdGhvdXRfcGVyc3BlY3RpdmU9bGVuZ3RoKGRpc3QpO2Zsb2F0IGV4dHJ1ZGVfbGVuZ3RoX3dpdGhfcGVyc3BlY3RpdmU9bGVuZ3RoKHByb2plY3RlZF9leHRydWRlLnh5L2dsX1Bvc2l0aW9uLncqdV91bml0c190b19waXhlbHMpO3ZfZ2FtbWFfc2NhbGU9ZXh0cnVkZV9sZW5ndGhfd2l0aG91dF9wZXJzcGVjdGl2ZS9leHRydWRlX2xlbmd0aF93aXRoX3BlcnNwZWN0aXZlO1xcbiNlbHNlXFxudl9nYW1tYV9zY2FsZT0xLjA7XFxuI2VuZGlmXFxudl9saW5lc29mYXI9YV9saW5lc29mYXI7dl93aWR0aDI9dmVjMihvdXRzZXQsaW5zZXQpO3Zfd2lkdGg9Zmxvb3J3aWR0aDtcXG4jaWZkZWYgRk9HXFxudl9mb2dfcG9zPWZvZ19wb3NpdGlvbihwb3MpO1xcbiNlbmRpZlxcbn1cIikscmFzdGVyOnBpKFwidW5pZm9ybSBmbG9hdCB1X2ZhZGVfdDt1bmlmb3JtIGZsb2F0IHVfb3BhY2l0eTt1bmlmb3JtIHNhbXBsZXIyRCB1X2ltYWdlMDt1bmlmb3JtIHNhbXBsZXIyRCB1X2ltYWdlMTt2YXJ5aW5nIHZlYzIgdl9wb3MwO3ZhcnlpbmcgdmVjMiB2X3BvczE7dW5pZm9ybSBmbG9hdCB1X2JyaWdodG5lc3NfbG93O3VuaWZvcm0gZmxvYXQgdV9icmlnaHRuZXNzX2hpZ2g7dW5pZm9ybSBmbG9hdCB1X3NhdHVyYXRpb25fZmFjdG9yO3VuaWZvcm0gZmxvYXQgdV9jb250cmFzdF9mYWN0b3I7dW5pZm9ybSB2ZWMzIHVfc3Bpbl93ZWlnaHRzO3ZvaWQgbWFpbigpIHt2ZWM0IGNvbG9yMD10ZXh0dXJlMkQodV9pbWFnZTAsdl9wb3MwKTt2ZWM0IGNvbG9yMT10ZXh0dXJlMkQodV9pbWFnZTEsdl9wb3MxKTtpZiAoY29sb3IwLmEgPiAwLjApIHtjb2xvcjAucmdiPWNvbG9yMC5yZ2IvY29sb3IwLmE7fWlmIChjb2xvcjEuYSA+IDAuMCkge2NvbG9yMS5yZ2I9Y29sb3IxLnJnYi9jb2xvcjEuYTt9dmVjNCBjb2xvcj1taXgoY29sb3IwLGNvbG9yMSx1X2ZhZGVfdCk7Y29sb3IuYSo9dV9vcGFjaXR5O3ZlYzMgcmdiPWNvbG9yLnJnYjtyZ2I9dmVjMyhcXG5kb3QocmdiLHVfc3Bpbl93ZWlnaHRzLnh5eiksZG90KHJnYix1X3NwaW5fd2VpZ2h0cy56eHkpLGRvdChyZ2IsdV9zcGluX3dlaWdodHMueXp4KSk7ZmxvYXQgYXZlcmFnZT0oY29sb3Iucitjb2xvci5nK2NvbG9yLmIpLzMuMDtyZ2IrPShhdmVyYWdlLXJnYikqdV9zYXR1cmF0aW9uX2ZhY3RvcjtyZ2I9KHJnYi0wLjUpKnVfY29udHJhc3RfZmFjdG9yKzAuNTt2ZWMzIHVfaGlnaF92ZWM9dmVjMyh1X2JyaWdodG5lc3NfbG93LHVfYnJpZ2h0bmVzc19sb3csdV9icmlnaHRuZXNzX2xvdyk7dmVjMyB1X2xvd192ZWM9dmVjMyh1X2JyaWdodG5lc3NfaGlnaCx1X2JyaWdodG5lc3NfaGlnaCx1X2JyaWdodG5lc3NfaGlnaCk7dmVjMyBvdXRfY29sb3I9bWl4KHVfaGlnaF92ZWMsdV9sb3dfdmVjLHJnYik7XFxuI2lmZGVmIEZPR1xcbm91dF9jb2xvcj1mb2dfZGl0aGVyKGZvZ19hcHBseShvdXRfY29sb3Isdl9mb2dfcG9zKSk7XFxuI2VuZGlmXFxuZ2xfRnJhZ0NvbG9yPXZlYzQob3V0X2NvbG9yKmNvbG9yLmEsY29sb3IuYSk7XFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbmdsX0ZyYWdDb2xvcj12ZWM0KDEuMCk7XFxuI2VuZGlmXFxufVwiLFwidW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gdmVjMiB1X3RsX3BhcmVudDt1bmlmb3JtIGZsb2F0IHVfc2NhbGVfcGFyZW50O3VuaWZvcm0gdmVjMiB1X3BlcnNwZWN0aXZlX3RyYW5zZm9ybTthdHRyaWJ1dGUgdmVjMiBhX3BvczthdHRyaWJ1dGUgdmVjMiBhX3RleHR1cmVfcG9zO3ZhcnlpbmcgdmVjMiB2X3BvczA7dmFyeWluZyB2ZWMyIHZfcG9zMTt2b2lkIG1haW4oKSB7ZmxvYXQgdz0xLjArZG90KGFfdGV4dHVyZV9wb3MsdV9wZXJzcGVjdGl2ZV90cmFuc2Zvcm0pO2dsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQoYV9wb3MqdywwLHcpO3ZfcG9zMD1hX3RleHR1cmVfcG9zLzgxOTIuMDt2X3BvczE9KHZfcG9zMCp1X3NjYWxlX3BhcmVudCkrdV90bF9wYXJlbnQ7XFxuI2lmZGVmIEZPR1xcbnZfZm9nX3Bvcz1mb2dfcG9zaXRpb24oYV9wb3MpO1xcbiNlbmRpZlxcbn1cIiksc3ltYm9sSWNvbjpwaShcInVuaWZvcm0gc2FtcGxlcjJEIHVfdGV4dHVyZTt2YXJ5aW5nIHZlYzIgdl90ZXg7dmFyeWluZyBmbG9hdCB2X2ZhZGVfb3BhY2l0eTtcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxcbnZvaWQgbWFpbigpIHtcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG5sb3dwIGZsb2F0IGFscGhhPW9wYWNpdHkqdl9mYWRlX29wYWNpdHk7Z2xfRnJhZ0NvbG9yPXRleHR1cmUyRCh1X3RleHR1cmUsdl90ZXgpKmFscGhhO1xcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xcbiNlbmRpZlxcbn1cIixcImF0dHJpYnV0ZSB2ZWM0IGFfcG9zX29mZnNldDthdHRyaWJ1dGUgdmVjNCBhX3RleF9zaXplO2F0dHJpYnV0ZSB2ZWM0IGFfcGl4ZWxvZmZzZXQ7YXR0cmlidXRlIHZlYzQgYV9wcm9qZWN0ZWRfcG9zO2F0dHJpYnV0ZSBmbG9hdCBhX2ZhZGVfb3BhY2l0eTtcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxuYXR0cmlidXRlIHZlYzMgYV9nbG9iZV9hbmNob3I7YXR0cmlidXRlIHZlYzMgYV9nbG9iZV9ub3JtYWw7XFxuI2VuZGlmXFxudW5pZm9ybSBib29sIHVfaXNfc2l6ZV96b29tX2NvbnN0YW50O3VuaWZvcm0gYm9vbCB1X2lzX3NpemVfZmVhdHVyZV9jb25zdGFudDt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfc2l6ZV90O3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9zaXplO3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlO3VuaWZvcm0gYm9vbCB1X3JvdGF0ZV9zeW1ib2w7dW5pZm9ybSBoaWdocCBmbG9hdCB1X2FzcGVjdF9yYXRpbzt1bmlmb3JtIGZsb2F0IHVfZmFkZV9jaGFuZ2U7dW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gbWF0NCB1X2xhYmVsX3BsYW5lX21hdHJpeDt1bmlmb3JtIG1hdDQgdV9jb29yZF9tYXRyaXg7dW5pZm9ybSBib29sIHVfaXNfdGV4dDt1bmlmb3JtIGJvb2wgdV9waXRjaF93aXRoX21hcDt1bmlmb3JtIHZlYzIgdV90ZXhzaXplO3VuaWZvcm0gdmVjMyB1X3VwX3ZlY3RvcjtcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxudW5pZm9ybSB2ZWMzIHVfdGlsZV9pZDt1bmlmb3JtIG1hdDQgdV9pbnZfcm90X21hdHJpeDt1bmlmb3JtIHZlYzIgdV9tZXJjX2NlbnRlcjt1bmlmb3JtIHZlYzMgdV9jYW1lcmFfZm9yd2FyZDt1bmlmb3JtIGZsb2F0IHVfem9vbV90cmFuc2l0aW9uO3VuaWZvcm0gdmVjMyB1X2VjZWZfb3JpZ2luO3VuaWZvcm0gbWF0NCB1X3RpbGVfbWF0cml4O1xcbiNlbmRpZlxcbnZhcnlpbmcgdmVjMiB2X3RleDt2YXJ5aW5nIGZsb2F0IHZfZmFkZV9vcGFjaXR5O1xcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XFxudm9pZCBtYWluKCkge1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxcbnZlYzIgYV9wb3M9YV9wb3Nfb2Zmc2V0Lnh5O3ZlYzIgYV9vZmZzZXQ9YV9wb3Nfb2Zmc2V0Lnp3O3ZlYzIgYV90ZXg9YV90ZXhfc2l6ZS54eTt2ZWMyIGFfc2l6ZT1hX3RleF9zaXplLnp3O2Zsb2F0IGFfc2l6ZV9taW49Zmxvb3IoYV9zaXplWzBdKjAuNSk7dmVjMiBhX3B4b2Zmc2V0PWFfcGl4ZWxvZmZzZXQueHk7dmVjMiBhX21pbl9mb250X3NjYWxlPWFfcGl4ZWxvZmZzZXQuencvMjU2LjA7aGlnaHAgZmxvYXQgc2VnbWVudF9hbmdsZT0tYV9wcm9qZWN0ZWRfcG9zWzNdO2Zsb2F0IHNpemU7aWYgKCF1X2lzX3NpemVfem9vbV9jb25zdGFudCAmJiAhdV9pc19zaXplX2ZlYXR1cmVfY29uc3RhbnQpIHtzaXplPW1peChhX3NpemVfbWluLGFfc2l6ZVsxXSx1X3NpemVfdCkvMTI4LjA7fSBlbHNlIGlmICh1X2lzX3NpemVfem9vbV9jb25zdGFudCAmJiAhdV9pc19zaXplX2ZlYXR1cmVfY29uc3RhbnQpIHtzaXplPWFfc2l6ZV9taW4vMTI4LjA7fSBlbHNlIHtzaXplPXVfc2l6ZTt9dmVjMiB0aWxlX2FuY2hvcj1hX3Bvczt2ZWMzIGg9ZWxldmF0aW9uVmVjdG9yKHRpbGVfYW5jaG9yKSplbGV2YXRpb24odGlsZV9hbmNob3IpO1xcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG52ZWMzIG1lcmNhdG9yX3Bvcz1tZXJjYXRvcl90aWxlX3Bvc2l0aW9uKHVfaW52X3JvdF9tYXRyaXgsdGlsZV9hbmNob3IsdV90aWxlX2lkLHVfbWVyY19jZW50ZXIpO3ZlYzMgd29ybGRfcG9zPW1peF9nbG9iZV9tZXJjYXRvcihhX2dsb2JlX2FuY2hvcitoLG1lcmNhdG9yX3Bvcyx1X3pvb21fdHJhbnNpdGlvbik7dmVjNCBlY2VmX3BvaW50PXVfdGlsZV9tYXRyaXgqdmVjNCh3b3JsZF9wb3MsMS4wKTt2ZWMzIG9yaWdpbl90b19wb2ludD1lY2VmX3BvaW50Lnh5ei11X2VjZWZfb3JpZ2luO2Zsb2F0IGdsb2JlX29jY2x1c2lvbl9mYWRlPWRvdChvcmlnaW5fdG9fcG9pbnQsdV9jYW1lcmFfZm9yd2FyZCkgPj0wLjAgPyAwLjAgOiAxLjA7XFxuI2Vsc2VcXG52ZWMzIHdvcmxkX3Bvcz12ZWMzKHRpbGVfYW5jaG9yLDApK2g7ZmxvYXQgZ2xvYmVfb2NjbHVzaW9uX2ZhZGU9MS4wO1xcbiNlbmRpZlxcbnZlYzQgcHJvamVjdGVkX3BvaW50PXVfbWF0cml4KnZlYzQod29ybGRfcG9zLDEpO2hpZ2hwIGZsb2F0IGNhbWVyYV90b19hbmNob3JfZGlzdGFuY2U9cHJvamVjdGVkX3BvaW50Lnc7aGlnaHAgZmxvYXQgZGlzdGFuY2VfcmF0aW89dV9waXRjaF93aXRoX21hcCA/XFxuY2FtZXJhX3RvX2FuY2hvcl9kaXN0YW5jZS91X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2UgOlxcbnVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZS9jYW1lcmFfdG9fYW5jaG9yX2Rpc3RhbmNlO2hpZ2hwIGZsb2F0IHBlcnNwZWN0aXZlX3JhdGlvPWNsYW1wKFxcbjAuNSswLjUqZGlzdGFuY2VfcmF0aW8sMC4wLDEuNSk7c2l6ZSo9cGVyc3BlY3RpdmVfcmF0aW87ZmxvYXQgZm9udF9zY2FsZT11X2lzX3RleHQgPyBzaXplLzI0LjAgOiBzaXplO2hpZ2hwIGZsb2F0IHN5bWJvbF9yb3RhdGlvbj0wLjA7aWYgKHVfcm90YXRlX3N5bWJvbCkge1xcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG52ZWMzIGRpc3BsYWNlbWVudD12ZWMzKGFfZ2xvYmVfbm9ybWFsLnosMCwtYV9nbG9iZV9ub3JtYWwueCk7dmVjNCBvZmZzZXRQcm9qZWN0ZWRfcG9pbnQ9dV9tYXRyaXgqdmVjNChhX2dsb2JlX2FuY2hvcitkaXNwbGFjZW1lbnQsMSk7XFxuI2Vsc2VcXG52ZWM0IG9mZnNldFByb2plY3RlZF9wb2ludD11X21hdHJpeCp2ZWM0KHRpbGVfYW5jaG9yK3ZlYzIoMSwwKSwwLDEpO1xcbiNlbmRpZlxcbnZlYzIgYT1wcm9qZWN0ZWRfcG9pbnQueHkvcHJvamVjdGVkX3BvaW50Lnc7dmVjMiBiPW9mZnNldFByb2plY3RlZF9wb2ludC54eS9vZmZzZXRQcm9qZWN0ZWRfcG9pbnQudztzeW1ib2xfcm90YXRpb249YXRhbigoYi55LWEueSkvdV9hc3BlY3RfcmF0aW8sYi54LWEueCk7fVxcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG52ZWMzIHByb2pfcG9zPW1peF9nbG9iZV9tZXJjYXRvcihhX3Byb2plY3RlZF9wb3MueHl6K2gsbWVyY2F0b3JfcG9zLHVfem9vbV90cmFuc2l0aW9uKTt2ZWM0IHByb2plY3RlZF9wb3M9dV9sYWJlbF9wbGFuZV9tYXRyaXgqdmVjNChwcm9qX3BvcywxLjApO1xcbiNlbHNlXFxudmVjNCBwcm9qZWN0ZWRfcG9zPXVfbGFiZWxfcGxhbmVfbWF0cml4KnZlYzQoYV9wcm9qZWN0ZWRfcG9zLnh5LGgueiwxLjApO1xcbiNlbmRpZlxcbmhpZ2hwIGZsb2F0IGFuZ2xlX3Npbj1zaW4oc2VnbWVudF9hbmdsZStzeW1ib2xfcm90YXRpb24pO2hpZ2hwIGZsb2F0IGFuZ2xlX2Nvcz1jb3Moc2VnbWVudF9hbmdsZStzeW1ib2xfcm90YXRpb24pO21hdDIgcm90YXRpb25fbWF0cml4PW1hdDIoYW5nbGVfY29zLC0xLjAqYW5nbGVfc2luLGFuZ2xlX3NpbixhbmdsZV9jb3MpO2Zsb2F0IHo9MC4wO3ZlYzIgb2Zmc2V0PXJvdGF0aW9uX21hdHJpeCooYV9vZmZzZXQvMzIuMCptYXgoYV9taW5fZm9udF9zY2FsZSxmb250X3NjYWxlKSthX3B4b2Zmc2V0LzE2LjApO1xcbiNpZmRlZiBQSVRDSF9XSVRIX01BUF9URVJSQUlOXFxudmVjNCB0aWxlX3Bvcz11X2xhYmVsX3BsYW5lX21hdHJpeF9pbnYqdmVjNChhX3Byb2plY3RlZF9wb3MueHkrb2Zmc2V0LDAuMCwxLjApO3o9ZWxldmF0aW9uKHRpbGVfcG9zLnh5KTtcXG4jZW5kaWZcXG5mbG9hdCBvY2NsdXNpb25fZmFkZT1vY2NsdXNpb25GYWRlKHByb2plY3RlZF9wb2ludCkqZ2xvYmVfb2NjbHVzaW9uX2ZhZGU7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbnZlYzMgeEF4aXM9dV9waXRjaF93aXRoX21hcCA/IG5vcm1hbGl6ZShjcm9zcyhhX2dsb2JlX25vcm1hbCx1X3VwX3ZlY3RvcikpIDogdmVjMygxLDAsMCk7dmVjMyB5QXhpcz11X3BpdGNoX3dpdGhfbWFwID8gbm9ybWFsaXplKGNyb3NzKGFfZ2xvYmVfbm9ybWFsLHhBeGlzKSkgOiB2ZWMzKDAsMSwwKTtnbF9Qb3NpdGlvbj1taXgodV9jb29yZF9tYXRyaXgqdmVjNChwcm9qZWN0ZWRfcG9zLnh5ei9wcm9qZWN0ZWRfcG9zLncreEF4aXMqb2Zmc2V0LngreUF4aXMqb2Zmc2V0LnksMS4wKSxBV0FZLGZsb2F0KHByb2plY3RlZF9wb2ludC53IDw9MC4wIHx8IG9jY2x1c2lvbl9mYWRlPT0wLjApKTtcXG4jZWxzZVxcbmdsX1Bvc2l0aW9uPW1peCh1X2Nvb3JkX21hdHJpeCp2ZWM0KHByb2plY3RlZF9wb3MueHkvcHJvamVjdGVkX3Bvcy53K29mZnNldCx6LDEuMCksQVdBWSxmbG9hdChwcm9qZWN0ZWRfcG9pbnQudyA8PTAuMCB8fCBvY2NsdXNpb25fZmFkZT09MC4wKSk7XFxuI2VuZGlmXFxuZmxvYXQgcHJvamVjdGlvbl90cmFuc2l0aW9uX2ZhZGU9MS4wO1xcbiNpZiBkZWZpbmVkKFBST0pFQ1RFRF9QT1NfT05fVklFV1BPUlQpICYmIGRlZmluZWQoUFJPSkVDVElPTl9HTE9CRV9WSUVXKVxcbnByb2plY3Rpb25fdHJhbnNpdGlvbl9mYWRlPTEuMC1zdGVwKEVQU0lMT04sdV96b29tX3RyYW5zaXRpb24pO1xcbiNlbmRpZlxcbnZfdGV4PWFfdGV4L3VfdGV4c2l6ZTt2ZWMyIGZhZGVfb3BhY2l0eT11bnBhY2tfb3BhY2l0eShhX2ZhZGVfb3BhY2l0eSk7ZmxvYXQgZmFkZV9jaGFuZ2U9ZmFkZV9vcGFjaXR5WzFdID4gMC41ID8gdV9mYWRlX2NoYW5nZSA6LXVfZmFkZV9jaGFuZ2U7dl9mYWRlX29wYWNpdHk9bWF4KDAuMCxtaW4ob2NjbHVzaW9uX2ZhZGUsZmFkZV9vcGFjaXR5WzBdK2ZhZGVfY2hhbmdlKSkqcHJvamVjdGlvbl90cmFuc2l0aW9uX2ZhZGU7fVwiKSxzeW1ib2xTREY6cGkoXCIjZGVmaW5lIFNERl9QWCA4LjBcXG51bmlmb3JtIGJvb2wgdV9pc19oYWxvO3VuaWZvcm0gc2FtcGxlcjJEIHVfdGV4dHVyZTt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfZ2FtbWFfc2NhbGU7dW5pZm9ybSBsb3dwIGZsb2F0IHVfZGV2aWNlX3BpeGVsX3JhdGlvO3VuaWZvcm0gYm9vbCB1X2lzX3RleHQ7dmFyeWluZyB2ZWMyIHZfZGF0YTA7dmFyeWluZyB2ZWMzIHZfZGF0YTE7XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IGZpbGxfY29sb3JcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgaGFsb19jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGhhbG9fd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgaGFsb19ibHVyXFxudm9pZCBtYWluKCkge1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgZmlsbF9jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgaGFsb19jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgaGFsb193aWR0aFxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgaGFsb19ibHVyXFxuZmxvYXQgRURHRV9HQU1NQT0wLjEwNS91X2RldmljZV9waXhlbF9yYXRpbzt2ZWMyIHRleD12X2RhdGEwLnh5O2Zsb2F0IGdhbW1hX3NjYWxlPXZfZGF0YTEueDtmbG9hdCBzaXplPXZfZGF0YTEueTtmbG9hdCBmYWRlX29wYWNpdHk9dl9kYXRhMVsyXTtmbG9hdCBmb250U2NhbGU9dV9pc190ZXh0ID8gc2l6ZS8yNC4wIDogc2l6ZTtsb3dwIHZlYzQgY29sb3I9ZmlsbF9jb2xvcjtoaWdocCBmbG9hdCBnYW1tYT1FREdFX0dBTU1BLyhmb250U2NhbGUqdV9nYW1tYV9zY2FsZSk7bG93cCBmbG9hdCBidWZmPSgyNTYuMC02NC4wKS8yNTYuMDtpZiAodV9pc19oYWxvKSB7Y29sb3I9aGFsb19jb2xvcjtnYW1tYT0oaGFsb19ibHVyKjEuMTkvU0RGX1BYK0VER0VfR0FNTUEpLyhmb250U2NhbGUqdV9nYW1tYV9zY2FsZSk7YnVmZj0oNi4wLWhhbG9fd2lkdGgvZm9udFNjYWxlKS9TREZfUFg7fWxvd3AgZmxvYXQgZGlzdD10ZXh0dXJlMkQodV90ZXh0dXJlLHRleCkuYTtoaWdocCBmbG9hdCBnYW1tYV9zY2FsZWQ9Z2FtbWEqZ2FtbWFfc2NhbGU7aGlnaHAgZmxvYXQgYWxwaGE9c21vb3Roc3RlcChidWZmLWdhbW1hX3NjYWxlZCxidWZmK2dhbW1hX3NjYWxlZCxkaXN0KTtnbF9GcmFnQ29sb3I9Y29sb3IqKGFscGhhKm9wYWNpdHkqZmFkZV9vcGFjaXR5KTtcXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuZ2xfRnJhZ0NvbG9yPXZlYzQoMS4wKTtcXG4jZW5kaWZcXG59XCIsXCJhdHRyaWJ1dGUgdmVjNCBhX3Bvc19vZmZzZXQ7YXR0cmlidXRlIHZlYzQgYV90ZXhfc2l6ZTthdHRyaWJ1dGUgdmVjNCBhX3BpeGVsb2Zmc2V0O2F0dHJpYnV0ZSB2ZWM0IGFfcHJvamVjdGVkX3BvczthdHRyaWJ1dGUgZmxvYXQgYV9mYWRlX29wYWNpdHk7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbmF0dHJpYnV0ZSB2ZWMzIGFfZ2xvYmVfYW5jaG9yO2F0dHJpYnV0ZSB2ZWMzIGFfZ2xvYmVfbm9ybWFsO1xcbiNlbmRpZlxcbnVuaWZvcm0gYm9vbCB1X2lzX3NpemVfem9vbV9jb25zdGFudDt1bmlmb3JtIGJvb2wgdV9pc19zaXplX2ZlYXR1cmVfY29uc3RhbnQ7dW5pZm9ybSBoaWdocCBmbG9hdCB1X3NpemVfdDt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfc2l6ZTt1bmlmb3JtIG1hdDQgdV9tYXRyaXg7dW5pZm9ybSBtYXQ0IHVfbGFiZWxfcGxhbmVfbWF0cml4O3VuaWZvcm0gbWF0NCB1X2Nvb3JkX21hdHJpeDt1bmlmb3JtIGJvb2wgdV9pc190ZXh0O3VuaWZvcm0gYm9vbCB1X3BpdGNoX3dpdGhfbWFwO3VuaWZvcm0gYm9vbCB1X3JvdGF0ZV9zeW1ib2w7dW5pZm9ybSBoaWdocCBmbG9hdCB1X2FzcGVjdF9yYXRpbzt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZTt1bmlmb3JtIGZsb2F0IHVfZmFkZV9jaGFuZ2U7dW5pZm9ybSB2ZWMyIHVfdGV4c2l6ZTt1bmlmb3JtIHZlYzMgdV91cF92ZWN0b3I7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbnVuaWZvcm0gdmVjMyB1X3RpbGVfaWQ7dW5pZm9ybSBtYXQ0IHVfaW52X3JvdF9tYXRyaXg7dW5pZm9ybSB2ZWMyIHVfbWVyY19jZW50ZXI7dW5pZm9ybSB2ZWMzIHVfY2FtZXJhX2ZvcndhcmQ7dW5pZm9ybSBmbG9hdCB1X3pvb21fdHJhbnNpdGlvbjt1bmlmb3JtIHZlYzMgdV9lY2VmX29yaWdpbjt1bmlmb3JtIG1hdDQgdV90aWxlX21hdHJpeDtcXG4jZW5kaWZcXG52YXJ5aW5nIHZlYzIgdl9kYXRhMDt2YXJ5aW5nIHZlYzMgdl9kYXRhMTtcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgZmlsbF9jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBoYWxvX2NvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgaGFsb193aWR0aFxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBoYWxvX2JsdXJcXG52b2lkIG1haW4oKSB7XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgdmVjNCBmaWxsX2NvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgdmVjNCBoYWxvX2NvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBoYWxvX3dpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBoYWxvX2JsdXJcXG52ZWMyIGFfcG9zPWFfcG9zX29mZnNldC54eTt2ZWMyIGFfb2Zmc2V0PWFfcG9zX29mZnNldC56dzt2ZWMyIGFfdGV4PWFfdGV4X3NpemUueHk7dmVjMiBhX3NpemU9YV90ZXhfc2l6ZS56dztmbG9hdCBhX3NpemVfbWluPWZsb29yKGFfc2l6ZVswXSowLjUpO3ZlYzIgYV9weG9mZnNldD1hX3BpeGVsb2Zmc2V0Lnh5O2hpZ2hwIGZsb2F0IHNlZ21lbnRfYW5nbGU9LWFfcHJvamVjdGVkX3Bvc1szXTtmbG9hdCBzaXplO2lmICghdV9pc19zaXplX3pvb21fY29uc3RhbnQgJiYgIXVfaXNfc2l6ZV9mZWF0dXJlX2NvbnN0YW50KSB7c2l6ZT1taXgoYV9zaXplX21pbixhX3NpemVbMV0sdV9zaXplX3QpLzEyOC4wO30gZWxzZSBpZiAodV9pc19zaXplX3pvb21fY29uc3RhbnQgJiYgIXVfaXNfc2l6ZV9mZWF0dXJlX2NvbnN0YW50KSB7c2l6ZT1hX3NpemVfbWluLzEyOC4wO30gZWxzZSB7c2l6ZT11X3NpemU7fXZlYzIgdGlsZV9hbmNob3I9YV9wb3M7dmVjMyBoPWVsZXZhdGlvblZlY3Rvcih0aWxlX2FuY2hvcikqZWxldmF0aW9uKHRpbGVfYW5jaG9yKTtcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxudmVjMyBtZXJjYXRvcl9wb3M9bWVyY2F0b3JfdGlsZV9wb3NpdGlvbih1X2ludl9yb3RfbWF0cml4LHRpbGVfYW5jaG9yLHVfdGlsZV9pZCx1X21lcmNfY2VudGVyKTt2ZWMzIHdvcmxkX3Bvcz1taXhfZ2xvYmVfbWVyY2F0b3IoYV9nbG9iZV9hbmNob3IraCxtZXJjYXRvcl9wb3MsdV96b29tX3RyYW5zaXRpb24pO3ZlYzQgZWNlZl9wb2ludD11X3RpbGVfbWF0cml4KnZlYzQod29ybGRfcG9zLDEuMCk7dmVjMyBvcmlnaW5fdG9fcG9pbnQ9ZWNlZl9wb2ludC54eXotdV9lY2VmX29yaWdpbjtmbG9hdCBnbG9iZV9vY2NsdXNpb25fZmFkZT1kb3Qob3JpZ2luX3RvX3BvaW50LHVfY2FtZXJhX2ZvcndhcmQpID49MC4wID8gMC4wIDogMS4wO1xcbiNlbHNlXFxudmVjMyB3b3JsZF9wb3M9dmVjMyh0aWxlX2FuY2hvciwwKStoO2Zsb2F0IGdsb2JlX29jY2x1c2lvbl9mYWRlPTEuMDtcXG4jZW5kaWZcXG52ZWM0IHByb2plY3RlZF9wb2ludD11X21hdHJpeCp2ZWM0KHdvcmxkX3BvcywxKTtoaWdocCBmbG9hdCBjYW1lcmFfdG9fYW5jaG9yX2Rpc3RhbmNlPXByb2plY3RlZF9wb2ludC53O2hpZ2hwIGZsb2F0IGRpc3RhbmNlX3JhdGlvPXVfcGl0Y2hfd2l0aF9tYXAgP1xcbmNhbWVyYV90b19hbmNob3JfZGlzdGFuY2UvdV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlIDpcXG51X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2UvY2FtZXJhX3RvX2FuY2hvcl9kaXN0YW5jZTtoaWdocCBmbG9hdCBwZXJzcGVjdGl2ZV9yYXRpbz1jbGFtcChcXG4wLjUrMC41KmRpc3RhbmNlX3JhdGlvLDAuMCwxLjUpO3NpemUqPXBlcnNwZWN0aXZlX3JhdGlvO2Zsb2F0IGZvbnRTY2FsZT11X2lzX3RleHQgPyBzaXplLzI0LjAgOiBzaXplO2hpZ2hwIGZsb2F0IHN5bWJvbF9yb3RhdGlvbj0wLjA7aWYgKHVfcm90YXRlX3N5bWJvbCkge1xcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG52ZWMzIGRpc3BsYWNlbWVudD12ZWMzKGFfZ2xvYmVfbm9ybWFsLnosMCwtYV9nbG9iZV9ub3JtYWwueCk7dmVjNCBvZmZzZXRwcm9qZWN0ZWRfcG9pbnQ9dV9tYXRyaXgqdmVjNChhX2dsb2JlX2FuY2hvcitkaXNwbGFjZW1lbnQsMSk7XFxuI2Vsc2VcXG52ZWM0IG9mZnNldHByb2plY3RlZF9wb2ludD11X21hdHJpeCp2ZWM0KHRpbGVfYW5jaG9yK3ZlYzIoMSwwKSwwLDEpO1xcbiNlbmRpZlxcbnZlYzIgYT1wcm9qZWN0ZWRfcG9pbnQueHkvcHJvamVjdGVkX3BvaW50Lnc7dmVjMiBiPW9mZnNldHByb2plY3RlZF9wb2ludC54eS9vZmZzZXRwcm9qZWN0ZWRfcG9pbnQudztzeW1ib2xfcm90YXRpb249YXRhbigoYi55LWEueSkvdV9hc3BlY3RfcmF0aW8sYi54LWEueCk7fVxcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG52ZWMzIHByb2pfcG9zPW1peF9nbG9iZV9tZXJjYXRvcihhX3Byb2plY3RlZF9wb3MueHl6K2gsbWVyY2F0b3JfcG9zLHVfem9vbV90cmFuc2l0aW9uKTt2ZWM0IHByb2plY3RlZF9wb3M9dV9sYWJlbF9wbGFuZV9tYXRyaXgqdmVjNChwcm9qX3BvcywxLjApO1xcbiNlbHNlXFxudmVjNCBwcm9qZWN0ZWRfcG9zPXVfbGFiZWxfcGxhbmVfbWF0cml4KnZlYzQoYV9wcm9qZWN0ZWRfcG9zLnh5LGgueiwxLjApO1xcbiNlbmRpZlxcbmhpZ2hwIGZsb2F0IGFuZ2xlX3Npbj1zaW4oc2VnbWVudF9hbmdsZStzeW1ib2xfcm90YXRpb24pO2hpZ2hwIGZsb2F0IGFuZ2xlX2Nvcz1jb3Moc2VnbWVudF9hbmdsZStzeW1ib2xfcm90YXRpb24pO21hdDIgcm90YXRpb25fbWF0cml4PW1hdDIoYW5nbGVfY29zLC0xLjAqYW5nbGVfc2luLGFuZ2xlX3NpbixhbmdsZV9jb3MpO2Zsb2F0IHo9MC4wO3ZlYzIgb2Zmc2V0PXJvdGF0aW9uX21hdHJpeCooYV9vZmZzZXQvMzIuMCpmb250U2NhbGUrYV9weG9mZnNldCk7XFxuI2lmZGVmIFBJVENIX1dJVEhfTUFQX1RFUlJBSU5cXG52ZWM0IHRpbGVfcG9zPXVfbGFiZWxfcGxhbmVfbWF0cml4X2ludip2ZWM0KGFfcHJvamVjdGVkX3Bvcy54eStvZmZzZXQsMC4wLDEuMCk7ej1lbGV2YXRpb24odGlsZV9wb3MueHkpO1xcbiNlbmRpZlxcbmZsb2F0IG9jY2x1c2lvbl9mYWRlPW9jY2x1c2lvbkZhZGUocHJvamVjdGVkX3BvaW50KSpnbG9iZV9vY2NsdXNpb25fZmFkZTtcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxudmVjMyB4QXhpcz11X3BpdGNoX3dpdGhfbWFwID8gbm9ybWFsaXplKGNyb3NzKGFfZ2xvYmVfbm9ybWFsLHVfdXBfdmVjdG9yKSkgOiB2ZWMzKDEsMCwwKTt2ZWMzIHlBeGlzPXVfcGl0Y2hfd2l0aF9tYXAgPyBub3JtYWxpemUoY3Jvc3MoYV9nbG9iZV9ub3JtYWwseEF4aXMpKSA6IHZlYzMoMCwxLDApO2dsX1Bvc2l0aW9uPW1peCh1X2Nvb3JkX21hdHJpeCp2ZWM0KHByb2plY3RlZF9wb3MueHl6L3Byb2plY3RlZF9wb3Mudyt4QXhpcypvZmZzZXQueCt5QXhpcypvZmZzZXQueSwxLjApLEFXQVksZmxvYXQocHJvamVjdGVkX3BvaW50LncgPD0wLjAgfHwgb2NjbHVzaW9uX2ZhZGU9PTAuMCkpO1xcbiNlbHNlXFxuZ2xfUG9zaXRpb249bWl4KHVfY29vcmRfbWF0cml4KnZlYzQocHJvamVjdGVkX3Bvcy54eS9wcm9qZWN0ZWRfcG9zLncrb2Zmc2V0LHosMS4wKSxBV0FZLGZsb2F0KHByb2plY3RlZF9wb2ludC53IDw9MC4wIHx8IG9jY2x1c2lvbl9mYWRlPT0wLjApKTtcXG4jZW5kaWZcXG5mbG9hdCBnYW1tYV9zY2FsZT1nbF9Qb3NpdGlvbi53O2Zsb2F0IHByb2plY3Rpb25fdHJhbnNpdGlvbl9mYWRlPTEuMDtcXG4jaWYgZGVmaW5lZChQUk9KRUNURURfUE9TX09OX1ZJRVdQT1JUKSAmJiBkZWZpbmVkKFBST0pFQ1RJT05fR0xPQkVfVklFVylcXG5wcm9qZWN0aW9uX3RyYW5zaXRpb25fZmFkZT0xLjAtc3RlcChFUFNJTE9OLHVfem9vbV90cmFuc2l0aW9uKTtcXG4jZW5kaWZcXG52ZWMyIGZhZGVfb3BhY2l0eT11bnBhY2tfb3BhY2l0eShhX2ZhZGVfb3BhY2l0eSk7ZmxvYXQgZmFkZV9jaGFuZ2U9ZmFkZV9vcGFjaXR5WzFdID4gMC41ID8gdV9mYWRlX2NoYW5nZSA6LXVfZmFkZV9jaGFuZ2U7ZmxvYXQgaW50ZXJwb2xhdGVkX2ZhZGVfb3BhY2l0eT1tYXgoMC4wLG1pbihvY2NsdXNpb25fZmFkZSxmYWRlX29wYWNpdHlbMF0rZmFkZV9jaGFuZ2UpKTt2X2RhdGEwPWFfdGV4L3VfdGV4c2l6ZTt2X2RhdGExPXZlYzMoZ2FtbWFfc2NhbGUsc2l6ZSxpbnRlcnBvbGF0ZWRfZmFkZV9vcGFjaXR5KnByb2plY3Rpb25fdHJhbnNpdGlvbl9mYWRlKTt9XCIpLHN5bWJvbFRleHRBbmRJY29uOnBpKFwiI2RlZmluZSBTREZfUFggOC4wXFxuI2RlZmluZSBTREYgMS4wXFxuI2RlZmluZSBJQ09OIDAuMFxcbnVuaWZvcm0gYm9vbCB1X2lzX2hhbG87dW5pZm9ybSBzYW1wbGVyMkQgdV90ZXh0dXJlO3VuaWZvcm0gc2FtcGxlcjJEIHVfdGV4dHVyZV9pY29uO3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9nYW1tYV9zY2FsZTt1bmlmb3JtIGxvd3AgZmxvYXQgdV9kZXZpY2VfcGl4ZWxfcmF0aW87dmFyeWluZyB2ZWM0IHZfZGF0YTA7dmFyeWluZyB2ZWM0IHZfZGF0YTE7XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IGZpbGxfY29sb3JcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgaGFsb19jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGhhbG9fd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgaGFsb19ibHVyXFxudm9pZCBtYWluKCkge1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgZmlsbF9jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgaGFsb19jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgaGFsb193aWR0aFxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgaGFsb19ibHVyXFxuZmxvYXQgZmFkZV9vcGFjaXR5PXZfZGF0YTFbMl07aWYgKHZfZGF0YTEudz09SUNPTikge3ZlYzIgdGV4X2ljb249dl9kYXRhMC56dztsb3dwIGZsb2F0IGFscGhhPW9wYWNpdHkqZmFkZV9vcGFjaXR5O2dsX0ZyYWdDb2xvcj10ZXh0dXJlMkQodV90ZXh0dXJlX2ljb24sdGV4X2ljb24pKmFscGhhO1xcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xcbiNlbmRpZlxcbnJldHVybjt9dmVjMiB0ZXg9dl9kYXRhMC54eTtmbG9hdCBFREdFX0dBTU1BPTAuMTA1L3VfZGV2aWNlX3BpeGVsX3JhdGlvO2Zsb2F0IGdhbW1hX3NjYWxlPXZfZGF0YTEueDtmbG9hdCBzaXplPXZfZGF0YTEueTtmbG9hdCBmb250U2NhbGU9c2l6ZS8yNC4wO2xvd3AgdmVjNCBjb2xvcj1maWxsX2NvbG9yO2hpZ2hwIGZsb2F0IGdhbW1hPUVER0VfR0FNTUEvKGZvbnRTY2FsZSp1X2dhbW1hX3NjYWxlKTtsb3dwIGZsb2F0IGJ1ZmY9KDI1Ni4wLTY0LjApLzI1Ni4wO2lmICh1X2lzX2hhbG8pIHtjb2xvcj1oYWxvX2NvbG9yO2dhbW1hPShoYWxvX2JsdXIqMS4xOS9TREZfUFgrRURHRV9HQU1NQSkvKGZvbnRTY2FsZSp1X2dhbW1hX3NjYWxlKTtidWZmPSg2LjAtaGFsb193aWR0aC9mb250U2NhbGUpL1NERl9QWDt9bG93cCBmbG9hdCBkaXN0PXRleHR1cmUyRCh1X3RleHR1cmUsdGV4KS5hO2hpZ2hwIGZsb2F0IGdhbW1hX3NjYWxlZD1nYW1tYSpnYW1tYV9zY2FsZTtoaWdocCBmbG9hdCBhbHBoYT1zbW9vdGhzdGVwKGJ1ZmYtZ2FtbWFfc2NhbGVkLGJ1ZmYrZ2FtbWFfc2NhbGVkLGRpc3QpO2dsX0ZyYWdDb2xvcj1jb2xvciooYWxwaGEqb3BhY2l0eSpmYWRlX29wYWNpdHkpO1xcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xcbiNlbmRpZlxcbn1cIixcImF0dHJpYnV0ZSB2ZWM0IGFfcG9zX29mZnNldDthdHRyaWJ1dGUgdmVjNCBhX3RleF9zaXplO2F0dHJpYnV0ZSB2ZWM0IGFfcHJvamVjdGVkX3BvczthdHRyaWJ1dGUgZmxvYXQgYV9mYWRlX29wYWNpdHk7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbmF0dHJpYnV0ZSB2ZWMzIGFfZ2xvYmVfYW5jaG9yO2F0dHJpYnV0ZSB2ZWMzIGFfZ2xvYmVfbm9ybWFsO1xcbiNlbmRpZlxcbnVuaWZvcm0gYm9vbCB1X2lzX3NpemVfem9vbV9jb25zdGFudDt1bmlmb3JtIGJvb2wgdV9pc19zaXplX2ZlYXR1cmVfY29uc3RhbnQ7dW5pZm9ybSBoaWdocCBmbG9hdCB1X3NpemVfdDt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfc2l6ZTt1bmlmb3JtIG1hdDQgdV9tYXRyaXg7dW5pZm9ybSBtYXQ0IHVfbGFiZWxfcGxhbmVfbWF0cml4O3VuaWZvcm0gbWF0NCB1X2Nvb3JkX21hdHJpeDt1bmlmb3JtIGJvb2wgdV9pc190ZXh0O3VuaWZvcm0gYm9vbCB1X3BpdGNoX3dpdGhfbWFwO3VuaWZvcm0gYm9vbCB1X3JvdGF0ZV9zeW1ib2w7dW5pZm9ybSBoaWdocCBmbG9hdCB1X2FzcGVjdF9yYXRpbzt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZTt1bmlmb3JtIGZsb2F0IHVfZmFkZV9jaGFuZ2U7dW5pZm9ybSB2ZWMyIHVfdGV4c2l6ZTt1bmlmb3JtIHZlYzMgdV91cF92ZWN0b3I7dW5pZm9ybSB2ZWMyIHVfdGV4c2l6ZV9pY29uO1xcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG51bmlmb3JtIHZlYzMgdV90aWxlX2lkO3VuaWZvcm0gbWF0NCB1X2ludl9yb3RfbWF0cml4O3VuaWZvcm0gdmVjMiB1X21lcmNfY2VudGVyO3VuaWZvcm0gdmVjMyB1X2NhbWVyYV9mb3J3YXJkO3VuaWZvcm0gZmxvYXQgdV96b29tX3RyYW5zaXRpb247dW5pZm9ybSB2ZWMzIHVfZWNlZl9vcmlnaW47dW5pZm9ybSBtYXQ0IHVfdGlsZV9tYXRyaXg7XFxuI2VuZGlmXFxudmFyeWluZyB2ZWM0IHZfZGF0YTA7dmFyeWluZyB2ZWM0IHZfZGF0YTE7XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IGZpbGxfY29sb3JcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgaGFsb19jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGhhbG9fd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgaGFsb19ibHVyXFxudm9pZCBtYWluKCkge1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgZmlsbF9jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgaGFsb19jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgaGFsb193aWR0aFxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgaGFsb19ibHVyXFxudmVjMiBhX3Bvcz1hX3Bvc19vZmZzZXQueHk7dmVjMiBhX29mZnNldD1hX3Bvc19vZmZzZXQuenc7dmVjMiBhX3RleD1hX3RleF9zaXplLnh5O3ZlYzIgYV9zaXplPWFfdGV4X3NpemUuenc7ZmxvYXQgYV9zaXplX21pbj1mbG9vcihhX3NpemVbMF0qMC41KTtmbG9hdCBpc19zZGY9YV9zaXplWzBdLTIuMCphX3NpemVfbWluO2hpZ2hwIGZsb2F0IHNlZ21lbnRfYW5nbGU9LWFfcHJvamVjdGVkX3Bvc1szXTtmbG9hdCBzaXplO2lmICghdV9pc19zaXplX3pvb21fY29uc3RhbnQgJiYgIXVfaXNfc2l6ZV9mZWF0dXJlX2NvbnN0YW50KSB7c2l6ZT1taXgoYV9zaXplX21pbixhX3NpemVbMV0sdV9zaXplX3QpLzEyOC4wO30gZWxzZSBpZiAodV9pc19zaXplX3pvb21fY29uc3RhbnQgJiYgIXVfaXNfc2l6ZV9mZWF0dXJlX2NvbnN0YW50KSB7c2l6ZT1hX3NpemVfbWluLzEyOC4wO30gZWxzZSB7c2l6ZT11X3NpemU7fXZlYzIgdGlsZV9hbmNob3I9YV9wb3M7dmVjMyBoPWVsZXZhdGlvblZlY3Rvcih0aWxlX2FuY2hvcikqZWxldmF0aW9uKHRpbGVfYW5jaG9yKTtcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxudmVjMyBtZXJjYXRvcl9wb3M9bWVyY2F0b3JfdGlsZV9wb3NpdGlvbih1X2ludl9yb3RfbWF0cml4LHRpbGVfYW5jaG9yLHVfdGlsZV9pZCx1X21lcmNfY2VudGVyKTt2ZWMzIHdvcmxkX3Bvcz1taXhfZ2xvYmVfbWVyY2F0b3IoYV9nbG9iZV9hbmNob3IraCxtZXJjYXRvcl9wb3MsdV96b29tX3RyYW5zaXRpb24pO3ZlYzQgZWNlZl9wb2ludD11X3RpbGVfbWF0cml4KnZlYzQod29ybGRfcG9zLDEuMCk7dmVjMyBvcmlnaW5fdG9fcG9pbnQ9ZWNlZl9wb2ludC54eXotdV9lY2VmX29yaWdpbjtmbG9hdCBnbG9iZV9vY2NsdXNpb25fZmFkZT1kb3Qob3JpZ2luX3RvX3BvaW50LHVfY2FtZXJhX2ZvcndhcmQpID49MC4wID8gMC4wIDogMS4wO1xcbiNlbHNlXFxudmVjMyB3b3JsZF9wb3M9dmVjMyh0aWxlX2FuY2hvciwwKStoO2Zsb2F0IGdsb2JlX29jY2x1c2lvbl9mYWRlPTEuMDtcXG4jZW5kaWZcXG52ZWM0IHByb2plY3RlZF9wb2ludD11X21hdHJpeCp2ZWM0KHdvcmxkX3BvcywxKTtoaWdocCBmbG9hdCBjYW1lcmFfdG9fYW5jaG9yX2Rpc3RhbmNlPXByb2plY3RlZF9wb2ludC53O2hpZ2hwIGZsb2F0IGRpc3RhbmNlX3JhdGlvPXVfcGl0Y2hfd2l0aF9tYXAgP1xcbmNhbWVyYV90b19hbmNob3JfZGlzdGFuY2UvdV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlIDpcXG51X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2UvY2FtZXJhX3RvX2FuY2hvcl9kaXN0YW5jZTtoaWdocCBmbG9hdCBwZXJzcGVjdGl2ZV9yYXRpbz1jbGFtcChcXG4wLjUrMC41KmRpc3RhbmNlX3JhdGlvLDAuMCwxLjUpO3NpemUqPXBlcnNwZWN0aXZlX3JhdGlvO2Zsb2F0IGZvbnRfc2NhbGU9c2l6ZS8yNC4wO2hpZ2hwIGZsb2F0IHN5bWJvbF9yb3RhdGlvbj0wLjA7aWYgKHVfcm90YXRlX3N5bWJvbCkge3ZlYzQgb2Zmc2V0X3Byb2plY3RlZF9wb2ludD11X21hdHJpeCp2ZWM0KGFfcG9zK3ZlYzIoMSwwKSwwLDEpO3ZlYzIgYT1wcm9qZWN0ZWRfcG9pbnQueHkvcHJvamVjdGVkX3BvaW50Lnc7dmVjMiBiPW9mZnNldF9wcm9qZWN0ZWRfcG9pbnQueHkvb2Zmc2V0X3Byb2plY3RlZF9wb2ludC53O3N5bWJvbF9yb3RhdGlvbj1hdGFuKChiLnktYS55KS91X2FzcGVjdF9yYXRpbyxiLngtYS54KTt9XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbnZlYzMgcHJval9wb3M9bWl4X2dsb2JlX21lcmNhdG9yKGFfcHJvamVjdGVkX3Bvcy54eXoraCxtZXJjYXRvcl9wb3MsdV96b29tX3RyYW5zaXRpb24pO3ZlYzQgcHJvamVjdGVkX3Bvcz11X2xhYmVsX3BsYW5lX21hdHJpeCp2ZWM0KHByb2pfcG9zLDEuMCk7XFxuI2Vsc2VcXG52ZWM0IHByb2plY3RlZF9wb3M9dV9sYWJlbF9wbGFuZV9tYXRyaXgqdmVjNChhX3Byb2plY3RlZF9wb3MueHksaC56LDEuMCk7XFxuI2VuZGlmXFxuaGlnaHAgZmxvYXQgYW5nbGVfc2luPXNpbihzZWdtZW50X2FuZ2xlK3N5bWJvbF9yb3RhdGlvbik7aGlnaHAgZmxvYXQgYW5nbGVfY29zPWNvcyhzZWdtZW50X2FuZ2xlK3N5bWJvbF9yb3RhdGlvbik7bWF0MiByb3RhdGlvbl9tYXRyaXg9bWF0MihhbmdsZV9jb3MsLTEuMCphbmdsZV9zaW4sYW5nbGVfc2luLGFuZ2xlX2Nvcyk7ZmxvYXQgej0wLjA7dmVjMiBvZmZzZXQ9cm90YXRpb25fbWF0cml4KihhX29mZnNldC8zMi4wKmZvbnRfc2NhbGUpO1xcbiNpZmRlZiBQSVRDSF9XSVRIX01BUF9URVJSQUlOXFxudmVjNCB0aWxlX3Bvcz11X2xhYmVsX3BsYW5lX21hdHJpeF9pbnYqdmVjNChhX3Byb2plY3RlZF9wb3MueHkrb2Zmc2V0LDAuMCwxLjApO3o9ZWxldmF0aW9uKHRpbGVfcG9zLnh5KTtcXG4jZW5kaWZcXG5mbG9hdCBvY2NsdXNpb25fZmFkZT1vY2NsdXNpb25GYWRlKHByb2plY3RlZF9wb2ludCkqZ2xvYmVfb2NjbHVzaW9uX2ZhZGU7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbnZlYzMgeEF4aXM9dV9waXRjaF93aXRoX21hcCA/IG5vcm1hbGl6ZShjcm9zcyhhX2dsb2JlX25vcm1hbCx1X3VwX3ZlY3RvcikpIDogdmVjMygxLDAsMCk7dmVjMyB5QXhpcz11X3BpdGNoX3dpdGhfbWFwID8gbm9ybWFsaXplKGNyb3NzKGFfZ2xvYmVfbm9ybWFsLHhBeGlzKSkgOiB2ZWMzKDAsMSwwKTtnbF9Qb3NpdGlvbj1taXgodV9jb29yZF9tYXRyaXgqdmVjNChwcm9qZWN0ZWRfcG9zLnh5ei9wcm9qZWN0ZWRfcG9zLncreEF4aXMqb2Zmc2V0LngreUF4aXMqb2Zmc2V0LnksMS4wKSxBV0FZLGZsb2F0KHByb2plY3RlZF9wb2ludC53IDw9MC4wIHx8IG9jY2x1c2lvbl9mYWRlPT0wLjApKTtcXG4jZWxzZVxcbmdsX1Bvc2l0aW9uPW1peCh1X2Nvb3JkX21hdHJpeCp2ZWM0KHByb2plY3RlZF9wb3MueHkvcHJvamVjdGVkX3Bvcy53K29mZnNldCx6LDEuMCksQVdBWSxmbG9hdChwcm9qZWN0ZWRfcG9pbnQudyA8PTAuMCB8fCBvY2NsdXNpb25fZmFkZT09MC4wKSk7XFxuI2VuZGlmXFxuZmxvYXQgZ2FtbWFfc2NhbGU9Z2xfUG9zaXRpb24udzt2ZWMyIGZhZGVfb3BhY2l0eT11bnBhY2tfb3BhY2l0eShhX2ZhZGVfb3BhY2l0eSk7ZmxvYXQgZmFkZV9jaGFuZ2U9ZmFkZV9vcGFjaXR5WzFdID4gMC41ID8gdV9mYWRlX2NoYW5nZSA6LXVfZmFkZV9jaGFuZ2U7ZmxvYXQgaW50ZXJwb2xhdGVkX2ZhZGVfb3BhY2l0eT1tYXgoMC4wLG1pbihvY2NsdXNpb25fZmFkZSxmYWRlX29wYWNpdHlbMF0rZmFkZV9jaGFuZ2UpKTtmbG9hdCBwcm9qZWN0aW9uX3RyYW5zaXRpb25fZmFkZT0xLjA7XFxuI2lmIGRlZmluZWQoUFJPSkVDVEVEX1BPU19PTl9WSUVXUE9SVCkgJiYgZGVmaW5lZChQUk9KRUNUSU9OX0dMT0JFX1ZJRVcpXFxucHJvamVjdGlvbl90cmFuc2l0aW9uX2ZhZGU9MS4wLXN0ZXAoRVBTSUxPTix1X3pvb21fdHJhbnNpdGlvbik7XFxuI2VuZGlmXFxudl9kYXRhMC54eT1hX3RleC91X3RleHNpemU7dl9kYXRhMC56dz1hX3RleC91X3RleHNpemVfaWNvbjt2X2RhdGExPXZlYzQoZ2FtbWFfc2NhbGUsc2l6ZSxpbnRlcnBvbGF0ZWRfZmFkZV9vcGFjaXR5KnByb2plY3Rpb25fdHJhbnNpdGlvbl9mYWRlLGlzX3NkZik7fVwiKSx0ZXJyYWluUmFzdGVyOnBpKFwidW5pZm9ybSBzYW1wbGVyMkQgdV9pbWFnZTA7dmFyeWluZyB2ZWMyIHZfcG9zMDtcXG4jaWZkZWYgRk9HXFxudmFyeWluZyBmbG9hdCB2X2ZvZ19vcGFjaXR5O1xcbiNlbmRpZlxcbiNpZmRlZiBSRU5ERVJfU0hBRE9XU1xcbnZhcnlpbmcgdmVjNCB2X3Bvc19saWdodF92aWV3XzA7dmFyeWluZyB2ZWM0IHZfcG9zX2xpZ2h0X3ZpZXdfMTt2YXJ5aW5nIGZsb2F0IHZfZGVwdGg7XFxuI2VuZGlmXFxudm9pZCBtYWluKCkge3ZlYzQgY29sb3I9dGV4dHVyZTJEKHVfaW1hZ2UwLHZfcG9zMCk7XFxuI2lmZGVmIFJFTkRFUl9TSEFET1dTXFxuY29sb3IueHl6PXNoYWRvd2VkX2NvbG9yKGNvbG9yLnh5eix2X3Bvc19saWdodF92aWV3XzAsdl9wb3NfbGlnaHRfdmlld18xLHZfZGVwdGgpO1xcbiNlbmRpZlxcbiNpZmRlZiBGT0dcXG5jb2xvcj1mb2dfZGl0aGVyKGZvZ19hcHBseV9mcm9tX3ZlcnQoY29sb3Isdl9mb2dfb3BhY2l0eSkpO1xcbiNlbmRpZlxcbmdsX0ZyYWdDb2xvcj1jb2xvcjtcXG4jaWZkZWYgVEVSUkFJTl9XSVJFRlJBTUVcXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjAsMC4wLDAuMCwwLjgpO1xcbiNlbmRpZlxcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xcbiNlbmRpZlxcbn1cIixcInVuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIGZsb2F0IHVfc2tpcnRfaGVpZ2h0O2F0dHJpYnV0ZSB2ZWMyIGFfcG9zO2F0dHJpYnV0ZSB2ZWMyIGFfdGV4dHVyZV9wb3M7dmFyeWluZyB2ZWMyIHZfcG9zMDtcXG4jaWZkZWYgRk9HXFxudmFyeWluZyBmbG9hdCB2X2ZvZ19vcGFjaXR5O1xcbiNlbmRpZlxcbiNpZmRlZiBSRU5ERVJfU0hBRE9XU1xcbnVuaWZvcm0gbWF0NCB1X2xpZ2h0X21hdHJpeF8wO3VuaWZvcm0gbWF0NCB1X2xpZ2h0X21hdHJpeF8xO3ZhcnlpbmcgdmVjNCB2X3Bvc19saWdodF92aWV3XzA7dmFyeWluZyB2ZWM0IHZfcG9zX2xpZ2h0X3ZpZXdfMTt2YXJ5aW5nIGZsb2F0IHZfZGVwdGg7XFxuI2VuZGlmXFxuY29uc3QgZmxvYXQgc2tpcnRPZmZzZXQ9MjQ1NzUuMDtjb25zdCBmbG9hdCB3aXJlZnJhbWVPZmZzZXQ9MC4wMDAxNTt2b2lkIG1haW4oKSB7dl9wb3MwPWFfdGV4dHVyZV9wb3MvODE5Mi4wO2Zsb2F0IHNraXJ0PWZsb2F0KGFfcG9zLnggPj1za2lydE9mZnNldCk7ZmxvYXQgZWxldmF0aW9uPWVsZXZhdGlvbihhX3RleHR1cmVfcG9zKS1za2lydCp1X3NraXJ0X2hlaWdodDtcXG4jaWZkZWYgVEVSUkFJTl9XSVJFRlJBTUVcXG5lbGV2YXRpb24rPXVfc2tpcnRfaGVpZ2h0KnVfc2tpcnRfaGVpZ2h0KndpcmVmcmFtZU9mZnNldDtcXG4jZW5kaWZcXG52ZWMyIGRlY29kZWRQb3M9YV9wb3MtdmVjMihza2lydCpza2lydE9mZnNldCwwLjApO2dsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQoZGVjb2RlZFBvcyxlbGV2YXRpb24sMS4wKTtcXG4jaWZkZWYgRk9HXFxudl9mb2dfb3BhY2l0eT1mb2coZm9nX3Bvc2l0aW9uKHZlYzMoZGVjb2RlZFBvcyxlbGV2YXRpb24pKSk7XFxuI2VuZGlmXFxuI2lmZGVmIFJFTkRFUl9TSEFET1dTXFxudmVjMyBwb3M9dmVjMyhkZWNvZGVkUG9zLGVsZXZhdGlvbik7dl9wb3NfbGlnaHRfdmlld18wPXVfbGlnaHRfbWF0cml4XzAqdmVjNChwb3MsMS4pO3ZfcG9zX2xpZ2h0X3ZpZXdfMT11X2xpZ2h0X21hdHJpeF8xKnZlYzQocG9zLDEuKTt2X2RlcHRoPWdsX1Bvc2l0aW9uLnc7XFxuI2VuZGlmXFxufVwiKSx0ZXJyYWluRGVwdGg6cGkoXCIjaWZkZWYgR0xfRVNcXG5wcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuI2VuZGlmXFxudmFyeWluZyBmbG9hdCB2X2RlcHRoO3ZvaWQgbWFpbigpIHtnbF9GcmFnQ29sb3I9cGFja19kZXB0aCh2X2RlcHRoKTt9XCIsXCJ1bmlmb3JtIG1hdDQgdV9tYXRyaXg7YXR0cmlidXRlIHZlYzIgYV9wb3M7YXR0cmlidXRlIHZlYzIgYV90ZXh0dXJlX3Bvczt2YXJ5aW5nIGZsb2F0IHZfZGVwdGg7dm9pZCBtYWluKCkge2Zsb2F0IGVsZXZhdGlvbj1lbGV2YXRpb24oYV90ZXh0dXJlX3Bvcyk7Z2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChhX3BvcyxlbGV2YXRpb24sMS4wKTt2X2RlcHRoPWdsX1Bvc2l0aW9uLnovZ2xfUG9zaXRpb24udzt9XCIpLHNreWJveDpwaShcIlxcbnZhcnlpbmcgbG93cCB2ZWMzIHZfdXY7dW5pZm9ybSBsb3dwIHNhbXBsZXJDdWJlIHVfY3ViZW1hcDt1bmlmb3JtIGxvd3AgZmxvYXQgdV9vcGFjaXR5O3VuaWZvcm0gaGlnaHAgZmxvYXQgdV90ZW1wb3JhbF9vZmZzZXQ7dW5pZm9ybSBoaWdocCB2ZWMzIHVfc3VuX2RpcmVjdGlvbjtmbG9hdCBzdW5fZGlzayhoaWdocCB2ZWMzIHJheV9kaXJlY3Rpb24saGlnaHAgdmVjMyBzdW5fZGlyZWN0aW9uKSB7aGlnaHAgZmxvYXQgY29zX2FuZ2xlPWRvdChub3JtYWxpemUocmF5X2RpcmVjdGlvbiksc3VuX2RpcmVjdGlvbik7Y29uc3QgaGlnaHAgZmxvYXQgY29zX3N1bl9hbmd1bGFyX2RpYW1ldGVyPTAuOTk5OTYxOTIzMDY7Y29uc3QgaGlnaHAgZmxvYXQgc21vb3Roc3RlcF9kZWx0YT0xZS01O3JldHVybiBzbW9vdGhzdGVwKFxcbmNvc19zdW5fYW5ndWxhcl9kaWFtZXRlci1zbW9vdGhzdGVwX2RlbHRhLGNvc19zdW5fYW5ndWxhcl9kaWFtZXRlcitzbW9vdGhzdGVwX2RlbHRhLGNvc19hbmdsZSk7fWZsb2F0IG1hcChmbG9hdCB2YWx1ZSxmbG9hdCBzdGFydCxmbG9hdCBlbmQsZmxvYXQgbmV3X3N0YXJ0LGZsb2F0IG5ld19lbmQpIHtyZXR1cm4gKCh2YWx1ZS1zdGFydCkqKG5ld19lbmQtbmV3X3N0YXJ0KSkvKGVuZC1zdGFydCkrbmV3X3N0YXJ0O312b2lkIG1haW4oKSB7dmVjMyB1dj12X3V2O2NvbnN0IGZsb2F0IHlfYmlhcz0wLjAxNTt1di55Kz15X2JpYXM7dXYueT1wb3coYWJzKHV2LnkpLDEuMC81LjApO3V2Lnk9bWFwKHV2LnksMC4wLDEuMCwtMS4wLDEuMCk7dmVjMyBza3lfY29sb3I9dGV4dHVyZUN1YmUodV9jdWJlbWFwLHV2KS5yZ2I7XFxuI2lmZGVmIEZPR1xcbnNreV9jb2xvcj1mb2dfYXBwbHlfc2t5X2dyYWRpZW50KHZfdXYueHp5LHNreV9jb2xvcik7XFxuI2VuZGlmXFxuc2t5X2NvbG9yLnJnYj1kaXRoZXIoc2t5X2NvbG9yLnJnYixnbF9GcmFnQ29vcmQueHkrdV90ZW1wb3JhbF9vZmZzZXQpO3NreV9jb2xvcis9MC4xKnN1bl9kaXNrKHZfdXYsdV9zdW5fZGlyZWN0aW9uKTtnbF9GcmFnQ29sb3I9dmVjNChza3lfY29sb3IqdV9vcGFjaXR5LHVfb3BhY2l0eSk7XFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbmdsX0ZyYWdDb2xvcj12ZWM0KDEuMCk7XFxuI2VuZGlmXFxufVwiLGlpKSxza3lib3hHcmFkaWVudDpwaShcInZhcnlpbmcgaGlnaHAgdmVjMyB2X3V2O3VuaWZvcm0gbG93cCBzYW1wbGVyMkQgdV9jb2xvcl9yYW1wO3VuaWZvcm0gaGlnaHAgdmVjMyB1X2NlbnRlcl9kaXJlY3Rpb247dW5pZm9ybSBsb3dwIGZsb2F0IHVfcmFkaXVzO3VuaWZvcm0gbG93cCBmbG9hdCB1X29wYWNpdHk7dW5pZm9ybSBoaWdocCBmbG9hdCB1X3RlbXBvcmFsX29mZnNldDt2b2lkIG1haW4oKSB7ZmxvYXQgcHJvZ3Jlc3M9YWNvcyhkb3Qobm9ybWFsaXplKHZfdXYpLHVfY2VudGVyX2RpcmVjdGlvbikpL3VfcmFkaXVzO3ZlYzQgY29sb3I9dGV4dHVyZTJEKHVfY29sb3JfcmFtcCx2ZWMyKHByb2dyZXNzLDAuNSkpO1xcbiNpZmRlZiBGT0dcXG5jb2xvci5yZ2I9Zm9nX2FwcGx5X3NreV9ncmFkaWVudCh2X3V2Lnh6eSxjb2xvci5yZ2IvY29sb3IuYSkqY29sb3IuYTtcXG4jZW5kaWZcXG5jb2xvcio9dV9vcGFjaXR5O2NvbG9yLnJnYj1kaXRoZXIoY29sb3IucmdiLGdsX0ZyYWdDb29yZC54eSt1X3RlbXBvcmFsX29mZnNldCk7Z2xfRnJhZ0NvbG9yPWNvbG9yO1xcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xcbiNlbmRpZlxcbn1cIixpaSksc2t5Ym94Q2FwdHVyZTpwaShcIlxcbnZhcnlpbmcgaGlnaHAgdmVjMyB2X3Bvc2l0aW9uO3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9zdW5faW50ZW5zaXR5O3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9sdW1pbmFuY2U7dW5pZm9ybSBsb3dwIHZlYzMgdV9zdW5fZGlyZWN0aW9uO3VuaWZvcm0gaGlnaHAgdmVjNCB1X2NvbG9yX3RpbnRfcjt1bmlmb3JtIGhpZ2hwIHZlYzQgdV9jb2xvcl90aW50X207XFxuI2lmZGVmIEdMX0VTXFxucHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbiNlbmRpZlxcbiNkZWZpbmUgQkVUQV9SICAgICAgICAgICAgICAgICAgdmVjMyg1LjVlLTYsMTMuMGUtNiwyMi40ZS02KVxcbiNkZWZpbmUgQkVUQV9NICAgICAgICAgICAgICAgICAgdmVjMygyMWUtNiwyMWUtNiwyMWUtNilcXG4jZGVmaW5lIE1JRV9HICAgICAgICAgICAgICAgICAgIDAuNzZcXG4jZGVmaW5lIERFTlNJVFlfSEVJR0hUX1NDQUxFX1IgIDgwMDAuMFxcbiNkZWZpbmUgREVOU0lUWV9IRUlHSFRfU0NBTEVfTSAgMTIwMC4wXFxuI2RlZmluZSBQTEFORVRfUkFESVVTICAgICAgICAgICA2MzYwZTNcXG4jZGVmaW5lIEFUTU9TUEhFUkVfUkFESVVTICAgICAgIDY0MjBlM1xcbiNkZWZpbmUgU0FNUExFX1NURVBTICAgICAgICAgICAgMTBcXG4jZGVmaW5lIERFTlNJVFlfU1RFUFMgICAgICAgICAgIDRcXG5mbG9hdCByYXlfc3BoZXJlX2V4aXQodmVjMyBvcmlnLHZlYzMgZGlyLGZsb2F0IHJhZGl1cykge2Zsb2F0IGE9ZG90KGRpcixkaXIpO2Zsb2F0IGI9Mi4wKmRvdChkaXIsb3JpZyk7ZmxvYXQgYz1kb3Qob3JpZyxvcmlnKS1yYWRpdXMqcmFkaXVzO2Zsb2F0IGQ9c3FydChiKmItNC4wKmEqYyk7cmV0dXJuICgtYitkKS8oMi4wKmEpO312ZWMzIGV4dGluY3Rpb24odmVjMiBkZW5zaXR5KSB7cmV0dXJuIGV4cCgtdmVjMyhCRVRBX1IqdV9jb2xvcl90aW50X3IuYSpkZW5zaXR5LngrQkVUQV9NKnVfY29sb3JfdGludF9tLmEqZGVuc2l0eS55KSk7fXZlYzIgbG9jYWxfZGVuc2l0eSh2ZWMzIHBvaW50KSB7ZmxvYXQgaGVpZ2h0PW1heChsZW5ndGgocG9pbnQpLVBMQU5FVF9SQURJVVMsMC4wKTtmbG9hdCBleHBfcj1leHAoLWhlaWdodC9ERU5TSVRZX0hFSUdIVF9TQ0FMRV9SKTtmbG9hdCBleHBfbT1leHAoLWhlaWdodC9ERU5TSVRZX0hFSUdIVF9TQ0FMRV9NKTtyZXR1cm4gdmVjMihleHBfcixleHBfbSk7fWZsb2F0IHBoYXNlX3JheShmbG9hdCBjb3NfYW5nbGUpIHtyZXR1cm4gKDMuMC8oMTYuMCpQSSkpKigxLjArY29zX2FuZ2xlKmNvc19hbmdsZSk7fWZsb2F0IHBoYXNlX21pZShmbG9hdCBjb3NfYW5nbGUpIHtyZXR1cm4gKDMuMC8oOC4wKlBJKSkqKCgxLjAtTUlFX0cqTUlFX0cpKigxLjArY29zX2FuZ2xlKmNvc19hbmdsZSkpLygoMi4wK01JRV9HKk1JRV9HKSpwb3coMS4wK01JRV9HKk1JRV9HLTIuMCpNSUVfRypjb3NfYW5nbGUsMS41KSk7fXZlYzIgZGVuc2l0eV90b19hdG1vc3BoZXJlKHZlYzMgcG9pbnQsdmVjMyBsaWdodF9kaXIpIHtmbG9hdCByYXlfbGVuPXJheV9zcGhlcmVfZXhpdChwb2ludCxsaWdodF9kaXIsQVRNT1NQSEVSRV9SQURJVVMpO2Zsb2F0IHN0ZXBfbGVuPXJheV9sZW4vZmxvYXQoREVOU0lUWV9TVEVQUyk7dmVjMiBkZW5zaXR5X3BvaW50X3RvX2F0bW9zcGhlcmU9dmVjMigwLjApO2ZvciAoaW50IGk9MDsgaSA8IERFTlNJVFlfU1RFUFM7KytpKSB7dmVjMyBwb2ludF9vbl9yYXk9cG9pbnQrbGlnaHRfZGlyKigoZmxvYXQoaSkrMC41KSpzdGVwX2xlbik7ZGVuc2l0eV9wb2ludF90b19hdG1vc3BoZXJlKz1sb2NhbF9kZW5zaXR5KHBvaW50X29uX3JheSkqc3RlcF9sZW47O31yZXR1cm4gZGVuc2l0eV9wb2ludF90b19hdG1vc3BoZXJlO312ZWMzIGF0bW9zcGhlcmUodmVjMyByYXlfZGlyLHZlYzMgc3VuX2RpcmVjdGlvbixmbG9hdCBzdW5faW50ZW5zaXR5KSB7dmVjMiBkZW5zaXR5X29yaWdfdG9fcG9pbnQ9dmVjMigwLjApO3ZlYzMgc2NhdHRlcl9yPXZlYzMoMC4wKTt2ZWMzIHNjYXR0ZXJfbT12ZWMzKDAuMCk7dmVjMyBvcmlnaW49dmVjMygwLjAsUExBTkVUX1JBRElVUywwLjApO2Zsb2F0IHJheV9sZW49cmF5X3NwaGVyZV9leGl0KG9yaWdpbixyYXlfZGlyLEFUTU9TUEhFUkVfUkFESVVTKTtmbG9hdCBzdGVwX2xlbj1yYXlfbGVuL2Zsb2F0KFNBTVBMRV9TVEVQUyk7Zm9yIChpbnQgaT0wOyBpIDwgU0FNUExFX1NURVBTOysraSkge3ZlYzMgcG9pbnRfb25fcmF5PW9yaWdpbityYXlfZGlyKigoZmxvYXQoaSkrMC41KSpzdGVwX2xlbik7dmVjMiBkZW5zaXR5PWxvY2FsX2RlbnNpdHkocG9pbnRfb25fcmF5KSpzdGVwX2xlbjtkZW5zaXR5X29yaWdfdG9fcG9pbnQrPWRlbnNpdHk7dmVjMiBkZW5zaXR5X3BvaW50X3RvX2F0bW9zcGhlcmU9ZGVuc2l0eV90b19hdG1vc3BoZXJlKHBvaW50X29uX3JheSxzdW5fZGlyZWN0aW9uKTt2ZWMyIGRlbnNpdHlfb3JpZ190b19hdG1vc3BoZXJlPWRlbnNpdHlfb3JpZ190b19wb2ludCtkZW5zaXR5X3BvaW50X3RvX2F0bW9zcGhlcmU7dmVjMyBleHRpbmN0aW9uPWV4dGluY3Rpb24oZGVuc2l0eV9vcmlnX3RvX2F0bW9zcGhlcmUpO3NjYXR0ZXJfcis9ZGVuc2l0eS54KmV4dGluY3Rpb247c2NhdHRlcl9tKz1kZW5zaXR5LnkqZXh0aW5jdGlvbjt9ZmxvYXQgY29zX2FuZ2xlPWRvdChyYXlfZGlyLHN1bl9kaXJlY3Rpb24pO2Zsb2F0IHBoYXNlX3I9cGhhc2VfcmF5KGNvc19hbmdsZSk7ZmxvYXQgcGhhc2VfbT1waGFzZV9taWUoY29zX2FuZ2xlKTt2ZWMzIGJldGFfcj1CRVRBX1IqdV9jb2xvcl90aW50X3IucmdiKnVfY29sb3JfdGludF9yLmE7dmVjMyBiZXRhX209QkVUQV9NKnVfY29sb3JfdGludF9tLnJnYip1X2NvbG9yX3RpbnRfbS5hO3JldHVybiAoc2NhdHRlcl9yKnBoYXNlX3IqYmV0YV9yK3NjYXR0ZXJfbSpwaGFzZV9tKmJldGFfbSkqc3VuX2ludGVuc2l0eTt9Y29uc3QgZmxvYXQgQT0wLjE1O2NvbnN0IGZsb2F0IEI9MC41MDtjb25zdCBmbG9hdCBDPTAuMTA7Y29uc3QgZmxvYXQgRD0wLjIwO2NvbnN0IGZsb2F0IEU9MC4wMjtjb25zdCBmbG9hdCBGPTAuMzA7dmVjMyB1bmNoYXJ0ZWQyX3RvbmVtYXAodmVjMyB4KSB7cmV0dXJuICgoeCooQSp4K0MqQikrRCpFKS8oeCooQSp4K0IpK0QqRikpLUUvRjt9dm9pZCBtYWluKCkge3ZlYzMgcmF5X2RpcmVjdGlvbj12X3Bvc2l0aW9uO3JheV9kaXJlY3Rpb24ueT1wb3cocmF5X2RpcmVjdGlvbi55LDUuMCk7Y29uc3QgZmxvYXQgeV9iaWFzPTAuMDE1O3JheV9kaXJlY3Rpb24ueSs9eV9iaWFzO3ZlYzMgY29sb3I9YXRtb3NwaGVyZShub3JtYWxpemUocmF5X2RpcmVjdGlvbiksdV9zdW5fZGlyZWN0aW9uLHVfc3VuX2ludGVuc2l0eSk7ZmxvYXQgd2hpdGVfc2NhbGU9MS4wNzQ4NzI0Njc1NjMzODU0O2NvbG9yPXVuY2hhcnRlZDJfdG9uZW1hcCgobG9nMigyLjAvcG93KHVfbHVtaW5hbmNlLDQuMCkpKSpjb2xvcikqd2hpdGVfc2NhbGU7Z2xfRnJhZ0NvbG9yPXZlYzQoY29sb3IsMS4wKTt9XCIsXCJhdHRyaWJ1dGUgaGlnaHAgdmVjMyBhX3Bvc18zZjt1bmlmb3JtIG1hdDMgdV9tYXRyaXhfM2Y7dmFyeWluZyBoaWdocCB2ZWMzIHZfcG9zaXRpb247ZmxvYXQgbWFwKGZsb2F0IHZhbHVlLGZsb2F0IHN0YXJ0LGZsb2F0IGVuZCxmbG9hdCBuZXdfc3RhcnQsZmxvYXQgbmV3X2VuZCkge3JldHVybiAoKHZhbHVlLXN0YXJ0KSoobmV3X2VuZC1uZXdfc3RhcnQpKS8oZW5kLXN0YXJ0KStuZXdfc3RhcnQ7fXZvaWQgbWFpbigpIHt2ZWM0IHBvcz12ZWM0KHVfbWF0cml4XzNmKmFfcG9zXzNmLDEuMCk7dl9wb3NpdGlvbj1wb3MueHl6O3ZfcG9zaXRpb24ueSo9LTEuMDt2X3Bvc2l0aW9uLnk9bWFwKHZfcG9zaXRpb24ueSwtMS4wLDEuMCwwLjAsMS4wKTtnbF9Qb3NpdGlvbj12ZWM0KGFfcG9zXzNmLnh5LDAuMCwxLjApO31cIiksZ2xvYmVSYXN0ZXI6cGkoXCJ1bmlmb3JtIHNhbXBsZXIyRCB1X2ltYWdlMDt2YXJ5aW5nIHZlYzIgdl9wb3MwO1xcbiNpZm5kZWYgRk9HXFxudW5pZm9ybSBoaWdocCB2ZWMzIHVfZnJ1c3R1bV90bDt1bmlmb3JtIGhpZ2hwIHZlYzMgdV9mcnVzdHVtX3RyO3VuaWZvcm0gaGlnaHAgdmVjMyB1X2ZydXN0dW1fYnI7dW5pZm9ybSBoaWdocCB2ZWMzIHVfZnJ1c3R1bV9ibDt1bmlmb3JtIGhpZ2hwIHZlYzMgdV9nbG9iZV9wb3M7dW5pZm9ybSBoaWdocCBmbG9hdCB1X2dsb2JlX3JhZGl1czt1bmlmb3JtIHZlYzIgdV92aWV3cG9ydDtcXG4jZW5kaWZcXG52b2lkIG1haW4oKSB7XFxuI2lmZGVmIENVU1RPTV9BTlRJQUxJQVNJTkdcXG52ZWMyIHV2PWdsX0ZyYWdDb29yZC54eS91X3ZpZXdwb3J0O2hpZ2hwIHZlYzMgcmF5X2Rpcj1taXgoXFxubWl4KHVfZnJ1c3R1bV90bCx1X2ZydXN0dW1fdHIsdXYueCksbWl4KHVfZnJ1c3R1bV9ibCx1X2ZydXN0dW1fYnIsdXYueCksMS4wLXV2LnkpO3ZlYzMgZGlyPW5vcm1hbGl6ZShyYXlfZGlyKTt2ZWMzIGNsb3Nlc3RfcG9pbnQ9ZG90KHVfZ2xvYmVfcG9zLGRpcikqZGlyO2Zsb2F0IG5vcm1fZGlzdF9mcm9tX2NlbnRlcj0xLjAtbGVuZ3RoKGNsb3Nlc3RfcG9pbnQtdV9nbG9iZV9wb3MpL3VfZ2xvYmVfcmFkaXVzO2NvbnN0IGZsb2F0IGFudGlhbGlhc19waXhlbD0yLjA7ZmxvYXQgYW50aWFsaWFzX2ZhY3Rvcj1hbnRpYWxpYXNfcGl4ZWwqZndpZHRoKG5vcm1fZGlzdF9mcm9tX2NlbnRlcik7ZmxvYXQgYW50aWFsaWFzPXNtb290aHN0ZXAoMC4wLGFudGlhbGlhc19mYWN0b3Isbm9ybV9kaXN0X2Zyb21fY2VudGVyKTt2ZWM0IHJhc3Rlcj10ZXh0dXJlMkQodV9pbWFnZTAsdl9wb3MwKTt2ZWM0IGNvbG9yPXZlYzQocmFzdGVyLnJnYiphbnRpYWxpYXMscmFzdGVyLmEqYW50aWFsaWFzKTtcXG4jZWxzZVxcbnZlYzQgY29sb3I9dGV4dHVyZTJEKHVfaW1hZ2UwLHZfcG9zMCk7XFxuI2VuZGlmXFxuI2lmZGVmIEZPR1xcbmNvbG9yPWZvZ19kaXRoZXIoZm9nX2FwcGx5X3ByZW11bHRpcGxpZWQoY29sb3Isdl9mb2dfcG9zKSk7XFxuI2VuZGlmXFxuZ2xfRnJhZ0NvbG9yPWNvbG9yO1xcbiNpZmRlZiBURVJSQUlOX1dJUkVGUkFNRVxcbmdsX0ZyYWdDb2xvcj12ZWM0KDEuMCwwLjAsMC4wLDAuOCk7XFxuI2VuZGlmXFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbmdsX0ZyYWdDb2xvcj12ZWM0KDEuMCk7XFxuI2VuZGlmXFxufVwiLFwidW5pZm9ybSBtYXQ0IHVfcHJval9tYXRyaXg7dW5pZm9ybSBtYXQ0IHVfbm9ybWFsaXplX21hdHJpeDt1bmlmb3JtIG1hdDQgdV9nbG9iZV9tYXRyaXg7dW5pZm9ybSBtYXQ0IHVfbWVyY19tYXRyaXg7dW5pZm9ybSBmbG9hdCB1X3pvb21fdHJhbnNpdGlvbjt1bmlmb3JtIHZlYzIgdV9tZXJjX2NlbnRlcjt1bmlmb3JtIG1hdDMgdV9ncmlkX21hdHJpeDtcXG4jaWZkZWYgR0xPQkVfUE9MRVNcXG5hdHRyaWJ1dGUgdmVjMyBhX2dsb2JlX3BvczthdHRyaWJ1dGUgdmVjMiBhX3V2O1xcbiNlbHNlXFxuYXR0cmlidXRlIHZlYzIgYV9wb3M7XFxuI2VuZGlmXFxudmFyeWluZyB2ZWMyIHZfcG9zMDtjb25zdCBmbG9hdCB3aXJlZnJhbWVPZmZzZXQ9MWUzO2Zsb2F0IG1lcmNhdG9yWGZyb21MbmcoZmxvYXQgbG5nKSB7cmV0dXJuICgxODAuMCtsbmcpLzM2MC4wO31mbG9hdCBtZXJjYXRvcllmcm9tTGF0KGZsb2F0IGxhdCkge3JldHVybiAoMTgwLjAtKFJBRF9UT19ERUcqbG9nKHRhbihRVUFSVEVSX1BJK2xhdC8yLjAqREVHX1RPX1JBRCkpKSkvMzYwLjA7fXZlYzMgbGF0TG5nVG9FQ0VGKHZlYzIgbGF0TG5nKSB7bGF0TG5nPURFR19UT19SQUQqbGF0TG5nO2Zsb2F0IGNvc0xhdD1jb3MobGF0TG5nWzBdKTtmbG9hdCBzaW5MYXQ9c2luKGxhdExuZ1swXSk7ZmxvYXQgY29zTG5nPWNvcyhsYXRMbmdbMV0pO2Zsb2F0IHNpbkxuZz1zaW4obGF0TG5nWzFdKTtmbG9hdCBzeD1jb3NMYXQqc2luTG5nKkdMT0JFX1JBRElVUztmbG9hdCBzeT0tc2luTGF0KkdMT0JFX1JBRElVUztmbG9hdCBzej1jb3NMYXQqY29zTG5nKkdMT0JFX1JBRElVUztyZXR1cm4gdmVjMyhzeCxzeSxzeik7fXZvaWQgbWFpbigpIHtcXG4jaWZkZWYgR0xPQkVfUE9MRVNcXG52ZWMzIGdsb2JlX3Bvcz1hX2dsb2JlX3Bvczt2ZWMyIHV2PWFfdXY7XFxuI2Vsc2VcXG5mbG9hdCB0aWxlcz11X2dyaWRfbWF0cml4WzBdWzJdO2Zsb2F0IGlkeT11X2dyaWRfbWF0cml4WzFdWzJdO2Zsb2F0IFM9dV9ncmlkX21hdHJpeFsyXVsyXTt2ZWMzIGxhdExuZz11X2dyaWRfbWF0cml4KnZlYzMoYV9wb3MsMS4wKTtmbG9hdCBtZXJjYXRvclk9bWVyY2F0b3JZZnJvbUxhdChsYXRMbmdbMF0pO2Zsb2F0IHV2WT1tZXJjYXRvclkqdGlsZXMtaWR5O2Zsb2F0IG1lcmNhdG9yWD1tZXJjYXRvclhmcm9tTG5nKGxhdExuZ1sxXSk7ZmxvYXQgdXZYPWFfcG9zWzBdKlM7dmVjMyBnbG9iZV9wb3M9bGF0TG5nVG9FQ0VGKGxhdExuZy54eSk7dmVjMiBtZXJjX3Bvcz12ZWMyKG1lcmNhdG9yWCxtZXJjYXRvclkpO3ZlYzIgdXY9dmVjMih1dlgsdXZZKTtcXG4jZW5kaWZcXG52X3BvczA9dXY7dmVjMiB0aWxlX3Bvcz11dipFWFRFTlQ7XFxuI2lmZGVmIEdMT0JFX1BPTEVTXFxudmVjMyB1cF92ZWN0b3I9bm9ybWFsaXplKGdsb2JlX3BvcykqdV90aWxlX3VwX3NjYWxlO1xcbiNlbHNlXFxudmVjMyB1cF92ZWN0b3I9ZWxldmF0aW9uVmVjdG9yKHRpbGVfcG9zKTtcXG4jZW5kaWZcXG5mbG9hdCBoZWlnaHQ9ZWxldmF0aW9uKHRpbGVfcG9zKTtcXG4jaWZkZWYgVEVSUkFJTl9XSVJFRlJBTUVcXG5oZWlnaHQrPXdpcmVmcmFtZU9mZnNldDtcXG4jZW5kaWZcXG5nbG9iZV9wb3MrPXVwX3ZlY3RvcipoZWlnaHQ7XFxuI2lmZGVmIEdMT0JFX1BPTEVTXFxudmVjNCBpbnRlcnBvbGF0ZWRfcG9zPXVfZ2xvYmVfbWF0cml4KnZlYzQoZ2xvYmVfcG9zLDEuMCk7XFxuI2Vsc2VcXG52ZWM0IGdsb2JlX3dvcmxkX3Bvcz11X2dsb2JlX21hdHJpeCp2ZWM0KGdsb2JlX3BvcywxLjApO3ZlYzQgbWVyY193b3JsZF9wb3M9dmVjNCgwLjApO2lmICh1X3pvb21fdHJhbnNpdGlvbiA+IDAuMCkge21lcmNfd29ybGRfcG9zPXZlYzQobWVyY19wb3MsaGVpZ2h0LDEuMCk7bWVyY193b3JsZF9wb3MueHktPXVfbWVyY19jZW50ZXI7bWVyY193b3JsZF9wb3MueD13cmFwKG1lcmNfd29ybGRfcG9zLngsLTAuNSwwLjUpO21lcmNfd29ybGRfcG9zPXVfbWVyY19tYXRyaXgqbWVyY193b3JsZF9wb3M7fXZlYzQgaW50ZXJwb2xhdGVkX3Bvcz12ZWM0KG1peChnbG9iZV93b3JsZF9wb3MueHl6LG1lcmNfd29ybGRfcG9zLnh5eix1X3pvb21fdHJhbnNpdGlvbiksMS4wKTtcXG4jZW5kaWZcXG5nbF9Qb3NpdGlvbj11X3Byb2pfbWF0cml4KmludGVycG9sYXRlZF9wb3M7XFxuI2lmZGVmIEZPR1xcbnZfZm9nX3Bvcz1mb2dfcG9zaXRpb24oKHVfbm9ybWFsaXplX21hdHJpeCp2ZWM0KGdsb2JlX3BvcywxLjApKS54eXopO1xcbiNlbmRpZlxcbn1cIiksZ2xvYmVBdG1vc3BoZXJlOnBpKFwidW5pZm9ybSBmbG9hdCB1X3RyYW5zaXRpb247dW5pZm9ybSBoaWdocCBmbG9hdCB1X2ZhZGVvdXRfcmFuZ2U7dW5pZm9ybSBoaWdocCBmbG9hdCB1X3RlbXBvcmFsX29mZnNldDt1bmlmb3JtIHZlYzMgdV9zdGFydF9jb2xvcjt1bmlmb3JtIHZlYzQgdV9jb2xvcjt1bmlmb3JtIHZlYzQgdV9zcGFjZV9jb2xvcjt1bmlmb3JtIHZlYzQgdV9oaWdoX2NvbG9yO3VuaWZvcm0gZmxvYXQgdV9zdGFyX2ludGVuc2l0eTt1bmlmb3JtIGZsb2F0IHVfc3Rhcl9zaXplO3VuaWZvcm0gZmxvYXQgdV9zdGFyX2RlbnNpdHk7dW5pZm9ybSBmbG9hdCB1X2hvcml6b25fYW5nbGU7dW5pZm9ybSBtYXQ0IHVfcm90YXRpb25fbWF0cml4O3ZhcnlpbmcgaGlnaHAgdmVjMyB2X3JheV9kaXI7dmFyeWluZyBoaWdocCB2ZWMzIHZfaG9yaXpvbl9kaXI7aGlnaHAgZmxvYXQgcmFuZG9tKGhpZ2hwIHZlYzMgcCkge3A9ZnJhY3QocCp2ZWMzKDIzLjIzNDIsOTcuMTIzMSw5MS4yMzQyKSk7cCs9ZG90KHAuenh5LHAueXh6KzEyMy4xMjM0KTtyZXR1cm4gZnJhY3QocC54KnAueSk7fWZsb2F0IHN0YXJzKHZlYzMgcCxmbG9hdCBzY2FsZSx2ZWMyIG9mZnNldCkge3ZlYzIgdXZfc2NhbGU9KHVfdmlld3BvcnQvdV9zdGFyX3NpemUpKnNjYWxlO3ZlYzMgcG9zaXRpb249dmVjMyhwLnh5KnV2X3NjYWxlK29mZnNldCp1X3ZpZXdwb3J0LHAueik7dmVjMyBxPWZyYWN0KHBvc2l0aW9uKS0wLjU7dmVjMyBpZD1mbG9vcihwb3NpdGlvbik7ZmxvYXQgcmFuZG9tX3Zpc2liaWxpdHk9c3RlcChyYW5kb20oaWQpLHVfc3Rhcl9kZW5zaXR5KTtmbG9hdCBjaXJjbGU9c21vb3Roc3RlcCgwLjUrdV9zdGFyX2ludGVuc2l0eSwwLjUsbGVuZ3RoKHEpKTtyZXR1cm4gY2lyY2xlKnJhbmRvbV92aXNpYmlsaXR5O312b2lkIG1haW4oKSB7aGlnaHAgdmVjMyBkaXI9bm9ybWFsaXplKHZfcmF5X2Rpcik7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbmZsb2F0IGdsb2JlX3Bvc19kb3RfZGlyPWRvdCh1X2dsb2JlX3BvcyxkaXIpO2hpZ2hwIHZlYzMgY2xvc2VzdF9wb2ludF9mb3J3YXJkPWFicyhnbG9iZV9wb3NfZG90X2RpcikqZGlyO2Zsb2F0IG5vcm1fZGlzdF9mcm9tX2NlbnRlcj1sZW5ndGgoY2xvc2VzdF9wb2ludF9mb3J3YXJkLXVfZ2xvYmVfcG9zKS91X2dsb2JlX3JhZGl1cztpZiAobm9ybV9kaXN0X2Zyb21fY2VudGVyIDwgMC45OCkge2Rpc2NhcmQ7cmV0dXJuO31cXG4jZW5kaWZcXG5oaWdocCB2ZWMzIGhvcml6b25fZGlyPW5vcm1hbGl6ZSh2X2hvcml6b25fZGlyKTtmbG9hdCBob3Jpem9uX2FuZ2xlX21lcmNhdG9yPWRpci55IDwgaG9yaXpvbl9kaXIueSA/XFxuMC4wIDogbWF4KGFjb3MoZG90KGRpcixob3Jpem9uX2RpcikpLDAuMCk7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbmhpZ2hwIHZlYzMgY2xvc2VzdF9wb2ludD1nbG9iZV9wb3NfZG90X2RpcipkaXI7ZmxvYXQgY2xvc2VzdF9wb2ludF90b19jZW50ZXI9bGVuZ3RoKGNsb3Nlc3RfcG9pbnQtdV9nbG9iZV9wb3MpO2Zsb2F0IHRoZXRhPWFzaW4oY2xhbXAoY2xvc2VzdF9wb2ludF90b19jZW50ZXIvbGVuZ3RoKHVfZ2xvYmVfcG9zKSwtMS4wLDEuMCkpO2Zsb2F0IGhvcml6b25fYW5nbGU9Z2xvYmVfcG9zX2RvdF9kaXIgPCAwLjAgP1xcblBJLXRoZXRhLXVfaG9yaXpvbl9hbmdsZSA6IHRoZXRhLXVfaG9yaXpvbl9hbmdsZTtmbG9hdCBhbmdsZV90PXBvdyh1X3RyYW5zaXRpb24sMTAuMCk7aG9yaXpvbl9hbmdsZT1taXgoaG9yaXpvbl9hbmdsZSxob3Jpem9uX2FuZ2xlX21lcmNhdG9yLGFuZ2xlX3QpO1xcbiNlbHNlXFxuZmxvYXQgaG9yaXpvbl9hbmdsZT1ob3Jpem9uX2FuZ2xlX21lcmNhdG9yO1xcbiNlbmRpZlxcbmhvcml6b25fYW5nbGUvPVBJO2Zsb2F0IHQ9ZXhwKC1ob3Jpem9uX2FuZ2xlL3VfZmFkZW91dF9yYW5nZSk7ZmxvYXQgYWxwaGFfMD11X2NvbG9yLmE7ZmxvYXQgYWxwaGFfMT11X2hpZ2hfY29sb3IuYTtmbG9hdCBhbHBoYV8yPXVfc3BhY2VfY29sb3IuYTt2ZWMzIGNvbG9yX3N0b3BfMD11X2NvbG9yLnJnYjt2ZWMzIGNvbG9yX3N0b3BfMT11X2hpZ2hfY29sb3IucmdiO3ZlYzMgY29sb3Jfc3RvcF8yPXVfc3BhY2VfY29sb3IucmdiO3ZlYzMgYzA9bWl4KGNvbG9yX3N0b3BfMixjb2xvcl9zdG9wXzEsYWxwaGFfMSk7dmVjMyBjMT1taXgoYzAsY29sb3Jfc3RvcF8wLGFscGhhXzApO3ZlYzMgYzI9bWl4KGMwLGMxLHQpO3ZlYzMgYyA9bWl4KGNvbG9yX3N0b3BfMixjMix0KTtmbG9hdCBhMD1taXgoYWxwaGFfMiwxLjAsYWxwaGFfMSk7ZmxvYXQgYTE9bWl4KGEwLDEuMCxhbHBoYV8wKTtmbG9hdCBhMj1taXgoYTAsYTEsdCk7ZmxvYXQgYSA9bWl4KGFscGhhXzIsYTIsdCk7dmVjMiB1dj1nbF9GcmFnQ29vcmQueHkvdV92aWV3cG9ydC0wLjU7ZmxvYXQgYXNwZWN0X3JhdGlvPXVfdmlld3BvcnQueC91X3ZpZXdwb3J0Lnk7dmVjNCB1dl9kaXI9dmVjNChub3JtYWxpemUodmVjMyh1di54KmFzcGVjdF9yYXRpbyx1di55LDEuMCkpLDEuMCk7dXZfZGlyPXVfcm90YXRpb25fbWF0cml4KnV2X2Rpcjt2ZWMzIG49YWJzKHV2X2Rpci54eXopO3ZlYzIgdXZfcmVtYXA9KG4ueCA+IG4ueSAmJiBuLnggPiBuLnopID8gdXZfZGlyLnl6L3V2X2Rpci54OlxcbihuLnkgPiBuLnggJiYgbi55ID4gbi56KSA/IHV2X2Rpci56eC91dl9kaXIueTpcXG51dl9kaXIueHkvdXZfZGlyLno7dXZfcmVtYXAueC89YXNwZWN0X3JhdGlvO3ZlYzMgRD12ZWMzKHV2X3JlbWFwLDEuMCk7aGlnaHAgZmxvYXQgc3Rhcl9maWVsZD0wLjA7aWYgKHVfc3Rhcl9pbnRlbnNpdHkgPiAwLjApIHtzdGFyX2ZpZWxkKz1zdGFycyhELDEuMix2ZWMyKDAuMCwwLjApKTtzdGFyX2ZpZWxkKz1zdGFycyhELDEuMCx2ZWMyKDEuMCwwLjApKTtzdGFyX2ZpZWxkKz1zdGFycyhELDAuOCx2ZWMyKDAuMCwxLjApKTtzdGFyX2ZpZWxkKz1zdGFycyhELDAuNix2ZWMyKDEuMCwxLjApKTtzdGFyX2ZpZWxkKj0oMS4wLXBvdyh0LDAuMjUrKDEuMC11X2hpZ2hfY29sb3IuYSkqMC43NSkpO2MrPXN0YXJfZmllbGQqYWxwaGFfMjt9Yz1kaXRoZXIoYyxnbF9GcmFnQ29vcmQueHkrdV90ZW1wb3JhbF9vZmZzZXQpO2dsX0ZyYWdDb2xvcj12ZWM0KGMsYSk7fVwiLFwiYXR0cmlidXRlIHZlYzMgYV9wb3M7YXR0cmlidXRlIHZlYzIgYV91djt1bmlmb3JtIHZlYzMgdV9mcnVzdHVtX3RsO3VuaWZvcm0gdmVjMyB1X2ZydXN0dW1fdHI7dW5pZm9ybSB2ZWMzIHVfZnJ1c3R1bV9icjt1bmlmb3JtIHZlYzMgdV9mcnVzdHVtX2JsO3VuaWZvcm0gZmxvYXQgdV9ob3Jpem9uO3ZhcnlpbmcgaGlnaHAgdmVjMyB2X3JheV9kaXI7dmFyeWluZyBoaWdocCB2ZWMzIHZfaG9yaXpvbl9kaXI7dm9pZCBtYWluKCkge3ZfcmF5X2Rpcj1taXgoXFxubWl4KHVfZnJ1c3R1bV90bCx1X2ZydXN0dW1fdHIsYV91di54KSxtaXgodV9mcnVzdHVtX2JsLHVfZnJ1c3R1bV9icixhX3V2LngpLGFfdXYueSk7dl9ob3Jpem9uX2Rpcj1taXgoXFxubWl4KHVfZnJ1c3R1bV90bCx1X2ZydXN0dW1fYmwsdV9ob3Jpem9uKSxtaXgodV9mcnVzdHVtX3RyLHVfZnJ1c3R1bV9icix1X2hvcml6b24pLGFfdXYueCk7Z2xfUG9zaXRpb249dmVjNChhX3BvcywxLjApO31cIil9O2Z1bmN0aW9uIGRpKGUsdCl7Y29uc3QgaT1lLnJlcGxhY2UoL1xccypcXC9cXC9bXlxcbl0qXFxuL2csXCJcXG5cIikuc3BsaXQoXCJcXG5cIik7Zm9yKGxldCBlIG9mIGkpaWYoZT1lLnRyaW0oKSxcIiNcIj09PWVbMF0mJmUuaW5jbHVkZXMoXCJpZlwiKSYmIWUuaW5jbHVkZXMoXCJlbmRpZlwiKSl7ZT1lLnJlcGxhY2UoXCIjXCIsXCJcIikucmVwbGFjZSgvaWZkZWZ8aWZuZGVmfGVsaWZ8aWYvZyxcIlwiKS5yZXBsYWNlKC8hfGRlZmluZWR8XFwofFxcKXxcXHxcXHx8JiYvZyxcIlwiKS5yZXBsYWNlKC9cXHMrL2csXCIgXCIpLnRyaW0oKTtjb25zdCBpPWUuc3BsaXQoXCIgXCIpO2Zvcihjb25zdCBlIG9mIGkpdC5pbmNsdWRlcyhlKXx8dC5wdXNoKGUpO319ZnVuY3Rpb24gcGkoZSx0KXtjb25zdCBpPS8jcHJhZ21hIG1hcGJveDogKFtcXHddKykgKFtcXHddKykgKFtcXHddKykgKFtcXHddKykvZyxvPXQubWF0Y2goL2F0dHJpYnV0ZSAoaGlnaHAgfG1lZGl1bXAgfGxvd3AgKT8oW1xcd10rKSAoW1xcd10rKS9nKSxyPXt9LG49Wy4uLmxpXTtyZXR1cm4gZGkoZSxuKSxkaSh0LG4pLHtmcmFnbWVudFNvdXJjZTplPWUucmVwbGFjZShpLCgoZSx0LGksbyxuKT0+KHJbbl09ITAsXCJkZWZpbmVcIj09PXQ/YFxcbiNpZm5kZWYgSEFTX1VOSUZPUk1fdV8ke259XFxudmFyeWluZyAke2l9ICR7b30gJHtufTtcXG4jZWxzZVxcbnVuaWZvcm0gJHtpfSAke299IHVfJHtufTtcXG4jZW5kaWZcXG5gOmBcXG4jaWZkZWYgSEFTX1VOSUZPUk1fdV8ke259XFxuICAgICR7aX0gJHtvfSAke259ID0gdV8ke259O1xcbiNlbmRpZlxcbmApKSksdmVydGV4U291cmNlOnQ9dC5yZXBsYWNlKGksKChlLHQsaSxvLG4pPT57Y29uc3QgYT1cImZsb2F0XCI9PT1vP1widmVjMlwiOlwidmVjNFwiLHM9bi5tYXRjaCgvY29sb3IvKT9cImNvbG9yXCI6YTtyZXR1cm4gcltuXT9cImRlZmluZVwiPT09dD9gXFxuI2lmbmRlZiBIQVNfVU5JRk9STV91XyR7bn1cXG51bmlmb3JtIGxvd3AgZmxvYXQgdV8ke259X3Q7XFxuYXR0cmlidXRlICR7aX0gJHthfSBhXyR7bn07XFxudmFyeWluZyAke2l9ICR7b30gJHtufTtcXG4jZWxzZVxcbnVuaWZvcm0gJHtpfSAke299IHVfJHtufTtcXG4jZW5kaWZcXG5gOlwidmVjNFwiPT09cz9gXFxuI2lmbmRlZiBIQVNfVU5JRk9STV91XyR7bn1cXG4gICAgJHtufSA9IGFfJHtufTtcXG4jZWxzZVxcbiAgICAke2l9ICR7b30gJHtufSA9IHVfJHtufTtcXG4jZW5kaWZcXG5gOmBcXG4jaWZuZGVmIEhBU19VTklGT1JNX3VfJHtufVxcbiAgICAke259ID0gdW5wYWNrX21peF8ke3N9KGFfJHtufSwgdV8ke259X3QpO1xcbiNlbHNlXFxuICAgICR7aX0gJHtvfSAke259ID0gdV8ke259O1xcbiNlbmRpZlxcbmA6XCJkZWZpbmVcIj09PXQ/YFxcbiNpZm5kZWYgSEFTX1VOSUZPUk1fdV8ke259XFxudW5pZm9ybSBsb3dwIGZsb2F0IHVfJHtufV90O1xcbmF0dHJpYnV0ZSAke2l9ICR7YX0gYV8ke259O1xcbiNlbHNlXFxudW5pZm9ybSAke2l9ICR7b30gdV8ke259O1xcbiNlbmRpZlxcbmA6XCJ2ZWM0XCI9PT1zP2BcXG4jaWZuZGVmIEhBU19VTklGT1JNX3VfJHtufVxcbiAgICAke2l9ICR7b30gJHtufSA9IGFfJHtufTtcXG4jZWxzZVxcbiAgICAke2l9ICR7b30gJHtufSA9IHVfJHtufTtcXG4jZW5kaWZcXG5gOmBcXG4jaWZuZGVmIEhBU19VTklGT1JNX3VfJHtufVxcbiAgICAke2l9ICR7b30gJHtufSA9IHVucGFja19taXhfJHtzfShhXyR7bn0sIHVfJHtufV90KTtcXG4jZWxzZVxcbiAgICAke2l9ICR7b30gJHtufSA9IHVfJHtufTtcXG4jZW5kaWZcXG5gfSkpLHN0YXRpY0F0dHJpYnV0ZXM6byx1c2VkRGVmaW5lczpufX1jbGFzcyBtaXtjb25zdHJ1Y3Rvcigpe3RoaXMuYm91bmRQcm9ncmFtPW51bGwsdGhpcy5ib3VuZExheW91dFZlcnRleEJ1ZmZlcj1udWxsLHRoaXMuYm91bmRQYWludFZlcnRleEJ1ZmZlcnM9W10sdGhpcy5ib3VuZEluZGV4QnVmZmVyPW51bGwsdGhpcy5ib3VuZFZlcnRleE9mZnNldD1udWxsLHRoaXMuYm91bmREeW5hbWljVmVydGV4QnVmZmVycz1bXSx0aGlzLnZhbz1udWxsO31iaW5kKGUsdCxpLG8scixuLGEpe3RoaXMuY29udGV4dD1lO2xldCBzPXRoaXMuYm91bmRQYWludFZlcnRleEJ1ZmZlcnMubGVuZ3RoIT09by5sZW5ndGg7Zm9yKGxldCBlPTA7IXMmJmU8by5sZW5ndGg7ZSsrKXRoaXMuYm91bmRQYWludFZlcnRleEJ1ZmZlcnNbZV0hPT1vW2VdJiYocz0hMCk7bGV0IGw9dGhpcy5ib3VuZER5bmFtaWNWZXJ0ZXhCdWZmZXJzLmxlbmd0aCE9PWEubGVuZ3RoO2ZvcihsZXQgZT0wOyFsJiZlPGEubGVuZ3RoO2UrKyl0aGlzLmJvdW5kRHluYW1pY1ZlcnRleEJ1ZmZlcnNbZV0hPT1hW2VdJiYobD0hMCk7aWYoIWUuZXh0VmVydGV4QXJyYXlPYmplY3R8fCF0aGlzLnZhb3x8dGhpcy5ib3VuZFByb2dyYW0hPT10fHx0aGlzLmJvdW5kTGF5b3V0VmVydGV4QnVmZmVyIT09aXx8c3x8bHx8dGhpcy5ib3VuZEluZGV4QnVmZmVyIT09cnx8dGhpcy5ib3VuZFZlcnRleE9mZnNldCE9PW4pdGhpcy5mcmVzaEJpbmQodCxpLG8scixuLGEpO2Vsc2Uge2UuYmluZFZlcnRleEFycmF5T0VTLnNldCh0aGlzLnZhbyk7Zm9yKGNvbnN0IGUgb2YgYSllJiZlLmJpbmQoKTtyJiZyLmR5bmFtaWNEcmF3JiZyLmJpbmQoKTt9fWZyZXNoQmluZChlLHQsaSxvLHIsbil7bGV0IGE7Y29uc3Qgcz1lLm51bUF0dHJpYnV0ZXMsbD10aGlzLmNvbnRleHQsYz1sLmdsO2lmKGwuZXh0VmVydGV4QXJyYXlPYmplY3QpdGhpcy52YW8mJnRoaXMuZGVzdHJveSgpLHRoaXMudmFvPWwuZXh0VmVydGV4QXJyYXlPYmplY3QuY3JlYXRlVmVydGV4QXJyYXlPRVMoKSxsLmJpbmRWZXJ0ZXhBcnJheU9FUy5zZXQodGhpcy52YW8pLGE9MCx0aGlzLmJvdW5kUHJvZ3JhbT1lLHRoaXMuYm91bmRMYXlvdXRWZXJ0ZXhCdWZmZXI9dCx0aGlzLmJvdW5kUGFpbnRWZXJ0ZXhCdWZmZXJzPWksdGhpcy5ib3VuZEluZGV4QnVmZmVyPW8sdGhpcy5ib3VuZFZlcnRleE9mZnNldD1yLHRoaXMuYm91bmREeW5hbWljVmVydGV4QnVmZmVycz1uO2Vsc2Uge2E9bC5jdXJyZW50TnVtQXR0cmlidXRlc3x8MDtmb3IobGV0IGU9cztlPGE7ZSsrKWMuZGlzYWJsZVZlcnRleEF0dHJpYkFycmF5KGUpO310LmVuYWJsZUF0dHJpYnV0ZXMoYyxlKSx0LmJpbmQoKSx0LnNldFZlcnRleEF0dHJpYlBvaW50ZXJzKGMsZSxyKTtmb3IoY29uc3QgdCBvZiBpKXQuZW5hYmxlQXR0cmlidXRlcyhjLGUpLHQuYmluZCgpLHQuc2V0VmVydGV4QXR0cmliUG9pbnRlcnMoYyxlLHIpO2Zvcihjb25zdCB0IG9mIG4pdCYmKHQuZW5hYmxlQXR0cmlidXRlcyhjLGUpLHQuYmluZCgpLHQuc2V0VmVydGV4QXR0cmliUG9pbnRlcnMoYyxlLHIpKTtvJiZvLmJpbmQoKSxsLmN1cnJlbnROdW1BdHRyaWJ1dGVzPXM7fWRlc3Ryb3koKXt0aGlzLnZhbyYmKHRoaXMuY29udGV4dC5leHRWZXJ0ZXhBcnJheU9iamVjdC5kZWxldGVWZXJ0ZXhBcnJheU9FUyh0aGlzLnZhbyksdGhpcy52YW89bnVsbCk7fX1mdW5jdGlvbiBmaSh0LGkpe2NvbnN0IG89TWF0aC5wb3coMixpLmNhbm9uaWNhbC56KSxyPWkuY2Fub25pY2FsLnk7cmV0dXJuIFtuZXcgZS5NZXJjYXRvckNvb3JkaW5hdGUoMCxyL28pLnRvTG5nTGF0KCkubGF0LG5ldyBlLk1lcmNhdG9yQ29vcmRpbmF0ZSgwLChyKzEpL28pLnRvTG5nTGF0KCkubGF0XX1mdW5jdGlvbiBnaSh0LGksbyxyLG4sYSxzKXtjb25zdCBsPXQuY29udGV4dCxjPWwuZ2wsaD1vLmZibztpZighaClyZXR1cm47dC5wcmVwYXJlRHJhd1RpbGUoKTtjb25zdCB1PXQudXNlUHJvZ3JhbShcImhpbGxzaGFkZVwiKTtsLmFjdGl2ZVRleHR1cmUuc2V0KGMuVEVYVFVSRTApLGMuYmluZFRleHR1cmUoYy5URVhUVVJFXzJELGguY29sb3JBdHRhY2htZW50LmdldCgpKTtjb25zdCBfPSgoZSx0LGksbyk9Pntjb25zdCByPWkucGFpbnQuZ2V0KFwiaGlsbHNoYWRlLXNoYWRvdy1jb2xvclwiKSxuPWkucGFpbnQuZ2V0KFwiaGlsbHNoYWRlLWhpZ2hsaWdodC1jb2xvclwiKSxhPWkucGFpbnQuZ2V0KFwiaGlsbHNoYWRlLWFjY2VudC1jb2xvclwiKTtsZXQgcz1pLnBhaW50LmdldChcImhpbGxzaGFkZS1pbGx1bWluYXRpb24tZGlyZWN0aW9uXCIpKihNYXRoLlBJLzE4MCk7XCJ2aWV3cG9ydFwiPT09aS5wYWludC5nZXQoXCJoaWxsc2hhZGUtaWxsdW1pbmF0aW9uLWFuY2hvclwiKSYmKHMtPWUudHJhbnNmb3JtLmFuZ2xlKTtjb25zdCBsPSFlLm9wdGlvbnMubW92aW5nO3JldHVybiB7dV9tYXRyaXg6b3x8ZS50cmFuc2Zvcm0uY2FsY3VsYXRlUHJvak1hdHJpeCh0LnRpbGVJRC50b1Vud3JhcHBlZCgpLGwpLHVfaW1hZ2U6MCx1X2xhdHJhbmdlOmZpKDAsdC50aWxlSUQpLHVfbGlnaHQ6W2kucGFpbnQuZ2V0KFwiaGlsbHNoYWRlLWV4YWdnZXJhdGlvblwiKSxzXSx1X3NoYWRvdzpyLHVfaGlnaGxpZ2h0Om4sdV9hY2NlbnQ6YX19KSh0LG8scix0LnRlcnJhaW4/aS5wcm9qTWF0cml4Om51bGwpO3QucHJlcGFyZURyYXdQcm9ncmFtKGwsdSxpLnRvVW53cmFwcGVkKCkpO2NvbnN0e3RpbGVCb3VuZHNCdWZmZXI6ZCx0aWxlQm91bmRzSW5kZXhCdWZmZXI6cCx0aWxlQm91bmRzU2VnbWVudHM6bX09dC5nZXRUaWxlQm91bmRzQnVmZmVycyhvKTt1LmRyYXcobCxjLlRSSUFOR0xFUyxuLGEscyxlLkN1bGxGYWNlTW9kZS5kaXNhYmxlZCxfLHIuaWQsZCxwLG0pO31mdW5jdGlvbiB2aSh0LGksbyl7aWYoIWkubmVlZHNERU1UZXh0dXJlVXBsb2FkKXJldHVybjtjb25zdCByPXQuY29udGV4dCxuPXIuZ2w7ci5waXhlbFN0b3JlVW5wYWNrUHJlbXVsdGlwbHlBbHBoYS5zZXQoITEpLGkuZGVtVGV4dHVyZT1pLmRlbVRleHR1cmV8fHQuZ2V0VGlsZVRleHR1cmUoby5zdHJpZGUpO2NvbnN0IGE9by5nZXRQaXhlbHMoKTtpLmRlbVRleHR1cmU/aS5kZW1UZXh0dXJlLnVwZGF0ZShhLHtwcmVtdWx0aXBseTohMX0pOmkuZGVtVGV4dHVyZT1uZXcgZS5UZXh0dXJlKHIsYSxuLlJHQkEse3ByZW11bHRpcGx5OiExfSksaS5uZWVkc0RFTVRleHR1cmVVcGxvYWQ9ITE7fWZ1bmN0aW9uIHhpKHQsaSxvLHIsbixhKXtjb25zdCBzPXQuY29udGV4dCxsPXMuZ2w7aWYoIWkuZGVtKXJldHVybjtjb25zdCBjPWkuZGVtO2lmKHMuYWN0aXZlVGV4dHVyZS5zZXQobC5URVhUVVJFMSksdmkodCxpLGMpLCFpLmRlbVRleHR1cmUpcmV0dXJuO2kuZGVtVGV4dHVyZS5iaW5kKGwuTkVBUkVTVCxsLkNMQU1QX1RPX0VER0UpO2NvbnN0IGg9Yy5kaW07cy5hY3RpdmVUZXh0dXJlLnNldChsLlRFWFRVUkUwKTtsZXQgdT1pLmZibztpZighdSl7Y29uc3QgdD1uZXcgZS5UZXh0dXJlKHMse3dpZHRoOmgsaGVpZ2h0OmgsZGF0YTpudWxsfSxsLlJHQkEpO3QuYmluZChsLkxJTkVBUixsLkNMQU1QX1RPX0VER0UpLHU9aS5mYm89cy5jcmVhdGVGcmFtZWJ1ZmZlcihoLGgsITApLHUuY29sb3JBdHRhY2htZW50LnNldCh0LnRleHR1cmUpO31zLmJpbmRGcmFtZWJ1ZmZlci5zZXQodS5mcmFtZWJ1ZmZlcikscy52aWV3cG9ydC5zZXQoWzAsMCxoLGhdKTtjb25zdHt0aWxlQm91bmRzQnVmZmVyOl8sdGlsZUJvdW5kc0luZGV4QnVmZmVyOmQsdGlsZUJvdW5kc1NlZ21lbnRzOnB9PXQuZ2V0TWVyY2F0b3JUaWxlQm91bmRzQnVmZmVycygpO3QudXNlUHJvZ3JhbShcImhpbGxzaGFkZVByZXBhcmVcIikuZHJhdyhzLGwuVFJJQU5HTEVTLHIsbixhLGUuQ3VsbEZhY2VNb2RlLmRpc2FibGVkLCgodCxpKT0+e2NvbnN0IG89aS5zdHJpZGUscj1lLmNyZWF0ZSgpO3JldHVybiBlLm9ydGhvKHIsMCxlLkVYVEVOVCwtZS5FWFRFTlQsMCwwLDEpLGUudHJhbnNsYXRlKHIscixbMCwtZS5FWFRFTlQsMF0pLHt1X21hdHJpeDpyLHVfaW1hZ2U6MSx1X2RpbWVuc2lvbjpbbyxvXSx1X3pvb206dC5vdmVyc2NhbGVkWix1X3VucGFjazppLnVucGFja1ZlY3Rvcn19KShpLnRpbGVJRCxjKSxvLmlkLF8sZCxwKSxpLm5lZWRzSGlsbHNoYWRlUHJlcGFyZT0hMTt9Y29uc3QgeWk9dD0+KHt1X21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV9pbWFnZTA6bmV3IGUuVW5pZm9ybTFpKHQpLHVfc2tpcnRfaGVpZ2h0Om5ldyBlLlVuaWZvcm0xZih0KX0pLGJpPShlLHQpPT4oe3VfbWF0cml4OmUsdV9pbWFnZTA6MCx1X3NraXJ0X2hlaWdodDp0fSksd2k9KGUsdCxpLG8scixuLGEscyxsLGMsaCx1LF8sZCk9Pih7dV9wcm9qX21hdHJpeDpGbG9hdDMyQXJyYXkuZnJvbShlKSx1X2dsb2JlX21hdHJpeDp0LHVfbm9ybWFsaXplX21hdHJpeDpGbG9hdDMyQXJyYXkuZnJvbShvKSx1X21lcmNfbWF0cml4OmksdV96b29tX3RyYW5zaXRpb246cix1X21lcmNfY2VudGVyOm4sdV9pbWFnZTA6MCx1X2ZydXN0dW1fdGw6YSx1X2ZydXN0dW1fdHI6cyx1X2ZydXN0dW1fYnI6bCx1X2ZydXN0dW1fYmw6Yyx1X2dsb2JlX3BvczpoLHVfZ2xvYmVfcmFkaXVzOnUsdV92aWV3cG9ydDpfLHVfZ3JpZF9tYXRyaXg6ZD9GbG9hdDMyQXJyYXkuZnJvbShkKTpuZXcgRmxvYXQzMkFycmF5KDkpfSk7ZnVuY3Rpb24gVGkoZSx0KXtyZXR1cm4gbnVsbCE9ZSYmbnVsbCE9dCYmISghZS5oYXNEYXRhKCl8fCF0Lmhhc0RhdGEoKSkmJm51bGwhPWUuZGVtVGV4dHVyZSYmbnVsbCE9dC5kZW1UZXh0dXJlJiZlLnRpbGVJRC5rZXkhPT10LnRpbGVJRC5rZXl9Y29uc3QgRWk9bmV3IGNsYXNze2NvbnN0cnVjdG9yKCl7dGhpcy5vcGVyYXRpb25zPXt9O31uZXdNb3JwaGluZyhlLHQsaSxvLHIpe2lmKGUgaW4gdGhpcy5vcGVyYXRpb25zKXtjb25zdCB0PXRoaXMub3BlcmF0aW9uc1tlXTt0LnRvLnRpbGVJRC5rZXkhPT1pLnRpbGVJRC5rZXkmJih0LnF1ZXVlZD1pKTt9ZWxzZSB0aGlzLm9wZXJhdGlvbnNbZV09e3N0YXJ0VGltZTpvLHBoYXNlOjAsZHVyYXRpb246cixmcm9tOnQsdG86aSxxdWV1ZWQ6bnVsbH07fWdldE1vcnBoVmFsdWVzRm9yUHJveHkoZSl7aWYoIShlIGluIHRoaXMub3BlcmF0aW9ucykpcmV0dXJuIG51bGw7Y29uc3QgdD10aGlzLm9wZXJhdGlvbnNbZV07cmV0dXJuIHtmcm9tOnQuZnJvbSx0bzp0LnRvLHBoYXNlOnQucGhhc2V9fXVwZGF0ZShlKXtmb3IoY29uc3QgdCBpbiB0aGlzLm9wZXJhdGlvbnMpe2NvbnN0IGk9dGhpcy5vcGVyYXRpb25zW3RdO2ZvcihpLnBoYXNlPShlLWkuc3RhcnRUaW1lKS9pLmR1cmF0aW9uO2kucGhhc2U+PTF8fCF0aGlzLl92YWxpZE9wKGkpOylpZighdGhpcy5fbmV4dE9wKGksZSkpe2RlbGV0ZSB0aGlzLm9wZXJhdGlvbnNbdF07YnJlYWt9fX1fbmV4dE9wKGUsdCl7cmV0dXJuICEhZS5xdWV1ZWQmJihlLmZyb209ZS50byxlLnRvPWUucXVldWVkLGUucXVldWVkPW51bGwsZS5waGFzZT0wLGUuc3RhcnRUaW1lPXQsITApfV92YWxpZE9wKGUpe3JldHVybiBlLmZyb20uaGFzRGF0YSgpJiZlLnRvLmhhc0RhdGEoKX19LENpPXswOm51bGwsMTpcIlRFUlJBSU5fVkVSVEVYX01PUlBISU5HXCIsMjpcIlRFUlJBSU5fV0lSRUZSQU1FXCJ9O2Z1bmN0aW9uIElpKGUsdCl7Y29uc3QgaT0xPDxlLno7cmV0dXJuICF0JiYoMD09PWUueHx8ZS54PT09aS0xKXx8MD09PWUueXx8ZS55PT09aS0xfWNvbnN0IE1pPWU9Pih7dV9tYXRyaXg6ZX0pO2Z1bmN0aW9uIFNpKHQsaSxvLHIsbil7aWYobj4wKXtjb25zdCBhPWUuZXhwb3J0ZWQubm93KCkscz0oYS10LnRpbWVBZGRlZCkvbixsPWk/KGEtaS50aW1lQWRkZWQpL246LTEsYz1vLmdldFNvdXJjZSgpLGg9ci5jb3ZlcmluZ1pvb21MZXZlbCh7dGlsZVNpemU6Yy50aWxlU2l6ZSxyb3VuZFpvb206Yy5yb3VuZFpvb219KSx1PSFpfHxNYXRoLmFicyhpLnRpbGVJRC5vdmVyc2NhbGVkWi1oKT5NYXRoLmFicyh0LnRpbGVJRC5vdmVyc2NhbGVkWi1oKSxfPXUmJnQucmVmcmVzaGVkVXBvbkV4cGlyYXRpb24/MTplLmNsYW1wKHU/czoxLWwsMCwxKTtyZXR1cm4gdC5yZWZyZXNoZWRVcG9uRXhwaXJhdGlvbiYmcz49MSYmKHQucmVmcmVzaGVkVXBvbkV4cGlyYXRpb249ITEpLGk/e29wYWNpdHk6MSxtaXg6MS1ffTp7b3BhY2l0eTpfLG1peDowfX1yZXR1cm4ge29wYWNpdHk6MSxtaXg6MH19Y2xhc3MgemkgZXh0ZW5kcyBlLlNvdXJjZUNhY2hle2NvbnN0cnVjdG9yKGUpe2NvbnN0IHQ9e3R5cGU6XCJyYXN0ZXItZGVtXCIsbWF4em9vbTplLnRyYW5zZm9ybS5tYXhab29tfSxpPW5ldyBBKEdlKCksbnVsbCksbz1BZShcIm1vY2stZGVtXCIsdCxpLGUuc3R5bGUpO3N1cGVyKFwibW9jay1kZW1cIixvLCExKSxvLnNldEV2ZW50ZWRQYXJlbnQodGhpcyksdGhpcy5fc291cmNlTG9hZGVkPSEwO31fbG9hZFRpbGUoZSx0KXtlLnN0YXRlPVwibG9hZGVkXCIsdChudWxsKTt9fWNsYXNzIERpIGV4dGVuZHMgZS5Tb3VyY2VDYWNoZXtjb25zdHJ1Y3RvcihlKXtjb25zdCB0PUFlKFwicHJveHlcIix7dHlwZTpcImdlb2pzb25cIixtYXh6b29tOmUudHJhbnNmb3JtLm1heFpvb219LG5ldyBBKEdlKCksbnVsbCksZS5zdHlsZSk7c3VwZXIoXCJwcm94eVwiLHQsITEpLHQuc2V0RXZlbnRlZFBhcmVudCh0aGlzKSx0aGlzLm1hcD10aGlzLmdldFNvdXJjZSgpLm1hcD1lLHRoaXMudXNlZD10aGlzLl9zb3VyY2VMb2FkZWQ9ITAsdGhpcy5yZW5kZXJDYWNoZT1bXSx0aGlzLnJlbmRlckNhY2hlUG9vbD1bXSx0aGlzLnByb3h5Q2FjaGVkRkJPPXt9O311cGRhdGUodCxpLG8pe2lmKHQuZnJlZXplVGlsZUNvdmVyYWdlKXJldHVybjt0aGlzLnRyYW5zZm9ybT10O2NvbnN0IHI9dC5jb3ZlcmluZ1RpbGVzKHt0aWxlU2l6ZTp0aGlzLl9zb3VyY2UudGlsZVNpemUsbWluem9vbTp0aGlzLl9zb3VyY2UubWluem9vbSxtYXh6b29tOnRoaXMuX3NvdXJjZS5tYXh6b29tLHJvdW5kWm9vbTp0aGlzLl9zb3VyY2Uucm91bmRab29tLHJlcGFyc2VPdmVyc2NhbGVkOnRoaXMuX3NvdXJjZS5yZXBhcnNlT3ZlcnNjYWxlZH0pLnJlZHVjZSgoKGksbyk9PntpZihpW28ua2V5XT1cIlwiLCF0aGlzLl90aWxlc1tvLmtleV0pe2NvbnN0IGk9bmV3IGUuVGlsZShvLHRoaXMuX3NvdXJjZS50aWxlU2l6ZSpvLm92ZXJzY2FsZUZhY3RvcigpLHQudGlsZVpvb20pO2kuc3RhdGU9XCJsb2FkZWRcIix0aGlzLl90aWxlc1tvLmtleV09aTt9cmV0dXJuIGl9KSx7fSk7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fdGlsZXMpZSBpbiByfHwodGhpcy5mcmVlRkJPKGUpLHRoaXMuX3RpbGVzW2VdLnVubG9hZFZlY3RvckRhdGEoKSxkZWxldGUgdGhpcy5fdGlsZXNbZV0pO31mcmVlRkJPKGUpe2NvbnN0IHQ9dGhpcy5wcm94eUNhY2hlZEZCT1tlXTtpZih2b2lkIDAhPT10KXtjb25zdCBpPU9iamVjdC52YWx1ZXModCk7dGhpcy5yZW5kZXJDYWNoZVBvb2wucHVzaCguLi5pKSxkZWxldGUgdGhpcy5wcm94eUNhY2hlZEZCT1tlXTt9fWRlYWxsb2NSZW5kZXJDYWNoZSgpe3RoaXMucmVuZGVyQ2FjaGUuZm9yRWFjaCgoZT0+ZS5mYi5kZXN0cm95KCkpKSx0aGlzLnJlbmRlckNhY2hlPVtdLHRoaXMucmVuZGVyQ2FjaGVQb29sPVtdLHRoaXMucHJveHlDYWNoZWRGQk89e307fX1jbGFzcyBQaSBleHRlbmRzIGUuT3ZlcnNjYWxlZFRpbGVJRHtjb25zdHJ1Y3RvcihlLHQsaSl7c3VwZXIoZS5vdmVyc2NhbGVkWixlLndyYXAsZS5jYW5vbmljYWwueixlLmNhbm9uaWNhbC54LGUuY2Fub25pY2FsLnkpLHRoaXMucHJveHlUaWxlS2V5PXQsdGhpcy5wcm9qTWF0cml4PWk7fX1jbGFzcyBBaSBleHRlbmRzIGUuRWxldmF0aW9ue2NvbnN0cnVjdG9yKHQsaSl7c3VwZXIoKSx0aGlzLnBhaW50ZXI9dCx0aGlzLnRlcnJhaW5UaWxlRm9yVGlsZT17fSx0aGlzLnByZXZUZXJyYWluVGlsZUZvclRpbGU9e307Y29uc3RbbyxyLG5dPWZ1bmN0aW9uKHQpe2NvbnN0IGk9bmV3IGUuU3RydWN0QXJyYXlMYXlvdXQ0aTgsbz1uZXcgZS5TdHJ1Y3RBcnJheUxheW91dDN1aTYscj0xMzE7aS5yZXNlcnZlKDE3MTYxKSxvLnJlc2VydmUoMzM4MDApO2NvbnN0IG49ZS5FWFRFTlQvMTI4LGE9ZS5FWFRFTlQrbi8yLHM9YStuO2ZvcihsZXQgdD0tbjt0PHM7dCs9bilmb3IobGV0IG89LW47bzxzO28rPW4pe2NvbnN0IHI9bzwwfHxvPmF8fHQ8MHx8dD5hPzI0NTc1OjAsbj1lLmNsYW1wKE1hdGgucm91bmQobyksMCxlLkVYVEVOVCkscz1lLmNsYW1wKE1hdGgucm91bmQodCksMCxlLkVYVEVOVCk7aS5lbXBsYWNlQmFjayhuK3IscyxuLHMpO31jb25zdCBsPShlLHQpPT57Y29uc3QgaT10KnIrZTtvLmVtcGxhY2VCYWNrKGkrMSxpLGkrciksby5lbXBsYWNlQmFjayhpK3IsaStyKzEsaSsxKTt9O2ZvcihsZXQgZT0xO2U8MTI5O2UrKylmb3IobGV0IHQ9MTt0PDEyOTt0KyspbCh0LGUpO3JldHVybiBbMCwxMjldLmZvckVhY2goKGU9Pntmb3IobGV0IHQ9MDt0PDEzMDt0KyspbCh0LGUpLGwoZSx0KTt9KSksW2ksbywzMjc2OF19KCksYT10LmNvbnRleHQ7dGhpcy5ncmlkQnVmZmVyPWEuY3JlYXRlVmVydGV4QnVmZmVyKG8sZS5ib3VuZHNBdHRyaWJ1dGVzLm1lbWJlcnMpLHRoaXMuZ3JpZEluZGV4QnVmZmVyPWEuY3JlYXRlSW5kZXhCdWZmZXIociksdGhpcy5ncmlkU2VnbWVudHM9ZS5TZWdtZW50VmVjdG9yLnNpbXBsZVNlZ21lbnQoMCwwLG8ubGVuZ3RoLHIubGVuZ3RoKSx0aGlzLmdyaWROb1NraXJ0U2VnbWVudHM9ZS5TZWdtZW50VmVjdG9yLnNpbXBsZVNlZ21lbnQoMCwwLG8ubGVuZ3RoLG4pLHRoaXMucHJveHlDb29yZHM9W10sdGhpcy5wcm94aWVkQ29vcmRzPXt9LHRoaXMuX3Zpc2libGVEZW1UaWxlcz1bXSx0aGlzLl9kcmFwZWRSZW5kZXJCYXRjaGVzPVtdLHRoaXMuX3NvdXJjZVRpbGVzT3ZlcmxhcD17fSx0aGlzLnByb3h5U291cmNlQ2FjaGU9bmV3IERpKGkubWFwKSx0aGlzLm9ydGhvTWF0cml4PWUuY3JlYXRlKCksZS5vcnRobyh0aGlzLm9ydGhvTWF0cml4LDAsZS5FWFRFTlQsMCxlLkVYVEVOVCwwLDEpO2NvbnN0IHM9YS5nbDt0aGlzLl9vdmVybGFwU3RlbmNpbE1vZGU9bmV3IGUuU3RlbmNpbE1vZGUoe2Z1bmM6cy5HRVFVQUwsbWFzazoyNTV9LDAsMjU1LHMuS0VFUCxzLktFRVAscy5SRVBMQUNFKSx0aGlzLl9wcmV2aW91c1pvb209dC50cmFuc2Zvcm0uem9vbSx0aGlzLnBvb2w9W10sdGhpcy5fZmluZENvdmVyaW5nVGlsZUNhY2hlPXt9LHRoaXMuX3RpbGVzRGlydHk9e30sdGhpcy5zdHlsZT1pLHRoaXMuX3VzZVZlcnRleE1vcnBoaW5nPSEwLHRoaXMuX2V4YWdnZXJhdGlvbj0xLHRoaXMuX21vY2tTb3VyY2VDYWNoZT1uZXcgemkoaS5tYXApO31zZXQgc3R5bGUoZSl7ZS5vbihcImRhdGFcIix0aGlzLl9vblN0eWxlRGF0YUV2ZW50LmJpbmQodGhpcykpLGUub24oXCJuZXdvcmRlclwiLHRoaXMuX2NoZWNrUmVuZGVyQ2FjaGVFZmZpY2llbmN5LmJpbmQodGhpcykpLHRoaXMuX3N0eWxlPWUsdGhpcy5fY2hlY2tSZW5kZXJDYWNoZUVmZmljaWVuY3koKTt9dXBkYXRlKHQsaSxvKXtpZih0JiZ0LnRlcnJhaW4pe3RoaXMuX3N0eWxlIT09dCYmKHRoaXMuc3R5bGU9dCksdGhpcy5lbmFibGVkPSEwO2NvbnN0IHI9dC50ZXJyYWluLnByb3BlcnRpZXM7dGhpcy5zb3VyY2VDYWNoZT0wPT09dC50ZXJyYWluLmRyYXBlUmVuZGVyTW9kZT90aGlzLl9tb2NrU291cmNlQ2FjaGU6dC5fZ2V0U291cmNlQ2FjaGUoci5nZXQoXCJzb3VyY2VcIikpLHRoaXMuX2V4YWdnZXJhdGlvbj1yLmdldChcImV4YWdnZXJhdGlvblwiKTtjb25zdCBuPSgpPT57dGhpcy5zb3VyY2VDYWNoZS51c2VkJiZlLndhcm5PbmNlKGBSYXN0ZXIgREVNIHNvdXJjZSAnJHt0aGlzLnNvdXJjZUNhY2hlLmlkfScgaXMgdXNlZCBib3RoIGZvciB0ZXJyYWluIGFuZCBhcyBsYXllciBzb3VyY2UuXFxuVGhpcyBsZWFkcyB0byBsb3dlciByZXNvbHV0aW9uIG9mIGhpbGxzaGFkZS4gRm9yIGZ1bGwgaGlsbHNoYWRlIHJlc29sdXRpb24gYnV0IGhpZ2hlciBtZW1vcnkgY29uc3VtcHRpb24sIGRlZmluZSBhbm90aGVyIHJhc3RlciBERU0gc291cmNlLmApO2NvbnN0IHQ9dGhpcy5nZXRTY2FsZWREZW1UaWxlU2l6ZSgpO3RoaXMuc291cmNlQ2FjaGUudXBkYXRlKGksdCwhMCksdGhpcy5yZXNldFRpbGVMb29rdXBDYWNoZSh0aGlzLnNvdXJjZUNhY2hlLmlkKTt9O3RoaXMuc291cmNlQ2FjaGUudXNlZEZvclRlcnJhaW58fCh0aGlzLnJlc2V0VGlsZUxvb2t1cENhY2hlKHRoaXMuc291cmNlQ2FjaGUuaWQpLHRoaXMuc291cmNlQ2FjaGUudXNlZEZvclRlcnJhaW49ITAsbigpLHRoaXMuX2luaXRpYWxpemluZz0hMCksbigpLGkudXBkYXRlRWxldmF0aW9uKCFvKSx0aGlzLnJlc2V0VGlsZUxvb2t1cENhY2hlKHRoaXMucHJveHlTb3VyY2VDYWNoZS5pZCksdGhpcy5wcm94eVNvdXJjZUNhY2hlLnVwZGF0ZShpKSx0aGlzLl9lbXB0eURFTVRleHR1cmVEaXJ0eT0hMDt9ZWxzZSB0aGlzLl9kaXNhYmxlKCk7fXJlc2V0VGlsZUxvb2t1cENhY2hlKGUpe3RoaXMuX2ZpbmRDb3ZlcmluZ1RpbGVDYWNoZVtlXT17fTt9Z2V0U2NhbGVkRGVtVGlsZVNpemUoKXtyZXR1cm4gdGhpcy5zb3VyY2VDYWNoZS5nZXRTb3VyY2UoKS50aWxlU2l6ZS8xMjgqdGhpcy5wcm94eVNvdXJjZUNhY2hlLmdldFNvdXJjZSgpLnRpbGVTaXplfV9jaGVja1JlbmRlckNhY2hlRWZmaWNpZW5jeSgpe2NvbnN0IHQ9dGhpcy5yZW5kZXJDYWNoZUVmZmljaWVuY3kodGhpcy5fc3R5bGUpO3RoaXMuX3N0eWxlLm1hcC5fb3B0aW1pemVGb3JUZXJyYWlufHwxMDAhPT10LmVmZmljaWVuY3kmJmUud2Fybk9uY2UoYFRlcnJhaW4gcmVuZGVyIGNhY2hlIGVmZmljaWVuY3kgaXMgbm90IG9wdGltYWwgKCR7dC5lZmZpY2llbmN5fSUpIGFuZCBwZXJmb3JtYW5jZVxcbiAgICAgICAgICAgICAgICBtYXkgYmUgYWZmZWN0ZWQgbmVnYXRpdmVseSwgY29uc2lkZXIgcGxhY2luZyBhbGwgYmFja2dyb3VuZCwgZmlsbCBhbmQgbGluZSBsYXllcnMgYmVmb3JlIGxheWVyXFxuICAgICAgICAgICAgICAgIHdpdGggaWQgJyR7dC5maXJzdFVuZHJhcGVkTGF5ZXJ9JyBvciBjcmVhdGUgYSBtYXAgdXNpbmcgb3B0aW1pemVGb3JUZXJyYWluOiB0cnVlIG9wdGlvbi5gKTt9X29uU3R5bGVEYXRhRXZlbnQoZSl7ZS5jb29yZCYmXCJzb3VyY2VcIj09PWUuZGF0YVR5cGU/dGhpcy5fY2xlYXJSZW5kZXJDYWNoZUZvclRpbGUoZS5zb3VyY2VDYWNoZUlkLGUuY29vcmQpOlwic3R5bGVcIj09PWUuZGF0YVR5cGUmJih0aGlzLl9pbnZhbGlkYXRlUmVuZGVyQ2FjaGU9ITApO31fZGlzYWJsZSgpe2lmKHRoaXMuZW5hYmxlZCYmKHRoaXMuZW5hYmxlZD0hMSx0aGlzLl9zaGFyZWREZXB0aFN0ZW5jaWw9dm9pZCAwLHRoaXMucHJveHlTb3VyY2VDYWNoZS5kZWFsbG9jUmVuZGVyQ2FjaGUoKSx0aGlzLl9zdHlsZSkpZm9yKGNvbnN0IGUgaW4gdGhpcy5fc3R5bGUuX3NvdXJjZUNhY2hlcyl0aGlzLl9zdHlsZS5fc291cmNlQ2FjaGVzW2VdLnVzZWRGb3JUZXJyYWluPSExO31kZXN0cm95KCl7dGhpcy5fZGlzYWJsZSgpLHRoaXMuX2VtcHR5REVNVGV4dHVyZSYmdGhpcy5fZW1wdHlERU1UZXh0dXJlLmRlc3Ryb3koKSx0aGlzLl9lbXB0eURlcHRoQnVmZmVyVGV4dHVyZSYmdGhpcy5fZW1wdHlEZXB0aEJ1ZmZlclRleHR1cmUuZGVzdHJveSgpLHRoaXMucG9vbC5mb3JFYWNoKChlPT5lLmZiLmRlc3Ryb3koKSkpLHRoaXMucG9vbD1bXSx0aGlzLl9kZXB0aEZCTyYmKHRoaXMuX2RlcHRoRkJPLmRlc3Ryb3koKSx0aGlzLl9kZXB0aEZCTz12b2lkIDAsdGhpcy5fZGVwdGhUZXh0dXJlPXZvaWQgMCk7fV9zb3VyY2UoKXtyZXR1cm4gdGhpcy5lbmFibGVkP3RoaXMuc291cmNlQ2FjaGU6bnVsbH1leGFnZ2VyYXRpb24oKXtyZXR1cm4gdGhpcy5fZXhhZ2dlcmF0aW9ufWdldCB2aXNpYmxlRGVtVGlsZXMoKXtyZXR1cm4gdGhpcy5fdmlzaWJsZURlbVRpbGVzfWdldCBkcmFwZUJ1ZmZlclNpemUoKXtjb25zdCBlPTIqdGhpcy5wcm94eVNvdXJjZUNhY2hlLmdldFNvdXJjZSgpLnRpbGVTaXplO3JldHVybiBbZSxlXX1zZXQgdXNlVmVydGV4TW9ycGhpbmcoZSl7dGhpcy5fdXNlVmVydGV4TW9ycGhpbmc9ZTt9dXBkYXRlVGlsZUJpbmRpbmcodCl7aWYoIXRoaXMuZW5hYmxlZClyZXR1cm47dGhpcy5wcmV2VGVycmFpblRpbGVGb3JUaWxlPXRoaXMudGVycmFpblRpbGVGb3JUaWxlO2NvbnN0IGk9dGhpcy5wcm94eVNvdXJjZUNhY2hlLG89dGhpcy5wYWludGVyLnRyYW5zZm9ybTt0aGlzLl9pbml0aWFsaXppbmcmJih0aGlzLl9pbml0aWFsaXppbmc9MD09PW8uX2NlbnRlckFsdGl0dWRlJiYtMT09PXRoaXMuZ2V0QXRQb2ludE9yWmVybyhlLk1lcmNhdG9yQ29vcmRpbmF0ZS5mcm9tTG5nTGF0KG8uY2VudGVyKSwtMSksdGhpcy5fZW1wdHlERU1UZXh0dXJlRGlydHk9IXRoaXMuX2luaXRpYWxpemluZyk7Y29uc3Qgcj10aGlzLnByb3h5Q29vcmRzPWkuZ2V0SWRzKCkubWFwKChlPT57Y29uc3QgdD1pLmdldFRpbGVCeUlEKGUpLnRpbGVJRDtyZXR1cm4gdC5wcm9qTWF0cml4PW8uY2FsY3VsYXRlUHJvak1hdHJpeCh0LnRvVW53cmFwcGVkKCkpLHR9KSk7IWZ1bmN0aW9uKHQsaSl7Y29uc3Qgbz1pLnRyYW5zZm9ybS5wb2ludENvb3JkaW5hdGUoaS50cmFuc2Zvcm0uZ2V0Q2FtZXJhUG9pbnQoKSkscj1uZXcgZS5wb2ludEdlb21ldHJ5KG8ueCxvLnkpO3Quc29ydCgoKHQsaSk9PntpZihpLm92ZXJzY2FsZWRaLXQub3ZlcnNjYWxlZFopcmV0dXJuIGkub3ZlcnNjYWxlZFotdC5vdmVyc2NhbGVkWjtjb25zdCBvPW5ldyBlLnBvaW50R2VvbWV0cnkodC5jYW5vbmljYWwueCsoMTw8dC5jYW5vbmljYWwueikqdC53cmFwLHQuY2Fub25pY2FsLnkpLG49bmV3IGUucG9pbnRHZW9tZXRyeShpLmNhbm9uaWNhbC54KygxPDxpLmNhbm9uaWNhbC56KSppLndyYXAsaS5jYW5vbmljYWwueSksYT1yLm11bHQoMTw8dC5jYW5vbmljYWwueik7cmV0dXJuIGEueC09LjUsYS55LT0uNSxhLmRpc3RTcXIobyktYS5kaXN0U3FyKG4pfSkpO30ocix0aGlzLnBhaW50ZXIpLHRoaXMuX3ByZXZpb3VzWm9vbT1vLnpvb207Y29uc3Qgbj10aGlzLnByb3h5VG9Tb3VyY2V8fHt9O3RoaXMucHJveHlUb1NvdXJjZT17fSxyLmZvckVhY2goKGU9Pnt0aGlzLnByb3h5VG9Tb3VyY2VbZS5rZXldPXt9O30pKSx0aGlzLnRlcnJhaW5UaWxlRm9yVGlsZT17fTtjb25zdCBhPXRoaXMuX3N0eWxlLl9zb3VyY2VDYWNoZXM7Zm9yKGNvbnN0IGUgaW4gYSl7Y29uc3QgaT1hW2VdO2lmKCFpLnVzZWQpY29udGludWU7aWYoaSE9PXRoaXMuc291cmNlQ2FjaGUmJnRoaXMucmVzZXRUaWxlTG9va3VwQ2FjaGUoaS5pZCksdGhpcy5fc2V0dXBQcm94aWVkQ29vcmRzRm9yT3J0aG8oaSx0W2VdLG4pLGkudXNlZEZvclRlcnJhaW4pY29udGludWU7Y29uc3Qgbz10W2VdO2kuZ2V0U291cmNlKCkucmVwYXJzZU92ZXJzY2FsZWQmJnRoaXMuX2Fzc2lnblRlcnJhaW5UaWxlcyhvKTt9dGhpcy5wcm94aWVkQ29vcmRzW2kuaWRdPXIubWFwKChlPT5uZXcgUGkoZSxlLmtleSx0aGlzLm9ydGhvTWF0cml4KSkpLHRoaXMuX2Fzc2lnblRlcnJhaW5UaWxlcyhyKSx0aGlzLl9wcmVwYXJlREVNVGV4dHVyZXMoKSx0aGlzLl9zZXR1cERyYXBlZFJlbmRlckJhdGNoZXMoKSx0aGlzLl9pbml0RkJPUG9vbCgpLHRoaXMuX3NldHVwUmVuZGVyQ2FjaGUobiksdGhpcy5yZW5kZXJpbmdUb1RleHR1cmU9ITEsdGhpcy5fdXBkYXRlVGltZXN0YW1wPWUuZXhwb3J0ZWQubm93KCk7Y29uc3Qgcz17fTt0aGlzLl92aXNpYmxlRGVtVGlsZXM9W107Zm9yKGNvbnN0IGUgb2YgdGhpcy5wcm94eUNvb3Jkcyl7Y29uc3QgdD10aGlzLnRlcnJhaW5UaWxlRm9yVGlsZVtlLmtleV07aWYoIXQpY29udGludWU7Y29uc3QgaT10LnRpbGVJRC5rZXk7aSBpbiBzfHwodGhpcy5fdmlzaWJsZURlbVRpbGVzLnB1c2godCksc1tpXT1pKTt9fV9hc3NpZ25UZXJyYWluVGlsZXMoZSl7dGhpcy5faW5pdGlhbGl6aW5nfHxlLmZvckVhY2goKGU9PntpZih0aGlzLnRlcnJhaW5UaWxlRm9yVGlsZVtlLmtleV0pcmV0dXJuO2NvbnN0IHQ9dGhpcy5fZmluZFRpbGVDb3ZlcmluZ1RpbGVJRChlLHRoaXMuc291cmNlQ2FjaGUpO3QmJih0aGlzLnRlcnJhaW5UaWxlRm9yVGlsZVtlLmtleV09dCk7fSkpO31fcHJlcGFyZURFTVRleHR1cmVzKCl7Y29uc3QgZT10aGlzLnBhaW50ZXIuY29udGV4dCx0PWUuZ2w7Zm9yKGNvbnN0IGkgaW4gdGhpcy50ZXJyYWluVGlsZUZvclRpbGUpe2NvbnN0IG89dGhpcy50ZXJyYWluVGlsZUZvclRpbGVbaV0scj1vLmRlbTshcnx8by5kZW1UZXh0dXJlJiYhby5uZWVkc0RFTVRleHR1cmVVcGxvYWR8fChlLmFjdGl2ZVRleHR1cmUuc2V0KHQuVEVYVFVSRTEpLHZpKHRoaXMucGFpbnRlcixvLHIpKTt9fV9wcmVwYXJlRGVtVGlsZVVuaWZvcm1zKGUsdCxpLG8pe2lmKCF0fHxudWxsPT10LmRlbVRleHR1cmUpcmV0dXJuICExO2NvbnN0IHI9ZS50aWxlSUQuY2Fub25pY2FsLG49TWF0aC5wb3coMix0LnRpbGVJRC5jYW5vbmljYWwuei1yLnopLGE9b3x8XCJcIjtyZXR1cm4gaVtgdV9kZW1fdGwke2F9YF09W3IueCpuJTEsci55Km4lMV0saVtgdV9kZW1fc2NhbGUke2F9YF09biwhMH1nZXQgZW1wdHlERU1UZXh0dXJlKCl7cmV0dXJuICF0aGlzLl9lbXB0eURFTVRleHR1cmVEaXJ0eSYmdGhpcy5fZW1wdHlERU1UZXh0dXJlP3RoaXMuX2VtcHR5REVNVGV4dHVyZTp0aGlzLl91cGRhdGVFbXB0eURFTVRleHR1cmUoKX1nZXQgZW1wdHlEZXB0aEJ1ZmZlclRleHR1cmUoKXtjb25zdCB0PXRoaXMucGFpbnRlci5jb250ZXh0LGk9dC5nbDtpZighdGhpcy5fZW1wdHlEZXB0aEJ1ZmZlclRleHR1cmUpe2NvbnN0IG89bmV3IGUuUkdCQUltYWdlKHt3aWR0aDoxLGhlaWdodDoxfSxVaW50OEFycmF5Lm9mKDI1NSwyNTUsMjU1LDI1NSkpO3RoaXMuX2VtcHR5RGVwdGhCdWZmZXJUZXh0dXJlPW5ldyBlLlRleHR1cmUodCxvLGkuUkdCQSx7cHJlbXVsdGlwbHk6ITF9KTt9cmV0dXJuIHRoaXMuX2VtcHR5RGVwdGhCdWZmZXJUZXh0dXJlfV9nZXRMb2FkZWRBcmVhTWluaW11bSgpe2xldCBlPTA7Y29uc3QgdD10aGlzLl92aXNpYmxlRGVtVGlsZXMucmVkdWNlKCgodCxpKT0+e2lmKCFpLmRlbSlyZXR1cm4gdDtjb25zdCBvPWkuZGVtLnRyZWUubWluaW11bXNbMF07cmV0dXJuIG8+MCYmZSsrLHQrb30pLDApO3JldHVybiBlP3QvZTowfV91cGRhdGVFbXB0eURFTVRleHR1cmUoKXtjb25zdCB0PXRoaXMucGFpbnRlci5jb250ZXh0LGk9dC5nbDt0LmFjdGl2ZVRleHR1cmUuc2V0KGkuVEVYVFVSRTIpO2NvbnN0IG89dGhpcy5fZ2V0TG9hZGVkQXJlYU1pbmltdW0oKSxyPW5ldyBlLlJHQkFJbWFnZSh7d2lkdGg6MSxoZWlnaHQ6MX0sbmV3IFVpbnQ4QXJyYXkoZS5ERU1EYXRhLnBhY2sobyx0aGlzLnNvdXJjZUNhY2hlLmdldFNvdXJjZSgpLmVuY29kaW5nKSkpO3RoaXMuX2VtcHR5REVNVGV4dHVyZURpcnR5PSExO2xldCBuPXRoaXMuX2VtcHR5REVNVGV4dHVyZTtyZXR1cm4gbj9uLnVwZGF0ZShyLHtwcmVtdWx0aXBseTohMX0pOm49dGhpcy5fZW1wdHlERU1UZXh0dXJlPW5ldyBlLlRleHR1cmUodCxyLGkuUkdCQSx7cHJlbXVsdGlwbHk6ITF9KSxufXNldHVwRWxldmF0aW9uRHJhdyh0LGksbyl7Y29uc3Qgcj10aGlzLnBhaW50ZXIuY29udGV4dCxuPXIuZ2wsYT0ocz10aGlzLnNvdXJjZUNhY2hlLmdldFNvdXJjZSgpLmVuY29kaW5nLHt1X2RlbToyLHVfZGVtX3ByZXY6NCx1X2RlbV91bnBhY2s6ZS5ERU1EYXRhLmdldFVucGFja1ZlY3RvcihzKSx1X2RlbV90bDpbMCwwXSx1X2RlbV90bF9wcmV2OlswLDBdLHVfZGVtX3NjYWxlOjAsdV9kZW1fc2NhbGVfcHJldjowLHVfZGVtX3NpemU6MCx1X2RlbV9sZXJwOjEsdV9kZXB0aDozLHVfZGVwdGhfc2l6ZV9pbnY6WzAsMF0sdV9leGFnZ2VyYXRpb246MCx1X3RpbGVfdGxfdXA6WzAsMCwxXSx1X3RpbGVfdHJfdXA6WzAsMCwxXSx1X3RpbGVfYnJfdXA6WzAsMCwxXSx1X3RpbGVfYmxfdXA6WzAsMCwxXSx1X3RpbGVfdXBfc2NhbGU6MX0pO3ZhciBzO2EudV9kZW1fc2l6ZT10aGlzLnNvdXJjZUNhY2hlLmdldFNvdXJjZSgpLnRpbGVTaXplLGEudV9leGFnZ2VyYXRpb249dGhpcy5leGFnZ2VyYXRpb24oKTtjb25zdCBsPXRoaXMucGFpbnRlci50cmFuc2Zvcm0sYz1sLnByb2plY3Rpb24saD10LnRpbGVJRC5jYW5vbmljYWw7YS51X3RpbGVfdGxfdXA9Yy51cFZlY3RvcihoLDAsMCksYS51X3RpbGVfdHJfdXA9Yy51cFZlY3RvcihoLGUuRVhURU5ULDApLGEudV90aWxlX2JyX3VwPWMudXBWZWN0b3IoaCxlLkVYVEVOVCxlLkVYVEVOVCksYS51X3RpbGVfYmxfdXA9Yy51cFZlY3RvcihoLDAsZS5FWFRFTlQpLGEudV90aWxlX3VwX3NjYWxlPW8mJm8udXNlRGVub3JtYWxpemVkVXBWZWN0b3JTY2FsZT9lLkdMT0JFX01FVEVSU19UT19FQ0VGOmMudXBWZWN0b3JTY2FsZShoLGwuY2VudGVyLmxhdCxsLndvcmxkU2l6ZSkubWV0ZXJzVG9UaWxlO2xldCB1PW51bGwsXz1udWxsLGQ9MTtpZihvJiZvLm1vcnBoaW5nJiZ0aGlzLl91c2VWZXJ0ZXhNb3JwaGluZyl7Y29uc3QgZT1vLm1vcnBoaW5nLnNyY0RlbVRpbGUsaT1vLm1vcnBoaW5nLmRzdERlbVRpbGU7ZD1vLm1vcnBoaW5nLnBoYXNlLGUmJmkmJih0aGlzLl9wcmVwYXJlRGVtVGlsZVVuaWZvcm1zKHQsZSxhLFwiX3ByZXZcIikmJihfPWUpLHRoaXMuX3ByZXBhcmVEZW1UaWxlVW5pZm9ybXModCxpLGEpJiYodT1pKSk7fWlmKF8mJnU/KHIuYWN0aXZlVGV4dHVyZS5zZXQobi5URVhUVVJFMiksdS5kZW1UZXh0dXJlLmJpbmQobi5ORUFSRVNULG4uQ0xBTVBfVE9fRURHRSxuLk5FQVJFU1QpLHIuYWN0aXZlVGV4dHVyZS5zZXQobi5URVhUVVJFNCksXy5kZW1UZXh0dXJlLmJpbmQobi5ORUFSRVNULG4uQ0xBTVBfVE9fRURHRSxuLk5FQVJFU1QpLGEudV9kZW1fbGVycD1kKToodT10aGlzLnRlcnJhaW5UaWxlRm9yVGlsZVt0LnRpbGVJRC5rZXldLHIuYWN0aXZlVGV4dHVyZS5zZXQobi5URVhUVVJFMiksKHRoaXMuX3ByZXBhcmVEZW1UaWxlVW5pZm9ybXModCx1LGEpP3UuZGVtVGV4dHVyZTp0aGlzLmVtcHR5REVNVGV4dHVyZSkuYmluZChuLk5FQVJFU1Qsbi5DTEFNUF9UT19FREdFKSksci5hY3RpdmVUZXh0dXJlLnNldChuLlRFWFRVUkUzKSxvJiZvLnVzZURlcHRoRm9yT2NjbHVzaW9uPyh0aGlzLl9kZXB0aFRleHR1cmUmJnRoaXMuX2RlcHRoVGV4dHVyZS5iaW5kKG4uTkVBUkVTVCxuLkNMQU1QX1RPX0VER0UpLHRoaXMuX2RlcHRoRkJPJiYoYS51X2RlcHRoX3NpemVfaW52PVsxL3RoaXMuX2RlcHRoRkJPLndpZHRoLDEvdGhpcy5fZGVwdGhGQk8uaGVpZ2h0XSkpOih0aGlzLmVtcHR5RGVwdGhCdWZmZXJUZXh0dXJlLmJpbmQobi5ORUFSRVNULG4uQ0xBTVBfVE9fRURHRSksYS51X2RlcHRoX3NpemVfaW52PVsxLDFdKSxvJiZvLnVzZU1ldGVyVG9EZW0mJnUpe2NvbnN0IHQ9KDE8PHUudGlsZUlELmNhbm9uaWNhbC56KSplLm1lcmNhdG9yWmZyb21BbHRpdHVkZSgxLHRoaXMucGFpbnRlci50cmFuc2Zvcm0uY2VudGVyLmxhdCkqdGhpcy5zb3VyY2VDYWNoZS5nZXRTb3VyY2UoKS50aWxlU2l6ZTthLnVfbWV0ZXJfdG9fZGVtPXQ7fW8mJm8ubGFiZWxQbGFuZU1hdHJpeEludiYmKGEudV9sYWJlbF9wbGFuZV9tYXRyaXhfaW52PW8ubGFiZWxQbGFuZU1hdHJpeEludiksaS5zZXRUZXJyYWluVW5pZm9ybVZhbHVlcyhyLGEpO31yZW5kZXJUb0JhY2tCdWZmZXIodCl7Y29uc3QgaT10aGlzLnBhaW50ZXIsbz10aGlzLnBhaW50ZXIuY29udGV4dDswIT09dC5sZW5ndGgmJihvLmJpbmRGcmFtZWJ1ZmZlci5zZXQobnVsbCksby52aWV3cG9ydC5zZXQoWzAsMCxpLndpZHRoLGkuaGVpZ2h0XSksaS5ncHVUaW1pbmdEZWZlcnJlZFJlbmRlclN0YXJ0KCksdGhpcy5yZW5kZXJpbmdUb1RleHR1cmU9ITEsZnVuY3Rpb24odCxpLG8scixuKXtpZihcImdsb2JlXCI9PT10LnRyYW5zZm9ybS5wcm9qZWN0aW9uLm5hbWUpIWZ1bmN0aW9uKHQsaSxvLHIsbil7Y29uc3QgYT10LmNvbnRleHQscz1hLmdsO2xldCBsLGM7Y29uc3QgaD10Lm9wdGlvbnMuc2hvd1RlcnJhaW5XaXJlZnJhbWU/MjowLHU9dC50cmFuc2Zvcm0sXz1lLmdsb2JlVXNlQ3VzdG9tQW50aUFsaWFzaW5nKHQsYSx1KSxkPShlLGkpPT57aWYoYz09PWUpcmV0dXJuO2NvbnN0IG89W0NpW2VdLFwiUFJPSkVDVElPTl9HTE9CRV9WSUVXXCJdO18mJm8ucHVzaChcIkNVU1RPTV9BTlRJQUxJQVNJTkdcIiksaSYmby5wdXNoKENpW2hdKSxsPXQudXNlUHJvZ3JhbShcImdsb2JlUmFzdGVyXCIsbnVsbCxvKSxjPWU7fSxwPXQuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpLG09bmV3IGUuRGVwdGhNb2RlKHMuTEVRVUFMLGUuRGVwdGhNb2RlLlJlYWRXcml0ZSx0LmRlcHRoUmFuZ2VGb3IzRCk7RWkudXBkYXRlKG4pO2NvbnN0IGY9ZS5jYWxjdWxhdGVHbG9iZU1lcmNhdG9yTWF0cml4KHUpLGc9W2UubWVyY2F0b3JYZnJvbUxuZyh1LmNlbnRlci5sbmcpLGUubWVyY2F0b3JZZnJvbUxhdCh1LmNlbnRlci5sYXQpXSx2PWg/WyExLCEwXTpbITFdLHg9dC5nbG9iZVNoYXJlZEJ1ZmZlcnMseT1bdS53aWR0aCplLmV4cG9ydGVkLmRldmljZVBpeGVsUmF0aW8sdS5oZWlnaHQqZS5leHBvcnRlZC5kZXZpY2VQaXhlbFJhdGlvXSxiPUZsb2F0MzJBcnJheS5mcm9tKHUuZ2xvYmVNYXRyaXgpLHc9e3VzZURlbm9ybWFsaXplZFVwVmVjdG9yU2NhbGU6ITB9O2lmKHYuZm9yRWFjaCgoaD0+e2M9LTE7Y29uc3QgXz1oP3MuTElORVM6cy5UUklBTkdMRVM7Zm9yKGNvbnN0IGMgb2Ygcil7Y29uc3Qgcj1vLmdldFRpbGUoYyksdj1lLlN0ZW5jaWxNb2RlLmRpc2FibGVkLFQ9aS5wcmV2VGVycmFpblRpbGVGb3JUaWxlW2Mua2V5XSxFPWkudGVycmFpblRpbGVGb3JUaWxlW2Mua2V5XTtUaShULEUpJiZFaS5uZXdNb3JwaGluZyhjLmtleSxULEUsbiwyNTApLGEuYWN0aXZlVGV4dHVyZS5zZXQocy5URVhUVVJFMCksci50ZXh0dXJlLmJpbmQocy5MSU5FQVIscy5DTEFNUF9UT19FREdFKTtjb25zdCBDPUVpLmdldE1vcnBoVmFsdWVzRm9yUHJveHkoYy5rZXkpLEk9Qz8xOjA7QyYmZS5leHRlbmQkMSh3LHttb3JwaGluZzp7c3JjRGVtVGlsZTpDLmZyb20sZHN0RGVtVGlsZTpDLnRvLHBoYXNlOmUuZWFzZUN1YmljSW5PdXQoQy5waGFzZSl9fSk7Y29uc3QgTT1lLnRpbGVDb3JuZXJzVG9Cb3VuZHMoYy5jYW5vbmljYWwpLFM9ZS5nZXRMYXRpdHVkaW5hbExvZChNLmdldENlbnRlcigpLmxhdCksej1lLmdldEdyaWRNYXRyaXgoYy5jYW5vbmljYWwsTSxTKSxEPWUuZ2xvYmVOb3JtYWxpemVFQ0VGKGUuZ2xvYmVUaWxlQm91bmRzKGMuY2Fub25pY2FsKSksUD13aSh1LnByb2pNYXRyaXgsYixmLEQsZS5nbG9iZVRvTWVyY2F0b3JUcmFuc2l0aW9uKHUuem9vbSksZyx1LmZydXN0dW1Db3JuZXJzLlRMLHUuZnJ1c3R1bUNvcm5lcnMuVFIsdS5mcnVzdHVtQ29ybmVycy5CUix1LmZydXN0dW1Db3JuZXJzLkJMLHUuZ2xvYmVDZW50ZXJJblZpZXdTcGFjZSx1Lmdsb2JlUmFkaXVzLHkseik7aWYoZChJLGgpLGkuc2V0dXBFbGV2YXRpb25EcmF3KHIsbCx3KSx0LnByZXBhcmVEcmF3UHJvZ3JhbShhLGwsYy50b1Vud3JhcHBlZCgpKSx4KXtjb25zdFtpLG8scl09aD94LmdldFdpcmVmYW1lQnVmZmVycyh0LmNvbnRleHQsUyk6eC5nZXRHcmlkQnVmZmVycyhTKTtsLmRyYXcoYSxfLG0sdixwLGUuQ3VsbEZhY2VNb2RlLmJhY2tDQ1csUCxcImdsb2JlX3Jhc3RlclwiLGksbyxyKTt9fX0pKSx4KXtjb25zdCBuPVtcIkdMT0JFX1BPTEVTXCIsXCJQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcIl07XyYmbi5wdXNoKFwiQ1VTVE9NX0FOVElBTElBU0lOR1wiKSxsPXQudXNlUHJvZ3JhbShcImdsb2JlUmFzdGVyXCIsbnVsbCxuKTtmb3IoY29uc3QgbiBvZiByKXtjb25zdHt4OnIseTpjLHo6aH09bi5jYW5vbmljYWwsXz0wPT09YyxkPWM9PT0oMTw8aCktMSxbZix2LGIsVF09eC5nZXRQb2xlQnVmZmVycyhoKTtpZihUJiYoX3x8ZCkpe2NvbnN0IGM9by5nZXRUaWxlKG4pO2EuYWN0aXZlVGV4dHVyZS5zZXQocy5URVhUVVJFMCksYy50ZXh0dXJlLmJpbmQocy5MSU5FQVIscy5DTEFNUF9UT19FREdFKTtsZXQgeD1lLmdsb2JlUG9sZU1hdHJpeEZvclRpbGUoaCxyLHUpO2NvbnN0IEU9ZS5nbG9iZU5vcm1hbGl6ZUVDRUYoZS5nbG9iZVRpbGVCb3VuZHMobi5jYW5vbmljYWwpKSxDPSh0LGkpPT50LmRyYXcoYSxzLlRSSUFOR0xFUyxtLGUuU3RlbmNpbE1vZGUuZGlzYWJsZWQscCxlLkN1bGxGYWNlTW9kZS5kaXNhYmxlZCx3aSh1LnByb2pNYXRyaXgseCx4LEUsMCxnLHUuZnJ1c3R1bUNvcm5lcnMuVEwsdS5mcnVzdHVtQ29ybmVycy5UUix1LmZydXN0dW1Db3JuZXJzLkJSLHUuZnJ1c3R1bUNvcm5lcnMuQkwsdS5nbG9iZUNlbnRlckluVmlld1NwYWNlLHUuZ2xvYmVSYWRpdXMseSksXCJnbG9iZV9wb2xlX3Jhc3RlclwiLGksYixUKTtpLnNldHVwRWxldmF0aW9uRHJhdyhjLGwsdyksdC5wcmVwYXJlRHJhd1Byb2dyYW0oYSxsLG4udG9VbndyYXBwZWQoKSksXyYmQyhsLGYpLGQmJih4PWUuc2NhbGUoZS5jcmVhdGUoKSx4LFsxLC0xLDFdKSxDKGwsdikpO319fX0odCxpLG8scixuKTtlbHNlIHtjb25zdCBhPXQuY29udGV4dCxzPWEuZ2w7bGV0IGwsYztjb25zdCBoPXQub3B0aW9ucy5zaG93VGVycmFpbldpcmVmcmFtZT8yOjAsdT0oZSxpKT0+e2lmKGM9PT1lKXJldHVybjtjb25zdCBvPVtDaVtlXV07aSYmby5wdXNoKENpW2hdKSxsPXQudXNlUHJvZ3JhbShcInRlcnJhaW5SYXN0ZXJcIixudWxsLG8pLGM9ZTt9LF89dC5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCksZD1uZXcgZS5EZXB0aE1vZGUocy5MRVFVQUwsZS5EZXB0aE1vZGUuUmVhZFdyaXRlLHQuZGVwdGhSYW5nZUZvcjNEKTtFaS51cGRhdGUobik7Y29uc3QgcD10LnRyYW5zZm9ybSxtPTYqTWF0aC5wb3coMS41LDIyLXAuem9vbSkqaS5leGFnZ2VyYXRpb24oKTsoaD9bITEsITBdOlshMV0pLmZvckVhY2goKGg9PntjPS0xO2NvbnN0IGY9aD9zLkxJTkVTOnMuVFJJQU5HTEVTLFtnLHZdPWg/aS5nZXRXaXJlZmFtZUJ1ZmZlcigpOltpLmdyaWRJbmRleEJ1ZmZlcixpLmdyaWRTZWdtZW50c107Zm9yKGNvbnN0IGMgb2Ygcil7Y29uc3Qgcj1vLmdldFRpbGUoYykseD1lLlN0ZW5jaWxNb2RlLmRpc2FibGVkLHk9aS5wcmV2VGVycmFpblRpbGVGb3JUaWxlW2Mua2V5XSxiPWkudGVycmFpblRpbGVGb3JUaWxlW2Mua2V5XTtUaSh5LGIpJiZFaS5uZXdNb3JwaGluZyhjLmtleSx5LGIsbiwyNTApLGEuYWN0aXZlVGV4dHVyZS5zZXQocy5URVhUVVJFMCksci50ZXh0dXJlLmJpbmQocy5MSU5FQVIscy5DTEFNUF9UT19FREdFLHMuTElORUFSX01JUE1BUF9ORUFSRVNUKTtjb25zdCB3PUVpLmdldE1vcnBoVmFsdWVzRm9yUHJveHkoYy5rZXkpLFQ9dz8xOjA7bGV0IEU7dyYmKEU9e21vcnBoaW5nOntzcmNEZW1UaWxlOncuZnJvbSxkc3REZW1UaWxlOncudG8scGhhc2U6ZS5lYXNlQ3ViaWNJbk91dCh3LnBoYXNlKX19KTtjb25zdCBDPWJpKGMucHJvak1hdHJpeCxJaShjLmNhbm9uaWNhbCxwLnJlbmRlcldvcmxkQ29waWVzKT9tLzEwOm0pO3UoVCxoKSxpLnNldHVwRWxldmF0aW9uRHJhdyhyLGwsRSksdC5wcmVwYXJlRHJhd1Byb2dyYW0oYSxsLGMudG9VbndyYXBwZWQoKSksbC5kcmF3KGEsZixkLHgsXyxlLkN1bGxGYWNlTW9kZS5iYWNrQ0NXLEMsXCJ0ZXJyYWluX3Jhc3RlclwiLGkuZ3JpZEJ1ZmZlcixnLHYpO319KSk7fX0oaSx0aGlzLHRoaXMucHJveHlTb3VyY2VDYWNoZSx0LHRoaXMuX3VwZGF0ZVRpbWVzdGFtcCksdGhpcy5yZW5kZXJpbmdUb1RleHR1cmU9ITAsaS5ncHVUaW1pbmdEZWZlcnJlZFJlbmRlckVuZCgpLHQuc3BsaWNlKDAsdC5sZW5ndGgpKTt9cmVuZGVyQmF0Y2godCl7aWYoMD09PXRoaXMuX2RyYXBlZFJlbmRlckJhdGNoZXMubGVuZ3RoKXJldHVybiB0KzE7dGhpcy5yZW5kZXJpbmdUb1RleHR1cmU9ITA7Y29uc3QgaT10aGlzLnBhaW50ZXIsbz10aGlzLnBhaW50ZXIuY29udGV4dCxyPXRoaXMucHJveHlTb3VyY2VDYWNoZSxuPXRoaXMucHJveGllZENvb3Jkc1tyLmlkXSxhPXRoaXMuX2RyYXBlZFJlbmRlckJhdGNoZXMuc2hpZnQoKSxzPVtdLGw9aS5zdHlsZS5vcmRlcjtsZXQgYz0wO2Zvcihjb25zdCBoIG9mIG4pe2NvbnN0IG49ci5nZXRUaWxlQnlJRChoLnByb3h5VGlsZUtleSksdT1yLnByb3h5Q2FjaGVkRkJPW2gua2V5XT9yLnByb3h5Q2FjaGVkRkJPW2gua2V5XVt0XTp2b2lkIDAsXz12b2lkIDAhPT11P3IucmVuZGVyQ2FjaGVbdV06dGhpcy5wb29sW2MrK10sZD12b2lkIDAhPT11O2lmKG4udGV4dHVyZT1fLnRleCxkJiYhXy5kaXJ0eSl7cy5wdXNoKG4udGlsZUlEKTtjb250aW51ZX1sZXQgcDtvLmJpbmRGcmFtZWJ1ZmZlci5zZXQoXy5mYi5mcmFtZWJ1ZmZlciksdGhpcy5yZW5kZXJlZFRvVGlsZT0hMSxfLmRpcnR5JiYoby5jbGVhcih7Y29sb3I6ZS5Db2xvci50cmFuc3BhcmVudCxzdGVuY2lsOjB9KSxfLmRpcnR5PSExKTtmb3IobGV0IGU9YS5zdGFydDtlPD1hLmVuZDsrK2Upe2NvbnN0IHQ9aS5zdHlsZS5fbGF5ZXJzW2xbZV1dO2lmKHQuaXNIaWRkZW4oaS50cmFuc2Zvcm0uem9vbSkpY29udGludWU7Y29uc3Qgcj1pLnN0eWxlLl9nZXRMYXllclNvdXJjZUNhY2hlKHQpLG49cj90aGlzLnByb3h5VG9Tb3VyY2VbaC5rZXldW3IuaWRdOltoXTtpZighbiljb250aW51ZTtjb25zdCBhPW47by52aWV3cG9ydC5zZXQoWzAsMCxfLmZiLndpZHRoLF8uZmIuaGVpZ2h0XSkscCE9PShyP3IuaWQ6bnVsbCkmJih0aGlzLl9zZXR1cFN0ZW5jaWwoXyxuLHQscikscD1yP3IuaWQ6bnVsbCksaS5yZW5kZXJMYXllcihpLHIsdCxhKTt9dGhpcy5yZW5kZXJlZFRvVGlsZT8oXy5kaXJ0eT0hMCxzLnB1c2gobi50aWxlSUQpKTpkfHwtLWMsNT09PWMmJihjPTAsdGhpcy5yZW5kZXJUb0JhY2tCdWZmZXIocykpO31yZXR1cm4gdGhpcy5yZW5kZXJUb0JhY2tCdWZmZXIocyksdGhpcy5yZW5kZXJpbmdUb1RleHR1cmU9ITEsby5iaW5kRnJhbWVidWZmZXIuc2V0KG51bGwpLG8udmlld3BvcnQuc2V0KFswLDAsaS53aWR0aCxpLmhlaWdodF0pLGEuZW5kKzF9cG9zdFJlbmRlcigpe31yZW5kZXJDYWNoZUVmZmljaWVuY3koZSl7Y29uc3QgdD1lLm9yZGVyLmxlbmd0aDtpZigwPT09dClyZXR1cm4ge2VmZmljaWVuY3k6MTAwfTtsZXQgaSxvPTAscj0wLG49ITE7Zm9yKGxldCBhPTA7YTx0OysrYSl7Y29uc3QgdD1lLl9sYXllcnNbZS5vcmRlclthXV07dGhpcy5fc3R5bGUuaXNMYXllckRyYXBlZCh0KT8obiYmKytvLCsrcik6bnx8KG49ITAsaT10LmlkKTt9cmV0dXJuIDA9PT1yP3tlZmZpY2llbmN5OjEwMH06e2VmZmljaWVuY3k6MTAwKigxLW8vciksZmlyc3RVbmRyYXBlZExheWVyOml9fWdldE1pbkVsZXZhdGlvbkJlbG93TVNMKCl7bGV0IGU9MDtyZXR1cm4gdGhpcy5fdmlzaWJsZURlbVRpbGVzLmZpbHRlcigoZT0+ZS5kZW0pKS5mb3JFYWNoKCh0PT57ZT1NYXRoLm1pbihlLHQuZGVtLnRyZWUubWluaW11bXNbMF0pO30pKSwwPT09ZT9lOihlLTMwKSp0aGlzLl9leGFnZ2VyYXRpb259cmF5Y2FzdChlLHQsaSl7aWYoIXRoaXMuX3Zpc2libGVEZW1UaWxlcylyZXR1cm4gbnVsbDtjb25zdCBvPXRoaXMuX3Zpc2libGVEZW1UaWxlcy5maWx0ZXIoKGU9PmUuZGVtKSkubWFwKChvPT57Y29uc3Qgcj1vLnRpbGVJRCxuPTE8PHIub3ZlcnNjYWxlZFose3g6YSx5OnN9PXIuY2Fub25pY2FsLGw9YS9uLGM9KGErMSkvbixoPXMvbix1PShzKzEpL247cmV0dXJuIHttaW54OmwsbWlueTpoLG1heHg6YyxtYXh5OnUsdDpvLmRlbS50cmVlLnJheWNhc3RSb290KGwsaCxjLHUsZSx0LGkpLHRpbGU6b319KSk7by5zb3J0KCgoZSx0KT0+KG51bGwhPT1lLnQ/ZS50Ok51bWJlci5NQVhfVkFMVUUpLShudWxsIT09dC50P3QudDpOdW1iZXIuTUFYX1ZBTFVFKSkpO2Zvcihjb25zdCByIG9mIG8pe2lmKG51bGw9PXIudClyZXR1cm4gbnVsbDtjb25zdCBvPXIudGlsZS5kZW0udHJlZS5yYXljYXN0KHIubWlueCxyLm1pbnksci5tYXh4LHIubWF4eSxlLHQsaSk7aWYobnVsbCE9bylyZXR1cm4gb31yZXR1cm4gbnVsbH1fY3JlYXRlRkJPKCl7Y29uc3QgdD10aGlzLnBhaW50ZXIuY29udGV4dCxpPXQuZ2wsbz10aGlzLmRyYXBlQnVmZmVyU2l6ZTt0LmFjdGl2ZVRleHR1cmUuc2V0KGkuVEVYVFVSRTApO2NvbnN0IHI9bmV3IGUuVGV4dHVyZSh0LHt3aWR0aDpvWzBdLGhlaWdodDpvWzFdLGRhdGE6bnVsbH0saS5SR0JBKTtyLmJpbmQoaS5MSU5FQVIsaS5DTEFNUF9UT19FREdFKTtjb25zdCBuPXQuY3JlYXRlRnJhbWVidWZmZXIob1swXSxvWzFdLCExKTtyZXR1cm4gbi5jb2xvckF0dGFjaG1lbnQuc2V0KHIudGV4dHVyZSksbi5kZXB0aEF0dGFjaG1lbnQ9bmV3IEVlKHQsbi5mcmFtZWJ1ZmZlciksdm9pZCAwPT09dGhpcy5fc2hhcmVkRGVwdGhTdGVuY2lsPyh0aGlzLl9zaGFyZWREZXB0aFN0ZW5jaWw9dC5jcmVhdGVSZW5kZXJidWZmZXIodC5nbC5ERVBUSF9TVEVOQ0lMLG9bMF0sb1sxXSksdGhpcy5fc3RlbmNpbFJlZj0wLG4uZGVwdGhBdHRhY2htZW50LnNldCh0aGlzLl9zaGFyZWREZXB0aFN0ZW5jaWwpLHQuY2xlYXIoe3N0ZW5jaWw6MH0pKTpuLmRlcHRoQXR0YWNobWVudC5zZXQodGhpcy5fc2hhcmVkRGVwdGhTdGVuY2lsKSx0LmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpYyYmIXQuZXh0VGV4dHVyZUZpbHRlckFuaXNvdHJvcGljRm9yY2VPZmYmJmkudGV4UGFyYW1ldGVyZihpLlRFWFRVUkVfMkQsdC5leHRUZXh0dXJlRmlsdGVyQW5pc290cm9waWMuVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQsdC5leHRUZXh0dXJlRmlsdGVyQW5pc290cm9waWNNYXgpLHtmYjpuLHRleDpyLGRpcnR5OiExfX1faW5pdEZCT1Bvb2woKXtmb3IoO3RoaXMucG9vbC5sZW5ndGg8TWF0aC5taW4oNSx0aGlzLnByb3h5Q29vcmRzLmxlbmd0aCk7KXRoaXMucG9vbC5wdXNoKHRoaXMuX2NyZWF0ZUZCTygpKTt9X3Nob3VsZERpc2FibGVSZW5kZXJDYWNoZSgpe2lmKHRoaXMuX3N0eWxlLmxpZ2h0JiZ0aGlzLl9zdHlsZS5saWdodC5oYXNUcmFuc2l0aW9uKCkpcmV0dXJuICEwO2Zvcihjb25zdCBlIGluIHRoaXMuX3N0eWxlLl9zb3VyY2VDYWNoZXMpaWYodGhpcy5fc3R5bGUuX3NvdXJjZUNhY2hlc1tlXS5oYXNUcmFuc2l0aW9uKCkpcmV0dXJuICEwO3JldHVybiB0aGlzLl9zdHlsZS5vcmRlci5zb21lKChlPT57Y29uc3QgdD10aGlzLl9zdHlsZS5fbGF5ZXJzW2VdLGk9dC5pc0hpZGRlbih0aGlzLnBhaW50ZXIudHJhbnNmb3JtLnpvb20pLG89dC5nZXRDcm9zc2ZhZGVQYXJhbWV0ZXJzKCkscj0hIW8mJjEhPT1vLnQsbj10Lmhhc1RyYW5zaXRpb24oKTtyZXR1cm4gXCJjdXN0b21cIiE9PXQudHlwZSYmIWkmJihyfHxuKX0pKX1fY2xlYXJSYXN0ZXJGYWRlRnJvbVJlbmRlckNhY2hlKCl7bGV0IGU9ITE7Zm9yKGNvbnN0IHQgaW4gdGhpcy5fc3R5bGUuX3NvdXJjZUNhY2hlcylpZih0aGlzLl9zdHlsZS5fc291cmNlQ2FjaGVzW3RdLl9zb3VyY2UgaW5zdGFuY2VvZiBNZSl7ZT0hMDticmVha31pZihlKWZvcihsZXQgZT0wO2U8dGhpcy5fc3R5bGUub3JkZXIubGVuZ3RoOysrZSl7Y29uc3QgdD10aGlzLl9zdHlsZS5fbGF5ZXJzW3RoaXMuX3N0eWxlLm9yZGVyW2VdXSxpPXQuaXNIaWRkZW4odGhpcy5wYWludGVyLnRyYW5zZm9ybS56b29tKSxvPXRoaXMuX3N0eWxlLl9nZXRMYXllclNvdXJjZUNhY2hlKHQpO2lmKFwicmFzdGVyXCIhPT10LnR5cGV8fGl8fCFvKWNvbnRpbnVlO2NvbnN0IHI9dC5wYWludC5nZXQoXCJyYXN0ZXItZmFkZS1kdXJhdGlvblwiKTtmb3IoY29uc3QgZSBvZiB0aGlzLnByb3h5Q29vcmRzKXtjb25zdCB0PXRoaXMucHJveHlUb1NvdXJjZVtlLmtleV1bby5pZF07aWYodClmb3IoY29uc3QgZSBvZiB0KXtjb25zdCB0PVNpKG8uZ2V0VGlsZShlKSxvLmZpbmRMb2FkZWRQYXJlbnQoZSwwKSxvLHRoaXMucGFpbnRlci50cmFuc2Zvcm0scik7KDEhPT10Lm9wYWNpdHl8fDAhPT10Lm1peCkmJnRoaXMuX2NsZWFyUmVuZGVyQ2FjaGVGb3JUaWxlKG8uaWQsZSk7fX19fV9zZXR1cERyYXBlZFJlbmRlckJhdGNoZXMoKXtjb25zdCBlPXRoaXMuX3N0eWxlLm9yZGVyLHQ9ZS5sZW5ndGg7aWYoMD09PXQpcmV0dXJuO2NvbnN0IGk9W107bGV0IG8scj0wLG49dGhpcy5fc3R5bGUuX2xheWVyc1tlW3JdXTtmb3IoOyF0aGlzLl9zdHlsZS5pc0xheWVyRHJhcGVkKG4pJiZuLmlzSGlkZGVuKHRoaXMucGFpbnRlci50cmFuc2Zvcm0uem9vbSkmJisrcjx0OyluPXRoaXMuX3N0eWxlLl9sYXllcnNbZVtyXV07Zm9yKDtyPHQ7KytyKXtjb25zdCB0PXRoaXMuX3N0eWxlLl9sYXllcnNbZVtyXV07dC5pc0hpZGRlbih0aGlzLnBhaW50ZXIudHJhbnNmb3JtLnpvb20pfHwodGhpcy5fc3R5bGUuaXNMYXllckRyYXBlZCh0KT92b2lkIDA9PT1vJiYobz1yKTp2b2lkIDAhPT1vJiYoaS5wdXNoKHtzdGFydDpvLGVuZDpyLTF9KSxvPXZvaWQgMCkpO312b2lkIDAhPT1vJiZpLnB1c2goe3N0YXJ0Om8sZW5kOnItMX0pLHRoaXMuX2RyYXBlZFJlbmRlckJhdGNoZXM9aTt9X3NldHVwUmVuZGVyQ2FjaGUoZSl7Y29uc3QgdD10aGlzLnByb3h5U291cmNlQ2FjaGU7aWYodGhpcy5fc2hvdWxkRGlzYWJsZVJlbmRlckNhY2hlKCl8fHRoaXMuX2ludmFsaWRhdGVSZW5kZXJDYWNoZSl7aWYodGhpcy5faW52YWxpZGF0ZVJlbmRlckNhY2hlPSExLHQucmVuZGVyQ2FjaGUubGVuZ3RoPnQucmVuZGVyQ2FjaGVQb29sLmxlbmd0aCl7Y29uc3QgZT1PYmplY3QudmFsdWVzKHQucHJveHlDYWNoZWRGQk8pO3QucHJveHlDYWNoZWRGQk89e307Zm9yKGxldCBpPTA7aTxlLmxlbmd0aDsrK2kpe2NvbnN0IG89T2JqZWN0LnZhbHVlcyhlW2ldKTt0LnJlbmRlckNhY2hlUG9vbC5wdXNoKC4uLm8pO319cmV0dXJufXRoaXMuX2NsZWFyUmFzdGVyRmFkZUZyb21SZW5kZXJDYWNoZSgpO2NvbnN0IGk9dGhpcy5wcm94eUNvb3JkcyxvPXRoaXMuX3RpbGVzRGlydHk7Zm9yKGxldCByPWkubGVuZ3RoLTE7cj49MDtyLS0pe2NvbnN0IG49aVtyXTtpZih0LmdldFRpbGVCeUlEKG4ua2V5KSx2b2lkIDAhPT10LnByb3h5Q2FjaGVkRkJPW24ua2V5XSl7Y29uc3QgaT1lW24ua2V5XSxyPXRoaXMucHJveHlUb1NvdXJjZVtuLmtleV07bGV0IGE9MDtmb3IoY29uc3QgZSBpbiByKXtjb25zdCB0PXJbZV0sbj1pW2VdO2lmKCFufHxuLmxlbmd0aCE9PXQubGVuZ3RofHx0LnNvbWUoKCh0LGkpPT50IT09bltpXXx8b1tlXSYmb1tlXS5oYXNPd25Qcm9wZXJ0eSh0LmtleSkpKSl7YT0tMTticmVha30rK2E7fWZvcihjb25zdCBlIGluIHQucHJveHlDYWNoZWRGQk9bbi5rZXldKXQucmVuZGVyQ2FjaGVbdC5wcm94eUNhY2hlZEZCT1tuLmtleV1bZV1dLmRpcnR5PWE8MHx8YSE9PU9iamVjdC52YWx1ZXMoaSkubGVuZ3RoO319Y29uc3Qgcj1bLi4udGhpcy5fZHJhcGVkUmVuZGVyQmF0Y2hlc107ci5zb3J0KCgoZSx0KT0+dC5lbmQtdC5zdGFydC0oZS5lbmQtZS5zdGFydCkpKTtmb3IoY29uc3QgZSBvZiByKWZvcihjb25zdCBvIG9mIGkpe2lmKHQucHJveHlDYWNoZWRGQk9bby5rZXldKWNvbnRpbnVlO2xldCBpPXQucmVuZGVyQ2FjaGVQb29sLnBvcCgpO3ZvaWQgMD09PWkmJnQucmVuZGVyQ2FjaGUubGVuZ3RoPDUwJiYoaT10LnJlbmRlckNhY2hlLmxlbmd0aCx0LnJlbmRlckNhY2hlLnB1c2godGhpcy5fY3JlYXRlRkJPKCkpKSx2b2lkIDAhPT1pJiYodC5wcm94eUNhY2hlZEZCT1tvLmtleV09e30sdC5wcm94eUNhY2hlZEZCT1tvLmtleV1bZS5zdGFydF09aSx0LnJlbmRlckNhY2hlW2ldLmRpcnR5PSEwKTt9dGhpcy5fdGlsZXNEaXJ0eT17fTt9X3NldHVwU3RlbmNpbChlLHQsaSxvKXtpZighb3x8IXRoaXMuX3NvdXJjZVRpbGVzT3ZlcmxhcFtvLmlkXSlyZXR1cm4gdm9pZCh0aGlzLl9vdmVybGFwU3RlbmNpbFR5cGUmJih0aGlzLl9vdmVybGFwU3RlbmNpbFR5cGU9ITEpKTtjb25zdCByPXRoaXMucGFpbnRlci5jb250ZXh0LG49ci5nbDtpZih0Lmxlbmd0aDw9MSlyZXR1cm4gdm9pZCh0aGlzLl9vdmVybGFwU3RlbmNpbFR5cGU9ITEpO2xldCBhO2lmKGkuaXNUaWxlQ2xpcHBlZCgpKWE9dC5sZW5ndGgsdGhpcy5fb3ZlcmxhcFN0ZW5jaWxNb2RlLnRlc3Q9e2Z1bmM6bi5FUVVBTCxtYXNrOjI1NX0sdGhpcy5fb3ZlcmxhcFN0ZW5jaWxUeXBlPVwiQ2xpcFwiO2Vsc2Uge2lmKCEodFswXS5vdmVyc2NhbGVkWj50W3QubGVuZ3RoLTFdLm92ZXJzY2FsZWRaKSlyZXR1cm4gdm9pZCh0aGlzLl9vdmVybGFwU3RlbmNpbFR5cGU9ITEpO2E9MSx0aGlzLl9vdmVybGFwU3RlbmNpbE1vZGUudGVzdD17ZnVuYzpuLkdSRUFURVIsbWFzazoyNTV9LHRoaXMuX292ZXJsYXBTdGVuY2lsVHlwZT1cIk1hc2tcIjt9dGhpcy5fc3RlbmNpbFJlZithPjI1NSYmKHIuY2xlYXIoe3N0ZW5jaWw6MH0pLHRoaXMuX3N0ZW5jaWxSZWY9MCksdGhpcy5fc3RlbmNpbFJlZis9YSx0aGlzLl9vdmVybGFwU3RlbmNpbE1vZGUucmVmPXRoaXMuX3N0ZW5jaWxSZWYsaS5pc1RpbGVDbGlwcGVkKCkmJnRoaXMuX3JlbmRlclRpbGVDbGlwcGluZ01hc2tzKHQsdGhpcy5fb3ZlcmxhcFN0ZW5jaWxNb2RlLnJlZik7fWNsaXBPck1hc2tPdmVybGFwU3RlbmNpbFR5cGUoKXtyZXR1cm4gXCJDbGlwXCI9PT10aGlzLl9vdmVybGFwU3RlbmNpbFR5cGV8fFwiTWFza1wiPT09dGhpcy5fb3ZlcmxhcFN0ZW5jaWxUeXBlfXN0ZW5jaWxNb2RlRm9yUlRUT3ZlcmxhcCh0KXtyZXR1cm4gdGhpcy5yZW5kZXJpbmdUb1RleHR1cmUmJnRoaXMuX292ZXJsYXBTdGVuY2lsVHlwZT8oXCJDbGlwXCI9PT10aGlzLl9vdmVybGFwU3RlbmNpbFR5cGUmJih0aGlzLl9vdmVybGFwU3RlbmNpbE1vZGUucmVmPXRoaXMucGFpbnRlci5fdGlsZUNsaXBwaW5nTWFza0lEc1t0LmtleV0pLHRoaXMuX292ZXJsYXBTdGVuY2lsTW9kZSk6ZS5TdGVuY2lsTW9kZS5kaXNhYmxlZH1fcmVuZGVyVGlsZUNsaXBwaW5nTWFza3ModCxpKXtjb25zdCBvPXRoaXMucGFpbnRlcixyPXRoaXMucGFpbnRlci5jb250ZXh0LG49ci5nbDtvLl90aWxlQ2xpcHBpbmdNYXNrSURzPXt9LHIuc2V0Q29sb3JNb2RlKGUuQ29sb3JNb2RlLmRpc2FibGVkKSxyLnNldERlcHRoTW9kZShlLkRlcHRoTW9kZS5kaXNhYmxlZCk7Y29uc3QgYT1vLnVzZVByb2dyYW0oXCJjbGlwcGluZ01hc2tcIik7Zm9yKGNvbnN0IHMgb2YgdCl7Y29uc3QgdD1vLl90aWxlQ2xpcHBpbmdNYXNrSURzW3Mua2V5XT0tLWk7YS5kcmF3KHIsbi5UUklBTkdMRVMsZS5EZXB0aE1vZGUuZGlzYWJsZWQsbmV3IGUuU3RlbmNpbE1vZGUoe2Z1bmM6bi5BTFdBWVMsbWFzazowfSx0LDI1NSxuLktFRVAsbi5LRUVQLG4uUkVQTEFDRSksZS5Db2xvck1vZGUuZGlzYWJsZWQsZS5DdWxsRmFjZU1vZGUuZGlzYWJsZWQsTWkocy5wcm9qTWF0cml4KSxcIiRjbGlwcGluZ1wiLG8udGlsZUV4dGVudEJ1ZmZlcixvLnF1YWRUcmlhbmdsZUluZGV4QnVmZmVyLG8udGlsZUV4dGVudFNlZ21lbnRzKTt9fXBvaW50Q29vcmRpbmF0ZSh0KXtjb25zdCBpPXRoaXMucGFpbnRlci50cmFuc2Zvcm07aWYodC54PDB8fHQueD5pLndpZHRofHx0Lnk8MHx8dC55PmkuaGVpZ2h0KXJldHVybiBudWxsO2NvbnN0IG89W3QueCx0LnksMSwxXTtlLnRyYW5zZm9ybU1hdDQkMShvLG8saS5waXhlbE1hdHJpeEludmVyc2UpLGUuc2NhbGUkMShvLG8sMS9vWzNdKSxvWzBdLz1pLndvcmxkU2l6ZSxvWzFdLz1pLndvcmxkU2l6ZTtjb25zdCByPWkuX2NhbWVyYS5wb3NpdGlvbixuPWUubWVyY2F0b3JaZnJvbUFsdGl0dWRlKDEsaS5jZW50ZXIubGF0KSxhPVtyWzBdLHJbMV0sclsyXS9uLDBdLHM9ZS5zdWJ0cmFjdChbXSxvLnNsaWNlKDAsMyksYSk7ZS5ub3JtYWxpemUocyxzKTtjb25zdCBsPXRoaXMucmF5Y2FzdChhLHMsdGhpcy5fZXhhZ2dlcmF0aW9uKTtyZXR1cm4gbnVsbCE9PWwmJmw/KGUuc2NhbGVBbmRBZGQoYSxhLHMsbCksYVszXT1hWzJdLGFbMl0qPW4sYSk6bnVsbH1kcmF3RGVwdGgoKXtjb25zdCB0PXRoaXMucGFpbnRlcixpPXQuY29udGV4dCxvPXRoaXMucHJveHlTb3VyY2VDYWNoZSxyPU1hdGguY2VpbCh0LndpZHRoKSxuPU1hdGguY2VpbCh0LmhlaWdodCk7aWYoIXRoaXMuX2RlcHRoRkJPfHx0aGlzLl9kZXB0aEZCTy53aWR0aD09PXImJnRoaXMuX2RlcHRoRkJPLmhlaWdodD09PW58fCh0aGlzLl9kZXB0aEZCTy5kZXN0cm95KCksdGhpcy5fZGVwdGhGQk89dm9pZCAwLHRoaXMuX2RlcHRoVGV4dHVyZT12b2lkIDApLCF0aGlzLl9kZXB0aEZCTyl7Y29uc3QgdD1pLmdsLG89aS5jcmVhdGVGcmFtZWJ1ZmZlcihyLG4sITApO2kuYWN0aXZlVGV4dHVyZS5zZXQodC5URVhUVVJFMCk7Y29uc3QgYT1uZXcgZS5UZXh0dXJlKGkse3dpZHRoOnIsaGVpZ2h0Om4sZGF0YTpudWxsfSx0LlJHQkEpO2EuYmluZCh0Lk5FQVJFU1QsdC5DTEFNUF9UT19FREdFKSxvLmNvbG9yQXR0YWNobWVudC5zZXQoYS50ZXh0dXJlKTtjb25zdCBzPWkuY3JlYXRlUmVuZGVyYnVmZmVyKGkuZ2wuREVQVEhfQ09NUE9ORU5UMTYscixuKTtvLmRlcHRoQXR0YWNobWVudC5zZXQocyksdGhpcy5fZGVwdGhGQk89byx0aGlzLl9kZXB0aFRleHR1cmU9YTt9aS5iaW5kRnJhbWVidWZmZXIuc2V0KHRoaXMuX2RlcHRoRkJPLmZyYW1lYnVmZmVyKSxpLnZpZXdwb3J0LnNldChbMCwwLHIsbl0pLGZ1bmN0aW9uKHQsaSxvLHIpe2lmKFwiZ2xvYmVcIj09PXQudHJhbnNmb3JtLnByb2plY3Rpb24ubmFtZSlyZXR1cm47Y29uc3Qgbj10LmNvbnRleHQsYT1uLmdsO24uY2xlYXIoe2RlcHRoOjF9KTtjb25zdCBzPXQudXNlUHJvZ3JhbShcInRlcnJhaW5EZXB0aFwiKSxsPW5ldyBlLkRlcHRoTW9kZShhLkxFU1MsZS5EZXB0aE1vZGUuUmVhZFdyaXRlLHQuZGVwdGhSYW5nZUZvcjNEKTtmb3IoY29uc3QgdCBvZiByKXtjb25zdCByPW8uZ2V0VGlsZSh0KSxjPWJpKHQucHJvak1hdHJpeCwwKTtpLnNldHVwRWxldmF0aW9uRHJhdyhyLHMpLHMuZHJhdyhuLGEuVFJJQU5HTEVTLGwsZS5TdGVuY2lsTW9kZS5kaXNhYmxlZCxlLkNvbG9yTW9kZS51bmJsZW5kZWQsZS5DdWxsRmFjZU1vZGUuYmFja0NDVyxjLFwidGVycmFpbl9kZXB0aFwiLGkuZ3JpZEJ1ZmZlcixpLmdyaWRJbmRleEJ1ZmZlcixpLmdyaWROb1NraXJ0U2VnbWVudHMpO319KHQsdGhpcyxvLHRoaXMucHJveHlDb29yZHMpO31fc2V0dXBQcm94aWVkQ29vcmRzRm9yT3J0aG8oZSx0LGkpe2lmKGUuZ2V0U291cmNlKClpbnN0YW5jZW9mIERlKXJldHVybiB0aGlzLl9zZXR1cFByb3hpZWRDb29yZHNGb3JJbWFnZVNvdXJjZShlLHQsaSk7dGhpcy5fZmluZENvdmVyaW5nVGlsZUNhY2hlW2UuaWRdPXRoaXMuX2ZpbmRDb3ZlcmluZ1RpbGVDYWNoZVtlLmlkXXx8e307Y29uc3Qgbz10aGlzLnByb3hpZWRDb29yZHNbZS5pZF09W10scj10aGlzLnByb3h5Q29vcmRzO2ZvcihsZXQgdD0wO3Q8ci5sZW5ndGg7dCsrKXtjb25zdCBuPXJbdF0sYT10aGlzLl9maW5kVGlsZUNvdmVyaW5nVGlsZUlEKG4sZSk7aWYoYSl7Y29uc3QgdD10aGlzLl9jcmVhdGVQcm94aWVkSWQobixhLGlbbi5rZXldJiZpW24ua2V5XVtlLmlkXSk7by5wdXNoKHQpLHRoaXMucHJveHlUb1NvdXJjZVtuLmtleV1bZS5pZF09W3RdO319bGV0IG49ITE7Zm9yKGxldCByPTA7cjx0Lmxlbmd0aDtyKyspe2NvbnN0IGE9ZS5nZXRUaWxlKHRbcl0pO2lmKCFhfHwhYS5oYXNEYXRhKCkpY29udGludWU7Y29uc3Qgcz10aGlzLl9maW5kVGlsZUNvdmVyaW5nVGlsZUlEKGEudGlsZUlELHRoaXMucHJveHlTb3VyY2VDYWNoZSk7aWYocyYmcy50aWxlSUQuY2Fub25pY2FsLnohPT1hLnRpbGVJRC5jYW5vbmljYWwueil7Y29uc3QgdD10aGlzLnByb3h5VG9Tb3VyY2Vbcy50aWxlSUQua2V5XVtlLmlkXSxyPXRoaXMuX2NyZWF0ZVByb3hpZWRJZChzLnRpbGVJRCxhLGlbcy50aWxlSUQua2V5XSYmaVtzLnRpbGVJRC5rZXldW2UuaWRdKTt0P3Quc3BsaWNlKHQubGVuZ3RoLTEsMCxyKTp0aGlzLnByb3h5VG9Tb3VyY2Vbcy50aWxlSUQua2V5XVtlLmlkXT1bcl0sby5wdXNoKHIpLG49ITA7fX10aGlzLl9zb3VyY2VUaWxlc092ZXJsYXBbZS5pZF09bjt9X3NldHVwUHJveGllZENvb3Jkc0ZvckltYWdlU291cmNlKHQsaSxvKXtpZighdC5nZXRTb3VyY2UoKS5sb2FkZWQoKSlyZXR1cm47Y29uc3Qgcj10aGlzLnByb3hpZWRDb29yZHNbdC5pZF09W10sbj10aGlzLnByb3h5Q29vcmRzLGE9dC5nZXRTb3VyY2UoKSxzPW5ldyBlLnBvaW50R2VvbWV0cnkoYS50aWxlSUQueCxhLnRpbGVJRC55KS5fZGl2KDE8PGEudGlsZUlELnopLGw9YS5jb29yZGluYXRlcy5tYXAoZS5NZXJjYXRvckNvb3JkaW5hdGUuZnJvbUxuZ0xhdCkucmVkdWNlKCgoZSx0KT0+KGUubWluLng9TWF0aC5taW4oZS5taW4ueCx0Lngtcy54KSxlLm1pbi55PU1hdGgubWluKGUubWluLnksdC55LXMueSksZS5tYXgueD1NYXRoLm1heChlLm1heC54LHQueC1zLngpLGUubWF4Lnk9TWF0aC5tYXgoZS5tYXgueSx0Lnktcy55KSxlKSkse21pbjpuZXcgZS5wb2ludEdlb21ldHJ5KE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSksbWF4Om5ldyBlLnBvaW50R2VvbWV0cnkoLU51bWJlci5NQVhfVkFMVUUsLU51bWJlci5NQVhfVkFMVUUpfSksYz0odCxpKT0+e2NvbnN0IG89dC53cmFwK3QuY2Fub25pY2FsLngvKDE8PHQuY2Fub25pY2FsLnopLHI9dC5jYW5vbmljYWwueS8oMTw8dC5jYW5vbmljYWwueiksbj1lLkVYVEVOVC8oMTw8dC5jYW5vbmljYWwueiksYT1pLndyYXAraS5jYW5vbmljYWwueC8oMTw8aS5jYW5vbmljYWwueikscz1pLmNhbm9uaWNhbC55LygxPDxpLmNhbm9uaWNhbC56KTtyZXR1cm4gbytuPGErbC5taW4ueHx8bz5hK2wubWF4Lnh8fHIrbjxzK2wubWluLnl8fHI+cytsLm1heC55fTtmb3IobGV0IGU9MDtlPG4ubGVuZ3RoO2UrKyl7Y29uc3QgYT1uW2VdO2ZvcihsZXQgZT0wO2U8aS5sZW5ndGg7ZSsrKXtjb25zdCBuPXQuZ2V0VGlsZShpW2VdKTtpZighbnx8IW4uaGFzRGF0YSgpKWNvbnRpbnVlO2lmKGMoYSxuLnRpbGVJRCkpY29udGludWU7Y29uc3Qgcz10aGlzLl9jcmVhdGVQcm94aWVkSWQoYSxuLG9bYS5rZXldJiZvW2Eua2V5XVt0LmlkXSksbD10aGlzLnByb3h5VG9Tb3VyY2VbYS5rZXldW3QuaWRdO2w/bC5wdXNoKHMpOnRoaXMucHJveHlUb1NvdXJjZVthLmtleV1bdC5pZF09W3NdLHIucHVzaChzKTt9fX1fY3JlYXRlUHJveGllZElkKHQsaSxvKXtsZXQgcj10aGlzLm9ydGhvTWF0cml4O2lmKG8pe2NvbnN0IGU9by5maW5kKChlPT5lLmtleT09PWkudGlsZUlELmtleSkpO2lmKGUpcmV0dXJuIGV9aWYoaS50aWxlSUQua2V5IT09dC5rZXkpe2NvbnN0IG89dC5jYW5vbmljYWwuei1pLnRpbGVJRC5jYW5vbmljYWwuejtsZXQgbixhLHM7cj1lLmNyZWF0ZSgpO2NvbnN0IGw9aS50aWxlSUQud3JhcC10LndyYXA8PHQub3ZlcnNjYWxlZFo7bz4wPyhuPWUuRVhURU5UPj5vLGE9biooKGkudGlsZUlELmNhbm9uaWNhbC54PDxvKS10LmNhbm9uaWNhbC54K2wpLHM9biooKGkudGlsZUlELmNhbm9uaWNhbC55PDxvKS10LmNhbm9uaWNhbC55KSk6KG49ZS5FWFRFTlQ8PC1vLGE9ZS5FWFRFTlQqKGkudGlsZUlELmNhbm9uaWNhbC54LSh0LmNhbm9uaWNhbC54K2w8PC1vKSkscz1lLkVYVEVOVCooaS50aWxlSUQuY2Fub25pY2FsLnktKHQuY2Fub25pY2FsLnk8PC1vKSkpLGUub3J0aG8ociwwLG4sMCxuLDAsMSksZS50cmFuc2xhdGUocixyLFthLHMsMF0pO31yZXR1cm4gbmV3IFBpKGkudGlsZUlELHQua2V5LHIpfV9maW5kVGlsZUNvdmVyaW5nVGlsZUlEKHQsaSl7bGV0IG89aS5nZXRUaWxlKHQpO2lmKG8mJm8uaGFzRGF0YSgpKXJldHVybiBvO2NvbnN0IHI9dGhpcy5fZmluZENvdmVyaW5nVGlsZUNhY2hlW2kuaWRdLG49clt0LmtleV07aWYobz1uP2kuZ2V0VGlsZUJ5SUQobik6bnVsbCxvJiZvLmhhc0RhdGEoKXx8bnVsbD09PW4pcmV0dXJuIG87bGV0IGE9bz9vLnRpbGVJRDp0LHM9YS5vdmVyc2NhbGVkWjtjb25zdCBsPWkuZ2V0U291cmNlKCkubWluem9vbSxjPVtdO2lmKCFuKXtjb25zdCByPWkuZ2V0U291cmNlKCkubWF4em9vbTtpZih0LmNhbm9uaWNhbC56Pj1yKXtjb25zdCBvPXQuY2Fub25pY2FsLnotcjtpLmdldFNvdXJjZSgpLnJlcGFyc2VPdmVyc2NhbGVkPyhzPU1hdGgubWF4KHQuY2Fub25pY2FsLnorMixpLnRyYW5zZm9ybS50aWxlWm9vbSksYT1uZXcgZS5PdmVyc2NhbGVkVGlsZUlEKHMsdC53cmFwLHIsdC5jYW5vbmljYWwueD4+byx0LmNhbm9uaWNhbC55Pj5vKSk6MCE9PW8mJihzPXIsYT1uZXcgZS5PdmVyc2NhbGVkVGlsZUlEKHMsdC53cmFwLHIsdC5jYW5vbmljYWwueD4+byx0LmNhbm9uaWNhbC55Pj5vKSk7fWEua2V5IT09dC5rZXkmJihjLnB1c2goYS5rZXkpLG89aS5nZXRUaWxlKGEpKTt9Y29uc3QgaD1lPT57Yy5mb3JFYWNoKCh0PT57clt0XT1lO30pKSxjLmxlbmd0aD0wO307Zm9yKHMtPTE7cz49bCYmKCFvfHwhby5oYXNEYXRhKCkpO3MtLSl7byYmaChvLnRpbGVJRC5rZXkpO2NvbnN0IGU9YS5jYWxjdWxhdGVTY2FsZWRLZXkocyk7aWYobz1pLmdldFRpbGVCeUlEKGUpLG8mJm8uaGFzRGF0YSgpKWJyZWFrO2NvbnN0IHQ9cltlXTtpZihudWxsPT09dClicmVhazt2b2lkIDA9PT10P2MucHVzaChlKTpvPWkuZ2V0VGlsZUJ5SUQodCk7fXJldHVybiBoKG8/by50aWxlSUQua2V5Om51bGwpLG8mJm8uaGFzRGF0YSgpP286bnVsbH1maW5kREVNVGlsZUZvcihlKXtyZXR1cm4gdGhpcy5lbmFibGVkP3RoaXMuX2ZpbmRUaWxlQ292ZXJpbmdUaWxlSUQoZSx0aGlzLnNvdXJjZUNhY2hlKTpudWxsfXByZXBhcmVEcmF3VGlsZSgpe3RoaXMucmVuZGVyZWRUb1RpbGU9ITA7fV9jbGVhclJlbmRlckNhY2hlRm9yVGlsZShlLHQpe2xldCBpPXRoaXMuX3RpbGVzRGlydHlbZV07aXx8KGk9dGhpcy5fdGlsZXNEaXJ0eVtlXT17fSksaVt0LmtleV09ITA7fWdldFdpcmVmYW1lQnVmZmVyKCl7aWYoIXRoaXMud2lyZWZyYW1lU2VnbWVudHMpe2NvbnN0IHQ9ZnVuY3Rpb24odCl7bGV0IGk9MDtjb25zdCBvPW5ldyBlLlN0cnVjdEFycmF5TGF5b3V0MnVpNCxyPTEzMTtmb3IobGV0IGU9MTtlPDEyOTtlKyspe2ZvcihsZXQgdD0xO3Q8MTI5O3QrKylpPWUqcit0LG8uZW1wbGFjZUJhY2soaSxpKzEpLG8uZW1wbGFjZUJhY2soaSxpK3IpLG8uZW1wbGFjZUJhY2soaSsxLGkrciksMTI4PT09ZSYmby5lbXBsYWNlQmFjayhpK3IsaStyKzEpO28uZW1wbGFjZUJhY2soaSsxLGkrMStyKTt9cmV0dXJuIG99KCk7dGhpcy53aXJlZnJhbWVJbmRleEJ1ZmZlcj10aGlzLnBhaW50ZXIuY29udGV4dC5jcmVhdGVJbmRleEJ1ZmZlcih0KSx0aGlzLndpcmVmcmFtZVNlZ21lbnRzPWUuU2VnbWVudFZlY3Rvci5zaW1wbGVTZWdtZW50KDAsMCx0aGlzLmdyaWRCdWZmZXIubGVuZ3RoLHQubGVuZ3RoKTt9cmV0dXJuIFt0aGlzLndpcmVmcmFtZUluZGV4QnVmZmVyLHRoaXMud2lyZWZyYW1lU2VnbWVudHNdfX1jbGFzcyBMaXtzdGF0aWMgY2FjaGVLZXkoZSx0LGksbyl7bGV0IHI9YCR7dH0ke28/by5jYWNoZUtleTpcIlwifWA7Zm9yKGNvbnN0IHQgb2YgaSllLnVzZWREZWZpbmVzLmluY2x1ZGVzKHQpJiYocis9YC8ke3R9YCk7cmV0dXJuIHJ9Y29uc3RydWN0b3IodCxpLG8scixuLGEpe2NvbnN0IHM9dC5nbDt0aGlzLnByb2dyYW09cy5jcmVhdGVQcm9ncmFtKCk7Y29uc3QgbD1mdW5jdGlvbihlKXtjb25zdCB0PVtdO2ZvcihsZXQgaT0wO2k8ZS5sZW5ndGg7aSsrKXtpZihudWxsPT09ZVtpXSljb250aW51ZTtjb25zdCBvPWVbaV0uc3BsaXQoXCIgXCIpO3QucHVzaChvLnBvcCgpKTt9cmV0dXJuIHR9KG8uc3RhdGljQXR0cmlidXRlcyksYz1yP3IuZ2V0QmluZGVyQXR0cmlidXRlcygpOltdLGg9bC5jb25jYXQoYyk7bGV0IHU9cj9yLmRlZmluZXMoKTpbXTt1PXUuY29uY2F0KGEubWFwKChlPT5gI2RlZmluZSAke2V9YCkpKTtjb25zdCBfPXUuY29uY2F0KHQuZXh0U3RhbmRhcmREZXJpdmF0aXZlcz9cIiNleHRlbnNpb24gR0xfT0VTX3N0YW5kYXJkX2Rlcml2YXRpdmVzIDogZW5hYmxlXFxuXCIuY29uY2F0KHVpKTp1aSx1aSxoaSxjaS5mcmFnbWVudFNvdXJjZSxzaS5mcmFnbWVudFNvdXJjZSxvLmZyYWdtZW50U291cmNlKS5qb2luKFwiXFxuXCIpLGQ9dS5jb25jYXQoXCJcXG4jaWZkZWYgR0xfRVNcXG5wcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuI2Vsc2VcXG5cXG4jaWYgIWRlZmluZWQobG93cClcXG4jZGVmaW5lIGxvd3BcXG4jZW5kaWZcXG5cXG4jaWYgIWRlZmluZWQobWVkaXVtcClcXG4jZGVmaW5lIG1lZGl1bXBcXG4jZW5kaWZcXG5cXG4jaWYgIWRlZmluZWQoaGlnaHApXFxuI2RlZmluZSBoaWdocFxcbiNlbmRpZlxcblxcbiNlbmRpZlwiLGhpLGNpLnZlcnRleFNvdXJjZSxzaS52ZXJ0ZXhTb3VyY2UsYWkudmVydGV4U291cmNlLG8udmVydGV4U291cmNlKS5qb2luKFwiXFxuXCIpLHA9cy5jcmVhdGVTaGFkZXIocy5GUkFHTUVOVF9TSEFERVIpO2lmKHMuaXNDb250ZXh0TG9zdCgpKXJldHVybiB2b2lkKHRoaXMuZmFpbGVkVG9DcmVhdGU9ITApO3Muc2hhZGVyU291cmNlKHAsXykscy5jb21waWxlU2hhZGVyKHApLHMuYXR0YWNoU2hhZGVyKHRoaXMucHJvZ3JhbSxwKTtjb25zdCBtPXMuY3JlYXRlU2hhZGVyKHMuVkVSVEVYX1NIQURFUik7aWYocy5pc0NvbnRleHRMb3N0KCkpdGhpcy5mYWlsZWRUb0NyZWF0ZT0hMDtlbHNlIHtzLnNoYWRlclNvdXJjZShtLGQpLHMuY29tcGlsZVNoYWRlcihtKSxzLmF0dGFjaFNoYWRlcih0aGlzLnByb2dyYW0sbSksdGhpcy5hdHRyaWJ1dGVzPXt9LHRoaXMubnVtQXR0cmlidXRlcz1oLmxlbmd0aDtmb3IobGV0IGU9MDtlPHRoaXMubnVtQXR0cmlidXRlcztlKyspaFtlXSYmKHMuYmluZEF0dHJpYkxvY2F0aW9uKHRoaXMucHJvZ3JhbSxlLGhbZV0pLHRoaXMuYXR0cmlidXRlc1toW2VdXT1lKTtzLmxpbmtQcm9ncmFtKHRoaXMucHJvZ3JhbSkscy5kZWxldGVTaGFkZXIobSkscy5kZWxldGVTaGFkZXIocCksdGhpcy5maXhlZFVuaWZvcm1zPW4odCksdGhpcy5iaW5kZXJVbmlmb3Jtcz1yP3IuZ2V0VW5pZm9ybXModCk6W10sLTEhPT1hLmluZGV4T2YoXCJURVJSQUlOXCIpJiYodGhpcy50ZXJyYWluVW5pZm9ybXM9KHQ9Pih7dV9kZW06bmV3IGUuVW5pZm9ybTFpKHQpLHVfZGVtX3ByZXY6bmV3IGUuVW5pZm9ybTFpKHQpLHVfZGVtX3VucGFjazpuZXcgZS5Vbmlmb3JtNGYodCksdV9kZW1fdGw6bmV3IGUuVW5pZm9ybTJmKHQpLHVfZGVtX3NjYWxlOm5ldyBlLlVuaWZvcm0xZih0KSx1X2RlbV90bF9wcmV2Om5ldyBlLlVuaWZvcm0yZih0KSx1X2RlbV9zY2FsZV9wcmV2Om5ldyBlLlVuaWZvcm0xZih0KSx1X2RlbV9zaXplOm5ldyBlLlVuaWZvcm0xZih0KSx1X2RlbV9sZXJwOm5ldyBlLlVuaWZvcm0xZih0KSx1X2V4YWdnZXJhdGlvbjpuZXcgZS5Vbmlmb3JtMWYodCksdV9kZXB0aDpuZXcgZS5Vbmlmb3JtMWkodCksdV9kZXB0aF9zaXplX2ludjpuZXcgZS5Vbmlmb3JtMmYodCksdV9tZXRlcl90b19kZW06bmV3IGUuVW5pZm9ybTFmKHQpLHVfbGFiZWxfcGxhbmVfbWF0cml4X2ludjpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV90aWxlX3RsX3VwOm5ldyBlLlVuaWZvcm0zZih0KSx1X3RpbGVfdHJfdXA6bmV3IGUuVW5pZm9ybTNmKHQpLHVfdGlsZV9icl91cDpuZXcgZS5Vbmlmb3JtM2YodCksdV90aWxlX2JsX3VwOm5ldyBlLlVuaWZvcm0zZih0KSx1X3RpbGVfdXBfc2NhbGU6bmV3IGUuVW5pZm9ybTFmKHQpfSkpKHQpKSwtMSE9PWEuaW5kZXhPZihcIkZPR1wiKSYmKHRoaXMuZm9nVW5pZm9ybXM9KHQ9Pih7dV9mb2dfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X2ZvZ19yYW5nZTpuZXcgZS5Vbmlmb3JtMmYodCksdV9mb2dfY29sb3I6bmV3IGUuVW5pZm9ybTRmKHQpLHVfZm9nX2hvcml6b25fYmxlbmQ6bmV3IGUuVW5pZm9ybTFmKHQpLHVfZm9nX3RlbXBvcmFsX29mZnNldDpuZXcgZS5Vbmlmb3JtMWYodCksdV9mcnVzdHVtX3RsOm5ldyBlLlVuaWZvcm0zZih0KSx1X2ZydXN0dW1fdHI6bmV3IGUuVW5pZm9ybTNmKHQpLHVfZnJ1c3R1bV9icjpuZXcgZS5Vbmlmb3JtM2YodCksdV9mcnVzdHVtX2JsOm5ldyBlLlVuaWZvcm0zZih0KSx1X2dsb2JlX3BvczpuZXcgZS5Vbmlmb3JtM2YodCksdV9nbG9iZV9yYWRpdXM6bmV3IGUuVW5pZm9ybTFmKHQpLHVfZ2xvYmVfdHJhbnNpdGlvbjpuZXcgZS5Vbmlmb3JtMWYodCksdV9pc19nbG9iZTpuZXcgZS5Vbmlmb3JtMWkodCksdV92aWV3cG9ydDpuZXcgZS5Vbmlmb3JtMmYodCl9KSkodCkpO319c2V0VGVycmFpblVuaWZvcm1WYWx1ZXMoZSx0KXtpZighdGhpcy50ZXJyYWluVW5pZm9ybXMpcmV0dXJuO2NvbnN0IGk9dGhpcy50ZXJyYWluVW5pZm9ybXM7aWYoIXRoaXMuZmFpbGVkVG9DcmVhdGUpe2UucHJvZ3JhbS5zZXQodGhpcy5wcm9ncmFtKTtmb3IoY29uc3QgZSBpbiB0KWlbZV0uc2V0KHRoaXMucHJvZ3JhbSxlLHRbZV0pO319c2V0Rm9nVW5pZm9ybVZhbHVlcyhlLHQpe2lmKCF0aGlzLmZvZ1VuaWZvcm1zKXJldHVybjtjb25zdCBpPXRoaXMuZm9nVW5pZm9ybXM7aWYoIXRoaXMuZmFpbGVkVG9DcmVhdGUpe2UucHJvZ3JhbS5zZXQodGhpcy5wcm9ncmFtKTtmb3IoY29uc3QgZSBpbiB0KWlbZV0uc2V0KHRoaXMucHJvZ3JhbSxlLHRbZV0pO319ZHJhdyhlLHQsaSxvLHIsbixhLHMsbCxjLGgsdSxfLGQscCl7Y29uc3QgbT1lLmdsO2lmKHRoaXMuZmFpbGVkVG9DcmVhdGUpcmV0dXJuO2UucHJvZ3JhbS5zZXQodGhpcy5wcm9ncmFtKSxlLnNldERlcHRoTW9kZShpKSxlLnNldFN0ZW5jaWxNb2RlKG8pLGUuc2V0Q29sb3JNb2RlKHIpLGUuc2V0Q3VsbEZhY2Uobik7Zm9yKGNvbnN0IGUgb2YgT2JqZWN0LmtleXModGhpcy5maXhlZFVuaWZvcm1zKSl0aGlzLmZpeGVkVW5pZm9ybXNbZV0uc2V0KHRoaXMucHJvZ3JhbSxlLGFbZV0pO2QmJmQuc2V0VW5pZm9ybXModGhpcy5wcm9ncmFtLGUsdGhpcy5iaW5kZXJVbmlmb3Jtcyx1LHt6b29tOl99KTtjb25zdCBmPXtbbS5MSU5FU106MixbbS5UUklBTkdMRVNdOjMsW20uTElORV9TVFJJUF06MX1bdF07Zm9yKGNvbnN0IGkgb2YgaC5nZXQoKSl7Y29uc3Qgbz1pLnZhb3N8fChpLnZhb3M9e30pOyhvW3NdfHwob1tzXT1uZXcgbWkpKS5iaW5kKGUsdGhpcyxsLGQ/ZC5nZXRQYWludFZlcnRleEJ1ZmZlcnMoKTpbXSxjLGkudmVydGV4T2Zmc2V0LHB8fFtdKSxtLmRyYXdFbGVtZW50cyh0LGkucHJpbWl0aXZlTGVuZ3RoKmYsbS5VTlNJR05FRF9TSE9SVCxpLnByaW1pdGl2ZU9mZnNldCpmKjIpO319fWZ1bmN0aW9uIFJpKGUsdCxpKXtjb25zdCBvPTEvTChpLDEsdC50cmFuc2Zvcm0udGlsZVpvb20pLHI9TWF0aC5wb3coMixpLnRpbGVJRC5vdmVyc2NhbGVkWiksbj1pLnRpbGVTaXplKk1hdGgucG93KDIsdC50cmFuc2Zvcm0udGlsZVpvb20pL3IsYT1uKihpLnRpbGVJRC5jYW5vbmljYWwueCtpLnRpbGVJRC53cmFwKnIpLHM9bippLnRpbGVJRC5jYW5vbmljYWwueTtyZXR1cm4ge3VfaW1hZ2U6MCx1X3RleHNpemU6aS5pbWFnZUF0bGFzVGV4dHVyZS5zaXplLHVfc2NhbGU6W28sZS5mcm9tU2NhbGUsZS50b1NjYWxlXSx1X2ZhZGU6ZS50LHVfcGl4ZWxfY29vcmRfdXBwZXI6W2E+PjE2LHM+PjE2XSx1X3BpeGVsX2Nvb3JkX2xvd2VyOls2NTUzNSZhLDY1NTM1JnNdfX1jb25zdCBPaT1lLmNyZWF0ZSgpLEJpPSh0LGksbyxyLG4sYSxzLGwsYyxoLHUpPT57Y29uc3QgXz1pLnN0eWxlLmxpZ2h0LGQ9Xy5wcm9wZXJ0aWVzLmdldChcInBvc2l0aW9uXCIpLHA9W2QueCxkLnksZC56XSxtPWUuY3JlYXRlJDEoKTtcInZpZXdwb3J0XCI9PT1fLnByb3BlcnRpZXMuZ2V0KFwiYW5jaG9yXCIpJiYoZS5mcm9tUm90YXRpb24obSwtaS50cmFuc2Zvcm0uYW5nbGUpLGUudHJhbnNmb3JtTWF0MyhwLHAsbSkpO2NvbnN0IGY9Xy5wcm9wZXJ0aWVzLmdldChcImNvbG9yXCIpLGc9aS50cmFuc2Zvcm0sdj17dV9tYXRyaXg6dCx1X2xpZ2h0cG9zOnAsdV9saWdodGludGVuc2l0eTpfLnByb3BlcnRpZXMuZ2V0KFwiaW50ZW5zaXR5XCIpLHVfbGlnaHRjb2xvcjpbZi5yLGYuZyxmLmJdLHVfdmVydGljYWxfZ3JhZGllbnQ6K28sdV9vcGFjaXR5OnIsdV90aWxlX2lkOlswLDAsMF0sdV96b29tX3RyYW5zaXRpb246MCx1X2ludl9yb3RfbWF0cml4Ok9pLHVfbWVyY19jZW50ZXI6WzAsMF0sdV91cF9kaXI6WzAsMCwwXSx1X2hlaWdodF9saWZ0OjAsdV9hbzpuLHVfZWRnZV9yYWRpdXM6YX07cmV0dXJuIFwiZ2xvYmVcIj09PWcucHJvamVjdGlvbi5uYW1lJiYodi51X3RpbGVfaWQ9W3MuY2Fub25pY2FsLngscy5jYW5vbmljYWwueSwxPDxzLmNhbm9uaWNhbC56XSx2LnVfem9vbV90cmFuc2l0aW9uPWMsdi51X2ludl9yb3RfbWF0cml4PXUsdi51X21lcmNfY2VudGVyPWgsdi51X3VwX2Rpcj1nLnByb2plY3Rpb24udXBWZWN0b3IobmV3IGUuQ2Fub25pY2FsVGlsZUlEKDAsMCwwKSxoWzBdKmUuRVhURU5ULGhbMV0qZS5FWFRFTlQpLHYudV9oZWlnaHRfbGlmdD1sKSx2fSxraT0odCxpLG8scixuLGEscyxsLGMsaCx1LF8sZCk9Pntjb25zdCBwPUJpKHQsaSxvLHIsbixhLHMsaCx1LF8sZCksbT17dV9oZWlnaHRfZmFjdG9yOi1NYXRoLnBvdygyLHMub3ZlcnNjYWxlZFopL2MudGlsZVNpemUvOH07cmV0dXJuIGUuZXh0ZW5kKHAsUmkobCxpLGMpLG0pfSxGaT1lPT4oe3VfbWF0cml4OmV9KSxVaT0odCxpLG8scik9PmUuZXh0ZW5kKEZpKHQpLFJpKG8saSxyKSksTmk9KGUsdCk9Pih7dV9tYXRyaXg6ZSx1X3dvcmxkOnR9KSxHaT0odCxpLG8scixuKT0+ZS5leHRlbmQoVWkodCxpLG8scikse3Vfd29ybGQ6bn0pLGppPWUuY3JlYXRlKCksWmk9KHQsaSxvLHIsbixhKT0+e2NvbnN0IHM9dC50cmFuc2Zvcm0sbD1cImdsb2JlXCI9PT1zLnByb2plY3Rpb24ubmFtZTtsZXQgYztpZihcIm1hcFwiPT09YS5wYWludC5nZXQoXCJjaXJjbGUtcGl0Y2gtYWxpZ25tZW50XCIpKWlmKGwpe2NvbnN0IHQ9ZS5nbG9iZVBpeGVsc1RvVGlsZVVuaXRzKHMuem9vbSxpLmNhbm9uaWNhbCkqcy5fcGl4ZWxzUGVyTWVyY2F0b3JQaXhlbDtjPUZsb2F0MzJBcnJheS5mcm9tKFt0LDAsMCx0XSk7fWVsc2UgYz1zLmNhbGN1bGF0ZVBpeGVsc1RvVGlsZVVuaXRzTWF0cml4KG8pO2Vsc2UgYz1uZXcgRmxvYXQzMkFycmF5KFtzLnBpeGVsc1RvR0xVbml0c1swXSwwLDAscy5waXhlbHNUb0dMVW5pdHNbMV1dKTtjb25zdCBoPXt1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2U6cy5jYW1lcmFUb0NlbnRlckRpc3RhbmNlLHVfbWF0cml4OnQudHJhbnNsYXRlUG9zTWF0cml4KGkucHJvak1hdHJpeCxvLGEucGFpbnQuZ2V0KFwiY2lyY2xlLXRyYW5zbGF0ZVwiKSxhLnBhaW50LmdldChcImNpcmNsZS10cmFuc2xhdGUtYW5jaG9yXCIpKSx1X2RldmljZV9waXhlbF9yYXRpbzplLmV4cG9ydGVkLmRldmljZVBpeGVsUmF0aW8sdV9leHRydWRlX3NjYWxlOmMsdV9pbnZfcm90X21hdHJpeDpqaSx1X21lcmNfY2VudGVyOlswLDBdLHVfdGlsZV9pZDpbMCwwLDBdLHVfem9vbV90cmFuc2l0aW9uOjAsdV91cF9kaXI6WzAsMCwwXX07aWYobCl7aC51X2ludl9yb3RfbWF0cml4PXIsaC51X21lcmNfY2VudGVyPW4saC51X3RpbGVfaWQ9W2kuY2Fub25pY2FsLngsaS5jYW5vbmljYWwueSwxPDxpLmNhbm9uaWNhbC56XSxoLnVfem9vbV90cmFuc2l0aW9uPWUuZ2xvYmVUb01lcmNhdG9yVHJhbnNpdGlvbihzLnpvb20pO2NvbnN0IHQ9blswXSplLkVYVEVOVCxvPW5bMV0qZS5FWFRFTlQ7aC51X3VwX2Rpcj1zLnByb2plY3Rpb24udXBWZWN0b3IobmV3IGUuQ2Fub25pY2FsVGlsZUlEKDAsMCwwKSx0LG8pO31yZXR1cm4gaH0sVmk9ZT0+e2NvbnN0IHQ9W107cmV0dXJuIFwibWFwXCI9PT1lLnBhaW50LmdldChcImNpcmNsZS1waXRjaC1hbGlnbm1lbnRcIikmJnQucHVzaChcIlBJVENIX1dJVEhfTUFQXCIpLFwibWFwXCI9PT1lLnBhaW50LmdldChcImNpcmNsZS1waXRjaC1zY2FsZVwiKSYmdC5wdXNoKFwiU0NBTEVfV0lUSF9NQVBcIiksdH0sV2k9KHQsaSxvLHIpPT57Y29uc3Qgbj1lLkVYVEVOVC9vLnRpbGVTaXplO3JldHVybiB7dV9tYXRyaXg6dCx1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2U6aS5nZXRDYW1lcmFUb0NlbnRlckRpc3RhbmNlKHIpLHVfZXh0cnVkZV9zY2FsZTpbaS5waXhlbHNUb0dMVW5pdHNbMF0vbixpLnBpeGVsc1RvR0xVbml0c1sxXS9uXX19LFhpPShlLHQsaT0xKT0+KHt1X21hdHJpeDplLHVfY29sb3I6dCx1X292ZXJsYXk6MCx1X292ZXJsYXlfc2NhbGU6aX0pLHFpPWUuY3JlYXRlKCksJGk9KHQsaSxvLHIsbixhLHMpPT57Y29uc3QgbD10LnRyYW5zZm9ybSxjPVwiZ2xvYmVcIj09PWwucHJvamVjdGlvbi5uYW1lLGg9Yz9lLmdsb2JlUGl4ZWxzVG9UaWxlVW5pdHMobC56b29tLGkuY2Fub25pY2FsKSpsLl9waXhlbHNQZXJNZXJjYXRvclBpeGVsOkwobywxLGEpLHU9e3VfbWF0cml4OmkucHJvak1hdHJpeCx1X2V4dHJ1ZGVfc2NhbGU6aCx1X2ludGVuc2l0eTpzLHVfaW52X3JvdF9tYXRyaXg6cWksdV9tZXJjX2NlbnRlcjpbMCwwXSx1X3RpbGVfaWQ6WzAsMCwwXSx1X3pvb21fdHJhbnNpdGlvbjowLHVfdXBfZGlyOlswLDAsMF19O2lmKGMpe3UudV9pbnZfcm90X21hdHJpeD1yLHUudV9tZXJjX2NlbnRlcj1uLHUudV90aWxlX2lkPVtpLmNhbm9uaWNhbC54LGkuY2Fub25pY2FsLnksMTw8aS5jYW5vbmljYWwuel0sdS51X3pvb21fdHJhbnNpdGlvbj1lLmdsb2JlVG9NZXJjYXRvclRyYW5zaXRpb24obC56b29tKTtjb25zdCB0PW5bMF0qZS5FWFRFTlQsbz1uWzFdKmUuRVhURU5UO3UudV91cF9kaXI9bC5wcm9qZWN0aW9uLnVwVmVjdG9yKG5ldyBlLkNhbm9uaWNhbFRpbGVJRCgwLDAsMCksdCxvKTt9cmV0dXJuIHV9LEhpPShlLHQsaSxvLHIsbixhLHMpPT57Y29uc3QgbD1lLnRyYW5zZm9ybSxjPWwuY2FsY3VsYXRlUGl4ZWxzVG9UaWxlVW5pdHNNYXRyaXgodCksaD17dV9tYXRyaXg6SmkoZSx0LGksciksdV9waXhlbHNfdG9fdGlsZV91bml0czpjLHVfZGV2aWNlX3BpeGVsX3JhdGlvOmEsdV91bml0c190b19waXhlbHM6WzEvbC5waXhlbHNUb0dMVW5pdHNbMF0sMS9sLnBpeGVsc1RvR0xVbml0c1sxXV0sdV9kYXNoX2ltYWdlOjAsdV9ncmFkaWVudF9pbWFnZToxLHVfaW1hZ2VfaGVpZ2h0Om4sdV90ZXhzaXplOlswLDBdLHVfc2NhbGU6WzAsMCwwXSx1X21peDowLHVfYWxwaGFfZGlzY2FyZF90aHJlc2hvbGQ6MCx1X3RyaW1fb2Zmc2V0OnN9O2lmKFFpKGkpKXtjb25zdCBpPUtpKHQsZS50cmFuc2Zvcm0pO2gudV90ZXhzaXplPXQubGluZUF0bGFzVGV4dHVyZS5zaXplLGgudV9zY2FsZT1baSxvLmZyb21TY2FsZSxvLnRvU2NhbGVdLGgudV9taXg9by50O31yZXR1cm4gaH0sWWk9KGUsdCxpLG8scixuKT0+e2NvbnN0IGE9ZS50cmFuc2Zvcm0scz1LaSh0LGEpO3JldHVybiB7dV9tYXRyaXg6SmkoZSx0LGksciksdV90ZXhzaXplOnQuaW1hZ2VBdGxhc1RleHR1cmUuc2l6ZSx1X3BpeGVsc190b190aWxlX3VuaXRzOmEuY2FsY3VsYXRlUGl4ZWxzVG9UaWxlVW5pdHNNYXRyaXgodCksdV9kZXZpY2VfcGl4ZWxfcmF0aW86bix1X2ltYWdlOjAsdV9zY2FsZTpbcyxvLmZyb21TY2FsZSxvLnRvU2NhbGVdLHVfZmFkZTpvLnQsdV91bml0c190b19waXhlbHM6WzEvYS5waXhlbHNUb0dMVW5pdHNbMF0sMS9hLnBpeGVsc1RvR0xVbml0c1sxXV0sdV9hbHBoYV9kaXNjYXJkX3RocmVzaG9sZDowfX07ZnVuY3Rpb24gS2koZSx0KXtyZXR1cm4gMS9MKGUsMSx0LnRpbGVab29tKX1mdW5jdGlvbiBKaShlLHQsaSxvKXtyZXR1cm4gZS50cmFuc2xhdGVQb3NNYXRyaXgob3x8dC50aWxlSUQucHJvak1hdHJpeCx0LGkucGFpbnQuZ2V0KFwibGluZS10cmFuc2xhdGVcIiksaS5wYWludC5nZXQoXCJsaW5lLXRyYW5zbGF0ZS1hbmNob3JcIikpfWZ1bmN0aW9uIFFpKGUpe2NvbnN0IHQ9ZS5wYWludC5nZXQoXCJsaW5lLWRhc2hhcnJheVwiKS52YWx1ZTtyZXR1cm4gdC52YWx1ZXx8XCJjb25zdGFudFwiIT09dC5raW5kfWNvbnN0IGVvPShlLHQsaSxvLHIsbik9PntyZXR1cm4ge3VfbWF0cml4OmUsdV90bF9wYXJlbnQ6dCx1X3NjYWxlX3BhcmVudDppLHVfZmFkZV90Om8ubWl4LHVfb3BhY2l0eTpvLm9wYWNpdHkqci5wYWludC5nZXQoXCJyYXN0ZXItb3BhY2l0eVwiKSx1X2ltYWdlMDowLHVfaW1hZ2UxOjEsdV9icmlnaHRuZXNzX2xvdzpyLnBhaW50LmdldChcInJhc3Rlci1icmlnaHRuZXNzLW1pblwiKSx1X2JyaWdodG5lc3NfaGlnaDpyLnBhaW50LmdldChcInJhc3Rlci1icmlnaHRuZXNzLW1heFwiKSx1X3NhdHVyYXRpb25fZmFjdG9yOihzPXIucGFpbnQuZ2V0KFwicmFzdGVyLXNhdHVyYXRpb25cIikscz4wPzEtMS8oMS4wMDEtcyk6LXMpLHVfY29udHJhc3RfZmFjdG9yOihhPXIucGFpbnQuZ2V0KFwicmFzdGVyLWNvbnRyYXN0XCIpLGE+MD8xLygxLWEpOjErYSksdV9zcGluX3dlaWdodHM6dG8oci5wYWludC5nZXQoXCJyYXN0ZXItaHVlLXJvdGF0ZVwiKSksdV9wZXJzcGVjdGl2ZV90cmFuc2Zvcm06bn07dmFyIGEsczt9O2Z1bmN0aW9uIHRvKGUpe2UqPU1hdGguUEkvMTgwO2NvbnN0IHQ9TWF0aC5zaW4oZSksaT1NYXRoLmNvcyhlKTtyZXR1cm4gWygyKmkrMSkvMywoLU1hdGguc3FydCgzKSp0LWkrMSkvMywoTWF0aC5zcXJ0KDMpKnQtaSsxKS8zXX1jb25zdCBpbz1lLmNyZWF0ZSgpLG9vPSh0LGksbyxyLG4sYSxzLGwsYyxoLHUsXyxkLHAsbSxmKT0+e2NvbnN0IGc9bi50cmFuc2Zvcm0sdj17dV9pc19zaXplX3pvb21fY29uc3RhbnQ6KyhcImNvbnN0YW50XCI9PT10fHxcInNvdXJjZVwiPT09dCksdV9pc19zaXplX2ZlYXR1cmVfY29uc3RhbnQ6KyhcImNvbnN0YW50XCI9PT10fHxcImNhbWVyYVwiPT09dCksdV9zaXplX3Q6aT9pLnVTaXplVDowLHVfc2l6ZTppP2kudVNpemU6MCx1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2U6Zy5jYW1lcmFUb0NlbnRlckRpc3RhbmNlLHVfcm90YXRlX3N5bWJvbDorbyx1X2FzcGVjdF9yYXRpbzpnLndpZHRoL2cuaGVpZ2h0LHVfZmFkZV9jaGFuZ2U6bi5vcHRpb25zLmZhZGVEdXJhdGlvbj9uLnN5bWJvbEZhZGVDaGFuZ2U6MSx1X21hdHJpeDphLHVfbGFiZWxfcGxhbmVfbWF0cml4OnMsdV9jb29yZF9tYXRyaXg6bCx1X2lzX3RleHQ6K2MsdV9waXRjaF93aXRoX21hcDorcix1X3RleHNpemU6aCx1X3RleHR1cmU6MCx1X3RpbGVfaWQ6WzAsMCwwXSx1X3pvb21fdHJhbnNpdGlvbjowLHVfaW52X3JvdF9tYXRyaXg6aW8sdV9tZXJjX2NlbnRlcjpbMCwwXSx1X2NhbWVyYV9mb3J3YXJkOlswLDAsMF0sdV9lY2VmX29yaWdpbjpbMCwwLDBdLHVfdGlsZV9tYXRyaXg6aW8sdV91cF92ZWN0b3I6WzAsLTEsMF19O3JldHVybiBcImdsb2JlXCI9PT1mLm5hbWUmJih2LnVfdGlsZV9pZD1bdS5jYW5vbmljYWwueCx1LmNhbm9uaWNhbC55LDE8PHUuY2Fub25pY2FsLnpdLHYudV96b29tX3RyYW5zaXRpb249Xyx2LnVfaW52X3JvdF9tYXRyaXg9cCx2LnVfbWVyY19jZW50ZXI9ZCx2LnVfY2FtZXJhX2ZvcndhcmQ9Zy5fY2FtZXJhLmZvcndhcmQoKSx2LnVfZWNlZl9vcmlnaW49ZS5nbG9iZUVDRUZPcmlnaW4oZy5nbG9iZU1hdHJpeCx1LnRvVW53cmFwcGVkKCkpLHYudV90aWxlX21hdHJpeD1GbG9hdDMyQXJyYXkuZnJvbShnLmdsb2JlTWF0cml4KSx2LnVfdXBfdmVjdG9yPW0pLHZ9LHJvPSh0LGksbyxyLG4sYSxzLGwsYyxoLHUsXyxkLHAsbSxmLGcpPT5lLmV4dGVuZChvbyh0LGksbyxyLG4sYSxzLGwsYyxoLF8sZCxwLG0sZixnKSx7dV9nYW1tYV9zY2FsZTpyP24udHJhbnNmb3JtLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2UqTWF0aC5jb3Mobi50ZXJyYWluPzA6bi50cmFuc2Zvcm0uX3BpdGNoKToxLHVfZGV2aWNlX3BpeGVsX3JhdGlvOmUuZXhwb3J0ZWQuZGV2aWNlUGl4ZWxSYXRpbyx1X2lzX2hhbG86K3V9KSxubz0odCxpLG8scixuLGEscyxsLGMsaCx1LF8sZCxwLG0sZik9PmUuZXh0ZW5kKHJvKHQsaSxvLHIsbixhLHMsbCwhMCxjLCEwLHUsXyxkLHAsbSxmKSx7dV90ZXhzaXplX2ljb246aCx1X3RleHR1cmVfaWNvbjoxfSksYW89KGUsdCxpKT0+KHt1X21hdHJpeDplLHVfb3BhY2l0eTp0LHVfY29sb3I6aX0pLHNvPSh0LGksbyxyLG4sYSk9PmUuZXh0ZW5kKGZ1bmN0aW9uKGUsdCxpLG8pe2NvbnN0IHI9aS5pbWFnZU1hbmFnZXIuZ2V0UGF0dGVybihlLmZyb20udG9TdHJpbmcoKSksbj1pLmltYWdlTWFuYWdlci5nZXRQYXR0ZXJuKGUudG8udG9TdHJpbmcoKSkse3dpZHRoOmEsaGVpZ2h0OnN9PWkuaW1hZ2VNYW5hZ2VyLmdldFBpeGVsU2l6ZSgpLGw9TWF0aC5wb3coMixvLnRpbGVJRC5vdmVyc2NhbGVkWiksYz1vLnRpbGVTaXplKk1hdGgucG93KDIsaS50cmFuc2Zvcm0udGlsZVpvb20pL2wsaD1jKihvLnRpbGVJRC5jYW5vbmljYWwueCtvLnRpbGVJRC53cmFwKmwpLHU9YypvLnRpbGVJRC5jYW5vbmljYWwueTtyZXR1cm4ge3VfaW1hZ2U6MCx1X3BhdHRlcm5fdGxfYTpyLnRsLHVfcGF0dGVybl9icl9hOnIuYnIsdV9wYXR0ZXJuX3RsX2I6bi50bCx1X3BhdHRlcm5fYnJfYjpuLmJyLHVfdGV4c2l6ZTpbYSxzXSx1X21peDp0LnQsdV9wYXR0ZXJuX3NpemVfYTpyLmRpc3BsYXlTaXplLHVfcGF0dGVybl9zaXplX2I6bi5kaXNwbGF5U2l6ZSx1X3NjYWxlX2E6dC5mcm9tU2NhbGUsdV9zY2FsZV9iOnQudG9TY2FsZSx1X3RpbGVfdW5pdHNfdG9fcGl4ZWxzOjEvTChvLDEsaS50cmFuc2Zvcm0udGlsZVpvb20pLHVfcGl4ZWxfY29vcmRfdXBwZXI6W2g+PjE2LHU+PjE2XSx1X3BpeGVsX2Nvb3JkX2xvd2VyOls2NTUzNSZoLDY1NTM1JnVdfX0ocixhLG8sbikse3VfbWF0cml4OnQsdV9vcGFjaXR5Oml9KSxsbz17ZmlsbEV4dHJ1c2lvbjp0PT4oe3VfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X2xpZ2h0cG9zOm5ldyBlLlVuaWZvcm0zZih0KSx1X2xpZ2h0aW50ZW5zaXR5Om5ldyBlLlVuaWZvcm0xZih0KSx1X2xpZ2h0Y29sb3I6bmV3IGUuVW5pZm9ybTNmKHQpLHVfdmVydGljYWxfZ3JhZGllbnQ6bmV3IGUuVW5pZm9ybTFmKHQpLHVfb3BhY2l0eTpuZXcgZS5Vbmlmb3JtMWYodCksdV9lZGdlX3JhZGl1czpuZXcgZS5Vbmlmb3JtMWYodCksdV9hbzpuZXcgZS5Vbmlmb3JtMmYodCksdV90aWxlX2lkOm5ldyBlLlVuaWZvcm0zZih0KSx1X3pvb21fdHJhbnNpdGlvbjpuZXcgZS5Vbmlmb3JtMWYodCksdV9pbnZfcm90X21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV9tZXJjX2NlbnRlcjpuZXcgZS5Vbmlmb3JtMmYodCksdV91cF9kaXI6bmV3IGUuVW5pZm9ybTNmKHQpLHVfaGVpZ2h0X2xpZnQ6bmV3IGUuVW5pZm9ybTFmKHQpfSksZmlsbEV4dHJ1c2lvblBhdHRlcm46dD0+KHt1X21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV9saWdodHBvczpuZXcgZS5Vbmlmb3JtM2YodCksdV9saWdodGludGVuc2l0eTpuZXcgZS5Vbmlmb3JtMWYodCksdV9saWdodGNvbG9yOm5ldyBlLlVuaWZvcm0zZih0KSx1X3ZlcnRpY2FsX2dyYWRpZW50Om5ldyBlLlVuaWZvcm0xZih0KSx1X2hlaWdodF9mYWN0b3I6bmV3IGUuVW5pZm9ybTFmKHQpLHVfZWRnZV9yYWRpdXM6bmV3IGUuVW5pZm9ybTFmKHQpLHVfYW86bmV3IGUuVW5pZm9ybTJmKHQpLHVfdGlsZV9pZDpuZXcgZS5Vbmlmb3JtM2YodCksdV96b29tX3RyYW5zaXRpb246bmV3IGUuVW5pZm9ybTFmKHQpLHVfaW52X3JvdF9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpLHVfbWVyY19jZW50ZXI6bmV3IGUuVW5pZm9ybTJmKHQpLHVfdXBfZGlyOm5ldyBlLlVuaWZvcm0zZih0KSx1X2hlaWdodF9saWZ0Om5ldyBlLlVuaWZvcm0xZih0KSx1X2ltYWdlOm5ldyBlLlVuaWZvcm0xaSh0KSx1X3RleHNpemU6bmV3IGUuVW5pZm9ybTJmKHQpLHVfcGl4ZWxfY29vcmRfdXBwZXI6bmV3IGUuVW5pZm9ybTJmKHQpLHVfcGl4ZWxfY29vcmRfbG93ZXI6bmV3IGUuVW5pZm9ybTJmKHQpLHVfc2NhbGU6bmV3IGUuVW5pZm9ybTNmKHQpLHVfZmFkZTpuZXcgZS5Vbmlmb3JtMWYodCksdV9vcGFjaXR5Om5ldyBlLlVuaWZvcm0xZih0KX0pLGZpbGw6dD0+KHt1X21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCl9KSxmaWxsUGF0dGVybjp0PT4oe3VfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X2ltYWdlOm5ldyBlLlVuaWZvcm0xaSh0KSx1X3RleHNpemU6bmV3IGUuVW5pZm9ybTJmKHQpLHVfcGl4ZWxfY29vcmRfdXBwZXI6bmV3IGUuVW5pZm9ybTJmKHQpLHVfcGl4ZWxfY29vcmRfbG93ZXI6bmV3IGUuVW5pZm9ybTJmKHQpLHVfc2NhbGU6bmV3IGUuVW5pZm9ybTNmKHQpLHVfZmFkZTpuZXcgZS5Vbmlmb3JtMWYodCl9KSxmaWxsT3V0bGluZTp0PT4oe3VfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X3dvcmxkOm5ldyBlLlVuaWZvcm0yZih0KX0pLGZpbGxPdXRsaW5lUGF0dGVybjp0PT4oe3VfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X3dvcmxkOm5ldyBlLlVuaWZvcm0yZih0KSx1X2ltYWdlOm5ldyBlLlVuaWZvcm0xaSh0KSx1X3RleHNpemU6bmV3IGUuVW5pZm9ybTJmKHQpLHVfcGl4ZWxfY29vcmRfdXBwZXI6bmV3IGUuVW5pZm9ybTJmKHQpLHVfcGl4ZWxfY29vcmRfbG93ZXI6bmV3IGUuVW5pZm9ybTJmKHQpLHVfc2NhbGU6bmV3IGUuVW5pZm9ybTNmKHQpLHVfZmFkZTpuZXcgZS5Vbmlmb3JtMWYodCl9KSxjaXJjbGU6dD0+KHt1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2U6bmV3IGUuVW5pZm9ybTFmKHQpLHVfZXh0cnVkZV9zY2FsZTpuZXcgZS5Vbmlmb3JtTWF0cml4MmYodCksdV9kZXZpY2VfcGl4ZWxfcmF0aW86bmV3IGUuVW5pZm9ybTFmKHQpLHVfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X2ludl9yb3RfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X21lcmNfY2VudGVyOm5ldyBlLlVuaWZvcm0yZih0KSx1X3RpbGVfaWQ6bmV3IGUuVW5pZm9ybTNmKHQpLHVfem9vbV90cmFuc2l0aW9uOm5ldyBlLlVuaWZvcm0xZih0KSx1X3VwX2RpcjpuZXcgZS5Vbmlmb3JtM2YodCl9KSxjb2xsaXNpb25Cb3g6dD0+KHt1X21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlOm5ldyBlLlVuaWZvcm0xZih0KSx1X2V4dHJ1ZGVfc2NhbGU6bmV3IGUuVW5pZm9ybTJmKHQpfSksY29sbGlzaW9uQ2lyY2xlOnQ9Pih7dV9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpLHVfaW52X21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlOm5ldyBlLlVuaWZvcm0xZih0KSx1X3ZpZXdwb3J0X3NpemU6bmV3IGUuVW5pZm9ybTJmKHQpfSksZGVidWc6dD0+KHt1X2NvbG9yOm5ldyBlLlVuaWZvcm1Db2xvcih0KSx1X21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV9vdmVybGF5Om5ldyBlLlVuaWZvcm0xaSh0KSx1X292ZXJsYXlfc2NhbGU6bmV3IGUuVW5pZm9ybTFmKHQpfSksY2xpcHBpbmdNYXNrOnQ9Pih7dV9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpfSksaGVhdG1hcDp0PT4oe3VfZXh0cnVkZV9zY2FsZTpuZXcgZS5Vbmlmb3JtMWYodCksdV9pbnRlbnNpdHk6bmV3IGUuVW5pZm9ybTFmKHQpLHVfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X2ludl9yb3RfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X21lcmNfY2VudGVyOm5ldyBlLlVuaWZvcm0yZih0KSx1X3RpbGVfaWQ6bmV3IGUuVW5pZm9ybTNmKHQpLHVfem9vbV90cmFuc2l0aW9uOm5ldyBlLlVuaWZvcm0xZih0KSx1X3VwX2RpcjpuZXcgZS5Vbmlmb3JtM2YodCl9KSxoZWF0bWFwVGV4dHVyZTp0PT4oe3VfaW1hZ2U6bmV3IGUuVW5pZm9ybTFpKHQpLHVfY29sb3JfcmFtcDpuZXcgZS5Vbmlmb3JtMWkodCksdV9vcGFjaXR5Om5ldyBlLlVuaWZvcm0xZih0KX0pLGhpbGxzaGFkZTp0PT4oe3VfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X2ltYWdlOm5ldyBlLlVuaWZvcm0xaSh0KSx1X2xhdHJhbmdlOm5ldyBlLlVuaWZvcm0yZih0KSx1X2xpZ2h0Om5ldyBlLlVuaWZvcm0yZih0KSx1X3NoYWRvdzpuZXcgZS5Vbmlmb3JtQ29sb3IodCksdV9oaWdobGlnaHQ6bmV3IGUuVW5pZm9ybUNvbG9yKHQpLHVfYWNjZW50Om5ldyBlLlVuaWZvcm1Db2xvcih0KX0pLGhpbGxzaGFkZVByZXBhcmU6dD0+KHt1X21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV9pbWFnZTpuZXcgZS5Vbmlmb3JtMWkodCksdV9kaW1lbnNpb246bmV3IGUuVW5pZm9ybTJmKHQpLHVfem9vbTpuZXcgZS5Vbmlmb3JtMWYodCksdV91bnBhY2s6bmV3IGUuVW5pZm9ybTRmKHQpfSksbGluZTp0PT4oe3VfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X3BpeGVsc190b190aWxlX3VuaXRzOm5ldyBlLlVuaWZvcm1NYXRyaXgyZih0KSx1X2RldmljZV9waXhlbF9yYXRpbzpuZXcgZS5Vbmlmb3JtMWYodCksdV91bml0c190b19waXhlbHM6bmV3IGUuVW5pZm9ybTJmKHQpLHVfZGFzaF9pbWFnZTpuZXcgZS5Vbmlmb3JtMWkodCksdV9ncmFkaWVudF9pbWFnZTpuZXcgZS5Vbmlmb3JtMWkodCksdV9pbWFnZV9oZWlnaHQ6bmV3IGUuVW5pZm9ybTFmKHQpLHVfdGV4c2l6ZTpuZXcgZS5Vbmlmb3JtMmYodCksdV9zY2FsZTpuZXcgZS5Vbmlmb3JtM2YodCksdV9taXg6bmV3IGUuVW5pZm9ybTFmKHQpLHVfYWxwaGFfZGlzY2FyZF90aHJlc2hvbGQ6bmV3IGUuVW5pZm9ybTFmKHQpLHVfdHJpbV9vZmZzZXQ6bmV3IGUuVW5pZm9ybTJmKHQpfSksbGluZVBhdHRlcm46dD0+KHt1X21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV90ZXhzaXplOm5ldyBlLlVuaWZvcm0yZih0KSx1X3BpeGVsc190b190aWxlX3VuaXRzOm5ldyBlLlVuaWZvcm1NYXRyaXgyZih0KSx1X2RldmljZV9waXhlbF9yYXRpbzpuZXcgZS5Vbmlmb3JtMWYodCksdV9pbWFnZTpuZXcgZS5Vbmlmb3JtMWkodCksdV91bml0c190b19waXhlbHM6bmV3IGUuVW5pZm9ybTJmKHQpLHVfc2NhbGU6bmV3IGUuVW5pZm9ybTNmKHQpLHVfZmFkZTpuZXcgZS5Vbmlmb3JtMWYodCksdV9hbHBoYV9kaXNjYXJkX3RocmVzaG9sZDpuZXcgZS5Vbmlmb3JtMWYodCl9KSxyYXN0ZXI6dD0+KHt1X21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV90bF9wYXJlbnQ6bmV3IGUuVW5pZm9ybTJmKHQpLHVfc2NhbGVfcGFyZW50Om5ldyBlLlVuaWZvcm0xZih0KSx1X2ZhZGVfdDpuZXcgZS5Vbmlmb3JtMWYodCksdV9vcGFjaXR5Om5ldyBlLlVuaWZvcm0xZih0KSx1X2ltYWdlMDpuZXcgZS5Vbmlmb3JtMWkodCksdV9pbWFnZTE6bmV3IGUuVW5pZm9ybTFpKHQpLHVfYnJpZ2h0bmVzc19sb3c6bmV3IGUuVW5pZm9ybTFmKHQpLHVfYnJpZ2h0bmVzc19oaWdoOm5ldyBlLlVuaWZvcm0xZih0KSx1X3NhdHVyYXRpb25fZmFjdG9yOm5ldyBlLlVuaWZvcm0xZih0KSx1X2NvbnRyYXN0X2ZhY3RvcjpuZXcgZS5Vbmlmb3JtMWYodCksdV9zcGluX3dlaWdodHM6bmV3IGUuVW5pZm9ybTNmKHQpLHVfcGVyc3BlY3RpdmVfdHJhbnNmb3JtOm5ldyBlLlVuaWZvcm0yZih0KX0pLHN5bWJvbEljb246dD0+KHt1X2lzX3NpemVfem9vbV9jb25zdGFudDpuZXcgZS5Vbmlmb3JtMWkodCksdV9pc19zaXplX2ZlYXR1cmVfY29uc3RhbnQ6bmV3IGUuVW5pZm9ybTFpKHQpLHVfc2l6ZV90Om5ldyBlLlVuaWZvcm0xZih0KSx1X3NpemU6bmV3IGUuVW5pZm9ybTFmKHQpLHVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZTpuZXcgZS5Vbmlmb3JtMWYodCksdV9yb3RhdGVfc3ltYm9sOm5ldyBlLlVuaWZvcm0xaSh0KSx1X2FzcGVjdF9yYXRpbzpuZXcgZS5Vbmlmb3JtMWYodCksdV9mYWRlX2NoYW5nZTpuZXcgZS5Vbmlmb3JtMWYodCksdV9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpLHVfbGFiZWxfcGxhbmVfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X2Nvb3JkX21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV9pc190ZXh0Om5ldyBlLlVuaWZvcm0xaSh0KSx1X3BpdGNoX3dpdGhfbWFwOm5ldyBlLlVuaWZvcm0xaSh0KSx1X3RleHNpemU6bmV3IGUuVW5pZm9ybTJmKHQpLHVfdGlsZV9pZDpuZXcgZS5Vbmlmb3JtM2YodCksdV96b29tX3RyYW5zaXRpb246bmV3IGUuVW5pZm9ybTFmKHQpLHVfaW52X3JvdF9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpLHVfbWVyY19jZW50ZXI6bmV3IGUuVW5pZm9ybTJmKHQpLHVfY2FtZXJhX2ZvcndhcmQ6bmV3IGUuVW5pZm9ybTNmKHQpLHVfdGlsZV9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpLHVfdXBfdmVjdG9yOm5ldyBlLlVuaWZvcm0zZih0KSx1X2VjZWZfb3JpZ2luOm5ldyBlLlVuaWZvcm0zZih0KSx1X3RleHR1cmU6bmV3IGUuVW5pZm9ybTFpKHQpfSksc3ltYm9sU0RGOnQ9Pih7dV9pc19zaXplX3pvb21fY29uc3RhbnQ6bmV3IGUuVW5pZm9ybTFpKHQpLHVfaXNfc2l6ZV9mZWF0dXJlX2NvbnN0YW50Om5ldyBlLlVuaWZvcm0xaSh0KSx1X3NpemVfdDpuZXcgZS5Vbmlmb3JtMWYodCksdV9zaXplOm5ldyBlLlVuaWZvcm0xZih0KSx1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2U6bmV3IGUuVW5pZm9ybTFmKHQpLHVfcm90YXRlX3N5bWJvbDpuZXcgZS5Vbmlmb3JtMWkodCksdV9hc3BlY3RfcmF0aW86bmV3IGUuVW5pZm9ybTFmKHQpLHVfZmFkZV9jaGFuZ2U6bmV3IGUuVW5pZm9ybTFmKHQpLHVfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X2xhYmVsX3BsYW5lX21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV9jb29yZF9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpLHVfaXNfdGV4dDpuZXcgZS5Vbmlmb3JtMWkodCksdV9waXRjaF93aXRoX21hcDpuZXcgZS5Vbmlmb3JtMWkodCksdV90ZXhzaXplOm5ldyBlLlVuaWZvcm0yZih0KSx1X3RleHR1cmU6bmV3IGUuVW5pZm9ybTFpKHQpLHVfZ2FtbWFfc2NhbGU6bmV3IGUuVW5pZm9ybTFmKHQpLHVfZGV2aWNlX3BpeGVsX3JhdGlvOm5ldyBlLlVuaWZvcm0xZih0KSx1X3RpbGVfaWQ6bmV3IGUuVW5pZm9ybTNmKHQpLHVfem9vbV90cmFuc2l0aW9uOm5ldyBlLlVuaWZvcm0xZih0KSx1X2ludl9yb3RfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X21lcmNfY2VudGVyOm5ldyBlLlVuaWZvcm0yZih0KSx1X2NhbWVyYV9mb3J3YXJkOm5ldyBlLlVuaWZvcm0zZih0KSx1X3RpbGVfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X3VwX3ZlY3RvcjpuZXcgZS5Vbmlmb3JtM2YodCksdV9lY2VmX29yaWdpbjpuZXcgZS5Vbmlmb3JtM2YodCksdV9pc19oYWxvOm5ldyBlLlVuaWZvcm0xaSh0KX0pLHN5bWJvbFRleHRBbmRJY29uOnQ9Pih7dV9pc19zaXplX3pvb21fY29uc3RhbnQ6bmV3IGUuVW5pZm9ybTFpKHQpLHVfaXNfc2l6ZV9mZWF0dXJlX2NvbnN0YW50Om5ldyBlLlVuaWZvcm0xaSh0KSx1X3NpemVfdDpuZXcgZS5Vbmlmb3JtMWYodCksdV9zaXplOm5ldyBlLlVuaWZvcm0xZih0KSx1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2U6bmV3IGUuVW5pZm9ybTFmKHQpLHVfcm90YXRlX3N5bWJvbDpuZXcgZS5Vbmlmb3JtMWkodCksdV9hc3BlY3RfcmF0aW86bmV3IGUuVW5pZm9ybTFmKHQpLHVfZmFkZV9jaGFuZ2U6bmV3IGUuVW5pZm9ybTFmKHQpLHVfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X2xhYmVsX3BsYW5lX21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV9jb29yZF9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpLHVfaXNfdGV4dDpuZXcgZS5Vbmlmb3JtMWkodCksdV9waXRjaF93aXRoX21hcDpuZXcgZS5Vbmlmb3JtMWkodCksdV90ZXhzaXplOm5ldyBlLlVuaWZvcm0yZih0KSx1X3RleHNpemVfaWNvbjpuZXcgZS5Vbmlmb3JtMmYodCksdV90ZXh0dXJlOm5ldyBlLlVuaWZvcm0xaSh0KSx1X3RleHR1cmVfaWNvbjpuZXcgZS5Vbmlmb3JtMWkodCksdV9nYW1tYV9zY2FsZTpuZXcgZS5Vbmlmb3JtMWYodCksdV9kZXZpY2VfcGl4ZWxfcmF0aW86bmV3IGUuVW5pZm9ybTFmKHQpLHVfaXNfaGFsbzpuZXcgZS5Vbmlmb3JtMWkodCl9KSxiYWNrZ3JvdW5kOnQ9Pih7dV9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpLHVfb3BhY2l0eTpuZXcgZS5Vbmlmb3JtMWYodCksdV9jb2xvcjpuZXcgZS5Vbmlmb3JtQ29sb3IodCl9KSxiYWNrZ3JvdW5kUGF0dGVybjp0PT4oe3VfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X29wYWNpdHk6bmV3IGUuVW5pZm9ybTFmKHQpLHVfaW1hZ2U6bmV3IGUuVW5pZm9ybTFpKHQpLHVfcGF0dGVybl90bF9hOm5ldyBlLlVuaWZvcm0yZih0KSx1X3BhdHRlcm5fYnJfYTpuZXcgZS5Vbmlmb3JtMmYodCksdV9wYXR0ZXJuX3RsX2I6bmV3IGUuVW5pZm9ybTJmKHQpLHVfcGF0dGVybl9icl9iOm5ldyBlLlVuaWZvcm0yZih0KSx1X3RleHNpemU6bmV3IGUuVW5pZm9ybTJmKHQpLHVfbWl4Om5ldyBlLlVuaWZvcm0xZih0KSx1X3BhdHRlcm5fc2l6ZV9hOm5ldyBlLlVuaWZvcm0yZih0KSx1X3BhdHRlcm5fc2l6ZV9iOm5ldyBlLlVuaWZvcm0yZih0KSx1X3NjYWxlX2E6bmV3IGUuVW5pZm9ybTFmKHQpLHVfc2NhbGVfYjpuZXcgZS5Vbmlmb3JtMWYodCksdV9waXhlbF9jb29yZF91cHBlcjpuZXcgZS5Vbmlmb3JtMmYodCksdV9waXhlbF9jb29yZF9sb3dlcjpuZXcgZS5Vbmlmb3JtMmYodCksdV90aWxlX3VuaXRzX3RvX3BpeGVsczpuZXcgZS5Vbmlmb3JtMWYodCl9KSx0ZXJyYWluUmFzdGVyOnlpLHRlcnJhaW5EZXB0aDp5aSxza3lib3g6dD0+KHt1X21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV9zdW5fZGlyZWN0aW9uOm5ldyBlLlVuaWZvcm0zZih0KSx1X2N1YmVtYXA6bmV3IGUuVW5pZm9ybTFpKHQpLHVfb3BhY2l0eTpuZXcgZS5Vbmlmb3JtMWYodCksdV90ZW1wb3JhbF9vZmZzZXQ6bmV3IGUuVW5pZm9ybTFmKHQpfSksc2t5Ym94R3JhZGllbnQ6dD0+KHt1X21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV9jb2xvcl9yYW1wOm5ldyBlLlVuaWZvcm0xaSh0KSx1X2NlbnRlcl9kaXJlY3Rpb246bmV3IGUuVW5pZm9ybTNmKHQpLHVfcmFkaXVzOm5ldyBlLlVuaWZvcm0xZih0KSx1X29wYWNpdHk6bmV3IGUuVW5pZm9ybTFmKHQpLHVfdGVtcG9yYWxfb2Zmc2V0Om5ldyBlLlVuaWZvcm0xZih0KX0pLHNreWJveENhcHR1cmU6dD0+KHt1X21hdHJpeF8zZjpuZXcgZS5Vbmlmb3JtTWF0cml4M2YodCksdV9zdW5fZGlyZWN0aW9uOm5ldyBlLlVuaWZvcm0zZih0KSx1X3N1bl9pbnRlbnNpdHk6bmV3IGUuVW5pZm9ybTFmKHQpLHVfY29sb3JfdGludF9yOm5ldyBlLlVuaWZvcm00Zih0KSx1X2NvbG9yX3RpbnRfbTpuZXcgZS5Vbmlmb3JtNGYodCksdV9sdW1pbmFuY2U6bmV3IGUuVW5pZm9ybTFmKHQpfSksZ2xvYmVSYXN0ZXI6dD0+KHt1X3Byb2pfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X2dsb2JlX21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV9ub3JtYWxpemVfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X21lcmNfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X3pvb21fdHJhbnNpdGlvbjpuZXcgZS5Vbmlmb3JtMWYodCksdV9tZXJjX2NlbnRlcjpuZXcgZS5Vbmlmb3JtMmYodCksdV9pbWFnZTA6bmV3IGUuVW5pZm9ybTFpKHQpLHVfZ3JpZF9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDNmKHQpLHVfZnJ1c3R1bV90bDpuZXcgZS5Vbmlmb3JtM2YodCksdV9mcnVzdHVtX3RyOm5ldyBlLlVuaWZvcm0zZih0KSx1X2ZydXN0dW1fYnI6bmV3IGUuVW5pZm9ybTNmKHQpLHVfZnJ1c3R1bV9ibDpuZXcgZS5Vbmlmb3JtM2YodCksdV9nbG9iZV9wb3M6bmV3IGUuVW5pZm9ybTNmKHQpLHVfZ2xvYmVfcmFkaXVzOm5ldyBlLlVuaWZvcm0xZih0KSx1X3ZpZXdwb3J0Om5ldyBlLlVuaWZvcm0yZih0KX0pLGdsb2JlQXRtb3NwaGVyZTp0PT4oe3VfZnJ1c3R1bV90bDpuZXcgZS5Vbmlmb3JtM2YodCksdV9mcnVzdHVtX3RyOm5ldyBlLlVuaWZvcm0zZih0KSx1X2ZydXN0dW1fYnI6bmV3IGUuVW5pZm9ybTNmKHQpLHVfZnJ1c3R1bV9ibDpuZXcgZS5Vbmlmb3JtM2YodCksdV9ob3Jpem9uOm5ldyBlLlVuaWZvcm0xZih0KSx1X3RyYW5zaXRpb246bmV3IGUuVW5pZm9ybTFmKHQpLHVfZmFkZW91dF9yYW5nZTpuZXcgZS5Vbmlmb3JtMWYodCksdV9jb2xvcjpuZXcgZS5Vbmlmb3JtNGYodCksdV9oaWdoX2NvbG9yOm5ldyBlLlVuaWZvcm00Zih0KSx1X3NwYWNlX2NvbG9yOm5ldyBlLlVuaWZvcm00Zih0KSx1X3N0YXJfaW50ZW5zaXR5Om5ldyBlLlVuaWZvcm0xZih0KSx1X3N0YXJfZGVuc2l0eTpuZXcgZS5Vbmlmb3JtMWYodCksdV9zdGFyX3NpemU6bmV3IGUuVW5pZm9ybTFmKHQpLHVfdGVtcG9yYWxfb2Zmc2V0Om5ldyBlLlVuaWZvcm0xZih0KSx1X2hvcml6b25fYW5nbGU6bmV3IGUuVW5pZm9ybTFmKHQpLHVfcm90YXRpb25fbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KX0pfTtsZXQgY287ZnVuY3Rpb24gaG8odCxpLG8scixuLGEscyl7Y29uc3QgbD10LmNvbnRleHQsYz1sLmdsLGg9dC50cmFuc2Zvcm0sdT10LnVzZVByb2dyYW0oXCJjb2xsaXNpb25Cb3hcIiksXz1bXTtsZXQgZD0wLHA9MDtmb3IobGV0IG09MDttPHIubGVuZ3RoO20rKyl7Y29uc3QgZj1yW21dLGc9aS5nZXRUaWxlKGYpLHY9Zy5nZXRCdWNrZXQobyk7aWYoIXYpY29udGludWU7Y29uc3QgeD1idChmLHYsaCk7bGV0IHk9eDswPT09blswXSYmMD09PW5bMV18fCh5PXQudHJhbnNsYXRlUG9zTWF0cml4KHgsZyxuLGEpKTtjb25zdCBiPXM/di50ZXh0Q29sbGlzaW9uQm94OnYuaWNvbkNvbGxpc2lvbkJveCx3PXYuY29sbGlzaW9uQ2lyY2xlQXJyYXk7aWYody5sZW5ndGg+MCl7Y29uc3QgdD1lLmNyZWF0ZSgpLGk9eTtlLm11bCh0LHYucGxhY2VtZW50SW52UHJvak1hdHJpeCxoLmdsQ29vcmRNYXRyaXgpLGUubXVsKHQsdCx2LnBsYWNlbWVudFZpZXdwb3J0TWF0cml4KSxfLnB1c2goe2NpcmNsZUFycmF5OncsY2lyY2xlT2Zmc2V0OnAsdHJhbnNmb3JtOmksaW52VHJhbnNmb3JtOnQscHJvamVjdGlvbjp2LmdldFByb2plY3Rpb24oKX0pLGQrPXcubGVuZ3RoLzQscD1kO31iJiYodC50ZXJyYWluJiZ0LnRlcnJhaW4uc2V0dXBFbGV2YXRpb25EcmF3KGcsdSksdS5kcmF3KGwsYy5MSU5FUyxlLkRlcHRoTW9kZS5kaXNhYmxlZCxlLlN0ZW5jaWxNb2RlLmRpc2FibGVkLHQuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpLGUuQ3VsbEZhY2VNb2RlLmRpc2FibGVkLFdpKHksaCxnLHYuZ2V0UHJvamVjdGlvbigpKSxvLmlkLGIubGF5b3V0VmVydGV4QnVmZmVyLGIuaW5kZXhCdWZmZXIsYi5zZWdtZW50cyxudWxsLGguem9vbSxudWxsLFtiLmNvbGxpc2lvblZlcnRleEJ1ZmZlcixiLmNvbGxpc2lvblZlcnRleEJ1ZmZlckV4dF0pKTt9aWYoIXN8fCFfLmxlbmd0aClyZXR1cm47Y29uc3QgbT10LnVzZVByb2dyYW0oXCJjb2xsaXNpb25DaXJjbGVcIiksZj1uZXcgZS5TdHJ1Y3RBcnJheUxheW91dDJmMWYyaTE2O2YucmVzaXplKDQqZCksZi5fdHJpbSgpO2xldCBnPTA7Zm9yKGNvbnN0IGUgb2YgXylmb3IobGV0IHQ9MDt0PGUuY2lyY2xlQXJyYXkubGVuZ3RoLzQ7dCsrKXtjb25zdCBpPTQqdCxvPWUuY2lyY2xlQXJyYXlbaSswXSxyPWUuY2lyY2xlQXJyYXlbaSsxXSxuPWUuY2lyY2xlQXJyYXlbaSsyXSxhPWUuY2lyY2xlQXJyYXlbaSszXTtmLmVtcGxhY2UoZysrLG8scixuLGEsMCksZi5lbXBsYWNlKGcrKyxvLHIsbixhLDEpLGYuZW1wbGFjZShnKyssbyxyLG4sYSwyKSxmLmVtcGxhY2UoZysrLG8scixuLGEsMyk7fSghY298fGNvLmxlbmd0aDwyKmQpJiYoY289ZnVuY3Rpb24odCl7Y29uc3QgaT0yKnQsbz1uZXcgZS5TdHJ1Y3RBcnJheUxheW91dDN1aTY7by5yZXNpemUoaSksby5fdHJpbSgpO2ZvcihsZXQgZT0wO2U8aTtlKyspe2NvbnN0IHQ9NiplO28udWludDE2W3QrMF09NCplKzAsby51aW50MTZbdCsxXT00KmUrMSxvLnVpbnQxNlt0KzJdPTQqZSsyLG8udWludDE2W3QrM109NCplKzIsby51aW50MTZbdCs0XT00KmUrMyxvLnVpbnQxNlt0KzVdPTQqZSswO31yZXR1cm4gb30oZCkpO2NvbnN0IHY9bC5jcmVhdGVJbmRleEJ1ZmZlcihjbywhMCkseD1sLmNyZWF0ZVZlcnRleEJ1ZmZlcihmLGUuY29sbGlzaW9uQ2lyY2xlTGF5b3V0Lm1lbWJlcnMsITApO2Zvcihjb25zdCBpIG9mIF8pe2NvbnN0IHI9e3VfbWF0cml4OmkudHJhbnNmb3JtLHVfaW52X21hdHJpeDppLmludlRyYW5zZm9ybSx1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2U6KHk9aCkuZ2V0Q2FtZXJhVG9DZW50ZXJEaXN0YW5jZShpLnByb2plY3Rpb24pLHVfdmlld3BvcnRfc2l6ZTpbeS53aWR0aCx5LmhlaWdodF19O20uZHJhdyhsLGMuVFJJQU5HTEVTLGUuRGVwdGhNb2RlLmRpc2FibGVkLGUuU3RlbmNpbE1vZGUuZGlzYWJsZWQsdC5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCksZS5DdWxsRmFjZU1vZGUuZGlzYWJsZWQscixvLmlkLHgsdixlLlNlZ21lbnRWZWN0b3Iuc2ltcGxlU2VnbWVudCgwLDIqaS5jaXJjbGVPZmZzZXQsaS5jaXJjbGVBcnJheS5sZW5ndGgsaS5jaXJjbGVBcnJheS5sZW5ndGgvMiksbnVsbCxoLnpvb20pO312YXIgeTt4LmRlc3Ryb3koKSx2LmRlc3Ryb3koKTt9Y29uc3QgdW89ZS5jcmVhdGUoKTtmdW5jdGlvbiBfbyh0LGksbyxyLG4sYSl7Y29uc3R7aG9yaXpvbnRhbEFsaWduOnMsdmVydGljYWxBbGlnbjpsfT1lLmdldEFuY2hvckFsaWdubWVudCh0KSxjPS0ocy0uNSkqaSxoPS0obC0uNSkqbyx1PWUuZXZhbHVhdGVWYXJpYWJsZU9mZnNldCh0LHIpO3JldHVybiBuZXcgZS5wb2ludEdlb21ldHJ5KChjL24rdVswXSkqYSwoaC9uK3VbMV0pKmEpfWZ1bmN0aW9uIHBvKHQsaSxvLHIsbixhLHMsbCxjLGgsdSl7Y29uc3QgXz10LnRleHQucGxhY2VkU3ltYm9sQXJyYXksZD10LnRleHQuZHluYW1pY0xheW91dFZlcnRleEFycmF5LHA9dC5pY29uLmR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheSxtPXt9LGY9d3QobCx0LmdldFByb2plY3Rpb24oKSxhKSxnPWEuZWxldmF0aW9uLHY9dC5nZXRQcm9qZWN0aW9uKCkudXBWZWN0b3JTY2FsZShsLmNhbm9uaWNhbCxhLmNlbnRlci5sYXQsYS53b3JsZFNpemUpO2QuY2xlYXIoKTtmb3IobGV0IHA9MDtwPF8ubGVuZ3RoO3ArKyl7Y29uc3QgeD1fLmdldChwKSx5PXQuYWxsb3dWZXJ0aWNhbFBsYWNlbWVudCYmIXgucGxhY2VkT3JpZW50YXRpb24sYj14LmhpZGRlbnx8IXguY3Jvc3NUaWxlSUR8fHk/bnVsbDpyW3guY3Jvc3NUaWxlSURdO2lmKGIpe2NvbnN0IHI9bmV3IGUucG9pbnRHZW9tZXRyeSh4LnRpbGVBbmNob3JYLHgudGlsZUFuY2hvclkpLF89dC5nZXRQcm9qZWN0aW9uKCkudXBWZWN0b3IobC5jYW5vbmljYWwsci54LHIueSkscD1nP2cuZ2V0QXRUaWxlT2Zmc2V0KGwsci54LHIueSk6MCx5PW50KFt4LnByb2plY3RlZEFuY2hvclgrcCpfWzBdKnYubWV0ZXJzVG9UaWxlLHgucHJvamVjdGVkQW5jaG9yWStwKl9bMV0qdi5tZXRlcnNUb1RpbGUseC5wcm9qZWN0ZWRBbmNob3JaK3AqX1syXSp2Lm1ldGVyc1RvVGlsZV0sbz9mOnMpLHc9YXQoYS5nZXRDYW1lcmFUb0NlbnRlckRpc3RhbmNlKHQuZ2V0UHJvamVjdGlvbigpKSx5LnNpZ25lZERpc3RhbmNlRnJvbUNhbWVyYSk7bGV0IFQ9bi5ldmFsdWF0ZVNpemVGb3JGZWF0dXJlKHQudGV4dFNpemVEYXRhLGgseCkqdy9lLk9ORV9FTTtvJiYoVCo9dC50aWxlUGl4ZWxSYXRpby9jKTtjb25zdHt3aWR0aDpFLGhlaWdodDpDLGFuY2hvcjpJLHRleHRPZmZzZXQ6TSx0ZXh0U2NhbGU6U309Yix6PV9vKEksRSxDLE0sUyxUKTtsZXQgRDtpZihvKXtjb25zdCBlPXIuYWRkKHopLHt4OmkseTpvLHo6bn09dC5nZXRQcm9qZWN0aW9uKCkucHJvamVjdFRpbGVQb2ludChlLngsZS55LGwuY2Fub25pY2FsKTtEPW50KFtpK3AqX1swXSp2Lm1ldGVyc1RvVGlsZSxvK3AqX1sxXSp2Lm1ldGVyc1RvVGlsZSxuK3AqX1syXSp2Lm1ldGVyc1RvVGlsZV0scykucG9pbnQ7fWVsc2Uge2NvbnN0IGU9aT96LnJvdGF0ZSgtYS5hbmdsZSk6ejtEPVt5LnBvaW50WzBdK2UueCx5LnBvaW50WzFdK2UueSwwXTt9Y29uc3QgUD10LmFsbG93VmVydGljYWxQbGFjZW1lbnQmJngucGxhY2VkT3JpZW50YXRpb249PT1lLldyaXRpbmdNb2RlLnZlcnRpY2FsP01hdGguUEkvMjowO2ZvcihsZXQgdD0wO3Q8eC5udW1HbHlwaHM7dCsrKWUuYWRkRHluYW1pY0F0dHJpYnV0ZXMoZCxEWzBdLERbMV0sRFsyXSxQKTt1JiZ4LmFzc29jaWF0ZWRJY29uSW5kZXg+PTAmJihtW3guYXNzb2NpYXRlZEljb25JbmRleF09e3NoaWZ0ZWRBbmNob3I6RCxhbmdsZTpQfSk7fWVsc2UgZnQoeC5udW1HbHlwaHMsZCk7fWlmKHUpe3AuY2xlYXIoKTtjb25zdCBpPXQuaWNvbi5wbGFjZWRTeW1ib2xBcnJheTtmb3IobGV0IHQ9MDt0PGkubGVuZ3RoO3QrKyl7Y29uc3Qgbz1pLmdldCh0KTtpZihvLmhpZGRlbilmdChvLm51bUdseXBocyxwKTtlbHNlIHtjb25zdCBpPW1bdF07aWYoaSlmb3IobGV0IHQ9MDt0PG8ubnVtR2x5cGhzO3QrKyllLmFkZER5bmFtaWNBdHRyaWJ1dGVzKHAsaS5zaGlmdGVkQW5jaG9yWzBdLGkuc2hpZnRlZEFuY2hvclsxXSxpLnNoaWZ0ZWRBbmNob3JbMl0saS5hbmdsZSk7ZWxzZSBmdChvLm51bUdseXBocyxwKTt9fXQuaWNvbi5keW5hbWljTGF5b3V0VmVydGV4QnVmZmVyLnVwZGF0ZURhdGEocCk7fXQudGV4dC5keW5hbWljTGF5b3V0VmVydGV4QnVmZmVyLnVwZGF0ZURhdGEoZCk7fWZ1bmN0aW9uIG1vKGUsdCxpKXtyZXR1cm4gaS5pY29uc0luVGV4dCYmdD9cInN5bWJvbFRleHRBbmRJY29uXCI6ZT9cInN5bWJvbFNERlwiOlwic3ltYm9sSWNvblwifWZ1bmN0aW9uIGZvKHQsaSxvLHIsbixhLHMsbCxjLGgsdSxfKXtjb25zdCBkPXQuY29udGV4dCxwPWQuZ2wsbT10LnRyYW5zZm9ybSxmPVwibWFwXCI9PT1sLGc9XCJtYXBcIj09PWMsdj1mJiZcInBvaW50XCIhPT1vLmxheW91dC5nZXQoXCJzeW1ib2wtcGxhY2VtZW50XCIpLHg9ZiYmIWcmJiF2LHk9dm9pZCAwIT09by5sYXlvdXQuZ2V0KFwic3ltYm9sLXNvcnQta2V5XCIpLmNvbnN0YW50T3IoMSk7bGV0IGI9ITE7Y29uc3Qgdz10LmRlcHRoTW9kZUZvclN1YmxheWVyKDAsZS5EZXB0aE1vZGUuUmVhZE9ubHkpLFQ9W2UubWVyY2F0b3JYZnJvbUxuZyhtLmNlbnRlci5sbmcpLGUubWVyY2F0b3JZZnJvbUxhdChtLmNlbnRlci5sYXQpXSxFPW8ubGF5b3V0LmdldChcInRleHQtdmFyaWFibGUtYW5jaG9yXCIpLEM9XCJnbG9iZVwiPT09bS5wcm9qZWN0aW9uLm5hbWUsST1bXSxNPVswLC0xLDBdO2xldCBTPU07IUMmJiFtLm1lcmNhdG9yRnJvbVRyYW5zaXRpb258fGZ8fChTPWZ1bmN0aW9uKHQpe2NvbnN0IGk9dC5fY2FtZXJhLmdldFdvcmxkVG9DYW1lcmEodC53b3JsZFNpemUsMSksbz1lLm11bHRpcGx5KFtdLGksdC5nbG9iZU1hdHJpeCk7ZS5pbnZlcnQobyxvKTtjb25zdCByPVswLDAsMF0sbj1bMCwxLDAsMF07cmV0dXJuIGUudHJhbnNmb3JtTWF0NCQxKG4sbixvKSxyWzBdPW5bMF0sclsxXT1uWzFdLHJbMl09blsyXSxlLm5vcm1hbGl6ZShyLHIpLHJ9KG0pKTtmb3IoY29uc3QgbCBvZiByKXtjb25zdCByPWkuZ2V0VGlsZShsKSxjPXIuZ2V0QnVja2V0KG8pO2lmKCFjKWNvbnRpbnVlO2lmKFwibWVyY2F0b3JcIj09PWMucHJvamVjdGlvbi5uYW1lJiZDKWNvbnRpbnVlO2NvbnN0IHU9bj9jLnRleHQ6Yy5pY29uO2lmKCF1fHxjLmZ1bGx5Q2xpcHBlZHx8IXUuc2VnbWVudHMuZ2V0KCkubGVuZ3RoKWNvbnRpbnVlO2NvbnN0IF89dS5wcm9ncmFtQ29uZmlndXJhdGlvbnMuZ2V0KG8uaWQpLGQ9bnx8Yy5zZGZJY29ucyx3PW4/Yy50ZXh0U2l6ZURhdGE6Yy5pY29uU2l6ZURhdGEsej1nfHwwIT09bS5waXRjaCxEPWUuZXZhbHVhdGVTaXplRm9yWm9vbSh3LG0uem9vbSk7bGV0IFAsQSxMLFIsTz1bMCwwXSxCPW51bGw7aWYobil7aWYoQT1yLmdseXBoQXRsYXNUZXh0dXJlLEw9cC5MSU5FQVIsUD1yLmdseXBoQXRsYXNUZXh0dXJlLnNpemUsYy5pY29uc0luVGV4dCl7Tz1yLmltYWdlQXRsYXNUZXh0dXJlLnNpemUsQj1yLmltYWdlQXRsYXNUZXh0dXJlO2NvbnN0IGU9XCJjb21wb3NpdGVcIj09PXcua2luZHx8XCJjYW1lcmFcIj09PXcua2luZDtSPXp8fHQub3B0aW9ucy5yb3RhdGluZ3x8dC5vcHRpb25zLnpvb21pbmd8fGU/cC5MSU5FQVI6cC5ORUFSRVNUO319ZWxzZSB7Y29uc3QgZT0xIT09by5sYXlvdXQuZ2V0KFwiaWNvbi1zaXplXCIpLmNvbnN0YW50T3IoMCl8fGMuaWNvbnNOZWVkTGluZWFyO0E9ci5pbWFnZUF0bGFzVGV4dHVyZSxMPWR8fHQub3B0aW9ucy5yb3RhdGluZ3x8dC5vcHRpb25zLnpvb21pbmd8fGV8fHo/cC5MSU5FQVI6cC5ORUFSRVNULFA9ci5pbWFnZUF0bGFzVGV4dHVyZS5zaXplO31jb25zdCBrPVwiZ2xvYmVcIj09PWMucHJvamVjdGlvbi5uYW1lLEY9az9TOk0sVT1rP2UuZ2xvYmVUb01lcmNhdG9yVHJhbnNpdGlvbihtLnpvb20pOjAsTj13dChsLGMuZ2V0UHJvamVjdGlvbigpLG0pLEc9bS5jYWxjdWxhdGVQaXhlbHNUb1RpbGVVbml0c01hdHJpeChyKSxqPXR0KE4sci50aWxlSUQuY2Fub25pY2FsLGcsZixtLGMuZ2V0UHJvamVjdGlvbigpLEcpLFo9dC50ZXJyYWluJiZnJiZ2P2UuaW52ZXJ0KGUuY3JlYXRlKCksaik6dW8sVj1vdChOLHIudGlsZUlELmNhbm9uaWNhbCxnLGYsbSxjLmdldFByb2plY3Rpb24oKSxHKSxXPUUmJmMuaGFzVGV4dERhdGEoKSxYPVwibm9uZVwiIT09by5sYXlvdXQuZ2V0KFwiaWNvbi10ZXh0LWZpdFwiKSYmVyYmYy5oYXNJY29uRGF0YSgpO2lmKHYpe2NvbnN0IGU9bS5lbGV2YXRpb24saT1lP2UuZ2V0QXRUaWxlT2Zmc2V0RnVuYyhsLG0uY2VudGVyLmxhdCxtLndvcmxkU2l6ZSxjLmdldFByb2plY3Rpb24oKSk6ZT0+WzAsMCwwXSxvPWl0KE4sci50aWxlSUQuY2Fub25pY2FsLGcsZixtLGMuZ2V0UHJvamVjdGlvbigpLEcpO2x0KGMsTix0LG4sbyxWLGcsaCxpLGwpO31jb25zdCBxPXZ8fG4mJkV8fFgsJD10LnRyYW5zbGF0ZVBvc01hdHJpeChOLHIsYSxzKSxIPXE/dW86aixZPXQudHJhbnNsYXRlUG9zTWF0cml4KFYscixhLHMsITApLEs9Yy5nZXRQcm9qZWN0aW9uKCkuY3JlYXRlSW52ZXJzaW9uTWF0cml4KG0sbC5jYW5vbmljYWwpLEo9W107dC50ZXJyYWluJiZnJiZKLnB1c2goXCJQSVRDSF9XSVRIX01BUF9URVJSQUlOXCIpLGsmJkoucHVzaChcIlBST0pFQ1RJT05fR0xPQkVfVklFV1wiKSxxJiZKLnB1c2goXCJQUk9KRUNURURfUE9TX09OX1ZJRVdQT1JUXCIpO2NvbnN0IFE9ZCYmMCE9PW8ucGFpbnQuZ2V0KG4/XCJ0ZXh0LWhhbG8td2lkdGhcIjpcImljb24taGFsby13aWR0aFwiKS5jb25zdGFudE9yKDEpO2xldCBlZTtlZT1kP2MuaWNvbnNJblRleHQ/bm8ody5raW5kLEQseCxnLHQsJCxILFksUCxPLGwsVSxULEssRixjLmdldFByb2plY3Rpb24oKSk6cm8ody5raW5kLEQseCxnLHQsJCxILFksbixQLCEwLGwsVSxULEssRixjLmdldFByb2plY3Rpb24oKSk6b28ody5raW5kLEQseCxnLHQsJCxILFksbixQLGwsVSxULEssRixjLmdldFByb2plY3Rpb24oKSk7Y29uc3QgdGU9e3Byb2dyYW06dC51c2VQcm9ncmFtKG1vKGQsbixjKSxfLEopLGJ1ZmZlcnM6dSx1bmlmb3JtVmFsdWVzOmVlLGF0bGFzVGV4dHVyZTpBLGF0bGFzVGV4dHVyZUljb246QixhdGxhc0ludGVycG9sYXRpb246TCxhdGxhc0ludGVycG9sYXRpb25JY29uOlIsaXNTREY6ZCxoYXNIYWxvOlEsdGlsZTpyLGxhYmVsUGxhbmVNYXRyaXhJbnY6Wn07aWYoeSYmYy5jYW5PdmVybGFwKXtiPSEwO2NvbnN0IHQ9dS5zZWdtZW50cy5nZXQoKTtmb3IoY29uc3QgaSBvZiB0KUkucHVzaCh7c2VnbWVudHM6bmV3IGUuU2VnbWVudFZlY3RvcihbaV0pLHNvcnRLZXk6aS5zb3J0S2V5LHN0YXRlOnRlfSk7fWVsc2UgSS5wdXNoKHtzZWdtZW50czp1LnNlZ21lbnRzLHNvcnRLZXk6MCxzdGF0ZTp0ZX0pO31iJiZJLnNvcnQoKChlLHQpPT5lLnNvcnRLZXktdC5zb3J0S2V5KSk7Zm9yKGNvbnN0IGUgb2YgSSl7Y29uc3QgaT1lLnN0YXRlO2lmKHQudGVycmFpbiYmdC50ZXJyYWluLnNldHVwRWxldmF0aW9uRHJhdyhpLnRpbGUsaS5wcm9ncmFtLHt1c2VEZXB0aEZvck9jY2x1c2lvbjohQyxsYWJlbFBsYW5lTWF0cml4SW52OmkubGFiZWxQbGFuZU1hdHJpeEludn0pLGQuYWN0aXZlVGV4dHVyZS5zZXQocC5URVhUVVJFMCksaS5hdGxhc1RleHR1cmUuYmluZChpLmF0bGFzSW50ZXJwb2xhdGlvbixwLkNMQU1QX1RPX0VER0UpLGkuYXRsYXNUZXh0dXJlSWNvbiYmKGQuYWN0aXZlVGV4dHVyZS5zZXQocC5URVhUVVJFMSksaS5hdGxhc1RleHR1cmVJY29uJiZpLmF0bGFzVGV4dHVyZUljb24uYmluZChpLmF0bGFzSW50ZXJwb2xhdGlvbkljb24scC5DTEFNUF9UT19FREdFKSksaS5pc1NERil7Y29uc3Qgcj1pLnVuaWZvcm1WYWx1ZXM7aS5oYXNIYWxvJiYoci51X2lzX2hhbG89MSxnbyhpLmJ1ZmZlcnMsZS5zZWdtZW50cyxvLHQsaS5wcm9ncmFtLHcsdSxfLHIpKSxyLnVfaXNfaGFsbz0wO31nbyhpLmJ1ZmZlcnMsZS5zZWdtZW50cyxvLHQsaS5wcm9ncmFtLHcsdSxfLGkudW5pZm9ybVZhbHVlcyk7fX1mdW5jdGlvbiBnbyh0LGksbyxyLG4sYSxzLGwsYyl7Y29uc3QgaD1yLmNvbnRleHQsdT1bdC5keW5hbWljTGF5b3V0VmVydGV4QnVmZmVyLHQub3BhY2l0eVZlcnRleEJ1ZmZlcix0Lmdsb2JlRXh0VmVydGV4QnVmZmVyXTtuLmRyYXcoaCxoLmdsLlRSSUFOR0xFUyxhLHMsbCxlLkN1bGxGYWNlTW9kZS5kaXNhYmxlZCxjLG8uaWQsdC5sYXlvdXRWZXJ0ZXhCdWZmZXIsdC5pbmRleEJ1ZmZlcixpLG8ucGFpbnQsci50cmFuc2Zvcm0uem9vbSx0LnByb2dyYW1Db25maWd1cmF0aW9ucy5nZXQoby5pZCksdSk7fWZ1bmN0aW9uIHZvKHQsaSxvLHIsbixhLHMpe2NvbnN0IGw9dC5jb250ZXh0LmdsLGM9by5wYWludC5nZXQoXCJmaWxsLXBhdHRlcm5cIiksaD1jJiZjLmNvbnN0YW50T3IoMSksdT1vLmdldENyb3NzZmFkZVBhcmFtZXRlcnMoKTtsZXQgXyxkLHAsbSxmO3M/KGQ9aCYmIW8uZ2V0UGFpbnRQcm9wZXJ0eShcImZpbGwtb3V0bGluZS1jb2xvclwiKT9cImZpbGxPdXRsaW5lUGF0dGVyblwiOlwiZmlsbE91dGxpbmVcIixfPWwuTElORVMpOihkPWg/XCJmaWxsUGF0dGVyblwiOlwiZmlsbFwiLF89bC5UUklBTkdMRVMpO2Zvcihjb25zdCBnIG9mIHIpe2NvbnN0IHI9aS5nZXRUaWxlKGcpO2lmKGgmJiFyLnBhdHRlcm5zTG9hZGVkKCkpY29udGludWU7Y29uc3Qgdj1yLmdldEJ1Y2tldChvKTtpZighdiljb250aW51ZTt0LnByZXBhcmVEcmF3VGlsZSgpO2NvbnN0IHg9di5wcm9ncmFtQ29uZmlndXJhdGlvbnMuZ2V0KG8uaWQpLHk9dC51c2VQcm9ncmFtKGQseCk7aCYmKHQuY29udGV4dC5hY3RpdmVUZXh0dXJlLnNldChsLlRFWFRVUkUwKSxyLmltYWdlQXRsYXNUZXh0dXJlLmJpbmQobC5MSU5FQVIsbC5DTEFNUF9UT19FREdFKSx4LnVwZGF0ZVBhaW50QnVmZmVycyh1KSk7Y29uc3QgYj1jLmNvbnN0YW50T3IobnVsbCk7aWYoYiYmci5pbWFnZUF0bGFzKXtjb25zdCBlPXIuaW1hZ2VBdGxhcyx0PWUucGF0dGVyblBvc2l0aW9uc1tiLnRvLnRvU3RyaW5nKCldLGk9ZS5wYXR0ZXJuUG9zaXRpb25zW2IuZnJvbS50b1N0cmluZygpXTt0JiZpJiZ4LnNldENvbnN0YW50UGF0dGVyblBvc2l0aW9ucyh0LGkpO31jb25zdCB3PXQudHJhbnNsYXRlUG9zTWF0cml4KGcucHJvak1hdHJpeCxyLG8ucGFpbnQuZ2V0KFwiZmlsbC10cmFuc2xhdGVcIiksby5wYWludC5nZXQoXCJmaWxsLXRyYW5zbGF0ZS1hbmNob3JcIikpO2lmKHMpe209di5pbmRleEJ1ZmZlcjIsZj12LnNlZ21lbnRzMjtjb25zdCBlPXQudGVycmFpbiYmdC50ZXJyYWluLnJlbmRlcmluZ1RvVGV4dHVyZT90LnRlcnJhaW4uZHJhcGVCdWZmZXJTaXplOltsLmRyYXdpbmdCdWZmZXJXaWR0aCxsLmRyYXdpbmdCdWZmZXJIZWlnaHRdO3A9XCJmaWxsT3V0bGluZVBhdHRlcm5cIj09PWQmJmg/R2kodyx0LHUscixlKTpOaSh3LGUpO31lbHNlIG09di5pbmRleEJ1ZmZlcixmPXYuc2VnbWVudHMscD1oP1VpKHcsdCx1LHIpOkZpKHcpO3QucHJlcGFyZURyYXdQcm9ncmFtKHQuY29udGV4dCx5LGcudG9VbndyYXBwZWQoKSkseS5kcmF3KHQuY29udGV4dCxfLG4sdC5zdGVuY2lsTW9kZUZvckNsaXBwaW5nKGcpLGEsZS5DdWxsRmFjZU1vZGUuZGlzYWJsZWQscCxvLmlkLHYubGF5b3V0VmVydGV4QnVmZmVyLG0sZixvLnBhaW50LHQudHJhbnNmb3JtLnpvb20seCk7fX1mdW5jdGlvbiB4byh0LGksbyxyLG4sYSxzKXtjb25zdCBsPXQuY29udGV4dCxjPWwuZ2wsaD10LnRyYW5zZm9ybSx1PW8ucGFpbnQuZ2V0KFwiZmlsbC1leHRydXNpb24tcGF0dGVyblwiKSxfPXUuY29uc3RhbnRPcigxKSxkPW8uZ2V0Q3Jvc3NmYWRlUGFyYW1ldGVycygpLHA9by5wYWludC5nZXQoXCJmaWxsLWV4dHJ1c2lvbi1vcGFjaXR5XCIpLG09W28ucGFpbnQuZ2V0KFwiZmlsbC1leHRydXNpb24tYW1iaWVudC1vY2NsdXNpb24taW50ZW5zaXR5XCIpLG8ucGFpbnQuZ2V0KFwiZmlsbC1leHRydXNpb24tYW1iaWVudC1vY2NsdXNpb24tcmFkaXVzXCIpXSxmPW8ubGF5b3V0LmdldChcImZpbGwtZXh0cnVzaW9uLWVkZ2UtcmFkaXVzXCIpLGc9XCJnbG9iZVwiPT09aC5wcm9qZWN0aW9uLm5hbWU/ZS5maWxsRXh0cnVzaW9uSGVpZ2h0TGlmdCgpOjAsdj1cImdsb2JlXCI9PT1oLnByb2plY3Rpb24ubmFtZSx4PXY/ZS5nbG9iZVRvTWVyY2F0b3JUcmFuc2l0aW9uKGguem9vbSk6MCx5PVtlLm1lcmNhdG9yWGZyb21MbmcoaC5jZW50ZXIubG5nKSxlLm1lcmNhdG9yWWZyb21MYXQoaC5jZW50ZXIubGF0KV0sYj1bXTt2JiYoYi5wdXNoKFwiUFJPSkVDVElPTl9HTE9CRV9WSUVXXCIpLHQuc3R5bGUudGVycmFpblNldEZvckRyYXBpbmdPbmx5KCkmJmIucHVzaChcIlRFUlJBSU5cIikpLG1bMF0+MCYmYi5wdXNoKFwiRkFVWF9BT1wiKTtmb3IoY29uc3QgdyBvZiByKXtjb25zdCByPWkuZ2V0VGlsZSh3KSxUPXIuZ2V0QnVja2V0KG8pO2lmKCFUfHxULnByb2plY3Rpb24ubmFtZSE9PWgucHJvamVjdGlvbi5uYW1lKWNvbnRpbnVlO2NvbnN0IEU9VC5wcm9ncmFtQ29uZmlndXJhdGlvbnMuZ2V0KG8uaWQpLEM9dC51c2VQcm9ncmFtKF8/XCJmaWxsRXh0cnVzaW9uUGF0dGVyblwiOlwiZmlsbEV4dHJ1c2lvblwiLEUsYik7aWYodC50ZXJyYWluKXtjb25zdCBlPXQudGVycmFpbjtpZih0LnN0eWxlLnRlcnJhaW5TZXRGb3JEcmFwaW5nT25seSgpKWUuc2V0dXBFbGV2YXRpb25EcmF3KHIsQyx7dXNlTWV0ZXJUb0RlbTohMH0pO2Vsc2Uge2lmKCFULmVuYWJsZVRlcnJhaW4pY29udGludWU7aWYoZS5zZXR1cEVsZXZhdGlvbkRyYXcocixDLHt1c2VNZXRlclRvRGVtOiEwfSkseW8obCxpLHcsVCxvLGUpLCFULmNlbnRyb2lkVmVydGV4QnVmZmVyKXtjb25zdCBlPUMuYXR0cmlidXRlcy5hX2NlbnRyb2lkX3Bvczt2b2lkIDAhPT1lJiZjLnZlcnRleEF0dHJpYjJmKGUsMCwwKTt9fX1fJiYodC5jb250ZXh0LmFjdGl2ZVRleHR1cmUuc2V0KGMuVEVYVFVSRTApLHIuaW1hZ2VBdGxhc1RleHR1cmUuYmluZChjLkxJTkVBUixjLkNMQU1QX1RPX0VER0UpLEUudXBkYXRlUGFpbnRCdWZmZXJzKGQpKTtjb25zdCBJPXUuY29uc3RhbnRPcihudWxsKTtpZihJJiZyLmltYWdlQXRsYXMpe2NvbnN0IGU9ci5pbWFnZUF0bGFzLHQ9ZS5wYXR0ZXJuUG9zaXRpb25zW0kudG8udG9TdHJpbmcoKV0saT1lLnBhdHRlcm5Qb3NpdGlvbnNbSS5mcm9tLnRvU3RyaW5nKCldO3QmJmkmJkUuc2V0Q29uc3RhbnRQYXR0ZXJuUG9zaXRpb25zKHQsaSk7fWNvbnN0IE09dC50cmFuc2xhdGVQb3NNYXRyaXgody5wcm9qTWF0cml4LHIsby5wYWludC5nZXQoXCJmaWxsLWV4dHJ1c2lvbi10cmFuc2xhdGVcIiksby5wYWludC5nZXQoXCJmaWxsLWV4dHJ1c2lvbi10cmFuc2xhdGUtYW5jaG9yXCIpKSxTPWgucHJvamVjdGlvbi5jcmVhdGVJbnZlcnNpb25NYXRyaXgoaCx3LmNhbm9uaWNhbCksej1vLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLXZlcnRpY2FsLWdyYWRpZW50XCIpLEQ9Xz9raShNLHQseixwLG0sZix3LGQscixnLHgseSxTKTpCaShNLHQseixwLG0sZix3LGcseCx5LFMpO3QucHJlcGFyZURyYXdQcm9ncmFtKGwsQyx3LnRvVW53cmFwcGVkKCkpO2NvbnN0IFA9W107dC50ZXJyYWluJiZQLnB1c2goVC5jZW50cm9pZFZlcnRleEJ1ZmZlciksdiYmUC5wdXNoKFQubGF5b3V0VmVydGV4RXh0QnVmZmVyKSxDLmRyYXcobCxsLmdsLlRSSUFOR0xFUyxuLGEscyxlLkN1bGxGYWNlTW9kZS5iYWNrQ0NXLEQsby5pZCxULmxheW91dFZlcnRleEJ1ZmZlcixULmluZGV4QnVmZmVyLFQuc2VnbWVudHMsby5wYWludCx0LnRyYW5zZm9ybS56b29tLEUsUCk7fX1mdW5jdGlvbiB5byh0LGksbyxyLG4sYSl7Y29uc3Qgcz1bdD0+e2xldCBpPXQuY2Fub25pY2FsLngtMSxvPXQud3JhcDtyZXR1cm4gaTwwJiYoaT0oMTw8dC5jYW5vbmljYWwueiktMSxvLS0pLG5ldyBlLk92ZXJzY2FsZWRUaWxlSUQodC5vdmVyc2NhbGVkWixvLHQuY2Fub25pY2FsLnosaSx0LmNhbm9uaWNhbC55KX0sdD0+e2xldCBpPXQuY2Fub25pY2FsLngrMSxvPXQud3JhcDtyZXR1cm4gaT09PTE8PHQuY2Fub25pY2FsLnomJihpPTAsbysrKSxuZXcgZS5PdmVyc2NhbGVkVGlsZUlEKHQub3ZlcnNjYWxlZFosbyx0LmNhbm9uaWNhbC56LGksdC5jYW5vbmljYWwueSl9LHQ9Pm5ldyBlLk92ZXJzY2FsZWRUaWxlSUQodC5vdmVyc2NhbGVkWix0LndyYXAsdC5jYW5vbmljYWwueix0LmNhbm9uaWNhbC54LCgwPT09dC5jYW5vbmljYWwueT8xPDx0LmNhbm9uaWNhbC56OnQuY2Fub25pY2FsLnkpLTEpLHQ9Pm5ldyBlLk92ZXJzY2FsZWRUaWxlSUQodC5vdmVyc2NhbGVkWix0LndyYXAsdC5jYW5vbmljYWwueix0LmNhbm9uaWNhbC54LHQuY2Fub25pY2FsLnk9PT0oMTw8dC5jYW5vbmljYWwueiktMT8wOnQuY2Fub25pY2FsLnkrMSldLGw9ZT0+e2NvbnN0IHQ9aS5nZXRTb3VyY2UoKS5taW56b29tLG89ZT0+e2NvbnN0IHQ9aS5nZXRUaWxlQnlJRChlKTtpZih0JiZ0Lmhhc0RhdGEoKSlyZXR1cm4gdC5nZXRCdWNrZXQobil9LHI9WzAsLTEsMV07Zm9yKGNvbnN0IGkgb2Ygcil7aWYoZS5vdmVyc2NhbGVkWitpPHQpY29udGludWU7Y29uc3Qgcj1vKGUuY2FsY3VsYXRlU2NhbGVkS2V5KGUub3ZlcnNjYWxlZForaSkpO2lmKHIpcmV0dXJuIHJ9fSxjPVswLDAsMF0saD0odCxpKT0+KGNbMF09TWF0aC5taW4odC5taW4ueSxpLm1pbi55KSxjWzFdPU1hdGgubWF4KHQubWF4LnksaS5tYXgueSksY1syXT1lLkVYVEVOVC1pLm1pbi54PnQubWF4Lng/aS5taW4ueC1lLkVYVEVOVDp0Lm1heC54LGMpLHU9KHQsaSk9PihjWzBdPU1hdGgubWluKHQubWluLngsaS5taW4ueCksY1sxXT1NYXRoLm1heCh0Lm1heC54LGkubWF4LngpLGNbMl09ZS5FWFRFTlQtaS5taW4ueT50Lm1heC55P2kubWluLnktZS5FWFRFTlQ6dC5tYXgueSxjKSxfPVsoZSx0KT0+aChlLHQpLChlLHQpPT5oKHQsZSksKGUsdCk9PnUoZSx0KSwoZSx0KT0+dSh0LGUpXSxkPW5ldyBlLnBvaW50R2VvbWV0cnkoMCwwKTtsZXQgcCxtLGY7Y29uc3QgZz0odCxpLHIsbixzKT0+e2NvbnN0IGw9W1tuP3I6dCxuP3Q6ciwwXSxbbj9yOmksbj9pOnIsMF1dLGM9czwwP2UuRVhURU5UK3M6cyxoPVtuP2M6KHQraSkvMixuPyh0K2kpLzI6YywwXTtyZXR1cm4gMD09PXImJnM8MHx8MCE9PXImJnM+MD9hLmdldEZvclRpbGVQb2ludHMoZixbaF0sITAsbSk6bC5wdXNoKGgpLGEuZ2V0Rm9yVGlsZVBvaW50cyhvLGwsITAscCksTWF0aC5tYXgobFswXVsyXSxsWzFdWzJdLGhbMl0pL2EuZXhhZ2dlcmF0aW9uKCl9O2ZvcihsZXQgdD0wO3Q8NDt0Kyspe2NvbnN0IGk9KHQ8Mj8xOjUpLXQsbj1yLmJvcmRlcnNbdF07aWYoMD09PW4ubGVuZ3RoKWNvbnRpbnVlO2NvbnN0IGM9Zj1zW3RdKG8pLGg9bChjKTtpZighKGgmJmggaW5zdGFuY2VvZiBlLkZpbGxFeHRydXNpb25CdWNrZXQmJmguZW5hYmxlVGVycmFpbikpY29udGludWU7aWYoci5ib3JkZXJEb25lV2l0aE5laWdoYm9yWlt0XT09PWguY2Fub25pY2FsLnomJmguYm9yZGVyRG9uZVdpdGhOZWlnaGJvclpbaV09PT1yLmNhbm9uaWNhbC56KWNvbnRpbnVlO2lmKG09YS5maW5kREVNVGlsZUZvcihjKSwhbXx8IW0uZGVtKWNvbnRpbnVlO2lmKCFwKXtjb25zdCBlPWEuZmluZERFTVRpbGVGb3Iobyk7aWYoIWV8fCFlLmRlbSlyZXR1cm47cD1lO31jb25zdCB1PWguYm9yZGVyc1tpXTtsZXQgdj0wO2NvbnN0IHg9aC5ib3JkZXJEb25lV2l0aE5laWdoYm9yWltpXSE9PXIuY2Fub25pY2FsLno7aWYoci5jYW5vbmljYWwuej09PWguY2Fub25pY2FsLnope2ZvcihsZXQgbz0wO288bi5sZW5ndGg7bysrKXtjb25zdCBhPXIuZmVhdHVyZXNPbkJvcmRlcltuW29dXSxzPWEuYm9yZGVyc1t0XTtsZXQgbDtmb3IoO3Y8dS5sZW5ndGgmJihsPWguZmVhdHVyZXNPbkJvcmRlclt1W3ZdXSwhKGwuYm9yZGVyc1tpXVsxXT5zWzBdKzMpKTspeCYmaC5lbmNvZGVDZW50cm9pZCh2b2lkIDAsbCwhMSksdisrO2lmKGwmJnY8dS5sZW5ndGgpe2NvbnN0IG89djtsZXQgbj0wO2Zvcig7IShsLmJvcmRlcnNbaV1bMF0+c1sxXS0zKSYmKG4rKywrK3YhPT11Lmxlbmd0aCk7KWw9aC5mZWF0dXJlc09uQm9yZGVyW3Vbdl1dO2lmKGw9aC5mZWF0dXJlc09uQm9yZGVyW3Vbb11dLGEuaW50ZXJzZWN0c0NvdW50KCk+MXx8bC5pbnRlcnNlY3RzQ291bnQoKT4xfHwxIT09bil7MSE9PW4mJih2PW8pLHIuZW5jb2RlQ2VudHJvaWQodm9pZCAwLGEsITEpLHgmJmguZW5jb2RlQ2VudHJvaWQodm9pZCAwLGwsITEpO2NvbnRpbnVlfWNvbnN0IGM9X1t0XShhLGwpLHA9dCUyP2UuRVhURU5ULTE6MDtkLng9ZyhjWzBdLE1hdGgubWluKGUuRVhURU5ULTEsY1sxXSkscCx0PDIsY1syXSksZC55PTAsci5lbmNvZGVDZW50cm9pZChkLGEsITEpLHgmJmguZW5jb2RlQ2VudHJvaWQoZCxsLCExKTt9ZWxzZSByLmVuY29kZUNlbnRyb2lkKHZvaWQgMCxhLCExKTt9ci5ib3JkZXJEb25lV2l0aE5laWdoYm9yWlt0XT1oLmNhbm9uaWNhbC56LHIubmVlZHNDZW50cm9pZFVwZGF0ZT0hMCx4JiYoaC5ib3JkZXJEb25lV2l0aE5laWdoYm9yWltpXT1yLmNhbm9uaWNhbC56LGgubmVlZHNDZW50cm9pZFVwZGF0ZT0hMCk7fWVsc2Uge2Zvcihjb25zdCBlIG9mIG4pci5lbmNvZGVDZW50cm9pZCh2b2lkIDAsci5mZWF0dXJlc09uQm9yZGVyW2VdLCExKTtpZih4KXtmb3IoY29uc3QgZSBvZiB1KWguZW5jb2RlQ2VudHJvaWQodm9pZCAwLGguZmVhdHVyZXNPbkJvcmRlcltlXSwhMSk7aC5ib3JkZXJEb25lV2l0aE5laWdoYm9yWltpXT1yLmNhbm9uaWNhbC56LGgubmVlZHNDZW50cm9pZFVwZGF0ZT0hMDt9ci5ib3JkZXJEb25lV2l0aE5laWdoYm9yWlt0XT1oLmNhbm9uaWNhbC56LHIubmVlZHNDZW50cm9pZFVwZGF0ZT0hMDt9fShyLm5lZWRzQ2VudHJvaWRVcGRhdGV8fCFyLmNlbnRyb2lkVmVydGV4QnVmZmVyJiYwIT09ci5jZW50cm9pZFZlcnRleEFycmF5Lmxlbmd0aCkmJnIudXBsb2FkQ2VudHJvaWQodCk7fWNvbnN0IGJvPW5ldyBlLkNvbG9yKDEsMCwwLDEpLHdvPW5ldyBlLkNvbG9yKDAsMSwwLDEpLFRvPW5ldyBlLkNvbG9yKDAsMCwxLDEpLEVvPW5ldyBlLkNvbG9yKDEsMCwxLDEpLENvPW5ldyBlLkNvbG9yKDAsMSwxLDEpO2Z1bmN0aW9uIElvKHQsaSxvKXtjb25zdCByPXQuY29udGV4dCxuPXQudHJhbnNmb3JtLGE9ci5nbCxzPVwiZ2xvYmVcIj09PW4ucHJvamVjdGlvbi5uYW1lLGw9cz9bXCJQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcIl06bnVsbDtsZXQgYz1vLnByb2pNYXRyaXg7aWYocyYmZS5nbG9iZVRvTWVyY2F0b3JUcmFuc2l0aW9uKG4uem9vbSk+MCl7Y29uc3QgdD1lLnRyYW5zaXRpb25UaWxlQUFCQmluRUNFRihvLmNhbm9uaWNhbCxuKSxpPWUuZ2xvYmVEZW5vcm1hbGl6ZUVDRUYodCk7Yz1lLm11bHRpcGx5KG5ldyBGbG9hdDMyQXJyYXkoMTYpLG4uZ2xvYmVNYXRyaXgsaSksZS5tdWx0aXBseShjLG4ucHJvak1hdHJpeCxjKTt9Y29uc3QgaD10LnVzZVByb2dyYW0oXCJkZWJ1Z1wiLG51bGwsbCksdT1pLmdldFRpbGVCeUlEKG8ua2V5KTt0LnRlcnJhaW4mJnQudGVycmFpbi5zZXR1cEVsZXZhdGlvbkRyYXcodSxoKTtjb25zdCBfPWUuRGVwdGhNb2RlLmRpc2FibGVkLGQ9ZS5TdGVuY2lsTW9kZS5kaXNhYmxlZCxwPXQuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpLG09XCIkZGVidWdcIjtyLmFjdGl2ZVRleHR1cmUuc2V0KGEuVEVYVFVSRTApLHQuZW1wdHlUZXh0dXJlLmJpbmQoYS5MSU5FQVIsYS5DTEFNUF9UT19FREdFKSxzP3UuX21ha2VHbG9iZVRpbGVEZWJ1Z0J1ZmZlcnModC5jb250ZXh0LG4pOnUuX21ha2VEZWJ1Z1RpbGVCb3VuZHNCdWZmZXJzKHQuY29udGV4dCxuLnByb2plY3Rpb24pO2NvbnN0IGY9dS5fdGlsZURlYnVnQnVmZmVyfHx0LmRlYnVnQnVmZmVyLGc9dS5fdGlsZURlYnVnSW5kZXhCdWZmZXJ8fHQuZGVidWdJbmRleEJ1ZmZlcix2PXUuX3RpbGVEZWJ1Z1NlZ21lbnRzfHx0LmRlYnVnU2VnbWVudHM7aC5kcmF3KHIsYS5MSU5FX1NUUklQLF8sZCxwLGUuQ3VsbEZhY2VNb2RlLmRpc2FibGVkLFhpKGMsZS5Db2xvci5yZWQpLG0sZixnLHYsbnVsbCxudWxsLG51bGwsW3UuX2dsb2JlVGlsZURlYnVnQm9yZGVyQnVmZmVyXSk7Y29uc3QgeD11LmxhdGVzdFJhd1RpbGVEYXRhLHk9TWF0aC5mbG9vcigoeCYmeC5ieXRlTGVuZ3RofHwwKS8xMDI0KSxiPWkuZ2V0VGlsZShvKS50aWxlU2l6ZSx3PTUxMi9NYXRoLm1pbihiLDUxMikqKG8ub3ZlcnNjYWxlZFovbi56b29tKSouNTtsZXQgVD1vLmNhbm9uaWNhbC50b1N0cmluZygpO28ub3ZlcnNjYWxlZFohPT1vLmNhbm9uaWNhbC56JiYoVCs9YCA9PiAke28ub3ZlcnNjYWxlZFp9YCksVCs9YCAke3l9a2JgLGZ1bmN0aW9uKGUsdCl7ZS5pbml0RGVidWdPdmVybGF5Q2FudmFzKCk7Y29uc3QgaT1lLmRlYnVnT3ZlcmxheUNhbnZhcyxvPWUuY29udGV4dC5nbCxyPWUuZGVidWdPdmVybGF5Q2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtyLmNsZWFyUmVjdCgwLDAsaS53aWR0aCxpLmhlaWdodCksci5zaGFkb3dDb2xvcj1cIndoaXRlXCIsci5zaGFkb3dCbHVyPTIsci5saW5lV2lkdGg9MS41LHIuc3Ryb2tlU3R5bGU9XCJ3aGl0ZVwiLHIudGV4dEJhc2VsaW5lPVwidG9wXCIsci5mb250PVwiYm9sZCAzNnB4IE9wZW4gU2Fucywgc2Fucy1zZXJpZlwiLHIuZmlsbFRleHQodCw1LDUpLHIuc3Ryb2tlVGV4dCh0LDUsNSksZS5kZWJ1Z092ZXJsYXlUZXh0dXJlLnVwZGF0ZShpKSxlLmRlYnVnT3ZlcmxheVRleHR1cmUuYmluZChvLkxJTkVBUixvLkNMQU1QX1RPX0VER0UpO30odCxUKTtjb25zdCBFPXUuX3RpbGVEZWJ1Z1RleHRCdWZmZXJ8fHQuZGVidWdCdWZmZXIsQz11Ll90aWxlRGVidWdUZXh0SW5kZXhCdWZmZXJ8fHQucXVhZFRyaWFuZ2xlSW5kZXhCdWZmZXIsST11Ll90aWxlRGVidWdUZXh0U2VnbWVudHN8fHQuZGVidWdTZWdtZW50cztoLmRyYXcocixhLlRSSUFOR0xFUyxfLGQsZS5Db2xvck1vZGUuYWxwaGFCbGVuZGVkLGUuQ3VsbEZhY2VNb2RlLmRpc2FibGVkLFhpKGMsZS5Db2xvci50cmFuc3BhcmVudCx3KSxtLEUsQyxJLG51bGwsbnVsbCxudWxsLFt1Ll9nbG9iZVRpbGVEZWJ1Z1RleHRCdWZmZXJdKTt9ZnVuY3Rpb24gTW8oZSx0LGksbyl7em8oZSwwLHQraS8yLGUudHJhbnNmb3JtLndpZHRoLGksbyk7fWZ1bmN0aW9uIFNvKGUsdCxpLG8pe3pvKGUsdC1pLzIsMCxpLGUudHJhbnNmb3JtLmhlaWdodCxvKTt9ZnVuY3Rpb24gem8odCxpLG8scixuLGEpe2NvbnN0IHM9dC5jb250ZXh0LGw9cy5nbDtsLmVuYWJsZShsLlNDSVNTT1JfVEVTVCksbC5zY2lzc29yKGkqZS5leHBvcnRlZC5kZXZpY2VQaXhlbFJhdGlvLG8qZS5leHBvcnRlZC5kZXZpY2VQaXhlbFJhdGlvLHIqZS5leHBvcnRlZC5kZXZpY2VQaXhlbFJhdGlvLG4qZS5leHBvcnRlZC5kZXZpY2VQaXhlbFJhdGlvKSxzLmNsZWFyKHtjb2xvcjphfSksbC5kaXNhYmxlKGwuU0NJU1NPUl9URVNUKTt9Y29uc3QgRG89ZS5jcmVhdGVMYXlvdXQoW3tuYW1lOlwiYV9wb3NfM2ZcIixjb21wb25lbnRzOjMsdHlwZTpcIkZsb2F0MzJcIn1dKSx7bWVtYmVyczpQb309RG87ZnVuY3Rpb24gQW8oZSx0LGksbyl7ZS5lbXBsYWNlQmFjayh0LGksbyk7fWNsYXNzIExve2NvbnN0cnVjdG9yKHQpe3RoaXMudmVydGV4QXJyYXk9bmV3IGUuU3RydWN0QXJyYXlMYXlvdXQzZjEyLHRoaXMuaW5kaWNlcz1uZXcgZS5TdHJ1Y3RBcnJheUxheW91dDN1aTYsQW8odGhpcy52ZXJ0ZXhBcnJheSwtMSwtMSwxKSxBbyh0aGlzLnZlcnRleEFycmF5LDEsLTEsMSksQW8odGhpcy52ZXJ0ZXhBcnJheSwtMSwxLDEpLEFvKHRoaXMudmVydGV4QXJyYXksMSwxLDEpLEFvKHRoaXMudmVydGV4QXJyYXksLTEsLTEsLTEpLEFvKHRoaXMudmVydGV4QXJyYXksMSwtMSwtMSksQW8odGhpcy52ZXJ0ZXhBcnJheSwtMSwxLC0xKSxBbyh0aGlzLnZlcnRleEFycmF5LDEsMSwtMSksdGhpcy5pbmRpY2VzLmVtcGxhY2VCYWNrKDUsMSwzKSx0aGlzLmluZGljZXMuZW1wbGFjZUJhY2soMyw3LDUpLHRoaXMuaW5kaWNlcy5lbXBsYWNlQmFjayg2LDIsMCksdGhpcy5pbmRpY2VzLmVtcGxhY2VCYWNrKDAsNCw2KSx0aGlzLmluZGljZXMuZW1wbGFjZUJhY2soMiw2LDcpLHRoaXMuaW5kaWNlcy5lbXBsYWNlQmFjayg3LDMsMiksdGhpcy5pbmRpY2VzLmVtcGxhY2VCYWNrKDUsNCwwKSx0aGlzLmluZGljZXMuZW1wbGFjZUJhY2soMCwxLDUpLHRoaXMuaW5kaWNlcy5lbXBsYWNlQmFjaygwLDIsMyksdGhpcy5pbmRpY2VzLmVtcGxhY2VCYWNrKDMsMSwwKSx0aGlzLmluZGljZXMuZW1wbGFjZUJhY2soNyw2LDQpLHRoaXMuaW5kaWNlcy5lbXBsYWNlQmFjayg0LDUsNyksdGhpcy52ZXJ0ZXhCdWZmZXI9dC5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy52ZXJ0ZXhBcnJheSxQbyksdGhpcy5pbmRleEJ1ZmZlcj10LmNyZWF0ZUluZGV4QnVmZmVyKHRoaXMuaW5kaWNlcyksdGhpcy5zZWdtZW50PWUuU2VnbWVudFZlY3Rvci5zaW1wbGVTZWdtZW50KDAsMCwzNiwxMik7fX1mdW5jdGlvbiBSbyh0LGksbyxyLG4sYSl7Y29uc3Qgcz10LmdsLGw9aS5wYWludC5nZXQoXCJza3ktYXRtb3NwaGVyZS1jb2xvclwiKSxjPWkucGFpbnQuZ2V0KFwic2t5LWF0bW9zcGhlcmUtaGFsby1jb2xvclwiKSxoPWkucGFpbnQuZ2V0KFwic2t5LWF0bW9zcGhlcmUtc3VuLWludGVuc2l0eVwiKSx1PSgoZSx0LGksbyxyKT0+KHt1X21hdHJpeF8zZjplLHVfc3VuX2RpcmVjdGlvbjp0LHVfc3VuX2ludGVuc2l0eTppLHVfY29sb3JfdGludF9yOltvLnIsby5nLG8uYixvLmFdLHVfY29sb3JfdGludF9tOltyLnIsci5nLHIuYixyLmFdLHVfbHVtaW5hbmNlOjVlLTV9KSkoZS5mcm9tTWF0NChlLmNyZWF0ZSQxKCksciksbixoLGwsYyk7cy5mcmFtZWJ1ZmZlclRleHR1cmUyRChzLkZSQU1FQlVGRkVSLHMuQ09MT1JfQVRUQUNITUVOVDAscy5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1grYSxpLnNreWJveFRleHR1cmUsMCksby5kcmF3KHQscy5UUklBTkdMRVMsZS5EZXB0aE1vZGUuZGlzYWJsZWQsZS5TdGVuY2lsTW9kZS5kaXNhYmxlZCxlLkNvbG9yTW9kZS51bmJsZW5kZWQsZS5DdWxsRmFjZU1vZGUuZnJvbnRDVyx1LFwic2t5Ym94Q2FwdHVyZVwiLGkuc2t5Ym94R2VvbWV0cnkudmVydGV4QnVmZmVyLGkuc2t5Ym94R2VvbWV0cnkuaW5kZXhCdWZmZXIsaS5za3lib3hHZW9tZXRyeS5zZWdtZW50KTt9Y29uc3QgT289ZS5jcmVhdGVMYXlvdXQoW3t0eXBlOlwiRmxvYXQzMlwiLG5hbWU6XCJhX3Bvc1wiLGNvbXBvbmVudHM6M30se3R5cGU6XCJGbG9hdDMyXCIsbmFtZTpcImFfdXZcIixjb21wb25lbnRzOjJ9XSk7Y2xhc3MgQm97Y29uc3RydWN0b3IodCl7Y29uc3QgaT1uZXcgZS5TdHJ1Y3RBcnJheUxheW91dDVmMjA7aS5lbXBsYWNlQmFjaygtMSwxLDEsMCwwKSxpLmVtcGxhY2VCYWNrKDEsMSwxLDEsMCksaS5lbXBsYWNlQmFjaygxLC0xLDEsMSwxKSxpLmVtcGxhY2VCYWNrKC0xLC0xLDEsMCwxKTtjb25zdCBvPW5ldyBlLlN0cnVjdEFycmF5TGF5b3V0M3VpNjtvLmVtcGxhY2VCYWNrKDAsMSwyKSxvLmVtcGxhY2VCYWNrKDIsMywwKSx0aGlzLnZlcnRleEJ1ZmZlcj10LmNyZWF0ZVZlcnRleEJ1ZmZlcihpLE9vLm1lbWJlcnMpLHRoaXMuaW5kZXhCdWZmZXI9dC5jcmVhdGVJbmRleEJ1ZmZlcihvKSx0aGlzLnNlZ21lbnRzPWUuU2VnbWVudFZlY3Rvci5zaW1wbGVTZWdtZW50KDAsMCw0LDIpO31kZXN0cm95KCl7dGhpcy52ZXJ0ZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMuaW5kZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMuc2VnbWVudHMuZGVzdHJveSgpO319Y29uc3Qga289e3N5bWJvbDpmdW5jdGlvbih0LGksbyxyLG4pe2lmKFwidHJhbnNsdWNlbnRcIiE9PXQucmVuZGVyUGFzcylyZXR1cm47Y29uc3QgYT1lLlN0ZW5jaWxNb2RlLmRpc2FibGVkLHM9dC5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCk7by5sYXlvdXQuZ2V0KFwidGV4dC12YXJpYWJsZS1hbmNob3JcIikmJmZ1bmN0aW9uKHQsaSxvLHIsbixhLHMpe2NvbnN0IGw9aS50cmFuc2Zvcm0sYz1cIm1hcFwiPT09bixoPVwibWFwXCI9PT1hO2Zvcihjb25zdCBpIG9mIHQpe2NvbnN0IHQ9ci5nZXRUaWxlKGkpLG49dC5nZXRCdWNrZXQobyk7aWYoIW58fCFuLnRleHR8fCFuLnRleHQuc2VnbWVudHMuZ2V0KCkubGVuZ3RoKWNvbnRpbnVlO2NvbnN0IGE9ZS5ldmFsdWF0ZVNpemVGb3Jab29tKG4udGV4dFNpemVEYXRhLGwuem9vbSksdT13dChpLG4uZ2V0UHJvamVjdGlvbigpLGwpLF89bC5jYWxjdWxhdGVQaXhlbHNUb1RpbGVVbml0c01hdHJpeCh0KSxkPXR0KHUsdC50aWxlSUQuY2Fub25pY2FsLGgsYyxsLG4uZ2V0UHJvamVjdGlvbigpLF8pLHA9XCJub25lXCIhPT1vLmxheW91dC5nZXQoXCJpY29uLXRleHQtZml0XCIpJiZuLmhhc0ljb25EYXRhKCk7aWYoYSl7Y29uc3Qgbz1NYXRoLnBvdygyLGwuem9vbS10LnRpbGVJRC5vdmVyc2NhbGVkWik7cG8obixjLGgscyxlLnN5bWJvbFNpemUsbCxkLGksbyxhLHApO319fShyLHQsbyxpLG8ubGF5b3V0LmdldChcInRleHQtcm90YXRpb24tYWxpZ25tZW50XCIpLG8ubGF5b3V0LmdldChcInRleHQtcGl0Y2gtYWxpZ25tZW50XCIpLG4pLDAhPT1vLnBhaW50LmdldChcImljb24tb3BhY2l0eVwiKS5jb25zdGFudE9yKDEpJiZmbyh0LGksbyxyLCExLG8ucGFpbnQuZ2V0KFwiaWNvbi10cmFuc2xhdGVcIiksby5wYWludC5nZXQoXCJpY29uLXRyYW5zbGF0ZS1hbmNob3JcIiksby5sYXlvdXQuZ2V0KFwiaWNvbi1yb3RhdGlvbi1hbGlnbm1lbnRcIiksby5sYXlvdXQuZ2V0KFwiaWNvbi1waXRjaC1hbGlnbm1lbnRcIiksby5sYXlvdXQuZ2V0KFwiaWNvbi1rZWVwLXVwcmlnaHRcIiksYSxzKSwwIT09by5wYWludC5nZXQoXCJ0ZXh0LW9wYWNpdHlcIikuY29uc3RhbnRPcigxKSYmZm8odCxpLG8sciwhMCxvLnBhaW50LmdldChcInRleHQtdHJhbnNsYXRlXCIpLG8ucGFpbnQuZ2V0KFwidGV4dC10cmFuc2xhdGUtYW5jaG9yXCIpLG8ubGF5b3V0LmdldChcInRleHQtcm90YXRpb24tYWxpZ25tZW50XCIpLG8ubGF5b3V0LmdldChcInRleHQtcGl0Y2gtYWxpZ25tZW50XCIpLG8ubGF5b3V0LmdldChcInRleHQta2VlcC11cHJpZ2h0XCIpLGEscyksaS5tYXAuc2hvd0NvbGxpc2lvbkJveGVzJiYoaG8odCxpLG8scixvLnBhaW50LmdldChcInRleHQtdHJhbnNsYXRlXCIpLG8ucGFpbnQuZ2V0KFwidGV4dC10cmFuc2xhdGUtYW5jaG9yXCIpLCEwKSxobyh0LGksbyxyLG8ucGFpbnQuZ2V0KFwiaWNvbi10cmFuc2xhdGVcIiksby5wYWludC5nZXQoXCJpY29uLXRyYW5zbGF0ZS1hbmNob3JcIiksITEpKTt9LGNpcmNsZTpmdW5jdGlvbih0LGksbyxyKXtpZihcInRyYW5zbHVjZW50XCIhPT10LnJlbmRlclBhc3MpcmV0dXJuO2NvbnN0IG49by5wYWludC5nZXQoXCJjaXJjbGUtb3BhY2l0eVwiKSxhPW8ucGFpbnQuZ2V0KFwiY2lyY2xlLXN0cm9rZS13aWR0aFwiKSxzPW8ucGFpbnQuZ2V0KFwiY2lyY2xlLXN0cm9rZS1vcGFjaXR5XCIpLGw9dm9pZCAwIT09by5sYXlvdXQuZ2V0KFwiY2lyY2xlLXNvcnQta2V5XCIpLmNvbnN0YW50T3IoMSk7aWYoMD09PW4uY29uc3RhbnRPcigxKSYmKDA9PT1hLmNvbnN0YW50T3IoMSl8fDA9PT1zLmNvbnN0YW50T3IoMSkpKXJldHVybjtjb25zdCBjPXQuY29udGV4dCxoPWMuZ2wsdT10LnRyYW5zZm9ybSxfPXQuZGVwdGhNb2RlRm9yU3VibGF5ZXIoMCxlLkRlcHRoTW9kZS5SZWFkT25seSksZD1lLlN0ZW5jaWxNb2RlLmRpc2FibGVkLHA9dC5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCksbT1cImdsb2JlXCI9PT11LnByb2plY3Rpb24ubmFtZSxmPVtlLm1lcmNhdG9yWGZyb21MbmcodS5jZW50ZXIubG5nKSxlLm1lcmNhdG9yWWZyb21MYXQodS5jZW50ZXIubGF0KV0sZz1bXTtmb3IobGV0IG49MDtuPHIubGVuZ3RoO24rKyl7Y29uc3QgYT1yW25dLHM9aS5nZXRUaWxlKGEpLGM9cy5nZXRCdWNrZXQobyk7aWYoIWN8fGMucHJvamVjdGlvbi5uYW1lIT09dS5wcm9qZWN0aW9uLm5hbWUpY29udGludWU7Y29uc3QgaD1jLnByb2dyYW1Db25maWd1cmF0aW9ucy5nZXQoby5pZCksXz1WaShvKTttJiZfLnB1c2goXCJQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcIik7Y29uc3QgZD10LnVzZVByb2dyYW0oXCJjaXJjbGVcIixoLF8pLHA9Yy5sYXlvdXRWZXJ0ZXhCdWZmZXIsdj1jLmdsb2JlRXh0VmVydGV4QnVmZmVyLHg9Yy5pbmRleEJ1ZmZlcix5PXUucHJvamVjdGlvbi5jcmVhdGVJbnZlcnNpb25NYXRyaXgodSxhLmNhbm9uaWNhbCksYj17cHJvZ3JhbUNvbmZpZ3VyYXRpb246aCxwcm9ncmFtOmQsbGF5b3V0VmVydGV4QnVmZmVyOnAsZ2xvYmVFeHRWZXJ0ZXhCdWZmZXI6dixpbmRleEJ1ZmZlcjp4LHVuaWZvcm1WYWx1ZXM6WmkodCxhLHMseSxmLG8pLHRpbGU6c307aWYobCl7Y29uc3QgdD1jLnNlZ21lbnRzLmdldCgpO2Zvcihjb25zdCBpIG9mIHQpZy5wdXNoKHtzZWdtZW50czpuZXcgZS5TZWdtZW50VmVjdG9yKFtpXSksc29ydEtleTppLnNvcnRLZXksc3RhdGU6Yn0pO31lbHNlIGcucHVzaCh7c2VnbWVudHM6Yy5zZWdtZW50cyxzb3J0S2V5OjAsc3RhdGU6Yn0pO31sJiZnLnNvcnQoKChlLHQpPT5lLnNvcnRLZXktdC5zb3J0S2V5KSk7Y29uc3Qgdj17dXNlRGVwdGhGb3JPY2NsdXNpb246IW19O2Zvcihjb25zdCBpIG9mIGcpe2NvbnN0e3Byb2dyYW1Db25maWd1cmF0aW9uOnIscHJvZ3JhbTpuLGxheW91dFZlcnRleEJ1ZmZlcjphLGdsb2JlRXh0VmVydGV4QnVmZmVyOnMsaW5kZXhCdWZmZXI6bCx1bmlmb3JtVmFsdWVzOm0sdGlsZTpmfT1pLnN0YXRlLGc9aS5zZWdtZW50czt0LnRlcnJhaW4mJnQudGVycmFpbi5zZXR1cEVsZXZhdGlvbkRyYXcoZixuLHYpLHQucHJlcGFyZURyYXdQcm9ncmFtKGMsbixmLnRpbGVJRC50b1Vud3JhcHBlZCgpKSxuLmRyYXcoYyxoLlRSSUFOR0xFUyxfLGQscCxlLkN1bGxGYWNlTW9kZS5kaXNhYmxlZCxtLG8uaWQsYSxsLGcsby5wYWludCx1Lnpvb20scixbc10pO319LGhlYXRtYXA6ZnVuY3Rpb24odCxpLG8scil7aWYoMCE9PW8ucGFpbnQuZ2V0KFwiaGVhdG1hcC1vcGFjaXR5XCIpKWlmKFwib2Zmc2NyZWVuXCI9PT10LnJlbmRlclBhc3Mpe2NvbnN0IG49dC5jb250ZXh0LGE9bi5nbCxzPWUuU3RlbmNpbE1vZGUuZGlzYWJsZWQsbD1uZXcgZS5Db2xvck1vZGUoW2EuT05FLGEuT05FXSxlLkNvbG9yLnRyYW5zcGFyZW50LFshMCwhMCwhMCwhMF0pOyFmdW5jdGlvbihlLHQsaSxvKXtjb25zdCByPWUuZ2wsbj10LndpZHRoKm8sYT10LmhlaWdodCpvO2UuYWN0aXZlVGV4dHVyZS5zZXQoci5URVhUVVJFMSksZS52aWV3cG9ydC5zZXQoWzAsMCxuLGFdKTtsZXQgcz1pLmhlYXRtYXBGYm87aWYoIXN8fHMmJihzLndpZHRoIT09bnx8cy5oZWlnaHQhPT1hKSl7cyYmcy5kZXN0cm95KCk7Y29uc3QgdD1yLmNyZWF0ZVRleHR1cmUoKTtyLmJpbmRUZXh0dXJlKHIuVEVYVFVSRV8yRCx0KSxyLnRleFBhcmFtZXRlcmkoci5URVhUVVJFXzJELHIuVEVYVFVSRV9XUkFQX1Msci5DTEFNUF9UT19FREdFKSxyLnRleFBhcmFtZXRlcmkoci5URVhUVVJFXzJELHIuVEVYVFVSRV9XUkFQX1Qsci5DTEFNUF9UT19FREdFKSxyLnRleFBhcmFtZXRlcmkoci5URVhUVVJFXzJELHIuVEVYVFVSRV9NSU5fRklMVEVSLHIuTElORUFSKSxyLnRleFBhcmFtZXRlcmkoci5URVhUVVJFXzJELHIuVEVYVFVSRV9NQUdfRklMVEVSLHIuTElORUFSKSxzPWkuaGVhdG1hcEZibz1lLmNyZWF0ZUZyYW1lYnVmZmVyKG4sYSwhMSksZnVuY3Rpb24oZSx0LGksbyxyLG4pe2NvbnN0IGE9ZS5nbDthLnRleEltYWdlMkQoYS5URVhUVVJFXzJELDAsYS5SR0JBLHIsbiwwLGEuUkdCQSxlLmV4dFJlbmRlclRvVGV4dHVyZUhhbGZGbG9hdD9lLmV4dFRleHR1cmVIYWxmRmxvYXQuSEFMRl9GTE9BVF9PRVM6YS5VTlNJR05FRF9CWVRFLG51bGwpLG8uY29sb3JBdHRhY2htZW50LnNldChpKTt9KGUsMCx0LHMsbixhKTt9ZWxzZSByLmJpbmRUZXh0dXJlKHIuVEVYVFVSRV8yRCxzLmNvbG9yQXR0YWNobWVudC5nZXQoKSksZS5iaW5kRnJhbWVidWZmZXIuc2V0KHMuZnJhbWVidWZmZXIpO30obix0LG8sXCJnbG9iZVwiPT09dC50cmFuc2Zvcm0ucHJvamVjdGlvbi5uYW1lPy41Oi4yNSksbi5jbGVhcih7Y29sb3I6ZS5Db2xvci50cmFuc3BhcmVudH0pO2NvbnN0IGM9dC50cmFuc2Zvcm0saD1cImdsb2JlXCI9PT1jLnByb2plY3Rpb24ubmFtZSx1PWg/W1wiUFJPSkVDVElPTl9HTE9CRV9WSUVXXCJdOm51bGwsXz1oP2UuQ3VsbEZhY2VNb2RlLmZyb250Q0NXOmUuQ3VsbEZhY2VNb2RlLmRpc2FibGVkLGQ9W2UubWVyY2F0b3JYZnJvbUxuZyhjLmNlbnRlci5sbmcpLGUubWVyY2F0b3JZZnJvbUxhdChjLmNlbnRlci5sYXQpXTtmb3IobGV0IHA9MDtwPHIubGVuZ3RoO3ArKyl7Y29uc3QgbT1yW3BdO2lmKGkuaGFzUmVuZGVyYWJsZVBhcmVudChtKSljb250aW51ZTtjb25zdCBmPWkuZ2V0VGlsZShtKSxnPWYuZ2V0QnVja2V0KG8pO2lmKCFnfHxnLnByb2plY3Rpb24ubmFtZSE9PWMucHJvamVjdGlvbi5uYW1lKWNvbnRpbnVlO2NvbnN0IHY9Zy5wcm9ncmFtQ29uZmlndXJhdGlvbnMuZ2V0KG8uaWQpLHg9dC51c2VQcm9ncmFtKFwiaGVhdG1hcFwiLHYsdSkse3pvb206eX09dC50cmFuc2Zvcm07dC50ZXJyYWluJiZ0LnRlcnJhaW4uc2V0dXBFbGV2YXRpb25EcmF3KGYseCksdC5wcmVwYXJlRHJhd1Byb2dyYW0obix4LG0udG9VbndyYXBwZWQoKSk7Y29uc3QgYj1jLnByb2plY3Rpb24uY3JlYXRlSW52ZXJzaW9uTWF0cml4KGMsbS5jYW5vbmljYWwpO3guZHJhdyhuLGEuVFJJQU5HTEVTLGUuRGVwdGhNb2RlLmRpc2FibGVkLHMsbCxfLCRpKHQsbSxmLGIsZCx5LG8ucGFpbnQuZ2V0KFwiaGVhdG1hcC1pbnRlbnNpdHlcIikpLG8uaWQsZy5sYXlvdXRWZXJ0ZXhCdWZmZXIsZy5pbmRleEJ1ZmZlcixnLnNlZ21lbnRzLG8ucGFpbnQsdC50cmFuc2Zvcm0uem9vbSx2LGg/W2cuZ2xvYmVFeHRWZXJ0ZXhCdWZmZXJdOm51bGwpO31uLnZpZXdwb3J0LnNldChbMCwwLHQud2lkdGgsdC5oZWlnaHRdKTt9ZWxzZSBcInRyYW5zbHVjZW50XCI9PT10LnJlbmRlclBhc3MmJih0LmNvbnRleHQuc2V0Q29sb3JNb2RlKHQuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpKSxmdW5jdGlvbih0LGkpe2NvbnN0IG89dC5jb250ZXh0LHI9by5nbCxuPWkuaGVhdG1hcEZibztpZighbilyZXR1cm47by5hY3RpdmVUZXh0dXJlLnNldChyLlRFWFRVUkUwKSxyLmJpbmRUZXh0dXJlKHIuVEVYVFVSRV8yRCxuLmNvbG9yQXR0YWNobWVudC5nZXQoKSksby5hY3RpdmVUZXh0dXJlLnNldChyLlRFWFRVUkUxKTtsZXQgYT1pLmNvbG9yUmFtcFRleHR1cmU7YXx8KGE9aS5jb2xvclJhbXBUZXh0dXJlPW5ldyBlLlRleHR1cmUobyxpLmNvbG9yUmFtcCxyLlJHQkEpKSxhLmJpbmQoci5MSU5FQVIsci5DTEFNUF9UT19FREdFKSx0LnVzZVByb2dyYW0oXCJoZWF0bWFwVGV4dHVyZVwiKS5kcmF3KG8sci5UUklBTkdMRVMsZS5EZXB0aE1vZGUuZGlzYWJsZWQsZS5TdGVuY2lsTW9kZS5kaXNhYmxlZCx0LmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSxlLkN1bGxGYWNlTW9kZS5kaXNhYmxlZCwoKGUsdCxpLG8pPT4oe3VfaW1hZ2U6MCx1X2NvbG9yX3JhbXA6MSx1X29wYWNpdHk6dC5wYWludC5nZXQoXCJoZWF0bWFwLW9wYWNpdHlcIil9KSkoMCxpKSxpLmlkLHQudmlld3BvcnRCdWZmZXIsdC5xdWFkVHJpYW5nbGVJbmRleEJ1ZmZlcix0LnZpZXdwb3J0U2VnbWVudHMsaS5wYWludCx0LnRyYW5zZm9ybS56b29tKTt9KHQsbykpO30sbGluZTpmdW5jdGlvbih0LGksbyxyKXtpZihcInRyYW5zbHVjZW50XCIhPT10LnJlbmRlclBhc3MpcmV0dXJuO2NvbnN0IG49by5wYWludC5nZXQoXCJsaW5lLW9wYWNpdHlcIiksYT1vLnBhaW50LmdldChcImxpbmUtd2lkdGhcIik7aWYoMD09PW4uY29uc3RhbnRPcigxKXx8MD09PWEuY29uc3RhbnRPcigxKSlyZXR1cm47Y29uc3Qgcz10LmRlcHRoTW9kZUZvclN1YmxheWVyKDAsZS5EZXB0aE1vZGUuUmVhZE9ubHkpLGw9dC5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCksYz10LnRlcnJhaW4mJnQudGVycmFpbi5yZW5kZXJpbmdUb1RleHR1cmU/MTplLmV4cG9ydGVkLmRldmljZVBpeGVsUmF0aW8saD1vLnBhaW50LmdldChcImxpbmUtZGFzaGFycmF5XCIpLHU9aC5jb25zdGFudE9yKDEpLF89by5sYXlvdXQuZ2V0KFwibGluZS1jYXBcIiksZD1vLnBhaW50LmdldChcImxpbmUtcGF0dGVyblwiKSxwPWQuY29uc3RhbnRPcigxKSxtPW8ucGFpbnQuZ2V0KFwibGluZS1ncmFkaWVudFwiKSxmPW8uZ2V0Q3Jvc3NmYWRlUGFyYW1ldGVycygpLGc9cD9cImxpbmVQYXR0ZXJuXCI6XCJsaW5lXCIsdj10LmNvbnRleHQseD12LmdsLHk9KGU9Pntjb25zdCB0PVtdO1FpKGUpJiZ0LnB1c2goXCJSRU5ERVJfTElORV9EQVNIXCIpLGUucGFpbnQuZ2V0KFwibGluZS1ncmFkaWVudFwiKSYmdC5wdXNoKFwiUkVOREVSX0xJTkVfR1JBRElFTlRcIik7Y29uc3QgaT1lLnBhaW50LmdldChcImxpbmUtdHJpbS1vZmZzZXRcIik7MD09PWlbMF0mJjA9PT1pWzFdfHx0LnB1c2goXCJSRU5ERVJfTElORV9UUklNX09GRlNFVFwiKTtjb25zdCBvPWUucGFpbnQuZ2V0KFwibGluZS1wYXR0ZXJuXCIpLmNvbnN0YW50T3IoMSkscj0xIT09ZS5wYWludC5nZXQoXCJsaW5lLW9wYWNpdHlcIikuY29uc3RhbnRPcigxKTtyZXR1cm4gIW8mJnImJnQucHVzaChcIlJFTkRFUl9MSU5FX0FMUEhBX0RJU0NBUkRcIiksdH0pKG8pO2xldCBiPXkuaW5jbHVkZXMoXCJSRU5ERVJfTElORV9BTFBIQV9ESVNDQVJEXCIpO3QudGVycmFpbiYmdC50ZXJyYWluLmNsaXBPck1hc2tPdmVybGFwU3RlbmNpbFR5cGUoKSYmKGI9ITEpO2Zvcihjb25zdCBuIG9mIHIpe2NvbnN0IHI9aS5nZXRUaWxlKG4pO2lmKHAmJiFyLnBhdHRlcm5zTG9hZGVkKCkpY29udGludWU7Y29uc3QgYT1yLmdldEJ1Y2tldChvKTtpZighYSljb250aW51ZTt0LnByZXBhcmVEcmF3VGlsZSgpO2NvbnN0IHc9YS5wcm9ncmFtQ29uZmlndXJhdGlvbnMuZ2V0KG8uaWQpLFQ9dC51c2VQcm9ncmFtKGcsdyx5KSxFPWQuY29uc3RhbnRPcihudWxsKTtpZihFJiZyLmltYWdlQXRsYXMpe2NvbnN0IGU9ci5pbWFnZUF0bGFzLHQ9ZS5wYXR0ZXJuUG9zaXRpb25zW0UudG8udG9TdHJpbmcoKV0saT1lLnBhdHRlcm5Qb3NpdGlvbnNbRS5mcm9tLnRvU3RyaW5nKCldO3QmJmkmJncuc2V0Q29uc3RhbnRQYXR0ZXJuUG9zaXRpb25zKHQsaSk7fWNvbnN0IEM9aC5jb25zdGFudE9yKG51bGwpLEk9Xy5jb25zdGFudE9yKG51bGwpO2lmKCFwJiZDJiZJJiZyLmxpbmVBdGxhcyl7Y29uc3QgZT1yLmxpbmVBdGxhcyx0PWUuZ2V0RGFzaChDLnRvLEkpLGk9ZS5nZXREYXNoKEMuZnJvbSxJKTt0JiZpJiZ3LnNldENvbnN0YW50UGF0dGVyblBvc2l0aW9ucyh0LGkpO31sZXRbTSxTXT1vLnBhaW50LmdldChcImxpbmUtdHJpbS1vZmZzZXRcIik7aWYoXCJyb3VuZFwiPT09SXx8XCJzcXVhcmVcIj09PUkpe2NvbnN0IGU9MTtNIT09UyYmKDA9PT1NJiYoTS09ZSksMT09PVMmJihTKz1lKSk7fWNvbnN0IHo9dC50ZXJyYWluP24ucHJvak1hdHJpeDpudWxsLEQ9cD9ZaSh0LHIsbyxmLHosYyk6SGkodCxyLG8sZix6LGEubGluZUNsaXBzQXJyYXkubGVuZ3RoLGMsW00sU10pO2lmKG0pe2NvbnN0IHI9YS5ncmFkaWVudHNbby5pZF07bGV0IHM9ci50ZXh0dXJlO2lmKG8uZ3JhZGllbnRWZXJzaW9uIT09ci52ZXJzaW9uKXtsZXQgbD0yNTY7aWYoby5zdGVwSW50ZXJwb2xhbnQpe2NvbnN0IG89aS5nZXRTb3VyY2UoKS5tYXh6b29tLHI9bi5jYW5vbmljYWwuej09PW8/TWF0aC5jZWlsKDE8PHQudHJhbnNmb3JtLm1heFpvb20tbi5jYW5vbmljYWwueik6MTtsPWUuY2xhbXAoZS5uZXh0UG93ZXJPZlR3byhhLm1heExpbmVMZW5ndGgvZS5FWFRFTlQqMTAyNCpyKSwyNTYsdi5tYXhUZXh0dXJlU2l6ZSk7fXIuZ3JhZGllbnQ9ZS5yZW5kZXJDb2xvclJhbXAoe2V4cHJlc3Npb246by5ncmFkaWVudEV4cHJlc3Npb24oKSxldmFsdWF0aW9uS2V5OlwibGluZVByb2dyZXNzXCIscmVzb2x1dGlvbjpsLGltYWdlOnIuZ3JhZGllbnR8fHZvaWQgMCxjbGlwczphLmxpbmVDbGlwc0FycmF5fSksci50ZXh0dXJlP3IudGV4dHVyZS51cGRhdGUoci5ncmFkaWVudCk6ci50ZXh0dXJlPW5ldyBlLlRleHR1cmUodixyLmdyYWRpZW50LHguUkdCQSksci52ZXJzaW9uPW8uZ3JhZGllbnRWZXJzaW9uLHM9ci50ZXh0dXJlO312LmFjdGl2ZVRleHR1cmUuc2V0KHguVEVYVFVSRTEpLHMuYmluZChvLnN0ZXBJbnRlcnBvbGFudD94Lk5FQVJFU1Q6eC5MSU5FQVIseC5DTEFNUF9UT19FREdFKTt9dSYmKHYuYWN0aXZlVGV4dHVyZS5zZXQoeC5URVhUVVJFMCksci5saW5lQXRsYXNUZXh0dXJlLmJpbmQoeC5MSU5FQVIseC5SRVBFQVQpLHcudXBkYXRlUGFpbnRCdWZmZXJzKGYpKSxwJiYodi5hY3RpdmVUZXh0dXJlLnNldCh4LlRFWFRVUkUwKSxyLmltYWdlQXRsYXNUZXh0dXJlLmJpbmQoeC5MSU5FQVIseC5DTEFNUF9UT19FREdFKSx3LnVwZGF0ZVBhaW50QnVmZmVycyhmKSksdC5wcmVwYXJlRHJhd1Byb2dyYW0odixULG4udG9VbndyYXBwZWQoKSk7Y29uc3QgUD1pPT57VC5kcmF3KHYseC5UUklBTkdMRVMscyxpLGwsZS5DdWxsRmFjZU1vZGUuZGlzYWJsZWQsRCxvLmlkLGEubGF5b3V0VmVydGV4QnVmZmVyLGEuaW5kZXhCdWZmZXIsYS5zZWdtZW50cyxvLnBhaW50LHQudHJhbnNmb3JtLnpvb20sdyxbYS5sYXlvdXRWZXJ0ZXhCdWZmZXIyXSk7fTtpZihiKXtjb25zdCBpPXQuc3RlbmNpbE1vZGVGb3JDbGlwcGluZyhuKS5yZWY7MD09PWkmJnQudGVycmFpbiYmdi5jbGVhcih7c3RlbmNpbDowfSk7Y29uc3Qgbz17ZnVuYzp4LkVRVUFMLG1hc2s6MjU1fTtELnVfYWxwaGFfZGlzY2FyZF90aHJlc2hvbGQ9LjgsUChuZXcgZS5TdGVuY2lsTW9kZShvLGksMjU1LHguS0VFUCx4LktFRVAseC5JTlZFUlQpKSxELnVfYWxwaGFfZGlzY2FyZF90aHJlc2hvbGQ9MCxQKG5ldyBlLlN0ZW5jaWxNb2RlKG8saSwyNTUseC5LRUVQLHguS0VFUCx4LktFRVApKTt9ZWxzZSBQKHQuc3RlbmNpbE1vZGVGb3JDbGlwcGluZyhuKSk7fWImJih0LnJlc2V0U3RlbmNpbENsaXBwaW5nTWFza3MoKSx0LnRlcnJhaW4mJnYuY2xlYXIoe3N0ZW5jaWw6MH0pKTt9LGZpbGw6ZnVuY3Rpb24odCxpLG8scil7Y29uc3Qgbj1vLnBhaW50LmdldChcImZpbGwtY29sb3JcIiksYT1vLnBhaW50LmdldChcImZpbGwtb3BhY2l0eVwiKTtpZigwPT09YS5jb25zdGFudE9yKDEpKXJldHVybjtjb25zdCBzPXQuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpLGw9by5wYWludC5nZXQoXCJmaWxsLXBhdHRlcm5cIiksYz10Lm9wYXF1ZVBhc3NFbmFibGVkRm9yTGF5ZXIoKSYmIWwuY29uc3RhbnRPcigxKSYmMT09PW4uY29uc3RhbnRPcihlLkNvbG9yLnRyYW5zcGFyZW50KS5hJiYxPT09YS5jb25zdGFudE9yKDApP1wib3BhcXVlXCI6XCJ0cmFuc2x1Y2VudFwiO2lmKHQucmVuZGVyUGFzcz09PWMpe2NvbnN0IG49dC5kZXB0aE1vZGVGb3JTdWJsYXllcigxLFwib3BhcXVlXCI9PT10LnJlbmRlclBhc3M/ZS5EZXB0aE1vZGUuUmVhZFdyaXRlOmUuRGVwdGhNb2RlLlJlYWRPbmx5KTt2byh0LGksbyxyLG4scywhMSk7fWlmKFwidHJhbnNsdWNlbnRcIj09PXQucmVuZGVyUGFzcyYmby5wYWludC5nZXQoXCJmaWxsLWFudGlhbGlhc1wiKSl7Y29uc3Qgbj10LmRlcHRoTW9kZUZvclN1YmxheWVyKG8uZ2V0UGFpbnRQcm9wZXJ0eShcImZpbGwtb3V0bGluZS1jb2xvclwiKT8yOjAsZS5EZXB0aE1vZGUuUmVhZE9ubHkpO3ZvKHQsaSxvLHIsbixzLCEwKTt9fSxcImZpbGwtZXh0cnVzaW9uXCI6ZnVuY3Rpb24odCxpLG8scil7Y29uc3Qgbj1vLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLW9wYWNpdHlcIik7aWYoMCE9PW4mJlwidHJhbnNsdWNlbnRcIj09PXQucmVuZGVyUGFzcyl7Y29uc3QgYT1uZXcgZS5EZXB0aE1vZGUodC5jb250ZXh0LmdsLkxFUVVBTCxlLkRlcHRoTW9kZS5SZWFkV3JpdGUsdC5kZXB0aFJhbmdlRm9yM0QpO2lmKDEhPT1ufHxvLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLXBhdHRlcm5cIikuY29uc3RhbnRPcigxKSl4byh0LGksbyxyLGEsZS5TdGVuY2lsTW9kZS5kaXNhYmxlZCxlLkNvbG9yTW9kZS5kaXNhYmxlZCkseG8odCxpLG8scixhLHQuc3RlbmNpbE1vZGVGb3IzRCgpLHQuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpKSx0LnJlc2V0U3RlbmNpbENsaXBwaW5nTWFza3MoKTtlbHNlIHtjb25zdCBuPXQuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpO3hvKHQsaSxvLHIsYSxlLlN0ZW5jaWxNb2RlLmRpc2FibGVkLG4pO319fSxoaWxsc2hhZGU6ZnVuY3Rpb24odCxpLG8scil7aWYoXCJvZmZzY3JlZW5cIiE9PXQucmVuZGVyUGFzcyYmXCJ0cmFuc2x1Y2VudFwiIT09dC5yZW5kZXJQYXNzKXJldHVybjtjb25zdCBuPXQuY29udGV4dCxhPXQuZGVwdGhNb2RlRm9yU3VibGF5ZXIoMCxlLkRlcHRoTW9kZS5SZWFkT25seSkscz10LmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSxsPXQudGVycmFpbiYmdC50ZXJyYWluLnJlbmRlcmluZ1RvVGV4dHVyZSxbYyxoXT1cInRyYW5zbHVjZW50XCIhPT10LnJlbmRlclBhc3N8fGw/W3t9LHJdOnQuc3RlbmNpbENvbmZpZ0Zvck92ZXJsYXAocik7Zm9yKGNvbnN0IHIgb2YgaCl7Y29uc3Qgbj1pLmdldFRpbGUocik7aWYobi5uZWVkc0hpbGxzaGFkZVByZXBhcmUmJlwib2Zmc2NyZWVuXCI9PT10LnJlbmRlclBhc3MpeGkodCxuLG8sYSxlLlN0ZW5jaWxNb2RlLmRpc2FibGVkLHMpO2Vsc2UgaWYoXCJ0cmFuc2x1Y2VudFwiPT09dC5yZW5kZXJQYXNzKXtjb25zdCBlPWwmJnQudGVycmFpbj90LnRlcnJhaW4uc3RlbmNpbE1vZGVGb3JSVFRPdmVybGFwKHIpOmNbci5vdmVyc2NhbGVkWl07Z2kodCxyLG4sbyxhLGUscyk7fX1uLnZpZXdwb3J0LnNldChbMCwwLHQud2lkdGgsdC5oZWlnaHRdKSx0LnJlc2V0U3RlbmNpbENsaXBwaW5nTWFza3MoKTt9LHJhc3RlcjpmdW5jdGlvbih0LGksbyxyLG4sYSl7aWYoXCJ0cmFuc2x1Y2VudFwiIT09dC5yZW5kZXJQYXNzKXJldHVybjtpZigwPT09by5wYWludC5nZXQoXCJyYXN0ZXItb3BhY2l0eVwiKSlyZXR1cm47aWYoIXIubGVuZ3RoKXJldHVybjtjb25zdCBzPXQuY29udGV4dCxsPXMuZ2wsYz1pLmdldFNvdXJjZSgpLGg9dC51c2VQcm9ncmFtKFwicmFzdGVyXCIpLHU9dC5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCksXz10LnRlcnJhaW4mJnQudGVycmFpbi5yZW5kZXJpbmdUb1RleHR1cmUsW2QscF09YyBpbnN0YW5jZW9mIERlfHxfP1t7fSxyXTp0LnN0ZW5jaWxDb25maWdGb3JPdmVybGFwKHIpLG09cFtwLmxlbmd0aC0xXS5vdmVyc2NhbGVkWixmPSF0Lm9wdGlvbnMubW92aW5nO2Zvcihjb25zdCByIG9mIHApe2NvbnN0IG49Xz9lLkRlcHRoTW9kZS5kaXNhYmxlZDp0LmRlcHRoTW9kZUZvclN1YmxheWVyKHIub3ZlcnNjYWxlZFotbSwxPT09by5wYWludC5nZXQoXCJyYXN0ZXItb3BhY2l0eVwiKT9lLkRlcHRoTW9kZS5SZWFkV3JpdGU6ZS5EZXB0aE1vZGUuUmVhZE9ubHksbC5MRVNTKSxwPXIudG9VbndyYXBwZWQoKSxnPWkuZ2V0VGlsZShyKTtpZihfJiYoIWd8fCFnLmhhc0RhdGEoKSkpY29udGludWU7Y29uc3Qgdj1fP3IucHJvak1hdHJpeDp0LnRyYW5zZm9ybS5jYWxjdWxhdGVQcm9qTWF0cml4KHAsZikseD10LnRlcnJhaW4mJl8/dC50ZXJyYWluLnN0ZW5jaWxNb2RlRm9yUlRUT3ZlcmxhcChyKTpkW3Iub3ZlcnNjYWxlZFpdLHk9YT8wOm8ucGFpbnQuZ2V0KFwicmFzdGVyLWZhZGUtZHVyYXRpb25cIik7Zy5yZWdpc3RlckZhZGVEdXJhdGlvbih5KTtjb25zdCBiPWkuZmluZExvYWRlZFBhcmVudChyLDApLHc9U2koZyxiLGksdC50cmFuc2Zvcm0seSk7bGV0IFQsRTt0LnRlcnJhaW4mJnQudGVycmFpbi5wcmVwYXJlRHJhd1RpbGUoKTtjb25zdCBDPVwibmVhcmVzdFwiPT09by5wYWludC5nZXQoXCJyYXN0ZXItcmVzYW1wbGluZ1wiKT9sLk5FQVJFU1Q6bC5MSU5FQVI7cy5hY3RpdmVUZXh0dXJlLnNldChsLlRFWFRVUkUwKSxnLnRleHR1cmUuYmluZChDLGwuQ0xBTVBfVE9fRURHRSkscy5hY3RpdmVUZXh0dXJlLnNldChsLlRFWFRVUkUxKSxiPyhiLnRleHR1cmUuYmluZChDLGwuQ0xBTVBfVE9fRURHRSksVD1NYXRoLnBvdygyLGIudGlsZUlELm92ZXJzY2FsZWRaLWcudGlsZUlELm92ZXJzY2FsZWRaKSxFPVtnLnRpbGVJRC5jYW5vbmljYWwueCpUJTEsZy50aWxlSUQuY2Fub25pY2FsLnkqVCUxXSk6Zy50ZXh0dXJlLmJpbmQoQyxsLkNMQU1QX1RPX0VER0UpO2NvbnN0IEk9ZW8odixFfHxbMCwwXSxUfHwxLHcsbyxjIGluc3RhbmNlb2YgRGU/Yy5wZXJzcGVjdGl2ZVRyYW5zZm9ybTpbMCwwXSk7aWYodC5wcmVwYXJlRHJhd1Byb2dyYW0ocyxoLHApLGMgaW5zdGFuY2VvZiBEZSljLmJvdW5kc0J1ZmZlciYmYy5ib3VuZHNTZWdtZW50cyYmaC5kcmF3KHMsbC5UUklBTkdMRVMsbixlLlN0ZW5jaWxNb2RlLmRpc2FibGVkLHUsZS5DdWxsRmFjZU1vZGUuZGlzYWJsZWQsSSxvLmlkLGMuYm91bmRzQnVmZmVyLHQucXVhZFRyaWFuZ2xlSW5kZXhCdWZmZXIsYy5ib3VuZHNTZWdtZW50cyk7ZWxzZSB7Y29uc3R7dGlsZUJvdW5kc0J1ZmZlcjppLHRpbGVCb3VuZHNJbmRleEJ1ZmZlcjpyLHRpbGVCb3VuZHNTZWdtZW50czphfT10LmdldFRpbGVCb3VuZHNCdWZmZXJzKGcpO2guZHJhdyhzLGwuVFJJQU5HTEVTLG4seCx1LGUuQ3VsbEZhY2VNb2RlLmRpc2FibGVkLEksby5pZCxpLHIsYSk7fX10LnJlc2V0U3RlbmNpbENsaXBwaW5nTWFza3MoKTt9LGJhY2tncm91bmQ6ZnVuY3Rpb24odCxpLG8scil7Y29uc3Qgbj1vLnBhaW50LmdldChcImJhY2tncm91bmQtY29sb3JcIiksYT1vLnBhaW50LmdldChcImJhY2tncm91bmQtb3BhY2l0eVwiKTtpZigwPT09YSlyZXR1cm47Y29uc3Qgcz10LmNvbnRleHQsbD1zLmdsLGM9dC50cmFuc2Zvcm0saD1jLnRpbGVTaXplLHU9by5wYWludC5nZXQoXCJiYWNrZ3JvdW5kLXBhdHRlcm5cIik7aWYodC5pc1BhdHRlcm5NaXNzaW5nKHUpKXJldHVybjtjb25zdCBfPSF1JiYxPT09bi5hJiYxPT09YSYmdC5vcGFxdWVQYXNzRW5hYmxlZEZvckxheWVyKCk/XCJvcGFxdWVcIjpcInRyYW5zbHVjZW50XCI7aWYodC5yZW5kZXJQYXNzIT09XylyZXR1cm47Y29uc3QgZD1lLlN0ZW5jaWxNb2RlLmRpc2FibGVkLHA9dC5kZXB0aE1vZGVGb3JTdWJsYXllcigwLFwib3BhcXVlXCI9PT1fP2UuRGVwdGhNb2RlLlJlYWRXcml0ZTplLkRlcHRoTW9kZS5SZWFkT25seSksbT10LmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSxmPXQudXNlUHJvZ3JhbSh1P1wiYmFja2dyb3VuZFBhdHRlcm5cIjpcImJhY2tncm91bmRcIik7bGV0IGcsdj1yO3Z8fChnPXQuZ2V0QmFja2dyb3VuZFRpbGVzKCksdj1PYmplY3QudmFsdWVzKGcpLm1hcCgoZT0+ZS50aWxlSUQpKSksdSYmKHMuYWN0aXZlVGV4dHVyZS5zZXQobC5URVhUVVJFMCksdC5pbWFnZU1hbmFnZXIuYmluZCh0LmNvbnRleHQpKTtjb25zdCB4PW8uZ2V0Q3Jvc3NmYWRlUGFyYW1ldGVycygpO2Zvcihjb25zdCBfIG9mIHYpe2NvbnN0IHY9Xy50b1Vud3JhcHBlZCgpLHk9cj9fLnByb2pNYXRyaXg6dC50cmFuc2Zvcm0uY2FsY3VsYXRlUHJvak1hdHJpeCh2KTt0LnByZXBhcmVEcmF3VGlsZSgpO2NvbnN0IGI9aT9pLmdldFRpbGUoXyk6Zz9nW18ua2V5XTpuZXcgZS5UaWxlKF8saCxjLnpvb20sdCksdz11P3NvKHksYSx0LHUse3RpbGVJRDpfLHRpbGVTaXplOmh9LHgpOmFvKHksYSxuKTt0LnByZXBhcmVEcmF3UHJvZ3JhbShzLGYsdik7Y29uc3R7dGlsZUJvdW5kc0J1ZmZlcjpULHRpbGVCb3VuZHNJbmRleEJ1ZmZlcjpFLHRpbGVCb3VuZHNTZWdtZW50czpDfT10LmdldFRpbGVCb3VuZHNCdWZmZXJzKGIpO2YuZHJhdyhzLGwuVFJJQU5HTEVTLHAsZCxtLGUuQ3VsbEZhY2VNb2RlLmRpc2FibGVkLHcsby5pZCxULEUsQyk7fX0sc2t5OmZ1bmN0aW9uKHQsaSxvKXtjb25zdCByPXQudHJhbnNmb3JtLG49XCJtZXJjYXRvclwiPT09ci5wcm9qZWN0aW9uLm5hbWV8fFwiZ2xvYmVcIj09PXIucHJvamVjdGlvbi5uYW1lPzE6ZS5zbW9vdGhzdGVwKDcsOCxyLnpvb20pLGE9by5wYWludC5nZXQoXCJza3ktb3BhY2l0eVwiKSpuO2lmKDA9PT1hKXJldHVybjtjb25zdCBzPXQuY29udGV4dCxsPW8ucGFpbnQuZ2V0KFwic2t5LXR5cGVcIiksYz1uZXcgZS5EZXB0aE1vZGUocy5nbC5MRVFVQUwsZS5EZXB0aE1vZGUuUmVhZE9ubHksWzAsMV0pLGg9dC5mcmFtZUNvdW50ZXIvMWUzJTE7XCJhdG1vc3BoZXJlXCI9PT1sP1wib2Zmc2NyZWVuXCI9PT10LnJlbmRlclBhc3M/by5uZWVkc1NreWJveENhcHR1cmUodCkmJihmdW5jdGlvbih0LGksbyxyKXtjb25zdCBuPXQuY29udGV4dCxhPW4uZ2w7bGV0IHM9aS5za3lib3hGYm87aWYoIXMpe3M9aS5za3lib3hGYm89bi5jcmVhdGVGcmFtZWJ1ZmZlcigzMiwzMiwhMSksaS5za3lib3hHZW9tZXRyeT1uZXcgTG8obiksaS5za3lib3hUZXh0dXJlPW4uZ2wuY3JlYXRlVGV4dHVyZSgpLGEuYmluZFRleHR1cmUoYS5URVhUVVJFX0NVQkVfTUFQLGkuc2t5Ym94VGV4dHVyZSksYS50ZXhQYXJhbWV0ZXJpKGEuVEVYVFVSRV9DVUJFX01BUCxhLlRFWFRVUkVfV1JBUF9TLGEuQ0xBTVBfVE9fRURHRSksYS50ZXhQYXJhbWV0ZXJpKGEuVEVYVFVSRV9DVUJFX01BUCxhLlRFWFRVUkVfV1JBUF9ULGEuQ0xBTVBfVE9fRURHRSksYS50ZXhQYXJhbWV0ZXJpKGEuVEVYVFVSRV9DVUJFX01BUCxhLlRFWFRVUkVfTUlOX0ZJTFRFUixhLkxJTkVBUiksYS50ZXhQYXJhbWV0ZXJpKGEuVEVYVFVSRV9DVUJFX01BUCxhLlRFWFRVUkVfTUFHX0ZJTFRFUixhLkxJTkVBUik7Zm9yKGxldCBlPTA7ZTw2OysrZSlhLnRleEltYWdlMkQoYS5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1grZSwwLGEuUkdCQSwzMiwzMiwwLGEuUkdCQSxhLlVOU0lHTkVEX0JZVEUsbnVsbCk7fW4uYmluZEZyYW1lYnVmZmVyLnNldChzLmZyYW1lYnVmZmVyKSxuLnZpZXdwb3J0LnNldChbMCwwLDMyLDMyXSk7Y29uc3QgbD1pLmdldENlbnRlcih0LCEwKSxjPXQudXNlUHJvZ3JhbShcInNreWJveENhcHR1cmVcIiksaD1uZXcgRmxvYXQ2NEFycmF5KDE2KTtlLmlkZW50aXR5KGgpLGUucm90YXRlWShoLGgsLjUqLU1hdGguUEkpLFJvKG4saSxjLGgsbCwwKSxlLmlkZW50aXR5KGgpLGUucm90YXRlWShoLGgsLjUqTWF0aC5QSSksUm8obixpLGMsaCxsLDEpLGUuaWRlbnRpdHkoaCksZS5yb3RhdGVYKGgsaCwuNSotTWF0aC5QSSksUm8obixpLGMsaCxsLDIpLGUuaWRlbnRpdHkoaCksZS5yb3RhdGVYKGgsaCwuNSpNYXRoLlBJKSxSbyhuLGksYyxoLGwsMyksZS5pZGVudGl0eShoKSxSbyhuLGksYyxoLGwsNCksZS5pZGVudGl0eShoKSxlLnJvdGF0ZVkoaCxoLE1hdGguUEkpLFJvKG4saSxjLGgsbCw1KSxuLnZpZXdwb3J0LnNldChbMCwwLHQud2lkdGgsdC5oZWlnaHRdKTt9KHQsbyksby5tYXJrU2t5Ym94VmFsaWQodCkpOlwic2t5XCI9PT10LnJlbmRlclBhc3MmJmZ1bmN0aW9uKHQsaSxvLHIsbil7Y29uc3QgYT10LmNvbnRleHQscz1hLmdsLGw9dC50cmFuc2Zvcm0sYz10LnVzZVByb2dyYW0oXCJza3lib3hcIik7YS5hY3RpdmVUZXh0dXJlLnNldChzLlRFWFRVUkUwKSxzLmJpbmRUZXh0dXJlKHMuVEVYVFVSRV9DVUJFX01BUCxpLnNreWJveFRleHR1cmUpO2NvbnN0IGg9KChlLHQsaSxvLHIpPT4oe3VfbWF0cml4OmUsdV9zdW5fZGlyZWN0aW9uOnQsdV9jdWJlbWFwOjAsdV9vcGFjaXR5Om8sdV90ZW1wb3JhbF9vZmZzZXQ6cn0pKShsLnNreWJveE1hdHJpeCxpLmdldENlbnRlcih0LCExKSwwLHIsbik7dC5wcmVwYXJlRHJhd1Byb2dyYW0oYSxjKSxjLmRyYXcoYSxzLlRSSUFOR0xFUyxvLGUuU3RlbmNpbE1vZGUuZGlzYWJsZWQsdC5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCksZS5DdWxsRmFjZU1vZGUuYmFja0NXLGgsXCJza3lib3hcIixpLnNreWJveEdlb21ldHJ5LnZlcnRleEJ1ZmZlcixpLnNreWJveEdlb21ldHJ5LmluZGV4QnVmZmVyLGkuc2t5Ym94R2VvbWV0cnkuc2VnbWVudCk7fSh0LG8sYyxhLGgpOlwiZ3JhZGllbnRcIj09PWwmJlwic2t5XCI9PT10LnJlbmRlclBhc3MmJmZ1bmN0aW9uKHQsaSxvLHIsbil7Y29uc3QgYT10LmNvbnRleHQscz1hLmdsLGw9dC50cmFuc2Zvcm0sYz10LnVzZVByb2dyYW0oXCJza3lib3hHcmFkaWVudFwiKTtpLnNreWJveEdlb21ldHJ5fHwoaS5za3lib3hHZW9tZXRyeT1uZXcgTG8oYSkpLGEuYWN0aXZlVGV4dHVyZS5zZXQocy5URVhUVVJFMCk7bGV0IGg9aS5jb2xvclJhbXBUZXh0dXJlO2h8fChoPWkuY29sb3JSYW1wVGV4dHVyZT1uZXcgZS5UZXh0dXJlKGEsaS5jb2xvclJhbXAscy5SR0JBKSksaC5iaW5kKHMuTElORUFSLHMuQ0xBTVBfVE9fRURHRSk7Y29uc3QgdT0oKHQsaSxvLHIsbik9Pih7dV9tYXRyaXg6dCx1X2NvbG9yX3JhbXA6MCx1X2NlbnRlcl9kaXJlY3Rpb246aSx1X3JhZGl1czplLmRlZ1RvUmFkKG8pLHVfb3BhY2l0eTpyLHVfdGVtcG9yYWxfb2Zmc2V0Om59KSkobC5za3lib3hNYXRyaXgsaS5nZXRDZW50ZXIodCwhMSksaS5wYWludC5nZXQoXCJza3ktZ3JhZGllbnQtcmFkaXVzXCIpLHIsbik7dC5wcmVwYXJlRHJhd1Byb2dyYW0oYSxjKSxjLmRyYXcoYSxzLlRSSUFOR0xFUyxvLGUuU3RlbmNpbE1vZGUuZGlzYWJsZWQsdC5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCksZS5DdWxsRmFjZU1vZGUuYmFja0NXLHUsXCJza3lib3hHcmFkaWVudFwiLGkuc2t5Ym94R2VvbWV0cnkudmVydGV4QnVmZmVyLGkuc2t5Ym94R2VvbWV0cnkuaW5kZXhCdWZmZXIsaS5za3lib3hHZW9tZXRyeS5zZWdtZW50KTt9KHQsbyxjLGEsaCk7fSxkZWJ1ZzpmdW5jdGlvbihlLHQsaSl7Zm9yKGxldCBvPTA7bzxpLmxlbmd0aDtvKyspSW8oZSx0LGlbb10pO30sY3VzdG9tOmZ1bmN0aW9uKHQsaSxvKXtjb25zdCByPXQuY29udGV4dCxuPW8uaW1wbGVtZW50YXRpb247aWYodC50cmFuc2Zvcm0ucHJvamVjdGlvbi51bnN1cHBvcnRlZExheWVycyYmdC50cmFuc2Zvcm0ucHJvamVjdGlvbi51bnN1cHBvcnRlZExheWVycy5pbmNsdWRlcyhcImN1c3RvbVwiKSllLndhcm5PbmNlKFwiQ3VzdG9tIGxheWVycyBhcmUgbm90IHlldCBzdXBwb3J0ZWQgd2l0aCBub24tbWVyY2F0b3IgcHJvamVjdGlvbnMuIFVzZSBtZXJjYXRvciB0byBlbmFibGUgY3VzdG9tIGxheWVycy5cIik7ZWxzZSBpZihcIm9mZnNjcmVlblwiPT09dC5yZW5kZXJQYXNzKXtjb25zdCBlPW4ucHJlcmVuZGVyO2UmJih0LnNldEN1c3RvbUxheWVyRGVmYXVsdHMoKSxyLnNldENvbG9yTW9kZSh0LmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSksZS5jYWxsKG4sci5nbCx0LnRyYW5zZm9ybS5jdXN0b21MYXllck1hdHJpeCgpKSxyLnNldERpcnR5KCksdC5zZXRCYXNlU3RhdGUoKSk7fWVsc2UgaWYoXCJ0cmFuc2x1Y2VudFwiPT09dC5yZW5kZXJQYXNzKXt0LnNldEN1c3RvbUxheWVyRGVmYXVsdHMoKSxyLnNldENvbG9yTW9kZSh0LmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSksci5zZXRTdGVuY2lsTW9kZShlLlN0ZW5jaWxNb2RlLmRpc2FibGVkKTtjb25zdCBpPVwiM2RcIj09PW4ucmVuZGVyaW5nTW9kZT9uZXcgZS5EZXB0aE1vZGUodC5jb250ZXh0LmdsLkxFUVVBTCxlLkRlcHRoTW9kZS5SZWFkV3JpdGUsdC5kZXB0aFJhbmdlRm9yM0QpOnQuZGVwdGhNb2RlRm9yU3VibGF5ZXIoMCxlLkRlcHRoTW9kZS5SZWFkT25seSk7ci5zZXREZXB0aE1vZGUoaSksbi5yZW5kZXIoci5nbCx0LnRyYW5zZm9ybS5jdXN0b21MYXllck1hdHJpeCgpKSxyLnNldERpcnR5KCksdC5zZXRCYXNlU3RhdGUoKSxyLmJpbmRGcmFtZWJ1ZmZlci5zZXQobnVsbCk7fX19O2NsYXNzIEZve2NvbnN0cnVjdG9yKHQsaSl7dGhpcy5jb250ZXh0PW5ldyBJZSh0KSx0aGlzLnRyYW5zZm9ybT1pLHRoaXMuX3RpbGVUZXh0dXJlcz17fSx0aGlzLmZyYW1lQ29waWVzPVtdLHRoaXMubG9hZFRpbWVTdGFtcHM9W10sdGhpcy5zZXR1cCgpLHRoaXMubnVtU3VibGF5ZXJzPWUuU291cmNlQ2FjaGUubWF4VW5kZXJ6b29taW5nK2UuU291cmNlQ2FjaGUubWF4T3Zlcnpvb21pbmcrMSx0aGlzLmRlcHRoRXBzaWxvbj0xL01hdGgucG93KDIsMTYpLHRoaXMuY3Jvc3NUaWxlU3ltYm9sSW5kZXg9bmV3ICR0LHRoaXMuZGVmZXJyZWRSZW5kZXJHcHVUaW1lUXVlcmllcz1bXSx0aGlzLmdwdVRpbWVycz17fSx0aGlzLmZyYW1lQ291bnRlcj0wLHRoaXMuX2JhY2tncm91bmRUaWxlcz17fTt9dXBkYXRlVGVycmFpbihlLHQpe2NvbnN0IGk9ISFlJiYhIWUudGVycmFpbiYmdGhpcy50cmFuc2Zvcm0ucHJvamVjdGlvbi5zdXBwb3J0c1RlcnJhaW47aWYoIShpfHx0aGlzLl90ZXJyYWluJiZ0aGlzLl90ZXJyYWluLmVuYWJsZWQpKXJldHVybjt0aGlzLl90ZXJyYWlufHwodGhpcy5fdGVycmFpbj1uZXcgQWkodGhpcyxlKSk7Y29uc3Qgbz10aGlzLl90ZXJyYWluO3RoaXMudHJhbnNmb3JtLmVsZXZhdGlvbj1pP286bnVsbCxvLnVwZGF0ZShlLHRoaXMudHJhbnNmb3JtLHQpO31fdXBkYXRlRm9nKGUpe2NvbnN0IHQ9ZS5mb2c7aWYoIXR8fFwiZ2xvYmVcIj09PXRoaXMudHJhbnNmb3JtLnByb2plY3Rpb24ubmFtZXx8dC5nZXRPcGFjaXR5KHRoaXMudHJhbnNmb3JtLnBpdGNoKTwxfHx0LnByb3BlcnRpZXMuZ2V0KFwiaG9yaXpvbi1ibGVuZFwiKTwuMDMpcmV0dXJuIHZvaWQodGhpcy50cmFuc2Zvcm0uZm9nQ3VsbERpc3RTcT1udWxsKTtjb25zdFtpLG9dPXQuZ2V0Rm92QWRqdXN0ZWRSYW5nZSh0aGlzLnRyYW5zZm9ybS5fZm92KTtpZihpPm8pcmV0dXJuIHZvaWQodGhpcy50cmFuc2Zvcm0uZm9nQ3VsbERpc3RTcT1udWxsKTtjb25zdCByPWkrLjc4KihvLWkpO3RoaXMudHJhbnNmb3JtLmZvZ0N1bGxEaXN0U3E9cipyO31nZXQgdGVycmFpbigpe3JldHVybiB0aGlzLnRyYW5zZm9ybS5fdGVycmFpbkVuYWJsZWQoKSYmdGhpcy5fdGVycmFpbiYmdGhpcy5fdGVycmFpbi5lbmFibGVkP3RoaXMuX3RlcnJhaW46bnVsbH1yZXNpemUodCxpKXtpZih0aGlzLndpZHRoPXQqZS5leHBvcnRlZC5kZXZpY2VQaXhlbFJhdGlvLHRoaXMuaGVpZ2h0PWkqZS5leHBvcnRlZC5kZXZpY2VQaXhlbFJhdGlvLHRoaXMuY29udGV4dC52aWV3cG9ydC5zZXQoWzAsMCx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0XSksdGhpcy5zdHlsZSlmb3IoY29uc3QgZSBvZiB0aGlzLnN0eWxlLm9yZGVyKXRoaXMuc3R5bGUuX2xheWVyc1tlXS5yZXNpemUoKTt9c2V0dXAoKXtjb25zdCB0PXRoaXMuY29udGV4dCxpPW5ldyBlLlN0cnVjdEFycmF5TGF5b3V0Mmk0O2kuZW1wbGFjZUJhY2soMCwwKSxpLmVtcGxhY2VCYWNrKGUuRVhURU5ULDApLGkuZW1wbGFjZUJhY2soMCxlLkVYVEVOVCksaS5lbXBsYWNlQmFjayhlLkVYVEVOVCxlLkVYVEVOVCksdGhpcy50aWxlRXh0ZW50QnVmZmVyPXQuY3JlYXRlVmVydGV4QnVmZmVyKGksZS5wb3NBdHRyaWJ1dGVzLm1lbWJlcnMpLHRoaXMudGlsZUV4dGVudFNlZ21lbnRzPWUuU2VnbWVudFZlY3Rvci5zaW1wbGVTZWdtZW50KDAsMCw0LDIpO2NvbnN0IG89bmV3IGUuU3RydWN0QXJyYXlMYXlvdXQyaTQ7by5lbXBsYWNlQmFjaygwLDApLG8uZW1wbGFjZUJhY2soZS5FWFRFTlQsMCksby5lbXBsYWNlQmFjaygwLGUuRVhURU5UKSxvLmVtcGxhY2VCYWNrKGUuRVhURU5ULGUuRVhURU5UKSx0aGlzLmRlYnVnQnVmZmVyPXQuY3JlYXRlVmVydGV4QnVmZmVyKG8sZS5wb3NBdHRyaWJ1dGVzLm1lbWJlcnMpLHRoaXMuZGVidWdTZWdtZW50cz1lLlNlZ21lbnRWZWN0b3Iuc2ltcGxlU2VnbWVudCgwLDAsNCw1KTtjb25zdCByPW5ldyBlLlN0cnVjdEFycmF5TGF5b3V0Mmk0O3IuZW1wbGFjZUJhY2soLTEsLTEpLHIuZW1wbGFjZUJhY2soMSwtMSksci5lbXBsYWNlQmFjaygtMSwxKSxyLmVtcGxhY2VCYWNrKDEsMSksdGhpcy52aWV3cG9ydEJ1ZmZlcj10LmNyZWF0ZVZlcnRleEJ1ZmZlcihyLGUucG9zQXR0cmlidXRlcy5tZW1iZXJzKSx0aGlzLnZpZXdwb3J0U2VnbWVudHM9ZS5TZWdtZW50VmVjdG9yLnNpbXBsZVNlZ21lbnQoMCwwLDQsMik7Y29uc3Qgbj1uZXcgZS5TdHJ1Y3RBcnJheUxheW91dDRpODtuLmVtcGxhY2VCYWNrKDAsMCwwLDApLG4uZW1wbGFjZUJhY2soZS5FWFRFTlQsMCxlLkVYVEVOVCwwKSxuLmVtcGxhY2VCYWNrKDAsZS5FWFRFTlQsMCxlLkVYVEVOVCksbi5lbXBsYWNlQmFjayhlLkVYVEVOVCxlLkVYVEVOVCxlLkVYVEVOVCxlLkVYVEVOVCksdGhpcy5tZXJjYXRvckJvdW5kc0J1ZmZlcj10LmNyZWF0ZVZlcnRleEJ1ZmZlcihuLGUuYm91bmRzQXR0cmlidXRlcy5tZW1iZXJzKSx0aGlzLm1lcmNhdG9yQm91bmRzU2VnbWVudHM9ZS5TZWdtZW50VmVjdG9yLnNpbXBsZVNlZ21lbnQoMCwwLDQsMik7Y29uc3QgYT1uZXcgZS5TdHJ1Y3RBcnJheUxheW91dDN1aTY7YS5lbXBsYWNlQmFjaygwLDEsMiksYS5lbXBsYWNlQmFjaygyLDEsMyksdGhpcy5xdWFkVHJpYW5nbGVJbmRleEJ1ZmZlcj10LmNyZWF0ZUluZGV4QnVmZmVyKGEpO2NvbnN0IHM9bmV3IGUuU3RydWN0QXJyYXlMYXlvdXQxdWkyO2Zvcihjb25zdCBlIG9mIFswLDEsMywyLDBdKXMuZW1wbGFjZUJhY2soZSk7dGhpcy5kZWJ1Z0luZGV4QnVmZmVyPXQuY3JlYXRlSW5kZXhCdWZmZXIocyksdGhpcy5lbXB0eVRleHR1cmU9bmV3IGUuVGV4dHVyZSh0LG5ldyBlLlJHQkFJbWFnZSh7d2lkdGg6MSxoZWlnaHQ6MX0sVWludDhBcnJheS5vZigwLDAsMCwwKSksdC5nbC5SR0JBKSx0aGlzLmlkZW50aXR5TWF0PWUuY3JlYXRlKCk7Y29uc3QgbD10aGlzLmNvbnRleHQuZ2w7dGhpcy5zdGVuY2lsQ2xlYXJNb2RlPW5ldyBlLlN0ZW5jaWxNb2RlKHtmdW5jOmwuQUxXQVlTLG1hc2s6MH0sMCwyNTUsbC5aRVJPLGwuWkVSTyxsLlpFUk8pLHRoaXMubG9hZFRpbWVTdGFtcHMucHVzaChlLndpbmRvdy5wZXJmb3JtYW5jZS5ub3coKSksdGhpcy5hdG1vc3BoZXJlQnVmZmVyPW5ldyBCbyh0aGlzLmNvbnRleHQpO31nZXRNZXJjYXRvclRpbGVCb3VuZHNCdWZmZXJzKCl7cmV0dXJuIHt0aWxlQm91bmRzQnVmZmVyOnRoaXMubWVyY2F0b3JCb3VuZHNCdWZmZXIsdGlsZUJvdW5kc0luZGV4QnVmZmVyOnRoaXMucXVhZFRyaWFuZ2xlSW5kZXhCdWZmZXIsdGlsZUJvdW5kc1NlZ21lbnRzOnRoaXMubWVyY2F0b3JCb3VuZHNTZWdtZW50c319Z2V0VGlsZUJvdW5kc0J1ZmZlcnMoZSl7cmV0dXJuIGUuX21ha2VUaWxlQm91bmRzQnVmZmVycyh0aGlzLmNvbnRleHQsdGhpcy50cmFuc2Zvcm0ucHJvamVjdGlvbiksZS5fdGlsZUJvdW5kc0J1ZmZlcj97dGlsZUJvdW5kc0J1ZmZlcjplLl90aWxlQm91bmRzQnVmZmVyLHRpbGVCb3VuZHNJbmRleEJ1ZmZlcjplLl90aWxlQm91bmRzSW5kZXhCdWZmZXIsdGlsZUJvdW5kc1NlZ21lbnRzOmUuX3RpbGVCb3VuZHNTZWdtZW50c306dGhpcy5nZXRNZXJjYXRvclRpbGVCb3VuZHNCdWZmZXJzKCl9Y2xlYXJTdGVuY2lsKCl7Y29uc3QgdD10aGlzLmNvbnRleHQsaT10LmdsO3RoaXMubmV4dFN0ZW5jaWxJRD0xLHRoaXMuY3VycmVudFN0ZW5jaWxTb3VyY2U9dm9pZCAwLHRoaXMuX3RpbGVDbGlwcGluZ01hc2tJRHM9e30sdGhpcy51c2VQcm9ncmFtKFwiY2xpcHBpbmdNYXNrXCIpLmRyYXcodCxpLlRSSUFOR0xFUyxlLkRlcHRoTW9kZS5kaXNhYmxlZCx0aGlzLnN0ZW5jaWxDbGVhck1vZGUsZS5Db2xvck1vZGUuZGlzYWJsZWQsZS5DdWxsRmFjZU1vZGUuZGlzYWJsZWQsTWkodGhpcy5pZGVudGl0eU1hdCksXCIkY2xpcHBpbmdcIix0aGlzLnZpZXdwb3J0QnVmZmVyLHRoaXMucXVhZFRyaWFuZ2xlSW5kZXhCdWZmZXIsdGhpcy52aWV3cG9ydFNlZ21lbnRzKTt9cmVzZXRTdGVuY2lsQ2xpcHBpbmdNYXNrcygpe3RoaXMudGVycmFpbnx8KHRoaXMuY3VycmVudFN0ZW5jaWxTb3VyY2U9dm9pZCAwLHRoaXMuX3RpbGVDbGlwcGluZ01hc2tJRHM9e30pO31fcmVuZGVyVGlsZUNsaXBwaW5nTWFza3ModCxpLG8pe2lmKCFpfHx0aGlzLmN1cnJlbnRTdGVuY2lsU291cmNlPT09aS5pZHx8IXQuaXNUaWxlQ2xpcHBlZCgpfHwhb3x8MD09PW8ubGVuZ3RoKXJldHVybjtpZih0aGlzLl90aWxlQ2xpcHBpbmdNYXNrSURzJiYhdGhpcy50ZXJyYWluKXtsZXQgZT0hMTtmb3IoY29uc3QgdCBvZiBvKWlmKHZvaWQgMD09PXRoaXMuX3RpbGVDbGlwcGluZ01hc2tJRHNbdC5rZXldKXtlPSEwO2JyZWFrfWlmKCFlKXJldHVybn10aGlzLmN1cnJlbnRTdGVuY2lsU291cmNlPWkuaWQ7Y29uc3Qgcj10aGlzLmNvbnRleHQsbj1yLmdsO3RoaXMubmV4dFN0ZW5jaWxJRCtvLmxlbmd0aD4yNTYmJnRoaXMuY2xlYXJTdGVuY2lsKCksci5zZXRDb2xvck1vZGUoZS5Db2xvck1vZGUuZGlzYWJsZWQpLHIuc2V0RGVwdGhNb2RlKGUuRGVwdGhNb2RlLmRpc2FibGVkKTtjb25zdCBhPXRoaXMudXNlUHJvZ3JhbShcImNsaXBwaW5nTWFza1wiKTt0aGlzLl90aWxlQ2xpcHBpbmdNYXNrSURzPXt9O2Zvcihjb25zdCB0IG9mIG8pe2NvbnN0IG89aS5nZXRUaWxlKHQpLHM9dGhpcy5fdGlsZUNsaXBwaW5nTWFza0lEc1t0LmtleV09dGhpcy5uZXh0U3RlbmNpbElEKysse3RpbGVCb3VuZHNCdWZmZXI6bCx0aWxlQm91bmRzSW5kZXhCdWZmZXI6Yyx0aWxlQm91bmRzU2VnbWVudHM6aH09dGhpcy5nZXRUaWxlQm91bmRzQnVmZmVycyhvKTthLmRyYXcocixuLlRSSUFOR0xFUyxlLkRlcHRoTW9kZS5kaXNhYmxlZCxuZXcgZS5TdGVuY2lsTW9kZSh7ZnVuYzpuLkFMV0FZUyxtYXNrOjB9LHMsMjU1LG4uS0VFUCxuLktFRVAsbi5SRVBMQUNFKSxlLkNvbG9yTW9kZS5kaXNhYmxlZCxlLkN1bGxGYWNlTW9kZS5kaXNhYmxlZCxNaSh0LnByb2pNYXRyaXgpLFwiJGNsaXBwaW5nXCIsbCxjLGgpO319c3RlbmNpbE1vZGVGb3IzRCgpe3RoaXMuY3VycmVudFN0ZW5jaWxTb3VyY2U9dm9pZCAwLHRoaXMubmV4dFN0ZW5jaWxJRCsxPjI1NiYmdGhpcy5jbGVhclN0ZW5jaWwoKTtjb25zdCB0PXRoaXMubmV4dFN0ZW5jaWxJRCsrLGk9dGhpcy5jb250ZXh0LmdsO3JldHVybiBuZXcgZS5TdGVuY2lsTW9kZSh7ZnVuYzppLk5PVEVRVUFMLG1hc2s6MjU1fSx0LDI1NSxpLktFRVAsaS5LRUVQLGkuUkVQTEFDRSl9c3RlbmNpbE1vZGVGb3JDbGlwcGluZyh0KXtpZih0aGlzLnRlcnJhaW4pcmV0dXJuIHRoaXMudGVycmFpbi5zdGVuY2lsTW9kZUZvclJUVE92ZXJsYXAodCk7Y29uc3QgaT10aGlzLmNvbnRleHQuZ2w7cmV0dXJuIG5ldyBlLlN0ZW5jaWxNb2RlKHtmdW5jOmkuRVFVQUwsbWFzazoyNTV9LHRoaXMuX3RpbGVDbGlwcGluZ01hc2tJRHNbdC5rZXldLDAsaS5LRUVQLGkuS0VFUCxpLlJFUExBQ0UpfXN0ZW5jaWxDb25maWdGb3JPdmVybGFwKHQpe2NvbnN0IGk9dGhpcy5jb250ZXh0LmdsLG89dC5zb3J0KCgoZSx0KT0+dC5vdmVyc2NhbGVkWi1lLm92ZXJzY2FsZWRaKSkscj1vW28ubGVuZ3RoLTFdLm92ZXJzY2FsZWRaLG49b1swXS5vdmVyc2NhbGVkWi1yKzE7aWYobj4xKXt0aGlzLmN1cnJlbnRTdGVuY2lsU291cmNlPXZvaWQgMCx0aGlzLm5leHRTdGVuY2lsSUQrbj4yNTYmJnRoaXMuY2xlYXJTdGVuY2lsKCk7Y29uc3QgdD17fTtmb3IobGV0IG89MDtvPG47bysrKXRbbytyXT1uZXcgZS5TdGVuY2lsTW9kZSh7ZnVuYzppLkdFUVVBTCxtYXNrOjI1NX0sbyt0aGlzLm5leHRTdGVuY2lsSUQsMjU1LGkuS0VFUCxpLktFRVAsaS5SRVBMQUNFKTtyZXR1cm4gdGhpcy5uZXh0U3RlbmNpbElEKz1uLFt0LG9dfXJldHVybiBbe1tyXTplLlN0ZW5jaWxNb2RlLmRpc2FibGVkfSxvXX1jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCl7Y29uc3QgdD10aGlzLmNvbnRleHQuZ2w7aWYodGhpcy5fc2hvd092ZXJkcmF3SW5zcGVjdG9yKXtjb25zdCBpPTEvODtyZXR1cm4gbmV3IGUuQ29sb3JNb2RlKFt0LkNPTlNUQU5UX0NPTE9SLHQuT05FXSxuZXcgZS5Db2xvcihpLGksaSwwKSxbITAsITAsITAsITBdKX1yZXR1cm4gXCJvcGFxdWVcIj09PXRoaXMucmVuZGVyUGFzcz9lLkNvbG9yTW9kZS51bmJsZW5kZWQ6ZS5Db2xvck1vZGUuYWxwaGFCbGVuZGVkfWRlcHRoTW9kZUZvclN1YmxheWVyKHQsaSxvKXtpZighdGhpcy5vcGFxdWVQYXNzRW5hYmxlZEZvckxheWVyKCkpcmV0dXJuIGUuRGVwdGhNb2RlLmRpc2FibGVkO2NvbnN0IHI9MS0oKDErdGhpcy5jdXJyZW50TGF5ZXIpKnRoaXMubnVtU3VibGF5ZXJzK3QpKnRoaXMuZGVwdGhFcHNpbG9uO3JldHVybiBuZXcgZS5EZXB0aE1vZGUob3x8dGhpcy5jb250ZXh0LmdsLkxFUVVBTCxpLFtyLHJdKX1vcGFxdWVQYXNzRW5hYmxlZEZvckxheWVyKCl7cmV0dXJuIHRoaXMuY3VycmVudExheWVyPHRoaXMub3BhcXVlUGFzc0N1dG9mZn1yZW5kZXIodCxpKXt0aGlzLnN0eWxlPXQsdGhpcy5vcHRpb25zPWksdGhpcy5saW5lQXRsYXM9dC5saW5lQXRsYXMsdGhpcy5pbWFnZU1hbmFnZXI9dC5pbWFnZU1hbmFnZXIsdGhpcy5nbHlwaE1hbmFnZXI9dC5nbHlwaE1hbmFnZXIsdGhpcy5zeW1ib2xGYWRlQ2hhbmdlPXQucGxhY2VtZW50LnN5bWJvbEZhZGVDaGFuZ2UoZS5leHBvcnRlZC5ub3coKSksdGhpcy5pbWFnZU1hbmFnZXIuYmVnaW5GcmFtZSgpO2NvbnN0IG89dGhpcy5zdHlsZS5vcmRlcixyPXRoaXMuc3R5bGUuX3NvdXJjZUNhY2hlcztmb3IoY29uc3QgZSBpbiByKXtjb25zdCB0PXJbZV07dC51c2VkJiZ0LnByZXBhcmUodGhpcy5jb250ZXh0KTt9Y29uc3Qgbj17fSxhPXt9LHM9e307Zm9yKGNvbnN0IGUgaW4gcil7Y29uc3QgdD1yW2VdO25bZV09dC5nZXRWaXNpYmxlQ29vcmRpbmF0ZXMoKSxhW2VdPW5bZV0uc2xpY2UoKS5yZXZlcnNlKCksc1tlXT10LmdldFZpc2libGVDb29yZGluYXRlcyghMCkucmV2ZXJzZSgpO310aGlzLm9wYXF1ZVBhc3NDdXRvZmY9MS8wO2ZvcihsZXQgZT0wO2U8by5sZW5ndGg7ZSsrKWlmKHRoaXMuc3R5bGUuX2xheWVyc1tvW2VdXS5pczNEKCkpe3RoaXMub3BhcXVlUGFzc0N1dG9mZj1lO2JyZWFrfWlmKHRoaXMudGVycmFpbiYmKHRoaXMudGVycmFpbi51cGRhdGVUaWxlQmluZGluZyhzKSx0aGlzLm9wYXF1ZVBhc3NDdXRvZmY9MCksXCJnbG9iZVwiIT09dGhpcy50cmFuc2Zvcm0ucHJvamVjdGlvbi5uYW1lfHx0aGlzLmdsb2JlU2hhcmVkQnVmZmVyc3x8KHRoaXMuZ2xvYmVTaGFyZWRCdWZmZXJzPW5ldyBlLkdsb2JlU2hhcmVkQnVmZmVycyh0aGlzLmNvbnRleHQpKSxlLmlzTWFwQXV0aGVudGljYXRlZCh0aGlzLmNvbnRleHQuZ2wpKXt0aGlzLnJlbmRlclBhc3M9XCJvZmZzY3JlZW5cIjtmb3IoY29uc3QgZSBvZiBvKXtjb25zdCBpPXRoaXMuc3R5bGUuX2xheWVyc1tlXSxvPXQuX2dldExheWVyU291cmNlQ2FjaGUoaSk7aWYoIWkuaGFzT2Zmc2NyZWVuUGFzcygpfHxpLmlzSGlkZGVuKHRoaXMudHJhbnNmb3JtLnpvb20pKWNvbnRpbnVlO2NvbnN0IHI9bz9hW28uaWRdOnZvaWQgMDsoXCJjdXN0b21cIj09PWkudHlwZXx8aS5pc1NreSgpfHxyJiZyLmxlbmd0aCkmJnRoaXMucmVuZGVyTGF5ZXIodGhpcyxvLGkscik7fWlmKHRoaXMuZGVwdGhSYW5nZUZvcjNEPVswLDEtKHQub3JkZXIubGVuZ3RoKzIpKnRoaXMubnVtU3VibGF5ZXJzKnRoaXMuZGVwdGhFcHNpbG9uXSx0aGlzLnRlcnJhaW4mJih0aGlzLnN0eWxlLmhhc1N5bWJvbExheWVycygpfHx0aGlzLnN0eWxlLmhhc0NpcmNsZUxheWVycygpKSYmdGhpcy50ZXJyYWluLmRyYXdEZXB0aCgpLHRoaXMuY29udGV4dC5iaW5kRnJhbWVidWZmZXIuc2V0KG51bGwpLHRoaXMuY29udGV4dC52aWV3cG9ydC5zZXQoWzAsMCx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0XSksdGhpcy5jb250ZXh0LmNsZWFyKHtjb2xvcjppLnNob3dPdmVyZHJhd0luc3BlY3Rvcj9lLkNvbG9yLmJsYWNrOmUuQ29sb3IudHJhbnNwYXJlbnQsZGVwdGg6MX0pLHRoaXMuY2xlYXJTdGVuY2lsKCksdGhpcy5fc2hvd092ZXJkcmF3SW5zcGVjdG9yPWkuc2hvd092ZXJkcmF3SW5zcGVjdG9yLHRoaXMucmVuZGVyUGFzcz1cIm9wYXF1ZVwiLCF0aGlzLnRlcnJhaW4pZm9yKHRoaXMuY3VycmVudExheWVyPW8ubGVuZ3RoLTE7dGhpcy5jdXJyZW50TGF5ZXI+PTA7dGhpcy5jdXJyZW50TGF5ZXItLSl7Y29uc3QgZT10aGlzLnN0eWxlLl9sYXllcnNbb1t0aGlzLmN1cnJlbnRMYXllcl1dLGk9dC5fZ2V0TGF5ZXJTb3VyY2VDYWNoZShlKTtpZihlLmlzU2t5KCkpY29udGludWU7Y29uc3Qgcj1pP2FbaS5pZF06dm9pZCAwO3RoaXMuX3JlbmRlclRpbGVDbGlwcGluZ01hc2tzKGUsaSxyKSx0aGlzLnJlbmRlckxheWVyKHRoaXMsaSxlLHIpO31pZih0aGlzLnN0eWxlLmZvZyYmdGhpcy50cmFuc2Zvcm0ucHJvamVjdGlvbi5zdXBwb3J0c0ZvZyYmZnVuY3Rpb24odCxpKXtjb25zdCBvPXQuY29udGV4dCxyPW8uZ2wsbj10LnRyYW5zZm9ybSxhPW5ldyBlLkRlcHRoTW9kZShyLkxFUVVBTCxlLkRlcHRoTW9kZS5SZWFkT25seSxbMCwxXSkscz10LnVzZVByb2dyYW0oXCJnbG9iZUF0bW9zcGhlcmVcIixudWxsLFwiZ2xvYmVcIj09PW4ucHJvamVjdGlvbi5uYW1lP1tcIlBST0pFQ1RJT05fR0xPQkVfVklFV1wiLFwiRk9HXCJdOltcIkZPR1wiXSksbD1lLmdsb2JlVG9NZXJjYXRvclRyYW5zaXRpb24obi56b29tKSxjPWkucHJvcGVydGllcy5nZXQoXCJjb2xvclwiKS50b0FycmF5MDEoKSxoPWkucHJvcGVydGllcy5nZXQoXCJoaWdoLWNvbG9yXCIpLnRvQXJyYXkwMSgpLHU9aS5wcm9wZXJ0aWVzLmdldChcInNwYWNlLWNvbG9yXCIpLnRvQXJyYXkwMVByZW11bHRpcGxpZWRBbHBoYSgpLF89ZS5pZGVudGl0eSQxKFtdKTtlLnJvdGF0ZVkkMShfLF8sLWUuZGVnVG9SYWQobi5fY2VudGVyLmxuZykpLGUucm90YXRlWCQxKF8sXyxlLmRlZ1RvUmFkKG4uX2NlbnRlci5sYXQpKSxlLnJvdGF0ZVokMShfLF8sbi5hbmdsZSksZS5yb3RhdGVYJDEoXyxfLC1uLl9waXRjaCk7Y29uc3QgZD1lLmZyb21RdWF0KG5ldyBGbG9hdDMyQXJyYXkoMTYpLF8pLHA9ZS5tYXBWYWx1ZShpLnByb3BlcnRpZXMuZ2V0KFwic3Rhci1pbnRlbnNpdHlcIiksMCwxLDAsLjI1KSxtPTVlLTQsZj1lLm1hcFZhbHVlKGkucHJvcGVydGllcy5nZXQoXCJob3Jpem9uLWJsZW5kXCIpLDAsMSxtLC4yNSksZz1lLmdsb2JlVXNlQ3VzdG9tQW50aUFsaWFzaW5nKHQsbyxuKSYmZj09PW0/bi53b3JsZFNpemUvKDIqTWF0aC5QSSoxLjAyNSktMTpuLmdsb2JlUmFkaXVzLHY9dC5mcmFtZUNvdW50ZXIvMWUzJTEseD1lLmxlbmd0aChuLmdsb2JlQ2VudGVySW5WaWV3U3BhY2UpLHk9TWF0aC5zcXJ0KE1hdGgucG93KHgsMiktTWF0aC5wb3coZywyKSksYj1NYXRoLmFjb3MoeS94KSx3PSgodCxpLG8scixuLGEscyxsLGMsaCx1LF8sZCxwKT0+KHt1X2ZydXN0dW1fdGw6dCx1X2ZydXN0dW1fdHI6aSx1X2ZydXN0dW1fYnI6byx1X2ZydXN0dW1fYmw6cix1X2hvcml6b246bix1X3RyYW5zaXRpb246YSx1X2ZhZGVvdXRfcmFuZ2U6cyx1X2NvbG9yOmwsdV9oaWdoX2NvbG9yOmMsdV9zcGFjZV9jb2xvcjpoLHVfc3Rhcl9pbnRlbnNpdHk6dSx1X3N0YXJfc2l6ZTo1KmUuZXhwb3J0ZWQuZGV2aWNlUGl4ZWxSYXRpbyx1X3N0YXJfZGVuc2l0eTowLHVfdGVtcG9yYWxfb2Zmc2V0Ol8sdV9ob3Jpem9uX2FuZ2xlOmQsdV9yb3RhdGlvbl9tYXRyaXg6cH0pKShuLmZydXN0dW1Db3JuZXJzLlRMLG4uZnJ1c3R1bUNvcm5lcnMuVFIsbi5mcnVzdHVtQ29ybmVycy5CUixuLmZydXN0dW1Db3JuZXJzLkJMLG4uZnJ1c3R1bUNvcm5lcnMuaG9yaXpvbixsLGYsYyxoLHUscCx2LGIsZCk7dC5wcmVwYXJlRHJhd1Byb2dyYW0obyxzKTtjb25zdCBUPXQuYXRtb3NwaGVyZUJ1ZmZlcjtUJiZzLmRyYXcobyxyLlRSSUFOR0xFUyxhLGUuU3RlbmNpbE1vZGUuZGlzYWJsZWQsZS5Db2xvck1vZGUuYWxwaGFCbGVuZGVkLGUuQ3VsbEZhY2VNb2RlLmJhY2tDVyx3LFwic2t5Ym94XCIsVC52ZXJ0ZXhCdWZmZXIsVC5pbmRleEJ1ZmZlcixULnNlZ21lbnRzKTt9KHRoaXMsdGhpcy5zdHlsZS5mb2cpLHRoaXMucmVuZGVyUGFzcz1cInNreVwiLChlLmdsb2JlVG9NZXJjYXRvclRyYW5zaXRpb24odGhpcy50cmFuc2Zvcm0uem9vbSk+MHx8XCJnbG9iZVwiIT09dGhpcy50cmFuc2Zvcm0ucHJvamVjdGlvbi5uYW1lKSYmdGhpcy50cmFuc2Zvcm0uaXNIb3Jpem9uVmlzaWJsZSgpKWZvcih0aGlzLmN1cnJlbnRMYXllcj0wO3RoaXMuY3VycmVudExheWVyPG8ubGVuZ3RoO3RoaXMuY3VycmVudExheWVyKyspe2NvbnN0IGU9dGhpcy5zdHlsZS5fbGF5ZXJzW29bdGhpcy5jdXJyZW50TGF5ZXJdXSxpPXQuX2dldExheWVyU291cmNlQ2FjaGUoZSk7ZS5pc1NreSgpJiZ0aGlzLnJlbmRlckxheWVyKHRoaXMsaSxlLGk/YVtpLmlkXTp2b2lkIDApO31mb3IodGhpcy5yZW5kZXJQYXNzPVwidHJhbnNsdWNlbnRcIix0aGlzLmN1cnJlbnRMYXllcj0wO3RoaXMuY3VycmVudExheWVyPG8ubGVuZ3RoOyl7Y29uc3QgZT10aGlzLnN0eWxlLl9sYXllcnNbb1t0aGlzLmN1cnJlbnRMYXllcl1dLGk9dC5fZ2V0TGF5ZXJTb3VyY2VDYWNoZShlKTtpZihlLmlzU2t5KCkpeysrdGhpcy5jdXJyZW50TGF5ZXI7Y29udGludWV9aWYodGhpcy50ZXJyYWluJiZ0aGlzLnN0eWxlLmlzTGF5ZXJEcmFwZWQoZSkpe2lmKGUuaXNIaWRkZW4odGhpcy50cmFuc2Zvcm0uem9vbSkpeysrdGhpcy5jdXJyZW50TGF5ZXI7Y29udGludWV9dGhpcy5jdXJyZW50TGF5ZXI9dGhpcy50ZXJyYWluLnJlbmRlckJhdGNoKHRoaXMuY3VycmVudExheWVyKTtjb250aW51ZX1jb25zdCByPWk/KFwic3ltYm9sXCI9PT1lLnR5cGU/czphKVtpLmlkXTp2b2lkIDA7dGhpcy5fcmVuZGVyVGlsZUNsaXBwaW5nTWFza3MoZSxpLGk/bltpLmlkXTp2b2lkIDApLHRoaXMucmVuZGVyTGF5ZXIodGhpcyxpLGUsciksKyt0aGlzLmN1cnJlbnRMYXllcjt9aWYodGhpcy50ZXJyYWluJiZ0aGlzLnRlcnJhaW4ucG9zdFJlbmRlcigpLHRoaXMub3B0aW9ucy5zaG93VGlsZUJvdW5kYXJpZXN8fHRoaXMub3B0aW9ucy5zaG93UXVlcnlHZW9tZXRyeSl7bGV0IGk9bnVsbDtlLnZhbHVlcyh0aGlzLnN0eWxlLl9sYXllcnMpLmZvckVhY2goKGU9Pntjb25zdCBvPXQuX2dldExheWVyU291cmNlQ2FjaGUoZSk7byYmIWUuaXNIaWRkZW4odGhpcy50cmFuc2Zvcm0uem9vbSkmJighaXx8aS5nZXRTb3VyY2UoKS5tYXh6b29tPG8uZ2V0U291cmNlKCkubWF4em9vbSkmJihpPW8pO30pKSxpJiZ0aGlzLm9wdGlvbnMuc2hvd1RpbGVCb3VuZGFyaWVzJiZrby5kZWJ1Zyh0aGlzLGksaS5nZXRWaXNpYmxlQ29vcmRpbmF0ZXMoKSk7fXRoaXMub3B0aW9ucy5zaG93UGFkZGluZyYmZnVuY3Rpb24oZSl7Y29uc3QgdD1lLnRyYW5zZm9ybS5wYWRkaW5nO01vKGUsZS50cmFuc2Zvcm0uaGVpZ2h0LSh0LnRvcHx8MCksMyxibyksTW8oZSx0LmJvdHRvbXx8MCwzLHdvKSxTbyhlLHQubGVmdHx8MCwzLFRvKSxTbyhlLGUudHJhbnNmb3JtLndpZHRoLSh0LnJpZ2h0fHwwKSwzLEVvKTtjb25zdCBpPWUudHJhbnNmb3JtLmNlbnRlclBvaW50OyFmdW5jdGlvbihlLHQsaSxvKXt6byhlLHQtMSxpLTEwLDIsMjAsbyksem8oZSx0LTEwLGktMSwyMCwyLG8pO30oZSxpLngsZS50cmFuc2Zvcm0uaGVpZ2h0LWkueSxDbyk7fSh0aGlzKSx0aGlzLmNvbnRleHQuc2V0RGVmYXVsdCgpLHRoaXMuZnJhbWVDb3VudGVyPSh0aGlzLmZyYW1lQ291bnRlcisxKSVOdW1iZXIuTUFYX1NBRkVfSU5URUdFUix0aGlzLnRpbGVMb2FkZWQmJnRoaXMub3B0aW9ucy5zcGVlZEluZGV4VGltaW5nJiYodGhpcy5sb2FkVGltZVN0YW1wcy5wdXNoKGUud2luZG93LnBlcmZvcm1hbmNlLm5vdygpKSx0aGlzLnNhdmVDYW52YXNDb3B5KCkpO319cmVuZGVyTGF5ZXIoZSx0LGksbyl7aS5pc0hpZGRlbih0aGlzLnRyYW5zZm9ybS56b29tKXx8KFwiYmFja2dyb3VuZFwiPT09aS50eXBlfHxcInNreVwiPT09aS50eXBlfHxcImN1c3RvbVwiPT09aS50eXBlfHxvJiZvLmxlbmd0aCkmJih0aGlzLmlkPWkuaWQsdGhpcy5ncHVUaW1pbmdTdGFydChpKSxlLnRyYW5zZm9ybS5wcm9qZWN0aW9uLnVuc3VwcG9ydGVkTGF5ZXJzJiZlLnRyYW5zZm9ybS5wcm9qZWN0aW9uLnVuc3VwcG9ydGVkTGF5ZXJzLmluY2x1ZGVzKGkudHlwZSl8fGtvW2kudHlwZV0oZSx0LGksbyx0aGlzLnN0eWxlLnBsYWNlbWVudC52YXJpYWJsZU9mZnNldHMsdGhpcy5vcHRpb25zLmlzSW5pdGlhbExvYWQpLHRoaXMuZ3B1VGltaW5nRW5kKCkpO31ncHVUaW1pbmdTdGFydChlKXtpZighdGhpcy5vcHRpb25zLmdwdVRpbWluZylyZXR1cm47Y29uc3QgdD10aGlzLmNvbnRleHQuZXh0VGltZXJRdWVyeTtsZXQgaT10aGlzLmdwdVRpbWVyc1tlLmlkXTtpfHwoaT10aGlzLmdwdVRpbWVyc1tlLmlkXT17Y2FsbHM6MCxjcHVUaW1lOjAscXVlcnk6dC5jcmVhdGVRdWVyeUVYVCgpfSksaS5jYWxscysrLHQuYmVnaW5RdWVyeUVYVCh0LlRJTUVfRUxBUFNFRF9FWFQsaS5xdWVyeSk7fWdwdVRpbWluZ0RlZmVycmVkUmVuZGVyU3RhcnQoKXtpZih0aGlzLm9wdGlvbnMuZ3B1VGltaW5nRGVmZXJyZWRSZW5kZXIpe2NvbnN0IGU9dGhpcy5jb250ZXh0LmV4dFRpbWVyUXVlcnksdD1lLmNyZWF0ZVF1ZXJ5RVhUKCk7dGhpcy5kZWZlcnJlZFJlbmRlckdwdVRpbWVRdWVyaWVzLnB1c2godCksZS5iZWdpblF1ZXJ5RVhUKGUuVElNRV9FTEFQU0VEX0VYVCx0KTt9fWdwdVRpbWluZ0RlZmVycmVkUmVuZGVyRW5kKCl7aWYoIXRoaXMub3B0aW9ucy5ncHVUaW1pbmdEZWZlcnJlZFJlbmRlcilyZXR1cm47Y29uc3QgZT10aGlzLmNvbnRleHQuZXh0VGltZXJRdWVyeTtlLmVuZFF1ZXJ5RVhUKGUuVElNRV9FTEFQU0VEX0VYVCk7fWdwdVRpbWluZ0VuZCgpe2lmKCF0aGlzLm9wdGlvbnMuZ3B1VGltaW5nKXJldHVybjtjb25zdCBlPXRoaXMuY29udGV4dC5leHRUaW1lclF1ZXJ5O2UuZW5kUXVlcnlFWFQoZS5USU1FX0VMQVBTRURfRVhUKTt9Y29sbGVjdEdwdVRpbWVycygpe2NvbnN0IGU9dGhpcy5ncHVUaW1lcnM7cmV0dXJuIHRoaXMuZ3B1VGltZXJzPXt9LGV9Y29sbGVjdERlZmVycmVkUmVuZGVyR3B1UXVlcmllcygpe2NvbnN0IGU9dGhpcy5kZWZlcnJlZFJlbmRlckdwdVRpbWVRdWVyaWVzO3JldHVybiB0aGlzLmRlZmVycmVkUmVuZGVyR3B1VGltZVF1ZXJpZXM9W10sZX1xdWVyeUdwdVRpbWVycyhlKXtjb25zdCB0PXt9O2Zvcihjb25zdCBpIGluIGUpe2NvbnN0IG89ZVtpXSxyPXRoaXMuY29udGV4dC5leHRUaW1lclF1ZXJ5LG49ci5nZXRRdWVyeU9iamVjdEVYVChvLnF1ZXJ5LHIuUVVFUllfUkVTVUxUX0VYVCkvMWU2O3IuZGVsZXRlUXVlcnlFWFQoby5xdWVyeSksdFtpXT1uO31yZXR1cm4gdH1xdWVyeUdwdVRpbWVEZWZlcnJlZFJlbmRlcihlKXtpZighdGhpcy5vcHRpb25zLmdwdVRpbWluZ0RlZmVycmVkUmVuZGVyKXJldHVybiAwO2NvbnN0IHQ9dGhpcy5jb250ZXh0LmV4dFRpbWVyUXVlcnk7bGV0IGk9MDtmb3IoY29uc3QgbyBvZiBlKWkrPXQuZ2V0UXVlcnlPYmplY3RFWFQobyx0LlFVRVJZX1JFU1VMVF9FWFQpLzFlNix0LmRlbGV0ZVF1ZXJ5RVhUKG8pO3JldHVybiBpfXRyYW5zbGF0ZVBvc01hdHJpeCh0LGksbyxyLG4pe2lmKCFvWzBdJiYhb1sxXSlyZXR1cm4gdDtjb25zdCBhPW4/XCJtYXBcIj09PXI/dGhpcy50cmFuc2Zvcm0uYW5nbGU6MDpcInZpZXdwb3J0XCI9PT1yPy10aGlzLnRyYW5zZm9ybS5hbmdsZTowO2lmKGEpe2NvbnN0IGU9TWF0aC5zaW4oYSksdD1NYXRoLmNvcyhhKTtvPVtvWzBdKnQtb1sxXSplLG9bMF0qZStvWzFdKnRdO31jb25zdCBzPVtuP29bMF06TChpLG9bMF0sdGhpcy50cmFuc2Zvcm0uem9vbSksbj9vWzFdOkwoaSxvWzFdLHRoaXMudHJhbnNmb3JtLnpvb20pLDBdLGw9bmV3IEZsb2F0MzJBcnJheSgxNik7cmV0dXJuIGUudHJhbnNsYXRlKGwsdCxzKSxsfXNhdmVUaWxlVGV4dHVyZShlKXtjb25zdCB0PXRoaXMuX3RpbGVUZXh0dXJlc1tlLnNpemVbMF1dO3Q/dC5wdXNoKGUpOnRoaXMuX3RpbGVUZXh0dXJlc1tlLnNpemVbMF1dPVtlXTt9Z2V0VGlsZVRleHR1cmUoZSl7Y29uc3QgdD10aGlzLl90aWxlVGV4dHVyZXNbZV07cmV0dXJuIHQmJnQubGVuZ3RoPjA/dC5wb3AoKTpudWxsfWlzUGF0dGVybk1pc3NpbmcoZSl7aWYoIWUpcmV0dXJuICExO2lmKCFlLmZyb218fCFlLnRvKXJldHVybiAhMDtjb25zdCB0PXRoaXMuaW1hZ2VNYW5hZ2VyLmdldFBhdHRlcm4oZS5mcm9tLnRvU3RyaW5nKCkpLGk9dGhpcy5pbWFnZU1hbmFnZXIuZ2V0UGF0dGVybihlLnRvLnRvU3RyaW5nKCkpO3JldHVybiAhdHx8IWl9Y3VycmVudEdsb2JhbERlZmluZXMoKXtjb25zdCBlPXRoaXMudGVycmFpbiYmdGhpcy50ZXJyYWluLnJlbmRlcmluZ1RvVGV4dHVyZSx0PXRoaXMuc3R5bGUmJnRoaXMuc3R5bGUuZm9nLGk9W107cmV0dXJuIHRoaXMudGVycmFpbiYmIXRoaXMudGVycmFpbi5yZW5kZXJpbmdUb1RleHR1cmUmJmkucHVzaChcIlRFUlJBSU5cIiksdCYmIWUmJjAhPT10LmdldE9wYWNpdHkodGhpcy50cmFuc2Zvcm0ucGl0Y2gpJiZpLnB1c2goXCJGT0dcIiksZSYmaS5wdXNoKFwiUkVOREVSX1RPX1RFWFRVUkVcIiksdGhpcy5fc2hvd092ZXJkcmF3SW5zcGVjdG9yJiZpLnB1c2goXCJPVkVSRFJBV19JTlNQRUNUT1JcIiksaX11c2VQcm9ncmFtKGUsdCxpKXt0aGlzLmNhY2hlPXRoaXMuY2FjaGV8fHt9O2NvbnN0IG89aXx8W10scj10aGlzLmN1cnJlbnRHbG9iYWxEZWZpbmVzKCkuY29uY2F0KG8pLG49TGkuY2FjaGVLZXkoX2lbZV0sZSxyLHQpO3JldHVybiB0aGlzLmNhY2hlW25dfHwodGhpcy5jYWNoZVtuXT1uZXcgTGkodGhpcy5jb250ZXh0LGUsX2lbZV0sdCxsb1tlXSxyKSksdGhpcy5jYWNoZVtuXX1zZXRDdXN0b21MYXllckRlZmF1bHRzKCl7dGhpcy5jb250ZXh0LnVuYmluZFZBTygpLHRoaXMuY29udGV4dC5jdWxsRmFjZS5zZXREZWZhdWx0KCksdGhpcy5jb250ZXh0LmZyb250RmFjZS5zZXREZWZhdWx0KCksdGhpcy5jb250ZXh0LmN1bGxGYWNlU2lkZS5zZXREZWZhdWx0KCksdGhpcy5jb250ZXh0LmFjdGl2ZVRleHR1cmUuc2V0RGVmYXVsdCgpLHRoaXMuY29udGV4dC5waXhlbFN0b3JlVW5wYWNrLnNldERlZmF1bHQoKSx0aGlzLmNvbnRleHQucGl4ZWxTdG9yZVVucGFja1ByZW11bHRpcGx5QWxwaGEuc2V0RGVmYXVsdCgpLHRoaXMuY29udGV4dC5waXhlbFN0b3JlVW5wYWNrRmxpcFkuc2V0RGVmYXVsdCgpO31zZXRCYXNlU3RhdGUoKXtjb25zdCBlPXRoaXMuY29udGV4dC5nbDt0aGlzLmNvbnRleHQuY3VsbEZhY2Uuc2V0KCExKSx0aGlzLmNvbnRleHQudmlld3BvcnQuc2V0KFswLDAsdGhpcy53aWR0aCx0aGlzLmhlaWdodF0pLHRoaXMuY29udGV4dC5ibGVuZEVxdWF0aW9uLnNldChlLkZVTkNfQUREKTt9aW5pdERlYnVnT3ZlcmxheUNhbnZhcygpe251bGw9PXRoaXMuZGVidWdPdmVybGF5Q2FudmFzJiYodGhpcy5kZWJ1Z092ZXJsYXlDYW52YXM9ZS53aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSx0aGlzLmRlYnVnT3ZlcmxheUNhbnZhcy53aWR0aD01MTIsdGhpcy5kZWJ1Z092ZXJsYXlDYW52YXMuaGVpZ2h0PTUxMix0aGlzLmRlYnVnT3ZlcmxheVRleHR1cmU9bmV3IGUuVGV4dHVyZSh0aGlzLmNvbnRleHQsdGhpcy5kZWJ1Z092ZXJsYXlDYW52YXMsdGhpcy5jb250ZXh0LmdsLlJHQkEpKTt9ZGVzdHJveSgpe3RoaXMuX3RlcnJhaW4mJnRoaXMuX3RlcnJhaW4uZGVzdHJveSgpLHRoaXMuZ2xvYmVTaGFyZWRCdWZmZXJzJiZ0aGlzLmdsb2JlU2hhcmVkQnVmZmVycy5kZXN0cm95KCksdGhpcy5lbXB0eVRleHR1cmUuZGVzdHJveSgpLHRoaXMuZGVidWdPdmVybGF5VGV4dHVyZSYmdGhpcy5kZWJ1Z092ZXJsYXlUZXh0dXJlLmRlc3Ryb3koKSx0aGlzLmF0bW9zcGhlcmVCdWZmZXImJnRoaXMuYXRtb3NwaGVyZUJ1ZmZlci5kZXN0cm95KCk7fXByZXBhcmVEcmF3VGlsZSgpe3RoaXMudGVycmFpbiYmdGhpcy50ZXJyYWluLnByZXBhcmVEcmF3VGlsZSgpO31wcmVwYXJlRHJhd1Byb2dyYW0odCxpLG8pe2lmKHRoaXMudGVycmFpbiYmdGhpcy50ZXJyYWluLnJlbmRlcmluZ1RvVGV4dHVyZSlyZXR1cm47Y29uc3Qgcj10aGlzLnN0eWxlLmZvZztpZihyKXtjb25zdCBuPXIuZ2V0T3BhY2l0eSh0aGlzLnRyYW5zZm9ybS5waXRjaCksYT0oKHQsaSxvLHIsbixhLHMsbCxjLGgsdSk9Pntjb25zdCBfPXQudHJhbnNmb3JtLGQ9aS5wcm9wZXJ0aWVzLmdldChcImNvbG9yXCIpLnRvQXJyYXkwMSgpO2RbM109cjtjb25zdCBwPXQuZnJhbWVDb3VudGVyLzFlMyUxO3JldHVybiB7dV9mb2dfbWF0cml4Om8/Xy5jYWxjdWxhdGVGb2dUaWxlTWF0cml4KG8pOnQuaWRlbnRpdHlNYXQsdV9mb2dfcmFuZ2U6aS5nZXRGb3ZBZGp1c3RlZFJhbmdlKF8uX2ZvdiksdV9mb2dfY29sb3I6ZCx1X2ZvZ19ob3Jpem9uX2JsZW5kOmkucHJvcGVydGllcy5nZXQoXCJob3Jpem9uLWJsZW5kXCIpLHVfZm9nX3RlbXBvcmFsX29mZnNldDpwLHVfZnJ1c3R1bV90bDpuLHVfZnJ1c3R1bV90cjphLHVfZnJ1c3R1bV9icjpzLHVfZnJ1c3R1bV9ibDpsLHVfZ2xvYmVfcG9zOmMsdV9nbG9iZV9yYWRpdXM6aCx1X3ZpZXdwb3J0OnUsdV9nbG9iZV90cmFuc2l0aW9uOmUuZ2xvYmVUb01lcmNhdG9yVHJhbnNpdGlvbihfLnpvb20pLHVfaXNfZ2xvYmU6KyhcImdsb2JlXCI9PT1fLnByb2plY3Rpb24ubmFtZSl9fSkodGhpcyxyLG8sbix0aGlzLnRyYW5zZm9ybS5mcnVzdHVtQ29ybmVycy5UTCx0aGlzLnRyYW5zZm9ybS5mcnVzdHVtQ29ybmVycy5UUix0aGlzLnRyYW5zZm9ybS5mcnVzdHVtQ29ybmVycy5CUix0aGlzLnRyYW5zZm9ybS5mcnVzdHVtQ29ybmVycy5CTCx0aGlzLnRyYW5zZm9ybS5nbG9iZUNlbnRlckluVmlld1NwYWNlLHRoaXMudHJhbnNmb3JtLmdsb2JlUmFkaXVzLFt0aGlzLnRyYW5zZm9ybS53aWR0aCplLmV4cG9ydGVkLmRldmljZVBpeGVsUmF0aW8sdGhpcy50cmFuc2Zvcm0uaGVpZ2h0KmUuZXhwb3J0ZWQuZGV2aWNlUGl4ZWxSYXRpb10pO2kuc2V0Rm9nVW5pZm9ybVZhbHVlcyh0LGEpO319c2V0VGlsZUxvYWRlZEZsYWcoZSl7dGhpcy50aWxlTG9hZGVkPWU7fXNhdmVDYW52YXNDb3B5KCl7dGhpcy5mcmFtZUNvcGllcy5wdXNoKHRoaXMuY2FudmFzQ29weSgpKSx0aGlzLnRpbGVMb2FkZWQ9ITE7fWNhbnZhc0NvcHkoKXtjb25zdCBlPXRoaXMuY29udGV4dC5nbCx0PWUuY3JlYXRlVGV4dHVyZSgpO3JldHVybiBlLmJpbmRUZXh0dXJlKGUuVEVYVFVSRV8yRCx0KSxlLmNvcHlUZXhJbWFnZTJEKGUuVEVYVFVSRV8yRCwwLGUuUkdCQSwwLDAsZS5kcmF3aW5nQnVmZmVyV2lkdGgsZS5kcmF3aW5nQnVmZmVySGVpZ2h0LDApLHR9Z2V0Q2FudmFzQ29waWVzQW5kVGltZXN0YW1wcygpe3JldHVybiB7Y2FudmFzQ29waWVzOnRoaXMuZnJhbWVDb3BpZXMsdGltZVN0YW1wczp0aGlzLmxvYWRUaW1lU3RhbXBzfX1hdmVyYWdlRWxldmF0aW9uTmVlZHNFYXNpbmcoKXtpZighdGhpcy50cmFuc2Zvcm0uX2VsZXZhdGlvbilyZXR1cm4gITE7Y29uc3QgZT10aGlzLnN0eWxlJiZ0aGlzLnN0eWxlLmZvZztyZXR1cm4gISFlJiYwIT09ZS5nZXRPcGFjaXR5KHRoaXMudHJhbnNmb3JtLnBpdGNoKX1nZXRCYWNrZ3JvdW5kVGlsZXMoKXtjb25zdCB0PXRoaXMuX2JhY2tncm91bmRUaWxlcyxpPXRoaXMuX2JhY2tncm91bmRUaWxlcz17fSxvPXRoaXMudHJhbnNmb3JtLmNvdmVyaW5nVGlsZXMoe3RpbGVTaXplOjUxMn0pO2Zvcihjb25zdCByIG9mIG8paVtyLmtleV09dFtyLmtleV18fG5ldyBlLlRpbGUociw1MTIsdGhpcy50cmFuc2Zvcm0udGlsZVpvb20sdGhpcyk7cmV0dXJuIGl9Y2xlYXJCYWNrZ3JvdW5kVGlsZXMoKXt0aGlzLl9iYWNrZ3JvdW5kVGlsZXM9e307fX1jbGFzcyBVb3tjb25zdHJ1Y3RvcihlPTAsdD0wLGk9MCxvPTApe2lmKGlzTmFOKGUpfHxlPDB8fGlzTmFOKHQpfHx0PDB8fGlzTmFOKGkpfHxpPDB8fGlzTmFOKG8pfHxvPDApdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCB2YWx1ZSBmb3IgZWRnZS1pbnNldHMsIHRvcCwgYm90dG9tLCBsZWZ0IGFuZCByaWdodCBtdXN0IGFsbCBiZSBudW1iZXJzXCIpO3RoaXMudG9wPWUsdGhpcy5ib3R0b209dCx0aGlzLmxlZnQ9aSx0aGlzLnJpZ2h0PW87fWludGVycG9sYXRlKHQsaSxvKXtyZXR1cm4gbnVsbCE9aS50b3AmJm51bGwhPXQudG9wJiYodGhpcy50b3A9ZS5udW1iZXIodC50b3AsaS50b3AsbykpLG51bGwhPWkuYm90dG9tJiZudWxsIT10LmJvdHRvbSYmKHRoaXMuYm90dG9tPWUubnVtYmVyKHQuYm90dG9tLGkuYm90dG9tLG8pKSxudWxsIT1pLmxlZnQmJm51bGwhPXQubGVmdCYmKHRoaXMubGVmdD1lLm51bWJlcih0LmxlZnQsaS5sZWZ0LG8pKSxudWxsIT1pLnJpZ2h0JiZudWxsIT10LnJpZ2h0JiYodGhpcy5yaWdodD1lLm51bWJlcih0LnJpZ2h0LGkucmlnaHQsbykpLHRoaXN9Z2V0Q2VudGVyKHQsaSl7Y29uc3Qgbz1lLmNsYW1wKCh0aGlzLmxlZnQrdC10aGlzLnJpZ2h0KS8yLDAsdCkscj1lLmNsYW1wKCh0aGlzLnRvcCtpLXRoaXMuYm90dG9tKS8yLDAsaSk7cmV0dXJuIG5ldyBlLnBvaW50R2VvbWV0cnkobyxyKX1lcXVhbHMoZSl7cmV0dXJuIHRoaXMudG9wPT09ZS50b3AmJnRoaXMuYm90dG9tPT09ZS5ib3R0b20mJnRoaXMubGVmdD09PWUubGVmdCYmdGhpcy5yaWdodD09PWUucmlnaHR9Y2xvbmUoKXtyZXR1cm4gbmV3IFVvKHRoaXMudG9wLHRoaXMuYm90dG9tLHRoaXMubGVmdCx0aGlzLnJpZ2h0KX10b0pTT04oKXtyZXR1cm4ge3RvcDp0aGlzLnRvcCxib3R0b206dGhpcy5ib3R0b20sbGVmdDp0aGlzLmxlZnQscmlnaHQ6dGhpcy5yaWdodH19fWZ1bmN0aW9uIE5vKHQsaSl7Y29uc3Qgbz1lLmdldENvbHVtbih0LDMpO2UuZnJvbVF1YXQodCxpKSxlLnNldENvbHVtbih0LDMsbyk7fWZ1bmN0aW9uIEdvKHQsaSl7Y29uc3Qgbz1lLmlkZW50aXR5JDEoW10pO3JldHVybiBlLnJvdGF0ZVokMShvLG8sLWkpLGUucm90YXRlWCQxKG8sbywtdCksb31mdW5jdGlvbiBqbyh0LGkpe2NvbnN0IG89W3RbMF0sdFsxXSwwXSxyPVtpWzBdLGlbMV0sMF07aWYoZS5sZW5ndGgobyk+PTFlLTE1KXtjb25zdCB0PWUubm9ybWFsaXplKFtdLG8pO2Uuc2NhbGUkMihyLHQsZS5kb3Qocix0KSksaVswXT1yWzBdLGlbMV09clsxXTt9Y29uc3Qgbj1lLmNyb3NzKFtdLGksdCk7aWYoZS5sZW4obik8MWUtMTUpcmV0dXJuIG51bGw7Y29uc3QgYT1NYXRoLmF0YW4yKC1uWzFdLG5bMF0pO3JldHVybiBHbyhNYXRoLmF0YW4yKE1hdGguc3FydCh0WzBdKnRbMF0rdFsxXSp0WzFdKSwtdFsyXSksYSl9Y2xhc3MgWm97Y29uc3RydWN0b3IoZSx0KXt0aGlzLnBvc2l0aW9uPWUsdGhpcy5vcmllbnRhdGlvbj10O31nZXQgcG9zaXRpb24oKXtyZXR1cm4gdGhpcy5fcG9zaXRpb259c2V0IHBvc2l0aW9uKHQpe2lmKHQpe2NvbnN0IGk9dCBpbnN0YW5jZW9mIGUuTWVyY2F0b3JDb29yZGluYXRlP3Q6bmV3IGUuTWVyY2F0b3JDb29yZGluYXRlKHRbMF0sdFsxXSx0WzJdKTt0aGlzLl9yZW5kZXJXb3JsZENvcGllcyYmKGkueD1lLndyYXAoaS54LDAsMSkpLHRoaXMuX3Bvc2l0aW9uPWk7fWVsc2UgdGhpcy5fcG9zaXRpb249bnVsbDt9bG9va0F0UG9pbnQodCxpKXtpZih0aGlzLm9yaWVudGF0aW9uPW51bGwsIXRoaXMucG9zaXRpb24pcmV0dXJuO2NvbnN0IG89dGhpcy5fZWxldmF0aW9uP3RoaXMuX2VsZXZhdGlvbi5nZXRBdFBvaW50T3JaZXJvKGUuTWVyY2F0b3JDb29yZGluYXRlLmZyb21MbmdMYXQodCkpOjAscj10aGlzLnBvc2l0aW9uLG49ZS5NZXJjYXRvckNvb3JkaW5hdGUuZnJvbUxuZ0xhdCh0LG8pLGE9W24ueC1yLngsbi55LXIueSxuLnotci56XTtpfHwoaT1bMCwwLDFdKSxpWzJdPU1hdGguYWJzKGlbMl0pLHRoaXMub3JpZW50YXRpb249am8oYSxpKTt9c2V0UGl0Y2hCZWFyaW5nKHQsaSl7dGhpcy5vcmllbnRhdGlvbj1HbyhlLmRlZ1RvUmFkKHQpLGUuZGVnVG9SYWQoLWkpKTt9fWNsYXNzIFZve2NvbnN0cnVjdG9yKHQsaSl7dGhpcy5fdHJhbnNmb3JtPWUuaWRlbnRpdHkoW10pLHRoaXMub3JpZW50YXRpb249aSx0aGlzLnBvc2l0aW9uPXQ7fWdldCBtZXJjYXRvclBvc2l0aW9uKCl7Y29uc3QgdD10aGlzLnBvc2l0aW9uO3JldHVybiBuZXcgZS5NZXJjYXRvckNvb3JkaW5hdGUodFswXSx0WzFdLHRbMl0pfWdldCBwb3NpdGlvbigpe2NvbnN0IHQ9ZS5nZXRDb2x1bW4odGhpcy5fdHJhbnNmb3JtLDMpO3JldHVybiBbdFswXSx0WzFdLHRbMl1dfXNldCBwb3NpdGlvbih0KXt2YXIgaTt0JiZlLnNldENvbHVtbih0aGlzLl90cmFuc2Zvcm0sMyxbKGk9dClbMF0saVsxXSxpWzJdLDFdKTt9Z2V0IG9yaWVudGF0aW9uKCl7cmV0dXJuIHRoaXMuX29yaWVudGF0aW9ufXNldCBvcmllbnRhdGlvbih0KXt0aGlzLl9vcmllbnRhdGlvbj10fHxlLmlkZW50aXR5JDEoW10pLHQmJk5vKHRoaXMuX3RyYW5zZm9ybSx0aGlzLl9vcmllbnRhdGlvbik7fWdldFBpdGNoQmVhcmluZygpe2NvbnN0IGU9dGhpcy5mb3J3YXJkKCksdD10aGlzLnJpZ2h0KCk7cmV0dXJuIHtiZWFyaW5nOk1hdGguYXRhbjIoLXRbMV0sdFswXSkscGl0Y2g6TWF0aC5hdGFuMihNYXRoLnNxcnQoZVswXSplWzBdK2VbMV0qZVsxXSksLWVbMl0pfX1zZXRQaXRjaEJlYXJpbmcoZSx0KXt0aGlzLl9vcmllbnRhdGlvbj1HbyhlLHQpLE5vKHRoaXMuX3RyYW5zZm9ybSx0aGlzLl9vcmllbnRhdGlvbik7fWZvcndhcmQoKXtjb25zdCB0PWUuZ2V0Q29sdW1uKHRoaXMuX3RyYW5zZm9ybSwyKTtyZXR1cm4gWy10WzBdLC10WzFdLC10WzJdXX11cCgpe2NvbnN0IHQ9ZS5nZXRDb2x1bW4odGhpcy5fdHJhbnNmb3JtLDEpO3JldHVybiBbLXRbMF0sLXRbMV0sLXRbMl1dfXJpZ2h0KCl7Y29uc3QgdD1lLmdldENvbHVtbih0aGlzLl90cmFuc2Zvcm0sMCk7cmV0dXJuIFt0WzBdLHRbMV0sdFsyXV19Z2V0Q2FtZXJhVG9Xb3JsZCh0LGkpe2NvbnN0IG89bmV3IEZsb2F0NjRBcnJheSgxNik7cmV0dXJuIGUuaW52ZXJ0KG8sdGhpcy5nZXRXb3JsZFRvQ2FtZXJhKHQsaSkpLG99Z2V0V29ybGRUb0NhbWVyYVBvc2l0aW9uKHQsaSxvKXtjb25zdCByPXRoaXMucG9zaXRpb247ZS5zY2FsZSQyKHIsciwtdCk7Y29uc3Qgbj1uZXcgRmxvYXQ2NEFycmF5KDE2KTtyZXR1cm4gZS5mcm9tU2NhbGluZyhuLFtvLG8sb10pLGUudHJhbnNsYXRlKG4sbixyKSxuWzEwXSo9aSxufWdldFdvcmxkVG9DYW1lcmEodCxpKXtjb25zdCBvPW5ldyBGbG9hdDY0QXJyYXkoMTYpLHI9bmV3IEZsb2F0NjRBcnJheSg0KSxuPXRoaXMucG9zaXRpb247cmV0dXJuIGUuY29uanVnYXRlKHIsdGhpcy5fb3JpZW50YXRpb24pLGUuc2NhbGUkMihuLG4sLXQpLGUuZnJvbVF1YXQobyxyKSxlLnRyYW5zbGF0ZShvLG8sbiksb1sxXSo9LTEsb1s1XSo9LTEsb1s5XSo9LTEsb1sxM10qPS0xLG9bOF0qPWksb1s5XSo9aSxvWzEwXSo9aSxvWzExXSo9aSxvfWdldENhbWVyYVRvQ2xpcFBlcnNwZWN0aXZlKHQsaSxvLHIpe2NvbnN0IG49bmV3IEZsb2F0NjRBcnJheSgxNik7cmV0dXJuIGUucGVyc3BlY3RpdmUobix0LGksbyxyKSxufWdldERpc3RhbmNlVG9FbGV2YXRpb24odCl7Y29uc3QgaT0wPT09dD8wOmUubWVyY2F0b3JaZnJvbUFsdGl0dWRlKHQsdGhpcy5wb3NpdGlvblsxXSksbz10aGlzLmZvcndhcmQoKTtyZXR1cm4gKGktdGhpcy5wb3NpdGlvblsyXSkvb1syXX1jbG9uZSgpe3JldHVybiBuZXcgVm8oWy4uLnRoaXMucG9zaXRpb25dLFsuLi50aGlzLm9yaWVudGF0aW9uXSl9fWZ1bmN0aW9uIFdvKHQsaSl7Y29uc3Qgbz1xbyh0LnByb2plY3Rpb24sdC56b29tLHQud2lkdGgsdC5oZWlnaHQpLHI9ZnVuY3Rpb24odCxpLG8scixuKXtjb25zdCBhPW5ldyBlLkxuZ0xhdChvLmxuZy0xODAqJG8sby5sYXQpLHM9bmV3IGUuTG5nTGF0KG8ubG5nKzE4MCokbyxvLmxhdCksbD10LnByb2plY3QoYS5sbmcsYS5sYXQpLGM9dC5wcm9qZWN0KHMubG5nLHMubGF0KSxoPS1NYXRoLmF0YW4yKGMueS1sLnksYy54LWwueCksdT1lLk1lcmNhdG9yQ29vcmRpbmF0ZS5mcm9tTG5nTGF0KG8pO3UueT1lLmNsYW1wKHUueSwtLjk5OTk3NSwuOTk5OTc1KTtjb25zdCBfPXUudG9MbmdMYXQoKSxkPXQucHJvamVjdChfLmxuZyxfLmxhdCkscD1lLk1lcmNhdG9yQ29vcmRpbmF0ZS5mcm9tTG5nTGF0KF8pO3AueCs9JG87Y29uc3QgbT1wLnRvTG5nTGF0KCksZj10LnByb2plY3QobS5sbmcsbS5sYXQpLGc9WW8oZi54LWQueCxmLnktZC55LGgpLHY9ZS5NZXJjYXRvckNvb3JkaW5hdGUuZnJvbUxuZ0xhdChfKTt2LnkrPSRvO2NvbnN0IHg9di50b0xuZ0xhdCgpLHk9dC5wcm9qZWN0KHgubG5nLHgubGF0KSxiPVlvKHkueC1kLngseS55LWQueSxoKSx3PU1hdGguYWJzKGcueCkvTWF0aC5hYnMoYi55KSxUPWUuaWRlbnRpdHkoW10pO2Uucm90YXRlWihULFQsLWgqKDEtKG4/MDpyKSkpO2NvbnN0IEU9ZS5pZGVudGl0eShbXSk7cmV0dXJuIGUuc2NhbGUoRSxFLFsxLDEtKDEtdykqciwxXSksRVs0XT0tYi54L2IueSpyLGUucm90YXRlWihFLEUsaCksZS5tdWx0aXBseShFLFQsRSksRX0odC5wcm9qZWN0aW9uLDAsdC5jZW50ZXIsbyxpKSxuPVhvKHQpO3JldHVybiBlLnNjYWxlKHIscixbbixuLDFdKSxyfWZ1bmN0aW9uIFhvKHQpe2NvbnN0IGk9dC5wcm9qZWN0aW9uLG89cW8odC5wcm9qZWN0aW9uLHQuem9vbSx0LndpZHRoLHQuaGVpZ2h0KSxyPUhvKGksdC5jZW50ZXIpLG49SG8oaSxlLkxuZ0xhdC5jb252ZXJ0KGkuY2VudGVyKSk7cmV0dXJuIE1hdGgucG93KDIscipvKygxLW8pKm4pfWZ1bmN0aW9uIHFvKHQsaSxvLHIsbj0xLzApe2NvbnN0IGE9dC5yYW5nZTtpZighYSlyZXR1cm4gMDtjb25zdCBzPU1hdGgubWluKG4sTWF0aC5tYXgobyxyKSksbD1NYXRoLmxvZyhzLzEwMjQpL01hdGguTE4yO3JldHVybiBlLnNtb290aHN0ZXAoYVswXStsLGFbMV0rbCxpKX1jb25zdCAkbz0xLzRlNDtmdW5jdGlvbiBIbyh0LGkpe2NvbnN0IG89ZS5jbGFtcChpLmxhdCwtZS5NQVhfTUVSQ0FUT1JfTEFUSVRVREUsZS5NQVhfTUVSQ0FUT1JfTEFUSVRVREUpLHI9bmV3IGUuTG5nTGF0KGkubG5nLTE4MCokbyxvKSxuPW5ldyBlLkxuZ0xhdChpLmxuZysxODAqJG8sbyksYT10LnByb2plY3Qoci5sbmcsbykscz10LnByb2plY3Qobi5sbmcsbyksbD1lLk1lcmNhdG9yQ29vcmRpbmF0ZS5mcm9tTG5nTGF0KHIpLGM9ZS5NZXJjYXRvckNvb3JkaW5hdGUuZnJvbUxuZ0xhdChuKSxoPXMueC1hLngsdT1zLnktYS55LF89Yy54LWwueCxkPWMueS1sLnkscD1NYXRoLnNxcnQoKF8qXytkKmQpLyhoKmgrdSp1KSk7cmV0dXJuIE1hdGgubG9nKHApL01hdGguTE4yfWZ1bmN0aW9uIFlvKGUsdCxpKXtjb25zdCBvPU1hdGguY29zKGkpLHI9TWF0aC5zaW4oaSk7cmV0dXJuIHt4OmUqby10KnIseTplKnIrdCpvfX1jbGFzcyBLb3tjb25zdHJ1Y3Rvcih0LGksbyxyLG4sYSxzKXt0aGlzLnRpbGVTaXplPTUxMix0aGlzLl9yZW5kZXJXb3JsZENvcGllcz12b2lkIDA9PT1ufHxuLHRoaXMuX21pblpvb209dHx8MCx0aGlzLl9tYXhab29tPWl8fDIyLHRoaXMuX21pblBpdGNoPW51bGw9PW8/MDpvLHRoaXMuX21heFBpdGNoPW51bGw9PXI/NjA6cix0aGlzLnNldFByb2plY3Rpb24oYSksdGhpcy5zZXRNYXhCb3VuZHMocyksdGhpcy53aWR0aD0wLHRoaXMuaGVpZ2h0PTAsdGhpcy5fY2VudGVyPW5ldyBlLkxuZ0xhdCgwLDApLHRoaXMuem9vbT0wLHRoaXMuYW5nbGU9MCx0aGlzLl9mb3Y9LjY0MzUwMTEwODc5MzI4NDQsdGhpcy5fcGl0Y2g9MCx0aGlzLl9uZWFyWj0wLHRoaXMuX2Zhclo9MCx0aGlzLl91bm1vZGlmaWVkPSEwLHRoaXMuX2VkZ2VJbnNldHM9bmV3IFVvLHRoaXMuX3Byb2pNYXRyaXhDYWNoZT17fSx0aGlzLl9hbGlnbmVkUHJvak1hdHJpeENhY2hlPXt9LHRoaXMuX2ZvZ1RpbGVNYXRyaXhDYWNoZT17fSx0aGlzLl9kaXN0YW5jZVRpbGVEYXRhQ2FjaGU9e30sdGhpcy5fY2FtZXJhPW5ldyBWbyx0aGlzLl9jZW50ZXJBbHRpdHVkZT0wLHRoaXMuX2F2ZXJhZ2VFbGV2YXRpb249MCx0aGlzLmNhbWVyYUVsZXZhdGlvblJlZmVyZW5jZT1cImdyb3VuZFwiLHRoaXMuX3BpeGVsc1Blck1lcmNhdG9yUGl4ZWw9MSx0aGlzLmdsb2JlUmFkaXVzPTAsdGhpcy5nbG9iZUNlbnRlckluVmlld1NwYWNlPVswLDAsMF0sdGhpcy5faG9yaXpvblNoaWZ0PS4xO31jbG9uZSgpe2NvbnN0IGU9bmV3IEtvKHRoaXMuX21pblpvb20sdGhpcy5fbWF4Wm9vbSx0aGlzLl9taW5QaXRjaCx0aGlzLm1heFBpdGNoLHRoaXMuX3JlbmRlcldvcmxkQ29waWVzLHRoaXMuZ2V0UHJvamVjdGlvbigpKTtyZXR1cm4gZS5fZWxldmF0aW9uPXRoaXMuX2VsZXZhdGlvbixlLl9jZW50ZXJBbHRpdHVkZT10aGlzLl9jZW50ZXJBbHRpdHVkZSxlLl9jZW50ZXJBbHRpdHVkZVZhbGlkRm9yRXhhZ2dlcmF0aW9uPXRoaXMuX2NlbnRlckFsdGl0dWRlVmFsaWRGb3JFeGFnZ2VyYXRpb24sZS50aWxlU2l6ZT10aGlzLnRpbGVTaXplLGUud2lkdGg9dGhpcy53aWR0aCxlLmhlaWdodD10aGlzLmhlaWdodCxlLmNhbWVyYUVsZXZhdGlvblJlZmVyZW5jZT10aGlzLmNhbWVyYUVsZXZhdGlvblJlZmVyZW5jZSxlLl9jZW50ZXI9dGhpcy5fY2VudGVyLGUuX3NldFpvb20odGhpcy56b29tKSxlLl9zZWFMZXZlbFpvb209dGhpcy5fc2VhTGV2ZWxab29tLGUuYW5nbGU9dGhpcy5hbmdsZSxlLl9mb3Y9dGhpcy5fZm92LGUuX3BpdGNoPXRoaXMuX3BpdGNoLGUuX25lYXJaPXRoaXMuX25lYXJaLGUuX2Zhclo9dGhpcy5fZmFyWixlLl9hdmVyYWdlRWxldmF0aW9uPXRoaXMuX2F2ZXJhZ2VFbGV2YXRpb24sZS5fdW5tb2RpZmllZD10aGlzLl91bm1vZGlmaWVkLGUuX2VkZ2VJbnNldHM9dGhpcy5fZWRnZUluc2V0cy5jbG9uZSgpLGUuX2NhbWVyYT10aGlzLl9jYW1lcmEuY2xvbmUoKSxlLl9jYWxjTWF0cmljZXMoKSxlLmZyZWV6ZVRpbGVDb3ZlcmFnZT10aGlzLmZyZWV6ZVRpbGVDb3ZlcmFnZSxlLmZydXN0dW1Db3JuZXJzPXRoaXMuZnJ1c3R1bUNvcm5lcnMsZX1nZXQgZWxldmF0aW9uKCl7cmV0dXJuIHRoaXMuX2VsZXZhdGlvbn1zZXQgZWxldmF0aW9uKGUpe3RoaXMuX2VsZXZhdGlvbiE9PWUmJih0aGlzLl9lbGV2YXRpb249ZSx0aGlzLl91cGRhdGVDYW1lcmFPblRlcnJhaW4oKSx0aGlzLl9jYWxjTWF0cmljZXMoKSk7fXVwZGF0ZUVsZXZhdGlvbihlKXtjb25zdCB0PXRoaXMuX2VsZXZhdGlvbiYmdGhpcy5fZWxldmF0aW9uLmV4YWdnZXJhdGlvbigpIT09dGhpcy5fY2VudGVyQWx0aXR1ZGVWYWxpZEZvckV4YWdnZXJhdGlvbjsobnVsbD09dGhpcy5fc2VhTGV2ZWxab29tfHx0KSYmdGhpcy5fdXBkYXRlQ2FtZXJhT25UZXJyYWluKCksKGV8fHQpJiZ0aGlzLl9jb25zdHJhaW5DYW1lcmFBbHRpdHVkZSgpLHRoaXMuX2NhbGNNYXRyaWNlcygpO31nZXRQcm9qZWN0aW9uKCl7cmV0dXJuIGUucGljayh0aGlzLnByb2plY3Rpb24sW1wibmFtZVwiLFwiY2VudGVyXCIsXCJwYXJhbGxlbHNcIl0pfXNldFByb2plY3Rpb24oaSl7dGhpcy5wcm9qZWN0aW9uT3B0aW9ucz1pfHx7bmFtZTpcIm1lcmNhdG9yXCJ9O2NvbnN0IG89dGhpcy5wcm9qZWN0aW9uP3RoaXMuZ2V0UHJvamVjdGlvbigpOnZvaWQgMDt0aGlzLnByb2plY3Rpb249ZS5nZXRQcm9qZWN0aW9uKHRoaXMucHJvamVjdGlvbk9wdGlvbnMpO2NvbnN0IHI9IXQobyx0aGlzLmdldFByb2plY3Rpb24oKSk7cmV0dXJuIHImJnRoaXMuX2NhbGNNYXRyaWNlcygpLHRoaXMubWVyY2F0b3JGcm9tVHJhbnNpdGlvbj0hMSxyfXNldE1lcmNhdG9yRnJvbVRyYW5zaXRpb24oKXtjb25zdCB0PXRoaXMucHJvamVjdGlvbi5uYW1lO3RoaXMubWVyY2F0b3JGcm9tVHJhbnNpdGlvbj0hMCx0aGlzLnByb2plY3Rpb25PcHRpb25zPXtuYW1lOlwibWVyY2F0b3JcIn0sdGhpcy5wcm9qZWN0aW9uPWUuZ2V0UHJvamVjdGlvbih7bmFtZTpcIm1lcmNhdG9yXCJ9KTtjb25zdCBpPXQhPT10aGlzLnByb2plY3Rpb24ubmFtZTtyZXR1cm4gaSYmdGhpcy5fY2FsY01hdHJpY2VzKCksaX1nZXQgbWluWm9vbSgpe3JldHVybiB0aGlzLl9taW5ab29tfXNldCBtaW5ab29tKGUpe3RoaXMuX21pblpvb20hPT1lJiYodGhpcy5fbWluWm9vbT1lLHRoaXMuem9vbT1NYXRoLm1heCh0aGlzLnpvb20sZSkpO31nZXQgbWF4Wm9vbSgpe3JldHVybiB0aGlzLl9tYXhab29tfXNldCBtYXhab29tKGUpe3RoaXMuX21heFpvb20hPT1lJiYodGhpcy5fbWF4Wm9vbT1lLHRoaXMuem9vbT1NYXRoLm1pbih0aGlzLnpvb20sZSkpO31nZXQgbWluUGl0Y2goKXtyZXR1cm4gdGhpcy5fbWluUGl0Y2h9c2V0IG1pblBpdGNoKGUpe3RoaXMuX21pblBpdGNoIT09ZSYmKHRoaXMuX21pblBpdGNoPWUsdGhpcy5waXRjaD1NYXRoLm1heCh0aGlzLnBpdGNoLGUpKTt9Z2V0IG1heFBpdGNoKCl7cmV0dXJuIHRoaXMuX21heFBpdGNofXNldCBtYXhQaXRjaChlKXt0aGlzLl9tYXhQaXRjaCE9PWUmJih0aGlzLl9tYXhQaXRjaD1lLHRoaXMucGl0Y2g9TWF0aC5taW4odGhpcy5waXRjaCxlKSk7fWdldCByZW5kZXJXb3JsZENvcGllcygpe3JldHVybiB0aGlzLl9yZW5kZXJXb3JsZENvcGllcyYmITA9PT10aGlzLnByb2plY3Rpb24uc3VwcG9ydHNXb3JsZENvcGllc31zZXQgcmVuZGVyV29ybGRDb3BpZXMoZSl7dm9pZCAwPT09ZT9lPSEwOm51bGw9PT1lJiYoZT0hMSksdGhpcy5fcmVuZGVyV29ybGRDb3BpZXM9ZTt9Z2V0IHdvcmxkU2l6ZSgpe3JldHVybiB0aGlzLnRpbGVTaXplKnRoaXMuc2NhbGV9Z2V0IGNhbWVyYVdvcmxkU2l6ZSgpe2NvbnN0IGU9TWF0aC5tYXgodGhpcy5fY2FtZXJhLmdldERpc3RhbmNlVG9FbGV2YXRpb24odGhpcy5fYXZlcmFnZUVsZXZhdGlvbiksTnVtYmVyLkVQU0lMT04pO3JldHVybiB0aGlzLl93b3JsZFNpemVGcm9tWm9vbSh0aGlzLl96b29tRnJvbU1lcmNhdG9yWihlKSl9Z2V0IHBpeGVsc1Blck1ldGVyKCl7cmV0dXJuIHRoaXMucHJvamVjdGlvbi5waXhlbHNQZXJNZXRlcih0aGlzLmNlbnRlci5sYXQsdGhpcy53b3JsZFNpemUpfWdldCBjYW1lcmFQaXhlbHNQZXJNZXRlcigpe3JldHVybiBlLm1lcmNhdG9yWmZyb21BbHRpdHVkZSh0aGlzLmNlbnRlci5sYXQsdGhpcy5jYW1lcmFXb3JsZFNpemUpfWdldCBjZW50ZXJPZmZzZXQoKXtyZXR1cm4gdGhpcy5jZW50ZXJQb2ludC5fc3ViKHRoaXMuc2l6ZS5fZGl2KDIpKX1nZXQgc2l6ZSgpe3JldHVybiBuZXcgZS5wb2ludEdlb21ldHJ5KHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpfWdldCBiZWFyaW5nKCl7cmV0dXJuIGUud3JhcCh0aGlzLnJvdGF0aW9uLC0xODAsMTgwKX1zZXQgYmVhcmluZyhlKXt0aGlzLnJvdGF0aW9uPWU7fWdldCByb3RhdGlvbigpe3JldHVybiAtdGhpcy5hbmdsZS9NYXRoLlBJKjE4MH1zZXQgcm90YXRpb24odCl7Y29uc3QgaT0tdCpNYXRoLlBJLzE4MDt2YXIgbzt0aGlzLmFuZ2xlIT09aSYmKHRoaXMuX3VubW9kaWZpZWQ9ITEsdGhpcy5hbmdsZT1pLHRoaXMuX2NhbGNNYXRyaWNlcygpLHRoaXMucm90YXRpb25NYXRyaXg9KG89bmV3IGUuQVJSQVlfVFlQRSg0KSxlLkFSUkFZX1RZUEUhPUZsb2F0MzJBcnJheSYmKG9bMV09MCxvWzJdPTApLG9bMF09MSxvWzNdPTEsbyksZnVuY3Rpb24oZSx0LGkpe3ZhciBvPXRbMF0scj10WzFdLG49dFsyXSxhPXRbM10scz1NYXRoLnNpbihpKSxsPU1hdGguY29zKGkpO2VbMF09bypsK24qcyxlWzFdPXIqbCthKnMsZVsyXT1vKi1zK24qbCxlWzNdPXIqLXMrYSpsO30odGhpcy5yb3RhdGlvbk1hdHJpeCx0aGlzLnJvdGF0aW9uTWF0cml4LHRoaXMuYW5nbGUpKTt9Z2V0IHBpdGNoKCl7cmV0dXJuIHRoaXMuX3BpdGNoL01hdGguUEkqMTgwfXNldCBwaXRjaCh0KXtjb25zdCBpPWUuY2xhbXAodCx0aGlzLm1pblBpdGNoLHRoaXMubWF4UGl0Y2gpLzE4MCpNYXRoLlBJO3RoaXMuX3BpdGNoIT09aSYmKHRoaXMuX3VubW9kaWZpZWQ9ITEsdGhpcy5fcGl0Y2g9aSx0aGlzLl9jYWxjTWF0cmljZXMoKSk7fWdldCBmb3YoKXtyZXR1cm4gdGhpcy5fZm92L01hdGguUEkqMTgwfXNldCBmb3YoZSl7ZT1NYXRoLm1heCguMDEsTWF0aC5taW4oNjAsZSkpLHRoaXMuX2ZvdiE9PWUmJih0aGlzLl91bm1vZGlmaWVkPSExLHRoaXMuX2Zvdj1lLzE4MCpNYXRoLlBJLHRoaXMuX2NhbGNNYXRyaWNlcygpKTt9Z2V0IGF2ZXJhZ2VFbGV2YXRpb24oKXtyZXR1cm4gdGhpcy5fYXZlcmFnZUVsZXZhdGlvbn1zZXQgYXZlcmFnZUVsZXZhdGlvbihlKXt0aGlzLl9hdmVyYWdlRWxldmF0aW9uPWUsdGhpcy5fY2FsY0ZvZ01hdHJpY2VzKCksdGhpcy5fZGlzdGFuY2VUaWxlRGF0YUNhY2hlPXt9O31nZXQgem9vbSgpe3JldHVybiB0aGlzLl96b29tfXNldCB6b29tKGUpe2NvbnN0IHQ9TWF0aC5taW4oTWF0aC5tYXgoZSx0aGlzLm1pblpvb20pLHRoaXMubWF4Wm9vbSk7dGhpcy5fem9vbSE9PXQmJih0aGlzLl91bm1vZGlmaWVkPSExLHRoaXMuX3NldFpvb20odCksdGhpcy5fdXBkYXRlU2VhTGV2ZWxab29tKCksdGhpcy5fY29uc3RyYWluKCksdGhpcy5fY2FsY01hdHJpY2VzKCkpO31fc2V0Wm9vbShlKXt0aGlzLl96b29tPWUsdGhpcy5zY2FsZT10aGlzLnpvb21TY2FsZShlKSx0aGlzLnRpbGVab29tPU1hdGguZmxvb3IoZSksdGhpcy56b29tRnJhY3Rpb249ZS10aGlzLnRpbGVab29tO31fdXBkYXRlQ2FtZXJhT25UZXJyYWluKCl7aWYoIXRoaXMuX2VsZXZhdGlvbnx8IXRoaXMuX2VsZXZhdGlvbi5pc0RhdGFBdmFpbGFibGVBdFBvaW50KHRoaXMubG9jYXRpb25Db29yZGluYXRlKHRoaXMuY2VudGVyKSkpcmV0dXJuIHRoaXMuX2NlbnRlckFsdGl0dWRlPTAsdGhpcy5fc2VhTGV2ZWxab29tPW51bGwsdm9pZCh0aGlzLl9jZW50ZXJBbHRpdHVkZVZhbGlkRm9yRXhhZ2dlcmF0aW9uPXZvaWQgMCk7Y29uc3QgZT10aGlzLl9lbGV2YXRpb247dGhpcy5fY2VudGVyQWx0aXR1ZGU9ZS5nZXRBdFBvaW50T3JaZXJvKHRoaXMubG9jYXRpb25Db29yZGluYXRlKHRoaXMuY2VudGVyKSksdGhpcy5fY2VudGVyQWx0aXR1ZGVWYWxpZEZvckV4YWdnZXJhdGlvbj1lLmV4YWdnZXJhdGlvbigpLHRoaXMuX3VwZGF0ZVNlYUxldmVsWm9vbSgpO31fdXBkYXRlU2VhTGV2ZWxab29tKCl7dm9pZCAwIT09dGhpcy5fY2VudGVyQWx0aXR1ZGVWYWxpZEZvckV4YWdnZXJhdGlvbiYmKHRoaXMuX3NlYUxldmVsWm9vbT10aGlzLl96b29tRnJvbU1lcmNhdG9yWigodGhpcy5waXhlbHNQZXJNZXRlcip0aGlzLl9jZW50ZXJBbHRpdHVkZSt0aGlzLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2UpL3RoaXMud29ybGRTaXplKSk7fXNhbXBsZUF2ZXJhZ2VFbGV2YXRpb24oKXtpZighdGhpcy5fZWxldmF0aW9uKXJldHVybiAwO2NvbnN0IHQ9dGhpcy5fZWxldmF0aW9uLGk9W1suNSwuMl0sWy4zLC41XSxbLjUsLjVdLFsuNywuNV0sWy41LC44XV0sbz10aGlzLmhvcml6b25MaW5lRnJvbVRvcCgpO2xldCByPTAsbj0wO2ZvcihsZXQgYT0wO2E8aS5sZW5ndGg7YSsrKXtjb25zdCBzPW5ldyBlLnBvaW50R2VvbWV0cnkoaVthXVswXSp0aGlzLndpZHRoLG8raVthXVsxXSoodGhpcy5oZWlnaHQtbykpLGw9dC5wb2ludENvb3JkaW5hdGUocyk7aWYoIWwpY29udGludWU7Y29uc3QgYz0xL01hdGguaHlwb3QobFswXS10aGlzLl9jYW1lcmEucG9zaXRpb25bMF0sbFsxXS10aGlzLl9jYW1lcmEucG9zaXRpb25bMV0pO3IrPWxbM10qYyxuKz1jO31yZXR1cm4gMD09PW4/TmFOOnIvbn1nZXQgY2VudGVyKCl7cmV0dXJuIHRoaXMuX2NlbnRlcn1zZXQgY2VudGVyKGUpe2UubGF0PT09dGhpcy5fY2VudGVyLmxhdCYmZS5sbmc9PT10aGlzLl9jZW50ZXIubG5nfHwodGhpcy5fdW5tb2RpZmllZD0hMSx0aGlzLl9jZW50ZXI9ZSx0aGlzLl90ZXJyYWluRW5hYmxlZCgpJiYoXCJncm91bmRcIj09PXRoaXMuY2FtZXJhRWxldmF0aW9uUmVmZXJlbmNlP3RoaXMuX3VwZGF0ZUNhbWVyYU9uVGVycmFpbigpOnRoaXMuX3VwZGF0ZVpvb21Gcm9tRWxldmF0aW9uKCkpLHRoaXMuX2NvbnN0cmFpbigpLHRoaXMuX2NhbGNNYXRyaWNlcygpKTt9X3VwZGF0ZVpvb21Gcm9tRWxldmF0aW9uKCl7aWYobnVsbD09dGhpcy5fc2VhTGV2ZWxab29tfHwhdGhpcy5fZWxldmF0aW9uKXJldHVybjtjb25zdCBlPXRoaXMuX3NlYUxldmVsWm9vbSx0PXRoaXMuX2VsZXZhdGlvbi5nZXRBdFBvaW50T3JaZXJvKHRoaXMubG9jYXRpb25Db29yZGluYXRlKHRoaXMuY2VudGVyKSksaT10aGlzLnBpeGVsc1Blck1ldGVyL3RoaXMud29ybGRTaXplKnQsbz10aGlzLl9tZXJjYXRvclpmcm9tWm9vbShlKSxyPXRoaXMuX21lcmNhdG9yWmZyb21ab29tKHRoaXMuX21heFpvb20pLG49TWF0aC5tYXgoby1pLHIpO3RoaXMuX3NldFpvb20odGhpcy5fem9vbUZyb21NZXJjYXRvcloobikpO31nZXQgcGFkZGluZygpe3JldHVybiB0aGlzLl9lZGdlSW5zZXRzLnRvSlNPTigpfXNldCBwYWRkaW5nKGUpe3RoaXMuX2VkZ2VJbnNldHMuZXF1YWxzKGUpfHwodGhpcy5fdW5tb2RpZmllZD0hMSx0aGlzLl9lZGdlSW5zZXRzLmludGVycG9sYXRlKHRoaXMuX2VkZ2VJbnNldHMsZSwxKSx0aGlzLl9jYWxjTWF0cmljZXMoKSk7fWNvbXB1dGVab29tUmVsYXRpdmVUbyh0KXtjb25zdCBpPXRoaXMucmF5SW50ZXJzZWN0aW9uQ29vcmRpbmF0ZSh0aGlzLnBvaW50UmF5SW50ZXJzZWN0aW9uKHRoaXMuY2VudGVyUG9pbnQsdC50b0FsdGl0dWRlKCkpKTtsZXQgbztvPXQuejx0aGlzLl9jYW1lcmEucG9zaXRpb25bMl0/W2kueCxpLnksaS56XTpbdC54LHQueSx0LnpdO2NvbnN0IHI9ZS5sZW5ndGgoZS5zdWIoW10sdGhpcy5fY2FtZXJhLnBvc2l0aW9uLG8pKTtyZXR1cm4gZS5jbGFtcCh0aGlzLl96b29tRnJvbU1lcmNhdG9yWihyKSx0aGlzLl9taW5ab29tLHRoaXMuX21heFpvb20pfXNldEZyZWVDYW1lcmFPcHRpb25zKHQpe2lmKCF0aGlzLmhlaWdodClyZXR1cm47aWYoIXQucG9zaXRpb24mJiF0Lm9yaWVudGF0aW9uKXJldHVybjt0aGlzLl91cGRhdGVDYW1lcmFTdGF0ZSgpO2xldCBpPSExO2lmKHQub3JpZW50YXRpb24mJiFlLmV4YWN0RXF1YWxzKHQub3JpZW50YXRpb24sdGhpcy5fY2FtZXJhLm9yaWVudGF0aW9uKSYmKGk9dGhpcy5fc2V0Q2FtZXJhT3JpZW50YXRpb24odC5vcmllbnRhdGlvbikpLHQucG9zaXRpb24pe2NvbnN0IG89W3QucG9zaXRpb24ueCx0LnBvc2l0aW9uLnksdC5wb3NpdGlvbi56XTtlLmV4YWN0RXF1YWxzJDEobyx0aGlzLl9jYW1lcmEucG9zaXRpb24pfHwodGhpcy5fc2V0Q2FtZXJhUG9zaXRpb24obyksaT0hMCk7fWkmJih0aGlzLl91cGRhdGVTdGF0ZUZyb21DYW1lcmEoKSx0aGlzLnJlY2VudGVyT25UZXJyYWluKCkpO31nZXRGcmVlQ2FtZXJhT3B0aW9ucygpe3RoaXMuX3VwZGF0ZUNhbWVyYVN0YXRlKCk7Y29uc3QgdD10aGlzLl9jYW1lcmEucG9zaXRpb24saT1uZXcgWm87cmV0dXJuIGkucG9zaXRpb249bmV3IGUuTWVyY2F0b3JDb29yZGluYXRlKHRbMF0sdFsxXSx0WzJdKSxpLm9yaWVudGF0aW9uPXRoaXMuX2NhbWVyYS5vcmllbnRhdGlvbixpLl9lbGV2YXRpb249dGhpcy5lbGV2YXRpb24saS5fcmVuZGVyV29ybGRDb3BpZXM9dGhpcy5yZW5kZXJXb3JsZENvcGllcyxpfV9zZXRDYW1lcmFPcmllbnRhdGlvbih0KXtpZighZS5sZW5ndGgkMSh0KSlyZXR1cm4gITE7ZS5ub3JtYWxpemUkMSh0LHQpO2NvbnN0IGk9ZS50cmFuc2Zvcm1RdWF0KFtdLFswLDAsLTFdLHQpLG89ZS50cmFuc2Zvcm1RdWF0KFtdLFswLC0xLDBdLHQpO2lmKG9bMl08MClyZXR1cm4gITE7Y29uc3Qgcj1qbyhpLG8pO3JldHVybiAhIXImJih0aGlzLl9jYW1lcmEub3JpZW50YXRpb249ciwhMCl9X3NldENhbWVyYVBvc2l0aW9uKHQpe2NvbnN0IGk9dGhpcy56b29tU2NhbGUodGhpcy5taW5ab29tKSp0aGlzLnRpbGVTaXplLG89dGhpcy56b29tU2NhbGUodGhpcy5tYXhab29tKSp0aGlzLnRpbGVTaXplLHI9dGhpcy5jYW1lcmFUb0NlbnRlckRpc3RhbmNlO3RbMl09ZS5jbGFtcCh0WzJdLHIvbyxyL2kpLHRoaXMuX2NhbWVyYS5wb3NpdGlvbj10O31nZXQgY2VudGVyUG9pbnQoKXtyZXR1cm4gdGhpcy5fZWRnZUluc2V0cy5nZXRDZW50ZXIodGhpcy53aWR0aCx0aGlzLmhlaWdodCl9Z2V0IGZvdkFib3ZlQ2VudGVyKCl7cmV0dXJuIHRoaXMuX2ZvdiooLjUrdGhpcy5jZW50ZXJPZmZzZXQueS90aGlzLmhlaWdodCl9aXNQYWRkaW5nRXF1YWwoZSl7cmV0dXJuIHRoaXMuX2VkZ2VJbnNldHMuZXF1YWxzKGUpfWludGVycG9sYXRlUGFkZGluZyhlLHQsaSl7dGhpcy5fdW5tb2RpZmllZD0hMSx0aGlzLl9lZGdlSW5zZXRzLmludGVycG9sYXRlKGUsdCxpKSx0aGlzLl9jb25zdHJhaW4oKSx0aGlzLl9jYWxjTWF0cmljZXMoKTt9Y292ZXJpbmdab29tTGV2ZWwoZSl7Y29uc3QgdD0oZS5yb3VuZFpvb20/TWF0aC5yb3VuZDpNYXRoLmZsb29yKSh0aGlzLnpvb20rdGhpcy5zY2FsZVpvb20odGhpcy50aWxlU2l6ZS9lLnRpbGVTaXplKSk7cmV0dXJuIE1hdGgubWF4KDAsdCl9Z2V0VmlzaWJsZVVud3JhcHBlZENvb3JkaW5hdGVzKHQpe2NvbnN0IGk9W25ldyBlLlVud3JhcHBlZFRpbGVJRCgwLHQpXTtpZih0aGlzLnJlbmRlcldvcmxkQ29waWVzKXtjb25zdCBvPXRoaXMucG9pbnRDb29yZGluYXRlKG5ldyBlLnBvaW50R2VvbWV0cnkoMCwwKSkscj10aGlzLnBvaW50Q29vcmRpbmF0ZShuZXcgZS5wb2ludEdlb21ldHJ5KHRoaXMud2lkdGgsMCkpLG49dGhpcy5wb2ludENvb3JkaW5hdGUobmV3IGUucG9pbnRHZW9tZXRyeSh0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KSksYT10aGlzLnBvaW50Q29vcmRpbmF0ZShuZXcgZS5wb2ludEdlb21ldHJ5KDAsdGhpcy5oZWlnaHQpKSxzPU1hdGguZmxvb3IoTWF0aC5taW4oby54LHIueCxuLngsYS54KSksbD1NYXRoLmZsb29yKE1hdGgubWF4KG8ueCxyLngsbi54LGEueCkpLGM9MTtmb3IobGV0IG89cy1jO288PWwrYztvKyspMCE9PW8mJmkucHVzaChuZXcgZS5VbndyYXBwZWRUaWxlSUQobyx0KSk7fXJldHVybiBpfWNvdmVyaW5nVGlsZXModCl7bGV0IGk9dGhpcy5jb3ZlcmluZ1pvb21MZXZlbCh0KTtjb25zdCBvPWkscj10aGlzLmVsZXZhdGlvbiYmIXQuaXNUZXJyYWluREVNLG49XCJtZXJjYXRvclwiPT09dGhpcy5wcm9qZWN0aW9uLm5hbWU7aWYodm9pZCAwIT09dC5taW56b29tJiZpPHQubWluem9vbSlyZXR1cm4gW107dm9pZCAwIT09dC5tYXh6b29tJiZpPnQubWF4em9vbSYmKGk9dC5tYXh6b29tKTtjb25zdCBhPXRoaXMubG9jYXRpb25Db29yZGluYXRlKHRoaXMuY2VudGVyKSxzPXRoaXMuY2VudGVyLmxhdCxsPTE8PGksYz1bbCphLngsbCphLnksMF0saD1cImdsb2JlXCI9PT10aGlzLnByb2plY3Rpb24ubmFtZSx1PSFoLF89ZS5GcnVzdHVtLmZyb21JbnZQcm9qZWN0aW9uTWF0cml4KHRoaXMuaW52UHJvak1hdHJpeCx0aGlzLndvcmxkU2l6ZSxpLHUpLGQ9aD90aGlzLl9jYW1lcmEubWVyY2F0b3JQb3NpdGlvbjp0aGlzLnBvaW50Q29vcmRpbmF0ZSh0aGlzLmdldENhbWVyYVBvaW50KCkpLHA9bCplLm1lcmNhdG9yWmZyb21BbHRpdHVkZSgxLHRoaXMuY2VudGVyLmxhdCksbT10aGlzLl9jYW1lcmEucG9zaXRpb25bMl0vZS5tZXJjYXRvclpmcm9tQWx0aXR1ZGUoMSx0aGlzLmNlbnRlci5sYXQpLGY9W2wqZC54LGwqZC55LG0qKHU/MTpwKV0sZz10aGlzLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2UvdC50aWxlU2l6ZSoodC5yb3VuZFpvb20/MTouNTAyKSx2PXRoaXMucGl0Y2g8PTYwJiZ0aGlzLl9lZGdlSW5zZXRzLnRvcDw9dGhpcy5fZWRnZUluc2V0cy5ib3R0b20mJiF0aGlzLl9lbGV2YXRpb24mJiF0aGlzLnByb2plY3Rpb24uaXNSZXByb2plY3RlZEluVGlsZVNwYWNlP2k6MCx4PXQuaXNUZXJyYWluREVNJiZ0aGlzLl9lbGV2YXRpb24/MWU0KnRoaXMuX2VsZXZhdGlvbi5leGFnZ2VyYXRpb24oKTp0aGlzLl9jZW50ZXJBbHRpdHVkZSx5PXQuaXNUZXJyYWluREVNPy14OnRoaXMuX2VsZXZhdGlvbj90aGlzLl9lbGV2YXRpb24uZ2V0TWluRWxldmF0aW9uQmVsb3dNU0woKTowLGI9dGhpcy5wcm9qZWN0aW9uLmlzUmVwcm9qZWN0ZWRJblRpbGVTcGFjZT9Ybyh0aGlzKToxLHc9dD0+e2NvbnN0IGk9MS80ZTQsbz1uZXcgZS5NZXJjYXRvckNvb3JkaW5hdGUodC54K2ksdC55LHQueikscj1uZXcgZS5NZXJjYXRvckNvb3JkaW5hdGUodC54LHQueStpLHQueiksbj10LnRvTG5nTGF0KCksYT1vLnRvTG5nTGF0KCkscz1yLnRvTG5nTGF0KCksbD10aGlzLmxvY2F0aW9uQ29vcmRpbmF0ZShuKSxjPXRoaXMubG9jYXRpb25Db29yZGluYXRlKGEpLGg9dGhpcy5sb2NhdGlvbkNvb3JkaW5hdGUocyksdT1NYXRoLmh5cG90KGMueC1sLngsYy55LWwueSksXz1NYXRoLmh5cG90KGgueC1sLngsaC55LWwueSk7cmV0dXJuIE1hdGguc3FydCh1Kl8pKmIvaX0sVD10PT57Y29uc3QgaT14LG89eTtyZXR1cm4ge2FhYmI6ZS50aWxlQUFCQih0aGlzLGwsMCwwLDAsdCxvLGksdGhpcy5wcm9qZWN0aW9uKSx6b29tOjAseDowLHk6MCxtaW5aOm8sbWF4WjppLHdyYXA6dCxmdWxseVZpc2libGU6ITF9fSxFPVtdO2xldCBDPVtdO2NvbnN0IEk9aSxNPXQucmVwYXJzZU92ZXJzY2FsZWQ/bzppLFM9ZT0+ZSplLHo9UygobS10aGlzLl9jZW50ZXJBbHRpdHVkZSkqcCksRD1lPT57aWYoIXRoaXMuX2VsZXZhdGlvbnx8IWUudGlsZUlEfHwhbilyZXR1cm47Y29uc3QgdD10aGlzLl9lbGV2YXRpb24uZ2V0TWluTWF4Rm9yVGlsZShlLnRpbGVJRCksaT1lLmFhYmI7dD8oaS5taW5bMl09dC5taW4saS5tYXhbMl09dC5tYXgsaS5jZW50ZXJbMl09KGkubWluWzJdK2kubWF4WzJdKS8yKTooZS5zaG91bGRTcGxpdD1QKGUpLGUuc2hvdWxkU3BsaXR8fChpLm1pblsyXT1pLm1heFsyXT1pLmNlbnRlclsyXT10aGlzLl9jZW50ZXJBbHRpdHVkZSkpO30sUD10PT57aWYodC56b29tPHYpcmV0dXJuICEwO2lmKHQuem9vbT09PUkpcmV0dXJuICExO2lmKG51bGwhPXQuc2hvdWxkU3BsaXQpcmV0dXJuIHQuc2hvdWxkU3BsaXQ7Y29uc3QgaT10LmFhYmIuZGlzdGFuY2VYKGYpLG49dC5hYWJiLmRpc3RhbmNlWShmKTtsZXQgYT16LGw9MTtpZihoKXthPVModC5hYWJiLmRpc3RhbmNlWihmKSk7Y29uc3QgaT1NYXRoLnBvdygyLHQuem9vbSksbz1lLmxhdEZyb21NZXJjYXRvclkoKHQueSsxKS9pKSxyPWUubGF0RnJvbU1lcmNhdG9yWSh0LnkvaSksbj1NYXRoLm1pbihNYXRoLm1heChzLG8pLHIpLGM9ZS5jaXJjdW1mZXJlbmNlQXRMYXRpdHVkZShuKS9lLmNpcmN1bWZlcmVuY2VBdExhdGl0dWRlKHMpO2lmKGw9bj09PXM/MS9NYXRoLm1heCgxLHRoaXMuX21lcmNhdG9yU2NhbGVSYXRpby0uMyk6TWF0aC5taW4oMSxjL3RoaXMuX21lcmNhdG9yU2NhbGVSYXRpbyksdGhpcy56b29tPD1lLkdMT0JFX1pPT01fVEhSRVNIT0xEX01JTiYmdC56b29tPT09SS0xJiZjPj0uOSlyZXR1cm4gITB9ZWxzZSBpZihyJiYoYT1TKHQuYWFiYi5kaXN0YW5jZVooZikqcCkpLHRoaXMucHJvamVjdGlvbi5pc1JlcHJvamVjdGVkSW5UaWxlU3BhY2UmJm88PTUpe2NvbnN0IGk9TWF0aC5wb3coMix0Lnpvb20pLG89dyhuZXcgZS5NZXJjYXRvckNvb3JkaW5hdGUoKHQueCsuNSkvaSwodC55Ky41KS9pKSk7bD1vPi44NT8xOm87fWNvbnN0IGM9aSppK24qbithO3JldHVybiBjPFMoKDE8PEktdC56b29tKSpnKmwqKChlLHQpPT57aWYodCpTKC43MDcpPGUpcmV0dXJuIDE7Y29uc3QgaT1NYXRoLnNxcnQodC9lKTtyZXR1cm4gaS8oMS40MTQ0MjcxNTcwMDE0MTQ0KyhNYXRoLnBvdygxLjEsaS0xLjQxNDQyNzE1NzAwMTQxNDQrMSktMSkvKDEuMS0xKS0xKX0pKE1hdGgubWF4KGEseiksYykpfTtpZih0aGlzLnJlbmRlcldvcmxkQ29waWVzKWZvcihsZXQgZT0xO2U8PTM7ZSsrKUUucHVzaChUKC1lKSksRS5wdXNoKFQoZSkpO2ZvcihFLnB1c2goVCgwKSk7RS5sZW5ndGg+MDspe2NvbnN0IG89RS5wb3AoKSxhPW8ueCxzPW8ueTtsZXQgdT1vLmZ1bGx5VmlzaWJsZTtpZighdSl7Y29uc3QgZT1vLmFhYmIuaW50ZXJzZWN0cyhfKTtpZigwPT09ZSljb250aW51ZTt1PTI9PT1lO31pZihvLnpvb20hPT1JJiZQKG8pKWZvcihsZXQgdD0wO3Q8NDt0Kyspe2NvbnN0IGk9KGE8PDEpK3QlMixjPShzPDwxKSsodD4+MSksXz17YWFiYjpuP28uYWFiYi5xdWFkcmFudCh0KTplLnRpbGVBQUJCKHRoaXMsbCxvLnpvb20rMSxpLGMsby53cmFwLG8ubWluWixvLm1heFosdGhpcy5wcm9qZWN0aW9uKSx6b29tOm8uem9vbSsxLHg6aSx5OmMsd3JhcDpvLndyYXAsZnVsbHlWaXNpYmxlOnUsdGlsZUlEOnZvaWQgMCxzaG91bGRTcGxpdDp2b2lkIDAsbWluWjpvLm1pblosbWF4WjpvLm1heFp9O3ImJiFoJiYoXy50aWxlSUQ9bmV3IGUuT3ZlcnNjYWxlZFRpbGVJRChvLnpvb20rMT09PUk/TTpvLnpvb20rMSxvLndyYXAsby56b29tKzEsaSxjKSxEKF8pKSxFLnB1c2goXyk7fWVsc2Uge2NvbnN0IHI9by56b29tPT09ST9NOm8uem9vbTtpZih0Lm1pbnpvb20mJnQubWluem9vbT5yKWNvbnRpbnVlO2NvbnN0IG49Y1swXS0oLjUrYSsoby53cmFwPDxvLnpvb20pKSooMTw8aS1vLnpvb20pLGw9Y1sxXS0uNS1zLGg9by50aWxlSUQ/by50aWxlSUQ6bmV3IGUuT3ZlcnNjYWxlZFRpbGVJRChyLG8ud3JhcCxvLnpvb20sYSxzKTtDLnB1c2goe3RpbGVJRDpoLGRpc3RhbmNlU3E6bipuK2wqbH0pO319aWYodGhpcy5mb2dDdWxsRGlzdFNxKXtjb25zdCBpPXRoaXMuZm9nQ3VsbERpc3RTcSxvPXRoaXMuaG9yaXpvbkxpbmVGcm9tVG9wKCk7Qz1DLmZpbHRlcigocj0+e2NvbnN0IG49WzAsMCwwLDFdLGE9W2UuRVhURU5ULGUuRVhURU5ULDAsMV0scz10aGlzLmNhbGN1bGF0ZUZvZ1RpbGVNYXRyaXgoci50aWxlSUQudG9VbndyYXBwZWQoKSk7ZS50cmFuc2Zvcm1NYXQ0JDEobixuLHMpLGUudHJhbnNmb3JtTWF0NCQxKGEsYSxzKTtjb25zdCBsPWUuZ2V0QUFCQlBvaW50U3F1YXJlRGlzdChuLGEpO2lmKDA9PT1sKXJldHVybiAhMDtsZXQgYz0hMTtjb25zdCBoPXRoaXMuX2VsZXZhdGlvbjtpZihoJiZsPmkmJjAhPT1vKXtjb25zdCBpPXRoaXMuY2FsY3VsYXRlUHJvak1hdHJpeChyLnRpbGVJRC50b1Vud3JhcHBlZCgpKTtsZXQgbjt0LmlzVGVycmFpbkRFTXx8KG49aC5nZXRNaW5NYXhGb3JUaWxlKHIudGlsZUlEKSksbnx8KG49e21pbjp5LG1heDp4fSk7Y29uc3QgYT1lLmZ1cnRoZXN0VGlsZUNvcm5lcih0aGlzLnJvdGF0aW9uKSxzPVthWzBdKmUuRVhURU5ULGFbMV0qZS5FWFRFTlQsbi5tYXhdO2UudHJhbnNmb3JtTWF0NChzLHMsaSksYz0oMS1zWzFdKSp0aGlzLmhlaWdodCouNTxvO31yZXR1cm4gbDxpfHxjfSkpO31yZXR1cm4gQy5zb3J0KCgoZSx0KT0+ZS5kaXN0YW5jZVNxLXQuZGlzdGFuY2VTcSkpLm1hcCgoZT0+ZS50aWxlSUQpKX1yZXNpemUoZSx0KXt0aGlzLndpZHRoPWUsdGhpcy5oZWlnaHQ9dCx0aGlzLnBpeGVsc1RvR0xVbml0cz1bMi9lLC0yL3RdLHRoaXMuX2NvbnN0cmFpbigpLHRoaXMuX2NhbGNNYXRyaWNlcygpO31nZXQgdW5tb2RpZmllZCgpe3JldHVybiB0aGlzLl91bm1vZGlmaWVkfXpvb21TY2FsZShlKXtyZXR1cm4gTWF0aC5wb3coMixlKX1zY2FsZVpvb20oZSl7cmV0dXJuIE1hdGgubG9nKGUpL01hdGguTE4yfXByb2plY3QodCl7Y29uc3QgaT1lLmNsYW1wKHQubGF0LC1lLk1BWF9NRVJDQVRPUl9MQVRJVFVERSxlLk1BWF9NRVJDQVRPUl9MQVRJVFVERSksbz10aGlzLnByb2plY3Rpb24ucHJvamVjdCh0LmxuZyxpKTtyZXR1cm4gbmV3IGUucG9pbnRHZW9tZXRyeShvLngqdGhpcy53b3JsZFNpemUsby55KnRoaXMud29ybGRTaXplKX11bnByb2plY3QoZSl7cmV0dXJuIHRoaXMucHJvamVjdGlvbi51bnByb2plY3QoZS54L3RoaXMud29ybGRTaXplLGUueS90aGlzLndvcmxkU2l6ZSl9Z2V0IHBvaW50KCl7cmV0dXJuIHRoaXMucHJvamVjdCh0aGlzLmNlbnRlcil9c2V0TG9jYXRpb25BdFBvaW50KHQsaSl7bGV0IG8scjtjb25zdCBuPXRoaXMuY2VudGVyUG9pbnQ7aWYoXCJnbG9iZVwiPT09dGhpcy5wcm9qZWN0aW9uLm5hbWUpe2NvbnN0IGU9dGhpcy53b3JsZFNpemU7bz0oaS54LW4ueCkvZSxyPShpLnktbi55KS9lO31lbHNlIHtjb25zdCBlPXRoaXMucG9pbnRDb29yZGluYXRlKGkpLHQ9dGhpcy5wb2ludENvb3JkaW5hdGUobik7bz1lLngtdC54LHI9ZS55LXQueTt9Y29uc3QgYT10aGlzLmxvY2F0aW9uQ29vcmRpbmF0ZSh0KTt0aGlzLnNldExvY2F0aW9uKG5ldyBlLk1lcmNhdG9yQ29vcmRpbmF0ZShhLngtbyxhLnktcikpO31zZXRMb2NhdGlvbihlKXt0aGlzLmNlbnRlcj10aGlzLmNvb3JkaW5hdGVMb2NhdGlvbihlKSx0aGlzLnByb2plY3Rpb24ud3JhcCYmKHRoaXMuY2VudGVyPXRoaXMuY2VudGVyLndyYXAoKSk7fWxvY2F0aW9uUG9pbnQoZSl7cmV0dXJuIHRoaXMucHJvamVjdGlvbi5sb2NhdGlvblBvaW50KHRoaXMsZSl9bG9jYXRpb25Qb2ludDNEKGUpe3JldHVybiB0aGlzLnByb2plY3Rpb24ubG9jYXRpb25Qb2ludCh0aGlzLGUsITApfXBvaW50TG9jYXRpb24oZSl7cmV0dXJuIHRoaXMuY29vcmRpbmF0ZUxvY2F0aW9uKHRoaXMucG9pbnRDb29yZGluYXRlKGUpKX1wb2ludExvY2F0aW9uM0QoZSl7cmV0dXJuIHRoaXMuY29vcmRpbmF0ZUxvY2F0aW9uKHRoaXMucG9pbnRDb29yZGluYXRlM0QoZSkpfWxvY2F0aW9uQ29vcmRpbmF0ZSh0LGkpe2NvbnN0IG89aT9lLm1lcmNhdG9yWmZyb21BbHRpdHVkZShpLHQubGF0KTp2b2lkIDAscj10aGlzLnByb2plY3Rpb24ucHJvamVjdCh0LmxuZyx0LmxhdCk7cmV0dXJuIG5ldyBlLk1lcmNhdG9yQ29vcmRpbmF0ZShyLngsci55LG8pfWNvb3JkaW5hdGVMb2NhdGlvbihlKXtyZXR1cm4gdGhpcy5wcm9qZWN0aW9uLnVucHJvamVjdChlLngsZS55KX1wb2ludFJheUludGVyc2VjdGlvbih0LGkpe2NvbnN0IG89bnVsbCE9aT9pOnRoaXMuX2NlbnRlckFsdGl0dWRlLHI9W3QueCx0LnksMCwxXSxuPVt0LngsdC55LDEsMV07ZS50cmFuc2Zvcm1NYXQ0JDEocixyLHRoaXMucGl4ZWxNYXRyaXhJbnZlcnNlKSxlLnRyYW5zZm9ybU1hdDQkMShuLG4sdGhpcy5waXhlbE1hdHJpeEludmVyc2UpO2NvbnN0IGE9blszXTtlLnNjYWxlJDEocixyLDEvclszXSksZS5zY2FsZSQxKG4sbiwxL2EpO2NvbnN0IHM9clsyXSxsPW5bMl07cmV0dXJuIHtwMDpyLHAxOm4sdDpzPT09bD8wOihvLXMpLyhsLXMpfX1zY3JlZW5Qb2ludFRvTWVyY2F0b3JSYXkodCl7Y29uc3QgaT1bdC54LHQueSwwLDFdLG89W3QueCx0LnksMSwxXTtyZXR1cm4gZS50cmFuc2Zvcm1NYXQ0JDEoaSxpLHRoaXMucGl4ZWxNYXRyaXhJbnZlcnNlKSxlLnRyYW5zZm9ybU1hdDQkMShvLG8sdGhpcy5waXhlbE1hdHJpeEludmVyc2UpLGUuc2NhbGUkMShpLGksMS9pWzNdKSxlLnNjYWxlJDEobyxvLDEvb1szXSksaVsyXT1lLm1lcmNhdG9yWmZyb21BbHRpdHVkZShpWzJdLHRoaXMuX2NlbnRlci5sYXQpKnRoaXMud29ybGRTaXplLG9bMl09ZS5tZXJjYXRvclpmcm9tQWx0aXR1ZGUob1syXSx0aGlzLl9jZW50ZXIubGF0KSp0aGlzLndvcmxkU2l6ZSxlLnNjYWxlJDEoaSxpLDEvdGhpcy53b3JsZFNpemUpLGUuc2NhbGUkMShvLG8sMS90aGlzLndvcmxkU2l6ZSksbmV3IGUuUmF5KFtpWzBdLGlbMV0saVsyXV0sZS5ub3JtYWxpemUoW10sZS5zdWIoW10sbyxpKSkpfXJheUludGVyc2VjdGlvbkNvb3JkaW5hdGUodCl7Y29uc3R7cDA6aSxwMTpvLHQ6cn09dCxuPWUubWVyY2F0b3JaZnJvbUFsdGl0dWRlKGlbMl0sdGhpcy5fY2VudGVyLmxhdCksYT1lLm1lcmNhdG9yWmZyb21BbHRpdHVkZShvWzJdLHRoaXMuX2NlbnRlci5sYXQpO3JldHVybiBuZXcgZS5NZXJjYXRvckNvb3JkaW5hdGUoZS5udW1iZXIoaVswXSxvWzBdLHIpL3RoaXMud29ybGRTaXplLGUubnVtYmVyKGlbMV0sb1sxXSxyKS90aGlzLndvcmxkU2l6ZSxlLm51bWJlcihuLGEscikpfXBvaW50Q29vcmRpbmF0ZShlLHQ9dGhpcy5fY2VudGVyQWx0aXR1ZGUpe3JldHVybiB0aGlzLnByb2plY3Rpb24ucG9pbnRDb29yZGluYXRlKHRoaXMsZS54LGUueSx0KX1wb2ludENvb3JkaW5hdGUzRCh0KXtpZighdGhpcy5lbGV2YXRpb24pcmV0dXJuIHRoaXMucG9pbnRDb29yZGluYXRlKHQpO2xldCBpPXRoaXMucHJvamVjdGlvbi5wb2ludENvb3JkaW5hdGUzRCh0aGlzLHQueCx0LnkpO2lmKGkpcmV0dXJuIG5ldyBlLk1lcmNhdG9yQ29vcmRpbmF0ZShpWzBdLGlbMV0saVsyXSk7bGV0IG89MCxyPXRoaXMuaG9yaXpvbkxpbmVGcm9tVG9wKCk7aWYodC55PnIpcmV0dXJuIHRoaXMucG9pbnRDb29yZGluYXRlKHQpO2NvbnN0IG49LjAyKnIsYT10LmNsb25lKCk7Zm9yKGxldCB0PTA7dDwxMCYmci1vPm47dCsrKXthLnk9ZS5udW1iZXIobyxyLC42Nik7Y29uc3QgdD10aGlzLnByb2plY3Rpb24ucG9pbnRDb29yZGluYXRlM0QodGhpcyxhLngsYS55KTt0PyhyPWEueSxpPXQpOm89YS55O31yZXR1cm4gaT9uZXcgZS5NZXJjYXRvckNvb3JkaW5hdGUoaVswXSxpWzFdLGlbMl0pOnRoaXMucG9pbnRDb29yZGluYXRlKHQpfWlzUG9pbnRBYm92ZUhvcml6b24oZSl7cmV0dXJuIHRoaXMucHJvamVjdGlvbi5pc1BvaW50QWJvdmVIb3Jpem9uKHRoaXMsZSl9X2Nvb3JkaW5hdGVQb2ludCh0LGkpe2NvbnN0IG89aSYmdGhpcy5lbGV2YXRpb24/dGhpcy5lbGV2YXRpb24uZ2V0QXRQb2ludE9yWmVybyh0LHRoaXMuX2NlbnRlckFsdGl0dWRlKTp0aGlzLl9jZW50ZXJBbHRpdHVkZSxyPVt0LngqdGhpcy53b3JsZFNpemUsdC55KnRoaXMud29ybGRTaXplLG8rdC50b0FsdGl0dWRlKCksMV07cmV0dXJuIGUudHJhbnNmb3JtTWF0NCQxKHIscix0aGlzLnBpeGVsTWF0cml4KSxyWzNdPjA/bmV3IGUucG9pbnRHZW9tZXRyeShyWzBdL3JbM10sclsxXS9yWzNdKTpuZXcgZS5wb2ludEdlb21ldHJ5KE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSl9X2dldEJvdW5kcyh0LGkpe2NvbnN0IG89bmV3IGUucG9pbnRHZW9tZXRyeSh0aGlzLl9lZGdlSW5zZXRzLmxlZnQsdGhpcy5fZWRnZUluc2V0cy50b3ApLHI9bmV3IGUucG9pbnRHZW9tZXRyeSh0aGlzLndpZHRoLXRoaXMuX2VkZ2VJbnNldHMucmlnaHQsdGhpcy5fZWRnZUluc2V0cy50b3ApLG49bmV3IGUucG9pbnRHZW9tZXRyeSh0aGlzLndpZHRoLXRoaXMuX2VkZ2VJbnNldHMucmlnaHQsdGhpcy5oZWlnaHQtdGhpcy5fZWRnZUluc2V0cy5ib3R0b20pLGE9bmV3IGUucG9pbnRHZW9tZXRyeSh0aGlzLl9lZGdlSW5zZXRzLmxlZnQsdGhpcy5oZWlnaHQtdGhpcy5fZWRnZUluc2V0cy5ib3R0b20pO2xldCBzPXRoaXMucG9pbnRDb29yZGluYXRlKG8sdCksbD10aGlzLnBvaW50Q29vcmRpbmF0ZShyLHQpO2NvbnN0IGM9dGhpcy5wb2ludENvb3JkaW5hdGUobixpKSxoPXRoaXMucG9pbnRDb29yZGluYXRlKGEsaSksdT0oZSx0KT0+KHQueS1lLnkpLyh0LngtZS54KTtyZXR1cm4gcy55PjEmJmwueT49MD9zPW5ldyBlLk1lcmNhdG9yQ29vcmRpbmF0ZSgoMS1oLnkpL3UoaCxzKStoLngsMSk6cy55PDAmJmwueTw9MSYmKHM9bmV3IGUuTWVyY2F0b3JDb29yZGluYXRlKC1oLnkvdShoLHMpK2gueCwwKSksbC55PjEmJnMueT49MD9sPW5ldyBlLk1lcmNhdG9yQ29vcmRpbmF0ZSgoMS1jLnkpL3UoYyxsKStjLngsMSk6bC55PDAmJnMueTw9MSYmKGw9bmV3IGUuTWVyY2F0b3JDb29yZGluYXRlKC1jLnkvdShjLGwpK2MueCwwKSksKG5ldyBlLkxuZ0xhdEJvdW5kcykuZXh0ZW5kKHRoaXMuY29vcmRpbmF0ZUxvY2F0aW9uKHMpKS5leHRlbmQodGhpcy5jb29yZGluYXRlTG9jYXRpb24obCkpLmV4dGVuZCh0aGlzLmNvb3JkaW5hdGVMb2NhdGlvbihoKSkuZXh0ZW5kKHRoaXMuY29vcmRpbmF0ZUxvY2F0aW9uKGMpKX1fZ2V0Qm91bmRzM0QoKXtjb25zdCBlPXRoaXMuZWxldmF0aW9uO2lmKCFlLnZpc2libGVEZW1UaWxlcy5sZW5ndGgpcmV0dXJuIHRoaXMuX2dldEJvdW5kcygwLDApO2NvbnN0IHQ9ZS52aXNpYmxlRGVtVGlsZXMucmVkdWNlKCgoZSx0KT0+e2lmKHQuZGVtKXtjb25zdCBpPXQuZGVtLnRyZWU7ZS5taW49TWF0aC5taW4oZS5taW4saS5taW5pbXVtc1swXSksZS5tYXg9TWF0aC5tYXgoZS5tYXgsaS5tYXhpbXVtc1swXSk7fXJldHVybiBlfSkse21pbjpOdW1iZXIuTUFYX1ZBTFVFLG1heDowfSk7cmV0dXJuIHRoaXMuX2dldEJvdW5kcyh0Lm1pbiplLmV4YWdnZXJhdGlvbigpLHQubWF4KmUuZXhhZ2dlcmF0aW9uKCkpfWdldEJvdW5kcygpe3JldHVybiB0aGlzLl90ZXJyYWluRW5hYmxlZCgpP3RoaXMuX2dldEJvdW5kczNEKCk6dGhpcy5fZ2V0Qm91bmRzKDAsMCl9aG9yaXpvbkxpbmVGcm9tVG9wKGU9ITApe2NvbnN0IHQ9dGhpcy5oZWlnaHQvMi9NYXRoLnRhbih0aGlzLl9mb3YvMikvTWF0aC50YW4oTWF0aC5tYXgodGhpcy5fcGl0Y2gsLjEpKSt0aGlzLmNlbnRlck9mZnNldC55LGk9dGhpcy5oZWlnaHQvMi10KigxLXRoaXMuX2hvcml6b25TaGlmdCk7cmV0dXJuIGU/TWF0aC5tYXgoMCxpKTppfWdldE1heEJvdW5kcygpe3JldHVybiB0aGlzLm1heEJvdW5kc31zZXRNYXhCb3VuZHModCl7dGhpcy5tYXhCb3VuZHM9dCx0aGlzLm1pbkxhdD0tZS5NQVhfTUVSQ0FUT1JfTEFUSVRVREUsdGhpcy5tYXhMYXQ9ZS5NQVhfTUVSQ0FUT1JfTEFUSVRVREUsdGhpcy5taW5Mbmc9LTE4MCx0aGlzLm1heExuZz0xODAsdCYmKHRoaXMubWluTGF0PXQuZ2V0U291dGgoKSx0aGlzLm1heExhdD10LmdldE5vcnRoKCksdGhpcy5taW5Mbmc9dC5nZXRXZXN0KCksdGhpcy5tYXhMbmc9dC5nZXRFYXN0KCksdGhpcy5tYXhMbmc8dGhpcy5taW5MbmcmJih0aGlzLm1heExuZys9MzYwKSksdGhpcy53b3JsZE1pblg9ZS5tZXJjYXRvclhmcm9tTG5nKHRoaXMubWluTG5nKSp0aGlzLnRpbGVTaXplLHRoaXMud29ybGRNYXhYPWUubWVyY2F0b3JYZnJvbUxuZyh0aGlzLm1heExuZykqdGhpcy50aWxlU2l6ZSx0aGlzLndvcmxkTWluWT1lLm1lcmNhdG9yWWZyb21MYXQodGhpcy5tYXhMYXQpKnRoaXMudGlsZVNpemUsdGhpcy53b3JsZE1heFk9ZS5tZXJjYXRvcllmcm9tTGF0KHRoaXMubWluTGF0KSp0aGlzLnRpbGVTaXplLHRoaXMuX2NvbnN0cmFpbigpO31jYWxjdWxhdGVQb3NNYXRyaXgoZSx0KXtyZXR1cm4gdGhpcy5wcm9qZWN0aW9uLmNyZWF0ZVRpbGVNYXRyaXgodGhpcyx0LGUpfWNhbGN1bGF0ZURpc3RhbmNlVGlsZURhdGEodCl7Y29uc3QgaT10LmtleSxvPXRoaXMuX2Rpc3RhbmNlVGlsZURhdGFDYWNoZTtpZihvW2ldKXJldHVybiBvW2ldO2NvbnN0IHI9dC5jYW5vbmljYWwsbj0xL3RoaXMuaGVpZ2h0LGE9dGhpcy5jYW1lcmFXb3JsZFNpemUvdGhpcy56b29tU2NhbGUoci56KSxzPShyLngrTWF0aC5wb3coMixyLnopKnQud3JhcCkqYSxsPXIueSphLGM9dGhpcy5wb2ludCxoPXRoaXMuYW5nbGUsdT1NYXRoLnNpbigtaCksXz0tTWF0aC5jb3MoLWgpO3JldHVybiBvW2ldPXtiZWFyaW5nOlt1LF9dLGNlbnRlcjpbKGMueC1zKSpuLChjLnktbCkqbl0sc2NhbGU6YS9lLkVYVEVOVCpufSxvW2ldfWNhbGN1bGF0ZUZvZ1RpbGVNYXRyaXgodCl7Y29uc3QgaT10LmtleSxvPXRoaXMuX2ZvZ1RpbGVNYXRyaXhDYWNoZTtpZihvW2ldKXJldHVybiBvW2ldO2NvbnN0IHI9dGhpcy5wcm9qZWN0aW9uLmNyZWF0ZVRpbGVNYXRyaXgodGhpcyx0aGlzLmNhbWVyYVdvcmxkU2l6ZSx0KTtyZXR1cm4gZS5tdWx0aXBseShyLHRoaXMud29ybGRUb0ZvZ01hdHJpeCxyKSxvW2ldPW5ldyBGbG9hdDMyQXJyYXkociksb1tpXX1jYWxjdWxhdGVQcm9qTWF0cml4KHQsaT0hMSl7Y29uc3Qgbz10LmtleSxyPWk/dGhpcy5fYWxpZ25lZFByb2pNYXRyaXhDYWNoZTp0aGlzLl9wcm9qTWF0cml4Q2FjaGU7aWYocltvXSlyZXR1cm4gcltvXTtjb25zdCBuPXRoaXMuY2FsY3VsYXRlUG9zTWF0cml4KHQsdGhpcy53b3JsZFNpemUpO3JldHVybiBlLm11bHRpcGx5KG4sdGhpcy5wcm9qZWN0aW9uLmlzUmVwcm9qZWN0ZWRJblRpbGVTcGFjZT90aGlzLm1lcmNhdG9yTWF0cml4Omk/dGhpcy5hbGlnbmVkUHJvak1hdHJpeDp0aGlzLnByb2pNYXRyaXgsbikscltvXT1uZXcgRmxvYXQzMkFycmF5KG4pLHJbb119Y2FsY3VsYXRlUGl4ZWxzVG9UaWxlVW5pdHNNYXRyaXgodCl7Y29uc3QgaT10LnRpbGVJRC5rZXksbz10aGlzLl9waXhlbHNUb1RpbGVVbml0c0NhY2hlO2lmKG9baV0pcmV0dXJuIG9baV07Y29uc3Qgcj1mdW5jdGlvbih0LGkpe2NvbnN0e3NjYWxlOm99PXQudGlsZVRyYW5zZm9ybSxyPW8qZS5FWFRFTlQvKHQudGlsZVNpemUqTWF0aC5wb3coMixpLnpvb20tdC50aWxlSUQub3ZlcnNjYWxlZFordC50aWxlSUQuY2Fub25pY2FsLnopKTtyZXR1cm4gbj1uZXcgRmxvYXQzMkFycmF5KDQpLGw9KGE9aS5pbnZlcnNlQWRqdXN0bWVudE1hdHJpeClbMV0sYz1hWzJdLGg9YVszXSxfPShzPVtyLHJdKVsxXSxuWzBdPWFbMF0qKHU9c1swXSksblsxXT1sKnUsblsyXT1jKl8sblszXT1oKl8sbjt2YXIgbixhLHMsbCxjLGgsdSxfO30odCx0aGlzKTtyZXR1cm4gb1tpXT1yLG9baV19Y3VzdG9tTGF5ZXJNYXRyaXgoKXtyZXR1cm4gdGhpcy5tZXJjYXRvck1hdHJpeC5zbGljZSgpfXJlY2VudGVyT25UZXJyYWluKCl7aWYoIXRoaXMuX2VsZXZhdGlvbnx8XCJnbG9iZVwiPT09dGhpcy5wcm9qZWN0aW9uLm5hbWUpcmV0dXJuO2NvbnN0IHQ9dGhpcy5fZWxldmF0aW9uO3RoaXMuX3VwZGF0ZUNhbWVyYVN0YXRlKCk7Y29uc3QgaT1lLm1lcmNhdG9yWmZyb21BbHRpdHVkZSgxLHRoaXMuX2NlbnRlci5sYXQpKnRoaXMud29ybGRTaXplLG89dGhpcy5fY29tcHV0ZUNhbWVyYVBvc2l0aW9uKGkpLHI9dGhpcy5fY2FtZXJhLmZvcndhcmQoKSxuPWUubWVyY2F0b3JaZnJvbUFsdGl0dWRlKDEsdGhpcy5fY2VudGVyLmxhdCk7b1syXS89bixyWzJdLz1uLGUubm9ybWFsaXplKHIscik7Y29uc3QgYT10LnJheWNhc3QobyxyLHQuZXhhZ2dlcmF0aW9uKCkpO2lmKGEpe2NvbnN0IHQ9ZS5zY2FsZUFuZEFkZChbXSxvLHIsYSksaT1uZXcgZS5NZXJjYXRvckNvb3JkaW5hdGUodFswXSx0WzFdLGUubWVyY2F0b3JaZnJvbUFsdGl0dWRlKHRbMl0sZS5sYXRGcm9tTWVyY2F0b3JZKHRbMV0pKSkscz0oaS56K2UubGVuZ3RoKFtpLngtb1swXSxpLnktb1sxXSxpLnotb1syXSpuXSkpKnRoaXMuX3BpeGVsc1Blck1lcmNhdG9yUGl4ZWw7dGhpcy5fc2VhTGV2ZWxab29tPXRoaXMuX3pvb21Gcm9tTWVyY2F0b3JaKHMpLHRoaXMuX2NlbnRlckFsdGl0dWRlPWkudG9BbHRpdHVkZSgpLHRoaXMuX2NlbnRlcj10aGlzLmNvb3JkaW5hdGVMb2NhdGlvbihpKSx0aGlzLl91cGRhdGVab29tRnJvbUVsZXZhdGlvbigpLHRoaXMuX2NvbnN0cmFpbigpLHRoaXMuX2NhbGNNYXRyaWNlcygpO319X2NvbnN0cmFpbkNhbWVyYUFsdGl0dWRlKCl7aWYoIXRoaXMuX2VsZXZhdGlvbilyZXR1cm47Y29uc3QgdD10aGlzLl9lbGV2YXRpb247dGhpcy5fdXBkYXRlQ2FtZXJhU3RhdGUoKTtjb25zdCBpPWUubWVyY2F0b3JaZnJvbUFsdGl0dWRlKDEsdGhpcy5fY2VudGVyLmxhdCkqdGhpcy53b3JsZFNpemUsbz10aGlzLl9jb21wdXRlQ2FtZXJhUG9zaXRpb24oaSkscj10LmdldEF0UG9pbnRPclplcm8obmV3IGUuTWVyY2F0b3JDb29yZGluYXRlKC4uLm8pKSxuPXRoaXMuX21pbmltdW1IZWlnaHRPdmVyVGVycmFpbigpKk1hdGguY29zKGUuZGVnVG9SYWQodGhpcy5fbWF4UGl0Y2gpKSxhPXRoaXMuX2NhbWVyYS5wb3NpdGlvblsyXS10aGlzLnBpeGVsc1Blck1ldGVyL3RoaXMud29ybGRTaXplKnI7aWYoYTxuKXtjb25zdCB0PXRoaXMubG9jYXRpb25Db29yZGluYXRlKHRoaXMuX2NlbnRlcix0aGlzLl9jZW50ZXJBbHRpdHVkZSksaT1bdC54LW9bMF0sdC55LW9bMV0sdC56LW9bMl1dLHI9ZS5sZW5ndGgoaSk7aVsyXS09KG4tYSkvdGhpcy5fcGl4ZWxzUGVyTWVyY2F0b3JQaXhlbDtjb25zdCBzPWUubGVuZ3RoKGkpO2lmKDA9PT1zKXJldHVybjtlLnNjYWxlJDIoaSxpLHIvcyp0aGlzLl9waXhlbHNQZXJNZXJjYXRvclBpeGVsKSx0aGlzLl9jYW1lcmEucG9zaXRpb249W3QueC1pWzBdLHQueS1pWzFdLHQueip0aGlzLl9waXhlbHNQZXJNZXJjYXRvclBpeGVsLWlbMl1dLHRoaXMuX2NhbWVyYS5vcmllbnRhdGlvbj1qbyhpLHRoaXMuX2NhbWVyYS51cCgpKSx0aGlzLl91cGRhdGVTdGF0ZUZyb21DYW1lcmEoKTt9fV9jb25zdHJhaW4oKXtpZighdGhpcy5jZW50ZXJ8fCF0aGlzLndpZHRofHwhdGhpcy5oZWlnaHR8fHRoaXMuX2NvbnN0cmFpbmluZylyZXR1cm47dGhpcy5fY29uc3RyYWluaW5nPSEwO2NvbnN0IHQ9XCJnbG9iZVwiPT09dGhpcy5wcm9qZWN0aW9uLm5hbWV8fHRoaXMubWVyY2F0b3JGcm9tVHJhbnNpdGlvbjtpZih0aGlzLnByb2plY3Rpb24uaXNSZXByb2plY3RlZEluVGlsZVNwYWNlfHx0KXtjb25zdCBpPXRoaXMuY2VudGVyO3JldHVybiBpLmxhdD1lLmNsYW1wKGkubGF0LHRoaXMubWluTGF0LHRoaXMubWF4TGF0KSwodGhpcy5tYXhCb3VuZHN8fCF0aGlzLnJlbmRlcldvcmxkQ29waWVzJiYhdCkmJihpLmxuZz1lLmNsYW1wKGkubG5nLHRoaXMubWluTG5nLHRoaXMubWF4TG5nKSksdGhpcy5jZW50ZXI9aSx2b2lkKHRoaXMuX2NvbnN0cmFpbmluZz0hMSl9Y29uc3QgaT10aGlzLl91bm1vZGlmaWVkLHt4Om8seTpyfT10aGlzLnBvaW50O2xldCBuPTAsYT1vLHM9cjtjb25zdCBsPXRoaXMud2lkdGgvMixjPXRoaXMuaGVpZ2h0LzIsaD10aGlzLndvcmxkTWluWSp0aGlzLnNjYWxlLHU9dGhpcy53b3JsZE1heFkqdGhpcy5zY2FsZTtpZihyLWM8aCYmKHM9aCtjKSxyK2M+dSYmKHM9dS1jKSx1LWg8dGhpcy5oZWlnaHQmJihuPU1hdGgubWF4KG4sdGhpcy5oZWlnaHQvKHUtaCkpLHM9KHUraCkvMiksdGhpcy5tYXhCb3VuZHN8fCF0aGlzLl9yZW5kZXJXb3JsZENvcGllc3x8IXRoaXMucHJvamVjdGlvbi53cmFwKXtjb25zdCBlPXRoaXMud29ybGRNaW5YKnRoaXMuc2NhbGUsdD10aGlzLndvcmxkTWF4WCp0aGlzLnNjYWxlLGk9dGhpcy53b3JsZFNpemUvMi0oZSt0KS8yO2E9KG8raSt0aGlzLndvcmxkU2l6ZSkldGhpcy53b3JsZFNpemUtaSxhLWw8ZSYmKGE9ZStsKSxhK2w+dCYmKGE9dC1sKSx0LWU8dGhpcy53aWR0aCYmKG49TWF0aC5tYXgobix0aGlzLndpZHRoLyh0LWUpKSxhPSh0K2UpLzIpO31hPT09byYmcz09PXJ8fCh0aGlzLmNlbnRlcj10aGlzLnVucHJvamVjdChuZXcgZS5wb2ludEdlb21ldHJ5KGEscykpKSxuJiYodGhpcy56b29tKz10aGlzLnNjYWxlWm9vbShuKSksdGhpcy5fY29uc3RyYWluQ2FtZXJhQWx0aXR1ZGUoKSx0aGlzLl91bm1vZGlmaWVkPWksdGhpcy5fY29uc3RyYWluaW5nPSExO31fbWluWm9vbUZvckJvdW5kcygpe2xldCBlPU1hdGgubWF4KDAsdGhpcy5zY2FsZVpvb20odGhpcy5oZWlnaHQvKHRoaXMud29ybGRNYXhZLXRoaXMud29ybGRNaW5ZKSkpO3JldHVybiB0aGlzLm1heEJvdW5kcyYmKGU9TWF0aC5tYXgoZSx0aGlzLnNjYWxlWm9vbSh0aGlzLndpZHRoLyh0aGlzLndvcmxkTWF4WC10aGlzLndvcmxkTWluWCkpKSksZX1fbWF4Q2FtZXJhQm91bmRzRGlzdGFuY2UoKXtyZXR1cm4gdGhpcy5fbWVyY2F0b3JaZnJvbVpvb20odGhpcy5fbWluWm9vbUZvckJvdW5kcygpKX1fY2FsY01hdHJpY2VzKCl7aWYoIXRoaXMuaGVpZ2h0KXJldHVybjtjb25zdCB0PXRoaXMuY2VudGVyT2Zmc2V0LGk9dGhpcy5waXhlbHNQZXJNZXRlcjtcImdsb2JlXCI9PT10aGlzLnByb2plY3Rpb24ubmFtZSYmKHRoaXMuX21lcmNhdG9yU2NhbGVSYXRpbz1lLm1lcmNhdG9yWmZyb21BbHRpdHVkZSgxLHRoaXMuY2VudGVyLmxhdCkvZS5tZXJjYXRvclpmcm9tQWx0aXR1ZGUoMSxlLkdMT0JFX1NDQUxFX01BVENIX0xBVElUVURFKSk7Y29uc3Qgbz1xbyh0aGlzLnByb2plY3Rpb24sdGhpcy56b29tLHRoaXMud2lkdGgsdGhpcy5oZWlnaHQsMTAyNCk7dGhpcy5fcGl4ZWxzUGVyTWVyY2F0b3JQaXhlbD10aGlzLnByb2plY3Rpb24ucGl4ZWxTcGFjZUNvbnZlcnNpb24odGhpcy5jZW50ZXIubGF0LHRoaXMud29ybGRTaXplLG8pLHRoaXMuY2FtZXJhVG9DZW50ZXJEaXN0YW5jZT0uNS9NYXRoLnRhbiguNSp0aGlzLl9mb3YpKnRoaXMuaGVpZ2h0KnRoaXMuX3BpeGVsc1Blck1lcmNhdG9yUGl4ZWwsdGhpcy5fdXBkYXRlQ2FtZXJhU3RhdGUoKSx0aGlzLl9mYXJaPXRoaXMucHJvamVjdGlvbi5mYXJ0aGVzdFBpeGVsRGlzdGFuY2UodGhpcyksdGhpcy5fbmVhclo9dGhpcy5oZWlnaHQvNTA7Y29uc3Qgcj10aGlzLl9jYW1lcmEuZ2V0V29ybGRUb0NhbWVyYSh0aGlzLndvcmxkU2l6ZSxcIm1ldGVyc1wiPT09dGhpcy5wcm9qZWN0aW9uLnpBeGlzVW5pdD9pOjEpLG49dGhpcy5fY2FtZXJhLmdldENhbWVyYVRvQ2xpcFBlcnNwZWN0aXZlKHRoaXMuX2Zvdix0aGlzLndpZHRoL3RoaXMuaGVpZ2h0LHRoaXMuX25lYXJaLHRoaXMuX2ZhclopO25bOF09MiotdC54L3RoaXMud2lkdGgsbls5XT0yKnQueS90aGlzLmhlaWdodDtsZXQgYT1lLm11bChbXSxuLHIpO2lmKHRoaXMucHJvamVjdGlvbi5pc1JlcHJvamVjdGVkSW5UaWxlU3BhY2Upe2NvbnN0IHQ9dGhpcy5sb2NhdGlvbkNvb3JkaW5hdGUodGhpcy5jZW50ZXIpLGk9ZS5pZGVudGl0eShbXSk7ZS50cmFuc2xhdGUoaSxpLFt0LngqdGhpcy53b3JsZFNpemUsdC55KnRoaXMud29ybGRTaXplLDBdKSxlLm11bHRpcGx5KGksaSxXbyh0aGlzKSksZS50cmFuc2xhdGUoaSxpLFstdC54KnRoaXMud29ybGRTaXplLC10LnkqdGhpcy53b3JsZFNpemUsMF0pLGUubXVsdGlwbHkoYSxhLGkpLHRoaXMuaW52ZXJzZUFkanVzdG1lbnRNYXRyaXg9ZnVuY3Rpb24oZSl7Y29uc3QgdD1XbyhlLCEwKTtyZXR1cm4gdihbXSxbdFswXSx0WzFdLHRbNF0sdFs1XV0pfSh0aGlzKTt9ZWxzZSB0aGlzLmludmVyc2VBZGp1c3RtZW50TWF0cml4PVsxLDAsMCwxXTt0aGlzLm1lcmNhdG9yTWF0cml4PWUuc2NhbGUoW10sYSxbdGhpcy53b3JsZFNpemUsdGhpcy53b3JsZFNpemUsdGhpcy53b3JsZFNpemUvaSwxXSksdGhpcy5wcm9qTWF0cml4PWEsdGhpcy5pbnZQcm9qTWF0cml4PWUuaW52ZXJ0KG5ldyBGbG9hdDY0QXJyYXkoMTYpLHRoaXMucHJvak1hdHJpeCk7Y29uc3Qgcz1lLmludmVydChbXSxuKTt0aGlzLmZydXN0dW1Db3JuZXJzPWUuRnJ1c3R1bUNvcm5lcnMuZnJvbUludlByb2plY3Rpb25NYXRyaXgocyx0aGlzLmhvcml6b25MaW5lRnJvbVRvcCgpLHRoaXMuaGVpZ2h0KTtjb25zdCBsPW5ldyBGbG9hdDMyQXJyYXkoMTYpO2UuaWRlbnRpdHkobCksZS5zY2FsZShsLGwsWzEsLTEsMV0pLGUucm90YXRlWChsLGwsdGhpcy5fcGl0Y2gpLGUucm90YXRlWihsLGwsdGhpcy5hbmdsZSk7Y29uc3QgYz1lLnBlcnNwZWN0aXZlKG5ldyBGbG9hdDMyQXJyYXkoMTYpLHRoaXMuX2Zvdix0aGlzLndpZHRoL3RoaXMuaGVpZ2h0LHRoaXMuX25lYXJaLHRoaXMuX2ZhclopLGg9KE1hdGguUEkvMi10aGlzLl9waXRjaCkqKHRoaXMuaGVpZ2h0L3RoaXMuX2ZvdikqdGhpcy5faG9yaXpvblNoaWZ0O2NbOF09MiotdC54L3RoaXMud2lkdGgsY1s5XT0yKih0LnkraCkvdGhpcy5oZWlnaHQsdGhpcy5za3lib3hNYXRyaXg9ZS5tdWx0aXBseShsLGMsbCk7Y29uc3QgdT10aGlzLnBvaW50LF89dS54LGQ9dS55LHA9dGhpcy53aWR0aCUyLzIsbT10aGlzLmhlaWdodCUyLzIsZj1NYXRoLmNvcyh0aGlzLmFuZ2xlKSxnPU1hdGguc2luKHRoaXMuYW5nbGUpLHg9Xy1NYXRoLnJvdW5kKF8pK2YqcCtnKm0seT1kLU1hdGgucm91bmQoZCkrZiptK2cqcCxiPW5ldyBGbG9hdDY0QXJyYXkoYSk7aWYoZS50cmFuc2xhdGUoYixiLFt4Pi41P3gtMTp4LHk+LjU/eS0xOnksMF0pLHRoaXMuYWxpZ25lZFByb2pNYXRyaXg9YixhPWUuY3JlYXRlKCksZS5zY2FsZShhLGEsW3RoaXMud2lkdGgvMiwtdGhpcy5oZWlnaHQvMiwxXSksZS50cmFuc2xhdGUoYSxhLFsxLC0xLDBdKSx0aGlzLmxhYmVsUGxhbmVNYXRyaXg9YSxhPWUuY3JlYXRlKCksZS5zY2FsZShhLGEsWzEsLTEsMV0pLGUudHJhbnNsYXRlKGEsYSxbLTEsLTEsMF0pLGUuc2NhbGUoYSxhLFsyL3RoaXMud2lkdGgsMi90aGlzLmhlaWdodCwxXSksdGhpcy5nbENvb3JkTWF0cml4PWEsdGhpcy5waXhlbE1hdHJpeD1lLm11bHRpcGx5KG5ldyBGbG9hdDY0QXJyYXkoMTYpLHRoaXMubGFiZWxQbGFuZU1hdHJpeCx0aGlzLnByb2pNYXRyaXgpLHRoaXMuX2NhbGNGb2dNYXRyaWNlcygpLHRoaXMuX2Rpc3RhbmNlVGlsZURhdGFDYWNoZT17fSxhPWUuaW52ZXJ0KG5ldyBGbG9hdDY0QXJyYXkoMTYpLHRoaXMucGl4ZWxNYXRyaXgpLCFhKXRocm93IG5ldyBFcnJvcihcImZhaWxlZCB0byBpbnZlcnQgbWF0cml4XCIpO2lmKHRoaXMucGl4ZWxNYXRyaXhJbnZlcnNlPWEsXCJnbG9iZVwiPT09dGhpcy5wcm9qZWN0aW9uLm5hbWV8fHRoaXMubWVyY2F0b3JGcm9tVHJhbnNpdGlvbil7dGhpcy5nbG9iZU1hdHJpeD1lLmNhbGN1bGF0ZUdsb2JlTWF0cml4KHRoaXMpO2NvbnN0IHQ9W3RoaXMuZ2xvYmVNYXRyaXhbMTJdLHRoaXMuZ2xvYmVNYXRyaXhbMTNdLHRoaXMuZ2xvYmVNYXRyaXhbMTRdXTt0aGlzLmdsb2JlQ2VudGVySW5WaWV3U3BhY2U9ZS50cmFuc2Zvcm1NYXQ0KHQsdCxyKSx0aGlzLmdsb2JlUmFkaXVzPXRoaXMud29ybGRTaXplLzIvTWF0aC5QSS0xO31lbHNlIHRoaXMuZ2xvYmVNYXRyaXg9YTt0aGlzLl9wcm9qTWF0cml4Q2FjaGU9e30sdGhpcy5fYWxpZ25lZFByb2pNYXRyaXhDYWNoZT17fSx0aGlzLl9waXhlbHNUb1RpbGVVbml0c0NhY2hlPXt9O31fY2FsY0ZvZ01hdHJpY2VzKCl7dGhpcy5fZm9nVGlsZU1hdHJpeENhY2hlPXt9O2NvbnN0IHQ9dGhpcy5jYW1lcmFXb3JsZFNpemUsaT10aGlzLmNhbWVyYVBpeGVsc1Blck1ldGVyLG89dGhpcy5fY2FtZXJhLnBvc2l0aW9uLHI9MS90aGlzLmhlaWdodC90aGlzLl9waXhlbHNQZXJNZXJjYXRvclBpeGVsLG49W3QsdCxpXTtlLnNjYWxlJDIobixuLHIpLGUuc2NhbGUkMihvLG8sLTEpLGUubXVsdGlwbHkkMihvLG8sbik7Y29uc3QgYT1lLmNyZWF0ZSgpO2UudHJhbnNsYXRlKGEsYSxvKSxlLnNjYWxlKGEsYSxuKSx0aGlzLm1lcmNhdG9yRm9nTWF0cml4PWEsdGhpcy53b3JsZFRvRm9nTWF0cml4PXRoaXMuX2NhbWVyYS5nZXRXb3JsZFRvQ2FtZXJhUG9zaXRpb24odCxpLHIpO31fY29tcHV0ZUNhbWVyYVBvc2l0aW9uKGUpe2NvbnN0IHQ9KGU9ZXx8dGhpcy5waXhlbHNQZXJNZXRlcikvdGhpcy5waXhlbHNQZXJNZXRlcixpPXRoaXMuX2NhbWVyYS5mb3J3YXJkKCksbz10aGlzLnBvaW50LHI9dGhpcy5fbWVyY2F0b3JaZnJvbVpvb20odGhpcy5fc2VhTGV2ZWxab29tP3RoaXMuX3NlYUxldmVsWm9vbTp0aGlzLl96b29tKSp0LWUvdGhpcy53b3JsZFNpemUqdGhpcy5fY2VudGVyQWx0aXR1ZGU7cmV0dXJuIFtvLngvdGhpcy53b3JsZFNpemUtaVswXSpyLG8ueS90aGlzLndvcmxkU2l6ZS1pWzFdKnIsZS90aGlzLndvcmxkU2l6ZSp0aGlzLl9jZW50ZXJBbHRpdHVkZS1pWzJdKnJdfV91cGRhdGVDYW1lcmFTdGF0ZSgpe3RoaXMuaGVpZ2h0JiYodGhpcy5fY2FtZXJhLnNldFBpdGNoQmVhcmluZyh0aGlzLl9waXRjaCx0aGlzLmFuZ2xlKSx0aGlzLl9jYW1lcmEucG9zaXRpb249dGhpcy5fY29tcHV0ZUNhbWVyYVBvc2l0aW9uKCkpO31fdHJhbnNsYXRlQ2FtZXJhQ29uc3RyYWluZWQodCl7Y29uc3QgaT10aGlzLl9tYXhDYW1lcmFCb3VuZHNEaXN0YW5jZSgpKk1hdGguY29zKHRoaXMuX3BpdGNoKSxvPXRbMl07bGV0IHI9MTtvPjAmJihyPU1hdGgubWluKChpLXRoaXMuX2NhbWVyYS5wb3NpdGlvblsyXSkvbywxKSksdGhpcy5fY2FtZXJhLnBvc2l0aW9uPWUuc2NhbGVBbmRBZGQoW10sdGhpcy5fY2FtZXJhLnBvc2l0aW9uLHQsciksdGhpcy5fdXBkYXRlU3RhdGVGcm9tQ2FtZXJhKCksdGhpcy5wcm9qZWN0aW9uLndyYXAmJih0aGlzLmNlbnRlcj10aGlzLmNlbnRlci53cmFwKCkpO31fdXBkYXRlU3RhdGVGcm9tQ2FtZXJhKCl7Y29uc3QgdD10aGlzLl9jYW1lcmEucG9zaXRpb24saT10aGlzLl9jYW1lcmEuZm9yd2FyZCgpLHtwaXRjaDpvLGJlYXJpbmc6cn09dGhpcy5fY2FtZXJhLmdldFBpdGNoQmVhcmluZygpLG49ZS5tZXJjYXRvclpmcm9tQWx0aXR1ZGUodGhpcy5fY2VudGVyQWx0aXR1ZGUsdGhpcy5jZW50ZXIubGF0KSp0aGlzLl9waXhlbHNQZXJNZXJjYXRvclBpeGVsLGE9dGhpcy5fbWVyY2F0b3JaZnJvbVpvb20odGhpcy5fbWF4Wm9vbSkqTWF0aC5jb3MoZS5kZWdUb1JhZCh0aGlzLl9tYXhQaXRjaCkpLHM9TWF0aC5tYXgoKHRbMl0tbikvTWF0aC5jb3MobyksYSksbD10aGlzLl96b29tRnJvbU1lcmNhdG9yWihzKTtlLnNjYWxlQW5kQWRkKHQsdCxpLHMpLHRoaXMuX3BpdGNoPWUuY2xhbXAobyxlLmRlZ1RvUmFkKHRoaXMubWluUGl0Y2gpLGUuZGVnVG9SYWQodGhpcy5tYXhQaXRjaCkpLHRoaXMuYW5nbGU9ZS53cmFwKHIsLU1hdGguUEksTWF0aC5QSSksdGhpcy5fc2V0Wm9vbShlLmNsYW1wKGwsdGhpcy5fbWluWm9vbSx0aGlzLl9tYXhab29tKSksdGhpcy5fdXBkYXRlU2VhTGV2ZWxab29tKCksdGhpcy5fY2VudGVyPXRoaXMuY29vcmRpbmF0ZUxvY2F0aW9uKG5ldyBlLk1lcmNhdG9yQ29vcmRpbmF0ZSh0WzBdLHRbMV0sdFsyXSkpLHRoaXMuX3VubW9kaWZpZWQ9ITEsdGhpcy5fY29uc3RyYWluKCksdGhpcy5fY2FsY01hdHJpY2VzKCk7fV93b3JsZFNpemVGcm9tWm9vbShlKXtyZXR1cm4gTWF0aC5wb3coMixlKSp0aGlzLnRpbGVTaXplfV9tZXJjYXRvclpmcm9tWm9vbShlKXtyZXR1cm4gdGhpcy5jYW1lcmFUb0NlbnRlckRpc3RhbmNlL3RoaXMuX3dvcmxkU2l6ZUZyb21ab29tKGUpfV9taW5pbXVtSGVpZ2h0T3ZlclRlcnJhaW4oKXtjb25zdCBlPU1hdGgubWluKChudWxsIT10aGlzLl9zZWFMZXZlbFpvb20/dGhpcy5fc2VhTGV2ZWxab29tOnRoaXMuX3pvb20pKzIsdGhpcy5fbWF4Wm9vbSk7cmV0dXJuIHRoaXMuX21lcmNhdG9yWmZyb21ab29tKGUpfV96b29tRnJvbU1lcmNhdG9yWihlKXtyZXR1cm4gdGhpcy5zY2FsZVpvb20odGhpcy5jYW1lcmFUb0NlbnRlckRpc3RhbmNlLyhlKnRoaXMudGlsZVNpemUpKX1fdGVycmFpbkVuYWJsZWQoKXtyZXR1cm4gISghdGhpcy5fZWxldmF0aW9ufHwhdGhpcy5wcm9qZWN0aW9uLnN1cHBvcnRzVGVycmFpbiYmKGUud2Fybk9uY2UoXCJUZXJyYWluIGlzIG5vdCB5ZXQgc3VwcG9ydGVkIHdpdGggYWx0ZXJuYXRlIHByb2plY3Rpb25zLiBVc2UgbWVyY2F0b3Igb3IgZ2xvYmUgdG8gZW5hYmxlIHRlcnJhaW4uXCIpLDEpKX1hbnlDb3JuZXJPZmZFZGdlKHQsaSl7Y29uc3Qgbz1NYXRoLm1pbih0LngsaS54KSxyPU1hdGgubWF4KHQueCxpLngpLG49TWF0aC5taW4odC55LGkueSksYT1NYXRoLm1heCh0LnksaS55KTtpZihuPHRoaXMuaG9yaXpvbkxpbmVGcm9tVG9wKCExKSlyZXR1cm4gITA7aWYoXCJtZXJjYXRvclwiIT09dGhpcy5wcm9qZWN0aW9uLm5hbWUpcmV0dXJuICExO2NvbnN0IHM9W25ldyBlLnBvaW50R2VvbWV0cnkobyxuKSxuZXcgZS5wb2ludEdlb21ldHJ5KHIsYSksbmV3IGUucG9pbnRHZW9tZXRyeShvLGEpLG5ldyBlLnBvaW50R2VvbWV0cnkocixuKV0sbD10aGlzLnJlbmRlcldvcmxkQ29waWVzPy0zOjAsYz10aGlzLnJlbmRlcldvcmxkQ29waWVzPzQ6MTtmb3IoY29uc3QgZSBvZiBzKXtjb25zdCB0PXRoaXMucG9pbnRSYXlJbnRlcnNlY3Rpb24oZSk7aWYodC50PDApcmV0dXJuICEwO2NvbnN0IGk9dGhpcy5yYXlJbnRlcnNlY3Rpb25Db29yZGluYXRlKHQpO2lmKGkueDxsfHxpLnk8MHx8aS54PmN8fGkueT4xKXJldHVybiAhMH1yZXR1cm4gITF9aXNIb3Jpem9uVmlzaWJsZSgpe3JldHVybiB0aGlzLnBpdGNoK2UucmFkVG9EZWcodGhpcy5mb3ZBYm92ZUNlbnRlcik+ODh8fHRoaXMuYW55Q29ybmVyT2ZmRWRnZShuZXcgZS5wb2ludEdlb21ldHJ5KDAsMCksbmV3IGUucG9pbnRHZW9tZXRyeSh0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KSl9em9vbURlbHRhVG9Nb3ZlbWVudCh0LGkpe2NvbnN0IG89ZS5sZW5ndGgoZS5zdWIoW10sdGhpcy5fY2FtZXJhLnBvc2l0aW9uLHQpKSxyPXRoaXMuX3pvb21Gcm9tTWVyY2F0b3JaKG8pK2k7cmV0dXJuIG8tdGhpcy5fbWVyY2F0b3JaZnJvbVpvb20ocil9Z2V0Q2FtZXJhUG9pbnQoKXtpZihcImdsb2JlXCI9PT10aGlzLnByb2plY3Rpb24ubmFtZSl7Y29uc3QgdD1mdW5jdGlvbih0LGkpe2NvbnN0IG89W3RbMF0sdFsxXSx0WzJdLDFdO2UudHJhbnNmb3JtTWF0NCQxKG8sbyxpKTtjb25zdCByPU1hdGgubWF4KG9bM10sMWUtNik7cmV0dXJuIFtvWzBdL3Isb1sxXS9yLG9bMl0vcixyXX0oW3RoaXMuZ2xvYmVNYXRyaXhbMTJdLHRoaXMuZ2xvYmVNYXRyaXhbMTNdLHRoaXMuZ2xvYmVNYXRyaXhbMTRdXSx0aGlzLnBpeGVsTWF0cml4KTtyZXR1cm4gbmV3IGUucG9pbnRHZW9tZXRyeSh0WzBdLHRbMV0pfXtjb25zdCB0PU1hdGgudGFuKHRoaXMuX3BpdGNoKSoodGhpcy5jYW1lcmFUb0NlbnRlckRpc3RhbmNlfHwxKTtyZXR1cm4gdGhpcy5jZW50ZXJQb2ludC5hZGQobmV3IGUucG9pbnRHZW9tZXRyeSgwLHQpKX19Z2V0Q2FtZXJhVG9DZW50ZXJEaXN0YW5jZShlKXtjb25zdCB0PXFvKGUsdGhpcy56b29tLHRoaXMud2lkdGgsdGhpcy5oZWlnaHQsMTAyNCksaT1lLnBpeGVsU3BhY2VDb252ZXJzaW9uKHRoaXMuY2VudGVyLmxhdCx0aGlzLndvcmxkU2l6ZSx0KTtyZXR1cm4gLjUvTWF0aC50YW4oLjUqdGhpcy5fZm92KSp0aGlzLmhlaWdodCppfX1mdW5jdGlvbiBKbyhlLHQpe2xldCBpPSExLG89bnVsbDtjb25zdCByPSgpPT57bz1udWxsLGkmJihlKCksbz1zZXRUaW1lb3V0KHIsdCksaT0hMSk7fTtyZXR1cm4gKCk9PihpPSEwLG98fHIoKSxvKX1jbGFzcyBRb3tjb25zdHJ1Y3Rvcih0KXt0aGlzLl9oYXNoTmFtZT10JiZlbmNvZGVVUklDb21wb25lbnQodCksZS5iaW5kQWxsKFtcIl9nZXRDdXJyZW50SGFzaFwiLFwiX29uSGFzaENoYW5nZVwiLFwiX3VwZGF0ZUhhc2hcIl0sdGhpcyksdGhpcy5fdXBkYXRlSGFzaD1Kbyh0aGlzLl91cGRhdGVIYXNoVW50aHJvdHRsZWQuYmluZCh0aGlzKSwzMDApO31hZGRUbyh0KXtyZXR1cm4gdGhpcy5fbWFwPXQsZS53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImhhc2hjaGFuZ2VcIix0aGlzLl9vbkhhc2hDaGFuZ2UsITEpLHQub24oXCJtb3ZlZW5kXCIsdGhpcy5fdXBkYXRlSGFzaCksdGhpc31yZW1vdmUoKXtyZXR1cm4gdGhpcy5fbWFwPyh0aGlzLl9tYXAub2ZmKFwibW92ZWVuZFwiLHRoaXMuX3VwZGF0ZUhhc2gpLGUud2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJoYXNoY2hhbmdlXCIsdGhpcy5fb25IYXNoQ2hhbmdlLCExKSxjbGVhclRpbWVvdXQodGhpcy5fdXBkYXRlSGFzaCgpKSx0aGlzLl9tYXA9dm9pZCAwLHRoaXMpOnRoaXN9Z2V0SGFzaFN0cmluZygpe2NvbnN0IHQ9dGhpcy5fbWFwO2lmKCF0KXJldHVybiBcIlwiO2NvbnN0IGk9ZXIodCk7aWYodGhpcy5faGFzaE5hbWUpe2NvbnN0IHQ9dGhpcy5faGFzaE5hbWU7bGV0IG89ITE7Y29uc3Qgcj1lLndpbmRvdy5sb2NhdGlvbi5oYXNoLnNsaWNlKDEpLnNwbGl0KFwiJlwiKS5tYXAoKGU9Pntjb25zdCByPWUuc3BsaXQoXCI9XCIpWzBdO3JldHVybiByPT09dD8obz0hMCxgJHtyfT0ke2l9YCk6ZX0pKS5maWx0ZXIoKGU9PmUpKTtyZXR1cm4gb3x8ci5wdXNoKGAke3R9PSR7aX1gKSxgIyR7ci5qb2luKFwiJlwiKX1gfXJldHVybiBgIyR7aX1gfV9nZXRDdXJyZW50SGFzaCgpe2NvbnN0IHQ9ZS53aW5kb3cubG9jYXRpb24uaGFzaC5yZXBsYWNlKFwiI1wiLFwiXCIpO2lmKHRoaXMuX2hhc2hOYW1lKXtsZXQgZTtyZXR1cm4gdC5zcGxpdChcIiZcIikubWFwKChlPT5lLnNwbGl0KFwiPVwiKSkpLmZvckVhY2goKHQ9Pnt0WzBdPT09dGhpcy5faGFzaE5hbWUmJihlPXQpO30pKSwoZSYmZVsxXXx8XCJcIikuc3BsaXQoXCIvXCIpfXJldHVybiB0LnNwbGl0KFwiL1wiKX1fb25IYXNoQ2hhbmdlKCl7Y29uc3QgZT10aGlzLl9tYXA7aWYoIWUpcmV0dXJuICExO2NvbnN0IHQ9dGhpcy5fZ2V0Q3VycmVudEhhc2goKTtpZih0Lmxlbmd0aD49MyYmIXQuc29tZSgoZT0+aXNOYU4oZSkpKSl7Y29uc3QgaT1lLmRyYWdSb3RhdGUuaXNFbmFibGVkKCkmJmUudG91Y2hab29tUm90YXRlLmlzRW5hYmxlZCgpPysodFszXXx8MCk6ZS5nZXRCZWFyaW5nKCk7cmV0dXJuIGUuanVtcFRvKHtjZW50ZXI6Wyt0WzJdLCt0WzFdXSx6b29tOit0WzBdLGJlYXJpbmc6aSxwaXRjaDorKHRbNF18fDApfSksITB9cmV0dXJuICExfV91cGRhdGVIYXNoVW50aHJvdHRsZWQoKXtjb25zdCB0PWUud2luZG93LmxvY2F0aW9uLmhyZWYucmVwbGFjZSgvKCMuKyk/JC8sdGhpcy5nZXRIYXNoU3RyaW5nKCkpO2Uud2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlKGUud2luZG93Lmhpc3Rvcnkuc3RhdGUsbnVsbCx0KTt9fWZ1bmN0aW9uIGVyKGUsdCl7Y29uc3QgaT1lLmdldENlbnRlcigpLG89TWF0aC5yb3VuZCgxMDAqZS5nZXRab29tKCkpLzEwMCxyPU1hdGguY2VpbCgobypNYXRoLkxOMitNYXRoLmxvZyg1MTIvMzYwLy41KSkvTWF0aC5MTjEwKSxuPU1hdGgucG93KDEwLHIpLGE9TWF0aC5yb3VuZChpLmxuZypuKS9uLHM9TWF0aC5yb3VuZChpLmxhdCpuKS9uLGw9ZS5nZXRCZWFyaW5nKCksYz1lLmdldFBpdGNoKCk7bGV0IGg9dD9gLyR7YX0vJHtzfS8ke299YDpgJHtvfS8ke3N9LyR7YX1gO3JldHVybiAobHx8YykmJihoKz1cIi9cIitNYXRoLnJvdW5kKDEwKmwpLzEwKSxjJiYoaCs9YC8ke01hdGgucm91bmQoYyl9YCksaH1jb25zdCB0cj17bGluZWFyaXR5Oi4zLGVhc2luZzplLmJlemllcigwLDAsLjMsMSl9LGlyPWUuZXh0ZW5kKHtkZWNlbGVyYXRpb246MjUwMCxtYXhTcGVlZDoxNDAwfSx0ciksb3I9ZS5leHRlbmQoe2RlY2VsZXJhdGlvbjoyMCxtYXhTcGVlZDoxNDAwfSx0cikscnI9ZS5leHRlbmQoe2RlY2VsZXJhdGlvbjoxZTMsbWF4U3BlZWQ6MzYwfSx0ciksbnI9ZS5leHRlbmQoe2RlY2VsZXJhdGlvbjoxZTMsbWF4U3BlZWQ6OTB9LHRyKTtjbGFzcyBhcntjb25zdHJ1Y3RvcihlKXt0aGlzLl9tYXA9ZSx0aGlzLmNsZWFyKCk7fWNsZWFyKCl7dGhpcy5faW5lcnRpYUJ1ZmZlcj1bXTt9cmVjb3JkKHQpe3RoaXMuX2RyYWluSW5lcnRpYUJ1ZmZlcigpLHRoaXMuX2luZXJ0aWFCdWZmZXIucHVzaCh7dGltZTplLmV4cG9ydGVkLm5vdygpLHNldHRpbmdzOnR9KTt9X2RyYWluSW5lcnRpYUJ1ZmZlcigpe2NvbnN0IHQ9dGhpcy5faW5lcnRpYUJ1ZmZlcixpPWUuZXhwb3J0ZWQubm93KCk7Zm9yKDt0Lmxlbmd0aD4wJiZpLXRbMF0udGltZT4xNjA7KXQuc2hpZnQoKTt9X29uTW92ZUVuZCh0KXtpZih0aGlzLl9kcmFpbkluZXJ0aWFCdWZmZXIoKSx0aGlzLl9pbmVydGlhQnVmZmVyLmxlbmd0aDwyKXJldHVybjtjb25zdCBpPXt6b29tOjAsYmVhcmluZzowLHBpdGNoOjAscGFuOm5ldyBlLnBvaW50R2VvbWV0cnkoMCwwKSxwaW5jaEFyb3VuZDp2b2lkIDAsYXJvdW5kOnZvaWQgMH07Zm9yKGNvbnN0e3NldHRpbmdzOmV9b2YgdGhpcy5faW5lcnRpYUJ1ZmZlcilpLnpvb20rPWUuem9vbURlbHRhfHwwLGkuYmVhcmluZys9ZS5iZWFyaW5nRGVsdGF8fDAsaS5waXRjaCs9ZS5waXRjaERlbHRhfHwwLGUucGFuRGVsdGEmJmkucGFuLl9hZGQoZS5wYW5EZWx0YSksZS5hcm91bmQmJihpLmFyb3VuZD1lLmFyb3VuZCksZS5waW5jaEFyb3VuZCYmKGkucGluY2hBcm91bmQ9ZS5waW5jaEFyb3VuZCk7Y29uc3Qgbz10aGlzLl9pbmVydGlhQnVmZmVyW3RoaXMuX2luZXJ0aWFCdWZmZXIubGVuZ3RoLTFdLnRpbWUtdGhpcy5faW5lcnRpYUJ1ZmZlclswXS50aW1lLHI9e307aWYoaS5wYW4ubWFnKCkpe2NvbnN0IG49bHIoaS5wYW4ubWFnKCksbyxlLmV4dGVuZCh7fSxpcix0fHx7fSkpO3Iub2Zmc2V0PWkucGFuLm11bHQobi5hbW91bnQvaS5wYW4ubWFnKCkpLHIuY2VudGVyPXRoaXMuX21hcC50cmFuc2Zvcm0uY2VudGVyLHNyKHIsbik7fWlmKGkuem9vbSl7Y29uc3QgZT1scihpLnpvb20sbyxvcik7ci56b29tPXRoaXMuX21hcC50cmFuc2Zvcm0uem9vbStlLmFtb3VudCxzcihyLGUpO31pZihpLmJlYXJpbmcpe2NvbnN0IHQ9bHIoaS5iZWFyaW5nLG8scnIpO3IuYmVhcmluZz10aGlzLl9tYXAudHJhbnNmb3JtLmJlYXJpbmcrZS5jbGFtcCh0LmFtb3VudCwtMTc5LDE3OSksc3Iocix0KTt9aWYoaS5waXRjaCl7Y29uc3QgZT1scihpLnBpdGNoLG8sbnIpO3IucGl0Y2g9dGhpcy5fbWFwLnRyYW5zZm9ybS5waXRjaCtlLmFtb3VudCxzcihyLGUpO31pZihyLnpvb218fHIuYmVhcmluZyl7Y29uc3QgZT12b2lkIDA9PT1pLnBpbmNoQXJvdW5kP2kuYXJvdW5kOmkucGluY2hBcm91bmQ7ci5hcm91bmQ9ZT90aGlzLl9tYXAudW5wcm9qZWN0KGUpOnRoaXMuX21hcC5nZXRDZW50ZXIoKTt9cmV0dXJuIHRoaXMuY2xlYXIoKSxyLm5vTW92ZVN0YXJ0PSEwLHJ9fWZ1bmN0aW9uIHNyKGUsdCl7KCFlLmR1cmF0aW9ufHxlLmR1cmF0aW9uPHQuZHVyYXRpb24pJiYoZS5kdXJhdGlvbj10LmR1cmF0aW9uLGUuZWFzaW5nPXQuZWFzaW5nKTt9ZnVuY3Rpb24gbHIodCxpLG8pe2NvbnN0e21heFNwZWVkOnIsbGluZWFyaXR5Om4sZGVjZWxlcmF0aW9uOmF9PW8scz1lLmNsYW1wKHQqbi8oaS8xZTMpLC1yLHIpLGw9TWF0aC5hYnMocykvKGEqbik7cmV0dXJuIHtlYXNpbmc6by5lYXNpbmcsZHVyYXRpb246MWUzKmwsYW1vdW50OnMqKGwvMil9fWNsYXNzIGNyIGV4dGVuZHMgZS5FdmVudHtwcmV2ZW50RGVmYXVsdCgpe3RoaXMuX2RlZmF1bHRQcmV2ZW50ZWQ9ITA7fWdldCBkZWZhdWx0UHJldmVudGVkKCl7cmV0dXJuIHRoaXMuX2RlZmF1bHRQcmV2ZW50ZWR9Y29uc3RydWN0b3IodCxpLG8scj17fSl7Y29uc3Qgbj1wKGkuZ2V0Q2FudmFzQ29udGFpbmVyKCksbyksYT1pLnVucHJvamVjdChuKTtzdXBlcih0LGUuZXh0ZW5kKHtwb2ludDpuLGxuZ0xhdDphLG9yaWdpbmFsRXZlbnQ6b30scikpLHRoaXMuX2RlZmF1bHRQcmV2ZW50ZWQ9ITEsdGhpcy50YXJnZXQ9aTt9fWNsYXNzIGhyIGV4dGVuZHMgZS5FdmVudHtwcmV2ZW50RGVmYXVsdCgpe3RoaXMuX2RlZmF1bHRQcmV2ZW50ZWQ9ITA7fWdldCBkZWZhdWx0UHJldmVudGVkKCl7cmV0dXJuIHRoaXMuX2RlZmF1bHRQcmV2ZW50ZWR9Y29uc3RydWN0b3IodCxpLG8pe2NvbnN0IHI9XCJ0b3VjaGVuZFwiPT09dD9vLmNoYW5nZWRUb3VjaGVzOm8udG91Y2hlcyxuPW0oaS5nZXRDYW52YXNDb250YWluZXIoKSxyKSxhPW4ubWFwKChlPT5pLnVucHJvamVjdChlKSkpLHM9bi5yZWR1Y2UoKChlLHQsaSxvKT0+ZS5hZGQodC5kaXYoby5sZW5ndGgpKSksbmV3IGUucG9pbnRHZW9tZXRyeSgwLDApKTtzdXBlcih0LHtwb2ludHM6bixwb2ludDpzLGxuZ0xhdHM6YSxsbmdMYXQ6aS51bnByb2plY3Qocyksb3JpZ2luYWxFdmVudDpvfSksdGhpcy5fZGVmYXVsdFByZXZlbnRlZD0hMTt9fWNsYXNzIHVyIGV4dGVuZHMgZS5FdmVudHtwcmV2ZW50RGVmYXVsdCgpe3RoaXMuX2RlZmF1bHRQcmV2ZW50ZWQ9ITA7fWdldCBkZWZhdWx0UHJldmVudGVkKCl7cmV0dXJuIHRoaXMuX2RlZmF1bHRQcmV2ZW50ZWR9Y29uc3RydWN0b3IoZSx0LGkpe3N1cGVyKGUse29yaWdpbmFsRXZlbnQ6aX0pLHRoaXMuX2RlZmF1bHRQcmV2ZW50ZWQ9ITE7fX1jbGFzcyBfcntjb25zdHJ1Y3RvcihlLHQpe3RoaXMuX21hcD1lLHRoaXMuX2NsaWNrVG9sZXJhbmNlPXQuY2xpY2tUb2xlcmFuY2U7fXJlc2V0KCl7dGhpcy5fbW91c2Vkb3duUG9zPXZvaWQgMDt9d2hlZWwoZSl7cmV0dXJuIHRoaXMuX2ZpcmVQcmV2ZW50YWJsZShuZXcgdXIoZS50eXBlLHRoaXMuX21hcCxlKSl9bW91c2Vkb3duKGUsdCl7cmV0dXJuIHRoaXMuX21vdXNlZG93blBvcz10LHRoaXMuX2ZpcmVQcmV2ZW50YWJsZShuZXcgY3IoZS50eXBlLHRoaXMuX21hcCxlKSl9bW91c2V1cChlKXt0aGlzLl9tYXAuZmlyZShuZXcgY3IoZS50eXBlLHRoaXMuX21hcCxlKSk7fXByZWNsaWNrKHQpe2NvbnN0IGk9ZS5leHRlbmQoe30sdCk7aS50eXBlPVwicHJlY2xpY2tcIix0aGlzLl9tYXAuZmlyZShuZXcgY3IoaS50eXBlLHRoaXMuX21hcCxpKSk7fWNsaWNrKGUsdCl7dGhpcy5fbW91c2Vkb3duUG9zJiZ0aGlzLl9tb3VzZWRvd25Qb3MuZGlzdCh0KT49dGhpcy5fY2xpY2tUb2xlcmFuY2V8fCh0aGlzLnByZWNsaWNrKGUpLHRoaXMuX21hcC5maXJlKG5ldyBjcihlLnR5cGUsdGhpcy5fbWFwLGUpKSk7fWRibGNsaWNrKGUpe3JldHVybiB0aGlzLl9maXJlUHJldmVudGFibGUobmV3IGNyKGUudHlwZSx0aGlzLl9tYXAsZSkpfW1vdXNlb3ZlcihlKXt0aGlzLl9tYXAuZmlyZShuZXcgY3IoZS50eXBlLHRoaXMuX21hcCxlKSk7fW1vdXNlb3V0KGUpe3RoaXMuX21hcC5maXJlKG5ldyBjcihlLnR5cGUsdGhpcy5fbWFwLGUpKTt9dG91Y2hzdGFydChlKXtyZXR1cm4gdGhpcy5fZmlyZVByZXZlbnRhYmxlKG5ldyBocihlLnR5cGUsdGhpcy5fbWFwLGUpKX10b3VjaG1vdmUoZSl7dGhpcy5fbWFwLmZpcmUobmV3IGhyKGUudHlwZSx0aGlzLl9tYXAsZSkpO310b3VjaGVuZChlKXt0aGlzLl9tYXAuZmlyZShuZXcgaHIoZS50eXBlLHRoaXMuX21hcCxlKSk7fXRvdWNoY2FuY2VsKGUpe3RoaXMuX21hcC5maXJlKG5ldyBocihlLnR5cGUsdGhpcy5fbWFwLGUpKTt9X2ZpcmVQcmV2ZW50YWJsZShlKXtpZih0aGlzLl9tYXAuZmlyZShlKSxlLmRlZmF1bHRQcmV2ZW50ZWQpcmV0dXJuIHt9fWlzRW5hYmxlZCgpe3JldHVybiAhMH1pc0FjdGl2ZSgpe3JldHVybiAhMX1lbmFibGUoKXt9ZGlzYWJsZSgpe319Y2xhc3MgZHJ7Y29uc3RydWN0b3IoZSl7dGhpcy5fbWFwPWU7fXJlc2V0KCl7dGhpcy5fZGVsYXlDb250ZXh0TWVudT0hMSx0aGlzLl9jb250ZXh0TWVudUV2ZW50PXZvaWQgMDt9bW91c2Vtb3ZlKGUpe3RoaXMuX21hcC5maXJlKG5ldyBjcihlLnR5cGUsdGhpcy5fbWFwLGUpKTt9bW91c2Vkb3duKCl7dGhpcy5fZGVsYXlDb250ZXh0TWVudT0hMDt9bW91c2V1cCgpe3RoaXMuX2RlbGF5Q29udGV4dE1lbnU9ITEsdGhpcy5fY29udGV4dE1lbnVFdmVudCYmKHRoaXMuX21hcC5maXJlKG5ldyBjcihcImNvbnRleHRtZW51XCIsdGhpcy5fbWFwLHRoaXMuX2NvbnRleHRNZW51RXZlbnQpKSxkZWxldGUgdGhpcy5fY29udGV4dE1lbnVFdmVudCk7fWNvbnRleHRtZW51KGUpe3RoaXMuX2RlbGF5Q29udGV4dE1lbnU/dGhpcy5fY29udGV4dE1lbnVFdmVudD1lOnRoaXMuX21hcC5maXJlKG5ldyBjcihlLnR5cGUsdGhpcy5fbWFwLGUpKSx0aGlzLl9tYXAubGlzdGVucyhcImNvbnRleHRtZW51XCIpJiZlLnByZXZlbnREZWZhdWx0KCk7fWlzRW5hYmxlZCgpe3JldHVybiAhMH1pc0FjdGl2ZSgpe3JldHVybiAhMX1lbmFibGUoKXt9ZGlzYWJsZSgpe319Y2xhc3MgcHJ7Y29uc3RydWN0b3IoZSx0KXt0aGlzLl9tYXA9ZSx0aGlzLl9lbD1lLmdldENhbnZhc0NvbnRhaW5lcigpLHRoaXMuX2NvbnRhaW5lcj1lLmdldENvbnRhaW5lcigpLHRoaXMuX2NsaWNrVG9sZXJhbmNlPXQuY2xpY2tUb2xlcmFuY2V8fDE7fWlzRW5hYmxlZCgpe3JldHVybiAhIXRoaXMuX2VuYWJsZWR9aXNBY3RpdmUoKXtyZXR1cm4gISF0aGlzLl9hY3RpdmV9ZW5hYmxlKCl7dGhpcy5pc0VuYWJsZWQoKXx8KHRoaXMuX2VuYWJsZWQ9ITApO31kaXNhYmxlKCl7dGhpcy5pc0VuYWJsZWQoKSYmKHRoaXMuX2VuYWJsZWQ9ITEpO31tb3VzZWRvd24oZSx0KXt0aGlzLmlzRW5hYmxlZCgpJiZlLnNoaWZ0S2V5JiYwPT09ZS5idXR0b24mJihoKCksdGhpcy5fc3RhcnRQb3M9dGhpcy5fbGFzdFBvcz10LHRoaXMuX2FjdGl2ZT0hMCk7fW1vdXNlbW92ZVdpbmRvdyhlLHQpe2lmKCF0aGlzLl9hY3RpdmUpcmV0dXJuO2NvbnN0IGk9dDtpZih0aGlzLl9sYXN0UG9zLmVxdWFscyhpKXx8IXRoaXMuX2JveCYmaS5kaXN0KHRoaXMuX3N0YXJ0UG9zKTx0aGlzLl9jbGlja1RvbGVyYW5jZSlyZXR1cm47Y29uc3Qgbz10aGlzLl9zdGFydFBvczt0aGlzLl9sYXN0UG9zPWksdGhpcy5fYm94fHwodGhpcy5fYm94PW4oXCJkaXZcIixcIm1hcGJveGdsLWJveHpvb21cIix0aGlzLl9jb250YWluZXIpLHRoaXMuX2NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY3Jvc3NoYWlyXCIpLHRoaXMuX2ZpcmVFdmVudChcImJveHpvb21zdGFydFwiLGUpKTtjb25zdCByPU1hdGgubWluKG8ueCxpLngpLGE9TWF0aC5tYXgoby54LGkueCkscz1NYXRoLm1pbihvLnksaS55KSxsPU1hdGgubWF4KG8ueSxpLnkpO3RoaXMuX21hcC5fcmVxdWVzdERvbVRhc2soKCgpPT57dGhpcy5fYm94JiYodGhpcy5fYm94LnN0eWxlLnRyYW5zZm9ybT1gdHJhbnNsYXRlKCR7cn1weCwke3N9cHgpYCx0aGlzLl9ib3guc3R5bGUud2lkdGg9YS1yK1wicHhcIix0aGlzLl9ib3guc3R5bGUuaGVpZ2h0PWwtcytcInB4XCIpO30pKTt9bW91c2V1cFdpbmRvdyh0LGkpe2lmKCF0aGlzLl9hY3RpdmUpcmV0dXJuO2lmKDAhPT10LmJ1dHRvbilyZXR1cm47Y29uc3Qgbz10aGlzLl9zdGFydFBvcyxyPWk7aWYodGhpcy5yZXNldCgpLGQoKSxvLnghPT1yLnh8fG8ueSE9PXIueSlyZXR1cm4gdGhpcy5fbWFwLmZpcmUobmV3IGUuRXZlbnQoXCJib3h6b29tZW5kXCIse29yaWdpbmFsRXZlbnQ6dH0pKSx7Y2FtZXJhQW5pbWF0aW9uOmU9PmUuZml0U2NyZWVuQ29vcmRpbmF0ZXMobyxyLHRoaXMuX21hcC5nZXRCZWFyaW5nKCkse2xpbmVhcjohMX0pfTt0aGlzLl9maXJlRXZlbnQoXCJib3h6b29tY2FuY2VsXCIsdCk7fWtleWRvd24oZSl7dGhpcy5fYWN0aXZlJiYyNz09PWUua2V5Q29kZSYmKHRoaXMucmVzZXQoKSx0aGlzLl9maXJlRXZlbnQoXCJib3h6b29tY2FuY2VsXCIsZSkpO31ibHVyKCl7dGhpcy5yZXNldCgpO31yZXNldCgpe3RoaXMuX2FjdGl2ZT0hMSx0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWNyb3NzaGFpclwiKSx0aGlzLl9ib3gmJih0aGlzLl9ib3gucmVtb3ZlKCksdGhpcy5fYm94PW51bGwpLHUoKSxkZWxldGUgdGhpcy5fc3RhcnRQb3MsZGVsZXRlIHRoaXMuX2xhc3RQb3M7fV9maXJlRXZlbnQodCxpKXtyZXR1cm4gdGhpcy5fbWFwLmZpcmUobmV3IGUuRXZlbnQodCx7b3JpZ2luYWxFdmVudDppfSkpfX1mdW5jdGlvbiBtcihlLHQpe2NvbnN0IGk9e307Zm9yKGxldCBvPTA7bzxlLmxlbmd0aDtvKyspaVtlW29dLmlkZW50aWZpZXJdPXRbb107cmV0dXJuIGl9Y2xhc3MgZnJ7Y29uc3RydWN0b3IoZSl7dGhpcy5yZXNldCgpLHRoaXMubnVtVG91Y2hlcz1lLm51bVRvdWNoZXM7fXJlc2V0KCl7dGhpcy5jZW50cm9pZD12b2lkIDAsdGhpcy5zdGFydFRpbWU9MCx0aGlzLnRvdWNoZXM9e30sdGhpcy5hYm9ydGVkPSExO310b3VjaHN0YXJ0KHQsaSxvKXsodGhpcy5jZW50cm9pZHx8by5sZW5ndGg+dGhpcy5udW1Ub3VjaGVzKSYmKHRoaXMuYWJvcnRlZD0hMCksdGhpcy5hYm9ydGVkfHwoMD09PXRoaXMuc3RhcnRUaW1lJiYodGhpcy5zdGFydFRpbWU9dC50aW1lU3RhbXApLG8ubGVuZ3RoPT09dGhpcy5udW1Ub3VjaGVzJiYodGhpcy5jZW50cm9pZD1mdW5jdGlvbih0KXtjb25zdCBpPW5ldyBlLnBvaW50R2VvbWV0cnkoMCwwKTtmb3IoY29uc3QgZSBvZiB0KWkuX2FkZChlKTtyZXR1cm4gaS5kaXYodC5sZW5ndGgpfShpKSx0aGlzLnRvdWNoZXM9bXIobyxpKSkpO310b3VjaG1vdmUoZSx0LGkpe2lmKHRoaXMuYWJvcnRlZHx8IXRoaXMuY2VudHJvaWQpcmV0dXJuO2NvbnN0IG89bXIoaSx0KTtmb3IoY29uc3QgZSBpbiB0aGlzLnRvdWNoZXMpe2NvbnN0IHQ9dGhpcy50b3VjaGVzW2VdLGk9b1tlXTsoIWl8fGkuZGlzdCh0KT4zMCkmJih0aGlzLmFib3J0ZWQ9ITApO319dG91Y2hlbmQoZSx0LGkpe2lmKCghdGhpcy5jZW50cm9pZHx8ZS50aW1lU3RhbXAtdGhpcy5zdGFydFRpbWU+NTAwKSYmKHRoaXMuYWJvcnRlZD0hMCksMD09PWkubGVuZ3RoKXtjb25zdCBlPSF0aGlzLmFib3J0ZWQmJnRoaXMuY2VudHJvaWQ7aWYodGhpcy5yZXNldCgpLGUpcmV0dXJuIGV9fX1jbGFzcyBncntjb25zdHJ1Y3RvcihlKXt0aGlzLnNpbmdsZVRhcD1uZXcgZnIoZSksdGhpcy5udW1UYXBzPWUubnVtVGFwcyx0aGlzLnJlc2V0KCk7fXJlc2V0KCl7dGhpcy5sYXN0VGltZT0xLzAsdGhpcy5sYXN0VGFwPXZvaWQgMCx0aGlzLmNvdW50PTAsdGhpcy5zaW5nbGVUYXAucmVzZXQoKTt9dG91Y2hzdGFydChlLHQsaSl7dGhpcy5zaW5nbGVUYXAudG91Y2hzdGFydChlLHQsaSk7fXRvdWNobW92ZShlLHQsaSl7dGhpcy5zaW5nbGVUYXAudG91Y2htb3ZlKGUsdCxpKTt9dG91Y2hlbmQoZSx0LGkpe2NvbnN0IG89dGhpcy5zaW5nbGVUYXAudG91Y2hlbmQoZSx0LGkpO2lmKG8pe2NvbnN0IHQ9ZS50aW1lU3RhbXAtdGhpcy5sYXN0VGltZTw1MDAsaT0hdGhpcy5sYXN0VGFwfHx0aGlzLmxhc3RUYXAuZGlzdChvKTwzMDtpZih0JiZpfHx0aGlzLnJlc2V0KCksdGhpcy5jb3VudCsrLHRoaXMubGFzdFRpbWU9ZS50aW1lU3RhbXAsdGhpcy5sYXN0VGFwPW8sdGhpcy5jb3VudD09PXRoaXMubnVtVGFwcylyZXR1cm4gdGhpcy5yZXNldCgpLG99fX1jbGFzcyB2cntjb25zdHJ1Y3Rvcigpe3RoaXMuX3pvb21Jbj1uZXcgZ3Ioe251bVRvdWNoZXM6MSxudW1UYXBzOjJ9KSx0aGlzLl96b29tT3V0PW5ldyBncih7bnVtVG91Y2hlczoyLG51bVRhcHM6MX0pLHRoaXMucmVzZXQoKTt9cmVzZXQoKXt0aGlzLl9hY3RpdmU9ITEsdGhpcy5fem9vbUluLnJlc2V0KCksdGhpcy5fem9vbU91dC5yZXNldCgpO310b3VjaHN0YXJ0KGUsdCxpKXt0aGlzLl96b29tSW4udG91Y2hzdGFydChlLHQsaSksdGhpcy5fem9vbU91dC50b3VjaHN0YXJ0KGUsdCxpKTt9dG91Y2htb3ZlKGUsdCxpKXt0aGlzLl96b29tSW4udG91Y2htb3ZlKGUsdCxpKSx0aGlzLl96b29tT3V0LnRvdWNobW92ZShlLHQsaSk7fXRvdWNoZW5kKGUsdCxpKXtjb25zdCBvPXRoaXMuX3pvb21Jbi50b3VjaGVuZChlLHQsaSkscj10aGlzLl96b29tT3V0LnRvdWNoZW5kKGUsdCxpKTtyZXR1cm4gbz8odGhpcy5fYWN0aXZlPSEwLGUucHJldmVudERlZmF1bHQoKSxzZXRUaW1lb3V0KCgoKT0+dGhpcy5yZXNldCgpKSwwKSx7Y2FtZXJhQW5pbWF0aW9uOnQ9PnQuZWFzZVRvKHtkdXJhdGlvbjozMDAsem9vbTp0LmdldFpvb20oKSsxLGFyb3VuZDp0LnVucHJvamVjdChvKX0se29yaWdpbmFsRXZlbnQ6ZX0pfSk6cj8odGhpcy5fYWN0aXZlPSEwLGUucHJldmVudERlZmF1bHQoKSxzZXRUaW1lb3V0KCgoKT0+dGhpcy5yZXNldCgpKSwwKSx7Y2FtZXJhQW5pbWF0aW9uOnQ9PnQuZWFzZVRvKHtkdXJhdGlvbjozMDAsem9vbTp0LmdldFpvb20oKS0xLGFyb3VuZDp0LnVucHJvamVjdChyKX0se29yaWdpbmFsRXZlbnQ6ZX0pfSk6dm9pZCAwfXRvdWNoY2FuY2VsKCl7dGhpcy5yZXNldCgpO31lbmFibGUoKXt0aGlzLl9lbmFibGVkPSEwO31kaXNhYmxlKCl7dGhpcy5fZW5hYmxlZD0hMSx0aGlzLnJlc2V0KCk7fWlzRW5hYmxlZCgpe3JldHVybiB0aGlzLl9lbmFibGVkfWlzQWN0aXZlKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZX19Y29uc3QgeHI9ezA6MSwyOjJ9O2NsYXNzIHlye2NvbnN0cnVjdG9yKGUpe3RoaXMucmVzZXQoKSx0aGlzLl9jbGlja1RvbGVyYW5jZT1lLmNsaWNrVG9sZXJhbmNlfHwxO31ibHVyKCl7dGhpcy5yZXNldCgpO31yZXNldCgpe3RoaXMuX2FjdGl2ZT0hMSx0aGlzLl9tb3ZlZD0hMSx0aGlzLl9sYXN0UG9pbnQ9dm9pZCAwLHRoaXMuX2V2ZW50QnV0dG9uPXZvaWQgMDt9X2NvcnJlY3RCdXR0b24oZSx0KXtyZXR1cm4gITF9X21vdmUoZSx0KXtyZXR1cm4ge319bW91c2Vkb3duKGUsdCl7aWYodGhpcy5fbGFzdFBvaW50KXJldHVybjtjb25zdCBpPWYoZSk7dGhpcy5fY29ycmVjdEJ1dHRvbihlLGkpJiYodGhpcy5fbGFzdFBvaW50PXQsdGhpcy5fZXZlbnRCdXR0b249aSk7fW1vdXNlbW92ZVdpbmRvdyhlLHQpe2NvbnN0IGk9dGhpcy5fbGFzdFBvaW50O2lmKGkpaWYoZS5wcmV2ZW50RGVmYXVsdCgpLG51bGwhPXRoaXMuX2V2ZW50QnV0dG9uJiZmdW5jdGlvbihlLHQpe2NvbnN0IGk9eHJbdF07cmV0dXJuIHZvaWQgMD09PWUuYnV0dG9uc3x8KGUuYnV0dG9ucyZpKSE9PWl9KGUsdGhpcy5fZXZlbnRCdXR0b24pKXRoaXMucmVzZXQoKTtlbHNlIGlmKHRoaXMuX21vdmVkfHwhKHQuZGlzdChpKTx0aGlzLl9jbGlja1RvbGVyYW5jZSkpcmV0dXJuIHRoaXMuX21vdmVkPSEwLHRoaXMuX2xhc3RQb2ludD10LHRoaXMuX21vdmUoaSx0KX1tb3VzZXVwV2luZG93KGUpe3RoaXMuX2xhc3RQb2ludCYmZihlKT09PXRoaXMuX2V2ZW50QnV0dG9uJiYodGhpcy5fbW92ZWQmJmQoKSx0aGlzLnJlc2V0KCkpO31lbmFibGUoKXt0aGlzLl9lbmFibGVkPSEwO31kaXNhYmxlKCl7dGhpcy5fZW5hYmxlZD0hMSx0aGlzLnJlc2V0KCk7fWlzRW5hYmxlZCgpe3JldHVybiB0aGlzLl9lbmFibGVkfWlzQWN0aXZlKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZX19Y2xhc3MgYnIgZXh0ZW5kcyB5cnttb3VzZWRvd24oZSx0KXtzdXBlci5tb3VzZWRvd24oZSx0KSx0aGlzLl9sYXN0UG9pbnQmJih0aGlzLl9hY3RpdmU9ITApO31fY29ycmVjdEJ1dHRvbihlLHQpe3JldHVybiAwPT09dCYmIWUuY3RybEtleX1fbW92ZShlLHQpe3JldHVybiB7YXJvdW5kOnQscGFuRGVsdGE6dC5zdWIoZSl9fX1jbGFzcyB3ciBleHRlbmRzIHlye19jb3JyZWN0QnV0dG9uKGUsdCl7cmV0dXJuIDA9PT10JiZlLmN0cmxLZXl8fDI9PT10fV9tb3ZlKGUsdCl7Y29uc3QgaT0uOCoodC54LWUueCk7aWYoaSlyZXR1cm4gdGhpcy5fYWN0aXZlPSEwLHtiZWFyaW5nRGVsdGE6aX19Y29udGV4dG1lbnUoZSl7ZS5wcmV2ZW50RGVmYXVsdCgpO319Y2xhc3MgVHIgZXh0ZW5kcyB5cntfY29ycmVjdEJ1dHRvbihlLHQpe3JldHVybiAwPT09dCYmZS5jdHJsS2V5fHwyPT09dH1fbW92ZShlLHQpe2NvbnN0IGk9LS41Kih0LnktZS55KTtpZihpKXJldHVybiB0aGlzLl9hY3RpdmU9ITAse3BpdGNoRGVsdGE6aX19Y29udGV4dG1lbnUoZSl7ZS5wcmV2ZW50RGVmYXVsdCgpO319Y2xhc3MgRXJ7Y29uc3RydWN0b3IodCxpKXt0aGlzLl9tYXA9dCx0aGlzLl9lbD10LmdldENhbnZhc0NvbnRhaW5lcigpLHRoaXMuX21pblRvdWNoZXM9MSx0aGlzLl9jbGlja1RvbGVyYW5jZT1pLmNsaWNrVG9sZXJhbmNlfHwxLHRoaXMucmVzZXQoKSxlLmJpbmRBbGwoW1wiX2FkZFRvdWNoUGFuQmxvY2tlclwiLFwiX3Nob3dUb3VjaFBhbkJsb2NrZXJBbGVydFwiXSx0aGlzKTt9cmVzZXQoKXt0aGlzLl9hY3RpdmU9ITEsdGhpcy5fdG91Y2hlcz17fSx0aGlzLl9zdW09bmV3IGUucG9pbnRHZW9tZXRyeSgwLDApO310b3VjaHN0YXJ0KGUsdCxpKXtyZXR1cm4gdGhpcy5fY2FsY3VsYXRlVHJhbnNmb3JtKGUsdCxpKX10b3VjaG1vdmUodCxpLG8pe2lmKHRoaXMuX2FjdGl2ZSYmIShvLmxlbmd0aDx0aGlzLl9taW5Ub3VjaGVzKSl7aWYodGhpcy5fbWFwLl9jb29wZXJhdGl2ZUdlc3R1cmVzJiYhdGhpcy5fbWFwLmlzTW92aW5nKCkpe2lmKDE9PT1vLmxlbmd0aCYmIWUuaXNGdWxsc2NyZWVuKCkpcmV0dXJuIHZvaWQgdGhpcy5fc2hvd1RvdWNoUGFuQmxvY2tlckFsZXJ0KCk7XCJoaWRkZW5cIiE9PXRoaXMuX2FsZXJ0Q29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHkmJih0aGlzLl9hbGVydENvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5PVwiaGlkZGVuXCIsY2xlYXJUaW1lb3V0KHRoaXMuX2FsZXJ0VGltZXIpKTt9cmV0dXJuIHQuY2FuY2VsYWJsZSYmdC5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuX2NhbGN1bGF0ZVRyYW5zZm9ybSh0LGksbyl9fXRvdWNoZW5kKGUsdCxpKXt0aGlzLl9jYWxjdWxhdGVUcmFuc2Zvcm0oZSx0LGkpLHRoaXMuX2FjdGl2ZSYmaS5sZW5ndGg8dGhpcy5fbWluVG91Y2hlcyYmdGhpcy5yZXNldCgpO310b3VjaGNhbmNlbCgpe3RoaXMucmVzZXQoKTt9X2NhbGN1bGF0ZVRyYW5zZm9ybSh0LGksbyl7by5sZW5ndGg+MCYmKHRoaXMuX2FjdGl2ZT0hMCk7Y29uc3Qgcj1tcihvLGkpLG49bmV3IGUucG9pbnRHZW9tZXRyeSgwLDApLGE9bmV3IGUucG9pbnRHZW9tZXRyeSgwLDApO2xldCBzPTA7Zm9yKGNvbnN0IGUgaW4gcil7Y29uc3QgdD1yW2VdLGk9dGhpcy5fdG91Y2hlc1tlXTtpJiYobi5fYWRkKHQpLGEuX2FkZCh0LnN1YihpKSkscysrLHJbZV09dCk7fWlmKHRoaXMuX3RvdWNoZXM9cixzPHRoaXMuX21pblRvdWNoZXN8fCFhLm1hZygpKXJldHVybjtjb25zdCBsPWEuZGl2KHMpO3JldHVybiB0aGlzLl9zdW0uX2FkZChsKSx0aGlzLl9zdW0ubWFnKCk8dGhpcy5fY2xpY2tUb2xlcmFuY2U/dm9pZCAwOnthcm91bmQ6bi5kaXYocykscGFuRGVsdGE6bH19ZW5hYmxlKCl7dGhpcy5fZW5hYmxlZD0hMCx0aGlzLl9tYXAuX2Nvb3BlcmF0aXZlR2VzdHVyZXMmJih0aGlzLl9hZGRUb3VjaFBhbkJsb2NrZXIoKSx0aGlzLl9lbC5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtdG91Y2gtcGFuLWJsb2NrZXItb3ZlcnJpZGVcIixcIm1hcGJveGdsLXNjcm9sbGFibGUtcGFnZVwiKSk7fWRpc2FibGUoKXt0aGlzLl9lbmFibGVkPSExLHRoaXMuX21hcC5fY29vcGVyYXRpdmVHZXN0dXJlcyYmKGNsZWFyVGltZW91dCh0aGlzLl9hbGVydFRpbWVyKSx0aGlzLl9hbGVydENvbnRhaW5lci5yZW1vdmUoKSx0aGlzLl9lbC5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtdG91Y2gtcGFuLWJsb2NrZXItb3ZlcnJpZGVcIixcIm1hcGJveGdsLXNjcm9sbGFibGUtcGFnZVwiKSksdGhpcy5yZXNldCgpO31pc0VuYWJsZWQoKXtyZXR1cm4gISF0aGlzLl9lbmFibGVkfWlzQWN0aXZlKCl7cmV0dXJuICEhdGhpcy5fYWN0aXZlfV9hZGRUb3VjaFBhbkJsb2NrZXIoKXt0aGlzLl9tYXAmJiF0aGlzLl9hbGVydENvbnRhaW5lciYmKHRoaXMuX2FsZXJ0Q29udGFpbmVyPW4oXCJkaXZcIixcIm1hcGJveGdsLXRvdWNoLXBhbi1ibG9ja2VyXCIsdGhpcy5fbWFwLl9jb250YWluZXIpLHRoaXMuX2FsZXJ0Q29udGFpbmVyLnRleHRDb250ZW50PXRoaXMuX21hcC5fZ2V0VUlTdHJpbmcoXCJUb3VjaFBhbkJsb2NrZXIuTWVzc2FnZVwiKSx0aGlzLl9hbGVydENvbnRhaW5lci5zdHlsZS5mb250U2l6ZT1gJHtNYXRoLm1heCgxMCxNYXRoLm1pbigyNCxNYXRoLmZsb29yKC4wNSp0aGlzLl9lbC5jbGllbnRXaWR0aCkpKX1weGApO31fc2hvd1RvdWNoUGFuQmxvY2tlckFsZXJ0KCl7dGhpcy5fYWxlcnRDb250YWluZXIuc3R5bGUudmlzaWJpbGl0eT1cInZpc2libGVcIix0aGlzLl9hbGVydENvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtdG91Y2gtcGFuLWJsb2NrZXItc2hvd1wiKSx0aGlzLl9hbGVydENvbnRhaW5lci5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsXCJhbGVydFwiKSxjbGVhclRpbWVvdXQodGhpcy5fYWxlcnRUaW1lciksdGhpcy5fYWxlcnRUaW1lcj1zZXRUaW1lb3V0KCgoKT0+e3RoaXMuX2FsZXJ0Q29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC10b3VjaC1wYW4tYmxvY2tlci1zaG93XCIpLHRoaXMuX2FsZXJ0Q29udGFpbmVyLnNldEF0dHJpYnV0ZShcInJvbGVcIixcIm51bGxcIik7fSksNTAwKTt9fWNsYXNzIENye2NvbnN0cnVjdG9yKCl7dGhpcy5yZXNldCgpO31yZXNldCgpe3RoaXMuX2FjdGl2ZT0hMSx0aGlzLl9maXJzdFR3b1RvdWNoZXM9dm9pZCAwO31fc3RhcnQoZSl7fV9tb3ZlKGUsdCxpKXtyZXR1cm4ge319dG91Y2hzdGFydChlLHQsaSl7dGhpcy5fZmlyc3RUd29Ub3VjaGVzfHxpLmxlbmd0aDwyfHwodGhpcy5fZmlyc3RUd29Ub3VjaGVzPVtpWzBdLmlkZW50aWZpZXIsaVsxXS5pZGVudGlmaWVyXSx0aGlzLl9zdGFydChbdFswXSx0WzFdXSkpO310b3VjaG1vdmUoZSx0LGkpe2NvbnN0IG89dGhpcy5fZmlyc3RUd29Ub3VjaGVzO2lmKCFvKXJldHVybjtlLnByZXZlbnREZWZhdWx0KCk7Y29uc3RbcixuXT1vLGE9SXIoaSx0LHIpLHM9SXIoaSx0LG4pO2lmKCFhfHwhcylyZXR1cm47Y29uc3QgbD10aGlzLl9hcm91bmRDZW50ZXI/bnVsbDphLmFkZChzKS5kaXYoMik7cmV0dXJuIHRoaXMuX21vdmUoW2Esc10sbCxlKX10b3VjaGVuZChlLHQsaSl7aWYoIXRoaXMuX2ZpcnN0VHdvVG91Y2hlcylyZXR1cm47Y29uc3RbbyxyXT10aGlzLl9maXJzdFR3b1RvdWNoZXMsbj1JcihpLHQsbyksYT1JcihpLHQscik7biYmYXx8KHRoaXMuX2FjdGl2ZSYmZCgpLHRoaXMucmVzZXQoKSk7fXRvdWNoY2FuY2VsKCl7dGhpcy5yZXNldCgpO31lbmFibGUoZSl7dGhpcy5fZW5hYmxlZD0hMCx0aGlzLl9hcm91bmRDZW50ZXI9ISFlJiZcImNlbnRlclwiPT09ZS5hcm91bmQ7fWRpc2FibGUoKXt0aGlzLl9lbmFibGVkPSExLHRoaXMucmVzZXQoKTt9aXNFbmFibGVkKCl7cmV0dXJuIHRoaXMuX2VuYWJsZWR9aXNBY3RpdmUoKXtyZXR1cm4gdGhpcy5fYWN0aXZlfX1mdW5jdGlvbiBJcihlLHQsaSl7Zm9yKGxldCBvPTA7bzxlLmxlbmd0aDtvKyspaWYoZVtvXS5pZGVudGlmaWVyPT09aSlyZXR1cm4gdFtvXX1mdW5jdGlvbiBNcihlLHQpe3JldHVybiBNYXRoLmxvZyhlL3QpL01hdGguTE4yfWNsYXNzIFNyIGV4dGVuZHMgQ3J7cmVzZXQoKXtzdXBlci5yZXNldCgpLHRoaXMuX2Rpc3RhbmNlPTAsdGhpcy5fc3RhcnREaXN0YW5jZT0wO31fc3RhcnQoZSl7dGhpcy5fc3RhcnREaXN0YW5jZT10aGlzLl9kaXN0YW5jZT1lWzBdLmRpc3QoZVsxXSk7fV9tb3ZlKGUsdCl7Y29uc3QgaT10aGlzLl9kaXN0YW5jZTtpZih0aGlzLl9kaXN0YW5jZT1lWzBdLmRpc3QoZVsxXSksdGhpcy5fYWN0aXZlfHwhKE1hdGguYWJzKE1yKHRoaXMuX2Rpc3RhbmNlLHRoaXMuX3N0YXJ0RGlzdGFuY2UpKTwuMSkpcmV0dXJuIHRoaXMuX2FjdGl2ZT0hMCx7em9vbURlbHRhOk1yKHRoaXMuX2Rpc3RhbmNlLGkpLHBpbmNoQXJvdW5kOnR9fX1mdW5jdGlvbiB6cihlLHQpe3JldHVybiAxODAqZS5hbmdsZVdpdGgodCkvTWF0aC5QSX1jbGFzcyBEciBleHRlbmRzIENye3Jlc2V0KCl7c3VwZXIucmVzZXQoKSx0aGlzLl9taW5EaWFtZXRlcj0wLHRoaXMuX3N0YXJ0VmVjdG9yPXZvaWQgMCx0aGlzLl92ZWN0b3I9dm9pZCAwO31fc3RhcnQoZSl7dGhpcy5fc3RhcnRWZWN0b3I9dGhpcy5fdmVjdG9yPWVbMF0uc3ViKGVbMV0pLHRoaXMuX21pbkRpYW1ldGVyPWVbMF0uZGlzdChlWzFdKTt9X21vdmUoZSx0KXtjb25zdCBpPXRoaXMuX3ZlY3RvcjtpZih0aGlzLl92ZWN0b3I9ZVswXS5zdWIoZVsxXSksdGhpcy5fYWN0aXZlfHwhdGhpcy5faXNCZWxvd1RocmVzaG9sZCh0aGlzLl92ZWN0b3IpKXJldHVybiB0aGlzLl9hY3RpdmU9ITAse2JlYXJpbmdEZWx0YTp6cih0aGlzLl92ZWN0b3IsaSkscGluY2hBcm91bmQ6dH19X2lzQmVsb3dUaHJlc2hvbGQoZSl7dGhpcy5fbWluRGlhbWV0ZXI9TWF0aC5taW4odGhpcy5fbWluRGlhbWV0ZXIsZS5tYWcoKSk7Y29uc3QgdD0yNS8oTWF0aC5QSSp0aGlzLl9taW5EaWFtZXRlcikqMzYwLGk9enIoZSx0aGlzLl9zdGFydFZlY3Rvcik7cmV0dXJuIE1hdGguYWJzKGkpPHR9fWZ1bmN0aW9uIFByKGUpe3JldHVybiBNYXRoLmFicyhlLnkpPk1hdGguYWJzKGUueCl9Y2xhc3MgQXIgZXh0ZW5kcyBDcntjb25zdHJ1Y3RvcihlKXtzdXBlcigpLHRoaXMuX21hcD1lO31yZXNldCgpe3N1cGVyLnJlc2V0KCksdGhpcy5fdmFsaWQ9dm9pZCAwLHRoaXMuX2ZpcnN0TW92ZT12b2lkIDAsdGhpcy5fbGFzdFBvaW50cz12b2lkIDA7fV9zdGFydChlKXt0aGlzLl9sYXN0UG9pbnRzPWUsUHIoZVswXS5zdWIoZVsxXSkpJiYodGhpcy5fdmFsaWQ9ITEpO31fbW92ZShlLHQsaSl7Y29uc3Qgbz10aGlzLl9sYXN0UG9pbnRzO2lmKCFvKXJldHVybjtjb25zdCByPWVbMF0uc3ViKG9bMF0pLG49ZVsxXS5zdWIob1sxXSk7cmV0dXJuIHRoaXMuX21hcC5fY29vcGVyYXRpdmVHZXN0dXJlcyYmaS50b3VjaGVzLmxlbmd0aDwzfHwodGhpcy5fdmFsaWQ9dGhpcy5nZXN0dXJlQmVnaW5zVmVydGljYWxseShyLG4saS50aW1lU3RhbXApLCF0aGlzLl92YWxpZCk/dm9pZCAwOih0aGlzLl9sYXN0UG9pbnRzPWUsdGhpcy5fYWN0aXZlPSEwLHtwaXRjaERlbHRhOihyLnkrbi55KS8yKi0uNX0pfWdlc3R1cmVCZWdpbnNWZXJ0aWNhbGx5KGUsdCxpKXtpZih2b2lkIDAhPT10aGlzLl92YWxpZClyZXR1cm4gdGhpcy5fdmFsaWQ7Y29uc3Qgbz1lLm1hZygpPj0yLHI9dC5tYWcoKT49MjtpZighbyYmIXIpcmV0dXJuO2lmKCFvfHwhcilyZXR1cm4gbnVsbD09dGhpcy5fZmlyc3RNb3ZlJiYodGhpcy5fZmlyc3RNb3ZlPWkpLGktdGhpcy5fZmlyc3RNb3ZlPDEwMCYmdm9pZCAwO2NvbnN0IG49ZS55PjA9PXQueT4wO3JldHVybiBQcihlKSYmUHIodCkmJm59fWNvbnN0IExyPXtwYW5TdGVwOjEwMCxiZWFyaW5nU3RlcDoxNSxwaXRjaFN0ZXA6MTB9O2NsYXNzIFJye2NvbnN0cnVjdG9yKCl7Y29uc3QgZT1Mcjt0aGlzLl9wYW5TdGVwPWUucGFuU3RlcCx0aGlzLl9iZWFyaW5nU3RlcD1lLmJlYXJpbmdTdGVwLHRoaXMuX3BpdGNoU3RlcD1lLnBpdGNoU3RlcCx0aGlzLl9yb3RhdGlvbkRpc2FibGVkPSExO31ibHVyKCl7dGhpcy5yZXNldCgpO31yZXNldCgpe3RoaXMuX2FjdGl2ZT0hMTt9a2V5ZG93bihlKXtpZihlLmFsdEtleXx8ZS5jdHJsS2V5fHxlLm1ldGFLZXkpcmV0dXJuO2xldCB0PTAsaT0wLG89MCxyPTAsbj0wO3N3aXRjaChlLmtleUNvZGUpe2Nhc2UgNjE6Y2FzZSAxMDc6Y2FzZSAxNzE6Y2FzZSAxODc6dD0xO2JyZWFrO2Nhc2UgMTg5OmNhc2UgMTA5OmNhc2UgMTczOnQ9LTE7YnJlYWs7Y2FzZSAzNzplLnNoaWZ0S2V5P2k9LTE6KGUucHJldmVudERlZmF1bHQoKSxyPS0xKTticmVhaztjYXNlIDM5OmUuc2hpZnRLZXk/aT0xOihlLnByZXZlbnREZWZhdWx0KCkscj0xKTticmVhaztjYXNlIDM4OmUuc2hpZnRLZXk/bz0xOihlLnByZXZlbnREZWZhdWx0KCksbj0tMSk7YnJlYWs7Y2FzZSA0MDplLnNoaWZ0S2V5P289LTE6KGUucHJldmVudERlZmF1bHQoKSxuPTEpO2JyZWFrO2RlZmF1bHQ6cmV0dXJufXJldHVybiB0aGlzLl9yb3RhdGlvbkRpc2FibGVkJiYoaT0wLG89MCkse2NhbWVyYUFuaW1hdGlvbjphPT57Y29uc3Qgcz1hLmdldFpvb20oKTthLmVhc2VUbyh7ZHVyYXRpb246MzAwLGVhc2VJZDpcImtleWJvYXJkSGFuZGxlclwiLGVhc2luZzpPcix6b29tOnQ/TWF0aC5yb3VuZChzKSt0KihlLnNoaWZ0S2V5PzI6MSk6cyxiZWFyaW5nOmEuZ2V0QmVhcmluZygpK2kqdGhpcy5fYmVhcmluZ1N0ZXAscGl0Y2g6YS5nZXRQaXRjaCgpK28qdGhpcy5fcGl0Y2hTdGVwLG9mZnNldDpbLXIqdGhpcy5fcGFuU3RlcCwtbip0aGlzLl9wYW5TdGVwXSxjZW50ZXI6YS5nZXRDZW50ZXIoKX0se29yaWdpbmFsRXZlbnQ6ZX0pO319fWVuYWJsZSgpe3RoaXMuX2VuYWJsZWQ9ITA7fWRpc2FibGUoKXt0aGlzLl9lbmFibGVkPSExLHRoaXMucmVzZXQoKTt9aXNFbmFibGVkKCl7cmV0dXJuIHRoaXMuX2VuYWJsZWR9aXNBY3RpdmUoKXtyZXR1cm4gdGhpcy5fYWN0aXZlfWRpc2FibGVSb3RhdGlvbigpe3RoaXMuX3JvdGF0aW9uRGlzYWJsZWQ9ITA7fWVuYWJsZVJvdGF0aW9uKCl7dGhpcy5fcm90YXRpb25EaXNhYmxlZD0hMTt9fWZ1bmN0aW9uIE9yKGUpe3JldHVybiBlKigyLWUpfWNvbnN0IEJyPTQuMDAwMjQ0MTQwNjI1O2NsYXNzIGtye2NvbnN0cnVjdG9yKHQsaSl7dGhpcy5fbWFwPXQsdGhpcy5fZWw9dC5nZXRDYW52YXNDb250YWluZXIoKSx0aGlzLl9oYW5kbGVyPWksdGhpcy5fZGVsdGE9MCx0aGlzLl9kZWZhdWx0Wm9vbVJhdGU9LjAxLHRoaXMuX3doZWVsWm9vbVJhdGU9LjAwMjIyMjIyMjIyMjIyMjIyMjIsZS5iaW5kQWxsKFtcIl9vblRpbWVvdXRcIixcIl9hZGRTY3JvbGxab29tQmxvY2tlclwiLFwiX3Nob3dCbG9ja2VyQWxlcnRcIl0sdGhpcyk7fXNldFpvb21SYXRlKGUpe3RoaXMuX2RlZmF1bHRab29tUmF0ZT1lO31zZXRXaGVlbFpvb21SYXRlKGUpe3RoaXMuX3doZWVsWm9vbVJhdGU9ZTt9aXNFbmFibGVkKCl7cmV0dXJuICEhdGhpcy5fZW5hYmxlZH1pc0FjdGl2ZSgpe3JldHVybiB0aGlzLl9hY3RpdmV8fHZvaWQgMCE9PXRoaXMuX2ZpbmlzaFRpbWVvdXR9aXNab29taW5nKCl7cmV0dXJuICEhdGhpcy5fem9vbWluZ31lbmFibGUoZSl7dGhpcy5pc0VuYWJsZWQoKXx8KHRoaXMuX2VuYWJsZWQ9ITAsdGhpcy5fYXJvdW5kQ2VudGVyPSEhZSYmXCJjZW50ZXJcIj09PWUuYXJvdW5kLHRoaXMuX21hcC5fY29vcGVyYXRpdmVHZXN0dXJlcyYmdGhpcy5fYWRkU2Nyb2xsWm9vbUJsb2NrZXIoKSk7fWRpc2FibGUoKXt0aGlzLmlzRW5hYmxlZCgpJiYodGhpcy5fZW5hYmxlZD0hMSx0aGlzLl9tYXAuX2Nvb3BlcmF0aXZlR2VzdHVyZXMmJihjbGVhclRpbWVvdXQodGhpcy5fYWxlcnRUaW1lciksdGhpcy5fYWxlcnRDb250YWluZXIucmVtb3ZlKCkpKTt9d2hlZWwodCl7aWYoIXRoaXMuaXNFbmFibGVkKCkpcmV0dXJuO2lmKHRoaXMuX21hcC5fY29vcGVyYXRpdmVHZXN0dXJlcyl7aWYoISh0LmN0cmxLZXl8fHQubWV0YUtleXx8dGhpcy5pc1pvb21pbmcoKXx8ZS5pc0Z1bGxzY3JlZW4oKSkpcmV0dXJuIHZvaWQgdGhpcy5fc2hvd0Jsb2NrZXJBbGVydCgpO1wiaGlkZGVuXCIhPT10aGlzLl9hbGVydENvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5JiYodGhpcy5fYWxlcnRDb250YWluZXIuc3R5bGUudmlzaWJpbGl0eT1cImhpZGRlblwiLGNsZWFyVGltZW91dCh0aGlzLl9hbGVydFRpbWVyKSk7fWxldCBpPXQuZGVsdGFNb2RlPT09ZS53aW5kb3cuV2hlZWxFdmVudC5ET01fREVMVEFfTElORT80MCp0LmRlbHRhWTp0LmRlbHRhWTtjb25zdCBvPWUuZXhwb3J0ZWQubm93KCkscj1vLSh0aGlzLl9sYXN0V2hlZWxFdmVudFRpbWV8fDApO3RoaXMuX2xhc3RXaGVlbEV2ZW50VGltZT1vLDAhPT1pJiZpJUJyPT0wP3RoaXMuX3R5cGU9XCJ3aGVlbFwiOjAhPT1pJiZNYXRoLmFicyhpKTw0P3RoaXMuX3R5cGU9XCJ0cmFja3BhZFwiOnI+NDAwPyh0aGlzLl90eXBlPW51bGwsdGhpcy5fbGFzdFZhbHVlPWksdGhpcy5fdGltZW91dD1zZXRUaW1lb3V0KHRoaXMuX29uVGltZW91dCw0MCx0KSk6dGhpcy5fdHlwZXx8KHRoaXMuX3R5cGU9TWF0aC5hYnMocippKTwyMDA/XCJ0cmFja3BhZFwiOlwid2hlZWxcIix0aGlzLl90aW1lb3V0JiYoY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVvdXQpLHRoaXMuX3RpbWVvdXQ9bnVsbCxpKz10aGlzLl9sYXN0VmFsdWUpKSx0LnNoaWZ0S2V5JiZpJiYoaS89NCksdGhpcy5fdHlwZSYmKHRoaXMuX2xhc3RXaGVlbEV2ZW50PXQsdGhpcy5fZGVsdGEtPWksdGhpcy5fYWN0aXZlfHx0aGlzLl9zdGFydCh0KSksdC5wcmV2ZW50RGVmYXVsdCgpO31fb25UaW1lb3V0KGUpe3RoaXMuX3R5cGU9XCJ3aGVlbFwiLHRoaXMuX2RlbHRhLT10aGlzLl9sYXN0VmFsdWUsdGhpcy5fYWN0aXZlfHx0aGlzLl9zdGFydChlKTt9X3N0YXJ0KGUpe2lmKCF0aGlzLl9kZWx0YSlyZXR1cm47dGhpcy5fZnJhbWVJZCYmKHRoaXMuX2ZyYW1lSWQ9bnVsbCksdGhpcy5fYWN0aXZlPSEwLHRoaXMuaXNab29taW5nKCl8fCh0aGlzLl96b29taW5nPSEwKSx0aGlzLl9maW5pc2hUaW1lb3V0JiYoY2xlYXJUaW1lb3V0KHRoaXMuX2ZpbmlzaFRpbWVvdXQpLGRlbGV0ZSB0aGlzLl9maW5pc2hUaW1lb3V0KTtjb25zdCB0PXAodGhpcy5fZWwsZSk7dGhpcy5fYXJvdW5kUG9pbnQ9dGhpcy5fYXJvdW5kQ2VudGVyP3RoaXMuX21hcC50cmFuc2Zvcm0uY2VudGVyUG9pbnQ6dCx0aGlzLl9hcm91bmRDb29yZD10aGlzLl9tYXAudHJhbnNmb3JtLnBvaW50Q29vcmRpbmF0ZTNEKHRoaXMuX2Fyb3VuZFBvaW50KSx0aGlzLl90YXJnZXRab29tPXZvaWQgMCx0aGlzLl9mcmFtZUlkfHwodGhpcy5fZnJhbWVJZD0hMCx0aGlzLl9oYW5kbGVyLl90cmlnZ2VyUmVuZGVyRnJhbWUoKSk7fXJlbmRlckZyYW1lKCl7aWYoIXRoaXMuX2ZyYW1lSWQpcmV0dXJuO2lmKHRoaXMuX2ZyYW1lSWQ9bnVsbCwhdGhpcy5pc0FjdGl2ZSgpKXJldHVybjtjb25zdCB0PXRoaXMuX21hcC50cmFuc2Zvcm0saT0oKT0+dC5fdGVycmFpbkVuYWJsZWQoKSYmdGhpcy5fYXJvdW5kQ29vcmQ/dC5jb21wdXRlWm9vbVJlbGF0aXZlVG8odGhpcy5fYXJvdW5kQ29vcmQpOnQuem9vbTtpZigwIT09dGhpcy5fZGVsdGEpe2NvbnN0IGU9XCJ3aGVlbFwiPT09dGhpcy5fdHlwZSYmTWF0aC5hYnModGhpcy5fZGVsdGEpPkJyP3RoaXMuX3doZWVsWm9vbVJhdGU6dGhpcy5fZGVmYXVsdFpvb21SYXRlO2xldCBvPTIvKDErTWF0aC5leHAoLU1hdGguYWJzKHRoaXMuX2RlbHRhKmUpKSk7dGhpcy5fZGVsdGE8MCYmMCE9PW8mJihvPTEvbyk7Y29uc3Qgcj1pKCksbj1NYXRoLnBvdygyLHIpLGE9XCJudW1iZXJcIj09dHlwZW9mIHRoaXMuX3RhcmdldFpvb20/dC56b29tU2NhbGUodGhpcy5fdGFyZ2V0Wm9vbSk6bjt0aGlzLl90YXJnZXRab29tPU1hdGgubWluKHQubWF4Wm9vbSxNYXRoLm1heCh0Lm1pblpvb20sdC5zY2FsZVpvb20oYSpvKSkpLFwid2hlZWxcIj09PXRoaXMuX3R5cGUmJih0aGlzLl9zdGFydFpvb209cix0aGlzLl9lYXNpbmc9dGhpcy5fc21vb3RoT3V0RWFzaW5nKDIwMCkpLHRoaXMuX2RlbHRhPTA7fWNvbnN0IG89XCJudW1iZXJcIj09dHlwZW9mIHRoaXMuX3RhcmdldFpvb20/dGhpcy5fdGFyZ2V0Wm9vbTppKCkscj10aGlzLl9zdGFydFpvb20sbj10aGlzLl9lYXNpbmc7bGV0IGEscz0hMTtpZihcIndoZWVsXCI9PT10aGlzLl90eXBlJiZyJiZuKXtjb25zdCB0PU1hdGgubWluKChlLmV4cG9ydGVkLm5vdygpLXRoaXMuX2xhc3RXaGVlbEV2ZW50VGltZSkvMjAwLDEpLGk9bih0KTthPWUubnVtYmVyKHIsbyxpKSx0PDE/dGhpcy5fZnJhbWVJZHx8KHRoaXMuX2ZyYW1lSWQ9ITApOnM9ITA7fWVsc2UgYT1vLHM9ITA7cmV0dXJuIHRoaXMuX2FjdGl2ZT0hMCxzJiYodGhpcy5fYWN0aXZlPSExLHRoaXMuX2ZpbmlzaFRpbWVvdXQ9c2V0VGltZW91dCgoKCk9Pnt0aGlzLl96b29taW5nPSExLHRoaXMuX2hhbmRsZXIuX3RyaWdnZXJSZW5kZXJGcmFtZSgpLGRlbGV0ZSB0aGlzLl90YXJnZXRab29tLGRlbGV0ZSB0aGlzLl9maW5pc2hUaW1lb3V0O30pLDIwMCkpLHtub0luZXJ0aWE6ITAsbmVlZHNSZW5kZXJGcmFtZTohcyx6b29tRGVsdGE6YS1pKCksYXJvdW5kOnRoaXMuX2Fyb3VuZFBvaW50LGFyb3VuZENvb3JkOnRoaXMuX2Fyb3VuZENvb3JkLG9yaWdpbmFsRXZlbnQ6dGhpcy5fbGFzdFdoZWVsRXZlbnR9fV9zbW9vdGhPdXRFYXNpbmcodCl7bGV0IGk9ZS5lYXNlO2lmKHRoaXMuX3ByZXZFYXNlKXtjb25zdCB0PXRoaXMuX3ByZXZFYXNlLG89KGUuZXhwb3J0ZWQubm93KCktdC5zdGFydCkvdC5kdXJhdGlvbixyPXQuZWFzaW5nKG8rLjAxKS10LmVhc2luZyhvKSxuPS4yNy9NYXRoLnNxcnQocipyKzFlLTQpKi4wMSxhPU1hdGguc3FydCguMDcyOS1uKm4pO2k9ZS5iZXppZXIobixhLC4yNSwxKTt9cmV0dXJuIHRoaXMuX3ByZXZFYXNlPXtzdGFydDplLmV4cG9ydGVkLm5vdygpLGR1cmF0aW9uOnQsZWFzaW5nOml9LGl9Ymx1cigpe3RoaXMucmVzZXQoKTt9cmVzZXQoKXt0aGlzLl9hY3RpdmU9ITE7fV9hZGRTY3JvbGxab29tQmxvY2tlcigpe3RoaXMuX21hcCYmIXRoaXMuX2FsZXJ0Q29udGFpbmVyJiYodGhpcy5fYWxlcnRDb250YWluZXI9bihcImRpdlwiLFwibWFwYm94Z2wtc2Nyb2xsLXpvb20tYmxvY2tlclwiLHRoaXMuX21hcC5fY29udGFpbmVyKSx0aGlzLl9hbGVydENvbnRhaW5lci50ZXh0Q29udGVudD0vKE1hY3xpUGFkKS9pLnRlc3QoZS53aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudCk/dGhpcy5fbWFwLl9nZXRVSVN0cmluZyhcIlNjcm9sbFpvb21CbG9ja2VyLkNtZE1lc3NhZ2VcIik6dGhpcy5fbWFwLl9nZXRVSVN0cmluZyhcIlNjcm9sbFpvb21CbG9ja2VyLkN0cmxNZXNzYWdlXCIpLHRoaXMuX2FsZXJ0Q29udGFpbmVyLnN0eWxlLmZvbnRTaXplPWAke01hdGgubWF4KDEwLE1hdGgubWluKDI0LE1hdGguZmxvb3IoLjA1KnRoaXMuX2VsLmNsaWVudFdpZHRoKSkpfXB4YCk7fV9zaG93QmxvY2tlckFsZXJ0KCl7dGhpcy5fYWxlcnRDb250YWluZXIuc3R5bGUudmlzaWJpbGl0eT1cInZpc2libGVcIix0aGlzLl9hbGVydENvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtc2Nyb2xsLXpvb20tYmxvY2tlci1zaG93XCIpLHRoaXMuX2FsZXJ0Q29udGFpbmVyLnNldEF0dHJpYnV0ZShcInJvbGVcIixcImFsZXJ0XCIpLGNsZWFyVGltZW91dCh0aGlzLl9hbGVydFRpbWVyKSx0aGlzLl9hbGVydFRpbWVyPXNldFRpbWVvdXQoKCgpPT57dGhpcy5fYWxlcnRDb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLXNjcm9sbC16b29tLWJsb2NrZXItc2hvd1wiKSx0aGlzLl9hbGVydENvbnRhaW5lci5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsXCJudWxsXCIpO30pLDIwMCk7fX1jbGFzcyBGcntjb25zdHJ1Y3RvcihlLHQpe3RoaXMuX2NsaWNrWm9vbT1lLHRoaXMuX3RhcFpvb209dDt9ZW5hYmxlKCl7dGhpcy5fY2xpY2tab29tLmVuYWJsZSgpLHRoaXMuX3RhcFpvb20uZW5hYmxlKCk7fWRpc2FibGUoKXt0aGlzLl9jbGlja1pvb20uZGlzYWJsZSgpLHRoaXMuX3RhcFpvb20uZGlzYWJsZSgpO31pc0VuYWJsZWQoKXtyZXR1cm4gdGhpcy5fY2xpY2tab29tLmlzRW5hYmxlZCgpJiZ0aGlzLl90YXBab29tLmlzRW5hYmxlZCgpfWlzQWN0aXZlKCl7cmV0dXJuIHRoaXMuX2NsaWNrWm9vbS5pc0FjdGl2ZSgpfHx0aGlzLl90YXBab29tLmlzQWN0aXZlKCl9fWNsYXNzIFVye2NvbnN0cnVjdG9yKCl7dGhpcy5yZXNldCgpO31yZXNldCgpe3RoaXMuX2FjdGl2ZT0hMTt9Ymx1cigpe3RoaXMucmVzZXQoKTt9ZGJsY2xpY2soZSx0KXtyZXR1cm4gZS5wcmV2ZW50RGVmYXVsdCgpLHtjYW1lcmFBbmltYXRpb246aT0+e2kuZWFzZVRvKHtkdXJhdGlvbjozMDAsem9vbTppLmdldFpvb20oKSsoZS5zaGlmdEtleT8tMToxKSxhcm91bmQ6aS51bnByb2plY3QodCl9LHtvcmlnaW5hbEV2ZW50OmV9KTt9fX1lbmFibGUoKXt0aGlzLl9lbmFibGVkPSEwO31kaXNhYmxlKCl7dGhpcy5fZW5hYmxlZD0hMSx0aGlzLnJlc2V0KCk7fWlzRW5hYmxlZCgpe3JldHVybiB0aGlzLl9lbmFibGVkfWlzQWN0aXZlKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZX19Y2xhc3MgTnJ7Y29uc3RydWN0b3IoKXt0aGlzLl90YXA9bmV3IGdyKHtudW1Ub3VjaGVzOjEsbnVtVGFwczoxfSksdGhpcy5yZXNldCgpO31yZXNldCgpe3RoaXMuX2FjdGl2ZT0hMSx0aGlzLl9zd2lwZVBvaW50PXZvaWQgMCx0aGlzLl9zd2lwZVRvdWNoPTAsdGhpcy5fdGFwVGltZT0wLHRoaXMuX3RhcC5yZXNldCgpO310b3VjaHN0YXJ0KGUsdCxpKXt0aGlzLl9zd2lwZVBvaW50fHwodGhpcy5fdGFwVGltZSYmZS50aW1lU3RhbXAtdGhpcy5fdGFwVGltZT41MDAmJnRoaXMucmVzZXQoKSx0aGlzLl90YXBUaW1lP2kubGVuZ3RoPjAmJih0aGlzLl9zd2lwZVBvaW50PXRbMF0sdGhpcy5fc3dpcGVUb3VjaD1pWzBdLmlkZW50aWZpZXIpOnRoaXMuX3RhcC50b3VjaHN0YXJ0KGUsdCxpKSk7fXRvdWNobW92ZShlLHQsaSl7aWYodGhpcy5fdGFwVGltZSl7aWYodGhpcy5fc3dpcGVQb2ludCl7aWYoaVswXS5pZGVudGlmaWVyIT09dGhpcy5fc3dpcGVUb3VjaClyZXR1cm47Y29uc3Qgbz10WzBdLHI9by55LXRoaXMuX3N3aXBlUG9pbnQueTtyZXR1cm4gdGhpcy5fc3dpcGVQb2ludD1vLGUucHJldmVudERlZmF1bHQoKSx0aGlzLl9hY3RpdmU9ITAse3pvb21EZWx0YTpyLzEyOH19fWVsc2UgdGhpcy5fdGFwLnRvdWNobW92ZShlLHQsaSk7fXRvdWNoZW5kKGUsdCxpKXt0aGlzLl90YXBUaW1lP3RoaXMuX3N3aXBlUG9pbnQmJjA9PT1pLmxlbmd0aCYmdGhpcy5yZXNldCgpOnRoaXMuX3RhcC50b3VjaGVuZChlLHQsaSkmJih0aGlzLl90YXBUaW1lPWUudGltZVN0YW1wKTt9dG91Y2hjYW5jZWwoKXt0aGlzLnJlc2V0KCk7fWVuYWJsZSgpe3RoaXMuX2VuYWJsZWQ9ITA7fWRpc2FibGUoKXt0aGlzLl9lbmFibGVkPSExLHRoaXMucmVzZXQoKTt9aXNFbmFibGVkKCl7cmV0dXJuIHRoaXMuX2VuYWJsZWR9aXNBY3RpdmUoKXtyZXR1cm4gdGhpcy5fYWN0aXZlfX1jbGFzcyBHcntjb25zdHJ1Y3RvcihlLHQsaSl7dGhpcy5fZWw9ZSx0aGlzLl9tb3VzZVBhbj10LHRoaXMuX3RvdWNoUGFuPWk7fWVuYWJsZShlKXt0aGlzLl9pbmVydGlhT3B0aW9ucz1lfHx7fSx0aGlzLl9tb3VzZVBhbi5lbmFibGUoKSx0aGlzLl90b3VjaFBhbi5lbmFibGUoKSx0aGlzLl9lbC5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtdG91Y2gtZHJhZy1wYW5cIik7fWRpc2FibGUoKXt0aGlzLl9tb3VzZVBhbi5kaXNhYmxlKCksdGhpcy5fdG91Y2hQYW4uZGlzYWJsZSgpLHRoaXMuX2VsLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC10b3VjaC1kcmFnLXBhblwiKTt9aXNFbmFibGVkKCl7cmV0dXJuIHRoaXMuX21vdXNlUGFuLmlzRW5hYmxlZCgpJiZ0aGlzLl90b3VjaFBhbi5pc0VuYWJsZWQoKX1pc0FjdGl2ZSgpe3JldHVybiB0aGlzLl9tb3VzZVBhbi5pc0FjdGl2ZSgpfHx0aGlzLl90b3VjaFBhbi5pc0FjdGl2ZSgpfX1jbGFzcyBqcntjb25zdHJ1Y3RvcihlLHQsaSl7dGhpcy5fcGl0Y2hXaXRoUm90YXRlPWUucGl0Y2hXaXRoUm90YXRlLHRoaXMuX21vdXNlUm90YXRlPXQsdGhpcy5fbW91c2VQaXRjaD1pO31lbmFibGUoKXt0aGlzLl9tb3VzZVJvdGF0ZS5lbmFibGUoKSx0aGlzLl9waXRjaFdpdGhSb3RhdGUmJnRoaXMuX21vdXNlUGl0Y2guZW5hYmxlKCk7fWRpc2FibGUoKXt0aGlzLl9tb3VzZVJvdGF0ZS5kaXNhYmxlKCksdGhpcy5fbW91c2VQaXRjaC5kaXNhYmxlKCk7fWlzRW5hYmxlZCgpe3JldHVybiB0aGlzLl9tb3VzZVJvdGF0ZS5pc0VuYWJsZWQoKSYmKCF0aGlzLl9waXRjaFdpdGhSb3RhdGV8fHRoaXMuX21vdXNlUGl0Y2guaXNFbmFibGVkKCkpfWlzQWN0aXZlKCl7cmV0dXJuIHRoaXMuX21vdXNlUm90YXRlLmlzQWN0aXZlKCl8fHRoaXMuX21vdXNlUGl0Y2guaXNBY3RpdmUoKX19Y2xhc3MgWnJ7Y29uc3RydWN0b3IoZSx0LGksbyl7dGhpcy5fZWw9ZSx0aGlzLl90b3VjaFpvb209dCx0aGlzLl90b3VjaFJvdGF0ZT1pLHRoaXMuX3RhcERyYWdab29tPW8sdGhpcy5fcm90YXRpb25EaXNhYmxlZD0hMSx0aGlzLl9lbmFibGVkPSEwO31lbmFibGUoZSl7dGhpcy5fdG91Y2hab29tLmVuYWJsZShlKSx0aGlzLl9yb3RhdGlvbkRpc2FibGVkfHx0aGlzLl90b3VjaFJvdGF0ZS5lbmFibGUoZSksdGhpcy5fdGFwRHJhZ1pvb20uZW5hYmxlKCksdGhpcy5fZWwuY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLXRvdWNoLXpvb20tcm90YXRlXCIpO31kaXNhYmxlKCl7dGhpcy5fdG91Y2hab29tLmRpc2FibGUoKSx0aGlzLl90b3VjaFJvdGF0ZS5kaXNhYmxlKCksdGhpcy5fdGFwRHJhZ1pvb20uZGlzYWJsZSgpLHRoaXMuX2VsLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC10b3VjaC16b29tLXJvdGF0ZVwiKTt9aXNFbmFibGVkKCl7cmV0dXJuIHRoaXMuX3RvdWNoWm9vbS5pc0VuYWJsZWQoKSYmKHRoaXMuX3JvdGF0aW9uRGlzYWJsZWR8fHRoaXMuX3RvdWNoUm90YXRlLmlzRW5hYmxlZCgpKSYmdGhpcy5fdGFwRHJhZ1pvb20uaXNFbmFibGVkKCl9aXNBY3RpdmUoKXtyZXR1cm4gdGhpcy5fdG91Y2hab29tLmlzQWN0aXZlKCl8fHRoaXMuX3RvdWNoUm90YXRlLmlzQWN0aXZlKCl8fHRoaXMuX3RhcERyYWdab29tLmlzQWN0aXZlKCl9ZGlzYWJsZVJvdGF0aW9uKCl7dGhpcy5fcm90YXRpb25EaXNhYmxlZD0hMCx0aGlzLl90b3VjaFJvdGF0ZS5kaXNhYmxlKCk7fWVuYWJsZVJvdGF0aW9uKCl7dGhpcy5fcm90YXRpb25EaXNhYmxlZD0hMSx0aGlzLl90b3VjaFpvb20uaXNFbmFibGVkKCkmJnRoaXMuX3RvdWNoUm90YXRlLmVuYWJsZSgpO319Y29uc3QgVnI9ZT0+ZS56b29tfHxlLmRyYWd8fGUucGl0Y2h8fGUucm90YXRlO2NsYXNzIFdyIGV4dGVuZHMgZS5FdmVudHt9Y2xhc3MgWHJ7Y29uc3RydWN0b3IoKXt0aGlzLmNvbnN0YW50cz1bMSwxLC4wMV0sdGhpcy5yYWRpdXM9MDt9c2V0dXAodCxpKXtjb25zdCBvPWUuc3ViKFtdLGksdCk7dGhpcy5yYWRpdXM9ZS5sZW5ndGgob1syXTwwP2UuZGl2KFtdLG8sdGhpcy5jb25zdGFudHMpOltvWzBdLG9bMV0sMF0pO31wcm9qZWN0UmF5KHQpe2UuZGl2KHQsdCx0aGlzLmNvbnN0YW50cyksZS5ub3JtYWxpemUodCx0KSxlLm11bCQxKHQsdCx0aGlzLmNvbnN0YW50cyk7Y29uc3QgaT1lLnNjYWxlJDIoW10sdCx0aGlzLnJhZGl1cyk7aWYoaVsyXT4wKXtjb25zdCB0PWUuc2NhbGUkMihbXSxbMCwwLDFdLGUuZG90KGksWzAsMCwxXSkpLG89ZS5zY2FsZSQyKFtdLGUubm9ybWFsaXplKFtdLFtpWzBdLGlbMV0sMF0pLHRoaXMucmFkaXVzKSxyPWUuYWRkKFtdLGksZS5zY2FsZSQyKFtdLGUuc3ViKFtdLGUuYWRkKFtdLG8sdCksaSksMikpO2lbMF09clswXSxpWzFdPXJbMV07fXJldHVybiBpfX1mdW5jdGlvbiBxcihlKXtyZXR1cm4gZS5wYW5EZWx0YSYmZS5wYW5EZWx0YS5tYWcoKXx8ZS56b29tRGVsdGF8fGUuYmVhcmluZ0RlbHRhfHxlLnBpdGNoRGVsdGF9Y2xhc3MgJHJ7Y29uc3RydWN0b3IodCxpKXt0aGlzLl9tYXA9dCx0aGlzLl9lbD10aGlzLl9tYXAuZ2V0Q2FudmFzQ29udGFpbmVyKCksdGhpcy5faGFuZGxlcnM9W10sdGhpcy5faGFuZGxlcnNCeUlkPXt9LHRoaXMuX2NoYW5nZXM9W10sdGhpcy5faW5lcnRpYT1uZXcgYXIodCksdGhpcy5fYmVhcmluZ1NuYXA9aS5iZWFyaW5nU25hcCx0aGlzLl9wcmV2aW91c0FjdGl2ZUhhbmRsZXJzPXt9LHRoaXMuX3RyYWNraW5nRWxsaXBzb2lkPW5ldyBYcix0aGlzLl9kcmFnT3JpZ2luPW51bGwsdGhpcy5fZXZlbnRzSW5Qcm9ncmVzcz17fSx0aGlzLl9hZGREZWZhdWx0SGFuZGxlcnMoaSksZS5iaW5kQWxsKFtcImhhbmRsZUV2ZW50XCIsXCJoYW5kbGVXaW5kb3dFdmVudFwiXSx0aGlzKTtjb25zdCBvPXRoaXMuX2VsO3RoaXMuX2xpc3RlbmVycz1bW28sXCJ0b3VjaHN0YXJ0XCIse3Bhc3NpdmU6ITB9XSxbbyxcInRvdWNobW92ZVwiLHtwYXNzaXZlOiExfV0sW28sXCJ0b3VjaGVuZFwiLHZvaWQgMF0sW28sXCJ0b3VjaGNhbmNlbFwiLHZvaWQgMF0sW28sXCJtb3VzZWRvd25cIix2b2lkIDBdLFtvLFwibW91c2Vtb3ZlXCIsdm9pZCAwXSxbbyxcIm1vdXNldXBcIix2b2lkIDBdLFtlLndpbmRvdy5kb2N1bWVudCxcIm1vdXNlbW92ZVwiLHtjYXB0dXJlOiEwfV0sW2Uud2luZG93LmRvY3VtZW50LFwibW91c2V1cFwiLHZvaWQgMF0sW28sXCJtb3VzZW92ZXJcIix2b2lkIDBdLFtvLFwibW91c2VvdXRcIix2b2lkIDBdLFtvLFwiZGJsY2xpY2tcIix2b2lkIDBdLFtvLFwiY2xpY2tcIix2b2lkIDBdLFtvLFwia2V5ZG93blwiLHtjYXB0dXJlOiExfV0sW28sXCJrZXl1cFwiLHZvaWQgMF0sW28sXCJ3aGVlbFwiLHtwYXNzaXZlOiExfV0sW28sXCJjb250ZXh0bWVudVwiLHZvaWQgMF0sW2Uud2luZG93LFwiYmx1clwiLHZvaWQgMF1dO2Zvcihjb25zdFt0LGksb11vZiB0aGlzLl9saXN0ZW5lcnMpdC5hZGRFdmVudExpc3RlbmVyKGksdD09PWUud2luZG93LmRvY3VtZW50P3RoaXMuaGFuZGxlV2luZG93RXZlbnQ6dGhpcy5oYW5kbGVFdmVudCxvKTt9ZGVzdHJveSgpe2Zvcihjb25zdFt0LGksb11vZiB0aGlzLl9saXN0ZW5lcnMpdC5yZW1vdmVFdmVudExpc3RlbmVyKGksdD09PWUud2luZG93LmRvY3VtZW50P3RoaXMuaGFuZGxlV2luZG93RXZlbnQ6dGhpcy5oYW5kbGVFdmVudCxvKTt9X2FkZERlZmF1bHRIYW5kbGVycyhlKXtjb25zdCB0PXRoaXMuX21hcCxpPXQuZ2V0Q2FudmFzQ29udGFpbmVyKCk7dGhpcy5fYWRkKFwibWFwRXZlbnRcIixuZXcgX3IodCxlKSk7Y29uc3Qgbz10LmJveFpvb209bmV3IHByKHQsZSk7dGhpcy5fYWRkKFwiYm94Wm9vbVwiLG8pO2NvbnN0IHI9bmV3IHZyLG49bmV3IFVyO3QuZG91YmxlQ2xpY2tab29tPW5ldyBGcihuLHIpLHRoaXMuX2FkZChcInRhcFpvb21cIixyKSx0aGlzLl9hZGQoXCJjbGlja1pvb21cIixuKTtjb25zdCBhPW5ldyBOcjt0aGlzLl9hZGQoXCJ0YXBEcmFnWm9vbVwiLGEpO2NvbnN0IHM9dC50b3VjaFBpdGNoPW5ldyBBcih0KTt0aGlzLl9hZGQoXCJ0b3VjaFBpdGNoXCIscyk7Y29uc3QgbD1uZXcgd3IoZSksYz1uZXcgVHIoZSk7dC5kcmFnUm90YXRlPW5ldyBqcihlLGwsYyksdGhpcy5fYWRkKFwibW91c2VSb3RhdGVcIixsLFtcIm1vdXNlUGl0Y2hcIl0pLHRoaXMuX2FkZChcIm1vdXNlUGl0Y2hcIixjLFtcIm1vdXNlUm90YXRlXCJdKTtjb25zdCBoPW5ldyBicihlKSx1PW5ldyBFcih0LGUpO3QuZHJhZ1Bhbj1uZXcgR3IoaSxoLHUpLHRoaXMuX2FkZChcIm1vdXNlUGFuXCIsaCksdGhpcy5fYWRkKFwidG91Y2hQYW5cIix1LFtcInRvdWNoWm9vbVwiLFwidG91Y2hSb3RhdGVcIl0pO2NvbnN0IF89bmV3IERyLGQ9bmV3IFNyO3QudG91Y2hab29tUm90YXRlPW5ldyBacihpLGQsXyxhKSx0aGlzLl9hZGQoXCJ0b3VjaFJvdGF0ZVwiLF8sW1widG91Y2hQYW5cIixcInRvdWNoWm9vbVwiXSksdGhpcy5fYWRkKFwidG91Y2hab29tXCIsZCxbXCJ0b3VjaFBhblwiLFwidG91Y2hSb3RhdGVcIl0pLHRoaXMuX2FkZChcImJsb2NrYWJsZU1hcEV2ZW50XCIsbmV3IGRyKHQpKTtjb25zdCBwPXQuc2Nyb2xsWm9vbT1uZXcga3IodCx0aGlzKTt0aGlzLl9hZGQoXCJzY3JvbGxab29tXCIscCxbXCJtb3VzZVBhblwiXSk7Y29uc3QgbT10LmtleWJvYXJkPW5ldyBScjt0aGlzLl9hZGQoXCJrZXlib2FyZFwiLG0pO2Zvcihjb25zdCBpIG9mIFtcImJveFpvb21cIixcImRvdWJsZUNsaWNrWm9vbVwiLFwidGFwRHJhZ1pvb21cIixcInRvdWNoUGl0Y2hcIixcImRyYWdSb3RhdGVcIixcImRyYWdQYW5cIixcInRvdWNoWm9vbVJvdGF0ZVwiLFwic2Nyb2xsWm9vbVwiLFwia2V5Ym9hcmRcIl0pZS5pbnRlcmFjdGl2ZSYmZVtpXSYmdFtpXS5lbmFibGUoZVtpXSk7fV9hZGQoZSx0LGkpe3RoaXMuX2hhbmRsZXJzLnB1c2goe2hhbmRsZXJOYW1lOmUsaGFuZGxlcjp0LGFsbG93ZWQ6aX0pLHRoaXMuX2hhbmRsZXJzQnlJZFtlXT10O31zdG9wKGUpe2lmKCF0aGlzLl91cGRhdGluZ0NhbWVyYSl7Zm9yKGNvbnN0e2hhbmRsZXI6ZX1vZiB0aGlzLl9oYW5kbGVycyllLnJlc2V0KCk7dGhpcy5faW5lcnRpYS5jbGVhcigpLHRoaXMuX2ZpcmVFdmVudHMoe30se30sZSksdGhpcy5fY2hhbmdlcz1bXTt9fWlzQWN0aXZlKCl7Zm9yKGNvbnN0e2hhbmRsZXI6ZX1vZiB0aGlzLl9oYW5kbGVycylpZihlLmlzQWN0aXZlKCkpcmV0dXJuICEwO3JldHVybiAhMX1pc1pvb21pbmcoKXtyZXR1cm4gISF0aGlzLl9ldmVudHNJblByb2dyZXNzLnpvb218fHRoaXMuX21hcC5zY3JvbGxab29tLmlzWm9vbWluZygpfWlzUm90YXRpbmcoKXtyZXR1cm4gISF0aGlzLl9ldmVudHNJblByb2dyZXNzLnJvdGF0ZX1pc01vdmluZygpe3JldHVybiAhIVZyKHRoaXMuX2V2ZW50c0luUHJvZ3Jlc3MpfHx0aGlzLmlzWm9vbWluZygpfV9ibG9ja2VkQnlBY3RpdmUoZSx0LGkpe2Zvcihjb25zdCBvIGluIGUpaWYobyE9PWkmJighdHx8dC5pbmRleE9mKG8pPDApKXJldHVybiAhMDtyZXR1cm4gITF9aGFuZGxlV2luZG93RXZlbnQoZSl7dGhpcy5oYW5kbGVFdmVudChlLGAke2UudHlwZX1XaW5kb3dgKTt9X2dldE1hcFRvdWNoZXMoZSl7Y29uc3QgdD1bXTtmb3IoY29uc3QgaSBvZiBlKXRoaXMuX2VsLmNvbnRhaW5zKGkudGFyZ2V0KSYmdC5wdXNoKGkpO3JldHVybiB0fWhhbmRsZUV2ZW50KGUsdCl7dGhpcy5fdXBkYXRpbmdDYW1lcmE9ITA7Y29uc3QgaT1cInJlbmRlckZyYW1lXCI9PT1lLnR5cGUsbz1pP3ZvaWQgMDplLHI9e25lZWRzUmVuZGVyRnJhbWU6ITF9LG49e30sYT17fSxzPWUudG91Y2hlcz90aGlzLl9nZXRNYXBUb3VjaGVzKGUudG91Y2hlcyk6dm9pZCAwLGw9cz9tKHRoaXMuX2VsLHMpOmk/dm9pZCAwOnAodGhpcy5fZWwsZSk7Zm9yKGNvbnN0e2hhbmRsZXJOYW1lOmksaGFuZGxlcjpjLGFsbG93ZWQ6aH1vZiB0aGlzLl9oYW5kbGVycyl7aWYoIWMuaXNFbmFibGVkKCkpY29udGludWU7bGV0IHU7dGhpcy5fYmxvY2tlZEJ5QWN0aXZlKGEsaCxpKT9jLnJlc2V0KCk6Y1t0fHxlLnR5cGVdJiYodT1jW3R8fGUudHlwZV0oZSxsLHMpLHRoaXMubWVyZ2VIYW5kbGVyUmVzdWx0KHIsbix1LGksbyksdSYmdS5uZWVkc1JlbmRlckZyYW1lJiZ0aGlzLl90cmlnZ2VyUmVuZGVyRnJhbWUoKSksKHV8fGMuaXNBY3RpdmUoKSkmJihhW2ldPWMpO31jb25zdCBjPXt9O2Zvcihjb25zdCBlIGluIHRoaXMuX3ByZXZpb3VzQWN0aXZlSGFuZGxlcnMpYVtlXXx8KGNbZV09byk7dGhpcy5fcHJldmlvdXNBY3RpdmVIYW5kbGVycz1hLChPYmplY3Qua2V5cyhjKS5sZW5ndGh8fHFyKHIpKSYmKHRoaXMuX2NoYW5nZXMucHVzaChbcixuLGNdKSx0aGlzLl90cmlnZ2VyUmVuZGVyRnJhbWUoKSksKE9iamVjdC5rZXlzKGEpLmxlbmd0aHx8cXIocikpJiZ0aGlzLl9tYXAuX3N0b3AoITApLHRoaXMuX3VwZGF0aW5nQ2FtZXJhPSExO2NvbnN0e2NhbWVyYUFuaW1hdGlvbjpofT1yO2gmJih0aGlzLl9pbmVydGlhLmNsZWFyKCksdGhpcy5fZmlyZUV2ZW50cyh7fSx7fSwhMCksdGhpcy5fY2hhbmdlcz1bXSxoKHRoaXMuX21hcCkpO31tZXJnZUhhbmRsZXJSZXN1bHQodCxpLG8scixuKXtpZighbylyZXR1cm47ZS5leHRlbmQodCxvKTtjb25zdCBhPXtoYW5kbGVyTmFtZTpyLG9yaWdpbmFsRXZlbnQ6by5vcmlnaW5hbEV2ZW50fHxufTt2b2lkIDAhPT1vLnpvb21EZWx0YSYmKGkuem9vbT1hKSx2b2lkIDAhPT1vLnBhbkRlbHRhJiYoaS5kcmFnPWEpLHZvaWQgMCE9PW8ucGl0Y2hEZWx0YSYmKGkucGl0Y2g9YSksdm9pZCAwIT09by5iZWFyaW5nRGVsdGEmJihpLnJvdGF0ZT1hKTt9X2FwcGx5Q2hhbmdlcygpe2NvbnN0IHQ9e30saT17fSxvPXt9O2Zvcihjb25zdFtyLG4sYV1vZiB0aGlzLl9jaGFuZ2VzKXIucGFuRGVsdGEmJih0LnBhbkRlbHRhPSh0LnBhbkRlbHRhfHxuZXcgZS5wb2ludEdlb21ldHJ5KDAsMCkpLl9hZGQoci5wYW5EZWx0YSkpLHIuem9vbURlbHRhJiYodC56b29tRGVsdGE9KHQuem9vbURlbHRhfHwwKStyLnpvb21EZWx0YSksci5iZWFyaW5nRGVsdGEmJih0LmJlYXJpbmdEZWx0YT0odC5iZWFyaW5nRGVsdGF8fDApK3IuYmVhcmluZ0RlbHRhKSxyLnBpdGNoRGVsdGEmJih0LnBpdGNoRGVsdGE9KHQucGl0Y2hEZWx0YXx8MCkrci5waXRjaERlbHRhKSx2b2lkIDAhPT1yLmFyb3VuZCYmKHQuYXJvdW5kPXIuYXJvdW5kKSx2b2lkIDAhPT1yLmFyb3VuZENvb3JkJiYodC5hcm91bmRDb29yZD1yLmFyb3VuZENvb3JkKSx2b2lkIDAhPT1yLnBpbmNoQXJvdW5kJiYodC5waW5jaEFyb3VuZD1yLnBpbmNoQXJvdW5kKSxyLm5vSW5lcnRpYSYmKHQubm9JbmVydGlhPXIubm9JbmVydGlhKSxlLmV4dGVuZChpLG4pLGUuZXh0ZW5kKG8sYSk7dGhpcy5fdXBkYXRlTWFwVHJhbnNmb3JtKHQsaSxvKSx0aGlzLl9jaGFuZ2VzPVtdO31fdXBkYXRlTWFwVHJhbnNmb3JtKHQsaSxvKXtjb25zdCByPXRoaXMuX21hcCxuPXIudHJhbnNmb3JtLGE9ZT0+W2UueCxlLnksZS56XTtpZigoZT0+e2NvbnN0IHQ9dGhpcy5fZXZlbnRzSW5Qcm9ncmVzcy5kcmFnO3JldHVybiB0JiYhdGhpcy5faGFuZGxlcnNCeUlkW3QuaGFuZGxlck5hbWVdLmlzQWN0aXZlKCl9KSgpJiYhcXIodCkpe2NvbnN0IGU9bi56b29tO24uY2FtZXJhRWxldmF0aW9uUmVmZXJlbmNlPVwic2VhXCIsbi5yZWNlbnRlck9uVGVycmFpbigpLG4uY2FtZXJhRWxldmF0aW9uUmVmZXJlbmNlPVwiZ3JvdW5kXCIsZSE9PW4uem9vbSYmdGhpcy5fbWFwLl91cGRhdGUoITApO31pZighcXIodCkpcmV0dXJuIHZvaWQgdGhpcy5fZmlyZUV2ZW50cyhpLG8sITApO2xldHtwYW5EZWx0YTpzLHpvb21EZWx0YTpsLGJlYXJpbmdEZWx0YTpjLHBpdGNoRGVsdGE6aCxhcm91bmQ6dSxhcm91bmRDb29yZDpfLHBpbmNoQXJvdW5kOmR9PXQ7dm9pZCAwIT09ZCYmKHU9ZCksKGU9PmkuZHJhZyYmIXRoaXMuX2V2ZW50c0luUHJvZ3Jlc3MuZHJhZykoKSYmdSYmKHRoaXMuX2RyYWdPcmlnaW49YShuLnBvaW50Q29vcmRpbmF0ZTNEKHUpKSx0aGlzLl90cmFja2luZ0VsbGlwc29pZC5zZXR1cChuLl9jYW1lcmEucG9zaXRpb24sdGhpcy5fZHJhZ09yaWdpbikpLG4uY2FtZXJhRWxldmF0aW9uUmVmZXJlbmNlPVwic2VhXCIsci5fc3RvcCghMCksdT11fHxyLnRyYW5zZm9ybS5jZW50ZXJQb2ludCxjJiYobi5iZWFyaW5nKz1jKSxoJiYobi5waXRjaCs9aCksbi5fdXBkYXRlQ2FtZXJhU3RhdGUoKTtjb25zdCBwPVswLDAsMF07aWYocylpZihcIm1lcmNhdG9yXCI9PT1uLnByb2plY3Rpb24ubmFtZSl7Y29uc3QgZT10aGlzLl90cmFja2luZ0VsbGlwc29pZC5wcm9qZWN0UmF5KG4uc2NyZWVuUG9pbnRUb01lcmNhdG9yUmF5KHUpLmRpciksdD10aGlzLl90cmFja2luZ0VsbGlwc29pZC5wcm9qZWN0UmF5KG4uc2NyZWVuUG9pbnRUb01lcmNhdG9yUmF5KHUuc3ViKHMpKS5kaXIpO3BbMF09dFswXS1lWzBdLHBbMV09dFsxXS1lWzFdO31lbHNlIHtjb25zdCB0PW4ucG9pbnRDb29yZGluYXRlKHUpO2lmKFwiZ2xvYmVcIj09PW4ucHJvamVjdGlvbi5uYW1lKXtzPXMucm90YXRlKC1uLmFuZ2xlKTtjb25zdCBpPW4uX3BpeGVsc1Blck1lcmNhdG9yUGl4ZWwvbi53b3JsZFNpemU7cFswXT0tcy54KmUubWVyY2F0b3JTY2FsZShlLmxhdEZyb21NZXJjYXRvclkodC55KSkqaSxwWzFdPS1zLnkqZS5tZXJjYXRvclNjYWxlKG4uY2VudGVyLmxhdCkqaTt9ZWxzZSB7Y29uc3QgZT1uLnBvaW50Q29vcmRpbmF0ZSh1LnN1YihzKSk7dCYmZSYmKHBbMF09ZS54LXQueCxwWzFdPWUueS10LnkpO319Y29uc3QgbT1uLnpvb20sZj1bMCwwLDBdO2lmKGwpe2NvbnN0IHQ9YShffHxuLnBvaW50Q29vcmRpbmF0ZTNEKHUpKSxpPXtkaXI6ZS5ub3JtYWxpemUoW10sZS5zdWIoW10sdCxuLl9jYW1lcmEucG9zaXRpb24pKX07aWYoaS5kaXJbMl08MCl7Y29uc3Qgbz1uLnpvb21EZWx0YVRvTW92ZW1lbnQodCxsKTtlLnNjYWxlJDIoZixpLmRpcixvKTt9fWNvbnN0IGc9ZS5hZGQocCxwLGYpO24uX3RyYW5zbGF0ZUNhbWVyYUNvbnN0cmFpbmVkKGcpLGwmJk1hdGguYWJzKG4uem9vbS1tKT4xZS00JiZuLnJlY2VudGVyT25UZXJyYWluKCksbi5jYW1lcmFFbGV2YXRpb25SZWZlcmVuY2U9XCJncm91bmRcIix0aGlzLl9tYXAuX3VwZGF0ZSgpLHQubm9JbmVydGlhfHx0aGlzLl9pbmVydGlhLnJlY29yZCh0KSx0aGlzLl9maXJlRXZlbnRzKGksbywhMCk7fV9maXJlRXZlbnRzKHQsaSxvKXtjb25zdCByPVZyKHRoaXMuX2V2ZW50c0luUHJvZ3Jlc3MpLG49VnIodCksYT17fTtmb3IoY29uc3QgZSBpbiB0KXtjb25zdHtvcmlnaW5hbEV2ZW50Oml9PXRbZV07dGhpcy5fZXZlbnRzSW5Qcm9ncmVzc1tlXXx8KGFbYCR7ZX1zdGFydGBdPWkpLHRoaXMuX2V2ZW50c0luUHJvZ3Jlc3NbZV09dFtlXTt9IXImJm4mJnRoaXMuX2ZpcmVFdmVudChcIm1vdmVzdGFydFwiLG4ub3JpZ2luYWxFdmVudCk7Zm9yKGNvbnN0IGUgaW4gYSl0aGlzLl9maXJlRXZlbnQoZSxhW2VdKTtuJiZ0aGlzLl9maXJlRXZlbnQoXCJtb3ZlXCIsbi5vcmlnaW5hbEV2ZW50KTtmb3IoY29uc3QgZSBpbiB0KXtjb25zdHtvcmlnaW5hbEV2ZW50Oml9PXRbZV07dGhpcy5fZmlyZUV2ZW50KGUsaSk7fWNvbnN0IHM9e307bGV0IGw7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fZXZlbnRzSW5Qcm9ncmVzcyl7Y29uc3R7aGFuZGxlck5hbWU6dCxvcmlnaW5hbEV2ZW50Om99PXRoaXMuX2V2ZW50c0luUHJvZ3Jlc3NbZV07dGhpcy5faGFuZGxlcnNCeUlkW3RdLmlzQWN0aXZlKCl8fChkZWxldGUgdGhpcy5fZXZlbnRzSW5Qcm9ncmVzc1tlXSxsPWlbdF18fG8sc1tgJHtlfWVuZGBdPWwpO31mb3IoY29uc3QgZSBpbiBzKXRoaXMuX2ZpcmVFdmVudChlLHNbZV0pO2NvbnN0IGM9VnIodGhpcy5fZXZlbnRzSW5Qcm9ncmVzcyk7aWYobyYmKHJ8fG4pJiYhYyl7dGhpcy5fdXBkYXRpbmdDYW1lcmE9ITA7Y29uc3QgdD10aGlzLl9pbmVydGlhLl9vbk1vdmVFbmQodGhpcy5fbWFwLmRyYWdQYW4uX2luZXJ0aWFPcHRpb25zKSxpPWU9PjAhPT1lJiYtdGhpcy5fYmVhcmluZ1NuYXA8ZSYmZTx0aGlzLl9iZWFyaW5nU25hcDt0PyhpKHQuYmVhcmluZ3x8dGhpcy5fbWFwLmdldEJlYXJpbmcoKSkmJih0LmJlYXJpbmc9MCksdGhpcy5fbWFwLmVhc2VUbyh0LHtvcmlnaW5hbEV2ZW50Omx9KSk6KHRoaXMuX21hcC5maXJlKG5ldyBlLkV2ZW50KFwibW92ZWVuZFwiLHtvcmlnaW5hbEV2ZW50Omx9KSksaSh0aGlzLl9tYXAuZ2V0QmVhcmluZygpKSYmdGhpcy5fbWFwLnJlc2V0Tm9ydGgoKSksdGhpcy5fdXBkYXRpbmdDYW1lcmE9ITE7fX1fZmlyZUV2ZW50KHQsaSl7dGhpcy5fbWFwLmZpcmUobmV3IGUuRXZlbnQodCxpP3tvcmlnaW5hbEV2ZW50Oml9Ont9KSk7fV9yZXF1ZXN0RnJhbWUoKXtyZXR1cm4gdGhpcy5fbWFwLnRyaWdnZXJSZXBhaW50KCksdGhpcy5fbWFwLl9yZW5kZXJUYXNrUXVldWUuYWRkKChlPT57dGhpcy5fZnJhbWVJZD12b2lkIDAsdGhpcy5oYW5kbGVFdmVudChuZXcgV3IoXCJyZW5kZXJGcmFtZVwiLHt0aW1lU3RhbXA6ZX0pKSx0aGlzLl9hcHBseUNoYW5nZXMoKTt9KSl9X3RyaWdnZXJSZW5kZXJGcmFtZSgpe3ZvaWQgMD09PXRoaXMuX2ZyYW1lSWQmJih0aGlzLl9mcmFtZUlkPXRoaXMuX3JlcXVlc3RGcmFtZSgpKTt9fWNvbnN0IEhyPVwibWFwLnNldEZyZWVDYW1lcmFPcHRpb25zKC4uLikgYW5kIG1hcC5nZXRGcmVlQ2FtZXJhT3B0aW9ucygpIGFyZSBub3QgeWV0IHN1cHBvcnRlZCBmb3Igbm9uLW1lcmNhdG9yIHByb2plY3Rpb25zLlwiO2NsYXNzIFlyIGV4dGVuZHMgZS5FdmVudGVke2NvbnN0cnVjdG9yKHQsaSl7c3VwZXIoKSx0aGlzLl9tb3Zpbmc9ITEsdGhpcy5fem9vbWluZz0hMSx0aGlzLnRyYW5zZm9ybT10LHRoaXMuX2JlYXJpbmdTbmFwPWkuYmVhcmluZ1NuYXAsZS5iaW5kQWxsKFtcIl9yZW5kZXJGcmFtZUNhbGxiYWNrXCJdLHRoaXMpO31nZXRDZW50ZXIoKXtyZXR1cm4gbmV3IGUuTG5nTGF0KHRoaXMudHJhbnNmb3JtLmNlbnRlci5sbmcsdGhpcy50cmFuc2Zvcm0uY2VudGVyLmxhdCl9c2V0Q2VudGVyKGUsdCl7cmV0dXJuIHRoaXMuanVtcFRvKHtjZW50ZXI6ZX0sdCl9cGFuQnkodCxpLG8pe3JldHVybiB0PWUucG9pbnRHZW9tZXRyeS5jb252ZXJ0KHQpLm11bHQoLTEpLHRoaXMucGFuVG8odGhpcy50cmFuc2Zvcm0uY2VudGVyLGUuZXh0ZW5kKHtvZmZzZXQ6dH0saSksbyl9cGFuVG8odCxpLG8pe3JldHVybiB0aGlzLmVhc2VUbyhlLmV4dGVuZCh7Y2VudGVyOnR9LGkpLG8pfWdldFpvb20oKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0uem9vbX1zZXRab29tKGUsdCl7cmV0dXJuIHRoaXMuanVtcFRvKHt6b29tOmV9LHQpLHRoaXN9em9vbVRvKHQsaSxvKXtyZXR1cm4gdGhpcy5lYXNlVG8oZS5leHRlbmQoe3pvb206dH0saSksbyl9em9vbUluKGUsdCl7cmV0dXJuIHRoaXMuem9vbVRvKHRoaXMuZ2V0Wm9vbSgpKzEsZSx0KSx0aGlzfXpvb21PdXQoZSx0KXtyZXR1cm4gdGhpcy56b29tVG8odGhpcy5nZXRab29tKCktMSxlLHQpLHRoaXN9Z2V0QmVhcmluZygpe3JldHVybiB0aGlzLnRyYW5zZm9ybS5iZWFyaW5nfXNldEJlYXJpbmcoZSx0KXtyZXR1cm4gdGhpcy5qdW1wVG8oe2JlYXJpbmc6ZX0sdCksdGhpc31nZXRQYWRkaW5nKCl7cmV0dXJuIHRoaXMudHJhbnNmb3JtLnBhZGRpbmd9c2V0UGFkZGluZyhlLHQpe3JldHVybiB0aGlzLmp1bXBUbyh7cGFkZGluZzplfSx0KSx0aGlzfXJvdGF0ZVRvKHQsaSxvKXtyZXR1cm4gdGhpcy5lYXNlVG8oZS5leHRlbmQoe2JlYXJpbmc6dH0saSksbyl9cmVzZXROb3J0aCh0LGkpe3JldHVybiB0aGlzLnJvdGF0ZVRvKDAsZS5leHRlbmQoe2R1cmF0aW9uOjFlM30sdCksaSksdGhpc31yZXNldE5vcnRoUGl0Y2godCxpKXtyZXR1cm4gdGhpcy5lYXNlVG8oZS5leHRlbmQoe2JlYXJpbmc6MCxwaXRjaDowLGR1cmF0aW9uOjFlM30sdCksaSksdGhpc31zbmFwVG9Ob3J0aChlLHQpe3JldHVybiBNYXRoLmFicyh0aGlzLmdldEJlYXJpbmcoKSk8dGhpcy5fYmVhcmluZ1NuYXA/dGhpcy5yZXNldE5vcnRoKGUsdCk6dGhpc31nZXRQaXRjaCgpe3JldHVybiB0aGlzLnRyYW5zZm9ybS5waXRjaH1zZXRQaXRjaChlLHQpe3JldHVybiB0aGlzLmp1bXBUbyh7cGl0Y2g6ZX0sdCksdGhpc31jYW1lcmFGb3JCb3VuZHModCxpKXtcImdsb2JlXCI9PT10aGlzLnRyYW5zZm9ybS5wcm9qZWN0aW9uLm5hbWUmJmUud2Fybk9uY2UoJ0dsb2JlIHByb2plY3Rpb24gZG9lcyBub3Qgc3VwcG9ydCBjYW1lcmFGb3JCb3VuZHMgQVBJLCB0aGlzIEFQSSBtYXkgYmVoYXZlIHVuZXhwZWN0ZWRseS5cIicpLHQ9ZS5MbmdMYXRCb3VuZHMuY29udmVydCh0KTtjb25zdCBvPWkmJmkuYmVhcmluZ3x8MDtyZXR1cm4gdGhpcy5fY2FtZXJhRm9yQm94QW5kQmVhcmluZyh0LmdldE5vcnRoV2VzdCgpLHQuZ2V0U291dGhFYXN0KCksbyxpKX1fZXh0ZW5kQ2FtZXJhT3B0aW9ucyh0KXtjb25zdCBpPXt0b3A6MCxib3R0b206MCxyaWdodDowLGxlZnQ6MH07aWYoXCJudW1iZXJcIj09dHlwZW9mKHQ9ZS5leHRlbmQoe3BhZGRpbmc6aSxvZmZzZXQ6WzAsMF0sbWF4Wm9vbTp0aGlzLnRyYW5zZm9ybS5tYXhab29tfSx0KSkucGFkZGluZyl7Y29uc3QgZT10LnBhZGRpbmc7dC5wYWRkaW5nPXt0b3A6ZSxib3R0b206ZSxyaWdodDplLGxlZnQ6ZX07fXJldHVybiB0LnBhZGRpbmc9ZS5leHRlbmQoaSx0LnBhZGRpbmcpLHR9X2NhbWVyYUZvckJveEFuZEJlYXJpbmcodCxpLG8scil7Y29uc3Qgbj10aGlzLl9leHRlbmRDYW1lcmFPcHRpb25zKHIpLGE9dGhpcy50cmFuc2Zvcm0scz1hLnBhZGRpbmcsbD1hLnByb2plY3QoZS5MbmdMYXQuY29udmVydCh0KSksYz1hLnByb2plY3QoZS5MbmdMYXQuY29udmVydChpKSksaD1uZXcgZS5wb2ludEdlb21ldHJ5KGwueCxjLnkpLHU9bmV3IGUucG9pbnRHZW9tZXRyeShjLngsbC55KSxfPS1lLmRlZ1RvUmFkKG8pLGQ9bC5yb3RhdGUoXykscD1jLnJvdGF0ZShfKSxtPWgucm90YXRlKF8pLGY9dS5yb3RhdGUoXyksZz1uZXcgZS5wb2ludEdlb21ldHJ5KE1hdGgubWF4KGQueCxwLngsbS54LGYueCksTWF0aC5tYXgoZC55LHAueSxtLnksZi55KSksdj1uZXcgZS5wb2ludEdlb21ldHJ5KE1hdGgubWluKGQueCxwLngsbS54LGYueCksTWF0aC5taW4oZC55LHAueSxtLnksZi55KSkseD1nLnN1Yih2KSx5PShhLndpZHRoLSgocy5sZWZ0fHwwKSsocy5yaWdodHx8MCkrbi5wYWRkaW5nLmxlZnQrbi5wYWRkaW5nLnJpZ2h0KSkveC54LGI9KGEuaGVpZ2h0LSgocy50b3B8fDApKyhzLmJvdHRvbXx8MCkrbi5wYWRkaW5nLnRvcCtuLnBhZGRpbmcuYm90dG9tKSkveC55O2lmKGI8MHx8eTwwKXJldHVybiB2b2lkIGUud2Fybk9uY2UoXCJNYXAgY2Fubm90IGZpdCB3aXRoaW4gY2FudmFzIHdpdGggdGhlIGdpdmVuIGJvdW5kcywgcGFkZGluZywgYW5kL29yIG9mZnNldC5cIik7Y29uc3Qgdz1NYXRoLm1pbihhLnNjYWxlWm9vbShhLnNjYWxlKk1hdGgubWluKHksYikpLG4ubWF4Wm9vbSksVD1cIm51bWJlclwiPT10eXBlb2Ygbi5vZmZzZXQueCYmXCJudW1iZXJcIj09dHlwZW9mIG4ub2Zmc2V0Lnk/bmV3IGUucG9pbnRHZW9tZXRyeShuLm9mZnNldC54LG4ub2Zmc2V0LnkpOmUucG9pbnRHZW9tZXRyeS5jb252ZXJ0KG4ub2Zmc2V0KSxFPW5ldyBlLnBvaW50R2VvbWV0cnkoKG4ucGFkZGluZy5sZWZ0LW4ucGFkZGluZy5yaWdodCkvMiwobi5wYWRkaW5nLnRvcC1uLnBhZGRpbmcuYm90dG9tKS8yKS5yb3RhdGUobypNYXRoLlBJLzE4MCksQz1ULmFkZChFKS5tdWx0KGEuc2NhbGUvYS56b29tU2NhbGUodykpO3JldHVybiB7Y2VudGVyOmEudW5wcm9qZWN0KGwuYWRkKGMpLmRpdigyKS5zdWIoQykpLHpvb206dyxiZWFyaW5nOm99fV9jYW1lcmFGb3JCb3godCxpLG8scixuKXtjb25zdCBhPXRoaXMuX2V4dGVuZENhbWVyYU9wdGlvbnMobik7bz1vfHwwLHI9cnx8MCx0PWUuTG5nTGF0LmNvbnZlcnQodCksaT1lLkxuZ0xhdC5jb252ZXJ0KGkpO2NvbnN0IHM9dGhpcy50cmFuc2Zvcm0uY2xvbmUoKTtzLnBhZGRpbmc9YS5wYWRkaW5nO2NvbnN0IGw9dGhpcy5nZXRGcmVlQ2FtZXJhT3B0aW9ucygpLGM9bmV3IGUuTG5nTGF0KC41Kih0LmxuZytpLmxuZyksLjUqKHQubGF0K2kubGF0KSksaD0uNSoobytyKTtpZihzLl9jYW1lcmEucG9zaXRpb25bMl08ZS5tZXJjYXRvclpmcm9tQWx0aXR1ZGUoaCxjLmxhdCkpcmV0dXJuIHZvaWQgZS53YXJuT25jZShcIk1hcCBjYW5ub3QgZml0IHdpdGhpbiBjYW52YXMgd2l0aCB0aGUgZ2l2ZW4gYm91bmRzLCBwYWRkaW5nLCBhbmQvb3Igb2Zmc2V0LlwiKTtsLmxvb2tBdFBvaW50KGMpLHMuc2V0RnJlZUNhbWVyYU9wdGlvbnMobCk7Y29uc3QgdT1lLk1lcmNhdG9yQ29vcmRpbmF0ZS5mcm9tTG5nTGF0KHQpLF89ZS5NZXJjYXRvckNvb3JkaW5hdGUuZnJvbUxuZ0xhdChpKSxkPXMucG9pbnRSYXlJbnRlcnNlY3Rpb24ocy5jZW50ZXJQb2ludCxoKSxwPVsobT1zLnJheUludGVyc2VjdGlvbkNvb3JkaW5hdGUoZCkpLngsbS55LG0uel07dmFyIG07Y29uc3QgZj1zLnNjcmVlblBvaW50VG9NZXJjYXRvclJheShzLmNlbnRlclBvaW50KSxnPVwiZ2xvYmVcIiE9PXMucHJvamVjdGlvbi5uYW1lO2xldCB2LHg9MDtkb3tjb25zdCB0PU1hdGguZmxvb3Iocy56b29tKSxpPTE8PHQsbj1NYXRoLm1pbihpKnUueCxpKl8ueCksYT1NYXRoLm1pbihpKnUueSxpKl8ueSksbD1NYXRoLm1heChpKnUueCxpKl8ueCksYz1NYXRoLm1heChpKnUueSxpKl8ueSksaD1uZXcgZS5BYWJiKFtuLGEsb10sW2wsYyxyXSksZD1lLkZydXN0dW0uZnJvbUludlByb2plY3Rpb25NYXRyaXgocy5pbnZQcm9qTWF0cml4LHMud29ybGRTaXplLHQsZyk7aWYoMiE9PWguaW50ZXJzZWN0cyhkKSl7diYmKHMuX2NhbWVyYS5wb3NpdGlvbj1lLnNjYWxlQW5kQWRkKFtdLHMuX2NhbWVyYS5wb3NpdGlvbixmLmRpciwtdikscy5fdXBkYXRlU3RhdGVGcm9tQ2FtZXJhKCkpO2JyZWFrfWNvbnN0IG09ZS5zdWIoW10scy5fY2FtZXJhLnBvc2l0aW9uLHApO3Y9LjUqZS5sZW5ndGgobSkscy5fY2FtZXJhLnBvc2l0aW9uPWUuc2NhbGVBbmRBZGQoW10scy5fY2FtZXJhLnBvc2l0aW9uLGYuZGlyLHYpO3RyeXtzLl91cGRhdGVTdGF0ZUZyb21DYW1lcmEoKTt9Y2F0Y2godCl7cmV0dXJuIHZvaWQgZS53YXJuT25jZShcIk1hcCBjYW5ub3QgZml0IHdpdGhpbiBjYW52YXMgd2l0aCB0aGUgZ2l2ZW4gYm91bmRzLCBwYWRkaW5nLCBhbmQvb3Igb2Zmc2V0LlwiKX19d2hpbGUoKyt4PDEwKTtyZXR1cm4ge2NlbnRlcjpzLmNlbnRlcix6b29tOnMuem9vbSxiZWFyaW5nOnMuYmVhcmluZyxwaXRjaDpzLnBpdGNofX1maXRCb3VuZHModCxpLG8pe3JldHVybiBcImdsb2JlXCI9PT10aGlzLnRyYW5zZm9ybS5wcm9qZWN0aW9uLm5hbWUmJmUud2Fybk9uY2UoXCJHbG9iZSBwcm9qZWN0aW9uIGRvZXMgbm90IHN1cHBvcnQgZml0Qm91bmRzIEFQSSwgdGhpcyBBUEkgbWF5IGJlaGF2ZSB1bmV4cGVjdGVkbHkuXCIpLHRoaXMuX2ZpdEludGVybmFsKHRoaXMuY2FtZXJhRm9yQm91bmRzKHQsaSksaSxvKX1fcmF5Y2FzdEVsZXZhdGlvbkJveCh0LGkpe2NvbnN0IG89dGhpcy50cmFuc2Zvcm0uZWxldmF0aW9uO2lmKCFvKXJldHVybjtjb25zdCByPW5ldyBlLnBvaW50R2VvbWV0cnkodC54LGkueSksbj1uZXcgZS5wb2ludEdlb21ldHJ5KGkueCx0LnkpLGE9by5wb2ludENvb3JkaW5hdGUodCk7aWYoIWEpcmV0dXJuO2NvbnN0IHM9by5wb2ludENvb3JkaW5hdGUoaSk7aWYoIXMpcmV0dXJuO2NvbnN0IGw9by5wb2ludENvb3JkaW5hdGUocik7aWYoIWwpcmV0dXJuO2NvbnN0IGM9by5wb2ludENvb3JkaW5hdGUobik7aWYoIWMpcmV0dXJuO2NvbnN0IGg9bmV3IGUuTWVyY2F0b3JDb29yZGluYXRlKGFbMF0sYVsxXSkudG9MbmdMYXQoKSx1PW5ldyBlLk1lcmNhdG9yQ29vcmRpbmF0ZShzWzBdLHNbMV0pLnRvTG5nTGF0KCksXz1uZXcgZS5NZXJjYXRvckNvb3JkaW5hdGUobFswXSxsWzFdKS50b0xuZ0xhdCgpLGQ9bmV3IGUuTWVyY2F0b3JDb29yZGluYXRlKGNbMF0sY1sxXSkudG9MbmdMYXQoKSxwPU1hdGgubWluKGgubG5nLE1hdGgubWluKHUubG5nLE1hdGgubWluKF8ubG5nLGQubG5nKSkpLG09TWF0aC5taW4oaC5sYXQsTWF0aC5taW4odS5sYXQsTWF0aC5taW4oXy5sYXQsZC5sYXQpKSksZj1NYXRoLm1heChoLmxuZyxNYXRoLm1heCh1LmxuZyxNYXRoLm1heChfLmxuZyxkLmxuZykpKSxnPU1hdGgubWF4KGgubGF0LE1hdGgubWF4KHUubGF0LE1hdGgubWF4KF8ubGF0LGQubGF0KSkpLHY9TWF0aC5taW4oYVszXSxNYXRoLm1pbihzWzNdLE1hdGgubWluKGxbM10sY1szXSkpKSx4PU1hdGgubWF4KGFbM10sTWF0aC5tYXgoc1szXSxNYXRoLm1heChsWzNdLGNbM10pKSk7cmV0dXJuIHttaW5MbmdMYXQ6bmV3IGUuTG5nTGF0KHAsbSksbWF4TG5nTGF0Om5ldyBlLkxuZ0xhdChmLGcpLG1pbkFsdGl0dWRlOnYsbWF4QWx0aXR1ZGU6eH19Zml0U2NyZWVuQ29vcmRpbmF0ZXModCxpLG8scixuKXtsZXQgYSxzLGwsYztcImdsb2JlXCI9PT10aGlzLnRyYW5zZm9ybS5wcm9qZWN0aW9uLm5hbWUmJmUud2Fybk9uY2UoXCJHbG9iZSBwcm9qZWN0aW9uIGRvZXMgbm90IHN1cHBvcnQgZml0U2NyZWVuQ29vcmRpbmF0ZXMgQVBJLCB0aGlzIEFQSSBtYXkgYmVoYXZlIHVuZXhwZWN0ZWRseS5cIik7Y29uc3QgaD1lLnBvaW50R2VvbWV0cnkuY29udmVydCh0KSx1PWUucG9pbnRHZW9tZXRyeS5jb252ZXJ0KGkpLF89dGhpcy5fcmF5Y2FzdEVsZXZhdGlvbkJveChoLHUpO2lmKF8pYT1fLm1pbkxuZ0xhdCxzPV8ubWF4TG5nTGF0LGw9Xy5taW5BbHRpdHVkZSxjPV8ubWF4QWx0aXR1ZGU7ZWxzZSB7aWYodGhpcy50cmFuc2Zvcm0uYW55Q29ybmVyT2ZmRWRnZShoLHUpKXJldHVybiB0aGlzO2E9dGhpcy50cmFuc2Zvcm0ucG9pbnRMb2NhdGlvbihoKSxzPXRoaXMudHJhbnNmb3JtLnBvaW50TG9jYXRpb24odSk7fXJldHVybiB0aGlzLl9maXRJbnRlcm5hbCgwPT09dGhpcy50cmFuc2Zvcm0ucGl0Y2g/dGhpcy5fY2FtZXJhRm9yQm94QW5kQmVhcmluZyh0aGlzLnRyYW5zZm9ybS5wb2ludExvY2F0aW9uKGUucG9pbnRHZW9tZXRyeS5jb252ZXJ0KHQpKSx0aGlzLnRyYW5zZm9ybS5wb2ludExvY2F0aW9uKGUucG9pbnRHZW9tZXRyeS5jb252ZXJ0KGkpKSxvLHIpOnRoaXMuX2NhbWVyYUZvckJveChhLHMsbCxjLHIpLHIsbil9X2ZpdEludGVybmFsKHQsaSxvKXtyZXR1cm4gdD8oZGVsZXRlKGk9ZS5leHRlbmQodCxpKSkucGFkZGluZyxpLmxpbmVhcj90aGlzLmVhc2VUbyhpLG8pOnRoaXMuZmx5VG8oaSxvKSk6dGhpc31qdW1wVG8odCxpKXt0aGlzLnN0b3AoKTtjb25zdCBvPXQucHJlbG9hZE9ubHk/dGhpcy50cmFuc2Zvcm0uY2xvbmUoKTp0aGlzLnRyYW5zZm9ybTtsZXQgcj0hMSxuPSExLGE9ITE7cmV0dXJuIFwiem9vbVwiaW4gdCYmby56b29tIT09K3Quem9vbSYmKHI9ITAsby56b29tPSt0Lnpvb20pLHZvaWQgMCE9PXQuY2VudGVyJiYoby5jZW50ZXI9ZS5MbmdMYXQuY29udmVydCh0LmNlbnRlcikpLFwiYmVhcmluZ1wiaW4gdCYmby5iZWFyaW5nIT09K3QuYmVhcmluZyYmKG49ITAsby5iZWFyaW5nPSt0LmJlYXJpbmcpLFwicGl0Y2hcImluIHQmJm8ucGl0Y2ghPT0rdC5waXRjaCYmKGE9ITAsby5waXRjaD0rdC5waXRjaCksbnVsbD09dC5wYWRkaW5nfHxvLmlzUGFkZGluZ0VxdWFsKHQucGFkZGluZyl8fChvLnBhZGRpbmc9dC5wYWRkaW5nKSx0LnByZWxvYWRPbmx5Pyh0aGlzLl9wcmVsb2FkVGlsZXMobyksdGhpcyk6KHRoaXMuZmlyZShuZXcgZS5FdmVudChcIm1vdmVzdGFydFwiLGkpKS5maXJlKG5ldyBlLkV2ZW50KFwibW92ZVwiLGkpKSxyJiZ0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJ6b29tc3RhcnRcIixpKSkuZmlyZShuZXcgZS5FdmVudChcInpvb21cIixpKSkuZmlyZShuZXcgZS5FdmVudChcInpvb21lbmRcIixpKSksbiYmdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwicm90YXRlc3RhcnRcIixpKSkuZmlyZShuZXcgZS5FdmVudChcInJvdGF0ZVwiLGkpKS5maXJlKG5ldyBlLkV2ZW50KFwicm90YXRlZW5kXCIsaSkpLGEmJnRoaXMuZmlyZShuZXcgZS5FdmVudChcInBpdGNoc3RhcnRcIixpKSkuZmlyZShuZXcgZS5FdmVudChcInBpdGNoXCIsaSkpLmZpcmUobmV3IGUuRXZlbnQoXCJwaXRjaGVuZFwiLGkpKSx0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJtb3ZlZW5kXCIsaSkpKX1nZXRGcmVlQ2FtZXJhT3B0aW9ucygpe3JldHVybiB0aGlzLnRyYW5zZm9ybS5wcm9qZWN0aW9uLnN1cHBvcnRzRnJlZUNhbWVyYXx8ZS53YXJuT25jZShIciksdGhpcy50cmFuc2Zvcm0uZ2V0RnJlZUNhbWVyYU9wdGlvbnMoKX1zZXRGcmVlQ2FtZXJhT3B0aW9ucyh0LGkpe2NvbnN0IG89dGhpcy50cmFuc2Zvcm07aWYoIW8ucHJvamVjdGlvbi5zdXBwb3J0c0ZyZWVDYW1lcmEpcmV0dXJuIGUud2Fybk9uY2UoSHIpLHRoaXM7dGhpcy5zdG9wKCk7Y29uc3Qgcj1vLnpvb20sbj1vLnBpdGNoLGE9by5iZWFyaW5nO28uc2V0RnJlZUNhbWVyYU9wdGlvbnModCk7Y29uc3Qgcz1yIT09by56b29tLGw9biE9PW8ucGl0Y2gsYz1hIT09by5iZWFyaW5nO3JldHVybiB0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJtb3Zlc3RhcnRcIixpKSkuZmlyZShuZXcgZS5FdmVudChcIm1vdmVcIixpKSkscyYmdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwiem9vbXN0YXJ0XCIsaSkpLmZpcmUobmV3IGUuRXZlbnQoXCJ6b29tXCIsaSkpLmZpcmUobmV3IGUuRXZlbnQoXCJ6b29tZW5kXCIsaSkpLGMmJnRoaXMuZmlyZShuZXcgZS5FdmVudChcInJvdGF0ZXN0YXJ0XCIsaSkpLmZpcmUobmV3IGUuRXZlbnQoXCJyb3RhdGVcIixpKSkuZmlyZShuZXcgZS5FdmVudChcInJvdGF0ZWVuZFwiLGkpKSxsJiZ0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJwaXRjaHN0YXJ0XCIsaSkpLmZpcmUobmV3IGUuRXZlbnQoXCJwaXRjaFwiLGkpKS5maXJlKG5ldyBlLkV2ZW50KFwicGl0Y2hlbmRcIixpKSksdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwibW92ZWVuZFwiLGkpKSx0aGlzfWVhc2VUbyh0LGkpe3RoaXMuX3N0b3AoITEsdC5lYXNlSWQpLCghMT09PSh0PWUuZXh0ZW5kKHtvZmZzZXQ6WzAsMF0sZHVyYXRpb246NTAwLGVhc2luZzplLmVhc2V9LHQpKS5hbmltYXRlfHwhdC5lc3NlbnRpYWwmJmUuZXhwb3J0ZWQucHJlZmVyc1JlZHVjZWRNb3Rpb24pJiYodC5kdXJhdGlvbj0wKTtjb25zdCBvPXRoaXMudHJhbnNmb3JtLHI9dGhpcy5nZXRab29tKCksbj10aGlzLmdldEJlYXJpbmcoKSxhPXRoaXMuZ2V0UGl0Y2goKSxzPXRoaXMuZ2V0UGFkZGluZygpLGw9XCJ6b29tXCJpbiB0Pyt0Lnpvb206cixjPVwiYmVhcmluZ1wiaW4gdD90aGlzLl9ub3JtYWxpemVCZWFyaW5nKHQuYmVhcmluZyxuKTpuLGg9XCJwaXRjaFwiaW4gdD8rdC5waXRjaDphLHU9XCJwYWRkaW5nXCJpbiB0P3QucGFkZGluZzpvLnBhZGRpbmcsXz1lLnBvaW50R2VvbWV0cnkuY29udmVydCh0Lm9mZnNldCk7bGV0IGQscCxtO2lmKFwiZ2xvYmVcIj09PW8ucHJvamVjdGlvbi5uYW1lKXtjb25zdCBpPWUuTWVyY2F0b3JDb29yZGluYXRlLmZyb21MbmdMYXQoby5jZW50ZXIpLHI9Xy5yb3RhdGUoLW8uYW5nbGUpO2kueCs9ci54L28ud29ybGRTaXplLGkueSs9ci55L28ud29ybGRTaXplO2NvbnN0IG49aS50b0xuZ0xhdCgpLGE9ZS5MbmdMYXQuY29udmVydCh0LmNlbnRlcnx8bik7dGhpcy5fbm9ybWFsaXplQ2VudGVyKGEpLGQ9by5jZW50ZXJQb2ludC5hZGQocikscD1uZXcgZS5wb2ludEdlb21ldHJ5KGkueCxpLnkpLm11bHQoby53b3JsZFNpemUpLG09bmV3IGUucG9pbnRHZW9tZXRyeShlLm1lcmNhdG9yWGZyb21MbmcoYS5sbmcpLGUubWVyY2F0b3JZZnJvbUxhdChhLmxhdCkpLm11bHQoby53b3JsZFNpemUpLnN1YihwKTt9ZWxzZSB7ZD1vLmNlbnRlclBvaW50LmFkZChfKTtjb25zdCBpPW8ucG9pbnRMb2NhdGlvbihkKSxyPWUuTG5nTGF0LmNvbnZlcnQodC5jZW50ZXJ8fGkpO3RoaXMuX25vcm1hbGl6ZUNlbnRlcihyKSxwPW8ucHJvamVjdChpKSxtPW8ucHJvamVjdChyKS5zdWIocCk7fWNvbnN0IGY9by56b29tU2NhbGUobC1yKTtsZXQgZyx2O3QuYXJvdW5kJiYoZz1lLkxuZ0xhdC5jb252ZXJ0KHQuYXJvdW5kKSx2PW8ubG9jYXRpb25Qb2ludChnKSk7Y29uc3QgeD10aGlzLl96b29taW5nfHxsIT09cix5PXRoaXMuX3JvdGF0aW5nfHxuIT09YyxiPXRoaXMuX3BpdGNoaW5nfHxoIT09YSx3PSFvLmlzUGFkZGluZ0VxdWFsKHUpLFQ9bz0+VD0+e2lmKHgmJihvLnpvb209ZS5udW1iZXIocixsLFQpKSx5JiYoby5iZWFyaW5nPWUubnVtYmVyKG4sYyxUKSksYiYmKG8ucGl0Y2g9ZS5udW1iZXIoYSxoLFQpKSx3JiYoby5pbnRlcnBvbGF0ZVBhZGRpbmcocyx1LFQpLGQ9by5jZW50ZXJQb2ludC5hZGQoXykpLGcpby5zZXRMb2NhdGlvbkF0UG9pbnQoZyx2KTtlbHNlIHtjb25zdCBlPW8uem9vbVNjYWxlKG8uem9vbS1yKSx0PWw+cj9NYXRoLm1pbigyLGYpOk1hdGgubWF4KC41LGYpLGk9TWF0aC5wb3codCwxLVQpLG49by51bnByb2plY3QocC5hZGQobS5tdWx0KFQqaSkpLm11bHQoZSkpO28uc2V0TG9jYXRpb25BdFBvaW50KG8ucmVuZGVyV29ybGRDb3BpZXM/bi53cmFwKCk6bixkKTt9cmV0dXJuIHQucHJlbG9hZE9ubHl8fHRoaXMuX2ZpcmVNb3ZlRXZlbnRzKGkpLG99O2lmKHQucHJlbG9hZE9ubHkpe2NvbnN0IGU9dGhpcy5fZW11bGF0ZShULHQuZHVyYXRpb24sbyk7cmV0dXJuIHRoaXMuX3ByZWxvYWRUaWxlcyhlKSx0aGlzfWNvbnN0IEU9e21vdmluZzp0aGlzLl9tb3Zpbmcsem9vbWluZzp0aGlzLl96b29taW5nLHJvdGF0aW5nOnRoaXMuX3JvdGF0aW5nLHBpdGNoaW5nOnRoaXMuX3BpdGNoaW5nfTtyZXR1cm4gdGhpcy5fem9vbWluZz14LHRoaXMuX3JvdGF0aW5nPXksdGhpcy5fcGl0Y2hpbmc9Yix0aGlzLl9wYWRkaW5nPXcsdGhpcy5fZWFzZUlkPXQuZWFzZUlkLHRoaXMuX3ByZXBhcmVFYXNlKGksdC5ub01vdmVTdGFydCxFKSx0aGlzLl9lYXNlKFQobyksKGU9PntvLnJlY2VudGVyT25UZXJyYWluKCksdGhpcy5fYWZ0ZXJFYXNlKGksZSk7fSksdCksdGhpc31fcHJlcGFyZUVhc2UodCxpLG89e30pe3RoaXMuX21vdmluZz0hMCx0aGlzLnRyYW5zZm9ybS5jYW1lcmFFbGV2YXRpb25SZWZlcmVuY2U9XCJzZWFcIixpfHxvLm1vdmluZ3x8dGhpcy5maXJlKG5ldyBlLkV2ZW50KFwibW92ZXN0YXJ0XCIsdCkpLHRoaXMuX3pvb21pbmcmJiFvLnpvb21pbmcmJnRoaXMuZmlyZShuZXcgZS5FdmVudChcInpvb21zdGFydFwiLHQpKSx0aGlzLl9yb3RhdGluZyYmIW8ucm90YXRpbmcmJnRoaXMuZmlyZShuZXcgZS5FdmVudChcInJvdGF0ZXN0YXJ0XCIsdCkpLHRoaXMuX3BpdGNoaW5nJiYhby5waXRjaGluZyYmdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwicGl0Y2hzdGFydFwiLHQpKTt9X2ZpcmVNb3ZlRXZlbnRzKHQpe3RoaXMuZmlyZShuZXcgZS5FdmVudChcIm1vdmVcIix0KSksdGhpcy5fem9vbWluZyYmdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwiem9vbVwiLHQpKSx0aGlzLl9yb3RhdGluZyYmdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwicm90YXRlXCIsdCkpLHRoaXMuX3BpdGNoaW5nJiZ0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJwaXRjaFwiLHQpKTt9X2FmdGVyRWFzZSh0LGkpe2lmKHRoaXMuX2Vhc2VJZCYmaSYmdGhpcy5fZWFzZUlkPT09aSlyZXR1cm47dGhpcy5fZWFzZUlkPXZvaWQgMCx0aGlzLnRyYW5zZm9ybS5jYW1lcmFFbGV2YXRpb25SZWZlcmVuY2U9XCJncm91bmRcIjtjb25zdCBvPXRoaXMuX3pvb21pbmcscj10aGlzLl9yb3RhdGluZyxuPXRoaXMuX3BpdGNoaW5nO3RoaXMuX21vdmluZz0hMSx0aGlzLl96b29taW5nPSExLHRoaXMuX3JvdGF0aW5nPSExLHRoaXMuX3BpdGNoaW5nPSExLHRoaXMuX3BhZGRpbmc9ITEsbyYmdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwiem9vbWVuZFwiLHQpKSxyJiZ0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJyb3RhdGVlbmRcIix0KSksbiYmdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwicGl0Y2hlbmRcIix0KSksdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwibW92ZWVuZFwiLHQpKTt9Zmx5VG8odCxpKXtpZighdC5lc3NlbnRpYWwmJmUuZXhwb3J0ZWQucHJlZmVyc1JlZHVjZWRNb3Rpb24pe2NvbnN0IG89ZS5waWNrKHQsW1wiY2VudGVyXCIsXCJ6b29tXCIsXCJiZWFyaW5nXCIsXCJwaXRjaFwiLFwiYXJvdW5kXCJdKTtyZXR1cm4gdGhpcy5qdW1wVG8obyxpKX10aGlzLnN0b3AoKSx0PWUuZXh0ZW5kKHtvZmZzZXQ6WzAsMF0sc3BlZWQ6MS4yLGN1cnZlOjEuNDIsZWFzaW5nOmUuZWFzZX0sdCk7Y29uc3Qgbz10aGlzLnRyYW5zZm9ybSxyPXRoaXMuZ2V0Wm9vbSgpLG49dGhpcy5nZXRCZWFyaW5nKCksYT10aGlzLmdldFBpdGNoKCkscz10aGlzLmdldFBhZGRpbmcoKSxsPVwiem9vbVwiaW4gdD9lLmNsYW1wKCt0Lnpvb20sby5taW5ab29tLG8ubWF4Wm9vbSk6cixjPVwiYmVhcmluZ1wiaW4gdD90aGlzLl9ub3JtYWxpemVCZWFyaW5nKHQuYmVhcmluZyxuKTpuLGg9XCJwaXRjaFwiaW4gdD8rdC5waXRjaDphLHU9XCJwYWRkaW5nXCJpbiB0P3QucGFkZGluZzpvLnBhZGRpbmcsXz1vLnpvb21TY2FsZShsLXIpLGQ9ZS5wb2ludEdlb21ldHJ5LmNvbnZlcnQodC5vZmZzZXQpO2xldCBwPW8uY2VudGVyUG9pbnQuYWRkKGQpO2NvbnN0IG09by5wb2ludExvY2F0aW9uKHApLGY9ZS5MbmdMYXQuY29udmVydCh0LmNlbnRlcnx8bSk7dGhpcy5fbm9ybWFsaXplQ2VudGVyKGYpO2NvbnN0IGc9by5wcm9qZWN0KG0pLHY9by5wcm9qZWN0KGYpLnN1YihnKTtsZXQgeD10LmN1cnZlO2NvbnN0IHk9TWF0aC5tYXgoby53aWR0aCxvLmhlaWdodCksYj15L18sdz12Lm1hZygpO2lmKFwibWluWm9vbVwiaW4gdCl7Y29uc3QgaT1lLmNsYW1wKE1hdGgubWluKHQubWluWm9vbSxyLGwpLG8ubWluWm9vbSxvLm1heFpvb20pLG49eS9vLnpvb21TY2FsZShpLXIpO3g9TWF0aC5zcXJ0KG4vdyoyKTt9Y29uc3QgVD14Kng7ZnVuY3Rpb24gRShlKXtjb25zdCB0PShiKmIteSp5KyhlPy0xOjEpKlQqVCp3KncpLygyKihlP2I6eSkqVCp3KTtyZXR1cm4gTWF0aC5sb2coTWF0aC5zcXJ0KHQqdCsxKS10KX1mdW5jdGlvbiBDKGUpe3JldHVybiAoTWF0aC5leHAoZSktTWF0aC5leHAoLWUpKS8yfWZ1bmN0aW9uIEkoZSl7cmV0dXJuIChNYXRoLmV4cChlKStNYXRoLmV4cCgtZSkpLzJ9Y29uc3QgTT1FKDApO2xldCBTPWZ1bmN0aW9uKGUpe3JldHVybiBJKE0pL0koTSt4KmUpfSx6PWZ1bmN0aW9uKGUpe3JldHVybiB5KigoSShNKSooQyh0PU0reCplKS9JKHQpKS1DKE0pKS9UKS93O3ZhciB0O30sRD0oRSgxKS1NKS94O2lmKE1hdGguYWJzKHcpPDFlLTZ8fCFpc0Zpbml0ZShEKSl7aWYoTWF0aC5hYnMoeS1iKTwxZS02KXJldHVybiB0aGlzLmVhc2VUbyh0LGkpO2NvbnN0IGU9Yjx5Py0xOjE7RD1NYXRoLmFicyhNYXRoLmxvZyhiL3kpKS94LHo9ZnVuY3Rpb24oKXtyZXR1cm4gMH0sUz1mdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5leHAoZSp4KnQpfTt9dC5kdXJhdGlvbj1cImR1cmF0aW9uXCJpbiB0Pyt0LmR1cmF0aW9uOjFlMypELyhcInNjcmVlblNwZWVkXCJpbiB0Pyt0LnNjcmVlblNwZWVkL3g6K3Quc3BlZWQpLHQubWF4RHVyYXRpb24mJnQuZHVyYXRpb24+dC5tYXhEdXJhdGlvbiYmKHQuZHVyYXRpb249MCk7Y29uc3QgUD1uIT09YyxBPWghPT1hLEw9IW8uaXNQYWRkaW5nRXF1YWwodSksUj1vPT5fPT57Y29uc3QgbT1fKkQseD0xL1MobSk7by56b29tPTE9PT1fP2w6citvLnNjYWxlWm9vbSh4KSxQJiYoby5iZWFyaW5nPWUubnVtYmVyKG4sYyxfKSksQSYmKG8ucGl0Y2g9ZS5udW1iZXIoYSxoLF8pKSxMJiYoby5pbnRlcnBvbGF0ZVBhZGRpbmcocyx1LF8pLHA9by5jZW50ZXJQb2ludC5hZGQoZCkpO2NvbnN0IHk9MT09PV8/ZjpvLnVucHJvamVjdChnLmFkZCh2Lm11bHQoeihtKSkpLm11bHQoeCkpO3JldHVybiBvLnNldExvY2F0aW9uQXRQb2ludChvLnJlbmRlcldvcmxkQ29waWVzP3kud3JhcCgpOnkscCksby5fdXBkYXRlQ2FtZXJhT25UZXJyYWluKCksdC5wcmVsb2FkT25seXx8dGhpcy5fZmlyZU1vdmVFdmVudHMoaSksb307aWYodC5wcmVsb2FkT25seSl7Y29uc3QgZT10aGlzLl9lbXVsYXRlKFIsdC5kdXJhdGlvbixvKTtyZXR1cm4gdGhpcy5fcHJlbG9hZFRpbGVzKGUpLHRoaXN9cmV0dXJuIHRoaXMuX3pvb21pbmc9ITAsdGhpcy5fcm90YXRpbmc9UCx0aGlzLl9waXRjaGluZz1BLHRoaXMuX3BhZGRpbmc9TCx0aGlzLl9wcmVwYXJlRWFzZShpLCExKSx0aGlzLl9lYXNlKFIobyksKCgpPT50aGlzLl9hZnRlckVhc2UoaSkpLHQpLHRoaXN9aXNFYXNpbmcoKXtyZXR1cm4gISF0aGlzLl9lYXNlRnJhbWVJZH1zdG9wKCl7cmV0dXJuIHRoaXMuX3N0b3AoKX1fc3RvcChlLHQpe2lmKHRoaXMuX2Vhc2VGcmFtZUlkJiYodGhpcy5fY2FuY2VsUmVuZGVyRnJhbWUodGhpcy5fZWFzZUZyYW1lSWQpLHRoaXMuX2Vhc2VGcmFtZUlkPXZvaWQgMCx0aGlzLl9vbkVhc2VGcmFtZT12b2lkIDApLHRoaXMuX29uRWFzZUVuZCl7Y29uc3QgZT10aGlzLl9vbkVhc2VFbmQ7dGhpcy5fb25FYXNlRW5kPXZvaWQgMCxlLmNhbGwodGhpcyx0KTt9aWYoIWUpe2NvbnN0IGU9dGhpcy5oYW5kbGVycztlJiZlLnN0b3AoITEpO31yZXR1cm4gdGhpc31fZWFzZSh0LGksbyl7ITE9PT1vLmFuaW1hdGV8fDA9PT1vLmR1cmF0aW9uPyh0KDEpLGkoKSk6KHRoaXMuX2Vhc2VTdGFydD1lLmV4cG9ydGVkLm5vdygpLHRoaXMuX2Vhc2VPcHRpb25zPW8sdGhpcy5fb25FYXNlRnJhbWU9dCx0aGlzLl9vbkVhc2VFbmQ9aSx0aGlzLl9lYXNlRnJhbWVJZD10aGlzLl9yZXF1ZXN0UmVuZGVyRnJhbWUodGhpcy5fcmVuZGVyRnJhbWVDYWxsYmFjaykpO31fcmVuZGVyRnJhbWVDYWxsYmFjaygpe2NvbnN0IHQ9TWF0aC5taW4oKGUuZXhwb3J0ZWQubm93KCktdGhpcy5fZWFzZVN0YXJ0KS90aGlzLl9lYXNlT3B0aW9ucy5kdXJhdGlvbiwxKSxpPXRoaXMuX29uRWFzZUZyYW1lO2kmJmkodGhpcy5fZWFzZU9wdGlvbnMuZWFzaW5nKHQpKSx0PDE/dGhpcy5fZWFzZUZyYW1lSWQ9dGhpcy5fcmVxdWVzdFJlbmRlckZyYW1lKHRoaXMuX3JlbmRlckZyYW1lQ2FsbGJhY2spOnRoaXMuc3RvcCgpO31fbm9ybWFsaXplQmVhcmluZyh0LGkpe3Q9ZS53cmFwKHQsLTE4MCwxODApO2NvbnN0IG89TWF0aC5hYnModC1pKTtyZXR1cm4gTWF0aC5hYnModC0zNjAtaSk8byYmKHQtPTM2MCksTWF0aC5hYnModCszNjAtaSk8byYmKHQrPTM2MCksdH1fbm9ybWFsaXplQ2VudGVyKGUpe2NvbnN0IHQ9dGhpcy50cmFuc2Zvcm07aWYoIXQucmVuZGVyV29ybGRDb3BpZXN8fHQubWF4Qm91bmRzKXJldHVybjtjb25zdCBpPWUubG5nLXQuY2VudGVyLmxuZztlLmxuZys9aT4xODA/LTM2MDppPC0xODA/MzYwOjA7fV9lbXVsYXRlKGUsdCxpKXtjb25zdCBvPU1hdGguY2VpbCgxNSp0LzFlMykscj1bXSxuPWUoaS5jbG9uZSgpKTtmb3IobGV0IGU9MDtlPD1vO2UrKyl7Y29uc3QgdD1uKGUvbyk7ci5wdXNoKHQuY2xvbmUoKSk7fXJldHVybiByfX1jbGFzcyBLcntjb25zdHJ1Y3Rvcih0PXt9KXt0aGlzLm9wdGlvbnM9dCxlLmJpbmRBbGwoW1wiX3RvZ2dsZUF0dHJpYnV0aW9uXCIsXCJfdXBkYXRlRWRpdExpbmtcIixcIl91cGRhdGVEYXRhXCIsXCJfdXBkYXRlQ29tcGFjdFwiXSx0aGlzKTt9Z2V0RGVmYXVsdFBvc2l0aW9uKCl7cmV0dXJuIFwiYm90dG9tLXJpZ2h0XCJ9b25BZGQoZSl7Y29uc3QgdD10aGlzLm9wdGlvbnMmJnRoaXMub3B0aW9ucy5jb21wYWN0O3JldHVybiB0aGlzLl9tYXA9ZSx0aGlzLl9jb250YWluZXI9bihcImRpdlwiLFwibWFwYm94Z2wtY3RybCBtYXBib3hnbC1jdHJsLWF0dHJpYlwiKSx0aGlzLl9jb21wYWN0QnV0dG9uPW4oXCJidXR0b25cIixcIm1hcGJveGdsLWN0cmwtYXR0cmliLWJ1dHRvblwiLHRoaXMuX2NvbnRhaW5lciksbihcInNwYW5cIixcIm1hcGJveGdsLWN0cmwtaWNvblwiLHRoaXMuX2NvbXBhY3RCdXR0b24pLnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsXCJ0cnVlXCIpLHRoaXMuX2NvbXBhY3RCdXR0b24udHlwZT1cImJ1dHRvblwiLHRoaXMuX2NvbXBhY3RCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdGhpcy5fdG9nZ2xlQXR0cmlidXRpb24pLHRoaXMuX3NldEVsZW1lbnRUaXRsZSh0aGlzLl9jb21wYWN0QnV0dG9uLFwiVG9nZ2xlQXR0cmlidXRpb25cIiksdGhpcy5faW5uZXJDb250YWluZXI9bihcImRpdlwiLFwibWFwYm94Z2wtY3RybC1hdHRyaWItaW5uZXJcIix0aGlzLl9jb250YWluZXIpLHRoaXMuX2lubmVyQ29udGFpbmVyLnNldEF0dHJpYnV0ZShcInJvbGVcIixcImxpc3RcIiksdCYmdGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC1jb21wYWN0XCIpLHRoaXMuX3VwZGF0ZUF0dHJpYnV0aW9ucygpLHRoaXMuX3VwZGF0ZUVkaXRMaW5rKCksdGhpcy5fbWFwLm9uKFwic3R5bGVkYXRhXCIsdGhpcy5fdXBkYXRlRGF0YSksdGhpcy5fbWFwLm9uKFwic291cmNlZGF0YVwiLHRoaXMuX3VwZGF0ZURhdGEpLHRoaXMuX21hcC5vbihcIm1vdmVlbmRcIix0aGlzLl91cGRhdGVFZGl0TGluayksdm9pZCAwPT09dCYmKHRoaXMuX21hcC5vbihcInJlc2l6ZVwiLHRoaXMuX3VwZGF0ZUNvbXBhY3QpLHRoaXMuX3VwZGF0ZUNvbXBhY3QoKSksdGhpcy5fY29udGFpbmVyfW9uUmVtb3ZlKCl7dGhpcy5fY29udGFpbmVyLnJlbW92ZSgpLHRoaXMuX21hcC5vZmYoXCJzdHlsZWRhdGFcIix0aGlzLl91cGRhdGVEYXRhKSx0aGlzLl9tYXAub2ZmKFwic291cmNlZGF0YVwiLHRoaXMuX3VwZGF0ZURhdGEpLHRoaXMuX21hcC5vZmYoXCJtb3ZlZW5kXCIsdGhpcy5fdXBkYXRlRWRpdExpbmspLHRoaXMuX21hcC5vZmYoXCJyZXNpemVcIix0aGlzLl91cGRhdGVDb21wYWN0KSx0aGlzLl9tYXA9dm9pZCAwLHRoaXMuX2F0dHJpYkhUTUw9dm9pZCAwO31fc2V0RWxlbWVudFRpdGxlKGUsdCl7Y29uc3QgaT10aGlzLl9tYXAuX2dldFVJU3RyaW5nKGBBdHRyaWJ1dGlvbkNvbnRyb2wuJHt0fWApO2Uuc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLGkpLGUucmVtb3ZlQXR0cmlidXRlKFwidGl0bGVcIiksZS5maXJzdEVsZW1lbnRDaGlsZCYmZS5maXJzdEVsZW1lbnRDaGlsZC5zZXRBdHRyaWJ1dGUoXCJ0aXRsZVwiLGkpO31fdG9nZ2xlQXR0cmlidXRpb24oKXt0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LmNvbnRhaW5zKFwibWFwYm94Z2wtY29tcGFjdC1zaG93XCIpPyh0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWNvbXBhY3Qtc2hvd1wiKSx0aGlzLl9jb21wYWN0QnV0dG9uLnNldEF0dHJpYnV0ZShcImFyaWEtZXhwYW5kZWRcIixcImZhbHNlXCIpKToodGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC1jb21wYWN0LXNob3dcIiksdGhpcy5fY29tcGFjdEJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWV4cGFuZGVkXCIsXCJ0cnVlXCIpKTt9X3VwZGF0ZUVkaXRMaW5rKCl7bGV0IHQ9dGhpcy5fZWRpdExpbms7dHx8KHQ9dGhpcy5fZWRpdExpbms9dGhpcy5fY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIubWFwYm94LWltcHJvdmUtbWFwXCIpKTtjb25zdCBpPVt7a2V5Olwib3duZXJcIix2YWx1ZTp0aGlzLnN0eWxlT3duZXJ9LHtrZXk6XCJpZFwiLHZhbHVlOnRoaXMuc3R5bGVJZH0se2tleTpcImFjY2Vzc190b2tlblwiLHZhbHVlOnRoaXMuX21hcC5fcmVxdWVzdE1hbmFnZXIuX2N1c3RvbUFjY2Vzc1Rva2VufHxlLmNvbmZpZy5BQ0NFU1NfVE9LRU59XTtpZih0KXtjb25zdCBvPWkucmVkdWNlKCgoZSx0LG8pPT4odC52YWx1ZSYmKGUrPWAke3Qua2V5fT0ke3QudmFsdWV9JHtvPGkubGVuZ3RoLTE/XCImXCI6XCJcIn1gKSxlKSksXCI/XCIpO3QuaHJlZj1gJHtlLmNvbmZpZy5GRUVEQkFDS19VUkx9LyR7b30jJHtlcih0aGlzLl9tYXAsITApfWAsdC5yZWw9XCJub29wZW5lciBub2ZvbGxvd1wiLHRoaXMuX3NldEVsZW1lbnRUaXRsZSh0LFwiTWFwRmVlZGJhY2tcIik7fX1fdXBkYXRlRGF0YShlKXshZXx8XCJtZXRhZGF0YVwiIT09ZS5zb3VyY2VEYXRhVHlwZSYmXCJ2aXNpYmlsaXR5XCIhPT1lLnNvdXJjZURhdGFUeXBlJiZcInN0eWxlXCIhPT1lLmRhdGFUeXBlfHwodGhpcy5fdXBkYXRlQXR0cmlidXRpb25zKCksdGhpcy5fdXBkYXRlRWRpdExpbmsoKSk7fV91cGRhdGVBdHRyaWJ1dGlvbnMoKXtpZighdGhpcy5fbWFwLnN0eWxlKXJldHVybjtsZXQgZT1bXTtpZih0aGlzLl9tYXAuc3R5bGUuc3R5bGVzaGVldCl7Y29uc3QgZT10aGlzLl9tYXAuc3R5bGUuc3R5bGVzaGVldDt0aGlzLnN0eWxlT3duZXI9ZS5vd25lcix0aGlzLnN0eWxlSWQ9ZS5pZDt9Y29uc3QgdD10aGlzLl9tYXAuc3R5bGUuX3NvdXJjZUNhY2hlcztmb3IoY29uc3QgaSBpbiB0KXtjb25zdCBvPXRbaV07aWYoby51c2VkKXtjb25zdCB0PW8uZ2V0U291cmNlKCk7dC5hdHRyaWJ1dGlvbiYmZS5pbmRleE9mKHQuYXR0cmlidXRpb24pPDAmJmUucHVzaCh0LmF0dHJpYnV0aW9uKTt9fWUuc29ydCgoKGUsdCk9PmUubGVuZ3RoLXQubGVuZ3RoKSksZT1lLmZpbHRlcigoKHQsaSk9Pntmb3IobGV0IG89aSsxO288ZS5sZW5ndGg7bysrKWlmKGVbb10uaW5kZXhPZih0KT49MClyZXR1cm4gITE7cmV0dXJuICEwfSkpLHRoaXMub3B0aW9ucy5jdXN0b21BdHRyaWJ1dGlvbiYmKEFycmF5LmlzQXJyYXkodGhpcy5vcHRpb25zLmN1c3RvbUF0dHJpYnV0aW9uKT9lPVsuLi50aGlzLm9wdGlvbnMuY3VzdG9tQXR0cmlidXRpb24sLi4uZV06ZS51bnNoaWZ0KHRoaXMub3B0aW9ucy5jdXN0b21BdHRyaWJ1dGlvbikpO2NvbnN0IGk9ZS5qb2luKFwiIHwgXCIpO2khPT10aGlzLl9hdHRyaWJIVE1MJiYodGhpcy5fYXR0cmliSFRNTD1pLGUubGVuZ3RoPyh0aGlzLl9pbm5lckNvbnRhaW5lci5pbm5lckhUTUw9aSx0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWF0dHJpYi1lbXB0eVwiKSk6dGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC1hdHRyaWItZW1wdHlcIiksdGhpcy5fZWRpdExpbms9bnVsbCk7fV91cGRhdGVDb21wYWN0KCl7dGhpcy5fbWFwLmdldENhbnZhc0NvbnRhaW5lcigpLm9mZnNldFdpZHRoPD02NDA/dGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC1jb21wYWN0XCIpOnRoaXMuX2NvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtY29tcGFjdFwiLFwibWFwYm94Z2wtY29tcGFjdC1zaG93XCIpO319Y2xhc3MgSnJ7Y29uc3RydWN0b3IoKXtlLmJpbmRBbGwoW1wiX3VwZGF0ZUxvZ29cIixcIl91cGRhdGVDb21wYWN0XCJdLHRoaXMpO31vbkFkZChlKXt0aGlzLl9tYXA9ZSx0aGlzLl9jb250YWluZXI9bihcImRpdlwiLFwibWFwYm94Z2wtY3RybFwiKTtjb25zdCB0PW4oXCJhXCIsXCJtYXBib3hnbC1jdHJsLWxvZ29cIik7cmV0dXJuIHQudGFyZ2V0PVwiX2JsYW5rXCIsdC5yZWw9XCJub29wZW5lciBub2ZvbGxvd1wiLHQuaHJlZj1cImh0dHBzOi8vd3d3Lm1hcGJveC5jb20vXCIsdC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsdGhpcy5fbWFwLl9nZXRVSVN0cmluZyhcIkxvZ29Db250cm9sLlRpdGxlXCIpKSx0LnNldEF0dHJpYnV0ZShcInJlbFwiLFwibm9vcGVuZXIgbm9mb2xsb3dcIiksdGhpcy5fY29udGFpbmVyLmFwcGVuZENoaWxkKHQpLHRoaXMuX2NvbnRhaW5lci5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLHRoaXMuX21hcC5vbihcInNvdXJjZWRhdGFcIix0aGlzLl91cGRhdGVMb2dvKSx0aGlzLl91cGRhdGVMb2dvKCksdGhpcy5fbWFwLm9uKFwicmVzaXplXCIsdGhpcy5fdXBkYXRlQ29tcGFjdCksdGhpcy5fdXBkYXRlQ29tcGFjdCgpLHRoaXMuX2NvbnRhaW5lcn1vblJlbW92ZSgpe3RoaXMuX2NvbnRhaW5lci5yZW1vdmUoKSx0aGlzLl9tYXAub2ZmKFwic291cmNlZGF0YVwiLHRoaXMuX3VwZGF0ZUxvZ28pLHRoaXMuX21hcC5vZmYoXCJyZXNpemVcIix0aGlzLl91cGRhdGVDb21wYWN0KTt9Z2V0RGVmYXVsdFBvc2l0aW9uKCl7cmV0dXJuIFwiYm90dG9tLWxlZnRcIn1fdXBkYXRlTG9nbyhlKXtlJiZcIm1ldGFkYXRhXCIhPT1lLnNvdXJjZURhdGFUeXBlfHwodGhpcy5fY29udGFpbmVyLnN0eWxlLmRpc3BsYXk9dGhpcy5fbG9nb1JlcXVpcmVkKCk/XCJibG9ja1wiOlwibm9uZVwiKTt9X2xvZ29SZXF1aXJlZCgpe2lmKCF0aGlzLl9tYXAuc3R5bGUpcmV0dXJuICEwO2NvbnN0IGU9dGhpcy5fbWFwLnN0eWxlLl9zb3VyY2VDYWNoZXM7aWYoMD09PU9iamVjdC5lbnRyaWVzKGUpLmxlbmd0aClyZXR1cm4gITA7Zm9yKGNvbnN0IHQgaW4gZSl7Y29uc3QgaT1lW3RdLmdldFNvdXJjZSgpO2lmKGkuaGFzT3duUHJvcGVydHkoXCJtYXBib3hfbG9nb1wiKSYmIWkubWFwYm94X2xvZ28pcmV0dXJuICExfXJldHVybiAhMH1fdXBkYXRlQ29tcGFjdCgpe2NvbnN0IGU9dGhpcy5fY29udGFpbmVyLmNoaWxkcmVuO2lmKGUubGVuZ3RoKXtjb25zdCB0PWVbMF07dGhpcy5fbWFwLmdldENhbnZhc0NvbnRhaW5lcigpLm9mZnNldFdpZHRoPDI1MD90LmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC1jb21wYWN0XCIpOnQuY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWNvbXBhY3RcIik7fX19Y2xhc3MgUXJ7Y29uc3RydWN0b3IoKXt0aGlzLl9xdWV1ZT1bXSx0aGlzLl9pZD0wLHRoaXMuX2NsZWFyZWQ9ITEsdGhpcy5fY3VycmVudGx5UnVubmluZz0hMTt9YWRkKGUpe2NvbnN0IHQ9Kyt0aGlzLl9pZDtyZXR1cm4gdGhpcy5fcXVldWUucHVzaCh7Y2FsbGJhY2s6ZSxpZDp0LGNhbmNlbGxlZDohMX0pLHR9cmVtb3ZlKGUpe2NvbnN0IHQ9dGhpcy5fY3VycmVudGx5UnVubmluZyxpPXQ/dGhpcy5fcXVldWUuY29uY2F0KHQpOnRoaXMuX3F1ZXVlO2Zvcihjb25zdCB0IG9mIGkpaWYodC5pZD09PWUpcmV0dXJuIHZvaWQodC5jYW5jZWxsZWQ9ITApfXJ1bihlPTApe2NvbnN0IHQ9dGhpcy5fY3VycmVudGx5UnVubmluZz10aGlzLl9xdWV1ZTt0aGlzLl9xdWV1ZT1bXTtmb3IoY29uc3QgaSBvZiB0KWlmKCFpLmNhbmNlbGxlZCYmKGkuY2FsbGJhY2soZSksdGhpcy5fY2xlYXJlZCkpYnJlYWs7dGhpcy5fY2xlYXJlZD0hMSx0aGlzLl9jdXJyZW50bHlSdW5uaW5nPSExO31jbGVhcigpe3RoaXMuX2N1cnJlbnRseVJ1bm5pbmcmJih0aGlzLl9jbGVhcmVkPSEwKSx0aGlzLl9xdWV1ZT1bXTt9fWZ1bmN0aW9uIGVuKHQsaSxvKXtpZih0PW5ldyBlLkxuZ0xhdCh0LmxuZyx0LmxhdCksaSl7Y29uc3Qgcj1uZXcgZS5MbmdMYXQodC5sbmctMzYwLHQubGF0KSxuPW5ldyBlLkxuZ0xhdCh0LmxuZyszNjAsdC5sYXQpLGE9MzYwKk1hdGguY2VpbChNYXRoLmFicyh0LmxuZy1vLmNlbnRlci5sbmcpLzM2MCkscz1vLmxvY2F0aW9uUG9pbnQodCkuZGlzdFNxcihpKSxsPWkueDwwfHxpLnk8MHx8aS54Pm8ud2lkdGh8fGkueT5vLmhlaWdodDtvLmxvY2F0aW9uUG9pbnQocikuZGlzdFNxcihpKTxzJiYobHx8TWF0aC5hYnMoci5sbmctby5jZW50ZXIubG5nKTxhKT90PXI6by5sb2NhdGlvblBvaW50KG4pLmRpc3RTcXIoaSk8cyYmKGx8fE1hdGguYWJzKG4ubG5nLW8uY2VudGVyLmxuZyk8YSkmJih0PW4pO31mb3IoO01hdGguYWJzKHQubG5nLW8uY2VudGVyLmxuZyk+MTgwOyl7Y29uc3QgZT1vLmxvY2F0aW9uUG9pbnQodCk7aWYoZS54Pj0wJiZlLnk+PTAmJmUueDw9by53aWR0aCYmZS55PD1vLmhlaWdodClicmVhazt0LmxuZz5vLmNlbnRlci5sbmc/dC5sbmctPTM2MDp0LmxuZys9MzYwO31yZXR1cm4gdH1jb25zdCB0bj17Y2VudGVyOlwidHJhbnNsYXRlKC01MCUsLTUwJSlcIix0b3A6XCJ0cmFuc2xhdGUoLTUwJSwwKVwiLFwidG9wLWxlZnRcIjpcInRyYW5zbGF0ZSgwLDApXCIsXCJ0b3AtcmlnaHRcIjpcInRyYW5zbGF0ZSgtMTAwJSwwKVwiLGJvdHRvbTpcInRyYW5zbGF0ZSgtNTAlLC0xMDAlKVwiLFwiYm90dG9tLWxlZnRcIjpcInRyYW5zbGF0ZSgwLC0xMDAlKVwiLFwiYm90dG9tLXJpZ2h0XCI6XCJ0cmFuc2xhdGUoLTEwMCUsLTEwMCUpXCIsbGVmdDpcInRyYW5zbGF0ZSgwLC01MCUpXCIscmlnaHQ6XCJ0cmFuc2xhdGUoLTEwMCUsLTUwJSlcIn07Y2xhc3Mgb24gZXh0ZW5kcyBlLkV2ZW50ZWR7Y29uc3RydWN0b3IodCxpKXtpZihzdXBlcigpLCh0IGluc3RhbmNlb2YgZS53aW5kb3cuSFRNTEVsZW1lbnR8fGkpJiYodD1lLmV4dGVuZCh7ZWxlbWVudDp0fSxpKSksZS5iaW5kQWxsKFtcIl91cGRhdGVcIixcIl9vbk1vdmVcIixcIl9vblVwXCIsXCJfYWRkRHJhZ0hhbmRsZXJcIixcIl9vbk1hcENsaWNrXCIsXCJfb25LZXlQcmVzc1wiLFwiX2NsZWFyRmFkZVRpbWVyXCJdLHRoaXMpLHRoaXMuX2FuY2hvcj10JiZ0LmFuY2hvcnx8XCJjZW50ZXJcIix0aGlzLl9jb2xvcj10JiZ0LmNvbG9yfHxcIiMzRkIxQ0VcIix0aGlzLl9zY2FsZT10JiZ0LnNjYWxlfHwxLHRoaXMuX2RyYWdnYWJsZT10JiZ0LmRyYWdnYWJsZXx8ITEsdGhpcy5fY2xpY2tUb2xlcmFuY2U9dCYmdC5jbGlja1RvbGVyYW5jZXx8MCx0aGlzLl9pc0RyYWdnaW5nPSExLHRoaXMuX3N0YXRlPVwiaW5hY3RpdmVcIix0aGlzLl9yb3RhdGlvbj10JiZ0LnJvdGF0aW9ufHwwLHRoaXMuX3JvdGF0aW9uQWxpZ25tZW50PXQmJnQucm90YXRpb25BbGlnbm1lbnR8fFwiYXV0b1wiLHRoaXMuX3BpdGNoQWxpZ25tZW50PXQmJnQucGl0Y2hBbGlnbm1lbnQmJnQucGl0Y2hBbGlnbm1lbnR8fFwiYXV0b1wiLHRoaXMuX3VwZGF0ZU1vdmluZz0oKT0+dGhpcy5fdXBkYXRlKCEwKSx0JiZ0LmVsZW1lbnQpdGhpcy5fZWxlbWVudD10LmVsZW1lbnQsdGhpcy5fb2Zmc2V0PWUucG9pbnRHZW9tZXRyeS5jb252ZXJ0KHQmJnQub2Zmc2V0fHxbMCwwXSk7ZWxzZSB7dGhpcy5fZGVmYXVsdE1hcmtlcj0hMCx0aGlzLl9lbGVtZW50PW4oXCJkaXZcIik7Y29uc3QgaT00MSxvPTI3LHI9YShcInN2Z1wiLHtkaXNwbGF5OlwiYmxvY2tcIixoZWlnaHQ6aSp0aGlzLl9zY2FsZStcInB4XCIsd2lkdGg6byp0aGlzLl9zY2FsZStcInB4XCIsdmlld0JveDpgMCAwICR7b30gJHtpfWB9LHRoaXMuX2VsZW1lbnQpLHM9YShcInJhZGlhbEdyYWRpZW50XCIse2lkOlwic2hhZG93R3JhZGllbnRcIn0sYShcImRlZnNcIix7fSxyKSk7YShcInN0b3BcIix7b2Zmc2V0OlwiMTAlXCIsXCJzdG9wLW9wYWNpdHlcIjouNH0scyksYShcInN0b3BcIix7b2Zmc2V0OlwiMTAwJVwiLFwic3RvcC1vcGFjaXR5XCI6LjA1fSxzKSxhKFwiZWxsaXBzZVwiLHtjeDoxMy41LGN5OjM0Ljgscng6MTAuNSxyeTo1LjI1LGZpbGw6XCJ1cmwoI3NoYWRvd0dyYWRpZW50KVwifSxyKSxhKFwicGF0aFwiLHtmaWxsOnRoaXMuX2NvbG9yLGQ6XCJNMjcsMTMuNUMyNywxOS4wNyAyMC4yNSwyNyAxNC43NSwzNC41QzE0LjAyLDM1LjUgMTIuOTgsMzUuNSAxMi4yNSwzNC41QzYuNzUsMjcgMCwxOS4yMiAwLDEzLjVDMCw2LjA0IDYuMDQsMCAxMy41LDBDMjAuOTYsMCAyNyw2LjA0IDI3LDEzLjVaXCJ9LHIpLGEoXCJwYXRoXCIse29wYWNpdHk6LjI1LGQ6XCJNMTMuNSwwQzYuMDQsMCAwLDYuMDQgMCwxMy41QzAsMTkuMjIgNi43NSwyNyAxMi4yNSwzNC41QzEzLDM1LjUyIDE0LjAyLDM1LjUgMTQuNzUsMzQuNUMyMC4yNSwyNyAyNywxOS4wNyAyNywxMy41QzI3LDYuMDQgMjAuOTYsMCAxMy41LDBaTTEzLjUsMUMyMC40MiwxIDI2LDYuNTggMjYsMTMuNUMyNiwxNS45IDI0LjUsMTkuMTggMjIuMjIsMjIuNzRDMTkuOTUsMjYuMyAxNi43MSwzMC4xNCAxMy45NCwzMy45MUMxMy43NCwzNC4xOCAxMy42MSwzNC4zMiAxMy41LDM0LjQ0QzEzLjM5LDM0LjMyIDEzLjI2LDM0LjE4IDEzLjA2LDMzLjkxQzEwLjI4LDMwLjEzIDcuNDEsMjYuMzEgNS4wMiwyMi43N0MyLjYyLDE5LjIzIDEsMTUuOTUgMSwxMy41QzEsNi41OCA2LjU4LDEgMTMuNSwxWlwifSxyKSxhKFwiY2lyY2xlXCIse2ZpbGw6XCJ3aGl0ZVwiLGN4OjEzLjUsY3k6MTMuNSxyOjUuNX0sciksdGhpcy5fb2Zmc2V0PWUucG9pbnRHZW9tZXRyeS5jb252ZXJ0KHQmJnQub2Zmc2V0fHxbMCwtMTRdKTt9dGhpcy5fZWxlbWVudC5oYXNBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIpfHx0aGlzLl9lbGVtZW50LnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIixcIk1hcCBtYXJrZXJcIiksdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtbWFya2VyXCIpLHRoaXMuX2VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImRyYWdzdGFydFwiLChlPT57ZS5wcmV2ZW50RGVmYXVsdCgpO30pKSx0aGlzLl9lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwoZT0+e2UucHJldmVudERlZmF1bHQoKTt9KSk7Y29uc3Qgbz10aGlzLl9lbGVtZW50LmNsYXNzTGlzdDtmb3IoY29uc3QgZSBpbiB0bilvLnJlbW92ZShgbWFwYm94Z2wtbWFya2VyLWFuY2hvci0ke2V9YCk7by5hZGQoYG1hcGJveGdsLW1hcmtlci1hbmNob3ItJHt0aGlzLl9hbmNob3J9YCksdGhpcy5fcG9wdXA9bnVsbDt9YWRkVG8oZSl7cmV0dXJuIGU9PT10aGlzLl9tYXB8fCh0aGlzLnJlbW92ZSgpLHRoaXMuX21hcD1lLGUuZ2V0Q2FudmFzQ29udGFpbmVyKCkuYXBwZW5kQ2hpbGQodGhpcy5fZWxlbWVudCksZS5vbihcIm1vdmVcIix0aGlzLl91cGRhdGVNb3ZpbmcpLGUub24oXCJtb3ZlZW5kXCIsdGhpcy5fdXBkYXRlKSxlLm9uKFwicmVtb3ZlXCIsdGhpcy5fY2xlYXJGYWRlVGltZXIpLGUuX2FkZE1hcmtlcih0aGlzKSx0aGlzLnNldERyYWdnYWJsZSh0aGlzLl9kcmFnZ2FibGUpLHRoaXMuX3VwZGF0ZSgpLGUub24oXCJjbGlja1wiLHRoaXMuX29uTWFwQ2xpY2spKSx0aGlzfXJlbW92ZSgpe2NvbnN0IGU9dGhpcy5fbWFwO3JldHVybiBlJiYoZS5vZmYoXCJjbGlja1wiLHRoaXMuX29uTWFwQ2xpY2spLGUub2ZmKFwibW92ZVwiLHRoaXMuX3VwZGF0ZU1vdmluZyksZS5vZmYoXCJtb3ZlZW5kXCIsdGhpcy5fdXBkYXRlKSxlLm9mZihcIm1vdXNlZG93blwiLHRoaXMuX2FkZERyYWdIYW5kbGVyKSxlLm9mZihcInRvdWNoc3RhcnRcIix0aGlzLl9hZGREcmFnSGFuZGxlciksZS5vZmYoXCJtb3VzZXVwXCIsdGhpcy5fb25VcCksZS5vZmYoXCJ0b3VjaGVuZFwiLHRoaXMuX29uVXApLGUub2ZmKFwibW91c2Vtb3ZlXCIsdGhpcy5fb25Nb3ZlKSxlLm9mZihcInRvdWNobW92ZVwiLHRoaXMuX29uTW92ZSksZS5vZmYoXCJyZW1vdmVcIix0aGlzLl9jbGVhckZhZGVUaW1lciksZS5fcmVtb3ZlTWFya2VyKHRoaXMpLHRoaXMuX21hcD12b2lkIDApLHRoaXMuX2NsZWFyRmFkZVRpbWVyKCksdGhpcy5fZWxlbWVudC5yZW1vdmUoKSx0aGlzLl9wb3B1cCYmdGhpcy5fcG9wdXAucmVtb3ZlKCksdGhpc31nZXRMbmdMYXQoKXtyZXR1cm4gdGhpcy5fbG5nTGF0fXNldExuZ0xhdCh0KXtyZXR1cm4gdGhpcy5fbG5nTGF0PWUuTG5nTGF0LmNvbnZlcnQodCksdGhpcy5fcG9zPW51bGwsdGhpcy5fcG9wdXAmJnRoaXMuX3BvcHVwLnNldExuZ0xhdCh0aGlzLl9sbmdMYXQpLHRoaXMuX3VwZGF0ZSghMCksdGhpc31nZXRFbGVtZW50KCl7cmV0dXJuIHRoaXMuX2VsZW1lbnR9c2V0UG9wdXAoZSl7aWYodGhpcy5fcG9wdXAmJih0aGlzLl9wb3B1cC5yZW1vdmUoKSx0aGlzLl9wb3B1cD1udWxsLHRoaXMuX2VsZW1lbnQucmVtb3ZlQXR0cmlidXRlKFwicm9sZVwiKSx0aGlzLl9lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlwcmVzc1wiLHRoaXMuX29uS2V5UHJlc3MpLHRoaXMuX29yaWdpbmFsVGFiSW5kZXh8fHRoaXMuX2VsZW1lbnQucmVtb3ZlQXR0cmlidXRlKFwidGFiaW5kZXhcIikpLGUpe2lmKCEoXCJvZmZzZXRcImluIGUub3B0aW9ucykpe2NvbnN0IHQ9MzguMSxpPTEzLjUsbz1NYXRoLnNxcnQoTWF0aC5wb3coaSwyKS8yKTtlLm9wdGlvbnMub2Zmc2V0PXRoaXMuX2RlZmF1bHRNYXJrZXI/e3RvcDpbMCwwXSxcInRvcC1sZWZ0XCI6WzAsMF0sXCJ0b3AtcmlnaHRcIjpbMCwwXSxib3R0b206WzAsLXRdLFwiYm90dG9tLWxlZnRcIjpbbywtMSoodC1pK28pXSxcImJvdHRvbS1yaWdodFwiOlstbywtMSoodC1pK28pXSxsZWZ0OltpLC0xKih0LWkpXSxyaWdodDpbLWksLTEqKHQtaSldfTp0aGlzLl9vZmZzZXQ7fXRoaXMuX3BvcHVwPWUsZS5fbWFya2VyPXRoaXMsdGhpcy5fbG5nTGF0JiZ0aGlzLl9wb3B1cC5zZXRMbmdMYXQodGhpcy5fbG5nTGF0KSx0aGlzLl9lbGVtZW50LnNldEF0dHJpYnV0ZShcInJvbGVcIixcImJ1dHRvblwiKSx0aGlzLl9vcmlnaW5hbFRhYkluZGV4PXRoaXMuX2VsZW1lbnQuZ2V0QXR0cmlidXRlKFwidGFiaW5kZXhcIiksdGhpcy5fb3JpZ2luYWxUYWJJbmRleHx8dGhpcy5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiLFwiMFwiKSx0aGlzLl9lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlwcmVzc1wiLHRoaXMuX29uS2V5UHJlc3MpLHRoaXMuX2VsZW1lbnQuc2V0QXR0cmlidXRlKFwiYXJpYS1leHBhbmRlZFwiLFwiZmFsc2VcIik7fXJldHVybiB0aGlzfV9vbktleVByZXNzKGUpe2NvbnN0IHQ9ZS5jb2RlLGk9ZS5jaGFyQ29kZXx8ZS5rZXlDb2RlO1wiU3BhY2VcIiE9PXQmJlwiRW50ZXJcIiE9PXQmJjMyIT09aSYmMTMhPT1pfHx0aGlzLnRvZ2dsZVBvcHVwKCk7fV9vbk1hcENsaWNrKGUpe2NvbnN0IHQ9ZS5vcmlnaW5hbEV2ZW50LnRhcmdldCxpPXRoaXMuX2VsZW1lbnQ7dGhpcy5fcG9wdXAmJih0PT09aXx8aS5jb250YWlucyh0KSkmJnRoaXMudG9nZ2xlUG9wdXAoKTt9Z2V0UG9wdXAoKXtyZXR1cm4gdGhpcy5fcG9wdXB9dG9nZ2xlUG9wdXAoKXtjb25zdCBlPXRoaXMuX3BvcHVwO3JldHVybiBlPyhlLmlzT3BlbigpPyhlLnJlbW92ZSgpLHRoaXMuX2VsZW1lbnQuc2V0QXR0cmlidXRlKFwiYXJpYS1leHBhbmRlZFwiLFwiZmFsc2VcIikpOnRoaXMuX21hcCYmKGUuYWRkVG8odGhpcy5fbWFwKSx0aGlzLl9lbGVtZW50LnNldEF0dHJpYnV0ZShcImFyaWEtZXhwYW5kZWRcIixcInRydWVcIikpLHRoaXMpOnRoaXN9X2JlaGluZFRlcnJhaW4oKXtjb25zdCBlPXRoaXMuX21hcDtpZighZSlyZXR1cm4gITE7Y29uc3QgdD1lLnVucHJvamVjdCh0aGlzLl9wb3MpLGk9ZS5nZXRGcmVlQ2FtZXJhT3B0aW9ucygpO2lmKCFpLnBvc2l0aW9uKXJldHVybiAhMTtjb25zdCBvPWkucG9zaXRpb24udG9MbmdMYXQoKTtyZXR1cm4gby5kaXN0YW5jZVRvKHQpPC45Km8uZGlzdGFuY2VUbyh0aGlzLl9sbmdMYXQpfV9ldmFsdWF0ZU9wYWNpdHkoKXtjb25zdCB0PXRoaXMuX21hcDtpZighdClyZXR1cm47Y29uc3QgaT10aGlzLl9wb3M7aWYoIWl8fGkueDwwfHxpLng+dC50cmFuc2Zvcm0ud2lkdGh8fGkueTwwfHxpLnk+dC50cmFuc2Zvcm0uaGVpZ2h0KXJldHVybiB2b2lkIHRoaXMuX2NsZWFyRmFkZVRpbWVyKCk7Y29uc3Qgbz10LnVucHJvamVjdChpKTtsZXQgcjt0Ll9zaG93aW5nR2xvYmUoKSYmZS5pc0xuZ0xhdEJlaGluZEdsb2JlKHQudHJhbnNmb3JtLHRoaXMuX2xuZ0xhdCk/cj0wOihyPTEtdC5fcXVlcnlGb2dPcGFjaXR5KG8pLHQudHJhbnNmb3JtLl90ZXJyYWluRW5hYmxlZCgpJiZ0LmdldFRlcnJhaW4oKSYmdGhpcy5fYmVoaW5kVGVycmFpbigpJiYocio9LjIpKSx0aGlzLl9lbGVtZW50LnN0eWxlLm9wYWNpdHk9YCR7cn1gLHRoaXMuX2VsZW1lbnQuc3R5bGUucG9pbnRlckV2ZW50cz1yPjA/XCJhdXRvXCI6XCJub25lXCIsdGhpcy5fcG9wdXAmJnRoaXMuX3BvcHVwLl9zZXRPcGFjaXR5KHIpLHRoaXMuX2ZhZGVUaW1lcj1udWxsO31fY2xlYXJGYWRlVGltZXIoKXt0aGlzLl9mYWRlVGltZXImJihjbGVhclRpbWVvdXQodGhpcy5fZmFkZVRpbWVyKSx0aGlzLl9mYWRlVGltZXI9bnVsbCk7fV91cGRhdGVET00oKXtjb25zdCBlPXRoaXMuX3BvcztpZighZXx8IXRoaXMuX21hcClyZXR1cm47Y29uc3QgdD10aGlzLl9vZmZzZXQubXVsdCh0aGlzLl9zY2FsZSk7dGhpcy5fZWxlbWVudC5zdHlsZS50cmFuc2Zvcm09YFxcbiAgICAgICAgICAgIHRyYW5zbGF0ZSgke2UueH1weCwke2UueX1weClcXG4gICAgICAgICAgICAke3RuW3RoaXMuX2FuY2hvcl19XFxuICAgICAgICAgICAgJHt0aGlzLl9jYWxjdWxhdGVYWVRyYW5zZm9ybSgpfSAke3RoaXMuX2NhbGN1bGF0ZVpUcmFuc2Zvcm0oKX1cXG4gICAgICAgICAgICB0cmFuc2xhdGUoJHt0Lnh9cHgsJHt0Lnl9cHgpXFxuICAgICAgICBgO31fY2FsY3VsYXRlWFlUcmFuc2Zvcm0oKXtjb25zdCB0PXRoaXMuX3BvcyxpPXRoaXMuX21hcCxvPXRoaXMuZ2V0UGl0Y2hBbGlnbm1lbnQoKTtpZighaXx8IXR8fFwibWFwXCIhPT1vKXJldHVybiBcIlwiO2lmKCFpLl9zaG93aW5nR2xvYmUoKSl7Y29uc3QgZT1pLmdldFBpdGNoKCk7cmV0dXJuIGU/YHJvdGF0ZVgoJHtlfWRlZylgOlwiXCJ9Y29uc3Qgcj1lLnJhZFRvRGVnKGUuZ2xvYmVUaWx0QXRMbmdMYXQoaS50cmFuc2Zvcm0sdGhpcy5fbG5nTGF0KSksbj10LnN1YihlLmdsb2JlQ2VudGVyVG9TY3JlZW5Qb2ludChpLnRyYW5zZm9ybSkpLGE9TWF0aC5hYnMobi54KStNYXRoLmFicyhuLnkpO2lmKDA9PT1hKXJldHVybiBcIlwiO2NvbnN0IHM9ci9hO3JldHVybiBgcm90YXRlWCgkey1uLnkqc31kZWcpIHJvdGF0ZVkoJHtuLngqc31kZWcpYH1fY2FsY3VsYXRlWlRyYW5zZm9ybSgpe2NvbnN0IHQ9dGhpcy5fcG9zLGk9dGhpcy5fbWFwO2lmKCFpfHwhdClyZXR1cm4gXCJcIjtsZXQgbz0wO2NvbnN0IHI9dGhpcy5nZXRSb3RhdGlvbkFsaWdubWVudCgpO2lmKFwibWFwXCI9PT1yKWlmKGkuX3Nob3dpbmdHbG9iZSgpKXtjb25zdCB0PWkucHJvamVjdChuZXcgZS5MbmdMYXQodGhpcy5fbG5nTGF0LmxuZyx0aGlzLl9sbmdMYXQubGF0Ky4wMDEpKSxyPWkucHJvamVjdChuZXcgZS5MbmdMYXQodGhpcy5fbG5nTGF0LmxuZyx0aGlzLl9sbmdMYXQubGF0LS4wMDEpKS5zdWIodCk7bz1lLnJhZFRvRGVnKE1hdGguYXRhbjIoci55LHIueCkpLTkwO31lbHNlIG89LWkuZ2V0QmVhcmluZygpO2Vsc2UgaWYoXCJob3Jpem9uXCI9PT1yKXtjb25zdCByPWUuc21vb3Roc3RlcCg0LDYsaS5nZXRab29tKCkpLG49ZS5nbG9iZUNlbnRlclRvU2NyZWVuUG9pbnQoaS50cmFuc2Zvcm0pO24ueSs9cippLnRyYW5zZm9ybS5oZWlnaHQ7Y29uc3QgYT10LnN1YihuKSxzPWUucmFkVG9EZWcoTWF0aC5hdGFuMihhLnksYS54KSk7bz0ocz45MD9zLTI3MDpzKzkwKSooMS1yKTt9cmV0dXJuIG8rPXRoaXMuX3JvdGF0aW9uLG8/YHJvdGF0ZVooJHtvfWRlZylgOlwiXCJ9X3VwZGF0ZSh0KXtlLndpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLl91cGRhdGVGcmFtZUlkKTtjb25zdCBpPXRoaXMuX21hcDtpJiYoaS50cmFuc2Zvcm0ucmVuZGVyV29ybGRDb3BpZXMmJih0aGlzLl9sbmdMYXQ9ZW4odGhpcy5fbG5nTGF0LHRoaXMuX3BvcyxpLnRyYW5zZm9ybSkpLHRoaXMuX3Bvcz1pLnByb2plY3QodGhpcy5fbG5nTGF0KSwhMD09PXQ/dGhpcy5fdXBkYXRlRnJhbWVJZD1lLndpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCgpPT57dGhpcy5fZWxlbWVudCYmdGhpcy5fcG9zJiZ0aGlzLl9hbmNob3ImJih0aGlzLl9wb3M9dGhpcy5fcG9zLnJvdW5kKCksdGhpcy5fdXBkYXRlRE9NKCkpO30pKTp0aGlzLl9wb3M9dGhpcy5fcG9zLnJvdW5kKCksaS5fcmVxdWVzdERvbVRhc2soKCgpPT57dGhpcy5fbWFwJiYodGhpcy5fZWxlbWVudCYmdGhpcy5fcG9zJiZ0aGlzLl9hbmNob3ImJnRoaXMuX3VwZGF0ZURPTSgpLChpLl9zaG93aW5nR2xvYmUoKXx8aS5nZXRUZXJyYWluKCl8fGkuZ2V0Rm9nKCkpJiYhdGhpcy5fZmFkZVRpbWVyJiYodGhpcy5fZmFkZVRpbWVyPXNldFRpbWVvdXQodGhpcy5fZXZhbHVhdGVPcGFjaXR5LmJpbmQodGhpcyksNjApKSk7fSkpKTt9Z2V0T2Zmc2V0KCl7cmV0dXJuIHRoaXMuX29mZnNldH1zZXRPZmZzZXQodCl7cmV0dXJuIHRoaXMuX29mZnNldD1lLnBvaW50R2VvbWV0cnkuY29udmVydCh0KSx0aGlzLl91cGRhdGUoKSx0aGlzfV9vbk1vdmUodCl7Y29uc3QgaT10aGlzLl9tYXA7aWYoaSl7aWYoIXRoaXMuX2lzRHJhZ2dpbmcpe2NvbnN0IGU9dGhpcy5fY2xpY2tUb2xlcmFuY2V8fGkuX2NsaWNrVG9sZXJhbmNlO3RoaXMuX2lzRHJhZ2dpbmc9dC5wb2ludC5kaXN0KHRoaXMuX3BvaW50ZXJkb3duUG9zKT49ZTt9dGhpcy5faXNEcmFnZ2luZyYmKHRoaXMuX3Bvcz10LnBvaW50LnN1Yih0aGlzLl9wb3NpdGlvbkRlbHRhKSx0aGlzLl9sbmdMYXQ9aS51bnByb2plY3QodGhpcy5fcG9zKSx0aGlzLnNldExuZ0xhdCh0aGlzLl9sbmdMYXQpLHRoaXMuX2VsZW1lbnQuc3R5bGUucG9pbnRlckV2ZW50cz1cIm5vbmVcIixcInBlbmRpbmdcIj09PXRoaXMuX3N0YXRlJiYodGhpcy5fc3RhdGU9XCJhY3RpdmVcIix0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJkcmFnc3RhcnRcIikpKSx0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJkcmFnXCIpKSk7fX1fb25VcCgpe3RoaXMuX2VsZW1lbnQuc3R5bGUucG9pbnRlckV2ZW50cz1cImF1dG9cIix0aGlzLl9wb3NpdGlvbkRlbHRhPW51bGwsdGhpcy5fcG9pbnRlcmRvd25Qb3M9bnVsbCx0aGlzLl9pc0RyYWdnaW5nPSExO2NvbnN0IHQ9dGhpcy5fbWFwO3QmJih0Lm9mZihcIm1vdXNlbW92ZVwiLHRoaXMuX29uTW92ZSksdC5vZmYoXCJ0b3VjaG1vdmVcIix0aGlzLl9vbk1vdmUpKSxcImFjdGl2ZVwiPT09dGhpcy5fc3RhdGUmJnRoaXMuZmlyZShuZXcgZS5FdmVudChcImRyYWdlbmRcIikpLHRoaXMuX3N0YXRlPVwiaW5hY3RpdmVcIjt9X2FkZERyYWdIYW5kbGVyKGUpe2NvbnN0IHQ9dGhpcy5fbWFwO3QmJnRoaXMuX2VsZW1lbnQuY29udGFpbnMoZS5vcmlnaW5hbEV2ZW50LnRhcmdldCkmJihlLnByZXZlbnREZWZhdWx0KCksdGhpcy5fcG9zaXRpb25EZWx0YT1lLnBvaW50LnN1Yih0aGlzLl9wb3MpLHRoaXMuX3BvaW50ZXJkb3duUG9zPWUucG9pbnQsdGhpcy5fc3RhdGU9XCJwZW5kaW5nXCIsdC5vbihcIm1vdXNlbW92ZVwiLHRoaXMuX29uTW92ZSksdC5vbihcInRvdWNobW92ZVwiLHRoaXMuX29uTW92ZSksdC5vbmNlKFwibW91c2V1cFwiLHRoaXMuX29uVXApLHQub25jZShcInRvdWNoZW5kXCIsdGhpcy5fb25VcCkpO31zZXREcmFnZ2FibGUoZSl7dGhpcy5fZHJhZ2dhYmxlPSEhZTtjb25zdCB0PXRoaXMuX21hcDtyZXR1cm4gdCYmKGU/KHQub24oXCJtb3VzZWRvd25cIix0aGlzLl9hZGREcmFnSGFuZGxlciksdC5vbihcInRvdWNoc3RhcnRcIix0aGlzLl9hZGREcmFnSGFuZGxlcikpOih0Lm9mZihcIm1vdXNlZG93blwiLHRoaXMuX2FkZERyYWdIYW5kbGVyKSx0Lm9mZihcInRvdWNoc3RhcnRcIix0aGlzLl9hZGREcmFnSGFuZGxlcikpKSx0aGlzfWlzRHJhZ2dhYmxlKCl7cmV0dXJuIHRoaXMuX2RyYWdnYWJsZX1zZXRSb3RhdGlvbihlKXtyZXR1cm4gdGhpcy5fcm90YXRpb249ZXx8MCx0aGlzLl91cGRhdGUoKSx0aGlzfWdldFJvdGF0aW9uKCl7cmV0dXJuIHRoaXMuX3JvdGF0aW9ufXNldFJvdGF0aW9uQWxpZ25tZW50KGUpe3JldHVybiB0aGlzLl9yb3RhdGlvbkFsaWdubWVudD1lfHxcImF1dG9cIix0aGlzLl91cGRhdGUoKSx0aGlzfWdldFJvdGF0aW9uQWxpZ25tZW50KCl7cmV0dXJuIFwiYXV0b1wiPT09dGhpcy5fcm90YXRpb25BbGlnbm1lbnR8fFwiaG9yaXpvblwiPT09dGhpcy5fcm90YXRpb25BbGlnbm1lbnQmJnRoaXMuX21hcCYmIXRoaXMuX21hcC5fc2hvd2luZ0dsb2JlKCk/XCJ2aWV3cG9ydFwiOnRoaXMuX3JvdGF0aW9uQWxpZ25tZW50fXNldFBpdGNoQWxpZ25tZW50KGUpe3JldHVybiB0aGlzLl9waXRjaEFsaWdubWVudD1lfHxcImF1dG9cIix0aGlzLl91cGRhdGUoKSx0aGlzfWdldFBpdGNoQWxpZ25tZW50KCl7cmV0dXJuIFwiYXV0b1wiPT09dGhpcy5fcGl0Y2hBbGlnbm1lbnQ/dGhpcy5nZXRSb3RhdGlvbkFsaWdubWVudCgpOnRoaXMuX3BpdGNoQWxpZ25tZW50fX1jbGFzcyBybntjb25zdHJ1Y3RvcihlKXt0aGlzLmp1bXBUbyhlKTt9Z2V0VmFsdWUodCl7aWYodDw9dGhpcy5fc3RhcnRUaW1lKXJldHVybiB0aGlzLl9zdGFydDtpZih0Pj10aGlzLl9lbmRUaW1lKXJldHVybiB0aGlzLl9lbmQ7Y29uc3QgaT1lLmVhc2VDdWJpY0luT3V0KCh0LXRoaXMuX3N0YXJ0VGltZSkvKHRoaXMuX2VuZFRpbWUtdGhpcy5fc3RhcnRUaW1lKSk7cmV0dXJuIHRoaXMuX3N0YXJ0KigxLWkpK3RoaXMuX2VuZCppfWlzRWFzaW5nKGUpe3JldHVybiBlPj10aGlzLl9zdGFydFRpbWUmJmU8PXRoaXMuX2VuZFRpbWV9anVtcFRvKGUpe3RoaXMuX3N0YXJ0VGltZT0tMS8wLHRoaXMuX2VuZFRpbWU9LTEvMCx0aGlzLl9zdGFydD1lLHRoaXMuX2VuZD1lO31lYXNlVG8oZSx0LGkpe3RoaXMuX3N0YXJ0PXRoaXMuZ2V0VmFsdWUodCksdGhpcy5fZW5kPWUsdGhpcy5fc3RhcnRUaW1lPXQsdGhpcy5fZW5kVGltZT10K2k7fX1jb25zdCBubj17XCJBdHRyaWJ1dGlvbkNvbnRyb2wuVG9nZ2xlQXR0cmlidXRpb25cIjpcIlRvZ2dsZSBhdHRyaWJ1dGlvblwiLFwiQXR0cmlidXRpb25Db250cm9sLk1hcEZlZWRiYWNrXCI6XCJNYXAgZmVlZGJhY2tcIixcIkZ1bGxzY3JlZW5Db250cm9sLkVudGVyXCI6XCJFbnRlciBmdWxsc2NyZWVuXCIsXCJGdWxsc2NyZWVuQ29udHJvbC5FeGl0XCI6XCJFeGl0IGZ1bGxzY3JlZW5cIixcIkdlb2xvY2F0ZUNvbnRyb2wuRmluZE15TG9jYXRpb25cIjpcIkZpbmQgbXkgbG9jYXRpb25cIixcIkdlb2xvY2F0ZUNvbnRyb2wuTG9jYXRpb25Ob3RBdmFpbGFibGVcIjpcIkxvY2F0aW9uIG5vdCBhdmFpbGFibGVcIixcIkxvZ29Db250cm9sLlRpdGxlXCI6XCJNYXBib3ggbG9nb1wiLFwiTWFwLlRpdGxlXCI6XCJNYXBcIixcIk5hdmlnYXRpb25Db250cm9sLlJlc2V0QmVhcmluZ1wiOlwiUmVzZXQgYmVhcmluZyB0byBub3J0aFwiLFwiTmF2aWdhdGlvbkNvbnRyb2wuWm9vbUluXCI6XCJab29tIGluXCIsXCJOYXZpZ2F0aW9uQ29udHJvbC5ab29tT3V0XCI6XCJab29tIG91dFwiLFwiU2Nyb2xsWm9vbUJsb2NrZXIuQ3RybE1lc3NhZ2VcIjpcIlVzZSBjdHJsICsgc2Nyb2xsIHRvIHpvb20gdGhlIG1hcFwiLFwiU2Nyb2xsWm9vbUJsb2NrZXIuQ21kTWVzc2FnZVwiOlwiVXNlIOKMmCArIHNjcm9sbCB0byB6b29tIHRoZSBtYXBcIixcIlRvdWNoUGFuQmxvY2tlci5NZXNzYWdlXCI6XCJVc2UgdHdvIGZpbmdlcnMgdG8gbW92ZSB0aGUgbWFwXCJ9LGFuPXtjZW50ZXI6WzAsMF0sem9vbTowLGJlYXJpbmc6MCxwaXRjaDowLG1pblpvb206LTIsbWF4Wm9vbToyMixtaW5QaXRjaDowLG1heFBpdGNoOjg1LGludGVyYWN0aXZlOiEwLHNjcm9sbFpvb206ITAsYm94Wm9vbTohMCxkcmFnUm90YXRlOiEwLGRyYWdQYW46ITAsa2V5Ym9hcmQ6ITAsZG91YmxlQ2xpY2tab29tOiEwLHRvdWNoWm9vbVJvdGF0ZTohMCx0b3VjaFBpdGNoOiEwLGNvb3BlcmF0aXZlR2VzdHVyZXM6ITEsYmVhcmluZ1NuYXA6NyxjbGlja1RvbGVyYW5jZTozLHBpdGNoV2l0aFJvdGF0ZTohMCxoYXNoOiExLGF0dHJpYnV0aW9uQ29udHJvbDohMCxmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0OiExLHByZXNlcnZlRHJhd2luZ0J1ZmZlcjohMSx0cmFja1Jlc2l6ZTohMCxvcHRpbWl6ZUZvclRlcnJhaW46ITAscmVuZGVyV29ybGRDb3BpZXM6ITAscmVmcmVzaEV4cGlyZWRUaWxlczohMCxtaW5UaWxlQ2FjaGVTaXplOm51bGwsbWF4VGlsZUNhY2hlU2l6ZTpudWxsLGxvY2FsSWRlb2dyYXBoRm9udEZhbWlseTpcInNhbnMtc2VyaWZcIixsb2NhbEZvbnRGYW1pbHk6bnVsbCx0cmFuc2Zvcm1SZXF1ZXN0Om51bGwsYWNjZXNzVG9rZW46bnVsbCxmYWRlRHVyYXRpb246MzAwLGNyb3NzU291cmNlQ29sbGlzaW9uczohMH07ZnVuY3Rpb24gc24oZSl7ZS5wYXJlbnROb2RlJiZlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZSk7fWNvbnN0IGxuPXtzaG93Q29tcGFzczohMCxzaG93Wm9vbTohMCx2aXN1YWxpemVQaXRjaDohMX07Y2xhc3MgY257Y29uc3RydWN0b3IodCxpLG89ITEpe3RoaXMuX2NsaWNrVG9sZXJhbmNlPTEwLHRoaXMuZWxlbWVudD1pLHRoaXMubW91c2VSb3RhdGU9bmV3IHdyKHtjbGlja1RvbGVyYW5jZTp0LmRyYWdSb3RhdGUuX21vdXNlUm90YXRlLl9jbGlja1RvbGVyYW5jZX0pLHRoaXMubWFwPXQsbyYmKHRoaXMubW91c2VQaXRjaD1uZXcgVHIoe2NsaWNrVG9sZXJhbmNlOnQuZHJhZ1JvdGF0ZS5fbW91c2VQaXRjaC5fY2xpY2tUb2xlcmFuY2V9KSksZS5iaW5kQWxsKFtcIm1vdXNlZG93blwiLFwibW91c2Vtb3ZlXCIsXCJtb3VzZXVwXCIsXCJ0b3VjaHN0YXJ0XCIsXCJ0b3VjaG1vdmVcIixcInRvdWNoZW5kXCIsXCJyZXNldFwiXSx0aGlzKSxpLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIix0aGlzLm1vdXNlZG93biksaS5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLHRoaXMudG91Y2hzdGFydCx7cGFzc2l2ZTohMX0pLGkuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLHRoaXMudG91Y2htb3ZlKSxpLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLHRoaXMudG91Y2hlbmQpLGkuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoY2FuY2VsXCIsdGhpcy5yZXNldCk7fWRvd24oZSx0KXt0aGlzLm1vdXNlUm90YXRlLm1vdXNlZG93bihlLHQpLHRoaXMubW91c2VQaXRjaCYmdGhpcy5tb3VzZVBpdGNoLm1vdXNlZG93bihlLHQpLGgoKTt9bW92ZShlLHQpe2NvbnN0IGk9dGhpcy5tYXAsbz10aGlzLm1vdXNlUm90YXRlLm1vdXNlbW92ZVdpbmRvdyhlLHQpLHI9byYmby5iZWFyaW5nRGVsdGE7aWYociYmaS5zZXRCZWFyaW5nKGkuZ2V0QmVhcmluZygpK3IpLHRoaXMubW91c2VQaXRjaCl7Y29uc3Qgbz10aGlzLm1vdXNlUGl0Y2gubW91c2Vtb3ZlV2luZG93KGUsdCkscj1vJiZvLnBpdGNoRGVsdGE7ciYmaS5zZXRQaXRjaChpLmdldFBpdGNoKCkrcik7fX1vZmYoKXtjb25zdCBlPXRoaXMuZWxlbWVudDtlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIix0aGlzLm1vdXNlZG93biksZS5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLHRoaXMudG91Y2hzdGFydCx7cGFzc2l2ZTohMX0pLGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLHRoaXMudG91Y2htb3ZlKSxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLHRoaXMudG91Y2hlbmQpLGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNoY2FuY2VsXCIsdGhpcy5yZXNldCksdGhpcy5vZmZUZW1wKCk7fW9mZlRlbXAoKXt1KCksZS53aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLHRoaXMubW91c2Vtb3ZlKSxlLndpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLHRoaXMubW91c2V1cCk7fW1vdXNlZG93bih0KXt0aGlzLmRvd24oZS5leHRlbmQoe30sdCx7Y3RybEtleTohMCxwcmV2ZW50RGVmYXVsdDooKT0+dC5wcmV2ZW50RGVmYXVsdCgpfSkscCh0aGlzLmVsZW1lbnQsdCkpLGUud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIix0aGlzLm1vdXNlbW92ZSksZS53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIix0aGlzLm1vdXNldXApO31tb3VzZW1vdmUoZSl7dGhpcy5tb3ZlKGUscCh0aGlzLmVsZW1lbnQsZSkpO31tb3VzZXVwKGUpe3RoaXMubW91c2VSb3RhdGUubW91c2V1cFdpbmRvdyhlKSx0aGlzLm1vdXNlUGl0Y2gmJnRoaXMubW91c2VQaXRjaC5tb3VzZXVwV2luZG93KGUpLHRoaXMub2ZmVGVtcCgpO310b3VjaHN0YXJ0KGUpezEhPT1lLnRhcmdldFRvdWNoZXMubGVuZ3RoP3RoaXMucmVzZXQoKToodGhpcy5fc3RhcnRQb3M9dGhpcy5fbGFzdFBvcz1tKHRoaXMuZWxlbWVudCxlLnRhcmdldFRvdWNoZXMpWzBdLHRoaXMuZG93bih7dHlwZTpcIm1vdXNlZG93blwiLGJ1dHRvbjowLGN0cmxLZXk6ITAscHJldmVudERlZmF1bHQ6KCk9PmUucHJldmVudERlZmF1bHQoKX0sdGhpcy5fc3RhcnRQb3MpKTt9dG91Y2htb3ZlKGUpezEhPT1lLnRhcmdldFRvdWNoZXMubGVuZ3RoP3RoaXMucmVzZXQoKToodGhpcy5fbGFzdFBvcz1tKHRoaXMuZWxlbWVudCxlLnRhcmdldFRvdWNoZXMpWzBdLHRoaXMubW92ZSh7cHJldmVudERlZmF1bHQ6KCk9PmUucHJldmVudERlZmF1bHQoKX0sdGhpcy5fbGFzdFBvcykpO310b3VjaGVuZChlKXswPT09ZS50YXJnZXRUb3VjaGVzLmxlbmd0aCYmdGhpcy5fc3RhcnRQb3MmJnRoaXMuX2xhc3RQb3MmJnRoaXMuX3N0YXJ0UG9zLmRpc3QodGhpcy5fbGFzdFBvcyk8dGhpcy5fY2xpY2tUb2xlcmFuY2UmJnRoaXMuZWxlbWVudC5jbGljaygpLHRoaXMucmVzZXQoKTt9cmVzZXQoKXt0aGlzLm1vdXNlUm90YXRlLnJlc2V0KCksdGhpcy5tb3VzZVBpdGNoJiZ0aGlzLm1vdXNlUGl0Y2gucmVzZXQoKSxkZWxldGUgdGhpcy5fc3RhcnRQb3MsZGVsZXRlIHRoaXMuX2xhc3RQb3MsdGhpcy5vZmZUZW1wKCk7fX1jb25zdCBobj17cG9zaXRpb25PcHRpb25zOntlbmFibGVIaWdoQWNjdXJhY3k6ITEsbWF4aW11bUFnZTowLHRpbWVvdXQ6NmUzfSxmaXRCb3VuZHNPcHRpb25zOnttYXhab29tOjE1fSx0cmFja1VzZXJMb2NhdGlvbjohMSxzaG93QWNjdXJhY3lDaXJjbGU6ITAsc2hvd1VzZXJMb2NhdGlvbjohMCxzaG93VXNlckhlYWRpbmc6ITF9LHVuPXttYXhXaWR0aDoxMDAsdW5pdDpcIm1ldHJpY1wifTtmdW5jdGlvbiBfbihlLHQsaSl7Y29uc3Qgbz1kbih0KSxyPW8vdCxuPXtraWxvbWV0ZXI6XCJrbVwiLG1ldGVyOlwibVwiLG1pbGU6XCJtaVwiLGZvb3Q6XCJmdFwiLFwibmF1dGljYWwtbWlsZVwiOlwibm1cIn1baV07dGhpcy5fbWFwLl9yZXF1ZXN0RG9tVGFzaygoKCk9Pnt0aGlzLl9jb250YWluZXIuc3R5bGUud2lkdGg9ZSpyK1wicHhcIix0aGlzLl9jb250YWluZXIuaW5uZXJIVE1MPWAke299Jm5ic3A7JHtufWA7fSkpO31mdW5jdGlvbiBkbihlKXtjb25zdCB0PU1hdGgucG93KDEwLGAke01hdGguZmxvb3IoZSl9YC5sZW5ndGgtMSk7bGV0IGk9ZS90O3JldHVybiBpPWk+PTEwPzEwOmk+PTU/NTppPj0zPzM6aT49Mj8yOmk+PTE/MTpmdW5jdGlvbihlKXtjb25zdCB0PU1hdGgucG93KDEwLE1hdGguY2VpbCgtTWF0aC5sb2coZSkvTWF0aC5MTjEwKSk7cmV0dXJuIE1hdGgucm91bmQoZSp0KS90fShpKSx0Kml9Y29uc3QgcG49e2Nsb3NlQnV0dG9uOiEwLGNsb3NlT25DbGljazohMCxmb2N1c0FmdGVyT3BlbjohMCxjbGFzc05hbWU6XCJcIixtYXhXaWR0aDpcIjI0MHB4XCJ9LG1uPVtcImFbaHJlZl1cIixcIlt0YWJpbmRleF06bm90KFt0YWJpbmRleD0nLTEnXSlcIixcIltjb250ZW50ZWRpdGFibGVdOm5vdChbY29udGVudGVkaXRhYmxlPSdmYWxzZSddKVwiLFwiYnV0dG9uOm5vdChbZGlzYWJsZWRdKVwiLFwiaW5wdXQ6bm90KFtkaXNhYmxlZF0pXCIsXCJzZWxlY3Q6bm90KFtkaXNhYmxlZF0pXCIsXCJ0ZXh0YXJlYTpub3QoW2Rpc2FibGVkXSlcIl0uam9pbihcIiwgXCIpO2Z1bmN0aW9uIGZuKHQ9bmV3IGUucG9pbnRHZW9tZXRyeSgwLDApLGk9XCJib3R0b21cIil7aWYoXCJudW1iZXJcIj09dHlwZW9mIHQpe2NvbnN0IG89TWF0aC5yb3VuZChNYXRoLnNxcnQoLjUqTWF0aC5wb3codCwyKSkpO3N3aXRjaChpKXtjYXNlXCJ0b3BcIjpyZXR1cm4gbmV3IGUucG9pbnRHZW9tZXRyeSgwLHQpO2Nhc2VcInRvcC1sZWZ0XCI6cmV0dXJuIG5ldyBlLnBvaW50R2VvbWV0cnkobyxvKTtjYXNlXCJ0b3AtcmlnaHRcIjpyZXR1cm4gbmV3IGUucG9pbnRHZW9tZXRyeSgtbyxvKTtjYXNlXCJib3R0b21cIjpyZXR1cm4gbmV3IGUucG9pbnRHZW9tZXRyeSgwLC10KTtjYXNlXCJib3R0b20tbGVmdFwiOnJldHVybiBuZXcgZS5wb2ludEdlb21ldHJ5KG8sLW8pO2Nhc2VcImJvdHRvbS1yaWdodFwiOnJldHVybiBuZXcgZS5wb2ludEdlb21ldHJ5KC1vLC1vKTtjYXNlXCJsZWZ0XCI6cmV0dXJuIG5ldyBlLnBvaW50R2VvbWV0cnkodCwwKTtjYXNlXCJyaWdodFwiOnJldHVybiBuZXcgZS5wb2ludEdlb21ldHJ5KC10LDApfXJldHVybiBuZXcgZS5wb2ludEdlb21ldHJ5KDAsMCl9cmV0dXJuIHQgaW5zdGFuY2VvZiBlLnBvaW50R2VvbWV0cnl8fEFycmF5LmlzQXJyYXkodCk/ZS5wb2ludEdlb21ldHJ5LmNvbnZlcnQodCk6ZS5wb2ludEdlb21ldHJ5LmNvbnZlcnQodFtpXXx8WzAsMF0pfWNvbnN0IGduPXt2ZXJzaW9uOmUudmVyc2lvbixzdXBwb3J0ZWQ6aSxzZXRSVExUZXh0UGx1Z2luOmUuc2V0UlRMVGV4dFBsdWdpbixnZXRSVExUZXh0UGx1Z2luU3RhdHVzOmUuZ2V0UlRMVGV4dFBsdWdpblN0YXR1cyxNYXA6Y2xhc3MgZXh0ZW5kcyBZcntjb25zdHJ1Y3Rvcih0KXtpZihudWxsIT0odD1lLmV4dGVuZCh7fSxhbix0KSkubWluWm9vbSYmbnVsbCE9dC5tYXhab29tJiZ0Lm1pblpvb20+dC5tYXhab29tKXRocm93IG5ldyBFcnJvcihcIm1heFpvb20gbXVzdCBiZSBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gbWluWm9vbVwiKTtpZihudWxsIT10Lm1pblBpdGNoJiZudWxsIT10Lm1heFBpdGNoJiZ0Lm1pblBpdGNoPnQubWF4UGl0Y2gpdGhyb3cgbmV3IEVycm9yKFwibWF4UGl0Y2ggbXVzdCBiZSBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gbWluUGl0Y2hcIik7aWYobnVsbCE9dC5taW5QaXRjaCYmdC5taW5QaXRjaDwwKXRocm93IG5ldyBFcnJvcihcIm1pblBpdGNoIG11c3QgYmUgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIDBcIik7aWYobnVsbCE9dC5tYXhQaXRjaCYmdC5tYXhQaXRjaD44NSl0aHJvdyBuZXcgRXJyb3IoXCJtYXhQaXRjaCBtdXN0IGJlIGxlc3MgdGhhbiBvciBlcXVhbCB0byA4NVwiKTtpZih0LmFudGlhbGlhcyYmZS5pc1NhZmFyaVdpdGhBbnRpYWxpYXNpbmdCdWcoZS53aW5kb3cpJiYodC5hbnRpYWxpYXM9ITEsZS53YXJuT25jZShcIkFudGlhbGlhc2luZyBpcyBkaXNhYmxlZCBmb3IgdGhpcyBXZWJHTCBjb250ZXh0IHRvIGF2b2lkIGJyb3dzZXIgYnVnOiBodHRwczovL2dpdGh1Yi5jb20vbWFwYm94L21hcGJveC1nbC1qcy9pc3N1ZXMvMTE2MDlcIikpLHN1cGVyKG5ldyBLbyh0Lm1pblpvb20sdC5tYXhab29tLHQubWluUGl0Y2gsdC5tYXhQaXRjaCx0LnJlbmRlcldvcmxkQ29waWVzKSx0KSx0aGlzLl9pbnRlcmFjdGl2ZT10LmludGVyYWN0aXZlLHRoaXMuX21pblRpbGVDYWNoZVNpemU9dC5taW5UaWxlQ2FjaGVTaXplLHRoaXMuX21heFRpbGVDYWNoZVNpemU9dC5tYXhUaWxlQ2FjaGVTaXplLHRoaXMuX2ZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQ9dC5mYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0LHRoaXMuX3ByZXNlcnZlRHJhd2luZ0J1ZmZlcj10LnByZXNlcnZlRHJhd2luZ0J1ZmZlcix0aGlzLl9hbnRpYWxpYXM9dC5hbnRpYWxpYXMsdGhpcy5fdHJhY2tSZXNpemU9dC50cmFja1Jlc2l6ZSx0aGlzLl9iZWFyaW5nU25hcD10LmJlYXJpbmdTbmFwLHRoaXMuX3JlZnJlc2hFeHBpcmVkVGlsZXM9dC5yZWZyZXNoRXhwaXJlZFRpbGVzLHRoaXMuX2ZhZGVEdXJhdGlvbj10LmZhZGVEdXJhdGlvbix0aGlzLl9pc0luaXRpYWxMb2FkPSEwLHRoaXMuX2Nyb3NzU291cmNlQ29sbGlzaW9ucz10LmNyb3NzU291cmNlQ29sbGlzaW9ucyx0aGlzLl9jcm9zc0ZhZGluZ0ZhY3Rvcj0xLHRoaXMuX2NvbGxlY3RSZXNvdXJjZVRpbWluZz10LmNvbGxlY3RSZXNvdXJjZVRpbWluZyx0aGlzLl9vcHRpbWl6ZUZvclRlcnJhaW49dC5vcHRpbWl6ZUZvclRlcnJhaW4sdGhpcy5fbGFuZ3VhZ2U9XCJhdXRvXCI9PT10Lmxhbmd1YWdlP2Uud2luZG93Lm5hdmlnYXRvci5sYW5ndWFnZTp0Lmxhbmd1YWdlLHRoaXMuX3dvcmxkdmlldz10Lndvcmxkdmlldyx0aGlzLl9yZW5kZXJUYXNrUXVldWU9bmV3IFFyLHRoaXMuX2RvbVJlbmRlclRhc2tRdWV1ZT1uZXcgUXIsdGhpcy5fY29udHJvbHM9W10sdGhpcy5fbWFya2Vycz1bXSx0aGlzLl9tYXBJZD1lLnVuaXF1ZUlkKCksdGhpcy5fbG9jYWxlPWUuZXh0ZW5kKHt9LG5uLHQubG9jYWxlKSx0aGlzLl9jbGlja1RvbGVyYW5jZT10LmNsaWNrVG9sZXJhbmNlLHRoaXMuX2Nvb3BlcmF0aXZlR2VzdHVyZXM9dC5jb29wZXJhdGl2ZUdlc3R1cmVzLHRoaXMuX2NvbnRhaW5lcldpZHRoPTAsdGhpcy5fY29udGFpbmVySGVpZ2h0PTAsdGhpcy5fYXZlcmFnZUVsZXZhdGlvbkxhc3RTYW1wbGVkQXQ9LTEvMCx0aGlzLl9hdmVyYWdlRWxldmF0aW9uRXhhZ2dlcmF0aW9uPTAsdGhpcy5fYXZlcmFnZUVsZXZhdGlvbj1uZXcgcm4oMCksdGhpcy5fdXNlRXhwbGljaXRQcm9qZWN0aW9uPSExLHRoaXMuX3JlcXVlc3RNYW5hZ2VyPW5ldyBlLlJlcXVlc3RNYW5hZ2VyKHQudHJhbnNmb3JtUmVxdWVzdCx0LmFjY2Vzc1Rva2VuLHQudGVzdE1vZGUpLHRoaXMuX3NpbGVuY2VBdXRoRXJyb3JzPSEhdC50ZXN0TW9kZSxcInN0cmluZ1wiPT10eXBlb2YgdC5jb250YWluZXIpe2lmKHRoaXMuX2NvbnRhaW5lcj1lLndpbmRvdy5kb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0LmNvbnRhaW5lciksIXRoaXMuX2NvbnRhaW5lcil0aHJvdyBuZXcgRXJyb3IoYENvbnRhaW5lciAnJHt0LmNvbnRhaW5lcn0nIG5vdCBmb3VuZC5gKX1lbHNlIHtpZighKHQuY29udGFpbmVyIGluc3RhbmNlb2YgZS53aW5kb3cuSFRNTEVsZW1lbnQpKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdHlwZTogJ2NvbnRhaW5lcicgbXVzdCBiZSBhIFN0cmluZyBvciBIVE1MRWxlbWVudC5cIik7dGhpcy5fY29udGFpbmVyPXQuY29udGFpbmVyO31pZih0aGlzLl9jb250YWluZXIuY2hpbGROb2Rlcy5sZW5ndGg+MCYmZS53YXJuT25jZShcIlRoZSBtYXAgY29udGFpbmVyIGVsZW1lbnQgc2hvdWxkIGJlIGVtcHR5LCBvdGhlcndpc2UgdGhlIG1hcCdzIGludGVyYWN0aXZpdHkgd2lsbCBiZSBuZWdhdGl2ZWx5IGltcGFjdGVkLiBJZiB5b3Ugd2FudCB0byBkaXNwbGF5IGEgbWVzc2FnZSB3aGVuIFdlYkdMIGlzIG5vdCBzdXBwb3J0ZWQsIHVzZSB0aGUgTWFwYm94IEdMIFN1cHBvcnRlZCBwbHVnaW4gaW5zdGVhZC5cIiksdC5tYXhCb3VuZHMmJnRoaXMuc2V0TWF4Qm91bmRzKHQubWF4Qm91bmRzKSxlLmJpbmRBbGwoW1wiX29uV2luZG93T25saW5lXCIsXCJfb25XaW5kb3dSZXNpemVcIixcIl9vbk1hcFNjcm9sbFwiLFwiX2NvbnRleHRMb3N0XCIsXCJfY29udGV4dFJlc3RvcmVkXCJdLHRoaXMpLHRoaXMuX3NldHVwQ29udGFpbmVyKCksdGhpcy5fc2V0dXBQYWludGVyKCksdm9pZCAwPT09dGhpcy5wYWludGVyKXRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBpbml0aWFsaXplIFdlYkdMLlwiKTt0aGlzLm9uKFwibW92ZVwiLCgoKT0+dGhpcy5fdXBkYXRlKCExKSkpLHRoaXMub24oXCJtb3ZlZW5kXCIsKCgpPT50aGlzLl91cGRhdGUoITEpKSksdGhpcy5vbihcInpvb21cIiwoKCk9PnRoaXMuX3VwZGF0ZSghMCkpKSx2b2lkIDAhPT1lLndpbmRvdyYmKGUud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJvbmxpbmVcIix0aGlzLl9vbldpbmRvd09ubGluZSwhMSksZS53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLHRoaXMuX29uV2luZG93UmVzaXplLCExKSxlLndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwib3JpZW50YXRpb25jaGFuZ2VcIix0aGlzLl9vbldpbmRvd1Jlc2l6ZSwhMSksZS53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIndlYmtpdGZ1bGxzY3JlZW5jaGFuZ2VcIix0aGlzLl9vbldpbmRvd1Jlc2l6ZSwhMSkpLHRoaXMuaGFuZGxlcnM9bmV3ICRyKHRoaXMsdCksdGhpcy5fbG9jYWxGb250RmFtaWx5PXQubG9jYWxGb250RmFtaWx5LHRoaXMuX2xvY2FsSWRlb2dyYXBoRm9udEZhbWlseT10LmxvY2FsSWRlb2dyYXBoRm9udEZhbWlseSx0LnN0eWxlJiZ0aGlzLnNldFN0eWxlKHQuc3R5bGUse2xvY2FsRm9udEZhbWlseTp0aGlzLl9sb2NhbEZvbnRGYW1pbHksbG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5OnRoaXMuX2xvY2FsSWRlb2dyYXBoRm9udEZhbWlseX0pLHQucHJvamVjdGlvbiYmdGhpcy5zZXRQcm9qZWN0aW9uKHQucHJvamVjdGlvbiksdGhpcy5faGFzaD10Lmhhc2gmJm5ldyBRbyhcInN0cmluZ1wiPT10eXBlb2YgdC5oYXNoJiZ0Lmhhc2h8fHZvaWQgMCkuYWRkVG8odGhpcyksdGhpcy5faGFzaCYmdGhpcy5faGFzaC5fb25IYXNoQ2hhbmdlKCl8fCh0aGlzLmp1bXBUbyh7Y2VudGVyOnQuY2VudGVyLHpvb206dC56b29tLGJlYXJpbmc6dC5iZWFyaW5nLHBpdGNoOnQucGl0Y2h9KSx0LmJvdW5kcyYmKHRoaXMucmVzaXplKCksdGhpcy5maXRCb3VuZHModC5ib3VuZHMsZS5leHRlbmQoe30sdC5maXRCb3VuZHNPcHRpb25zLHtkdXJhdGlvbjowfSkpKSksdGhpcy5yZXNpemUoKSx0LmF0dHJpYnV0aW9uQ29udHJvbCYmdGhpcy5hZGRDb250cm9sKG5ldyBLcih7Y3VzdG9tQXR0cmlidXRpb246dC5jdXN0b21BdHRyaWJ1dGlvbn0pKSx0aGlzLl9sb2dvQ29udHJvbD1uZXcgSnIsdGhpcy5hZGRDb250cm9sKHRoaXMuX2xvZ29Db250cm9sLHQubG9nb1Bvc2l0aW9uKSx0aGlzLm9uKFwic3R5bGUubG9hZFwiLCgoKT0+e3RoaXMudHJhbnNmb3JtLnVubW9kaWZpZWQmJnRoaXMuanVtcFRvKHRoaXMuc3R5bGUuc3R5bGVzaGVldCk7fSkpLHRoaXMub24oXCJkYXRhXCIsKHQ9Pnt0aGlzLl91cGRhdGUoXCJzdHlsZVwiPT09dC5kYXRhVHlwZSksdGhpcy5maXJlKG5ldyBlLkV2ZW50KGAke3QuZGF0YVR5cGV9ZGF0YWAsdCkpO30pKSx0aGlzLm9uKFwiZGF0YWxvYWRpbmdcIiwodD0+e3RoaXMuZmlyZShuZXcgZS5FdmVudChgJHt0LmRhdGFUeXBlfWRhdGFsb2FkaW5nYCx0KSk7fSkpO31fZ2V0TWFwSWQoKXtyZXR1cm4gdGhpcy5fbWFwSWR9YWRkQ29udHJvbCh0LGkpe2lmKHZvaWQgMD09PWkmJihpPXQuZ2V0RGVmYXVsdFBvc2l0aW9uP3QuZ2V0RGVmYXVsdFBvc2l0aW9uKCk6XCJ0b3AtcmlnaHRcIiksIXR8fCF0Lm9uQWRkKXJldHVybiB0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50IHRvIG1hcC5hZGRDb250cm9sKCkuIEFyZ3VtZW50IG11c3QgYmUgYSBjb250cm9sIHdpdGggb25BZGQgYW5kIG9uUmVtb3ZlIG1ldGhvZHMuXCIpKSk7Y29uc3Qgbz10Lm9uQWRkKHRoaXMpO3RoaXMuX2NvbnRyb2xzLnB1c2godCk7Y29uc3Qgcj10aGlzLl9jb250cm9sUG9zaXRpb25zW2ldO3JldHVybiAtMSE9PWkuaW5kZXhPZihcImJvdHRvbVwiKT9yLmluc2VydEJlZm9yZShvLHIuZmlyc3RDaGlsZCk6ci5hcHBlbmRDaGlsZChvKSx0aGlzfXJlbW92ZUNvbnRyb2wodCl7aWYoIXR8fCF0Lm9uUmVtb3ZlKXJldHVybiB0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50IHRvIG1hcC5yZW1vdmVDb250cm9sKCkuIEFyZ3VtZW50IG11c3QgYmUgYSBjb250cm9sIHdpdGggb25BZGQgYW5kIG9uUmVtb3ZlIG1ldGhvZHMuXCIpKSk7Y29uc3QgaT10aGlzLl9jb250cm9scy5pbmRleE9mKHQpO3JldHVybiBpPi0xJiZ0aGlzLl9jb250cm9scy5zcGxpY2UoaSwxKSx0Lm9uUmVtb3ZlKHRoaXMpLHRoaXN9aGFzQ29udHJvbChlKXtyZXR1cm4gdGhpcy5fY29udHJvbHMuaW5kZXhPZihlKT4tMX1nZXRDb250YWluZXIoKXtyZXR1cm4gdGhpcy5fY29udGFpbmVyfWdldENhbnZhc0NvbnRhaW5lcigpe3JldHVybiB0aGlzLl9jYW52YXNDb250YWluZXJ9Z2V0Q2FudmFzKCl7cmV0dXJuIHRoaXMuX2NhbnZhc31yZXNpemUodCl7aWYodGhpcy5fdXBkYXRlQ29udGFpbmVyRGltZW5zaW9ucygpLHRoaXMuX2NvbnRhaW5lcldpZHRoPT09dGhpcy50cmFuc2Zvcm0ud2lkdGgmJnRoaXMuX2NvbnRhaW5lckhlaWdodD09PXRoaXMudHJhbnNmb3JtLmhlaWdodClyZXR1cm4gdGhpczt0aGlzLl9yZXNpemVDYW52YXModGhpcy5fY29udGFpbmVyV2lkdGgsdGhpcy5fY29udGFpbmVySGVpZ2h0KSx0aGlzLnRyYW5zZm9ybS5yZXNpemUodGhpcy5fY29udGFpbmVyV2lkdGgsdGhpcy5fY29udGFpbmVySGVpZ2h0KSx0aGlzLnBhaW50ZXIucmVzaXplKE1hdGguY2VpbCh0aGlzLl9jb250YWluZXJXaWR0aCksTWF0aC5jZWlsKHRoaXMuX2NvbnRhaW5lckhlaWdodCkpO2NvbnN0IGk9IXRoaXMuX21vdmluZztyZXR1cm4gaSYmdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwibW92ZXN0YXJ0XCIsdCkpLmZpcmUobmV3IGUuRXZlbnQoXCJtb3ZlXCIsdCkpLHRoaXMuZmlyZShuZXcgZS5FdmVudChcInJlc2l6ZVwiLHQpKSxpJiZ0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJtb3ZlZW5kXCIsdCkpLHRoaXN9Z2V0Qm91bmRzKCl7cmV0dXJuIFwiZ2xvYmVcIj09PXRoaXMudHJhbnNmb3JtLnByb2plY3Rpb24ubmFtZSYmZS53YXJuT25jZSgnR2xvYmUgcHJvamVjdGlvbiBkb2VzIG5vdCBzdXBwb3J0IGdldEJvdW5kcyBBUEksIHRoaXMgQVBJIG1heSBiZWhhdmUgdW5leHBlY3RlZGx5LlwiJyksdGhpcy50cmFuc2Zvcm0uZ2V0Qm91bmRzKCl9Z2V0TWF4Qm91bmRzKCl7cmV0dXJuIHRoaXMudHJhbnNmb3JtLmdldE1heEJvdW5kcygpfHxudWxsfXNldE1heEJvdW5kcyh0KXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0uc2V0TWF4Qm91bmRzKGUuTG5nTGF0Qm91bmRzLmNvbnZlcnQodCkpLHRoaXMuX3VwZGF0ZSgpfXNldE1pblpvb20odCl7aWYoKHQ9bnVsbD09dD8tMjp0KT49LTImJnQ8PXRoaXMudHJhbnNmb3JtLm1heFpvb20pcmV0dXJuIHRoaXMudHJhbnNmb3JtLm1pblpvb209dCx0aGlzLl91cGRhdGUoKSx0aGlzLmdldFpvb20oKTx0P3RoaXMuc2V0Wm9vbSh0KTp0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJ6b29tc3RhcnRcIikpLmZpcmUobmV3IGUuRXZlbnQoXCJ6b29tXCIpKS5maXJlKG5ldyBlLkV2ZW50KFwiem9vbWVuZFwiKSksdGhpczt0aHJvdyBuZXcgRXJyb3IoXCJtaW5ab29tIG11c3QgYmUgYmV0d2VlbiAtMiBhbmQgdGhlIGN1cnJlbnQgbWF4Wm9vbSwgaW5jbHVzaXZlXCIpfWdldE1pblpvb20oKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0ubWluWm9vbX1zZXRNYXhab29tKHQpe2lmKCh0PW51bGw9PXQ/MjI6dCk+PXRoaXMudHJhbnNmb3JtLm1pblpvb20pcmV0dXJuIHRoaXMudHJhbnNmb3JtLm1heFpvb209dCx0aGlzLl91cGRhdGUoKSx0aGlzLmdldFpvb20oKT50P3RoaXMuc2V0Wm9vbSh0KTp0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJ6b29tc3RhcnRcIikpLmZpcmUobmV3IGUuRXZlbnQoXCJ6b29tXCIpKS5maXJlKG5ldyBlLkV2ZW50KFwiem9vbWVuZFwiKSksdGhpczt0aHJvdyBuZXcgRXJyb3IoXCJtYXhab29tIG11c3QgYmUgZ3JlYXRlciB0aGFuIHRoZSBjdXJyZW50IG1pblpvb21cIil9Z2V0TWF4Wm9vbSgpe3JldHVybiB0aGlzLnRyYW5zZm9ybS5tYXhab29tfXNldE1pblBpdGNoKHQpe2lmKCh0PW51bGw9PXQ/MDp0KTwwKXRocm93IG5ldyBFcnJvcihcIm1pblBpdGNoIG11c3QgYmUgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIDBcIik7aWYodD49MCYmdDw9dGhpcy50cmFuc2Zvcm0ubWF4UGl0Y2gpcmV0dXJuIHRoaXMudHJhbnNmb3JtLm1pblBpdGNoPXQsdGhpcy5fdXBkYXRlKCksdGhpcy5nZXRQaXRjaCgpPHQ/dGhpcy5zZXRQaXRjaCh0KTp0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJwaXRjaHN0YXJ0XCIpKS5maXJlKG5ldyBlLkV2ZW50KFwicGl0Y2hcIikpLmZpcmUobmV3IGUuRXZlbnQoXCJwaXRjaGVuZFwiKSksdGhpczt0aHJvdyBuZXcgRXJyb3IoXCJtaW5QaXRjaCBtdXN0IGJlIGJldHdlZW4gMCBhbmQgdGhlIGN1cnJlbnQgbWF4UGl0Y2gsIGluY2x1c2l2ZVwiKX1nZXRNaW5QaXRjaCgpe3JldHVybiB0aGlzLnRyYW5zZm9ybS5taW5QaXRjaH1zZXRNYXhQaXRjaCh0KXtpZigodD1udWxsPT10Pzg1OnQpPjg1KXRocm93IG5ldyBFcnJvcihcIm1heFBpdGNoIG11c3QgYmUgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIDg1XCIpO2lmKHQ+PXRoaXMudHJhbnNmb3JtLm1pblBpdGNoKXJldHVybiB0aGlzLnRyYW5zZm9ybS5tYXhQaXRjaD10LHRoaXMuX3VwZGF0ZSgpLHRoaXMuZ2V0UGl0Y2goKT50P3RoaXMuc2V0UGl0Y2godCk6dGhpcy5maXJlKG5ldyBlLkV2ZW50KFwicGl0Y2hzdGFydFwiKSkuZmlyZShuZXcgZS5FdmVudChcInBpdGNoXCIpKS5maXJlKG5ldyBlLkV2ZW50KFwicGl0Y2hlbmRcIikpLHRoaXM7dGhyb3cgbmV3IEVycm9yKFwibWF4UGl0Y2ggbXVzdCBiZSBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gbWluUGl0Y2hcIil9Z2V0TWF4UGl0Y2goKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0ubWF4UGl0Y2h9Z2V0UmVuZGVyV29ybGRDb3BpZXMoKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0ucmVuZGVyV29ybGRDb3BpZXN9c2V0UmVuZGVyV29ybGRDb3BpZXMoZSl7cmV0dXJuIHRoaXMudHJhbnNmb3JtLnJlbmRlcldvcmxkQ29waWVzPWUsdGhpcy5fdXBkYXRlKCl9Z2V0TGFuZ3VhZ2UoKXtyZXR1cm4gdGhpcy5fbGFuZ3VhZ2V9c2V0TGFuZ3VhZ2UodCl7aWYodGhpcy5fbGFuZ3VhZ2U9XCJhdXRvXCI9PT10P2Uud2luZG93Lm5hdmlnYXRvci5sYW5ndWFnZTp0LHRoaXMuc3R5bGUpZm9yKGNvbnN0IGUgaW4gdGhpcy5zdHlsZS5fc291cmNlQ2FjaGVzKXtjb25zdCB0PXRoaXMuc3R5bGUuX3NvdXJjZUNhY2hlc1tlXS5fc291cmNlO3QuX3NldExhbmd1YWdlJiZ0Ll9zZXRMYW5ndWFnZSh0aGlzLl9sYW5ndWFnZSk7fWZvcihjb25zdCBlIG9mIHRoaXMuX2NvbnRyb2xzKWUuX3NldExhbmd1YWdlJiZlLl9zZXRMYW5ndWFnZSh0aGlzLl9sYW5ndWFnZSk7cmV0dXJuIHRoaXN9Z2V0V29ybGR2aWV3KCl7cmV0dXJuIHRoaXMuX3dvcmxkdmlld31zZXRXb3JsZHZpZXcoZSl7aWYodGhpcy5fd29ybGR2aWV3PWUsdGhpcy5zdHlsZSlmb3IoY29uc3QgdCBpbiB0aGlzLnN0eWxlLl9zb3VyY2VDYWNoZXMpe2NvbnN0IGk9dGhpcy5zdHlsZS5fc291cmNlQ2FjaGVzW3RdLl9zb3VyY2U7aS5fc2V0V29ybGR2aWV3JiZpLl9zZXRXb3JsZHZpZXcoZSk7fXJldHVybiB0aGlzfWdldFByb2plY3Rpb24oKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0ubWVyY2F0b3JGcm9tVHJhbnNpdGlvbj97bmFtZTpcImdsb2JlXCIsY2VudGVyOlswLDBdfTp0aGlzLnRyYW5zZm9ybS5nZXRQcm9qZWN0aW9uKCl9X3Nob3dpbmdHbG9iZSgpe3JldHVybiBcImdsb2JlXCI9PT10aGlzLnRyYW5zZm9ybS5wcm9qZWN0aW9uLm5hbWV9c2V0UHJvamVjdGlvbihlKXtyZXR1cm4gdGhpcy5fbGF6eUluaXRFbXB0eVN0eWxlKCksZT9cInN0cmluZ1wiPT10eXBlb2YgZSYmKGU9e25hbWU6ZX0pOmU9bnVsbCx0aGlzLl91c2VFeHBsaWNpdFByb2plY3Rpb249ISFlLHRoaXMuX3ByaW9yaXRpemVBbmRVcGRhdGVQcm9qZWN0aW9uKGUsdGhpcy5zdHlsZS5zdHlsZXNoZWV0P3RoaXMuc3R5bGUuc3R5bGVzaGVldC5wcm9qZWN0aW9uOm51bGwpfV91cGRhdGVQcm9qZWN0aW9uVHJhbnNpdGlvbigpe2lmKFwiZ2xvYmVcIiE9PXRoaXMuZ2V0UHJvamVjdGlvbigpLm5hbWUpcmV0dXJuO2NvbnN0IHQ9dGhpcy50cmFuc2Zvcm0saT10LnByb2plY3Rpb24ubmFtZTtsZXQgbztcImdsb2JlXCI9PT1pJiZ0Lnpvb20+PWUuR0xPQkVfWk9PTV9USFJFU0hPTERfTUFYPyh0LnNldE1lcmNhdG9yRnJvbVRyYW5zaXRpb24oKSxvPSEwKTpcIm1lcmNhdG9yXCI9PT1pJiZ0Lnpvb208ZS5HTE9CRV9aT09NX1RIUkVTSE9MRF9NQVgmJih0LnNldFByb2plY3Rpb24oe25hbWU6XCJnbG9iZVwifSksbz0hMCksbyYmKHRoaXMuc3R5bGUuYXBwbHlQcm9qZWN0aW9uVXBkYXRlKCksdGhpcy5zdHlsZS5fZm9yY2VTeW1ib2xMYXllclVwZGF0ZSgpKTt9X3ByaW9yaXRpemVBbmRVcGRhdGVQcm9qZWN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX3VwZGF0ZVByb2plY3Rpb24oZXx8dHx8e25hbWU6XCJtZXJjYXRvclwifSl9X3VwZGF0ZVByb2plY3Rpb24odCl7bGV0IGk7aWYoaT1cImdsb2JlXCI9PT10Lm5hbWUmJnRoaXMudHJhbnNmb3JtLnpvb20+PWUuR0xPQkVfWk9PTV9USFJFU0hPTERfTUFYP3RoaXMudHJhbnNmb3JtLnNldE1lcmNhdG9yRnJvbVRyYW5zaXRpb24oKTp0aGlzLnRyYW5zZm9ybS5zZXRQcm9qZWN0aW9uKHQpLHRoaXMuc3R5bGUuYXBwbHlQcm9qZWN0aW9uVXBkYXRlKCksaSl7dGhpcy5wYWludGVyLmNsZWFyQmFja2dyb3VuZFRpbGVzKCk7Zm9yKGNvbnN0IGUgaW4gdGhpcy5zdHlsZS5fc291cmNlQ2FjaGVzKXRoaXMuc3R5bGUuX3NvdXJjZUNhY2hlc1tlXS5jbGVhclRpbGVzKCk7dGhpcy5fdXBkYXRlKCEwKTt9cmV0dXJuIHRoaXN9cHJvamVjdCh0KXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0ubG9jYXRpb25Qb2ludDNEKGUuTG5nTGF0LmNvbnZlcnQodCkpfXVucHJvamVjdCh0KXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0ucG9pbnRMb2NhdGlvbjNEKGUucG9pbnRHZW9tZXRyeS5jb252ZXJ0KHQpKX1pc01vdmluZygpe3JldHVybiB0aGlzLl9tb3Zpbmd8fHRoaXMuaGFuZGxlcnMmJnRoaXMuaGFuZGxlcnMuaXNNb3ZpbmcoKXx8ITF9aXNab29taW5nKCl7cmV0dXJuIHRoaXMuX3pvb21pbmd8fHRoaXMuaGFuZGxlcnMmJnRoaXMuaGFuZGxlcnMuaXNab29taW5nKCl8fCExfWlzUm90YXRpbmcoKXtyZXR1cm4gdGhpcy5fcm90YXRpbmd8fHRoaXMuaGFuZGxlcnMmJnRoaXMuaGFuZGxlcnMuaXNSb3RhdGluZygpfHwhMX1fY3JlYXRlRGVsZWdhdGVkTGlzdGVuZXIoZSx0LGkpe2lmKFwibW91c2VlbnRlclwiPT09ZXx8XCJtb3VzZW92ZXJcIj09PWUpe2xldCBvPSExO2NvbnN0IHI9cj0+e2NvbnN0IG49dC5maWx0ZXIoKGU9PnRoaXMuZ2V0TGF5ZXIoZSkpKSxhPW4ubGVuZ3RoP3RoaXMucXVlcnlSZW5kZXJlZEZlYXR1cmVzKHIucG9pbnQse2xheWVyczpufSk6W107YS5sZW5ndGg/b3x8KG89ITAsaS5jYWxsKHRoaXMsbmV3IGNyKGUsdGhpcyxyLm9yaWdpbmFsRXZlbnQse2ZlYXR1cmVzOmF9KSkpOm89ITE7fSxuPSgpPT57bz0hMTt9O3JldHVybiB7bGF5ZXJzOm5ldyBTZXQodCksbGlzdGVuZXI6aSxkZWxlZ2F0ZXM6e21vdXNlbW92ZTpyLG1vdXNlb3V0Om59fX1pZihcIm1vdXNlbGVhdmVcIj09PWV8fFwibW91c2VvdXRcIj09PWUpe2xldCBvPSExO2NvbnN0IHI9cj0+e2NvbnN0IG49dC5maWx0ZXIoKGU9PnRoaXMuZ2V0TGF5ZXIoZSkpKTsobi5sZW5ndGg/dGhpcy5xdWVyeVJlbmRlcmVkRmVhdHVyZXMoci5wb2ludCx7bGF5ZXJzOm59KTpbXSkubGVuZ3RoP289ITA6byYmKG89ITEsaS5jYWxsKHRoaXMsbmV3IGNyKGUsdGhpcyxyLm9yaWdpbmFsRXZlbnQpKSk7fSxuPXQ9PntvJiYobz0hMSxpLmNhbGwodGhpcyxuZXcgY3IoZSx0aGlzLHQub3JpZ2luYWxFdmVudCkpKTt9O3JldHVybiB7bGF5ZXJzOm5ldyBTZXQodCksbGlzdGVuZXI6aSxkZWxlZ2F0ZXM6e21vdXNlbW92ZTpyLG1vdXNlb3V0Om59fX17Y29uc3Qgbz1lPT57Y29uc3Qgbz10LmZpbHRlcigoZT0+dGhpcy5nZXRMYXllcihlKSkpLHI9by5sZW5ndGg/dGhpcy5xdWVyeVJlbmRlcmVkRmVhdHVyZXMoZS5wb2ludCx7bGF5ZXJzOm99KTpbXTtyLmxlbmd0aCYmKGUuZmVhdHVyZXM9cixpLmNhbGwodGhpcyxlKSxkZWxldGUgZS5mZWF0dXJlcyk7fTtyZXR1cm4ge2xheWVyczpuZXcgU2V0KHQpLGxpc3RlbmVyOmksZGVsZWdhdGVzOntbZV06b319fX1vbihlLHQsaSl7aWYodm9pZCAwPT09aSlyZXR1cm4gc3VwZXIub24oZSx0KTtBcnJheS5pc0FycmF5KHQpfHwodD1bdF0pO2NvbnN0IG89dGhpcy5fY3JlYXRlRGVsZWdhdGVkTGlzdGVuZXIoZSx0LGkpO3RoaXMuX2RlbGVnYXRlZExpc3RlbmVycz10aGlzLl9kZWxlZ2F0ZWRMaXN0ZW5lcnN8fHt9LHRoaXMuX2RlbGVnYXRlZExpc3RlbmVyc1tlXT10aGlzLl9kZWxlZ2F0ZWRMaXN0ZW5lcnNbZV18fFtdLHRoaXMuX2RlbGVnYXRlZExpc3RlbmVyc1tlXS5wdXNoKG8pO2Zvcihjb25zdCBlIGluIG8uZGVsZWdhdGVzKXRoaXMub24oZSxvLmRlbGVnYXRlc1tlXSk7cmV0dXJuIHRoaXN9b25jZShlLHQsaSl7aWYodm9pZCAwPT09aSlyZXR1cm4gc3VwZXIub25jZShlLHQpO0FycmF5LmlzQXJyYXkodCl8fCh0PVt0XSk7Y29uc3Qgbz10aGlzLl9jcmVhdGVEZWxlZ2F0ZWRMaXN0ZW5lcihlLHQsaSk7Zm9yKGNvbnN0IGUgaW4gby5kZWxlZ2F0ZXMpdGhpcy5vbmNlKGUsby5kZWxlZ2F0ZXNbZV0pO3JldHVybiB0aGlzfW9mZihlLHQsaSl7aWYodm9pZCAwPT09aSlyZXR1cm4gc3VwZXIub2ZmKGUsdCk7dD1uZXcgU2V0KEFycmF5LmlzQXJyYXkodCk/dDpbdF0pO2NvbnN0IG89KGUsdCk9PntpZihlLnNpemUhPT10LnNpemUpcmV0dXJuICExO2Zvcihjb25zdCBpIG9mIGUpaWYoIXQuaGFzKGkpKXJldHVybiAhMTtyZXR1cm4gITB9LHI9dGhpcy5fZGVsZWdhdGVkTGlzdGVuZXJzP3RoaXMuX2RlbGVnYXRlZExpc3RlbmVyc1tlXTp2b2lkIDA7cmV0dXJuIHImJihlPT57Zm9yKGxldCByPTA7cjxlLmxlbmd0aDtyKyspe2NvbnN0IG49ZVtyXTtpZihuLmxpc3RlbmVyPT09aSYmbyhuLmxheWVycyx0KSl7Zm9yKGNvbnN0IGUgaW4gbi5kZWxlZ2F0ZXMpdGhpcy5vZmYoZSxuLmRlbGVnYXRlc1tlXSk7cmV0dXJuIGUuc3BsaWNlKHIsMSksdGhpc319fSkociksdGhpc31xdWVyeVJlbmRlcmVkRmVhdHVyZXModCxpKXtyZXR1cm4gdGhpcy5zdHlsZT8odm9pZCAwIT09aXx8dm9pZCAwPT09dHx8dCBpbnN0YW5jZW9mIGUucG9pbnRHZW9tZXRyeXx8QXJyYXkuaXNBcnJheSh0KXx8KGk9dCx0PXZvaWQgMCksdGhpcy5zdHlsZS5xdWVyeVJlbmRlcmVkRmVhdHVyZXModD10fHxbWzAsMF0sW3RoaXMudHJhbnNmb3JtLndpZHRoLHRoaXMudHJhbnNmb3JtLmhlaWdodF1dLGk9aXx8e30sdGhpcy50cmFuc2Zvcm0pKTpbXX1xdWVyeVNvdXJjZUZlYXR1cmVzKGUsdCl7cmV0dXJuIHRoaXMuc3R5bGUucXVlcnlTb3VyY2VGZWF0dXJlcyhlLHQpfXF1ZXJ5VGVycmFpbkVsZXZhdGlvbih0LGkpe2NvbnN0IG89dGhpcy50cmFuc2Zvcm0uZWxldmF0aW9uO3JldHVybiBvPyhpPWUuZXh0ZW5kKHt9LHtleGFnZ2VyYXRlZDohMH0saSksby5nZXRBdFBvaW50KGUuTWVyY2F0b3JDb29yZGluYXRlLmZyb21MbmdMYXQodCksbnVsbCxpLmV4YWdnZXJhdGVkKSk6bnVsbH1zZXRTdHlsZSh0LGkpe3JldHVybiAhMSE9PShpPWUuZXh0ZW5kKHt9LHtsb2NhbElkZW9ncmFwaEZvbnRGYW1pbHk6dGhpcy5fbG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5LGxvY2FsRm9udEZhbWlseTp0aGlzLl9sb2NhbEZvbnRGYW1pbHl9LGkpKS5kaWZmJiZpLmxvY2FsSWRlb2dyYXBoRm9udEZhbWlseT09PXRoaXMuX2xvY2FsSWRlb2dyYXBoRm9udEZhbWlseSYmaS5sb2NhbEZvbnRGYW1pbHk9PT10aGlzLl9sb2NhbEZvbnRGYW1pbHkmJnRoaXMuc3R5bGUmJnQ/KHRoaXMuX2RpZmZTdHlsZSh0LGkpLHRoaXMpOih0aGlzLl9sb2NhbElkZW9ncmFwaEZvbnRGYW1pbHk9aS5sb2NhbElkZW9ncmFwaEZvbnRGYW1pbHksdGhpcy5fbG9jYWxGb250RmFtaWx5PWkubG9jYWxGb250RmFtaWx5LHRoaXMuX3VwZGF0ZVN0eWxlKHQsaSkpfV9nZXRVSVN0cmluZyhlKXtjb25zdCB0PXRoaXMuX2xvY2FsZVtlXTtpZihudWxsPT10KXRocm93IG5ldyBFcnJvcihgTWlzc2luZyBVSSBzdHJpbmcgJyR7ZX0nYCk7cmV0dXJuIHR9X3VwZGF0ZVN0eWxlKGUsdCl7cmV0dXJuIHRoaXMuc3R5bGUmJih0aGlzLnN0eWxlLnNldEV2ZW50ZWRQYXJlbnQobnVsbCksdGhpcy5zdHlsZS5fcmVtb3ZlKCksdGhpcy5zdHlsZT12b2lkIDApLGUmJih0aGlzLnN0eWxlPW5ldyBlaSh0aGlzLHR8fHt9KSx0aGlzLnN0eWxlLnNldEV2ZW50ZWRQYXJlbnQodGhpcyx7c3R5bGU6dGhpcy5zdHlsZX0pLFwic3RyaW5nXCI9PXR5cGVvZiBlP3RoaXMuc3R5bGUubG9hZFVSTChlKTp0aGlzLnN0eWxlLmxvYWRKU09OKGUpKSx0aGlzLl91cGRhdGVUZXJyYWluKCksdGhpc31fbGF6eUluaXRFbXB0eVN0eWxlKCl7dGhpcy5zdHlsZXx8KHRoaXMuc3R5bGU9bmV3IGVpKHRoaXMse30pLHRoaXMuc3R5bGUuc2V0RXZlbnRlZFBhcmVudCh0aGlzLHtzdHlsZTp0aGlzLnN0eWxlfSksdGhpcy5zdHlsZS5sb2FkRW1wdHkoKSk7fV9kaWZmU3R5bGUodCxpKXtpZihcInN0cmluZ1wiPT10eXBlb2YgdCl7Y29uc3Qgbz10aGlzLl9yZXF1ZXN0TWFuYWdlci5ub3JtYWxpemVTdHlsZVVSTCh0KSxyPXRoaXMuX3JlcXVlc3RNYW5hZ2VyLnRyYW5zZm9ybVJlcXVlc3QobyxlLlJlc291cmNlVHlwZS5TdHlsZSk7ZS5nZXRKU09OKHIsKCh0LG8pPT57dD90aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudCh0KSk6byYmdGhpcy5fdXBkYXRlRGlmZihvLGkpO30pKTt9ZWxzZSBcIm9iamVjdFwiPT10eXBlb2YgdCYmdGhpcy5fdXBkYXRlRGlmZih0LGkpO31fdXBkYXRlRGlmZih0LGkpe3RyeXt0aGlzLnN0eWxlLnNldFN0YXRlKHQpJiZ0aGlzLl91cGRhdGUoITApO31jYXRjaChvKXtlLndhcm5PbmNlKGBVbmFibGUgdG8gcGVyZm9ybSBzdHlsZSBkaWZmOiAke28ubWVzc2FnZXx8by5lcnJvcnx8b30uICBSZWJ1aWxkaW5nIHRoZSBzdHlsZSBmcm9tIHNjcmF0Y2guYCksdGhpcy5fdXBkYXRlU3R5bGUodCxpKTt9fWdldFN0eWxlKCl7aWYodGhpcy5zdHlsZSlyZXR1cm4gdGhpcy5zdHlsZS5zZXJpYWxpemUoKX1pc1N0eWxlTG9hZGVkKCl7cmV0dXJuIHRoaXMuc3R5bGU/dGhpcy5zdHlsZS5sb2FkZWQoKTooZS53YXJuT25jZShcIlRoZXJlIGlzIG5vIHN0eWxlIGFkZGVkIHRvIHRoZSBtYXAuXCIpLCExKX1hZGRTb3VyY2UoZSx0KXtyZXR1cm4gdGhpcy5fbGF6eUluaXRFbXB0eVN0eWxlKCksdGhpcy5zdHlsZS5hZGRTb3VyY2UoZSx0KSx0aGlzLl91cGRhdGUoITApfWlzU291cmNlTG9hZGVkKGUpe3JldHVybiAhIXRoaXMuc3R5bGUmJnRoaXMuc3R5bGUuX2lzU291cmNlQ2FjaGVMb2FkZWQoZSl9YXJlVGlsZXNMb2FkZWQoKXtjb25zdCBlPXRoaXMuc3R5bGUmJnRoaXMuc3R5bGUuX3NvdXJjZUNhY2hlcztmb3IoY29uc3QgdCBpbiBlKXtjb25zdCBpPWVbdF0uX3RpbGVzO2Zvcihjb25zdCBlIGluIGkpe2NvbnN0IHQ9aVtlXTtpZihcImxvYWRlZFwiIT09dC5zdGF0ZSYmXCJlcnJvcmVkXCIhPT10LnN0YXRlKXJldHVybiAhMX19cmV0dXJuICEwfWFkZFNvdXJjZVR5cGUoZSx0LGkpe3RoaXMuX2xhenlJbml0RW1wdHlTdHlsZSgpLHRoaXMuc3R5bGUuYWRkU291cmNlVHlwZShlLHQsaSk7fXJlbW92ZVNvdXJjZShlKXtyZXR1cm4gdGhpcy5zdHlsZS5yZW1vdmVTb3VyY2UoZSksdGhpcy5fdXBkYXRlVGVycmFpbigpLHRoaXMuX3VwZGF0ZSghMCl9Z2V0U291cmNlKGUpe3JldHVybiB0aGlzLnN0eWxlLmdldFNvdXJjZShlKX1hZGRJbWFnZSh0LGkse3BpeGVsUmF0aW86bz0xLHNkZjpyPSExLHN0cmV0Y2hYOm4sc3RyZXRjaFk6YSxjb250ZW50OnN9PXt9KXtpZih0aGlzLl9sYXp5SW5pdEVtcHR5U3R5bGUoKSxpIGluc3RhbmNlb2YgZS53aW5kb3cuSFRNTEltYWdlRWxlbWVudHx8ZS53aW5kb3cuSW1hZ2VCaXRtYXAmJmkgaW5zdGFuY2VvZiBlLndpbmRvdy5JbWFnZUJpdG1hcCl7Y29uc3R7d2lkdGg6bCxoZWlnaHQ6YyxkYXRhOmh9PWUuZXhwb3J0ZWQuZ2V0SW1hZ2VEYXRhKGkpO3RoaXMuc3R5bGUuYWRkSW1hZ2UodCx7ZGF0YTpuZXcgZS5SR0JBSW1hZ2Uoe3dpZHRoOmwsaGVpZ2h0OmN9LGgpLHBpeGVsUmF0aW86byxzdHJldGNoWDpuLHN0cmV0Y2hZOmEsY29udGVudDpzLHNkZjpyLHZlcnNpb246MH0pO31lbHNlIGlmKHZvaWQgMD09PWkud2lkdGh8fHZvaWQgMD09PWkuaGVpZ2h0KXRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihcIkludmFsaWQgYXJndW1lbnRzIHRvIG1hcC5hZGRJbWFnZSgpLiBUaGUgc2Vjb25kIGFyZ3VtZW50IG11c3QgYmUgYW4gYEhUTUxJbWFnZUVsZW1lbnRgLCBgSW1hZ2VEYXRhYCwgYEltYWdlQml0bWFwYCwgb3Igb2JqZWN0IHdpdGggYHdpZHRoYCwgYGhlaWdodGAsIGFuZCBgZGF0YWAgcHJvcGVydGllcyB3aXRoIHRoZSBzYW1lIGZvcm1hdCBhcyBgSW1hZ2VEYXRhYFwiKSkpO2Vsc2Uge2NvbnN0e3dpZHRoOmwsaGVpZ2h0OmN9PWksaD1pO3RoaXMuc3R5bGUuYWRkSW1hZ2UodCx7ZGF0YTpuZXcgZS5SR0JBSW1hZ2Uoe3dpZHRoOmwsaGVpZ2h0OmN9LG5ldyBVaW50OEFycmF5KGguZGF0YSkpLHBpeGVsUmF0aW86byxzdHJldGNoWDpuLHN0cmV0Y2hZOmEsY29udGVudDpzLHNkZjpyLHZlcnNpb246MCx1c2VySW1hZ2U6aH0pLGgub25BZGQmJmgub25BZGQodGhpcyx0KTt9fXVwZGF0ZUltYWdlKHQsaSl7Y29uc3Qgbz10aGlzLnN0eWxlLmdldEltYWdlKHQpO2lmKCFvKXJldHVybiB2b2lkIHRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihcIlRoZSBtYXAgaGFzIG5vIGltYWdlIHdpdGggdGhhdCBpZC4gSWYgeW91IGFyZSBhZGRpbmcgYSBuZXcgaW1hZ2UgdXNlIGBtYXAuYWRkSW1hZ2UoLi4uKWAgaW5zdGVhZC5cIikpKTtjb25zdCByPWkgaW5zdGFuY2VvZiBlLndpbmRvdy5IVE1MSW1hZ2VFbGVtZW50fHxlLndpbmRvdy5JbWFnZUJpdG1hcCYmaSBpbnN0YW5jZW9mIGUud2luZG93LkltYWdlQml0bWFwP2UuZXhwb3J0ZWQuZ2V0SW1hZ2VEYXRhKGkpOmkse3dpZHRoOm4saGVpZ2h0OmF9PXI7dm9pZCAwIT09biYmdm9pZCAwIT09YT9uPT09by5kYXRhLndpZHRoJiZhPT09by5kYXRhLmhlaWdodD8oby5kYXRhLnJlcGxhY2Uoci5kYXRhLCEoaSBpbnN0YW5jZW9mIGUud2luZG93LkhUTUxJbWFnZUVsZW1lbnR8fGUud2luZG93LkltYWdlQml0bWFwJiZpIGluc3RhbmNlb2YgZS53aW5kb3cuSW1hZ2VCaXRtYXApKSx0aGlzLnN0eWxlLnVwZGF0ZUltYWdlKHQsbykpOnRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihgVGhlIHdpZHRoIGFuZCBoZWlnaHQgb2YgdGhlIHVwZGF0ZWQgaW1hZ2UgKCR7bn0sICR7YX0pXFxuICAgICAgICAgICAgICAgIG11c3QgYmUgdGhhdCBzYW1lIGFzIHRoZSBwcmV2aW91cyB2ZXJzaW9uIG9mIHRoZSBpbWFnZVxcbiAgICAgICAgICAgICAgICAoJHtvLmRhdGEud2lkdGh9LCAke28uZGF0YS5oZWlnaHR9KWApKSk6dGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IEVycm9yKFwiSW52YWxpZCBhcmd1bWVudHMgdG8gbWFwLnVwZGF0ZUltYWdlKCkuIFRoZSBzZWNvbmQgYXJndW1lbnQgbXVzdCBiZSBhbiBgSFRNTEltYWdlRWxlbWVudGAsIGBJbWFnZURhdGFgLCBgSW1hZ2VCaXRtYXBgLCBvciBvYmplY3Qgd2l0aCBgd2lkdGhgLCBgaGVpZ2h0YCwgYW5kIGBkYXRhYCBwcm9wZXJ0aWVzIHdpdGggdGhlIHNhbWUgZm9ybWF0IGFzIGBJbWFnZURhdGFgXCIpKSk7fWhhc0ltYWdlKHQpe3JldHVybiB0PyEhdGhpcy5zdHlsZS5nZXRJbWFnZSh0KToodGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IEVycm9yKFwiTWlzc2luZyByZXF1aXJlZCBpbWFnZSBpZFwiKSkpLCExKX1yZW1vdmVJbWFnZShlKXt0aGlzLnN0eWxlLnJlbW92ZUltYWdlKGUpO31sb2FkSW1hZ2UodCxpKXtlLmdldEltYWdlKHRoaXMuX3JlcXVlc3RNYW5hZ2VyLnRyYW5zZm9ybVJlcXVlc3QodCxlLlJlc291cmNlVHlwZS5JbWFnZSksKCh0LG8pPT57aSh0LG8gaW5zdGFuY2VvZiBlLndpbmRvdy5IVE1MSW1hZ2VFbGVtZW50P2UuZXhwb3J0ZWQuZ2V0SW1hZ2VEYXRhKG8pOm8pO30pKTt9bGlzdEltYWdlcygpe3JldHVybiB0aGlzLnN0eWxlLmxpc3RJbWFnZXMoKX1hZGRMYXllcihlLHQpe3JldHVybiB0aGlzLl9sYXp5SW5pdEVtcHR5U3R5bGUoKSx0aGlzLnN0eWxlLmFkZExheWVyKGUsdCksdGhpcy5fdXBkYXRlKCEwKX1tb3ZlTGF5ZXIoZSx0KXtyZXR1cm4gdGhpcy5zdHlsZS5tb3ZlTGF5ZXIoZSx0KSx0aGlzLl91cGRhdGUoITApfXJlbW92ZUxheWVyKGUpe3JldHVybiB0aGlzLnN0eWxlLnJlbW92ZUxheWVyKGUpLHRoaXMuX3VwZGF0ZSghMCl9Z2V0TGF5ZXIoZSl7cmV0dXJuIHRoaXMuc3R5bGUuZ2V0TGF5ZXIoZSl9c2V0TGF5ZXJab29tUmFuZ2UoZSx0LGkpe3JldHVybiB0aGlzLnN0eWxlLnNldExheWVyWm9vbVJhbmdlKGUsdCxpKSx0aGlzLl91cGRhdGUoITApfXNldEZpbHRlcihlLHQsaT17fSl7cmV0dXJuIHRoaXMuc3R5bGUuc2V0RmlsdGVyKGUsdCxpKSx0aGlzLl91cGRhdGUoITApfWdldEZpbHRlcihlKXtyZXR1cm4gdGhpcy5zdHlsZS5nZXRGaWx0ZXIoZSl9c2V0UGFpbnRQcm9wZXJ0eShlLHQsaSxvPXt9KXtyZXR1cm4gdGhpcy5zdHlsZS5zZXRQYWludFByb3BlcnR5KGUsdCxpLG8pLHRoaXMuX3VwZGF0ZSghMCl9Z2V0UGFpbnRQcm9wZXJ0eShlLHQpe3JldHVybiB0aGlzLnN0eWxlLmdldFBhaW50UHJvcGVydHkoZSx0KX1zZXRMYXlvdXRQcm9wZXJ0eShlLHQsaSxvPXt9KXtyZXR1cm4gdGhpcy5zdHlsZS5zZXRMYXlvdXRQcm9wZXJ0eShlLHQsaSxvKSx0aGlzLl91cGRhdGUoITApfWdldExheW91dFByb3BlcnR5KGUsdCl7cmV0dXJuIHRoaXMuc3R5bGUuZ2V0TGF5b3V0UHJvcGVydHkoZSx0KX1zZXRMaWdodChlLHQ9e30pe3JldHVybiB0aGlzLl9sYXp5SW5pdEVtcHR5U3R5bGUoKSx0aGlzLnN0eWxlLnNldExpZ2h0KGUsdCksdGhpcy5fdXBkYXRlKCEwKX1nZXRMaWdodCgpe3JldHVybiB0aGlzLnN0eWxlLmdldExpZ2h0KCl9c2V0VGVycmFpbihlKXtyZXR1cm4gdGhpcy5fbGF6eUluaXRFbXB0eVN0eWxlKCksIWUmJnRoaXMudHJhbnNmb3JtLnByb2plY3Rpb24ucmVxdWlyZXNEcmFwaW5nP3RoaXMuc3R5bGUuc2V0VGVycmFpbkZvckRyYXBpbmcoKTp0aGlzLnN0eWxlLnNldFRlcnJhaW4oZSksdGhpcy5fYXZlcmFnZUVsZXZhdGlvbkxhc3RTYW1wbGVkQXQ9LTEvMCx0aGlzLl91cGRhdGUoITApfWdldFRlcnJhaW4oKXtyZXR1cm4gdGhpcy5zdHlsZT90aGlzLnN0eWxlLmdldFRlcnJhaW4oKTpudWxsfXNldEZvZyhlKXtyZXR1cm4gdGhpcy5fbGF6eUluaXRFbXB0eVN0eWxlKCksdGhpcy5zdHlsZS5zZXRGb2coZSksdGhpcy5fdXBkYXRlKCEwKX1nZXRGb2coKXtyZXR1cm4gdGhpcy5zdHlsZT90aGlzLnN0eWxlLmdldEZvZygpOm51bGx9X3F1ZXJ5Rm9nT3BhY2l0eSh0KXtyZXR1cm4gdGhpcy5zdHlsZSYmdGhpcy5zdHlsZS5mb2c/dGhpcy5zdHlsZS5mb2cuZ2V0T3BhY2l0eUF0TGF0TG5nKGUuTG5nTGF0LmNvbnZlcnQodCksdGhpcy50cmFuc2Zvcm0pOjB9c2V0RmVhdHVyZVN0YXRlKGUsdCl7cmV0dXJuIHRoaXMuc3R5bGUuc2V0RmVhdHVyZVN0YXRlKGUsdCksdGhpcy5fdXBkYXRlKCl9cmVtb3ZlRmVhdHVyZVN0YXRlKGUsdCl7cmV0dXJuIHRoaXMuc3R5bGUucmVtb3ZlRmVhdHVyZVN0YXRlKGUsdCksdGhpcy5fdXBkYXRlKCl9Z2V0RmVhdHVyZVN0YXRlKGUpe3JldHVybiB0aGlzLnN0eWxlLmdldEZlYXR1cmVTdGF0ZShlKX1fdXBkYXRlQ29udGFpbmVyRGltZW5zaW9ucygpe2lmKCF0aGlzLl9jb250YWluZXIpcmV0dXJuO2NvbnN0IHQ9dGhpcy5fY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRofHw0MDAsaT10aGlzLl9jb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0fHwzMDA7bGV0IG8scixuLGE9dGhpcy5fY29udGFpbmVyO2Zvcig7YSYmKCFyfHwhbik7KXtjb25zdCB0PWUud2luZG93LmdldENvbXB1dGVkU3R5bGUoYSkudHJhbnNmb3JtO3QmJlwibm9uZVwiIT09dCYmKG89dC5tYXRjaCgvbWF0cml4LipcXCgoLispXFwpLylbMV0uc3BsaXQoXCIsIFwiKSxvWzBdJiZcIjBcIiE9PW9bMF0mJlwiMVwiIT09b1swXSYmKHI9b1swXSksb1szXSYmXCIwXCIhPT1vWzNdJiZcIjFcIiE9PW9bM10mJihuPW9bM10pKSxhPWEucGFyZW50RWxlbWVudDt9dGhpcy5fY29udGFpbmVyV2lkdGg9cj9NYXRoLmFicyh0L3IpOnQsdGhpcy5fY29udGFpbmVySGVpZ2h0PW4/TWF0aC5hYnMoaS9uKTppO31fZGV0ZWN0TWlzc2luZ0NTUygpe1wicmdiKDI1MCwgMTI4LCAxMTQpXCIhPT1lLndpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRoaXMuX21pc3NpbmdDU1NDYW5hcnkpLmdldFByb3BlcnR5VmFsdWUoXCJiYWNrZ3JvdW5kLWNvbG9yXCIpJiZlLndhcm5PbmNlKFwiVGhpcyBwYWdlIGFwcGVhcnMgdG8gYmUgbWlzc2luZyBDU1MgZGVjbGFyYXRpb25zIGZvciBNYXBib3ggR0wgSlMsIHdoaWNoIG1heSBjYXVzZSB0aGUgbWFwIHRvIGRpc3BsYXkgaW5jb3JyZWN0bHkuIFBsZWFzZSBlbnN1cmUgeW91ciBwYWdlIGluY2x1ZGVzIG1hcGJveC1nbC5jc3MsIGFzIGRlc2NyaWJlZCBpbiBodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9hcGkvLlwiKTt9X3NldHVwQ29udGFpbmVyKCl7Y29uc3QgZT10aGlzLl9jb250YWluZXI7ZS5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtbWFwXCIpLCh0aGlzLl9taXNzaW5nQ1NTQ2FuYXJ5PW4oXCJkaXZcIixcIm1hcGJveGdsLWNhbmFyeVwiLGUpKS5zdHlsZS52aXNpYmlsaXR5PVwiaGlkZGVuXCIsdGhpcy5fZGV0ZWN0TWlzc2luZ0NTUygpO2NvbnN0IHQ9dGhpcy5fY2FudmFzQ29udGFpbmVyPW4oXCJkaXZcIixcIm1hcGJveGdsLWNhbnZhcy1jb250YWluZXJcIixlKTt0aGlzLl9pbnRlcmFjdGl2ZSYmdC5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtaW50ZXJhY3RpdmVcIiksdGhpcy5fY2FudmFzPW4oXCJjYW52YXNcIixcIm1hcGJveGdsLWNhbnZhc1wiLHQpLHRoaXMuX2NhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwid2ViZ2xjb250ZXh0bG9zdFwiLHRoaXMuX2NvbnRleHRMb3N0LCExKSx0aGlzLl9jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcIndlYmdsY29udGV4dHJlc3RvcmVkXCIsdGhpcy5fY29udGV4dFJlc3RvcmVkLCExKSx0aGlzLl9jYW52YXMuc2V0QXR0cmlidXRlKFwidGFiaW5kZXhcIixcIjBcIiksdGhpcy5fY2FudmFzLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIix0aGlzLl9nZXRVSVN0cmluZyhcIk1hcC5UaXRsZVwiKSksdGhpcy5fY2FudmFzLnNldEF0dHJpYnV0ZShcInJvbGVcIixcInJlZ2lvblwiKSx0aGlzLl91cGRhdGVDb250YWluZXJEaW1lbnNpb25zKCksdGhpcy5fcmVzaXplQ2FudmFzKHRoaXMuX2NvbnRhaW5lcldpZHRoLHRoaXMuX2NvbnRhaW5lckhlaWdodCk7Y29uc3QgaT10aGlzLl9jb250cm9sQ29udGFpbmVyPW4oXCJkaXZcIixcIm1hcGJveGdsLWNvbnRyb2wtY29udGFpbmVyXCIsZSksbz10aGlzLl9jb250cm9sUG9zaXRpb25zPXt9O1tcInRvcC1sZWZ0XCIsXCJ0b3AtcmlnaHRcIixcImJvdHRvbS1sZWZ0XCIsXCJib3R0b20tcmlnaHRcIl0uZm9yRWFjaCgoZT0+e29bZV09bihcImRpdlwiLGBtYXBib3hnbC1jdHJsLSR7ZX1gLGkpO30pKSx0aGlzLl9jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLHRoaXMuX29uTWFwU2Nyb2xsLCExKTt9X3Jlc2l6ZUNhbnZhcyh0LGkpe2NvbnN0IG89ZS5leHBvcnRlZC5kZXZpY2VQaXhlbFJhdGlvfHwxO3RoaXMuX2NhbnZhcy53aWR0aD1vKk1hdGguY2VpbCh0KSx0aGlzLl9jYW52YXMuaGVpZ2h0PW8qTWF0aC5jZWlsKGkpLHRoaXMuX2NhbnZhcy5zdHlsZS53aWR0aD1gJHt0fXB4YCx0aGlzLl9jYW52YXMuc3R5bGUuaGVpZ2h0PWAke2l9cHhgO31fYWRkTWFya2VyKGUpe3RoaXMuX21hcmtlcnMucHVzaChlKTt9X3JlbW92ZU1hcmtlcihlKXtjb25zdCB0PXRoaXMuX21hcmtlcnMuaW5kZXhPZihlKTstMSE9PXQmJnRoaXMuX21hcmtlcnMuc3BsaWNlKHQsMSk7fV9zZXR1cFBhaW50ZXIoKXtjb25zdCB0PWUuZXh0ZW5kKHt9LGkud2ViR0xDb250ZXh0QXR0cmlidXRlcyx7ZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdDp0aGlzLl9mYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0LHByZXNlcnZlRHJhd2luZ0J1ZmZlcjp0aGlzLl9wcmVzZXJ2ZURyYXdpbmdCdWZmZXIsYW50aWFsaWFzOnRoaXMuX2FudGlhbGlhc3x8ITF9KSxvPXRoaXMuX2NhbnZhcy5nZXRDb250ZXh0KFwid2ViZ2xcIix0KXx8dGhpcy5fY2FudmFzLmdldENvbnRleHQoXCJleHBlcmltZW50YWwtd2ViZ2xcIix0KTtvPyhlLnN0b3JlQXV0aFN0YXRlKG8sITApLHRoaXMucGFpbnRlcj1uZXcgRm8obyx0aGlzLnRyYW5zZm9ybSksdGhpcy5vbihcImRhdGFcIiwoZT0+e1wic291cmNlXCI9PT1lLmRhdGFUeXBlJiZ0aGlzLnBhaW50ZXIuc2V0VGlsZUxvYWRlZEZsYWcoITApO30pKSxlLmV4cG9ydGVkJDEudGVzdFN1cHBvcnQobykpOnRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihcIkZhaWxlZCB0byBpbml0aWFsaXplIFdlYkdMXCIpKSk7fV9jb250ZXh0TG9zdCh0KXt0LnByZXZlbnREZWZhdWx0KCksdGhpcy5fZnJhbWUmJih0aGlzLl9mcmFtZS5jYW5jZWwoKSx0aGlzLl9mcmFtZT1udWxsKSx0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJ3ZWJnbGNvbnRleHRsb3N0XCIse29yaWdpbmFsRXZlbnQ6dH0pKTt9X2NvbnRleHRSZXN0b3JlZCh0KXt0aGlzLl9zZXR1cFBhaW50ZXIoKSx0aGlzLnJlc2l6ZSgpLHRoaXMuX3VwZGF0ZSgpLHRoaXMuZmlyZShuZXcgZS5FdmVudChcIndlYmdsY29udGV4dHJlc3RvcmVkXCIse29yaWdpbmFsRXZlbnQ6dH0pKTt9X29uTWFwU2Nyb2xsKGUpe2lmKGUudGFyZ2V0PT09dGhpcy5fY29udGFpbmVyKXJldHVybiB0aGlzLl9jb250YWluZXIuc2Nyb2xsVG9wPTAsdGhpcy5fY29udGFpbmVyLnNjcm9sbExlZnQ9MCwhMX1sb2FkZWQoKXtyZXR1cm4gIXRoaXMuX3N0eWxlRGlydHkmJiF0aGlzLl9zb3VyY2VzRGlydHkmJiEhdGhpcy5zdHlsZSYmdGhpcy5zdHlsZS5sb2FkZWQoKX1fdXBkYXRlKGUpe3JldHVybiB0aGlzLnN0eWxlPyh0aGlzLl9zdHlsZURpcnR5PXRoaXMuX3N0eWxlRGlydHl8fGUsdGhpcy5fc291cmNlc0RpcnR5PSEwLHRoaXMudHJpZ2dlclJlcGFpbnQoKSx0aGlzKTp0aGlzfV9yZXF1ZXN0UmVuZGVyRnJhbWUoZSl7cmV0dXJuIHRoaXMuX3VwZGF0ZSgpLHRoaXMuX3JlbmRlclRhc2tRdWV1ZS5hZGQoZSl9X2NhbmNlbFJlbmRlckZyYW1lKGUpe3RoaXMuX3JlbmRlclRhc2tRdWV1ZS5yZW1vdmUoZSk7fV9yZXF1ZXN0RG9tVGFzayhlKXshdGhpcy5sb2FkZWQoKXx8dGhpcy5sb2FkZWQoKSYmIXRoaXMuaXNNb3ZpbmcoKT9lKCk6dGhpcy5fZG9tUmVuZGVyVGFza1F1ZXVlLmFkZChlKTt9X3JlbmRlcih0KXtsZXQgaTtjb25zdCBvPXRoaXMucGFpbnRlci5jb250ZXh0LmV4dFRpbWVyUXVlcnkscj1lLmV4cG9ydGVkLm5vdygpO2lmKHRoaXMubGlzdGVucyhcImdwdS10aW1pbmctZnJhbWVcIikmJihpPW8uY3JlYXRlUXVlcnlFWFQoKSxvLmJlZ2luUXVlcnlFWFQoby5USU1FX0VMQVBTRURfRVhULGkpKSx0aGlzLnBhaW50ZXIuY29udGV4dC5zZXREaXJ0eSgpLHRoaXMucGFpbnRlci5zZXRCYXNlU3RhdGUoKSx0aGlzLl9yZW5kZXJUYXNrUXVldWUucnVuKHQpLHRoaXMuX2RvbVJlbmRlclRhc2tRdWV1ZS5ydW4odCksdGhpcy5fcmVtb3ZlZClyZXR1cm47dGhpcy5fdXBkYXRlUHJvamVjdGlvblRyYW5zaXRpb24oKTtsZXQgbj0hMTtjb25zdCBhPXRoaXMuX2lzSW5pdGlhbExvYWQ/MDp0aGlzLl9mYWRlRHVyYXRpb247aWYodGhpcy5zdHlsZSYmdGhpcy5fc3R5bGVEaXJ0eSl7dGhpcy5fc3R5bGVEaXJ0eT0hMTtjb25zdCB0PXRoaXMudHJhbnNmb3JtLnpvb20saT10aGlzLnRyYW5zZm9ybS5waXRjaCxvPWUuZXhwb3J0ZWQubm93KCk7dGhpcy5zdHlsZS56b29tSGlzdG9yeS51cGRhdGUodCxvKTtjb25zdCByPW5ldyBlLkV2YWx1YXRpb25QYXJhbWV0ZXJzKHQse25vdzpvLGZhZGVEdXJhdGlvbjphLHBpdGNoOmksem9vbUhpc3Rvcnk6dGhpcy5zdHlsZS56b29tSGlzdG9yeSx0cmFuc2l0aW9uOnRoaXMuc3R5bGUuZ2V0VHJhbnNpdGlvbigpfSkscz1yLmNyb3NzRmFkaW5nRmFjdG9yKCk7MT09PXMmJnM9PT10aGlzLl9jcm9zc0ZhZGluZ0ZhY3Rvcnx8KG49ITAsdGhpcy5fY3Jvc3NGYWRpbmdGYWN0b3I9cyksdGhpcy5zdHlsZS51cGRhdGUocik7fXRoaXMuc3R5bGUmJnRoaXMuc3R5bGUuZm9nJiZ0aGlzLnN0eWxlLmZvZy5oYXNUcmFuc2l0aW9uKCkmJih0aGlzLnN0eWxlLl9tYXJrZXJzTmVlZFVwZGF0ZT0hMCx0aGlzLl9zb3VyY2VzRGlydHk9ITApO2xldCBzPSExO2lmKHRoaXMuc3R5bGUmJnRoaXMuX3NvdXJjZXNEaXJ0eT8odGhpcy5fc291cmNlc0RpcnR5PSExLHRoaXMucGFpbnRlci5fdXBkYXRlRm9nKHRoaXMuc3R5bGUpLHRoaXMuX3VwZGF0ZVRlcnJhaW4oKSxzPXRoaXMuX3VwZGF0ZUF2ZXJhZ2VFbGV2YXRpb24ociksdGhpcy5zdHlsZS5fdXBkYXRlU291cmNlcyh0aGlzLnRyYW5zZm9ybSksdGhpcy5fZm9yY2VNYXJrZXJVcGRhdGUoKSk6cz10aGlzLl91cGRhdGVBdmVyYWdlRWxldmF0aW9uKHIpLHRoaXMuX3BsYWNlbWVudERpcnR5PXRoaXMuc3R5bGUmJnRoaXMuc3R5bGUuX3VwZGF0ZVBsYWNlbWVudCh0aGlzLnBhaW50ZXIudHJhbnNmb3JtLHRoaXMuc2hvd0NvbGxpc2lvbkJveGVzLGEsdGhpcy5fY3Jvc3NTb3VyY2VDb2xsaXNpb25zKSx0aGlzLnN0eWxlJiZ0aGlzLnBhaW50ZXIucmVuZGVyKHRoaXMuc3R5bGUse3Nob3dUaWxlQm91bmRhcmllczp0aGlzLnNob3dUaWxlQm91bmRhcmllcyxzaG93VGVycmFpbldpcmVmcmFtZTp0aGlzLnNob3dUZXJyYWluV2lyZWZyYW1lLHNob3dPdmVyZHJhd0luc3BlY3Rvcjp0aGlzLl9zaG93T3ZlcmRyYXdJbnNwZWN0b3Isc2hvd1F1ZXJ5R2VvbWV0cnk6ISF0aGlzLl9zaG93UXVlcnlHZW9tZXRyeSxyb3RhdGluZzp0aGlzLmlzUm90YXRpbmcoKSx6b29taW5nOnRoaXMuaXNab29taW5nKCksbW92aW5nOnRoaXMuaXNNb3ZpbmcoKSxmYWRlRHVyYXRpb246YSxpc0luaXRpYWxMb2FkOnRoaXMuX2lzSW5pdGlhbExvYWQsc2hvd1BhZGRpbmc6dGhpcy5zaG93UGFkZGluZyxncHVUaW1pbmc6ISF0aGlzLmxpc3RlbnMoXCJncHUtdGltaW5nLWxheWVyXCIpLGdwdVRpbWluZ0RlZmVycmVkUmVuZGVyOiEhdGhpcy5saXN0ZW5zKFwiZ3B1LXRpbWluZy1kZWZlcnJlZC1yZW5kZXJcIiksc3BlZWRJbmRleFRpbWluZzp0aGlzLnNwZWVkSW5kZXhUaW1pbmd9KSx0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJyZW5kZXJcIikpLHRoaXMubG9hZGVkKCkmJiF0aGlzLl9sb2FkZWQmJih0aGlzLl9sb2FkZWQ9ITAsdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwibG9hZFwiKSkpLHRoaXMuc3R5bGUmJih0aGlzLnN0eWxlLmhhc1RyYW5zaXRpb25zKCl8fG4pJiYodGhpcy5fc3R5bGVEaXJ0eT0hMCksdGhpcy5zdHlsZSYmIXRoaXMuX3BsYWNlbWVudERpcnR5JiZ0aGlzLnN0eWxlLl9yZWxlYXNlU3ltYm9sRmFkZVRpbGVzKCksaSl7Y29uc3QgdD1lLmV4cG9ydGVkLm5vdygpLXI7by5lbmRRdWVyeUVYVChvLlRJTUVfRUxBUFNFRF9FWFQsaSksc2V0VGltZW91dCgoKCk9Pntjb25zdCBuPW8uZ2V0UXVlcnlPYmplY3RFWFQoaSxvLlFVRVJZX1JFU1VMVF9FWFQpLzFlNjtvLmRlbGV0ZVF1ZXJ5RVhUKGkpLHRoaXMuZmlyZShuZXcgZS5FdmVudChcImdwdS10aW1pbmctZnJhbWVcIix7Y3B1VGltZTp0LGdwdVRpbWU6bn0pKSxlLndpbmRvdy5wZXJmb3JtYW5jZS5tYXJrKFwiZnJhbWUtZ3B1XCIse3N0YXJ0VGltZTpyLGRldGFpbDp7Z3B1VGltZTpufX0pO30pLDUwKTt9aWYodGhpcy5saXN0ZW5zKFwiZ3B1LXRpbWluZy1sYXllclwiKSl7Y29uc3QgdD10aGlzLnBhaW50ZXIuY29sbGVjdEdwdVRpbWVycygpO3NldFRpbWVvdXQoKCgpPT57Y29uc3QgaT10aGlzLnBhaW50ZXIucXVlcnlHcHVUaW1lcnModCk7dGhpcy5maXJlKG5ldyBlLkV2ZW50KFwiZ3B1LXRpbWluZy1sYXllclwiLHtsYXllclRpbWVzOml9KSk7fSksNTApO31pZih0aGlzLmxpc3RlbnMoXCJncHUtdGltaW5nLWRlZmVycmVkLXJlbmRlclwiKSl7Y29uc3QgdD10aGlzLnBhaW50ZXIuY29sbGVjdERlZmVycmVkUmVuZGVyR3B1UXVlcmllcygpO3NldFRpbWVvdXQoKCgpPT57Y29uc3QgaT10aGlzLnBhaW50ZXIucXVlcnlHcHVUaW1lRGVmZXJyZWRSZW5kZXIodCk7dGhpcy5maXJlKG5ldyBlLkV2ZW50KFwiZ3B1LXRpbWluZy1kZWZlcnJlZC1yZW5kZXJcIix7Z3B1VGltZTppfSkpO30pLDUwKTt9Y29uc3QgbD10aGlzLl9zb3VyY2VzRGlydHl8fHRoaXMuX3N0eWxlRGlydHl8fHRoaXMuX3BsYWNlbWVudERpcnR5fHxzO2lmKGx8fHRoaXMuX3JlcGFpbnQpdGhpcy50cmlnZ2VyUmVwYWludCgpO2Vsc2Uge2NvbnN0IHQ9IXRoaXMuaXNNb3ZpbmcoKSYmdGhpcy5sb2FkZWQoKTtpZih0JiYocz10aGlzLl91cGRhdGVBdmVyYWdlRWxldmF0aW9uKHIsITApKSxzKXRoaXMudHJpZ2dlclJlcGFpbnQoKTtlbHNlIGlmKHRoaXMuX3RyaWdnZXJGcmFtZSghMSksdCYmKHRoaXMuZmlyZShuZXcgZS5FdmVudChcImlkbGVcIikpLHRoaXMuX2lzSW5pdGlhbExvYWQ9ITEsdGhpcy5zcGVlZEluZGV4VGltaW5nKSl7Y29uc3QgdD10aGlzLl9jYWxjdWxhdGVTcGVlZEluZGV4KCk7dGhpcy5maXJlKG5ldyBlLkV2ZW50KFwic3BlZWRpbmRleGNvbXBsZXRlZFwiLHtzcGVlZEluZGV4OnR9KSksdGhpcy5zcGVlZEluZGV4VGltaW5nPSExO319IXRoaXMuX2xvYWRlZHx8dGhpcy5fZnVsbHlMb2FkZWR8fGx8fCh0aGlzLl9mdWxseUxvYWRlZD0hMCx0aGlzLl9hdXRoZW50aWNhdGUoKSk7fV9mb3JjZU1hcmtlclVwZGF0ZSgpe2Zvcihjb25zdCBlIG9mIHRoaXMuX21hcmtlcnMpZS5fdXBkYXRlKCk7fV91cGRhdGVBdmVyYWdlRWxldmF0aW9uKGUsdD0hMSl7Y29uc3QgaT1lPT4odGhpcy50cmFuc2Zvcm0uYXZlcmFnZUVsZXZhdGlvbj1lLHRoaXMuX3VwZGF0ZSghMSksITApO2lmKCF0aGlzLnBhaW50ZXIuYXZlcmFnZUVsZXZhdGlvbk5lZWRzRWFzaW5nKCkpcmV0dXJuIDAhPT10aGlzLnRyYW5zZm9ybS5hdmVyYWdlRWxldmF0aW9uJiZpKDApO2lmKCh0fHxlLXRoaXMuX2F2ZXJhZ2VFbGV2YXRpb25MYXN0U2FtcGxlZEF0PjUwMCkmJiF0aGlzLl9hdmVyYWdlRWxldmF0aW9uLmlzRWFzaW5nKGUpKXtjb25zdCB0PXRoaXMudHJhbnNmb3JtLmF2ZXJhZ2VFbGV2YXRpb247bGV0IG89dGhpcy50cmFuc2Zvcm0uc2FtcGxlQXZlcmFnZUVsZXZhdGlvbigpLHI9ITE7dGhpcy50cmFuc2Zvcm0uZWxldmF0aW9uJiYocj10aGlzLnRyYW5zZm9ybS5lbGV2YXRpb24uZXhhZ2dlcmF0aW9uKCkhPT10aGlzLl9hdmVyYWdlRWxldmF0aW9uRXhhZ2dlcmF0aW9uLHRoaXMuX2F2ZXJhZ2VFbGV2YXRpb25FeGFnZ2VyYXRpb249dGhpcy50cmFuc2Zvcm0uZWxldmF0aW9uLmV4YWdnZXJhdGlvbigpKSxpc05hTihvKT9vPTA6dGhpcy5fYXZlcmFnZUVsZXZhdGlvbkxhc3RTYW1wbGVkQXQ9ZTtjb25zdCBuPU1hdGguYWJzKHQtbyk7aWYobj4xKXtpZih0aGlzLl9pc0luaXRpYWxMb2FkfHxyKXJldHVybiB0aGlzLl9hdmVyYWdlRWxldmF0aW9uLmp1bXBUbyhvKSxpKG8pO3RoaXMuX2F2ZXJhZ2VFbGV2YXRpb24uZWFzZVRvKG8sZSwzMDApO31lbHNlIGlmKG4+MWUtNClyZXR1cm4gdGhpcy5fYXZlcmFnZUVsZXZhdGlvbi5qdW1wVG8obyksaShvKX1yZXR1cm4gISF0aGlzLl9hdmVyYWdlRWxldmF0aW9uLmlzRWFzaW5nKGUpJiZpKHRoaXMuX2F2ZXJhZ2VFbGV2YXRpb24uZ2V0VmFsdWUoZSkpfV9hdXRoZW50aWNhdGUoKXtlLmdldE1hcFNlc3Npb25BUEkodGhpcy5fZ2V0TWFwSWQoKSx0aGlzLl9yZXF1ZXN0TWFuYWdlci5fc2t1VG9rZW4sdGhpcy5fcmVxdWVzdE1hbmFnZXIuX2N1c3RvbUFjY2Vzc1Rva2VuLCh0PT57aWYodCYmKHQubWVzc2FnZT09PWUuQVVUSF9FUlJfTVNHfHw0MDE9PT10LnN0YXR1cykpe2NvbnN0IHQ9dGhpcy5wYWludGVyLmNvbnRleHQuZ2w7ZS5zdG9yZUF1dGhTdGF0ZSh0LCExKSx0aGlzLl9sb2dvQ29udHJvbCBpbnN0YW5jZW9mIEpyJiZ0aGlzLl9sb2dvQ29udHJvbC5fdXBkYXRlTG9nbygpLHQmJnQuY2xlYXIodC5ERVBUSF9CVUZGRVJfQklUfHQuQ09MT1JfQlVGRkVSX0JJVHx0LlNURU5DSUxfQlVGRkVSX0JJVCksdGhpcy5fc2lsZW5jZUF1dGhFcnJvcnN8fHRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihcIkEgdmFsaWQgTWFwYm94IGFjY2VzcyB0b2tlbiBpcyByZXF1aXJlZCB0byB1c2UgTWFwYm94IEdMIEpTLiBUbyBjcmVhdGUgYW4gYWNjb3VudCBvciBhIG5ldyBhY2Nlc3MgdG9rZW4sIHZpc2l0IGh0dHBzOi8vYWNjb3VudC5tYXBib3guY29tL1wiKSkpO319KSksZS5wb3N0TWFwTG9hZEV2ZW50KHRoaXMuX2dldE1hcElkKCksdGhpcy5fcmVxdWVzdE1hbmFnZXIuX3NrdVRva2VuLHRoaXMuX3JlcXVlc3RNYW5hZ2VyLl9jdXN0b21BY2Nlc3NUb2tlbiwoKCk9Pnt9KSk7fV91cGRhdGVUZXJyYWluKCl7dGhpcy5wYWludGVyLnVwZGF0ZVRlcnJhaW4odGhpcy5zdHlsZSx0aGlzLmlzTW92aW5nKCl8fHRoaXMuaXNSb3RhdGluZygpfHx0aGlzLmlzWm9vbWluZygpKTt9X2NhbGN1bGF0ZVNwZWVkSW5kZXgoKXtjb25zdCBlPXRoaXMucGFpbnRlci5jYW52YXNDb3B5KCksdD10aGlzLnBhaW50ZXIuZ2V0Q2FudmFzQ29waWVzQW5kVGltZXN0YW1wcygpO3QudGltZVN0YW1wcy5wdXNoKHBlcmZvcm1hbmNlLm5vdygpKTtjb25zdCBpPXRoaXMucGFpbnRlci5jb250ZXh0LmdsLG89aS5jcmVhdGVGcmFtZWJ1ZmZlcigpO2Z1bmN0aW9uIHIoZSl7aS5mcmFtZWJ1ZmZlclRleHR1cmUyRChpLkZSQU1FQlVGRkVSLGkuQ09MT1JfQVRUQUNITUVOVDAsaS5URVhUVVJFXzJELGUsMCk7Y29uc3QgdD1uZXcgVWludDhBcnJheShpLmRyYXdpbmdCdWZmZXJXaWR0aCppLmRyYXdpbmdCdWZmZXJIZWlnaHQqNCk7cmV0dXJuIGkucmVhZFBpeGVscygwLDAsaS5kcmF3aW5nQnVmZmVyV2lkdGgsaS5kcmF3aW5nQnVmZmVySGVpZ2h0LGkuUkdCQSxpLlVOU0lHTkVEX0JZVEUsdCksdH1yZXR1cm4gaS5iaW5kRnJhbWVidWZmZXIoaS5GUkFNRUJVRkZFUixvKSx0aGlzLl9jYW52YXNQaXhlbENvbXBhcmlzb24ocihlKSx0LmNhbnZhc0NvcGllcy5tYXAociksdC50aW1lU3RhbXBzKX1fY2FudmFzUGl4ZWxDb21wYXJpc29uKGUsdCxpKXtsZXQgbz1pWzFdLWlbMF07Y29uc3Qgcj1lLmxlbmd0aC80O2ZvcihsZXQgbj0wO248dC5sZW5ndGg7bisrKXtjb25zdCBhPXRbbl07bGV0IHM9MDtmb3IobGV0IHQ9MDt0PGEubGVuZ3RoO3QrPTQpYVt0XT09PWVbdF0mJmFbdCsxXT09PWVbdCsxXSYmYVt0KzJdPT09ZVt0KzJdJiZhW3QrM109PT1lW3QrM10mJihzKz0xKTtvKz0oaVtuKzJdLWlbbisxXSkqKDEtcy9yKTt9cmV0dXJuIG99cmVtb3ZlKCl7dGhpcy5faGFzaCYmdGhpcy5faGFzaC5yZW1vdmUoKTtmb3IoY29uc3QgZSBvZiB0aGlzLl9jb250cm9scyllLm9uUmVtb3ZlKHRoaXMpO3RoaXMuX2NvbnRyb2xzPVtdLHRoaXMuX2ZyYW1lJiYodGhpcy5fZnJhbWUuY2FuY2VsKCksdGhpcy5fZnJhbWU9bnVsbCksdGhpcy5fcmVuZGVyVGFza1F1ZXVlLmNsZWFyKCksdGhpcy5fZG9tUmVuZGVyVGFza1F1ZXVlLmNsZWFyKCksdGhpcy5zdHlsZSYmdGhpcy5zdHlsZS5kZXN0cm95KCksdGhpcy5wYWludGVyLmRlc3Ryb3koKSx0aGlzLmhhbmRsZXJzJiZ0aGlzLmhhbmRsZXJzLmRlc3Ryb3koKSx0aGlzLmhhbmRsZXJzPXZvaWQgMCx0aGlzLnNldFN0eWxlKG51bGwpLHZvaWQgMCE9PWUud2luZG93JiYoZS53aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLHRoaXMuX29uV2luZG93UmVzaXplLCExKSxlLndpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwib3JpZW50YXRpb25jaGFuZ2VcIix0aGlzLl9vbldpbmRvd1Jlc2l6ZSwhMSksZS53aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIndlYmtpdGZ1bGxzY3JlZW5jaGFuZ2VcIix0aGlzLl9vbldpbmRvd1Jlc2l6ZSwhMSksZS53aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm9ubGluZVwiLHRoaXMuX29uV2luZG93T25saW5lLCExKSk7Y29uc3QgdD10aGlzLnBhaW50ZXIuY29udGV4dC5nbC5nZXRFeHRlbnNpb24oXCJXRUJHTF9sb3NlX2NvbnRleHRcIik7dCYmdC5sb3NlQ29udGV4dCgpLHNuKHRoaXMuX2NhbnZhc0NvbnRhaW5lciksc24odGhpcy5fY29udHJvbENvbnRhaW5lciksc24odGhpcy5fbWlzc2luZ0NTU0NhbmFyeSksdGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1tYXBcIiksZS5yZW1vdmVBdXRoU3RhdGUodGhpcy5wYWludGVyLmNvbnRleHQuZ2wpLHRoaXMuX3JlbW92ZWQ9ITAsdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwicmVtb3ZlXCIpKTt9dHJpZ2dlclJlcGFpbnQoKXt0aGlzLl90cmlnZ2VyRnJhbWUoITApO31fdHJpZ2dlckZyYW1lKHQpe3RoaXMuX3JlbmRlck5leHRGcmFtZT10aGlzLl9yZW5kZXJOZXh0RnJhbWV8fHQsdGhpcy5zdHlsZSYmIXRoaXMuX2ZyYW1lJiYodGhpcy5fZnJhbWU9ZS5leHBvcnRlZC5mcmFtZSgoZT0+e2NvbnN0IHQ9ISF0aGlzLl9yZW5kZXJOZXh0RnJhbWU7dGhpcy5fZnJhbWU9bnVsbCx0aGlzLl9yZW5kZXJOZXh0RnJhbWU9bnVsbCx0JiZ0aGlzLl9yZW5kZXIoZSk7fSkpKTt9X3ByZWxvYWRUaWxlcyh0KXtjb25zdCBpPXRoaXMuc3R5bGU/T2JqZWN0LnZhbHVlcyh0aGlzLnN0eWxlLl9zb3VyY2VDYWNoZXMpOltdO3JldHVybiBlLmFzeW5jQWxsKGksKChlLGkpPT5lLl9wcmVsb2FkVGlsZXModCxpKSksKCgpPT57dGhpcy50cmlnZ2VyUmVwYWludCgpO30pKSx0aGlzfV9vbldpbmRvd09ubGluZSgpe3RoaXMuX3VwZGF0ZSgpO31fb25XaW5kb3dSZXNpemUoZSl7dGhpcy5fdHJhY2tSZXNpemUmJnRoaXMucmVzaXplKHtvcmlnaW5hbEV2ZW50OmV9KS5fdXBkYXRlKCk7fWdldCBzaG93VGlsZUJvdW5kYXJpZXMoKXtyZXR1cm4gISF0aGlzLl9zaG93VGlsZUJvdW5kYXJpZXN9c2V0IHNob3dUaWxlQm91bmRhcmllcyhlKXt0aGlzLl9zaG93VGlsZUJvdW5kYXJpZXMhPT1lJiYodGhpcy5fc2hvd1RpbGVCb3VuZGFyaWVzPWUsdGhpcy5fdXBkYXRlKCkpO31nZXQgc2hvd1RlcnJhaW5XaXJlZnJhbWUoKXtyZXR1cm4gISF0aGlzLl9zaG93VGVycmFpbldpcmVmcmFtZX1zZXQgc2hvd1RlcnJhaW5XaXJlZnJhbWUoZSl7dGhpcy5fc2hvd1RlcnJhaW5XaXJlZnJhbWUhPT1lJiYodGhpcy5fc2hvd1RlcnJhaW5XaXJlZnJhbWU9ZSx0aGlzLl91cGRhdGUoKSk7fWdldCBzcGVlZEluZGV4VGltaW5nKCl7cmV0dXJuICEhdGhpcy5fc3BlZWRJbmRleFRpbWluZ31zZXQgc3BlZWRJbmRleFRpbWluZyhlKXt0aGlzLl9zcGVlZEluZGV4VGltaW5nIT09ZSYmKHRoaXMuX3NwZWVkSW5kZXhUaW1pbmc9ZSx0aGlzLl91cGRhdGUoKSk7fWdldCBzaG93UGFkZGluZygpe3JldHVybiAhIXRoaXMuX3Nob3dQYWRkaW5nfXNldCBzaG93UGFkZGluZyhlKXt0aGlzLl9zaG93UGFkZGluZyE9PWUmJih0aGlzLl9zaG93UGFkZGluZz1lLHRoaXMuX3VwZGF0ZSgpKTt9Z2V0IHNob3dDb2xsaXNpb25Cb3hlcygpe3JldHVybiAhIXRoaXMuX3Nob3dDb2xsaXNpb25Cb3hlc31zZXQgc2hvd0NvbGxpc2lvbkJveGVzKGUpe3RoaXMuX3Nob3dDb2xsaXNpb25Cb3hlcyE9PWUmJih0aGlzLl9zaG93Q29sbGlzaW9uQm94ZXM9ZSxlP3RoaXMuc3R5bGUuX2dlbmVyYXRlQ29sbGlzaW9uQm94ZXMoKTp0aGlzLl91cGRhdGUoKSk7fWdldCBzaG93T3ZlcmRyYXdJbnNwZWN0b3IoKXtyZXR1cm4gISF0aGlzLl9zaG93T3ZlcmRyYXdJbnNwZWN0b3J9c2V0IHNob3dPdmVyZHJhd0luc3BlY3RvcihlKXt0aGlzLl9zaG93T3ZlcmRyYXdJbnNwZWN0b3IhPT1lJiYodGhpcy5fc2hvd092ZXJkcmF3SW5zcGVjdG9yPWUsdGhpcy5fdXBkYXRlKCkpO31nZXQgcmVwYWludCgpe3JldHVybiAhIXRoaXMuX3JlcGFpbnR9c2V0IHJlcGFpbnQoZSl7dGhpcy5fcmVwYWludCE9PWUmJih0aGlzLl9yZXBhaW50PWUsdGhpcy50cmlnZ2VyUmVwYWludCgpKTt9Z2V0IHZlcnRpY2VzKCl7cmV0dXJuICEhdGhpcy5fdmVydGljZXN9c2V0IHZlcnRpY2VzKGUpe3RoaXMuX3ZlcnRpY2VzPWUsdGhpcy5fdXBkYXRlKCk7fV9zZXRDYWNoZUxpbWl0cyh0LGkpe2Uuc2V0Q2FjaGVMaW1pdHModCxpKTt9Z2V0IHZlcnNpb24oKXtyZXR1cm4gZS52ZXJzaW9ufX0sTmF2aWdhdGlvbkNvbnRyb2w6Y2xhc3N7Y29uc3RydWN0b3IodCl7dGhpcy5vcHRpb25zPWUuZXh0ZW5kKHt9LGxuLHQpLHRoaXMuX2NvbnRhaW5lcj1uKFwiZGl2XCIsXCJtYXBib3hnbC1jdHJsIG1hcGJveGdsLWN0cmwtZ3JvdXBcIiksdGhpcy5fY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJjb250ZXh0bWVudVwiLChlPT5lLnByZXZlbnREZWZhdWx0KCkpKSx0aGlzLm9wdGlvbnMuc2hvd1pvb20mJihlLmJpbmRBbGwoW1wiX3NldEJ1dHRvblRpdGxlXCIsXCJfdXBkYXRlWm9vbUJ1dHRvbnNcIl0sdGhpcyksdGhpcy5fem9vbUluQnV0dG9uPXRoaXMuX2NyZWF0ZUJ1dHRvbihcIm1hcGJveGdsLWN0cmwtem9vbS1pblwiLChlPT57dGhpcy5fbWFwJiZ0aGlzLl9tYXAuem9vbUluKHt9LHtvcmlnaW5hbEV2ZW50OmV9KTt9KSksbihcInNwYW5cIixcIm1hcGJveGdsLWN0cmwtaWNvblwiLHRoaXMuX3pvb21JbkJ1dHRvbikuc2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIixcInRydWVcIiksdGhpcy5fem9vbU91dEJ1dHRvbj10aGlzLl9jcmVhdGVCdXR0b24oXCJtYXBib3hnbC1jdHJsLXpvb20tb3V0XCIsKGU9Pnt0aGlzLl9tYXAmJnRoaXMuX21hcC56b29tT3V0KHt9LHtvcmlnaW5hbEV2ZW50OmV9KTt9KSksbihcInNwYW5cIixcIm1hcGJveGdsLWN0cmwtaWNvblwiLHRoaXMuX3pvb21PdXRCdXR0b24pLnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsXCJ0cnVlXCIpKSx0aGlzLm9wdGlvbnMuc2hvd0NvbXBhc3MmJihlLmJpbmRBbGwoW1wiX3JvdGF0ZUNvbXBhc3NBcnJvd1wiXSx0aGlzKSx0aGlzLl9jb21wYXNzPXRoaXMuX2NyZWF0ZUJ1dHRvbihcIm1hcGJveGdsLWN0cmwtY29tcGFzc1wiLChlPT57Y29uc3QgdD10aGlzLl9tYXA7dCYmKHRoaXMub3B0aW9ucy52aXN1YWxpemVQaXRjaD90LnJlc2V0Tm9ydGhQaXRjaCh7fSx7b3JpZ2luYWxFdmVudDplfSk6dC5yZXNldE5vcnRoKHt9LHtvcmlnaW5hbEV2ZW50OmV9KSk7fSkpLHRoaXMuX2NvbXBhc3NJY29uPW4oXCJzcGFuXCIsXCJtYXBib3hnbC1jdHJsLWljb25cIix0aGlzLl9jb21wYXNzKSx0aGlzLl9jb21wYXNzSWNvbi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLFwidHJ1ZVwiKSk7fV91cGRhdGVab29tQnV0dG9ucygpe2NvbnN0IGU9dGhpcy5fbWFwO2lmKCFlKXJldHVybjtjb25zdCB0PWUuZ2V0Wm9vbSgpLGk9dD09PWUuZ2V0TWF4Wm9vbSgpLG89dD09PWUuZ2V0TWluWm9vbSgpO3RoaXMuX3pvb21JbkJ1dHRvbi5kaXNhYmxlZD1pLHRoaXMuX3pvb21PdXRCdXR0b24uZGlzYWJsZWQ9byx0aGlzLl96b29tSW5CdXR0b24uc2V0QXR0cmlidXRlKFwiYXJpYS1kaXNhYmxlZFwiLGkudG9TdHJpbmcoKSksdGhpcy5fem9vbU91dEJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWRpc2FibGVkXCIsby50b1N0cmluZygpKTt9X3JvdGF0ZUNvbXBhc3NBcnJvdygpe2NvbnN0IGU9dGhpcy5fbWFwO2lmKCFlKXJldHVybjtjb25zdCB0PXRoaXMub3B0aW9ucy52aXN1YWxpemVQaXRjaD9gc2NhbGUoJHsxL01hdGgucG93KE1hdGguY29zKGUudHJhbnNmb3JtLnBpdGNoKihNYXRoLlBJLzE4MCkpLC41KX0pIHJvdGF0ZVgoJHtlLnRyYW5zZm9ybS5waXRjaH1kZWcpIHJvdGF0ZVooJHtlLnRyYW5zZm9ybS5hbmdsZSooMTgwL01hdGguUEkpfWRlZylgOmByb3RhdGUoJHtlLnRyYW5zZm9ybS5hbmdsZSooMTgwL01hdGguUEkpfWRlZylgO2UuX3JlcXVlc3REb21UYXNrKCgoKT0+e3RoaXMuX2NvbXBhc3NJY29uJiYodGhpcy5fY29tcGFzc0ljb24uc3R5bGUudHJhbnNmb3JtPXQpO30pKTt9b25BZGQoZSl7cmV0dXJuIHRoaXMuX21hcD1lLHRoaXMub3B0aW9ucy5zaG93Wm9vbSYmKHRoaXMuX3NldEJ1dHRvblRpdGxlKHRoaXMuX3pvb21JbkJ1dHRvbixcIlpvb21JblwiKSx0aGlzLl9zZXRCdXR0b25UaXRsZSh0aGlzLl96b29tT3V0QnV0dG9uLFwiWm9vbU91dFwiKSxlLm9uKFwiem9vbVwiLHRoaXMuX3VwZGF0ZVpvb21CdXR0b25zKSx0aGlzLl91cGRhdGVab29tQnV0dG9ucygpKSx0aGlzLm9wdGlvbnMuc2hvd0NvbXBhc3MmJih0aGlzLl9zZXRCdXR0b25UaXRsZSh0aGlzLl9jb21wYXNzLFwiUmVzZXRCZWFyaW5nXCIpLHRoaXMub3B0aW9ucy52aXN1YWxpemVQaXRjaCYmZS5vbihcInBpdGNoXCIsdGhpcy5fcm90YXRlQ29tcGFzc0Fycm93KSxlLm9uKFwicm90YXRlXCIsdGhpcy5fcm90YXRlQ29tcGFzc0Fycm93KSx0aGlzLl9yb3RhdGVDb21wYXNzQXJyb3coKSx0aGlzLl9oYW5kbGVyPW5ldyBjbihlLHRoaXMuX2NvbXBhc3MsdGhpcy5vcHRpb25zLnZpc3VhbGl6ZVBpdGNoKSksdGhpcy5fY29udGFpbmVyfW9uUmVtb3ZlKCl7Y29uc3QgZT10aGlzLl9tYXA7ZSYmKHRoaXMuX2NvbnRhaW5lci5yZW1vdmUoKSx0aGlzLm9wdGlvbnMuc2hvd1pvb20mJmUub2ZmKFwiem9vbVwiLHRoaXMuX3VwZGF0ZVpvb21CdXR0b25zKSx0aGlzLm9wdGlvbnMuc2hvd0NvbXBhc3MmJih0aGlzLm9wdGlvbnMudmlzdWFsaXplUGl0Y2gmJmUub2ZmKFwicGl0Y2hcIix0aGlzLl9yb3RhdGVDb21wYXNzQXJyb3cpLGUub2ZmKFwicm90YXRlXCIsdGhpcy5fcm90YXRlQ29tcGFzc0Fycm93KSx0aGlzLl9oYW5kbGVyJiZ0aGlzLl9oYW5kbGVyLm9mZigpLHRoaXMuX2hhbmRsZXI9dm9pZCAwKSx0aGlzLl9tYXA9dm9pZCAwKTt9X2NyZWF0ZUJ1dHRvbihlLHQpe2NvbnN0IGk9bihcImJ1dHRvblwiLGUsdGhpcy5fY29udGFpbmVyKTtyZXR1cm4gaS50eXBlPVwiYnV0dG9uXCIsaS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIix0KSxpfV9zZXRCdXR0b25UaXRsZShlLHQpe2lmKCF0aGlzLl9tYXApcmV0dXJuO2NvbnN0IGk9dGhpcy5fbWFwLl9nZXRVSVN0cmluZyhgTmF2aWdhdGlvbkNvbnRyb2wuJHt0fWApO2Uuc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLGkpLGUuZmlyc3RFbGVtZW50Q2hpbGQmJmUuZmlyc3RFbGVtZW50Q2hpbGQuc2V0QXR0cmlidXRlKFwidGl0bGVcIixpKTt9fSxHZW9sb2NhdGVDb250cm9sOmNsYXNzIGV4dGVuZHMgZS5FdmVudGVke2NvbnN0cnVjdG9yKHQpe3N1cGVyKCksdGhpcy5vcHRpb25zPWUuZXh0ZW5kKHtnZW9sb2NhdGlvbjplLndpbmRvdy5uYXZpZ2F0b3IuZ2VvbG9jYXRpb259LGhuLHQpLGUuYmluZEFsbChbXCJfb25TdWNjZXNzXCIsXCJfb25FcnJvclwiLFwiX29uWm9vbVwiLFwiX2ZpbmlzaFwiLFwiX3NldHVwVUlcIixcIl91cGRhdGVDYW1lcmFcIixcIl91cGRhdGVNYXJrZXJcIixcIl91cGRhdGVNYXJrZXJSb3RhdGlvblwiLFwiX29uRGV2aWNlT3JpZW50YXRpb25cIl0sdGhpcyksdGhpcy5fdXBkYXRlTWFya2VyUm90YXRpb25UaHJvdHRsZWQ9Sm8odGhpcy5fdXBkYXRlTWFya2VyUm90YXRpb24sMjApLHRoaXMuX251bWJlck9mV2F0Y2hlcz0wO31vbkFkZChlKXtyZXR1cm4gdGhpcy5fbWFwPWUsdGhpcy5fY29udGFpbmVyPW4oXCJkaXZcIixcIm1hcGJveGdsLWN0cmwgbWFwYm94Z2wtY3RybC1ncm91cFwiKSx0aGlzLl9jaGVja0dlb2xvY2F0aW9uU3VwcG9ydCh0aGlzLl9zZXR1cFVJKSx0aGlzLl9jb250YWluZXJ9b25SZW1vdmUoKXt2b2lkIDAhPT10aGlzLl9nZW9sb2NhdGlvbldhdGNoSUQmJih0aGlzLm9wdGlvbnMuZ2VvbG9jYXRpb24uY2xlYXJXYXRjaCh0aGlzLl9nZW9sb2NhdGlvbldhdGNoSUQpLHRoaXMuX2dlb2xvY2F0aW9uV2F0Y2hJRD12b2lkIDApLHRoaXMub3B0aW9ucy5zaG93VXNlckxvY2F0aW9uJiZ0aGlzLl91c2VyTG9jYXRpb25Eb3RNYXJrZXImJnRoaXMuX3VzZXJMb2NhdGlvbkRvdE1hcmtlci5yZW1vdmUoKSx0aGlzLm9wdGlvbnMuc2hvd0FjY3VyYWN5Q2lyY2xlJiZ0aGlzLl9hY2N1cmFjeUNpcmNsZU1hcmtlciYmdGhpcy5fYWNjdXJhY3lDaXJjbGVNYXJrZXIucmVtb3ZlKCksdGhpcy5fY29udGFpbmVyLnJlbW92ZSgpLHRoaXMuX21hcC5vZmYoXCJ6b29tXCIsdGhpcy5fb25ab29tKSx0aGlzLl9tYXA9dm9pZCAwLHRoaXMuX251bWJlck9mV2F0Y2hlcz0wLHRoaXMuX25vVGltZW91dD0hMTt9X2NoZWNrR2VvbG9jYXRpb25TdXBwb3J0KHQpe3ZvaWQgMCE9PXRoaXMuX3N1cHBvcnRzR2VvbG9jYXRpb24/dCh0aGlzLl9zdXBwb3J0c0dlb2xvY2F0aW9uKTp2b2lkIDAhPT1lLndpbmRvdy5uYXZpZ2F0b3IucGVybWlzc2lvbnM/ZS53aW5kb3cubmF2aWdhdG9yLnBlcm1pc3Npb25zLnF1ZXJ5KHtuYW1lOlwiZ2VvbG9jYXRpb25cIn0pLnRoZW4oKGU9Pnt0aGlzLl9zdXBwb3J0c0dlb2xvY2F0aW9uPVwiZGVuaWVkXCIhPT1lLnN0YXRlLHQodGhpcy5fc3VwcG9ydHNHZW9sb2NhdGlvbik7fSkpOih0aGlzLl9zdXBwb3J0c0dlb2xvY2F0aW9uPSEhdGhpcy5vcHRpb25zLmdlb2xvY2F0aW9uLHQodGhpcy5fc3VwcG9ydHNHZW9sb2NhdGlvbikpO31faXNPdXRPZk1hcE1heEJvdW5kcyhlKXtjb25zdCB0PXRoaXMuX21hcC5nZXRNYXhCb3VuZHMoKSxpPWUuY29vcmRzO3JldHVybiAhIXQmJihpLmxvbmdpdHVkZTx0LmdldFdlc3QoKXx8aS5sb25naXR1ZGU+dC5nZXRFYXN0KCl8fGkubGF0aXR1ZGU8dC5nZXRTb3V0aCgpfHxpLmxhdGl0dWRlPnQuZ2V0Tm9ydGgoKSl9X3NldEVycm9yU3RhdGUoKXtzd2l0Y2godGhpcy5fd2F0Y2hTdGF0ZSl7Y2FzZVwiV0FJVElOR19BQ1RJVkVcIjp0aGlzLl93YXRjaFN0YXRlPVwiQUNUSVZFX0VSUk9SXCIsdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1hY3RpdmVcIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1hY3RpdmUtZXJyb3JcIik7YnJlYWs7Y2FzZVwiQUNUSVZFX0xPQ0tcIjp0aGlzLl93YXRjaFN0YXRlPVwiQUNUSVZFX0VSUk9SXCIsdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1hY3RpdmVcIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1hY3RpdmUtZXJyb3JcIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS13YWl0aW5nXCIpO2JyZWFrO2Nhc2VcIkJBQ0tHUk9VTkRcIjp0aGlzLl93YXRjaFN0YXRlPVwiQkFDS0dST1VORF9FUlJPUlwiLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYmFja2dyb3VuZFwiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmQtZXJyb3JcIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS13YWl0aW5nXCIpO319X29uU3VjY2Vzcyh0KXtpZih0aGlzLl9tYXApe2lmKHRoaXMuX2lzT3V0T2ZNYXBNYXhCb3VuZHModCkpcmV0dXJuIHRoaXMuX3NldEVycm9yU3RhdGUoKSx0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJvdXRvZm1heGJvdW5kc1wiLHQpKSx0aGlzLl91cGRhdGVNYXJrZXIoKSx2b2lkIHRoaXMuX2ZpbmlzaCgpO2lmKHRoaXMub3B0aW9ucy50cmFja1VzZXJMb2NhdGlvbilzd2l0Y2godGhpcy5fbGFzdEtub3duUG9zaXRpb249dCx0aGlzLl93YXRjaFN0YXRlKXtjYXNlXCJXQUlUSU5HX0FDVElWRVwiOmNhc2VcIkFDVElWRV9MT0NLXCI6Y2FzZVwiQUNUSVZFX0VSUk9SXCI6dGhpcy5fd2F0Y2hTdGF0ZT1cIkFDVElWRV9MT0NLXCIsdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS13YWl0aW5nXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlLWVycm9yXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlXCIpO2JyZWFrO2Nhc2VcIkJBQ0tHUk9VTkRcIjpjYXNlXCJCQUNLR1JPVU5EX0VSUk9SXCI6dGhpcy5fd2F0Y2hTdGF0ZT1cIkJBQ0tHUk9VTkRcIix0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLXdhaXRpbmdcIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kLWVycm9yXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYmFja2dyb3VuZFwiKTt9dGhpcy5vcHRpb25zLnNob3dVc2VyTG9jYXRpb24mJlwiT0ZGXCIhPT10aGlzLl93YXRjaFN0YXRlJiZ0aGlzLl91cGRhdGVNYXJrZXIodCksdGhpcy5vcHRpb25zLnRyYWNrVXNlckxvY2F0aW9uJiZcIkFDVElWRV9MT0NLXCIhPT10aGlzLl93YXRjaFN0YXRlfHx0aGlzLl91cGRhdGVDYW1lcmEodCksdGhpcy5vcHRpb25zLnNob3dVc2VyTG9jYXRpb24mJnRoaXMuX2RvdEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLXVzZXItbG9jYXRpb24tZG90LXN0YWxlXCIpLHRoaXMuZmlyZShuZXcgZS5FdmVudChcImdlb2xvY2F0ZVwiLHQpKSx0aGlzLl9maW5pc2goKTt9fV91cGRhdGVDYW1lcmEodCl7Y29uc3QgaT1uZXcgZS5MbmdMYXQodC5jb29yZHMubG9uZ2l0dWRlLHQuY29vcmRzLmxhdGl0dWRlKSxvPXQuY29vcmRzLmFjY3VyYWN5LHI9dGhpcy5fbWFwLmdldEJlYXJpbmcoKSxuPWUuZXh0ZW5kKHtiZWFyaW5nOnJ9LHRoaXMub3B0aW9ucy5maXRCb3VuZHNPcHRpb25zKTt0aGlzLl9tYXAuZml0Qm91bmRzKGkudG9Cb3VuZHMobyksbix7Z2VvbG9jYXRlU291cmNlOiEwfSk7fV91cGRhdGVNYXJrZXIodCl7aWYodCl7Y29uc3QgaT1uZXcgZS5MbmdMYXQodC5jb29yZHMubG9uZ2l0dWRlLHQuY29vcmRzLmxhdGl0dWRlKTt0aGlzLl9hY2N1cmFjeUNpcmNsZU1hcmtlci5zZXRMbmdMYXQoaSkuYWRkVG8odGhpcy5fbWFwKSx0aGlzLl91c2VyTG9jYXRpb25Eb3RNYXJrZXIuc2V0TG5nTGF0KGkpLmFkZFRvKHRoaXMuX21hcCksdGhpcy5fYWNjdXJhY3k9dC5jb29yZHMuYWNjdXJhY3ksdGhpcy5vcHRpb25zLnNob3dVc2VyTG9jYXRpb24mJnRoaXMub3B0aW9ucy5zaG93QWNjdXJhY3lDaXJjbGUmJnRoaXMuX3VwZGF0ZUNpcmNsZVJhZGl1cygpO31lbHNlIHRoaXMuX3VzZXJMb2NhdGlvbkRvdE1hcmtlci5yZW1vdmUoKSx0aGlzLl9hY2N1cmFjeUNpcmNsZU1hcmtlci5yZW1vdmUoKTt9X3VwZGF0ZUNpcmNsZVJhZGl1cygpe2NvbnN0IHQ9dGhpcy5fbWFwLnRyYW5zZm9ybSxpPWUubWVyY2F0b3JaZnJvbUFsdGl0dWRlKDEsdC5fY2VudGVyLmxhdCkqdC53b3JsZFNpemUsbz1NYXRoLmNlaWwoMip0aGlzLl9hY2N1cmFjeSppKTt0aGlzLl9jaXJjbGVFbGVtZW50LnN0eWxlLndpZHRoPWAke299cHhgLHRoaXMuX2NpcmNsZUVsZW1lbnQuc3R5bGUuaGVpZ2h0PWAke299cHhgO31fb25ab29tKCl7dGhpcy5vcHRpb25zLnNob3dVc2VyTG9jYXRpb24mJnRoaXMub3B0aW9ucy5zaG93QWNjdXJhY3lDaXJjbGUmJnRoaXMuX3VwZGF0ZUNpcmNsZVJhZGl1cygpO31fdXBkYXRlTWFya2VyUm90YXRpb24oKXt0aGlzLl91c2VyTG9jYXRpb25Eb3RNYXJrZXImJlwibnVtYmVyXCI9PXR5cGVvZiB0aGlzLl9oZWFkaW5nPyh0aGlzLl91c2VyTG9jYXRpb25Eb3RNYXJrZXIuc2V0Um90YXRpb24odGhpcy5faGVhZGluZyksdGhpcy5fZG90RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtdXNlci1sb2NhdGlvbi1zaG93LWhlYWRpbmdcIikpOih0aGlzLl9kb3RFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC11c2VyLWxvY2F0aW9uLXNob3ctaGVhZGluZ1wiKSx0aGlzLl91c2VyTG9jYXRpb25Eb3RNYXJrZXIuc2V0Um90YXRpb24oMCkpO31fb25FcnJvcih0KXtpZih0aGlzLl9tYXApe2lmKHRoaXMub3B0aW9ucy50cmFja1VzZXJMb2NhdGlvbilpZigxPT09dC5jb2RlKXt0aGlzLl93YXRjaFN0YXRlPVwiT0ZGXCIsdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS13YWl0aW5nXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlLWVycm9yXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYmFja2dyb3VuZFwiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmQtZXJyb3JcIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmRpc2FibGVkPSEwO2NvbnN0IGU9dGhpcy5fbWFwLl9nZXRVSVN0cmluZyhcIkdlb2xvY2F0ZUNvbnRyb2wuTG9jYXRpb25Ob3RBdmFpbGFibGVcIik7dGhpcy5fZ2VvbG9jYXRlQnV0dG9uLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIixlKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uZmlyc3RFbGVtZW50Q2hpbGQmJnRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5maXJzdEVsZW1lbnRDaGlsZC5zZXRBdHRyaWJ1dGUoXCJ0aXRsZVwiLGUpLHZvaWQgMCE9PXRoaXMuX2dlb2xvY2F0aW9uV2F0Y2hJRCYmdGhpcy5fY2xlYXJXYXRjaCgpO31lbHNlIHtpZigzPT09dC5jb2RlJiZ0aGlzLl9ub1RpbWVvdXQpcmV0dXJuO3RoaXMuX3NldEVycm9yU3RhdGUoKTt9XCJPRkZcIiE9PXRoaXMuX3dhdGNoU3RhdGUmJnRoaXMub3B0aW9ucy5zaG93VXNlckxvY2F0aW9uJiZ0aGlzLl9kb3RFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC11c2VyLWxvY2F0aW9uLWRvdC1zdGFsZVwiKSx0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJlcnJvclwiLHQpKSx0aGlzLl9maW5pc2goKTt9fV9maW5pc2goKXt0aGlzLl90aW1lb3V0SWQmJmNsZWFyVGltZW91dCh0aGlzLl90aW1lb3V0SWQpLHRoaXMuX3RpbWVvdXRJZD12b2lkIDA7fV9zZXR1cFVJKHQpe2lmKHRoaXMuX2NvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKFwiY29udGV4dG1lbnVcIiwoZT0+ZS5wcmV2ZW50RGVmYXVsdCgpKSksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uPW4oXCJidXR0b25cIixcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlXCIsdGhpcy5fY29udGFpbmVyKSxuKFwic3BhblwiLFwibWFwYm94Z2wtY3RybC1pY29uXCIsdGhpcy5fZ2VvbG9jYXRlQnV0dG9uKS5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLFwidHJ1ZVwiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24udHlwZT1cImJ1dHRvblwiLCExPT09dCl7ZS53YXJuT25jZShcIkdlb2xvY2F0aW9uIHN1cHBvcnQgaXMgbm90IGF2YWlsYWJsZSBzbyB0aGUgR2VvbG9jYXRlQ29udHJvbCB3aWxsIGJlIGRpc2FibGVkLlwiKTtjb25zdCB0PXRoaXMuX21hcC5fZ2V0VUlTdHJpbmcoXCJHZW9sb2NhdGVDb250cm9sLkxvY2F0aW9uTm90QXZhaWxhYmxlXCIpO3RoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5kaXNhYmxlZD0hMCx0aGlzLl9nZW9sb2NhdGVCdXR0b24uc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLHQpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5maXJzdEVsZW1lbnRDaGlsZCYmdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmZpcnN0RWxlbWVudENoaWxkLnNldEF0dHJpYnV0ZShcInRpdGxlXCIsdCk7fWVsc2Uge2NvbnN0IGU9dGhpcy5fbWFwLl9nZXRVSVN0cmluZyhcIkdlb2xvY2F0ZUNvbnRyb2wuRmluZE15TG9jYXRpb25cIik7dGhpcy5fZ2VvbG9jYXRlQnV0dG9uLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIixlKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uZmlyc3RFbGVtZW50Q2hpbGQmJnRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5maXJzdEVsZW1lbnRDaGlsZC5zZXRBdHRyaWJ1dGUoXCJ0aXRsZVwiLGUpO310aGlzLm9wdGlvbnMudHJhY2tVc2VyTG9jYXRpb24mJih0aGlzLl9nZW9sb2NhdGVCdXR0b24uc2V0QXR0cmlidXRlKFwiYXJpYS1wcmVzc2VkXCIsXCJmYWxzZVwiKSx0aGlzLl93YXRjaFN0YXRlPVwiT0ZGXCIpLHRoaXMub3B0aW9ucy5zaG93VXNlckxvY2F0aW9uJiYodGhpcy5fZG90RWxlbWVudD1uKFwiZGl2XCIsXCJtYXBib3hnbC11c2VyLWxvY2F0aW9uXCIpLHRoaXMuX2RvdEVsZW1lbnQuYXBwZW5kQ2hpbGQobihcImRpdlwiLFwibWFwYm94Z2wtdXNlci1sb2NhdGlvbi1kb3RcIikpLHRoaXMuX2RvdEVsZW1lbnQuYXBwZW5kQ2hpbGQobihcImRpdlwiLFwibWFwYm94Z2wtdXNlci1sb2NhdGlvbi1oZWFkaW5nXCIpKSx0aGlzLl91c2VyTG9jYXRpb25Eb3RNYXJrZXI9bmV3IG9uKHtlbGVtZW50OnRoaXMuX2RvdEVsZW1lbnQscm90YXRpb25BbGlnbm1lbnQ6XCJtYXBcIixwaXRjaEFsaWdubWVudDpcIm1hcFwifSksdGhpcy5fY2lyY2xlRWxlbWVudD1uKFwiZGl2XCIsXCJtYXBib3hnbC11c2VyLWxvY2F0aW9uLWFjY3VyYWN5LWNpcmNsZVwiKSx0aGlzLl9hY2N1cmFjeUNpcmNsZU1hcmtlcj1uZXcgb24oe2VsZW1lbnQ6dGhpcy5fY2lyY2xlRWxlbWVudCxwaXRjaEFsaWdubWVudDpcIm1hcFwifSksdGhpcy5vcHRpb25zLnRyYWNrVXNlckxvY2F0aW9uJiYodGhpcy5fd2F0Y2hTdGF0ZT1cIk9GRlwiKSx0aGlzLl9tYXAub24oXCJ6b29tXCIsdGhpcy5fb25ab29tKSksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHRoaXMudHJpZ2dlci5iaW5kKHRoaXMpKSx0aGlzLl9zZXR1cD0hMCx0aGlzLm9wdGlvbnMudHJhY2tVc2VyTG9jYXRpb24mJnRoaXMuX21hcC5vbihcIm1vdmVzdGFydFwiLCh0PT57dC5nZW9sb2NhdGVTb3VyY2V8fFwiQUNUSVZFX0xPQ0tcIiE9PXRoaXMuX3dhdGNoU3RhdGV8fHQub3JpZ2luYWxFdmVudCYmXCJyZXNpemVcIj09PXQub3JpZ2luYWxFdmVudC50eXBlfHwodGhpcy5fd2F0Y2hTdGF0ZT1cIkJBQ0tHUk9VTkRcIix0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmRcIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1hY3RpdmVcIiksdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwidHJhY2t1c2VybG9jYXRpb25lbmRcIikpKTt9KSk7fV9vbkRldmljZU9yaWVudGF0aW9uKGUpe3RoaXMuX3VzZXJMb2NhdGlvbkRvdE1hcmtlciYmKGUud2Via2l0Q29tcGFzc0hlYWRpbmc/dGhpcy5faGVhZGluZz1lLndlYmtpdENvbXBhc3NIZWFkaW5nOiEwPT09ZS5hYnNvbHV0ZSYmKHRoaXMuX2hlYWRpbmc9LTEqZS5hbHBoYSksdGhpcy5fdXBkYXRlTWFya2VyUm90YXRpb25UaHJvdHRsZWQoKSk7fXRyaWdnZXIoKXtpZighdGhpcy5fc2V0dXApcmV0dXJuIGUud2Fybk9uY2UoXCJHZW9sb2NhdGUgY29udHJvbCB0cmlnZ2VyZWQgYmVmb3JlIGFkZGVkIHRvIGEgbWFwXCIpLCExO2lmKHRoaXMub3B0aW9ucy50cmFja1VzZXJMb2NhdGlvbil7c3dpdGNoKHRoaXMuX3dhdGNoU3RhdGUpe2Nhc2VcIk9GRlwiOnRoaXMuX3dhdGNoU3RhdGU9XCJXQUlUSU5HX0FDVElWRVwiLHRoaXMuZmlyZShuZXcgZS5FdmVudChcInRyYWNrdXNlcmxvY2F0aW9uc3RhcnRcIikpO2JyZWFrO2Nhc2VcIldBSVRJTkdfQUNUSVZFXCI6Y2FzZVwiQUNUSVZFX0xPQ0tcIjpjYXNlXCJBQ1RJVkVfRVJST1JcIjpjYXNlXCJCQUNLR1JPVU5EX0VSUk9SXCI6dGhpcy5fbnVtYmVyT2ZXYXRjaGVzLS0sdGhpcy5fbm9UaW1lb3V0PSExLHRoaXMuX3dhdGNoU3RhdGU9XCJPRkZcIix0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLXdhaXRpbmdcIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1hY3RpdmVcIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1hY3RpdmUtZXJyb3JcIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYmFja2dyb3VuZC1lcnJvclwiKSx0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJ0cmFja3VzZXJsb2NhdGlvbmVuZFwiKSk7YnJlYWs7Y2FzZVwiQkFDS0dST1VORFwiOnRoaXMuX3dhdGNoU3RhdGU9XCJBQ1RJVkVfTE9DS1wiLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYmFja2dyb3VuZFwiKSx0aGlzLl9sYXN0S25vd25Qb3NpdGlvbiYmdGhpcy5fdXBkYXRlQ2FtZXJhKHRoaXMuX2xhc3RLbm93blBvc2l0aW9uKSx0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJ0cmFja3VzZXJsb2NhdGlvbnN0YXJ0XCIpKTt9c3dpdGNoKHRoaXMuX3dhdGNoU3RhdGUpe2Nhc2VcIldBSVRJTkdfQUNUSVZFXCI6dGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS13YWl0aW5nXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlXCIpO2JyZWFrO2Nhc2VcIkFDVElWRV9MT0NLXCI6dGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1hY3RpdmVcIik7YnJlYWs7Y2FzZVwiQUNUSVZFX0VSUk9SXCI6dGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS13YWl0aW5nXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlLWVycm9yXCIpO2JyZWFrO2Nhc2VcIkJBQ0tHUk9VTkRcIjp0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmRcIik7YnJlYWs7Y2FzZVwiQkFDS0dST1VORF9FUlJPUlwiOnRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZ1wiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmQtZXJyb3JcIik7fWlmKFwiT0ZGXCI9PT10aGlzLl93YXRjaFN0YXRlJiZ2b2lkIDAhPT10aGlzLl9nZW9sb2NhdGlvbldhdGNoSUQpdGhpcy5fY2xlYXJXYXRjaCgpO2Vsc2UgaWYodm9pZCAwPT09dGhpcy5fZ2VvbG9jYXRpb25XYXRjaElEKXtsZXQgZTt0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLXdhaXRpbmdcIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLnNldEF0dHJpYnV0ZShcImFyaWEtcHJlc3NlZFwiLFwidHJ1ZVwiKSx0aGlzLl9udW1iZXJPZldhdGNoZXMrKyx0aGlzLl9udW1iZXJPZldhdGNoZXM+MT8oZT17bWF4aW11bUFnZTo2ZTUsdGltZW91dDowfSx0aGlzLl9ub1RpbWVvdXQ9ITApOihlPXRoaXMub3B0aW9ucy5wb3NpdGlvbk9wdGlvbnMsdGhpcy5fbm9UaW1lb3V0PSExKSx0aGlzLl9nZW9sb2NhdGlvbldhdGNoSUQ9dGhpcy5vcHRpb25zLmdlb2xvY2F0aW9uLndhdGNoUG9zaXRpb24odGhpcy5fb25TdWNjZXNzLHRoaXMuX29uRXJyb3IsZSksdGhpcy5vcHRpb25zLnNob3dVc2VySGVhZGluZyYmdGhpcy5fYWRkRGV2aWNlT3JpZW50YXRpb25MaXN0ZW5lcigpO319ZWxzZSB0aGlzLm9wdGlvbnMuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKHRoaXMuX29uU3VjY2Vzcyx0aGlzLl9vbkVycm9yLHRoaXMub3B0aW9ucy5wb3NpdGlvbk9wdGlvbnMpLHRoaXMuX3RpbWVvdXRJZD1zZXRUaW1lb3V0KHRoaXMuX2ZpbmlzaCwxZTQpO3JldHVybiAhMH1fYWRkRGV2aWNlT3JpZW50YXRpb25MaXN0ZW5lcigpe2NvbnN0IHQ9KCk9PntlLndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwib25kZXZpY2VvcmllbnRhdGlvbmFic29sdXRlXCJpbiBlLndpbmRvdz9cImRldmljZW9yaWVudGF0aW9uYWJzb2x1dGVcIjpcImRldmljZW9yaWVudGF0aW9uXCIsdGhpcy5fb25EZXZpY2VPcmllbnRhdGlvbik7fTt2b2lkIDAhPT1lLndpbmRvdy5EZXZpY2VNb3Rpb25FdmVudCYmXCJmdW5jdGlvblwiPT10eXBlb2YgZS53aW5kb3cuRGV2aWNlTW90aW9uRXZlbnQucmVxdWVzdFBlcm1pc3Npb24/RGV2aWNlT3JpZW50YXRpb25FdmVudC5yZXF1ZXN0UGVybWlzc2lvbigpLnRoZW4oKGU9PntcImdyYW50ZWRcIj09PWUmJnQoKTt9KSkuY2F0Y2goY29uc29sZS5lcnJvcik6dCgpO31fY2xlYXJXYXRjaCgpe3RoaXMub3B0aW9ucy5nZW9sb2NhdGlvbi5jbGVhcldhdGNoKHRoaXMuX2dlb2xvY2F0aW9uV2F0Y2hJRCksZS53aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImRldmljZW9yaWVudGF0aW9uXCIsdGhpcy5fb25EZXZpY2VPcmllbnRhdGlvbiksZS53aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImRldmljZW9yaWVudGF0aW9uYWJzb2x1dGVcIix0aGlzLl9vbkRldmljZU9yaWVudGF0aW9uKSx0aGlzLl9nZW9sb2NhdGlvbldhdGNoSUQ9dm9pZCAwLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZ1wiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uc2V0QXR0cmlidXRlKFwiYXJpYS1wcmVzc2VkXCIsXCJmYWxzZVwiKSx0aGlzLm9wdGlvbnMuc2hvd1VzZXJMb2NhdGlvbiYmdGhpcy5fdXBkYXRlTWFya2VyKG51bGwpO319LEF0dHJpYnV0aW9uQ29udHJvbDpLcixTY2FsZUNvbnRyb2w6Y2xhc3N7Y29uc3RydWN0b3IodCl7dGhpcy5vcHRpb25zPWUuZXh0ZW5kKHt9LHVuLHQpLGZ1bmN0aW9uKCl7dHJ5e3JldHVybiBuZXcgSW50bC5OdW1iZXJGb3JtYXQoXCJlblwiLHtzdHlsZTpcInVuaXRcIix1bml0RGlzcGxheTpcIm5hcnJvd1wiLHVuaXQ6XCJtZXRlclwifSksITB9Y2F0Y2goZSl7cmV0dXJuICExfX0oKXx8KHRoaXMuX3NldFNjYWxlPV9uLmJpbmQodGhpcykpLGUuYmluZEFsbChbXCJfdXBkYXRlXCIsXCJfc2V0U2NhbGVcIixcInNldFVuaXRcIl0sdGhpcyk7fWdldERlZmF1bHRQb3NpdGlvbigpe3JldHVybiBcImJvdHRvbS1sZWZ0XCJ9X3VwZGF0ZSgpe2NvbnN0IGU9dGhpcy5vcHRpb25zLm1heFdpZHRofHwxMDAsdD10aGlzLl9tYXAsaT10Ll9jb250YWluZXJIZWlnaHQvMixvPXQuX2NvbnRhaW5lcldpZHRoLzItZS8yLHI9dC51bnByb2plY3QoW28saV0pLG49dC51bnByb2plY3QoW28rZSxpXSksYT1yLmRpc3RhbmNlVG8obik7aWYoXCJpbXBlcmlhbFwiPT09dGhpcy5vcHRpb25zLnVuaXQpe2NvbnN0IHQ9My4yODA4KmE7dD41MjgwP3RoaXMuX3NldFNjYWxlKGUsdC81MjgwLFwibWlsZVwiKTp0aGlzLl9zZXRTY2FsZShlLHQsXCJmb290XCIpO31lbHNlIFwibmF1dGljYWxcIj09PXRoaXMub3B0aW9ucy51bml0P3RoaXMuX3NldFNjYWxlKGUsYS8xODUyLFwibmF1dGljYWwtbWlsZVwiKTphPj0xZTM/dGhpcy5fc2V0U2NhbGUoZSxhLzFlMyxcImtpbG9tZXRlclwiKTp0aGlzLl9zZXRTY2FsZShlLGEsXCJtZXRlclwiKTt9X3NldFNjYWxlKGUsdCxpKXtjb25zdCBvPWRuKHQpLHI9by90O3RoaXMuX21hcC5fcmVxdWVzdERvbVRhc2soKCgpPT57dGhpcy5fY29udGFpbmVyLnN0eWxlLndpZHRoPWUqcitcInB4XCIsdGhpcy5fY29udGFpbmVyLmlubmVySFRNTD1cIm5hdXRpY2FsLW1pbGVcIiE9PWk/bmV3IEludGwuTnVtYmVyRm9ybWF0KHRoaXMuX2xhbmd1YWdlLHtzdHlsZTpcInVuaXRcIix1bml0RGlzcGxheTpcIm5hcnJvd1wiLHVuaXQ6aX0pLmZvcm1hdChvKTpgJHtvfSZuYnNwO25tYDt9KSk7fW9uQWRkKGUpe3JldHVybiB0aGlzLl9tYXA9ZSx0aGlzLl9sYW5ndWFnZT1lLmdldExhbmd1YWdlKCksdGhpcy5fY29udGFpbmVyPW4oXCJkaXZcIixcIm1hcGJveGdsLWN0cmwgbWFwYm94Z2wtY3RybC1zY2FsZVwiLGUuZ2V0Q29udGFpbmVyKCkpLHRoaXMuX2NvbnRhaW5lci5kaXI9XCJhdXRvXCIsdGhpcy5fbWFwLm9uKFwibW92ZVwiLHRoaXMuX3VwZGF0ZSksdGhpcy5fdXBkYXRlKCksdGhpcy5fY29udGFpbmVyfW9uUmVtb3ZlKCl7dGhpcy5fY29udGFpbmVyLnJlbW92ZSgpLHRoaXMuX21hcC5vZmYoXCJtb3ZlXCIsdGhpcy5fdXBkYXRlKSx0aGlzLl9tYXA9dm9pZCAwO31fc2V0TGFuZ3VhZ2UoZSl7dGhpcy5fbGFuZ3VhZ2U9ZSx0aGlzLl91cGRhdGUoKTt9c2V0VW5pdChlKXt0aGlzLm9wdGlvbnMudW5pdD1lLHRoaXMuX3VwZGF0ZSgpO319LEZ1bGxzY3JlZW5Db250cm9sOmNsYXNze2NvbnN0cnVjdG9yKHQpe3RoaXMuX2Z1bGxzY3JlZW49ITEsdCYmdC5jb250YWluZXImJih0LmNvbnRhaW5lciBpbnN0YW5jZW9mIGUud2luZG93LkhUTUxFbGVtZW50P3RoaXMuX2NvbnRhaW5lcj10LmNvbnRhaW5lcjplLndhcm5PbmNlKFwiRnVsbCBzY3JlZW4gY29udHJvbCAnY29udGFpbmVyJyBtdXN0IGJlIGEgRE9NIGVsZW1lbnQuXCIpKSxlLmJpbmRBbGwoW1wiX29uQ2xpY2tGdWxsc2NyZWVuXCIsXCJfY2hhbmdlSWNvblwiXSx0aGlzKSxcIm9uZnVsbHNjcmVlbmNoYW5nZVwiaW4gZS53aW5kb3cuZG9jdW1lbnQ/dGhpcy5fZnVsbHNjcmVlbmNoYW5nZT1cImZ1bGxzY3JlZW5jaGFuZ2VcIjpcIm9ud2Via2l0ZnVsbHNjcmVlbmNoYW5nZVwiaW4gZS53aW5kb3cuZG9jdW1lbnQmJih0aGlzLl9mdWxsc2NyZWVuY2hhbmdlPVwid2Via2l0ZnVsbHNjcmVlbmNoYW5nZVwiKTt9b25BZGQodCl7cmV0dXJuIHRoaXMuX21hcD10LHRoaXMuX2NvbnRhaW5lcnx8KHRoaXMuX2NvbnRhaW5lcj10aGlzLl9tYXAuZ2V0Q29udGFpbmVyKCkpLHRoaXMuX2NvbnRyb2xDb250YWluZXI9bihcImRpdlwiLFwibWFwYm94Z2wtY3RybCBtYXBib3hnbC1jdHJsLWdyb3VwXCIpLHRoaXMuX2NoZWNrRnVsbHNjcmVlblN1cHBvcnQoKT90aGlzLl9zZXR1cFVJKCk6KHRoaXMuX2NvbnRyb2xDb250YWluZXIuc3R5bGUuZGlzcGxheT1cIm5vbmVcIixlLndhcm5PbmNlKFwiVGhpcyBkZXZpY2UgZG9lcyBub3Qgc3VwcG9ydCBmdWxsc2NyZWVuIG1vZGUuXCIpKSx0aGlzLl9jb250cm9sQ29udGFpbmVyfW9uUmVtb3ZlKCl7dGhpcy5fY29udHJvbENvbnRhaW5lci5yZW1vdmUoKSx0aGlzLl9tYXA9bnVsbCxlLndpbmRvdy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMuX2Z1bGxzY3JlZW5jaGFuZ2UsdGhpcy5fY2hhbmdlSWNvbik7fV9jaGVja0Z1bGxzY3JlZW5TdXBwb3J0KCl7cmV0dXJuICEoIWUud2luZG93LmRvY3VtZW50LmZ1bGxzY3JlZW5FbmFibGVkJiYhZS53aW5kb3cuZG9jdW1lbnQud2Via2l0RnVsbHNjcmVlbkVuYWJsZWQpfV9zZXR1cFVJKCl7Y29uc3QgdD10aGlzLl9mdWxsc2NyZWVuQnV0dG9uPW4oXCJidXR0b25cIixcIm1hcGJveGdsLWN0cmwtZnVsbHNjcmVlblwiLHRoaXMuX2NvbnRyb2xDb250YWluZXIpO24oXCJzcGFuXCIsXCJtYXBib3hnbC1jdHJsLWljb25cIix0KS5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLFwidHJ1ZVwiKSx0LnR5cGU9XCJidXR0b25cIix0aGlzLl91cGRhdGVUaXRsZSgpLHRoaXMuX2Z1bGxzY3JlZW5CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdGhpcy5fb25DbGlja0Z1bGxzY3JlZW4pLGUud2luZG93LmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIodGhpcy5fZnVsbHNjcmVlbmNoYW5nZSx0aGlzLl9jaGFuZ2VJY29uKTt9X3VwZGF0ZVRpdGxlKCl7Y29uc3QgZT10aGlzLl9nZXRUaXRsZSgpO3RoaXMuX2Z1bGxzY3JlZW5CdXR0b24uc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLGUpLHRoaXMuX2Z1bGxzY3JlZW5CdXR0b24uZmlyc3RFbGVtZW50Q2hpbGQmJnRoaXMuX2Z1bGxzY3JlZW5CdXR0b24uZmlyc3RFbGVtZW50Q2hpbGQuc2V0QXR0cmlidXRlKFwidGl0bGVcIixlKTt9X2dldFRpdGxlKCl7cmV0dXJuIHRoaXMuX21hcC5fZ2V0VUlTdHJpbmcodGhpcy5faXNGdWxsc2NyZWVuKCk/XCJGdWxsc2NyZWVuQ29udHJvbC5FeGl0XCI6XCJGdWxsc2NyZWVuQ29udHJvbC5FbnRlclwiKX1faXNGdWxsc2NyZWVuKCl7cmV0dXJuIHRoaXMuX2Z1bGxzY3JlZW59X2NoYW5nZUljb24oKXsoZS53aW5kb3cuZG9jdW1lbnQuZnVsbHNjcmVlbkVsZW1lbnR8fGUud2luZG93LmRvY3VtZW50LndlYmtpdEZ1bGxzY3JlZW5FbGVtZW50KT09PXRoaXMuX2NvbnRhaW5lciE9PXRoaXMuX2Z1bGxzY3JlZW4mJih0aGlzLl9mdWxsc2NyZWVuPSF0aGlzLl9mdWxsc2NyZWVuLHRoaXMuX2Z1bGxzY3JlZW5CdXR0b24uY2xhc3NMaXN0LnRvZ2dsZShcIm1hcGJveGdsLWN0cmwtc2hyaW5rXCIpLHRoaXMuX2Z1bGxzY3JlZW5CdXR0b24uY2xhc3NMaXN0LnRvZ2dsZShcIm1hcGJveGdsLWN0cmwtZnVsbHNjcmVlblwiKSx0aGlzLl91cGRhdGVUaXRsZSgpKTt9X29uQ2xpY2tGdWxsc2NyZWVuKCl7dGhpcy5faXNGdWxsc2NyZWVuKCk/ZS53aW5kb3cuZG9jdW1lbnQuZXhpdEZ1bGxzY3JlZW4/ZS53aW5kb3cuZG9jdW1lbnQuZXhpdEZ1bGxzY3JlZW4oKTplLndpbmRvdy5kb2N1bWVudC53ZWJraXRDYW5jZWxGdWxsU2NyZWVuJiZlLndpbmRvdy5kb2N1bWVudC53ZWJraXRDYW5jZWxGdWxsU2NyZWVuKCk6dGhpcy5fY29udGFpbmVyLnJlcXVlc3RGdWxsc2NyZWVuP3RoaXMuX2NvbnRhaW5lci5yZXF1ZXN0RnVsbHNjcmVlbigpOnRoaXMuX2NvbnRhaW5lci53ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbiYmdGhpcy5fY29udGFpbmVyLndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuKCk7fX0sUG9wdXA6Y2xhc3MgZXh0ZW5kcyBlLkV2ZW50ZWR7Y29uc3RydWN0b3IodCl7c3VwZXIoKSx0aGlzLm9wdGlvbnM9ZS5leHRlbmQoT2JqZWN0LmNyZWF0ZShwbiksdCksZS5iaW5kQWxsKFtcIl91cGRhdGVcIixcIl9vbkNsb3NlXCIsXCJyZW1vdmVcIixcIl9vbk1vdXNlRXZlbnRcIl0sdGhpcyksdGhpcy5fY2xhc3NMaXN0PW5ldyBTZXQodCYmdC5jbGFzc05hbWU/dC5jbGFzc05hbWUudHJpbSgpLnNwbGl0KC9cXHMrLyk6W10pO31hZGRUbyh0KXtyZXR1cm4gdGhpcy5fbWFwJiZ0aGlzLnJlbW92ZSgpLHRoaXMuX21hcD10LHRoaXMub3B0aW9ucy5jbG9zZU9uQ2xpY2smJnQub24oXCJwcmVjbGlja1wiLHRoaXMuX29uQ2xvc2UpLHRoaXMub3B0aW9ucy5jbG9zZU9uTW92ZSYmdC5vbihcIm1vdmVcIix0aGlzLl9vbkNsb3NlKSx0Lm9uKFwicmVtb3ZlXCIsdGhpcy5yZW1vdmUpLHRoaXMuX3VwZGF0ZSgpLHRoaXMuX2ZvY3VzRmlyc3RFbGVtZW50KCksdGhpcy5fdHJhY2tQb2ludGVyPyh0Lm9uKFwibW91c2Vtb3ZlXCIsdGhpcy5fb25Nb3VzZUV2ZW50KSx0Lm9uKFwibW91c2V1cFwiLHRoaXMuX29uTW91c2VFdmVudCksdC5fY2FudmFzQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC10cmFjay1wb2ludGVyXCIpKTp0Lm9uKFwibW92ZVwiLHRoaXMuX3VwZGF0ZSksdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwib3BlblwiKSksdGhpc31pc09wZW4oKXtyZXR1cm4gISF0aGlzLl9tYXB9cmVtb3ZlKCl7dGhpcy5fY29udGVudCYmdGhpcy5fY29udGVudC5yZW1vdmUoKSx0aGlzLl9jb250YWluZXImJih0aGlzLl9jb250YWluZXIucmVtb3ZlKCksdGhpcy5fY29udGFpbmVyPXZvaWQgMCk7Y29uc3QgdD10aGlzLl9tYXA7cmV0dXJuIHQmJih0Lm9mZihcIm1vdmVcIix0aGlzLl91cGRhdGUpLHQub2ZmKFwibW92ZVwiLHRoaXMuX29uQ2xvc2UpLHQub2ZmKFwicHJlY2xpY2tcIix0aGlzLl9vbkNsb3NlKSx0Lm9mZihcImNsaWNrXCIsdGhpcy5fb25DbG9zZSksdC5vZmYoXCJyZW1vdmVcIix0aGlzLnJlbW92ZSksdC5vZmYoXCJtb3VzZW1vdmVcIix0aGlzLl9vbk1vdXNlRXZlbnQpLHQub2ZmKFwibW91c2V1cFwiLHRoaXMuX29uTW91c2VFdmVudCksdC5vZmYoXCJkcmFnXCIsdGhpcy5fb25Nb3VzZUV2ZW50KSx0aGlzLl9tYXA9dm9pZCAwKSx0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJjbG9zZVwiKSksdGhpc31nZXRMbmdMYXQoKXtyZXR1cm4gdGhpcy5fbG5nTGF0fXNldExuZ0xhdCh0KXt0aGlzLl9sbmdMYXQ9ZS5MbmdMYXQuY29udmVydCh0KSx0aGlzLl9wb3M9bnVsbCx0aGlzLl90cmFja1BvaW50ZXI9ITEsdGhpcy5fdXBkYXRlKCk7Y29uc3QgaT10aGlzLl9tYXA7cmV0dXJuIGkmJihpLm9uKFwibW92ZVwiLHRoaXMuX3VwZGF0ZSksaS5vZmYoXCJtb3VzZW1vdmVcIix0aGlzLl9vbk1vdXNlRXZlbnQpLGkuX2NhbnZhc0NvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtdHJhY2stcG9pbnRlclwiKSksdGhpc310cmFja1BvaW50ZXIoKXt0aGlzLl90cmFja1BvaW50ZXI9ITAsdGhpcy5fcG9zPW51bGwsdGhpcy5fdXBkYXRlKCk7Y29uc3QgZT10aGlzLl9tYXA7cmV0dXJuIGUmJihlLm9mZihcIm1vdmVcIix0aGlzLl91cGRhdGUpLGUub24oXCJtb3VzZW1vdmVcIix0aGlzLl9vbk1vdXNlRXZlbnQpLGUub24oXCJkcmFnXCIsdGhpcy5fb25Nb3VzZUV2ZW50KSxlLl9jYW52YXNDb250YWluZXIuY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLXRyYWNrLXBvaW50ZXJcIikpLHRoaXN9Z2V0RWxlbWVudCgpe3JldHVybiB0aGlzLl9jb250YWluZXJ9c2V0VGV4dCh0KXtyZXR1cm4gdGhpcy5zZXRET01Db250ZW50KGUud2luZG93LmRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHQpKX1zZXRIVE1MKHQpe2NvbnN0IGk9ZS53aW5kb3cuZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLG89ZS53aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJvZHlcIik7bGV0IHI7Zm9yKG8uaW5uZXJIVE1MPXQ7cj1vLmZpcnN0Q2hpbGQscjspaS5hcHBlbmRDaGlsZChyKTtyZXR1cm4gdGhpcy5zZXRET01Db250ZW50KGkpfWdldE1heFdpZHRoKCl7cmV0dXJuIHRoaXMuX2NvbnRhaW5lciYmdGhpcy5fY29udGFpbmVyLnN0eWxlLm1heFdpZHRofXNldE1heFdpZHRoKGUpe3JldHVybiB0aGlzLm9wdGlvbnMubWF4V2lkdGg9ZSx0aGlzLl91cGRhdGUoKSx0aGlzfXNldERPTUNvbnRlbnQoZSl7bGV0IHQ9dGhpcy5fY29udGVudDtpZih0KWZvcig7dC5oYXNDaGlsZE5vZGVzKCk7KXQuZmlyc3RDaGlsZCYmdC5yZW1vdmVDaGlsZCh0LmZpcnN0Q2hpbGQpO2Vsc2UgdD10aGlzLl9jb250ZW50PW4oXCJkaXZcIixcIm1hcGJveGdsLXBvcHVwLWNvbnRlbnRcIix0aGlzLl9jb250YWluZXJ8fHZvaWQgMCk7aWYodC5hcHBlbmRDaGlsZChlKSx0aGlzLm9wdGlvbnMuY2xvc2VCdXR0b24pe2NvbnN0IGU9dGhpcy5fY2xvc2VCdXR0b249bihcImJ1dHRvblwiLFwibWFwYm94Z2wtcG9wdXAtY2xvc2UtYnV0dG9uXCIsdCk7ZS50eXBlPVwiYnV0dG9uXCIsZS5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsXCJDbG9zZSBwb3B1cFwiKSxlLnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsXCJ0cnVlXCIpLGUuaW5uZXJIVE1MPVwiJiMyMTU7XCIsZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIix0aGlzLl9vbkNsb3NlKTt9cmV0dXJuIHRoaXMuX3VwZGF0ZSgpLHRoaXMuX2ZvY3VzRmlyc3RFbGVtZW50KCksdGhpc31hZGRDbGFzc05hbWUoZSl7cmV0dXJuIHRoaXMuX2NsYXNzTGlzdC5hZGQoZSksdGhpcy5fdXBkYXRlQ2xhc3NMaXN0KCksdGhpc31yZW1vdmVDbGFzc05hbWUoZSl7cmV0dXJuIHRoaXMuX2NsYXNzTGlzdC5kZWxldGUoZSksdGhpcy5fdXBkYXRlQ2xhc3NMaXN0KCksdGhpc31zZXRPZmZzZXQoZSl7cmV0dXJuIHRoaXMub3B0aW9ucy5vZmZzZXQ9ZSx0aGlzLl91cGRhdGUoKSx0aGlzfXRvZ2dsZUNsYXNzTmFtZShlKXtsZXQgdDtyZXR1cm4gdGhpcy5fY2xhc3NMaXN0LmRlbGV0ZShlKT90PSExOih0aGlzLl9jbGFzc0xpc3QuYWRkKGUpLHQ9ITApLHRoaXMuX3VwZGF0ZUNsYXNzTGlzdCgpLHR9X29uTW91c2VFdmVudChlKXt0aGlzLl91cGRhdGUoZS5wb2ludCk7fV9nZXRBbmNob3IoZSl7aWYodGhpcy5vcHRpb25zLmFuY2hvcilyZXR1cm4gdGhpcy5vcHRpb25zLmFuY2hvcjtjb25zdCB0PXRoaXMuX21hcCxpPXRoaXMuX2NvbnRhaW5lcixvPXRoaXMuX3BvcztpZighdHx8IWl8fCFvKXJldHVybiBcImJvdHRvbVwiO2NvbnN0IHI9aS5vZmZzZXRXaWR0aCxuPWkub2Zmc2V0SGVpZ2h0LGE9by54PHIvMixzPW8ueD50LnRyYW5zZm9ybS53aWR0aC1yLzI7aWYoby55K2U8bilyZXR1cm4gYT9cInRvcC1sZWZ0XCI6cz9cInRvcC1yaWdodFwiOlwidG9wXCI7aWYoby55PnQudHJhbnNmb3JtLmhlaWdodC1uKXtpZihhKXJldHVybiBcImJvdHRvbS1sZWZ0XCI7aWYocylyZXR1cm4gXCJib3R0b20tcmlnaHRcIn1yZXR1cm4gYT9cImxlZnRcIjpzP1wicmlnaHRcIjpcImJvdHRvbVwifV91cGRhdGVDbGFzc0xpc3QoKXtjb25zdCBlPXRoaXMuX2NvbnRhaW5lcjtpZighZSlyZXR1cm47Y29uc3QgdD1bLi4udGhpcy5fY2xhc3NMaXN0XTt0LnB1c2goXCJtYXBib3hnbC1wb3B1cFwiKSx0aGlzLl9hbmNob3ImJnQucHVzaChgbWFwYm94Z2wtcG9wdXAtYW5jaG9yLSR7dGhpcy5fYW5jaG9yfWApLHRoaXMuX3RyYWNrUG9pbnRlciYmdC5wdXNoKFwibWFwYm94Z2wtcG9wdXAtdHJhY2stcG9pbnRlclwiKSxlLmNsYXNzTmFtZT10LmpvaW4oXCIgXCIpO31fdXBkYXRlKHQpe2NvbnN0IGk9dGhpcy5fbWFwLG89dGhpcy5fY29udGVudDtpZighaXx8IXRoaXMuX2xuZ0xhdCYmIXRoaXMuX3RyYWNrUG9pbnRlcnx8IW8pcmV0dXJuO2xldCByPXRoaXMuX2NvbnRhaW5lcjtpZihyfHwocj10aGlzLl9jb250YWluZXI9bihcImRpdlwiLFwibWFwYm94Z2wtcG9wdXBcIixpLmdldENvbnRhaW5lcigpKSx0aGlzLl90aXA9bihcImRpdlwiLFwibWFwYm94Z2wtcG9wdXAtdGlwXCIsciksci5hcHBlbmRDaGlsZChvKSksdGhpcy5vcHRpb25zLm1heFdpZHRoJiZyLnN0eWxlLm1heFdpZHRoIT09dGhpcy5vcHRpb25zLm1heFdpZHRoJiYoci5zdHlsZS5tYXhXaWR0aD10aGlzLm9wdGlvbnMubWF4V2lkdGgpLGkudHJhbnNmb3JtLnJlbmRlcldvcmxkQ29waWVzJiYhdGhpcy5fdHJhY2tQb2ludGVyJiYodGhpcy5fbG5nTGF0PWVuKHRoaXMuX2xuZ0xhdCx0aGlzLl9wb3MsaS50cmFuc2Zvcm0pKSwhdGhpcy5fdHJhY2tQb2ludGVyfHx0KXtjb25zdCBlPXRoaXMuX3Bvcz10aGlzLl90cmFja1BvaW50ZXImJnQ/dDppLnByb2plY3QodGhpcy5fbG5nTGF0KSxvPWZuKHRoaXMub3B0aW9ucy5vZmZzZXQpLHI9dGhpcy5fYW5jaG9yPXRoaXMuX2dldEFuY2hvcihvLnkpLG49Zm4odGhpcy5vcHRpb25zLm9mZnNldCxyKSxhPWUuYWRkKG4pLnJvdW5kKCk7aS5fcmVxdWVzdERvbVRhc2soKCgpPT57dGhpcy5fY29udGFpbmVyJiZyJiYodGhpcy5fY29udGFpbmVyLnN0eWxlLnRyYW5zZm9ybT1gJHt0bltyXX0gdHJhbnNsYXRlKCR7YS54fXB4LCR7YS55fXB4KWApO30pKTt9aWYoIXRoaXMuX21hcmtlciYmaS5fc2hvd2luZ0dsb2JlKCkpe2NvbnN0IHQ9ZS5pc0xuZ0xhdEJlaGluZEdsb2JlKGkudHJhbnNmb3JtLHRoaXMuX2xuZ0xhdCk/MDoxO3RoaXMuX3NldE9wYWNpdHkodCk7fXRoaXMuX3VwZGF0ZUNsYXNzTGlzdCgpO31fZm9jdXNGaXJzdEVsZW1lbnQoKXtpZighdGhpcy5vcHRpb25zLmZvY3VzQWZ0ZXJPcGVufHwhdGhpcy5fY29udGFpbmVyKXJldHVybjtjb25zdCBlPXRoaXMuX2NvbnRhaW5lci5xdWVyeVNlbGVjdG9yKG1uKTtlJiZlLmZvY3VzKCk7fV9vbkNsb3NlKCl7dGhpcy5yZW1vdmUoKTt9X3NldE9wYWNpdHkoZSl7dGhpcy5fY29udGFpbmVyJiYodGhpcy5fY29udGFpbmVyLnN0eWxlLm9wYWNpdHk9YCR7ZX1gKSx0aGlzLl9jb250ZW50JiYodGhpcy5fY29udGVudC5zdHlsZS5wb2ludGVyRXZlbnRzPWU/XCJhdXRvXCI6XCJub25lXCIpO319LE1hcmtlcjpvbixTdHlsZTplaSxMbmdMYXQ6ZS5MbmdMYXQsTG5nTGF0Qm91bmRzOmUuTG5nTGF0Qm91bmRzLFBvaW50OmUucG9pbnRHZW9tZXRyeSxNZXJjYXRvckNvb3JkaW5hdGU6ZS5NZXJjYXRvckNvb3JkaW5hdGUsRnJlZUNhbWVyYU9wdGlvbnM6Wm8sRXZlbnRlZDplLkV2ZW50ZWQsY29uZmlnOmUuY29uZmlnLHByZXdhcm06ZnVuY3Rpb24oKXtHZSgpLmFjcXVpcmUoRmUpO30sY2xlYXJQcmV3YXJtZWRSZXNvdXJjZXM6ZnVuY3Rpb24oKXtjb25zdCBlPU5lO2UmJihlLmlzUHJlbG9hZGVkKCkmJjE9PT1lLm51bUFjdGl2ZSgpPyhlLnJlbGVhc2UoRmUpLE5lPW51bGwpOmNvbnNvbGUud2FybihcIkNvdWxkIG5vdCBjbGVhciBXZWJXb3JrZXJzIHNpbmNlIHRoZXJlIGFyZSBhY3RpdmUgTWFwIGluc3RhbmNlcyB0aGF0IHN0aWxsIHJlZmVyZW5jZSBpdC4gVGhlIHByZS13YXJtZWQgV2ViV29ya2VyIHBvb2wgY2FuIG9ubHkgYmUgY2xlYXJlZCB3aGVuIGFsbCBtYXAgaW5zdGFuY2VzIGhhdmUgYmVlbiByZW1vdmVkIHdpdGggbWFwLnJlbW92ZSgpXCIpKTt9LGdldCBhY2Nlc3NUb2tlbigpe3JldHVybiBlLmNvbmZpZy5BQ0NFU1NfVE9LRU59LHNldCBhY2Nlc3NUb2tlbih0KXtlLmNvbmZpZy5BQ0NFU1NfVE9LRU49dDt9LGdldCBiYXNlQXBpVXJsKCl7cmV0dXJuIGUuY29uZmlnLkFQSV9VUkx9LHNldCBiYXNlQXBpVXJsKHQpe2UuY29uZmlnLkFQSV9VUkw9dDt9LGdldCB3b3JrZXJDb3VudCgpe3JldHVybiBVZS53b3JrZXJDb3VudH0sc2V0IHdvcmtlckNvdW50KGUpe1VlLndvcmtlckNvdW50PWU7fSxnZXQgbWF4UGFyYWxsZWxJbWFnZVJlcXVlc3RzKCl7cmV0dXJuIGUuY29uZmlnLk1BWF9QQVJBTExFTF9JTUFHRV9SRVFVRVNUU30sc2V0IG1heFBhcmFsbGVsSW1hZ2VSZXF1ZXN0cyh0KXtlLmNvbmZpZy5NQVhfUEFSQUxMRUxfSU1BR0VfUkVRVUVTVFM9dDt9LGNsZWFyU3RvcmFnZSh0KXtlLmNsZWFyVGlsZUNhY2hlKHQpO30sd29ya2VyVXJsOlwiXCIsd29ya2VyQ2xhc3M6bnVsbCxzZXROb3c6ZS5leHBvcnRlZC5zZXROb3cscmVzdG9yZU5vdzplLmV4cG9ydGVkLnJlc3RvcmVOb3d9O3JldHVybiBnbn0pKTtcblxuLy9cblxudmFyIG1hcGJveGdsJDEgPSBtYXBib3hnbDtcblxucmV0dXJuIG1hcGJveGdsJDE7XG5cbn0pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1hcGJveC1nbC5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/mapbox-gl/dist/mapbox-gl.js\n");

/***/ }),

/***/ "./node_modules/mjolnir.js/dist/esm/constants.js":
/*!*******************************************************!*\
  !*** ./node_modules/mjolnir.js/dist/esm/constants.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BASIC_EVENT_ALIASES: () => (/* binding */ BASIC_EVENT_ALIASES),\n/* harmony export */   EVENT_RECOGNIZER_MAP: () => (/* binding */ EVENT_RECOGNIZER_MAP),\n/* harmony export */   GESTURE_EVENT_ALIASES: () => (/* binding */ GESTURE_EVENT_ALIASES),\n/* harmony export */   INPUT_EVENT_TYPES: () => (/* binding */ INPUT_EVENT_TYPES),\n/* harmony export */   RECOGNIZERS: () => (/* binding */ RECOGNIZERS),\n/* harmony export */   RECOGNIZER_COMPATIBLE_MAP: () => (/* binding */ RECOGNIZER_COMPATIBLE_MAP),\n/* harmony export */   RECOGNIZER_FALLBACK_MAP: () => (/* binding */ RECOGNIZER_FALLBACK_MAP)\n/* harmony export */ });\n/* harmony import */ var _utils_hammer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils/hammer */ \"./node_modules/mjolnir.js/dist/esm/utils/hammer.browser.js\");\n\n// This module contains constants that must be conditionally required\n// due to `window`/`document` references downstream.\nconst RECOGNIZERS = _utils_hammer__WEBPACK_IMPORTED_MODULE_0__[\"default\"]\n    ? [\n        [_utils_hammer__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Pan, { event: 'tripan', pointers: 3, threshold: 0, enable: false }],\n        [_utils_hammer__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Rotate, { enable: false }],\n        [_utils_hammer__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Pinch, { enable: false }],\n        [_utils_hammer__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Swipe, { enable: false }],\n        [_utils_hammer__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Pan, { threshold: 0, enable: false }],\n        [_utils_hammer__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Press, { enable: false }],\n        [_utils_hammer__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Tap, { event: 'doubletap', taps: 2, enable: false }],\n        // TODO - rename to 'tap' and 'singletap' in the next major release\n        [_utils_hammer__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Tap, { event: 'anytap', enable: false }],\n        [_utils_hammer__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Tap, { enable: false }]\n    ]\n    : null;\n// Recognize the following gestures even if a given recognizer succeeds\nconst RECOGNIZER_COMPATIBLE_MAP = {\n    tripan: ['rotate', 'pinch', 'pan'],\n    rotate: ['pinch'],\n    pinch: ['pan'],\n    pan: ['press', 'doubletap', 'anytap', 'tap'],\n    doubletap: ['anytap'],\n    anytap: ['tap']\n};\n// Recognize the folling gestures only if a given recognizer fails\nconst RECOGNIZER_FALLBACK_MAP = {\n    doubletap: ['tap']\n};\n/**\n * Only one set of basic input events will be fired by Hammer.js:\n * either pointer, touch, or mouse, depending on system support.\n * In order to enable an application to be agnostic of system support,\n * alias basic input events into \"classes\" of events: down, move, and up.\n * See `_onBasicInput()` for usage of these aliases.\n */\nconst BASIC_EVENT_ALIASES = {\n    pointerdown: 'pointerdown',\n    pointermove: 'pointermove',\n    pointerup: 'pointerup',\n    touchstart: 'pointerdown',\n    touchmove: 'pointermove',\n    touchend: 'pointerup',\n    mousedown: 'pointerdown',\n    mousemove: 'pointermove',\n    mouseup: 'pointerup'\n};\nconst INPUT_EVENT_TYPES = {\n    KEY_EVENTS: ['keydown', 'keyup'],\n    MOUSE_EVENTS: ['mousedown', 'mousemove', 'mouseup', 'mouseover', 'mouseout', 'mouseleave'],\n    WHEEL_EVENTS: [\n        // Chrome, Safari\n        'wheel',\n        // IE\n        'mousewheel'\n    ]\n};\n/**\n * \"Gestural\" events are those that have semantic meaning beyond the basic input event,\n * e.g. a click or tap is a sequence of `down` and `up` events with no `move` event in between.\n * Hammer.js handles these with its Recognizer system;\n * this block maps event names to the Recognizers required to detect the events.\n */\nconst EVENT_RECOGNIZER_MAP = {\n    tap: 'tap',\n    anytap: 'anytap',\n    doubletap: 'doubletap',\n    press: 'press',\n    pinch: 'pinch',\n    pinchin: 'pinch',\n    pinchout: 'pinch',\n    pinchstart: 'pinch',\n    pinchmove: 'pinch',\n    pinchend: 'pinch',\n    pinchcancel: 'pinch',\n    rotate: 'rotate',\n    rotatestart: 'rotate',\n    rotatemove: 'rotate',\n    rotateend: 'rotate',\n    rotatecancel: 'rotate',\n    tripan: 'tripan',\n    tripanstart: 'tripan',\n    tripanmove: 'tripan',\n    tripanup: 'tripan',\n    tripandown: 'tripan',\n    tripanleft: 'tripan',\n    tripanright: 'tripan',\n    tripanend: 'tripan',\n    tripancancel: 'tripan',\n    pan: 'pan',\n    panstart: 'pan',\n    panmove: 'pan',\n    panup: 'pan',\n    pandown: 'pan',\n    panleft: 'pan',\n    panright: 'pan',\n    panend: 'pan',\n    pancancel: 'pan',\n    swipe: 'swipe',\n    swipeleft: 'swipe',\n    swiperight: 'swipe',\n    swipeup: 'swipe',\n    swipedown: 'swipe'\n};\n/**\n * Map gestural events typically provided by browsers\n * that are not reported in 'hammer.input' events\n * to corresponding Hammer.js gestures.\n */\nconst GESTURE_EVENT_ALIASES = {\n    click: 'tap',\n    anyclick: 'anytap',\n    dblclick: 'doubletap',\n    mousedown: 'pointerdown',\n    mousemove: 'pointermove',\n    mouseup: 'pointerup',\n    mouseover: 'pointerover',\n    mouseout: 'pointerout',\n    mouseleave: 'pointerleave'\n};\n//# sourceMappingURL=constants.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbWpvbG5pci5qcy9kaXN0L2VzbS9jb25zdGFudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdXBlcnNldC8uL25vZGVfbW9kdWxlcy9tam9sbmlyLmpzL2Rpc3QvZXNtL2NvbnN0YW50cy5qcz8zYzRlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBIYW1tZXIgZnJvbSAnLi91dGlscy9oYW1tZXInO1xuLy8gVGhpcyBtb2R1bGUgY29udGFpbnMgY29uc3RhbnRzIHRoYXQgbXVzdCBiZSBjb25kaXRpb25hbGx5IHJlcXVpcmVkXG4vLyBkdWUgdG8gYHdpbmRvd2AvYGRvY3VtZW50YCByZWZlcmVuY2VzIGRvd25zdHJlYW0uXG5leHBvcnQgY29uc3QgUkVDT0dOSVpFUlMgPSBIYW1tZXJcbiAgICA/IFtcbiAgICAgICAgW0hhbW1lci5QYW4sIHsgZXZlbnQ6ICd0cmlwYW4nLCBwb2ludGVyczogMywgdGhyZXNob2xkOiAwLCBlbmFibGU6IGZhbHNlIH1dLFxuICAgICAgICBbSGFtbWVyLlJvdGF0ZSwgeyBlbmFibGU6IGZhbHNlIH1dLFxuICAgICAgICBbSGFtbWVyLlBpbmNoLCB7IGVuYWJsZTogZmFsc2UgfV0sXG4gICAgICAgIFtIYW1tZXIuU3dpcGUsIHsgZW5hYmxlOiBmYWxzZSB9XSxcbiAgICAgICAgW0hhbW1lci5QYW4sIHsgdGhyZXNob2xkOiAwLCBlbmFibGU6IGZhbHNlIH1dLFxuICAgICAgICBbSGFtbWVyLlByZXNzLCB7IGVuYWJsZTogZmFsc2UgfV0sXG4gICAgICAgIFtIYW1tZXIuVGFwLCB7IGV2ZW50OiAnZG91YmxldGFwJywgdGFwczogMiwgZW5hYmxlOiBmYWxzZSB9XSxcbiAgICAgICAgLy8gVE9ETyAtIHJlbmFtZSB0byAndGFwJyBhbmQgJ3NpbmdsZXRhcCcgaW4gdGhlIG5leHQgbWFqb3IgcmVsZWFzZVxuICAgICAgICBbSGFtbWVyLlRhcCwgeyBldmVudDogJ2FueXRhcCcsIGVuYWJsZTogZmFsc2UgfV0sXG4gICAgICAgIFtIYW1tZXIuVGFwLCB7IGVuYWJsZTogZmFsc2UgfV1cbiAgICBdXG4gICAgOiBudWxsO1xuLy8gUmVjb2duaXplIHRoZSBmb2xsb3dpbmcgZ2VzdHVyZXMgZXZlbiBpZiBhIGdpdmVuIHJlY29nbml6ZXIgc3VjY2VlZHNcbmV4cG9ydCBjb25zdCBSRUNPR05JWkVSX0NPTVBBVElCTEVfTUFQID0ge1xuICAgIHRyaXBhbjogWydyb3RhdGUnLCAncGluY2gnLCAncGFuJ10sXG4gICAgcm90YXRlOiBbJ3BpbmNoJ10sXG4gICAgcGluY2g6IFsncGFuJ10sXG4gICAgcGFuOiBbJ3ByZXNzJywgJ2RvdWJsZXRhcCcsICdhbnl0YXAnLCAndGFwJ10sXG4gICAgZG91YmxldGFwOiBbJ2FueXRhcCddLFxuICAgIGFueXRhcDogWyd0YXAnXVxufTtcbi8vIFJlY29nbml6ZSB0aGUgZm9sbGluZyBnZXN0dXJlcyBvbmx5IGlmIGEgZ2l2ZW4gcmVjb2duaXplciBmYWlsc1xuZXhwb3J0IGNvbnN0IFJFQ09HTklaRVJfRkFMTEJBQ0tfTUFQID0ge1xuICAgIGRvdWJsZXRhcDogWyd0YXAnXVxufTtcbi8qKlxuICogT25seSBvbmUgc2V0IG9mIGJhc2ljIGlucHV0IGV2ZW50cyB3aWxsIGJlIGZpcmVkIGJ5IEhhbW1lci5qczpcbiAqIGVpdGhlciBwb2ludGVyLCB0b3VjaCwgb3IgbW91c2UsIGRlcGVuZGluZyBvbiBzeXN0ZW0gc3VwcG9ydC5cbiAqIEluIG9yZGVyIHRvIGVuYWJsZSBhbiBhcHBsaWNhdGlvbiB0byBiZSBhZ25vc3RpYyBvZiBzeXN0ZW0gc3VwcG9ydCxcbiAqIGFsaWFzIGJhc2ljIGlucHV0IGV2ZW50cyBpbnRvIFwiY2xhc3Nlc1wiIG9mIGV2ZW50czogZG93biwgbW92ZSwgYW5kIHVwLlxuICogU2VlIGBfb25CYXNpY0lucHV0KClgIGZvciB1c2FnZSBvZiB0aGVzZSBhbGlhc2VzLlxuICovXG5leHBvcnQgY29uc3QgQkFTSUNfRVZFTlRfQUxJQVNFUyA9IHtcbiAgICBwb2ludGVyZG93bjogJ3BvaW50ZXJkb3duJyxcbiAgICBwb2ludGVybW92ZTogJ3BvaW50ZXJtb3ZlJyxcbiAgICBwb2ludGVydXA6ICdwb2ludGVydXAnLFxuICAgIHRvdWNoc3RhcnQ6ICdwb2ludGVyZG93bicsXG4gICAgdG91Y2htb3ZlOiAncG9pbnRlcm1vdmUnLFxuICAgIHRvdWNoZW5kOiAncG9pbnRlcnVwJyxcbiAgICBtb3VzZWRvd246ICdwb2ludGVyZG93bicsXG4gICAgbW91c2Vtb3ZlOiAncG9pbnRlcm1vdmUnLFxuICAgIG1vdXNldXA6ICdwb2ludGVydXAnXG59O1xuZXhwb3J0IGNvbnN0IElOUFVUX0VWRU5UX1RZUEVTID0ge1xuICAgIEtFWV9FVkVOVFM6IFsna2V5ZG93bicsICdrZXl1cCddLFxuICAgIE1PVVNFX0VWRU5UUzogWydtb3VzZWRvd24nLCAnbW91c2Vtb3ZlJywgJ21vdXNldXAnLCAnbW91c2VvdmVyJywgJ21vdXNlb3V0JywgJ21vdXNlbGVhdmUnXSxcbiAgICBXSEVFTF9FVkVOVFM6IFtcbiAgICAgICAgLy8gQ2hyb21lLCBTYWZhcmlcbiAgICAgICAgJ3doZWVsJyxcbiAgICAgICAgLy8gSUVcbiAgICAgICAgJ21vdXNld2hlZWwnXG4gICAgXVxufTtcbi8qKlxuICogXCJHZXN0dXJhbFwiIGV2ZW50cyBhcmUgdGhvc2UgdGhhdCBoYXZlIHNlbWFudGljIG1lYW5pbmcgYmV5b25kIHRoZSBiYXNpYyBpbnB1dCBldmVudCxcbiAqIGUuZy4gYSBjbGljayBvciB0YXAgaXMgYSBzZXF1ZW5jZSBvZiBgZG93bmAgYW5kIGB1cGAgZXZlbnRzIHdpdGggbm8gYG1vdmVgIGV2ZW50IGluIGJldHdlZW4uXG4gKiBIYW1tZXIuanMgaGFuZGxlcyB0aGVzZSB3aXRoIGl0cyBSZWNvZ25pemVyIHN5c3RlbTtcbiAqIHRoaXMgYmxvY2sgbWFwcyBldmVudCBuYW1lcyB0byB0aGUgUmVjb2duaXplcnMgcmVxdWlyZWQgdG8gZGV0ZWN0IHRoZSBldmVudHMuXG4gKi9cbmV4cG9ydCBjb25zdCBFVkVOVF9SRUNPR05JWkVSX01BUCA9IHtcbiAgICB0YXA6ICd0YXAnLFxuICAgIGFueXRhcDogJ2FueXRhcCcsXG4gICAgZG91YmxldGFwOiAnZG91YmxldGFwJyxcbiAgICBwcmVzczogJ3ByZXNzJyxcbiAgICBwaW5jaDogJ3BpbmNoJyxcbiAgICBwaW5jaGluOiAncGluY2gnLFxuICAgIHBpbmNob3V0OiAncGluY2gnLFxuICAgIHBpbmNoc3RhcnQ6ICdwaW5jaCcsXG4gICAgcGluY2htb3ZlOiAncGluY2gnLFxuICAgIHBpbmNoZW5kOiAncGluY2gnLFxuICAgIHBpbmNoY2FuY2VsOiAncGluY2gnLFxuICAgIHJvdGF0ZTogJ3JvdGF0ZScsXG4gICAgcm90YXRlc3RhcnQ6ICdyb3RhdGUnLFxuICAgIHJvdGF0ZW1vdmU6ICdyb3RhdGUnLFxuICAgIHJvdGF0ZWVuZDogJ3JvdGF0ZScsXG4gICAgcm90YXRlY2FuY2VsOiAncm90YXRlJyxcbiAgICB0cmlwYW46ICd0cmlwYW4nLFxuICAgIHRyaXBhbnN0YXJ0OiAndHJpcGFuJyxcbiAgICB0cmlwYW5tb3ZlOiAndHJpcGFuJyxcbiAgICB0cmlwYW51cDogJ3RyaXBhbicsXG4gICAgdHJpcGFuZG93bjogJ3RyaXBhbicsXG4gICAgdHJpcGFubGVmdDogJ3RyaXBhbicsXG4gICAgdHJpcGFucmlnaHQ6ICd0cmlwYW4nLFxuICAgIHRyaXBhbmVuZDogJ3RyaXBhbicsXG4gICAgdHJpcGFuY2FuY2VsOiAndHJpcGFuJyxcbiAgICBwYW46ICdwYW4nLFxuICAgIHBhbnN0YXJ0OiAncGFuJyxcbiAgICBwYW5tb3ZlOiAncGFuJyxcbiAgICBwYW51cDogJ3BhbicsXG4gICAgcGFuZG93bjogJ3BhbicsXG4gICAgcGFubGVmdDogJ3BhbicsXG4gICAgcGFucmlnaHQ6ICdwYW4nLFxuICAgIHBhbmVuZDogJ3BhbicsXG4gICAgcGFuY2FuY2VsOiAncGFuJyxcbiAgICBzd2lwZTogJ3N3aXBlJyxcbiAgICBzd2lwZWxlZnQ6ICdzd2lwZScsXG4gICAgc3dpcGVyaWdodDogJ3N3aXBlJyxcbiAgICBzd2lwZXVwOiAnc3dpcGUnLFxuICAgIHN3aXBlZG93bjogJ3N3aXBlJ1xufTtcbi8qKlxuICogTWFwIGdlc3R1cmFsIGV2ZW50cyB0eXBpY2FsbHkgcHJvdmlkZWQgYnkgYnJvd3NlcnNcbiAqIHRoYXQgYXJlIG5vdCByZXBvcnRlZCBpbiAnaGFtbWVyLmlucHV0JyBldmVudHNcbiAqIHRvIGNvcnJlc3BvbmRpbmcgSGFtbWVyLmpzIGdlc3R1cmVzLlxuICovXG5leHBvcnQgY29uc3QgR0VTVFVSRV9FVkVOVF9BTElBU0VTID0ge1xuICAgIGNsaWNrOiAndGFwJyxcbiAgICBhbnljbGljazogJ2FueXRhcCcsXG4gICAgZGJsY2xpY2s6ICdkb3VibGV0YXAnLFxuICAgIG1vdXNlZG93bjogJ3BvaW50ZXJkb3duJyxcbiAgICBtb3VzZW1vdmU6ICdwb2ludGVybW92ZScsXG4gICAgbW91c2V1cDogJ3BvaW50ZXJ1cCcsXG4gICAgbW91c2VvdmVyOiAncG9pbnRlcm92ZXInLFxuICAgIG1vdXNlb3V0OiAncG9pbnRlcm91dCcsXG4gICAgbW91c2VsZWF2ZTogJ3BvaW50ZXJsZWF2ZSdcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25zdGFudHMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/mjolnir.js/dist/esm/constants.js\n");

/***/ }),

/***/ "./node_modules/mjolnir.js/dist/esm/event-manager.js":
/*!***********************************************************!*\
  !*** ./node_modules/mjolnir.js/dist/esm/event-manager.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ EventManager)\n/* harmony export */ });\n/* harmony import */ var _utils_hammer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils/hammer */ \"./node_modules/mjolnir.js/dist/esm/utils/hammer.browser.js\");\n/* harmony import */ var _inputs_wheel_input__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./inputs/wheel-input */ \"./node_modules/mjolnir.js/dist/esm/inputs/wheel-input.js\");\n/* harmony import */ var _inputs_move_input__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./inputs/move-input */ \"./node_modules/mjolnir.js/dist/esm/inputs/move-input.js\");\n/* harmony import */ var _inputs_key_input__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./inputs/key-input */ \"./node_modules/mjolnir.js/dist/esm/inputs/key-input.js\");\n/* harmony import */ var _inputs_contextmenu_input__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./inputs/contextmenu-input */ \"./node_modules/mjolnir.js/dist/esm/inputs/contextmenu-input.js\");\n/* harmony import */ var _utils_event_registrar__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./utils/event-registrar */ \"./node_modules/mjolnir.js/dist/esm/utils/event-registrar.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./constants */ \"./node_modules/mjolnir.js/dist/esm/constants.js\");\n\n\n\n\n\n\n\nconst DEFAULT_OPTIONS = {\n    // event handlers\n    events: null,\n    // custom recognizers\n    recognizers: null,\n    recognizerOptions: {},\n    // Manager class\n    Manager: _utils_hammer__WEBPACK_IMPORTED_MODULE_0__.Manager,\n    // allow browser default touch action\n    // https://github.com/uber/react-map-gl/issues/506\n    touchAction: 'none',\n    tabIndex: 0\n};\n// Unified API for subscribing to events about both\n// basic input events (e.g. 'mousemove', 'touchstart', 'wheel')\n// and gestural input (e.g. 'click', 'tap', 'panstart').\n// Delegates gesture related event registration and handling to Hammer.js.\nclass EventManager {\n    constructor(element = null, options) {\n        /**\n         * Handle basic events using the 'hammer.input' Hammer.js API:\n         * Before running Recognizers, Hammer emits a 'hammer.input' event\n         * with the basic event info. This function emits all basic events\n         * aliased to the \"class\" of event received.\n         * See constants.BASIC_EVENT_CLASSES basic event class definitions.\n         */\n        this._onBasicInput = (event) => {\n            const { srcEvent } = event;\n            const alias = _constants__WEBPACK_IMPORTED_MODULE_5__.BASIC_EVENT_ALIASES[srcEvent.type];\n            if (alias) {\n                // fire all events aliased to srcEvent.type\n                this.manager.emit(alias, event);\n            }\n        };\n        /**\n         * Handle events not supported by Hammer.js,\n         * and pipe back out through same (Hammer) channel used by other events.\n         */\n        this._onOtherEvent = (event) => {\n            // console.log('onotherevent', event.type, event)\n            this.manager.emit(event.type, event);\n        };\n        this.options = { ...DEFAULT_OPTIONS, ...options };\n        this.events = new Map();\n        this.setElement(element);\n        // Register all passed events.\n        const { events } = this.options;\n        if (events) {\n            this.on(events);\n        }\n    }\n    getElement() {\n        return this.element;\n    }\n    setElement(element) {\n        if (this.element) {\n            // unregister all events\n            this.destroy();\n        }\n        this.element = element;\n        if (!element) {\n            return;\n        }\n        const { options } = this;\n        const ManagerClass = options.Manager;\n        this.manager = new ManagerClass(element, {\n            touchAction: options.touchAction,\n            recognizers: options.recognizers || _constants__WEBPACK_IMPORTED_MODULE_5__.RECOGNIZERS\n        }).on('hammer.input', this._onBasicInput);\n        if (!options.recognizers) {\n            // Set default recognize withs\n            // http://hammerjs.github.io/recognize-with/\n            Object.keys(_constants__WEBPACK_IMPORTED_MODULE_5__.RECOGNIZER_COMPATIBLE_MAP).forEach(name => {\n                const recognizer = this.manager.get(name);\n                if (recognizer) {\n                    _constants__WEBPACK_IMPORTED_MODULE_5__.RECOGNIZER_COMPATIBLE_MAP[name].forEach(otherName => {\n                        recognizer.recognizeWith(otherName);\n                    });\n                }\n            });\n        }\n        // Set recognizer options\n        for (const recognizerName in options.recognizerOptions) {\n            const recognizer = this.manager.get(recognizerName);\n            if (recognizer) {\n                const recognizerOption = options.recognizerOptions[recognizerName];\n                // `enable` is managed by the event registrations\n                delete recognizerOption.enable;\n                recognizer.set(recognizerOption);\n            }\n        }\n        // Handle events not handled by Hammer.js:\n        // - mouse wheel\n        // - pointer/touch/mouse move\n        this.wheelInput = new _inputs_wheel_input__WEBPACK_IMPORTED_MODULE_1__[\"default\"](element, this._onOtherEvent, {\n            enable: false\n        });\n        this.moveInput = new _inputs_move_input__WEBPACK_IMPORTED_MODULE_2__[\"default\"](element, this._onOtherEvent, {\n            enable: false\n        });\n        this.keyInput = new _inputs_key_input__WEBPACK_IMPORTED_MODULE_3__[\"default\"](element, this._onOtherEvent, {\n            enable: false,\n            tabIndex: options.tabIndex\n        });\n        this.contextmenuInput = new _inputs_contextmenu_input__WEBPACK_IMPORTED_MODULE_6__[\"default\"](element, this._onOtherEvent, {\n            enable: false\n        });\n        // Register all existing events\n        for (const [eventAlias, eventRegistrar] of this.events) {\n            if (!eventRegistrar.isEmpty()) {\n                // Enable recognizer for this event.\n                this._toggleRecognizer(eventRegistrar.recognizerName, true);\n                this.manager.on(eventAlias, eventRegistrar.handleEvent);\n            }\n        }\n    }\n    // Tear down internal event management implementations.\n    destroy() {\n        if (this.element) {\n            // wheelInput etc. are created in setElement() and therefore\n            // cannot exist if there is no element\n            this.wheelInput.destroy();\n            this.moveInput.destroy();\n            this.keyInput.destroy();\n            this.contextmenuInput.destroy();\n            this.manager.destroy();\n            this.wheelInput = null;\n            this.moveInput = null;\n            this.keyInput = null;\n            this.contextmenuInput = null;\n            this.manager = null;\n            this.element = null;\n        }\n    }\n    /** Register an event handler function to be called on `event` */\n    on(event, handler, opts) {\n        this._addEventHandler(event, handler, opts, false);\n    }\n    once(event, handler, opts) {\n        this._addEventHandler(event, handler, opts, true);\n    }\n    watch(event, handler, opts) {\n        this._addEventHandler(event, handler, opts, false, true);\n    }\n    off(event, handler) {\n        this._removeEventHandler(event, handler);\n    }\n    /*\n     * Enable/disable recognizer for the given event\n     */\n    _toggleRecognizer(name, enabled) {\n        const { manager } = this;\n        if (!manager) {\n            return;\n        }\n        const recognizer = manager.get(name);\n        // @ts-ignore\n        if (recognizer && recognizer.options.enable !== enabled) {\n            recognizer.set({ enable: enabled });\n            const fallbackRecognizers = _constants__WEBPACK_IMPORTED_MODULE_5__.RECOGNIZER_FALLBACK_MAP[name];\n            if (fallbackRecognizers && !this.options.recognizers) {\n                // Set default require failures\n                // http://hammerjs.github.io/require-failure/\n                fallbackRecognizers.forEach(otherName => {\n                    const otherRecognizer = manager.get(otherName);\n                    if (enabled) {\n                        // Wait for this recognizer to fail\n                        otherRecognizer.requireFailure(name);\n                        /**\n                         * This seems to be a bug in hammerjs:\n                         * requireFailure() adds both ways\n                         * dropRequireFailure() only drops one way\n                         * https://github.com/hammerjs/hammer.js/blob/master/src/recognizerjs/\n                           recognizer-constructor.js#L136\n                         */\n                        recognizer.dropRequireFailure(otherName);\n                    }\n                    else {\n                        // Do not wait for this recognizer to fail\n                        otherRecognizer.dropRequireFailure(name);\n                    }\n                });\n            }\n        }\n        this.wheelInput.enableEventType(name, enabled);\n        this.moveInput.enableEventType(name, enabled);\n        this.keyInput.enableEventType(name, enabled);\n        this.contextmenuInput.enableEventType(name, enabled);\n    }\n    /**\n     * Process the event registration for a single event + handler.\n     */\n    _addEventHandler(event, handler, opts, once, passive) {\n        if (typeof event !== 'string') {\n            // @ts-ignore\n            opts = handler;\n            // If `event` is a map, call `on()` for each entry.\n            for (const eventName in event) {\n                this._addEventHandler(eventName, event[eventName], opts, once, passive);\n            }\n            return;\n        }\n        const { manager, events } = this;\n        // Alias to a recognized gesture as necessary.\n        const eventAlias = _constants__WEBPACK_IMPORTED_MODULE_5__.GESTURE_EVENT_ALIASES[event] || event;\n        let eventRegistrar = events.get(eventAlias);\n        if (!eventRegistrar) {\n            eventRegistrar = new _utils_event_registrar__WEBPACK_IMPORTED_MODULE_4__[\"default\"](this);\n            events.set(eventAlias, eventRegistrar);\n            // Enable recognizer for this event.\n            eventRegistrar.recognizerName = _constants__WEBPACK_IMPORTED_MODULE_5__.EVENT_RECOGNIZER_MAP[eventAlias] || eventAlias;\n            // Listen to the event\n            if (manager) {\n                manager.on(eventAlias, eventRegistrar.handleEvent);\n            }\n        }\n        eventRegistrar.add(event, handler, opts, once, passive);\n        if (!eventRegistrar.isEmpty()) {\n            this._toggleRecognizer(eventRegistrar.recognizerName, true);\n        }\n    }\n    /**\n     * Process the event deregistration for a single event + handler.\n     */\n    _removeEventHandler(event, handler) {\n        if (typeof event !== 'string') {\n            // If `event` is a map, call `off()` for each entry.\n            for (const eventName in event) {\n                this._removeEventHandler(eventName, event[eventName]);\n            }\n            return;\n        }\n        const { events } = this;\n        // Alias to a recognized gesture as necessary.\n        const eventAlias = _constants__WEBPACK_IMPORTED_MODULE_5__.GESTURE_EVENT_ALIASES[event] || event;\n        const eventRegistrar = events.get(eventAlias);\n        if (!eventRegistrar) {\n            return;\n        }\n        eventRegistrar.remove(event, handler);\n        if (eventRegistrar.isEmpty()) {\n            const { recognizerName } = eventRegistrar;\n            // Disable recognizer if no more handlers are attached to its events\n            let isRecognizerUsed = false;\n            for (const eh of events.values()) {\n                if (eh.recognizerName === recognizerName && !eh.isEmpty()) {\n                    isRecognizerUsed = true;\n                    break;\n                }\n            }\n            if (!isRecognizerUsed) {\n                this._toggleRecognizer(recognizerName, false);\n            }\n        }\n    }\n}\n//# sourceMappingURL=event-manager.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbWpvbG5pci5qcy9kaXN0L2VzbS9ldmVudC1tYW5hZ2VyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdXBlcnNldC8uL25vZGVfbW9kdWxlcy9tam9sbmlyLmpzL2Rpc3QvZXNtL2V2ZW50LW1hbmFnZXIuanM/MWIxMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBNYW5hZ2VyIH0gZnJvbSAnLi91dGlscy9oYW1tZXInO1xuaW1wb3J0IFdoZWVsSW5wdXQgZnJvbSAnLi9pbnB1dHMvd2hlZWwtaW5wdXQnO1xuaW1wb3J0IE1vdmVJbnB1dCBmcm9tICcuL2lucHV0cy9tb3ZlLWlucHV0JztcbmltcG9ydCBLZXlJbnB1dCBmcm9tICcuL2lucHV0cy9rZXktaW5wdXQnO1xuaW1wb3J0IENvbnRleHRtZW51SW5wdXQgZnJvbSAnLi9pbnB1dHMvY29udGV4dG1lbnUtaW5wdXQnO1xuaW1wb3J0IEV2ZW50UmVnaXN0cmFyIGZyb20gJy4vdXRpbHMvZXZlbnQtcmVnaXN0cmFyJztcbmltcG9ydCB7IEJBU0lDX0VWRU5UX0FMSUFTRVMsIEVWRU5UX1JFQ09HTklaRVJfTUFQLCBHRVNUVVJFX0VWRU5UX0FMSUFTRVMsIFJFQ09HTklaRVJTLCBSRUNPR05JWkVSX0NPTVBBVElCTEVfTUFQLCBSRUNPR05JWkVSX0ZBTExCQUNLX01BUCB9IGZyb20gJy4vY29uc3RhbnRzJztcbmNvbnN0IERFRkFVTFRfT1BUSU9OUyA9IHtcbiAgICAvLyBldmVudCBoYW5kbGVyc1xuICAgIGV2ZW50czogbnVsbCxcbiAgICAvLyBjdXN0b20gcmVjb2duaXplcnNcbiAgICByZWNvZ25pemVyczogbnVsbCxcbiAgICByZWNvZ25pemVyT3B0aW9uczoge30sXG4gICAgLy8gTWFuYWdlciBjbGFzc1xuICAgIE1hbmFnZXIsXG4gICAgLy8gYWxsb3cgYnJvd3NlciBkZWZhdWx0IHRvdWNoIGFjdGlvblxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS91YmVyL3JlYWN0LW1hcC1nbC9pc3N1ZXMvNTA2XG4gICAgdG91Y2hBY3Rpb246ICdub25lJyxcbiAgICB0YWJJbmRleDogMFxufTtcbi8vIFVuaWZpZWQgQVBJIGZvciBzdWJzY3JpYmluZyB0byBldmVudHMgYWJvdXQgYm90aFxuLy8gYmFzaWMgaW5wdXQgZXZlbnRzIChlLmcuICdtb3VzZW1vdmUnLCAndG91Y2hzdGFydCcsICd3aGVlbCcpXG4vLyBhbmQgZ2VzdHVyYWwgaW5wdXQgKGUuZy4gJ2NsaWNrJywgJ3RhcCcsICdwYW5zdGFydCcpLlxuLy8gRGVsZWdhdGVzIGdlc3R1cmUgcmVsYXRlZCBldmVudCByZWdpc3RyYXRpb24gYW5kIGhhbmRsaW5nIHRvIEhhbW1lci5qcy5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEV2ZW50TWFuYWdlciB7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCA9IG51bGwsIG9wdGlvbnMpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhhbmRsZSBiYXNpYyBldmVudHMgdXNpbmcgdGhlICdoYW1tZXIuaW5wdXQnIEhhbW1lci5qcyBBUEk6XG4gICAgICAgICAqIEJlZm9yZSBydW5uaW5nIFJlY29nbml6ZXJzLCBIYW1tZXIgZW1pdHMgYSAnaGFtbWVyLmlucHV0JyBldmVudFxuICAgICAgICAgKiB3aXRoIHRoZSBiYXNpYyBldmVudCBpbmZvLiBUaGlzIGZ1bmN0aW9uIGVtaXRzIGFsbCBiYXNpYyBldmVudHNcbiAgICAgICAgICogYWxpYXNlZCB0byB0aGUgXCJjbGFzc1wiIG9mIGV2ZW50IHJlY2VpdmVkLlxuICAgICAgICAgKiBTZWUgY29uc3RhbnRzLkJBU0lDX0VWRU5UX0NMQVNTRVMgYmFzaWMgZXZlbnQgY2xhc3MgZGVmaW5pdGlvbnMuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9vbkJhc2ljSW5wdXQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgc3JjRXZlbnQgfSA9IGV2ZW50O1xuICAgICAgICAgICAgY29uc3QgYWxpYXMgPSBCQVNJQ19FVkVOVF9BTElBU0VTW3NyY0V2ZW50LnR5cGVdO1xuICAgICAgICAgICAgaWYgKGFsaWFzKSB7XG4gICAgICAgICAgICAgICAgLy8gZmlyZSBhbGwgZXZlbnRzIGFsaWFzZWQgdG8gc3JjRXZlbnQudHlwZVxuICAgICAgICAgICAgICAgIHRoaXMubWFuYWdlci5lbWl0KGFsaWFzLCBldmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIYW5kbGUgZXZlbnRzIG5vdCBzdXBwb3J0ZWQgYnkgSGFtbWVyLmpzLFxuICAgICAgICAgKiBhbmQgcGlwZSBiYWNrIG91dCB0aHJvdWdoIHNhbWUgKEhhbW1lcikgY2hhbm5lbCB1c2VkIGJ5IG90aGVyIGV2ZW50cy5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX29uT3RoZXJFdmVudCA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ29ub3RoZXJldmVudCcsIGV2ZW50LnR5cGUsIGV2ZW50KVxuICAgICAgICAgICAgdGhpcy5tYW5hZ2VyLmVtaXQoZXZlbnQudHlwZSwgZXZlbnQpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSB7IC4uLkRFRkFVTFRfT1BUSU9OUywgLi4ub3B0aW9ucyB9O1xuICAgICAgICB0aGlzLmV2ZW50cyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5zZXRFbGVtZW50KGVsZW1lbnQpO1xuICAgICAgICAvLyBSZWdpc3RlciBhbGwgcGFzc2VkIGV2ZW50cy5cbiAgICAgICAgY29uc3QgeyBldmVudHMgfSA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgaWYgKGV2ZW50cykge1xuICAgICAgICAgICAgdGhpcy5vbihldmVudHMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldEVsZW1lbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnQ7XG4gICAgfVxuICAgIHNldEVsZW1lbnQoZWxlbWVudCkge1xuICAgICAgICBpZiAodGhpcy5lbGVtZW50KSB7XG4gICAgICAgICAgICAvLyB1bnJlZ2lzdGVyIGFsbCBldmVudHNcbiAgICAgICAgICAgIHRoaXMuZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIGlmICghZWxlbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgb3B0aW9ucyB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgTWFuYWdlckNsYXNzID0gb3B0aW9ucy5NYW5hZ2VyO1xuICAgICAgICB0aGlzLm1hbmFnZXIgPSBuZXcgTWFuYWdlckNsYXNzKGVsZW1lbnQsIHtcbiAgICAgICAgICAgIHRvdWNoQWN0aW9uOiBvcHRpb25zLnRvdWNoQWN0aW9uLFxuICAgICAgICAgICAgcmVjb2duaXplcnM6IG9wdGlvbnMucmVjb2duaXplcnMgfHwgUkVDT0dOSVpFUlNcbiAgICAgICAgfSkub24oJ2hhbW1lci5pbnB1dCcsIHRoaXMuX29uQmFzaWNJbnB1dCk7XG4gICAgICAgIGlmICghb3B0aW9ucy5yZWNvZ25pemVycykge1xuICAgICAgICAgICAgLy8gU2V0IGRlZmF1bHQgcmVjb2duaXplIHdpdGhzXG4gICAgICAgICAgICAvLyBodHRwOi8vaGFtbWVyanMuZ2l0aHViLmlvL3JlY29nbml6ZS13aXRoL1xuICAgICAgICAgICAgT2JqZWN0LmtleXMoUkVDT0dOSVpFUl9DT01QQVRJQkxFX01BUCkuZm9yRWFjaChuYW1lID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZWNvZ25pemVyID0gdGhpcy5tYW5hZ2VyLmdldChuYW1lKTtcbiAgICAgICAgICAgICAgICBpZiAocmVjb2duaXplcikge1xuICAgICAgICAgICAgICAgICAgICBSRUNPR05JWkVSX0NPTVBBVElCTEVfTUFQW25hbWVdLmZvckVhY2gob3RoZXJOYW1lID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlY29nbml6ZXIucmVjb2duaXplV2l0aChvdGhlck5hbWUpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBTZXQgcmVjb2duaXplciBvcHRpb25zXG4gICAgICAgIGZvciAoY29uc3QgcmVjb2duaXplck5hbWUgaW4gb3B0aW9ucy5yZWNvZ25pemVyT3B0aW9ucykge1xuICAgICAgICAgICAgY29uc3QgcmVjb2duaXplciA9IHRoaXMubWFuYWdlci5nZXQocmVjb2duaXplck5hbWUpO1xuICAgICAgICAgICAgaWYgKHJlY29nbml6ZXIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZWNvZ25pemVyT3B0aW9uID0gb3B0aW9ucy5yZWNvZ25pemVyT3B0aW9uc1tyZWNvZ25pemVyTmFtZV07XG4gICAgICAgICAgICAgICAgLy8gYGVuYWJsZWAgaXMgbWFuYWdlZCBieSB0aGUgZXZlbnQgcmVnaXN0cmF0aW9uc1xuICAgICAgICAgICAgICAgIGRlbGV0ZSByZWNvZ25pemVyT3B0aW9uLmVuYWJsZTtcbiAgICAgICAgICAgICAgICByZWNvZ25pemVyLnNldChyZWNvZ25pemVyT3B0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBIYW5kbGUgZXZlbnRzIG5vdCBoYW5kbGVkIGJ5IEhhbW1lci5qczpcbiAgICAgICAgLy8gLSBtb3VzZSB3aGVlbFxuICAgICAgICAvLyAtIHBvaW50ZXIvdG91Y2gvbW91c2UgbW92ZVxuICAgICAgICB0aGlzLndoZWVsSW5wdXQgPSBuZXcgV2hlZWxJbnB1dChlbGVtZW50LCB0aGlzLl9vbk90aGVyRXZlbnQsIHtcbiAgICAgICAgICAgIGVuYWJsZTogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubW92ZUlucHV0ID0gbmV3IE1vdmVJbnB1dChlbGVtZW50LCB0aGlzLl9vbk90aGVyRXZlbnQsIHtcbiAgICAgICAgICAgIGVuYWJsZTogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMua2V5SW5wdXQgPSBuZXcgS2V5SW5wdXQoZWxlbWVudCwgdGhpcy5fb25PdGhlckV2ZW50LCB7XG4gICAgICAgICAgICBlbmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgdGFiSW5kZXg6IG9wdGlvbnMudGFiSW5kZXhcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuY29udGV4dG1lbnVJbnB1dCA9IG5ldyBDb250ZXh0bWVudUlucHV0KGVsZW1lbnQsIHRoaXMuX29uT3RoZXJFdmVudCwge1xuICAgICAgICAgICAgZW5hYmxlOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gUmVnaXN0ZXIgYWxsIGV4aXN0aW5nIGV2ZW50c1xuICAgICAgICBmb3IgKGNvbnN0IFtldmVudEFsaWFzLCBldmVudFJlZ2lzdHJhcl0gb2YgdGhpcy5ldmVudHMpIHtcbiAgICAgICAgICAgIGlmICghZXZlbnRSZWdpc3RyYXIuaXNFbXB0eSgpKSB7XG4gICAgICAgICAgICAgICAgLy8gRW5hYmxlIHJlY29nbml6ZXIgZm9yIHRoaXMgZXZlbnQuXG4gICAgICAgICAgICAgICAgdGhpcy5fdG9nZ2xlUmVjb2duaXplcihldmVudFJlZ2lzdHJhci5yZWNvZ25pemVyTmFtZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5tYW5hZ2VyLm9uKGV2ZW50QWxpYXMsIGV2ZW50UmVnaXN0cmFyLmhhbmRsZUV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBUZWFyIGRvd24gaW50ZXJuYWwgZXZlbnQgbWFuYWdlbWVudCBpbXBsZW1lbnRhdGlvbnMuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudCkge1xuICAgICAgICAgICAgLy8gd2hlZWxJbnB1dCBldGMuIGFyZSBjcmVhdGVkIGluIHNldEVsZW1lbnQoKSBhbmQgdGhlcmVmb3JlXG4gICAgICAgICAgICAvLyBjYW5ub3QgZXhpc3QgaWYgdGhlcmUgaXMgbm8gZWxlbWVudFxuICAgICAgICAgICAgdGhpcy53aGVlbElucHV0LmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMubW92ZUlucHV0LmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMua2V5SW5wdXQuZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0bWVudUlucHV0LmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMubWFuYWdlci5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLndoZWVsSW5wdXQgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5tb3ZlSW5wdXQgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5rZXlJbnB1dCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHRtZW51SW5wdXQgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5tYW5hZ2VyID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudCA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqIFJlZ2lzdGVyIGFuIGV2ZW50IGhhbmRsZXIgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIG9uIGBldmVudGAgKi9cbiAgICBvbihldmVudCwgaGFuZGxlciwgb3B0cykge1xuICAgICAgICB0aGlzLl9hZGRFdmVudEhhbmRsZXIoZXZlbnQsIGhhbmRsZXIsIG9wdHMsIGZhbHNlKTtcbiAgICB9XG4gICAgb25jZShldmVudCwgaGFuZGxlciwgb3B0cykge1xuICAgICAgICB0aGlzLl9hZGRFdmVudEhhbmRsZXIoZXZlbnQsIGhhbmRsZXIsIG9wdHMsIHRydWUpO1xuICAgIH1cbiAgICB3YXRjaChldmVudCwgaGFuZGxlciwgb3B0cykge1xuICAgICAgICB0aGlzLl9hZGRFdmVudEhhbmRsZXIoZXZlbnQsIGhhbmRsZXIsIG9wdHMsIGZhbHNlLCB0cnVlKTtcbiAgICB9XG4gICAgb2ZmKGV2ZW50LCBoYW5kbGVyKSB7XG4gICAgICAgIHRoaXMuX3JlbW92ZUV2ZW50SGFuZGxlcihldmVudCwgaGFuZGxlcik7XG4gICAgfVxuICAgIC8qXG4gICAgICogRW5hYmxlL2Rpc2FibGUgcmVjb2duaXplciBmb3IgdGhlIGdpdmVuIGV2ZW50XG4gICAgICovXG4gICAgX3RvZ2dsZVJlY29nbml6ZXIobmFtZSwgZW5hYmxlZCkge1xuICAgICAgICBjb25zdCB7IG1hbmFnZXIgfSA9IHRoaXM7XG4gICAgICAgIGlmICghbWFuYWdlcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlY29nbml6ZXIgPSBtYW5hZ2VyLmdldChuYW1lKTtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBpZiAocmVjb2duaXplciAmJiByZWNvZ25pemVyLm9wdGlvbnMuZW5hYmxlICE9PSBlbmFibGVkKSB7XG4gICAgICAgICAgICByZWNvZ25pemVyLnNldCh7IGVuYWJsZTogZW5hYmxlZCB9KTtcbiAgICAgICAgICAgIGNvbnN0IGZhbGxiYWNrUmVjb2duaXplcnMgPSBSRUNPR05JWkVSX0ZBTExCQUNLX01BUFtuYW1lXTtcbiAgICAgICAgICAgIGlmIChmYWxsYmFja1JlY29nbml6ZXJzICYmICF0aGlzLm9wdGlvbnMucmVjb2duaXplcnMpIHtcbiAgICAgICAgICAgICAgICAvLyBTZXQgZGVmYXVsdCByZXF1aXJlIGZhaWx1cmVzXG4gICAgICAgICAgICAgICAgLy8gaHR0cDovL2hhbW1lcmpzLmdpdGh1Yi5pby9yZXF1aXJlLWZhaWx1cmUvXG4gICAgICAgICAgICAgICAgZmFsbGJhY2tSZWNvZ25pemVycy5mb3JFYWNoKG90aGVyTmFtZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG90aGVyUmVjb2duaXplciA9IG1hbmFnZXIuZ2V0KG90aGVyTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBXYWl0IGZvciB0aGlzIHJlY29nbml6ZXIgdG8gZmFpbFxuICAgICAgICAgICAgICAgICAgICAgICAgb3RoZXJSZWNvZ25pemVyLnJlcXVpcmVGYWlsdXJlKG5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBUaGlzIHNlZW1zIHRvIGJlIGEgYnVnIGluIGhhbW1lcmpzOlxuICAgICAgICAgICAgICAgICAgICAgICAgICogcmVxdWlyZUZhaWx1cmUoKSBhZGRzIGJvdGggd2F5c1xuICAgICAgICAgICAgICAgICAgICAgICAgICogZHJvcFJlcXVpcmVGYWlsdXJlKCkgb25seSBkcm9wcyBvbmUgd2F5XG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBodHRwczovL2dpdGh1Yi5jb20vaGFtbWVyanMvaGFtbWVyLmpzL2Jsb2IvbWFzdGVyL3NyYy9yZWNvZ25pemVyanMvXG4gICAgICAgICAgICAgICAgICAgICAgICAgICByZWNvZ25pemVyLWNvbnN0cnVjdG9yLmpzI0wxMzZcbiAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVjb2duaXplci5kcm9wUmVxdWlyZUZhaWx1cmUob3RoZXJOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIERvIG5vdCB3YWl0IGZvciB0aGlzIHJlY29nbml6ZXIgdG8gZmFpbFxuICAgICAgICAgICAgICAgICAgICAgICAgb3RoZXJSZWNvZ25pemVyLmRyb3BSZXF1aXJlRmFpbHVyZShuYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMud2hlZWxJbnB1dC5lbmFibGVFdmVudFR5cGUobmFtZSwgZW5hYmxlZCk7XG4gICAgICAgIHRoaXMubW92ZUlucHV0LmVuYWJsZUV2ZW50VHlwZShuYW1lLCBlbmFibGVkKTtcbiAgICAgICAgdGhpcy5rZXlJbnB1dC5lbmFibGVFdmVudFR5cGUobmFtZSwgZW5hYmxlZCk7XG4gICAgICAgIHRoaXMuY29udGV4dG1lbnVJbnB1dC5lbmFibGVFdmVudFR5cGUobmFtZSwgZW5hYmxlZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFByb2Nlc3MgdGhlIGV2ZW50IHJlZ2lzdHJhdGlvbiBmb3IgYSBzaW5nbGUgZXZlbnQgKyBoYW5kbGVyLlxuICAgICAqL1xuICAgIF9hZGRFdmVudEhhbmRsZXIoZXZlbnQsIGhhbmRsZXIsIG9wdHMsIG9uY2UsIHBhc3NpdmUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBldmVudCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIG9wdHMgPSBoYW5kbGVyO1xuICAgICAgICAgICAgLy8gSWYgYGV2ZW50YCBpcyBhIG1hcCwgY2FsbCBgb24oKWAgZm9yIGVhY2ggZW50cnkuXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGV2ZW50TmFtZSBpbiBldmVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2FkZEV2ZW50SGFuZGxlcihldmVudE5hbWUsIGV2ZW50W2V2ZW50TmFtZV0sIG9wdHMsIG9uY2UsIHBhc3NpdmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgbWFuYWdlciwgZXZlbnRzIH0gPSB0aGlzO1xuICAgICAgICAvLyBBbGlhcyB0byBhIHJlY29nbml6ZWQgZ2VzdHVyZSBhcyBuZWNlc3NhcnkuXG4gICAgICAgIGNvbnN0IGV2ZW50QWxpYXMgPSBHRVNUVVJFX0VWRU5UX0FMSUFTRVNbZXZlbnRdIHx8IGV2ZW50O1xuICAgICAgICBsZXQgZXZlbnRSZWdpc3RyYXIgPSBldmVudHMuZ2V0KGV2ZW50QWxpYXMpO1xuICAgICAgICBpZiAoIWV2ZW50UmVnaXN0cmFyKSB7XG4gICAgICAgICAgICBldmVudFJlZ2lzdHJhciA9IG5ldyBFdmVudFJlZ2lzdHJhcih0aGlzKTtcbiAgICAgICAgICAgIGV2ZW50cy5zZXQoZXZlbnRBbGlhcywgZXZlbnRSZWdpc3RyYXIpO1xuICAgICAgICAgICAgLy8gRW5hYmxlIHJlY29nbml6ZXIgZm9yIHRoaXMgZXZlbnQuXG4gICAgICAgICAgICBldmVudFJlZ2lzdHJhci5yZWNvZ25pemVyTmFtZSA9IEVWRU5UX1JFQ09HTklaRVJfTUFQW2V2ZW50QWxpYXNdIHx8IGV2ZW50QWxpYXM7XG4gICAgICAgICAgICAvLyBMaXN0ZW4gdG8gdGhlIGV2ZW50XG4gICAgICAgICAgICBpZiAobWFuYWdlcikge1xuICAgICAgICAgICAgICAgIG1hbmFnZXIub24oZXZlbnRBbGlhcywgZXZlbnRSZWdpc3RyYXIuaGFuZGxlRXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGV2ZW50UmVnaXN0cmFyLmFkZChldmVudCwgaGFuZGxlciwgb3B0cywgb25jZSwgcGFzc2l2ZSk7XG4gICAgICAgIGlmICghZXZlbnRSZWdpc3RyYXIuaXNFbXB0eSgpKSB7XG4gICAgICAgICAgICB0aGlzLl90b2dnbGVSZWNvZ25pemVyKGV2ZW50UmVnaXN0cmFyLnJlY29nbml6ZXJOYW1lLCB0cnVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBQcm9jZXNzIHRoZSBldmVudCBkZXJlZ2lzdHJhdGlvbiBmb3IgYSBzaW5nbGUgZXZlbnQgKyBoYW5kbGVyLlxuICAgICAqL1xuICAgIF9yZW1vdmVFdmVudEhhbmRsZXIoZXZlbnQsIGhhbmRsZXIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBldmVudCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIC8vIElmIGBldmVudGAgaXMgYSBtYXAsIGNhbGwgYG9mZigpYCBmb3IgZWFjaCBlbnRyeS5cbiAgICAgICAgICAgIGZvciAoY29uc3QgZXZlbnROYW1lIGluIGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVtb3ZlRXZlbnRIYW5kbGVyKGV2ZW50TmFtZSwgZXZlbnRbZXZlbnROYW1lXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBldmVudHMgfSA9IHRoaXM7XG4gICAgICAgIC8vIEFsaWFzIHRvIGEgcmVjb2duaXplZCBnZXN0dXJlIGFzIG5lY2Vzc2FyeS5cbiAgICAgICAgY29uc3QgZXZlbnRBbGlhcyA9IEdFU1RVUkVfRVZFTlRfQUxJQVNFU1tldmVudF0gfHwgZXZlbnQ7XG4gICAgICAgIGNvbnN0IGV2ZW50UmVnaXN0cmFyID0gZXZlbnRzLmdldChldmVudEFsaWFzKTtcbiAgICAgICAgaWYgKCFldmVudFJlZ2lzdHJhcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGV2ZW50UmVnaXN0cmFyLnJlbW92ZShldmVudCwgaGFuZGxlcik7XG4gICAgICAgIGlmIChldmVudFJlZ2lzdHJhci5pc0VtcHR5KCkpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgcmVjb2duaXplck5hbWUgfSA9IGV2ZW50UmVnaXN0cmFyO1xuICAgICAgICAgICAgLy8gRGlzYWJsZSByZWNvZ25pemVyIGlmIG5vIG1vcmUgaGFuZGxlcnMgYXJlIGF0dGFjaGVkIHRvIGl0cyBldmVudHNcbiAgICAgICAgICAgIGxldCBpc1JlY29nbml6ZXJVc2VkID0gZmFsc2U7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGVoIG9mIGV2ZW50cy52YWx1ZXMoKSkge1xuICAgICAgICAgICAgICAgIGlmIChlaC5yZWNvZ25pemVyTmFtZSA9PT0gcmVjb2duaXplck5hbWUgJiYgIWVoLmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgICAgICAgICBpc1JlY29nbml6ZXJVc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFpc1JlY29nbml6ZXJVc2VkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdG9nZ2xlUmVjb2duaXplcihyZWNvZ25pemVyTmFtZSwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXZlbnQtbWFuYWdlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/mjolnir.js/dist/esm/event-manager.js\n");

/***/ }),

/***/ "./node_modules/mjolnir.js/dist/esm/index.js":
/*!***************************************************!*\
  !*** ./node_modules/mjolnir.js/dist/esm/index.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EventManager: () => (/* reexport safe */ _event_manager__WEBPACK_IMPORTED_MODULE_0__[\"default\"])\n/* harmony export */ });\n/* harmony import */ var _event_manager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./event-manager */ \"./node_modules/mjolnir.js/dist/esm/event-manager.js\");\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbWpvbG5pci5qcy9kaXN0L2VzbS9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3N1cGVyc2V0Ly4vbm9kZV9tb2R1bGVzL21qb2xuaXIuanMvZGlzdC9lc20vaW5kZXguanM/N2EyZiJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgeyBkZWZhdWx0IGFzIEV2ZW50TWFuYWdlciB9IGZyb20gJy4vZXZlbnQtbWFuYWdlcic7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/mjolnir.js/dist/esm/index.js\n");

/***/ }),

/***/ "./node_modules/mjolnir.js/dist/esm/inputs/contextmenu-input.js":
/*!**********************************************************************!*\
  !*** ./node_modules/mjolnir.js/dist/esm/inputs/contextmenu-input.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ContextmenuInput)\n/* harmony export */ });\n/* harmony import */ var _input__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./input */ \"./node_modules/mjolnir.js/dist/esm/inputs/input.js\");\n\nconst EVENT_TYPE = 'contextmenu';\nclass ContextmenuInput extends _input__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    constructor(element, callback, options) {\n        super(element, callback, options);\n        this.handleEvent = (event) => {\n            if (!this.options.enable) {\n                return;\n            }\n            this.callback({\n                type: EVENT_TYPE,\n                center: {\n                    x: event.clientX,\n                    y: event.clientY\n                },\n                srcEvent: event,\n                pointerType: 'mouse',\n                target: event.target\n            });\n        };\n        element.addEventListener('contextmenu', this.handleEvent);\n    }\n    destroy() {\n        this.element.removeEventListener('contextmenu', this.handleEvent);\n    }\n    /**\n     * Enable this input (begin processing events)\n     * if the specified event type is among those handled by this input.\n     */\n    enableEventType(eventType, enabled) {\n        if (eventType === EVENT_TYPE) {\n            this.options.enable = enabled;\n        }\n    }\n}\n//# sourceMappingURL=contextmenu-input.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbWpvbG5pci5qcy9kaXN0L2VzbS9pbnB1dHMvY29udGV4dG1lbnUtaW5wdXQuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3N1cGVyc2V0Ly4vbm9kZV9tb2R1bGVzL21qb2xuaXIuanMvZGlzdC9lc20vaW5wdXRzL2NvbnRleHRtZW51LWlucHV0LmpzPzBjMDciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IElucHV0IGZyb20gJy4vaW5wdXQnO1xuY29uc3QgRVZFTlRfVFlQRSA9ICdjb250ZXh0bWVudSc7XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb250ZXh0bWVudUlucHV0IGV4dGVuZHMgSW5wdXQge1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQsIGNhbGxiYWNrLCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKGVsZW1lbnQsIGNhbGxiYWNrLCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy5oYW5kbGVFdmVudCA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMuZW5hYmxlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jYWxsYmFjayh7XG4gICAgICAgICAgICAgICAgdHlwZTogRVZFTlRfVFlQRSxcbiAgICAgICAgICAgICAgICBjZW50ZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgeDogZXZlbnQuY2xpZW50WCxcbiAgICAgICAgICAgICAgICAgICAgeTogZXZlbnQuY2xpZW50WVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc3JjRXZlbnQ6IGV2ZW50LFxuICAgICAgICAgICAgICAgIHBvaW50ZXJUeXBlOiAnbW91c2UnLFxuICAgICAgICAgICAgICAgIHRhcmdldDogZXZlbnQudGFyZ2V0XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjb250ZXh0bWVudScsIHRoaXMuaGFuZGxlRXZlbnQpO1xuICAgIH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY29udGV4dG1lbnUnLCB0aGlzLmhhbmRsZUV2ZW50KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRW5hYmxlIHRoaXMgaW5wdXQgKGJlZ2luIHByb2Nlc3NpbmcgZXZlbnRzKVxuICAgICAqIGlmIHRoZSBzcGVjaWZpZWQgZXZlbnQgdHlwZSBpcyBhbW9uZyB0aG9zZSBoYW5kbGVkIGJ5IHRoaXMgaW5wdXQuXG4gICAgICovXG4gICAgZW5hYmxlRXZlbnRUeXBlKGV2ZW50VHlwZSwgZW5hYmxlZCkge1xuICAgICAgICBpZiAoZXZlbnRUeXBlID09PSBFVkVOVF9UWVBFKSB7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMuZW5hYmxlID0gZW5hYmxlZDtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnRleHRtZW51LWlucHV0LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/mjolnir.js/dist/esm/inputs/contextmenu-input.js\n");

/***/ }),

/***/ "./node_modules/mjolnir.js/dist/esm/inputs/input.js":
/*!**********************************************************!*\
  !*** ./node_modules/mjolnir.js/dist/esm/inputs/input.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Input)\n/* harmony export */ });\nclass Input {\n    constructor(element, callback, options) {\n        this.element = element;\n        this.callback = callback;\n        this.options = { enable: true, ...options };\n    }\n}\n//# sourceMappingURL=input.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbWpvbG5pci5qcy9kaXN0L2VzbS9pbnB1dHMvaW5wdXQuanMiLCJtYXBwaW5ncyI6Ijs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3N1cGVyc2V0Ly4vbm9kZV9tb2R1bGVzL21qb2xuaXIuanMvZGlzdC9lc20vaW5wdXRzL2lucHV0LmpzPzFjZTIiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW5wdXQge1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQsIGNhbGxiYWNrLCBvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICAgICAgdGhpcy5vcHRpb25zID0geyBlbmFibGU6IHRydWUsIC4uLm9wdGlvbnMgfTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbnB1dC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/mjolnir.js/dist/esm/inputs/input.js\n");

/***/ }),

/***/ "./node_modules/mjolnir.js/dist/esm/inputs/key-input.js":
/*!**************************************************************!*\
  !*** ./node_modules/mjolnir.js/dist/esm/inputs/key-input.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ KeyInput)\n/* harmony export */ });\n/* harmony import */ var _input__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./input */ \"./node_modules/mjolnir.js/dist/esm/inputs/input.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../constants */ \"./node_modules/mjolnir.js/dist/esm/constants.js\");\n\n\nconst { KEY_EVENTS } = _constants__WEBPACK_IMPORTED_MODULE_0__.INPUT_EVENT_TYPES;\nconst DOWN_EVENT_TYPE = 'keydown';\nconst UP_EVENT_TYPE = 'keyup';\nclass KeyInput extends _input__WEBPACK_IMPORTED_MODULE_1__[\"default\"] {\n    constructor(element, callback, options) {\n        super(element, callback, options);\n        this.handleEvent = (event) => {\n            // Ignore if focused on text input\n            const targetElement = (event.target || event.srcElement);\n            if ((targetElement.tagName === 'INPUT' && targetElement.type === 'text') ||\n                targetElement.tagName === 'TEXTAREA') {\n                return;\n            }\n            if (this.enableDownEvent && event.type === 'keydown') {\n                this.callback({\n                    type: DOWN_EVENT_TYPE,\n                    srcEvent: event,\n                    key: event.key,\n                    target: event.target\n                });\n            }\n            if (this.enableUpEvent && event.type === 'keyup') {\n                this.callback({\n                    type: UP_EVENT_TYPE,\n                    srcEvent: event,\n                    key: event.key,\n                    target: event.target\n                });\n            }\n        };\n        this.enableDownEvent = this.options.enable;\n        this.enableUpEvent = this.options.enable;\n        this.events = (this.options.events || []).concat(KEY_EVENTS);\n        element.tabIndex = this.options.tabIndex || 0;\n        element.style.outline = 'none';\n        this.events.forEach(event => element.addEventListener(event, this.handleEvent));\n    }\n    destroy() {\n        this.events.forEach(event => this.element.removeEventListener(event, this.handleEvent));\n    }\n    /**\n     * Enable this input (begin processing events)\n     * if the specified event type is among those handled by this input.\n     */\n    enableEventType(eventType, enabled) {\n        if (eventType === DOWN_EVENT_TYPE) {\n            this.enableDownEvent = enabled;\n        }\n        if (eventType === UP_EVENT_TYPE) {\n            this.enableUpEvent = enabled;\n        }\n    }\n}\n//# sourceMappingURL=key-input.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbWpvbG5pci5qcy9kaXN0L2VzbS9pbnB1dHMva2V5LWlucHV0LmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3N1cGVyc2V0Ly4vbm9kZV9tb2R1bGVzL21qb2xuaXIuanMvZGlzdC9lc20vaW5wdXRzL2tleS1pbnB1dC5qcz8zMDZhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBJbnB1dCBmcm9tICcuL2lucHV0JztcbmltcG9ydCB7IElOUFVUX0VWRU5UX1RZUEVTIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcbmNvbnN0IHsgS0VZX0VWRU5UUyB9ID0gSU5QVVRfRVZFTlRfVFlQRVM7XG5jb25zdCBET1dOX0VWRU5UX1RZUEUgPSAna2V5ZG93bic7XG5jb25zdCBVUF9FVkVOVF9UWVBFID0gJ2tleXVwJztcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEtleUlucHV0IGV4dGVuZHMgSW5wdXQge1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQsIGNhbGxiYWNrLCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKGVsZW1lbnQsIGNhbGxiYWNrLCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy5oYW5kbGVFdmVudCA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgLy8gSWdub3JlIGlmIGZvY3VzZWQgb24gdGV4dCBpbnB1dFxuICAgICAgICAgICAgY29uc3QgdGFyZ2V0RWxlbWVudCA9IChldmVudC50YXJnZXQgfHwgZXZlbnQuc3JjRWxlbWVudCk7XG4gICAgICAgICAgICBpZiAoKHRhcmdldEVsZW1lbnQudGFnTmFtZSA9PT0gJ0lOUFVUJyAmJiB0YXJnZXRFbGVtZW50LnR5cGUgPT09ICd0ZXh0JykgfHxcbiAgICAgICAgICAgICAgICB0YXJnZXRFbGVtZW50LnRhZ05hbWUgPT09ICdURVhUQVJFQScpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5lbmFibGVEb3duRXZlbnQgJiYgZXZlbnQudHlwZSA9PT0gJ2tleWRvd24nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jYWxsYmFjayh7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IERPV05fRVZFTlRfVFlQRSxcbiAgICAgICAgICAgICAgICAgICAgc3JjRXZlbnQ6IGV2ZW50LFxuICAgICAgICAgICAgICAgICAgICBrZXk6IGV2ZW50LmtleSxcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBldmVudC50YXJnZXRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmVuYWJsZVVwRXZlbnQgJiYgZXZlbnQudHlwZSA9PT0gJ2tleXVwJykge1xuICAgICAgICAgICAgICAgIHRoaXMuY2FsbGJhY2soe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBVUF9FVkVOVF9UWVBFLFxuICAgICAgICAgICAgICAgICAgICBzcmNFdmVudDogZXZlbnQsXG4gICAgICAgICAgICAgICAgICAgIGtleTogZXZlbnQua2V5LFxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IGV2ZW50LnRhcmdldFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmVuYWJsZURvd25FdmVudCA9IHRoaXMub3B0aW9ucy5lbmFibGU7XG4gICAgICAgIHRoaXMuZW5hYmxlVXBFdmVudCA9IHRoaXMub3B0aW9ucy5lbmFibGU7XG4gICAgICAgIHRoaXMuZXZlbnRzID0gKHRoaXMub3B0aW9ucy5ldmVudHMgfHwgW10pLmNvbmNhdChLRVlfRVZFTlRTKTtcbiAgICAgICAgZWxlbWVudC50YWJJbmRleCA9IHRoaXMub3B0aW9ucy50YWJJbmRleCB8fCAwO1xuICAgICAgICBlbGVtZW50LnN0eWxlLm91dGxpbmUgPSAnbm9uZSc7XG4gICAgICAgIHRoaXMuZXZlbnRzLmZvckVhY2goZXZlbnQgPT4gZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCB0aGlzLmhhbmRsZUV2ZW50KSk7XG4gICAgfVxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuZXZlbnRzLmZvckVhY2goZXZlbnQgPT4gdGhpcy5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIHRoaXMuaGFuZGxlRXZlbnQpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRW5hYmxlIHRoaXMgaW5wdXQgKGJlZ2luIHByb2Nlc3NpbmcgZXZlbnRzKVxuICAgICAqIGlmIHRoZSBzcGVjaWZpZWQgZXZlbnQgdHlwZSBpcyBhbW9uZyB0aG9zZSBoYW5kbGVkIGJ5IHRoaXMgaW5wdXQuXG4gICAgICovXG4gICAgZW5hYmxlRXZlbnRUeXBlKGV2ZW50VHlwZSwgZW5hYmxlZCkge1xuICAgICAgICBpZiAoZXZlbnRUeXBlID09PSBET1dOX0VWRU5UX1RZUEUpIHtcbiAgICAgICAgICAgIHRoaXMuZW5hYmxlRG93bkV2ZW50ID0gZW5hYmxlZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXZlbnRUeXBlID09PSBVUF9FVkVOVF9UWVBFKSB7XG4gICAgICAgICAgICB0aGlzLmVuYWJsZVVwRXZlbnQgPSBlbmFibGVkO1xuICAgICAgICB9XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9a2V5LWlucHV0LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/mjolnir.js/dist/esm/inputs/key-input.js\n");

/***/ }),

/***/ "./node_modules/mjolnir.js/dist/esm/inputs/move-input.js":
/*!***************************************************************!*\
  !*** ./node_modules/mjolnir.js/dist/esm/inputs/move-input.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ MoveInput)\n/* harmony export */ });\n/* harmony import */ var _input__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./input */ \"./node_modules/mjolnir.js/dist/esm/inputs/input.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../constants */ \"./node_modules/mjolnir.js/dist/esm/constants.js\");\n\n\nconst { MOUSE_EVENTS } = _constants__WEBPACK_IMPORTED_MODULE_0__.INPUT_EVENT_TYPES;\nconst MOVE_EVENT_TYPE = 'pointermove';\nconst OVER_EVENT_TYPE = 'pointerover';\nconst OUT_EVENT_TYPE = 'pointerout';\nconst ENTER_EVENT_TYPE = 'pointerenter';\nconst LEAVE_EVENT_TYPE = 'pointerleave';\n/**\n * Hammer.js swallows 'move' events (for pointer/touch/mouse)\n * when the pointer is not down. This class sets up a handler\n * specifically for these events to work around this limitation.\n * Note that this could be extended to more intelligently handle\n * move events across input types, e.g. storing multiple simultaneous\n * pointer/touch events, calculating speed/direction, etc.\n */\nclass MoveInput extends _input__WEBPACK_IMPORTED_MODULE_1__[\"default\"] {\n    constructor(element, callback, options) {\n        super(element, callback, options);\n        this.handleEvent = (event) => {\n            this.handleOverEvent(event);\n            this.handleOutEvent(event);\n            this.handleEnterEvent(event);\n            this.handleLeaveEvent(event);\n            this.handleMoveEvent(event);\n        };\n        this.pressed = false;\n        const { enable } = this.options;\n        this.enableMoveEvent = enable;\n        this.enableLeaveEvent = enable;\n        this.enableEnterEvent = enable;\n        this.enableOutEvent = enable;\n        this.enableOverEvent = enable;\n        this.events = (this.options.events || []).concat(MOUSE_EVENTS);\n        this.events.forEach(event => element.addEventListener(event, this.handleEvent));\n    }\n    destroy() {\n        this.events.forEach(event => this.element.removeEventListener(event, this.handleEvent));\n    }\n    /**\n     * Enable this input (begin processing events)\n     * if the specified event type is among those handled by this input.\n     */\n    enableEventType(eventType, enabled) {\n        if (eventType === MOVE_EVENT_TYPE) {\n            this.enableMoveEvent = enabled;\n        }\n        if (eventType === OVER_EVENT_TYPE) {\n            this.enableOverEvent = enabled;\n        }\n        if (eventType === OUT_EVENT_TYPE) {\n            this.enableOutEvent = enabled;\n        }\n        if (eventType === ENTER_EVENT_TYPE) {\n            this.enableEnterEvent = enabled;\n        }\n        if (eventType === LEAVE_EVENT_TYPE) {\n            this.enableLeaveEvent = enabled;\n        }\n    }\n    handleOverEvent(event) {\n        if (this.enableOverEvent) {\n            if (event.type === 'mouseover') {\n                this._emit(OVER_EVENT_TYPE, event);\n            }\n        }\n    }\n    handleOutEvent(event) {\n        if (this.enableOutEvent) {\n            if (event.type === 'mouseout') {\n                this._emit(OUT_EVENT_TYPE, event);\n            }\n        }\n    }\n    handleEnterEvent(event) {\n        if (this.enableEnterEvent) {\n            if (event.type === 'mouseenter') {\n                this._emit(ENTER_EVENT_TYPE, event);\n            }\n        }\n    }\n    handleLeaveEvent(event) {\n        if (this.enableLeaveEvent) {\n            if (event.type === 'mouseleave') {\n                this._emit(LEAVE_EVENT_TYPE, event);\n            }\n        }\n    }\n    handleMoveEvent(event) {\n        if (this.enableMoveEvent) {\n            switch (event.type) {\n                case 'mousedown':\n                    if (event.button >= 0) {\n                        // Button is down\n                        this.pressed = true;\n                    }\n                    break;\n                case 'mousemove':\n                    // Move events use `which` to track the button being pressed\n                    if (event.which === 0) {\n                        // Button is not down\n                        this.pressed = false;\n                    }\n                    if (!this.pressed) {\n                        // Drag events are emitted by hammer already\n                        // we just need to emit the move event on hover\n                        this._emit(MOVE_EVENT_TYPE, event);\n                    }\n                    break;\n                case 'mouseup':\n                    this.pressed = false;\n                    break;\n                default:\n            }\n        }\n    }\n    _emit(type, event) {\n        this.callback({\n            type,\n            center: {\n                x: event.clientX,\n                y: event.clientY\n            },\n            srcEvent: event,\n            pointerType: 'mouse',\n            target: event.target\n        });\n    }\n}\n//# sourceMappingURL=move-input.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbWpvbG5pci5qcy9kaXN0L2VzbS9pbnB1dHMvbW92ZS1pbnB1dC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3VwZXJzZXQvLi9ub2RlX21vZHVsZXMvbWpvbG5pci5qcy9kaXN0L2VzbS9pbnB1dHMvbW92ZS1pbnB1dC5qcz9mYmRiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBJbnB1dCBmcm9tICcuL2lucHV0JztcbmltcG9ydCB7IElOUFVUX0VWRU5UX1RZUEVTIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcbmNvbnN0IHsgTU9VU0VfRVZFTlRTIH0gPSBJTlBVVF9FVkVOVF9UWVBFUztcbmNvbnN0IE1PVkVfRVZFTlRfVFlQRSA9ICdwb2ludGVybW92ZSc7XG5jb25zdCBPVkVSX0VWRU5UX1RZUEUgPSAncG9pbnRlcm92ZXInO1xuY29uc3QgT1VUX0VWRU5UX1RZUEUgPSAncG9pbnRlcm91dCc7XG5jb25zdCBFTlRFUl9FVkVOVF9UWVBFID0gJ3BvaW50ZXJlbnRlcic7XG5jb25zdCBMRUFWRV9FVkVOVF9UWVBFID0gJ3BvaW50ZXJsZWF2ZSc7XG4vKipcbiAqIEhhbW1lci5qcyBzd2FsbG93cyAnbW92ZScgZXZlbnRzIChmb3IgcG9pbnRlci90b3VjaC9tb3VzZSlcbiAqIHdoZW4gdGhlIHBvaW50ZXIgaXMgbm90IGRvd24uIFRoaXMgY2xhc3Mgc2V0cyB1cCBhIGhhbmRsZXJcbiAqIHNwZWNpZmljYWxseSBmb3IgdGhlc2UgZXZlbnRzIHRvIHdvcmsgYXJvdW5kIHRoaXMgbGltaXRhdGlvbi5cbiAqIE5vdGUgdGhhdCB0aGlzIGNvdWxkIGJlIGV4dGVuZGVkIHRvIG1vcmUgaW50ZWxsaWdlbnRseSBoYW5kbGVcbiAqIG1vdmUgZXZlbnRzIGFjcm9zcyBpbnB1dCB0eXBlcywgZS5nLiBzdG9yaW5nIG11bHRpcGxlIHNpbXVsdGFuZW91c1xuICogcG9pbnRlci90b3VjaCBldmVudHMsIGNhbGN1bGF0aW5nIHNwZWVkL2RpcmVjdGlvbiwgZXRjLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNb3ZlSW5wdXQgZXh0ZW5kcyBJbnB1dCB7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgY2FsbGJhY2ssIG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIoZWxlbWVudCwgY2FsbGJhY2ssIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLmhhbmRsZUV2ZW50ID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZU92ZXJFdmVudChldmVudCk7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZU91dEV2ZW50KGV2ZW50KTtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlRW50ZXJFdmVudChldmVudCk7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZUxlYXZlRXZlbnQoZXZlbnQpO1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVNb3ZlRXZlbnQoZXZlbnQpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnByZXNzZWQgPSBmYWxzZTtcbiAgICAgICAgY29uc3QgeyBlbmFibGUgfSA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgdGhpcy5lbmFibGVNb3ZlRXZlbnQgPSBlbmFibGU7XG4gICAgICAgIHRoaXMuZW5hYmxlTGVhdmVFdmVudCA9IGVuYWJsZTtcbiAgICAgICAgdGhpcy5lbmFibGVFbnRlckV2ZW50ID0gZW5hYmxlO1xuICAgICAgICB0aGlzLmVuYWJsZU91dEV2ZW50ID0gZW5hYmxlO1xuICAgICAgICB0aGlzLmVuYWJsZU92ZXJFdmVudCA9IGVuYWJsZTtcbiAgICAgICAgdGhpcy5ldmVudHMgPSAodGhpcy5vcHRpb25zLmV2ZW50cyB8fCBbXSkuY29uY2F0KE1PVVNFX0VWRU5UUyk7XG4gICAgICAgIHRoaXMuZXZlbnRzLmZvckVhY2goZXZlbnQgPT4gZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCB0aGlzLmhhbmRsZUV2ZW50KSk7XG4gICAgfVxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuZXZlbnRzLmZvckVhY2goZXZlbnQgPT4gdGhpcy5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIHRoaXMuaGFuZGxlRXZlbnQpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRW5hYmxlIHRoaXMgaW5wdXQgKGJlZ2luIHByb2Nlc3NpbmcgZXZlbnRzKVxuICAgICAqIGlmIHRoZSBzcGVjaWZpZWQgZXZlbnQgdHlwZSBpcyBhbW9uZyB0aG9zZSBoYW5kbGVkIGJ5IHRoaXMgaW5wdXQuXG4gICAgICovXG4gICAgZW5hYmxlRXZlbnRUeXBlKGV2ZW50VHlwZSwgZW5hYmxlZCkge1xuICAgICAgICBpZiAoZXZlbnRUeXBlID09PSBNT1ZFX0VWRU5UX1RZUEUpIHtcbiAgICAgICAgICAgIHRoaXMuZW5hYmxlTW92ZUV2ZW50ID0gZW5hYmxlZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXZlbnRUeXBlID09PSBPVkVSX0VWRU5UX1RZUEUpIHtcbiAgICAgICAgICAgIHRoaXMuZW5hYmxlT3ZlckV2ZW50ID0gZW5hYmxlZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXZlbnRUeXBlID09PSBPVVRfRVZFTlRfVFlQRSkge1xuICAgICAgICAgICAgdGhpcy5lbmFibGVPdXRFdmVudCA9IGVuYWJsZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV2ZW50VHlwZSA9PT0gRU5URVJfRVZFTlRfVFlQRSkge1xuICAgICAgICAgICAgdGhpcy5lbmFibGVFbnRlckV2ZW50ID0gZW5hYmxlZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXZlbnRUeXBlID09PSBMRUFWRV9FVkVOVF9UWVBFKSB7XG4gICAgICAgICAgICB0aGlzLmVuYWJsZUxlYXZlRXZlbnQgPSBlbmFibGVkO1xuICAgICAgICB9XG4gICAgfVxuICAgIGhhbmRsZU92ZXJFdmVudChldmVudCkge1xuICAgICAgICBpZiAodGhpcy5lbmFibGVPdmVyRXZlbnQpIHtcbiAgICAgICAgICAgIGlmIChldmVudC50eXBlID09PSAnbW91c2VvdmVyJykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2VtaXQoT1ZFUl9FVkVOVF9UWVBFLCBldmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgaGFuZGxlT3V0RXZlbnQoZXZlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMuZW5hYmxlT3V0RXZlbnQpIHtcbiAgICAgICAgICAgIGlmIChldmVudC50eXBlID09PSAnbW91c2VvdXQnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZW1pdChPVVRfRVZFTlRfVFlQRSwgZXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGhhbmRsZUVudGVyRXZlbnQoZXZlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMuZW5hYmxlRW50ZXJFdmVudCkge1xuICAgICAgICAgICAgaWYgKGV2ZW50LnR5cGUgPT09ICdtb3VzZWVudGVyJykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2VtaXQoRU5URVJfRVZFTlRfVFlQRSwgZXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGhhbmRsZUxlYXZlRXZlbnQoZXZlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMuZW5hYmxlTGVhdmVFdmVudCkge1xuICAgICAgICAgICAgaWYgKGV2ZW50LnR5cGUgPT09ICdtb3VzZWxlYXZlJykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2VtaXQoTEVBVkVfRVZFTlRfVFlQRSwgZXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGhhbmRsZU1vdmVFdmVudChldmVudCkge1xuICAgICAgICBpZiAodGhpcy5lbmFibGVNb3ZlRXZlbnQpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoZXZlbnQudHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ21vdXNlZG93bic6XG4gICAgICAgICAgICAgICAgICAgIGlmIChldmVudC5idXR0b24gPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQnV0dG9uIGlzIGRvd25cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJlc3NlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnbW91c2Vtb3ZlJzpcbiAgICAgICAgICAgICAgICAgICAgLy8gTW92ZSBldmVudHMgdXNlIGB3aGljaGAgdG8gdHJhY2sgdGhlIGJ1dHRvbiBiZWluZyBwcmVzc2VkXG4gICAgICAgICAgICAgICAgICAgIGlmIChldmVudC53aGljaCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQnV0dG9uIGlzIG5vdCBkb3duXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByZXNzZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMucHJlc3NlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRHJhZyBldmVudHMgYXJlIGVtaXR0ZWQgYnkgaGFtbWVyIGFscmVhZHlcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlIGp1c3QgbmVlZCB0byBlbWl0IHRoZSBtb3ZlIGV2ZW50IG9uIGhvdmVyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbWl0KE1PVkVfRVZFTlRfVFlQRSwgZXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ21vdXNldXAnOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByZXNzZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBfZW1pdCh0eXBlLCBldmVudCkge1xuICAgICAgICB0aGlzLmNhbGxiYWNrKHtcbiAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICBjZW50ZXI6IHtcbiAgICAgICAgICAgICAgICB4OiBldmVudC5jbGllbnRYLFxuICAgICAgICAgICAgICAgIHk6IGV2ZW50LmNsaWVudFlcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzcmNFdmVudDogZXZlbnQsXG4gICAgICAgICAgICBwb2ludGVyVHlwZTogJ21vdXNlJyxcbiAgICAgICAgICAgIHRhcmdldDogZXZlbnQudGFyZ2V0XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1vdmUtaW5wdXQuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/mjolnir.js/dist/esm/inputs/move-input.js\n");

/***/ }),

/***/ "./node_modules/mjolnir.js/dist/esm/inputs/wheel-input.js":
/*!****************************************************************!*\
  !*** ./node_modules/mjolnir.js/dist/esm/inputs/wheel-input.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ WheelInput)\n/* harmony export */ });\n/* harmony import */ var _input__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./input */ \"./node_modules/mjolnir.js/dist/esm/inputs/input.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../constants */ \"./node_modules/mjolnir.js/dist/esm/constants.js\");\n/* harmony import */ var _utils_globals__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/globals */ \"./node_modules/mjolnir.js/dist/esm/utils/globals.js\");\n\n\n\nconst firefox = _utils_globals__WEBPACK_IMPORTED_MODULE_1__.userAgent.indexOf('firefox') !== -1;\nconst { WHEEL_EVENTS } = _constants__WEBPACK_IMPORTED_MODULE_0__.INPUT_EVENT_TYPES;\nconst EVENT_TYPE = 'wheel';\n// Constants for normalizing input delta\nconst WHEEL_DELTA_MAGIC_SCALER = 4.000244140625;\nconst WHEEL_DELTA_PER_LINE = 40;\n// Slow down zoom if shift key is held for more precise zooming\nconst SHIFT_MULTIPLIER = 0.25;\nclass WheelInput extends _input__WEBPACK_IMPORTED_MODULE_2__[\"default\"] {\n    constructor(element, callback, options) {\n        super(element, callback, options);\n        /* eslint-disable complexity, max-statements */\n        this.handleEvent = (event) => {\n            if (!this.options.enable) {\n                return;\n            }\n            let value = event.deltaY;\n            if (_utils_globals__WEBPACK_IMPORTED_MODULE_1__.window.WheelEvent) {\n                // Firefox doubles the values on retina screens...\n                if (firefox && event.deltaMode === _utils_globals__WEBPACK_IMPORTED_MODULE_1__.window.WheelEvent.DOM_DELTA_PIXEL) {\n                    value /= _utils_globals__WEBPACK_IMPORTED_MODULE_1__.window.devicePixelRatio;\n                }\n                if (event.deltaMode === _utils_globals__WEBPACK_IMPORTED_MODULE_1__.window.WheelEvent.DOM_DELTA_LINE) {\n                    value *= WHEEL_DELTA_PER_LINE;\n                }\n            }\n            if (value !== 0 && value % WHEEL_DELTA_MAGIC_SCALER === 0) {\n                // This one is definitely a mouse wheel event.\n                // Normalize this value to match trackpad.\n                value = Math.floor(value / WHEEL_DELTA_MAGIC_SCALER);\n            }\n            if (event.shiftKey && value) {\n                value = value * SHIFT_MULTIPLIER;\n            }\n            this.callback({\n                type: EVENT_TYPE,\n                center: {\n                    x: event.clientX,\n                    y: event.clientY\n                },\n                delta: -value,\n                srcEvent: event,\n                pointerType: 'mouse',\n                target: event.target\n            });\n        };\n        this.events = (this.options.events || []).concat(WHEEL_EVENTS);\n        this.events.forEach(event => element.addEventListener(event, this.handleEvent, _utils_globals__WEBPACK_IMPORTED_MODULE_1__.passiveSupported ? { passive: false } : false));\n    }\n    destroy() {\n        this.events.forEach(event => this.element.removeEventListener(event, this.handleEvent));\n    }\n    /**\n     * Enable this input (begin processing events)\n     * if the specified event type is among those handled by this input.\n     */\n    enableEventType(eventType, enabled) {\n        if (eventType === EVENT_TYPE) {\n            this.options.enable = enabled;\n        }\n    }\n}\n//# sourceMappingURL=wheel-input.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbWpvbG5pci5qcy9kaXN0L2VzbS9pbnB1dHMvd2hlZWwtaW5wdXQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3VwZXJzZXQvLi9ub2RlX21vZHVsZXMvbWpvbG5pci5qcy9kaXN0L2VzbS9pbnB1dHMvd2hlZWwtaW5wdXQuanM/MjBjOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgSW5wdXQgZnJvbSAnLi9pbnB1dCc7XG5pbXBvcnQgeyBJTlBVVF9FVkVOVF9UWVBFUyB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyB3aW5kb3csIHVzZXJBZ2VudCwgcGFzc2l2ZVN1cHBvcnRlZCB9IGZyb20gJy4uL3V0aWxzL2dsb2JhbHMnO1xuY29uc3QgZmlyZWZveCA9IHVzZXJBZ2VudC5pbmRleE9mKCdmaXJlZm94JykgIT09IC0xO1xuY29uc3QgeyBXSEVFTF9FVkVOVFMgfSA9IElOUFVUX0VWRU5UX1RZUEVTO1xuY29uc3QgRVZFTlRfVFlQRSA9ICd3aGVlbCc7XG4vLyBDb25zdGFudHMgZm9yIG5vcm1hbGl6aW5nIGlucHV0IGRlbHRhXG5jb25zdCBXSEVFTF9ERUxUQV9NQUdJQ19TQ0FMRVIgPSA0LjAwMDI0NDE0MDYyNTtcbmNvbnN0IFdIRUVMX0RFTFRBX1BFUl9MSU5FID0gNDA7XG4vLyBTbG93IGRvd24gem9vbSBpZiBzaGlmdCBrZXkgaXMgaGVsZCBmb3IgbW9yZSBwcmVjaXNlIHpvb21pbmdcbmNvbnN0IFNISUZUX01VTFRJUExJRVIgPSAwLjI1O1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgV2hlZWxJbnB1dCBleHRlbmRzIElucHV0IHtcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50LCBjYWxsYmFjaywgb3B0aW9ucykge1xuICAgICAgICBzdXBlcihlbGVtZW50LCBjYWxsYmFjaywgb3B0aW9ucyk7XG4gICAgICAgIC8qIGVzbGludC1kaXNhYmxlIGNvbXBsZXhpdHksIG1heC1zdGF0ZW1lbnRzICovXG4gICAgICAgIHRoaXMuaGFuZGxlRXZlbnQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5vcHRpb25zLmVuYWJsZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCB2YWx1ZSA9IGV2ZW50LmRlbHRhWTtcbiAgICAgICAgICAgIGlmICh3aW5kb3cuV2hlZWxFdmVudCkge1xuICAgICAgICAgICAgICAgIC8vIEZpcmVmb3ggZG91YmxlcyB0aGUgdmFsdWVzIG9uIHJldGluYSBzY3JlZW5zLi4uXG4gICAgICAgICAgICAgICAgaWYgKGZpcmVmb3ggJiYgZXZlbnQuZGVsdGFNb2RlID09PSB3aW5kb3cuV2hlZWxFdmVudC5ET01fREVMVEFfUElYRUwpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgLz0gd2luZG93LmRldmljZVBpeGVsUmF0aW87XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChldmVudC5kZWx0YU1vZGUgPT09IHdpbmRvdy5XaGVlbEV2ZW50LkRPTV9ERUxUQV9MSU5FKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlICo9IFdIRUVMX0RFTFRBX1BFUl9MSU5FO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gMCAmJiB2YWx1ZSAlIFdIRUVMX0RFTFRBX01BR0lDX1NDQUxFUiA9PT0gMCkge1xuICAgICAgICAgICAgICAgIC8vIFRoaXMgb25lIGlzIGRlZmluaXRlbHkgYSBtb3VzZSB3aGVlbCBldmVudC5cbiAgICAgICAgICAgICAgICAvLyBOb3JtYWxpemUgdGhpcyB2YWx1ZSB0byBtYXRjaCB0cmFja3BhZC5cbiAgICAgICAgICAgICAgICB2YWx1ZSA9IE1hdGguZmxvb3IodmFsdWUgLyBXSEVFTF9ERUxUQV9NQUdJQ19TQ0FMRVIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGV2ZW50LnNoaWZ0S2V5ICYmIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZSAqIFNISUZUX01VTFRJUExJRVI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmNhbGxiYWNrKHtcbiAgICAgICAgICAgICAgICB0eXBlOiBFVkVOVF9UWVBFLFxuICAgICAgICAgICAgICAgIGNlbnRlcjoge1xuICAgICAgICAgICAgICAgICAgICB4OiBldmVudC5jbGllbnRYLFxuICAgICAgICAgICAgICAgICAgICB5OiBldmVudC5jbGllbnRZXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBkZWx0YTogLXZhbHVlLFxuICAgICAgICAgICAgICAgIHNyY0V2ZW50OiBldmVudCxcbiAgICAgICAgICAgICAgICBwb2ludGVyVHlwZTogJ21vdXNlJyxcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IGV2ZW50LnRhcmdldFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZXZlbnRzID0gKHRoaXMub3B0aW9ucy5ldmVudHMgfHwgW10pLmNvbmNhdChXSEVFTF9FVkVOVFMpO1xuICAgICAgICB0aGlzLmV2ZW50cy5mb3JFYWNoKGV2ZW50ID0+IGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgdGhpcy5oYW5kbGVFdmVudCwgcGFzc2l2ZVN1cHBvcnRlZCA/IHsgcGFzc2l2ZTogZmFsc2UgfSA6IGZhbHNlKSk7XG4gICAgfVxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuZXZlbnRzLmZvckVhY2goZXZlbnQgPT4gdGhpcy5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIHRoaXMuaGFuZGxlRXZlbnQpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRW5hYmxlIHRoaXMgaW5wdXQgKGJlZ2luIHByb2Nlc3NpbmcgZXZlbnRzKVxuICAgICAqIGlmIHRoZSBzcGVjaWZpZWQgZXZlbnQgdHlwZSBpcyBhbW9uZyB0aG9zZSBoYW5kbGVkIGJ5IHRoaXMgaW5wdXQuXG4gICAgICovXG4gICAgZW5hYmxlRXZlbnRUeXBlKGV2ZW50VHlwZSwgZW5hYmxlZCkge1xuICAgICAgICBpZiAoZXZlbnRUeXBlID09PSBFVkVOVF9UWVBFKSB7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMuZW5hYmxlID0gZW5hYmxlZDtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXdoZWVsLWlucHV0LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/mjolnir.js/dist/esm/inputs/wheel-input.js\n");

/***/ }),

/***/ "./node_modules/mjolnir.js/dist/esm/utils/event-registrar.js":
/*!*******************************************************************!*\
  !*** ./node_modules/mjolnir.js/dist/esm/utils/event-registrar.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ EventRegistrar)\n/* harmony export */ });\n/* harmony import */ var _event_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./event-utils */ \"./node_modules/mjolnir.js/dist/esm/utils/event-utils.js\");\n\nconst DEFAULT_OPTIONS = {\n    srcElement: 'root',\n    priority: 0\n};\nclass EventRegistrar {\n    constructor(eventManager) {\n        /**\n         * Handles hammerjs event\n         */\n        this.handleEvent = (event) => {\n            if (this.isEmpty()) {\n                return;\n            }\n            const mjolnirEvent = this._normalizeEvent(event);\n            let target = event.srcEvent.target;\n            while (target && target !== mjolnirEvent.rootElement) {\n                this._emit(mjolnirEvent, target);\n                if (mjolnirEvent.handled) {\n                    return;\n                }\n                target = target.parentNode;\n            }\n            this._emit(mjolnirEvent, 'root');\n        };\n        this.eventManager = eventManager;\n        this.handlers = [];\n        // Element -> handler map\n        this.handlersByElement = new Map();\n        this._active = false;\n    }\n    // Returns true if there are no non-passive handlers\n    isEmpty() {\n        return !this._active;\n    }\n    add(type, handler, options, once = false, passive = false) {\n        const { handlers, handlersByElement } = this;\n        let opts = DEFAULT_OPTIONS;\n        if (typeof options === 'string' || (options && options.addEventListener)) {\n            // is DOM element, backward compatibility\n            // @ts-ignore\n            opts = { ...DEFAULT_OPTIONS, srcElement: options };\n        }\n        else if (options) {\n            opts = { ...DEFAULT_OPTIONS, ...options };\n        }\n        let entries = handlersByElement.get(opts.srcElement);\n        if (!entries) {\n            entries = [];\n            handlersByElement.set(opts.srcElement, entries);\n        }\n        const entry = {\n            type,\n            handler,\n            srcElement: opts.srcElement,\n            priority: opts.priority\n        };\n        if (once) {\n            entry.once = true;\n        }\n        if (passive) {\n            entry.passive = true;\n        }\n        handlers.push(entry);\n        this._active = this._active || !entry.passive;\n        // Sort handlers by descending priority\n        // Handlers with the same priority are excuted in the order of registration\n        let insertPosition = entries.length - 1;\n        while (insertPosition >= 0) {\n            if (entries[insertPosition].priority >= entry.priority) {\n                break;\n            }\n            insertPosition--;\n        }\n        entries.splice(insertPosition + 1, 0, entry);\n    }\n    remove(type, handler) {\n        const { handlers, handlersByElement } = this;\n        for (let i = handlers.length - 1; i >= 0; i--) {\n            const entry = handlers[i];\n            if (entry.type === type && entry.handler === handler) {\n                handlers.splice(i, 1);\n                const entries = handlersByElement.get(entry.srcElement);\n                entries.splice(entries.indexOf(entry), 1);\n                if (entries.length === 0) {\n                    handlersByElement.delete(entry.srcElement);\n                }\n            }\n        }\n        this._active = handlers.some(entry => !entry.passive);\n    }\n    /**\n     * Invoke handlers on a particular element\n     */\n    _emit(event, srcElement) {\n        const entries = this.handlersByElement.get(srcElement);\n        if (entries) {\n            let immediatePropagationStopped = false;\n            // Prevents the current event from bubbling up\n            const stopPropagation = () => {\n                event.handled = true;\n            };\n            // Prevent any remaining listeners from being called\n            const stopImmediatePropagation = () => {\n                event.handled = true;\n                immediatePropagationStopped = true;\n            };\n            const entriesToRemove = [];\n            for (let i = 0; i < entries.length; i++) {\n                const { type, handler, once } = entries[i];\n                handler({\n                    ...event,\n                    // @ts-ignore\n                    type,\n                    stopPropagation,\n                    stopImmediatePropagation\n                });\n                if (once) {\n                    entriesToRemove.push(entries[i]);\n                }\n                if (immediatePropagationStopped) {\n                    break;\n                }\n            }\n            for (let i = 0; i < entriesToRemove.length; i++) {\n                const { type, handler } = entriesToRemove[i];\n                this.remove(type, handler);\n            }\n        }\n    }\n    /**\n     * Normalizes hammerjs and custom events to have predictable fields.\n     */\n    _normalizeEvent(event) {\n        const rootElement = this.eventManager.getElement();\n        return {\n            ...event,\n            ...(0,_event_utils__WEBPACK_IMPORTED_MODULE_0__.whichButtons)(event),\n            ...(0,_event_utils__WEBPACK_IMPORTED_MODULE_0__.getOffsetPosition)(event, rootElement),\n            preventDefault: () => {\n                event.srcEvent.preventDefault();\n            },\n            stopImmediatePropagation: null,\n            stopPropagation: null,\n            handled: false,\n            rootElement\n        };\n    }\n}\n//# sourceMappingURL=event-registrar.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbWpvbG5pci5qcy9kaXN0L2VzbS91dGlscy9ldmVudC1yZWdpc3RyYXIuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3N1cGVyc2V0Ly4vbm9kZV9tb2R1bGVzL21qb2xuaXIuanMvZGlzdC9lc20vdXRpbHMvZXZlbnQtcmVnaXN0cmFyLmpzPzM5NjMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgd2hpY2hCdXR0b25zLCBnZXRPZmZzZXRQb3NpdGlvbiB9IGZyb20gJy4vZXZlbnQtdXRpbHMnO1xuY29uc3QgREVGQVVMVF9PUFRJT05TID0ge1xuICAgIHNyY0VsZW1lbnQ6ICdyb290JyxcbiAgICBwcmlvcml0eTogMFxufTtcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEV2ZW50UmVnaXN0cmFyIHtcbiAgICBjb25zdHJ1Y3RvcihldmVudE1hbmFnZXIpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhhbmRsZXMgaGFtbWVyanMgZXZlbnRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaGFuZGxlRXZlbnQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG1qb2xuaXJFdmVudCA9IHRoaXMuX25vcm1hbGl6ZUV2ZW50KGV2ZW50KTtcbiAgICAgICAgICAgIGxldCB0YXJnZXQgPSBldmVudC5zcmNFdmVudC50YXJnZXQ7XG4gICAgICAgICAgICB3aGlsZSAodGFyZ2V0ICYmIHRhcmdldCAhPT0gbWpvbG5pckV2ZW50LnJvb3RFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZW1pdChtam9sbmlyRXZlbnQsIHRhcmdldCk7XG4gICAgICAgICAgICAgICAgaWYgKG1qb2xuaXJFdmVudC5oYW5kbGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGFyZ2V0ID0gdGFyZ2V0LnBhcmVudE5vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9lbWl0KG1qb2xuaXJFdmVudCwgJ3Jvb3QnKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5ldmVudE1hbmFnZXIgPSBldmVudE1hbmFnZXI7XG4gICAgICAgIHRoaXMuaGFuZGxlcnMgPSBbXTtcbiAgICAgICAgLy8gRWxlbWVudCAtPiBoYW5kbGVyIG1hcFxuICAgICAgICB0aGlzLmhhbmRsZXJzQnlFbGVtZW50ID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLl9hY3RpdmUgPSBmYWxzZTtcbiAgICB9XG4gICAgLy8gUmV0dXJucyB0cnVlIGlmIHRoZXJlIGFyZSBubyBub24tcGFzc2l2ZSBoYW5kbGVyc1xuICAgIGlzRW1wdHkoKSB7XG4gICAgICAgIHJldHVybiAhdGhpcy5fYWN0aXZlO1xuICAgIH1cbiAgICBhZGQodHlwZSwgaGFuZGxlciwgb3B0aW9ucywgb25jZSA9IGZhbHNlLCBwYXNzaXZlID0gZmFsc2UpIHtcbiAgICAgICAgY29uc3QgeyBoYW5kbGVycywgaGFuZGxlcnNCeUVsZW1lbnQgfSA9IHRoaXM7XG4gICAgICAgIGxldCBvcHRzID0gREVGQVVMVF9PUFRJT05TO1xuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdzdHJpbmcnIHx8IChvcHRpb25zICYmIG9wdGlvbnMuYWRkRXZlbnRMaXN0ZW5lcikpIHtcbiAgICAgICAgICAgIC8vIGlzIERPTSBlbGVtZW50LCBiYWNrd2FyZCBjb21wYXRpYmlsaXR5XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICBvcHRzID0geyAuLi5ERUZBVUxUX09QVElPTlMsIHNyY0VsZW1lbnQ6IG9wdGlvbnMgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChvcHRpb25zKSB7XG4gICAgICAgICAgICBvcHRzID0geyAuLi5ERUZBVUxUX09QVElPTlMsIC4uLm9wdGlvbnMgfTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZW50cmllcyA9IGhhbmRsZXJzQnlFbGVtZW50LmdldChvcHRzLnNyY0VsZW1lbnQpO1xuICAgICAgICBpZiAoIWVudHJpZXMpIHtcbiAgICAgICAgICAgIGVudHJpZXMgPSBbXTtcbiAgICAgICAgICAgIGhhbmRsZXJzQnlFbGVtZW50LnNldChvcHRzLnNyY0VsZW1lbnQsIGVudHJpZXMpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGVudHJ5ID0ge1xuICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgIGhhbmRsZXIsXG4gICAgICAgICAgICBzcmNFbGVtZW50OiBvcHRzLnNyY0VsZW1lbnQsXG4gICAgICAgICAgICBwcmlvcml0eTogb3B0cy5wcmlvcml0eVxuICAgICAgICB9O1xuICAgICAgICBpZiAob25jZSkge1xuICAgICAgICAgICAgZW50cnkub25jZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhc3NpdmUpIHtcbiAgICAgICAgICAgIGVudHJ5LnBhc3NpdmUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGhhbmRsZXJzLnB1c2goZW50cnkpO1xuICAgICAgICB0aGlzLl9hY3RpdmUgPSB0aGlzLl9hY3RpdmUgfHwgIWVudHJ5LnBhc3NpdmU7XG4gICAgICAgIC8vIFNvcnQgaGFuZGxlcnMgYnkgZGVzY2VuZGluZyBwcmlvcml0eVxuICAgICAgICAvLyBIYW5kbGVycyB3aXRoIHRoZSBzYW1lIHByaW9yaXR5IGFyZSBleGN1dGVkIGluIHRoZSBvcmRlciBvZiByZWdpc3RyYXRpb25cbiAgICAgICAgbGV0IGluc2VydFBvc2l0aW9uID0gZW50cmllcy5sZW5ndGggLSAxO1xuICAgICAgICB3aGlsZSAoaW5zZXJ0UG9zaXRpb24gPj0gMCkge1xuICAgICAgICAgICAgaWYgKGVudHJpZXNbaW5zZXJ0UG9zaXRpb25dLnByaW9yaXR5ID49IGVudHJ5LnByaW9yaXR5KSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbnNlcnRQb3NpdGlvbi0tO1xuICAgICAgICB9XG4gICAgICAgIGVudHJpZXMuc3BsaWNlKGluc2VydFBvc2l0aW9uICsgMSwgMCwgZW50cnkpO1xuICAgIH1cbiAgICByZW1vdmUodHlwZSwgaGFuZGxlcikge1xuICAgICAgICBjb25zdCB7IGhhbmRsZXJzLCBoYW5kbGVyc0J5RWxlbWVudCB9ID0gdGhpcztcbiAgICAgICAgZm9yIChsZXQgaSA9IGhhbmRsZXJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICBjb25zdCBlbnRyeSA9IGhhbmRsZXJzW2ldO1xuICAgICAgICAgICAgaWYgKGVudHJ5LnR5cGUgPT09IHR5cGUgJiYgZW50cnkuaGFuZGxlciA9PT0gaGFuZGxlcikge1xuICAgICAgICAgICAgICAgIGhhbmRsZXJzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICBjb25zdCBlbnRyaWVzID0gaGFuZGxlcnNCeUVsZW1lbnQuZ2V0KGVudHJ5LnNyY0VsZW1lbnQpO1xuICAgICAgICAgICAgICAgIGVudHJpZXMuc3BsaWNlKGVudHJpZXMuaW5kZXhPZihlbnRyeSksIDEpO1xuICAgICAgICAgICAgICAgIGlmIChlbnRyaWVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGVyc0J5RWxlbWVudC5kZWxldGUoZW50cnkuc3JjRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2FjdGl2ZSA9IGhhbmRsZXJzLnNvbWUoZW50cnkgPT4gIWVudHJ5LnBhc3NpdmUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbnZva2UgaGFuZGxlcnMgb24gYSBwYXJ0aWN1bGFyIGVsZW1lbnRcbiAgICAgKi9cbiAgICBfZW1pdChldmVudCwgc3JjRWxlbWVudCkge1xuICAgICAgICBjb25zdCBlbnRyaWVzID0gdGhpcy5oYW5kbGVyc0J5RWxlbWVudC5nZXQoc3JjRWxlbWVudCk7XG4gICAgICAgIGlmIChlbnRyaWVzKSB7XG4gICAgICAgICAgICBsZXQgaW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkID0gZmFsc2U7XG4gICAgICAgICAgICAvLyBQcmV2ZW50cyB0aGUgY3VycmVudCBldmVudCBmcm9tIGJ1YmJsaW5nIHVwXG4gICAgICAgICAgICBjb25zdCBzdG9wUHJvcGFnYXRpb24gPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgZXZlbnQuaGFuZGxlZCA9IHRydWU7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gUHJldmVudCBhbnkgcmVtYWluaW5nIGxpc3RlbmVycyBmcm9tIGJlaW5nIGNhbGxlZFxuICAgICAgICAgICAgY29uc3Qgc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGV2ZW50LmhhbmRsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCA9IHRydWU7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgZW50cmllc1RvUmVtb3ZlID0gW107XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVudHJpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHR5cGUsIGhhbmRsZXIsIG9uY2UgfSA9IGVudHJpZXNbaV07XG4gICAgICAgICAgICAgICAgaGFuZGxlcih7XG4gICAgICAgICAgICAgICAgICAgIC4uLmV2ZW50LFxuICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICAgICAgICAgIHN0b3BQcm9wYWdhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKG9uY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgZW50cmllc1RvUmVtb3ZlLnB1c2goZW50cmllc1tpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbnRyaWVzVG9SZW1vdmUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHR5cGUsIGhhbmRsZXIgfSA9IGVudHJpZXNUb1JlbW92ZVtpXTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZSh0eXBlLCBoYW5kbGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBOb3JtYWxpemVzIGhhbW1lcmpzIGFuZCBjdXN0b20gZXZlbnRzIHRvIGhhdmUgcHJlZGljdGFibGUgZmllbGRzLlxuICAgICAqL1xuICAgIF9ub3JtYWxpemVFdmVudChldmVudCkge1xuICAgICAgICBjb25zdCByb290RWxlbWVudCA9IHRoaXMuZXZlbnRNYW5hZ2VyLmdldEVsZW1lbnQoKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLmV2ZW50LFxuICAgICAgICAgICAgLi4ud2hpY2hCdXR0b25zKGV2ZW50KSxcbiAgICAgICAgICAgIC4uLmdldE9mZnNldFBvc2l0aW9uKGV2ZW50LCByb290RWxlbWVudCksXG4gICAgICAgICAgICBwcmV2ZW50RGVmYXVsdDogKCkgPT4ge1xuICAgICAgICAgICAgICAgIGV2ZW50LnNyY0V2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uOiBudWxsLFxuICAgICAgICAgICAgc3RvcFByb3BhZ2F0aW9uOiBudWxsLFxuICAgICAgICAgICAgaGFuZGxlZDogZmFsc2UsXG4gICAgICAgICAgICByb290RWxlbWVudFxuICAgICAgICB9O1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWV2ZW50LXJlZ2lzdHJhci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/mjolnir.js/dist/esm/utils/event-registrar.js\n");

/***/ }),

/***/ "./node_modules/mjolnir.js/dist/esm/utils/event-utils.js":
/*!***************************************************************!*\
  !*** ./node_modules/mjolnir.js/dist/esm/utils/event-utils.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getOffsetPosition: () => (/* binding */ getOffsetPosition),\n/* harmony export */   whichButtons: () => (/* binding */ whichButtons)\n/* harmony export */ });\n/* Constants */\nconst DOWN_EVENT = 1;\nconst MOVE_EVENT = 2;\nconst UP_EVENT = 4;\nconst MOUSE_EVENTS = {\n    pointerdown: DOWN_EVENT,\n    pointermove: MOVE_EVENT,\n    pointerup: UP_EVENT,\n    mousedown: DOWN_EVENT,\n    mousemove: MOVE_EVENT,\n    mouseup: UP_EVENT\n};\n// MouseEvent.which https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/which\nconst MOUSE_EVENT_WHICH_LEFT = 1;\nconst MOUSE_EVENT_WHICH_MIDDLE = 2;\nconst MOUSE_EVENT_WHICH_RIGHT = 3;\n// MouseEvent.button https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/button\nconst MOUSE_EVENT_BUTTON_LEFT = 0;\nconst MOUSE_EVENT_BUTTON_MIDDLE = 1;\nconst MOUSE_EVENT_BUTTON_RIGHT = 2;\n// MouseEvent.buttons https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/buttons\nconst MOUSE_EVENT_BUTTONS_LEFT_MASK = 1;\nconst MOUSE_EVENT_BUTTONS_RIGHT_MASK = 2;\nconst MOUSE_EVENT_BUTTONS_MIDDLE_MASK = 4;\n/**\n * Extract the involved mouse button\n */\nfunction whichButtons(event) {\n    const eventType = MOUSE_EVENTS[event.srcEvent.type];\n    if (!eventType) {\n        // Not a mouse evet\n        return null;\n    }\n    const { buttons, button, which } = event.srcEvent;\n    let leftButton = false;\n    let middleButton = false;\n    let rightButton = false;\n    if (\n    // button is up, need to find out which one was pressed before\n    eventType === UP_EVENT ||\n        // moving but does not support `buttons` API\n        (eventType === MOVE_EVENT && !Number.isFinite(buttons))) {\n        leftButton = which === MOUSE_EVENT_WHICH_LEFT;\n        middleButton = which === MOUSE_EVENT_WHICH_MIDDLE;\n        rightButton = which === MOUSE_EVENT_WHICH_RIGHT;\n    }\n    else if (eventType === MOVE_EVENT) {\n        leftButton = Boolean(buttons & MOUSE_EVENT_BUTTONS_LEFT_MASK);\n        middleButton = Boolean(buttons & MOUSE_EVENT_BUTTONS_MIDDLE_MASK);\n        rightButton = Boolean(buttons & MOUSE_EVENT_BUTTONS_RIGHT_MASK);\n    }\n    else if (eventType === DOWN_EVENT) {\n        leftButton = button === MOUSE_EVENT_BUTTON_LEFT;\n        middleButton = button === MOUSE_EVENT_BUTTON_MIDDLE;\n        rightButton = button === MOUSE_EVENT_BUTTON_RIGHT;\n    }\n    return { leftButton, middleButton, rightButton };\n}\n/**\n * Calculate event position relative to the root element\n */\nfunction getOffsetPosition(event, rootElement) {\n    const center = event.center;\n    // `center` is a hammer.js event property\n    if (!center) {\n        // Not a gestural event\n        return null;\n    }\n    const rect = rootElement.getBoundingClientRect();\n    // Fix scale for map affected by a CSS transform.\n    // See https://stackoverflow.com/a/26893663/3528533\n    const scaleX = rect.width / rootElement.offsetWidth || 1;\n    const scaleY = rect.height / rootElement.offsetHeight || 1;\n    // Calculate center relative to the root element\n    const offsetCenter = {\n        x: (center.x - rect.left - rootElement.clientLeft) / scaleX,\n        y: (center.y - rect.top - rootElement.clientTop) / scaleY\n    };\n    return { center, offsetCenter };\n}\n//# sourceMappingURL=event-utils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbWpvbG5pci5qcy9kaXN0L2VzbS91dGlscy9ldmVudC11dGlscy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3VwZXJzZXQvLi9ub2RlX21vZHVsZXMvbWpvbG5pci5qcy9kaXN0L2VzbS91dGlscy9ldmVudC11dGlscy5qcz9hYTE5Il0sInNvdXJjZXNDb250ZW50IjpbIi8qIENvbnN0YW50cyAqL1xuY29uc3QgRE9XTl9FVkVOVCA9IDE7XG5jb25zdCBNT1ZFX0VWRU5UID0gMjtcbmNvbnN0IFVQX0VWRU5UID0gNDtcbmNvbnN0IE1PVVNFX0VWRU5UUyA9IHtcbiAgICBwb2ludGVyZG93bjogRE9XTl9FVkVOVCxcbiAgICBwb2ludGVybW92ZTogTU9WRV9FVkVOVCxcbiAgICBwb2ludGVydXA6IFVQX0VWRU5ULFxuICAgIG1vdXNlZG93bjogRE9XTl9FVkVOVCxcbiAgICBtb3VzZW1vdmU6IE1PVkVfRVZFTlQsXG4gICAgbW91c2V1cDogVVBfRVZFTlRcbn07XG4vLyBNb3VzZUV2ZW50LndoaWNoIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Nb3VzZUV2ZW50L3doaWNoXG5jb25zdCBNT1VTRV9FVkVOVF9XSElDSF9MRUZUID0gMTtcbmNvbnN0IE1PVVNFX0VWRU5UX1dISUNIX01JRERMRSA9IDI7XG5jb25zdCBNT1VTRV9FVkVOVF9XSElDSF9SSUdIVCA9IDM7XG4vLyBNb3VzZUV2ZW50LmJ1dHRvbiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvTW91c2VFdmVudC9idXR0b25cbmNvbnN0IE1PVVNFX0VWRU5UX0JVVFRPTl9MRUZUID0gMDtcbmNvbnN0IE1PVVNFX0VWRU5UX0JVVFRPTl9NSURETEUgPSAxO1xuY29uc3QgTU9VU0VfRVZFTlRfQlVUVE9OX1JJR0hUID0gMjtcbi8vIE1vdXNlRXZlbnQuYnV0dG9ucyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvTW91c2VFdmVudC9idXR0b25zXG5jb25zdCBNT1VTRV9FVkVOVF9CVVRUT05TX0xFRlRfTUFTSyA9IDE7XG5jb25zdCBNT1VTRV9FVkVOVF9CVVRUT05TX1JJR0hUX01BU0sgPSAyO1xuY29uc3QgTU9VU0VfRVZFTlRfQlVUVE9OU19NSURETEVfTUFTSyA9IDQ7XG4vKipcbiAqIEV4dHJhY3QgdGhlIGludm9sdmVkIG1vdXNlIGJ1dHRvblxuICovXG5leHBvcnQgZnVuY3Rpb24gd2hpY2hCdXR0b25zKGV2ZW50KSB7XG4gICAgY29uc3QgZXZlbnRUeXBlID0gTU9VU0VfRVZFTlRTW2V2ZW50LnNyY0V2ZW50LnR5cGVdO1xuICAgIGlmICghZXZlbnRUeXBlKSB7XG4gICAgICAgIC8vIE5vdCBhIG1vdXNlIGV2ZXRcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHsgYnV0dG9ucywgYnV0dG9uLCB3aGljaCB9ID0gZXZlbnQuc3JjRXZlbnQ7XG4gICAgbGV0IGxlZnRCdXR0b24gPSBmYWxzZTtcbiAgICBsZXQgbWlkZGxlQnV0dG9uID0gZmFsc2U7XG4gICAgbGV0IHJpZ2h0QnV0dG9uID0gZmFsc2U7XG4gICAgaWYgKFxuICAgIC8vIGJ1dHRvbiBpcyB1cCwgbmVlZCB0byBmaW5kIG91dCB3aGljaCBvbmUgd2FzIHByZXNzZWQgYmVmb3JlXG4gICAgZXZlbnRUeXBlID09PSBVUF9FVkVOVCB8fFxuICAgICAgICAvLyBtb3ZpbmcgYnV0IGRvZXMgbm90IHN1cHBvcnQgYGJ1dHRvbnNgIEFQSVxuICAgICAgICAoZXZlbnRUeXBlID09PSBNT1ZFX0VWRU5UICYmICFOdW1iZXIuaXNGaW5pdGUoYnV0dG9ucykpKSB7XG4gICAgICAgIGxlZnRCdXR0b24gPSB3aGljaCA9PT0gTU9VU0VfRVZFTlRfV0hJQ0hfTEVGVDtcbiAgICAgICAgbWlkZGxlQnV0dG9uID0gd2hpY2ggPT09IE1PVVNFX0VWRU5UX1dISUNIX01JRERMRTtcbiAgICAgICAgcmlnaHRCdXR0b24gPSB3aGljaCA9PT0gTU9VU0VfRVZFTlRfV0hJQ0hfUklHSFQ7XG4gICAgfVxuICAgIGVsc2UgaWYgKGV2ZW50VHlwZSA9PT0gTU9WRV9FVkVOVCkge1xuICAgICAgICBsZWZ0QnV0dG9uID0gQm9vbGVhbihidXR0b25zICYgTU9VU0VfRVZFTlRfQlVUVE9OU19MRUZUX01BU0spO1xuICAgICAgICBtaWRkbGVCdXR0b24gPSBCb29sZWFuKGJ1dHRvbnMgJiBNT1VTRV9FVkVOVF9CVVRUT05TX01JRERMRV9NQVNLKTtcbiAgICAgICAgcmlnaHRCdXR0b24gPSBCb29sZWFuKGJ1dHRvbnMgJiBNT1VTRV9FVkVOVF9CVVRUT05TX1JJR0hUX01BU0spO1xuICAgIH1cbiAgICBlbHNlIGlmIChldmVudFR5cGUgPT09IERPV05fRVZFTlQpIHtcbiAgICAgICAgbGVmdEJ1dHRvbiA9IGJ1dHRvbiA9PT0gTU9VU0VfRVZFTlRfQlVUVE9OX0xFRlQ7XG4gICAgICAgIG1pZGRsZUJ1dHRvbiA9IGJ1dHRvbiA9PT0gTU9VU0VfRVZFTlRfQlVUVE9OX01JRERMRTtcbiAgICAgICAgcmlnaHRCdXR0b24gPSBidXR0b24gPT09IE1PVVNFX0VWRU5UX0JVVFRPTl9SSUdIVDtcbiAgICB9XG4gICAgcmV0dXJuIHsgbGVmdEJ1dHRvbiwgbWlkZGxlQnV0dG9uLCByaWdodEJ1dHRvbiB9O1xufVxuLyoqXG4gKiBDYWxjdWxhdGUgZXZlbnQgcG9zaXRpb24gcmVsYXRpdmUgdG8gdGhlIHJvb3QgZWxlbWVudFxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0T2Zmc2V0UG9zaXRpb24oZXZlbnQsIHJvb3RFbGVtZW50KSB7XG4gICAgY29uc3QgY2VudGVyID0gZXZlbnQuY2VudGVyO1xuICAgIC8vIGBjZW50ZXJgIGlzIGEgaGFtbWVyLmpzIGV2ZW50IHByb3BlcnR5XG4gICAgaWYgKCFjZW50ZXIpIHtcbiAgICAgICAgLy8gTm90IGEgZ2VzdHVyYWwgZXZlbnRcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHJlY3QgPSByb290RWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAvLyBGaXggc2NhbGUgZm9yIG1hcCBhZmZlY3RlZCBieSBhIENTUyB0cmFuc2Zvcm0uXG4gICAgLy8gU2VlIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yNjg5MzY2My8zNTI4NTMzXG4gICAgY29uc3Qgc2NhbGVYID0gcmVjdC53aWR0aCAvIHJvb3RFbGVtZW50Lm9mZnNldFdpZHRoIHx8IDE7XG4gICAgY29uc3Qgc2NhbGVZID0gcmVjdC5oZWlnaHQgLyByb290RWxlbWVudC5vZmZzZXRIZWlnaHQgfHwgMTtcbiAgICAvLyBDYWxjdWxhdGUgY2VudGVyIHJlbGF0aXZlIHRvIHRoZSByb290IGVsZW1lbnRcbiAgICBjb25zdCBvZmZzZXRDZW50ZXIgPSB7XG4gICAgICAgIHg6IChjZW50ZXIueCAtIHJlY3QubGVmdCAtIHJvb3RFbGVtZW50LmNsaWVudExlZnQpIC8gc2NhbGVYLFxuICAgICAgICB5OiAoY2VudGVyLnkgLSByZWN0LnRvcCAtIHJvb3RFbGVtZW50LmNsaWVudFRvcCkgLyBzY2FsZVlcbiAgICB9O1xuICAgIHJldHVybiB7IGNlbnRlciwgb2Zmc2V0Q2VudGVyIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ldmVudC11dGlscy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/mjolnir.js/dist/esm/utils/event-utils.js\n");

/***/ }),

/***/ "./node_modules/mjolnir.js/dist/esm/utils/globals.js":
/*!***********************************************************!*\
  !*** ./node_modules/mjolnir.js/dist/esm/utils/globals.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   passiveSupported: () => (/* binding */ passiveSupported),\n/* harmony export */   userAgent: () => (/* binding */ userAgent),\n/* harmony export */   window: () => (/* binding */ window_)\n/* harmony export */ });\n/* unused harmony exports global, document */\n// Purpose: include this in your module to avoids adding dependencies on\n// micro modules like 'global'\n/* global window, global, document, navigator */\nconst userAgent = typeof navigator !== 'undefined' && navigator.userAgent ? navigator.userAgent.toLowerCase() : '';\nconst window_ = typeof window !== 'undefined' ? window : __webpack_require__.g;\nconst global_ = typeof __webpack_require__.g !== 'undefined' ? __webpack_require__.g : window;\nconst document_ = typeof document !== 'undefined' ? document : {};\n\n/*\n * Detect whether passive option is supported by the current browser.\n * https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener\n   #Safely_detecting_option_support\n */\nlet passiveSupported = false;\n/* eslint-disable accessor-pairs, no-empty */\ntry {\n    const options = {\n        // This function will be called when the browser\n        // attempts to access the passive property.\n        get passive() {\n            passiveSupported = true;\n            return true;\n        }\n    };\n    window_.addEventListener('test', null, options);\n    window_.removeEventListener('test', null);\n}\ncatch (err) {\n    passiveSupported = false;\n}\n\n//# sourceMappingURL=globals.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbWpvbG5pci5qcy9kaXN0L2VzbS91dGlscy9nbG9iYWxzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdXBlcnNldC8uL25vZGVfbW9kdWxlcy9tam9sbmlyLmpzL2Rpc3QvZXNtL3V0aWxzL2dsb2JhbHMuanM/NTVhOSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBQdXJwb3NlOiBpbmNsdWRlIHRoaXMgaW4geW91ciBtb2R1bGUgdG8gYXZvaWRzIGFkZGluZyBkZXBlbmRlbmNpZXMgb25cbi8vIG1pY3JvIG1vZHVsZXMgbGlrZSAnZ2xvYmFsJ1xuLyogZ2xvYmFsIHdpbmRvdywgZ2xvYmFsLCBkb2N1bWVudCwgbmF2aWdhdG9yICovXG5leHBvcnQgY29uc3QgdXNlckFnZW50ID0gdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudCA/IG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKSA6ICcnO1xuY29uc3Qgd2luZG93XyA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDogZ2xvYmFsO1xuY29uc3QgZ2xvYmFsXyA9IHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsIDogd2luZG93O1xuY29uc3QgZG9jdW1lbnRfID0gdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyA/IGRvY3VtZW50IDoge307XG5leHBvcnQgeyB3aW5kb3dfIGFzIHdpbmRvdywgZ2xvYmFsXyBhcyBnbG9iYWwsIGRvY3VtZW50XyBhcyBkb2N1bWVudCB9O1xuLypcbiAqIERldGVjdCB3aGV0aGVyIHBhc3NpdmUgb3B0aW9uIGlzIHN1cHBvcnRlZCBieSB0aGUgY3VycmVudCBicm93c2VyLlxuICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0V2ZW50VGFyZ2V0L2FkZEV2ZW50TGlzdGVuZXJcbiAgICNTYWZlbHlfZGV0ZWN0aW5nX29wdGlvbl9zdXBwb3J0XG4gKi9cbmxldCBwYXNzaXZlU3VwcG9ydGVkID0gZmFsc2U7XG4vKiBlc2xpbnQtZGlzYWJsZSBhY2Nlc3Nvci1wYWlycywgbm8tZW1wdHkgKi9cbnRyeSB7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgICAgLy8gVGhpcyBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCB3aGVuIHRoZSBicm93c2VyXG4gICAgICAgIC8vIGF0dGVtcHRzIHRvIGFjY2VzcyB0aGUgcGFzc2l2ZSBwcm9wZXJ0eS5cbiAgICAgICAgZ2V0IHBhc3NpdmUoKSB7XG4gICAgICAgICAgICBwYXNzaXZlU3VwcG9ydGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB3aW5kb3dfLmFkZEV2ZW50TGlzdGVuZXIoJ3Rlc3QnLCBudWxsLCBvcHRpb25zKTtcbiAgICB3aW5kb3dfLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Rlc3QnLCBudWxsKTtcbn1cbmNhdGNoIChlcnIpIHtcbiAgICBwYXNzaXZlU3VwcG9ydGVkID0gZmFsc2U7XG59XG5leHBvcnQgeyBwYXNzaXZlU3VwcG9ydGVkIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nbG9iYWxzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/mjolnir.js/dist/esm/utils/globals.js\n");

/***/ }),

/***/ "./node_modules/mjolnir.js/dist/esm/utils/hammer-overrides.js":
/*!********************************************************************!*\
  !*** ./node_modules/mjolnir.js/dist/esm/utils/hammer-overrides.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   enhanceMouseInput: () => (/* binding */ enhanceMouseInput),\n/* harmony export */   enhancePointerEventInput: () => (/* binding */ enhancePointerEventInput)\n/* harmony export */ });\n/**\n * This file contains overrides the default\n * hammer.js functions to add our own utility\n */\n/* eslint-disable */\n/* Hammer.js constants */\nconst INPUT_START = 1;\nconst INPUT_MOVE = 2;\nconst INPUT_END = 4;\nconst MOUSE_INPUT_MAP = {\n    mousedown: INPUT_START,\n    mousemove: INPUT_MOVE,\n    mouseup: INPUT_END\n};\n/**\n * Helper function that returns true if any element in an array meets given criteria.\n * Because older browsers do not support `Array.prototype.some`\n * @params array {Array}\n * @params predict {Function}\n */\nfunction some(array, predict) {\n    for (let i = 0; i < array.length; i++) {\n        if (predict(array[i])) {\n            return true;\n        }\n    }\n    return false;\n}\n/* eslint-disable no-invalid-this */\nfunction enhancePointerEventInput(PointerEventInput) {\n    const oldHandler = PointerEventInput.prototype.handler;\n    // overrides PointerEventInput.handler to accept right mouse button\n    PointerEventInput.prototype.handler = function handler(ev) {\n        const store = this.store;\n        // Allow non-left mouse buttons through\n        if (ev.button > 0 && ev.type === 'pointerdown') {\n            if (!some(store, e => e.pointerId === ev.pointerId)) {\n                store.push(ev);\n            }\n        }\n        oldHandler.call(this, ev);\n    };\n}\n// overrides MouseInput.handler to accept right mouse button\nfunction enhanceMouseInput(MouseInput) {\n    MouseInput.prototype.handler = function handler(ev) {\n        let eventType = MOUSE_INPUT_MAP[ev.type];\n        // on start we want to have the mouse button down\n        if (eventType & INPUT_START && ev.button >= 0) {\n            this.pressed = true;\n        }\n        if (eventType & INPUT_MOVE && ev.which === 0) {\n            eventType = INPUT_END;\n        }\n        // mouse must be down\n        if (!this.pressed) {\n            return;\n        }\n        if (eventType & INPUT_END) {\n            this.pressed = false;\n        }\n        this.callback(this.manager, eventType, {\n            pointers: [ev],\n            changedPointers: [ev],\n            pointerType: 'mouse',\n            srcEvent: ev\n        });\n    };\n}\n//# sourceMappingURL=hammer-overrides.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbWpvbG5pci5qcy9kaXN0L2VzbS91dGlscy9oYW1tZXItb3ZlcnJpZGVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3N1cGVyc2V0Ly4vbm9kZV9tb2R1bGVzL21qb2xuaXIuanMvZGlzdC9lc20vdXRpbHMvaGFtbWVyLW92ZXJyaWRlcy5qcz8wMDNkIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVGhpcyBmaWxlIGNvbnRhaW5zIG92ZXJyaWRlcyB0aGUgZGVmYXVsdFxuICogaGFtbWVyLmpzIGZ1bmN0aW9ucyB0byBhZGQgb3VyIG93biB1dGlsaXR5XG4gKi9cbi8qIGVzbGludC1kaXNhYmxlICovXG4vKiBIYW1tZXIuanMgY29uc3RhbnRzICovXG5jb25zdCBJTlBVVF9TVEFSVCA9IDE7XG5jb25zdCBJTlBVVF9NT1ZFID0gMjtcbmNvbnN0IElOUFVUX0VORCA9IDQ7XG5jb25zdCBNT1VTRV9JTlBVVF9NQVAgPSB7XG4gICAgbW91c2Vkb3duOiBJTlBVVF9TVEFSVCxcbiAgICBtb3VzZW1vdmU6IElOUFVUX01PVkUsXG4gICAgbW91c2V1cDogSU5QVVRfRU5EXG59O1xuLyoqXG4gKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRydWUgaWYgYW55IGVsZW1lbnQgaW4gYW4gYXJyYXkgbWVldHMgZ2l2ZW4gY3JpdGVyaWEuXG4gKiBCZWNhdXNlIG9sZGVyIGJyb3dzZXJzIGRvIG5vdCBzdXBwb3J0IGBBcnJheS5wcm90b3R5cGUuc29tZWBcbiAqIEBwYXJhbXMgYXJyYXkge0FycmF5fVxuICogQHBhcmFtcyBwcmVkaWN0IHtGdW5jdGlvbn1cbiAqL1xuZnVuY3Rpb24gc29tZShhcnJheSwgcHJlZGljdCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHByZWRpY3QoYXJyYXlbaV0pKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG4vKiBlc2xpbnQtZGlzYWJsZSBuby1pbnZhbGlkLXRoaXMgKi9cbmV4cG9ydCBmdW5jdGlvbiBlbmhhbmNlUG9pbnRlckV2ZW50SW5wdXQoUG9pbnRlckV2ZW50SW5wdXQpIHtcbiAgICBjb25zdCBvbGRIYW5kbGVyID0gUG9pbnRlckV2ZW50SW5wdXQucHJvdG90eXBlLmhhbmRsZXI7XG4gICAgLy8gb3ZlcnJpZGVzIFBvaW50ZXJFdmVudElucHV0LmhhbmRsZXIgdG8gYWNjZXB0IHJpZ2h0IG1vdXNlIGJ1dHRvblxuICAgIFBvaW50ZXJFdmVudElucHV0LnByb3RvdHlwZS5oYW5kbGVyID0gZnVuY3Rpb24gaGFuZGxlcihldikge1xuICAgICAgICBjb25zdCBzdG9yZSA9IHRoaXMuc3RvcmU7XG4gICAgICAgIC8vIEFsbG93IG5vbi1sZWZ0IG1vdXNlIGJ1dHRvbnMgdGhyb3VnaFxuICAgICAgICBpZiAoZXYuYnV0dG9uID4gMCAmJiBldi50eXBlID09PSAncG9pbnRlcmRvd24nKSB7XG4gICAgICAgICAgICBpZiAoIXNvbWUoc3RvcmUsIGUgPT4gZS5wb2ludGVySWQgPT09IGV2LnBvaW50ZXJJZCkpIHtcbiAgICAgICAgICAgICAgICBzdG9yZS5wdXNoKGV2KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBvbGRIYW5kbGVyLmNhbGwodGhpcywgZXYpO1xuICAgIH07XG59XG4vLyBvdmVycmlkZXMgTW91c2VJbnB1dC5oYW5kbGVyIHRvIGFjY2VwdCByaWdodCBtb3VzZSBidXR0b25cbmV4cG9ydCBmdW5jdGlvbiBlbmhhbmNlTW91c2VJbnB1dChNb3VzZUlucHV0KSB7XG4gICAgTW91c2VJbnB1dC5wcm90b3R5cGUuaGFuZGxlciA9IGZ1bmN0aW9uIGhhbmRsZXIoZXYpIHtcbiAgICAgICAgbGV0IGV2ZW50VHlwZSA9IE1PVVNFX0lOUFVUX01BUFtldi50eXBlXTtcbiAgICAgICAgLy8gb24gc3RhcnQgd2Ugd2FudCB0byBoYXZlIHRoZSBtb3VzZSBidXR0b24gZG93blxuICAgICAgICBpZiAoZXZlbnRUeXBlICYgSU5QVVRfU1RBUlQgJiYgZXYuYnV0dG9uID49IDApIHtcbiAgICAgICAgICAgIHRoaXMucHJlc3NlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV2ZW50VHlwZSAmIElOUFVUX01PVkUgJiYgZXYud2hpY2ggPT09IDApIHtcbiAgICAgICAgICAgIGV2ZW50VHlwZSA9IElOUFVUX0VORDtcbiAgICAgICAgfVxuICAgICAgICAvLyBtb3VzZSBtdXN0IGJlIGRvd25cbiAgICAgICAgaWYgKCF0aGlzLnByZXNzZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXZlbnRUeXBlICYgSU5QVVRfRU5EKSB7XG4gICAgICAgICAgICB0aGlzLnByZXNzZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNhbGxiYWNrKHRoaXMubWFuYWdlciwgZXZlbnRUeXBlLCB7XG4gICAgICAgICAgICBwb2ludGVyczogW2V2XSxcbiAgICAgICAgICAgIGNoYW5nZWRQb2ludGVyczogW2V2XSxcbiAgICAgICAgICAgIHBvaW50ZXJUeXBlOiAnbW91c2UnLFxuICAgICAgICAgICAgc3JjRXZlbnQ6IGV2XG4gICAgICAgIH0pO1xuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1oYW1tZXItb3ZlcnJpZGVzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/mjolnir.js/dist/esm/utils/hammer-overrides.js\n");

/***/ }),

/***/ "./node_modules/mjolnir.js/dist/esm/utils/hammer.browser.js":
/*!******************************************************************!*\
  !*** ./node_modules/mjolnir.js/dist/esm/utils/hammer.browser.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Manager: () => (/* binding */ Manager),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var hammerjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! hammerjs */ \"./node_modules/hammerjs/hammer.js\");\n/* harmony import */ var hammerjs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(hammerjs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _hammer_overrides__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./hammer-overrides */ \"./node_modules/mjolnir.js/dist/esm/utils/hammer-overrides.js\");\n\n\n(0,_hammer_overrides__WEBPACK_IMPORTED_MODULE_1__.enhancePointerEventInput)(hammerjs__WEBPACK_IMPORTED_MODULE_0__.PointerEventInput);\n(0,_hammer_overrides__WEBPACK_IMPORTED_MODULE_1__.enhanceMouseInput)(hammerjs__WEBPACK_IMPORTED_MODULE_0__.MouseInput);\nconst Manager = hammerjs__WEBPACK_IMPORTED_MODULE_0__.Manager;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (hammerjs__WEBPACK_IMPORTED_MODULE_0__);\n//# sourceMappingURL=hammer.browser.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbWpvbG5pci5qcy9kaXN0L2VzbS91dGlscy9oYW1tZXIuYnJvd3Nlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdXBlcnNldC8uL25vZGVfbW9kdWxlcy9tam9sbmlyLmpzL2Rpc3QvZXNtL3V0aWxzL2hhbW1lci5icm93c2VyLmpzPzg4MTgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgaGFtbWVyanMgZnJvbSAnaGFtbWVyanMnO1xuaW1wb3J0IHsgZW5oYW5jZVBvaW50ZXJFdmVudElucHV0LCBlbmhhbmNlTW91c2VJbnB1dCB9IGZyb20gJy4vaGFtbWVyLW92ZXJyaWRlcyc7XG5lbmhhbmNlUG9pbnRlckV2ZW50SW5wdXQoaGFtbWVyanMuUG9pbnRlckV2ZW50SW5wdXQpO1xuZW5oYW5jZU1vdXNlSW5wdXQoaGFtbWVyanMuTW91c2VJbnB1dCk7XG5leHBvcnQgY29uc3QgTWFuYWdlciA9IGhhbW1lcmpzLk1hbmFnZXI7XG5leHBvcnQgZGVmYXVsdCBoYW1tZXJqcztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWhhbW1lci5icm93c2VyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/mjolnir.js/dist/esm/utils/hammer.browser.js\n");

/***/ }),

/***/ "./node_modules/react-map-gl/dist/esm/components/attribution-control.js":
/*!******************************************************************************!*\
  !*** ./node_modules/react-map-gl/dist/esm/components/attribution-control.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack___webpack_exports__, __webpack_require__) => {

"use strict";
eval("/* harmony import */ var _babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/esm/slicedToArray */ \"./node_modules/@babel/runtime/helpers/esm/slicedToArray.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _utils_mapboxgl__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/mapboxgl */ \"./node_modules/react-map-gl/dist/esm/utils/mapboxgl.browser.js\");\n/* harmony import */ var _use_map_control__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./use-map-control */ \"./node_modules/react-map-gl/dist/esm/components/use-map-control.js\");\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n\n\n\n\nvar propTypes = Object.assign({}, _use_map_control__WEBPACK_IMPORTED_MODULE_3__.mapControlPropTypes, {\n  toggleLabel: prop_types__WEBPACK_IMPORTED_MODULE_4__.string,\n  className: prop_types__WEBPACK_IMPORTED_MODULE_4__.string,\n  style: prop_types__WEBPACK_IMPORTED_MODULE_4__.object,\n  compact: prop_types__WEBPACK_IMPORTED_MODULE_4__.bool,\n  customAttribution: prop_types__WEBPACK_IMPORTED_MODULE_4__.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_4__.string, prop_types__WEBPACK_IMPORTED_MODULE_4__.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_4__.string)])\n});\nvar defaultProps = Object.assign({}, _use_map_control__WEBPACK_IMPORTED_MODULE_3__.mapControlDefaultProps, {\n  className: '',\n  toggleLabel: 'Toggle Attribution'\n});\n\nfunction setupAttributioncontrol(opts, map, container, attributionContainer) {\n  var control = new _utils_mapboxgl__WEBPACK_IMPORTED_MODULE_2__[\"default\"].AttributionControl(opts);\n  control._map = map;\n  control._container = container;\n  control._innerContainer = attributionContainer;\n\n  control._updateAttributions();\n\n  control._updateEditLink();\n\n  map.on('styledata', control._updateData);\n  map.on('sourcedata', control._updateData);\n  return control;\n}\n\nfunction removeAttributionControl(control) {\n  control._map.off('styledata', control._updateData);\n\n  control._map.off('sourcedata', control._updateData);\n}\n\nfunction AttributionControl(props) {\n  var _useMapControl = (0,_use_map_control__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(props),\n      context = _useMapControl.context,\n      containerRef = _useMapControl.containerRef;\n\n  var innerContainerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false),\n      _useState2 = (0,_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(_useState, 2),\n      showCompact = _useState2[0],\n      setShowCompact = _useState2[1];\n\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\n    var control;\n\n    if (context.map) {\n      control = setupAttributioncontrol({\n        customAttribution: props.customAttribution\n      }, context.map, containerRef.current, innerContainerRef.current);\n    }\n\n    return function () {\n      return control && removeAttributionControl(control);\n    };\n  }, [context.map]);\n  var compact = props.compact === undefined ? context.viewport.width <= 640 : props.compact;\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\n    if (!compact && showCompact) {\n      setShowCompact(false);\n    }\n  }, [compact]);\n  var toggleAttribution = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function () {\n    return setShowCompact(function (value) {\n      return !value;\n    });\n  }, []);\n  var style = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function () {\n    return _objectSpread({\n      position: 'absolute'\n    }, props.style);\n  }, [props.style]);\n  return react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"div\", {\n    style: style,\n    className: props.className\n  }, react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"div\", {\n    ref: containerRef,\n    \"aria-pressed\": showCompact,\n    className: \"mapboxgl-ctrl mapboxgl-ctrl-attrib \".concat(compact ? 'mapboxgl-compact' : '', \" \").concat(showCompact ? 'mapboxgl-compact-show' : '')\n  }, react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"button\", {\n    type: \"button\",\n    className: \"mapboxgl-ctrl-attrib-button\",\n    title: props.toggleLabel,\n    onClick: toggleAttribution\n  }), react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"div\", {\n    ref: innerContainerRef,\n    className: \"mapboxgl-ctrl-attrib-inner\",\n    role: \"list\"\n  })));\n}\n\nAttributionControl.propTypes = propTypes;\nAttributionControl.defaultProps = defaultProps;\n/* unused harmony default export */ var __WEBPACK_DEFAULT_EXPORT__ = (react__WEBPACK_IMPORTED_MODULE_1__.memo(AttributionControl));\n//# sourceMappingURL=attribution-control.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwLWdsL2Rpc3QvZXNtL2NvbXBvbmVudHMvYXR0cmlidXRpb24tY29udHJvbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdXBlcnNldC8uL25vZGVfbW9kdWxlcy9yZWFjdC1tYXAtZ2wvZGlzdC9lc20vY29tcG9uZW50cy9hdHRyaWJ1dGlvbi1jb250cm9sLmpzP2NkODQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHlcIjtcbmltcG9ydCBfc2xpY2VkVG9BcnJheSBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vc2xpY2VkVG9BcnJheVwiO1xuXG5mdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH1cblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VDYWxsYmFjaywgdXNlU3RhdGUsIHVzZVJlZiwgdXNlTWVtbyB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCAqIGFzIFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBtYXBib3hnbCBmcm9tICcuLi91dGlscy9tYXBib3hnbCc7XG5pbXBvcnQgdXNlTWFwQ29udHJvbCwgeyBtYXBDb250cm9sRGVmYXVsdFByb3BzLCBtYXBDb250cm9sUHJvcFR5cGVzIH0gZnJvbSAnLi91c2UtbWFwLWNvbnRyb2wnO1xudmFyIHByb3BUeXBlcyA9IE9iamVjdC5hc3NpZ24oe30sIG1hcENvbnRyb2xQcm9wVHlwZXMsIHtcbiAgdG9nZ2xlTGFiZWw6IFByb3BUeXBlcy5zdHJpbmcsXG4gIGNsYXNzTmFtZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgc3R5bGU6IFByb3BUeXBlcy5vYmplY3QsXG4gIGNvbXBhY3Q6IFByb3BUeXBlcy5ib29sLFxuICBjdXN0b21BdHRyaWJ1dGlvbjogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLnN0cmluZywgUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLnN0cmluZyldKVxufSk7XG52YXIgZGVmYXVsdFByb3BzID0gT2JqZWN0LmFzc2lnbih7fSwgbWFwQ29udHJvbERlZmF1bHRQcm9wcywge1xuICBjbGFzc05hbWU6ICcnLFxuICB0b2dnbGVMYWJlbDogJ1RvZ2dsZSBBdHRyaWJ1dGlvbidcbn0pO1xuXG5mdW5jdGlvbiBzZXR1cEF0dHJpYnV0aW9uY29udHJvbChvcHRzLCBtYXAsIGNvbnRhaW5lciwgYXR0cmlidXRpb25Db250YWluZXIpIHtcbiAgdmFyIGNvbnRyb2wgPSBuZXcgbWFwYm94Z2wuQXR0cmlidXRpb25Db250cm9sKG9wdHMpO1xuICBjb250cm9sLl9tYXAgPSBtYXA7XG4gIGNvbnRyb2wuX2NvbnRhaW5lciA9IGNvbnRhaW5lcjtcbiAgY29udHJvbC5faW5uZXJDb250YWluZXIgPSBhdHRyaWJ1dGlvbkNvbnRhaW5lcjtcblxuICBjb250cm9sLl91cGRhdGVBdHRyaWJ1dGlvbnMoKTtcblxuICBjb250cm9sLl91cGRhdGVFZGl0TGluaygpO1xuXG4gIG1hcC5vbignc3R5bGVkYXRhJywgY29udHJvbC5fdXBkYXRlRGF0YSk7XG4gIG1hcC5vbignc291cmNlZGF0YScsIGNvbnRyb2wuX3VwZGF0ZURhdGEpO1xuICByZXR1cm4gY29udHJvbDtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlQXR0cmlidXRpb25Db250cm9sKGNvbnRyb2wpIHtcbiAgY29udHJvbC5fbWFwLm9mZignc3R5bGVkYXRhJywgY29udHJvbC5fdXBkYXRlRGF0YSk7XG5cbiAgY29udHJvbC5fbWFwLm9mZignc291cmNlZGF0YScsIGNvbnRyb2wuX3VwZGF0ZURhdGEpO1xufVxuXG5mdW5jdGlvbiBBdHRyaWJ1dGlvbkNvbnRyb2wocHJvcHMpIHtcbiAgdmFyIF91c2VNYXBDb250cm9sID0gdXNlTWFwQ29udHJvbChwcm9wcyksXG4gICAgICBjb250ZXh0ID0gX3VzZU1hcENvbnRyb2wuY29udGV4dCxcbiAgICAgIGNvbnRhaW5lclJlZiA9IF91c2VNYXBDb250cm9sLmNvbnRhaW5lclJlZjtcblxuICB2YXIgaW5uZXJDb250YWluZXJSZWYgPSB1c2VSZWYobnVsbCk7XG5cbiAgdmFyIF91c2VTdGF0ZSA9IHVzZVN0YXRlKGZhbHNlKSxcbiAgICAgIF91c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUsIDIpLFxuICAgICAgc2hvd0NvbXBhY3QgPSBfdXNlU3RhdGUyWzBdLFxuICAgICAgc2V0U2hvd0NvbXBhY3QgPSBfdXNlU3RhdGUyWzFdO1xuXG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGNvbnRyb2w7XG5cbiAgICBpZiAoY29udGV4dC5tYXApIHtcbiAgICAgIGNvbnRyb2wgPSBzZXR1cEF0dHJpYnV0aW9uY29udHJvbCh7XG4gICAgICAgIGN1c3RvbUF0dHJpYnV0aW9uOiBwcm9wcy5jdXN0b21BdHRyaWJ1dGlvblxuICAgICAgfSwgY29udGV4dC5tYXAsIGNvbnRhaW5lclJlZi5jdXJyZW50LCBpbm5lckNvbnRhaW5lclJlZi5jdXJyZW50KTtcbiAgICB9XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGNvbnRyb2wgJiYgcmVtb3ZlQXR0cmlidXRpb25Db250cm9sKGNvbnRyb2wpO1xuICAgIH07XG4gIH0sIFtjb250ZXh0Lm1hcF0pO1xuICB2YXIgY29tcGFjdCA9IHByb3BzLmNvbXBhY3QgPT09IHVuZGVmaW5lZCA/IGNvbnRleHQudmlld3BvcnQud2lkdGggPD0gNjQwIDogcHJvcHMuY29tcGFjdDtcbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIWNvbXBhY3QgJiYgc2hvd0NvbXBhY3QpIHtcbiAgICAgIHNldFNob3dDb21wYWN0KGZhbHNlKTtcbiAgICB9XG4gIH0sIFtjb21wYWN0XSk7XG4gIHZhciB0b2dnbGVBdHRyaWJ1dGlvbiA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gc2V0U2hvd0NvbXBhY3QoZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICByZXR1cm4gIXZhbHVlO1xuICAgIH0pO1xuICB9LCBbXSk7XG4gIHZhciBzdHlsZSA9IHVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKHtcbiAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnXG4gICAgfSwgcHJvcHMuc3R5bGUpO1xuICB9LCBbcHJvcHMuc3R5bGVdKTtcbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIHN0eWxlOiBzdHlsZSxcbiAgICBjbGFzc05hbWU6IHByb3BzLmNsYXNzTmFtZVxuICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICByZWY6IGNvbnRhaW5lclJlZixcbiAgICBcImFyaWEtcHJlc3NlZFwiOiBzaG93Q29tcGFjdCxcbiAgICBjbGFzc05hbWU6IFwibWFwYm94Z2wtY3RybCBtYXBib3hnbC1jdHJsLWF0dHJpYiBcIi5jb25jYXQoY29tcGFjdCA/ICdtYXBib3hnbC1jb21wYWN0JyA6ICcnLCBcIiBcIikuY29uY2F0KHNob3dDb21wYWN0ID8gJ21hcGJveGdsLWNvbXBhY3Qtc2hvdycgOiAnJylcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCB7XG4gICAgdHlwZTogXCJidXR0b25cIixcbiAgICBjbGFzc05hbWU6IFwibWFwYm94Z2wtY3RybC1hdHRyaWItYnV0dG9uXCIsXG4gICAgdGl0bGU6IHByb3BzLnRvZ2dsZUxhYmVsLFxuICAgIG9uQ2xpY2s6IHRvZ2dsZUF0dHJpYnV0aW9uXG4gIH0pLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICByZWY6IGlubmVyQ29udGFpbmVyUmVmLFxuICAgIGNsYXNzTmFtZTogXCJtYXBib3hnbC1jdHJsLWF0dHJpYi1pbm5lclwiLFxuICAgIHJvbGU6IFwibGlzdFwiXG4gIH0pKSk7XG59XG5cbkF0dHJpYnV0aW9uQ29udHJvbC5wcm9wVHlwZXMgPSBwcm9wVHlwZXM7XG5BdHRyaWJ1dGlvbkNvbnRyb2wuZGVmYXVsdFByb3BzID0gZGVmYXVsdFByb3BzO1xuZXhwb3J0IGRlZmF1bHQgUmVhY3QubWVtbyhBdHRyaWJ1dGlvbkNvbnRyb2wpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXR0cmlidXRpb24tY29udHJvbC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/react-map-gl/dist/esm/components/attribution-control.js\n");

/***/ }),

/***/ "./node_modules/react-map-gl/dist/esm/components/base-control.js":
/*!***********************************************************************!*\
  !*** ./node_modules/react-map-gl/dist/esm/components/base-control.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("/* unused harmony export default */\n/* harmony import */ var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime/helpers/esm/extends */ \"./node_modules/@babel/runtime/helpers/esm/extends.js\");\n/* harmony import */ var _babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/esm/classCallCheck */ \"./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime/helpers/esm/createClass */ \"./node_modules/@babel/runtime/helpers/esm/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime/helpers/esm/assertThisInitialized */ \"./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\");\n/* harmony import */ var _babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/esm/inherits */ \"./node_modules/@babel/runtime/helpers/esm/inherits.js\");\n/* harmony import */ var _babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/esm/possibleConstructorReturn */ \"./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\");\n/* harmony import */ var _babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/getPrototypeOf */ \"./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\");\n/* harmony import */ var _babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/esm/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var _use_map_control__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./use-map-control */ \"./node_modules/react-map-gl/dist/esm/components/use-map-control.js\");\n\n\n\n\n\n\n\n\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\n\nfunction Control(props) {\n  var instance = props.instance;\n\n  var _useMapControl = (0,_use_map_control__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(props),\n      context = _useMapControl.context,\n      containerRef = _useMapControl.containerRef;\n\n  instance._context = context;\n  instance._containerRef = containerRef;\n  return instance._render();\n}\n\nvar BaseControl = function (_PureComponent) {\n  (0,_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(BaseControl, _PureComponent);\n\n  var _super = _createSuper(BaseControl);\n\n  function BaseControl() {\n    var _this;\n\n    (0,_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(this, BaseControl);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_6__[\"default\"])((0,_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(_this), \"_context\", {});\n\n    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_6__[\"default\"])((0,_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(_this), \"_containerRef\", (0,react__WEBPACK_IMPORTED_MODULE_2__.createRef)());\n\n    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_6__[\"default\"])((0,_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(_this), \"_onScroll\", function (evt) {});\n\n    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_6__[\"default\"])((0,_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(_this), \"_onDragStart\", function (evt) {});\n\n    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_6__[\"default\"])((0,_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(_this), \"_onDblClick\", function (evt) {});\n\n    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_6__[\"default\"])((0,_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(_this), \"_onClick\", function (evt) {});\n\n    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_6__[\"default\"])((0,_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(_this), \"_onPointerMove\", function (evt) {});\n\n    return _this;\n  }\n\n  (0,_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(BaseControl, [{\n    key: \"_render\",\n    value: function _render() {\n      throw new Error('_render() not implemented');\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return react__WEBPACK_IMPORTED_MODULE_2__.createElement(Control, (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_9__[\"default\"])({\n        instance: this\n      }, this.props, {\n        onScroll: this._onScroll,\n        onDragStart: this._onDragStart,\n        onDblClick: this._onDblClick,\n        onClick: this._onClick,\n        onPointerMove: this._onPointerMove\n      }));\n    }\n  }]);\n\n  return BaseControl;\n}(react__WEBPACK_IMPORTED_MODULE_2__.PureComponent);\n\n(0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(BaseControl, \"propTypes\", _use_map_control__WEBPACK_IMPORTED_MODULE_3__.mapControlPropTypes);\n\n(0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(BaseControl, \"defaultProps\", _use_map_control__WEBPACK_IMPORTED_MODULE_3__.mapControlDefaultProps);\n\n\n//# sourceMappingURL=base-control.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwLWdsL2Rpc3QvZXNtL2NvbXBvbmVudHMvYmFzZS1jb250cm9sLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdXBlcnNldC8uL25vZGVfbW9kdWxlcy9yZWFjdC1tYXAtZ2wvZGlzdC9lc20vY29tcG9uZW50cy9iYXNlLWNvbnRyb2wuanM/ODdkZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgX2V4dGVuZHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2V4dGVuZHNcIjtcbmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrXCI7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzc1wiO1xuaW1wb3J0IF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2Fzc2VydFRoaXNJbml0aWFsaXplZFwiO1xuaW1wb3J0IF9pbmhlcml0cyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaW5oZXJpdHNcIjtcbmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vcG9zc2libGVDb25zdHJ1Y3RvclJldHVyblwiO1xuaW1wb3J0IF9nZXRQcm90b3R5cGVPZiBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZ2V0UHJvdG90eXBlT2ZcIjtcbmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5XCI7XG5cbmZ1bmN0aW9uIF9jcmVhdGVTdXBlcihEZXJpdmVkKSB7IHZhciBoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpOyByZXR1cm4gZnVuY3Rpb24gX2NyZWF0ZVN1cGVySW50ZXJuYWwoKSB7IHZhciBTdXBlciA9IF9nZXRQcm90b3R5cGVPZihEZXJpdmVkKSwgcmVzdWx0OyBpZiAoaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCkgeyB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yOyByZXN1bHQgPSBSZWZsZWN0LmNvbnN0cnVjdChTdXBlciwgYXJndW1lbnRzLCBOZXdUYXJnZXQpOyB9IGVsc2UgeyByZXN1bHQgPSBTdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9IHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCByZXN1bHQpOyB9OyB9XG5cbmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhUmVmbGVjdC5jb25zdHJ1Y3QpIHJldHVybiBmYWxzZTsgaWYgKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pIHJldHVybiBmYWxzZTsgaWYgKHR5cGVvZiBQcm94eSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gdHJ1ZTsgdHJ5IHsgRGF0ZS5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChEYXRlLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgcmV0dXJuIHRydWU7IH0gY2F0Y2ggKGUpIHsgcmV0dXJuIGZhbHNlOyB9IH1cblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgUHVyZUNvbXBvbmVudCwgY3JlYXRlUmVmIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHVzZU1hcENvbnRyb2wsIHsgbWFwQ29udHJvbERlZmF1bHRQcm9wcywgbWFwQ29udHJvbFByb3BUeXBlcyB9IGZyb20gJy4vdXNlLW1hcC1jb250cm9sJztcblxuZnVuY3Rpb24gQ29udHJvbChwcm9wcykge1xuICB2YXIgaW5zdGFuY2UgPSBwcm9wcy5pbnN0YW5jZTtcblxuICB2YXIgX3VzZU1hcENvbnRyb2wgPSB1c2VNYXBDb250cm9sKHByb3BzKSxcbiAgICAgIGNvbnRleHQgPSBfdXNlTWFwQ29udHJvbC5jb250ZXh0LFxuICAgICAgY29udGFpbmVyUmVmID0gX3VzZU1hcENvbnRyb2wuY29udGFpbmVyUmVmO1xuXG4gIGluc3RhbmNlLl9jb250ZXh0ID0gY29udGV4dDtcbiAgaW5zdGFuY2UuX2NvbnRhaW5lclJlZiA9IGNvbnRhaW5lclJlZjtcbiAgcmV0dXJuIGluc3RhbmNlLl9yZW5kZXIoKTtcbn1cblxudmFyIEJhc2VDb250cm9sID0gZnVuY3Rpb24gKF9QdXJlQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhCYXNlQ29udHJvbCwgX1B1cmVDb21wb25lbnQpO1xuXG4gIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoQmFzZUNvbnRyb2wpO1xuXG4gIGZ1bmN0aW9uIEJhc2VDb250cm9sKCkge1xuICAgIHZhciBfdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBCYXNlQ29udHJvbCk7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgX3RoaXMgPSBfc3VwZXIuY2FsbC5hcHBseShfc3VwZXIsIFt0aGlzXS5jb25jYXQoYXJncykpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIl9jb250ZXh0XCIsIHt9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJfY29udGFpbmVyUmVmXCIsIGNyZWF0ZVJlZigpKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJfb25TY3JvbGxcIiwgZnVuY3Rpb24gKGV2dCkge30pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIl9vbkRyYWdTdGFydFwiLCBmdW5jdGlvbiAoZXZ0KSB7fSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiX29uRGJsQ2xpY2tcIiwgZnVuY3Rpb24gKGV2dCkge30pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIl9vbkNsaWNrXCIsIGZ1bmN0aW9uIChldnQpIHt9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJfb25Qb2ludGVyTW92ZVwiLCBmdW5jdGlvbiAoZXZ0KSB7fSk7XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoQmFzZUNvbnRyb2wsIFt7XG4gICAga2V5OiBcIl9yZW5kZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX3JlbmRlcigpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignX3JlbmRlcigpIG5vdCBpbXBsZW1lbnRlZCcpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW5kZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29udHJvbCwgX2V4dGVuZHMoe1xuICAgICAgICBpbnN0YW5jZTogdGhpc1xuICAgICAgfSwgdGhpcy5wcm9wcywge1xuICAgICAgICBvblNjcm9sbDogdGhpcy5fb25TY3JvbGwsXG4gICAgICAgIG9uRHJhZ1N0YXJ0OiB0aGlzLl9vbkRyYWdTdGFydCxcbiAgICAgICAgb25EYmxDbGljazogdGhpcy5fb25EYmxDbGljayxcbiAgICAgICAgb25DbGljazogdGhpcy5fb25DbGljayxcbiAgICAgICAgb25Qb2ludGVyTW92ZTogdGhpcy5fb25Qb2ludGVyTW92ZVxuICAgICAgfSkpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBCYXNlQ29udHJvbDtcbn0oUHVyZUNvbXBvbmVudCk7XG5cbl9kZWZpbmVQcm9wZXJ0eShCYXNlQ29udHJvbCwgXCJwcm9wVHlwZXNcIiwgbWFwQ29udHJvbFByb3BUeXBlcyk7XG5cbl9kZWZpbmVQcm9wZXJ0eShCYXNlQ29udHJvbCwgXCJkZWZhdWx0UHJvcHNcIiwgbWFwQ29udHJvbERlZmF1bHRQcm9wcyk7XG5cbmV4cG9ydCB7IEJhc2VDb250cm9sIGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJhc2UtY29udHJvbC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/react-map-gl/dist/esm/components/base-control.js\n");

/***/ }),

/***/ "./node_modules/react-map-gl/dist/esm/components/draggable-control.js":
/*!****************************************************************************!*\
  !*** ./node_modules/react-map-gl/dist/esm/components/draggable-control.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ useDraggableControl),\n/* harmony export */   draggableControlDefaultProps: () => (/* binding */ draggableControlDefaultProps),\n/* harmony export */   draggableControlPropTypes: () => (/* binding */ draggableControlPropTypes)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/esm/slicedToArray */ \"./node_modules/@babel/runtime/helpers/esm/slicedToArray.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var _use_map_control__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./use-map-control */ \"./node_modules/react-map-gl/dist/esm/components/use-map-control.js\");\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n\n\nvar draggableControlPropTypes = Object.assign({}, _use_map_control__WEBPACK_IMPORTED_MODULE_2__.mapControlPropTypes, {\n  draggable: prop_types__WEBPACK_IMPORTED_MODULE_3__.bool,\n  onDrag: prop_types__WEBPACK_IMPORTED_MODULE_3__.func,\n  onDragEnd: prop_types__WEBPACK_IMPORTED_MODULE_3__.func,\n  onDragStart: prop_types__WEBPACK_IMPORTED_MODULE_3__.func,\n  offsetLeft: prop_types__WEBPACK_IMPORTED_MODULE_3__.number,\n  offsetTop: prop_types__WEBPACK_IMPORTED_MODULE_3__.number\n});\nvar draggableControlDefaultProps = Object.assign({}, _use_map_control__WEBPACK_IMPORTED_MODULE_2__.mapControlDefaultProps, {\n  draggable: false,\n  offsetLeft: 0,\n  offsetTop: 0\n});\n\nfunction getDragEventPosition(event) {\n  var _event$offsetCenter = event.offsetCenter,\n      x = _event$offsetCenter.x,\n      y = _event$offsetCenter.y;\n  return [x, y];\n}\n\nfunction getDragEventOffset(event, container) {\n  var _event$center = event.center,\n      x = _event$center.x,\n      y = _event$center.y;\n\n  if (container) {\n    var rect = container.getBoundingClientRect();\n    return [rect.left - x, rect.top - y];\n  }\n\n  return null;\n}\n\nfunction getDragLngLat(dragPos, dragOffset, props, context) {\n  var x = dragPos[0] + dragOffset[0] - props.offsetLeft;\n  var y = dragPos[1] + dragOffset[1] - props.offsetTop;\n  return context.viewport.unproject([x, y]);\n}\n\nfunction onDragStart(event, _ref) {\n  var props = _ref.props,\n      callbacks = _ref.callbacks,\n      state = _ref.state,\n      context = _ref.context,\n      containerRef = _ref.containerRef;\n  var draggable = props.draggable;\n\n  if (!draggable) {\n    return;\n  }\n\n  event.stopPropagation();\n  var dragPos = getDragEventPosition(event);\n  var dragOffset = getDragEventOffset(event, containerRef.current);\n  state.setDragPos(dragPos);\n  state.setDragOffset(dragOffset);\n\n  if (callbacks.onDragStart && dragOffset) {\n    var callbackEvent = Object.assign({}, event);\n    callbackEvent.lngLat = getDragLngLat(dragPos, dragOffset, props, context);\n    callbacks.onDragStart(callbackEvent);\n  }\n}\n\nfunction onDrag(event, _ref2) {\n  var props = _ref2.props,\n      callbacks = _ref2.callbacks,\n      state = _ref2.state,\n      context = _ref2.context;\n  event.stopPropagation();\n  var dragPos = getDragEventPosition(event);\n  state.setDragPos(dragPos);\n  var dragOffset = state.dragOffset;\n\n  if (callbacks.onDrag && dragOffset) {\n    var callbackEvent = Object.assign({}, event);\n    callbackEvent.lngLat = getDragLngLat(dragPos, dragOffset, props, context);\n    callbacks.onDrag(callbackEvent);\n  }\n}\n\nfunction onDragEnd(event, _ref3) {\n  var props = _ref3.props,\n      callbacks = _ref3.callbacks,\n      state = _ref3.state,\n      context = _ref3.context;\n  event.stopPropagation();\n  var dragPos = state.dragPos,\n      dragOffset = state.dragOffset;\n  state.setDragPos(null);\n  state.setDragOffset(null);\n\n  if (callbacks.onDragEnd && dragPos && dragOffset) {\n    var callbackEvent = Object.assign({}, event);\n    callbackEvent.lngLat = getDragLngLat(dragPos, dragOffset, props, context);\n    callbacks.onDragEnd(callbackEvent);\n  }\n}\n\nfunction onDragCancel(event, _ref4) {\n  var state = _ref4.state;\n  event.stopPropagation();\n  state.setDragPos(null);\n  state.setDragOffset(null);\n}\n\nfunction registerEvents(thisRef) {\n  var eventManager = thisRef.context.eventManager;\n\n  if (!eventManager || !thisRef.state.dragPos) {\n    return undefined;\n  }\n\n  var events = {\n    panmove: function panmove(evt) {\n      return onDrag(evt, thisRef);\n    },\n    panend: function panend(evt) {\n      return onDragEnd(evt, thisRef);\n    },\n    pancancel: function pancancel(evt) {\n      return onDragCancel(evt, thisRef);\n    }\n  };\n  eventManager.watch(events);\n  return function () {\n    eventManager.off(events);\n  };\n}\n\nfunction useDraggableControl(props) {\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null),\n      _useState2 = (0,_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(_useState, 2),\n      dragPos = _useState2[0],\n      setDragPos = _useState2[1];\n\n  var _useState3 = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null),\n      _useState4 = (0,_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(_useState3, 2),\n      dragOffset = _useState4[0],\n      setDragOffset = _useState4[1];\n\n  var thisRef = (0,_use_map_control__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_objectSpread(_objectSpread({}, props), {}, {\n    onDragStart: onDragStart\n  }));\n  thisRef.callbacks = props;\n  thisRef.state.dragPos = dragPos;\n  thisRef.state.setDragPos = setDragPos;\n  thisRef.state.dragOffset = dragOffset;\n  thisRef.state.setDragOffset = setDragOffset;\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\n    return registerEvents(thisRef);\n  }, [thisRef.context.eventManager, Boolean(dragPos)]);\n  return thisRef;\n}\n//# sourceMappingURL=draggable-control.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwLWdsL2Rpc3QvZXNtL2NvbXBvbmVudHMvZHJhZ2dhYmxlLWNvbnRyb2wuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3N1cGVyc2V0Ly4vbm9kZV9tb2R1bGVzL3JlYWN0LW1hcC1nbC9kaXN0L2VzbS9jb21wb25lbnRzL2RyYWdnYWJsZS1jb250cm9sLmpzP2UxZWEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHlcIjtcbmltcG9ydCBfc2xpY2VkVG9BcnJheSBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vc2xpY2VkVG9BcnJheVwiO1xuXG5mdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH1cblxuaW1wb3J0ICogYXMgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB1c2VNYXBDb250cm9sLCB7IG1hcENvbnRyb2xEZWZhdWx0UHJvcHMsIG1hcENvbnRyb2xQcm9wVHlwZXMgfSBmcm9tICcuL3VzZS1tYXAtY29udHJvbCc7XG5leHBvcnQgdmFyIGRyYWdnYWJsZUNvbnRyb2xQcm9wVHlwZXMgPSBPYmplY3QuYXNzaWduKHt9LCBtYXBDb250cm9sUHJvcFR5cGVzLCB7XG4gIGRyYWdnYWJsZTogUHJvcFR5cGVzLmJvb2wsXG4gIG9uRHJhZzogUHJvcFR5cGVzLmZ1bmMsXG4gIG9uRHJhZ0VuZDogUHJvcFR5cGVzLmZ1bmMsXG4gIG9uRHJhZ1N0YXJ0OiBQcm9wVHlwZXMuZnVuYyxcbiAgb2Zmc2V0TGVmdDogUHJvcFR5cGVzLm51bWJlcixcbiAgb2Zmc2V0VG9wOiBQcm9wVHlwZXMubnVtYmVyXG59KTtcbmV4cG9ydCB2YXIgZHJhZ2dhYmxlQ29udHJvbERlZmF1bHRQcm9wcyA9IE9iamVjdC5hc3NpZ24oe30sIG1hcENvbnRyb2xEZWZhdWx0UHJvcHMsIHtcbiAgZHJhZ2dhYmxlOiBmYWxzZSxcbiAgb2Zmc2V0TGVmdDogMCxcbiAgb2Zmc2V0VG9wOiAwXG59KTtcblxuZnVuY3Rpb24gZ2V0RHJhZ0V2ZW50UG9zaXRpb24oZXZlbnQpIHtcbiAgdmFyIF9ldmVudCRvZmZzZXRDZW50ZXIgPSBldmVudC5vZmZzZXRDZW50ZXIsXG4gICAgICB4ID0gX2V2ZW50JG9mZnNldENlbnRlci54LFxuICAgICAgeSA9IF9ldmVudCRvZmZzZXRDZW50ZXIueTtcbiAgcmV0dXJuIFt4LCB5XTtcbn1cblxuZnVuY3Rpb24gZ2V0RHJhZ0V2ZW50T2Zmc2V0KGV2ZW50LCBjb250YWluZXIpIHtcbiAgdmFyIF9ldmVudCRjZW50ZXIgPSBldmVudC5jZW50ZXIsXG4gICAgICB4ID0gX2V2ZW50JGNlbnRlci54LFxuICAgICAgeSA9IF9ldmVudCRjZW50ZXIueTtcblxuICBpZiAoY29udGFpbmVyKSB7XG4gICAgdmFyIHJlY3QgPSBjb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgcmV0dXJuIFtyZWN0LmxlZnQgLSB4LCByZWN0LnRvcCAtIHldO1xuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG5cbmZ1bmN0aW9uIGdldERyYWdMbmdMYXQoZHJhZ1BvcywgZHJhZ09mZnNldCwgcHJvcHMsIGNvbnRleHQpIHtcbiAgdmFyIHggPSBkcmFnUG9zWzBdICsgZHJhZ09mZnNldFswXSAtIHByb3BzLm9mZnNldExlZnQ7XG4gIHZhciB5ID0gZHJhZ1Bvc1sxXSArIGRyYWdPZmZzZXRbMV0gLSBwcm9wcy5vZmZzZXRUb3A7XG4gIHJldHVybiBjb250ZXh0LnZpZXdwb3J0LnVucHJvamVjdChbeCwgeV0pO1xufVxuXG5mdW5jdGlvbiBvbkRyYWdTdGFydChldmVudCwgX3JlZikge1xuICB2YXIgcHJvcHMgPSBfcmVmLnByb3BzLFxuICAgICAgY2FsbGJhY2tzID0gX3JlZi5jYWxsYmFja3MsXG4gICAgICBzdGF0ZSA9IF9yZWYuc3RhdGUsXG4gICAgICBjb250ZXh0ID0gX3JlZi5jb250ZXh0LFxuICAgICAgY29udGFpbmVyUmVmID0gX3JlZi5jb250YWluZXJSZWY7XG4gIHZhciBkcmFnZ2FibGUgPSBwcm9wcy5kcmFnZ2FibGU7XG5cbiAgaWYgKCFkcmFnZ2FibGUpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgdmFyIGRyYWdQb3MgPSBnZXREcmFnRXZlbnRQb3NpdGlvbihldmVudCk7XG4gIHZhciBkcmFnT2Zmc2V0ID0gZ2V0RHJhZ0V2ZW50T2Zmc2V0KGV2ZW50LCBjb250YWluZXJSZWYuY3VycmVudCk7XG4gIHN0YXRlLnNldERyYWdQb3MoZHJhZ1Bvcyk7XG4gIHN0YXRlLnNldERyYWdPZmZzZXQoZHJhZ09mZnNldCk7XG5cbiAgaWYgKGNhbGxiYWNrcy5vbkRyYWdTdGFydCAmJiBkcmFnT2Zmc2V0KSB7XG4gICAgdmFyIGNhbGxiYWNrRXZlbnQgPSBPYmplY3QuYXNzaWduKHt9LCBldmVudCk7XG4gICAgY2FsbGJhY2tFdmVudC5sbmdMYXQgPSBnZXREcmFnTG5nTGF0KGRyYWdQb3MsIGRyYWdPZmZzZXQsIHByb3BzLCBjb250ZXh0KTtcbiAgICBjYWxsYmFja3Mub25EcmFnU3RhcnQoY2FsbGJhY2tFdmVudCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gb25EcmFnKGV2ZW50LCBfcmVmMikge1xuICB2YXIgcHJvcHMgPSBfcmVmMi5wcm9wcyxcbiAgICAgIGNhbGxiYWNrcyA9IF9yZWYyLmNhbGxiYWNrcyxcbiAgICAgIHN0YXRlID0gX3JlZjIuc3RhdGUsXG4gICAgICBjb250ZXh0ID0gX3JlZjIuY29udGV4dDtcbiAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gIHZhciBkcmFnUG9zID0gZ2V0RHJhZ0V2ZW50UG9zaXRpb24oZXZlbnQpO1xuICBzdGF0ZS5zZXREcmFnUG9zKGRyYWdQb3MpO1xuICB2YXIgZHJhZ09mZnNldCA9IHN0YXRlLmRyYWdPZmZzZXQ7XG5cbiAgaWYgKGNhbGxiYWNrcy5vbkRyYWcgJiYgZHJhZ09mZnNldCkge1xuICAgIHZhciBjYWxsYmFja0V2ZW50ID0gT2JqZWN0LmFzc2lnbih7fSwgZXZlbnQpO1xuICAgIGNhbGxiYWNrRXZlbnQubG5nTGF0ID0gZ2V0RHJhZ0xuZ0xhdChkcmFnUG9zLCBkcmFnT2Zmc2V0LCBwcm9wcywgY29udGV4dCk7XG4gICAgY2FsbGJhY2tzLm9uRHJhZyhjYWxsYmFja0V2ZW50KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBvbkRyYWdFbmQoZXZlbnQsIF9yZWYzKSB7XG4gIHZhciBwcm9wcyA9IF9yZWYzLnByb3BzLFxuICAgICAgY2FsbGJhY2tzID0gX3JlZjMuY2FsbGJhY2tzLFxuICAgICAgc3RhdGUgPSBfcmVmMy5zdGF0ZSxcbiAgICAgIGNvbnRleHQgPSBfcmVmMy5jb250ZXh0O1xuICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgdmFyIGRyYWdQb3MgPSBzdGF0ZS5kcmFnUG9zLFxuICAgICAgZHJhZ09mZnNldCA9IHN0YXRlLmRyYWdPZmZzZXQ7XG4gIHN0YXRlLnNldERyYWdQb3MobnVsbCk7XG4gIHN0YXRlLnNldERyYWdPZmZzZXQobnVsbCk7XG5cbiAgaWYgKGNhbGxiYWNrcy5vbkRyYWdFbmQgJiYgZHJhZ1BvcyAmJiBkcmFnT2Zmc2V0KSB7XG4gICAgdmFyIGNhbGxiYWNrRXZlbnQgPSBPYmplY3QuYXNzaWduKHt9LCBldmVudCk7XG4gICAgY2FsbGJhY2tFdmVudC5sbmdMYXQgPSBnZXREcmFnTG5nTGF0KGRyYWdQb3MsIGRyYWdPZmZzZXQsIHByb3BzLCBjb250ZXh0KTtcbiAgICBjYWxsYmFja3Mub25EcmFnRW5kKGNhbGxiYWNrRXZlbnQpO1xuICB9XG59XG5cbmZ1bmN0aW9uIG9uRHJhZ0NhbmNlbChldmVudCwgX3JlZjQpIHtcbiAgdmFyIHN0YXRlID0gX3JlZjQuc3RhdGU7XG4gIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICBzdGF0ZS5zZXREcmFnUG9zKG51bGwpO1xuICBzdGF0ZS5zZXREcmFnT2Zmc2V0KG51bGwpO1xufVxuXG5mdW5jdGlvbiByZWdpc3RlckV2ZW50cyh0aGlzUmVmKSB7XG4gIHZhciBldmVudE1hbmFnZXIgPSB0aGlzUmVmLmNvbnRleHQuZXZlbnRNYW5hZ2VyO1xuXG4gIGlmICghZXZlbnRNYW5hZ2VyIHx8ICF0aGlzUmVmLnN0YXRlLmRyYWdQb3MpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgdmFyIGV2ZW50cyA9IHtcbiAgICBwYW5tb3ZlOiBmdW5jdGlvbiBwYW5tb3ZlKGV2dCkge1xuICAgICAgcmV0dXJuIG9uRHJhZyhldnQsIHRoaXNSZWYpO1xuICAgIH0sXG4gICAgcGFuZW5kOiBmdW5jdGlvbiBwYW5lbmQoZXZ0KSB7XG4gICAgICByZXR1cm4gb25EcmFnRW5kKGV2dCwgdGhpc1JlZik7XG4gICAgfSxcbiAgICBwYW5jYW5jZWw6IGZ1bmN0aW9uIHBhbmNhbmNlbChldnQpIHtcbiAgICAgIHJldHVybiBvbkRyYWdDYW5jZWwoZXZ0LCB0aGlzUmVmKTtcbiAgICB9XG4gIH07XG4gIGV2ZW50TWFuYWdlci53YXRjaChldmVudHMpO1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIGV2ZW50TWFuYWdlci5vZmYoZXZlbnRzKTtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdXNlRHJhZ2dhYmxlQ29udHJvbChwcm9wcykge1xuICB2YXIgX3VzZVN0YXRlID0gdXNlU3RhdGUobnVsbCksXG4gICAgICBfdXNlU3RhdGUyID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlLCAyKSxcbiAgICAgIGRyYWdQb3MgPSBfdXNlU3RhdGUyWzBdLFxuICAgICAgc2V0RHJhZ1BvcyA9IF91c2VTdGF0ZTJbMV07XG5cbiAgdmFyIF91c2VTdGF0ZTMgPSB1c2VTdGF0ZShudWxsKSxcbiAgICAgIF91c2VTdGF0ZTQgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUzLCAyKSxcbiAgICAgIGRyYWdPZmZzZXQgPSBfdXNlU3RhdGU0WzBdLFxuICAgICAgc2V0RHJhZ09mZnNldCA9IF91c2VTdGF0ZTRbMV07XG5cbiAgdmFyIHRoaXNSZWYgPSB1c2VNYXBDb250cm9sKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgcHJvcHMpLCB7fSwge1xuICAgIG9uRHJhZ1N0YXJ0OiBvbkRyYWdTdGFydFxuICB9KSk7XG4gIHRoaXNSZWYuY2FsbGJhY2tzID0gcHJvcHM7XG4gIHRoaXNSZWYuc3RhdGUuZHJhZ1BvcyA9IGRyYWdQb3M7XG4gIHRoaXNSZWYuc3RhdGUuc2V0RHJhZ1BvcyA9IHNldERyYWdQb3M7XG4gIHRoaXNSZWYuc3RhdGUuZHJhZ09mZnNldCA9IGRyYWdPZmZzZXQ7XG4gIHRoaXNSZWYuc3RhdGUuc2V0RHJhZ09mZnNldCA9IHNldERyYWdPZmZzZXQ7XG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHJlZ2lzdGVyRXZlbnRzKHRoaXNSZWYpO1xuICB9LCBbdGhpc1JlZi5jb250ZXh0LmV2ZW50TWFuYWdlciwgQm9vbGVhbihkcmFnUG9zKV0pO1xuICByZXR1cm4gdGhpc1JlZjtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRyYWdnYWJsZS1jb250cm9sLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/react-map-gl/dist/esm/components/draggable-control.js\n");

/***/ }),

/***/ "./node_modules/react-map-gl/dist/esm/components/fullscreen-control.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/react-map-gl/dist/esm/components/fullscreen-control.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack___webpack_exports__, __webpack_require__) => {

"use strict";
eval("/* harmony import */ var _babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/esm/slicedToArray */ \"./node_modules/@babel/runtime/helpers/esm/slicedToArray.js\");\n/* harmony import */ var _utils_globals__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/globals */ \"./node_modules/react-map-gl/dist/esm/utils/globals.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var _utils_mapboxgl__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/mapboxgl */ \"./node_modules/react-map-gl/dist/esm/utils/mapboxgl.browser.js\");\n/* harmony import */ var _use_map_control__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./use-map-control */ \"./node_modules/react-map-gl/dist/esm/components/use-map-control.js\");\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n\n\n\n\n\nvar propTypes = Object.assign({}, _use_map_control__WEBPACK_IMPORTED_MODULE_4__.mapControlPropTypes, {\n  className: prop_types__WEBPACK_IMPORTED_MODULE_5__.string,\n  style: prop_types__WEBPACK_IMPORTED_MODULE_5__.object,\n  container: prop_types__WEBPACK_IMPORTED_MODULE_5__.object,\n  label: prop_types__WEBPACK_IMPORTED_MODULE_5__.string\n});\nvar defaultProps = Object.assign({}, _use_map_control__WEBPACK_IMPORTED_MODULE_4__.mapControlDefaultProps, {\n  className: '',\n  container: null,\n  label: 'Toggle fullscreen'\n});\n\nfunction FullscreenControl(props) {\n  var _useMapControl = (0,_use_map_control__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(props),\n      context = _useMapControl.context,\n      containerRef = _useMapControl.containerRef;\n\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false),\n      _useState2 = (0,_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(_useState, 2),\n      isFullscreen = _useState2[0],\n      setIsFullscreen = _useState2[1];\n\n  var _useState3 = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false),\n      _useState4 = (0,_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(_useState3, 2),\n      showButton = _useState4[0],\n      setShowButton = _useState4[1];\n\n  var _useState5 = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null),\n      _useState6 = (0,_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(_useState5, 2),\n      mapboxFullscreenControl = _useState6[0],\n      createMapboxFullscreenControl = _useState6[1];\n\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(function () {\n    var control = new _utils_mapboxgl__WEBPACK_IMPORTED_MODULE_3__[\"default\"].FullscreenControl();\n    createMapboxFullscreenControl(control);\n    setShowButton(control._checkFullscreenSupport());\n\n    var onFullscreenChange = function onFullscreenChange() {\n      var nextState = !control._fullscreen;\n      control._fullscreen = nextState;\n      setIsFullscreen(nextState);\n    };\n\n    _utils_globals__WEBPACK_IMPORTED_MODULE_1__.document.addEventListener(control._fullscreenchange, onFullscreenChange);\n    return function () {\n      _utils_globals__WEBPACK_IMPORTED_MODULE_1__.document.removeEventListener(control._fullscreenchange, onFullscreenChange);\n    };\n  }, []);\n\n  var onClickFullscreen = function onClickFullscreen() {\n    if (mapboxFullscreenControl) {\n      mapboxFullscreenControl._container = props.container || context.container;\n\n      mapboxFullscreenControl._onClickFullscreen();\n    }\n  };\n\n  var style = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(function () {\n    return _objectSpread({\n      position: 'absolute'\n    }, props.style);\n  }, [props.style]);\n\n  if (!showButton) {\n    return null;\n  }\n\n  var className = props.className,\n      label = props.label;\n  var type = isFullscreen ? 'shrink' : 'fullscreen';\n  return react__WEBPACK_IMPORTED_MODULE_2__.createElement(\"div\", {\n    style: style,\n    className: className\n  }, react__WEBPACK_IMPORTED_MODULE_2__.createElement(\"div\", {\n    className: \"mapboxgl-ctrl mapboxgl-ctrl-group\",\n    ref: containerRef\n  }, react__WEBPACK_IMPORTED_MODULE_2__.createElement(\"button\", {\n    key: type,\n    className: \"mapboxgl-ctrl-icon mapboxgl-ctrl-\".concat(type),\n    type: \"button\",\n    title: label,\n    onClick: onClickFullscreen\n  }, react__WEBPACK_IMPORTED_MODULE_2__.createElement(\"span\", {\n    className: \"mapboxgl-ctrl-icon\",\n    \"aria-hidden\": \"true\"\n  }))));\n}\n\nFullscreenControl.propTypes = propTypes;\nFullscreenControl.defaultProps = defaultProps;\n/* unused harmony default export */ var __WEBPACK_DEFAULT_EXPORT__ = (react__WEBPACK_IMPORTED_MODULE_2__.memo(FullscreenControl));\n//# sourceMappingURL=fullscreen-control.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwLWdsL2Rpc3QvZXNtL2NvbXBvbmVudHMvZnVsbHNjcmVlbi1jb250cm9sLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3VwZXJzZXQvLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwLWdsL2Rpc3QvZXNtL2NvbXBvbmVudHMvZnVsbHNjcmVlbi1jb250cm9sLmpzPzllODAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHlcIjtcbmltcG9ydCBfc2xpY2VkVG9BcnJheSBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vc2xpY2VkVG9BcnJheVwiO1xuXG5mdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH1cblxuaW1wb3J0IHsgZG9jdW1lbnQgfSBmcm9tICcuLi91dGlscy9nbG9iYWxzJztcbmltcG9ydCAqIGFzIFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUsIHVzZU1lbW8gfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgbWFwYm94Z2wgZnJvbSAnLi4vdXRpbHMvbWFwYm94Z2wnO1xuaW1wb3J0IHVzZU1hcENvbnRyb2wsIHsgbWFwQ29udHJvbERlZmF1bHRQcm9wcywgbWFwQ29udHJvbFByb3BUeXBlcyB9IGZyb20gJy4vdXNlLW1hcC1jb250cm9sJztcbnZhciBwcm9wVHlwZXMgPSBPYmplY3QuYXNzaWduKHt9LCBtYXBDb250cm9sUHJvcFR5cGVzLCB7XG4gIGNsYXNzTmFtZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgc3R5bGU6IFByb3BUeXBlcy5vYmplY3QsXG4gIGNvbnRhaW5lcjogUHJvcFR5cGVzLm9iamVjdCxcbiAgbGFiZWw6IFByb3BUeXBlcy5zdHJpbmdcbn0pO1xudmFyIGRlZmF1bHRQcm9wcyA9IE9iamVjdC5hc3NpZ24oe30sIG1hcENvbnRyb2xEZWZhdWx0UHJvcHMsIHtcbiAgY2xhc3NOYW1lOiAnJyxcbiAgY29udGFpbmVyOiBudWxsLFxuICBsYWJlbDogJ1RvZ2dsZSBmdWxsc2NyZWVuJ1xufSk7XG5cbmZ1bmN0aW9uIEZ1bGxzY3JlZW5Db250cm9sKHByb3BzKSB7XG4gIHZhciBfdXNlTWFwQ29udHJvbCA9IHVzZU1hcENvbnRyb2wocHJvcHMpLFxuICAgICAgY29udGV4dCA9IF91c2VNYXBDb250cm9sLmNvbnRleHQsXG4gICAgICBjb250YWluZXJSZWYgPSBfdXNlTWFwQ29udHJvbC5jb250YWluZXJSZWY7XG5cbiAgdmFyIF91c2VTdGF0ZSA9IHVzZVN0YXRlKGZhbHNlKSxcbiAgICAgIF91c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUsIDIpLFxuICAgICAgaXNGdWxsc2NyZWVuID0gX3VzZVN0YXRlMlswXSxcbiAgICAgIHNldElzRnVsbHNjcmVlbiA9IF91c2VTdGF0ZTJbMV07XG5cbiAgdmFyIF91c2VTdGF0ZTMgPSB1c2VTdGF0ZShmYWxzZSksXG4gICAgICBfdXNlU3RhdGU0ID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlMywgMiksXG4gICAgICBzaG93QnV0dG9uID0gX3VzZVN0YXRlNFswXSxcbiAgICAgIHNldFNob3dCdXR0b24gPSBfdXNlU3RhdGU0WzFdO1xuXG4gIHZhciBfdXNlU3RhdGU1ID0gdXNlU3RhdGUobnVsbCksXG4gICAgICBfdXNlU3RhdGU2ID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlNSwgMiksXG4gICAgICBtYXBib3hGdWxsc2NyZWVuQ29udHJvbCA9IF91c2VTdGF0ZTZbMF0sXG4gICAgICBjcmVhdGVNYXBib3hGdWxsc2NyZWVuQ29udHJvbCA9IF91c2VTdGF0ZTZbMV07XG5cbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgY29udHJvbCA9IG5ldyBtYXBib3hnbC5GdWxsc2NyZWVuQ29udHJvbCgpO1xuICAgIGNyZWF0ZU1hcGJveEZ1bGxzY3JlZW5Db250cm9sKGNvbnRyb2wpO1xuICAgIHNldFNob3dCdXR0b24oY29udHJvbC5fY2hlY2tGdWxsc2NyZWVuU3VwcG9ydCgpKTtcblxuICAgIHZhciBvbkZ1bGxzY3JlZW5DaGFuZ2UgPSBmdW5jdGlvbiBvbkZ1bGxzY3JlZW5DaGFuZ2UoKSB7XG4gICAgICB2YXIgbmV4dFN0YXRlID0gIWNvbnRyb2wuX2Z1bGxzY3JlZW47XG4gICAgICBjb250cm9sLl9mdWxsc2NyZWVuID0gbmV4dFN0YXRlO1xuICAgICAgc2V0SXNGdWxsc2NyZWVuKG5leHRTdGF0ZSk7XG4gICAgfTtcblxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoY29udHJvbC5fZnVsbHNjcmVlbmNoYW5nZSwgb25GdWxsc2NyZWVuQ2hhbmdlKTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihjb250cm9sLl9mdWxsc2NyZWVuY2hhbmdlLCBvbkZ1bGxzY3JlZW5DaGFuZ2UpO1xuICAgIH07XG4gIH0sIFtdKTtcblxuICB2YXIgb25DbGlja0Z1bGxzY3JlZW4gPSBmdW5jdGlvbiBvbkNsaWNrRnVsbHNjcmVlbigpIHtcbiAgICBpZiAobWFwYm94RnVsbHNjcmVlbkNvbnRyb2wpIHtcbiAgICAgIG1hcGJveEZ1bGxzY3JlZW5Db250cm9sLl9jb250YWluZXIgPSBwcm9wcy5jb250YWluZXIgfHwgY29udGV4dC5jb250YWluZXI7XG5cbiAgICAgIG1hcGJveEZ1bGxzY3JlZW5Db250cm9sLl9vbkNsaWNrRnVsbHNjcmVlbigpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgc3R5bGUgPSB1c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gX29iamVjdFNwcmVhZCh7XG4gICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJ1xuICAgIH0sIHByb3BzLnN0eWxlKTtcbiAgfSwgW3Byb3BzLnN0eWxlXSk7XG5cbiAgaWYgKCFzaG93QnV0dG9uKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICB2YXIgY2xhc3NOYW1lID0gcHJvcHMuY2xhc3NOYW1lLFxuICAgICAgbGFiZWwgPSBwcm9wcy5sYWJlbDtcbiAgdmFyIHR5cGUgPSBpc0Z1bGxzY3JlZW4gPyAnc2hyaW5rJyA6ICdmdWxsc2NyZWVuJztcbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIHN0eWxlOiBzdHlsZSxcbiAgICBjbGFzc05hbWU6IGNsYXNzTmFtZVxuICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwibWFwYm94Z2wtY3RybCBtYXBib3hnbC1jdHJsLWdyb3VwXCIsXG4gICAgcmVmOiBjb250YWluZXJSZWZcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCB7XG4gICAga2V5OiB0eXBlLFxuICAgIGNsYXNzTmFtZTogXCJtYXBib3hnbC1jdHJsLWljb24gbWFwYm94Z2wtY3RybC1cIi5jb25jYXQodHlwZSksXG4gICAgdHlwZTogXCJidXR0b25cIixcbiAgICB0aXRsZTogbGFiZWwsXG4gICAgb25DbGljazogb25DbGlja0Z1bGxzY3JlZW5cbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgIGNsYXNzTmFtZTogXCJtYXBib3hnbC1jdHJsLWljb25cIixcbiAgICBcImFyaWEtaGlkZGVuXCI6IFwidHJ1ZVwiXG4gIH0pKSkpO1xufVxuXG5GdWxsc2NyZWVuQ29udHJvbC5wcm9wVHlwZXMgPSBwcm9wVHlwZXM7XG5GdWxsc2NyZWVuQ29udHJvbC5kZWZhdWx0UHJvcHMgPSBkZWZhdWx0UHJvcHM7XG5leHBvcnQgZGVmYXVsdCBSZWFjdC5tZW1vKEZ1bGxzY3JlZW5Db250cm9sKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZ1bGxzY3JlZW4tY29udHJvbC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/react-map-gl/dist/esm/components/fullscreen-control.js\n");

/***/ }),

/***/ "./node_modules/react-map-gl/dist/esm/components/geolocate-control.js":
/*!****************************************************************************!*\
  !*** ./node_modules/react-map-gl/dist/esm/components/geolocate-control.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack___webpack_exports__, __webpack_require__) => {

"use strict";
eval("/* harmony import */ var _babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime/helpers/esm/slicedToArray */ \"./node_modules/@babel/runtime/helpers/esm/slicedToArray.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _utils_globals__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/globals */ \"./node_modules/react-map-gl/dist/esm/utils/globals.js\");\n/* harmony import */ var _utils_mapboxgl__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/mapboxgl */ \"./node_modules/react-map-gl/dist/esm/utils/mapboxgl.browser.js\");\n/* harmony import */ var _utils_map_state__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/map-state */ \"./node_modules/react-map-gl/dist/esm/utils/map-state.js\");\n/* harmony import */ var _utils_map_controller__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/map-controller */ \"./node_modules/react-map-gl/dist/esm/utils/map-controller.js\");\n/* harmony import */ var _utils_geolocate_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../utils/geolocate-utils */ \"./node_modules/react-map-gl/dist/esm/utils/geolocate-utils.js\");\n/* harmony import */ var _use_map_control__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./use-map-control */ \"./node_modules/react-map-gl/dist/esm/components/use-map-control.js\");\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n\n\n\n\n\n\n\n\n\nvar noop = function noop() {};\n\nvar propTypes = Object.assign({}, _use_map_control__WEBPACK_IMPORTED_MODULE_6__.mapControlPropTypes, {\n  className: prop_types__WEBPACK_IMPORTED_MODULE_7__.string,\n  style: prop_types__WEBPACK_IMPORTED_MODULE_7__.object,\n  label: prop_types__WEBPACK_IMPORTED_MODULE_7__.string,\n  disabledLabel: prop_types__WEBPACK_IMPORTED_MODULE_7__.string,\n  auto: prop_types__WEBPACK_IMPORTED_MODULE_7__.bool,\n  positionOptions: prop_types__WEBPACK_IMPORTED_MODULE_7__.object,\n  fitBoundsOptions: prop_types__WEBPACK_IMPORTED_MODULE_7__.object,\n  trackUserLocation: prop_types__WEBPACK_IMPORTED_MODULE_7__.bool,\n  showUserLocation: prop_types__WEBPACK_IMPORTED_MODULE_7__.bool,\n  showAccuracyCircle: prop_types__WEBPACK_IMPORTED_MODULE_7__.bool,\n  showUserHeading: prop_types__WEBPACK_IMPORTED_MODULE_7__.bool,\n  onViewStateChange: prop_types__WEBPACK_IMPORTED_MODULE_7__.func,\n  onViewportChange: prop_types__WEBPACK_IMPORTED_MODULE_7__.func,\n  onGeolocate: prop_types__WEBPACK_IMPORTED_MODULE_7__.func\n});\nvar defaultProps = Object.assign({}, _use_map_control__WEBPACK_IMPORTED_MODULE_6__.mapControlDefaultProps, {\n  className: '',\n  label: 'Find My Location',\n  disabledLabel: 'Location Not Available',\n  auto: false,\n  positionOptions: {\n    enableHighAccuracy: false,\n    timeout: 6000\n  },\n  fitBoundsOptions: {\n    maxZoom: 15\n  },\n  trackUserLocation: false,\n  showUserLocation: true,\n  showUserHeading: false,\n  showAccuracyCircle: true,\n  onGeolocate: function onGeolocate() {}\n});\n\nfunction getBounds(position) {\n  var center = new _utils_mapboxgl__WEBPACK_IMPORTED_MODULE_3__[\"default\"].LngLat(position.coords.longitude, position.coords.latitude);\n  var radius = position.coords.accuracy;\n  var bounds = center.toBounds(radius);\n  return [[bounds._ne.lng, bounds._ne.lat], [bounds._sw.lng, bounds._sw.lat]];\n}\n\nfunction setupMapboxGeolocateControl(context, props, geolocateButton) {\n  var control = new _utils_mapboxgl__WEBPACK_IMPORTED_MODULE_3__[\"default\"].GeolocateControl(props);\n  control._container = _utils_globals__WEBPACK_IMPORTED_MODULE_2__.document.createElement('div');\n  control._map = {\n    on: function on() {},\n    _getUIString: function _getUIString() {\n      return '';\n    }\n  };\n\n  control._setupUI(true);\n\n  control._map = context.map;\n  control._geolocateButton = geolocateButton;\n  var eventManager = context.eventManager;\n\n  if (control.options.trackUserLocation && eventManager) {\n    eventManager.on('panstart', function () {\n      if (control._watchState === 'ACTIVE_LOCK') {\n        control._watchState = 'BACKGROUND';\n        geolocateButton.classList.add('mapboxgl-ctrl-geolocate-background');\n        geolocateButton.classList.remove('mapboxgl-ctrl-geolocate-active');\n      }\n    });\n  }\n\n  control.on('geolocate', props.onGeolocate);\n  return control;\n}\n\nfunction updateCamera(position, _ref) {\n  var context = _ref.context,\n      props = _ref.props;\n  var bounds = getBounds(position);\n\n  var _context$viewport$fit = context.viewport.fitBounds(bounds, props.fitBoundsOptions),\n      longitude = _context$viewport$fit.longitude,\n      latitude = _context$viewport$fit.latitude,\n      zoom = _context$viewport$fit.zoom;\n\n  var newViewState = Object.assign({}, context.viewport, {\n    longitude: longitude,\n    latitude: latitude,\n    zoom: zoom\n  });\n  var mapState = new _utils_map_state__WEBPACK_IMPORTED_MODULE_4__[\"default\"](newViewState);\n  var viewState = Object.assign({}, mapState.getViewportProps(), _utils_map_controller__WEBPACK_IMPORTED_MODULE_5__.LINEAR_TRANSITION_PROPS);\n  var onViewportChange = props.onViewportChange || context.onViewportChange || noop;\n  var onViewStateChange = props.onViewStateChange || context.onViewStateChange || noop;\n  onViewStateChange({\n    viewState: viewState\n  });\n  onViewportChange(viewState);\n}\n\nfunction GeolocateControl(props) {\n  var thisRef = (0,_use_map_control__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(props);\n  var context = thisRef.context,\n      containerRef = thisRef.containerRef;\n  var geolocateButtonRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null),\n      _useState2 = (0,_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(_useState, 2),\n      mapboxGeolocateControl = _useState2[0],\n      createMapboxGeolocateControl = _useState2[1];\n\n  var _useState3 = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false),\n      _useState4 = (0,_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(_useState3, 2),\n      supportsGeolocation = _useState4[0],\n      setSupportsGeolocation = _useState4[1];\n\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\n    var control;\n\n    if (context.map) {\n      (0,_utils_geolocate_utils__WEBPACK_IMPORTED_MODULE_9__.isGeolocationSupported)().then(function (result) {\n        setSupportsGeolocation(result);\n\n        if (geolocateButtonRef.current) {\n          control = setupMapboxGeolocateControl(context, props, geolocateButtonRef.current);\n\n          control._updateCamera = function (position) {\n            return updateCamera(position, thisRef);\n          };\n\n          createMapboxGeolocateControl(control);\n        }\n      });\n    }\n\n    return function () {\n      if (control) {\n        control._clearWatch();\n      }\n    };\n  }, [context.map]);\n  var triggerGeolocate = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function () {\n    if (mapboxGeolocateControl) {\n      mapboxGeolocateControl.options = thisRef.props;\n      mapboxGeolocateControl.trigger();\n    }\n  }, [mapboxGeolocateControl]);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\n    if (props.auto) {\n      triggerGeolocate();\n    }\n  }, [mapboxGeolocateControl, props.auto]);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\n    if (mapboxGeolocateControl) {\n      mapboxGeolocateControl._onZoom();\n    }\n  }, [context.viewport.zoom]);\n  var className = props.className,\n      label = props.label,\n      disabledLabel = props.disabledLabel,\n      trackUserLocation = props.trackUserLocation;\n  var style = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function () {\n    return _objectSpread({\n      position: 'absolute'\n    }, props.style);\n  }, [props.style]);\n  return react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"div\", {\n    style: style,\n    className: className\n  }, react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"div\", {\n    key: \"geolocate-control\",\n    className: \"mapboxgl-ctrl mapboxgl-ctrl-group\",\n    ref: containerRef\n  }, react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"button\", {\n    key: \"geolocate\",\n    className: \"mapboxgl-ctrl-icon mapboxgl-ctrl-geolocate\",\n    ref: geolocateButtonRef,\n    disabled: !supportsGeolocation,\n    \"aria-pressed\": !trackUserLocation,\n    type: \"button\",\n    title: supportsGeolocation ? label : disabledLabel,\n    \"aria-label\": supportsGeolocation ? label : disabledLabel,\n    onClick: triggerGeolocate\n  }, react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"span\", {\n    className: \"mapboxgl-ctrl-icon\",\n    \"aria-hidden\": \"true\"\n  }))));\n}\n\nGeolocateControl.propTypes = propTypes;\nGeolocateControl.defaultProps = defaultProps;\n/* unused harmony default export */ var __WEBPACK_DEFAULT_EXPORT__ = (react__WEBPACK_IMPORTED_MODULE_1__.memo(GeolocateControl));\n//# sourceMappingURL=geolocate-control.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwLWdsL2Rpc3QvZXNtL2NvbXBvbmVudHMvZ2VvbG9jYXRlLWNvbnRyb2wuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3VwZXJzZXQvLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwLWdsL2Rpc3QvZXNtL2NvbXBvbmVudHMvZ2VvbG9jYXRlLWNvbnRyb2wuanM/MTlhNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eVwiO1xuaW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9zbGljZWRUb0FycmF5XCI7XG5cbmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VSZWYsIHVzZUVmZmVjdCwgdXNlU3RhdGUsIHVzZUNhbGxiYWNrLCB1c2VNZW1vIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0ICogYXMgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IHsgZG9jdW1lbnQgfSBmcm9tICcuLi91dGlscy9nbG9iYWxzJztcbmltcG9ydCBtYXBib3hnbCBmcm9tICcuLi91dGlscy9tYXBib3hnbCc7XG5pbXBvcnQgTWFwU3RhdGUgZnJvbSAnLi4vdXRpbHMvbWFwLXN0YXRlJztcbmltcG9ydCB7IExJTkVBUl9UUkFOU0lUSU9OX1BST1BTIH0gZnJvbSAnLi4vdXRpbHMvbWFwLWNvbnRyb2xsZXInO1xuaW1wb3J0IHsgaXNHZW9sb2NhdGlvblN1cHBvcnRlZCB9IGZyb20gJy4uL3V0aWxzL2dlb2xvY2F0ZS11dGlscyc7XG5pbXBvcnQgdXNlTWFwQ29udHJvbCwgeyBtYXBDb250cm9sRGVmYXVsdFByb3BzLCBtYXBDb250cm9sUHJvcFR5cGVzIH0gZnJvbSAnLi91c2UtbWFwLWNvbnRyb2wnO1xuXG52YXIgbm9vcCA9IGZ1bmN0aW9uIG5vb3AoKSB7fTtcblxudmFyIHByb3BUeXBlcyA9IE9iamVjdC5hc3NpZ24oe30sIG1hcENvbnRyb2xQcm9wVHlwZXMsIHtcbiAgY2xhc3NOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBzdHlsZTogUHJvcFR5cGVzLm9iamVjdCxcbiAgbGFiZWw6IFByb3BUeXBlcy5zdHJpbmcsXG4gIGRpc2FibGVkTGFiZWw6IFByb3BUeXBlcy5zdHJpbmcsXG4gIGF1dG86IFByb3BUeXBlcy5ib29sLFxuICBwb3NpdGlvbk9wdGlvbnM6IFByb3BUeXBlcy5vYmplY3QsXG4gIGZpdEJvdW5kc09wdGlvbnM6IFByb3BUeXBlcy5vYmplY3QsXG4gIHRyYWNrVXNlckxvY2F0aW9uOiBQcm9wVHlwZXMuYm9vbCxcbiAgc2hvd1VzZXJMb2NhdGlvbjogUHJvcFR5cGVzLmJvb2wsXG4gIHNob3dBY2N1cmFjeUNpcmNsZTogUHJvcFR5cGVzLmJvb2wsXG4gIHNob3dVc2VySGVhZGluZzogUHJvcFR5cGVzLmJvb2wsXG4gIG9uVmlld1N0YXRlQ2hhbmdlOiBQcm9wVHlwZXMuZnVuYyxcbiAgb25WaWV3cG9ydENoYW5nZTogUHJvcFR5cGVzLmZ1bmMsXG4gIG9uR2VvbG9jYXRlOiBQcm9wVHlwZXMuZnVuY1xufSk7XG52YXIgZGVmYXVsdFByb3BzID0gT2JqZWN0LmFzc2lnbih7fSwgbWFwQ29udHJvbERlZmF1bHRQcm9wcywge1xuICBjbGFzc05hbWU6ICcnLFxuICBsYWJlbDogJ0ZpbmQgTXkgTG9jYXRpb24nLFxuICBkaXNhYmxlZExhYmVsOiAnTG9jYXRpb24gTm90IEF2YWlsYWJsZScsXG4gIGF1dG86IGZhbHNlLFxuICBwb3NpdGlvbk9wdGlvbnM6IHtcbiAgICBlbmFibGVIaWdoQWNjdXJhY3k6IGZhbHNlLFxuICAgIHRpbWVvdXQ6IDYwMDBcbiAgfSxcbiAgZml0Qm91bmRzT3B0aW9uczoge1xuICAgIG1heFpvb206IDE1XG4gIH0sXG4gIHRyYWNrVXNlckxvY2F0aW9uOiBmYWxzZSxcbiAgc2hvd1VzZXJMb2NhdGlvbjogdHJ1ZSxcbiAgc2hvd1VzZXJIZWFkaW5nOiBmYWxzZSxcbiAgc2hvd0FjY3VyYWN5Q2lyY2xlOiB0cnVlLFxuICBvbkdlb2xvY2F0ZTogZnVuY3Rpb24gb25HZW9sb2NhdGUoKSB7fVxufSk7XG5cbmZ1bmN0aW9uIGdldEJvdW5kcyhwb3NpdGlvbikge1xuICB2YXIgY2VudGVyID0gbmV3IG1hcGJveGdsLkxuZ0xhdChwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlLCBwb3NpdGlvbi5jb29yZHMubGF0aXR1ZGUpO1xuICB2YXIgcmFkaXVzID0gcG9zaXRpb24uY29vcmRzLmFjY3VyYWN5O1xuICB2YXIgYm91bmRzID0gY2VudGVyLnRvQm91bmRzKHJhZGl1cyk7XG4gIHJldHVybiBbW2JvdW5kcy5fbmUubG5nLCBib3VuZHMuX25lLmxhdF0sIFtib3VuZHMuX3N3LmxuZywgYm91bmRzLl9zdy5sYXRdXTtcbn1cblxuZnVuY3Rpb24gc2V0dXBNYXBib3hHZW9sb2NhdGVDb250cm9sKGNvbnRleHQsIHByb3BzLCBnZW9sb2NhdGVCdXR0b24pIHtcbiAgdmFyIGNvbnRyb2wgPSBuZXcgbWFwYm94Z2wuR2VvbG9jYXRlQ29udHJvbChwcm9wcyk7XG4gIGNvbnRyb2wuX2NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBjb250cm9sLl9tYXAgPSB7XG4gICAgb246IGZ1bmN0aW9uIG9uKCkge30sXG4gICAgX2dldFVJU3RyaW5nOiBmdW5jdGlvbiBfZ2V0VUlTdHJpbmcoKSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuICB9O1xuXG4gIGNvbnRyb2wuX3NldHVwVUkodHJ1ZSk7XG5cbiAgY29udHJvbC5fbWFwID0gY29udGV4dC5tYXA7XG4gIGNvbnRyb2wuX2dlb2xvY2F0ZUJ1dHRvbiA9IGdlb2xvY2F0ZUJ1dHRvbjtcbiAgdmFyIGV2ZW50TWFuYWdlciA9IGNvbnRleHQuZXZlbnRNYW5hZ2VyO1xuXG4gIGlmIChjb250cm9sLm9wdGlvbnMudHJhY2tVc2VyTG9jYXRpb24gJiYgZXZlbnRNYW5hZ2VyKSB7XG4gICAgZXZlbnRNYW5hZ2VyLm9uKCdwYW5zdGFydCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChjb250cm9sLl93YXRjaFN0YXRlID09PSAnQUNUSVZFX0xPQ0snKSB7XG4gICAgICAgIGNvbnRyb2wuX3dhdGNoU3RhdGUgPSAnQkFDS0dST1VORCc7XG4gICAgICAgIGdlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kJyk7XG4gICAgICAgIGdlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1hY3RpdmUnKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGNvbnRyb2wub24oJ2dlb2xvY2F0ZScsIHByb3BzLm9uR2VvbG9jYXRlKTtcbiAgcmV0dXJuIGNvbnRyb2w7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUNhbWVyYShwb3NpdGlvbiwgX3JlZikge1xuICB2YXIgY29udGV4dCA9IF9yZWYuY29udGV4dCxcbiAgICAgIHByb3BzID0gX3JlZi5wcm9wcztcbiAgdmFyIGJvdW5kcyA9IGdldEJvdW5kcyhwb3NpdGlvbik7XG5cbiAgdmFyIF9jb250ZXh0JHZpZXdwb3J0JGZpdCA9IGNvbnRleHQudmlld3BvcnQuZml0Qm91bmRzKGJvdW5kcywgcHJvcHMuZml0Qm91bmRzT3B0aW9ucyksXG4gICAgICBsb25naXR1ZGUgPSBfY29udGV4dCR2aWV3cG9ydCRmaXQubG9uZ2l0dWRlLFxuICAgICAgbGF0aXR1ZGUgPSBfY29udGV4dCR2aWV3cG9ydCRmaXQubGF0aXR1ZGUsXG4gICAgICB6b29tID0gX2NvbnRleHQkdmlld3BvcnQkZml0Lnpvb207XG5cbiAgdmFyIG5ld1ZpZXdTdGF0ZSA9IE9iamVjdC5hc3NpZ24oe30sIGNvbnRleHQudmlld3BvcnQsIHtcbiAgICBsb25naXR1ZGU6IGxvbmdpdHVkZSxcbiAgICBsYXRpdHVkZTogbGF0aXR1ZGUsXG4gICAgem9vbTogem9vbVxuICB9KTtcbiAgdmFyIG1hcFN0YXRlID0gbmV3IE1hcFN0YXRlKG5ld1ZpZXdTdGF0ZSk7XG4gIHZhciB2aWV3U3RhdGUgPSBPYmplY3QuYXNzaWduKHt9LCBtYXBTdGF0ZS5nZXRWaWV3cG9ydFByb3BzKCksIExJTkVBUl9UUkFOU0lUSU9OX1BST1BTKTtcbiAgdmFyIG9uVmlld3BvcnRDaGFuZ2UgPSBwcm9wcy5vblZpZXdwb3J0Q2hhbmdlIHx8IGNvbnRleHQub25WaWV3cG9ydENoYW5nZSB8fCBub29wO1xuICB2YXIgb25WaWV3U3RhdGVDaGFuZ2UgPSBwcm9wcy5vblZpZXdTdGF0ZUNoYW5nZSB8fCBjb250ZXh0Lm9uVmlld1N0YXRlQ2hhbmdlIHx8IG5vb3A7XG4gIG9uVmlld1N0YXRlQ2hhbmdlKHtcbiAgICB2aWV3U3RhdGU6IHZpZXdTdGF0ZVxuICB9KTtcbiAgb25WaWV3cG9ydENoYW5nZSh2aWV3U3RhdGUpO1xufVxuXG5mdW5jdGlvbiBHZW9sb2NhdGVDb250cm9sKHByb3BzKSB7XG4gIHZhciB0aGlzUmVmID0gdXNlTWFwQ29udHJvbChwcm9wcyk7XG4gIHZhciBjb250ZXh0ID0gdGhpc1JlZi5jb250ZXh0LFxuICAgICAgY29udGFpbmVyUmVmID0gdGhpc1JlZi5jb250YWluZXJSZWY7XG4gIHZhciBnZW9sb2NhdGVCdXR0b25SZWYgPSB1c2VSZWYobnVsbCk7XG5cbiAgdmFyIF91c2VTdGF0ZSA9IHVzZVN0YXRlKG51bGwpLFxuICAgICAgX3VzZVN0YXRlMiA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZSwgMiksXG4gICAgICBtYXBib3hHZW9sb2NhdGVDb250cm9sID0gX3VzZVN0YXRlMlswXSxcbiAgICAgIGNyZWF0ZU1hcGJveEdlb2xvY2F0ZUNvbnRyb2wgPSBfdXNlU3RhdGUyWzFdO1xuXG4gIHZhciBfdXNlU3RhdGUzID0gdXNlU3RhdGUoZmFsc2UpLFxuICAgICAgX3VzZVN0YXRlNCA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTMsIDIpLFxuICAgICAgc3VwcG9ydHNHZW9sb2NhdGlvbiA9IF91c2VTdGF0ZTRbMF0sXG4gICAgICBzZXRTdXBwb3J0c0dlb2xvY2F0aW9uID0gX3VzZVN0YXRlNFsxXTtcblxuICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIHZhciBjb250cm9sO1xuXG4gICAgaWYgKGNvbnRleHQubWFwKSB7XG4gICAgICBpc0dlb2xvY2F0aW9uU3VwcG9ydGVkKCkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgIHNldFN1cHBvcnRzR2VvbG9jYXRpb24ocmVzdWx0KTtcblxuICAgICAgICBpZiAoZ2VvbG9jYXRlQnV0dG9uUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICBjb250cm9sID0gc2V0dXBNYXBib3hHZW9sb2NhdGVDb250cm9sKGNvbnRleHQsIHByb3BzLCBnZW9sb2NhdGVCdXR0b25SZWYuY3VycmVudCk7XG5cbiAgICAgICAgICBjb250cm9sLl91cGRhdGVDYW1lcmEgPSBmdW5jdGlvbiAocG9zaXRpb24pIHtcbiAgICAgICAgICAgIHJldHVybiB1cGRhdGVDYW1lcmEocG9zaXRpb24sIHRoaXNSZWYpO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICBjcmVhdGVNYXBib3hHZW9sb2NhdGVDb250cm9sKGNvbnRyb2wpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKGNvbnRyb2wpIHtcbiAgICAgICAgY29udHJvbC5fY2xlYXJXYXRjaCgpO1xuICAgICAgfVxuICAgIH07XG4gIH0sIFtjb250ZXh0Lm1hcF0pO1xuICB2YXIgdHJpZ2dlckdlb2xvY2F0ZSA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uICgpIHtcbiAgICBpZiAobWFwYm94R2VvbG9jYXRlQ29udHJvbCkge1xuICAgICAgbWFwYm94R2VvbG9jYXRlQ29udHJvbC5vcHRpb25zID0gdGhpc1JlZi5wcm9wcztcbiAgICAgIG1hcGJveEdlb2xvY2F0ZUNvbnRyb2wudHJpZ2dlcigpO1xuICAgIH1cbiAgfSwgW21hcGJveEdlb2xvY2F0ZUNvbnRyb2xdKTtcbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAocHJvcHMuYXV0bykge1xuICAgICAgdHJpZ2dlckdlb2xvY2F0ZSgpO1xuICAgIH1cbiAgfSwgW21hcGJveEdlb2xvY2F0ZUNvbnRyb2wsIHByb3BzLmF1dG9dKTtcbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAobWFwYm94R2VvbG9jYXRlQ29udHJvbCkge1xuICAgICAgbWFwYm94R2VvbG9jYXRlQ29udHJvbC5fb25ab29tKCk7XG4gICAgfVxuICB9LCBbY29udGV4dC52aWV3cG9ydC56b29tXSk7XG4gIHZhciBjbGFzc05hbWUgPSBwcm9wcy5jbGFzc05hbWUsXG4gICAgICBsYWJlbCA9IHByb3BzLmxhYmVsLFxuICAgICAgZGlzYWJsZWRMYWJlbCA9IHByb3BzLmRpc2FibGVkTGFiZWwsXG4gICAgICB0cmFja1VzZXJMb2NhdGlvbiA9IHByb3BzLnRyYWNrVXNlckxvY2F0aW9uO1xuICB2YXIgc3R5bGUgPSB1c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gX29iamVjdFNwcmVhZCh7XG4gICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJ1xuICAgIH0sIHByb3BzLnN0eWxlKTtcbiAgfSwgW3Byb3BzLnN0eWxlXSk7XG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBzdHlsZTogc3R5bGUsXG4gICAgY2xhc3NOYW1lOiBjbGFzc05hbWVcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAga2V5OiBcImdlb2xvY2F0ZS1jb250cm9sXCIsXG4gICAgY2xhc3NOYW1lOiBcIm1hcGJveGdsLWN0cmwgbWFwYm94Z2wtY3RybC1ncm91cFwiLFxuICAgIHJlZjogY29udGFpbmVyUmVmXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwge1xuICAgIGtleTogXCJnZW9sb2NhdGVcIixcbiAgICBjbGFzc05hbWU6IFwibWFwYm94Z2wtY3RybC1pY29uIG1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlXCIsXG4gICAgcmVmOiBnZW9sb2NhdGVCdXR0b25SZWYsXG4gICAgZGlzYWJsZWQ6ICFzdXBwb3J0c0dlb2xvY2F0aW9uLFxuICAgIFwiYXJpYS1wcmVzc2VkXCI6ICF0cmFja1VzZXJMb2NhdGlvbixcbiAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgIHRpdGxlOiBzdXBwb3J0c0dlb2xvY2F0aW9uID8gbGFiZWwgOiBkaXNhYmxlZExhYmVsLFxuICAgIFwiYXJpYS1sYWJlbFwiOiBzdXBwb3J0c0dlb2xvY2F0aW9uID8gbGFiZWwgOiBkaXNhYmxlZExhYmVsLFxuICAgIG9uQ2xpY2s6IHRyaWdnZXJHZW9sb2NhdGVcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgIGNsYXNzTmFtZTogXCJtYXBib3hnbC1jdHJsLWljb25cIixcbiAgICBcImFyaWEtaGlkZGVuXCI6IFwidHJ1ZVwiXG4gIH0pKSkpO1xufVxuXG5HZW9sb2NhdGVDb250cm9sLnByb3BUeXBlcyA9IHByb3BUeXBlcztcbkdlb2xvY2F0ZUNvbnRyb2wuZGVmYXVsdFByb3BzID0gZGVmYXVsdFByb3BzO1xuZXhwb3J0IGRlZmF1bHQgUmVhY3QubWVtbyhHZW9sb2NhdGVDb250cm9sKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdlb2xvY2F0ZS1jb250cm9sLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/react-map-gl/dist/esm/components/geolocate-control.js\n");

/***/ }),

/***/ "./node_modules/react-map-gl/dist/esm/components/interactive-map.js":
/*!**************************************************************************!*\
  !*** ./node_modules/react-map-gl/dist/esm/components/interactive-map.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @babel/runtime/helpers/esm/extends */ \"./node_modules/@babel/runtime/helpers/esm/extends.js\");\n/* harmony import */ var _babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @babel/runtime/helpers/esm/toConsumableArray */ \"./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\");\n/* harmony import */ var _babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _static_map__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./static-map */ \"./node_modules/react-map-gl/dist/esm/components/static-map.js\");\n/* harmony import */ var _utils_map_state__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/map-state */ \"./node_modules/react-map-gl/dist/esm/utils/map-state.js\");\n/* harmony import */ var _utils_transition_manager__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/transition-manager */ \"./node_modules/react-map-gl/dist/esm/utils/transition-manager.js\");\n/* harmony import */ var _map_context__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./map-context */ \"./node_modules/react-map-gl/dist/esm/components/map-context.js\");\n/* harmony import */ var mjolnir_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! mjolnir.js */ \"./node_modules/mjolnir.js/dist/esm/index.js\");\n/* harmony import */ var _utils_map_controller__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../utils/map-controller */ \"./node_modules/react-map-gl/dist/esm/utils/map-controller.js\");\n/* harmony import */ var _utils_use_isomorphic_layout_effect__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../utils/use-isomorphic-layout-effect */ \"./node_modules/react-map-gl/dist/esm/utils/use-isomorphic-layout-effect.js\");\n/* harmony import */ var _utils_terrain__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../utils/terrain */ \"./node_modules/react-map-gl/dist/esm/utils/terrain.js\");\n\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n\n\n\n\n\n\n\n\n\n\nvar propTypes = Object.assign({}, _static_map__WEBPACK_IMPORTED_MODULE_2__[\"default\"].propTypes, {\n  maxZoom: prop_types__WEBPACK_IMPORTED_MODULE_9__.number,\n  minZoom: prop_types__WEBPACK_IMPORTED_MODULE_9__.number,\n  maxPitch: prop_types__WEBPACK_IMPORTED_MODULE_9__.number,\n  minPitch: prop_types__WEBPACK_IMPORTED_MODULE_9__.number,\n  onViewStateChange: prop_types__WEBPACK_IMPORTED_MODULE_9__.func,\n  onViewportChange: prop_types__WEBPACK_IMPORTED_MODULE_9__.func,\n  onInteractionStateChange: prop_types__WEBPACK_IMPORTED_MODULE_9__.func,\n  transitionDuration: prop_types__WEBPACK_IMPORTED_MODULE_9__.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_9__.number, prop_types__WEBPACK_IMPORTED_MODULE_9__.string]),\n  transitionInterpolator: prop_types__WEBPACK_IMPORTED_MODULE_9__.object,\n  transitionInterruption: prop_types__WEBPACK_IMPORTED_MODULE_9__.number,\n  transitionEasing: prop_types__WEBPACK_IMPORTED_MODULE_9__.func,\n  onTransitionStart: prop_types__WEBPACK_IMPORTED_MODULE_9__.func,\n  onTransitionInterrupt: prop_types__WEBPACK_IMPORTED_MODULE_9__.func,\n  onTransitionEnd: prop_types__WEBPACK_IMPORTED_MODULE_9__.func,\n  scrollZoom: prop_types__WEBPACK_IMPORTED_MODULE_9__.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_9__.bool, prop_types__WEBPACK_IMPORTED_MODULE_9__.object]),\n  dragPan: prop_types__WEBPACK_IMPORTED_MODULE_9__.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_9__.bool, prop_types__WEBPACK_IMPORTED_MODULE_9__.object]),\n  dragRotate: prop_types__WEBPACK_IMPORTED_MODULE_9__.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_9__.bool, prop_types__WEBPACK_IMPORTED_MODULE_9__.object]),\n  doubleClickZoom: prop_types__WEBPACK_IMPORTED_MODULE_9__.bool,\n  touchZoom: prop_types__WEBPACK_IMPORTED_MODULE_9__.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_9__.bool, prop_types__WEBPACK_IMPORTED_MODULE_9__.object]),\n  touchRotate: prop_types__WEBPACK_IMPORTED_MODULE_9__.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_9__.bool, prop_types__WEBPACK_IMPORTED_MODULE_9__.object]),\n  keyboard: prop_types__WEBPACK_IMPORTED_MODULE_9__.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_9__.bool, prop_types__WEBPACK_IMPORTED_MODULE_9__.object]),\n  onHover: prop_types__WEBPACK_IMPORTED_MODULE_9__.func,\n  onClick: prop_types__WEBPACK_IMPORTED_MODULE_9__.func,\n  onDblClick: prop_types__WEBPACK_IMPORTED_MODULE_9__.func,\n  onContextMenu: prop_types__WEBPACK_IMPORTED_MODULE_9__.func,\n  onMouseDown: prop_types__WEBPACK_IMPORTED_MODULE_9__.func,\n  onMouseMove: prop_types__WEBPACK_IMPORTED_MODULE_9__.func,\n  onMouseUp: prop_types__WEBPACK_IMPORTED_MODULE_9__.func,\n  onTouchStart: prop_types__WEBPACK_IMPORTED_MODULE_9__.func,\n  onTouchMove: prop_types__WEBPACK_IMPORTED_MODULE_9__.func,\n  onTouchEnd: prop_types__WEBPACK_IMPORTED_MODULE_9__.func,\n  onMouseEnter: prop_types__WEBPACK_IMPORTED_MODULE_9__.func,\n  onMouseLeave: prop_types__WEBPACK_IMPORTED_MODULE_9__.func,\n  onMouseOut: prop_types__WEBPACK_IMPORTED_MODULE_9__.func,\n  onWheel: prop_types__WEBPACK_IMPORTED_MODULE_9__.func,\n  touchAction: prop_types__WEBPACK_IMPORTED_MODULE_9__.string,\n  eventRecognizerOptions: prop_types__WEBPACK_IMPORTED_MODULE_9__.object,\n  clickRadius: prop_types__WEBPACK_IMPORTED_MODULE_9__.number,\n  interactiveLayerIds: prop_types__WEBPACK_IMPORTED_MODULE_9__.array,\n  getCursor: prop_types__WEBPACK_IMPORTED_MODULE_9__.func,\n  controller: prop_types__WEBPACK_IMPORTED_MODULE_9__.instanceOf(_utils_map_controller__WEBPACK_IMPORTED_MODULE_7__[\"default\"])\n});\n\nvar getDefaultCursor = function getDefaultCursor(_ref) {\n  var isDragging = _ref.isDragging,\n      isHovering = _ref.isHovering;\n  return isDragging ? 'grabbing' : isHovering ? 'pointer' : 'grab';\n};\n\nvar defaultProps = Object.assign({}, _static_map__WEBPACK_IMPORTED_MODULE_2__[\"default\"].defaultProps, _utils_map_state__WEBPACK_IMPORTED_MODULE_3__.MAPBOX_LIMITS, _utils_transition_manager__WEBPACK_IMPORTED_MODULE_4__[\"default\"].defaultProps, {\n  onViewStateChange: null,\n  onViewportChange: null,\n  onClick: null,\n  onNativeClick: null,\n  onHover: null,\n  onContextMenu: function onContextMenu(event) {\n    return event.preventDefault();\n  },\n  scrollZoom: true,\n  dragPan: true,\n  dragRotate: true,\n  doubleClickZoom: true,\n  touchZoom: true,\n  touchRotate: false,\n  keyboard: true,\n  touchAction: 'none',\n  eventRecognizerOptions: {},\n  clickRadius: 0,\n  getCursor: getDefaultCursor\n});\n\nfunction normalizeEvent(event) {\n  if (event.lngLat || !event.offsetCenter) {\n    return event;\n  }\n\n  var _event$offsetCenter = event.offsetCenter,\n      x = _event$offsetCenter.x,\n      y = _event$offsetCenter.y;\n\n  if (!Number.isFinite(x) || !Number.isFinite(y)) {\n    return event;\n  }\n\n  var pos = [x, y];\n  event.point = pos;\n\n  if (this.map) {\n    var location = this.map.unproject(pos);\n    event.lngLat = [location.lng, location.lat];\n  }\n\n  return event;\n}\n\nfunction getFeatures(pos) {\n  var map = this.map;\n\n  if (!map || !pos) {\n    return null;\n  }\n\n  var queryParams = {};\n  var size = this.props.clickRadius;\n\n  if (this.props.interactiveLayerIds) {\n    queryParams.layers = this.props.interactiveLayerIds;\n  }\n\n  try {\n    return map.queryRenderedFeatures(size ? [[pos[0] - size, pos[1] + size], [pos[0] + size, pos[1] - size]] : pos, queryParams);\n  } catch (_unused) {\n    return null;\n  }\n}\n\nfunction onEvent(callbackName, event) {\n  var func = this.props[callbackName];\n\n  if (func) {\n    func(normalizeEvent.call(this, event));\n  }\n}\n\nfunction onPointerDown(event) {\n  onEvent.call(this, event.pointerType === 'touch' ? 'onTouchStart' : 'onMouseDown', event);\n}\n\nfunction onPointerUp(event) {\n  onEvent.call(this, event.pointerType === 'touch' ? 'onTouchEnd' : 'onMouseUp', event);\n}\n\nfunction onPointerMove(event) {\n  onEvent.call(this, event.pointerType === 'touch' ? 'onTouchMove' : 'onMouseMove', event);\n\n  if (!this.state.isDragging) {\n    var _this$props = this.props,\n        onHover = _this$props.onHover,\n        interactiveLayerIds = _this$props.interactiveLayerIds;\n    var features;\n    event = normalizeEvent.call(this, event);\n\n    if (interactiveLayerIds || onHover) {\n      features = getFeatures.call(this, event.point);\n    }\n\n    var isHovering = Boolean(interactiveLayerIds && features && features.length > 0);\n    var isEntering = isHovering && !this.state.isHovering;\n    var isExiting = !isHovering && this.state.isHovering;\n\n    if (onHover || isEntering) {\n      event.features = features;\n\n      if (onHover) {\n        onHover(event);\n      }\n    }\n\n    if (isEntering) {\n      onEvent.call(this, 'onMouseEnter', event);\n    }\n\n    if (isExiting) {\n      onEvent.call(this, 'onMouseLeave', event);\n    }\n\n    if (isEntering || isExiting) {\n      this.setState({\n        isHovering: isHovering\n      });\n    }\n  }\n}\n\nfunction onPointerClick(event) {\n  var _this$props2 = this.props,\n      onClick = _this$props2.onClick,\n      onNativeClick = _this$props2.onNativeClick,\n      onDblClick = _this$props2.onDblClick,\n      doubleClickZoom = _this$props2.doubleClickZoom;\n  var callbacks = [];\n  var isDoubleClickEnabled = onDblClick || doubleClickZoom;\n\n  switch (event.type) {\n    case 'anyclick':\n      callbacks.push(onNativeClick);\n\n      if (!isDoubleClickEnabled) {\n        callbacks.push(onClick);\n      }\n\n      break;\n\n    case 'click':\n      if (isDoubleClickEnabled) {\n        callbacks.push(onClick);\n      }\n\n      break;\n\n    default:\n  }\n\n  callbacks = callbacks.filter(Boolean);\n\n  if (callbacks.length) {\n    event = normalizeEvent.call(this, event);\n    event.features = getFeatures.call(this, event.point);\n    callbacks.forEach(function (cb) {\n      return cb(event);\n    });\n  }\n}\n\nfunction getRefHandles(staticMapRef) {\n  return {\n    getMap: staticMapRef.current && staticMapRef.current.getMap,\n    queryRenderedFeatures: staticMapRef.current && staticMapRef.current.queryRenderedFeatures\n  };\n}\n\nvar InteractiveMap = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function (props, ref) {\n  var parentContext = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(_map_context__WEBPACK_IMPORTED_MODULE_5__[\"default\"]);\n  var controller = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function () {\n    return props.controller || new _utils_map_controller__WEBPACK_IMPORTED_MODULE_7__[\"default\"]();\n  }, []);\n  var eventManager = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function () {\n    return new mjolnir_js__WEBPACK_IMPORTED_MODULE_6__.EventManager(null, {\n      touchAction: props.touchAction,\n      recognizerOptions: props.eventRecognizerOptions\n    });\n  }, []);\n  var eventCanvasRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n  var staticMapRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n\n  var _thisRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({\n    width: 0,\n    height: 0,\n    state: {\n      isHovering: false,\n      isDragging: false\n    }\n  });\n\n  var thisRef = _thisRef.current;\n  thisRef.props = props;\n  thisRef.map = staticMapRef.current && staticMapRef.current.getMap();\n\n  thisRef.setState = function (newState) {\n    thisRef.state = _objectSpread(_objectSpread({}, thisRef.state), newState);\n    eventCanvasRef.current.style.cursor = props.getCursor(thisRef.state);\n  };\n\n  var inRender = true;\n  var viewportUpdateRequested;\n  var stateUpdateRequested;\n\n  var handleViewportChange = function handleViewportChange(viewState, interactionState, oldViewState) {\n    if (inRender) {\n      viewportUpdateRequested = [viewState, interactionState, oldViewState];\n      return;\n    }\n\n    var _thisRef$props = thisRef.props,\n        onViewStateChange = _thisRef$props.onViewStateChange,\n        onViewportChange = _thisRef$props.onViewportChange;\n    Object.defineProperty(viewState, 'position', {\n      get: function get() {\n        return [0, 0, (0,_utils_terrain__WEBPACK_IMPORTED_MODULE_10__.getTerrainElevation)(thisRef.map, viewState)];\n      }\n    });\n\n    if (onViewStateChange) {\n      onViewStateChange({\n        viewState: viewState,\n        interactionState: interactionState,\n        oldViewState: oldViewState\n      });\n    }\n\n    if (onViewportChange) {\n      onViewportChange(viewState, interactionState, oldViewState);\n    }\n  };\n\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useImperativeHandle)(ref, function () {\n    return getRefHandles(staticMapRef);\n  }, []);\n  var context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function () {\n    return _objectSpread(_objectSpread({}, parentContext), {}, {\n      eventManager: eventManager,\n      container: parentContext.container || eventCanvasRef.current\n    });\n  }, [parentContext, eventCanvasRef.current]);\n  context.onViewportChange = handleViewportChange;\n  context.viewport = parentContext.viewport || (0,_static_map__WEBPACK_IMPORTED_MODULE_2__.getViewport)(thisRef);\n  thisRef.viewport = context.viewport;\n\n  var handleInteractionStateChange = function handleInteractionStateChange(interactionState) {\n    var _interactionState$isD = interactionState.isDragging,\n        isDragging = _interactionState$isD === void 0 ? false : _interactionState$isD;\n\n    if (isDragging !== thisRef.state.isDragging) {\n      thisRef.setState({\n        isDragging: isDragging\n      });\n    }\n\n    if (inRender) {\n      stateUpdateRequested = interactionState;\n      return;\n    }\n\n    var onInteractionStateChange = thisRef.props.onInteractionStateChange;\n\n    if (onInteractionStateChange) {\n      onInteractionStateChange(interactionState);\n    }\n  };\n\n  var updateControllerOpts = function updateControllerOpts() {\n    if (thisRef.width && thisRef.height) {\n      controller.setOptions(_objectSpread(_objectSpread(_objectSpread({}, thisRef.props), thisRef.props.viewState), {}, {\n        isInteractive: Boolean(thisRef.props.onViewStateChange || thisRef.props.onViewportChange),\n        onViewportChange: handleViewportChange,\n        onStateChange: handleInteractionStateChange,\n        eventManager: eventManager,\n        width: thisRef.width,\n        height: thisRef.height\n      }));\n    }\n  };\n\n  var onResize = function onResize(_ref2) {\n    var width = _ref2.width,\n        height = _ref2.height;\n    thisRef.width = width;\n    thisRef.height = height;\n    updateControllerOpts();\n    thisRef.props.onResize({\n      width: width,\n      height: height\n    });\n  };\n\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\n    eventManager.setElement(eventCanvasRef.current);\n    eventManager.on({\n      pointerdown: onPointerDown.bind(thisRef),\n      pointermove: onPointerMove.bind(thisRef),\n      pointerup: onPointerUp.bind(thisRef),\n      pointerleave: onEvent.bind(thisRef, 'onMouseOut'),\n      click: onPointerClick.bind(thisRef),\n      anyclick: onPointerClick.bind(thisRef),\n      dblclick: onEvent.bind(thisRef, 'onDblClick'),\n      wheel: onEvent.bind(thisRef, 'onWheel'),\n      contextmenu: onEvent.bind(thisRef, 'onContextMenu')\n    });\n    return function () {\n      eventManager.destroy();\n    };\n  }, []);\n  (0,_utils_use_isomorphic_layout_effect__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(function () {\n    if (viewportUpdateRequested) {\n      handleViewportChange.apply(void 0, (0,_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(viewportUpdateRequested));\n    }\n\n    if (stateUpdateRequested) {\n      handleInteractionStateChange(stateUpdateRequested);\n    }\n  });\n  updateControllerOpts();\n  var width = props.width,\n      height = props.height,\n      style = props.style,\n      getCursor = props.getCursor;\n  var eventCanvasStyle = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function () {\n    return _objectSpread(_objectSpread({\n      position: 'relative'\n    }, style), {}, {\n      width: width,\n      height: height,\n      cursor: getCursor(thisRef.state)\n    });\n  }, [style, width, height, getCursor, thisRef.state]);\n\n  if (!viewportUpdateRequested || !thisRef._child) {\n    thisRef._child = react__WEBPACK_IMPORTED_MODULE_1__.createElement(_map_context__WEBPACK_IMPORTED_MODULE_5__.MapContextProvider, {\n      value: context\n    }, react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"div\", {\n      key: \"event-canvas\",\n      ref: eventCanvasRef,\n      style: eventCanvasStyle\n    }, react__WEBPACK_IMPORTED_MODULE_1__.createElement(_static_map__WEBPACK_IMPORTED_MODULE_2__[\"default\"], (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_12__[\"default\"])({}, props, {\n      width: \"100%\",\n      height: \"100%\",\n      style: null,\n      onResize: onResize,\n      ref: staticMapRef\n    }))));\n  }\n\n  inRender = false;\n  return thisRef._child;\n});\nInteractiveMap.supported = _static_map__WEBPACK_IMPORTED_MODULE_2__[\"default\"].supported;\nInteractiveMap.propTypes = propTypes;\nInteractiveMap.defaultProps = defaultProps;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (InteractiveMap);\n//# sourceMappingURL=interactive-map.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwLWdsL2Rpc3QvZXNtL2NvbXBvbmVudHMvaW50ZXJhY3RpdmUtbWFwLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdXBlcnNldC8uL25vZGVfbW9kdWxlcy9yZWFjdC1tYXAtZ2wvZGlzdC9lc20vY29tcG9uZW50cy9pbnRlcmFjdGl2ZS1tYXAuanM/ZTZmZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgX2V4dGVuZHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2V4dGVuZHNcIjtcbmltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5XCI7XG5pbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eVwiO1xuXG5mdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH1cblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlQ29udGV4dCwgdXNlUmVmLCB1c2VNZW1vLCB1c2VFZmZlY3QsIHVzZUltcGVyYXRpdmVIYW5kbGUsIGZvcndhcmRSZWYgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgKiBhcyBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgU3RhdGljTWFwLCB7IGdldFZpZXdwb3J0IH0gZnJvbSAnLi9zdGF0aWMtbWFwJztcbmltcG9ydCB7IE1BUEJPWF9MSU1JVFMgfSBmcm9tICcuLi91dGlscy9tYXAtc3RhdGUnO1xuaW1wb3J0IFRyYW5zaXRpb25NYW5hZ2VyIGZyb20gJy4uL3V0aWxzL3RyYW5zaXRpb24tbWFuYWdlcic7XG5pbXBvcnQgTWFwQ29udGV4dCwgeyBNYXBDb250ZXh0UHJvdmlkZXIgfSBmcm9tICcuL21hcC1jb250ZXh0JztcbmltcG9ydCB7IEV2ZW50TWFuYWdlciB9IGZyb20gJ21qb2xuaXIuanMnO1xuaW1wb3J0IE1hcENvbnRyb2xsZXIgZnJvbSAnLi4vdXRpbHMvbWFwLWNvbnRyb2xsZXInO1xuaW1wb3J0IHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QgZnJvbSAnLi4vdXRpbHMvdXNlLWlzb21vcnBoaWMtbGF5b3V0LWVmZmVjdCc7XG5pbXBvcnQgeyBnZXRUZXJyYWluRWxldmF0aW9uIH0gZnJvbSAnLi4vdXRpbHMvdGVycmFpbic7XG52YXIgcHJvcFR5cGVzID0gT2JqZWN0LmFzc2lnbih7fSwgU3RhdGljTWFwLnByb3BUeXBlcywge1xuICBtYXhab29tOiBQcm9wVHlwZXMubnVtYmVyLFxuICBtaW5ab29tOiBQcm9wVHlwZXMubnVtYmVyLFxuICBtYXhQaXRjaDogUHJvcFR5cGVzLm51bWJlcixcbiAgbWluUGl0Y2g6IFByb3BUeXBlcy5udW1iZXIsXG4gIG9uVmlld1N0YXRlQ2hhbmdlOiBQcm9wVHlwZXMuZnVuYyxcbiAgb25WaWV3cG9ydENoYW5nZTogUHJvcFR5cGVzLmZ1bmMsXG4gIG9uSW50ZXJhY3Rpb25TdGF0ZUNoYW5nZTogUHJvcFR5cGVzLmZ1bmMsXG4gIHRyYW5zaXRpb25EdXJhdGlvbjogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm51bWJlciwgUHJvcFR5cGVzLnN0cmluZ10pLFxuICB0cmFuc2l0aW9uSW50ZXJwb2xhdG9yOiBQcm9wVHlwZXMub2JqZWN0LFxuICB0cmFuc2l0aW9uSW50ZXJydXB0aW9uOiBQcm9wVHlwZXMubnVtYmVyLFxuICB0cmFuc2l0aW9uRWFzaW5nOiBQcm9wVHlwZXMuZnVuYyxcbiAgb25UcmFuc2l0aW9uU3RhcnQ6IFByb3BUeXBlcy5mdW5jLFxuICBvblRyYW5zaXRpb25JbnRlcnJ1cHQ6IFByb3BUeXBlcy5mdW5jLFxuICBvblRyYW5zaXRpb25FbmQ6IFByb3BUeXBlcy5mdW5jLFxuICBzY3JvbGxab29tOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuYm9vbCwgUHJvcFR5cGVzLm9iamVjdF0pLFxuICBkcmFnUGFuOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuYm9vbCwgUHJvcFR5cGVzLm9iamVjdF0pLFxuICBkcmFnUm90YXRlOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuYm9vbCwgUHJvcFR5cGVzLm9iamVjdF0pLFxuICBkb3VibGVDbGlja1pvb206IFByb3BUeXBlcy5ib29sLFxuICB0b3VjaFpvb206IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5ib29sLCBQcm9wVHlwZXMub2JqZWN0XSksXG4gIHRvdWNoUm90YXRlOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuYm9vbCwgUHJvcFR5cGVzLm9iamVjdF0pLFxuICBrZXlib2FyZDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmJvb2wsIFByb3BUeXBlcy5vYmplY3RdKSxcbiAgb25Ib3ZlcjogUHJvcFR5cGVzLmZ1bmMsXG4gIG9uQ2xpY2s6IFByb3BUeXBlcy5mdW5jLFxuICBvbkRibENsaWNrOiBQcm9wVHlwZXMuZnVuYyxcbiAgb25Db250ZXh0TWVudTogUHJvcFR5cGVzLmZ1bmMsXG4gIG9uTW91c2VEb3duOiBQcm9wVHlwZXMuZnVuYyxcbiAgb25Nb3VzZU1vdmU6IFByb3BUeXBlcy5mdW5jLFxuICBvbk1vdXNlVXA6IFByb3BUeXBlcy5mdW5jLFxuICBvblRvdWNoU3RhcnQ6IFByb3BUeXBlcy5mdW5jLFxuICBvblRvdWNoTW92ZTogUHJvcFR5cGVzLmZ1bmMsXG4gIG9uVG91Y2hFbmQ6IFByb3BUeXBlcy5mdW5jLFxuICBvbk1vdXNlRW50ZXI6IFByb3BUeXBlcy5mdW5jLFxuICBvbk1vdXNlTGVhdmU6IFByb3BUeXBlcy5mdW5jLFxuICBvbk1vdXNlT3V0OiBQcm9wVHlwZXMuZnVuYyxcbiAgb25XaGVlbDogUHJvcFR5cGVzLmZ1bmMsXG4gIHRvdWNoQWN0aW9uOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBldmVudFJlY29nbml6ZXJPcHRpb25zOiBQcm9wVHlwZXMub2JqZWN0LFxuICBjbGlja1JhZGl1czogUHJvcFR5cGVzLm51bWJlcixcbiAgaW50ZXJhY3RpdmVMYXllcklkczogUHJvcFR5cGVzLmFycmF5LFxuICBnZXRDdXJzb3I6IFByb3BUeXBlcy5mdW5jLFxuICBjb250cm9sbGVyOiBQcm9wVHlwZXMuaW5zdGFuY2VPZihNYXBDb250cm9sbGVyKVxufSk7XG5cbnZhciBnZXREZWZhdWx0Q3Vyc29yID0gZnVuY3Rpb24gZ2V0RGVmYXVsdEN1cnNvcihfcmVmKSB7XG4gIHZhciBpc0RyYWdnaW5nID0gX3JlZi5pc0RyYWdnaW5nLFxuICAgICAgaXNIb3ZlcmluZyA9IF9yZWYuaXNIb3ZlcmluZztcbiAgcmV0dXJuIGlzRHJhZ2dpbmcgPyAnZ3JhYmJpbmcnIDogaXNIb3ZlcmluZyA/ICdwb2ludGVyJyA6ICdncmFiJztcbn07XG5cbnZhciBkZWZhdWx0UHJvcHMgPSBPYmplY3QuYXNzaWduKHt9LCBTdGF0aWNNYXAuZGVmYXVsdFByb3BzLCBNQVBCT1hfTElNSVRTLCBUcmFuc2l0aW9uTWFuYWdlci5kZWZhdWx0UHJvcHMsIHtcbiAgb25WaWV3U3RhdGVDaGFuZ2U6IG51bGwsXG4gIG9uVmlld3BvcnRDaGFuZ2U6IG51bGwsXG4gIG9uQ2xpY2s6IG51bGwsXG4gIG9uTmF0aXZlQ2xpY2s6IG51bGwsXG4gIG9uSG92ZXI6IG51bGwsXG4gIG9uQ29udGV4dE1lbnU6IGZ1bmN0aW9uIG9uQ29udGV4dE1lbnUoZXZlbnQpIHtcbiAgICByZXR1cm4gZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgfSxcbiAgc2Nyb2xsWm9vbTogdHJ1ZSxcbiAgZHJhZ1BhbjogdHJ1ZSxcbiAgZHJhZ1JvdGF0ZTogdHJ1ZSxcbiAgZG91YmxlQ2xpY2tab29tOiB0cnVlLFxuICB0b3VjaFpvb206IHRydWUsXG4gIHRvdWNoUm90YXRlOiBmYWxzZSxcbiAga2V5Ym9hcmQ6IHRydWUsXG4gIHRvdWNoQWN0aW9uOiAnbm9uZScsXG4gIGV2ZW50UmVjb2duaXplck9wdGlvbnM6IHt9LFxuICBjbGlja1JhZGl1czogMCxcbiAgZ2V0Q3Vyc29yOiBnZXREZWZhdWx0Q3Vyc29yXG59KTtcblxuZnVuY3Rpb24gbm9ybWFsaXplRXZlbnQoZXZlbnQpIHtcbiAgaWYgKGV2ZW50LmxuZ0xhdCB8fCAhZXZlbnQub2Zmc2V0Q2VudGVyKSB7XG4gICAgcmV0dXJuIGV2ZW50O1xuICB9XG5cbiAgdmFyIF9ldmVudCRvZmZzZXRDZW50ZXIgPSBldmVudC5vZmZzZXRDZW50ZXIsXG4gICAgICB4ID0gX2V2ZW50JG9mZnNldENlbnRlci54LFxuICAgICAgeSA9IF9ldmVudCRvZmZzZXRDZW50ZXIueTtcblxuICBpZiAoIU51bWJlci5pc0Zpbml0ZSh4KSB8fCAhTnVtYmVyLmlzRmluaXRlKHkpKSB7XG4gICAgcmV0dXJuIGV2ZW50O1xuICB9XG5cbiAgdmFyIHBvcyA9IFt4LCB5XTtcbiAgZXZlbnQucG9pbnQgPSBwb3M7XG5cbiAgaWYgKHRoaXMubWFwKSB7XG4gICAgdmFyIGxvY2F0aW9uID0gdGhpcy5tYXAudW5wcm9qZWN0KHBvcyk7XG4gICAgZXZlbnQubG5nTGF0ID0gW2xvY2F0aW9uLmxuZywgbG9jYXRpb24ubGF0XTtcbiAgfVxuXG4gIHJldHVybiBldmVudDtcbn1cblxuZnVuY3Rpb24gZ2V0RmVhdHVyZXMocG9zKSB7XG4gIHZhciBtYXAgPSB0aGlzLm1hcDtcblxuICBpZiAoIW1hcCB8fCAhcG9zKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICB2YXIgcXVlcnlQYXJhbXMgPSB7fTtcbiAgdmFyIHNpemUgPSB0aGlzLnByb3BzLmNsaWNrUmFkaXVzO1xuXG4gIGlmICh0aGlzLnByb3BzLmludGVyYWN0aXZlTGF5ZXJJZHMpIHtcbiAgICBxdWVyeVBhcmFtcy5sYXllcnMgPSB0aGlzLnByb3BzLmludGVyYWN0aXZlTGF5ZXJJZHM7XG4gIH1cblxuICB0cnkge1xuICAgIHJldHVybiBtYXAucXVlcnlSZW5kZXJlZEZlYXR1cmVzKHNpemUgPyBbW3Bvc1swXSAtIHNpemUsIHBvc1sxXSArIHNpemVdLCBbcG9zWzBdICsgc2l6ZSwgcG9zWzFdIC0gc2l6ZV1dIDogcG9zLCBxdWVyeVBhcmFtcyk7XG4gIH0gY2F0Y2ggKF91bnVzZWQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG5mdW5jdGlvbiBvbkV2ZW50KGNhbGxiYWNrTmFtZSwgZXZlbnQpIHtcbiAgdmFyIGZ1bmMgPSB0aGlzLnByb3BzW2NhbGxiYWNrTmFtZV07XG5cbiAgaWYgKGZ1bmMpIHtcbiAgICBmdW5jKG5vcm1hbGl6ZUV2ZW50LmNhbGwodGhpcywgZXZlbnQpKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBvblBvaW50ZXJEb3duKGV2ZW50KSB7XG4gIG9uRXZlbnQuY2FsbCh0aGlzLCBldmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJyA/ICdvblRvdWNoU3RhcnQnIDogJ29uTW91c2VEb3duJywgZXZlbnQpO1xufVxuXG5mdW5jdGlvbiBvblBvaW50ZXJVcChldmVudCkge1xuICBvbkV2ZW50LmNhbGwodGhpcywgZXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcgPyAnb25Ub3VjaEVuZCcgOiAnb25Nb3VzZVVwJywgZXZlbnQpO1xufVxuXG5mdW5jdGlvbiBvblBvaW50ZXJNb3ZlKGV2ZW50KSB7XG4gIG9uRXZlbnQuY2FsbCh0aGlzLCBldmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJyA/ICdvblRvdWNoTW92ZScgOiAnb25Nb3VzZU1vdmUnLCBldmVudCk7XG5cbiAgaWYgKCF0aGlzLnN0YXRlLmlzRHJhZ2dpbmcpIHtcbiAgICB2YXIgX3RoaXMkcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICBvbkhvdmVyID0gX3RoaXMkcHJvcHMub25Ib3ZlcixcbiAgICAgICAgaW50ZXJhY3RpdmVMYXllcklkcyA9IF90aGlzJHByb3BzLmludGVyYWN0aXZlTGF5ZXJJZHM7XG4gICAgdmFyIGZlYXR1cmVzO1xuICAgIGV2ZW50ID0gbm9ybWFsaXplRXZlbnQuY2FsbCh0aGlzLCBldmVudCk7XG5cbiAgICBpZiAoaW50ZXJhY3RpdmVMYXllcklkcyB8fCBvbkhvdmVyKSB7XG4gICAgICBmZWF0dXJlcyA9IGdldEZlYXR1cmVzLmNhbGwodGhpcywgZXZlbnQucG9pbnQpO1xuICAgIH1cblxuICAgIHZhciBpc0hvdmVyaW5nID0gQm9vbGVhbihpbnRlcmFjdGl2ZUxheWVySWRzICYmIGZlYXR1cmVzICYmIGZlYXR1cmVzLmxlbmd0aCA+IDApO1xuICAgIHZhciBpc0VudGVyaW5nID0gaXNIb3ZlcmluZyAmJiAhdGhpcy5zdGF0ZS5pc0hvdmVyaW5nO1xuICAgIHZhciBpc0V4aXRpbmcgPSAhaXNIb3ZlcmluZyAmJiB0aGlzLnN0YXRlLmlzSG92ZXJpbmc7XG5cbiAgICBpZiAob25Ib3ZlciB8fCBpc0VudGVyaW5nKSB7XG4gICAgICBldmVudC5mZWF0dXJlcyA9IGZlYXR1cmVzO1xuXG4gICAgICBpZiAob25Ib3Zlcikge1xuICAgICAgICBvbkhvdmVyKGV2ZW50KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaXNFbnRlcmluZykge1xuICAgICAgb25FdmVudC5jYWxsKHRoaXMsICdvbk1vdXNlRW50ZXInLCBldmVudCk7XG4gICAgfVxuXG4gICAgaWYgKGlzRXhpdGluZykge1xuICAgICAgb25FdmVudC5jYWxsKHRoaXMsICdvbk1vdXNlTGVhdmUnLCBldmVudCk7XG4gICAgfVxuXG4gICAgaWYgKGlzRW50ZXJpbmcgfHwgaXNFeGl0aW5nKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNIb3ZlcmluZzogaXNIb3ZlcmluZ1xuICAgICAgfSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIG9uUG9pbnRlckNsaWNrKGV2ZW50KSB7XG4gIHZhciBfdGhpcyRwcm9wczIgPSB0aGlzLnByb3BzLFxuICAgICAgb25DbGljayA9IF90aGlzJHByb3BzMi5vbkNsaWNrLFxuICAgICAgb25OYXRpdmVDbGljayA9IF90aGlzJHByb3BzMi5vbk5hdGl2ZUNsaWNrLFxuICAgICAgb25EYmxDbGljayA9IF90aGlzJHByb3BzMi5vbkRibENsaWNrLFxuICAgICAgZG91YmxlQ2xpY2tab29tID0gX3RoaXMkcHJvcHMyLmRvdWJsZUNsaWNrWm9vbTtcbiAgdmFyIGNhbGxiYWNrcyA9IFtdO1xuICB2YXIgaXNEb3VibGVDbGlja0VuYWJsZWQgPSBvbkRibENsaWNrIHx8IGRvdWJsZUNsaWNrWm9vbTtcblxuICBzd2l0Y2ggKGV2ZW50LnR5cGUpIHtcbiAgICBjYXNlICdhbnljbGljayc6XG4gICAgICBjYWxsYmFja3MucHVzaChvbk5hdGl2ZUNsaWNrKTtcblxuICAgICAgaWYgKCFpc0RvdWJsZUNsaWNrRW5hYmxlZCkge1xuICAgICAgICBjYWxsYmFja3MucHVzaChvbkNsaWNrKTtcbiAgICAgIH1cblxuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdjbGljayc6XG4gICAgICBpZiAoaXNEb3VibGVDbGlja0VuYWJsZWQpIHtcbiAgICAgICAgY2FsbGJhY2tzLnB1c2gob25DbGljayk7XG4gICAgICB9XG5cbiAgICAgIGJyZWFrO1xuXG4gICAgZGVmYXVsdDpcbiAgfVxuXG4gIGNhbGxiYWNrcyA9IGNhbGxiYWNrcy5maWx0ZXIoQm9vbGVhbik7XG5cbiAgaWYgKGNhbGxiYWNrcy5sZW5ndGgpIHtcbiAgICBldmVudCA9IG5vcm1hbGl6ZUV2ZW50LmNhbGwodGhpcywgZXZlbnQpO1xuICAgIGV2ZW50LmZlYXR1cmVzID0gZ2V0RmVhdHVyZXMuY2FsbCh0aGlzLCBldmVudC5wb2ludCk7XG4gICAgY2FsbGJhY2tzLmZvckVhY2goZnVuY3Rpb24gKGNiKSB7XG4gICAgICByZXR1cm4gY2IoZXZlbnQpO1xuICAgIH0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldFJlZkhhbmRsZXMoc3RhdGljTWFwUmVmKSB7XG4gIHJldHVybiB7XG4gICAgZ2V0TWFwOiBzdGF0aWNNYXBSZWYuY3VycmVudCAmJiBzdGF0aWNNYXBSZWYuY3VycmVudC5nZXRNYXAsXG4gICAgcXVlcnlSZW5kZXJlZEZlYXR1cmVzOiBzdGF0aWNNYXBSZWYuY3VycmVudCAmJiBzdGF0aWNNYXBSZWYuY3VycmVudC5xdWVyeVJlbmRlcmVkRmVhdHVyZXNcbiAgfTtcbn1cblxudmFyIEludGVyYWN0aXZlTWFwID0gZm9yd2FyZFJlZihmdW5jdGlvbiAocHJvcHMsIHJlZikge1xuICB2YXIgcGFyZW50Q29udGV4dCA9IHVzZUNvbnRleHQoTWFwQ29udGV4dCk7XG4gIHZhciBjb250cm9sbGVyID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHByb3BzLmNvbnRyb2xsZXIgfHwgbmV3IE1hcENvbnRyb2xsZXIoKTtcbiAgfSwgW10pO1xuICB2YXIgZXZlbnRNYW5hZ2VyID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIG5ldyBFdmVudE1hbmFnZXIobnVsbCwge1xuICAgICAgdG91Y2hBY3Rpb246IHByb3BzLnRvdWNoQWN0aW9uLFxuICAgICAgcmVjb2duaXplck9wdGlvbnM6IHByb3BzLmV2ZW50UmVjb2duaXplck9wdGlvbnNcbiAgICB9KTtcbiAgfSwgW10pO1xuICB2YXIgZXZlbnRDYW52YXNSZWYgPSB1c2VSZWYobnVsbCk7XG4gIHZhciBzdGF0aWNNYXBSZWYgPSB1c2VSZWYobnVsbCk7XG5cbiAgdmFyIF90aGlzUmVmID0gdXNlUmVmKHtcbiAgICB3aWR0aDogMCxcbiAgICBoZWlnaHQ6IDAsXG4gICAgc3RhdGU6IHtcbiAgICAgIGlzSG92ZXJpbmc6IGZhbHNlLFxuICAgICAgaXNEcmFnZ2luZzogZmFsc2VcbiAgICB9XG4gIH0pO1xuXG4gIHZhciB0aGlzUmVmID0gX3RoaXNSZWYuY3VycmVudDtcbiAgdGhpc1JlZi5wcm9wcyA9IHByb3BzO1xuICB0aGlzUmVmLm1hcCA9IHN0YXRpY01hcFJlZi5jdXJyZW50ICYmIHN0YXRpY01hcFJlZi5jdXJyZW50LmdldE1hcCgpO1xuXG4gIHRoaXNSZWYuc2V0U3RhdGUgPSBmdW5jdGlvbiAobmV3U3RhdGUpIHtcbiAgICB0aGlzUmVmLnN0YXRlID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCB0aGlzUmVmLnN0YXRlKSwgbmV3U3RhdGUpO1xuICAgIGV2ZW50Q2FudmFzUmVmLmN1cnJlbnQuc3R5bGUuY3Vyc29yID0gcHJvcHMuZ2V0Q3Vyc29yKHRoaXNSZWYuc3RhdGUpO1xuICB9O1xuXG4gIHZhciBpblJlbmRlciA9IHRydWU7XG4gIHZhciB2aWV3cG9ydFVwZGF0ZVJlcXVlc3RlZDtcbiAgdmFyIHN0YXRlVXBkYXRlUmVxdWVzdGVkO1xuXG4gIHZhciBoYW5kbGVWaWV3cG9ydENoYW5nZSA9IGZ1bmN0aW9uIGhhbmRsZVZpZXdwb3J0Q2hhbmdlKHZpZXdTdGF0ZSwgaW50ZXJhY3Rpb25TdGF0ZSwgb2xkVmlld1N0YXRlKSB7XG4gICAgaWYgKGluUmVuZGVyKSB7XG4gICAgICB2aWV3cG9ydFVwZGF0ZVJlcXVlc3RlZCA9IFt2aWV3U3RhdGUsIGludGVyYWN0aW9uU3RhdGUsIG9sZFZpZXdTdGF0ZV07XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIF90aGlzUmVmJHByb3BzID0gdGhpc1JlZi5wcm9wcyxcbiAgICAgICAgb25WaWV3U3RhdGVDaGFuZ2UgPSBfdGhpc1JlZiRwcm9wcy5vblZpZXdTdGF0ZUNoYW5nZSxcbiAgICAgICAgb25WaWV3cG9ydENoYW5nZSA9IF90aGlzUmVmJHByb3BzLm9uVmlld3BvcnRDaGFuZ2U7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHZpZXdTdGF0ZSwgJ3Bvc2l0aW9uJywge1xuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBbMCwgMCwgZ2V0VGVycmFpbkVsZXZhdGlvbih0aGlzUmVmLm1hcCwgdmlld1N0YXRlKV07XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAob25WaWV3U3RhdGVDaGFuZ2UpIHtcbiAgICAgIG9uVmlld1N0YXRlQ2hhbmdlKHtcbiAgICAgICAgdmlld1N0YXRlOiB2aWV3U3RhdGUsXG4gICAgICAgIGludGVyYWN0aW9uU3RhdGU6IGludGVyYWN0aW9uU3RhdGUsXG4gICAgICAgIG9sZFZpZXdTdGF0ZTogb2xkVmlld1N0YXRlXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAob25WaWV3cG9ydENoYW5nZSkge1xuICAgICAgb25WaWV3cG9ydENoYW5nZSh2aWV3U3RhdGUsIGludGVyYWN0aW9uU3RhdGUsIG9sZFZpZXdTdGF0ZSk7XG4gICAgfVxuICB9O1xuXG4gIHVzZUltcGVyYXRpdmVIYW5kbGUocmVmLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGdldFJlZkhhbmRsZXMoc3RhdGljTWFwUmVmKTtcbiAgfSwgW10pO1xuICB2YXIgY29udGV4dCA9IHVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHBhcmVudENvbnRleHQpLCB7fSwge1xuICAgICAgZXZlbnRNYW5hZ2VyOiBldmVudE1hbmFnZXIsXG4gICAgICBjb250YWluZXI6IHBhcmVudENvbnRleHQuY29udGFpbmVyIHx8IGV2ZW50Q2FudmFzUmVmLmN1cnJlbnRcbiAgICB9KTtcbiAgfSwgW3BhcmVudENvbnRleHQsIGV2ZW50Q2FudmFzUmVmLmN1cnJlbnRdKTtcbiAgY29udGV4dC5vblZpZXdwb3J0Q2hhbmdlID0gaGFuZGxlVmlld3BvcnRDaGFuZ2U7XG4gIGNvbnRleHQudmlld3BvcnQgPSBwYXJlbnRDb250ZXh0LnZpZXdwb3J0IHx8IGdldFZpZXdwb3J0KHRoaXNSZWYpO1xuICB0aGlzUmVmLnZpZXdwb3J0ID0gY29udGV4dC52aWV3cG9ydDtcblxuICB2YXIgaGFuZGxlSW50ZXJhY3Rpb25TdGF0ZUNoYW5nZSA9IGZ1bmN0aW9uIGhhbmRsZUludGVyYWN0aW9uU3RhdGVDaGFuZ2UoaW50ZXJhY3Rpb25TdGF0ZSkge1xuICAgIHZhciBfaW50ZXJhY3Rpb25TdGF0ZSRpc0QgPSBpbnRlcmFjdGlvblN0YXRlLmlzRHJhZ2dpbmcsXG4gICAgICAgIGlzRHJhZ2dpbmcgPSBfaW50ZXJhY3Rpb25TdGF0ZSRpc0QgPT09IHZvaWQgMCA/IGZhbHNlIDogX2ludGVyYWN0aW9uU3RhdGUkaXNEO1xuXG4gICAgaWYgKGlzRHJhZ2dpbmcgIT09IHRoaXNSZWYuc3RhdGUuaXNEcmFnZ2luZykge1xuICAgICAgdGhpc1JlZi5zZXRTdGF0ZSh7XG4gICAgICAgIGlzRHJhZ2dpbmc6IGlzRHJhZ2dpbmdcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChpblJlbmRlcikge1xuICAgICAgc3RhdGVVcGRhdGVSZXF1ZXN0ZWQgPSBpbnRlcmFjdGlvblN0YXRlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBvbkludGVyYWN0aW9uU3RhdGVDaGFuZ2UgPSB0aGlzUmVmLnByb3BzLm9uSW50ZXJhY3Rpb25TdGF0ZUNoYW5nZTtcblxuICAgIGlmIChvbkludGVyYWN0aW9uU3RhdGVDaGFuZ2UpIHtcbiAgICAgIG9uSW50ZXJhY3Rpb25TdGF0ZUNoYW5nZShpbnRlcmFjdGlvblN0YXRlKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIHVwZGF0ZUNvbnRyb2xsZXJPcHRzID0gZnVuY3Rpb24gdXBkYXRlQ29udHJvbGxlck9wdHMoKSB7XG4gICAgaWYgKHRoaXNSZWYud2lkdGggJiYgdGhpc1JlZi5oZWlnaHQpIHtcbiAgICAgIGNvbnRyb2xsZXIuc2V0T3B0aW9ucyhfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgdGhpc1JlZi5wcm9wcyksIHRoaXNSZWYucHJvcHMudmlld1N0YXRlKSwge30sIHtcbiAgICAgICAgaXNJbnRlcmFjdGl2ZTogQm9vbGVhbih0aGlzUmVmLnByb3BzLm9uVmlld1N0YXRlQ2hhbmdlIHx8IHRoaXNSZWYucHJvcHMub25WaWV3cG9ydENoYW5nZSksXG4gICAgICAgIG9uVmlld3BvcnRDaGFuZ2U6IGhhbmRsZVZpZXdwb3J0Q2hhbmdlLFxuICAgICAgICBvblN0YXRlQ2hhbmdlOiBoYW5kbGVJbnRlcmFjdGlvblN0YXRlQ2hhbmdlLFxuICAgICAgICBldmVudE1hbmFnZXI6IGV2ZW50TWFuYWdlcixcbiAgICAgICAgd2lkdGg6IHRoaXNSZWYud2lkdGgsXG4gICAgICAgIGhlaWdodDogdGhpc1JlZi5oZWlnaHRcbiAgICAgIH0pKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIG9uUmVzaXplID0gZnVuY3Rpb24gb25SZXNpemUoX3JlZjIpIHtcbiAgICB2YXIgd2lkdGggPSBfcmVmMi53aWR0aCxcbiAgICAgICAgaGVpZ2h0ID0gX3JlZjIuaGVpZ2h0O1xuICAgIHRoaXNSZWYud2lkdGggPSB3aWR0aDtcbiAgICB0aGlzUmVmLmhlaWdodCA9IGhlaWdodDtcbiAgICB1cGRhdGVDb250cm9sbGVyT3B0cygpO1xuICAgIHRoaXNSZWYucHJvcHMub25SZXNpemUoe1xuICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgaGVpZ2h0OiBoZWlnaHRcbiAgICB9KTtcbiAgfTtcblxuICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGV2ZW50TWFuYWdlci5zZXRFbGVtZW50KGV2ZW50Q2FudmFzUmVmLmN1cnJlbnQpO1xuICAgIGV2ZW50TWFuYWdlci5vbih7XG4gICAgICBwb2ludGVyZG93bjogb25Qb2ludGVyRG93bi5iaW5kKHRoaXNSZWYpLFxuICAgICAgcG9pbnRlcm1vdmU6IG9uUG9pbnRlck1vdmUuYmluZCh0aGlzUmVmKSxcbiAgICAgIHBvaW50ZXJ1cDogb25Qb2ludGVyVXAuYmluZCh0aGlzUmVmKSxcbiAgICAgIHBvaW50ZXJsZWF2ZTogb25FdmVudC5iaW5kKHRoaXNSZWYsICdvbk1vdXNlT3V0JyksXG4gICAgICBjbGljazogb25Qb2ludGVyQ2xpY2suYmluZCh0aGlzUmVmKSxcbiAgICAgIGFueWNsaWNrOiBvblBvaW50ZXJDbGljay5iaW5kKHRoaXNSZWYpLFxuICAgICAgZGJsY2xpY2s6IG9uRXZlbnQuYmluZCh0aGlzUmVmLCAnb25EYmxDbGljaycpLFxuICAgICAgd2hlZWw6IG9uRXZlbnQuYmluZCh0aGlzUmVmLCAnb25XaGVlbCcpLFxuICAgICAgY29udGV4dG1lbnU6IG9uRXZlbnQuYmluZCh0aGlzUmVmLCAnb25Db250ZXh0TWVudScpXG4gICAgfSk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIGV2ZW50TWFuYWdlci5kZXN0cm95KCk7XG4gICAgfTtcbiAgfSwgW10pO1xuICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodmlld3BvcnRVcGRhdGVSZXF1ZXN0ZWQpIHtcbiAgICAgIGhhbmRsZVZpZXdwb3J0Q2hhbmdlLmFwcGx5KHZvaWQgMCwgX3RvQ29uc3VtYWJsZUFycmF5KHZpZXdwb3J0VXBkYXRlUmVxdWVzdGVkKSk7XG4gICAgfVxuXG4gICAgaWYgKHN0YXRlVXBkYXRlUmVxdWVzdGVkKSB7XG4gICAgICBoYW5kbGVJbnRlcmFjdGlvblN0YXRlQ2hhbmdlKHN0YXRlVXBkYXRlUmVxdWVzdGVkKTtcbiAgICB9XG4gIH0pO1xuICB1cGRhdGVDb250cm9sbGVyT3B0cygpO1xuICB2YXIgd2lkdGggPSBwcm9wcy53aWR0aCxcbiAgICAgIGhlaWdodCA9IHByb3BzLmhlaWdodCxcbiAgICAgIHN0eWxlID0gcHJvcHMuc3R5bGUsXG4gICAgICBnZXRDdXJzb3IgPSBwcm9wcy5nZXRDdXJzb3I7XG4gIHZhciBldmVudENhbnZhc1N0eWxlID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7XG4gICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJ1xuICAgIH0sIHN0eWxlKSwge30sIHtcbiAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgIGhlaWdodDogaGVpZ2h0LFxuICAgICAgY3Vyc29yOiBnZXRDdXJzb3IodGhpc1JlZi5zdGF0ZSlcbiAgICB9KTtcbiAgfSwgW3N0eWxlLCB3aWR0aCwgaGVpZ2h0LCBnZXRDdXJzb3IsIHRoaXNSZWYuc3RhdGVdKTtcblxuICBpZiAoIXZpZXdwb3J0VXBkYXRlUmVxdWVzdGVkIHx8ICF0aGlzUmVmLl9jaGlsZCkge1xuICAgIHRoaXNSZWYuX2NoaWxkID0gUmVhY3QuY3JlYXRlRWxlbWVudChNYXBDb250ZXh0UHJvdmlkZXIsIHtcbiAgICAgIHZhbHVlOiBjb250ZXh0XG4gICAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBrZXk6IFwiZXZlbnQtY2FudmFzXCIsXG4gICAgICByZWY6IGV2ZW50Q2FudmFzUmVmLFxuICAgICAgc3R5bGU6IGV2ZW50Q2FudmFzU3R5bGVcbiAgICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFN0YXRpY01hcCwgX2V4dGVuZHMoe30sIHByb3BzLCB7XG4gICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICBoZWlnaHQ6IFwiMTAwJVwiLFxuICAgICAgc3R5bGU6IG51bGwsXG4gICAgICBvblJlc2l6ZTogb25SZXNpemUsXG4gICAgICByZWY6IHN0YXRpY01hcFJlZlxuICAgIH0pKSkpO1xuICB9XG5cbiAgaW5SZW5kZXIgPSBmYWxzZTtcbiAgcmV0dXJuIHRoaXNSZWYuX2NoaWxkO1xufSk7XG5JbnRlcmFjdGl2ZU1hcC5zdXBwb3J0ZWQgPSBTdGF0aWNNYXAuc3VwcG9ydGVkO1xuSW50ZXJhY3RpdmVNYXAucHJvcFR5cGVzID0gcHJvcFR5cGVzO1xuSW50ZXJhY3RpdmVNYXAuZGVmYXVsdFByb3BzID0gZGVmYXVsdFByb3BzO1xuZXhwb3J0IGRlZmF1bHQgSW50ZXJhY3RpdmVNYXA7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbnRlcmFjdGl2ZS1tYXAuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/react-map-gl/dist/esm/components/interactive-map.js\n");

/***/ }),

/***/ "./node_modules/react-map-gl/dist/esm/components/layer.js":
/*!****************************************************************!*\
  !*** ./node_modules/react-map-gl/dist/esm/components/layer.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack___webpack_exports__, __webpack_require__) => {

"use strict";
eval("/* harmony import */ var _babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime/helpers/esm/slicedToArray */ \"./node_modules/@babel/runtime/helpers/esm/slicedToArray.js\");\n/* harmony import */ var _babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/esm/objectWithoutProperties */ \"./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _map_context__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./map-context */ \"./node_modules/react-map-gl/dist/esm/components/map-context.js\");\n/* harmony import */ var _utils_assert__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils/assert */ \"./node_modules/react-map-gl/dist/esm/utils/assert.js\");\n/* harmony import */ var _utils_deep_equal__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/deep-equal */ \"./node_modules/react-map-gl/dist/esm/utils/deep-equal.js\");\n\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n\n\n\n\nvar LAYER_TYPES = ['fill', 'line', 'symbol', 'circle', 'fill-extrusion', 'raster', 'background', 'heatmap', 'hillshade', 'sky'];\nvar propTypes = {\n  type: prop_types__WEBPACK_IMPORTED_MODULE_3__.oneOf(LAYER_TYPES).isRequired,\n  id: prop_types__WEBPACK_IMPORTED_MODULE_3__.string,\n  source: prop_types__WEBPACK_IMPORTED_MODULE_3__.string,\n  beforeId: prop_types__WEBPACK_IMPORTED_MODULE_3__.string\n};\n\nfunction diffLayerStyles(map, id, props, prevProps) {\n  var _props$layout = props.layout,\n      layout = _props$layout === void 0 ? {} : _props$layout,\n      _props$paint = props.paint,\n      paint = _props$paint === void 0 ? {} : _props$paint,\n      filter = props.filter,\n      minzoom = props.minzoom,\n      maxzoom = props.maxzoom,\n      beforeId = props.beforeId,\n      otherProps = (0,_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(props, [\"layout\", \"paint\", \"filter\", \"minzoom\", \"maxzoom\", \"beforeId\"]);\n\n  if (beforeId !== prevProps.beforeId) {\n    map.moveLayer(id, beforeId);\n  }\n\n  if (layout !== prevProps.layout) {\n    var prevLayout = prevProps.layout || {};\n\n    for (var key in layout) {\n      if (!(0,_utils_deep_equal__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(layout[key], prevLayout[key])) {\n        map.setLayoutProperty(id, key, layout[key]);\n      }\n    }\n\n    for (var _key in prevLayout) {\n      if (!layout.hasOwnProperty(_key)) {\n        map.setLayoutProperty(id, _key, undefined);\n      }\n    }\n  }\n\n  if (paint !== prevProps.paint) {\n    var prevPaint = prevProps.paint || {};\n\n    for (var _key2 in paint) {\n      if (!(0,_utils_deep_equal__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(paint[_key2], prevPaint[_key2])) {\n        map.setPaintProperty(id, _key2, paint[_key2]);\n      }\n    }\n\n    for (var _key3 in prevPaint) {\n      if (!paint.hasOwnProperty(_key3)) {\n        map.setPaintProperty(id, _key3, undefined);\n      }\n    }\n  }\n\n  if (!(0,_utils_deep_equal__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(filter, prevProps.filter)) {\n    map.setFilter(id, filter);\n  }\n\n  if (minzoom !== prevProps.minzoom || maxzoom !== prevProps.maxzoom) {\n    map.setLayerZoomRange(id, minzoom, maxzoom);\n  }\n\n  for (var _key4 in otherProps) {\n    if (!(0,_utils_deep_equal__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(otherProps[_key4], prevProps[_key4])) {\n      map.setLayerProperty(id, _key4, otherProps[_key4]);\n    }\n  }\n}\n\nfunction createLayer(map, id, props) {\n  if (map.style && map.style._loaded) {\n    var options = _objectSpread(_objectSpread({}, props), {}, {\n      id: id\n    });\n\n    delete options.beforeId;\n    map.addLayer(options, props.beforeId);\n  }\n}\n\nfunction updateLayer(map, id, props, prevProps) {\n  (0,_utils_assert__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(props.id === prevProps.id, 'layer id changed');\n  (0,_utils_assert__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(props.type === prevProps.type, 'layer type changed');\n\n  try {\n    diffLayerStyles(map, id, props, prevProps);\n  } catch (error) {\n    console.warn(error);\n  }\n}\n\nvar layerCounter = 0;\n\nfunction Layer(props) {\n  var context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(_map_context__WEBPACK_IMPORTED_MODULE_2__[\"default\"]);\n  var propsRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({\n    id: props.id,\n    type: props.type\n  });\n\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0),\n      _useState2 = (0,_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(_useState, 2),\n      setStyleLoaded = _useState2[1];\n\n  var id = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function () {\n    return props.id || \"jsx-layer-\".concat(layerCounter++);\n  }, []);\n  var map = context.map;\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\n    if (map) {\n      var forceUpdate = function forceUpdate() {\n        return setStyleLoaded(function (version) {\n          return version + 1;\n        });\n      };\n\n      map.on('styledata', forceUpdate);\n      return function () {\n        map.off('styledata', forceUpdate);\n\n        if (map.style && map.style._loaded) {\n          map.removeLayer(id);\n        }\n      };\n    }\n\n    return undefined;\n  }, [map]);\n  var layer = map && map.style && map.getLayer(id);\n\n  if (layer) {\n    updateLayer(map, id, props, propsRef.current);\n  } else {\n    createLayer(map, id, props);\n  }\n\n  propsRef.current = props;\n  return null;\n}\n\nLayer.propTypes = propTypes;\n/* unused harmony default export */ var __WEBPACK_DEFAULT_EXPORT__ = (Layer);\n//# sourceMappingURL=layer.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwLWdsL2Rpc3QvZXNtL2NvbXBvbmVudHMvbGF5ZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdXBlcnNldC8uL25vZGVfbW9kdWxlcy9yZWFjdC1tYXAtZ2wvZGlzdC9lc20vY29tcG9uZW50cy9sYXllci5qcz9iMTBmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBfc2xpY2VkVG9BcnJheSBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vc2xpY2VkVG9BcnJheVwiO1xuaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHlcIjtcbmltcG9ydCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzXCI7XG5cbmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5pbXBvcnQgeyB1c2VDb250ZXh0LCB1c2VFZmZlY3QsIHVzZU1lbW8sIHVzZVN0YXRlLCB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgKiBhcyBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgTWFwQ29udGV4dCBmcm9tICcuL21hcC1jb250ZXh0JztcbmltcG9ydCBhc3NlcnQgZnJvbSAnLi4vdXRpbHMvYXNzZXJ0JztcbmltcG9ydCBkZWVwRXF1YWwgZnJvbSAnLi4vdXRpbHMvZGVlcC1lcXVhbCc7XG52YXIgTEFZRVJfVFlQRVMgPSBbJ2ZpbGwnLCAnbGluZScsICdzeW1ib2wnLCAnY2lyY2xlJywgJ2ZpbGwtZXh0cnVzaW9uJywgJ3Jhc3RlcicsICdiYWNrZ3JvdW5kJywgJ2hlYXRtYXAnLCAnaGlsbHNoYWRlJywgJ3NreSddO1xudmFyIHByb3BUeXBlcyA9IHtcbiAgdHlwZTogUHJvcFR5cGVzLm9uZU9mKExBWUVSX1RZUEVTKS5pc1JlcXVpcmVkLFxuICBpZDogUHJvcFR5cGVzLnN0cmluZyxcbiAgc291cmNlOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBiZWZvcmVJZDogUHJvcFR5cGVzLnN0cmluZ1xufTtcblxuZnVuY3Rpb24gZGlmZkxheWVyU3R5bGVzKG1hcCwgaWQsIHByb3BzLCBwcmV2UHJvcHMpIHtcbiAgdmFyIF9wcm9wcyRsYXlvdXQgPSBwcm9wcy5sYXlvdXQsXG4gICAgICBsYXlvdXQgPSBfcHJvcHMkbGF5b3V0ID09PSB2b2lkIDAgPyB7fSA6IF9wcm9wcyRsYXlvdXQsXG4gICAgICBfcHJvcHMkcGFpbnQgPSBwcm9wcy5wYWludCxcbiAgICAgIHBhaW50ID0gX3Byb3BzJHBhaW50ID09PSB2b2lkIDAgPyB7fSA6IF9wcm9wcyRwYWludCxcbiAgICAgIGZpbHRlciA9IHByb3BzLmZpbHRlcixcbiAgICAgIG1pbnpvb20gPSBwcm9wcy5taW56b29tLFxuICAgICAgbWF4em9vbSA9IHByb3BzLm1heHpvb20sXG4gICAgICBiZWZvcmVJZCA9IHByb3BzLmJlZm9yZUlkLFxuICAgICAgb3RoZXJQcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhwcm9wcywgW1wibGF5b3V0XCIsIFwicGFpbnRcIiwgXCJmaWx0ZXJcIiwgXCJtaW56b29tXCIsIFwibWF4em9vbVwiLCBcImJlZm9yZUlkXCJdKTtcblxuICBpZiAoYmVmb3JlSWQgIT09IHByZXZQcm9wcy5iZWZvcmVJZCkge1xuICAgIG1hcC5tb3ZlTGF5ZXIoaWQsIGJlZm9yZUlkKTtcbiAgfVxuXG4gIGlmIChsYXlvdXQgIT09IHByZXZQcm9wcy5sYXlvdXQpIHtcbiAgICB2YXIgcHJldkxheW91dCA9IHByZXZQcm9wcy5sYXlvdXQgfHwge307XG5cbiAgICBmb3IgKHZhciBrZXkgaW4gbGF5b3V0KSB7XG4gICAgICBpZiAoIWRlZXBFcXVhbChsYXlvdXRba2V5XSwgcHJldkxheW91dFtrZXldKSkge1xuICAgICAgICBtYXAuc2V0TGF5b3V0UHJvcGVydHkoaWQsIGtleSwgbGF5b3V0W2tleV0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAodmFyIF9rZXkgaW4gcHJldkxheW91dCkge1xuICAgICAgaWYgKCFsYXlvdXQuaGFzT3duUHJvcGVydHkoX2tleSkpIHtcbiAgICAgICAgbWFwLnNldExheW91dFByb3BlcnR5KGlkLCBfa2V5LCB1bmRlZmluZWQpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGlmIChwYWludCAhPT0gcHJldlByb3BzLnBhaW50KSB7XG4gICAgdmFyIHByZXZQYWludCA9IHByZXZQcm9wcy5wYWludCB8fCB7fTtcblxuICAgIGZvciAodmFyIF9rZXkyIGluIHBhaW50KSB7XG4gICAgICBpZiAoIWRlZXBFcXVhbChwYWludFtfa2V5Ml0sIHByZXZQYWludFtfa2V5Ml0pKSB7XG4gICAgICAgIG1hcC5zZXRQYWludFByb3BlcnR5KGlkLCBfa2V5MiwgcGFpbnRbX2tleTJdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKHZhciBfa2V5MyBpbiBwcmV2UGFpbnQpIHtcbiAgICAgIGlmICghcGFpbnQuaGFzT3duUHJvcGVydHkoX2tleTMpKSB7XG4gICAgICAgIG1hcC5zZXRQYWludFByb3BlcnR5KGlkLCBfa2V5MywgdW5kZWZpbmVkKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpZiAoIWRlZXBFcXVhbChmaWx0ZXIsIHByZXZQcm9wcy5maWx0ZXIpKSB7XG4gICAgbWFwLnNldEZpbHRlcihpZCwgZmlsdGVyKTtcbiAgfVxuXG4gIGlmIChtaW56b29tICE9PSBwcmV2UHJvcHMubWluem9vbSB8fCBtYXh6b29tICE9PSBwcmV2UHJvcHMubWF4em9vbSkge1xuICAgIG1hcC5zZXRMYXllclpvb21SYW5nZShpZCwgbWluem9vbSwgbWF4em9vbSk7XG4gIH1cblxuICBmb3IgKHZhciBfa2V5NCBpbiBvdGhlclByb3BzKSB7XG4gICAgaWYgKCFkZWVwRXF1YWwob3RoZXJQcm9wc1tfa2V5NF0sIHByZXZQcm9wc1tfa2V5NF0pKSB7XG4gICAgICBtYXAuc2V0TGF5ZXJQcm9wZXJ0eShpZCwgX2tleTQsIG90aGVyUHJvcHNbX2tleTRdKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlTGF5ZXIobWFwLCBpZCwgcHJvcHMpIHtcbiAgaWYgKG1hcC5zdHlsZSAmJiBtYXAuc3R5bGUuX2xvYWRlZCkge1xuICAgIHZhciBvcHRpb25zID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBwcm9wcyksIHt9LCB7XG4gICAgICBpZDogaWRcbiAgICB9KTtcblxuICAgIGRlbGV0ZSBvcHRpb25zLmJlZm9yZUlkO1xuICAgIG1hcC5hZGRMYXllcihvcHRpb25zLCBwcm9wcy5iZWZvcmVJZCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlTGF5ZXIobWFwLCBpZCwgcHJvcHMsIHByZXZQcm9wcykge1xuICBhc3NlcnQocHJvcHMuaWQgPT09IHByZXZQcm9wcy5pZCwgJ2xheWVyIGlkIGNoYW5nZWQnKTtcbiAgYXNzZXJ0KHByb3BzLnR5cGUgPT09IHByZXZQcm9wcy50eXBlLCAnbGF5ZXIgdHlwZSBjaGFuZ2VkJyk7XG5cbiAgdHJ5IHtcbiAgICBkaWZmTGF5ZXJTdHlsZXMobWFwLCBpZCwgcHJvcHMsIHByZXZQcm9wcyk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS53YXJuKGVycm9yKTtcbiAgfVxufVxuXG52YXIgbGF5ZXJDb3VudGVyID0gMDtcblxuZnVuY3Rpb24gTGF5ZXIocHJvcHMpIHtcbiAgdmFyIGNvbnRleHQgPSB1c2VDb250ZXh0KE1hcENvbnRleHQpO1xuICB2YXIgcHJvcHNSZWYgPSB1c2VSZWYoe1xuICAgIGlkOiBwcm9wcy5pZCxcbiAgICB0eXBlOiBwcm9wcy50eXBlXG4gIH0pO1xuXG4gIHZhciBfdXNlU3RhdGUgPSB1c2VTdGF0ZSgwKSxcbiAgICAgIF91c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUsIDIpLFxuICAgICAgc2V0U3R5bGVMb2FkZWQgPSBfdXNlU3RhdGUyWzFdO1xuXG4gIHZhciBpZCA9IHVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBwcm9wcy5pZCB8fCBcImpzeC1sYXllci1cIi5jb25jYXQobGF5ZXJDb3VudGVyKyspO1xuICB9LCBbXSk7XG4gIHZhciBtYXAgPSBjb250ZXh0Lm1hcDtcbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAobWFwKSB7XG4gICAgICB2YXIgZm9yY2VVcGRhdGUgPSBmdW5jdGlvbiBmb3JjZVVwZGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHNldFN0eWxlTG9hZGVkKGZ1bmN0aW9uICh2ZXJzaW9uKSB7XG4gICAgICAgICAgcmV0dXJuIHZlcnNpb24gKyAxO1xuICAgICAgICB9KTtcbiAgICAgIH07XG5cbiAgICAgIG1hcC5vbignc3R5bGVkYXRhJywgZm9yY2VVcGRhdGUpO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbWFwLm9mZignc3R5bGVkYXRhJywgZm9yY2VVcGRhdGUpO1xuXG4gICAgICAgIGlmIChtYXAuc3R5bGUgJiYgbWFwLnN0eWxlLl9sb2FkZWQpIHtcbiAgICAgICAgICBtYXAucmVtb3ZlTGF5ZXIoaWQpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH0sIFttYXBdKTtcbiAgdmFyIGxheWVyID0gbWFwICYmIG1hcC5zdHlsZSAmJiBtYXAuZ2V0TGF5ZXIoaWQpO1xuXG4gIGlmIChsYXllcikge1xuICAgIHVwZGF0ZUxheWVyKG1hcCwgaWQsIHByb3BzLCBwcm9wc1JlZi5jdXJyZW50KTtcbiAgfSBlbHNlIHtcbiAgICBjcmVhdGVMYXllcihtYXAsIGlkLCBwcm9wcyk7XG4gIH1cblxuICBwcm9wc1JlZi5jdXJyZW50ID0gcHJvcHM7XG4gIHJldHVybiBudWxsO1xufVxuXG5MYXllci5wcm9wVHlwZXMgPSBwcm9wVHlwZXM7XG5leHBvcnQgZGVmYXVsdCBMYXllcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxheWVyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/react-map-gl/dist/esm/components/layer.js\n");

/***/ }),

/***/ "./node_modules/react-map-gl/dist/esm/components/map-context.js":
/*!**********************************************************************!*\
  !*** ./node_modules/react-map-gl/dist/esm/components/map-context.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MapContextProvider: () => (/* binding */ MapContextProvider),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/esm/slicedToArray */ \"./node_modules/@babel/runtime/helpers/esm/slicedToArray.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n\nvar MapContext = (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)({\n  viewport: null,\n  map: null,\n  container: null,\n  onViewportChange: null,\n  onViewStateChange: null,\n  eventManager: null\n});\nvar MapContextProvider = MapContext.Provider;\n\nfunction WrappedProvider(_ref) {\n  var value = _ref.value,\n      children = _ref.children;\n\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null),\n      _useState2 = (0,_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_useState, 2),\n      map = _useState2[0],\n      setMap = _useState2[1];\n\n  var context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(MapContext);\n  value = _objectSpread(_objectSpread({\n    setMap: setMap\n  }, context), {}, {\n    map: context && context.map || map\n  }, value);\n  return react__WEBPACK_IMPORTED_MODULE_1__.createElement(MapContextProvider, {\n    value: value\n  }, children);\n}\n\nMapContext.Provider = WrappedProvider;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MapContext);\n//# sourceMappingURL=map-context.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwLWdsL2Rpc3QvZXNtL2NvbXBvbmVudHMvbWFwLWNvbnRleHQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3N1cGVyc2V0Ly4vbm9kZV9tb2R1bGVzL3JlYWN0LW1hcC1nbC9kaXN0L2VzbS9jb21wb25lbnRzL21hcC1jb250ZXh0LmpzP2QzNDUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHlcIjtcbmltcG9ydCBfc2xpY2VkVG9BcnJheSBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vc2xpY2VkVG9BcnJheVwiO1xuXG5mdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH1cblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY3JlYXRlQ29udGV4dCwgdXNlU3RhdGUsIHVzZUNvbnRleHQgfSBmcm9tICdyZWFjdCc7XG52YXIgTWFwQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQoe1xuICB2aWV3cG9ydDogbnVsbCxcbiAgbWFwOiBudWxsLFxuICBjb250YWluZXI6IG51bGwsXG4gIG9uVmlld3BvcnRDaGFuZ2U6IG51bGwsXG4gIG9uVmlld1N0YXRlQ2hhbmdlOiBudWxsLFxuICBldmVudE1hbmFnZXI6IG51bGxcbn0pO1xuZXhwb3J0IHZhciBNYXBDb250ZXh0UHJvdmlkZXIgPSBNYXBDb250ZXh0LlByb3ZpZGVyO1xuXG5mdW5jdGlvbiBXcmFwcGVkUHJvdmlkZXIoX3JlZikge1xuICB2YXIgdmFsdWUgPSBfcmVmLnZhbHVlLFxuICAgICAgY2hpbGRyZW4gPSBfcmVmLmNoaWxkcmVuO1xuXG4gIHZhciBfdXNlU3RhdGUgPSB1c2VTdGF0ZShudWxsKSxcbiAgICAgIF91c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUsIDIpLFxuICAgICAgbWFwID0gX3VzZVN0YXRlMlswXSxcbiAgICAgIHNldE1hcCA9IF91c2VTdGF0ZTJbMV07XG5cbiAgdmFyIGNvbnRleHQgPSB1c2VDb250ZXh0KE1hcENvbnRleHQpO1xuICB2YWx1ZSA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7XG4gICAgc2V0TWFwOiBzZXRNYXBcbiAgfSwgY29udGV4dCksIHt9LCB7XG4gICAgbWFwOiBjb250ZXh0ICYmIGNvbnRleHQubWFwIHx8IG1hcFxuICB9LCB2YWx1ZSk7XG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KE1hcENvbnRleHRQcm92aWRlciwge1xuICAgIHZhbHVlOiB2YWx1ZVxuICB9LCBjaGlsZHJlbik7XG59XG5cbk1hcENvbnRleHQuUHJvdmlkZXIgPSBXcmFwcGVkUHJvdmlkZXI7XG5leHBvcnQgZGVmYXVsdCBNYXBDb250ZXh0O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFwLWNvbnRleHQuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/react-map-gl/dist/esm/components/map-context.js\n");

/***/ }),

/***/ "./node_modules/react-map-gl/dist/esm/components/marker.js":
/*!*****************************************************************!*\
  !*** ./node_modules/react-map-gl/dist/esm/components/marker.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack___webpack_exports__, __webpack_require__) => {

"use strict";
eval("/* harmony import */ var _babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/esm/slicedToArray */ \"./node_modules/@babel/runtime/helpers/esm/slicedToArray.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _draggable_control__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./draggable-control */ \"./node_modules/react-map-gl/dist/esm/components/draggable-control.js\");\n/* harmony import */ var _utils_crisp_pixel__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/crisp-pixel */ \"./node_modules/react-map-gl/dist/esm/utils/crisp-pixel.js\");\n/* harmony import */ var _utils_terrain__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/terrain */ \"./node_modules/react-map-gl/dist/esm/utils/terrain.js\");\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n\n\n\n\n\nvar propTypes = Object.assign({}, _draggable_control__WEBPACK_IMPORTED_MODULE_2__.draggableControlPropTypes, {\n  className: prop_types__WEBPACK_IMPORTED_MODULE_4__.string,\n  longitude: prop_types__WEBPACK_IMPORTED_MODULE_4__.number.isRequired,\n  latitude: prop_types__WEBPACK_IMPORTED_MODULE_4__.number.isRequired,\n  style: prop_types__WEBPACK_IMPORTED_MODULE_4__.object\n});\nvar defaultProps = Object.assign({}, _draggable_control__WEBPACK_IMPORTED_MODULE_2__.draggableControlDefaultProps, {\n  className: ''\n});\n\nfunction getPosition(_ref) {\n  var props = _ref.props,\n      state = _ref.state,\n      context = _ref.context;\n  var longitude = props.longitude,\n      latitude = props.latitude,\n      offsetLeft = props.offsetLeft,\n      offsetTop = props.offsetTop;\n  var dragPos = state.dragPos,\n      dragOffset = state.dragOffset;\n  var viewport = context.viewport,\n      map = context.map;\n\n  if (dragPos && dragOffset) {\n    return [dragPos[0] + dragOffset[0], dragPos[1] + dragOffset[1]];\n  }\n\n  var altitude = (0,_utils_terrain__WEBPACK_IMPORTED_MODULE_5__.getTerrainElevation)(map, {\n    longitude: longitude,\n    latitude: latitude\n  });\n\n  var _viewport$project = viewport.project([longitude, latitude, altitude]),\n      _viewport$project2 = (0,_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(_viewport$project, 2),\n      x = _viewport$project2[0],\n      y = _viewport$project2[1];\n\n  x += offsetLeft;\n  y += offsetTop;\n  return [x, y];\n}\n\nfunction Marker(props) {\n  var thisRef = (0,_draggable_control__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(props);\n  var state = thisRef.state,\n      containerRef = thisRef.containerRef;\n  var children = props.children,\n      className = props.className,\n      draggable = props.draggable,\n      style = props.style;\n  var dragPos = state.dragPos;\n\n  var _getPosition = getPosition(thisRef),\n      _getPosition2 = (0,_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(_getPosition, 2),\n      x = _getPosition2[0],\n      y = _getPosition2[1];\n\n  var transform = \"translate(\".concat((0,_utils_crisp_pixel__WEBPACK_IMPORTED_MODULE_3__.crispPixel)(x), \"px, \").concat((0,_utils_crisp_pixel__WEBPACK_IMPORTED_MODULE_3__.crispPixel)(y), \"px)\");\n  var cursor = draggable ? dragPos ? 'grabbing' : 'grab' : 'auto';\n  var control = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function () {\n    var containerStyle = _objectSpread({\n      position: 'absolute',\n      left: 0,\n      top: 0,\n      transform: transform,\n      cursor: cursor\n    }, style);\n\n    return react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"div\", {\n      className: \"mapboxgl-marker \".concat(className),\n      ref: thisRef.containerRef,\n      style: containerStyle\n    }, children);\n  }, [children, className]);\n  var container = containerRef.current;\n\n  if (container) {\n    container.style.transform = transform;\n    container.style.cursor = cursor;\n  }\n\n  return control;\n}\n\nMarker.defaultProps = defaultProps;\nMarker.propTypes = propTypes;\n/* unused harmony default export */ var __WEBPACK_DEFAULT_EXPORT__ = (react__WEBPACK_IMPORTED_MODULE_1__.memo(Marker));\n//# sourceMappingURL=marker.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwLWdsL2Rpc3QvZXNtL2NvbXBvbmVudHMvbWFya2VyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3N1cGVyc2V0Ly4vbm9kZV9tb2R1bGVzL3JlYWN0LW1hcC1nbC9kaXN0L2VzbS9jb21wb25lbnRzL21hcmtlci5qcz9hYzFlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5XCI7XG5pbXBvcnQgX3NsaWNlZFRvQXJyYXkgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3NsaWNlZFRvQXJyYXlcIjtcblxuZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZU1lbW8gfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgKiBhcyBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgdXNlRHJhZ2dhYmxlQ29udHJvbCwgeyBkcmFnZ2FibGVDb250cm9sRGVmYXVsdFByb3BzLCBkcmFnZ2FibGVDb250cm9sUHJvcFR5cGVzIH0gZnJvbSAnLi9kcmFnZ2FibGUtY29udHJvbCc7XG5pbXBvcnQgeyBjcmlzcFBpeGVsIH0gZnJvbSAnLi4vdXRpbHMvY3Jpc3AtcGl4ZWwnO1xuaW1wb3J0IHsgZ2V0VGVycmFpbkVsZXZhdGlvbiB9IGZyb20gJy4uL3V0aWxzL3RlcnJhaW4nO1xudmFyIHByb3BUeXBlcyA9IE9iamVjdC5hc3NpZ24oe30sIGRyYWdnYWJsZUNvbnRyb2xQcm9wVHlwZXMsIHtcbiAgY2xhc3NOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBsb25naXR1ZGU6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcbiAgbGF0aXR1ZGU6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcbiAgc3R5bGU6IFByb3BUeXBlcy5vYmplY3Rcbn0pO1xudmFyIGRlZmF1bHRQcm9wcyA9IE9iamVjdC5hc3NpZ24oe30sIGRyYWdnYWJsZUNvbnRyb2xEZWZhdWx0UHJvcHMsIHtcbiAgY2xhc3NOYW1lOiAnJ1xufSk7XG5cbmZ1bmN0aW9uIGdldFBvc2l0aW9uKF9yZWYpIHtcbiAgdmFyIHByb3BzID0gX3JlZi5wcm9wcyxcbiAgICAgIHN0YXRlID0gX3JlZi5zdGF0ZSxcbiAgICAgIGNvbnRleHQgPSBfcmVmLmNvbnRleHQ7XG4gIHZhciBsb25naXR1ZGUgPSBwcm9wcy5sb25naXR1ZGUsXG4gICAgICBsYXRpdHVkZSA9IHByb3BzLmxhdGl0dWRlLFxuICAgICAgb2Zmc2V0TGVmdCA9IHByb3BzLm9mZnNldExlZnQsXG4gICAgICBvZmZzZXRUb3AgPSBwcm9wcy5vZmZzZXRUb3A7XG4gIHZhciBkcmFnUG9zID0gc3RhdGUuZHJhZ1BvcyxcbiAgICAgIGRyYWdPZmZzZXQgPSBzdGF0ZS5kcmFnT2Zmc2V0O1xuICB2YXIgdmlld3BvcnQgPSBjb250ZXh0LnZpZXdwb3J0LFxuICAgICAgbWFwID0gY29udGV4dC5tYXA7XG5cbiAgaWYgKGRyYWdQb3MgJiYgZHJhZ09mZnNldCkge1xuICAgIHJldHVybiBbZHJhZ1Bvc1swXSArIGRyYWdPZmZzZXRbMF0sIGRyYWdQb3NbMV0gKyBkcmFnT2Zmc2V0WzFdXTtcbiAgfVxuXG4gIHZhciBhbHRpdHVkZSA9IGdldFRlcnJhaW5FbGV2YXRpb24obWFwLCB7XG4gICAgbG9uZ2l0dWRlOiBsb25naXR1ZGUsXG4gICAgbGF0aXR1ZGU6IGxhdGl0dWRlXG4gIH0pO1xuXG4gIHZhciBfdmlld3BvcnQkcHJvamVjdCA9IHZpZXdwb3J0LnByb2plY3QoW2xvbmdpdHVkZSwgbGF0aXR1ZGUsIGFsdGl0dWRlXSksXG4gICAgICBfdmlld3BvcnQkcHJvamVjdDIgPSBfc2xpY2VkVG9BcnJheShfdmlld3BvcnQkcHJvamVjdCwgMiksXG4gICAgICB4ID0gX3ZpZXdwb3J0JHByb2plY3QyWzBdLFxuICAgICAgeSA9IF92aWV3cG9ydCRwcm9qZWN0MlsxXTtcblxuICB4ICs9IG9mZnNldExlZnQ7XG4gIHkgKz0gb2Zmc2V0VG9wO1xuICByZXR1cm4gW3gsIHldO1xufVxuXG5mdW5jdGlvbiBNYXJrZXIocHJvcHMpIHtcbiAgdmFyIHRoaXNSZWYgPSB1c2VEcmFnZ2FibGVDb250cm9sKHByb3BzKTtcbiAgdmFyIHN0YXRlID0gdGhpc1JlZi5zdGF0ZSxcbiAgICAgIGNvbnRhaW5lclJlZiA9IHRoaXNSZWYuY29udGFpbmVyUmVmO1xuICB2YXIgY2hpbGRyZW4gPSBwcm9wcy5jaGlsZHJlbixcbiAgICAgIGNsYXNzTmFtZSA9IHByb3BzLmNsYXNzTmFtZSxcbiAgICAgIGRyYWdnYWJsZSA9IHByb3BzLmRyYWdnYWJsZSxcbiAgICAgIHN0eWxlID0gcHJvcHMuc3R5bGU7XG4gIHZhciBkcmFnUG9zID0gc3RhdGUuZHJhZ1BvcztcblxuICB2YXIgX2dldFBvc2l0aW9uID0gZ2V0UG9zaXRpb24odGhpc1JlZiksXG4gICAgICBfZ2V0UG9zaXRpb24yID0gX3NsaWNlZFRvQXJyYXkoX2dldFBvc2l0aW9uLCAyKSxcbiAgICAgIHggPSBfZ2V0UG9zaXRpb24yWzBdLFxuICAgICAgeSA9IF9nZXRQb3NpdGlvbjJbMV07XG5cbiAgdmFyIHRyYW5zZm9ybSA9IFwidHJhbnNsYXRlKFwiLmNvbmNhdChjcmlzcFBpeGVsKHgpLCBcInB4LCBcIikuY29uY2F0KGNyaXNwUGl4ZWwoeSksIFwicHgpXCIpO1xuICB2YXIgY3Vyc29yID0gZHJhZ2dhYmxlID8gZHJhZ1BvcyA/ICdncmFiYmluZycgOiAnZ3JhYicgOiAnYXV0byc7XG4gIHZhciBjb250cm9sID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGNvbnRhaW5lclN0eWxlID0gX29iamVjdFNwcmVhZCh7XG4gICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgIGxlZnQ6IDAsXG4gICAgICB0b3A6IDAsXG4gICAgICB0cmFuc2Zvcm06IHRyYW5zZm9ybSxcbiAgICAgIGN1cnNvcjogY3Vyc29yXG4gICAgfSwgc3R5bGUpO1xuXG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBcIm1hcGJveGdsLW1hcmtlciBcIi5jb25jYXQoY2xhc3NOYW1lKSxcbiAgICAgIHJlZjogdGhpc1JlZi5jb250YWluZXJSZWYsXG4gICAgICBzdHlsZTogY29udGFpbmVyU3R5bGVcbiAgICB9LCBjaGlsZHJlbik7XG4gIH0sIFtjaGlsZHJlbiwgY2xhc3NOYW1lXSk7XG4gIHZhciBjb250YWluZXIgPSBjb250YWluZXJSZWYuY3VycmVudDtcblxuICBpZiAoY29udGFpbmVyKSB7XG4gICAgY29udGFpbmVyLnN0eWxlLnRyYW5zZm9ybSA9IHRyYW5zZm9ybTtcbiAgICBjb250YWluZXIuc3R5bGUuY3Vyc29yID0gY3Vyc29yO1xuICB9XG5cbiAgcmV0dXJuIGNvbnRyb2w7XG59XG5cbk1hcmtlci5kZWZhdWx0UHJvcHMgPSBkZWZhdWx0UHJvcHM7XG5NYXJrZXIucHJvcFR5cGVzID0gcHJvcFR5cGVzO1xuZXhwb3J0IGRlZmF1bHQgUmVhY3QubWVtbyhNYXJrZXIpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFya2VyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/react-map-gl/dist/esm/components/marker.js\n");

/***/ }),

/***/ "./node_modules/react-map-gl/dist/esm/components/navigation-control.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/react-map-gl/dist/esm/components/navigation-control.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack___webpack_exports__, __webpack_require__) => {

"use strict";
eval("/* harmony import */ var _babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _utils_map_state__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/map-state */ \"./node_modules/react-map-gl/dist/esm/utils/map-state.js\");\n/* harmony import */ var _utils_map_controller__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/map-controller */ \"./node_modules/react-map-gl/dist/esm/utils/map-controller.js\");\n/* harmony import */ var _utils_version__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils/version */ \"./node_modules/react-map-gl/dist/esm/utils/version.js\");\n/* harmony import */ var _use_map_control__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./use-map-control */ \"./node_modules/react-map-gl/dist/esm/components/use-map-control.js\");\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n\n\n\n\n\n\n\nvar noop = function noop() {};\n\nvar propTypes = Object.assign({}, _use_map_control__WEBPACK_IMPORTED_MODULE_4__.mapControlPropTypes, {\n  className: prop_types__WEBPACK_IMPORTED_MODULE_5__.string,\n  style: prop_types__WEBPACK_IMPORTED_MODULE_5__.object,\n  onViewStateChange: prop_types__WEBPACK_IMPORTED_MODULE_5__.func,\n  onViewportChange: prop_types__WEBPACK_IMPORTED_MODULE_5__.func,\n  showCompass: prop_types__WEBPACK_IMPORTED_MODULE_5__.bool,\n  showZoom: prop_types__WEBPACK_IMPORTED_MODULE_5__.bool,\n  zoomInLabel: prop_types__WEBPACK_IMPORTED_MODULE_5__.string,\n  zoomOutLabel: prop_types__WEBPACK_IMPORTED_MODULE_5__.string,\n  compassLabel: prop_types__WEBPACK_IMPORTED_MODULE_5__.string\n});\nvar defaultProps = Object.assign({}, _use_map_control__WEBPACK_IMPORTED_MODULE_4__.mapControlDefaultProps, {\n  className: '',\n  showCompass: true,\n  showZoom: true,\n  zoomInLabel: 'Zoom In',\n  zoomOutLabel: 'Zoom Out',\n  compassLabel: 'Reset North'\n});\nvar VERSION_LEGACY = 1;\nvar VERSION_1_6 = 2;\n\nfunction getUIVersion(mapboxVersion) {\n  return (0,_utils_version__WEBPACK_IMPORTED_MODULE_6__.compareVersions)(mapboxVersion, '1.6.0') >= 0 ? VERSION_1_6 : VERSION_LEGACY;\n}\n\nfunction updateViewport(context, props, opts) {\n  var viewport = context.viewport;\n  var mapState = new _utils_map_state__WEBPACK_IMPORTED_MODULE_2__[\"default\"](Object.assign({}, viewport, opts));\n  var viewState = Object.assign({}, mapState.getViewportProps(), _utils_map_controller__WEBPACK_IMPORTED_MODULE_3__.LINEAR_TRANSITION_PROPS);\n  var onViewportChange = props.onViewportChange || context.onViewportChange || noop;\n  var onViewStateChange = props.onViewStateChange || context.onViewStateChange || noop;\n  onViewStateChange({\n    viewState: viewState\n  });\n  onViewportChange(viewState);\n}\n\nfunction renderButton(type, label, callback, children) {\n  return react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"button\", {\n    key: type,\n    className: \"mapboxgl-ctrl-icon mapboxgl-ctrl-\".concat(type),\n    type: \"button\",\n    title: label,\n    onClick: callback\n  }, children || react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"span\", {\n    className: \"mapboxgl-ctrl-icon\",\n    \"aria-hidden\": \"true\"\n  }));\n}\n\nfunction renderCompass(context) {\n  var uiVersion = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function () {\n    return context.map ? getUIVersion(context.map.version) : VERSION_1_6;\n  }, [context.map]);\n  var bearing = context.viewport.bearing;\n  var style = {\n    transform: \"rotate(\".concat(-bearing, \"deg)\")\n  };\n  return uiVersion === VERSION_1_6 ? react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"span\", {\n    className: \"mapboxgl-ctrl-icon\",\n    \"aria-hidden\": \"true\",\n    style: style\n  }) : react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"span\", {\n    className: \"mapboxgl-ctrl-compass-arrow\",\n    style: style\n  });\n}\n\nfunction NavigationControl(props) {\n  var _useMapControl = (0,_use_map_control__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(props),\n      context = _useMapControl.context,\n      containerRef = _useMapControl.containerRef;\n\n  var onZoomIn = function onZoomIn() {\n    updateViewport(context, props, {\n      zoom: context.viewport.zoom + 1\n    });\n  };\n\n  var onZoomOut = function onZoomOut() {\n    updateViewport(context, props, {\n      zoom: context.viewport.zoom - 1\n    });\n  };\n\n  var onResetNorth = function onResetNorth() {\n    updateViewport(context, props, {\n      bearing: 0,\n      pitch: 0\n    });\n  };\n\n  var className = props.className,\n      showCompass = props.showCompass,\n      showZoom = props.showZoom,\n      zoomInLabel = props.zoomInLabel,\n      zoomOutLabel = props.zoomOutLabel,\n      compassLabel = props.compassLabel;\n  var style = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function () {\n    return _objectSpread({\n      position: 'absolute'\n    }, props.style);\n  }, [props.style]);\n  return react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"div\", {\n    style: style,\n    className: className\n  }, react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"div\", {\n    className: \"mapboxgl-ctrl mapboxgl-ctrl-group\",\n    ref: containerRef\n  }, showZoom && renderButton('zoom-in', zoomInLabel, onZoomIn), showZoom && renderButton('zoom-out', zoomOutLabel, onZoomOut), showCompass && renderButton('compass', compassLabel, onResetNorth, renderCompass(context))));\n}\n\nNavigationControl.propTypes = propTypes;\nNavigationControl.defaultProps = defaultProps;\n/* unused harmony default export */ var __WEBPACK_DEFAULT_EXPORT__ = (react__WEBPACK_IMPORTED_MODULE_1__.memo(NavigationControl));\n//# sourceMappingURL=navigation-control.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwLWdsL2Rpc3QvZXNtL2NvbXBvbmVudHMvbmF2aWdhdGlvbi1jb250cm9sLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdXBlcnNldC8uL25vZGVfbW9kdWxlcy9yZWFjdC1tYXAtZ2wvZGlzdC9lc20vY29tcG9uZW50cy9uYXZpZ2F0aW9uLWNvbnRyb2wuanM/YzZkZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eVwiO1xuXG5mdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH1cblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlTWVtbyB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCAqIGFzIFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBNYXBTdGF0ZSBmcm9tICcuLi91dGlscy9tYXAtc3RhdGUnO1xuaW1wb3J0IHsgTElORUFSX1RSQU5TSVRJT05fUFJPUFMgfSBmcm9tICcuLi91dGlscy9tYXAtY29udHJvbGxlcic7XG5pbXBvcnQgeyBjb21wYXJlVmVyc2lvbnMgfSBmcm9tICcuLi91dGlscy92ZXJzaW9uJztcbmltcG9ydCB1c2VNYXBDb250cm9sLCB7IG1hcENvbnRyb2xEZWZhdWx0UHJvcHMsIG1hcENvbnRyb2xQcm9wVHlwZXMgfSBmcm9tICcuL3VzZS1tYXAtY29udHJvbCc7XG5cbnZhciBub29wID0gZnVuY3Rpb24gbm9vcCgpIHt9O1xuXG52YXIgcHJvcFR5cGVzID0gT2JqZWN0LmFzc2lnbih7fSwgbWFwQ29udHJvbFByb3BUeXBlcywge1xuICBjbGFzc05hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gIHN0eWxlOiBQcm9wVHlwZXMub2JqZWN0LFxuICBvblZpZXdTdGF0ZUNoYW5nZTogUHJvcFR5cGVzLmZ1bmMsXG4gIG9uVmlld3BvcnRDaGFuZ2U6IFByb3BUeXBlcy5mdW5jLFxuICBzaG93Q29tcGFzczogUHJvcFR5cGVzLmJvb2wsXG4gIHNob3dab29tOiBQcm9wVHlwZXMuYm9vbCxcbiAgem9vbUluTGFiZWw6IFByb3BUeXBlcy5zdHJpbmcsXG4gIHpvb21PdXRMYWJlbDogUHJvcFR5cGVzLnN0cmluZyxcbiAgY29tcGFzc0xhYmVsOiBQcm9wVHlwZXMuc3RyaW5nXG59KTtcbnZhciBkZWZhdWx0UHJvcHMgPSBPYmplY3QuYXNzaWduKHt9LCBtYXBDb250cm9sRGVmYXVsdFByb3BzLCB7XG4gIGNsYXNzTmFtZTogJycsXG4gIHNob3dDb21wYXNzOiB0cnVlLFxuICBzaG93Wm9vbTogdHJ1ZSxcbiAgem9vbUluTGFiZWw6ICdab29tIEluJyxcbiAgem9vbU91dExhYmVsOiAnWm9vbSBPdXQnLFxuICBjb21wYXNzTGFiZWw6ICdSZXNldCBOb3J0aCdcbn0pO1xudmFyIFZFUlNJT05fTEVHQUNZID0gMTtcbnZhciBWRVJTSU9OXzFfNiA9IDI7XG5cbmZ1bmN0aW9uIGdldFVJVmVyc2lvbihtYXBib3hWZXJzaW9uKSB7XG4gIHJldHVybiBjb21wYXJlVmVyc2lvbnMobWFwYm94VmVyc2lvbiwgJzEuNi4wJykgPj0gMCA/IFZFUlNJT05fMV82IDogVkVSU0lPTl9MRUdBQ1k7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZVZpZXdwb3J0KGNvbnRleHQsIHByb3BzLCBvcHRzKSB7XG4gIHZhciB2aWV3cG9ydCA9IGNvbnRleHQudmlld3BvcnQ7XG4gIHZhciBtYXBTdGF0ZSA9IG5ldyBNYXBTdGF0ZShPYmplY3QuYXNzaWduKHt9LCB2aWV3cG9ydCwgb3B0cykpO1xuICB2YXIgdmlld1N0YXRlID0gT2JqZWN0LmFzc2lnbih7fSwgbWFwU3RhdGUuZ2V0Vmlld3BvcnRQcm9wcygpLCBMSU5FQVJfVFJBTlNJVElPTl9QUk9QUyk7XG4gIHZhciBvblZpZXdwb3J0Q2hhbmdlID0gcHJvcHMub25WaWV3cG9ydENoYW5nZSB8fCBjb250ZXh0Lm9uVmlld3BvcnRDaGFuZ2UgfHwgbm9vcDtcbiAgdmFyIG9uVmlld1N0YXRlQ2hhbmdlID0gcHJvcHMub25WaWV3U3RhdGVDaGFuZ2UgfHwgY29udGV4dC5vblZpZXdTdGF0ZUNoYW5nZSB8fCBub29wO1xuICBvblZpZXdTdGF0ZUNoYW5nZSh7XG4gICAgdmlld1N0YXRlOiB2aWV3U3RhdGVcbiAgfSk7XG4gIG9uVmlld3BvcnRDaGFuZ2Uodmlld1N0YXRlKTtcbn1cblxuZnVuY3Rpb24gcmVuZGVyQnV0dG9uKHR5cGUsIGxhYmVsLCBjYWxsYmFjaywgY2hpbGRyZW4pIHtcbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwge1xuICAgIGtleTogdHlwZSxcbiAgICBjbGFzc05hbWU6IFwibWFwYm94Z2wtY3RybC1pY29uIG1hcGJveGdsLWN0cmwtXCIuY29uY2F0KHR5cGUpLFxuICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgdGl0bGU6IGxhYmVsLFxuICAgIG9uQ2xpY2s6IGNhbGxiYWNrXG4gIH0sIGNoaWxkcmVuIHx8IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICBjbGFzc05hbWU6IFwibWFwYm94Z2wtY3RybC1pY29uXCIsXG4gICAgXCJhcmlhLWhpZGRlblwiOiBcInRydWVcIlxuICB9KSk7XG59XG5cbmZ1bmN0aW9uIHJlbmRlckNvbXBhc3MoY29udGV4dCkge1xuICB2YXIgdWlWZXJzaW9uID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGNvbnRleHQubWFwID8gZ2V0VUlWZXJzaW9uKGNvbnRleHQubWFwLnZlcnNpb24pIDogVkVSU0lPTl8xXzY7XG4gIH0sIFtjb250ZXh0Lm1hcF0pO1xuICB2YXIgYmVhcmluZyA9IGNvbnRleHQudmlld3BvcnQuYmVhcmluZztcbiAgdmFyIHN0eWxlID0ge1xuICAgIHRyYW5zZm9ybTogXCJyb3RhdGUoXCIuY29uY2F0KC1iZWFyaW5nLCBcImRlZylcIilcbiAgfTtcbiAgcmV0dXJuIHVpVmVyc2lvbiA9PT0gVkVSU0lPTl8xXzYgPyBSZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgY2xhc3NOYW1lOiBcIm1hcGJveGdsLWN0cmwtaWNvblwiLFxuICAgIFwiYXJpYS1oaWRkZW5cIjogXCJ0cnVlXCIsXG4gICAgc3R5bGU6IHN0eWxlXG4gIH0pIDogUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgIGNsYXNzTmFtZTogXCJtYXBib3hnbC1jdHJsLWNvbXBhc3MtYXJyb3dcIixcbiAgICBzdHlsZTogc3R5bGVcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIE5hdmlnYXRpb25Db250cm9sKHByb3BzKSB7XG4gIHZhciBfdXNlTWFwQ29udHJvbCA9IHVzZU1hcENvbnRyb2wocHJvcHMpLFxuICAgICAgY29udGV4dCA9IF91c2VNYXBDb250cm9sLmNvbnRleHQsXG4gICAgICBjb250YWluZXJSZWYgPSBfdXNlTWFwQ29udHJvbC5jb250YWluZXJSZWY7XG5cbiAgdmFyIG9uWm9vbUluID0gZnVuY3Rpb24gb25ab29tSW4oKSB7XG4gICAgdXBkYXRlVmlld3BvcnQoY29udGV4dCwgcHJvcHMsIHtcbiAgICAgIHpvb206IGNvbnRleHQudmlld3BvcnQuem9vbSArIDFcbiAgICB9KTtcbiAgfTtcblxuICB2YXIgb25ab29tT3V0ID0gZnVuY3Rpb24gb25ab29tT3V0KCkge1xuICAgIHVwZGF0ZVZpZXdwb3J0KGNvbnRleHQsIHByb3BzLCB7XG4gICAgICB6b29tOiBjb250ZXh0LnZpZXdwb3J0Lnpvb20gLSAxXG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIG9uUmVzZXROb3J0aCA9IGZ1bmN0aW9uIG9uUmVzZXROb3J0aCgpIHtcbiAgICB1cGRhdGVWaWV3cG9ydChjb250ZXh0LCBwcm9wcywge1xuICAgICAgYmVhcmluZzogMCxcbiAgICAgIHBpdGNoOiAwXG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIGNsYXNzTmFtZSA9IHByb3BzLmNsYXNzTmFtZSxcbiAgICAgIHNob3dDb21wYXNzID0gcHJvcHMuc2hvd0NvbXBhc3MsXG4gICAgICBzaG93Wm9vbSA9IHByb3BzLnNob3dab29tLFxuICAgICAgem9vbUluTGFiZWwgPSBwcm9wcy56b29tSW5MYWJlbCxcbiAgICAgIHpvb21PdXRMYWJlbCA9IHByb3BzLnpvb21PdXRMYWJlbCxcbiAgICAgIGNvbXBhc3NMYWJlbCA9IHByb3BzLmNvbXBhc3NMYWJlbDtcbiAgdmFyIHN0eWxlID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoe1xuICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZSdcbiAgICB9LCBwcm9wcy5zdHlsZSk7XG4gIH0sIFtwcm9wcy5zdHlsZV0pO1xuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgc3R5bGU6IHN0eWxlLFxuICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJtYXBib3hnbC1jdHJsIG1hcGJveGdsLWN0cmwtZ3JvdXBcIixcbiAgICByZWY6IGNvbnRhaW5lclJlZlxuICB9LCBzaG93Wm9vbSAmJiByZW5kZXJCdXR0b24oJ3pvb20taW4nLCB6b29tSW5MYWJlbCwgb25ab29tSW4pLCBzaG93Wm9vbSAmJiByZW5kZXJCdXR0b24oJ3pvb20tb3V0Jywgem9vbU91dExhYmVsLCBvblpvb21PdXQpLCBzaG93Q29tcGFzcyAmJiByZW5kZXJCdXR0b24oJ2NvbXBhc3MnLCBjb21wYXNzTGFiZWwsIG9uUmVzZXROb3J0aCwgcmVuZGVyQ29tcGFzcyhjb250ZXh0KSkpKTtcbn1cblxuTmF2aWdhdGlvbkNvbnRyb2wucHJvcFR5cGVzID0gcHJvcFR5cGVzO1xuTmF2aWdhdGlvbkNvbnRyb2wuZGVmYXVsdFByb3BzID0gZGVmYXVsdFByb3BzO1xuZXhwb3J0IGRlZmF1bHQgUmVhY3QubWVtbyhOYXZpZ2F0aW9uQ29udHJvbCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1uYXZpZ2F0aW9uLWNvbnRyb2wuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/react-map-gl/dist/esm/components/navigation-control.js\n");

/***/ }),

/***/ "./node_modules/react-map-gl/dist/esm/components/popup.js":
/*!****************************************************************!*\
  !*** ./node_modules/react-map-gl/dist/esm/components/popup.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack___webpack_exports__, __webpack_require__) => {

"use strict";
eval("/* harmony import */ var _babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/esm/slicedToArray */ \"./node_modules/@babel/runtime/helpers/esm/slicedToArray.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _use_map_control__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./use-map-control */ \"./node_modules/react-map-gl/dist/esm/components/use-map-control.js\");\n/* harmony import */ var _utils_dynamic_position__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/dynamic-position */ \"./node_modules/react-map-gl/dist/esm/utils/dynamic-position.js\");\n/* harmony import */ var _utils_terrain__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils/terrain */ \"./node_modules/react-map-gl/dist/esm/utils/terrain.js\");\n/* harmony import */ var _utils_crisp_pixel__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/crisp-pixel */ \"./node_modules/react-map-gl/dist/esm/utils/crisp-pixel.js\");\n\n\n\n\n\n\n\n\nvar propTypes = Object.assign({}, _use_map_control__WEBPACK_IMPORTED_MODULE_1__.mapControlPropTypes, {\n  className: prop_types__WEBPACK_IMPORTED_MODULE_4__.string,\n  longitude: prop_types__WEBPACK_IMPORTED_MODULE_4__.number.isRequired,\n  latitude: prop_types__WEBPACK_IMPORTED_MODULE_4__.number.isRequired,\n  altitude: prop_types__WEBPACK_IMPORTED_MODULE_4__.number,\n  offsetLeft: prop_types__WEBPACK_IMPORTED_MODULE_4__.number,\n  offsetTop: prop_types__WEBPACK_IMPORTED_MODULE_4__.number,\n  tipSize: prop_types__WEBPACK_IMPORTED_MODULE_4__.number,\n  closeButton: prop_types__WEBPACK_IMPORTED_MODULE_4__.bool,\n  closeOnClick: prop_types__WEBPACK_IMPORTED_MODULE_4__.bool,\n  anchor: prop_types__WEBPACK_IMPORTED_MODULE_4__.oneOf(Object.keys(_utils_dynamic_position__WEBPACK_IMPORTED_MODULE_2__.ANCHOR_POSITION)),\n  dynamicPosition: prop_types__WEBPACK_IMPORTED_MODULE_4__.bool,\n  sortByDepth: prop_types__WEBPACK_IMPORTED_MODULE_4__.bool,\n  onClose: prop_types__WEBPACK_IMPORTED_MODULE_4__.func\n});\nvar defaultProps = Object.assign({}, _use_map_control__WEBPACK_IMPORTED_MODULE_1__.mapControlDefaultProps, {\n  className: '',\n  offsetLeft: 0,\n  offsetTop: 0,\n  tipSize: 10,\n  anchor: 'bottom',\n  dynamicPosition: true,\n  sortByDepth: false,\n  closeButton: true,\n  closeOnClick: true,\n  onClose: function onClose() {}\n});\n\nfunction getPosition(props, viewport, el, _ref) {\n  var _ref2 = (0,_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(_ref, 2),\n      x = _ref2[0],\n      y = _ref2[1];\n\n  var anchor = props.anchor,\n      dynamicPosition = props.dynamicPosition,\n      tipSize = props.tipSize;\n\n  if (el) {\n    return dynamicPosition ? (0,_utils_dynamic_position__WEBPACK_IMPORTED_MODULE_2__.getDynamicPosition)({\n      x: x,\n      y: y,\n      anchor: anchor,\n      padding: tipSize,\n      width: viewport.width,\n      height: viewport.height,\n      selfWidth: el.clientWidth,\n      selfHeight: el.clientHeight\n    }) : anchor;\n  }\n\n  return anchor;\n}\n\nfunction getContainerStyle(props, viewport, el, _ref3, positionType) {\n  var _ref4 = (0,_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(_ref3, 3),\n      x = _ref4[0],\n      y = _ref4[1],\n      z = _ref4[2];\n\n  var offsetLeft = props.offsetLeft,\n      offsetTop = props.offsetTop,\n      sortByDepth = props.sortByDepth;\n  var anchorPosition = _utils_dynamic_position__WEBPACK_IMPORTED_MODULE_2__.ANCHOR_POSITION[positionType];\n  var left = x + offsetLeft;\n  var top = y + offsetTop;\n  var xPercentage = (0,_utils_crisp_pixel__WEBPACK_IMPORTED_MODULE_3__.crispPercentage)(el, -anchorPosition.x * 100);\n  var yPercentage = (0,_utils_crisp_pixel__WEBPACK_IMPORTED_MODULE_3__.crispPercentage)(el, -anchorPosition.y * 100, 'y');\n  var style = {\n    position: 'absolute',\n    transform: \"\\n      translate(\".concat(xPercentage, \"%, \").concat(yPercentage, \"%)\\n      translate(\").concat((0,_utils_crisp_pixel__WEBPACK_IMPORTED_MODULE_3__.crispPixel)(left), \"px, \").concat((0,_utils_crisp_pixel__WEBPACK_IMPORTED_MODULE_3__.crispPixel)(top), \"px)\\n    \"),\n    display: undefined,\n    zIndex: undefined\n  };\n\n  if (!sortByDepth) {\n    return style;\n  }\n\n  if (z > 1 || z < -1 || x < 0 || x > viewport.width || y < 0 || y > viewport.height) {\n    style.display = 'none';\n  } else {\n    style.zIndex = Math.floor((1 - z) / 2 * 100000);\n  }\n\n  return style;\n}\n\nfunction Popup(props) {\n  var contentRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n  var thisRef = (0,_use_map_control__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(props);\n  var context = thisRef.context,\n      containerRef = thisRef.containerRef;\n\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false),\n      _useState2 = (0,_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(_useState, 2),\n      setLoaded = _useState2[1];\n\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n    setLoaded(true);\n  }, [contentRef.current]);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n    if (context.eventManager && props.closeOnClick) {\n      var clickCallback = function clickCallback() {\n        return thisRef.props.onClose();\n      };\n\n      context.eventManager.on('anyclick', clickCallback);\n      return function () {\n        context.eventManager.off('anyclick', clickCallback);\n      };\n    }\n\n    return undefined;\n  }, [context.eventManager, props.closeOnClick]);\n  var viewport = context.viewport,\n      map = context.map;\n  var className = props.className,\n      longitude = props.longitude,\n      latitude = props.latitude,\n      tipSize = props.tipSize,\n      closeButton = props.closeButton,\n      children = props.children;\n  var altitude = props.altitude;\n\n  if (altitude === undefined) {\n    altitude = (0,_utils_terrain__WEBPACK_IMPORTED_MODULE_6__.getTerrainElevation)(map, {\n      longitude: longitude,\n      latitude: latitude\n    });\n  }\n\n  var position = viewport.project([longitude, latitude, altitude]);\n  var positionType = getPosition(props, viewport, contentRef.current, position);\n  var containerStyle = getContainerStyle(props, viewport, containerRef.current, position, positionType);\n  var onClickCloseButton = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (evt) {\n    thisRef.props.onClose();\n    var eventManager = thisRef.context.eventManager;\n\n    if (eventManager) {\n      eventManager.once('click', function (e) {\n        return e.stopPropagation();\n      }, evt.target);\n    }\n  }, []);\n  return react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"mapboxgl-popup mapboxgl-popup-anchor-\".concat(positionType, \" \").concat(className),\n    style: containerStyle,\n    ref: containerRef\n  }, react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    key: \"tip\",\n    className: \"mapboxgl-popup-tip\",\n    style: {\n      borderWidth: tipSize\n    }\n  }), react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    key: \"content\",\n    ref: contentRef,\n    className: \"mapboxgl-popup-content\"\n  }, closeButton && react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", {\n    key: \"close-button\",\n    className: \"mapboxgl-popup-close-button\",\n    type: \"button\",\n    onClick: onClickCloseButton\n  }, \"\\xD7\"), children));\n}\n\nPopup.propTypes = propTypes;\nPopup.defaultProps = defaultProps;\n/* unused harmony default export */ var __WEBPACK_DEFAULT_EXPORT__ = (react__WEBPACK_IMPORTED_MODULE_0__.memo(Popup));\n//# sourceMappingURL=popup.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwLWdsL2Rpc3QvZXNtL2NvbXBvbmVudHMvcG9wdXAuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3N1cGVyc2V0Ly4vbm9kZV9tb2R1bGVzL3JlYWN0LW1hcC1nbC9kaXN0L2VzbS9jb21wb25lbnRzL3BvcHVwLmpzPzAwZDMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9zbGljZWRUb0FycmF5XCI7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VSZWYsIHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0ICogYXMgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IHVzZU1hcENvbnRyb2wsIHsgbWFwQ29udHJvbERlZmF1bHRQcm9wcywgbWFwQ29udHJvbFByb3BUeXBlcyB9IGZyb20gJy4vdXNlLW1hcC1jb250cm9sJztcbmltcG9ydCB7IGdldER5bmFtaWNQb3NpdGlvbiwgQU5DSE9SX1BPU0lUSU9OIH0gZnJvbSAnLi4vdXRpbHMvZHluYW1pYy1wb3NpdGlvbic7XG5pbXBvcnQgeyBnZXRUZXJyYWluRWxldmF0aW9uIH0gZnJvbSAnLi4vdXRpbHMvdGVycmFpbic7XG5pbXBvcnQgeyBjcmlzcFBlcmNlbnRhZ2UsIGNyaXNwUGl4ZWwgfSBmcm9tICcuLi91dGlscy9jcmlzcC1waXhlbCc7XG52YXIgcHJvcFR5cGVzID0gT2JqZWN0LmFzc2lnbih7fSwgbWFwQ29udHJvbFByb3BUeXBlcywge1xuICBjbGFzc05hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gIGxvbmdpdHVkZTogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuICBsYXRpdHVkZTogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuICBhbHRpdHVkZTogUHJvcFR5cGVzLm51bWJlcixcbiAgb2Zmc2V0TGVmdDogUHJvcFR5cGVzLm51bWJlcixcbiAgb2Zmc2V0VG9wOiBQcm9wVHlwZXMubnVtYmVyLFxuICB0aXBTaXplOiBQcm9wVHlwZXMubnVtYmVyLFxuICBjbG9zZUJ1dHRvbjogUHJvcFR5cGVzLmJvb2wsXG4gIGNsb3NlT25DbGljazogUHJvcFR5cGVzLmJvb2wsXG4gIGFuY2hvcjogUHJvcFR5cGVzLm9uZU9mKE9iamVjdC5rZXlzKEFOQ0hPUl9QT1NJVElPTikpLFxuICBkeW5hbWljUG9zaXRpb246IFByb3BUeXBlcy5ib29sLFxuICBzb3J0QnlEZXB0aDogUHJvcFR5cGVzLmJvb2wsXG4gIG9uQ2xvc2U6IFByb3BUeXBlcy5mdW5jXG59KTtcbnZhciBkZWZhdWx0UHJvcHMgPSBPYmplY3QuYXNzaWduKHt9LCBtYXBDb250cm9sRGVmYXVsdFByb3BzLCB7XG4gIGNsYXNzTmFtZTogJycsXG4gIG9mZnNldExlZnQ6IDAsXG4gIG9mZnNldFRvcDogMCxcbiAgdGlwU2l6ZTogMTAsXG4gIGFuY2hvcjogJ2JvdHRvbScsXG4gIGR5bmFtaWNQb3NpdGlvbjogdHJ1ZSxcbiAgc29ydEJ5RGVwdGg6IGZhbHNlLFxuICBjbG9zZUJ1dHRvbjogdHJ1ZSxcbiAgY2xvc2VPbkNsaWNrOiB0cnVlLFxuICBvbkNsb3NlOiBmdW5jdGlvbiBvbkNsb3NlKCkge31cbn0pO1xuXG5mdW5jdGlvbiBnZXRQb3NpdGlvbihwcm9wcywgdmlld3BvcnQsIGVsLCBfcmVmKSB7XG4gIHZhciBfcmVmMiA9IF9zbGljZWRUb0FycmF5KF9yZWYsIDIpLFxuICAgICAgeCA9IF9yZWYyWzBdLFxuICAgICAgeSA9IF9yZWYyWzFdO1xuXG4gIHZhciBhbmNob3IgPSBwcm9wcy5hbmNob3IsXG4gICAgICBkeW5hbWljUG9zaXRpb24gPSBwcm9wcy5keW5hbWljUG9zaXRpb24sXG4gICAgICB0aXBTaXplID0gcHJvcHMudGlwU2l6ZTtcblxuICBpZiAoZWwpIHtcbiAgICByZXR1cm4gZHluYW1pY1Bvc2l0aW9uID8gZ2V0RHluYW1pY1Bvc2l0aW9uKHtcbiAgICAgIHg6IHgsXG4gICAgICB5OiB5LFxuICAgICAgYW5jaG9yOiBhbmNob3IsXG4gICAgICBwYWRkaW5nOiB0aXBTaXplLFxuICAgICAgd2lkdGg6IHZpZXdwb3J0LndpZHRoLFxuICAgICAgaGVpZ2h0OiB2aWV3cG9ydC5oZWlnaHQsXG4gICAgICBzZWxmV2lkdGg6IGVsLmNsaWVudFdpZHRoLFxuICAgICAgc2VsZkhlaWdodDogZWwuY2xpZW50SGVpZ2h0XG4gICAgfSkgOiBhbmNob3I7XG4gIH1cblxuICByZXR1cm4gYW5jaG9yO1xufVxuXG5mdW5jdGlvbiBnZXRDb250YWluZXJTdHlsZShwcm9wcywgdmlld3BvcnQsIGVsLCBfcmVmMywgcG9zaXRpb25UeXBlKSB7XG4gIHZhciBfcmVmNCA9IF9zbGljZWRUb0FycmF5KF9yZWYzLCAzKSxcbiAgICAgIHggPSBfcmVmNFswXSxcbiAgICAgIHkgPSBfcmVmNFsxXSxcbiAgICAgIHogPSBfcmVmNFsyXTtcblxuICB2YXIgb2Zmc2V0TGVmdCA9IHByb3BzLm9mZnNldExlZnQsXG4gICAgICBvZmZzZXRUb3AgPSBwcm9wcy5vZmZzZXRUb3AsXG4gICAgICBzb3J0QnlEZXB0aCA9IHByb3BzLnNvcnRCeURlcHRoO1xuICB2YXIgYW5jaG9yUG9zaXRpb24gPSBBTkNIT1JfUE9TSVRJT05bcG9zaXRpb25UeXBlXTtcbiAgdmFyIGxlZnQgPSB4ICsgb2Zmc2V0TGVmdDtcbiAgdmFyIHRvcCA9IHkgKyBvZmZzZXRUb3A7XG4gIHZhciB4UGVyY2VudGFnZSA9IGNyaXNwUGVyY2VudGFnZShlbCwgLWFuY2hvclBvc2l0aW9uLnggKiAxMDApO1xuICB2YXIgeVBlcmNlbnRhZ2UgPSBjcmlzcFBlcmNlbnRhZ2UoZWwsIC1hbmNob3JQb3NpdGlvbi55ICogMTAwLCAneScpO1xuICB2YXIgc3R5bGUgPSB7XG4gICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgdHJhbnNmb3JtOiBcIlxcbiAgICAgIHRyYW5zbGF0ZShcIi5jb25jYXQoeFBlcmNlbnRhZ2UsIFwiJSwgXCIpLmNvbmNhdCh5UGVyY2VudGFnZSwgXCIlKVxcbiAgICAgIHRyYW5zbGF0ZShcIikuY29uY2F0KGNyaXNwUGl4ZWwobGVmdCksIFwicHgsIFwiKS5jb25jYXQoY3Jpc3BQaXhlbCh0b3ApLCBcInB4KVxcbiAgICBcIiksXG4gICAgZGlzcGxheTogdW5kZWZpbmVkLFxuICAgIHpJbmRleDogdW5kZWZpbmVkXG4gIH07XG5cbiAgaWYgKCFzb3J0QnlEZXB0aCkge1xuICAgIHJldHVybiBzdHlsZTtcbiAgfVxuXG4gIGlmICh6ID4gMSB8fCB6IDwgLTEgfHwgeCA8IDAgfHwgeCA+IHZpZXdwb3J0LndpZHRoIHx8IHkgPCAwIHx8IHkgPiB2aWV3cG9ydC5oZWlnaHQpIHtcbiAgICBzdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICB9IGVsc2Uge1xuICAgIHN0eWxlLnpJbmRleCA9IE1hdGguZmxvb3IoKDEgLSB6KSAvIDIgKiAxMDAwMDApO1xuICB9XG5cbiAgcmV0dXJuIHN0eWxlO1xufVxuXG5mdW5jdGlvbiBQb3B1cChwcm9wcykge1xuICB2YXIgY29udGVudFJlZiA9IHVzZVJlZihudWxsKTtcbiAgdmFyIHRoaXNSZWYgPSB1c2VNYXBDb250cm9sKHByb3BzKTtcbiAgdmFyIGNvbnRleHQgPSB0aGlzUmVmLmNvbnRleHQsXG4gICAgICBjb250YWluZXJSZWYgPSB0aGlzUmVmLmNvbnRhaW5lclJlZjtcblxuICB2YXIgX3VzZVN0YXRlID0gdXNlU3RhdGUoZmFsc2UpLFxuICAgICAgX3VzZVN0YXRlMiA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZSwgMiksXG4gICAgICBzZXRMb2FkZWQgPSBfdXNlU3RhdGUyWzFdO1xuXG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgc2V0TG9hZGVkKHRydWUpO1xuICB9LCBbY29udGVudFJlZi5jdXJyZW50XSk7XG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGNvbnRleHQuZXZlbnRNYW5hZ2VyICYmIHByb3BzLmNsb3NlT25DbGljaykge1xuICAgICAgdmFyIGNsaWNrQ2FsbGJhY2sgPSBmdW5jdGlvbiBjbGlja0NhbGxiYWNrKCkge1xuICAgICAgICByZXR1cm4gdGhpc1JlZi5wcm9wcy5vbkNsb3NlKCk7XG4gICAgICB9O1xuXG4gICAgICBjb250ZXh0LmV2ZW50TWFuYWdlci5vbignYW55Y2xpY2snLCBjbGlja0NhbGxiYWNrKTtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnRleHQuZXZlbnRNYW5hZ2VyLm9mZignYW55Y2xpY2snLCBjbGlja0NhbGxiYWNrKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfSwgW2NvbnRleHQuZXZlbnRNYW5hZ2VyLCBwcm9wcy5jbG9zZU9uQ2xpY2tdKTtcbiAgdmFyIHZpZXdwb3J0ID0gY29udGV4dC52aWV3cG9ydCxcbiAgICAgIG1hcCA9IGNvbnRleHQubWFwO1xuICB2YXIgY2xhc3NOYW1lID0gcHJvcHMuY2xhc3NOYW1lLFxuICAgICAgbG9uZ2l0dWRlID0gcHJvcHMubG9uZ2l0dWRlLFxuICAgICAgbGF0aXR1ZGUgPSBwcm9wcy5sYXRpdHVkZSxcbiAgICAgIHRpcFNpemUgPSBwcm9wcy50aXBTaXplLFxuICAgICAgY2xvc2VCdXR0b24gPSBwcm9wcy5jbG9zZUJ1dHRvbixcbiAgICAgIGNoaWxkcmVuID0gcHJvcHMuY2hpbGRyZW47XG4gIHZhciBhbHRpdHVkZSA9IHByb3BzLmFsdGl0dWRlO1xuXG4gIGlmIChhbHRpdHVkZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgYWx0aXR1ZGUgPSBnZXRUZXJyYWluRWxldmF0aW9uKG1hcCwge1xuICAgICAgbG9uZ2l0dWRlOiBsb25naXR1ZGUsXG4gICAgICBsYXRpdHVkZTogbGF0aXR1ZGVcbiAgICB9KTtcbiAgfVxuXG4gIHZhciBwb3NpdGlvbiA9IHZpZXdwb3J0LnByb2plY3QoW2xvbmdpdHVkZSwgbGF0aXR1ZGUsIGFsdGl0dWRlXSk7XG4gIHZhciBwb3NpdGlvblR5cGUgPSBnZXRQb3NpdGlvbihwcm9wcywgdmlld3BvcnQsIGNvbnRlbnRSZWYuY3VycmVudCwgcG9zaXRpb24pO1xuICB2YXIgY29udGFpbmVyU3R5bGUgPSBnZXRDb250YWluZXJTdHlsZShwcm9wcywgdmlld3BvcnQsIGNvbnRhaW5lclJlZi5jdXJyZW50LCBwb3NpdGlvbiwgcG9zaXRpb25UeXBlKTtcbiAgdmFyIG9uQ2xpY2tDbG9zZUJ1dHRvbiA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChldnQpIHtcbiAgICB0aGlzUmVmLnByb3BzLm9uQ2xvc2UoKTtcbiAgICB2YXIgZXZlbnRNYW5hZ2VyID0gdGhpc1JlZi5jb250ZXh0LmV2ZW50TWFuYWdlcjtcblxuICAgIGlmIChldmVudE1hbmFnZXIpIHtcbiAgICAgIGV2ZW50TWFuYWdlci5vbmNlKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHJldHVybiBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgfSwgZXZ0LnRhcmdldCk7XG4gICAgfVxuICB9LCBbXSk7XG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwibWFwYm94Z2wtcG9wdXAgbWFwYm94Z2wtcG9wdXAtYW5jaG9yLVwiLmNvbmNhdChwb3NpdGlvblR5cGUsIFwiIFwiKS5jb25jYXQoY2xhc3NOYW1lKSxcbiAgICBzdHlsZTogY29udGFpbmVyU3R5bGUsXG4gICAgcmVmOiBjb250YWluZXJSZWZcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAga2V5OiBcInRpcFwiLFxuICAgIGNsYXNzTmFtZTogXCJtYXBib3hnbC1wb3B1cC10aXBcIixcbiAgICBzdHlsZToge1xuICAgICAgYm9yZGVyV2lkdGg6IHRpcFNpemVcbiAgICB9XG4gIH0pLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBrZXk6IFwiY29udGVudFwiLFxuICAgIHJlZjogY29udGVudFJlZixcbiAgICBjbGFzc05hbWU6IFwibWFwYm94Z2wtcG9wdXAtY29udGVudFwiXG4gIH0sIGNsb3NlQnV0dG9uICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwge1xuICAgIGtleTogXCJjbG9zZS1idXR0b25cIixcbiAgICBjbGFzc05hbWU6IFwibWFwYm94Z2wtcG9wdXAtY2xvc2UtYnV0dG9uXCIsXG4gICAgdHlwZTogXCJidXR0b25cIixcbiAgICBvbkNsaWNrOiBvbkNsaWNrQ2xvc2VCdXR0b25cbiAgfSwgXCJcXHhEN1wiKSwgY2hpbGRyZW4pKTtcbn1cblxuUG9wdXAucHJvcFR5cGVzID0gcHJvcFR5cGVzO1xuUG9wdXAuZGVmYXVsdFByb3BzID0gZGVmYXVsdFByb3BzO1xuZXhwb3J0IGRlZmF1bHQgUmVhY3QubWVtbyhQb3B1cCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wb3B1cC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/react-map-gl/dist/esm/components/popup.js\n");

/***/ }),

/***/ "./node_modules/react-map-gl/dist/esm/components/scale-control.js":
/*!************************************************************************!*\
  !*** ./node_modules/react-map-gl/dist/esm/components/scale-control.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack___webpack_exports__, __webpack_require__) => {

"use strict";
eval("/* harmony import */ var _babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/esm/slicedToArray */ \"./node_modules/@babel/runtime/helpers/esm/slicedToArray.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _utils_mapboxgl__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/mapboxgl */ \"./node_modules/react-map-gl/dist/esm/utils/mapboxgl.browser.js\");\n/* harmony import */ var _use_map_control__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./use-map-control */ \"./node_modules/react-map-gl/dist/esm/components/use-map-control.js\");\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n\n\n\n\nvar propTypes = Object.assign({}, _use_map_control__WEBPACK_IMPORTED_MODULE_3__.mapControlPropTypes, {\n  className: prop_types__WEBPACK_IMPORTED_MODULE_4__.string,\n  style: prop_types__WEBPACK_IMPORTED_MODULE_4__.object,\n  maxWidth: prop_types__WEBPACK_IMPORTED_MODULE_4__.number,\n  unit: prop_types__WEBPACK_IMPORTED_MODULE_4__.oneOf(['imperial', 'metric', 'nautical'])\n});\nvar defaultProps = Object.assign({}, _use_map_control__WEBPACK_IMPORTED_MODULE_3__.mapControlDefaultProps, {\n  className: '',\n  maxWidth: 100,\n  unit: 'metric'\n});\n\nfunction ScaleControl(props) {\n  var _useMapControl = (0,_use_map_control__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(props),\n      context = _useMapControl.context,\n      containerRef = _useMapControl.containerRef;\n\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null),\n      _useState2 = (0,_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(_useState, 2),\n      mapboxScaleControl = _useState2[0],\n      createMapboxScaleControl = _useState2[1];\n\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\n    if (context.map) {\n      var control = new _utils_mapboxgl__WEBPACK_IMPORTED_MODULE_2__[\"default\"].ScaleControl();\n      control._map = context.map;\n      control._container = containerRef.current;\n      createMapboxScaleControl(control);\n    }\n  }, [context.map]);\n\n  if (mapboxScaleControl) {\n    mapboxScaleControl.options = props;\n\n    mapboxScaleControl._onMove();\n  }\n\n  var style = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function () {\n    return _objectSpread({\n      position: 'absolute'\n    }, props.style);\n  }, [props.style]);\n  return react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"div\", {\n    style: style,\n    className: props.className\n  }, react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"div\", {\n    ref: containerRef,\n    className: \"mapboxgl-ctrl mapboxgl-ctrl-scale\"\n  }));\n}\n\nScaleControl.propTypes = propTypes;\nScaleControl.defaultProps = defaultProps;\n/* unused harmony default export */ var __WEBPACK_DEFAULT_EXPORT__ = (react__WEBPACK_IMPORTED_MODULE_1__.memo(ScaleControl));\n//# sourceMappingURL=scale-control.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwLWdsL2Rpc3QvZXNtL2NvbXBvbmVudHMvc2NhbGUtY29udHJvbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdXBlcnNldC8uL25vZGVfbW9kdWxlcy9yZWFjdC1tYXAtZ2wvZGlzdC9lc20vY29tcG9uZW50cy9zY2FsZS1jb250cm9sLmpzPzI5MjkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHlcIjtcbmltcG9ydCBfc2xpY2VkVG9BcnJheSBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vc2xpY2VkVG9BcnJheVwiO1xuXG5mdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH1cblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSwgdXNlTWVtbyB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCAqIGFzIFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBtYXBib3hnbCBmcm9tICcuLi91dGlscy9tYXBib3hnbCc7XG5pbXBvcnQgdXNlTWFwQ29udHJvbCwgeyBtYXBDb250cm9sRGVmYXVsdFByb3BzLCBtYXBDb250cm9sUHJvcFR5cGVzIH0gZnJvbSAnLi91c2UtbWFwLWNvbnRyb2wnO1xudmFyIHByb3BUeXBlcyA9IE9iamVjdC5hc3NpZ24oe30sIG1hcENvbnRyb2xQcm9wVHlwZXMsIHtcbiAgY2xhc3NOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBzdHlsZTogUHJvcFR5cGVzLm9iamVjdCxcbiAgbWF4V2lkdGg6IFByb3BUeXBlcy5udW1iZXIsXG4gIHVuaXQ6IFByb3BUeXBlcy5vbmVPZihbJ2ltcGVyaWFsJywgJ21ldHJpYycsICduYXV0aWNhbCddKVxufSk7XG52YXIgZGVmYXVsdFByb3BzID0gT2JqZWN0LmFzc2lnbih7fSwgbWFwQ29udHJvbERlZmF1bHRQcm9wcywge1xuICBjbGFzc05hbWU6ICcnLFxuICBtYXhXaWR0aDogMTAwLFxuICB1bml0OiAnbWV0cmljJ1xufSk7XG5cbmZ1bmN0aW9uIFNjYWxlQ29udHJvbChwcm9wcykge1xuICB2YXIgX3VzZU1hcENvbnRyb2wgPSB1c2VNYXBDb250cm9sKHByb3BzKSxcbiAgICAgIGNvbnRleHQgPSBfdXNlTWFwQ29udHJvbC5jb250ZXh0LFxuICAgICAgY29udGFpbmVyUmVmID0gX3VzZU1hcENvbnRyb2wuY29udGFpbmVyUmVmO1xuXG4gIHZhciBfdXNlU3RhdGUgPSB1c2VTdGF0ZShudWxsKSxcbiAgICAgIF91c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUsIDIpLFxuICAgICAgbWFwYm94U2NhbGVDb250cm9sID0gX3VzZVN0YXRlMlswXSxcbiAgICAgIGNyZWF0ZU1hcGJveFNjYWxlQ29udHJvbCA9IF91c2VTdGF0ZTJbMV07XG5cbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoY29udGV4dC5tYXApIHtcbiAgICAgIHZhciBjb250cm9sID0gbmV3IG1hcGJveGdsLlNjYWxlQ29udHJvbCgpO1xuICAgICAgY29udHJvbC5fbWFwID0gY29udGV4dC5tYXA7XG4gICAgICBjb250cm9sLl9jb250YWluZXIgPSBjb250YWluZXJSZWYuY3VycmVudDtcbiAgICAgIGNyZWF0ZU1hcGJveFNjYWxlQ29udHJvbChjb250cm9sKTtcbiAgICB9XG4gIH0sIFtjb250ZXh0Lm1hcF0pO1xuXG4gIGlmIChtYXBib3hTY2FsZUNvbnRyb2wpIHtcbiAgICBtYXBib3hTY2FsZUNvbnRyb2wub3B0aW9ucyA9IHByb3BzO1xuXG4gICAgbWFwYm94U2NhbGVDb250cm9sLl9vbk1vdmUoKTtcbiAgfVxuXG4gIHZhciBzdHlsZSA9IHVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKHtcbiAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnXG4gICAgfSwgcHJvcHMuc3R5bGUpO1xuICB9LCBbcHJvcHMuc3R5bGVdKTtcbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIHN0eWxlOiBzdHlsZSxcbiAgICBjbGFzc05hbWU6IHByb3BzLmNsYXNzTmFtZVxuICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICByZWY6IGNvbnRhaW5lclJlZixcbiAgICBjbGFzc05hbWU6IFwibWFwYm94Z2wtY3RybCBtYXBib3hnbC1jdHJsLXNjYWxlXCJcbiAgfSkpO1xufVxuXG5TY2FsZUNvbnRyb2wucHJvcFR5cGVzID0gcHJvcFR5cGVzO1xuU2NhbGVDb250cm9sLmRlZmF1bHRQcm9wcyA9IGRlZmF1bHRQcm9wcztcbmV4cG9ydCBkZWZhdWx0IFJlYWN0Lm1lbW8oU2NhbGVDb250cm9sKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNjYWxlLWNvbnRyb2wuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/react-map-gl/dist/esm/components/scale-control.js\n");

/***/ }),

/***/ "./node_modules/react-map-gl/dist/esm/components/source.js":
/*!*****************************************************************!*\
  !*** ./node_modules/react-map-gl/dist/esm/components/source.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack___webpack_exports__, __webpack_require__) => {

"use strict";
eval("/* harmony import */ var _babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/esm/slicedToArray */ \"./node_modules/@babel/runtime/helpers/esm/slicedToArray.js\");\n/* harmony import */ var _babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _map_context__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./map-context */ \"./node_modules/react-map-gl/dist/esm/components/map-context.js\");\n/* harmony import */ var _utils_assert__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/assert */ \"./node_modules/react-map-gl/dist/esm/utils/assert.js\");\n/* harmony import */ var _utils_deep_equal__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/deep-equal */ \"./node_modules/react-map-gl/dist/esm/utils/deep-equal.js\");\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n\n\n\n\n\n\nvar propTypes = {\n  type: prop_types__WEBPACK_IMPORTED_MODULE_3__.string.isRequired,\n  id: prop_types__WEBPACK_IMPORTED_MODULE_3__.string\n};\nvar sourceCounter = 0;\n\nfunction createSource(map, id, props) {\n  if (map.style && map.style._loaded) {\n    var options = _objectSpread({}, props);\n\n    delete options.id;\n    delete options.children;\n    map.addSource(id, options);\n    return map.getSource(id);\n  }\n\n  return null;\n}\n\nfunction updateSource(source, props, prevProps) {\n  (0,_utils_assert__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(props.id === prevProps.id, 'source id changed');\n  (0,_utils_assert__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(props.type === prevProps.type, 'source type changed');\n  var changedKey = '';\n  var changedKeyCount = 0;\n\n  for (var key in props) {\n    if (key !== 'children' && key !== 'id' && !(0,_utils_deep_equal__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(prevProps[key], props[key])) {\n      changedKey = key;\n      changedKeyCount++;\n    }\n  }\n\n  if (!changedKeyCount) {\n    return;\n  }\n\n  var type = props.type;\n\n  if (type === 'geojson') {\n    source.setData(props.data);\n  } else if (type === 'image') {\n    source.updateImage({\n      url: props.url,\n      coordinates: props.coordinates\n    });\n  } else if ((type === 'canvas' || type === 'video') && changedKeyCount === 1 && changedKey === 'coordinates') {\n    source.setCoordinates(props.coordinates);\n  } else if (type === 'vector' && source.setUrl) {\n    switch (changedKey) {\n      case 'url':\n        source.setUrl(props.url);\n        break;\n\n      case 'tiles':\n        source.setTiles(props.tiles);\n        break;\n\n      default:\n    }\n  } else {\n    console.warn(\"Unable to update <Source> prop: \".concat(changedKey));\n  }\n}\n\nfunction Source(props) {\n  var context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(_map_context__WEBPACK_IMPORTED_MODULE_2__[\"default\"]);\n  var propsRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({\n    id: props.id,\n    type: props.type\n  });\n\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0),\n      _useState2 = (0,_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(_useState, 2),\n      setStyleLoaded = _useState2[1];\n\n  var id = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function () {\n    return props.id || \"jsx-source-\".concat(sourceCounter++);\n  }, []);\n  var map = context.map;\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\n    if (map) {\n      var forceUpdate = function forceUpdate() {\n        return setStyleLoaded(function (version) {\n          return version + 1;\n        });\n      };\n\n      map.on('styledata', forceUpdate);\n      return function () {\n        map.off('styledata', forceUpdate);\n        requestAnimationFrame(function () {\n          if (map.style && map.style._loaded && map.getSource(id)) {\n            map.removeSource(id);\n          }\n        });\n      };\n    }\n\n    return undefined;\n  }, [map, id]);\n  var source = map && map.style && map.getSource(id);\n\n  if (source) {\n    updateSource(source, props, propsRef.current);\n  } else {\n    source = createSource(map, id, props);\n  }\n\n  propsRef.current = props;\n  return source && react__WEBPACK_IMPORTED_MODULE_1__.Children.map(props.children, function (child) {\n    return child && (0,react__WEBPACK_IMPORTED_MODULE_1__.cloneElement)(child, {\n      source: id\n    });\n  }) || null;\n}\n\nSource.propTypes = propTypes;\n/* unused harmony default export */ var __WEBPACK_DEFAULT_EXPORT__ = (Source);\n//# sourceMappingURL=source.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwLWdsL2Rpc3QvZXNtL2NvbXBvbmVudHMvc291cmNlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdXBlcnNldC8uL25vZGVfbW9kdWxlcy9yZWFjdC1tYXAtZ2wvZGlzdC9lc20vY29tcG9uZW50cy9zb3VyY2UuanM/NjZlOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgX3NsaWNlZFRvQXJyYXkgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3NsaWNlZFRvQXJyYXlcIjtcbmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5XCI7XG5cbmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VDb250ZXh0LCB1c2VFZmZlY3QsIHVzZU1lbW8sIHVzZVN0YXRlLCB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjbG9uZUVsZW1lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgKiBhcyBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgTWFwQ29udGV4dCBmcm9tICcuL21hcC1jb250ZXh0JztcbmltcG9ydCBhc3NlcnQgZnJvbSAnLi4vdXRpbHMvYXNzZXJ0JztcbmltcG9ydCBkZWVwRXF1YWwgZnJvbSAnLi4vdXRpbHMvZGVlcC1lcXVhbCc7XG52YXIgcHJvcFR5cGVzID0ge1xuICB0eXBlOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gIGlkOiBQcm9wVHlwZXMuc3RyaW5nXG59O1xudmFyIHNvdXJjZUNvdW50ZXIgPSAwO1xuXG5mdW5jdGlvbiBjcmVhdGVTb3VyY2UobWFwLCBpZCwgcHJvcHMpIHtcbiAgaWYgKG1hcC5zdHlsZSAmJiBtYXAuc3R5bGUuX2xvYWRlZCkge1xuICAgIHZhciBvcHRpb25zID0gX29iamVjdFNwcmVhZCh7fSwgcHJvcHMpO1xuXG4gICAgZGVsZXRlIG9wdGlvbnMuaWQ7XG4gICAgZGVsZXRlIG9wdGlvbnMuY2hpbGRyZW47XG4gICAgbWFwLmFkZFNvdXJjZShpZCwgb3B0aW9ucyk7XG4gICAgcmV0dXJuIG1hcC5nZXRTb3VyY2UoaWQpO1xuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZVNvdXJjZShzb3VyY2UsIHByb3BzLCBwcmV2UHJvcHMpIHtcbiAgYXNzZXJ0KHByb3BzLmlkID09PSBwcmV2UHJvcHMuaWQsICdzb3VyY2UgaWQgY2hhbmdlZCcpO1xuICBhc3NlcnQocHJvcHMudHlwZSA9PT0gcHJldlByb3BzLnR5cGUsICdzb3VyY2UgdHlwZSBjaGFuZ2VkJyk7XG4gIHZhciBjaGFuZ2VkS2V5ID0gJyc7XG4gIHZhciBjaGFuZ2VkS2V5Q291bnQgPSAwO1xuXG4gIGZvciAodmFyIGtleSBpbiBwcm9wcykge1xuICAgIGlmIChrZXkgIT09ICdjaGlsZHJlbicgJiYga2V5ICE9PSAnaWQnICYmICFkZWVwRXF1YWwocHJldlByb3BzW2tleV0sIHByb3BzW2tleV0pKSB7XG4gICAgICBjaGFuZ2VkS2V5ID0ga2V5O1xuICAgICAgY2hhbmdlZEtleUNvdW50Kys7XG4gICAgfVxuICB9XG5cbiAgaWYgKCFjaGFuZ2VkS2V5Q291bnQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgdHlwZSA9IHByb3BzLnR5cGU7XG5cbiAgaWYgKHR5cGUgPT09ICdnZW9qc29uJykge1xuICAgIHNvdXJjZS5zZXREYXRhKHByb3BzLmRhdGEpO1xuICB9IGVsc2UgaWYgKHR5cGUgPT09ICdpbWFnZScpIHtcbiAgICBzb3VyY2UudXBkYXRlSW1hZ2Uoe1xuICAgICAgdXJsOiBwcm9wcy51cmwsXG4gICAgICBjb29yZGluYXRlczogcHJvcHMuY29vcmRpbmF0ZXNcbiAgICB9KTtcbiAgfSBlbHNlIGlmICgodHlwZSA9PT0gJ2NhbnZhcycgfHwgdHlwZSA9PT0gJ3ZpZGVvJykgJiYgY2hhbmdlZEtleUNvdW50ID09PSAxICYmIGNoYW5nZWRLZXkgPT09ICdjb29yZGluYXRlcycpIHtcbiAgICBzb3VyY2Uuc2V0Q29vcmRpbmF0ZXMocHJvcHMuY29vcmRpbmF0ZXMpO1xuICB9IGVsc2UgaWYgKHR5cGUgPT09ICd2ZWN0b3InICYmIHNvdXJjZS5zZXRVcmwpIHtcbiAgICBzd2l0Y2ggKGNoYW5nZWRLZXkpIHtcbiAgICAgIGNhc2UgJ3VybCc6XG4gICAgICAgIHNvdXJjZS5zZXRVcmwocHJvcHMudXJsKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ3RpbGVzJzpcbiAgICAgICAgc291cmNlLnNldFRpbGVzKHByb3BzLnRpbGVzKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUud2FybihcIlVuYWJsZSB0byB1cGRhdGUgPFNvdXJjZT4gcHJvcDogXCIuY29uY2F0KGNoYW5nZWRLZXkpKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBTb3VyY2UocHJvcHMpIHtcbiAgdmFyIGNvbnRleHQgPSB1c2VDb250ZXh0KE1hcENvbnRleHQpO1xuICB2YXIgcHJvcHNSZWYgPSB1c2VSZWYoe1xuICAgIGlkOiBwcm9wcy5pZCxcbiAgICB0eXBlOiBwcm9wcy50eXBlXG4gIH0pO1xuXG4gIHZhciBfdXNlU3RhdGUgPSB1c2VTdGF0ZSgwKSxcbiAgICAgIF91c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUsIDIpLFxuICAgICAgc2V0U3R5bGVMb2FkZWQgPSBfdXNlU3RhdGUyWzFdO1xuXG4gIHZhciBpZCA9IHVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBwcm9wcy5pZCB8fCBcImpzeC1zb3VyY2UtXCIuY29uY2F0KHNvdXJjZUNvdW50ZXIrKyk7XG4gIH0sIFtdKTtcbiAgdmFyIG1hcCA9IGNvbnRleHQubWFwO1xuICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGlmIChtYXApIHtcbiAgICAgIHZhciBmb3JjZVVwZGF0ZSA9IGZ1bmN0aW9uIGZvcmNlVXBkYXRlKCkge1xuICAgICAgICByZXR1cm4gc2V0U3R5bGVMb2FkZWQoZnVuY3Rpb24gKHZlcnNpb24pIHtcbiAgICAgICAgICByZXR1cm4gdmVyc2lvbiArIDE7XG4gICAgICAgIH0pO1xuICAgICAgfTtcblxuICAgICAgbWFwLm9uKCdzdHlsZWRhdGEnLCBmb3JjZVVwZGF0ZSk7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICBtYXAub2ZmKCdzdHlsZWRhdGEnLCBmb3JjZVVwZGF0ZSk7XG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaWYgKG1hcC5zdHlsZSAmJiBtYXAuc3R5bGUuX2xvYWRlZCAmJiBtYXAuZ2V0U291cmNlKGlkKSkge1xuICAgICAgICAgICAgbWFwLnJlbW92ZVNvdXJjZShpZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfSwgW21hcCwgaWRdKTtcbiAgdmFyIHNvdXJjZSA9IG1hcCAmJiBtYXAuc3R5bGUgJiYgbWFwLmdldFNvdXJjZShpZCk7XG5cbiAgaWYgKHNvdXJjZSkge1xuICAgIHVwZGF0ZVNvdXJjZShzb3VyY2UsIHByb3BzLCBwcm9wc1JlZi5jdXJyZW50KTtcbiAgfSBlbHNlIHtcbiAgICBzb3VyY2UgPSBjcmVhdGVTb3VyY2UobWFwLCBpZCwgcHJvcHMpO1xuICB9XG5cbiAgcHJvcHNSZWYuY3VycmVudCA9IHByb3BzO1xuICByZXR1cm4gc291cmNlICYmIFJlYWN0LkNoaWxkcmVuLm1hcChwcm9wcy5jaGlsZHJlbiwgZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgcmV0dXJuIGNoaWxkICYmIGNsb25lRWxlbWVudChjaGlsZCwge1xuICAgICAgc291cmNlOiBpZFxuICAgIH0pO1xuICB9KSB8fCBudWxsO1xufVxuXG5Tb3VyY2UucHJvcFR5cGVzID0gcHJvcFR5cGVzO1xuZXhwb3J0IGRlZmF1bHQgU291cmNlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c291cmNlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/react-map-gl/dist/esm/components/source.js\n");

/***/ }),

/***/ "./node_modules/react-map-gl/dist/esm/components/static-map.js":
/*!*********************************************************************!*\
  !*** ./node_modules/react-map-gl/dist/esm/components/static-map.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   getViewport: () => (/* binding */ getViewport)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @babel/runtime/helpers/esm/slicedToArray */ \"./node_modules/@babel/runtime/helpers/esm/slicedToArray.js\");\n/* harmony import */ var _babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var viewport_mercator_project__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! viewport-mercator-project */ \"./node_modules/react-map-gl/node_modules/viewport-mercator-project/module.js\");\n/* harmony import */ var resize_observer_polyfill__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! resize-observer-polyfill */ \"./node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js\");\n/* harmony import */ var _mapbox_mapbox__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../mapbox/mapbox */ \"./node_modules/react-map-gl/dist/esm/mapbox/mapbox.js\");\n/* harmony import */ var _utils_mapboxgl__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/mapboxgl */ \"./node_modules/react-map-gl/dist/esm/utils/mapboxgl.browser.js\");\n/* harmony import */ var _utils_map_constraints__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils/map-constraints */ \"./node_modules/react-map-gl/dist/esm/utils/map-constraints.js\");\n/* harmony import */ var _utils_map_state__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../utils/map-state */ \"./node_modules/react-map-gl/dist/esm/utils/map-state.js\");\n/* harmony import */ var _map_context__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./map-context */ \"./node_modules/react-map-gl/dist/esm/components/map-context.js\");\n/* harmony import */ var _utils_use_isomorphic_layout_effect__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../utils/use-isomorphic-layout-effect */ \"./node_modules/react-map-gl/dist/esm/utils/use-isomorphic-layout-effect.js\");\n/* harmony import */ var _utils_terrain__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../utils/terrain */ \"./node_modules/react-map-gl/dist/esm/utils/terrain.js\");\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar TOKEN_DOC_URL = 'https://visgl.github.io/react-map-gl/docs/get-started/mapbox-tokens';\nvar NO_TOKEN_WARNING = 'A valid API access token is required to use Mapbox data';\n\nfunction noop() {}\n\nfunction getViewport(_ref) {\n  var map = _ref.map,\n      props = _ref.props,\n      width = _ref.width,\n      height = _ref.height;\n\n  var viewportProps = _objectSpread(_objectSpread(_objectSpread({}, props), props.viewState), {}, {\n    width: width,\n    height: height\n  });\n\n  viewportProps.position = [0, 0, (0,_utils_terrain__WEBPACK_IMPORTED_MODULE_10__.getTerrainElevation)(map, viewportProps)];\n  return new viewport_mercator_project__WEBPACK_IMPORTED_MODULE_2__[\"default\"](viewportProps);\n}\nvar UNAUTHORIZED_ERROR_CODE = 401;\nvar CONTAINER_STYLE = {\n  position: 'absolute',\n  width: '100%',\n  height: '100%',\n  overflow: 'hidden'\n};\nvar propTypes = Object.assign({}, _mapbox_mapbox__WEBPACK_IMPORTED_MODULE_4__[\"default\"].propTypes, {\n  width: prop_types__WEBPACK_IMPORTED_MODULE_11__.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_11__.number, prop_types__WEBPACK_IMPORTED_MODULE_11__.string]),\n  height: prop_types__WEBPACK_IMPORTED_MODULE_11__.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_11__.number, prop_types__WEBPACK_IMPORTED_MODULE_11__.string]),\n  onResize: prop_types__WEBPACK_IMPORTED_MODULE_11__.func,\n  disableTokenWarning: prop_types__WEBPACK_IMPORTED_MODULE_11__.bool,\n  visible: prop_types__WEBPACK_IMPORTED_MODULE_11__.bool,\n  className: prop_types__WEBPACK_IMPORTED_MODULE_11__.string,\n  style: prop_types__WEBPACK_IMPORTED_MODULE_11__.object,\n  visibilityConstraints: prop_types__WEBPACK_IMPORTED_MODULE_11__.object\n});\nvar defaultProps = Object.assign({}, _mapbox_mapbox__WEBPACK_IMPORTED_MODULE_4__[\"default\"].defaultProps, {\n  disableTokenWarning: false,\n  visible: true,\n  onResize: noop,\n  className: '',\n  style: null,\n  visibilityConstraints: _utils_map_state__WEBPACK_IMPORTED_MODULE_7__.MAPBOX_LIMITS\n});\n\nfunction NoTokenWarning() {\n  var style = {\n    position: 'absolute',\n    left: 0,\n    top: 0\n  };\n  return react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"div\", {\n    key: \"warning\",\n    id: \"no-token-warning\",\n    style: style\n  }, react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"h3\", {\n    key: \"header\"\n  }, NO_TOKEN_WARNING), react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"div\", {\n    key: \"text\"\n  }, \"For information on setting up your basemap, read\"), react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"a\", {\n    key: \"link\",\n    href: TOKEN_DOC_URL\n  }, \"Note on Map Tokens\"));\n}\n\nfunction getRefHandles(mapboxRef) {\n  return {\n    getMap: function getMap() {\n      return mapboxRef.current && mapboxRef.current.getMap();\n    },\n    queryRenderedFeatures: function queryRenderedFeatures(geometry) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var map = mapboxRef.current && mapboxRef.current.getMap();\n      return map && map.queryRenderedFeatures(geometry, options);\n    }\n  };\n}\n\nvar StaticMap = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function (props, ref) {\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true),\n      _useState2 = (0,_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_12__[\"default\"])(_useState, 2),\n      accessTokenValid = _useState2[0],\n      setTokenState = _useState2[1];\n\n  var _useState3 = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n    width: 0,\n    height: 0\n  }),\n      _useState4 = (0,_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_12__[\"default\"])(_useState3, 2),\n      size = _useState4[0],\n      setSize = _useState4[1];\n\n  var mapboxRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n  var mapDivRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n  var containerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n  var overlayRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n  var context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(_map_context__WEBPACK_IMPORTED_MODULE_8__[\"default\"]);\n  (0,_utils_use_isomorphic_layout_effect__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(function () {\n    if (!StaticMap.supported()) {\n      return undefined;\n    }\n\n    var mapbox = new _mapbox_mapbox__WEBPACK_IMPORTED_MODULE_4__[\"default\"](_objectSpread(_objectSpread(_objectSpread({}, props), size), {}, {\n      mapboxgl: _utils_mapboxgl__WEBPACK_IMPORTED_MODULE_5__[\"default\"],\n      container: mapDivRef.current,\n      onError: function onError(evt) {\n        var statusCode = evt.error && evt.error.status || evt.status;\n\n        if (statusCode === UNAUTHORIZED_ERROR_CODE && accessTokenValid) {\n          console.error(NO_TOKEN_WARNING);\n          setTokenState(false);\n        }\n\n        props.onError(evt);\n      }\n    }));\n    mapboxRef.current = mapbox;\n\n    if (context && context.setMap) {\n      context.setMap(mapbox.getMap());\n    }\n\n    var resizeObserver = new resize_observer_polyfill__WEBPACK_IMPORTED_MODULE_3__[\"default\"](function (entries) {\n      if (entries[0].contentRect) {\n        var _entries$0$contentRec = entries[0].contentRect,\n            _width = _entries$0$contentRec.width,\n            _height = _entries$0$contentRec.height;\n        setSize({\n          width: _width,\n          height: _height\n        });\n        props.onResize({\n          width: _width,\n          height: _height\n        });\n      }\n    });\n    resizeObserver.observe(containerRef.current);\n    return function () {\n      mapbox.finalize();\n      mapboxRef.current = null;\n      resizeObserver.disconnect();\n    };\n  }, []);\n  (0,_utils_use_isomorphic_layout_effect__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(function () {\n    if (mapboxRef.current) {\n      mapboxRef.current.setProps(_objectSpread(_objectSpread({}, props), size));\n    }\n  });\n  var map = mapboxRef.current && mapboxRef.current.getMap();\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useImperativeHandle)(ref, function () {\n    return getRefHandles(mapboxRef);\n  }, []);\n  var preventScroll = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function (_ref2) {\n    var target = _ref2.target;\n\n    if (target === overlayRef.current) {\n      target.scrollTo(0, 0);\n    }\n  }, []);\n  var overlays = map && react__WEBPACK_IMPORTED_MODULE_1__.createElement(_map_context__WEBPACK_IMPORTED_MODULE_8__.MapContextProvider, {\n    value: _objectSpread(_objectSpread({}, context), {}, {\n      viewport: context.viewport || getViewport(_objectSpread({\n        map: map,\n        props: props\n      }, size)),\n      map: map,\n      container: context.container || containerRef.current\n    })\n  }, react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"div\", {\n    key: \"map-overlays\",\n    className: \"overlays\",\n    ref: overlayRef,\n    style: CONTAINER_STYLE,\n    onScroll: preventScroll\n  }, props.children));\n  var className = props.className,\n      width = props.width,\n      height = props.height,\n      style = props.style,\n      visibilityConstraints = props.visibilityConstraints;\n  var mapContainerStyle = Object.assign({\n    position: 'relative'\n  }, style, {\n    width: width,\n    height: height\n  });\n  var visible = props.visible && (0,_utils_map_constraints__WEBPACK_IMPORTED_MODULE_6__.checkVisibilityConstraints)(props.viewState || props, visibilityConstraints);\n  var mapStyle = Object.assign({}, CONTAINER_STYLE, {\n    visibility: visible ? 'inherit' : 'hidden'\n  });\n  return react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"div\", {\n    key: \"map-container\",\n    ref: containerRef,\n    style: mapContainerStyle\n  }, react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"div\", {\n    key: \"map-mapbox\",\n    ref: mapDivRef,\n    style: mapStyle,\n    className: className\n  }), overlays, !accessTokenValid && !props.disableTokenWarning && react__WEBPACK_IMPORTED_MODULE_1__.createElement(NoTokenWarning, null));\n});\n\nStaticMap.supported = function () {\n  return _utils_mapboxgl__WEBPACK_IMPORTED_MODULE_5__[\"default\"] && _utils_mapboxgl__WEBPACK_IMPORTED_MODULE_5__[\"default\"].supported();\n};\n\nStaticMap.propTypes = propTypes;\nStaticMap.defaultProps = defaultProps;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (StaticMap);\n//# sourceMappingURL=static-map.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwLWdsL2Rpc3QvZXNtL2NvbXBvbmVudHMvc3RhdGljLW1hcC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3VwZXJzZXQvLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwLWdsL2Rpc3QvZXNtL2NvbXBvbmVudHMvc3RhdGljLW1hcC5qcz8xOWM4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBfc2xpY2VkVG9BcnJheSBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vc2xpY2VkVG9BcnJheVwiO1xuaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHlcIjtcblxuZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VSZWYsIHVzZUNhbGxiYWNrLCB1c2VDb250ZXh0LCB1c2VJbXBlcmF0aXZlSGFuZGxlLCBmb3J3YXJkUmVmIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0ICogYXMgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IFdlYk1lcmNhdG9yVmlld3BvcnQgZnJvbSAndmlld3BvcnQtbWVyY2F0b3ItcHJvamVjdCc7XG5pbXBvcnQgUmVzaXplT2JzZXJ2ZXIgZnJvbSAncmVzaXplLW9ic2VydmVyLXBvbHlmaWxsJztcbmltcG9ydCBNYXBib3ggZnJvbSAnLi4vbWFwYm94L21hcGJveCc7XG5pbXBvcnQgbWFwYm94Z2wgZnJvbSAnLi4vdXRpbHMvbWFwYm94Z2wnO1xuaW1wb3J0IHsgY2hlY2tWaXNpYmlsaXR5Q29uc3RyYWludHMgfSBmcm9tICcuLi91dGlscy9tYXAtY29uc3RyYWludHMnO1xuaW1wb3J0IHsgTUFQQk9YX0xJTUlUUyB9IGZyb20gJy4uL3V0aWxzL21hcC1zdGF0ZSc7XG5pbXBvcnQgTWFwQ29udGV4dCwgeyBNYXBDb250ZXh0UHJvdmlkZXIgfSBmcm9tICcuL21hcC1jb250ZXh0JztcbmltcG9ydCB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0IGZyb20gJy4uL3V0aWxzL3VzZS1pc29tb3JwaGljLWxheW91dC1lZmZlY3QnO1xuaW1wb3J0IHsgZ2V0VGVycmFpbkVsZXZhdGlvbiB9IGZyb20gJy4uL3V0aWxzL3RlcnJhaW4nO1xudmFyIFRPS0VOX0RPQ19VUkwgPSAnaHR0cHM6Ly92aXNnbC5naXRodWIuaW8vcmVhY3QtbWFwLWdsL2RvY3MvZ2V0LXN0YXJ0ZWQvbWFwYm94LXRva2Vucyc7XG52YXIgTk9fVE9LRU5fV0FSTklORyA9ICdBIHZhbGlkIEFQSSBhY2Nlc3MgdG9rZW4gaXMgcmVxdWlyZWQgdG8gdXNlIE1hcGJveCBkYXRhJztcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRWaWV3cG9ydChfcmVmKSB7XG4gIHZhciBtYXAgPSBfcmVmLm1hcCxcbiAgICAgIHByb3BzID0gX3JlZi5wcm9wcyxcbiAgICAgIHdpZHRoID0gX3JlZi53aWR0aCxcbiAgICAgIGhlaWdodCA9IF9yZWYuaGVpZ2h0O1xuXG4gIHZhciB2aWV3cG9ydFByb3BzID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHByb3BzKSwgcHJvcHMudmlld1N0YXRlKSwge30sIHtcbiAgICB3aWR0aDogd2lkdGgsXG4gICAgaGVpZ2h0OiBoZWlnaHRcbiAgfSk7XG5cbiAgdmlld3BvcnRQcm9wcy5wb3NpdGlvbiA9IFswLCAwLCBnZXRUZXJyYWluRWxldmF0aW9uKG1hcCwgdmlld3BvcnRQcm9wcyldO1xuICByZXR1cm4gbmV3IFdlYk1lcmNhdG9yVmlld3BvcnQodmlld3BvcnRQcm9wcyk7XG59XG52YXIgVU5BVVRIT1JJWkVEX0VSUk9SX0NPREUgPSA0MDE7XG52YXIgQ09OVEFJTkVSX1NUWUxFID0ge1xuICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgd2lkdGg6ICcxMDAlJyxcbiAgaGVpZ2h0OiAnMTAwJScsXG4gIG92ZXJmbG93OiAnaGlkZGVuJ1xufTtcbnZhciBwcm9wVHlwZXMgPSBPYmplY3QuYXNzaWduKHt9LCBNYXBib3gucHJvcFR5cGVzLCB7XG4gIHdpZHRoOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMubnVtYmVyLCBQcm9wVHlwZXMuc3RyaW5nXSksXG4gIGhlaWdodDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm51bWJlciwgUHJvcFR5cGVzLnN0cmluZ10pLFxuICBvblJlc2l6ZTogUHJvcFR5cGVzLmZ1bmMsXG4gIGRpc2FibGVUb2tlbldhcm5pbmc6IFByb3BUeXBlcy5ib29sLFxuICB2aXNpYmxlOiBQcm9wVHlwZXMuYm9vbCxcbiAgY2xhc3NOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBzdHlsZTogUHJvcFR5cGVzLm9iamVjdCxcbiAgdmlzaWJpbGl0eUNvbnN0cmFpbnRzOiBQcm9wVHlwZXMub2JqZWN0XG59KTtcbnZhciBkZWZhdWx0UHJvcHMgPSBPYmplY3QuYXNzaWduKHt9LCBNYXBib3guZGVmYXVsdFByb3BzLCB7XG4gIGRpc2FibGVUb2tlbldhcm5pbmc6IGZhbHNlLFxuICB2aXNpYmxlOiB0cnVlLFxuICBvblJlc2l6ZTogbm9vcCxcbiAgY2xhc3NOYW1lOiAnJyxcbiAgc3R5bGU6IG51bGwsXG4gIHZpc2liaWxpdHlDb25zdHJhaW50czogTUFQQk9YX0xJTUlUU1xufSk7XG5cbmZ1bmN0aW9uIE5vVG9rZW5XYXJuaW5nKCkge1xuICB2YXIgc3R5bGUgPSB7XG4gICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgbGVmdDogMCxcbiAgICB0b3A6IDBcbiAgfTtcbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGtleTogXCJ3YXJuaW5nXCIsXG4gICAgaWQ6IFwibm8tdG9rZW4td2FybmluZ1wiLFxuICAgIHN0eWxlOiBzdHlsZVxuICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiaDNcIiwge1xuICAgIGtleTogXCJoZWFkZXJcIlxuICB9LCBOT19UT0tFTl9XQVJOSU5HKSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAga2V5OiBcInRleHRcIlxuICB9LCBcIkZvciBpbmZvcm1hdGlvbiBvbiBzZXR0aW5nIHVwIHlvdXIgYmFzZW1hcCwgcmVhZFwiKSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImFcIiwge1xuICAgIGtleTogXCJsaW5rXCIsXG4gICAgaHJlZjogVE9LRU5fRE9DX1VSTFxuICB9LCBcIk5vdGUgb24gTWFwIFRva2Vuc1wiKSk7XG59XG5cbmZ1bmN0aW9uIGdldFJlZkhhbmRsZXMobWFwYm94UmVmKSB7XG4gIHJldHVybiB7XG4gICAgZ2V0TWFwOiBmdW5jdGlvbiBnZXRNYXAoKSB7XG4gICAgICByZXR1cm4gbWFwYm94UmVmLmN1cnJlbnQgJiYgbWFwYm94UmVmLmN1cnJlbnQuZ2V0TWFwKCk7XG4gICAgfSxcbiAgICBxdWVyeVJlbmRlcmVkRmVhdHVyZXM6IGZ1bmN0aW9uIHF1ZXJ5UmVuZGVyZWRGZWF0dXJlcyhnZW9tZXRyeSkge1xuICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgICAgdmFyIG1hcCA9IG1hcGJveFJlZi5jdXJyZW50ICYmIG1hcGJveFJlZi5jdXJyZW50LmdldE1hcCgpO1xuICAgICAgcmV0dXJuIG1hcCAmJiBtYXAucXVlcnlSZW5kZXJlZEZlYXR1cmVzKGdlb21ldHJ5LCBvcHRpb25zKTtcbiAgICB9XG4gIH07XG59XG5cbnZhciBTdGF0aWNNYXAgPSBmb3J3YXJkUmVmKGZ1bmN0aW9uIChwcm9wcywgcmVmKSB7XG4gIHZhciBfdXNlU3RhdGUgPSB1c2VTdGF0ZSh0cnVlKSxcbiAgICAgIF91c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUsIDIpLFxuICAgICAgYWNjZXNzVG9rZW5WYWxpZCA9IF91c2VTdGF0ZTJbMF0sXG4gICAgICBzZXRUb2tlblN0YXRlID0gX3VzZVN0YXRlMlsxXTtcblxuICB2YXIgX3VzZVN0YXRlMyA9IHVzZVN0YXRlKHtcbiAgICB3aWR0aDogMCxcbiAgICBoZWlnaHQ6IDBcbiAgfSksXG4gICAgICBfdXNlU3RhdGU0ID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlMywgMiksXG4gICAgICBzaXplID0gX3VzZVN0YXRlNFswXSxcbiAgICAgIHNldFNpemUgPSBfdXNlU3RhdGU0WzFdO1xuXG4gIHZhciBtYXBib3hSZWYgPSB1c2VSZWYobnVsbCk7XG4gIHZhciBtYXBEaXZSZWYgPSB1c2VSZWYobnVsbCk7XG4gIHZhciBjb250YWluZXJSZWYgPSB1c2VSZWYobnVsbCk7XG4gIHZhciBvdmVybGF5UmVmID0gdXNlUmVmKG51bGwpO1xuICB2YXIgY29udGV4dCA9IHVzZUNvbnRleHQoTWFwQ29udGV4dCk7XG4gIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGlmICghU3RhdGljTWFwLnN1cHBvcnRlZCgpKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHZhciBtYXBib3ggPSBuZXcgTWFwYm94KF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBwcm9wcyksIHNpemUpLCB7fSwge1xuICAgICAgbWFwYm94Z2w6IG1hcGJveGdsLFxuICAgICAgY29udGFpbmVyOiBtYXBEaXZSZWYuY3VycmVudCxcbiAgICAgIG9uRXJyb3I6IGZ1bmN0aW9uIG9uRXJyb3IoZXZ0KSB7XG4gICAgICAgIHZhciBzdGF0dXNDb2RlID0gZXZ0LmVycm9yICYmIGV2dC5lcnJvci5zdGF0dXMgfHwgZXZ0LnN0YXR1cztcblxuICAgICAgICBpZiAoc3RhdHVzQ29kZSA9PT0gVU5BVVRIT1JJWkVEX0VSUk9SX0NPREUgJiYgYWNjZXNzVG9rZW5WYWxpZCkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoTk9fVE9LRU5fV0FSTklORyk7XG4gICAgICAgICAgc2V0VG9rZW5TdGF0ZShmYWxzZSk7XG4gICAgICAgIH1cblxuICAgICAgICBwcm9wcy5vbkVycm9yKGV2dCk7XG4gICAgICB9XG4gICAgfSkpO1xuICAgIG1hcGJveFJlZi5jdXJyZW50ID0gbWFwYm94O1xuXG4gICAgaWYgKGNvbnRleHQgJiYgY29udGV4dC5zZXRNYXApIHtcbiAgICAgIGNvbnRleHQuc2V0TWFwKG1hcGJveC5nZXRNYXAoKSk7XG4gICAgfVxuXG4gICAgdmFyIHJlc2l6ZU9ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyKGZ1bmN0aW9uIChlbnRyaWVzKSB7XG4gICAgICBpZiAoZW50cmllc1swXS5jb250ZW50UmVjdCkge1xuICAgICAgICB2YXIgX2VudHJpZXMkMCRjb250ZW50UmVjID0gZW50cmllc1swXS5jb250ZW50UmVjdCxcbiAgICAgICAgICAgIF93aWR0aCA9IF9lbnRyaWVzJDAkY29udGVudFJlYy53aWR0aCxcbiAgICAgICAgICAgIF9oZWlnaHQgPSBfZW50cmllcyQwJGNvbnRlbnRSZWMuaGVpZ2h0O1xuICAgICAgICBzZXRTaXplKHtcbiAgICAgICAgICB3aWR0aDogX3dpZHRoLFxuICAgICAgICAgIGhlaWdodDogX2hlaWdodFxuICAgICAgICB9KTtcbiAgICAgICAgcHJvcHMub25SZXNpemUoe1xuICAgICAgICAgIHdpZHRoOiBfd2lkdGgsXG4gICAgICAgICAgaGVpZ2h0OiBfaGVpZ2h0XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJlc2l6ZU9ic2VydmVyLm9ic2VydmUoY29udGFpbmVyUmVmLmN1cnJlbnQpO1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBtYXBib3guZmluYWxpemUoKTtcbiAgICAgIG1hcGJveFJlZi5jdXJyZW50ID0gbnVsbDtcbiAgICAgIHJlc2l6ZU9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICB9O1xuICB9LCBbXSk7XG4gIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGlmIChtYXBib3hSZWYuY3VycmVudCkge1xuICAgICAgbWFwYm94UmVmLmN1cnJlbnQuc2V0UHJvcHMoX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBwcm9wcyksIHNpemUpKTtcbiAgICB9XG4gIH0pO1xuICB2YXIgbWFwID0gbWFwYm94UmVmLmN1cnJlbnQgJiYgbWFwYm94UmVmLmN1cnJlbnQuZ2V0TWFwKCk7XG4gIHVzZUltcGVyYXRpdmVIYW5kbGUocmVmLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGdldFJlZkhhbmRsZXMobWFwYm94UmVmKTtcbiAgfSwgW10pO1xuICB2YXIgcHJldmVudFNjcm9sbCA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChfcmVmMikge1xuICAgIHZhciB0YXJnZXQgPSBfcmVmMi50YXJnZXQ7XG5cbiAgICBpZiAodGFyZ2V0ID09PSBvdmVybGF5UmVmLmN1cnJlbnQpIHtcbiAgICAgIHRhcmdldC5zY3JvbGxUbygwLCAwKTtcbiAgICB9XG4gIH0sIFtdKTtcbiAgdmFyIG92ZXJsYXlzID0gbWFwICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTWFwQ29udGV4dFByb3ZpZGVyLCB7XG4gICAgdmFsdWU6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgY29udGV4dCksIHt9LCB7XG4gICAgICB2aWV3cG9ydDogY29udGV4dC52aWV3cG9ydCB8fCBnZXRWaWV3cG9ydChfb2JqZWN0U3ByZWFkKHtcbiAgICAgICAgbWFwOiBtYXAsXG4gICAgICAgIHByb3BzOiBwcm9wc1xuICAgICAgfSwgc2l6ZSkpLFxuICAgICAgbWFwOiBtYXAsXG4gICAgICBjb250YWluZXI6IGNvbnRleHQuY29udGFpbmVyIHx8IGNvbnRhaW5lclJlZi5jdXJyZW50XG4gICAgfSlcbiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAga2V5OiBcIm1hcC1vdmVybGF5c1wiLFxuICAgIGNsYXNzTmFtZTogXCJvdmVybGF5c1wiLFxuICAgIHJlZjogb3ZlcmxheVJlZixcbiAgICBzdHlsZTogQ09OVEFJTkVSX1NUWUxFLFxuICAgIG9uU2Nyb2xsOiBwcmV2ZW50U2Nyb2xsXG4gIH0sIHByb3BzLmNoaWxkcmVuKSk7XG4gIHZhciBjbGFzc05hbWUgPSBwcm9wcy5jbGFzc05hbWUsXG4gICAgICB3aWR0aCA9IHByb3BzLndpZHRoLFxuICAgICAgaGVpZ2h0ID0gcHJvcHMuaGVpZ2h0LFxuICAgICAgc3R5bGUgPSBwcm9wcy5zdHlsZSxcbiAgICAgIHZpc2liaWxpdHlDb25zdHJhaW50cyA9IHByb3BzLnZpc2liaWxpdHlDb25zdHJhaW50cztcbiAgdmFyIG1hcENvbnRhaW5lclN0eWxlID0gT2JqZWN0LmFzc2lnbih7XG4gICAgcG9zaXRpb246ICdyZWxhdGl2ZSdcbiAgfSwgc3R5bGUsIHtcbiAgICB3aWR0aDogd2lkdGgsXG4gICAgaGVpZ2h0OiBoZWlnaHRcbiAgfSk7XG4gIHZhciB2aXNpYmxlID0gcHJvcHMudmlzaWJsZSAmJiBjaGVja1Zpc2liaWxpdHlDb25zdHJhaW50cyhwcm9wcy52aWV3U3RhdGUgfHwgcHJvcHMsIHZpc2liaWxpdHlDb25zdHJhaW50cyk7XG4gIHZhciBtYXBTdHlsZSA9IE9iamVjdC5hc3NpZ24oe30sIENPTlRBSU5FUl9TVFlMRSwge1xuICAgIHZpc2liaWxpdHk6IHZpc2libGUgPyAnaW5oZXJpdCcgOiAnaGlkZGVuJ1xuICB9KTtcbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGtleTogXCJtYXAtY29udGFpbmVyXCIsXG4gICAgcmVmOiBjb250YWluZXJSZWYsXG4gICAgc3R5bGU6IG1hcENvbnRhaW5lclN0eWxlXG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGtleTogXCJtYXAtbWFwYm94XCIsXG4gICAgcmVmOiBtYXBEaXZSZWYsXG4gICAgc3R5bGU6IG1hcFN0eWxlLFxuICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lXG4gIH0pLCBvdmVybGF5cywgIWFjY2Vzc1Rva2VuVmFsaWQgJiYgIXByb3BzLmRpc2FibGVUb2tlbldhcm5pbmcgJiYgUmVhY3QuY3JlYXRlRWxlbWVudChOb1Rva2VuV2FybmluZywgbnVsbCkpO1xufSk7XG5cblN0YXRpY01hcC5zdXBwb3J0ZWQgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBtYXBib3hnbCAmJiBtYXBib3hnbC5zdXBwb3J0ZWQoKTtcbn07XG5cblN0YXRpY01hcC5wcm9wVHlwZXMgPSBwcm9wVHlwZXM7XG5TdGF0aWNNYXAuZGVmYXVsdFByb3BzID0gZGVmYXVsdFByb3BzO1xuZXhwb3J0IGRlZmF1bHQgU3RhdGljTWFwO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3RhdGljLW1hcC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/react-map-gl/dist/esm/components/static-map.js\n");

/***/ }),

/***/ "./node_modules/react-map-gl/dist/esm/components/use-map-control.js":
/*!**************************************************************************!*\
  !*** ./node_modules/react-map-gl/dist/esm/components/use-map-control.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ useMapControl),\n/* harmony export */   mapControlDefaultProps: () => (/* binding */ mapControlDefaultProps),\n/* harmony export */   mapControlPropTypes: () => (/* binding */ mapControlPropTypes)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _map_context__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./map-context */ \"./node_modules/react-map-gl/dist/esm/components/map-context.js\");\n\n\n\nvar mapControlDefaultProps = {\n  captureScroll: false,\n  captureDrag: true,\n  captureClick: true,\n  captureDoubleClick: true,\n  capturePointerMove: false\n};\nvar mapControlPropTypes = {\n  captureScroll: prop_types__WEBPACK_IMPORTED_MODULE_2__.bool,\n  captureDrag: prop_types__WEBPACK_IMPORTED_MODULE_2__.bool,\n  captureClick: prop_types__WEBPACK_IMPORTED_MODULE_2__.bool,\n  captureDoubleClick: prop_types__WEBPACK_IMPORTED_MODULE_2__.bool,\n  capturePointerMove: prop_types__WEBPACK_IMPORTED_MODULE_2__.bool\n};\n\nfunction onMount(thisRef) {\n  var ref = thisRef.containerRef.current;\n  var eventManager = thisRef.context.eventManager;\n\n  if (!ref || !eventManager) {\n    return undefined;\n  }\n\n  var events = {\n    wheel: function wheel(evt) {\n      var props = thisRef.props;\n\n      if (props.captureScroll) {\n        evt.stopPropagation();\n      }\n\n      if (props.onScroll) {\n        props.onScroll(evt, thisRef);\n      }\n    },\n    panstart: function panstart(evt) {\n      var props = thisRef.props;\n\n      if (props.captureDrag) {\n        evt.stopPropagation();\n      }\n\n      if (props.onDragStart) {\n        props.onDragStart(evt, thisRef);\n      }\n    },\n    anyclick: function anyclick(evt) {\n      var props = thisRef.props;\n\n      if (props.captureClick) {\n        evt.stopPropagation();\n      }\n\n      if (props.onNativeClick) {\n        props.onNativeClick(evt, thisRef);\n      }\n    },\n    click: function click(evt) {\n      var props = thisRef.props;\n\n      if (props.captureClick) {\n        evt.stopPropagation();\n      }\n\n      if (props.onClick) {\n        props.onClick(evt, thisRef);\n      }\n    },\n    dblclick: function dblclick(evt) {\n      var props = thisRef.props;\n\n      if (props.captureDoubleClick) {\n        evt.stopPropagation();\n      }\n\n      if (props.onDoubleClick) {\n        props.onDoubleClick(evt, thisRef);\n      }\n    },\n    pointermove: function pointermove(evt) {\n      var props = thisRef.props;\n\n      if (props.capturePointerMove) {\n        evt.stopPropagation();\n      }\n\n      if (props.onPointerMove) {\n        props.onPointerMove(evt, thisRef);\n      }\n    }\n  };\n  eventManager.watch(events, ref);\n  return function () {\n    eventManager.off(events);\n  };\n}\n\nfunction useMapControl() {\n  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var context = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_map_context__WEBPACK_IMPORTED_MODULE_1__[\"default\"]);\n  var containerRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n\n  var _thisRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)({\n    props: props,\n    state: {},\n    context: context,\n    containerRef: containerRef\n  });\n\n  var thisRef = _thisRef.current;\n  thisRef.props = props;\n  thisRef.context = context;\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n    return onMount(thisRef);\n  }, [context.eventManager]);\n  return thisRef;\n}\n//# sourceMappingURL=use-map-control.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwLWdsL2Rpc3QvZXNtL2NvbXBvbmVudHMvdXNlLW1hcC1jb250cm9sLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3VwZXJzZXQvLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwLWdsL2Rpc3QvZXNtL2NvbXBvbmVudHMvdXNlLW1hcC1jb250cm9sLmpzPzBjMzMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlQ29udGV4dCwgdXNlUmVmLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgKiBhcyBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgTWFwQ29udGV4dCBmcm9tICcuL21hcC1jb250ZXh0JztcbmV4cG9ydCB2YXIgbWFwQ29udHJvbERlZmF1bHRQcm9wcyA9IHtcbiAgY2FwdHVyZVNjcm9sbDogZmFsc2UsXG4gIGNhcHR1cmVEcmFnOiB0cnVlLFxuICBjYXB0dXJlQ2xpY2s6IHRydWUsXG4gIGNhcHR1cmVEb3VibGVDbGljazogdHJ1ZSxcbiAgY2FwdHVyZVBvaW50ZXJNb3ZlOiBmYWxzZVxufTtcbmV4cG9ydCB2YXIgbWFwQ29udHJvbFByb3BUeXBlcyA9IHtcbiAgY2FwdHVyZVNjcm9sbDogUHJvcFR5cGVzLmJvb2wsXG4gIGNhcHR1cmVEcmFnOiBQcm9wVHlwZXMuYm9vbCxcbiAgY2FwdHVyZUNsaWNrOiBQcm9wVHlwZXMuYm9vbCxcbiAgY2FwdHVyZURvdWJsZUNsaWNrOiBQcm9wVHlwZXMuYm9vbCxcbiAgY2FwdHVyZVBvaW50ZXJNb3ZlOiBQcm9wVHlwZXMuYm9vbFxufTtcblxuZnVuY3Rpb24gb25Nb3VudCh0aGlzUmVmKSB7XG4gIHZhciByZWYgPSB0aGlzUmVmLmNvbnRhaW5lclJlZi5jdXJyZW50O1xuICB2YXIgZXZlbnRNYW5hZ2VyID0gdGhpc1JlZi5jb250ZXh0LmV2ZW50TWFuYWdlcjtcblxuICBpZiAoIXJlZiB8fCAhZXZlbnRNYW5hZ2VyKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIHZhciBldmVudHMgPSB7XG4gICAgd2hlZWw6IGZ1bmN0aW9uIHdoZWVsKGV2dCkge1xuICAgICAgdmFyIHByb3BzID0gdGhpc1JlZi5wcm9wcztcblxuICAgICAgaWYgKHByb3BzLmNhcHR1cmVTY3JvbGwpIHtcbiAgICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgfVxuXG4gICAgICBpZiAocHJvcHMub25TY3JvbGwpIHtcbiAgICAgICAgcHJvcHMub25TY3JvbGwoZXZ0LCB0aGlzUmVmKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHBhbnN0YXJ0OiBmdW5jdGlvbiBwYW5zdGFydChldnQpIHtcbiAgICAgIHZhciBwcm9wcyA9IHRoaXNSZWYucHJvcHM7XG5cbiAgICAgIGlmIChwcm9wcy5jYXB0dXJlRHJhZykge1xuICAgICAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChwcm9wcy5vbkRyYWdTdGFydCkge1xuICAgICAgICBwcm9wcy5vbkRyYWdTdGFydChldnQsIHRoaXNSZWYpO1xuICAgICAgfVxuICAgIH0sXG4gICAgYW55Y2xpY2s6IGZ1bmN0aW9uIGFueWNsaWNrKGV2dCkge1xuICAgICAgdmFyIHByb3BzID0gdGhpc1JlZi5wcm9wcztcblxuICAgICAgaWYgKHByb3BzLmNhcHR1cmVDbGljaykge1xuICAgICAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChwcm9wcy5vbk5hdGl2ZUNsaWNrKSB7XG4gICAgICAgIHByb3BzLm9uTmF0aXZlQ2xpY2soZXZ0LCB0aGlzUmVmKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGNsaWNrOiBmdW5jdGlvbiBjbGljayhldnQpIHtcbiAgICAgIHZhciBwcm9wcyA9IHRoaXNSZWYucHJvcHM7XG5cbiAgICAgIGlmIChwcm9wcy5jYXB0dXJlQ2xpY2spIHtcbiAgICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgfVxuXG4gICAgICBpZiAocHJvcHMub25DbGljaykge1xuICAgICAgICBwcm9wcy5vbkNsaWNrKGV2dCwgdGhpc1JlZik7XG4gICAgICB9XG4gICAgfSxcbiAgICBkYmxjbGljazogZnVuY3Rpb24gZGJsY2xpY2soZXZ0KSB7XG4gICAgICB2YXIgcHJvcHMgPSB0aGlzUmVmLnByb3BzO1xuXG4gICAgICBpZiAocHJvcHMuY2FwdHVyZURvdWJsZUNsaWNrKSB7XG4gICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHByb3BzLm9uRG91YmxlQ2xpY2spIHtcbiAgICAgICAgcHJvcHMub25Eb3VibGVDbGljayhldnQsIHRoaXNSZWYpO1xuICAgICAgfVxuICAgIH0sXG4gICAgcG9pbnRlcm1vdmU6IGZ1bmN0aW9uIHBvaW50ZXJtb3ZlKGV2dCkge1xuICAgICAgdmFyIHByb3BzID0gdGhpc1JlZi5wcm9wcztcblxuICAgICAgaWYgKHByb3BzLmNhcHR1cmVQb2ludGVyTW92ZSkge1xuICAgICAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChwcm9wcy5vblBvaW50ZXJNb3ZlKSB7XG4gICAgICAgIHByb3BzLm9uUG9pbnRlck1vdmUoZXZ0LCB0aGlzUmVmKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIGV2ZW50TWFuYWdlci53YXRjaChldmVudHMsIHJlZik7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgZXZlbnRNYW5hZ2VyLm9mZihldmVudHMpO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1c2VNYXBDb250cm9sKCkge1xuICB2YXIgcHJvcHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICB2YXIgY29udGV4dCA9IHVzZUNvbnRleHQoTWFwQ29udGV4dCk7XG4gIHZhciBjb250YWluZXJSZWYgPSB1c2VSZWYobnVsbCk7XG5cbiAgdmFyIF90aGlzUmVmID0gdXNlUmVmKHtcbiAgICBwcm9wczogcHJvcHMsXG4gICAgc3RhdGU6IHt9LFxuICAgIGNvbnRleHQ6IGNvbnRleHQsXG4gICAgY29udGFpbmVyUmVmOiBjb250YWluZXJSZWZcbiAgfSk7XG5cbiAgdmFyIHRoaXNSZWYgPSBfdGhpc1JlZi5jdXJyZW50O1xuICB0aGlzUmVmLnByb3BzID0gcHJvcHM7XG4gIHRoaXNSZWYuY29udGV4dCA9IGNvbnRleHQ7XG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIG9uTW91bnQodGhpc1JlZik7XG4gIH0sIFtjb250ZXh0LmV2ZW50TWFuYWdlcl0pO1xuICByZXR1cm4gdGhpc1JlZjtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVzZS1tYXAtY29udHJvbC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/react-map-gl/dist/esm/components/use-map-control.js\n");

/***/ }),

/***/ "./node_modules/react-map-gl/dist/esm/index.js":
/*!*****************************************************!*\
  !*** ./node_modules/react-map-gl/dist/esm/index.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CanvasOverlay: () => (/* reexport safe */ _overlays_canvas_overlay__WEBPACK_IMPORTED_MODULE_12__[\"default\"]),\n/* harmony export */   StaticMap: () => (/* reexport safe */ _components_static_map__WEBPACK_IMPORTED_MODULE_1__[\"default\"]),\n/* harmony export */   \"default\": () => (/* reexport safe */ _components_interactive_map__WEBPACK_IMPORTED_MODULE_0__[\"default\"])\n/* harmony export */ });\n/* harmony import */ var _components_interactive_map__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./components/interactive-map */ \"./node_modules/react-map-gl/dist/esm/components/interactive-map.js\");\n/* harmony import */ var _components_static_map__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./components/static-map */ \"./node_modules/react-map-gl/dist/esm/components/static-map.js\");\n/* harmony import */ var _components_source__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./components/source */ \"./node_modules/react-map-gl/dist/esm/components/source.js\");\n/* harmony import */ var _components_layer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./components/layer */ \"./node_modules/react-map-gl/dist/esm/components/layer.js\");\n/* harmony import */ var _components_base_control__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./components/base-control */ \"./node_modules/react-map-gl/dist/esm/components/base-control.js\");\n/* harmony import */ var _components_marker__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./components/marker */ \"./node_modules/react-map-gl/dist/esm/components/marker.js\");\n/* harmony import */ var _components_popup__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./components/popup */ \"./node_modules/react-map-gl/dist/esm/components/popup.js\");\n/* harmony import */ var _components_attribution_control__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./components/attribution-control */ \"./node_modules/react-map-gl/dist/esm/components/attribution-control.js\");\n/* harmony import */ var _components_fullscreen_control__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./components/fullscreen-control */ \"./node_modules/react-map-gl/dist/esm/components/fullscreen-control.js\");\n/* harmony import */ var _components_geolocate_control__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./components/geolocate-control */ \"./node_modules/react-map-gl/dist/esm/components/geolocate-control.js\");\n/* harmony import */ var _components_navigation_control__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./components/navigation-control */ \"./node_modules/react-map-gl/dist/esm/components/navigation-control.js\");\n/* harmony import */ var _components_scale_control__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./components/scale-control */ \"./node_modules/react-map-gl/dist/esm/components/scale-control.js\");\n/* harmony import */ var _overlays_canvas_overlay__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./overlays/canvas-overlay */ \"./node_modules/react-map-gl/dist/esm/overlays/canvas-overlay.js\");\n/* harmony import */ var _overlays_html_overlay__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./overlays/html-overlay */ \"./node_modules/react-map-gl/dist/esm/overlays/html-overlay.js\");\n/* harmony import */ var _overlays_svg_overlay__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./overlays/svg-overlay */ \"./node_modules/react-map-gl/dist/esm/overlays/svg-overlay.js\");\n/* harmony import */ var _utils_transition_manager__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./utils/transition-manager */ \"./node_modules/react-map-gl/dist/esm/utils/transition-manager.js\");\n/* harmony import */ var _utils_transition__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./utils/transition */ \"./node_modules/react-map-gl/dist/esm/utils/transition/index.js\");\n/* harmony import */ var _utils_map_controller__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./utils/map-controller */ \"./node_modules/react-map-gl/dist/esm/utils/map-controller.js\");\n/* harmony import */ var viewport_mercator_project__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! viewport-mercator-project */ \"./node_modules/react-map-gl/node_modules/viewport-mercator-project/module.js\");\n/* harmony import */ var _utils_set_rtl_text_plugin__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./utils/set-rtl-text-plugin */ \"./node_modules/react-map-gl/dist/esm/utils/set-rtl-text-plugin.js\");\n/* harmony import */ var _components_map_context__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./components/map-context */ \"./node_modules/react-map-gl/dist/esm/components/map-context.js\");\n/* harmony import */ var _components_use_map_control__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./components/use-map-control */ \"./node_modules/react-map-gl/dist/esm/components/use-map-control.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwLWdsL2Rpc3QvZXNtL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3VwZXJzZXQvLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwLWdsL2Rpc3QvZXNtL2luZGV4LmpzPzUwZmQiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHsgZGVmYXVsdCB9IGZyb20gJy4vY29tcG9uZW50cy9pbnRlcmFjdGl2ZS1tYXAnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBJbnRlcmFjdGl2ZU1hcCB9IGZyb20gJy4vY29tcG9uZW50cy9pbnRlcmFjdGl2ZS1tYXAnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBTdGF0aWNNYXAgfSBmcm9tICcuL2NvbXBvbmVudHMvc3RhdGljLW1hcCc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIFNvdXJjZSB9IGZyb20gJy4vY29tcG9uZW50cy9zb3VyY2UnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBMYXllciB9IGZyb20gJy4vY29tcG9uZW50cy9sYXllcic7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEJhc2VDb250cm9sIH0gZnJvbSAnLi9jb21wb25lbnRzL2Jhc2UtY29udHJvbCc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIE1hcmtlciB9IGZyb20gJy4vY29tcG9uZW50cy9tYXJrZXInO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBQb3B1cCB9IGZyb20gJy4vY29tcG9uZW50cy9wb3B1cCc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEF0dHJpYnV0aW9uQ29udHJvbCB9IGZyb20gJy4vY29tcG9uZW50cy9hdHRyaWJ1dGlvbi1jb250cm9sJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRnVsbHNjcmVlbkNvbnRyb2wgfSBmcm9tICcuL2NvbXBvbmVudHMvZnVsbHNjcmVlbi1jb250cm9sJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgR2VvbG9jYXRlQ29udHJvbCB9IGZyb20gJy4vY29tcG9uZW50cy9nZW9sb2NhdGUtY29udHJvbCc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIE5hdmlnYXRpb25Db250cm9sIH0gZnJvbSAnLi9jb21wb25lbnRzL25hdmlnYXRpb24tY29udHJvbCc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIFNjYWxlQ29udHJvbCB9IGZyb20gJy4vY29tcG9uZW50cy9zY2FsZS1jb250cm9sJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ2FudmFzT3ZlcmxheSB9IGZyb20gJy4vb3ZlcmxheXMvY2FudmFzLW92ZXJsYXknO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBIVE1MT3ZlcmxheSB9IGZyb20gJy4vb3ZlcmxheXMvaHRtbC1vdmVybGF5JztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgU1ZHT3ZlcmxheSB9IGZyb20gJy4vb3ZlcmxheXMvc3ZnLW92ZXJsYXknO1xuZXhwb3J0IHsgVFJBTlNJVElPTl9FVkVOVFMgfSBmcm9tICcuL3V0aWxzL3RyYW5zaXRpb24tbWFuYWdlcic7XG5leHBvcnQgeyBUcmFuc2l0aW9uSW50ZXJwb2xhdG9yLCBMaW5lYXJJbnRlcnBvbGF0b3IsIFZpZXdwb3J0Rmx5VG9JbnRlcnBvbGF0b3IgYXMgRmx5VG9JbnRlcnBvbGF0b3IgfSBmcm9tICcuL3V0aWxzL3RyYW5zaXRpb24nO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBNYXBDb250cm9sbGVyIH0gZnJvbSAnLi91dGlscy9tYXAtY29udHJvbGxlcic7XG5leHBvcnQgeyBXZWJNZXJjYXRvclZpZXdwb3J0IH0gZnJvbSAndmlld3BvcnQtbWVyY2F0b3ItcHJvamVjdCc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHNldFJUTFRleHRQbHVnaW4gfSBmcm9tICcuL3V0aWxzL3NldC1ydGwtdGV4dC1wbHVnaW4nO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBNYXBDb250ZXh0IH0gZnJvbSAnLi9jb21wb25lbnRzL21hcC1jb250ZXh0JztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgX3VzZU1hcENvbnRyb2wgfSBmcm9tICcuL2NvbXBvbmVudHMvdXNlLW1hcC1jb250cm9sJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgX01hcENvbnRleHQgfSBmcm9tICcuL2NvbXBvbmVudHMvbWFwLWNvbnRleHQnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/react-map-gl/dist/esm/index.js\n");

/***/ }),

/***/ "./node_modules/react-map-gl/dist/esm/mapbox/mapbox.js":
/*!*************************************************************!*\
  !*** ./node_modules/react-map-gl/dist/esm/mapbox/mapbox.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Mapbox)\n/* harmony export */ });\n/* unused harmony export getAccessToken */\n/* harmony import */ var _babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/esm/classCallCheck */ \"./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/esm/createClass */ \"./node_modules/@babel/runtime/helpers/esm/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/esm/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _utils_globals__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/globals */ \"./node_modules/react-map-gl/dist/esm/utils/globals.js\");\n/* harmony import */ var _utils_style_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/style-utils */ \"./node_modules/react-map-gl/dist/esm/utils/style-utils.js\");\n/* provided dependency */ var process = __webpack_require__(/*! process/browser.js */ \"./node_modules/process/browser.js\");\n\n\n\n\n\n\n\nfunction noop() {}\n\nfunction defaultOnError(event) {\n  if (event) {\n    console.error(event.error);\n  }\n}\n\nvar propTypes = {\n  container: prop_types__WEBPACK_IMPORTED_MODULE_1__.object,\n  gl: prop_types__WEBPACK_IMPORTED_MODULE_1__.object,\n  mapboxApiAccessToken: prop_types__WEBPACK_IMPORTED_MODULE_1__.string,\n  mapboxApiUrl: prop_types__WEBPACK_IMPORTED_MODULE_1__.string,\n  attributionControl: prop_types__WEBPACK_IMPORTED_MODULE_1__.bool,\n  preserveDrawingBuffer: prop_types__WEBPACK_IMPORTED_MODULE_1__.bool,\n  reuseMaps: prop_types__WEBPACK_IMPORTED_MODULE_1__.bool,\n  transformRequest: prop_types__WEBPACK_IMPORTED_MODULE_1__.func,\n  mapOptions: prop_types__WEBPACK_IMPORTED_MODULE_1__.object,\n  mapStyle: prop_types__WEBPACK_IMPORTED_MODULE_1__.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_1__.string, prop_types__WEBPACK_IMPORTED_MODULE_1__.object]),\n  preventStyleDiffing: prop_types__WEBPACK_IMPORTED_MODULE_1__.bool,\n  visible: prop_types__WEBPACK_IMPORTED_MODULE_1__.bool,\n  asyncRender: prop_types__WEBPACK_IMPORTED_MODULE_1__.bool,\n  onLoad: prop_types__WEBPACK_IMPORTED_MODULE_1__.func,\n  onError: prop_types__WEBPACK_IMPORTED_MODULE_1__.func,\n  width: prop_types__WEBPACK_IMPORTED_MODULE_1__.number,\n  height: prop_types__WEBPACK_IMPORTED_MODULE_1__.number,\n  viewState: prop_types__WEBPACK_IMPORTED_MODULE_1__.object,\n  longitude: prop_types__WEBPACK_IMPORTED_MODULE_1__.number,\n  latitude: prop_types__WEBPACK_IMPORTED_MODULE_1__.number,\n  zoom: prop_types__WEBPACK_IMPORTED_MODULE_1__.number,\n  bearing: prop_types__WEBPACK_IMPORTED_MODULE_1__.number,\n  pitch: prop_types__WEBPACK_IMPORTED_MODULE_1__.number,\n  altitude: prop_types__WEBPACK_IMPORTED_MODULE_1__.number\n};\nvar defaultProps = {\n  container: _utils_globals__WEBPACK_IMPORTED_MODULE_0__.document.body,\n  mapboxApiAccessToken: getAccessToken(),\n  mapboxApiUrl: 'https://api.mapbox.com',\n  preserveDrawingBuffer: false,\n  attributionControl: true,\n  reuseMaps: false,\n  mapOptions: {},\n  mapStyle: 'mapbox://styles/mapbox/light-v8',\n  preventStyleDiffing: false,\n  visible: true,\n  asyncRender: false,\n  onLoad: noop,\n  onError: defaultOnError,\n  width: 0,\n  height: 0,\n  longitude: 0,\n  latitude: 0,\n  zoom: 0,\n  bearing: 0,\n  pitch: 0,\n  altitude: 1.5\n};\nfunction getAccessToken() {\n  var accessToken = null;\n\n  if (typeof window !== 'undefined' && window.location) {\n    var match = window.location.search.match(/access_token=([^&\\/]*)/);\n    accessToken = match && match[1];\n  }\n\n  if (!accessToken && typeof process !== 'undefined') {\n    accessToken = accessToken || process.env.MapboxAccessToken || process.env.REACT_APP_MAPBOX_ACCESS_TOKEN;\n  }\n\n  return accessToken || 'no-token';\n}\n\nfunction checkPropTypes(props) {\n  var component = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'component';\n\n  if (props.debug) {\n    prop_types__WEBPACK_IMPORTED_MODULE_1__.checkPropTypes(propTypes, props, 'prop', component);\n  }\n}\n\nvar Mapbox = function () {\n  function Mapbox(props) {\n    var _this = this;\n\n    (0,_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, Mapbox);\n\n    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(this, \"props\", defaultProps);\n\n    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(this, \"width\", 0);\n\n    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(this, \"height\", 0);\n\n    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(this, \"_fireLoadEvent\", function () {\n      _this.props.onLoad({\n        type: 'load',\n        target: _this._map\n      });\n    });\n\n    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(this, \"_handleError\", function (event) {\n      _this.props.onError(event);\n    });\n\n    if (!props.mapboxgl) {\n      throw new Error('Mapbox not available');\n    }\n\n    this.mapboxgl = props.mapboxgl;\n\n    if (!Mapbox.initialized) {\n      Mapbox.initialized = true;\n\n      this._checkStyleSheet(this.mapboxgl.version);\n    }\n\n    this._initialize(props);\n  }\n\n  (0,_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(Mapbox, [{\n    key: \"finalize\",\n    value: function finalize() {\n      this._destroy();\n\n      return this;\n    }\n  }, {\n    key: \"setProps\",\n    value: function setProps(props) {\n      this._update(this.props, props);\n\n      return this;\n    }\n  }, {\n    key: \"redraw\",\n    value: function redraw() {\n      var map = this._map;\n\n      if (map.style) {\n        if (map._frame) {\n          map._frame.cancel();\n\n          map._frame = null;\n        }\n\n        map._render();\n      }\n    }\n  }, {\n    key: \"getMap\",\n    value: function getMap() {\n      return this._map;\n    }\n  }, {\n    key: \"_reuse\",\n    value: function _reuse(props) {\n      this._map = Mapbox.savedMap;\n\n      var oldContainer = this._map.getContainer();\n\n      var newContainer = props.container;\n      newContainer.classList.add('mapboxgl-map');\n\n      while (oldContainer.childNodes.length > 0) {\n        newContainer.appendChild(oldContainer.childNodes[0]);\n      }\n\n      this._map._container = newContainer;\n      Mapbox.savedMap = null;\n\n      if (props.mapStyle) {\n        this._map.setStyle((0,_utils_style_utils__WEBPACK_IMPORTED_MODULE_5__.normalizeStyle)(props.mapStyle), {\n          diff: false\n        });\n      }\n\n      if (this._map.isStyleLoaded()) {\n        this._fireLoadEvent();\n      } else {\n        this._map.once('styledata', this._fireLoadEvent);\n      }\n    }\n  }, {\n    key: \"_create\",\n    value: function _create(props) {\n      if (props.reuseMaps && Mapbox.savedMap) {\n        this._reuse(props);\n      } else {\n        if (props.gl) {\n          var getContext = HTMLCanvasElement.prototype.getContext;\n\n          HTMLCanvasElement.prototype.getContext = function () {\n            HTMLCanvasElement.prototype.getContext = getContext;\n            return props.gl;\n          };\n        }\n\n        var mapOptions = {\n          container: props.container,\n          center: [0, 0],\n          zoom: 8,\n          pitch: 0,\n          bearing: 0,\n          maxZoom: 24,\n          style: (0,_utils_style_utils__WEBPACK_IMPORTED_MODULE_5__.normalizeStyle)(props.mapStyle),\n          interactive: false,\n          trackResize: false,\n          attributionControl: props.attributionControl,\n          preserveDrawingBuffer: props.preserveDrawingBuffer\n        };\n\n        if (props.transformRequest) {\n          mapOptions.transformRequest = props.transformRequest;\n        }\n\n        this._map = new this.mapboxgl.Map(Object.assign({}, mapOptions, props.mapOptions));\n\n        this._map.once('load', this._fireLoadEvent);\n\n        this._map.on('error', this._handleError);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"_destroy\",\n    value: function _destroy() {\n      if (!this._map) {\n        return;\n      }\n\n      if (this.props.reuseMaps && !Mapbox.savedMap) {\n        Mapbox.savedMap = this._map;\n\n        this._map.off('load', this._fireLoadEvent);\n\n        this._map.off('error', this._handleError);\n\n        this._map.off('styledata', this._fireLoadEvent);\n      } else {\n        this._map.remove();\n      }\n\n      this._map = null;\n    }\n  }, {\n    key: \"_initialize\",\n    value: function _initialize(props) {\n      var _this2 = this;\n\n      props = Object.assign({}, defaultProps, props);\n      checkPropTypes(props, 'Mapbox');\n      this.mapboxgl.accessToken = props.mapboxApiAccessToken || defaultProps.mapboxApiAccessToken;\n      this.mapboxgl.baseApiUrl = props.mapboxApiUrl;\n\n      this._create(props);\n\n      var _props = props,\n          container = _props.container;\n      Object.defineProperty(container, 'offsetWidth', {\n        configurable: true,\n        get: function get() {\n          return _this2.width;\n        }\n      });\n      Object.defineProperty(container, 'clientWidth', {\n        configurable: true,\n        get: function get() {\n          return _this2.width;\n        }\n      });\n      Object.defineProperty(container, 'offsetHeight', {\n        configurable: true,\n        get: function get() {\n          return _this2.height;\n        }\n      });\n      Object.defineProperty(container, 'clientHeight', {\n        configurable: true,\n        get: function get() {\n          return _this2.height;\n        }\n      });\n\n      var canvas = this._map.getCanvas();\n\n      if (canvas) {\n        canvas.style.outline = 'none';\n      }\n\n      this._updateMapViewport({}, props);\n\n      this._updateMapSize({}, props);\n\n      this.props = props;\n    }\n  }, {\n    key: \"_update\",\n    value: function _update(oldProps, newProps) {\n      if (!this._map) {\n        return;\n      }\n\n      newProps = Object.assign({}, this.props, newProps);\n      checkPropTypes(newProps, 'Mapbox');\n\n      var viewportChanged = this._updateMapViewport(oldProps, newProps);\n\n      var sizeChanged = this._updateMapSize(oldProps, newProps);\n\n      this._updateMapStyle(oldProps, newProps);\n\n      if (!newProps.asyncRender && (viewportChanged || sizeChanged)) {\n        this.redraw();\n      }\n\n      this.props = newProps;\n    }\n  }, {\n    key: \"_updateMapStyle\",\n    value: function _updateMapStyle(oldProps, newProps) {\n      var styleChanged = oldProps.mapStyle !== newProps.mapStyle;\n\n      if (styleChanged) {\n        this._map.setStyle((0,_utils_style_utils__WEBPACK_IMPORTED_MODULE_5__.normalizeStyle)(newProps.mapStyle), {\n          diff: !newProps.preventStyleDiffing\n        });\n      }\n    }\n  }, {\n    key: \"_updateMapSize\",\n    value: function _updateMapSize(oldProps, newProps) {\n      var sizeChanged = oldProps.width !== newProps.width || oldProps.height !== newProps.height;\n\n      if (sizeChanged) {\n        this.width = newProps.width;\n        this.height = newProps.height;\n\n        this._map.resize();\n      }\n\n      return sizeChanged;\n    }\n  }, {\n    key: \"_updateMapViewport\",\n    value: function _updateMapViewport(oldProps, newProps) {\n      var oldViewState = this._getViewState(oldProps);\n\n      var newViewState = this._getViewState(newProps);\n\n      var viewportChanged = newViewState.latitude !== oldViewState.latitude || newViewState.longitude !== oldViewState.longitude || newViewState.zoom !== oldViewState.zoom || newViewState.pitch !== oldViewState.pitch || newViewState.bearing !== oldViewState.bearing || newViewState.altitude !== oldViewState.altitude;\n\n      if (viewportChanged) {\n        this._map.jumpTo(this._viewStateToMapboxProps(newViewState));\n\n        if (newViewState.altitude !== oldViewState.altitude) {\n          this._map.transform.altitude = newViewState.altitude;\n        }\n      }\n\n      return viewportChanged;\n    }\n  }, {\n    key: \"_getViewState\",\n    value: function _getViewState(props) {\n      var _ref = props.viewState || props,\n          longitude = _ref.longitude,\n          latitude = _ref.latitude,\n          zoom = _ref.zoom,\n          _ref$pitch = _ref.pitch,\n          pitch = _ref$pitch === void 0 ? 0 : _ref$pitch,\n          _ref$bearing = _ref.bearing,\n          bearing = _ref$bearing === void 0 ? 0 : _ref$bearing,\n          _ref$altitude = _ref.altitude,\n          altitude = _ref$altitude === void 0 ? 1.5 : _ref$altitude;\n\n      return {\n        longitude: longitude,\n        latitude: latitude,\n        zoom: zoom,\n        pitch: pitch,\n        bearing: bearing,\n        altitude: altitude\n      };\n    }\n  }, {\n    key: \"_checkStyleSheet\",\n    value: function _checkStyleSheet() {\n      var mapboxVersion = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '0.47.0';\n\n      if (typeof _utils_globals__WEBPACK_IMPORTED_MODULE_0__.document === 'undefined') {\n        return;\n      }\n\n      try {\n        var testElement = _utils_globals__WEBPACK_IMPORTED_MODULE_0__.document.createElement('div');\n        testElement.className = 'mapboxgl-map';\n        testElement.style.display = 'none';\n        _utils_globals__WEBPACK_IMPORTED_MODULE_0__.document.body.appendChild(testElement);\n        var isCssLoaded = window.getComputedStyle(testElement).position !== 'static';\n\n        if (!isCssLoaded) {\n          var link = _utils_globals__WEBPACK_IMPORTED_MODULE_0__.document.createElement('link');\n          link.setAttribute('rel', 'stylesheet');\n          link.setAttribute('type', 'text/css');\n          link.setAttribute('href', \"https://api.tiles.mapbox.com/mapbox-gl-js/v\".concat(mapboxVersion, \"/mapbox-gl.css\"));\n          _utils_globals__WEBPACK_IMPORTED_MODULE_0__.document.head.appendChild(link);\n        }\n      } catch (error) {}\n    }\n  }, {\n    key: \"_viewStateToMapboxProps\",\n    value: function _viewStateToMapboxProps(viewState) {\n      return {\n        center: [viewState.longitude, viewState.latitude],\n        zoom: viewState.zoom,\n        bearing: viewState.bearing,\n        pitch: viewState.pitch\n      };\n    }\n  }]);\n\n  return Mapbox;\n}();\n\n(0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(Mapbox, \"initialized\", false);\n\n(0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(Mapbox, \"propTypes\", propTypes);\n\n(0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(Mapbox, \"defaultProps\", defaultProps);\n\n(0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(Mapbox, \"savedMap\", null);\n\n\n//# sourceMappingURL=mapbox.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwLWdsL2Rpc3QvZXNtL21hcGJveC9tYXBib3guanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3VwZXJzZXQvLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwLWdsL2Rpc3QvZXNtL21hcGJveC9tYXBib3guanM/ZWE5MyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVja1wiO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3NcIjtcbmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5XCI7XG5pbXBvcnQgKiBhcyBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgeyBkb2N1bWVudCB9IGZyb20gJy4uL3V0aWxzL2dsb2JhbHMnO1xuaW1wb3J0IHsgbm9ybWFsaXplU3R5bGUgfSBmcm9tICcuLi91dGlscy9zdHlsZS11dGlscyc7XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5mdW5jdGlvbiBkZWZhdWx0T25FcnJvcihldmVudCkge1xuICBpZiAoZXZlbnQpIHtcbiAgICBjb25zb2xlLmVycm9yKGV2ZW50LmVycm9yKTtcbiAgfVxufVxuXG52YXIgcHJvcFR5cGVzID0ge1xuICBjb250YWluZXI6IFByb3BUeXBlcy5vYmplY3QsXG4gIGdsOiBQcm9wVHlwZXMub2JqZWN0LFxuICBtYXBib3hBcGlBY2Nlc3NUb2tlbjogUHJvcFR5cGVzLnN0cmluZyxcbiAgbWFwYm94QXBpVXJsOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBhdHRyaWJ1dGlvbkNvbnRyb2w6IFByb3BUeXBlcy5ib29sLFxuICBwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6IFByb3BUeXBlcy5ib29sLFxuICByZXVzZU1hcHM6IFByb3BUeXBlcy5ib29sLFxuICB0cmFuc2Zvcm1SZXF1ZXN0OiBQcm9wVHlwZXMuZnVuYyxcbiAgbWFwT3B0aW9uczogUHJvcFR5cGVzLm9iamVjdCxcbiAgbWFwU3R5bGU6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5zdHJpbmcsIFByb3BUeXBlcy5vYmplY3RdKSxcbiAgcHJldmVudFN0eWxlRGlmZmluZzogUHJvcFR5cGVzLmJvb2wsXG4gIHZpc2libGU6IFByb3BUeXBlcy5ib29sLFxuICBhc3luY1JlbmRlcjogUHJvcFR5cGVzLmJvb2wsXG4gIG9uTG9hZDogUHJvcFR5cGVzLmZ1bmMsXG4gIG9uRXJyb3I6IFByb3BUeXBlcy5mdW5jLFxuICB3aWR0aDogUHJvcFR5cGVzLm51bWJlcixcbiAgaGVpZ2h0OiBQcm9wVHlwZXMubnVtYmVyLFxuICB2aWV3U3RhdGU6IFByb3BUeXBlcy5vYmplY3QsXG4gIGxvbmdpdHVkZTogUHJvcFR5cGVzLm51bWJlcixcbiAgbGF0aXR1ZGU6IFByb3BUeXBlcy5udW1iZXIsXG4gIHpvb206IFByb3BUeXBlcy5udW1iZXIsXG4gIGJlYXJpbmc6IFByb3BUeXBlcy5udW1iZXIsXG4gIHBpdGNoOiBQcm9wVHlwZXMubnVtYmVyLFxuICBhbHRpdHVkZTogUHJvcFR5cGVzLm51bWJlclxufTtcbnZhciBkZWZhdWx0UHJvcHMgPSB7XG4gIGNvbnRhaW5lcjogZG9jdW1lbnQuYm9keSxcbiAgbWFwYm94QXBpQWNjZXNzVG9rZW46IGdldEFjY2Vzc1Rva2VuKCksXG4gIG1hcGJveEFwaVVybDogJ2h0dHBzOi8vYXBpLm1hcGJveC5jb20nLFxuICBwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6IGZhbHNlLFxuICBhdHRyaWJ1dGlvbkNvbnRyb2w6IHRydWUsXG4gIHJldXNlTWFwczogZmFsc2UsXG4gIG1hcE9wdGlvbnM6IHt9LFxuICBtYXBTdHlsZTogJ21hcGJveDovL3N0eWxlcy9tYXBib3gvbGlnaHQtdjgnLFxuICBwcmV2ZW50U3R5bGVEaWZmaW5nOiBmYWxzZSxcbiAgdmlzaWJsZTogdHJ1ZSxcbiAgYXN5bmNSZW5kZXI6IGZhbHNlLFxuICBvbkxvYWQ6IG5vb3AsXG4gIG9uRXJyb3I6IGRlZmF1bHRPbkVycm9yLFxuICB3aWR0aDogMCxcbiAgaGVpZ2h0OiAwLFxuICBsb25naXR1ZGU6IDAsXG4gIGxhdGl0dWRlOiAwLFxuICB6b29tOiAwLFxuICBiZWFyaW5nOiAwLFxuICBwaXRjaDogMCxcbiAgYWx0aXR1ZGU6IDEuNVxufTtcbmV4cG9ydCBmdW5jdGlvbiBnZXRBY2Nlc3NUb2tlbigpIHtcbiAgdmFyIGFjY2Vzc1Rva2VuID0gbnVsbDtcblxuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmxvY2F0aW9uKSB7XG4gICAgdmFyIG1hdGNoID0gd2luZG93LmxvY2F0aW9uLnNlYXJjaC5tYXRjaCgvYWNjZXNzX3Rva2VuPShbXiZcXC9dKikvKTtcbiAgICBhY2Nlc3NUb2tlbiA9IG1hdGNoICYmIG1hdGNoWzFdO1xuICB9XG5cbiAgaWYgKCFhY2Nlc3NUb2tlbiAmJiB0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBhY2Nlc3NUb2tlbiA9IGFjY2Vzc1Rva2VuIHx8IHByb2Nlc3MuZW52Lk1hcGJveEFjY2Vzc1Rva2VuIHx8IHByb2Nlc3MuZW52LlJFQUNUX0FQUF9NQVBCT1hfQUNDRVNTX1RPS0VOO1xuICB9XG5cbiAgcmV0dXJuIGFjY2Vzc1Rva2VuIHx8ICduby10b2tlbic7XG59XG5cbmZ1bmN0aW9uIGNoZWNrUHJvcFR5cGVzKHByb3BzKSB7XG4gIHZhciBjb21wb25lbnQgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6ICdjb21wb25lbnQnO1xuXG4gIGlmIChwcm9wcy5kZWJ1Zykge1xuICAgIFByb3BUeXBlcy5jaGVja1Byb3BUeXBlcyhwcm9wVHlwZXMsIHByb3BzLCAncHJvcCcsIGNvbXBvbmVudCk7XG4gIH1cbn1cblxudmFyIE1hcGJveCA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gTWFwYm94KHByb3BzKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNYXBib3gpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwicHJvcHNcIiwgZGVmYXVsdFByb3BzKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIndpZHRoXCIsIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiaGVpZ2h0XCIsIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX2ZpcmVMb2FkRXZlbnRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMucHJvcHMub25Mb2FkKHtcbiAgICAgICAgdHlwZTogJ2xvYWQnLFxuICAgICAgICB0YXJnZXQ6IF90aGlzLl9tYXBcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX2hhbmRsZUVycm9yXCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgX3RoaXMucHJvcHMub25FcnJvcihldmVudCk7XG4gICAgfSk7XG5cbiAgICBpZiAoIXByb3BzLm1hcGJveGdsKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01hcGJveCBub3QgYXZhaWxhYmxlJyk7XG4gICAgfVxuXG4gICAgdGhpcy5tYXBib3hnbCA9IHByb3BzLm1hcGJveGdsO1xuXG4gICAgaWYgKCFNYXBib3guaW5pdGlhbGl6ZWQpIHtcbiAgICAgIE1hcGJveC5pbml0aWFsaXplZCA9IHRydWU7XG5cbiAgICAgIHRoaXMuX2NoZWNrU3R5bGVTaGVldCh0aGlzLm1hcGJveGdsLnZlcnNpb24pO1xuICAgIH1cblxuICAgIHRoaXMuX2luaXRpYWxpemUocHJvcHMpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKE1hcGJveCwgW3tcbiAgICBrZXk6IFwiZmluYWxpemVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZmluYWxpemUoKSB7XG4gICAgICB0aGlzLl9kZXN0cm95KCk7XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzZXRQcm9wc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRQcm9wcyhwcm9wcykge1xuICAgICAgdGhpcy5fdXBkYXRlKHRoaXMucHJvcHMsIHByb3BzKTtcblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlZHJhd1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZWRyYXcoKSB7XG4gICAgICB2YXIgbWFwID0gdGhpcy5fbWFwO1xuXG4gICAgICBpZiAobWFwLnN0eWxlKSB7XG4gICAgICAgIGlmIChtYXAuX2ZyYW1lKSB7XG4gICAgICAgICAgbWFwLl9mcmFtZS5jYW5jZWwoKTtcblxuICAgICAgICAgIG1hcC5fZnJhbWUgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgbWFwLl9yZW5kZXIoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0TWFwXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldE1hcCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9tYXA7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9yZXVzZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfcmV1c2UocHJvcHMpIHtcbiAgICAgIHRoaXMuX21hcCA9IE1hcGJveC5zYXZlZE1hcDtcblxuICAgICAgdmFyIG9sZENvbnRhaW5lciA9IHRoaXMuX21hcC5nZXRDb250YWluZXIoKTtcblxuICAgICAgdmFyIG5ld0NvbnRhaW5lciA9IHByb3BzLmNvbnRhaW5lcjtcbiAgICAgIG5ld0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdtYXBib3hnbC1tYXAnKTtcblxuICAgICAgd2hpbGUgKG9sZENvbnRhaW5lci5jaGlsZE5vZGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgbmV3Q29udGFpbmVyLmFwcGVuZENoaWxkKG9sZENvbnRhaW5lci5jaGlsZE5vZGVzWzBdKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fbWFwLl9jb250YWluZXIgPSBuZXdDb250YWluZXI7XG4gICAgICBNYXBib3guc2F2ZWRNYXAgPSBudWxsO1xuXG4gICAgICBpZiAocHJvcHMubWFwU3R5bGUpIHtcbiAgICAgICAgdGhpcy5fbWFwLnNldFN0eWxlKG5vcm1hbGl6ZVN0eWxlKHByb3BzLm1hcFN0eWxlKSwge1xuICAgICAgICAgIGRpZmY6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5fbWFwLmlzU3R5bGVMb2FkZWQoKSkge1xuICAgICAgICB0aGlzLl9maXJlTG9hZEV2ZW50KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9tYXAub25jZSgnc3R5bGVkYXRhJywgdGhpcy5fZmlyZUxvYWRFdmVudCk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9jcmVhdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2NyZWF0ZShwcm9wcykge1xuICAgICAgaWYgKHByb3BzLnJldXNlTWFwcyAmJiBNYXBib3guc2F2ZWRNYXApIHtcbiAgICAgICAgdGhpcy5fcmV1c2UocHJvcHMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHByb3BzLmdsKSB7XG4gICAgICAgICAgdmFyIGdldENvbnRleHQgPSBIVE1MQ2FudmFzRWxlbWVudC5wcm90b3R5cGUuZ2V0Q29udGV4dDtcblxuICAgICAgICAgIEhUTUxDYW52YXNFbGVtZW50LnByb3RvdHlwZS5nZXRDb250ZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgSFRNTENhbnZhc0VsZW1lbnQucHJvdG90eXBlLmdldENvbnRleHQgPSBnZXRDb250ZXh0O1xuICAgICAgICAgICAgcmV0dXJuIHByb3BzLmdsO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbWFwT3B0aW9ucyA9IHtcbiAgICAgICAgICBjb250YWluZXI6IHByb3BzLmNvbnRhaW5lcixcbiAgICAgICAgICBjZW50ZXI6IFswLCAwXSxcbiAgICAgICAgICB6b29tOiA4LFxuICAgICAgICAgIHBpdGNoOiAwLFxuICAgICAgICAgIGJlYXJpbmc6IDAsXG4gICAgICAgICAgbWF4Wm9vbTogMjQsXG4gICAgICAgICAgc3R5bGU6IG5vcm1hbGl6ZVN0eWxlKHByb3BzLm1hcFN0eWxlKSxcbiAgICAgICAgICBpbnRlcmFjdGl2ZTogZmFsc2UsXG4gICAgICAgICAgdHJhY2tSZXNpemU6IGZhbHNlLFxuICAgICAgICAgIGF0dHJpYnV0aW9uQ29udHJvbDogcHJvcHMuYXR0cmlidXRpb25Db250cm9sLFxuICAgICAgICAgIHByZXNlcnZlRHJhd2luZ0J1ZmZlcjogcHJvcHMucHJlc2VydmVEcmF3aW5nQnVmZmVyXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKHByb3BzLnRyYW5zZm9ybVJlcXVlc3QpIHtcbiAgICAgICAgICBtYXBPcHRpb25zLnRyYW5zZm9ybVJlcXVlc3QgPSBwcm9wcy50cmFuc2Zvcm1SZXF1ZXN0O1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fbWFwID0gbmV3IHRoaXMubWFwYm94Z2wuTWFwKE9iamVjdC5hc3NpZ24oe30sIG1hcE9wdGlvbnMsIHByb3BzLm1hcE9wdGlvbnMpKTtcblxuICAgICAgICB0aGlzLl9tYXAub25jZSgnbG9hZCcsIHRoaXMuX2ZpcmVMb2FkRXZlbnQpO1xuXG4gICAgICAgIHRoaXMuX21hcC5vbignZXJyb3InLCB0aGlzLl9oYW5kbGVFcnJvcik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfZGVzdHJveVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZGVzdHJveSgpIHtcbiAgICAgIGlmICghdGhpcy5fbWFwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMucHJvcHMucmV1c2VNYXBzICYmICFNYXBib3guc2F2ZWRNYXApIHtcbiAgICAgICAgTWFwYm94LnNhdmVkTWFwID0gdGhpcy5fbWFwO1xuXG4gICAgICAgIHRoaXMuX21hcC5vZmYoJ2xvYWQnLCB0aGlzLl9maXJlTG9hZEV2ZW50KTtcblxuICAgICAgICB0aGlzLl9tYXAub2ZmKCdlcnJvcicsIHRoaXMuX2hhbmRsZUVycm9yKTtcblxuICAgICAgICB0aGlzLl9tYXAub2ZmKCdzdHlsZWRhdGEnLCB0aGlzLl9maXJlTG9hZEV2ZW50KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX21hcC5yZW1vdmUoKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fbWFwID0gbnVsbDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX2luaXRpYWxpemVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2luaXRpYWxpemUocHJvcHMpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICBwcm9wcyA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRQcm9wcywgcHJvcHMpO1xuICAgICAgY2hlY2tQcm9wVHlwZXMocHJvcHMsICdNYXBib3gnKTtcbiAgICAgIHRoaXMubWFwYm94Z2wuYWNjZXNzVG9rZW4gPSBwcm9wcy5tYXBib3hBcGlBY2Nlc3NUb2tlbiB8fCBkZWZhdWx0UHJvcHMubWFwYm94QXBpQWNjZXNzVG9rZW47XG4gICAgICB0aGlzLm1hcGJveGdsLmJhc2VBcGlVcmwgPSBwcm9wcy5tYXBib3hBcGlVcmw7XG5cbiAgICAgIHRoaXMuX2NyZWF0ZShwcm9wcyk7XG5cbiAgICAgIHZhciBfcHJvcHMgPSBwcm9wcyxcbiAgICAgICAgICBjb250YWluZXIgPSBfcHJvcHMuY29udGFpbmVyO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvbnRhaW5lciwgJ29mZnNldFdpZHRoJywge1xuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgIHJldHVybiBfdGhpczIud2lkdGg7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvbnRhaW5lciwgJ2NsaWVudFdpZHRoJywge1xuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgIHJldHVybiBfdGhpczIud2lkdGg7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvbnRhaW5lciwgJ29mZnNldEhlaWdodCcsIHtcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMyLmhlaWdodDtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29udGFpbmVyLCAnY2xpZW50SGVpZ2h0Jywge1xuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgIHJldHVybiBfdGhpczIuaGVpZ2h0O1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgdmFyIGNhbnZhcyA9IHRoaXMuX21hcC5nZXRDYW52YXMoKTtcblxuICAgICAgaWYgKGNhbnZhcykge1xuICAgICAgICBjYW52YXMuc3R5bGUub3V0bGluZSA9ICdub25lJztcbiAgICAgIH1cblxuICAgICAgdGhpcy5fdXBkYXRlTWFwVmlld3BvcnQoe30sIHByb3BzKTtcblxuICAgICAgdGhpcy5fdXBkYXRlTWFwU2l6ZSh7fSwgcHJvcHMpO1xuXG4gICAgICB0aGlzLnByb3BzID0gcHJvcHM7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl91cGRhdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX3VwZGF0ZShvbGRQcm9wcywgbmV3UHJvcHMpIHtcbiAgICAgIGlmICghdGhpcy5fbWFwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgbmV3UHJvcHMgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnByb3BzLCBuZXdQcm9wcyk7XG4gICAgICBjaGVja1Byb3BUeXBlcyhuZXdQcm9wcywgJ01hcGJveCcpO1xuXG4gICAgICB2YXIgdmlld3BvcnRDaGFuZ2VkID0gdGhpcy5fdXBkYXRlTWFwVmlld3BvcnQob2xkUHJvcHMsIG5ld1Byb3BzKTtcblxuICAgICAgdmFyIHNpemVDaGFuZ2VkID0gdGhpcy5fdXBkYXRlTWFwU2l6ZShvbGRQcm9wcywgbmV3UHJvcHMpO1xuXG4gICAgICB0aGlzLl91cGRhdGVNYXBTdHlsZShvbGRQcm9wcywgbmV3UHJvcHMpO1xuXG4gICAgICBpZiAoIW5ld1Byb3BzLmFzeW5jUmVuZGVyICYmICh2aWV3cG9ydENoYW5nZWQgfHwgc2l6ZUNoYW5nZWQpKSB7XG4gICAgICAgIHRoaXMucmVkcmF3KCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMucHJvcHMgPSBuZXdQcm9wcztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX3VwZGF0ZU1hcFN0eWxlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF91cGRhdGVNYXBTdHlsZShvbGRQcm9wcywgbmV3UHJvcHMpIHtcbiAgICAgIHZhciBzdHlsZUNoYW5nZWQgPSBvbGRQcm9wcy5tYXBTdHlsZSAhPT0gbmV3UHJvcHMubWFwU3R5bGU7XG5cbiAgICAgIGlmIChzdHlsZUNoYW5nZWQpIHtcbiAgICAgICAgdGhpcy5fbWFwLnNldFN0eWxlKG5vcm1hbGl6ZVN0eWxlKG5ld1Byb3BzLm1hcFN0eWxlKSwge1xuICAgICAgICAgIGRpZmY6ICFuZXdQcm9wcy5wcmV2ZW50U3R5bGVEaWZmaW5nXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfdXBkYXRlTWFwU2l6ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfdXBkYXRlTWFwU2l6ZShvbGRQcm9wcywgbmV3UHJvcHMpIHtcbiAgICAgIHZhciBzaXplQ2hhbmdlZCA9IG9sZFByb3BzLndpZHRoICE9PSBuZXdQcm9wcy53aWR0aCB8fCBvbGRQcm9wcy5oZWlnaHQgIT09IG5ld1Byb3BzLmhlaWdodDtcblxuICAgICAgaWYgKHNpemVDaGFuZ2VkKSB7XG4gICAgICAgIHRoaXMud2lkdGggPSBuZXdQcm9wcy53aWR0aDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBuZXdQcm9wcy5oZWlnaHQ7XG5cbiAgICAgICAgdGhpcy5fbWFwLnJlc2l6ZSgpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2l6ZUNoYW5nZWQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl91cGRhdGVNYXBWaWV3cG9ydFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfdXBkYXRlTWFwVmlld3BvcnQob2xkUHJvcHMsIG5ld1Byb3BzKSB7XG4gICAgICB2YXIgb2xkVmlld1N0YXRlID0gdGhpcy5fZ2V0Vmlld1N0YXRlKG9sZFByb3BzKTtcblxuICAgICAgdmFyIG5ld1ZpZXdTdGF0ZSA9IHRoaXMuX2dldFZpZXdTdGF0ZShuZXdQcm9wcyk7XG5cbiAgICAgIHZhciB2aWV3cG9ydENoYW5nZWQgPSBuZXdWaWV3U3RhdGUubGF0aXR1ZGUgIT09IG9sZFZpZXdTdGF0ZS5sYXRpdHVkZSB8fCBuZXdWaWV3U3RhdGUubG9uZ2l0dWRlICE9PSBvbGRWaWV3U3RhdGUubG9uZ2l0dWRlIHx8IG5ld1ZpZXdTdGF0ZS56b29tICE9PSBvbGRWaWV3U3RhdGUuem9vbSB8fCBuZXdWaWV3U3RhdGUucGl0Y2ggIT09IG9sZFZpZXdTdGF0ZS5waXRjaCB8fCBuZXdWaWV3U3RhdGUuYmVhcmluZyAhPT0gb2xkVmlld1N0YXRlLmJlYXJpbmcgfHwgbmV3Vmlld1N0YXRlLmFsdGl0dWRlICE9PSBvbGRWaWV3U3RhdGUuYWx0aXR1ZGU7XG5cbiAgICAgIGlmICh2aWV3cG9ydENoYW5nZWQpIHtcbiAgICAgICAgdGhpcy5fbWFwLmp1bXBUbyh0aGlzLl92aWV3U3RhdGVUb01hcGJveFByb3BzKG5ld1ZpZXdTdGF0ZSkpO1xuXG4gICAgICAgIGlmIChuZXdWaWV3U3RhdGUuYWx0aXR1ZGUgIT09IG9sZFZpZXdTdGF0ZS5hbHRpdHVkZSkge1xuICAgICAgICAgIHRoaXMuX21hcC50cmFuc2Zvcm0uYWx0aXR1ZGUgPSBuZXdWaWV3U3RhdGUuYWx0aXR1ZGU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHZpZXdwb3J0Q2hhbmdlZDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX2dldFZpZXdTdGF0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0Vmlld1N0YXRlKHByb3BzKSB7XG4gICAgICB2YXIgX3JlZiA9IHByb3BzLnZpZXdTdGF0ZSB8fCBwcm9wcyxcbiAgICAgICAgICBsb25naXR1ZGUgPSBfcmVmLmxvbmdpdHVkZSxcbiAgICAgICAgICBsYXRpdHVkZSA9IF9yZWYubGF0aXR1ZGUsXG4gICAgICAgICAgem9vbSA9IF9yZWYuem9vbSxcbiAgICAgICAgICBfcmVmJHBpdGNoID0gX3JlZi5waXRjaCxcbiAgICAgICAgICBwaXRjaCA9IF9yZWYkcGl0Y2ggPT09IHZvaWQgMCA/IDAgOiBfcmVmJHBpdGNoLFxuICAgICAgICAgIF9yZWYkYmVhcmluZyA9IF9yZWYuYmVhcmluZyxcbiAgICAgICAgICBiZWFyaW5nID0gX3JlZiRiZWFyaW5nID09PSB2b2lkIDAgPyAwIDogX3JlZiRiZWFyaW5nLFxuICAgICAgICAgIF9yZWYkYWx0aXR1ZGUgPSBfcmVmLmFsdGl0dWRlLFxuICAgICAgICAgIGFsdGl0dWRlID0gX3JlZiRhbHRpdHVkZSA9PT0gdm9pZCAwID8gMS41IDogX3JlZiRhbHRpdHVkZTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbG9uZ2l0dWRlOiBsb25naXR1ZGUsXG4gICAgICAgIGxhdGl0dWRlOiBsYXRpdHVkZSxcbiAgICAgICAgem9vbTogem9vbSxcbiAgICAgICAgcGl0Y2g6IHBpdGNoLFxuICAgICAgICBiZWFyaW5nOiBiZWFyaW5nLFxuICAgICAgICBhbHRpdHVkZTogYWx0aXR1ZGVcbiAgICAgIH07XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9jaGVja1N0eWxlU2hlZXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2NoZWNrU3R5bGVTaGVldCgpIHtcbiAgICAgIHZhciBtYXBib3hWZXJzaW9uID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAnMC40Ny4wJztcblxuICAgICAgaWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0cnkge1xuICAgICAgICB2YXIgdGVzdEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGVzdEVsZW1lbnQuY2xhc3NOYW1lID0gJ21hcGJveGdsLW1hcCc7XG4gICAgICAgIHRlc3RFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGVzdEVsZW1lbnQpO1xuICAgICAgICB2YXIgaXNDc3NMb2FkZWQgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0ZXN0RWxlbWVudCkucG9zaXRpb24gIT09ICdzdGF0aWMnO1xuXG4gICAgICAgIGlmICghaXNDc3NMb2FkZWQpIHtcbiAgICAgICAgICB2YXIgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpbmsnKTtcbiAgICAgICAgICBsaW5rLnNldEF0dHJpYnV0ZSgncmVsJywgJ3N0eWxlc2hlZXQnKTtcbiAgICAgICAgICBsaW5rLnNldEF0dHJpYnV0ZSgndHlwZScsICd0ZXh0L2NzcycpO1xuICAgICAgICAgIGxpbmsuc2V0QXR0cmlidXRlKCdocmVmJywgXCJodHRwczovL2FwaS50aWxlcy5tYXBib3guY29tL21hcGJveC1nbC1qcy92XCIuY29uY2F0KG1hcGJveFZlcnNpb24sIFwiL21hcGJveC1nbC5jc3NcIikpO1xuICAgICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQobGluayk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7fVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfdmlld1N0YXRlVG9NYXBib3hQcm9wc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfdmlld1N0YXRlVG9NYXBib3hQcm9wcyh2aWV3U3RhdGUpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNlbnRlcjogW3ZpZXdTdGF0ZS5sb25naXR1ZGUsIHZpZXdTdGF0ZS5sYXRpdHVkZV0sXG4gICAgICAgIHpvb206IHZpZXdTdGF0ZS56b29tLFxuICAgICAgICBiZWFyaW5nOiB2aWV3U3RhdGUuYmVhcmluZyxcbiAgICAgICAgcGl0Y2g6IHZpZXdTdGF0ZS5waXRjaFxuICAgICAgfTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTWFwYm94O1xufSgpO1xuXG5fZGVmaW5lUHJvcGVydHkoTWFwYm94LCBcImluaXRpYWxpemVkXCIsIGZhbHNlKTtcblxuX2RlZmluZVByb3BlcnR5KE1hcGJveCwgXCJwcm9wVHlwZXNcIiwgcHJvcFR5cGVzKTtcblxuX2RlZmluZVByb3BlcnR5KE1hcGJveCwgXCJkZWZhdWx0UHJvcHNcIiwgZGVmYXVsdFByb3BzKTtcblxuX2RlZmluZVByb3BlcnR5KE1hcGJveCwgXCJzYXZlZE1hcFwiLCBudWxsKTtcblxuZXhwb3J0IHsgTWFwYm94IGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1hcGJveC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/react-map-gl/dist/esm/mapbox/mapbox.js\n");

/***/ }),

/***/ "./node_modules/react-map-gl/dist/esm/overlays/canvas-overlay.js":
/*!***********************************************************************!*\
  !*** ./node_modules/react-map-gl/dist/esm/overlays/canvas-overlay.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/esm/slicedToArray */ \"./node_modules/@babel/runtime/helpers/esm/slicedToArray.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _components_use_map_control__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/use-map-control */ \"./node_modules/react-map-gl/dist/esm/components/use-map-control.js\");\n\n\n\n\n\nvar pixelRatio = typeof window !== 'undefined' && window.devicePixelRatio || 1;\nvar propTypes = Object.assign({}, _components_use_map_control__WEBPACK_IMPORTED_MODULE_1__.mapControlPropTypes, {\n  redraw: prop_types__WEBPACK_IMPORTED_MODULE_2__.func.isRequired\n});\nvar defaultProps = {\n  captureScroll: false,\n  captureDrag: false,\n  captureClick: false,\n  captureDoubleClick: false,\n  capturePointerMove: false\n};\n\nfunction CanvasOverlay(props) {\n  var _useMapControl = (0,_components_use_map_control__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(props),\n      context = _useMapControl.context,\n      containerRef = _useMapControl.containerRef;\n\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),\n      _useState2 = (0,_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(_useState, 2),\n      ctx = _useState2[0],\n      setDrawingContext = _useState2[1];\n\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n    setDrawingContext(containerRef.current.getContext('2d'));\n  }, []);\n  var viewport = context.viewport,\n      isDragging = context.isDragging;\n\n  if (ctx) {\n    ctx.save();\n    ctx.scale(pixelRatio, pixelRatio);\n    props.redraw({\n      width: viewport.width,\n      height: viewport.height,\n      ctx: ctx,\n      isDragging: isDragging,\n      project: viewport.project,\n      unproject: viewport.unproject\n    });\n    ctx.restore();\n  }\n\n  return react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"canvas\", {\n    ref: containerRef,\n    width: viewport.width * pixelRatio,\n    height: viewport.height * pixelRatio,\n    style: {\n      width: \"\".concat(viewport.width, \"px\"),\n      height: \"\".concat(viewport.height, \"px\"),\n      position: 'absolute',\n      left: 0,\n      top: 0\n    }\n  });\n}\n\nCanvasOverlay.propTypes = propTypes;\nCanvasOverlay.defaultProps = defaultProps;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CanvasOverlay);\n//# sourceMappingURL=canvas-overlay.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwLWdsL2Rpc3QvZXNtL292ZXJsYXlzL2NhbnZhcy1vdmVybGF5LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3N1cGVyc2V0Ly4vbm9kZV9tb2R1bGVzL3JlYWN0LW1hcC1nbC9kaXN0L2VzbS9vdmVybGF5cy9jYW52YXMtb3ZlcmxheS5qcz8xMjViIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBfc2xpY2VkVG9BcnJheSBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vc2xpY2VkVG9BcnJheVwiO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCAqIGFzIFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCB1c2VNYXBDb250cm9sLCB7IG1hcENvbnRyb2xQcm9wVHlwZXMgfSBmcm9tICcuLi9jb21wb25lbnRzL3VzZS1tYXAtY29udHJvbCc7XG52YXIgcGl4ZWxSYXRpbyA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDE7XG52YXIgcHJvcFR5cGVzID0gT2JqZWN0LmFzc2lnbih7fSwgbWFwQ29udHJvbFByb3BUeXBlcywge1xuICByZWRyYXc6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWRcbn0pO1xudmFyIGRlZmF1bHRQcm9wcyA9IHtcbiAgY2FwdHVyZVNjcm9sbDogZmFsc2UsXG4gIGNhcHR1cmVEcmFnOiBmYWxzZSxcbiAgY2FwdHVyZUNsaWNrOiBmYWxzZSxcbiAgY2FwdHVyZURvdWJsZUNsaWNrOiBmYWxzZSxcbiAgY2FwdHVyZVBvaW50ZXJNb3ZlOiBmYWxzZVxufTtcblxuZnVuY3Rpb24gQ2FudmFzT3ZlcmxheShwcm9wcykge1xuICB2YXIgX3VzZU1hcENvbnRyb2wgPSB1c2VNYXBDb250cm9sKHByb3BzKSxcbiAgICAgIGNvbnRleHQgPSBfdXNlTWFwQ29udHJvbC5jb250ZXh0LFxuICAgICAgY29udGFpbmVyUmVmID0gX3VzZU1hcENvbnRyb2wuY29udGFpbmVyUmVmO1xuXG4gIHZhciBfdXNlU3RhdGUgPSB1c2VTdGF0ZShudWxsKSxcbiAgICAgIF91c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUsIDIpLFxuICAgICAgY3R4ID0gX3VzZVN0YXRlMlswXSxcbiAgICAgIHNldERyYXdpbmdDb250ZXh0ID0gX3VzZVN0YXRlMlsxXTtcblxuICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIHNldERyYXdpbmdDb250ZXh0KGNvbnRhaW5lclJlZi5jdXJyZW50LmdldENvbnRleHQoJzJkJykpO1xuICB9LCBbXSk7XG4gIHZhciB2aWV3cG9ydCA9IGNvbnRleHQudmlld3BvcnQsXG4gICAgICBpc0RyYWdnaW5nID0gY29udGV4dC5pc0RyYWdnaW5nO1xuXG4gIGlmIChjdHgpIHtcbiAgICBjdHguc2F2ZSgpO1xuICAgIGN0eC5zY2FsZShwaXhlbFJhdGlvLCBwaXhlbFJhdGlvKTtcbiAgICBwcm9wcy5yZWRyYXcoe1xuICAgICAgd2lkdGg6IHZpZXdwb3J0LndpZHRoLFxuICAgICAgaGVpZ2h0OiB2aWV3cG9ydC5oZWlnaHQsXG4gICAgICBjdHg6IGN0eCxcbiAgICAgIGlzRHJhZ2dpbmc6IGlzRHJhZ2dpbmcsXG4gICAgICBwcm9qZWN0OiB2aWV3cG9ydC5wcm9qZWN0LFxuICAgICAgdW5wcm9qZWN0OiB2aWV3cG9ydC51bnByb2plY3RcbiAgICB9KTtcbiAgICBjdHgucmVzdG9yZSgpO1xuICB9XG5cbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIiwge1xuICAgIHJlZjogY29udGFpbmVyUmVmLFxuICAgIHdpZHRoOiB2aWV3cG9ydC53aWR0aCAqIHBpeGVsUmF0aW8sXG4gICAgaGVpZ2h0OiB2aWV3cG9ydC5oZWlnaHQgKiBwaXhlbFJhdGlvLFxuICAgIHN0eWxlOiB7XG4gICAgICB3aWR0aDogXCJcIi5jb25jYXQodmlld3BvcnQud2lkdGgsIFwicHhcIiksXG4gICAgICBoZWlnaHQ6IFwiXCIuY29uY2F0KHZpZXdwb3J0LmhlaWdodCwgXCJweFwiKSxcbiAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgbGVmdDogMCxcbiAgICAgIHRvcDogMFxuICAgIH1cbiAgfSk7XG59XG5cbkNhbnZhc092ZXJsYXkucHJvcFR5cGVzID0gcHJvcFR5cGVzO1xuQ2FudmFzT3ZlcmxheS5kZWZhdWx0UHJvcHMgPSBkZWZhdWx0UHJvcHM7XG5leHBvcnQgZGVmYXVsdCBDYW52YXNPdmVybGF5O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2FudmFzLW92ZXJsYXkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/react-map-gl/dist/esm/overlays/canvas-overlay.js\n");

/***/ }),

/***/ "./node_modules/react-map-gl/dist/esm/overlays/html-overlay.js":
/*!*********************************************************************!*\
  !*** ./node_modules/react-map-gl/dist/esm/overlays/html-overlay.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack___webpack_exports__, __webpack_require__) => {

"use strict";
eval("/* harmony import */ var _babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _components_use_map_control__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/use-map-control */ \"./node_modules/react-map-gl/dist/esm/components/use-map-control.js\");\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n\n\nvar propTypes = Object.assign({}, _components_use_map_control__WEBPACK_IMPORTED_MODULE_2__.mapControlPropTypes, {\n  redraw: prop_types__WEBPACK_IMPORTED_MODULE_3__.func.isRequired,\n  style: prop_types__WEBPACK_IMPORTED_MODULE_3__.object\n});\nvar defaultProps = {\n  captureScroll: false,\n  captureDrag: false,\n  captureClick: false,\n  captureDoubleClick: false,\n  capturePointerMove: false\n};\n\nfunction HTMLOverlay(props) {\n  var _useMapControl = (0,_components_use_map_control__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(props),\n      context = _useMapControl.context,\n      containerRef = _useMapControl.containerRef;\n\n  var viewport = context.viewport,\n      isDragging = context.isDragging;\n\n  var style = _objectSpread({\n    position: 'absolute',\n    left: 0,\n    top: 0,\n    width: viewport.width,\n    height: viewport.height\n  }, props.style);\n\n  return react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"div\", {\n    ref: containerRef,\n    style: style\n  }, props.redraw({\n    width: viewport.width,\n    height: viewport.height,\n    isDragging: isDragging,\n    project: viewport.project,\n    unproject: viewport.unproject\n  }));\n}\n\nHTMLOverlay.propTypes = propTypes;\nHTMLOverlay.defaultProps = defaultProps;\n/* unused harmony default export */ var __WEBPACK_DEFAULT_EXPORT__ = (HTMLOverlay);\n//# sourceMappingURL=html-overlay.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwLWdsL2Rpc3QvZXNtL292ZXJsYXlzL2h0bWwtb3ZlcmxheS5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdXBlcnNldC8uL25vZGVfbW9kdWxlcy9yZWFjdC1tYXAtZ2wvZGlzdC9lc20vb3ZlcmxheXMvaHRtbC1vdmVybGF5LmpzP2FlZjYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHlcIjtcblxuZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCAqIGFzIFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCB1c2VNYXBDb250cm9sLCB7IG1hcENvbnRyb2xQcm9wVHlwZXMgfSBmcm9tICcuLi9jb21wb25lbnRzL3VzZS1tYXAtY29udHJvbCc7XG52YXIgcHJvcFR5cGVzID0gT2JqZWN0LmFzc2lnbih7fSwgbWFwQ29udHJvbFByb3BUeXBlcywge1xuICByZWRyYXc6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gIHN0eWxlOiBQcm9wVHlwZXMub2JqZWN0XG59KTtcbnZhciBkZWZhdWx0UHJvcHMgPSB7XG4gIGNhcHR1cmVTY3JvbGw6IGZhbHNlLFxuICBjYXB0dXJlRHJhZzogZmFsc2UsXG4gIGNhcHR1cmVDbGljazogZmFsc2UsXG4gIGNhcHR1cmVEb3VibGVDbGljazogZmFsc2UsXG4gIGNhcHR1cmVQb2ludGVyTW92ZTogZmFsc2Vcbn07XG5cbmZ1bmN0aW9uIEhUTUxPdmVybGF5KHByb3BzKSB7XG4gIHZhciBfdXNlTWFwQ29udHJvbCA9IHVzZU1hcENvbnRyb2wocHJvcHMpLFxuICAgICAgY29udGV4dCA9IF91c2VNYXBDb250cm9sLmNvbnRleHQsXG4gICAgICBjb250YWluZXJSZWYgPSBfdXNlTWFwQ29udHJvbC5jb250YWluZXJSZWY7XG5cbiAgdmFyIHZpZXdwb3J0ID0gY29udGV4dC52aWV3cG9ydCxcbiAgICAgIGlzRHJhZ2dpbmcgPSBjb250ZXh0LmlzRHJhZ2dpbmc7XG5cbiAgdmFyIHN0eWxlID0gX29iamVjdFNwcmVhZCh7XG4gICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgbGVmdDogMCxcbiAgICB0b3A6IDAsXG4gICAgd2lkdGg6IHZpZXdwb3J0LndpZHRoLFxuICAgIGhlaWdodDogdmlld3BvcnQuaGVpZ2h0XG4gIH0sIHByb3BzLnN0eWxlKTtcblxuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgcmVmOiBjb250YWluZXJSZWYsXG4gICAgc3R5bGU6IHN0eWxlXG4gIH0sIHByb3BzLnJlZHJhdyh7XG4gICAgd2lkdGg6IHZpZXdwb3J0LndpZHRoLFxuICAgIGhlaWdodDogdmlld3BvcnQuaGVpZ2h0LFxuICAgIGlzRHJhZ2dpbmc6IGlzRHJhZ2dpbmcsXG4gICAgcHJvamVjdDogdmlld3BvcnQucHJvamVjdCxcbiAgICB1bnByb2plY3Q6IHZpZXdwb3J0LnVucHJvamVjdFxuICB9KSk7XG59XG5cbkhUTUxPdmVybGF5LnByb3BUeXBlcyA9IHByb3BUeXBlcztcbkhUTUxPdmVybGF5LmRlZmF1bHRQcm9wcyA9IGRlZmF1bHRQcm9wcztcbmV4cG9ydCBkZWZhdWx0IEhUTUxPdmVybGF5O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aHRtbC1vdmVybGF5LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/react-map-gl/dist/esm/overlays/html-overlay.js\n");

/***/ }),

/***/ "./node_modules/react-map-gl/dist/esm/overlays/svg-overlay.js":
/*!********************************************************************!*\
  !*** ./node_modules/react-map-gl/dist/esm/overlays/svg-overlay.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack___webpack_exports__, __webpack_require__) => {

"use strict";
eval("/* harmony import */ var _babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _components_use_map_control__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/use-map-control */ \"./node_modules/react-map-gl/dist/esm/components/use-map-control.js\");\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n\n\nvar propTypes = Object.assign({}, _components_use_map_control__WEBPACK_IMPORTED_MODULE_2__.mapControlPropTypes, {\n  redraw: prop_types__WEBPACK_IMPORTED_MODULE_3__.func.isRequired,\n  style: prop_types__WEBPACK_IMPORTED_MODULE_3__.object\n});\nvar defaultProps = {\n  captureScroll: false,\n  captureDrag: false,\n  captureClick: false,\n  captureDoubleClick: false,\n  capturePointerMove: false\n};\n\nfunction SVGOverlay(props) {\n  var _useMapControl = (0,_components_use_map_control__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(props),\n      context = _useMapControl.context,\n      containerRef = _useMapControl.containerRef;\n\n  var viewport = context.viewport,\n      isDragging = context.isDragging;\n\n  var style = _objectSpread({\n    position: 'absolute',\n    left: 0,\n    top: 0\n  }, props.style);\n\n  return react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"svg\", {\n    width: viewport.width,\n    height: viewport.height,\n    ref: containerRef,\n    style: style\n  }, props.redraw({\n    width: viewport.width,\n    height: viewport.height,\n    isDragging: isDragging,\n    project: viewport.project,\n    unproject: viewport.unproject\n  }));\n}\n\nSVGOverlay.propTypes = propTypes;\nSVGOverlay.defaultProps = defaultProps;\n/* unused harmony default export */ var __WEBPACK_DEFAULT_EXPORT__ = (SVGOverlay);\n//# sourceMappingURL=svg-overlay.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwLWdsL2Rpc3QvZXNtL292ZXJsYXlzL3N2Zy1vdmVybGF5LmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3N1cGVyc2V0Ly4vbm9kZV9tb2R1bGVzL3JlYWN0LW1hcC1nbC9kaXN0L2VzbS9vdmVybGF5cy9zdmctb3ZlcmxheS5qcz84YmE2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5XCI7XG5cbmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgKiBhcyBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgdXNlTWFwQ29udHJvbCwgeyBtYXBDb250cm9sUHJvcFR5cGVzIH0gZnJvbSAnLi4vY29tcG9uZW50cy91c2UtbWFwLWNvbnRyb2wnO1xudmFyIHByb3BUeXBlcyA9IE9iamVjdC5hc3NpZ24oe30sIG1hcENvbnRyb2xQcm9wVHlwZXMsIHtcbiAgcmVkcmF3OiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICBzdHlsZTogUHJvcFR5cGVzLm9iamVjdFxufSk7XG52YXIgZGVmYXVsdFByb3BzID0ge1xuICBjYXB0dXJlU2Nyb2xsOiBmYWxzZSxcbiAgY2FwdHVyZURyYWc6IGZhbHNlLFxuICBjYXB0dXJlQ2xpY2s6IGZhbHNlLFxuICBjYXB0dXJlRG91YmxlQ2xpY2s6IGZhbHNlLFxuICBjYXB0dXJlUG9pbnRlck1vdmU6IGZhbHNlXG59O1xuXG5mdW5jdGlvbiBTVkdPdmVybGF5KHByb3BzKSB7XG4gIHZhciBfdXNlTWFwQ29udHJvbCA9IHVzZU1hcENvbnRyb2wocHJvcHMpLFxuICAgICAgY29udGV4dCA9IF91c2VNYXBDb250cm9sLmNvbnRleHQsXG4gICAgICBjb250YWluZXJSZWYgPSBfdXNlTWFwQ29udHJvbC5jb250YWluZXJSZWY7XG5cbiAgdmFyIHZpZXdwb3J0ID0gY29udGV4dC52aWV3cG9ydCxcbiAgICAgIGlzRHJhZ2dpbmcgPSBjb250ZXh0LmlzRHJhZ2dpbmc7XG5cbiAgdmFyIHN0eWxlID0gX29iamVjdFNwcmVhZCh7XG4gICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgbGVmdDogMCxcbiAgICB0b3A6IDBcbiAgfSwgcHJvcHMuc3R5bGUpO1xuXG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIHtcbiAgICB3aWR0aDogdmlld3BvcnQud2lkdGgsXG4gICAgaGVpZ2h0OiB2aWV3cG9ydC5oZWlnaHQsXG4gICAgcmVmOiBjb250YWluZXJSZWYsXG4gICAgc3R5bGU6IHN0eWxlXG4gIH0sIHByb3BzLnJlZHJhdyh7XG4gICAgd2lkdGg6IHZpZXdwb3J0LndpZHRoLFxuICAgIGhlaWdodDogdmlld3BvcnQuaGVpZ2h0LFxuICAgIGlzRHJhZ2dpbmc6IGlzRHJhZ2dpbmcsXG4gICAgcHJvamVjdDogdmlld3BvcnQucHJvamVjdCxcbiAgICB1bnByb2plY3Q6IHZpZXdwb3J0LnVucHJvamVjdFxuICB9KSk7XG59XG5cblNWR092ZXJsYXkucHJvcFR5cGVzID0gcHJvcFR5cGVzO1xuU1ZHT3ZlcmxheS5kZWZhdWx0UHJvcHMgPSBkZWZhdWx0UHJvcHM7XG5leHBvcnQgZGVmYXVsdCBTVkdPdmVybGF5O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3ZnLW92ZXJsYXkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/react-map-gl/dist/esm/overlays/svg-overlay.js\n");

/***/ }),

/***/ "./node_modules/react-map-gl/dist/esm/utils/assert.js":
/*!************************************************************!*\
  !*** ./node_modules/react-map-gl/dist/esm/utils/assert.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ assert)\n/* harmony export */ });\nfunction assert(condition, message) {\n  if (!condition) {\n    throw new Error(message || 'react-map-gl: assertion failed.');\n  }\n}\n//# sourceMappingURL=assert.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwLWdsL2Rpc3QvZXNtL3V0aWxzL2Fzc2VydC5qcyIsIm1hcHBpbmdzIjoiOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdXBlcnNldC8uL25vZGVfbW9kdWxlcy9yZWFjdC1tYXAtZ2wvZGlzdC9lc20vdXRpbHMvYXNzZXJ0LmpzP2VhYjgiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYXNzZXJ0KGNvbmRpdGlvbiwgbWVzc2FnZSkge1xuICBpZiAoIWNvbmRpdGlvbikge1xuICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlIHx8ICdyZWFjdC1tYXAtZ2w6IGFzc2VydGlvbiBmYWlsZWQuJyk7XG4gIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFzc2VydC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/react-map-gl/dist/esm/utils/assert.js\n");

/***/ }),

/***/ "./node_modules/react-map-gl/dist/esm/utils/crisp-pixel.js":
/*!*****************************************************************!*\
  !*** ./node_modules/react-map-gl/dist/esm/utils/crisp-pixel.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   crispPercentage: () => (/* binding */ crispPercentage),\n/* harmony export */   crispPixel: () => (/* binding */ crispPixel)\n/* harmony export */ });\nvar pixelRatio = typeof window !== 'undefined' && window.devicePixelRatio || 1;\nvar crispPixel = function crispPixel(size) {\n  return Math.round(size * pixelRatio) / pixelRatio;\n};\nvar crispPercentage = function crispPercentage(el, percentage) {\n  var dimension = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'x';\n\n  if (el === null) {\n    return percentage;\n  }\n\n  var origSize = dimension === 'x' ? el.offsetWidth : el.offsetHeight;\n  return crispPixel(percentage / 100 * origSize) / origSize * 100;\n};\n//# sourceMappingURL=crisp-pixel.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwLWdsL2Rpc3QvZXNtL3V0aWxzL2NyaXNwLXBpeGVsLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdXBlcnNldC8uL25vZGVfbW9kdWxlcy9yZWFjdC1tYXAtZ2wvZGlzdC9lc20vdXRpbHMvY3Jpc3AtcGl4ZWwuanM/MTM2OCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgcGl4ZWxSYXRpbyA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDE7XG5leHBvcnQgdmFyIGNyaXNwUGl4ZWwgPSBmdW5jdGlvbiBjcmlzcFBpeGVsKHNpemUpIHtcbiAgcmV0dXJuIE1hdGgucm91bmQoc2l6ZSAqIHBpeGVsUmF0aW8pIC8gcGl4ZWxSYXRpbztcbn07XG5leHBvcnQgdmFyIGNyaXNwUGVyY2VudGFnZSA9IGZ1bmN0aW9uIGNyaXNwUGVyY2VudGFnZShlbCwgcGVyY2VudGFnZSkge1xuICB2YXIgZGltZW5zaW9uID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAneCc7XG5cbiAgaWYgKGVsID09PSBudWxsKSB7XG4gICAgcmV0dXJuIHBlcmNlbnRhZ2U7XG4gIH1cblxuICB2YXIgb3JpZ1NpemUgPSBkaW1lbnNpb24gPT09ICd4JyA/IGVsLm9mZnNldFdpZHRoIDogZWwub2Zmc2V0SGVpZ2h0O1xuICByZXR1cm4gY3Jpc3BQaXhlbChwZXJjZW50YWdlIC8gMTAwICogb3JpZ1NpemUpIC8gb3JpZ1NpemUgKiAxMDA7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y3Jpc3AtcGl4ZWwuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/react-map-gl/dist/esm/utils/crisp-pixel.js\n");

/***/ }),

/***/ "./node_modules/react-map-gl/dist/esm/utils/deep-equal.js":
/*!****************************************************************!*\
  !*** ./node_modules/react-map-gl/dist/esm/utils/deep-equal.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ deepEqual)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/typeof */ \"./node_modules/@babel/runtime/helpers/esm/typeof.js\");\n\nfunction deepEqual(a, b) {\n  if (a === b) {\n    return true;\n  }\n\n  if (!a || !b) {\n    return false;\n  }\n\n  if (Array.isArray(a)) {\n    if (!Array.isArray(b) || a.length !== b.length) {\n      return false;\n    }\n\n    for (var i = 0; i < a.length; i++) {\n      if (!deepEqual(a[i], b[i])) {\n        return false;\n      }\n    }\n\n    return true;\n  } else if (Array.isArray(b)) {\n    return false;\n  }\n\n  if ((0,_babel_runtime_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(a) === 'object' && (0,_babel_runtime_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(b) === 'object') {\n    var aKeys = Object.keys(a);\n    var bKeys = Object.keys(b);\n\n    if (aKeys.length !== bKeys.length) {\n      return false;\n    }\n\n    for (var _i = 0, _aKeys = aKeys; _i < _aKeys.length; _i++) {\n      var key = _aKeys[_i];\n\n      if (!b.hasOwnProperty(key)) {\n        return false;\n      }\n\n      if (!deepEqual(a[key], b[key])) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  return false;\n}\n//# sourceMappingURL=deep-equal.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwLWdsL2Rpc3QvZXNtL3V0aWxzL2RlZXAtZXF1YWwuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3VwZXJzZXQvLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwLWdsL2Rpc3QvZXNtL3V0aWxzL2RlZXAtZXF1YWwuanM/MTVmMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgX3R5cGVvZiBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdHlwZW9mXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBkZWVwRXF1YWwoYSwgYikge1xuICBpZiAoYSA9PT0gYikge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgaWYgKCFhIHx8ICFiKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKEFycmF5LmlzQXJyYXkoYSkpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoYikgfHwgYS5sZW5ndGggIT09IGIubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoIWRlZXBFcXVhbChhW2ldLCBiW2ldKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShiKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmIChfdHlwZW9mKGEpID09PSAnb2JqZWN0JyAmJiBfdHlwZW9mKGIpID09PSAnb2JqZWN0Jykge1xuICAgIHZhciBhS2V5cyA9IE9iamVjdC5rZXlzKGEpO1xuICAgIHZhciBiS2V5cyA9IE9iamVjdC5rZXlzKGIpO1xuXG4gICAgaWYgKGFLZXlzLmxlbmd0aCAhPT0gYktleXMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgX2kgPSAwLCBfYUtleXMgPSBhS2V5czsgX2kgPCBfYUtleXMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIga2V5ID0gX2FLZXlzW19pXTtcblxuICAgICAgaWYgKCFiLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWRlZXBFcXVhbChhW2tleV0sIGJba2V5XSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVlcC1lcXVhbC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/react-map-gl/dist/esm/utils/deep-equal.js\n");

/***/ }),

/***/ "./node_modules/react-map-gl/dist/esm/utils/dynamic-position.js":
/*!**********************************************************************!*\
  !*** ./node_modules/react-map-gl/dist/esm/utils/dynamic-position.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ANCHOR_POSITION: () => (/* binding */ ANCHOR_POSITION),\n/* harmony export */   getDynamicPosition: () => (/* binding */ getDynamicPosition)\n/* harmony export */ });\nvar ANCHOR_POSITION = {\n  top: {\n    x: 0.5,\n    y: 0\n  },\n  'top-left': {\n    x: 0,\n    y: 0\n  },\n  'top-right': {\n    x: 1,\n    y: 0\n  },\n  bottom: {\n    x: 0.5,\n    y: 1\n  },\n  'bottom-left': {\n    x: 0,\n    y: 1\n  },\n  'bottom-right': {\n    x: 1,\n    y: 1\n  },\n  left: {\n    x: 0,\n    y: 0.5\n  },\n  right: {\n    x: 1,\n    y: 0.5\n  }\n};\nvar ANCHOR_TYPES = Object.keys(ANCHOR_POSITION);\nfunction getDynamicPosition(_ref) {\n  var x = _ref.x,\n      y = _ref.y,\n      width = _ref.width,\n      height = _ref.height,\n      selfWidth = _ref.selfWidth,\n      selfHeight = _ref.selfHeight,\n      anchor = _ref.anchor,\n      _ref$padding = _ref.padding,\n      padding = _ref$padding === void 0 ? 0 : _ref$padding;\n  var _ANCHOR_POSITION$anch = ANCHOR_POSITION[anchor],\n      anchorX = _ANCHOR_POSITION$anch.x,\n      anchorY = _ANCHOR_POSITION$anch.y;\n  var top = y - anchorY * selfHeight;\n  var bottom = top + selfHeight;\n  var cutoffY = Math.max(0, padding - top) + Math.max(0, bottom - height + padding);\n\n  if (cutoffY > 0) {\n    var bestAnchorY = anchorY;\n    var minCutoff = cutoffY;\n\n    for (anchorY = 0; anchorY <= 1; anchorY += 0.5) {\n      top = y - anchorY * selfHeight;\n      bottom = top + selfHeight;\n      cutoffY = Math.max(0, padding - top) + Math.max(0, bottom - height + padding);\n\n      if (cutoffY < minCutoff) {\n        minCutoff = cutoffY;\n        bestAnchorY = anchorY;\n      }\n    }\n\n    anchorY = bestAnchorY;\n  }\n\n  var xStep = 0.5;\n\n  if (anchorY === 0.5) {\n    anchorX = Math.floor(anchorX);\n    xStep = 1;\n  }\n\n  var left = x - anchorX * selfWidth;\n  var right = left + selfWidth;\n  var cutoffX = Math.max(0, padding - left) + Math.max(0, right - width + padding);\n\n  if (cutoffX > 0) {\n    var bestAnchorX = anchorX;\n    var _minCutoff = cutoffX;\n\n    for (anchorX = 0; anchorX <= 1; anchorX += xStep) {\n      left = x - anchorX * selfWidth;\n      right = left + selfWidth;\n      cutoffX = Math.max(0, padding - left) + Math.max(0, right - width + padding);\n\n      if (cutoffX < _minCutoff) {\n        _minCutoff = cutoffX;\n        bestAnchorX = anchorX;\n      }\n    }\n\n    anchorX = bestAnchorX;\n  }\n\n  return ANCHOR_TYPES.find(function (positionType) {\n    var anchorPosition = ANCHOR_POSITION[positionType];\n    return anchorPosition.x === anchorX && anchorPosition.y === anchorY;\n  }) || anchor;\n}\n//# sourceMappingURL=dynamic-position.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwLWdsL2Rpc3QvZXNtL3V0aWxzL2R5bmFtaWMtcG9zaXRpb24uanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3N1cGVyc2V0Ly4vbm9kZV9tb2R1bGVzL3JlYWN0LW1hcC1nbC9kaXN0L2VzbS91dGlscy9keW5hbWljLXBvc2l0aW9uLmpzPzBmNTciXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHZhciBBTkNIT1JfUE9TSVRJT04gPSB7XG4gIHRvcDoge1xuICAgIHg6IDAuNSxcbiAgICB5OiAwXG4gIH0sXG4gICd0b3AtbGVmdCc6IHtcbiAgICB4OiAwLFxuICAgIHk6IDBcbiAgfSxcbiAgJ3RvcC1yaWdodCc6IHtcbiAgICB4OiAxLFxuICAgIHk6IDBcbiAgfSxcbiAgYm90dG9tOiB7XG4gICAgeDogMC41LFxuICAgIHk6IDFcbiAgfSxcbiAgJ2JvdHRvbS1sZWZ0Jzoge1xuICAgIHg6IDAsXG4gICAgeTogMVxuICB9LFxuICAnYm90dG9tLXJpZ2h0Jzoge1xuICAgIHg6IDEsXG4gICAgeTogMVxuICB9LFxuICBsZWZ0OiB7XG4gICAgeDogMCxcbiAgICB5OiAwLjVcbiAgfSxcbiAgcmlnaHQ6IHtcbiAgICB4OiAxLFxuICAgIHk6IDAuNVxuICB9XG59O1xudmFyIEFOQ0hPUl9UWVBFUyA9IE9iamVjdC5rZXlzKEFOQ0hPUl9QT1NJVElPTik7XG5leHBvcnQgZnVuY3Rpb24gZ2V0RHluYW1pY1Bvc2l0aW9uKF9yZWYpIHtcbiAgdmFyIHggPSBfcmVmLngsXG4gICAgICB5ID0gX3JlZi55LFxuICAgICAgd2lkdGggPSBfcmVmLndpZHRoLFxuICAgICAgaGVpZ2h0ID0gX3JlZi5oZWlnaHQsXG4gICAgICBzZWxmV2lkdGggPSBfcmVmLnNlbGZXaWR0aCxcbiAgICAgIHNlbGZIZWlnaHQgPSBfcmVmLnNlbGZIZWlnaHQsXG4gICAgICBhbmNob3IgPSBfcmVmLmFuY2hvcixcbiAgICAgIF9yZWYkcGFkZGluZyA9IF9yZWYucGFkZGluZyxcbiAgICAgIHBhZGRpbmcgPSBfcmVmJHBhZGRpbmcgPT09IHZvaWQgMCA/IDAgOiBfcmVmJHBhZGRpbmc7XG4gIHZhciBfQU5DSE9SX1BPU0lUSU9OJGFuY2ggPSBBTkNIT1JfUE9TSVRJT05bYW5jaG9yXSxcbiAgICAgIGFuY2hvclggPSBfQU5DSE9SX1BPU0lUSU9OJGFuY2gueCxcbiAgICAgIGFuY2hvclkgPSBfQU5DSE9SX1BPU0lUSU9OJGFuY2gueTtcbiAgdmFyIHRvcCA9IHkgLSBhbmNob3JZICogc2VsZkhlaWdodDtcbiAgdmFyIGJvdHRvbSA9IHRvcCArIHNlbGZIZWlnaHQ7XG4gIHZhciBjdXRvZmZZID0gTWF0aC5tYXgoMCwgcGFkZGluZyAtIHRvcCkgKyBNYXRoLm1heCgwLCBib3R0b20gLSBoZWlnaHQgKyBwYWRkaW5nKTtcblxuICBpZiAoY3V0b2ZmWSA+IDApIHtcbiAgICB2YXIgYmVzdEFuY2hvclkgPSBhbmNob3JZO1xuICAgIHZhciBtaW5DdXRvZmYgPSBjdXRvZmZZO1xuXG4gICAgZm9yIChhbmNob3JZID0gMDsgYW5jaG9yWSA8PSAxOyBhbmNob3JZICs9IDAuNSkge1xuICAgICAgdG9wID0geSAtIGFuY2hvclkgKiBzZWxmSGVpZ2h0O1xuICAgICAgYm90dG9tID0gdG9wICsgc2VsZkhlaWdodDtcbiAgICAgIGN1dG9mZlkgPSBNYXRoLm1heCgwLCBwYWRkaW5nIC0gdG9wKSArIE1hdGgubWF4KDAsIGJvdHRvbSAtIGhlaWdodCArIHBhZGRpbmcpO1xuXG4gICAgICBpZiAoY3V0b2ZmWSA8IG1pbkN1dG9mZikge1xuICAgICAgICBtaW5DdXRvZmYgPSBjdXRvZmZZO1xuICAgICAgICBiZXN0QW5jaG9yWSA9IGFuY2hvclk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgYW5jaG9yWSA9IGJlc3RBbmNob3JZO1xuICB9XG5cbiAgdmFyIHhTdGVwID0gMC41O1xuXG4gIGlmIChhbmNob3JZID09PSAwLjUpIHtcbiAgICBhbmNob3JYID0gTWF0aC5mbG9vcihhbmNob3JYKTtcbiAgICB4U3RlcCA9IDE7XG4gIH1cblxuICB2YXIgbGVmdCA9IHggLSBhbmNob3JYICogc2VsZldpZHRoO1xuICB2YXIgcmlnaHQgPSBsZWZ0ICsgc2VsZldpZHRoO1xuICB2YXIgY3V0b2ZmWCA9IE1hdGgubWF4KDAsIHBhZGRpbmcgLSBsZWZ0KSArIE1hdGgubWF4KDAsIHJpZ2h0IC0gd2lkdGggKyBwYWRkaW5nKTtcblxuICBpZiAoY3V0b2ZmWCA+IDApIHtcbiAgICB2YXIgYmVzdEFuY2hvclggPSBhbmNob3JYO1xuICAgIHZhciBfbWluQ3V0b2ZmID0gY3V0b2ZmWDtcblxuICAgIGZvciAoYW5jaG9yWCA9IDA7IGFuY2hvclggPD0gMTsgYW5jaG9yWCArPSB4U3RlcCkge1xuICAgICAgbGVmdCA9IHggLSBhbmNob3JYICogc2VsZldpZHRoO1xuICAgICAgcmlnaHQgPSBsZWZ0ICsgc2VsZldpZHRoO1xuICAgICAgY3V0b2ZmWCA9IE1hdGgubWF4KDAsIHBhZGRpbmcgLSBsZWZ0KSArIE1hdGgubWF4KDAsIHJpZ2h0IC0gd2lkdGggKyBwYWRkaW5nKTtcblxuICAgICAgaWYgKGN1dG9mZlggPCBfbWluQ3V0b2ZmKSB7XG4gICAgICAgIF9taW5DdXRvZmYgPSBjdXRvZmZYO1xuICAgICAgICBiZXN0QW5jaG9yWCA9IGFuY2hvclg7XG4gICAgICB9XG4gICAgfVxuXG4gICAgYW5jaG9yWCA9IGJlc3RBbmNob3JYO1xuICB9XG5cbiAgcmV0dXJuIEFOQ0hPUl9UWVBFUy5maW5kKGZ1bmN0aW9uIChwb3NpdGlvblR5cGUpIHtcbiAgICB2YXIgYW5jaG9yUG9zaXRpb24gPSBBTkNIT1JfUE9TSVRJT05bcG9zaXRpb25UeXBlXTtcbiAgICByZXR1cm4gYW5jaG9yUG9zaXRpb24ueCA9PT0gYW5jaG9yWCAmJiBhbmNob3JQb3NpdGlvbi55ID09PSBhbmNob3JZO1xuICB9KSB8fCBhbmNob3I7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1keW5hbWljLXBvc2l0aW9uLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/react-map-gl/dist/esm/utils/dynamic-position.js\n");

/***/ }),

/***/ "./node_modules/react-map-gl/dist/esm/utils/geolocate-utils.js":
/*!*********************************************************************!*\
  !*** ./node_modules/react-map-gl/dist/esm/utils/geolocate-utils.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isGeolocationSupported: () => (/* binding */ isGeolocationSupported)\n/* harmony export */ });\nvar supported;\nfunction isGeolocationSupported() {\n  if (supported !== undefined) {\n    return Promise.resolve(supported);\n  }\n\n  if (window.navigator.permissions !== undefined) {\n    return window.navigator.permissions.query({\n      name: 'geolocation'\n    }).then(function (p) {\n      supported = p.state !== 'denied';\n      return supported;\n    });\n  }\n\n  supported = Boolean(window.navigator.geolocation);\n  return Promise.resolve(supported);\n}\n//# sourceMappingURL=geolocate-utils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwLWdsL2Rpc3QvZXNtL3V0aWxzL2dlb2xvY2F0ZS11dGlscy5qcyIsIm1hcHBpbmdzIjoiOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3N1cGVyc2V0Ly4vbm9kZV9tb2R1bGVzL3JlYWN0LW1hcC1nbC9kaXN0L2VzbS91dGlscy9nZW9sb2NhdGUtdXRpbHMuanM/ZjE5MiJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgc3VwcG9ydGVkO1xuZXhwb3J0IGZ1bmN0aW9uIGlzR2VvbG9jYXRpb25TdXBwb3J0ZWQoKSB7XG4gIGlmIChzdXBwb3J0ZWQgIT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoc3VwcG9ydGVkKTtcbiAgfVxuXG4gIGlmICh3aW5kb3cubmF2aWdhdG9yLnBlcm1pc3Npb25zICE9PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gd2luZG93Lm5hdmlnYXRvci5wZXJtaXNzaW9ucy5xdWVyeSh7XG4gICAgICBuYW1lOiAnZ2VvbG9jYXRpb24nXG4gICAgfSkudGhlbihmdW5jdGlvbiAocCkge1xuICAgICAgc3VwcG9ydGVkID0gcC5zdGF0ZSAhPT0gJ2RlbmllZCc7XG4gICAgICByZXR1cm4gc3VwcG9ydGVkO1xuICAgIH0pO1xuICB9XG5cbiAgc3VwcG9ydGVkID0gQm9vbGVhbih3aW5kb3cubmF2aWdhdG9yLmdlb2xvY2F0aW9uKTtcbiAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShzdXBwb3J0ZWQpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2VvbG9jYXRlLXV0aWxzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/react-map-gl/dist/esm/utils/geolocate-utils.js\n");

/***/ }),

/***/ "./node_modules/react-map-gl/dist/esm/utils/globals.js":
/*!*************************************************************!*\
  !*** ./node_modules/react-map-gl/dist/esm/utils/globals.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   document: () => (/* binding */ document_)\n/* harmony export */ });\n/* unused harmony exports window, global */\nvar window_ = typeof window !== 'undefined' ? window : __webpack_require__.g;\nvar global_ = typeof __webpack_require__.g !== 'undefined' ? __webpack_require__.g : window;\nvar document_ = typeof document !== 'undefined' ? document : {};\n\n//# sourceMappingURL=globals.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwLWdsL2Rpc3QvZXNtL3V0aWxzL2dsb2JhbHMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdXBlcnNldC8uL25vZGVfbW9kdWxlcy9yZWFjdC1tYXAtZ2wvZGlzdC9lc20vdXRpbHMvZ2xvYmFscy5qcz9kYTU2Il0sInNvdXJjZXNDb250ZW50IjpbInZhciB3aW5kb3dfID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiBnbG9iYWw7XG52YXIgZ2xvYmFsXyA9IHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsIDogd2luZG93O1xudmFyIGRvY3VtZW50XyA9IHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgPyBkb2N1bWVudCA6IHt9O1xuZXhwb3J0IHsgd2luZG93XyBhcyB3aW5kb3csIGdsb2JhbF8gYXMgZ2xvYmFsLCBkb2N1bWVudF8gYXMgZG9jdW1lbnQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdsb2JhbHMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/react-map-gl/dist/esm/utils/globals.js\n");

/***/ }),

/***/ "./node_modules/react-map-gl/dist/esm/utils/map-constraints.js":
/*!*********************************************************************!*\
  !*** ./node_modules/react-map-gl/dist/esm/utils/map-constraints.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   checkVisibilityConstraints: () => (/* binding */ checkVisibilityConstraints)\n/* harmony export */ });\n/* harmony import */ var _map_state__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./map-state */ \"./node_modules/react-map-gl/dist/esm/utils/map-state.js\");\n\n\nfunction decapitalize(s) {\n  return s[0].toLowerCase() + s.slice(1);\n}\n\nfunction checkVisibilityConstraints(props) {\n  var constraints = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _map_state__WEBPACK_IMPORTED_MODULE_0__.MAPBOX_LIMITS;\n\n  for (var constraintName in constraints) {\n    var type = constraintName.slice(0, 3);\n    var propName = decapitalize(constraintName.slice(3));\n\n    if (type === 'min' && props[propName] < constraints[constraintName]) {\n      return false;\n    }\n\n    if (type === 'max' && props[propName] > constraints[constraintName]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n//# sourceMappingURL=map-constraints.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwLWdsL2Rpc3QvZXNtL3V0aWxzL21hcC1jb25zdHJhaW50cy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdXBlcnNldC8uL25vZGVfbW9kdWxlcy9yZWFjdC1tYXAtZ2wvZGlzdC9lc20vdXRpbHMvbWFwLWNvbnN0cmFpbnRzLmpzPzYzMmIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTUFQQk9YX0xJTUlUUyB9IGZyb20gJy4vbWFwLXN0YXRlJztcblxuZnVuY3Rpb24gZGVjYXBpdGFsaXplKHMpIHtcbiAgcmV0dXJuIHNbMF0udG9Mb3dlckNhc2UoKSArIHMuc2xpY2UoMSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjaGVja1Zpc2liaWxpdHlDb25zdHJhaW50cyhwcm9wcykge1xuICB2YXIgY29uc3RyYWludHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IE1BUEJPWF9MSU1JVFM7XG5cbiAgZm9yICh2YXIgY29uc3RyYWludE5hbWUgaW4gY29uc3RyYWludHMpIHtcbiAgICB2YXIgdHlwZSA9IGNvbnN0cmFpbnROYW1lLnNsaWNlKDAsIDMpO1xuICAgIHZhciBwcm9wTmFtZSA9IGRlY2FwaXRhbGl6ZShjb25zdHJhaW50TmFtZS5zbGljZSgzKSk7XG5cbiAgICBpZiAodHlwZSA9PT0gJ21pbicgJiYgcHJvcHNbcHJvcE5hbWVdIDwgY29uc3RyYWludHNbY29uc3RyYWludE5hbWVdKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKHR5cGUgPT09ICdtYXgnICYmIHByb3BzW3Byb3BOYW1lXSA+IGNvbnN0cmFpbnRzW2NvbnN0cmFpbnROYW1lXSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFwLWNvbnN0cmFpbnRzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/react-map-gl/dist/esm/utils/map-constraints.js\n");

/***/ }),

/***/ "./node_modules/react-map-gl/dist/esm/utils/map-controller.js":
/*!********************************************************************!*\
  !*** ./node_modules/react-map-gl/dist/esm/utils/map-controller.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LINEAR_TRANSITION_PROPS: () => (/* binding */ LINEAR_TRANSITION_PROPS),\n/* harmony export */   \"default\": () => (/* binding */ MapController)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/esm/classCallCheck */ \"./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/esm/createClass */ \"./node_modules/@babel/runtime/helpers/esm/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var _map_state__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./map-state */ \"./node_modules/react-map-gl/dist/esm/utils/map-state.js\");\n/* harmony import */ var _transition__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./transition */ \"./node_modules/react-map-gl/dist/esm/utils/transition/index.js\");\n/* harmony import */ var _transition_manager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./transition-manager */ \"./node_modules/react-map-gl/dist/esm/utils/transition-manager.js\");\n\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n\n\nvar NO_TRANSITION_PROPS = {\n  transitionDuration: 0\n};\nvar LINEAR_TRANSITION_PROPS = {\n  transitionDuration: 300,\n  transitionEasing: function transitionEasing(t) {\n    return t;\n  },\n  transitionInterpolator: new _transition__WEBPACK_IMPORTED_MODULE_2__.LinearInterpolator(),\n  transitionInterruption: _transition_manager__WEBPACK_IMPORTED_MODULE_3__.TRANSITION_EVENTS.BREAK\n};\nvar DEFAULT_INERTIA = 300;\n\nvar INERTIA_EASING = function INERTIA_EASING(t) {\n  return 1 - (1 - t) * (1 - t);\n};\n\nvar EVENT_TYPES = {\n  WHEEL: ['wheel'],\n  PAN: ['panstart', 'panmove', 'panend'],\n  PINCH: ['pinchstart', 'pinchmove', 'pinchend'],\n  TRIPLE_PAN: ['tripanstart', 'tripanmove', 'tripanend'],\n  DOUBLE_TAP: ['doubletap'],\n  KEYBOARD: ['keydown']\n};\n\nvar MapController = function () {\n  function MapController() {\n    var _this = this;\n\n    (0,_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(this, MapController);\n\n    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this, \"events\", []);\n\n    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this, \"scrollZoom\", true);\n\n    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this, \"dragPan\", true);\n\n    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this, \"dragRotate\", true);\n\n    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this, \"doubleClickZoom\", true);\n\n    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this, \"touchZoom\", true);\n\n    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this, \"touchRotate\", false);\n\n    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this, \"keyboard\", true);\n\n    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this, \"_interactionState\", {\n      isDragging: false\n    });\n\n    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this, \"_events\", {});\n\n    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this, \"_setInteractionState\", function (newState) {\n      Object.assign(_this._interactionState, newState);\n\n      if (_this.onStateChange) {\n        _this.onStateChange(_this._interactionState);\n      }\n    });\n\n    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this, \"_onTransition\", function (newViewport, oldViewport) {\n      _this.onViewportChange(newViewport, _this._interactionState, oldViewport);\n    });\n\n    this.handleEvent = this.handleEvent.bind(this);\n    this._transitionManager = new _transition_manager__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\n      onViewportChange: this._onTransition,\n      onStateChange: this._setInteractionState\n    });\n  }\n\n  (0,_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(MapController, [{\n    key: \"handleEvent\",\n    value: function handleEvent(event) {\n      this.mapState = this.getMapState();\n      var eventStartBlocked = this._eventStartBlocked;\n\n      switch (event.type) {\n        case 'panstart':\n          return eventStartBlocked ? false : this._onPanStart(event);\n\n        case 'panmove':\n          return this._onPan(event);\n\n        case 'panend':\n          return this._onPanEnd(event);\n\n        case 'pinchstart':\n          return eventStartBlocked ? false : this._onPinchStart(event);\n\n        case 'pinchmove':\n          return this._onPinch(event);\n\n        case 'pinchend':\n          return this._onPinchEnd(event);\n\n        case 'tripanstart':\n          return eventStartBlocked ? false : this._onTriplePanStart(event);\n\n        case 'tripanmove':\n          return this._onTriplePan(event);\n\n        case 'tripanend':\n          return this._onTriplePanEnd(event);\n\n        case 'doubletap':\n          return this._onDoubleTap(event);\n\n        case 'wheel':\n          return this._onWheel(event);\n\n        case 'keydown':\n          return this._onKeyDown(event);\n\n        default:\n          return false;\n      }\n    }\n  }, {\n    key: \"getCenter\",\n    value: function getCenter(event) {\n      var _event$offsetCenter = event.offsetCenter,\n          x = _event$offsetCenter.x,\n          y = _event$offsetCenter.y;\n      return [x, y];\n    }\n  }, {\n    key: \"isFunctionKeyPressed\",\n    value: function isFunctionKeyPressed(event) {\n      var srcEvent = event.srcEvent;\n      return Boolean(srcEvent.metaKey || srcEvent.altKey || srcEvent.ctrlKey || srcEvent.shiftKey);\n    }\n  }, {\n    key: \"blockEvents\",\n    value: function blockEvents(timeout) {\n      var _this2 = this;\n\n      var timer = setTimeout(function () {\n        if (_this2._eventStartBlocked === timer) {\n          _this2._eventStartBlocked = null;\n        }\n      }, timeout);\n      this._eventStartBlocked = timer;\n    }\n  }, {\n    key: \"updateViewport\",\n    value: function updateViewport(newMapState, extraProps, interactionState) {\n      var oldViewport = this.mapState instanceof _map_state__WEBPACK_IMPORTED_MODULE_1__[\"default\"] ? this.mapState.getViewportProps() : this.mapState;\n\n      var newViewport = _objectSpread(_objectSpread({}, newMapState.getViewportProps()), extraProps);\n\n      var viewStateChanged = Object.keys(newViewport).some(function (key) {\n        return oldViewport[key] !== newViewport[key];\n      });\n      this._state = newMapState.getState();\n\n      this._setInteractionState(interactionState);\n\n      if (viewStateChanged) {\n        this.onViewportChange(newViewport, this._interactionState, oldViewport);\n      }\n    }\n  }, {\n    key: \"getMapState\",\n    value: function getMapState(overrides) {\n      return new _map_state__WEBPACK_IMPORTED_MODULE_1__[\"default\"](_objectSpread(_objectSpread(_objectSpread({}, this.mapStateProps), this._state), overrides));\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging() {\n      return this._interactionState.isDragging;\n    }\n  }, {\n    key: \"setOptions\",\n    value: function setOptions(options) {\n      var onViewportChange = options.onViewportChange,\n          onStateChange = options.onStateChange,\n          _options$eventManager = options.eventManager,\n          eventManager = _options$eventManager === void 0 ? this.eventManager : _options$eventManager,\n          _options$isInteractiv = options.isInteractive,\n          isInteractive = _options$isInteractiv === void 0 ? true : _options$isInteractiv,\n          _options$scrollZoom = options.scrollZoom,\n          scrollZoom = _options$scrollZoom === void 0 ? this.scrollZoom : _options$scrollZoom,\n          _options$dragPan = options.dragPan,\n          dragPan = _options$dragPan === void 0 ? this.dragPan : _options$dragPan,\n          _options$dragRotate = options.dragRotate,\n          dragRotate = _options$dragRotate === void 0 ? this.dragRotate : _options$dragRotate,\n          _options$doubleClickZ = options.doubleClickZoom,\n          doubleClickZoom = _options$doubleClickZ === void 0 ? this.doubleClickZoom : _options$doubleClickZ,\n          _options$touchZoom = options.touchZoom,\n          touchZoom = _options$touchZoom === void 0 ? this.touchZoom : _options$touchZoom,\n          _options$touchRotate = options.touchRotate,\n          touchRotate = _options$touchRotate === void 0 ? this.touchRotate : _options$touchRotate,\n          _options$keyboard = options.keyboard,\n          keyboard = _options$keyboard === void 0 ? this.keyboard : _options$keyboard;\n      this.onViewportChange = onViewportChange;\n      this.onStateChange = onStateChange;\n      var prevOptions = this.mapStateProps || {};\n      var dimensionChanged = prevOptions.height !== options.height || prevOptions.width !== options.width;\n      this.mapStateProps = options;\n\n      if (dimensionChanged) {\n        this.mapState = prevOptions;\n        this.updateViewport(new _map_state__WEBPACK_IMPORTED_MODULE_1__[\"default\"](options));\n      }\n\n      this._transitionManager.processViewportChange(options);\n\n      if (this.eventManager !== eventManager) {\n        this.eventManager = eventManager;\n        this._events = {};\n        this.toggleEvents(this.events, true);\n      }\n\n      this.toggleEvents(EVENT_TYPES.WHEEL, isInteractive && Boolean(scrollZoom));\n      this.toggleEvents(EVENT_TYPES.PAN, isInteractive && Boolean(dragPan || dragRotate));\n      this.toggleEvents(EVENT_TYPES.PINCH, isInteractive && Boolean(touchZoom || touchRotate));\n      this.toggleEvents(EVENT_TYPES.TRIPLE_PAN, isInteractive && Boolean(touchRotate));\n      this.toggleEvents(EVENT_TYPES.DOUBLE_TAP, isInteractive && Boolean(doubleClickZoom));\n      this.toggleEvents(EVENT_TYPES.KEYBOARD, isInteractive && Boolean(keyboard));\n      this.scrollZoom = scrollZoom;\n      this.dragPan = dragPan;\n      this.dragRotate = dragRotate;\n      this.doubleClickZoom = doubleClickZoom;\n      this.touchZoom = touchZoom;\n      this.touchRotate = touchRotate;\n      this.keyboard = keyboard;\n    }\n  }, {\n    key: \"toggleEvents\",\n    value: function toggleEvents(eventNames, enabled) {\n      var _this3 = this;\n\n      if (this.eventManager) {\n        eventNames.forEach(function (eventName) {\n          if (_this3._events[eventName] !== enabled) {\n            _this3._events[eventName] = enabled;\n\n            if (enabled) {\n              _this3.eventManager.on(eventName, _this3.handleEvent);\n            } else {\n              _this3.eventManager.off(eventName, _this3.handleEvent);\n            }\n          }\n        });\n      }\n    }\n  }, {\n    key: \"_onPanStart\",\n    value: function _onPanStart(event) {\n      var pos = this.getCenter(event);\n      this._panRotate = this.isFunctionKeyPressed(event) || event.rightButton;\n      var newMapState = this._panRotate ? this.mapState.rotateStart({\n        pos: pos\n      }) : this.mapState.panStart({\n        pos: pos\n      });\n      this.updateViewport(newMapState, NO_TRANSITION_PROPS, {\n        isDragging: true\n      });\n      return true;\n    }\n  }, {\n    key: \"_onPan\",\n    value: function _onPan(event) {\n      if (!this.isDragging()) {\n        return false;\n      }\n\n      return this._panRotate ? this._onPanRotate(event) : this._onPanMove(event);\n    }\n  }, {\n    key: \"_onPanEnd\",\n    value: function _onPanEnd(event) {\n      if (!this.isDragging()) {\n        return false;\n      }\n\n      return this._panRotate ? this._onPanRotateEnd(event) : this._onPanMoveEnd(event);\n    }\n  }, {\n    key: \"_onPanMove\",\n    value: function _onPanMove(event) {\n      if (!this.dragPan) {\n        return false;\n      }\n\n      var pos = this.getCenter(event);\n      var newMapState = this.mapState.pan({\n        pos: pos\n      });\n      this.updateViewport(newMapState, NO_TRANSITION_PROPS, {\n        isPanning: true\n      });\n      return true;\n    }\n  }, {\n    key: \"_onPanMoveEnd\",\n    value: function _onPanMoveEnd(event) {\n      if (this.dragPan) {\n        var _this$dragPan$inertia = this.dragPan.inertia,\n            inertia = _this$dragPan$inertia === void 0 ? DEFAULT_INERTIA : _this$dragPan$inertia;\n\n        if (inertia && event.velocity) {\n          var pos = this.getCenter(event);\n          var endPos = [pos[0] + event.velocityX * inertia / 2, pos[1] + event.velocityY * inertia / 2];\n          var newControllerState = this.mapState.pan({\n            pos: endPos\n          }).panEnd();\n          this.updateViewport(newControllerState, _objectSpread(_objectSpread({}, LINEAR_TRANSITION_PROPS), {}, {\n            transitionDuration: inertia,\n            transitionEasing: INERTIA_EASING\n          }), {\n            isDragging: false,\n            isPanning: true\n          });\n          return true;\n        }\n      }\n\n      var newMapState = this.mapState.panEnd();\n      this.updateViewport(newMapState, null, {\n        isDragging: false,\n        isPanning: false\n      });\n      return true;\n    }\n  }, {\n    key: \"_onPanRotate\",\n    value: function _onPanRotate(event) {\n      if (!this.dragRotate) {\n        return false;\n      }\n\n      var pos = this.getCenter(event);\n      var newMapState = this.mapState.rotate({\n        pos: pos\n      });\n      this.updateViewport(newMapState, NO_TRANSITION_PROPS, {\n        isRotating: true\n      });\n      return true;\n    }\n  }, {\n    key: \"_onPanRotateEnd\",\n    value: function _onPanRotateEnd(event) {\n      if (this.dragRotate) {\n        var _this$dragRotate$iner = this.dragRotate.inertia,\n            inertia = _this$dragRotate$iner === void 0 ? DEFAULT_INERTIA : _this$dragRotate$iner;\n\n        if (inertia && event.velocity) {\n          var pos = this.getCenter(event);\n          var endPos = [pos[0] + event.velocityX * inertia / 2, pos[1] + event.velocityY * inertia / 2];\n          var newControllerState = this.mapState.rotate({\n            pos: endPos\n          }).rotateEnd();\n          this.updateViewport(newControllerState, _objectSpread(_objectSpread({}, LINEAR_TRANSITION_PROPS), {}, {\n            transitionDuration: inertia,\n            transitionEasing: INERTIA_EASING\n          }), {\n            isDragging: false,\n            isRotating: true\n          });\n          return true;\n        }\n      }\n\n      var newMapState = this.mapState.panEnd();\n      this.updateViewport(newMapState, null, {\n        isDragging: false,\n        isRotating: false\n      });\n      return true;\n    }\n  }, {\n    key: \"_onWheel\",\n    value: function _onWheel(event) {\n      if (!this.scrollZoom) {\n        return false;\n      }\n\n      var _this$scrollZoom = this.scrollZoom,\n          _this$scrollZoom$spee = _this$scrollZoom.speed,\n          speed = _this$scrollZoom$spee === void 0 ? 0.01 : _this$scrollZoom$spee,\n          _this$scrollZoom$smoo = _this$scrollZoom.smooth,\n          smooth = _this$scrollZoom$smoo === void 0 ? false : _this$scrollZoom$smoo;\n      event.preventDefault();\n      var pos = this.getCenter(event);\n      var delta = event.delta;\n      var scale = 2 / (1 + Math.exp(-Math.abs(delta * speed)));\n\n      if (delta < 0 && scale !== 0) {\n        scale = 1 / scale;\n      }\n\n      var newMapState = this.mapState.zoom({\n        pos: pos,\n        scale: scale\n      });\n\n      if (newMapState.getViewportProps().zoom === this.mapStateProps.zoom) {\n        return false;\n      }\n\n      this.updateViewport(newMapState, _objectSpread(_objectSpread({}, LINEAR_TRANSITION_PROPS), {}, {\n        transitionInterpolator: new _transition__WEBPACK_IMPORTED_MODULE_2__.LinearInterpolator({\n          around: pos\n        }),\n        transitionDuration: smooth ? 250 : 1\n      }), {\n        isPanning: true,\n        isZooming: true\n      });\n      return true;\n    }\n  }, {\n    key: \"_onPinchStart\",\n    value: function _onPinchStart(event) {\n      var pos = this.getCenter(event);\n      var newMapState = this.mapState.zoomStart({\n        pos: pos\n      }).rotateStart({\n        pos: pos\n      });\n      this._startPinchRotation = event.rotation;\n      this._lastPinchEvent = event;\n      this.updateViewport(newMapState, NO_TRANSITION_PROPS, {\n        isDragging: true\n      });\n      return true;\n    }\n  }, {\n    key: \"_onPinch\",\n    value: function _onPinch(event) {\n      if (!this.isDragging()) {\n        return false;\n      }\n\n      if (!this.touchZoom && !this.touchRotate) {\n        return false;\n      }\n\n      var newMapState = this.mapState;\n\n      if (this.touchZoom) {\n        var scale = event.scale;\n        var pos = this.getCenter(event);\n        newMapState = newMapState.zoom({\n          pos: pos,\n          scale: scale\n        });\n      }\n\n      if (this.touchRotate) {\n        var rotation = event.rotation;\n        newMapState = newMapState.rotate({\n          deltaAngleX: this._startPinchRotation - rotation\n        });\n      }\n\n      this.updateViewport(newMapState, NO_TRANSITION_PROPS, {\n        isDragging: true,\n        isPanning: Boolean(this.touchZoom),\n        isZooming: Boolean(this.touchZoom),\n        isRotating: Boolean(this.touchRotate)\n      });\n      this._lastPinchEvent = event;\n      return true;\n    }\n  }, {\n    key: \"_onPinchEnd\",\n    value: function _onPinchEnd(event) {\n      if (!this.isDragging()) {\n        return false;\n      }\n\n      if (this.touchZoom) {\n        var _this$touchZoom$inert = this.touchZoom.inertia,\n            inertia = _this$touchZoom$inert === void 0 ? DEFAULT_INERTIA : _this$touchZoom$inert;\n        var _lastPinchEvent = this._lastPinchEvent;\n\n        if (inertia && _lastPinchEvent && event.scale !== _lastPinchEvent.scale) {\n          var pos = this.getCenter(event);\n\n          var _newMapState = this.mapState.rotateEnd();\n\n          var z = Math.log2(event.scale);\n\n          var velocityZ = (z - Math.log2(_lastPinchEvent.scale)) / (event.deltaTime - _lastPinchEvent.deltaTime);\n\n          var endScale = Math.pow(2, z + velocityZ * inertia / 2);\n          _newMapState = _newMapState.zoom({\n            pos: pos,\n            scale: endScale\n          }).zoomEnd();\n          this.updateViewport(_newMapState, _objectSpread(_objectSpread({}, LINEAR_TRANSITION_PROPS), {}, {\n            transitionInterpolator: new _transition__WEBPACK_IMPORTED_MODULE_2__.LinearInterpolator({\n              around: pos\n            }),\n            transitionDuration: inertia,\n            transitionEasing: INERTIA_EASING\n          }), {\n            isDragging: false,\n            isPanning: Boolean(this.touchZoom),\n            isZooming: Boolean(this.touchZoom),\n            isRotating: false\n          });\n          this.blockEvents(inertia);\n          return true;\n        }\n      }\n\n      var newMapState = this.mapState.zoomEnd().rotateEnd();\n      this._state.startPinchRotation = 0;\n      this.updateViewport(newMapState, null, {\n        isDragging: false,\n        isPanning: false,\n        isZooming: false,\n        isRotating: false\n      });\n      this._startPinchRotation = null;\n      this._lastPinchEvent = null;\n      return true;\n    }\n  }, {\n    key: \"_onTriplePanStart\",\n    value: function _onTriplePanStart(event) {\n      var pos = this.getCenter(event);\n      var newMapState = this.mapState.rotateStart({\n        pos: pos\n      });\n      this.updateViewport(newMapState, NO_TRANSITION_PROPS, {\n        isDragging: true\n      });\n      return true;\n    }\n  }, {\n    key: \"_onTriplePan\",\n    value: function _onTriplePan(event) {\n      if (!this.isDragging()) {\n        return false;\n      }\n\n      if (!this.touchRotate) {\n        return false;\n      }\n\n      var pos = this.getCenter(event);\n      pos[0] -= event.deltaX;\n      var newMapState = this.mapState.rotate({\n        pos: pos\n      });\n      this.updateViewport(newMapState, NO_TRANSITION_PROPS, {\n        isRotating: true\n      });\n      return true;\n    }\n  }, {\n    key: \"_onTriplePanEnd\",\n    value: function _onTriplePanEnd(event) {\n      if (!this.isDragging()) {\n        return false;\n      }\n\n      if (this.touchRotate) {\n        var _this$touchRotate$ine = this.touchRotate.inertia,\n            inertia = _this$touchRotate$ine === void 0 ? DEFAULT_INERTIA : _this$touchRotate$ine;\n\n        if (inertia && event.velocityY) {\n          var pos = this.getCenter(event);\n          var endPos = [pos[0], pos[1] += event.velocityY * inertia / 2];\n\n          var _newMapState2 = this.mapState.rotate({\n            pos: endPos\n          });\n\n          this.updateViewport(_newMapState2, _objectSpread(_objectSpread({}, LINEAR_TRANSITION_PROPS), {}, {\n            transitionDuration: inertia,\n            transitionEasing: INERTIA_EASING\n          }), {\n            isDragging: false,\n            isRotating: true\n          });\n          this.blockEvents(inertia);\n          return false;\n        }\n      }\n\n      var newMapState = this.mapState.rotateEnd();\n      this.updateViewport(newMapState, null, {\n        isDragging: false,\n        isRotating: false\n      });\n      return true;\n    }\n  }, {\n    key: \"_onDoubleTap\",\n    value: function _onDoubleTap(event) {\n      if (!this.doubleClickZoom) {\n        return false;\n      }\n\n      var pos = this.getCenter(event);\n      var isZoomOut = this.isFunctionKeyPressed(event);\n      var newMapState = this.mapState.zoom({\n        pos: pos,\n        scale: isZoomOut ? 0.5 : 2\n      });\n      this.updateViewport(newMapState, Object.assign({}, LINEAR_TRANSITION_PROPS, {\n        transitionInterpolator: new _transition__WEBPACK_IMPORTED_MODULE_2__.LinearInterpolator({\n          around: pos\n        })\n      }), {\n        isZooming: true\n      });\n      return true;\n    }\n  }, {\n    key: \"_onKeyDown\",\n    value: function _onKeyDown(event) {\n      if (!this.keyboard) {\n        return false;\n      }\n\n      var funcKey = this.isFunctionKeyPressed(event);\n      var _this$keyboard = this.keyboard,\n          _this$keyboard$zoomSp = _this$keyboard.zoomSpeed,\n          zoomSpeed = _this$keyboard$zoomSp === void 0 ? 2 : _this$keyboard$zoomSp,\n          _this$keyboard$moveSp = _this$keyboard.moveSpeed,\n          moveSpeed = _this$keyboard$moveSp === void 0 ? 100 : _this$keyboard$moveSp,\n          _this$keyboard$rotate = _this$keyboard.rotateSpeedX,\n          rotateSpeedX = _this$keyboard$rotate === void 0 ? 15 : _this$keyboard$rotate,\n          _this$keyboard$rotate2 = _this$keyboard.rotateSpeedY,\n          rotateSpeedY = _this$keyboard$rotate2 === void 0 ? 10 : _this$keyboard$rotate2;\n      var mapStateProps = this.mapStateProps;\n      var newMapState;\n\n      switch (event.srcEvent.keyCode) {\n        case 189:\n          if (funcKey) {\n            newMapState = this.getMapState({\n              zoom: mapStateProps.zoom - Math.log2(zoomSpeed) - 1\n            });\n          } else {\n            newMapState = this.getMapState({\n              zoom: mapStateProps.zoom - Math.log2(zoomSpeed)\n            });\n          }\n\n          break;\n\n        case 187:\n          if (funcKey) {\n            newMapState = this.getMapState({\n              zoom: mapStateProps.zoom + Math.log2(zoomSpeed) + 1\n            });\n          } else {\n            newMapState = this.getMapState({\n              zoom: mapStateProps.zoom + Math.log2(zoomSpeed)\n            });\n          }\n\n          break;\n\n        case 37:\n          if (funcKey) {\n            newMapState = this.getMapState({\n              bearing: mapStateProps.bearing - rotateSpeedX\n            });\n          } else {\n            newMapState = this.mapState.pan({\n              pos: [moveSpeed, 0],\n              startPos: [0, 0]\n            });\n          }\n\n          break;\n\n        case 39:\n          if (funcKey) {\n            newMapState = this.getMapState({\n              bearing: mapStateProps.bearing + rotateSpeedX\n            });\n          } else {\n            newMapState = this.mapState.pan({\n              pos: [-moveSpeed, 0],\n              startPos: [0, 0]\n            });\n          }\n\n          break;\n\n        case 38:\n          if (funcKey) {\n            newMapState = this.getMapState({\n              pitch: mapStateProps.pitch + rotateSpeedY\n            });\n          } else {\n            newMapState = this.mapState.pan({\n              pos: [0, moveSpeed],\n              startPos: [0, 0]\n            });\n          }\n\n          break;\n\n        case 40:\n          if (funcKey) {\n            newMapState = this.getMapState({\n              pitch: mapStateProps.pitch - rotateSpeedY\n            });\n          } else {\n            newMapState = this.mapState.pan({\n              pos: [0, -moveSpeed],\n              startPos: [0, 0]\n            });\n          }\n\n          break;\n\n        default:\n          return false;\n      }\n\n      return this.updateViewport(newMapState, LINEAR_TRANSITION_PROPS);\n    }\n  }]);\n\n  return MapController;\n}();\n\n\n//# sourceMappingURL=map-controller.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwLWdsL2Rpc3QvZXNtL3V0aWxzL21hcC1jb250cm9sbGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3VwZXJzZXQvLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwLWdsL2Rpc3QvZXNtL3V0aWxzL21hcC1jb250cm9sbGVyLmpzP2RiMjMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2tcIjtcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzXCI7XG5pbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eVwiO1xuXG5mdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH1cblxuaW1wb3J0IE1hcFN0YXRlIGZyb20gJy4vbWFwLXN0YXRlJztcbmltcG9ydCB7IExpbmVhckludGVycG9sYXRvciB9IGZyb20gJy4vdHJhbnNpdGlvbic7XG5pbXBvcnQgVHJhbnNpdGlvbk1hbmFnZXIsIHsgVFJBTlNJVElPTl9FVkVOVFMgfSBmcm9tICcuL3RyYW5zaXRpb24tbWFuYWdlcic7XG52YXIgTk9fVFJBTlNJVElPTl9QUk9QUyA9IHtcbiAgdHJhbnNpdGlvbkR1cmF0aW9uOiAwXG59O1xuZXhwb3J0IHZhciBMSU5FQVJfVFJBTlNJVElPTl9QUk9QUyA9IHtcbiAgdHJhbnNpdGlvbkR1cmF0aW9uOiAzMDAsXG4gIHRyYW5zaXRpb25FYXNpbmc6IGZ1bmN0aW9uIHRyYW5zaXRpb25FYXNpbmcodCkge1xuICAgIHJldHVybiB0O1xuICB9LFxuICB0cmFuc2l0aW9uSW50ZXJwb2xhdG9yOiBuZXcgTGluZWFySW50ZXJwb2xhdG9yKCksXG4gIHRyYW5zaXRpb25JbnRlcnJ1cHRpb246IFRSQU5TSVRJT05fRVZFTlRTLkJSRUFLXG59O1xudmFyIERFRkFVTFRfSU5FUlRJQSA9IDMwMDtcblxudmFyIElORVJUSUFfRUFTSU5HID0gZnVuY3Rpb24gSU5FUlRJQV9FQVNJTkcodCkge1xuICByZXR1cm4gMSAtICgxIC0gdCkgKiAoMSAtIHQpO1xufTtcblxudmFyIEVWRU5UX1RZUEVTID0ge1xuICBXSEVFTDogWyd3aGVlbCddLFxuICBQQU46IFsncGFuc3RhcnQnLCAncGFubW92ZScsICdwYW5lbmQnXSxcbiAgUElOQ0g6IFsncGluY2hzdGFydCcsICdwaW5jaG1vdmUnLCAncGluY2hlbmQnXSxcbiAgVFJJUExFX1BBTjogWyd0cmlwYW5zdGFydCcsICd0cmlwYW5tb3ZlJywgJ3RyaXBhbmVuZCddLFxuICBET1VCTEVfVEFQOiBbJ2RvdWJsZXRhcCddLFxuICBLRVlCT0FSRDogWydrZXlkb3duJ11cbn07XG5cbnZhciBNYXBDb250cm9sbGVyID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBNYXBDb250cm9sbGVyKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTWFwQ29udHJvbGxlcik7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJldmVudHNcIiwgW10pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwic2Nyb2xsWm9vbVwiLCB0cnVlKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImRyYWdQYW5cIiwgdHJ1ZSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJkcmFnUm90YXRlXCIsIHRydWUpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiZG91YmxlQ2xpY2tab29tXCIsIHRydWUpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwidG91Y2hab29tXCIsIHRydWUpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwidG91Y2hSb3RhdGVcIiwgZmFsc2UpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwia2V5Ym9hcmRcIiwgdHJ1ZSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfaW50ZXJhY3Rpb25TdGF0ZVwiLCB7XG4gICAgICBpc0RyYWdnaW5nOiBmYWxzZVxuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX2V2ZW50c1wiLCB7fSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfc2V0SW50ZXJhY3Rpb25TdGF0ZVwiLCBmdW5jdGlvbiAobmV3U3RhdGUpIHtcbiAgICAgIE9iamVjdC5hc3NpZ24oX3RoaXMuX2ludGVyYWN0aW9uU3RhdGUsIG5ld1N0YXRlKTtcblxuICAgICAgaWYgKF90aGlzLm9uU3RhdGVDaGFuZ2UpIHtcbiAgICAgICAgX3RoaXMub25TdGF0ZUNoYW5nZShfdGhpcy5faW50ZXJhY3Rpb25TdGF0ZSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfb25UcmFuc2l0aW9uXCIsIGZ1bmN0aW9uIChuZXdWaWV3cG9ydCwgb2xkVmlld3BvcnQpIHtcbiAgICAgIF90aGlzLm9uVmlld3BvcnRDaGFuZ2UobmV3Vmlld3BvcnQsIF90aGlzLl9pbnRlcmFjdGlvblN0YXRlLCBvbGRWaWV3cG9ydCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLmhhbmRsZUV2ZW50ID0gdGhpcy5oYW5kbGVFdmVudC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX3RyYW5zaXRpb25NYW5hZ2VyID0gbmV3IFRyYW5zaXRpb25NYW5hZ2VyKHtcbiAgICAgIG9uVmlld3BvcnRDaGFuZ2U6IHRoaXMuX29uVHJhbnNpdGlvbixcbiAgICAgIG9uU3RhdGVDaGFuZ2U6IHRoaXMuX3NldEludGVyYWN0aW9uU3RhdGVcbiAgICB9KTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhNYXBDb250cm9sbGVyLCBbe1xuICAgIGtleTogXCJoYW5kbGVFdmVudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVFdmVudChldmVudCkge1xuICAgICAgdGhpcy5tYXBTdGF0ZSA9IHRoaXMuZ2V0TWFwU3RhdGUoKTtcbiAgICAgIHZhciBldmVudFN0YXJ0QmxvY2tlZCA9IHRoaXMuX2V2ZW50U3RhcnRCbG9ja2VkO1xuXG4gICAgICBzd2l0Y2ggKGV2ZW50LnR5cGUpIHtcbiAgICAgICAgY2FzZSAncGFuc3RhcnQnOlxuICAgICAgICAgIHJldHVybiBldmVudFN0YXJ0QmxvY2tlZCA/IGZhbHNlIDogdGhpcy5fb25QYW5TdGFydChldmVudCk7XG5cbiAgICAgICAgY2FzZSAncGFubW92ZSc6XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX29uUGFuKGV2ZW50KTtcblxuICAgICAgICBjYXNlICdwYW5lbmQnOlxuICAgICAgICAgIHJldHVybiB0aGlzLl9vblBhbkVuZChldmVudCk7XG5cbiAgICAgICAgY2FzZSAncGluY2hzdGFydCc6XG4gICAgICAgICAgcmV0dXJuIGV2ZW50U3RhcnRCbG9ja2VkID8gZmFsc2UgOiB0aGlzLl9vblBpbmNoU3RhcnQoZXZlbnQpO1xuXG4gICAgICAgIGNhc2UgJ3BpbmNobW92ZSc6XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX29uUGluY2goZXZlbnQpO1xuXG4gICAgICAgIGNhc2UgJ3BpbmNoZW5kJzpcbiAgICAgICAgICByZXR1cm4gdGhpcy5fb25QaW5jaEVuZChldmVudCk7XG5cbiAgICAgICAgY2FzZSAndHJpcGFuc3RhcnQnOlxuICAgICAgICAgIHJldHVybiBldmVudFN0YXJ0QmxvY2tlZCA/IGZhbHNlIDogdGhpcy5fb25UcmlwbGVQYW5TdGFydChldmVudCk7XG5cbiAgICAgICAgY2FzZSAndHJpcGFubW92ZSc6XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX29uVHJpcGxlUGFuKGV2ZW50KTtcblxuICAgICAgICBjYXNlICd0cmlwYW5lbmQnOlxuICAgICAgICAgIHJldHVybiB0aGlzLl9vblRyaXBsZVBhbkVuZChldmVudCk7XG5cbiAgICAgICAgY2FzZSAnZG91YmxldGFwJzpcbiAgICAgICAgICByZXR1cm4gdGhpcy5fb25Eb3VibGVUYXAoZXZlbnQpO1xuXG4gICAgICAgIGNhc2UgJ3doZWVsJzpcbiAgICAgICAgICByZXR1cm4gdGhpcy5fb25XaGVlbChldmVudCk7XG5cbiAgICAgICAgY2FzZSAna2V5ZG93bic6XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX29uS2V5RG93bihldmVudCk7XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldENlbnRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDZW50ZXIoZXZlbnQpIHtcbiAgICAgIHZhciBfZXZlbnQkb2Zmc2V0Q2VudGVyID0gZXZlbnQub2Zmc2V0Q2VudGVyLFxuICAgICAgICAgIHggPSBfZXZlbnQkb2Zmc2V0Q2VudGVyLngsXG4gICAgICAgICAgeSA9IF9ldmVudCRvZmZzZXRDZW50ZXIueTtcbiAgICAgIHJldHVybiBbeCwgeV07XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImlzRnVuY3Rpb25LZXlQcmVzc2VkXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGlzRnVuY3Rpb25LZXlQcmVzc2VkKGV2ZW50KSB7XG4gICAgICB2YXIgc3JjRXZlbnQgPSBldmVudC5zcmNFdmVudDtcbiAgICAgIHJldHVybiBCb29sZWFuKHNyY0V2ZW50Lm1ldGFLZXkgfHwgc3JjRXZlbnQuYWx0S2V5IHx8IHNyY0V2ZW50LmN0cmxLZXkgfHwgc3JjRXZlbnQuc2hpZnRLZXkpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJibG9ja0V2ZW50c1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBibG9ja0V2ZW50cyh0aW1lb3V0KSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgdmFyIHRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChfdGhpczIuX2V2ZW50U3RhcnRCbG9ja2VkID09PSB0aW1lcikge1xuICAgICAgICAgIF90aGlzMi5fZXZlbnRTdGFydEJsb2NrZWQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9LCB0aW1lb3V0KTtcbiAgICAgIHRoaXMuX2V2ZW50U3RhcnRCbG9ja2VkID0gdGltZXI7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInVwZGF0ZVZpZXdwb3J0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZVZpZXdwb3J0KG5ld01hcFN0YXRlLCBleHRyYVByb3BzLCBpbnRlcmFjdGlvblN0YXRlKSB7XG4gICAgICB2YXIgb2xkVmlld3BvcnQgPSB0aGlzLm1hcFN0YXRlIGluc3RhbmNlb2YgTWFwU3RhdGUgPyB0aGlzLm1hcFN0YXRlLmdldFZpZXdwb3J0UHJvcHMoKSA6IHRoaXMubWFwU3RhdGU7XG5cbiAgICAgIHZhciBuZXdWaWV3cG9ydCA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbmV3TWFwU3RhdGUuZ2V0Vmlld3BvcnRQcm9wcygpKSwgZXh0cmFQcm9wcyk7XG5cbiAgICAgIHZhciB2aWV3U3RhdGVDaGFuZ2VkID0gT2JqZWN0LmtleXMobmV3Vmlld3BvcnQpLnNvbWUoZnVuY3Rpb24gKGtleSkge1xuICAgICAgICByZXR1cm4gb2xkVmlld3BvcnRba2V5XSAhPT0gbmV3Vmlld3BvcnRba2V5XTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5fc3RhdGUgPSBuZXdNYXBTdGF0ZS5nZXRTdGF0ZSgpO1xuXG4gICAgICB0aGlzLl9zZXRJbnRlcmFjdGlvblN0YXRlKGludGVyYWN0aW9uU3RhdGUpO1xuXG4gICAgICBpZiAodmlld1N0YXRlQ2hhbmdlZCkge1xuICAgICAgICB0aGlzLm9uVmlld3BvcnRDaGFuZ2UobmV3Vmlld3BvcnQsIHRoaXMuX2ludGVyYWN0aW9uU3RhdGUsIG9sZFZpZXdwb3J0KTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0TWFwU3RhdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0TWFwU3RhdGUob3ZlcnJpZGVzKSB7XG4gICAgICByZXR1cm4gbmV3IE1hcFN0YXRlKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCB0aGlzLm1hcFN0YXRlUHJvcHMpLCB0aGlzLl9zdGF0ZSksIG92ZXJyaWRlcykpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJpc0RyYWdnaW5nXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGlzRHJhZ2dpbmcoKSB7XG4gICAgICByZXR1cm4gdGhpcy5faW50ZXJhY3Rpb25TdGF0ZS5pc0RyYWdnaW5nO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzZXRPcHRpb25zXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldE9wdGlvbnMob3B0aW9ucykge1xuICAgICAgdmFyIG9uVmlld3BvcnRDaGFuZ2UgPSBvcHRpb25zLm9uVmlld3BvcnRDaGFuZ2UsXG4gICAgICAgICAgb25TdGF0ZUNoYW5nZSA9IG9wdGlvbnMub25TdGF0ZUNoYW5nZSxcbiAgICAgICAgICBfb3B0aW9ucyRldmVudE1hbmFnZXIgPSBvcHRpb25zLmV2ZW50TWFuYWdlcixcbiAgICAgICAgICBldmVudE1hbmFnZXIgPSBfb3B0aW9ucyRldmVudE1hbmFnZXIgPT09IHZvaWQgMCA/IHRoaXMuZXZlbnRNYW5hZ2VyIDogX29wdGlvbnMkZXZlbnRNYW5hZ2VyLFxuICAgICAgICAgIF9vcHRpb25zJGlzSW50ZXJhY3RpdiA9IG9wdGlvbnMuaXNJbnRlcmFjdGl2ZSxcbiAgICAgICAgICBpc0ludGVyYWN0aXZlID0gX29wdGlvbnMkaXNJbnRlcmFjdGl2ID09PSB2b2lkIDAgPyB0cnVlIDogX29wdGlvbnMkaXNJbnRlcmFjdGl2LFxuICAgICAgICAgIF9vcHRpb25zJHNjcm9sbFpvb20gPSBvcHRpb25zLnNjcm9sbFpvb20sXG4gICAgICAgICAgc2Nyb2xsWm9vbSA9IF9vcHRpb25zJHNjcm9sbFpvb20gPT09IHZvaWQgMCA/IHRoaXMuc2Nyb2xsWm9vbSA6IF9vcHRpb25zJHNjcm9sbFpvb20sXG4gICAgICAgICAgX29wdGlvbnMkZHJhZ1BhbiA9IG9wdGlvbnMuZHJhZ1BhbixcbiAgICAgICAgICBkcmFnUGFuID0gX29wdGlvbnMkZHJhZ1BhbiA9PT0gdm9pZCAwID8gdGhpcy5kcmFnUGFuIDogX29wdGlvbnMkZHJhZ1BhbixcbiAgICAgICAgICBfb3B0aW9ucyRkcmFnUm90YXRlID0gb3B0aW9ucy5kcmFnUm90YXRlLFxuICAgICAgICAgIGRyYWdSb3RhdGUgPSBfb3B0aW9ucyRkcmFnUm90YXRlID09PSB2b2lkIDAgPyB0aGlzLmRyYWdSb3RhdGUgOiBfb3B0aW9ucyRkcmFnUm90YXRlLFxuICAgICAgICAgIF9vcHRpb25zJGRvdWJsZUNsaWNrWiA9IG9wdGlvbnMuZG91YmxlQ2xpY2tab29tLFxuICAgICAgICAgIGRvdWJsZUNsaWNrWm9vbSA9IF9vcHRpb25zJGRvdWJsZUNsaWNrWiA9PT0gdm9pZCAwID8gdGhpcy5kb3VibGVDbGlja1pvb20gOiBfb3B0aW9ucyRkb3VibGVDbGlja1osXG4gICAgICAgICAgX29wdGlvbnMkdG91Y2hab29tID0gb3B0aW9ucy50b3VjaFpvb20sXG4gICAgICAgICAgdG91Y2hab29tID0gX29wdGlvbnMkdG91Y2hab29tID09PSB2b2lkIDAgPyB0aGlzLnRvdWNoWm9vbSA6IF9vcHRpb25zJHRvdWNoWm9vbSxcbiAgICAgICAgICBfb3B0aW9ucyR0b3VjaFJvdGF0ZSA9IG9wdGlvbnMudG91Y2hSb3RhdGUsXG4gICAgICAgICAgdG91Y2hSb3RhdGUgPSBfb3B0aW9ucyR0b3VjaFJvdGF0ZSA9PT0gdm9pZCAwID8gdGhpcy50b3VjaFJvdGF0ZSA6IF9vcHRpb25zJHRvdWNoUm90YXRlLFxuICAgICAgICAgIF9vcHRpb25zJGtleWJvYXJkID0gb3B0aW9ucy5rZXlib2FyZCxcbiAgICAgICAgICBrZXlib2FyZCA9IF9vcHRpb25zJGtleWJvYXJkID09PSB2b2lkIDAgPyB0aGlzLmtleWJvYXJkIDogX29wdGlvbnMka2V5Ym9hcmQ7XG4gICAgICB0aGlzLm9uVmlld3BvcnRDaGFuZ2UgPSBvblZpZXdwb3J0Q2hhbmdlO1xuICAgICAgdGhpcy5vblN0YXRlQ2hhbmdlID0gb25TdGF0ZUNoYW5nZTtcbiAgICAgIHZhciBwcmV2T3B0aW9ucyA9IHRoaXMubWFwU3RhdGVQcm9wcyB8fCB7fTtcbiAgICAgIHZhciBkaW1lbnNpb25DaGFuZ2VkID0gcHJldk9wdGlvbnMuaGVpZ2h0ICE9PSBvcHRpb25zLmhlaWdodCB8fCBwcmV2T3B0aW9ucy53aWR0aCAhPT0gb3B0aW9ucy53aWR0aDtcbiAgICAgIHRoaXMubWFwU3RhdGVQcm9wcyA9IG9wdGlvbnM7XG5cbiAgICAgIGlmIChkaW1lbnNpb25DaGFuZ2VkKSB7XG4gICAgICAgIHRoaXMubWFwU3RhdGUgPSBwcmV2T3B0aW9ucztcbiAgICAgICAgdGhpcy51cGRhdGVWaWV3cG9ydChuZXcgTWFwU3RhdGUob3B0aW9ucykpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl90cmFuc2l0aW9uTWFuYWdlci5wcm9jZXNzVmlld3BvcnRDaGFuZ2Uob3B0aW9ucyk7XG5cbiAgICAgIGlmICh0aGlzLmV2ZW50TWFuYWdlciAhPT0gZXZlbnRNYW5hZ2VyKSB7XG4gICAgICAgIHRoaXMuZXZlbnRNYW5hZ2VyID0gZXZlbnRNYW5hZ2VyO1xuICAgICAgICB0aGlzLl9ldmVudHMgPSB7fTtcbiAgICAgICAgdGhpcy50b2dnbGVFdmVudHModGhpcy5ldmVudHMsIHRydWUpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnRvZ2dsZUV2ZW50cyhFVkVOVF9UWVBFUy5XSEVFTCwgaXNJbnRlcmFjdGl2ZSAmJiBCb29sZWFuKHNjcm9sbFpvb20pKTtcbiAgICAgIHRoaXMudG9nZ2xlRXZlbnRzKEVWRU5UX1RZUEVTLlBBTiwgaXNJbnRlcmFjdGl2ZSAmJiBCb29sZWFuKGRyYWdQYW4gfHwgZHJhZ1JvdGF0ZSkpO1xuICAgICAgdGhpcy50b2dnbGVFdmVudHMoRVZFTlRfVFlQRVMuUElOQ0gsIGlzSW50ZXJhY3RpdmUgJiYgQm9vbGVhbih0b3VjaFpvb20gfHwgdG91Y2hSb3RhdGUpKTtcbiAgICAgIHRoaXMudG9nZ2xlRXZlbnRzKEVWRU5UX1RZUEVTLlRSSVBMRV9QQU4sIGlzSW50ZXJhY3RpdmUgJiYgQm9vbGVhbih0b3VjaFJvdGF0ZSkpO1xuICAgICAgdGhpcy50b2dnbGVFdmVudHMoRVZFTlRfVFlQRVMuRE9VQkxFX1RBUCwgaXNJbnRlcmFjdGl2ZSAmJiBCb29sZWFuKGRvdWJsZUNsaWNrWm9vbSkpO1xuICAgICAgdGhpcy50b2dnbGVFdmVudHMoRVZFTlRfVFlQRVMuS0VZQk9BUkQsIGlzSW50ZXJhY3RpdmUgJiYgQm9vbGVhbihrZXlib2FyZCkpO1xuICAgICAgdGhpcy5zY3JvbGxab29tID0gc2Nyb2xsWm9vbTtcbiAgICAgIHRoaXMuZHJhZ1BhbiA9IGRyYWdQYW47XG4gICAgICB0aGlzLmRyYWdSb3RhdGUgPSBkcmFnUm90YXRlO1xuICAgICAgdGhpcy5kb3VibGVDbGlja1pvb20gPSBkb3VibGVDbGlja1pvb207XG4gICAgICB0aGlzLnRvdWNoWm9vbSA9IHRvdWNoWm9vbTtcbiAgICAgIHRoaXMudG91Y2hSb3RhdGUgPSB0b3VjaFJvdGF0ZTtcbiAgICAgIHRoaXMua2V5Ym9hcmQgPSBrZXlib2FyZDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwidG9nZ2xlRXZlbnRzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHRvZ2dsZUV2ZW50cyhldmVudE5hbWVzLCBlbmFibGVkKSB7XG4gICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgaWYgKHRoaXMuZXZlbnRNYW5hZ2VyKSB7XG4gICAgICAgIGV2ZW50TmFtZXMuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnROYW1lKSB7XG4gICAgICAgICAgaWYgKF90aGlzMy5fZXZlbnRzW2V2ZW50TmFtZV0gIT09IGVuYWJsZWQpIHtcbiAgICAgICAgICAgIF90aGlzMy5fZXZlbnRzW2V2ZW50TmFtZV0gPSBlbmFibGVkO1xuXG4gICAgICAgICAgICBpZiAoZW5hYmxlZCkge1xuICAgICAgICAgICAgICBfdGhpczMuZXZlbnRNYW5hZ2VyLm9uKGV2ZW50TmFtZSwgX3RoaXMzLmhhbmRsZUV2ZW50KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIF90aGlzMy5ldmVudE1hbmFnZXIub2ZmKGV2ZW50TmFtZSwgX3RoaXMzLmhhbmRsZUV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfb25QYW5TdGFydFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfb25QYW5TdGFydChldmVudCkge1xuICAgICAgdmFyIHBvcyA9IHRoaXMuZ2V0Q2VudGVyKGV2ZW50KTtcbiAgICAgIHRoaXMuX3BhblJvdGF0ZSA9IHRoaXMuaXNGdW5jdGlvbktleVByZXNzZWQoZXZlbnQpIHx8IGV2ZW50LnJpZ2h0QnV0dG9uO1xuICAgICAgdmFyIG5ld01hcFN0YXRlID0gdGhpcy5fcGFuUm90YXRlID8gdGhpcy5tYXBTdGF0ZS5yb3RhdGVTdGFydCh7XG4gICAgICAgIHBvczogcG9zXG4gICAgICB9KSA6IHRoaXMubWFwU3RhdGUucGFuU3RhcnQoe1xuICAgICAgICBwb3M6IHBvc1xuICAgICAgfSk7XG4gICAgICB0aGlzLnVwZGF0ZVZpZXdwb3J0KG5ld01hcFN0YXRlLCBOT19UUkFOU0lUSU9OX1BST1BTLCB7XG4gICAgICAgIGlzRHJhZ2dpbmc6IHRydWVcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9vblBhblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfb25QYW4oZXZlbnQpIHtcbiAgICAgIGlmICghdGhpcy5pc0RyYWdnaW5nKCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5fcGFuUm90YXRlID8gdGhpcy5fb25QYW5Sb3RhdGUoZXZlbnQpIDogdGhpcy5fb25QYW5Nb3ZlKGV2ZW50KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX29uUGFuRW5kXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9vblBhbkVuZChldmVudCkge1xuICAgICAgaWYgKCF0aGlzLmlzRHJhZ2dpbmcoKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLl9wYW5Sb3RhdGUgPyB0aGlzLl9vblBhblJvdGF0ZUVuZChldmVudCkgOiB0aGlzLl9vblBhbk1vdmVFbmQoZXZlbnQpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfb25QYW5Nb3ZlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9vblBhbk1vdmUoZXZlbnQpIHtcbiAgICAgIGlmICghdGhpcy5kcmFnUGFuKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgdmFyIHBvcyA9IHRoaXMuZ2V0Q2VudGVyKGV2ZW50KTtcbiAgICAgIHZhciBuZXdNYXBTdGF0ZSA9IHRoaXMubWFwU3RhdGUucGFuKHtcbiAgICAgICAgcG9zOiBwb3NcbiAgICAgIH0pO1xuICAgICAgdGhpcy51cGRhdGVWaWV3cG9ydChuZXdNYXBTdGF0ZSwgTk9fVFJBTlNJVElPTl9QUk9QUywge1xuICAgICAgICBpc1Bhbm5pbmc6IHRydWVcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9vblBhbk1vdmVFbmRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX29uUGFuTW92ZUVuZChldmVudCkge1xuICAgICAgaWYgKHRoaXMuZHJhZ1Bhbikge1xuICAgICAgICB2YXIgX3RoaXMkZHJhZ1BhbiRpbmVydGlhID0gdGhpcy5kcmFnUGFuLmluZXJ0aWEsXG4gICAgICAgICAgICBpbmVydGlhID0gX3RoaXMkZHJhZ1BhbiRpbmVydGlhID09PSB2b2lkIDAgPyBERUZBVUxUX0lORVJUSUEgOiBfdGhpcyRkcmFnUGFuJGluZXJ0aWE7XG5cbiAgICAgICAgaWYgKGluZXJ0aWEgJiYgZXZlbnQudmVsb2NpdHkpIHtcbiAgICAgICAgICB2YXIgcG9zID0gdGhpcy5nZXRDZW50ZXIoZXZlbnQpO1xuICAgICAgICAgIHZhciBlbmRQb3MgPSBbcG9zWzBdICsgZXZlbnQudmVsb2NpdHlYICogaW5lcnRpYSAvIDIsIHBvc1sxXSArIGV2ZW50LnZlbG9jaXR5WSAqIGluZXJ0aWEgLyAyXTtcbiAgICAgICAgICB2YXIgbmV3Q29udHJvbGxlclN0YXRlID0gdGhpcy5tYXBTdGF0ZS5wYW4oe1xuICAgICAgICAgICAgcG9zOiBlbmRQb3NcbiAgICAgICAgICB9KS5wYW5FbmQoKTtcbiAgICAgICAgICB0aGlzLnVwZGF0ZVZpZXdwb3J0KG5ld0NvbnRyb2xsZXJTdGF0ZSwgX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBMSU5FQVJfVFJBTlNJVElPTl9QUk9QUyksIHt9LCB7XG4gICAgICAgICAgICB0cmFuc2l0aW9uRHVyYXRpb246IGluZXJ0aWEsXG4gICAgICAgICAgICB0cmFuc2l0aW9uRWFzaW5nOiBJTkVSVElBX0VBU0lOR1xuICAgICAgICAgIH0pLCB7XG4gICAgICAgICAgICBpc0RyYWdnaW5nOiBmYWxzZSxcbiAgICAgICAgICAgIGlzUGFubmluZzogdHJ1ZVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciBuZXdNYXBTdGF0ZSA9IHRoaXMubWFwU3RhdGUucGFuRW5kKCk7XG4gICAgICB0aGlzLnVwZGF0ZVZpZXdwb3J0KG5ld01hcFN0YXRlLCBudWxsLCB7XG4gICAgICAgIGlzRHJhZ2dpbmc6IGZhbHNlLFxuICAgICAgICBpc1Bhbm5pbmc6IGZhbHNlXG4gICAgICB9KTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfb25QYW5Sb3RhdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX29uUGFuUm90YXRlKGV2ZW50KSB7XG4gICAgICBpZiAoIXRoaXMuZHJhZ1JvdGF0ZSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIHZhciBwb3MgPSB0aGlzLmdldENlbnRlcihldmVudCk7XG4gICAgICB2YXIgbmV3TWFwU3RhdGUgPSB0aGlzLm1hcFN0YXRlLnJvdGF0ZSh7XG4gICAgICAgIHBvczogcG9zXG4gICAgICB9KTtcbiAgICAgIHRoaXMudXBkYXRlVmlld3BvcnQobmV3TWFwU3RhdGUsIE5PX1RSQU5TSVRJT05fUFJPUFMsIHtcbiAgICAgICAgaXNSb3RhdGluZzogdHJ1ZVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX29uUGFuUm90YXRlRW5kXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9vblBhblJvdGF0ZUVuZChldmVudCkge1xuICAgICAgaWYgKHRoaXMuZHJhZ1JvdGF0ZSkge1xuICAgICAgICB2YXIgX3RoaXMkZHJhZ1JvdGF0ZSRpbmVyID0gdGhpcy5kcmFnUm90YXRlLmluZXJ0aWEsXG4gICAgICAgICAgICBpbmVydGlhID0gX3RoaXMkZHJhZ1JvdGF0ZSRpbmVyID09PSB2b2lkIDAgPyBERUZBVUxUX0lORVJUSUEgOiBfdGhpcyRkcmFnUm90YXRlJGluZXI7XG5cbiAgICAgICAgaWYgKGluZXJ0aWEgJiYgZXZlbnQudmVsb2NpdHkpIHtcbiAgICAgICAgICB2YXIgcG9zID0gdGhpcy5nZXRDZW50ZXIoZXZlbnQpO1xuICAgICAgICAgIHZhciBlbmRQb3MgPSBbcG9zWzBdICsgZXZlbnQudmVsb2NpdHlYICogaW5lcnRpYSAvIDIsIHBvc1sxXSArIGV2ZW50LnZlbG9jaXR5WSAqIGluZXJ0aWEgLyAyXTtcbiAgICAgICAgICB2YXIgbmV3Q29udHJvbGxlclN0YXRlID0gdGhpcy5tYXBTdGF0ZS5yb3RhdGUoe1xuICAgICAgICAgICAgcG9zOiBlbmRQb3NcbiAgICAgICAgICB9KS5yb3RhdGVFbmQoKTtcbiAgICAgICAgICB0aGlzLnVwZGF0ZVZpZXdwb3J0KG5ld0NvbnRyb2xsZXJTdGF0ZSwgX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBMSU5FQVJfVFJBTlNJVElPTl9QUk9QUyksIHt9LCB7XG4gICAgICAgICAgICB0cmFuc2l0aW9uRHVyYXRpb246IGluZXJ0aWEsXG4gICAgICAgICAgICB0cmFuc2l0aW9uRWFzaW5nOiBJTkVSVElBX0VBU0lOR1xuICAgICAgICAgIH0pLCB7XG4gICAgICAgICAgICBpc0RyYWdnaW5nOiBmYWxzZSxcbiAgICAgICAgICAgIGlzUm90YXRpbmc6IHRydWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgbmV3TWFwU3RhdGUgPSB0aGlzLm1hcFN0YXRlLnBhbkVuZCgpO1xuICAgICAgdGhpcy51cGRhdGVWaWV3cG9ydChuZXdNYXBTdGF0ZSwgbnVsbCwge1xuICAgICAgICBpc0RyYWdnaW5nOiBmYWxzZSxcbiAgICAgICAgaXNSb3RhdGluZzogZmFsc2VcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9vbldoZWVsXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9vbldoZWVsKGV2ZW50KSB7XG4gICAgICBpZiAoIXRoaXMuc2Nyb2xsWm9vbSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIHZhciBfdGhpcyRzY3JvbGxab29tID0gdGhpcy5zY3JvbGxab29tLFxuICAgICAgICAgIF90aGlzJHNjcm9sbFpvb20kc3BlZSA9IF90aGlzJHNjcm9sbFpvb20uc3BlZWQsXG4gICAgICAgICAgc3BlZWQgPSBfdGhpcyRzY3JvbGxab29tJHNwZWUgPT09IHZvaWQgMCA/IDAuMDEgOiBfdGhpcyRzY3JvbGxab29tJHNwZWUsXG4gICAgICAgICAgX3RoaXMkc2Nyb2xsWm9vbSRzbW9vID0gX3RoaXMkc2Nyb2xsWm9vbS5zbW9vdGgsXG4gICAgICAgICAgc21vb3RoID0gX3RoaXMkc2Nyb2xsWm9vbSRzbW9vID09PSB2b2lkIDAgPyBmYWxzZSA6IF90aGlzJHNjcm9sbFpvb20kc21vbztcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB2YXIgcG9zID0gdGhpcy5nZXRDZW50ZXIoZXZlbnQpO1xuICAgICAgdmFyIGRlbHRhID0gZXZlbnQuZGVsdGE7XG4gICAgICB2YXIgc2NhbGUgPSAyIC8gKDEgKyBNYXRoLmV4cCgtTWF0aC5hYnMoZGVsdGEgKiBzcGVlZCkpKTtcblxuICAgICAgaWYgKGRlbHRhIDwgMCAmJiBzY2FsZSAhPT0gMCkge1xuICAgICAgICBzY2FsZSA9IDEgLyBzY2FsZTtcbiAgICAgIH1cblxuICAgICAgdmFyIG5ld01hcFN0YXRlID0gdGhpcy5tYXBTdGF0ZS56b29tKHtcbiAgICAgICAgcG9zOiBwb3MsXG4gICAgICAgIHNjYWxlOiBzY2FsZVxuICAgICAgfSk7XG5cbiAgICAgIGlmIChuZXdNYXBTdGF0ZS5nZXRWaWV3cG9ydFByb3BzKCkuem9vbSA9PT0gdGhpcy5tYXBTdGF0ZVByb3BzLnpvb20pIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnVwZGF0ZVZpZXdwb3J0KG5ld01hcFN0YXRlLCBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIExJTkVBUl9UUkFOU0lUSU9OX1BST1BTKSwge30sIHtcbiAgICAgICAgdHJhbnNpdGlvbkludGVycG9sYXRvcjogbmV3IExpbmVhckludGVycG9sYXRvcih7XG4gICAgICAgICAgYXJvdW5kOiBwb3NcbiAgICAgICAgfSksXG4gICAgICAgIHRyYW5zaXRpb25EdXJhdGlvbjogc21vb3RoID8gMjUwIDogMVxuICAgICAgfSksIHtcbiAgICAgICAgaXNQYW5uaW5nOiB0cnVlLFxuICAgICAgICBpc1pvb21pbmc6IHRydWVcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9vblBpbmNoU3RhcnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX29uUGluY2hTdGFydChldmVudCkge1xuICAgICAgdmFyIHBvcyA9IHRoaXMuZ2V0Q2VudGVyKGV2ZW50KTtcbiAgICAgIHZhciBuZXdNYXBTdGF0ZSA9IHRoaXMubWFwU3RhdGUuem9vbVN0YXJ0KHtcbiAgICAgICAgcG9zOiBwb3NcbiAgICAgIH0pLnJvdGF0ZVN0YXJ0KHtcbiAgICAgICAgcG9zOiBwb3NcbiAgICAgIH0pO1xuICAgICAgdGhpcy5fc3RhcnRQaW5jaFJvdGF0aW9uID0gZXZlbnQucm90YXRpb247XG4gICAgICB0aGlzLl9sYXN0UGluY2hFdmVudCA9IGV2ZW50O1xuICAgICAgdGhpcy51cGRhdGVWaWV3cG9ydChuZXdNYXBTdGF0ZSwgTk9fVFJBTlNJVElPTl9QUk9QUywge1xuICAgICAgICBpc0RyYWdnaW5nOiB0cnVlXG4gICAgICB9KTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfb25QaW5jaFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfb25QaW5jaChldmVudCkge1xuICAgICAgaWYgKCF0aGlzLmlzRHJhZ2dpbmcoKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGlmICghdGhpcy50b3VjaFpvb20gJiYgIXRoaXMudG91Y2hSb3RhdGUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICB2YXIgbmV3TWFwU3RhdGUgPSB0aGlzLm1hcFN0YXRlO1xuXG4gICAgICBpZiAodGhpcy50b3VjaFpvb20pIHtcbiAgICAgICAgdmFyIHNjYWxlID0gZXZlbnQuc2NhbGU7XG4gICAgICAgIHZhciBwb3MgPSB0aGlzLmdldENlbnRlcihldmVudCk7XG4gICAgICAgIG5ld01hcFN0YXRlID0gbmV3TWFwU3RhdGUuem9vbSh7XG4gICAgICAgICAgcG9zOiBwb3MsXG4gICAgICAgICAgc2NhbGU6IHNjYWxlXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy50b3VjaFJvdGF0ZSkge1xuICAgICAgICB2YXIgcm90YXRpb24gPSBldmVudC5yb3RhdGlvbjtcbiAgICAgICAgbmV3TWFwU3RhdGUgPSBuZXdNYXBTdGF0ZS5yb3RhdGUoe1xuICAgICAgICAgIGRlbHRhQW5nbGVYOiB0aGlzLl9zdGFydFBpbmNoUm90YXRpb24gLSByb3RhdGlvblxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgdGhpcy51cGRhdGVWaWV3cG9ydChuZXdNYXBTdGF0ZSwgTk9fVFJBTlNJVElPTl9QUk9QUywge1xuICAgICAgICBpc0RyYWdnaW5nOiB0cnVlLFxuICAgICAgICBpc1Bhbm5pbmc6IEJvb2xlYW4odGhpcy50b3VjaFpvb20pLFxuICAgICAgICBpc1pvb21pbmc6IEJvb2xlYW4odGhpcy50b3VjaFpvb20pLFxuICAgICAgICBpc1JvdGF0aW5nOiBCb29sZWFuKHRoaXMudG91Y2hSb3RhdGUpXG4gICAgICB9KTtcbiAgICAgIHRoaXMuX2xhc3RQaW5jaEV2ZW50ID0gZXZlbnQ7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX29uUGluY2hFbmRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX29uUGluY2hFbmQoZXZlbnQpIHtcbiAgICAgIGlmICghdGhpcy5pc0RyYWdnaW5nKCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy50b3VjaFpvb20pIHtcbiAgICAgICAgdmFyIF90aGlzJHRvdWNoWm9vbSRpbmVydCA9IHRoaXMudG91Y2hab29tLmluZXJ0aWEsXG4gICAgICAgICAgICBpbmVydGlhID0gX3RoaXMkdG91Y2hab29tJGluZXJ0ID09PSB2b2lkIDAgPyBERUZBVUxUX0lORVJUSUEgOiBfdGhpcyR0b3VjaFpvb20kaW5lcnQ7XG4gICAgICAgIHZhciBfbGFzdFBpbmNoRXZlbnQgPSB0aGlzLl9sYXN0UGluY2hFdmVudDtcblxuICAgICAgICBpZiAoaW5lcnRpYSAmJiBfbGFzdFBpbmNoRXZlbnQgJiYgZXZlbnQuc2NhbGUgIT09IF9sYXN0UGluY2hFdmVudC5zY2FsZSkge1xuICAgICAgICAgIHZhciBwb3MgPSB0aGlzLmdldENlbnRlcihldmVudCk7XG5cbiAgICAgICAgICB2YXIgX25ld01hcFN0YXRlID0gdGhpcy5tYXBTdGF0ZS5yb3RhdGVFbmQoKTtcblxuICAgICAgICAgIHZhciB6ID0gTWF0aC5sb2cyKGV2ZW50LnNjYWxlKTtcblxuICAgICAgICAgIHZhciB2ZWxvY2l0eVogPSAoeiAtIE1hdGgubG9nMihfbGFzdFBpbmNoRXZlbnQuc2NhbGUpKSAvIChldmVudC5kZWx0YVRpbWUgLSBfbGFzdFBpbmNoRXZlbnQuZGVsdGFUaW1lKTtcblxuICAgICAgICAgIHZhciBlbmRTY2FsZSA9IE1hdGgucG93KDIsIHogKyB2ZWxvY2l0eVogKiBpbmVydGlhIC8gMik7XG4gICAgICAgICAgX25ld01hcFN0YXRlID0gX25ld01hcFN0YXRlLnpvb20oe1xuICAgICAgICAgICAgcG9zOiBwb3MsXG4gICAgICAgICAgICBzY2FsZTogZW5kU2NhbGVcbiAgICAgICAgICB9KS56b29tRW5kKCk7XG4gICAgICAgICAgdGhpcy51cGRhdGVWaWV3cG9ydChfbmV3TWFwU3RhdGUsIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgTElORUFSX1RSQU5TSVRJT05fUFJPUFMpLCB7fSwge1xuICAgICAgICAgICAgdHJhbnNpdGlvbkludGVycG9sYXRvcjogbmV3IExpbmVhckludGVycG9sYXRvcih7XG4gICAgICAgICAgICAgIGFyb3VuZDogcG9zXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIHRyYW5zaXRpb25EdXJhdGlvbjogaW5lcnRpYSxcbiAgICAgICAgICAgIHRyYW5zaXRpb25FYXNpbmc6IElORVJUSUFfRUFTSU5HXG4gICAgICAgICAgfSksIHtcbiAgICAgICAgICAgIGlzRHJhZ2dpbmc6IGZhbHNlLFxuICAgICAgICAgICAgaXNQYW5uaW5nOiBCb29sZWFuKHRoaXMudG91Y2hab29tKSxcbiAgICAgICAgICAgIGlzWm9vbWluZzogQm9vbGVhbih0aGlzLnRvdWNoWm9vbSksXG4gICAgICAgICAgICBpc1JvdGF0aW5nOiBmYWxzZVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHRoaXMuYmxvY2tFdmVudHMoaW5lcnRpYSk7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIG5ld01hcFN0YXRlID0gdGhpcy5tYXBTdGF0ZS56b29tRW5kKCkucm90YXRlRW5kKCk7XG4gICAgICB0aGlzLl9zdGF0ZS5zdGFydFBpbmNoUm90YXRpb24gPSAwO1xuICAgICAgdGhpcy51cGRhdGVWaWV3cG9ydChuZXdNYXBTdGF0ZSwgbnVsbCwge1xuICAgICAgICBpc0RyYWdnaW5nOiBmYWxzZSxcbiAgICAgICAgaXNQYW5uaW5nOiBmYWxzZSxcbiAgICAgICAgaXNab29taW5nOiBmYWxzZSxcbiAgICAgICAgaXNSb3RhdGluZzogZmFsc2VcbiAgICAgIH0pO1xuICAgICAgdGhpcy5fc3RhcnRQaW5jaFJvdGF0aW9uID0gbnVsbDtcbiAgICAgIHRoaXMuX2xhc3RQaW5jaEV2ZW50ID0gbnVsbDtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfb25UcmlwbGVQYW5TdGFydFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfb25UcmlwbGVQYW5TdGFydChldmVudCkge1xuICAgICAgdmFyIHBvcyA9IHRoaXMuZ2V0Q2VudGVyKGV2ZW50KTtcbiAgICAgIHZhciBuZXdNYXBTdGF0ZSA9IHRoaXMubWFwU3RhdGUucm90YXRlU3RhcnQoe1xuICAgICAgICBwb3M6IHBvc1xuICAgICAgfSk7XG4gICAgICB0aGlzLnVwZGF0ZVZpZXdwb3J0KG5ld01hcFN0YXRlLCBOT19UUkFOU0lUSU9OX1BST1BTLCB7XG4gICAgICAgIGlzRHJhZ2dpbmc6IHRydWVcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9vblRyaXBsZVBhblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfb25UcmlwbGVQYW4oZXZlbnQpIHtcbiAgICAgIGlmICghdGhpcy5pc0RyYWdnaW5nKCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXRoaXMudG91Y2hSb3RhdGUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICB2YXIgcG9zID0gdGhpcy5nZXRDZW50ZXIoZXZlbnQpO1xuICAgICAgcG9zWzBdIC09IGV2ZW50LmRlbHRhWDtcbiAgICAgIHZhciBuZXdNYXBTdGF0ZSA9IHRoaXMubWFwU3RhdGUucm90YXRlKHtcbiAgICAgICAgcG9zOiBwb3NcbiAgICAgIH0pO1xuICAgICAgdGhpcy51cGRhdGVWaWV3cG9ydChuZXdNYXBTdGF0ZSwgTk9fVFJBTlNJVElPTl9QUk9QUywge1xuICAgICAgICBpc1JvdGF0aW5nOiB0cnVlXG4gICAgICB9KTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfb25UcmlwbGVQYW5FbmRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX29uVHJpcGxlUGFuRW5kKGV2ZW50KSB7XG4gICAgICBpZiAoIXRoaXMuaXNEcmFnZ2luZygpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMudG91Y2hSb3RhdGUpIHtcbiAgICAgICAgdmFyIF90aGlzJHRvdWNoUm90YXRlJGluZSA9IHRoaXMudG91Y2hSb3RhdGUuaW5lcnRpYSxcbiAgICAgICAgICAgIGluZXJ0aWEgPSBfdGhpcyR0b3VjaFJvdGF0ZSRpbmUgPT09IHZvaWQgMCA/IERFRkFVTFRfSU5FUlRJQSA6IF90aGlzJHRvdWNoUm90YXRlJGluZTtcblxuICAgICAgICBpZiAoaW5lcnRpYSAmJiBldmVudC52ZWxvY2l0eVkpIHtcbiAgICAgICAgICB2YXIgcG9zID0gdGhpcy5nZXRDZW50ZXIoZXZlbnQpO1xuICAgICAgICAgIHZhciBlbmRQb3MgPSBbcG9zWzBdLCBwb3NbMV0gKz0gZXZlbnQudmVsb2NpdHlZICogaW5lcnRpYSAvIDJdO1xuXG4gICAgICAgICAgdmFyIF9uZXdNYXBTdGF0ZTIgPSB0aGlzLm1hcFN0YXRlLnJvdGF0ZSh7XG4gICAgICAgICAgICBwb3M6IGVuZFBvc1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgdGhpcy51cGRhdGVWaWV3cG9ydChfbmV3TWFwU3RhdGUyLCBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIExJTkVBUl9UUkFOU0lUSU9OX1BST1BTKSwge30sIHtcbiAgICAgICAgICAgIHRyYW5zaXRpb25EdXJhdGlvbjogaW5lcnRpYSxcbiAgICAgICAgICAgIHRyYW5zaXRpb25FYXNpbmc6IElORVJUSUFfRUFTSU5HXG4gICAgICAgICAgfSksIHtcbiAgICAgICAgICAgIGlzRHJhZ2dpbmc6IGZhbHNlLFxuICAgICAgICAgICAgaXNSb3RhdGluZzogdHJ1ZVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHRoaXMuYmxvY2tFdmVudHMoaW5lcnRpYSk7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciBuZXdNYXBTdGF0ZSA9IHRoaXMubWFwU3RhdGUucm90YXRlRW5kKCk7XG4gICAgICB0aGlzLnVwZGF0ZVZpZXdwb3J0KG5ld01hcFN0YXRlLCBudWxsLCB7XG4gICAgICAgIGlzRHJhZ2dpbmc6IGZhbHNlLFxuICAgICAgICBpc1JvdGF0aW5nOiBmYWxzZVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX29uRG91YmxlVGFwXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9vbkRvdWJsZVRhcChldmVudCkge1xuICAgICAgaWYgKCF0aGlzLmRvdWJsZUNsaWNrWm9vbSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIHZhciBwb3MgPSB0aGlzLmdldENlbnRlcihldmVudCk7XG4gICAgICB2YXIgaXNab29tT3V0ID0gdGhpcy5pc0Z1bmN0aW9uS2V5UHJlc3NlZChldmVudCk7XG4gICAgICB2YXIgbmV3TWFwU3RhdGUgPSB0aGlzLm1hcFN0YXRlLnpvb20oe1xuICAgICAgICBwb3M6IHBvcyxcbiAgICAgICAgc2NhbGU6IGlzWm9vbU91dCA/IDAuNSA6IDJcbiAgICAgIH0pO1xuICAgICAgdGhpcy51cGRhdGVWaWV3cG9ydChuZXdNYXBTdGF0ZSwgT2JqZWN0LmFzc2lnbih7fSwgTElORUFSX1RSQU5TSVRJT05fUFJPUFMsIHtcbiAgICAgICAgdHJhbnNpdGlvbkludGVycG9sYXRvcjogbmV3IExpbmVhckludGVycG9sYXRvcih7XG4gICAgICAgICAgYXJvdW5kOiBwb3NcbiAgICAgICAgfSlcbiAgICAgIH0pLCB7XG4gICAgICAgIGlzWm9vbWluZzogdHJ1ZVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX29uS2V5RG93blwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfb25LZXlEb3duKGV2ZW50KSB7XG4gICAgICBpZiAoIXRoaXMua2V5Ym9hcmQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICB2YXIgZnVuY0tleSA9IHRoaXMuaXNGdW5jdGlvbktleVByZXNzZWQoZXZlbnQpO1xuICAgICAgdmFyIF90aGlzJGtleWJvYXJkID0gdGhpcy5rZXlib2FyZCxcbiAgICAgICAgICBfdGhpcyRrZXlib2FyZCR6b29tU3AgPSBfdGhpcyRrZXlib2FyZC56b29tU3BlZWQsXG4gICAgICAgICAgem9vbVNwZWVkID0gX3RoaXMka2V5Ym9hcmQkem9vbVNwID09PSB2b2lkIDAgPyAyIDogX3RoaXMka2V5Ym9hcmQkem9vbVNwLFxuICAgICAgICAgIF90aGlzJGtleWJvYXJkJG1vdmVTcCA9IF90aGlzJGtleWJvYXJkLm1vdmVTcGVlZCxcbiAgICAgICAgICBtb3ZlU3BlZWQgPSBfdGhpcyRrZXlib2FyZCRtb3ZlU3AgPT09IHZvaWQgMCA/IDEwMCA6IF90aGlzJGtleWJvYXJkJG1vdmVTcCxcbiAgICAgICAgICBfdGhpcyRrZXlib2FyZCRyb3RhdGUgPSBfdGhpcyRrZXlib2FyZC5yb3RhdGVTcGVlZFgsXG4gICAgICAgICAgcm90YXRlU3BlZWRYID0gX3RoaXMka2V5Ym9hcmQkcm90YXRlID09PSB2b2lkIDAgPyAxNSA6IF90aGlzJGtleWJvYXJkJHJvdGF0ZSxcbiAgICAgICAgICBfdGhpcyRrZXlib2FyZCRyb3RhdGUyID0gX3RoaXMka2V5Ym9hcmQucm90YXRlU3BlZWRZLFxuICAgICAgICAgIHJvdGF0ZVNwZWVkWSA9IF90aGlzJGtleWJvYXJkJHJvdGF0ZTIgPT09IHZvaWQgMCA/IDEwIDogX3RoaXMka2V5Ym9hcmQkcm90YXRlMjtcbiAgICAgIHZhciBtYXBTdGF0ZVByb3BzID0gdGhpcy5tYXBTdGF0ZVByb3BzO1xuICAgICAgdmFyIG5ld01hcFN0YXRlO1xuXG4gICAgICBzd2l0Y2ggKGV2ZW50LnNyY0V2ZW50LmtleUNvZGUpIHtcbiAgICAgICAgY2FzZSAxODk6XG4gICAgICAgICAgaWYgKGZ1bmNLZXkpIHtcbiAgICAgICAgICAgIG5ld01hcFN0YXRlID0gdGhpcy5nZXRNYXBTdGF0ZSh7XG4gICAgICAgICAgICAgIHpvb206IG1hcFN0YXRlUHJvcHMuem9vbSAtIE1hdGgubG9nMih6b29tU3BlZWQpIC0gMVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5ld01hcFN0YXRlID0gdGhpcy5nZXRNYXBTdGF0ZSh7XG4gICAgICAgICAgICAgIHpvb206IG1hcFN0YXRlUHJvcHMuem9vbSAtIE1hdGgubG9nMih6b29tU3BlZWQpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIDE4NzpcbiAgICAgICAgICBpZiAoZnVuY0tleSkge1xuICAgICAgICAgICAgbmV3TWFwU3RhdGUgPSB0aGlzLmdldE1hcFN0YXRlKHtcbiAgICAgICAgICAgICAgem9vbTogbWFwU3RhdGVQcm9wcy56b29tICsgTWF0aC5sb2cyKHpvb21TcGVlZCkgKyAxXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbmV3TWFwU3RhdGUgPSB0aGlzLmdldE1hcFN0YXRlKHtcbiAgICAgICAgICAgICAgem9vbTogbWFwU3RhdGVQcm9wcy56b29tICsgTWF0aC5sb2cyKHpvb21TcGVlZClcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgMzc6XG4gICAgICAgICAgaWYgKGZ1bmNLZXkpIHtcbiAgICAgICAgICAgIG5ld01hcFN0YXRlID0gdGhpcy5nZXRNYXBTdGF0ZSh7XG4gICAgICAgICAgICAgIGJlYXJpbmc6IG1hcFN0YXRlUHJvcHMuYmVhcmluZyAtIHJvdGF0ZVNwZWVkWFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5ld01hcFN0YXRlID0gdGhpcy5tYXBTdGF0ZS5wYW4oe1xuICAgICAgICAgICAgICBwb3M6IFttb3ZlU3BlZWQsIDBdLFxuICAgICAgICAgICAgICBzdGFydFBvczogWzAsIDBdXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIDM5OlxuICAgICAgICAgIGlmIChmdW5jS2V5KSB7XG4gICAgICAgICAgICBuZXdNYXBTdGF0ZSA9IHRoaXMuZ2V0TWFwU3RhdGUoe1xuICAgICAgICAgICAgICBiZWFyaW5nOiBtYXBTdGF0ZVByb3BzLmJlYXJpbmcgKyByb3RhdGVTcGVlZFhcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuZXdNYXBTdGF0ZSA9IHRoaXMubWFwU3RhdGUucGFuKHtcbiAgICAgICAgICAgICAgcG9zOiBbLW1vdmVTcGVlZCwgMF0sXG4gICAgICAgICAgICAgIHN0YXJ0UG9zOiBbMCwgMF1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgMzg6XG4gICAgICAgICAgaWYgKGZ1bmNLZXkpIHtcbiAgICAgICAgICAgIG5ld01hcFN0YXRlID0gdGhpcy5nZXRNYXBTdGF0ZSh7XG4gICAgICAgICAgICAgIHBpdGNoOiBtYXBTdGF0ZVByb3BzLnBpdGNoICsgcm90YXRlU3BlZWRZXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbmV3TWFwU3RhdGUgPSB0aGlzLm1hcFN0YXRlLnBhbih7XG4gICAgICAgICAgICAgIHBvczogWzAsIG1vdmVTcGVlZF0sXG4gICAgICAgICAgICAgIHN0YXJ0UG9zOiBbMCwgMF1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgNDA6XG4gICAgICAgICAgaWYgKGZ1bmNLZXkpIHtcbiAgICAgICAgICAgIG5ld01hcFN0YXRlID0gdGhpcy5nZXRNYXBTdGF0ZSh7XG4gICAgICAgICAgICAgIHBpdGNoOiBtYXBTdGF0ZVByb3BzLnBpdGNoIC0gcm90YXRlU3BlZWRZXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbmV3TWFwU3RhdGUgPSB0aGlzLm1hcFN0YXRlLnBhbih7XG4gICAgICAgICAgICAgIHBvczogWzAsIC1tb3ZlU3BlZWRdLFxuICAgICAgICAgICAgICBzdGFydFBvczogWzAsIDBdXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMudXBkYXRlVmlld3BvcnQobmV3TWFwU3RhdGUsIExJTkVBUl9UUkFOU0lUSU9OX1BST1BTKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTWFwQ29udHJvbGxlcjtcbn0oKTtcblxuZXhwb3J0IHsgTWFwQ29udHJvbGxlciBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXAtY29udHJvbGxlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/react-map-gl/dist/esm/utils/map-controller.js\n");

/***/ }),

/***/ "./node_modules/react-map-gl/dist/esm/utils/map-state.js":
/*!***************************************************************!*\
  !*** ./node_modules/react-map-gl/dist/esm/utils/map-state.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MAPBOX_LIMITS: () => (/* binding */ MAPBOX_LIMITS),\n/* harmony export */   \"default\": () => (/* binding */ MapState)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/esm/slicedToArray */ \"./node_modules/@babel/runtime/helpers/esm/slicedToArray.js\");\n/* harmony import */ var _babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/esm/classCallCheck */ \"./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/esm/createClass */ \"./node_modules/@babel/runtime/helpers/esm/createClass.js\");\n/* harmony import */ var viewport_mercator_project__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! viewport-mercator-project */ \"./node_modules/react-map-gl/node_modules/viewport-mercator-project/module.js\");\n/* harmony import */ var _math_utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./math-utils */ \"./node_modules/react-map-gl/dist/esm/utils/math-utils.js\");\n/* harmony import */ var _assert__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./assert */ \"./node_modules/react-map-gl/dist/esm/utils/assert.js\");\n\n\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n\n\nvar MAPBOX_LIMITS = {\n  minZoom: 0,\n  maxZoom: 24,\n  minPitch: 0,\n  maxPitch: 85\n};\nvar DEFAULT_STATE = {\n  pitch: 0,\n  bearing: 0,\n  altitude: 1.5\n};\nvar PITCH_MOUSE_THRESHOLD = 5;\nvar PITCH_ACCEL = 1.2;\n\nvar MapState = function () {\n  function MapState(_ref) {\n    var width = _ref.width,\n        height = _ref.height,\n        latitude = _ref.latitude,\n        longitude = _ref.longitude,\n        zoom = _ref.zoom,\n        _ref$bearing = _ref.bearing,\n        bearing = _ref$bearing === void 0 ? DEFAULT_STATE.bearing : _ref$bearing,\n        _ref$pitch = _ref.pitch,\n        pitch = _ref$pitch === void 0 ? DEFAULT_STATE.pitch : _ref$pitch,\n        _ref$altitude = _ref.altitude,\n        altitude = _ref$altitude === void 0 ? DEFAULT_STATE.altitude : _ref$altitude,\n        _ref$maxZoom = _ref.maxZoom,\n        maxZoom = _ref$maxZoom === void 0 ? MAPBOX_LIMITS.maxZoom : _ref$maxZoom,\n        _ref$minZoom = _ref.minZoom,\n        minZoom = _ref$minZoom === void 0 ? MAPBOX_LIMITS.minZoom : _ref$minZoom,\n        _ref$maxPitch = _ref.maxPitch,\n        maxPitch = _ref$maxPitch === void 0 ? MAPBOX_LIMITS.maxPitch : _ref$maxPitch,\n        _ref$minPitch = _ref.minPitch,\n        minPitch = _ref$minPitch === void 0 ? MAPBOX_LIMITS.minPitch : _ref$minPitch,\n        transitionDuration = _ref.transitionDuration,\n        transitionEasing = _ref.transitionEasing,\n        transitionInterpolator = _ref.transitionInterpolator,\n        transitionInterruption = _ref.transitionInterruption,\n        startPanLngLat = _ref.startPanLngLat,\n        startZoomLngLat = _ref.startZoomLngLat,\n        startRotatePos = _ref.startRotatePos,\n        startBearing = _ref.startBearing,\n        startPitch = _ref.startPitch,\n        startZoom = _ref.startZoom;\n\n    (0,_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, MapState);\n\n    (0,_assert__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(Number.isFinite(width), '`width` must be supplied');\n    (0,_assert__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(Number.isFinite(height), '`height` must be supplied');\n    (0,_assert__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(Number.isFinite(longitude), '`longitude` must be supplied');\n    (0,_assert__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(Number.isFinite(latitude), '`latitude` must be supplied');\n    (0,_assert__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(Number.isFinite(zoom), '`zoom` must be supplied');\n    this._viewportProps = this._applyConstraints({\n      width: width,\n      height: height,\n      latitude: latitude,\n      longitude: longitude,\n      zoom: zoom,\n      bearing: bearing,\n      pitch: pitch,\n      altitude: altitude,\n      maxZoom: maxZoom,\n      minZoom: minZoom,\n      maxPitch: maxPitch,\n      minPitch: minPitch,\n      transitionDuration: transitionDuration,\n      transitionEasing: transitionEasing,\n      transitionInterpolator: transitionInterpolator,\n      transitionInterruption: transitionInterruption\n    });\n    this._state = {\n      startPanLngLat: startPanLngLat,\n      startZoomLngLat: startZoomLngLat,\n      startRotatePos: startRotatePos,\n      startBearing: startBearing,\n      startPitch: startPitch,\n      startZoom: startZoom\n    };\n  }\n\n  (0,_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(MapState, [{\n    key: \"getViewportProps\",\n    value: function getViewportProps() {\n      return this._viewportProps;\n    }\n  }, {\n    key: \"getState\",\n    value: function getState() {\n      return this._state;\n    }\n  }, {\n    key: \"panStart\",\n    value: function panStart(_ref2) {\n      var pos = _ref2.pos;\n      return this._getUpdatedMapState({\n        startPanLngLat: this._unproject(pos)\n      });\n    }\n  }, {\n    key: \"pan\",\n    value: function pan(_ref3) {\n      var pos = _ref3.pos,\n          startPos = _ref3.startPos;\n\n      var startPanLngLat = this._state.startPanLngLat || this._unproject(startPos);\n\n      if (!startPanLngLat) {\n        return this;\n      }\n\n      var _this$_calculateNewLn = this._calculateNewLngLat({\n        startPanLngLat: startPanLngLat,\n        pos: pos\n      }),\n          _this$_calculateNewLn2 = (0,_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(_this$_calculateNewLn, 2),\n          longitude = _this$_calculateNewLn2[0],\n          latitude = _this$_calculateNewLn2[1];\n\n      return this._getUpdatedMapState({\n        longitude: longitude,\n        latitude: latitude\n      });\n    }\n  }, {\n    key: \"panEnd\",\n    value: function panEnd() {\n      return this._getUpdatedMapState({\n        startPanLngLat: null\n      });\n    }\n  }, {\n    key: \"rotateStart\",\n    value: function rotateStart(_ref4) {\n      var pos = _ref4.pos;\n      return this._getUpdatedMapState({\n        startRotatePos: pos,\n        startBearing: this._viewportProps.bearing,\n        startPitch: this._viewportProps.pitch\n      });\n    }\n  }, {\n    key: \"rotate\",\n    value: function rotate(_ref5) {\n      var pos = _ref5.pos,\n          _ref5$deltaAngleX = _ref5.deltaAngleX,\n          deltaAngleX = _ref5$deltaAngleX === void 0 ? 0 : _ref5$deltaAngleX,\n          _ref5$deltaAngleY = _ref5.deltaAngleY,\n          deltaAngleY = _ref5$deltaAngleY === void 0 ? 0 : _ref5$deltaAngleY;\n      var _this$_state = this._state,\n          startRotatePos = _this$_state.startRotatePos,\n          startBearing = _this$_state.startBearing,\n          startPitch = _this$_state.startPitch;\n\n      if (!Number.isFinite(startBearing) || !Number.isFinite(startPitch)) {\n        return this;\n      }\n\n      var newRotation;\n\n      if (pos) {\n        newRotation = this._calculateNewPitchAndBearing(_objectSpread(_objectSpread({}, this._getRotationParams(pos, startRotatePos)), {}, {\n          startBearing: startBearing,\n          startPitch: startPitch\n        }));\n      } else {\n        newRotation = {\n          bearing: startBearing + deltaAngleX,\n          pitch: startPitch + deltaAngleY\n        };\n      }\n\n      return this._getUpdatedMapState(newRotation);\n    }\n  }, {\n    key: \"rotateEnd\",\n    value: function rotateEnd() {\n      return this._getUpdatedMapState({\n        startBearing: null,\n        startPitch: null\n      });\n    }\n  }, {\n    key: \"zoomStart\",\n    value: function zoomStart(_ref6) {\n      var pos = _ref6.pos;\n      return this._getUpdatedMapState({\n        startZoomLngLat: this._unproject(pos),\n        startZoom: this._viewportProps.zoom\n      });\n    }\n  }, {\n    key: \"zoom\",\n    value: function zoom(_ref7) {\n      var pos = _ref7.pos,\n          startPos = _ref7.startPos,\n          scale = _ref7.scale;\n      (0,_assert__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(scale > 0, '`scale` must be a positive number');\n      var _this$_state2 = this._state,\n          startZoom = _this$_state2.startZoom,\n          startZoomLngLat = _this$_state2.startZoomLngLat;\n\n      if (!Number.isFinite(startZoom)) {\n        startZoom = this._viewportProps.zoom;\n        startZoomLngLat = this._unproject(startPos) || this._unproject(pos);\n      }\n\n      (0,_assert__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(startZoomLngLat, '`startZoomLngLat` prop is required ' + 'for zoom behavior to calculate where to position the map.');\n\n      var zoom = this._calculateNewZoom({\n        scale: scale,\n        startZoom: startZoom || 0\n      });\n\n      var zoomedViewport = new viewport_mercator_project__WEBPACK_IMPORTED_MODULE_1__[\"default\"](Object.assign({}, this._viewportProps, {\n        zoom: zoom\n      }));\n\n      var _zoomedViewport$getMa = zoomedViewport.getMapCenterByLngLatPosition({\n        lngLat: startZoomLngLat,\n        pos: pos\n      }),\n          _zoomedViewport$getMa2 = (0,_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(_zoomedViewport$getMa, 2),\n          longitude = _zoomedViewport$getMa2[0],\n          latitude = _zoomedViewport$getMa2[1];\n\n      return this._getUpdatedMapState({\n        zoom: zoom,\n        longitude: longitude,\n        latitude: latitude\n      });\n    }\n  }, {\n    key: \"zoomEnd\",\n    value: function zoomEnd() {\n      return this._getUpdatedMapState({\n        startZoomLngLat: null,\n        startZoom: null\n      });\n    }\n  }, {\n    key: \"_getUpdatedMapState\",\n    value: function _getUpdatedMapState(newProps) {\n      return new MapState(Object.assign({}, this._viewportProps, this._state, newProps));\n    }\n  }, {\n    key: \"_applyConstraints\",\n    value: function _applyConstraints(props) {\n      var maxZoom = props.maxZoom,\n          minZoom = props.minZoom,\n          zoom = props.zoom;\n      props.zoom = (0,_math_utils__WEBPACK_IMPORTED_MODULE_6__.clamp)(zoom, minZoom, maxZoom);\n      var maxPitch = props.maxPitch,\n          minPitch = props.minPitch,\n          pitch = props.pitch;\n      props.pitch = (0,_math_utils__WEBPACK_IMPORTED_MODULE_6__.clamp)(pitch, minPitch, maxPitch);\n      Object.assign(props, (0,viewport_mercator_project__WEBPACK_IMPORTED_MODULE_1__.normalizeViewportProps)(props));\n      return props;\n    }\n  }, {\n    key: \"_unproject\",\n    value: function _unproject(pos) {\n      var viewport = new viewport_mercator_project__WEBPACK_IMPORTED_MODULE_1__[\"default\"](this._viewportProps);\n      return pos && viewport.unproject(pos);\n    }\n  }, {\n    key: \"_calculateNewLngLat\",\n    value: function _calculateNewLngLat(_ref8) {\n      var startPanLngLat = _ref8.startPanLngLat,\n          pos = _ref8.pos;\n      var viewport = new viewport_mercator_project__WEBPACK_IMPORTED_MODULE_1__[\"default\"](this._viewportProps);\n      return viewport.getMapCenterByLngLatPosition({\n        lngLat: startPanLngLat,\n        pos: pos\n      });\n    }\n  }, {\n    key: \"_calculateNewZoom\",\n    value: function _calculateNewZoom(_ref9) {\n      var scale = _ref9.scale,\n          startZoom = _ref9.startZoom;\n      var _this$_viewportProps = this._viewportProps,\n          maxZoom = _this$_viewportProps.maxZoom,\n          minZoom = _this$_viewportProps.minZoom;\n      var zoom = startZoom + Math.log2(scale);\n      return (0,_math_utils__WEBPACK_IMPORTED_MODULE_6__.clamp)(zoom, minZoom, maxZoom);\n    }\n  }, {\n    key: \"_calculateNewPitchAndBearing\",\n    value: function _calculateNewPitchAndBearing(_ref10) {\n      var deltaScaleX = _ref10.deltaScaleX,\n          deltaScaleY = _ref10.deltaScaleY,\n          startBearing = _ref10.startBearing,\n          startPitch = _ref10.startPitch;\n      deltaScaleY = (0,_math_utils__WEBPACK_IMPORTED_MODULE_6__.clamp)(deltaScaleY, -1, 1);\n      var _this$_viewportProps2 = this._viewportProps,\n          minPitch = _this$_viewportProps2.minPitch,\n          maxPitch = _this$_viewportProps2.maxPitch;\n      var bearing = startBearing + 180 * deltaScaleX;\n      var pitch = startPitch;\n\n      if (deltaScaleY > 0) {\n        pitch = startPitch + deltaScaleY * (maxPitch - startPitch);\n      } else if (deltaScaleY < 0) {\n        pitch = startPitch - deltaScaleY * (minPitch - startPitch);\n      }\n\n      return {\n        pitch: pitch,\n        bearing: bearing\n      };\n    }\n  }, {\n    key: \"_getRotationParams\",\n    value: function _getRotationParams(pos, startPos) {\n      var deltaX = pos[0] - startPos[0];\n      var deltaY = pos[1] - startPos[1];\n      var centerY = pos[1];\n      var startY = startPos[1];\n      var _this$_viewportProps3 = this._viewportProps,\n          width = _this$_viewportProps3.width,\n          height = _this$_viewportProps3.height;\n      var deltaScaleX = deltaX / width;\n      var deltaScaleY = 0;\n\n      if (deltaY > 0) {\n        if (Math.abs(height - startY) > PITCH_MOUSE_THRESHOLD) {\n          deltaScaleY = deltaY / (startY - height) * PITCH_ACCEL;\n        }\n      } else if (deltaY < 0) {\n        if (startY > PITCH_MOUSE_THRESHOLD) {\n          deltaScaleY = 1 - centerY / startY;\n        }\n      }\n\n      deltaScaleY = Math.min(1, Math.max(-1, deltaScaleY));\n      return {\n        deltaScaleX: deltaScaleX,\n        deltaScaleY: deltaScaleY\n      };\n    }\n  }]);\n\n  return MapState;\n}();\n\n\n//# sourceMappingURL=map-state.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwLWdsL2Rpc3QvZXNtL3V0aWxzL21hcC1zdGF0ZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3N1cGVyc2V0Ly4vbm9kZV9tb2R1bGVzL3JlYWN0LW1hcC1nbC9kaXN0L2VzbS91dGlscy9tYXAtc3RhdGUuanM/OTU1ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eVwiO1xuaW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9zbGljZWRUb0FycmF5XCI7XG5pbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVja1wiO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3NcIjtcblxuZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmltcG9ydCBXZWJNZXJjYXRvclZpZXdwb3J0LCB7IG5vcm1hbGl6ZVZpZXdwb3J0UHJvcHMgfSBmcm9tICd2aWV3cG9ydC1tZXJjYXRvci1wcm9qZWN0JztcbmltcG9ydCB7IGNsYW1wIH0gZnJvbSAnLi9tYXRoLXV0aWxzJztcbmltcG9ydCBhc3NlcnQgZnJvbSAnLi9hc3NlcnQnO1xuZXhwb3J0IHZhciBNQVBCT1hfTElNSVRTID0ge1xuICBtaW5ab29tOiAwLFxuICBtYXhab29tOiAyNCxcbiAgbWluUGl0Y2g6IDAsXG4gIG1heFBpdGNoOiA4NVxufTtcbnZhciBERUZBVUxUX1NUQVRFID0ge1xuICBwaXRjaDogMCxcbiAgYmVhcmluZzogMCxcbiAgYWx0aXR1ZGU6IDEuNVxufTtcbnZhciBQSVRDSF9NT1VTRV9USFJFU0hPTEQgPSA1O1xudmFyIFBJVENIX0FDQ0VMID0gMS4yO1xuXG52YXIgTWFwU3RhdGUgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIE1hcFN0YXRlKF9yZWYpIHtcbiAgICB2YXIgd2lkdGggPSBfcmVmLndpZHRoLFxuICAgICAgICBoZWlnaHQgPSBfcmVmLmhlaWdodCxcbiAgICAgICAgbGF0aXR1ZGUgPSBfcmVmLmxhdGl0dWRlLFxuICAgICAgICBsb25naXR1ZGUgPSBfcmVmLmxvbmdpdHVkZSxcbiAgICAgICAgem9vbSA9IF9yZWYuem9vbSxcbiAgICAgICAgX3JlZiRiZWFyaW5nID0gX3JlZi5iZWFyaW5nLFxuICAgICAgICBiZWFyaW5nID0gX3JlZiRiZWFyaW5nID09PSB2b2lkIDAgPyBERUZBVUxUX1NUQVRFLmJlYXJpbmcgOiBfcmVmJGJlYXJpbmcsXG4gICAgICAgIF9yZWYkcGl0Y2ggPSBfcmVmLnBpdGNoLFxuICAgICAgICBwaXRjaCA9IF9yZWYkcGl0Y2ggPT09IHZvaWQgMCA/IERFRkFVTFRfU1RBVEUucGl0Y2ggOiBfcmVmJHBpdGNoLFxuICAgICAgICBfcmVmJGFsdGl0dWRlID0gX3JlZi5hbHRpdHVkZSxcbiAgICAgICAgYWx0aXR1ZGUgPSBfcmVmJGFsdGl0dWRlID09PSB2b2lkIDAgPyBERUZBVUxUX1NUQVRFLmFsdGl0dWRlIDogX3JlZiRhbHRpdHVkZSxcbiAgICAgICAgX3JlZiRtYXhab29tID0gX3JlZi5tYXhab29tLFxuICAgICAgICBtYXhab29tID0gX3JlZiRtYXhab29tID09PSB2b2lkIDAgPyBNQVBCT1hfTElNSVRTLm1heFpvb20gOiBfcmVmJG1heFpvb20sXG4gICAgICAgIF9yZWYkbWluWm9vbSA9IF9yZWYubWluWm9vbSxcbiAgICAgICAgbWluWm9vbSA9IF9yZWYkbWluWm9vbSA9PT0gdm9pZCAwID8gTUFQQk9YX0xJTUlUUy5taW5ab29tIDogX3JlZiRtaW5ab29tLFxuICAgICAgICBfcmVmJG1heFBpdGNoID0gX3JlZi5tYXhQaXRjaCxcbiAgICAgICAgbWF4UGl0Y2ggPSBfcmVmJG1heFBpdGNoID09PSB2b2lkIDAgPyBNQVBCT1hfTElNSVRTLm1heFBpdGNoIDogX3JlZiRtYXhQaXRjaCxcbiAgICAgICAgX3JlZiRtaW5QaXRjaCA9IF9yZWYubWluUGl0Y2gsXG4gICAgICAgIG1pblBpdGNoID0gX3JlZiRtaW5QaXRjaCA9PT0gdm9pZCAwID8gTUFQQk9YX0xJTUlUUy5taW5QaXRjaCA6IF9yZWYkbWluUGl0Y2gsXG4gICAgICAgIHRyYW5zaXRpb25EdXJhdGlvbiA9IF9yZWYudHJhbnNpdGlvbkR1cmF0aW9uLFxuICAgICAgICB0cmFuc2l0aW9uRWFzaW5nID0gX3JlZi50cmFuc2l0aW9uRWFzaW5nLFxuICAgICAgICB0cmFuc2l0aW9uSW50ZXJwb2xhdG9yID0gX3JlZi50cmFuc2l0aW9uSW50ZXJwb2xhdG9yLFxuICAgICAgICB0cmFuc2l0aW9uSW50ZXJydXB0aW9uID0gX3JlZi50cmFuc2l0aW9uSW50ZXJydXB0aW9uLFxuICAgICAgICBzdGFydFBhbkxuZ0xhdCA9IF9yZWYuc3RhcnRQYW5MbmdMYXQsXG4gICAgICAgIHN0YXJ0Wm9vbUxuZ0xhdCA9IF9yZWYuc3RhcnRab29tTG5nTGF0LFxuICAgICAgICBzdGFydFJvdGF0ZVBvcyA9IF9yZWYuc3RhcnRSb3RhdGVQb3MsXG4gICAgICAgIHN0YXJ0QmVhcmluZyA9IF9yZWYuc3RhcnRCZWFyaW5nLFxuICAgICAgICBzdGFydFBpdGNoID0gX3JlZi5zdGFydFBpdGNoLFxuICAgICAgICBzdGFydFpvb20gPSBfcmVmLnN0YXJ0Wm9vbTtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNYXBTdGF0ZSk7XG5cbiAgICBhc3NlcnQoTnVtYmVyLmlzRmluaXRlKHdpZHRoKSwgJ2B3aWR0aGAgbXVzdCBiZSBzdXBwbGllZCcpO1xuICAgIGFzc2VydChOdW1iZXIuaXNGaW5pdGUoaGVpZ2h0KSwgJ2BoZWlnaHRgIG11c3QgYmUgc3VwcGxpZWQnKTtcbiAgICBhc3NlcnQoTnVtYmVyLmlzRmluaXRlKGxvbmdpdHVkZSksICdgbG9uZ2l0dWRlYCBtdXN0IGJlIHN1cHBsaWVkJyk7XG4gICAgYXNzZXJ0KE51bWJlci5pc0Zpbml0ZShsYXRpdHVkZSksICdgbGF0aXR1ZGVgIG11c3QgYmUgc3VwcGxpZWQnKTtcbiAgICBhc3NlcnQoTnVtYmVyLmlzRmluaXRlKHpvb20pLCAnYHpvb21gIG11c3QgYmUgc3VwcGxpZWQnKTtcbiAgICB0aGlzLl92aWV3cG9ydFByb3BzID0gdGhpcy5fYXBwbHlDb25zdHJhaW50cyh7XG4gICAgICB3aWR0aDogd2lkdGgsXG4gICAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICAgIGxhdGl0dWRlOiBsYXRpdHVkZSxcbiAgICAgIGxvbmdpdHVkZTogbG9uZ2l0dWRlLFxuICAgICAgem9vbTogem9vbSxcbiAgICAgIGJlYXJpbmc6IGJlYXJpbmcsXG4gICAgICBwaXRjaDogcGl0Y2gsXG4gICAgICBhbHRpdHVkZTogYWx0aXR1ZGUsXG4gICAgICBtYXhab29tOiBtYXhab29tLFxuICAgICAgbWluWm9vbTogbWluWm9vbSxcbiAgICAgIG1heFBpdGNoOiBtYXhQaXRjaCxcbiAgICAgIG1pblBpdGNoOiBtaW5QaXRjaCxcbiAgICAgIHRyYW5zaXRpb25EdXJhdGlvbjogdHJhbnNpdGlvbkR1cmF0aW9uLFxuICAgICAgdHJhbnNpdGlvbkVhc2luZzogdHJhbnNpdGlvbkVhc2luZyxcbiAgICAgIHRyYW5zaXRpb25JbnRlcnBvbGF0b3I6IHRyYW5zaXRpb25JbnRlcnBvbGF0b3IsXG4gICAgICB0cmFuc2l0aW9uSW50ZXJydXB0aW9uOiB0cmFuc2l0aW9uSW50ZXJydXB0aW9uXG4gICAgfSk7XG4gICAgdGhpcy5fc3RhdGUgPSB7XG4gICAgICBzdGFydFBhbkxuZ0xhdDogc3RhcnRQYW5MbmdMYXQsXG4gICAgICBzdGFydFpvb21MbmdMYXQ6IHN0YXJ0Wm9vbUxuZ0xhdCxcbiAgICAgIHN0YXJ0Um90YXRlUG9zOiBzdGFydFJvdGF0ZVBvcyxcbiAgICAgIHN0YXJ0QmVhcmluZzogc3RhcnRCZWFyaW5nLFxuICAgICAgc3RhcnRQaXRjaDogc3RhcnRQaXRjaCxcbiAgICAgIHN0YXJ0Wm9vbTogc3RhcnRab29tXG4gICAgfTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhNYXBTdGF0ZSwgW3tcbiAgICBrZXk6IFwiZ2V0Vmlld3BvcnRQcm9wc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRWaWV3cG9ydFByb3BzKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3ZpZXdwb3J0UHJvcHM7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldFN0YXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFN0YXRlKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3N0YXRlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJwYW5TdGFydFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBwYW5TdGFydChfcmVmMikge1xuICAgICAgdmFyIHBvcyA9IF9yZWYyLnBvcztcbiAgICAgIHJldHVybiB0aGlzLl9nZXRVcGRhdGVkTWFwU3RhdGUoe1xuICAgICAgICBzdGFydFBhbkxuZ0xhdDogdGhpcy5fdW5wcm9qZWN0KHBvcylcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJwYW5cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcGFuKF9yZWYzKSB7XG4gICAgICB2YXIgcG9zID0gX3JlZjMucG9zLFxuICAgICAgICAgIHN0YXJ0UG9zID0gX3JlZjMuc3RhcnRQb3M7XG5cbiAgICAgIHZhciBzdGFydFBhbkxuZ0xhdCA9IHRoaXMuX3N0YXRlLnN0YXJ0UGFuTG5nTGF0IHx8IHRoaXMuX3VucHJvamVjdChzdGFydFBvcyk7XG5cbiAgICAgIGlmICghc3RhcnRQYW5MbmdMYXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIHZhciBfdGhpcyRfY2FsY3VsYXRlTmV3TG4gPSB0aGlzLl9jYWxjdWxhdGVOZXdMbmdMYXQoe1xuICAgICAgICBzdGFydFBhbkxuZ0xhdDogc3RhcnRQYW5MbmdMYXQsXG4gICAgICAgIHBvczogcG9zXG4gICAgICB9KSxcbiAgICAgICAgICBfdGhpcyRfY2FsY3VsYXRlTmV3TG4yID0gX3NsaWNlZFRvQXJyYXkoX3RoaXMkX2NhbGN1bGF0ZU5ld0xuLCAyKSxcbiAgICAgICAgICBsb25naXR1ZGUgPSBfdGhpcyRfY2FsY3VsYXRlTmV3TG4yWzBdLFxuICAgICAgICAgIGxhdGl0dWRlID0gX3RoaXMkX2NhbGN1bGF0ZU5ld0xuMlsxXTtcblxuICAgICAgcmV0dXJuIHRoaXMuX2dldFVwZGF0ZWRNYXBTdGF0ZSh7XG4gICAgICAgIGxvbmdpdHVkZTogbG9uZ2l0dWRlLFxuICAgICAgICBsYXRpdHVkZTogbGF0aXR1ZGVcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJwYW5FbmRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcGFuRW5kKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2dldFVwZGF0ZWRNYXBTdGF0ZSh7XG4gICAgICAgIHN0YXJ0UGFuTG5nTGF0OiBudWxsXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicm90YXRlU3RhcnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcm90YXRlU3RhcnQoX3JlZjQpIHtcbiAgICAgIHZhciBwb3MgPSBfcmVmNC5wb3M7XG4gICAgICByZXR1cm4gdGhpcy5fZ2V0VXBkYXRlZE1hcFN0YXRlKHtcbiAgICAgICAgc3RhcnRSb3RhdGVQb3M6IHBvcyxcbiAgICAgICAgc3RhcnRCZWFyaW5nOiB0aGlzLl92aWV3cG9ydFByb3BzLmJlYXJpbmcsXG4gICAgICAgIHN0YXJ0UGl0Y2g6IHRoaXMuX3ZpZXdwb3J0UHJvcHMucGl0Y2hcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyb3RhdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcm90YXRlKF9yZWY1KSB7XG4gICAgICB2YXIgcG9zID0gX3JlZjUucG9zLFxuICAgICAgICAgIF9yZWY1JGRlbHRhQW5nbGVYID0gX3JlZjUuZGVsdGFBbmdsZVgsXG4gICAgICAgICAgZGVsdGFBbmdsZVggPSBfcmVmNSRkZWx0YUFuZ2xlWCA9PT0gdm9pZCAwID8gMCA6IF9yZWY1JGRlbHRhQW5nbGVYLFxuICAgICAgICAgIF9yZWY1JGRlbHRhQW5nbGVZID0gX3JlZjUuZGVsdGFBbmdsZVksXG4gICAgICAgICAgZGVsdGFBbmdsZVkgPSBfcmVmNSRkZWx0YUFuZ2xlWSA9PT0gdm9pZCAwID8gMCA6IF9yZWY1JGRlbHRhQW5nbGVZO1xuICAgICAgdmFyIF90aGlzJF9zdGF0ZSA9IHRoaXMuX3N0YXRlLFxuICAgICAgICAgIHN0YXJ0Um90YXRlUG9zID0gX3RoaXMkX3N0YXRlLnN0YXJ0Um90YXRlUG9zLFxuICAgICAgICAgIHN0YXJ0QmVhcmluZyA9IF90aGlzJF9zdGF0ZS5zdGFydEJlYXJpbmcsXG4gICAgICAgICAgc3RhcnRQaXRjaCA9IF90aGlzJF9zdGF0ZS5zdGFydFBpdGNoO1xuXG4gICAgICBpZiAoIU51bWJlci5pc0Zpbml0ZShzdGFydEJlYXJpbmcpIHx8ICFOdW1iZXIuaXNGaW5pdGUoc3RhcnRQaXRjaCkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIHZhciBuZXdSb3RhdGlvbjtcblxuICAgICAgaWYgKHBvcykge1xuICAgICAgICBuZXdSb3RhdGlvbiA9IHRoaXMuX2NhbGN1bGF0ZU5ld1BpdGNoQW5kQmVhcmluZyhfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHRoaXMuX2dldFJvdGF0aW9uUGFyYW1zKHBvcywgc3RhcnRSb3RhdGVQb3MpKSwge30sIHtcbiAgICAgICAgICBzdGFydEJlYXJpbmc6IHN0YXJ0QmVhcmluZyxcbiAgICAgICAgICBzdGFydFBpdGNoOiBzdGFydFBpdGNoXG4gICAgICAgIH0pKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5ld1JvdGF0aW9uID0ge1xuICAgICAgICAgIGJlYXJpbmc6IHN0YXJ0QmVhcmluZyArIGRlbHRhQW5nbGVYLFxuICAgICAgICAgIHBpdGNoOiBzdGFydFBpdGNoICsgZGVsdGFBbmdsZVlcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuX2dldFVwZGF0ZWRNYXBTdGF0ZShuZXdSb3RhdGlvbik7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJvdGF0ZUVuZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByb3RhdGVFbmQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fZ2V0VXBkYXRlZE1hcFN0YXRlKHtcbiAgICAgICAgc3RhcnRCZWFyaW5nOiBudWxsLFxuICAgICAgICBzdGFydFBpdGNoOiBudWxsXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiem9vbVN0YXJ0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHpvb21TdGFydChfcmVmNikge1xuICAgICAgdmFyIHBvcyA9IF9yZWY2LnBvcztcbiAgICAgIHJldHVybiB0aGlzLl9nZXRVcGRhdGVkTWFwU3RhdGUoe1xuICAgICAgICBzdGFydFpvb21MbmdMYXQ6IHRoaXMuX3VucHJvamVjdChwb3MpLFxuICAgICAgICBzdGFydFpvb206IHRoaXMuX3ZpZXdwb3J0UHJvcHMuem9vbVxuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInpvb21cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gem9vbShfcmVmNykge1xuICAgICAgdmFyIHBvcyA9IF9yZWY3LnBvcyxcbiAgICAgICAgICBzdGFydFBvcyA9IF9yZWY3LnN0YXJ0UG9zLFxuICAgICAgICAgIHNjYWxlID0gX3JlZjcuc2NhbGU7XG4gICAgICBhc3NlcnQoc2NhbGUgPiAwLCAnYHNjYWxlYCBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyJyk7XG4gICAgICB2YXIgX3RoaXMkX3N0YXRlMiA9IHRoaXMuX3N0YXRlLFxuICAgICAgICAgIHN0YXJ0Wm9vbSA9IF90aGlzJF9zdGF0ZTIuc3RhcnRab29tLFxuICAgICAgICAgIHN0YXJ0Wm9vbUxuZ0xhdCA9IF90aGlzJF9zdGF0ZTIuc3RhcnRab29tTG5nTGF0O1xuXG4gICAgICBpZiAoIU51bWJlci5pc0Zpbml0ZShzdGFydFpvb20pKSB7XG4gICAgICAgIHN0YXJ0Wm9vbSA9IHRoaXMuX3ZpZXdwb3J0UHJvcHMuem9vbTtcbiAgICAgICAgc3RhcnRab29tTG5nTGF0ID0gdGhpcy5fdW5wcm9qZWN0KHN0YXJ0UG9zKSB8fCB0aGlzLl91bnByb2plY3QocG9zKTtcbiAgICAgIH1cblxuICAgICAgYXNzZXJ0KHN0YXJ0Wm9vbUxuZ0xhdCwgJ2BzdGFydFpvb21MbmdMYXRgIHByb3AgaXMgcmVxdWlyZWQgJyArICdmb3Igem9vbSBiZWhhdmlvciB0byBjYWxjdWxhdGUgd2hlcmUgdG8gcG9zaXRpb24gdGhlIG1hcC4nKTtcblxuICAgICAgdmFyIHpvb20gPSB0aGlzLl9jYWxjdWxhdGVOZXdab29tKHtcbiAgICAgICAgc2NhbGU6IHNjYWxlLFxuICAgICAgICBzdGFydFpvb206IHN0YXJ0Wm9vbSB8fCAwXG4gICAgICB9KTtcblxuICAgICAgdmFyIHpvb21lZFZpZXdwb3J0ID0gbmV3IFdlYk1lcmNhdG9yVmlld3BvcnQoT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5fdmlld3BvcnRQcm9wcywge1xuICAgICAgICB6b29tOiB6b29tXG4gICAgICB9KSk7XG5cbiAgICAgIHZhciBfem9vbWVkVmlld3BvcnQkZ2V0TWEgPSB6b29tZWRWaWV3cG9ydC5nZXRNYXBDZW50ZXJCeUxuZ0xhdFBvc2l0aW9uKHtcbiAgICAgICAgbG5nTGF0OiBzdGFydFpvb21MbmdMYXQsXG4gICAgICAgIHBvczogcG9zXG4gICAgICB9KSxcbiAgICAgICAgICBfem9vbWVkVmlld3BvcnQkZ2V0TWEyID0gX3NsaWNlZFRvQXJyYXkoX3pvb21lZFZpZXdwb3J0JGdldE1hLCAyKSxcbiAgICAgICAgICBsb25naXR1ZGUgPSBfem9vbWVkVmlld3BvcnQkZ2V0TWEyWzBdLFxuICAgICAgICAgIGxhdGl0dWRlID0gX3pvb21lZFZpZXdwb3J0JGdldE1hMlsxXTtcblxuICAgICAgcmV0dXJuIHRoaXMuX2dldFVwZGF0ZWRNYXBTdGF0ZSh7XG4gICAgICAgIHpvb206IHpvb20sXG4gICAgICAgIGxvbmdpdHVkZTogbG9uZ2l0dWRlLFxuICAgICAgICBsYXRpdHVkZTogbGF0aXR1ZGVcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ6b29tRW5kXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHpvb21FbmQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fZ2V0VXBkYXRlZE1hcFN0YXRlKHtcbiAgICAgICAgc3RhcnRab29tTG5nTGF0OiBudWxsLFxuICAgICAgICBzdGFydFpvb206IG51bGxcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfZ2V0VXBkYXRlZE1hcFN0YXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9nZXRVcGRhdGVkTWFwU3RhdGUobmV3UHJvcHMpIHtcbiAgICAgIHJldHVybiBuZXcgTWFwU3RhdGUoT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5fdmlld3BvcnRQcm9wcywgdGhpcy5fc3RhdGUsIG5ld1Byb3BzKSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9hcHBseUNvbnN0cmFpbnRzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9hcHBseUNvbnN0cmFpbnRzKHByb3BzKSB7XG4gICAgICB2YXIgbWF4Wm9vbSA9IHByb3BzLm1heFpvb20sXG4gICAgICAgICAgbWluWm9vbSA9IHByb3BzLm1pblpvb20sXG4gICAgICAgICAgem9vbSA9IHByb3BzLnpvb207XG4gICAgICBwcm9wcy56b29tID0gY2xhbXAoem9vbSwgbWluWm9vbSwgbWF4Wm9vbSk7XG4gICAgICB2YXIgbWF4UGl0Y2ggPSBwcm9wcy5tYXhQaXRjaCxcbiAgICAgICAgICBtaW5QaXRjaCA9IHByb3BzLm1pblBpdGNoLFxuICAgICAgICAgIHBpdGNoID0gcHJvcHMucGl0Y2g7XG4gICAgICBwcm9wcy5waXRjaCA9IGNsYW1wKHBpdGNoLCBtaW5QaXRjaCwgbWF4UGl0Y2gpO1xuICAgICAgT2JqZWN0LmFzc2lnbihwcm9wcywgbm9ybWFsaXplVmlld3BvcnRQcm9wcyhwcm9wcykpO1xuICAgICAgcmV0dXJuIHByb3BzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfdW5wcm9qZWN0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF91bnByb2plY3QocG9zKSB7XG4gICAgICB2YXIgdmlld3BvcnQgPSBuZXcgV2ViTWVyY2F0b3JWaWV3cG9ydCh0aGlzLl92aWV3cG9ydFByb3BzKTtcbiAgICAgIHJldHVybiBwb3MgJiYgdmlld3BvcnQudW5wcm9qZWN0KHBvcyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9jYWxjdWxhdGVOZXdMbmdMYXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2NhbGN1bGF0ZU5ld0xuZ0xhdChfcmVmOCkge1xuICAgICAgdmFyIHN0YXJ0UGFuTG5nTGF0ID0gX3JlZjguc3RhcnRQYW5MbmdMYXQsXG4gICAgICAgICAgcG9zID0gX3JlZjgucG9zO1xuICAgICAgdmFyIHZpZXdwb3J0ID0gbmV3IFdlYk1lcmNhdG9yVmlld3BvcnQodGhpcy5fdmlld3BvcnRQcm9wcyk7XG4gICAgICByZXR1cm4gdmlld3BvcnQuZ2V0TWFwQ2VudGVyQnlMbmdMYXRQb3NpdGlvbih7XG4gICAgICAgIGxuZ0xhdDogc3RhcnRQYW5MbmdMYXQsXG4gICAgICAgIHBvczogcG9zXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX2NhbGN1bGF0ZU5ld1pvb21cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2NhbGN1bGF0ZU5ld1pvb20oX3JlZjkpIHtcbiAgICAgIHZhciBzY2FsZSA9IF9yZWY5LnNjYWxlLFxuICAgICAgICAgIHN0YXJ0Wm9vbSA9IF9yZWY5LnN0YXJ0Wm9vbTtcbiAgICAgIHZhciBfdGhpcyRfdmlld3BvcnRQcm9wcyA9IHRoaXMuX3ZpZXdwb3J0UHJvcHMsXG4gICAgICAgICAgbWF4Wm9vbSA9IF90aGlzJF92aWV3cG9ydFByb3BzLm1heFpvb20sXG4gICAgICAgICAgbWluWm9vbSA9IF90aGlzJF92aWV3cG9ydFByb3BzLm1pblpvb207XG4gICAgICB2YXIgem9vbSA9IHN0YXJ0Wm9vbSArIE1hdGgubG9nMihzY2FsZSk7XG4gICAgICByZXR1cm4gY2xhbXAoem9vbSwgbWluWm9vbSwgbWF4Wm9vbSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9jYWxjdWxhdGVOZXdQaXRjaEFuZEJlYXJpbmdcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2NhbGN1bGF0ZU5ld1BpdGNoQW5kQmVhcmluZyhfcmVmMTApIHtcbiAgICAgIHZhciBkZWx0YVNjYWxlWCA9IF9yZWYxMC5kZWx0YVNjYWxlWCxcbiAgICAgICAgICBkZWx0YVNjYWxlWSA9IF9yZWYxMC5kZWx0YVNjYWxlWSxcbiAgICAgICAgICBzdGFydEJlYXJpbmcgPSBfcmVmMTAuc3RhcnRCZWFyaW5nLFxuICAgICAgICAgIHN0YXJ0UGl0Y2ggPSBfcmVmMTAuc3RhcnRQaXRjaDtcbiAgICAgIGRlbHRhU2NhbGVZID0gY2xhbXAoZGVsdGFTY2FsZVksIC0xLCAxKTtcbiAgICAgIHZhciBfdGhpcyRfdmlld3BvcnRQcm9wczIgPSB0aGlzLl92aWV3cG9ydFByb3BzLFxuICAgICAgICAgIG1pblBpdGNoID0gX3RoaXMkX3ZpZXdwb3J0UHJvcHMyLm1pblBpdGNoLFxuICAgICAgICAgIG1heFBpdGNoID0gX3RoaXMkX3ZpZXdwb3J0UHJvcHMyLm1heFBpdGNoO1xuICAgICAgdmFyIGJlYXJpbmcgPSBzdGFydEJlYXJpbmcgKyAxODAgKiBkZWx0YVNjYWxlWDtcbiAgICAgIHZhciBwaXRjaCA9IHN0YXJ0UGl0Y2g7XG5cbiAgICAgIGlmIChkZWx0YVNjYWxlWSA+IDApIHtcbiAgICAgICAgcGl0Y2ggPSBzdGFydFBpdGNoICsgZGVsdGFTY2FsZVkgKiAobWF4UGl0Y2ggLSBzdGFydFBpdGNoKTtcbiAgICAgIH0gZWxzZSBpZiAoZGVsdGFTY2FsZVkgPCAwKSB7XG4gICAgICAgIHBpdGNoID0gc3RhcnRQaXRjaCAtIGRlbHRhU2NhbGVZICogKG1pblBpdGNoIC0gc3RhcnRQaXRjaCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHBpdGNoOiBwaXRjaCxcbiAgICAgICAgYmVhcmluZzogYmVhcmluZ1xuICAgICAgfTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX2dldFJvdGF0aW9uUGFyYW1zXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9nZXRSb3RhdGlvblBhcmFtcyhwb3MsIHN0YXJ0UG9zKSB7XG4gICAgICB2YXIgZGVsdGFYID0gcG9zWzBdIC0gc3RhcnRQb3NbMF07XG4gICAgICB2YXIgZGVsdGFZID0gcG9zWzFdIC0gc3RhcnRQb3NbMV07XG4gICAgICB2YXIgY2VudGVyWSA9IHBvc1sxXTtcbiAgICAgIHZhciBzdGFydFkgPSBzdGFydFBvc1sxXTtcbiAgICAgIHZhciBfdGhpcyRfdmlld3BvcnRQcm9wczMgPSB0aGlzLl92aWV3cG9ydFByb3BzLFxuICAgICAgICAgIHdpZHRoID0gX3RoaXMkX3ZpZXdwb3J0UHJvcHMzLndpZHRoLFxuICAgICAgICAgIGhlaWdodCA9IF90aGlzJF92aWV3cG9ydFByb3BzMy5oZWlnaHQ7XG4gICAgICB2YXIgZGVsdGFTY2FsZVggPSBkZWx0YVggLyB3aWR0aDtcbiAgICAgIHZhciBkZWx0YVNjYWxlWSA9IDA7XG5cbiAgICAgIGlmIChkZWx0YVkgPiAwKSB7XG4gICAgICAgIGlmIChNYXRoLmFicyhoZWlnaHQgLSBzdGFydFkpID4gUElUQ0hfTU9VU0VfVEhSRVNIT0xEKSB7XG4gICAgICAgICAgZGVsdGFTY2FsZVkgPSBkZWx0YVkgLyAoc3RhcnRZIC0gaGVpZ2h0KSAqIFBJVENIX0FDQ0VMO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGRlbHRhWSA8IDApIHtcbiAgICAgICAgaWYgKHN0YXJ0WSA+IFBJVENIX01PVVNFX1RIUkVTSE9MRCkge1xuICAgICAgICAgIGRlbHRhU2NhbGVZID0gMSAtIGNlbnRlclkgLyBzdGFydFk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZGVsdGFTY2FsZVkgPSBNYXRoLm1pbigxLCBNYXRoLm1heCgtMSwgZGVsdGFTY2FsZVkpKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGRlbHRhU2NhbGVYOiBkZWx0YVNjYWxlWCxcbiAgICAgICAgZGVsdGFTY2FsZVk6IGRlbHRhU2NhbGVZXG4gICAgICB9O1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBNYXBTdGF0ZTtcbn0oKTtcblxuZXhwb3J0IHsgTWFwU3RhdGUgYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFwLXN0YXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/react-map-gl/dist/esm/utils/map-state.js\n");

/***/ }),

/***/ "./node_modules/react-map-gl/dist/esm/utils/mapboxgl.browser.js":
/*!**********************************************************************!*\
  !*** ./node_modules/react-map-gl/dist/esm/utils/mapboxgl.browser.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* reexport default from dynamic */ mapbox_gl__WEBPACK_IMPORTED_MODULE_0___default.a)\n/* harmony export */ });\n/* harmony import */ var mapbox_gl__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mapbox-gl */ \"./node_modules/mapbox-gl/dist/mapbox-gl.js\");\n/* harmony import */ var mapbox_gl__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mapbox_gl__WEBPACK_IMPORTED_MODULE_0__);\n\n//# sourceMappingURL=mapboxgl.browser.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwLWdsL2Rpc3QvZXNtL3V0aWxzL21hcGJveGdsLmJyb3dzZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3VwZXJzZXQvLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwLWdsL2Rpc3QvZXNtL3V0aWxzL21hcGJveGdsLmJyb3dzZXIuanM/MGNkZCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgeyBkZWZhdWx0IH0gZnJvbSAnbWFwYm94LWdsJztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1hcGJveGdsLmJyb3dzZXIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/react-map-gl/dist/esm/utils/mapboxgl.browser.js\n");

/***/ }),

/***/ "./node_modules/react-map-gl/dist/esm/utils/math-utils.js":
/*!****************************************************************!*\
  !*** ./node_modules/react-map-gl/dist/esm/utils/math-utils.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   clamp: () => (/* binding */ clamp),\n/* harmony export */   equals: () => (/* binding */ equals),\n/* harmony export */   lerp: () => (/* binding */ lerp)\n/* harmony export */ });\nvar EPSILON = 1e-7;\n\nfunction isArray(value) {\n  return Array.isArray(value) || ArrayBuffer.isView(value);\n}\n\nfunction equals(a, b) {\n  if (a === b) {\n    return true;\n  }\n\n  if (isArray(a) && isArray(b)) {\n    if (a.length !== b.length) {\n      return false;\n    }\n\n    for (var i = 0; i < a.length; ++i) {\n      if (!equals(a[i], b[i])) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  return Math.abs(a - b) <= EPSILON;\n}\nfunction clamp(value, min, max) {\n  return Math.max(min, Math.min(max, value));\n}\nfunction lerp(a, b, t) {\n  if (isArray(a)) {\n    return a.map(function (ai, i) {\n      return lerp(ai, b[i], t);\n    });\n  }\n\n  return t * b + (1 - t) * a;\n}\n//# sourceMappingURL=math-utils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwLWdsL2Rpc3QvZXNtL3V0aWxzL21hdGgtdXRpbHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3N1cGVyc2V0Ly4vbm9kZV9tb2R1bGVzL3JlYWN0LW1hcC1nbC9kaXN0L2VzbS91dGlscy9tYXRoLXV0aWxzLmpzP2ExZGQiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIEVQU0lMT04gPSAxZS03O1xuXG5mdW5jdGlvbiBpc0FycmF5KHZhbHVlKSB7XG4gIHJldHVybiBBcnJheS5pc0FycmF5KHZhbHVlKSB8fCBBcnJheUJ1ZmZlci5pc1ZpZXcodmFsdWUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZXF1YWxzKGEsIGIpIHtcbiAgaWYgKGEgPT09IGIpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGlmIChpc0FycmF5KGEpICYmIGlzQXJyYXkoYikpIHtcbiAgICBpZiAoYS5sZW5ndGggIT09IGIubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhLmxlbmd0aDsgKytpKSB7XG4gICAgICBpZiAoIWVxdWFscyhhW2ldLCBiW2ldKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICByZXR1cm4gTWF0aC5hYnMoYSAtIGIpIDw9IEVQU0lMT047XG59XG5leHBvcnQgZnVuY3Rpb24gY2xhbXAodmFsdWUsIG1pbiwgbWF4KSB7XG4gIHJldHVybiBNYXRoLm1heChtaW4sIE1hdGgubWluKG1heCwgdmFsdWUpKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBsZXJwKGEsIGIsIHQpIHtcbiAgaWYgKGlzQXJyYXkoYSkpIHtcbiAgICByZXR1cm4gYS5tYXAoZnVuY3Rpb24gKGFpLCBpKSB7XG4gICAgICByZXR1cm4gbGVycChhaSwgYltpXSwgdCk7XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gdCAqIGIgKyAoMSAtIHQpICogYTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1hdGgtdXRpbHMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/react-map-gl/dist/esm/utils/math-utils.js\n");

/***/ }),

/***/ "./node_modules/react-map-gl/dist/esm/utils/set-rtl-text-plugin.js":
/*!*************************************************************************!*\
  !*** ./node_modules/react-map-gl/dist/esm/utils/set-rtl-text-plugin.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack___webpack_exports__, __webpack_require__) => {

"use strict";
eval("/* harmony import */ var _mapboxgl__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./mapboxgl */ \"./node_modules/react-map-gl/dist/esm/utils/mapboxgl.browser.js\");\n\nvar setRTLTextPlugin = _mapboxgl__WEBPACK_IMPORTED_MODULE_0__[\"default\"] ? _mapboxgl__WEBPACK_IMPORTED_MODULE_0__[\"default\"].setRTLTextPlugin : function () {};\n/* unused harmony default export */ var __WEBPACK_DEFAULT_EXPORT__ = (setRTLTextPlugin);\n//# sourceMappingURL=set-rtl-text-plugin.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwLWdsL2Rpc3QvZXNtL3V0aWxzL3NldC1ydGwtdGV4dC1wbHVnaW4uanMiLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3VwZXJzZXQvLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwLWdsL2Rpc3QvZXNtL3V0aWxzL3NldC1ydGwtdGV4dC1wbHVnaW4uanM/ZGZmOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbWFwYm94Z2wgZnJvbSAnLi9tYXBib3hnbCc7XG52YXIgc2V0UlRMVGV4dFBsdWdpbiA9IG1hcGJveGdsID8gbWFwYm94Z2wuc2V0UlRMVGV4dFBsdWdpbiA6IGZ1bmN0aW9uICgpIHt9O1xuZXhwb3J0IGRlZmF1bHQgc2V0UlRMVGV4dFBsdWdpbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNldC1ydGwtdGV4dC1wbHVnaW4uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/react-map-gl/dist/esm/utils/set-rtl-text-plugin.js\n");

/***/ }),

/***/ "./node_modules/react-map-gl/dist/esm/utils/style-utils.js":
/*!*****************************************************************!*\
  !*** ./node_modules/react-map-gl/dist/esm/utils/style-utils.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   normalizeStyle: () => (/* binding */ normalizeStyle)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nvar refProps = ['type', 'source', 'source-layer', 'minzoom', 'maxzoom', 'filter', 'layout'];\nfunction normalizeStyle(style) {\n  if (!style) {\n    return null;\n  }\n\n  if (typeof style === 'string') {\n    return style;\n  }\n\n  if (style.toJS) {\n    style = style.toJS();\n  }\n\n  var layerIndex = {};\n\n  var _iterator = _createForOfIteratorHelper(style.layers),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var layer = _step.value;\n      layerIndex[layer.id] = layer;\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  var layers = style.layers.map(function (layer) {\n    var layerRef = layerIndex[layer.ref];\n    var normalizedLayer = null;\n\n    if ('interactive' in layer) {\n      normalizedLayer = _objectSpread({}, layer);\n      delete normalizedLayer.interactive;\n    }\n\n    if (layerRef) {\n      normalizedLayer = normalizedLayer || _objectSpread({}, layer);\n      delete normalizedLayer.ref;\n\n      var _iterator2 = _createForOfIteratorHelper(refProps),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var propName = _step2.value;\n\n          if (propName in layerRef) {\n            normalizedLayer[propName] = layerRef[propName];\n          }\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n    }\n\n    return normalizedLayer || layer;\n  });\n  return _objectSpread(_objectSpread({}, style), {}, {\n    layers: layers\n  });\n}\n//# sourceMappingURL=style-utils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwLWdsL2Rpc3QvZXNtL3V0aWxzL3N0eWxlLXV0aWxzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3VwZXJzZXQvLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwLWdsL2Rpc3QvZXNtL3V0aWxzL3N0eWxlLXV0aWxzLmpzPzgxODIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHlcIjtcblxuZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKG8sIGFsbG93QXJyYXlMaWtlKSB7IHZhciBpdDsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwidW5kZWZpbmVkXCIgfHwgb1tTeW1ib2wuaXRlcmF0b3JdID09IG51bGwpIHsgaWYgKEFycmF5LmlzQXJyYXkobykgfHwgKGl0ID0gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8pKSB8fCBhbGxvd0FycmF5TGlrZSAmJiBvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgeyBpZiAoaXQpIG8gPSBpdDsgdmFyIGkgPSAwOyB2YXIgRiA9IGZ1bmN0aW9uIEYoKSB7fTsgcmV0dXJuIHsgczogRiwgbjogZnVuY3Rpb24gbigpIHsgaWYgKGkgPj0gby5sZW5ndGgpIHJldHVybiB7IGRvbmU6IHRydWUgfTsgcmV0dXJuIHsgZG9uZTogZmFsc2UsIHZhbHVlOiBvW2krK10gfTsgfSwgZTogZnVuY3Rpb24gZShfZSkgeyB0aHJvdyBfZTsgfSwgZjogRiB9OyB9IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gaXRlcmF0ZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfSB2YXIgbm9ybWFsQ29tcGxldGlvbiA9IHRydWUsIGRpZEVyciA9IGZhbHNlLCBlcnI7IHJldHVybiB7IHM6IGZ1bmN0aW9uIHMoKSB7IGl0ID0gb1tTeW1ib2wuaXRlcmF0b3JdKCk7IH0sIG46IGZ1bmN0aW9uIG4oKSB7IHZhciBzdGVwID0gaXQubmV4dCgpOyBub3JtYWxDb21wbGV0aW9uID0gc3RlcC5kb25lOyByZXR1cm4gc3RlcDsgfSwgZTogZnVuY3Rpb24gZShfZTIpIHsgZGlkRXJyID0gdHJ1ZTsgZXJyID0gX2UyOyB9LCBmOiBmdW5jdGlvbiBmKCkgeyB0cnkgeyBpZiAoIW5vcm1hbENvbXBsZXRpb24gJiYgaXRbXCJyZXR1cm5cIl0gIT0gbnVsbCkgaXRbXCJyZXR1cm5cIl0oKTsgfSBmaW5hbGx5IHsgaWYgKGRpZEVycikgdGhyb3cgZXJyOyB9IH0gfTsgfVxuXG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH1cblxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9XG5cbnZhciByZWZQcm9wcyA9IFsndHlwZScsICdzb3VyY2UnLCAnc291cmNlLWxheWVyJywgJ21pbnpvb20nLCAnbWF4em9vbScsICdmaWx0ZXInLCAnbGF5b3V0J107XG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplU3R5bGUoc3R5bGUpIHtcbiAgaWYgKCFzdHlsZSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBzdHlsZSA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gc3R5bGU7XG4gIH1cblxuICBpZiAoc3R5bGUudG9KUykge1xuICAgIHN0eWxlID0gc3R5bGUudG9KUygpO1xuICB9XG5cbiAgdmFyIGxheWVySW5kZXggPSB7fTtcblxuICB2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoc3R5bGUubGF5ZXJzKSxcbiAgICAgIF9zdGVwO1xuXG4gIHRyeSB7XG4gICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHtcbiAgICAgIHZhciBsYXllciA9IF9zdGVwLnZhbHVlO1xuICAgICAgbGF5ZXJJbmRleFtsYXllci5pZF0gPSBsYXllcjtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIF9pdGVyYXRvci5lKGVycik7XG4gIH0gZmluYWxseSB7XG4gICAgX2l0ZXJhdG9yLmYoKTtcbiAgfVxuXG4gIHZhciBsYXllcnMgPSBzdHlsZS5sYXllcnMubWFwKGZ1bmN0aW9uIChsYXllcikge1xuICAgIHZhciBsYXllclJlZiA9IGxheWVySW5kZXhbbGF5ZXIucmVmXTtcbiAgICB2YXIgbm9ybWFsaXplZExheWVyID0gbnVsbDtcblxuICAgIGlmICgnaW50ZXJhY3RpdmUnIGluIGxheWVyKSB7XG4gICAgICBub3JtYWxpemVkTGF5ZXIgPSBfb2JqZWN0U3ByZWFkKHt9LCBsYXllcik7XG4gICAgICBkZWxldGUgbm9ybWFsaXplZExheWVyLmludGVyYWN0aXZlO1xuICAgIH1cblxuICAgIGlmIChsYXllclJlZikge1xuICAgICAgbm9ybWFsaXplZExheWVyID0gbm9ybWFsaXplZExheWVyIHx8IF9vYmplY3RTcHJlYWQoe30sIGxheWVyKTtcbiAgICAgIGRlbGV0ZSBub3JtYWxpemVkTGF5ZXIucmVmO1xuXG4gICAgICB2YXIgX2l0ZXJhdG9yMiA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHJlZlByb3BzKSxcbiAgICAgICAgICBfc3RlcDI7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGZvciAoX2l0ZXJhdG9yMi5zKCk7ICEoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uKCkpLmRvbmU7KSB7XG4gICAgICAgICAgdmFyIHByb3BOYW1lID0gX3N0ZXAyLnZhbHVlO1xuXG4gICAgICAgICAgaWYgKHByb3BOYW1lIGluIGxheWVyUmVmKSB7XG4gICAgICAgICAgICBub3JtYWxpemVkTGF5ZXJbcHJvcE5hbWVdID0gbGF5ZXJSZWZbcHJvcE5hbWVdO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIF9pdGVyYXRvcjIuZShlcnIpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgX2l0ZXJhdG9yMi5mKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG5vcm1hbGl6ZWRMYXllciB8fCBsYXllcjtcbiAgfSk7XG4gIHJldHVybiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHN0eWxlKSwge30sIHtcbiAgICBsYXllcnM6IGxheWVyc1xuICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0eWxlLXV0aWxzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/react-map-gl/dist/esm/utils/style-utils.js\n");

/***/ }),

/***/ "./node_modules/react-map-gl/dist/esm/utils/terrain.js":
/*!*************************************************************!*\
  !*** ./node_modules/react-map-gl/dist/esm/utils/terrain.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getTerrainElevation: () => (/* binding */ getTerrainElevation)\n/* harmony export */ });\nfunction getTerrainElevation(map, _ref) {\n  var longitude = _ref.longitude,\n      latitude = _ref.latitude;\n\n  if (map && map.queryTerrainElevation) {\n    return map.queryTerrainElevation([longitude, latitude]) || 0;\n  }\n\n  return 0;\n}\n//# sourceMappingURL=terrain.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwLWdsL2Rpc3QvZXNtL3V0aWxzL3RlcnJhaW4uanMiLCJtYXBwaW5ncyI6Ijs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3N1cGVyc2V0Ly4vbm9kZV9tb2R1bGVzL3JlYWN0LW1hcC1nbC9kaXN0L2VzbS91dGlscy90ZXJyYWluLmpzPzI3YTMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIGdldFRlcnJhaW5FbGV2YXRpb24obWFwLCBfcmVmKSB7XG4gIHZhciBsb25naXR1ZGUgPSBfcmVmLmxvbmdpdHVkZSxcbiAgICAgIGxhdGl0dWRlID0gX3JlZi5sYXRpdHVkZTtcblxuICBpZiAobWFwICYmIG1hcC5xdWVyeVRlcnJhaW5FbGV2YXRpb24pIHtcbiAgICByZXR1cm4gbWFwLnF1ZXJ5VGVycmFpbkVsZXZhdGlvbihbbG9uZ2l0dWRlLCBsYXRpdHVkZV0pIHx8IDA7XG4gIH1cblxuICByZXR1cm4gMDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRlcnJhaW4uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/react-map-gl/dist/esm/utils/terrain.js\n");

/***/ }),

/***/ "./node_modules/react-map-gl/dist/esm/utils/transition-manager.js":
/*!************************************************************************!*\
  !*** ./node_modules/react-map-gl/dist/esm/utils/transition-manager.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TRANSITION_EVENTS: () => (/* binding */ TRANSITION_EVENTS),\n/* harmony export */   \"default\": () => (/* binding */ TransitionManager)\n/* harmony export */ });\n/* unused harmony export cropEasingFunction */\n/* harmony import */ var _babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/esm/classCallCheck */ \"./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/esm/createClass */ \"./node_modules/@babel/runtime/helpers/esm/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/esm/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var _assert__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./assert */ \"./node_modules/react-map-gl/dist/esm/utils/assert.js\");\n/* harmony import */ var _transition__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./transition */ \"./node_modules/react-map-gl/dist/esm/utils/transition/index.js\");\n/* harmony import */ var _map_state__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./map-state */ \"./node_modules/react-map-gl/dist/esm/utils/map-state.js\");\n\n\n\n\n\n\n\nvar noop = function noop() {};\n\nfunction cropEasingFunction(easing, x0) {\n  var y0 = easing(x0);\n  return function (t) {\n    return 1 / (1 - y0) * (easing(t * (1 - x0) + x0) - y0);\n  };\n}\nvar TRANSITION_EVENTS = {\n  BREAK: 1,\n  SNAP_TO_END: 2,\n  IGNORE: 3,\n  UPDATE: 4\n};\nvar DEFAULT_PROPS = {\n  transitionDuration: 0,\n  transitionEasing: function transitionEasing(t) {\n    return t;\n  },\n  transitionInterpolator: new _transition__WEBPACK_IMPORTED_MODULE_0__.LinearInterpolator(),\n  transitionInterruption: TRANSITION_EVENTS.BREAK,\n  onTransitionStart: noop,\n  onTransitionInterrupt: noop,\n  onTransitionEnd: noop\n};\n\nvar TransitionManager = function () {\n  function TransitionManager() {\n    var _this = this;\n\n    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    (0,_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this, TransitionManager);\n\n    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(this, \"_animationFrame\", null);\n\n    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(this, \"_onTransitionFrame\", function () {\n      _this._animationFrame = requestAnimationFrame(_this._onTransitionFrame);\n\n      _this._updateViewport();\n    });\n\n    this.props = null;\n    this.onViewportChange = opts.onViewportChange || noop;\n    this.onStateChange = opts.onStateChange || noop;\n    this.time = opts.getTime || Date.now;\n  }\n\n  (0,_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(TransitionManager, [{\n    key: \"getViewportInTransition\",\n    value: function getViewportInTransition() {\n      return this._animationFrame ? this.state.propsInTransition : null;\n    }\n  }, {\n    key: \"processViewportChange\",\n    value: function processViewportChange(nextProps) {\n      var currentProps = this.props;\n      this.props = nextProps;\n\n      if (!currentProps || this._shouldIgnoreViewportChange(currentProps, nextProps)) {\n        return false;\n      }\n\n      if (this._isTransitionEnabled(nextProps)) {\n        var startProps = Object.assign({}, currentProps);\n        var endProps = Object.assign({}, nextProps);\n\n        if (this._isTransitionInProgress()) {\n          currentProps.onTransitionInterrupt();\n\n          if (this.state.interruption === TRANSITION_EVENTS.SNAP_TO_END) {\n            Object.assign(startProps, this.state.endProps);\n          } else {\n            Object.assign(startProps, this.state.propsInTransition);\n          }\n\n          if (this.state.interruption === TRANSITION_EVENTS.UPDATE) {\n            var currentTime = this.time();\n            var x0 = (currentTime - this.state.startTime) / this.state.duration;\n            endProps.transitionDuration = this.state.duration - (currentTime - this.state.startTime);\n            endProps.transitionEasing = cropEasingFunction(this.state.easing, x0);\n            endProps.transitionInterpolator = startProps.transitionInterpolator;\n          }\n        }\n\n        endProps.onTransitionStart();\n\n        this._triggerTransition(startProps, endProps);\n\n        return true;\n      }\n\n      if (this._isTransitionInProgress()) {\n        currentProps.onTransitionInterrupt();\n\n        this._endTransition();\n      }\n\n      return false;\n    }\n  }, {\n    key: \"_isTransitionInProgress\",\n    value: function _isTransitionInProgress() {\n      return Boolean(this._animationFrame);\n    }\n  }, {\n    key: \"_isTransitionEnabled\",\n    value: function _isTransitionEnabled(props) {\n      var transitionDuration = props.transitionDuration,\n          transitionInterpolator = props.transitionInterpolator;\n      return (transitionDuration > 0 || transitionDuration === 'auto') && Boolean(transitionInterpolator);\n    }\n  }, {\n    key: \"_isUpdateDueToCurrentTransition\",\n    value: function _isUpdateDueToCurrentTransition(props) {\n      if (this.state.propsInTransition) {\n        return this.state.interpolator.arePropsEqual(props, this.state.propsInTransition);\n      }\n\n      return false;\n    }\n  }, {\n    key: \"_shouldIgnoreViewportChange\",\n    value: function _shouldIgnoreViewportChange(currentProps, nextProps) {\n      if (!currentProps) {\n        return true;\n      }\n\n      if (this._isTransitionInProgress()) {\n        return this.state.interruption === TRANSITION_EVENTS.IGNORE || this._isUpdateDueToCurrentTransition(nextProps);\n      }\n\n      if (this._isTransitionEnabled(nextProps)) {\n        return nextProps.transitionInterpolator.arePropsEqual(currentProps, nextProps);\n      }\n\n      return true;\n    }\n  }, {\n    key: \"_triggerTransition\",\n    value: function _triggerTransition(startProps, endProps) {\n      (0,_assert__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(this._isTransitionEnabled(endProps));\n\n      if (this._animationFrame) {\n        cancelAnimationFrame(this._animationFrame);\n      }\n\n      var transitionInterpolator = endProps.transitionInterpolator;\n      var duration = transitionInterpolator.getDuration ? transitionInterpolator.getDuration(startProps, endProps) : endProps.transitionDuration;\n\n      if (duration === 0) {\n        return;\n      }\n\n      var initialProps = endProps.transitionInterpolator.initializeProps(startProps, endProps);\n      var interactionState = {\n        inTransition: true,\n        isZooming: startProps.zoom !== endProps.zoom,\n        isPanning: startProps.longitude !== endProps.longitude || startProps.latitude !== endProps.latitude,\n        isRotating: startProps.bearing !== endProps.bearing || startProps.pitch !== endProps.pitch\n      };\n      this.state = {\n        duration: duration,\n        easing: endProps.transitionEasing,\n        interpolator: endProps.transitionInterpolator,\n        interruption: endProps.transitionInterruption,\n        startTime: this.time(),\n        startProps: initialProps.start,\n        endProps: initialProps.end,\n        animation: null,\n        propsInTransition: {}\n      };\n\n      this._onTransitionFrame();\n\n      this.onStateChange(interactionState);\n    }\n  }, {\n    key: \"_endTransition\",\n    value: function _endTransition() {\n      if (this._animationFrame) {\n        cancelAnimationFrame(this._animationFrame);\n        this._animationFrame = null;\n      }\n\n      this.onStateChange({\n        inTransition: false,\n        isZooming: false,\n        isPanning: false,\n        isRotating: false\n      });\n    }\n  }, {\n    key: \"_updateViewport\",\n    value: function _updateViewport() {\n      var currentTime = this.time();\n      var _this$state = this.state,\n          startTime = _this$state.startTime,\n          duration = _this$state.duration,\n          easing = _this$state.easing,\n          interpolator = _this$state.interpolator,\n          startProps = _this$state.startProps,\n          endProps = _this$state.endProps;\n      var shouldEnd = false;\n      var t = (currentTime - startTime) / duration;\n\n      if (t >= 1) {\n        t = 1;\n        shouldEnd = true;\n      }\n\n      t = easing(t);\n      var viewport = interpolator.interpolateProps(startProps, endProps, t);\n      var mapState = new _map_state__WEBPACK_IMPORTED_MODULE_1__[\"default\"](Object.assign({}, this.props, viewport));\n      this.state.propsInTransition = mapState.getViewportProps();\n      this.onViewportChange(this.state.propsInTransition, this.props);\n\n      if (shouldEnd) {\n        this._endTransition();\n\n        this.props.onTransitionEnd();\n      }\n    }\n  }]);\n\n  return TransitionManager;\n}();\n\n(0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(TransitionManager, \"defaultProps\", DEFAULT_PROPS);\n\n\n//# sourceMappingURL=transition-manager.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwLWdsL2Rpc3QvZXNtL3V0aWxzL3RyYW5zaXRpb24tbWFuYWdlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdXBlcnNldC8uL25vZGVfbW9kdWxlcy9yZWFjdC1tYXAtZ2wvZGlzdC9lc20vdXRpbHMvdHJhbnNpdGlvbi1tYW5hZ2VyLmpzP2ZjZWIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2tcIjtcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzXCI7XG5pbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eVwiO1xuaW1wb3J0IGFzc2VydCBmcm9tICcuL2Fzc2VydCc7XG5pbXBvcnQgeyBMaW5lYXJJbnRlcnBvbGF0b3IgfSBmcm9tICcuL3RyYW5zaXRpb24nO1xuaW1wb3J0IE1hcFN0YXRlIGZyb20gJy4vbWFwLXN0YXRlJztcblxudmFyIG5vb3AgPSBmdW5jdGlvbiBub29wKCkge307XG5cbmV4cG9ydCBmdW5jdGlvbiBjcm9wRWFzaW5nRnVuY3Rpb24oZWFzaW5nLCB4MCkge1xuICB2YXIgeTAgPSBlYXNpbmcoeDApO1xuICByZXR1cm4gZnVuY3Rpb24gKHQpIHtcbiAgICByZXR1cm4gMSAvICgxIC0geTApICogKGVhc2luZyh0ICogKDEgLSB4MCkgKyB4MCkgLSB5MCk7XG4gIH07XG59XG5leHBvcnQgdmFyIFRSQU5TSVRJT05fRVZFTlRTID0ge1xuICBCUkVBSzogMSxcbiAgU05BUF9UT19FTkQ6IDIsXG4gIElHTk9SRTogMyxcbiAgVVBEQVRFOiA0XG59O1xudmFyIERFRkFVTFRfUFJPUFMgPSB7XG4gIHRyYW5zaXRpb25EdXJhdGlvbjogMCxcbiAgdHJhbnNpdGlvbkVhc2luZzogZnVuY3Rpb24gdHJhbnNpdGlvbkVhc2luZyh0KSB7XG4gICAgcmV0dXJuIHQ7XG4gIH0sXG4gIHRyYW5zaXRpb25JbnRlcnBvbGF0b3I6IG5ldyBMaW5lYXJJbnRlcnBvbGF0b3IoKSxcbiAgdHJhbnNpdGlvbkludGVycnVwdGlvbjogVFJBTlNJVElPTl9FVkVOVFMuQlJFQUssXG4gIG9uVHJhbnNpdGlvblN0YXJ0OiBub29wLFxuICBvblRyYW5zaXRpb25JbnRlcnJ1cHQ6IG5vb3AsXG4gIG9uVHJhbnNpdGlvbkVuZDogbm9vcFxufTtcblxudmFyIFRyYW5zaXRpb25NYW5hZ2VyID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBUcmFuc2l0aW9uTWFuYWdlcigpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdmFyIG9wdHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRyYW5zaXRpb25NYW5hZ2VyKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9hbmltYXRpb25GcmFtZVwiLCBudWxsKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9vblRyYW5zaXRpb25GcmFtZVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5fYW5pbWF0aW9uRnJhbWUgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoX3RoaXMuX29uVHJhbnNpdGlvbkZyYW1lKTtcblxuICAgICAgX3RoaXMuX3VwZGF0ZVZpZXdwb3J0KCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLnByb3BzID0gbnVsbDtcbiAgICB0aGlzLm9uVmlld3BvcnRDaGFuZ2UgPSBvcHRzLm9uVmlld3BvcnRDaGFuZ2UgfHwgbm9vcDtcbiAgICB0aGlzLm9uU3RhdGVDaGFuZ2UgPSBvcHRzLm9uU3RhdGVDaGFuZ2UgfHwgbm9vcDtcbiAgICB0aGlzLnRpbWUgPSBvcHRzLmdldFRpbWUgfHwgRGF0ZS5ub3c7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoVHJhbnNpdGlvbk1hbmFnZXIsIFt7XG4gICAga2V5OiBcImdldFZpZXdwb3J0SW5UcmFuc2l0aW9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFZpZXdwb3J0SW5UcmFuc2l0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2FuaW1hdGlvbkZyYW1lID8gdGhpcy5zdGF0ZS5wcm9wc0luVHJhbnNpdGlvbiA6IG51bGw7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInByb2Nlc3NWaWV3cG9ydENoYW5nZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBwcm9jZXNzVmlld3BvcnRDaGFuZ2UobmV4dFByb3BzKSB7XG4gICAgICB2YXIgY3VycmVudFByb3BzID0gdGhpcy5wcm9wcztcbiAgICAgIHRoaXMucHJvcHMgPSBuZXh0UHJvcHM7XG5cbiAgICAgIGlmICghY3VycmVudFByb3BzIHx8IHRoaXMuX3Nob3VsZElnbm9yZVZpZXdwb3J0Q2hhbmdlKGN1cnJlbnRQcm9wcywgbmV4dFByb3BzKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLl9pc1RyYW5zaXRpb25FbmFibGVkKG5leHRQcm9wcykpIHtcbiAgICAgICAgdmFyIHN0YXJ0UHJvcHMgPSBPYmplY3QuYXNzaWduKHt9LCBjdXJyZW50UHJvcHMpO1xuICAgICAgICB2YXIgZW5kUHJvcHMgPSBPYmplY3QuYXNzaWduKHt9LCBuZXh0UHJvcHMpO1xuXG4gICAgICAgIGlmICh0aGlzLl9pc1RyYW5zaXRpb25JblByb2dyZXNzKCkpIHtcbiAgICAgICAgICBjdXJyZW50UHJvcHMub25UcmFuc2l0aW9uSW50ZXJydXB0KCk7XG5cbiAgICAgICAgICBpZiAodGhpcy5zdGF0ZS5pbnRlcnJ1cHRpb24gPT09IFRSQU5TSVRJT05fRVZFTlRTLlNOQVBfVE9fRU5EKSB7XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKHN0YXJ0UHJvcHMsIHRoaXMuc3RhdGUuZW5kUHJvcHMpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKHN0YXJ0UHJvcHMsIHRoaXMuc3RhdGUucHJvcHNJblRyYW5zaXRpb24pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICh0aGlzLnN0YXRlLmludGVycnVwdGlvbiA9PT0gVFJBTlNJVElPTl9FVkVOVFMuVVBEQVRFKSB7XG4gICAgICAgICAgICB2YXIgY3VycmVudFRpbWUgPSB0aGlzLnRpbWUoKTtcbiAgICAgICAgICAgIHZhciB4MCA9IChjdXJyZW50VGltZSAtIHRoaXMuc3RhdGUuc3RhcnRUaW1lKSAvIHRoaXMuc3RhdGUuZHVyYXRpb247XG4gICAgICAgICAgICBlbmRQcm9wcy50cmFuc2l0aW9uRHVyYXRpb24gPSB0aGlzLnN0YXRlLmR1cmF0aW9uIC0gKGN1cnJlbnRUaW1lIC0gdGhpcy5zdGF0ZS5zdGFydFRpbWUpO1xuICAgICAgICAgICAgZW5kUHJvcHMudHJhbnNpdGlvbkVhc2luZyA9IGNyb3BFYXNpbmdGdW5jdGlvbih0aGlzLnN0YXRlLmVhc2luZywgeDApO1xuICAgICAgICAgICAgZW5kUHJvcHMudHJhbnNpdGlvbkludGVycG9sYXRvciA9IHN0YXJ0UHJvcHMudHJhbnNpdGlvbkludGVycG9sYXRvcjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBlbmRQcm9wcy5vblRyYW5zaXRpb25TdGFydCgpO1xuXG4gICAgICAgIHRoaXMuX3RyaWdnZXJUcmFuc2l0aW9uKHN0YXJ0UHJvcHMsIGVuZFByb3BzKTtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuX2lzVHJhbnNpdGlvbkluUHJvZ3Jlc3MoKSkge1xuICAgICAgICBjdXJyZW50UHJvcHMub25UcmFuc2l0aW9uSW50ZXJydXB0KCk7XG5cbiAgICAgICAgdGhpcy5fZW5kVHJhbnNpdGlvbigpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9pc1RyYW5zaXRpb25JblByb2dyZXNzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9pc1RyYW5zaXRpb25JblByb2dyZXNzKCkge1xuICAgICAgcmV0dXJuIEJvb2xlYW4odGhpcy5fYW5pbWF0aW9uRnJhbWUpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfaXNUcmFuc2l0aW9uRW5hYmxlZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfaXNUcmFuc2l0aW9uRW5hYmxlZChwcm9wcykge1xuICAgICAgdmFyIHRyYW5zaXRpb25EdXJhdGlvbiA9IHByb3BzLnRyYW5zaXRpb25EdXJhdGlvbixcbiAgICAgICAgICB0cmFuc2l0aW9uSW50ZXJwb2xhdG9yID0gcHJvcHMudHJhbnNpdGlvbkludGVycG9sYXRvcjtcbiAgICAgIHJldHVybiAodHJhbnNpdGlvbkR1cmF0aW9uID4gMCB8fCB0cmFuc2l0aW9uRHVyYXRpb24gPT09ICdhdXRvJykgJiYgQm9vbGVhbih0cmFuc2l0aW9uSW50ZXJwb2xhdG9yKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX2lzVXBkYXRlRHVlVG9DdXJyZW50VHJhbnNpdGlvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfaXNVcGRhdGVEdWVUb0N1cnJlbnRUcmFuc2l0aW9uKHByb3BzKSB7XG4gICAgICBpZiAodGhpcy5zdGF0ZS5wcm9wc0luVHJhbnNpdGlvbikge1xuICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZS5pbnRlcnBvbGF0b3IuYXJlUHJvcHNFcXVhbChwcm9wcywgdGhpcy5zdGF0ZS5wcm9wc0luVHJhbnNpdGlvbik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX3Nob3VsZElnbm9yZVZpZXdwb3J0Q2hhbmdlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9zaG91bGRJZ25vcmVWaWV3cG9ydENoYW5nZShjdXJyZW50UHJvcHMsIG5leHRQcm9wcykge1xuICAgICAgaWYgKCFjdXJyZW50UHJvcHMpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLl9pc1RyYW5zaXRpb25JblByb2dyZXNzKCkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGUuaW50ZXJydXB0aW9uID09PSBUUkFOU0lUSU9OX0VWRU5UUy5JR05PUkUgfHwgdGhpcy5faXNVcGRhdGVEdWVUb0N1cnJlbnRUcmFuc2l0aW9uKG5leHRQcm9wcyk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLl9pc1RyYW5zaXRpb25FbmFibGVkKG5leHRQcm9wcykpIHtcbiAgICAgICAgcmV0dXJuIG5leHRQcm9wcy50cmFuc2l0aW9uSW50ZXJwb2xhdG9yLmFyZVByb3BzRXF1YWwoY3VycmVudFByb3BzLCBuZXh0UHJvcHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX3RyaWdnZXJUcmFuc2l0aW9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF90cmlnZ2VyVHJhbnNpdGlvbihzdGFydFByb3BzLCBlbmRQcm9wcykge1xuICAgICAgYXNzZXJ0KHRoaXMuX2lzVHJhbnNpdGlvbkVuYWJsZWQoZW5kUHJvcHMpKTtcblxuICAgICAgaWYgKHRoaXMuX2FuaW1hdGlvbkZyYW1lKSB7XG4gICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuX2FuaW1hdGlvbkZyYW1lKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHRyYW5zaXRpb25JbnRlcnBvbGF0b3IgPSBlbmRQcm9wcy50cmFuc2l0aW9uSW50ZXJwb2xhdG9yO1xuICAgICAgdmFyIGR1cmF0aW9uID0gdHJhbnNpdGlvbkludGVycG9sYXRvci5nZXREdXJhdGlvbiA/IHRyYW5zaXRpb25JbnRlcnBvbGF0b3IuZ2V0RHVyYXRpb24oc3RhcnRQcm9wcywgZW5kUHJvcHMpIDogZW5kUHJvcHMudHJhbnNpdGlvbkR1cmF0aW9uO1xuXG4gICAgICBpZiAoZHVyYXRpb24gPT09IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgaW5pdGlhbFByb3BzID0gZW5kUHJvcHMudHJhbnNpdGlvbkludGVycG9sYXRvci5pbml0aWFsaXplUHJvcHMoc3RhcnRQcm9wcywgZW5kUHJvcHMpO1xuICAgICAgdmFyIGludGVyYWN0aW9uU3RhdGUgPSB7XG4gICAgICAgIGluVHJhbnNpdGlvbjogdHJ1ZSxcbiAgICAgICAgaXNab29taW5nOiBzdGFydFByb3BzLnpvb20gIT09IGVuZFByb3BzLnpvb20sXG4gICAgICAgIGlzUGFubmluZzogc3RhcnRQcm9wcy5sb25naXR1ZGUgIT09IGVuZFByb3BzLmxvbmdpdHVkZSB8fCBzdGFydFByb3BzLmxhdGl0dWRlICE9PSBlbmRQcm9wcy5sYXRpdHVkZSxcbiAgICAgICAgaXNSb3RhdGluZzogc3RhcnRQcm9wcy5iZWFyaW5nICE9PSBlbmRQcm9wcy5iZWFyaW5nIHx8IHN0YXJ0UHJvcHMucGl0Y2ggIT09IGVuZFByb3BzLnBpdGNoXG4gICAgICB9O1xuICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgZHVyYXRpb246IGR1cmF0aW9uLFxuICAgICAgICBlYXNpbmc6IGVuZFByb3BzLnRyYW5zaXRpb25FYXNpbmcsXG4gICAgICAgIGludGVycG9sYXRvcjogZW5kUHJvcHMudHJhbnNpdGlvbkludGVycG9sYXRvcixcbiAgICAgICAgaW50ZXJydXB0aW9uOiBlbmRQcm9wcy50cmFuc2l0aW9uSW50ZXJydXB0aW9uLFxuICAgICAgICBzdGFydFRpbWU6IHRoaXMudGltZSgpLFxuICAgICAgICBzdGFydFByb3BzOiBpbml0aWFsUHJvcHMuc3RhcnQsXG4gICAgICAgIGVuZFByb3BzOiBpbml0aWFsUHJvcHMuZW5kLFxuICAgICAgICBhbmltYXRpb246IG51bGwsXG4gICAgICAgIHByb3BzSW5UcmFuc2l0aW9uOiB7fVxuICAgICAgfTtcblxuICAgICAgdGhpcy5fb25UcmFuc2l0aW9uRnJhbWUoKTtcblxuICAgICAgdGhpcy5vblN0YXRlQ2hhbmdlKGludGVyYWN0aW9uU3RhdGUpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfZW5kVHJhbnNpdGlvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZW5kVHJhbnNpdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLl9hbmltYXRpb25GcmFtZSkge1xuICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLl9hbmltYXRpb25GcmFtZSk7XG4gICAgICAgIHRoaXMuX2FuaW1hdGlvbkZyYW1lID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgdGhpcy5vblN0YXRlQ2hhbmdlKHtcbiAgICAgICAgaW5UcmFuc2l0aW9uOiBmYWxzZSxcbiAgICAgICAgaXNab29taW5nOiBmYWxzZSxcbiAgICAgICAgaXNQYW5uaW5nOiBmYWxzZSxcbiAgICAgICAgaXNSb3RhdGluZzogZmFsc2VcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfdXBkYXRlVmlld3BvcnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX3VwZGF0ZVZpZXdwb3J0KCkge1xuICAgICAgdmFyIGN1cnJlbnRUaW1lID0gdGhpcy50aW1lKCk7XG4gICAgICB2YXIgX3RoaXMkc3RhdGUgPSB0aGlzLnN0YXRlLFxuICAgICAgICAgIHN0YXJ0VGltZSA9IF90aGlzJHN0YXRlLnN0YXJ0VGltZSxcbiAgICAgICAgICBkdXJhdGlvbiA9IF90aGlzJHN0YXRlLmR1cmF0aW9uLFxuICAgICAgICAgIGVhc2luZyA9IF90aGlzJHN0YXRlLmVhc2luZyxcbiAgICAgICAgICBpbnRlcnBvbGF0b3IgPSBfdGhpcyRzdGF0ZS5pbnRlcnBvbGF0b3IsXG4gICAgICAgICAgc3RhcnRQcm9wcyA9IF90aGlzJHN0YXRlLnN0YXJ0UHJvcHMsXG4gICAgICAgICAgZW5kUHJvcHMgPSBfdGhpcyRzdGF0ZS5lbmRQcm9wcztcbiAgICAgIHZhciBzaG91bGRFbmQgPSBmYWxzZTtcbiAgICAgIHZhciB0ID0gKGN1cnJlbnRUaW1lIC0gc3RhcnRUaW1lKSAvIGR1cmF0aW9uO1xuXG4gICAgICBpZiAodCA+PSAxKSB7XG4gICAgICAgIHQgPSAxO1xuICAgICAgICBzaG91bGRFbmQgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICB0ID0gZWFzaW5nKHQpO1xuICAgICAgdmFyIHZpZXdwb3J0ID0gaW50ZXJwb2xhdG9yLmludGVycG9sYXRlUHJvcHMoc3RhcnRQcm9wcywgZW5kUHJvcHMsIHQpO1xuICAgICAgdmFyIG1hcFN0YXRlID0gbmV3IE1hcFN0YXRlKE9iamVjdC5hc3NpZ24oe30sIHRoaXMucHJvcHMsIHZpZXdwb3J0KSk7XG4gICAgICB0aGlzLnN0YXRlLnByb3BzSW5UcmFuc2l0aW9uID0gbWFwU3RhdGUuZ2V0Vmlld3BvcnRQcm9wcygpO1xuICAgICAgdGhpcy5vblZpZXdwb3J0Q2hhbmdlKHRoaXMuc3RhdGUucHJvcHNJblRyYW5zaXRpb24sIHRoaXMucHJvcHMpO1xuXG4gICAgICBpZiAoc2hvdWxkRW5kKSB7XG4gICAgICAgIHRoaXMuX2VuZFRyYW5zaXRpb24oKTtcblxuICAgICAgICB0aGlzLnByb3BzLm9uVHJhbnNpdGlvbkVuZCgpO1xuICAgICAgfVxuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBUcmFuc2l0aW9uTWFuYWdlcjtcbn0oKTtcblxuX2RlZmluZVByb3BlcnR5KFRyYW5zaXRpb25NYW5hZ2VyLCBcImRlZmF1bHRQcm9wc1wiLCBERUZBVUxUX1BST1BTKTtcblxuZXhwb3J0IHsgVHJhbnNpdGlvbk1hbmFnZXIgYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHJhbnNpdGlvbi1tYW5hZ2VyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/react-map-gl/dist/esm/utils/transition-manager.js\n");

/***/ }),

/***/ "./node_modules/react-map-gl/dist/esm/utils/transition/index.js":
/*!**********************************************************************!*\
  !*** ./node_modules/react-map-gl/dist/esm/utils/transition/index.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LinearInterpolator: () => (/* reexport safe */ _linear_interpolator__WEBPACK_IMPORTED_MODULE_2__[\"default\"])\n/* harmony export */ });\n/* harmony import */ var _transition_interpolator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./transition-interpolator */ \"./node_modules/react-map-gl/dist/esm/utils/transition/transition-interpolator.js\");\n/* harmony import */ var _viewport_fly_to_interpolator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./viewport-fly-to-interpolator */ \"./node_modules/react-map-gl/dist/esm/utils/transition/viewport-fly-to-interpolator.js\");\n/* harmony import */ var _linear_interpolator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./linear-interpolator */ \"./node_modules/react-map-gl/dist/esm/utils/transition/linear-interpolator.js\");\n\n\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwLWdsL2Rpc3QvZXNtL3V0aWxzL3RyYW5zaXRpb24vaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdXBlcnNldC8uL25vZGVfbW9kdWxlcy9yZWFjdC1tYXAtZ2wvZGlzdC9lc20vdXRpbHMvdHJhbnNpdGlvbi9pbmRleC5qcz9iMzQxIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB7IGRlZmF1bHQgYXMgVHJhbnNpdGlvbkludGVycG9sYXRvciB9IGZyb20gJy4vdHJhbnNpdGlvbi1pbnRlcnBvbGF0b3InO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBWaWV3cG9ydEZseVRvSW50ZXJwb2xhdG9yIH0gZnJvbSAnLi92aWV3cG9ydC1mbHktdG8taW50ZXJwb2xhdG9yJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTGluZWFySW50ZXJwb2xhdG9yIH0gZnJvbSAnLi9saW5lYXItaW50ZXJwb2xhdG9yJztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/react-map-gl/dist/esm/utils/transition/index.js\n");

/***/ }),

/***/ "./node_modules/react-map-gl/dist/esm/utils/transition/linear-interpolator.js":
/*!************************************************************************************!*\
  !*** ./node_modules/react-map-gl/dist/esm/utils/transition/linear-interpolator.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ LinearInterpolator)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @babel/runtime/helpers/esm/slicedToArray */ \"./node_modules/@babel/runtime/helpers/esm/slicedToArray.js\");\n/* harmony import */ var _babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/esm/classCallCheck */ \"./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime/helpers/esm/createClass */ \"./node_modules/@babel/runtime/helpers/esm/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/esm/inherits */ \"./node_modules/@babel/runtime/helpers/esm/inherits.js\");\n/* harmony import */ var _babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/esm/possibleConstructorReturn */ \"./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\");\n/* harmony import */ var _babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/getPrototypeOf */ \"./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\");\n/* harmony import */ var viewport_mercator_project__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! viewport-mercator-project */ \"./node_modules/react-map-gl/node_modules/viewport-mercator-project/module.js\");\n/* harmony import */ var _assert__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../assert */ \"./node_modules/react-map-gl/dist/esm/utils/assert.js\");\n/* harmony import */ var _transition_interpolator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./transition-interpolator */ \"./node_modules/react-map-gl/dist/esm/utils/transition/transition-interpolator.js\");\n/* harmony import */ var _transition_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./transition-utils */ \"./node_modules/react-map-gl/dist/esm/utils/transition/transition-utils.js\");\n/* harmony import */ var _math_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../math-utils */ \"./node_modules/react-map-gl/dist/esm/utils/math-utils.js\");\n\n\n\n\n\n\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\n\n\nvar VIEWPORT_TRANSITION_PROPS = ['longitude', 'latitude', 'zoom', 'bearing', 'pitch'];\n\nvar LinearInterpolator = function (_TransitionInterpolat) {\n  (0,_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(LinearInterpolator, _TransitionInterpolat);\n\n  var _super = _createSuper(LinearInterpolator);\n\n  function LinearInterpolator() {\n    var _this;\n\n    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    (0,_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(this, LinearInterpolator);\n\n    _this = _super.call(this);\n\n    if (Array.isArray(opts)) {\n      opts = {\n        transitionProps: opts\n      };\n    }\n\n    _this.propNames = opts.transitionProps || VIEWPORT_TRANSITION_PROPS;\n\n    if (opts.around) {\n      _this.around = opts.around;\n    }\n\n    return _this;\n  }\n\n  (0,_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(LinearInterpolator, [{\n    key: \"initializeProps\",\n    value: function initializeProps(startProps, endProps) {\n      var startViewportProps = {};\n      var endViewportProps = {};\n\n      if (this.around) {\n        startViewportProps.around = this.around;\n        var aroundLngLat = new viewport_mercator_project__WEBPACK_IMPORTED_MODULE_2__[\"default\"](startProps).unproject(this.around);\n        Object.assign(endViewportProps, endProps, {\n          around: new viewport_mercator_project__WEBPACK_IMPORTED_MODULE_2__[\"default\"](endProps).project(aroundLngLat),\n          aroundLngLat: aroundLngLat\n        });\n      }\n\n      var _iterator = _createForOfIteratorHelper(this.propNames),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var key = _step.value;\n          var startValue = startProps[key];\n          var endValue = endProps[key];\n          (0,_assert__WEBPACK_IMPORTED_MODULE_8__[\"default\"])((0,_transition_utils__WEBPACK_IMPORTED_MODULE_4__.isValid)(startValue) && (0,_transition_utils__WEBPACK_IMPORTED_MODULE_4__.isValid)(endValue), \"\".concat(key, \" must be supplied for transition\"));\n          startViewportProps[key] = startValue;\n          endViewportProps[key] = (0,_transition_utils__WEBPACK_IMPORTED_MODULE_4__.getEndValueByShortestPath)(key, startValue, endValue);\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      return {\n        start: startViewportProps,\n        end: endViewportProps\n      };\n    }\n  }, {\n    key: \"interpolateProps\",\n    value: function interpolateProps(startProps, endProps, t) {\n      var viewport = {};\n\n      var _iterator2 = _createForOfIteratorHelper(this.propNames),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var key = _step2.value;\n          viewport[key] = (0,_math_utils__WEBPACK_IMPORTED_MODULE_9__.lerp)(startProps[key], endProps[key], t);\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n\n      if (endProps.around) {\n        var _WebMercatorViewport$ = new viewport_mercator_project__WEBPACK_IMPORTED_MODULE_2__[\"default\"](Object.assign({}, endProps, viewport)).getMapCenterByLngLatPosition({\n          lngLat: endProps.aroundLngLat,\n          pos: (0,_math_utils__WEBPACK_IMPORTED_MODULE_9__.lerp)(startProps.around, endProps.around, t)\n        }),\n            _WebMercatorViewport$2 = (0,_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_10__[\"default\"])(_WebMercatorViewport$, 2),\n            longitude = _WebMercatorViewport$2[0],\n            latitude = _WebMercatorViewport$2[1];\n\n        viewport.longitude = longitude;\n        viewport.latitude = latitude;\n      }\n\n      return viewport;\n    }\n  }]);\n\n  return LinearInterpolator;\n}(_transition_interpolator__WEBPACK_IMPORTED_MODULE_3__[\"default\"]);\n\n\n//# sourceMappingURL=linear-interpolator.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwLWdsL2Rpc3QvZXNtL3V0aWxzL3RyYW5zaXRpb24vbGluZWFyLWludGVycG9sYXRvci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3N1cGVyc2V0Ly4vbm9kZV9tb2R1bGVzL3JlYWN0LW1hcC1nbC9kaXN0L2VzbS91dGlscy90cmFuc2l0aW9uL2xpbmVhci1pbnRlcnBvbGF0b3IuanM/ZDZkZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgX3NsaWNlZFRvQXJyYXkgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3NsaWNlZFRvQXJyYXlcIjtcbmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrXCI7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzc1wiO1xuaW1wb3J0IF9pbmhlcml0cyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaW5oZXJpdHNcIjtcbmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vcG9zc2libGVDb25zdHJ1Y3RvclJldHVyblwiO1xuaW1wb3J0IF9nZXRQcm90b3R5cGVPZiBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZ2V0UHJvdG90eXBlT2ZcIjtcblxuZnVuY3Rpb24gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIobywgYWxsb3dBcnJheUxpa2UpIHsgdmFyIGl0OyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJ1bmRlZmluZWRcIiB8fCBvW1N5bWJvbC5pdGVyYXRvcl0gPT0gbnVsbCkgeyBpZiAoQXJyYXkuaXNBcnJheShvKSB8fCAoaXQgPSBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobykpIHx8IGFsbG93QXJyYXlMaWtlICYmIG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSB7IGlmIChpdCkgbyA9IGl0OyB2YXIgaSA9IDA7IHZhciBGID0gZnVuY3Rpb24gRigpIHt9OyByZXR1cm4geyBzOiBGLCBuOiBmdW5jdGlvbiBuKCkgeyBpZiAoaSA+PSBvLmxlbmd0aCkgcmV0dXJuIHsgZG9uZTogdHJ1ZSB9OyByZXR1cm4geyBkb25lOiBmYWxzZSwgdmFsdWU6IG9baSsrXSB9OyB9LCBlOiBmdW5jdGlvbiBlKF9lKSB7IHRocm93IF9lOyB9LCBmOiBGIH07IH0gdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9IHZhciBub3JtYWxDb21wbGV0aW9uID0gdHJ1ZSwgZGlkRXJyID0gZmFsc2UsIGVycjsgcmV0dXJuIHsgczogZnVuY3Rpb24gcygpIHsgaXQgPSBvW1N5bWJvbC5pdGVyYXRvcl0oKTsgfSwgbjogZnVuY3Rpb24gbigpIHsgdmFyIHN0ZXAgPSBpdC5uZXh0KCk7IG5vcm1hbENvbXBsZXRpb24gPSBzdGVwLmRvbmU7IHJldHVybiBzdGVwOyB9LCBlOiBmdW5jdGlvbiBlKF9lMikgeyBkaWRFcnIgPSB0cnVlOyBlcnIgPSBfZTI7IH0sIGY6IGZ1bmN0aW9uIGYoKSB7IHRyeSB7IGlmICghbm9ybWFsQ29tcGxldGlvbiAmJiBpdFtcInJldHVyblwiXSAhPSBudWxsKSBpdFtcInJldHVyblwiXSgpOyB9IGZpbmFsbHkgeyBpZiAoZGlkRXJyKSB0aHJvdyBlcnI7IH0gfSB9OyB9XG5cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgfVxuXG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH1cblxuZnVuY3Rpb24gX2NyZWF0ZVN1cGVyKERlcml2ZWQpIHsgdmFyIGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCk7IHJldHVybiBmdW5jdGlvbiBfY3JlYXRlU3VwZXJJbnRlcm5hbCgpIHsgdmFyIFN1cGVyID0gX2dldFByb3RvdHlwZU9mKERlcml2ZWQpLCByZXN1bHQ7IGlmIChoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KSB7IHZhciBOZXdUYXJnZXQgPSBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3I7IHJlc3VsdCA9IFJlZmxlY3QuY29uc3RydWN0KFN1cGVyLCBhcmd1bWVudHMsIE5ld1RhcmdldCk7IH0gZWxzZSB7IHJlc3VsdCA9IFN1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0gcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIHJlc3VsdCk7IH07IH1cblxuZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcInVuZGVmaW5lZFwiIHx8ICFSZWZsZWN0LmNvbnN0cnVjdCkgcmV0dXJuIGZhbHNlOyBpZiAoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSkgcmV0dXJuIGZhbHNlOyBpZiAodHlwZW9mIFByb3h5ID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiB0cnVlOyB0cnkgeyBEYXRlLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKFJlZmxlY3QuY29uc3RydWN0KERhdGUsIFtdLCBmdW5jdGlvbiAoKSB7fSkpOyByZXR1cm4gdHJ1ZTsgfSBjYXRjaCAoZSkgeyByZXR1cm4gZmFsc2U7IH0gfVxuXG5pbXBvcnQgV2ViTWVyY2F0b3JWaWV3cG9ydCBmcm9tICd2aWV3cG9ydC1tZXJjYXRvci1wcm9qZWN0JztcbmltcG9ydCBhc3NlcnQgZnJvbSAnLi4vYXNzZXJ0JztcbmltcG9ydCBUcmFuc2l0aW9uSW50ZXJwb2xhdG9yIGZyb20gJy4vdHJhbnNpdGlvbi1pbnRlcnBvbGF0b3InO1xuaW1wb3J0IHsgaXNWYWxpZCwgZ2V0RW5kVmFsdWVCeVNob3J0ZXN0UGF0aCB9IGZyb20gJy4vdHJhbnNpdGlvbi11dGlscyc7XG5pbXBvcnQgeyBsZXJwIH0gZnJvbSAnLi4vbWF0aC11dGlscyc7XG52YXIgVklFV1BPUlRfVFJBTlNJVElPTl9QUk9QUyA9IFsnbG9uZ2l0dWRlJywgJ2xhdGl0dWRlJywgJ3pvb20nLCAnYmVhcmluZycsICdwaXRjaCddO1xuXG52YXIgTGluZWFySW50ZXJwb2xhdG9yID0gZnVuY3Rpb24gKF9UcmFuc2l0aW9uSW50ZXJwb2xhdCkge1xuICBfaW5oZXJpdHMoTGluZWFySW50ZXJwb2xhdG9yLCBfVHJhbnNpdGlvbkludGVycG9sYXQpO1xuXG4gIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoTGluZWFySW50ZXJwb2xhdG9yKTtcblxuICBmdW5jdGlvbiBMaW5lYXJJbnRlcnBvbGF0b3IoKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgdmFyIG9wdHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIExpbmVhckludGVycG9sYXRvcik7XG5cbiAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpO1xuXG4gICAgaWYgKEFycmF5LmlzQXJyYXkob3B0cykpIHtcbiAgICAgIG9wdHMgPSB7XG4gICAgICAgIHRyYW5zaXRpb25Qcm9wczogb3B0c1xuICAgICAgfTtcbiAgICB9XG5cbiAgICBfdGhpcy5wcm9wTmFtZXMgPSBvcHRzLnRyYW5zaXRpb25Qcm9wcyB8fCBWSUVXUE9SVF9UUkFOU0lUSU9OX1BST1BTO1xuXG4gICAgaWYgKG9wdHMuYXJvdW5kKSB7XG4gICAgICBfdGhpcy5hcm91bmQgPSBvcHRzLmFyb3VuZDtcbiAgICB9XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoTGluZWFySW50ZXJwb2xhdG9yLCBbe1xuICAgIGtleTogXCJpbml0aWFsaXplUHJvcHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZVByb3BzKHN0YXJ0UHJvcHMsIGVuZFByb3BzKSB7XG4gICAgICB2YXIgc3RhcnRWaWV3cG9ydFByb3BzID0ge307XG4gICAgICB2YXIgZW5kVmlld3BvcnRQcm9wcyA9IHt9O1xuXG4gICAgICBpZiAodGhpcy5hcm91bmQpIHtcbiAgICAgICAgc3RhcnRWaWV3cG9ydFByb3BzLmFyb3VuZCA9IHRoaXMuYXJvdW5kO1xuICAgICAgICB2YXIgYXJvdW5kTG5nTGF0ID0gbmV3IFdlYk1lcmNhdG9yVmlld3BvcnQoc3RhcnRQcm9wcykudW5wcm9qZWN0KHRoaXMuYXJvdW5kKTtcbiAgICAgICAgT2JqZWN0LmFzc2lnbihlbmRWaWV3cG9ydFByb3BzLCBlbmRQcm9wcywge1xuICAgICAgICAgIGFyb3VuZDogbmV3IFdlYk1lcmNhdG9yVmlld3BvcnQoZW5kUHJvcHMpLnByb2plY3QoYXJvdW5kTG5nTGF0KSxcbiAgICAgICAgICBhcm91bmRMbmdMYXQ6IGFyb3VuZExuZ0xhdFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHRoaXMucHJvcE5hbWVzKSxcbiAgICAgICAgICBfc3RlcDtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHtcbiAgICAgICAgICB2YXIga2V5ID0gX3N0ZXAudmFsdWU7XG4gICAgICAgICAgdmFyIHN0YXJ0VmFsdWUgPSBzdGFydFByb3BzW2tleV07XG4gICAgICAgICAgdmFyIGVuZFZhbHVlID0gZW5kUHJvcHNba2V5XTtcbiAgICAgICAgICBhc3NlcnQoaXNWYWxpZChzdGFydFZhbHVlKSAmJiBpc1ZhbGlkKGVuZFZhbHVlKSwgXCJcIi5jb25jYXQoa2V5LCBcIiBtdXN0IGJlIHN1cHBsaWVkIGZvciB0cmFuc2l0aW9uXCIpKTtcbiAgICAgICAgICBzdGFydFZpZXdwb3J0UHJvcHNba2V5XSA9IHN0YXJ0VmFsdWU7XG4gICAgICAgICAgZW5kVmlld3BvcnRQcm9wc1trZXldID0gZ2V0RW5kVmFsdWVCeVNob3J0ZXN0UGF0aChrZXksIHN0YXJ0VmFsdWUsIGVuZFZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIF9pdGVyYXRvci5lKGVycik7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBfaXRlcmF0b3IuZigpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdGFydDogc3RhcnRWaWV3cG9ydFByb3BzLFxuICAgICAgICBlbmQ6IGVuZFZpZXdwb3J0UHJvcHNcbiAgICAgIH07XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImludGVycG9sYXRlUHJvcHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaW50ZXJwb2xhdGVQcm9wcyhzdGFydFByb3BzLCBlbmRQcm9wcywgdCkge1xuICAgICAgdmFyIHZpZXdwb3J0ID0ge307XG5cbiAgICAgIHZhciBfaXRlcmF0b3IyID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIodGhpcy5wcm9wTmFtZXMpLFxuICAgICAgICAgIF9zdGVwMjtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgZm9yIChfaXRlcmF0b3IyLnMoKTsgIShfc3RlcDIgPSBfaXRlcmF0b3IyLm4oKSkuZG9uZTspIHtcbiAgICAgICAgICB2YXIga2V5ID0gX3N0ZXAyLnZhbHVlO1xuICAgICAgICAgIHZpZXdwb3J0W2tleV0gPSBsZXJwKHN0YXJ0UHJvcHNba2V5XSwgZW5kUHJvcHNba2V5XSwgdCk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBfaXRlcmF0b3IyLmUoZXJyKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIF9pdGVyYXRvcjIuZigpO1xuICAgICAgfVxuXG4gICAgICBpZiAoZW5kUHJvcHMuYXJvdW5kKSB7XG4gICAgICAgIHZhciBfV2ViTWVyY2F0b3JWaWV3cG9ydCQgPSBuZXcgV2ViTWVyY2F0b3JWaWV3cG9ydChPYmplY3QuYXNzaWduKHt9LCBlbmRQcm9wcywgdmlld3BvcnQpKS5nZXRNYXBDZW50ZXJCeUxuZ0xhdFBvc2l0aW9uKHtcbiAgICAgICAgICBsbmdMYXQ6IGVuZFByb3BzLmFyb3VuZExuZ0xhdCxcbiAgICAgICAgICBwb3M6IGxlcnAoc3RhcnRQcm9wcy5hcm91bmQsIGVuZFByb3BzLmFyb3VuZCwgdClcbiAgICAgICAgfSksXG4gICAgICAgICAgICBfV2ViTWVyY2F0b3JWaWV3cG9ydCQyID0gX3NsaWNlZFRvQXJyYXkoX1dlYk1lcmNhdG9yVmlld3BvcnQkLCAyKSxcbiAgICAgICAgICAgIGxvbmdpdHVkZSA9IF9XZWJNZXJjYXRvclZpZXdwb3J0JDJbMF0sXG4gICAgICAgICAgICBsYXRpdHVkZSA9IF9XZWJNZXJjYXRvclZpZXdwb3J0JDJbMV07XG5cbiAgICAgICAgdmlld3BvcnQubG9uZ2l0dWRlID0gbG9uZ2l0dWRlO1xuICAgICAgICB2aWV3cG9ydC5sYXRpdHVkZSA9IGxhdGl0dWRlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdmlld3BvcnQ7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIExpbmVhckludGVycG9sYXRvcjtcbn0oVHJhbnNpdGlvbkludGVycG9sYXRvcik7XG5cbmV4cG9ydCB7IExpbmVhckludGVycG9sYXRvciBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1saW5lYXItaW50ZXJwb2xhdG9yLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/react-map-gl/dist/esm/utils/transition/linear-interpolator.js\n");

/***/ }),

/***/ "./node_modules/react-map-gl/dist/esm/utils/transition/transition-interpolator.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/react-map-gl/dist/esm/utils/transition/transition-interpolator.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ TransitionInterpolator)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/classCallCheck */ \"./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/esm/createClass */ \"./node_modules/@babel/runtime/helpers/esm/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/esm/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var _math_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../math-utils */ \"./node_modules/react-map-gl/dist/esm/utils/math-utils.js\");\n/* harmony import */ var _assert__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../assert */ \"./node_modules/react-map-gl/dist/esm/utils/assert.js\");\n\n\n\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n\n\n\nvar TransitionInterpolator = function () {\n  function TransitionInterpolator() {\n    (0,_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this, TransitionInterpolator);\n\n    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this, \"propNames\", []);\n  }\n\n  (0,_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(TransitionInterpolator, [{\n    key: \"arePropsEqual\",\n    value: function arePropsEqual(currentProps, nextProps) {\n      var _iterator = _createForOfIteratorHelper(this.propNames || []),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var key = _step.value;\n\n          if (!(0,_math_utils__WEBPACK_IMPORTED_MODULE_3__.equals)(currentProps[key], nextProps[key])) {\n            return false;\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      return true;\n    }\n  }, {\n    key: \"initializeProps\",\n    value: function initializeProps(startProps, endProps) {\n      return {\n        start: startProps,\n        end: endProps\n      };\n    }\n  }, {\n    key: \"interpolateProps\",\n    value: function interpolateProps(startProps, endProps, t) {\n      (0,_assert__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(false, 'interpolateProps is not implemented');\n    }\n  }, {\n    key: \"getDuration\",\n    value: function getDuration(startProps, endProps) {\n      return endProps.transitionDuration;\n    }\n  }]);\n\n  return TransitionInterpolator;\n}();\n\n\n//# sourceMappingURL=transition-interpolator.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwLWdsL2Rpc3QvZXNtL3V0aWxzL3RyYW5zaXRpb24vdHJhbnNpdGlvbi1pbnRlcnBvbGF0b3IuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3N1cGVyc2V0Ly4vbm9kZV9tb2R1bGVzL3JlYWN0LW1hcC1nbC9kaXN0L2VzbS91dGlscy90cmFuc2l0aW9uL3RyYW5zaXRpb24taW50ZXJwb2xhdG9yLmpzP2ZlYmIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2tcIjtcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzXCI7XG5pbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eVwiO1xuXG5mdW5jdGlvbiBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihvLCBhbGxvd0FycmF5TGlrZSkgeyB2YXIgaXQ7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcInVuZGVmaW5lZFwiIHx8IG9bU3ltYm9sLml0ZXJhdG9yXSA9PSBudWxsKSB7IGlmIChBcnJheS5pc0FycmF5KG8pIHx8IChpdCA9IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvKSkgfHwgYWxsb3dBcnJheUxpa2UgJiYgbyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHsgaWYgKGl0KSBvID0gaXQ7IHZhciBpID0gMDsgdmFyIEYgPSBmdW5jdGlvbiBGKCkge307IHJldHVybiB7IHM6IEYsIG46IGZ1bmN0aW9uIG4oKSB7IGlmIChpID49IG8ubGVuZ3RoKSByZXR1cm4geyBkb25lOiB0cnVlIH07IHJldHVybiB7IGRvbmU6IGZhbHNlLCB2YWx1ZTogb1tpKytdIH07IH0sIGU6IGZ1bmN0aW9uIGUoX2UpIHsgdGhyb3cgX2U7IH0sIGY6IEYgfTsgfSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH0gdmFyIG5vcm1hbENvbXBsZXRpb24gPSB0cnVlLCBkaWRFcnIgPSBmYWxzZSwgZXJyOyByZXR1cm4geyBzOiBmdW5jdGlvbiBzKCkgeyBpdCA9IG9bU3ltYm9sLml0ZXJhdG9yXSgpOyB9LCBuOiBmdW5jdGlvbiBuKCkgeyB2YXIgc3RlcCA9IGl0Lm5leHQoKTsgbm9ybWFsQ29tcGxldGlvbiA9IHN0ZXAuZG9uZTsgcmV0dXJuIHN0ZXA7IH0sIGU6IGZ1bmN0aW9uIGUoX2UyKSB7IGRpZEVyciA9IHRydWU7IGVyciA9IF9lMjsgfSwgZjogZnVuY3Rpb24gZigpIHsgdHJ5IHsgaWYgKCFub3JtYWxDb21wbGV0aW9uICYmIGl0W1wicmV0dXJuXCJdICE9IG51bGwpIGl0W1wicmV0dXJuXCJdKCk7IH0gZmluYWxseSB7IGlmIChkaWRFcnIpIHRocm93IGVycjsgfSB9IH07IH1cblxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOyBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShvKTsgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9XG5cbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfVxuXG5pbXBvcnQgeyBlcXVhbHMgfSBmcm9tICcuLi9tYXRoLXV0aWxzJztcbmltcG9ydCBhc3NlcnQgZnJvbSAnLi4vYXNzZXJ0JztcblxudmFyIFRyYW5zaXRpb25JbnRlcnBvbGF0b3IgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFRyYW5zaXRpb25JbnRlcnBvbGF0b3IoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRyYW5zaXRpb25JbnRlcnBvbGF0b3IpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwicHJvcE5hbWVzXCIsIFtdKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhUcmFuc2l0aW9uSW50ZXJwb2xhdG9yLCBbe1xuICAgIGtleTogXCJhcmVQcm9wc0VxdWFsXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFyZVByb3BzRXF1YWwoY3VycmVudFByb3BzLCBuZXh0UHJvcHMpIHtcbiAgICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcih0aGlzLnByb3BOYW1lcyB8fCBbXSksXG4gICAgICAgICAgX3N0ZXA7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7XG4gICAgICAgICAgdmFyIGtleSA9IF9zdGVwLnZhbHVlO1xuXG4gICAgICAgICAgaWYgKCFlcXVhbHMoY3VycmVudFByb3BzW2tleV0sIG5leHRQcm9wc1trZXldKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIF9pdGVyYXRvci5lKGVycik7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBfaXRlcmF0b3IuZigpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiaW5pdGlhbGl6ZVByb3BzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGluaXRpYWxpemVQcm9wcyhzdGFydFByb3BzLCBlbmRQcm9wcykge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3RhcnQ6IHN0YXJ0UHJvcHMsXG4gICAgICAgIGVuZDogZW5kUHJvcHNcbiAgICAgIH07XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImludGVycG9sYXRlUHJvcHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaW50ZXJwb2xhdGVQcm9wcyhzdGFydFByb3BzLCBlbmRQcm9wcywgdCkge1xuICAgICAgYXNzZXJ0KGZhbHNlLCAnaW50ZXJwb2xhdGVQcm9wcyBpcyBub3QgaW1wbGVtZW50ZWQnKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0RHVyYXRpb25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RHVyYXRpb24oc3RhcnRQcm9wcywgZW5kUHJvcHMpIHtcbiAgICAgIHJldHVybiBlbmRQcm9wcy50cmFuc2l0aW9uRHVyYXRpb247XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFRyYW5zaXRpb25JbnRlcnBvbGF0b3I7XG59KCk7XG5cbmV4cG9ydCB7IFRyYW5zaXRpb25JbnRlcnBvbGF0b3IgYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHJhbnNpdGlvbi1pbnRlcnBvbGF0b3IuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/react-map-gl/dist/esm/utils/transition/transition-interpolator.js\n");

/***/ }),

/***/ "./node_modules/react-map-gl/dist/esm/utils/transition/transition-utils.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/react-map-gl/dist/esm/utils/transition/transition-utils.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getEndValueByShortestPath: () => (/* binding */ getEndValueByShortestPath),\n/* harmony export */   isValid: () => (/* binding */ isValid)\n/* harmony export */ });\n/* unused harmony export mod */\nvar WRAPPED_ANGULAR_PROPS = {\n  longitude: 1,\n  bearing: 1\n};\nfunction mod(value, divisor) {\n  var modulus = value % divisor;\n  return modulus < 0 ? divisor + modulus : modulus;\n}\nfunction isValid(prop) {\n  return Number.isFinite(prop) || Array.isArray(prop);\n}\n\nfunction isWrappedAngularProp(propName) {\n  return propName in WRAPPED_ANGULAR_PROPS;\n}\n\nfunction getEndValueByShortestPath(propName, startValue, endValue) {\n  if (isWrappedAngularProp(propName) && Math.abs(endValue - startValue) > 180) {\n    endValue = endValue < 0 ? endValue + 360 : endValue - 360;\n  }\n\n  return endValue;\n}\n//# sourceMappingURL=transition-utils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwLWdsL2Rpc3QvZXNtL3V0aWxzL3RyYW5zaXRpb24vdHJhbnNpdGlvbi11dGlscy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3N1cGVyc2V0Ly4vbm9kZV9tb2R1bGVzL3JlYWN0LW1hcC1nbC9kaXN0L2VzbS91dGlscy90cmFuc2l0aW9uL3RyYW5zaXRpb24tdXRpbHMuanM/ZmVmNyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgV1JBUFBFRF9BTkdVTEFSX1BST1BTID0ge1xuICBsb25naXR1ZGU6IDEsXG4gIGJlYXJpbmc6IDFcbn07XG5leHBvcnQgZnVuY3Rpb24gbW9kKHZhbHVlLCBkaXZpc29yKSB7XG4gIHZhciBtb2R1bHVzID0gdmFsdWUgJSBkaXZpc29yO1xuICByZXR1cm4gbW9kdWx1cyA8IDAgPyBkaXZpc29yICsgbW9kdWx1cyA6IG1vZHVsdXM7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNWYWxpZChwcm9wKSB7XG4gIHJldHVybiBOdW1iZXIuaXNGaW5pdGUocHJvcCkgfHwgQXJyYXkuaXNBcnJheShwcm9wKTtcbn1cblxuZnVuY3Rpb24gaXNXcmFwcGVkQW5ndWxhclByb3AocHJvcE5hbWUpIHtcbiAgcmV0dXJuIHByb3BOYW1lIGluIFdSQVBQRURfQU5HVUxBUl9QUk9QUztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEVuZFZhbHVlQnlTaG9ydGVzdFBhdGgocHJvcE5hbWUsIHN0YXJ0VmFsdWUsIGVuZFZhbHVlKSB7XG4gIGlmIChpc1dyYXBwZWRBbmd1bGFyUHJvcChwcm9wTmFtZSkgJiYgTWF0aC5hYnMoZW5kVmFsdWUgLSBzdGFydFZhbHVlKSA+IDE4MCkge1xuICAgIGVuZFZhbHVlID0gZW5kVmFsdWUgPCAwID8gZW5kVmFsdWUgKyAzNjAgOiBlbmRWYWx1ZSAtIDM2MDtcbiAgfVxuXG4gIHJldHVybiBlbmRWYWx1ZTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRyYW5zaXRpb24tdXRpbHMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/react-map-gl/dist/esm/utils/transition/transition-utils.js\n");

/***/ }),

/***/ "./node_modules/react-map-gl/dist/esm/utils/transition/viewport-fly-to-interpolator.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/react-map-gl/dist/esm/utils/transition/viewport-fly-to-interpolator.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("/* unused harmony export default */\n/* harmony import */ var _babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/esm/classCallCheck */ \"./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime/helpers/esm/createClass */ \"./node_modules/@babel/runtime/helpers/esm/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime/helpers/esm/assertThisInitialized */ \"./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\");\n/* harmony import */ var _babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/esm/inherits */ \"./node_modules/@babel/runtime/helpers/esm/inherits.js\");\n/* harmony import */ var _babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/esm/possibleConstructorReturn */ \"./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\");\n/* harmony import */ var _babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/getPrototypeOf */ \"./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\");\n/* harmony import */ var _babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime/helpers/esm/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n/* harmony import */ var _assert__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../assert */ \"./node_modules/react-map-gl/dist/esm/utils/assert.js\");\n/* harmony import */ var _transition_interpolator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./transition-interpolator */ \"./node_modules/react-map-gl/dist/esm/utils/transition/transition-interpolator.js\");\n/* harmony import */ var viewport_mercator_project__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! viewport-mercator-project */ \"./node_modules/react-map-gl/node_modules/viewport-mercator-project/module.js\");\n/* harmony import */ var _transition_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./transition-utils */ \"./node_modules/react-map-gl/dist/esm/utils/transition/transition-utils.js\");\n/* harmony import */ var _math_utils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../math-utils */ \"./node_modules/react-map-gl/dist/esm/utils/math-utils.js\");\n\n\n\n\n\n\n\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0,_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0,_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0,_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\n\n\nvar VIEWPORT_TRANSITION_PROPS = ['longitude', 'latitude', 'zoom', 'bearing', 'pitch'];\nvar REQUIRED_PROPS = ['latitude', 'longitude', 'zoom', 'width', 'height'];\nvar LINEARLY_INTERPOLATED_PROPS = ['bearing', 'pitch'];\nvar DEFAULT_OPTS = {\n  speed: 1.2,\n  curve: 1.414\n};\n\nvar ViewportFlyToInterpolator = function (_TransitionInterpolat) {\n  (0,_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(ViewportFlyToInterpolator, _TransitionInterpolat);\n\n  var _super = _createSuper(ViewportFlyToInterpolator);\n\n  function ViewportFlyToInterpolator() {\n    var _this;\n\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    (0,_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(this, ViewportFlyToInterpolator);\n\n    _this = _super.call(this);\n\n    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_7__[\"default\"])((0,_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(_this), \"propNames\", VIEWPORT_TRANSITION_PROPS);\n\n    _this.props = Object.assign({}, DEFAULT_OPTS, props);\n    return _this;\n  }\n\n  (0,_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(ViewportFlyToInterpolator, [{\n    key: \"initializeProps\",\n    value: function initializeProps(startProps, endProps) {\n      var startViewportProps = {};\n      var endViewportProps = {};\n\n      var _iterator = _createForOfIteratorHelper(REQUIRED_PROPS),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var key = _step.value;\n          var startValue = startProps[key];\n          var endValue = endProps[key];\n          (0,_assert__WEBPACK_IMPORTED_MODULE_10__[\"default\"])((0,_transition_utils__WEBPACK_IMPORTED_MODULE_4__.isValid)(startValue) && (0,_transition_utils__WEBPACK_IMPORTED_MODULE_4__.isValid)(endValue), \"\".concat(key, \" must be supplied for transition\"));\n          startViewportProps[key] = startValue;\n          endViewportProps[key] = (0,_transition_utils__WEBPACK_IMPORTED_MODULE_4__.getEndValueByShortestPath)(key, startValue, endValue);\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      var _iterator2 = _createForOfIteratorHelper(LINEARLY_INTERPOLATED_PROPS),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var _key = _step2.value;\n\n          var _startValue = startProps[_key] || 0;\n\n          var _endValue = endProps[_key] || 0;\n\n          startViewportProps[_key] = _startValue;\n          endViewportProps[_key] = (0,_transition_utils__WEBPACK_IMPORTED_MODULE_4__.getEndValueByShortestPath)(_key, _startValue, _endValue);\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n\n      return {\n        start: startViewportProps,\n        end: endViewportProps\n      };\n    }\n  }, {\n    key: \"interpolateProps\",\n    value: function interpolateProps(startProps, endProps, t) {\n      var viewport = (0,viewport_mercator_project__WEBPACK_IMPORTED_MODULE_3__.flyToViewport)(startProps, endProps, t, this.props);\n\n      var _iterator3 = _createForOfIteratorHelper(LINEARLY_INTERPOLATED_PROPS),\n          _step3;\n\n      try {\n        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n          var key = _step3.value;\n          viewport[key] = (0,_math_utils__WEBPACK_IMPORTED_MODULE_11__.lerp)(startProps[key], endProps[key], t);\n        }\n      } catch (err) {\n        _iterator3.e(err);\n      } finally {\n        _iterator3.f();\n      }\n\n      return viewport;\n    }\n  }, {\n    key: \"getDuration\",\n    value: function getDuration(startProps, endProps) {\n      var transitionDuration = endProps.transitionDuration;\n\n      if (transitionDuration === 'auto') {\n        transitionDuration = (0,viewport_mercator_project__WEBPACK_IMPORTED_MODULE_3__.getFlyToDuration)(startProps, endProps, this.props);\n      }\n\n      return transitionDuration;\n    }\n  }]);\n\n  return ViewportFlyToInterpolator;\n}(_transition_interpolator__WEBPACK_IMPORTED_MODULE_2__[\"default\"]);\n\n\n//# sourceMappingURL=viewport-fly-to-interpolator.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwLWdsL2Rpc3QvZXNtL3V0aWxzL3RyYW5zaXRpb24vdmlld3BvcnQtZmx5LXRvLWludGVycG9sYXRvci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdXBlcnNldC8uL25vZGVfbW9kdWxlcy9yZWFjdC1tYXAtZ2wvZGlzdC9lc20vdXRpbHMvdHJhbnNpdGlvbi92aWV3cG9ydC1mbHktdG8taW50ZXJwb2xhdG9yLmpzP2YwNjciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2tcIjtcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzXCI7XG5pbXBvcnQgX2Fzc2VydFRoaXNJbml0aWFsaXplZCBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXNzZXJ0VGhpc0luaXRpYWxpemVkXCI7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9pbmhlcml0c1wiO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuXCI7XG5pbXBvcnQgX2dldFByb3RvdHlwZU9mIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9nZXRQcm90b3R5cGVPZlwiO1xuaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHlcIjtcblxuZnVuY3Rpb24gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIobywgYWxsb3dBcnJheUxpa2UpIHsgdmFyIGl0OyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJ1bmRlZmluZWRcIiB8fCBvW1N5bWJvbC5pdGVyYXRvcl0gPT0gbnVsbCkgeyBpZiAoQXJyYXkuaXNBcnJheShvKSB8fCAoaXQgPSBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobykpIHx8IGFsbG93QXJyYXlMaWtlICYmIG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSB7IGlmIChpdCkgbyA9IGl0OyB2YXIgaSA9IDA7IHZhciBGID0gZnVuY3Rpb24gRigpIHt9OyByZXR1cm4geyBzOiBGLCBuOiBmdW5jdGlvbiBuKCkgeyBpZiAoaSA+PSBvLmxlbmd0aCkgcmV0dXJuIHsgZG9uZTogdHJ1ZSB9OyByZXR1cm4geyBkb25lOiBmYWxzZSwgdmFsdWU6IG9baSsrXSB9OyB9LCBlOiBmdW5jdGlvbiBlKF9lKSB7IHRocm93IF9lOyB9LCBmOiBGIH07IH0gdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9IHZhciBub3JtYWxDb21wbGV0aW9uID0gdHJ1ZSwgZGlkRXJyID0gZmFsc2UsIGVycjsgcmV0dXJuIHsgczogZnVuY3Rpb24gcygpIHsgaXQgPSBvW1N5bWJvbC5pdGVyYXRvcl0oKTsgfSwgbjogZnVuY3Rpb24gbigpIHsgdmFyIHN0ZXAgPSBpdC5uZXh0KCk7IG5vcm1hbENvbXBsZXRpb24gPSBzdGVwLmRvbmU7IHJldHVybiBzdGVwOyB9LCBlOiBmdW5jdGlvbiBlKF9lMikgeyBkaWRFcnIgPSB0cnVlOyBlcnIgPSBfZTI7IH0sIGY6IGZ1bmN0aW9uIGYoKSB7IHRyeSB7IGlmICghbm9ybWFsQ29tcGxldGlvbiAmJiBpdFtcInJldHVyblwiXSAhPSBudWxsKSBpdFtcInJldHVyblwiXSgpOyB9IGZpbmFsbHkgeyBpZiAoZGlkRXJyKSB0aHJvdyBlcnI7IH0gfSB9OyB9XG5cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgfVxuXG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH1cblxuZnVuY3Rpb24gX2NyZWF0ZVN1cGVyKERlcml2ZWQpIHsgdmFyIGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCk7IHJldHVybiBmdW5jdGlvbiBfY3JlYXRlU3VwZXJJbnRlcm5hbCgpIHsgdmFyIFN1cGVyID0gX2dldFByb3RvdHlwZU9mKERlcml2ZWQpLCByZXN1bHQ7IGlmIChoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KSB7IHZhciBOZXdUYXJnZXQgPSBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3I7IHJlc3VsdCA9IFJlZmxlY3QuY29uc3RydWN0KFN1cGVyLCBhcmd1bWVudHMsIE5ld1RhcmdldCk7IH0gZWxzZSB7IHJlc3VsdCA9IFN1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0gcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIHJlc3VsdCk7IH07IH1cblxuZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcInVuZGVmaW5lZFwiIHx8ICFSZWZsZWN0LmNvbnN0cnVjdCkgcmV0dXJuIGZhbHNlOyBpZiAoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSkgcmV0dXJuIGZhbHNlOyBpZiAodHlwZW9mIFByb3h5ID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiB0cnVlOyB0cnkgeyBEYXRlLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKFJlZmxlY3QuY29uc3RydWN0KERhdGUsIFtdLCBmdW5jdGlvbiAoKSB7fSkpOyByZXR1cm4gdHJ1ZTsgfSBjYXRjaCAoZSkgeyByZXR1cm4gZmFsc2U7IH0gfVxuXG5pbXBvcnQgYXNzZXJ0IGZyb20gJy4uL2Fzc2VydCc7XG5pbXBvcnQgVHJhbnNpdGlvbkludGVycG9sYXRvciBmcm9tICcuL3RyYW5zaXRpb24taW50ZXJwb2xhdG9yJztcbmltcG9ydCB7IGZseVRvVmlld3BvcnQsIGdldEZseVRvRHVyYXRpb24gfSBmcm9tICd2aWV3cG9ydC1tZXJjYXRvci1wcm9qZWN0JztcbmltcG9ydCB7IGlzVmFsaWQsIGdldEVuZFZhbHVlQnlTaG9ydGVzdFBhdGggfSBmcm9tICcuL3RyYW5zaXRpb24tdXRpbHMnO1xuaW1wb3J0IHsgbGVycCB9IGZyb20gJy4uL21hdGgtdXRpbHMnO1xudmFyIFZJRVdQT1JUX1RSQU5TSVRJT05fUFJPUFMgPSBbJ2xvbmdpdHVkZScsICdsYXRpdHVkZScsICd6b29tJywgJ2JlYXJpbmcnLCAncGl0Y2gnXTtcbnZhciBSRVFVSVJFRF9QUk9QUyA9IFsnbGF0aXR1ZGUnLCAnbG9uZ2l0dWRlJywgJ3pvb20nLCAnd2lkdGgnLCAnaGVpZ2h0J107XG52YXIgTElORUFSTFlfSU5URVJQT0xBVEVEX1BST1BTID0gWydiZWFyaW5nJywgJ3BpdGNoJ107XG52YXIgREVGQVVMVF9PUFRTID0ge1xuICBzcGVlZDogMS4yLFxuICBjdXJ2ZTogMS40MTRcbn07XG5cbnZhciBWaWV3cG9ydEZseVRvSW50ZXJwb2xhdG9yID0gZnVuY3Rpb24gKF9UcmFuc2l0aW9uSW50ZXJwb2xhdCkge1xuICBfaW5oZXJpdHMoVmlld3BvcnRGbHlUb0ludGVycG9sYXRvciwgX1RyYW5zaXRpb25JbnRlcnBvbGF0KTtcblxuICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKFZpZXdwb3J0Rmx5VG9JbnRlcnBvbGF0b3IpO1xuXG4gIGZ1bmN0aW9uIFZpZXdwb3J0Rmx5VG9JbnRlcnBvbGF0b3IoKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgdmFyIHByb3BzID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBWaWV3cG9ydEZseVRvSW50ZXJwb2xhdG9yKTtcblxuICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcyk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwicHJvcE5hbWVzXCIsIFZJRVdQT1JUX1RSQU5TSVRJT05fUFJPUFMpO1xuXG4gICAgX3RoaXMucHJvcHMgPSBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX09QVFMsIHByb3BzKTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoVmlld3BvcnRGbHlUb0ludGVycG9sYXRvciwgW3tcbiAgICBrZXk6IFwiaW5pdGlhbGl6ZVByb3BzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGluaXRpYWxpemVQcm9wcyhzdGFydFByb3BzLCBlbmRQcm9wcykge1xuICAgICAgdmFyIHN0YXJ0Vmlld3BvcnRQcm9wcyA9IHt9O1xuICAgICAgdmFyIGVuZFZpZXdwb3J0UHJvcHMgPSB7fTtcblxuICAgICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKFJFUVVJUkVEX1BST1BTKSxcbiAgICAgICAgICBfc3RlcDtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHtcbiAgICAgICAgICB2YXIga2V5ID0gX3N0ZXAudmFsdWU7XG4gICAgICAgICAgdmFyIHN0YXJ0VmFsdWUgPSBzdGFydFByb3BzW2tleV07XG4gICAgICAgICAgdmFyIGVuZFZhbHVlID0gZW5kUHJvcHNba2V5XTtcbiAgICAgICAgICBhc3NlcnQoaXNWYWxpZChzdGFydFZhbHVlKSAmJiBpc1ZhbGlkKGVuZFZhbHVlKSwgXCJcIi5jb25jYXQoa2V5LCBcIiBtdXN0IGJlIHN1cHBsaWVkIGZvciB0cmFuc2l0aW9uXCIpKTtcbiAgICAgICAgICBzdGFydFZpZXdwb3J0UHJvcHNba2V5XSA9IHN0YXJ0VmFsdWU7XG4gICAgICAgICAgZW5kVmlld3BvcnRQcm9wc1trZXldID0gZ2V0RW5kVmFsdWVCeVNob3J0ZXN0UGF0aChrZXksIHN0YXJ0VmFsdWUsIGVuZFZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIF9pdGVyYXRvci5lKGVycik7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBfaXRlcmF0b3IuZigpO1xuICAgICAgfVxuXG4gICAgICB2YXIgX2l0ZXJhdG9yMiA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKExJTkVBUkxZX0lOVEVSUE9MQVRFRF9QUk9QUyksXG4gICAgICAgICAgX3N0ZXAyO1xuXG4gICAgICB0cnkge1xuICAgICAgICBmb3IgKF9pdGVyYXRvcjIucygpOyAhKF9zdGVwMiA9IF9pdGVyYXRvcjIubigpKS5kb25lOykge1xuICAgICAgICAgIHZhciBfa2V5ID0gX3N0ZXAyLnZhbHVlO1xuXG4gICAgICAgICAgdmFyIF9zdGFydFZhbHVlID0gc3RhcnRQcm9wc1tfa2V5XSB8fCAwO1xuXG4gICAgICAgICAgdmFyIF9lbmRWYWx1ZSA9IGVuZFByb3BzW19rZXldIHx8IDA7XG5cbiAgICAgICAgICBzdGFydFZpZXdwb3J0UHJvcHNbX2tleV0gPSBfc3RhcnRWYWx1ZTtcbiAgICAgICAgICBlbmRWaWV3cG9ydFByb3BzW19rZXldID0gZ2V0RW5kVmFsdWVCeVNob3J0ZXN0UGF0aChfa2V5LCBfc3RhcnRWYWx1ZSwgX2VuZFZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIF9pdGVyYXRvcjIuZShlcnIpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgX2l0ZXJhdG9yMi5mKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN0YXJ0OiBzdGFydFZpZXdwb3J0UHJvcHMsXG4gICAgICAgIGVuZDogZW5kVmlld3BvcnRQcm9wc1xuICAgICAgfTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiaW50ZXJwb2xhdGVQcm9wc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpbnRlcnBvbGF0ZVByb3BzKHN0YXJ0UHJvcHMsIGVuZFByb3BzLCB0KSB7XG4gICAgICB2YXIgdmlld3BvcnQgPSBmbHlUb1ZpZXdwb3J0KHN0YXJ0UHJvcHMsIGVuZFByb3BzLCB0LCB0aGlzLnByb3BzKTtcblxuICAgICAgdmFyIF9pdGVyYXRvcjMgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihMSU5FQVJMWV9JTlRFUlBPTEFURURfUFJPUFMpLFxuICAgICAgICAgIF9zdGVwMztcblxuICAgICAgdHJ5IHtcbiAgICAgICAgZm9yIChfaXRlcmF0b3IzLnMoKTsgIShfc3RlcDMgPSBfaXRlcmF0b3IzLm4oKSkuZG9uZTspIHtcbiAgICAgICAgICB2YXIga2V5ID0gX3N0ZXAzLnZhbHVlO1xuICAgICAgICAgIHZpZXdwb3J0W2tleV0gPSBsZXJwKHN0YXJ0UHJvcHNba2V5XSwgZW5kUHJvcHNba2V5XSwgdCk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBfaXRlcmF0b3IzLmUoZXJyKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIF9pdGVyYXRvcjMuZigpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdmlld3BvcnQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldER1cmF0aW9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldER1cmF0aW9uKHN0YXJ0UHJvcHMsIGVuZFByb3BzKSB7XG4gICAgICB2YXIgdHJhbnNpdGlvbkR1cmF0aW9uID0gZW5kUHJvcHMudHJhbnNpdGlvbkR1cmF0aW9uO1xuXG4gICAgICBpZiAodHJhbnNpdGlvbkR1cmF0aW9uID09PSAnYXV0bycpIHtcbiAgICAgICAgdHJhbnNpdGlvbkR1cmF0aW9uID0gZ2V0Rmx5VG9EdXJhdGlvbihzdGFydFByb3BzLCBlbmRQcm9wcywgdGhpcy5wcm9wcyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0cmFuc2l0aW9uRHVyYXRpb247XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFZpZXdwb3J0Rmx5VG9JbnRlcnBvbGF0b3I7XG59KFRyYW5zaXRpb25JbnRlcnBvbGF0b3IpO1xuXG5leHBvcnQgeyBWaWV3cG9ydEZseVRvSW50ZXJwb2xhdG9yIGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXZpZXdwb3J0LWZseS10by1pbnRlcnBvbGF0b3IuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/react-map-gl/dist/esm/utils/transition/viewport-fly-to-interpolator.js\n");

/***/ }),

/***/ "./node_modules/react-map-gl/dist/esm/utils/use-isomorphic-layout-effect.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/react-map-gl/dist/esm/utils/use-isomorphic-layout-effect.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n\nvar useIsomorphicLayoutEffect = typeof window !== 'undefined' ? react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect : react__WEBPACK_IMPORTED_MODULE_0__.useEffect;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useIsomorphicLayoutEffect);\n//# sourceMappingURL=use-isomorphic-layout-effect.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwLWdsL2Rpc3QvZXNtL3V0aWxzL3VzZS1pc29tb3JwaGljLWxheW91dC1lZmZlY3QuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3VwZXJzZXQvLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwLWdsL2Rpc3QvZXNtL3V0aWxzL3VzZS1pc29tb3JwaGljLWxheW91dC1lZmZlY3QuanM/YzhiOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VFZmZlY3QsIHVzZUxheW91dEVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbnZhciB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0ID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB1c2VMYXlvdXRFZmZlY3QgOiB1c2VFZmZlY3Q7XG5leHBvcnQgZGVmYXVsdCB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXNlLWlzb21vcnBoaWMtbGF5b3V0LWVmZmVjdC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/react-map-gl/dist/esm/utils/use-isomorphic-layout-effect.js\n");

/***/ }),

/***/ "./node_modules/react-map-gl/dist/esm/utils/version.js":
/*!*************************************************************!*\
  !*** ./node_modules/react-map-gl/dist/esm/utils/version.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   compareVersions: () => (/* binding */ compareVersions)\n/* harmony export */ });\nfunction compareVersions(version1, version2) {\n  var v1 = (version1 || '').split('.').map(Number);\n  var v2 = (version2 || '').split('.').map(Number);\n\n  for (var i = 0; i < 3; i++) {\n    var part1 = v1[i] || 0;\n    var part2 = v2[i] || 0;\n\n    if (part1 < part2) {\n      return -1;\n    }\n\n    if (part1 > part2) {\n      return 1;\n    }\n  }\n\n  return 0;\n}\n//# sourceMappingURL=version.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwLWdsL2Rpc3QvZXNtL3V0aWxzL3ZlcnNpb24uanMiLCJtYXBwaW5ncyI6Ijs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3N1cGVyc2V0Ly4vbm9kZV9tb2R1bGVzL3JlYWN0LW1hcC1nbC9kaXN0L2VzbS91dGlscy92ZXJzaW9uLmpzP2Q5OGEiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIGNvbXBhcmVWZXJzaW9ucyh2ZXJzaW9uMSwgdmVyc2lvbjIpIHtcbiAgdmFyIHYxID0gKHZlcnNpb24xIHx8ICcnKS5zcGxpdCgnLicpLm1hcChOdW1iZXIpO1xuICB2YXIgdjIgPSAodmVyc2lvbjIgfHwgJycpLnNwbGl0KCcuJykubWFwKE51bWJlcik7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCAzOyBpKyspIHtcbiAgICB2YXIgcGFydDEgPSB2MVtpXSB8fCAwO1xuICAgIHZhciBwYXJ0MiA9IHYyW2ldIHx8IDA7XG5cbiAgICBpZiAocGFydDEgPCBwYXJ0Mikge1xuICAgICAgcmV0dXJuIC0xO1xuICAgIH1cblxuICAgIGlmIChwYXJ0MSA+IHBhcnQyKSB7XG4gICAgICByZXR1cm4gMTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gMDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXZlcnNpb24uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/react-map-gl/dist/esm/utils/version.js\n");

/***/ }),

/***/ "./node_modules/react-map-gl/node_modules/viewport-mercator-project/module.js":
/*!************************************************************************************!*\
  !*** ./node_modules/react-map-gl/node_modules/viewport-mercator-project/module.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* reexport safe */ _math_gl_web_mercator__WEBPACK_IMPORTED_MODULE_0__.WebMercatorViewport),\n/* harmony export */   flyToViewport: () => (/* reexport safe */ _math_gl_web_mercator__WEBPACK_IMPORTED_MODULE_0__.flyToViewport),\n/* harmony export */   getFlyToDuration: () => (/* reexport safe */ _math_gl_web_mercator__WEBPACK_IMPORTED_MODULE_0__.getFlyToDuration),\n/* harmony export */   normalizeViewportProps: () => (/* reexport safe */ _math_gl_web_mercator__WEBPACK_IMPORTED_MODULE_0__.normalizeViewportProps)\n/* harmony export */ });\n/* harmony import */ var _math_gl_web_mercator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @math.gl/web-mercator */ \"./node_modules/@math.gl/web-mercator/dist/esm/index.js\");\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtbWFwLWdsL25vZGVfbW9kdWxlcy92aWV3cG9ydC1tZXJjYXRvci1wcm9qZWN0L21vZHVsZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3N1cGVyc2V0Ly4vbm9kZV9tb2R1bGVzL3JlYWN0LW1hcC1nbC9ub2RlX21vZHVsZXMvdmlld3BvcnQtbWVyY2F0b3ItcHJvamVjdC9tb2R1bGUuanM/ZmM1NCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQge1dlYk1lcmNhdG9yVmlld3BvcnQgYXMgZGVmYXVsdH0gZnJvbSAnQG1hdGguZ2wvd2ViLW1lcmNhdG9yJztcbmV4cG9ydCAqIGZyb20gJ0BtYXRoLmdsL3dlYi1tZXJjYXRvcic7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/react-map-gl/node_modules/viewport-mercator-project/module.js\n");

/***/ }),

/***/ "./node_modules/mapbox-gl/dist/mapbox-gl.css":
/*!***************************************************!*\
  !*** ./node_modules/mapbox-gl/dist/mapbox-gl.css ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __unused_webpack___webpack_exports__, __webpack_require__) => {

"use strict";
eval("/* harmony import */ var _style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../style-loader/dist/runtime/injectStylesIntoStyleTag.js */ \"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n/* harmony import */ var _style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../../style-loader/dist/runtime/styleDomAPI.js */ \"./node_modules/style-loader/dist/runtime/styleDomAPI.js\");\n/* harmony import */ var _style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../style-loader/dist/runtime/insertBySelector.js */ \"./node_modules/style-loader/dist/runtime/insertBySelector.js\");\n/* harmony import */ var _style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../style-loader/dist/runtime/setAttributesWithoutAttributes.js */ \"./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\");\n/* harmony import */ var _style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../../style-loader/dist/runtime/insertStyleElement.js */ \"./node_modules/style-loader/dist/runtime/insertStyleElement.js\");\n/* harmony import */ var _style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../../style-loader/dist/runtime/styleTagTransform.js */ \"./node_modules/style-loader/dist/runtime/styleTagTransform.js\");\n/* harmony import */ var _style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _css_loader_dist_cjs_js_ruleSet_1_rules_4_use_1_mapbox_gl_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../../css-loader/dist/cjs.js??ruleSet[1].rules[4].use[1]!./mapbox-gl.css */ \"./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[4].use[1]!./node_modules/mapbox-gl/dist/mapbox-gl.css\");\n\n      \n      \n      \n      \n      \n      \n      \n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = (_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());\noptions.setAttributes = (_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());\n\n      options.insert = _style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, \"head\");\n    \noptions.domAPI = (_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());\noptions.insertStyleElement = (_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());\n\nvar update = _style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_css_loader_dist_cjs_js_ruleSet_1_rules_4_use_1_mapbox_gl_css__WEBPACK_IMPORTED_MODULE_6__[\"default\"], options);\n\n\n\n\n       /* unused harmony default export */ var __WEBPACK_DEFAULT_EXPORT__ = (_css_loader_dist_cjs_js_ruleSet_1_rules_4_use_1_mapbox_gl_css__WEBPACK_IMPORTED_MODULE_6__[\"default\"] && _css_loader_dist_cjs_js_ruleSet_1_rules_4_use_1_mapbox_gl_css__WEBPACK_IMPORTED_MODULE_6__[\"default\"].locals ? _css_loader_dist_cjs_js_ruleSet_1_rules_4_use_1_mapbox_gl_css__WEBPACK_IMPORTED_MODULE_6__[\"default\"].locals : undefined);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbWFwYm94LWdsL2Rpc3QvbWFwYm94LWdsLmNzcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3VwZXJzZXQvLi9ub2RlX21vZHVsZXMvbWFwYm94LWdsL2Rpc3QvbWFwYm94LWdsLmNzcz9iNjJiIl0sInNvdXJjZXNDb250ZW50IjpbIlxuICAgICAgaW1wb3J0IEFQSSBmcm9tIFwiIS4uLy4uL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCI7XG4gICAgICBpbXBvcnQgZG9tQVBJIGZyb20gXCIhLi4vLi4vc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydEZuIGZyb20gXCIhLi4vLi4vc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzXCI7XG4gICAgICBpbXBvcnQgc2V0QXR0cmlidXRlcyBmcm9tIFwiIS4uLy4uL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0U3R5bGVFbGVtZW50IGZyb20gXCIhLi4vLi4vc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRTdHlsZUVsZW1lbnQuanNcIjtcbiAgICAgIGltcG9ydCBzdHlsZVRhZ1RyYW5zZm9ybUZuIGZyb20gXCIhLi4vLi4vc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qc1wiO1xuICAgICAgaW1wb3J0IGNvbnRlbnQsICogYXMgbmFtZWRFeHBvcnQgZnJvbSBcIiEhLi4vLi4vY3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8/cnVsZVNldFsxXS5ydWxlc1s0XS51c2VbMV0hLi9tYXBib3gtZ2wuY3NzXCI7XG4gICAgICBcbiAgICAgIFxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLnN0eWxlVGFnVHJhbnNmb3JtID0gc3R5bGVUYWdUcmFuc2Zvcm1Gbjtcbm9wdGlvbnMuc2V0QXR0cmlidXRlcyA9IHNldEF0dHJpYnV0ZXM7XG5cbiAgICAgIG9wdGlvbnMuaW5zZXJ0ID0gaW5zZXJ0Rm4uYmluZChudWxsLCBcImhlYWRcIik7XG4gICAgXG5vcHRpb25zLmRvbUFQSSA9IGRvbUFQSTtcbm9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50ID0gaW5zZXJ0U3R5bGVFbGVtZW50O1xuXG52YXIgdXBkYXRlID0gQVBJKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cblxuZXhwb3J0ICogZnJvbSBcIiEhLi4vLi4vY3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8/cnVsZVNldFsxXS5ydWxlc1s0XS51c2VbMV0hLi9tYXBib3gtZ2wuY3NzXCI7XG4gICAgICAgZXhwb3J0IGRlZmF1bHQgY29udGVudCAmJiBjb250ZW50LmxvY2FscyA/IGNvbnRlbnQubG9jYWxzIDogdW5kZWZpbmVkO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/mapbox-gl/dist/mapbox-gl.css\n");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":
/*!****************************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js ***!
  \****************************************************************************/
/***/ ((module) => {

"use strict";
eval("\n\nvar stylesInDOM = [];\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n  for (var i = 0; i < stylesInDOM.length; i++) {\n    if (stylesInDOM[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n  return result;\n}\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var indexByIdentifier = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3],\n      supports: item[4],\n      layer: item[5]\n    };\n    if (indexByIdentifier !== -1) {\n      stylesInDOM[indexByIdentifier].references++;\n      stylesInDOM[indexByIdentifier].updater(obj);\n    } else {\n      var updater = addElementStyle(obj, options);\n      options.byIndex = i;\n      stylesInDOM.splice(i, 0, {\n        identifier: identifier,\n        updater: updater,\n        references: 1\n      });\n    }\n    identifiers.push(identifier);\n  }\n  return identifiers;\n}\nfunction addElementStyle(obj, options) {\n  var api = options.domAPI(options);\n  api.update(obj);\n  var updater = function updater(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {\n        return;\n      }\n      api.update(obj = newObj);\n    } else {\n      api.remove();\n    }\n  };\n  return updater;\n}\nmodule.exports = function (list, options) {\n  options = options || {};\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDOM[index].references--;\n    }\n    var newLastIdentifiers = modulesToDom(newList, options);\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n      var _index = getIndexByIdentifier(_identifier);\n      if (stylesInDOM[_index].references === 0) {\n        stylesInDOM[_index].updater();\n        stylesInDOM.splice(_index, 1);\n      }\n    }\n    lastIdentifiers = newLastIdentifiers;\n  };\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3VwZXJzZXQvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanM/MmRiYSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxudmFyIHN0eWxlc0luRE9NID0gW107XG5mdW5jdGlvbiBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKSB7XG4gIHZhciByZXN1bHQgPSAtMTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXNJbkRPTS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChzdHlsZXNJbkRPTVtpXS5pZGVudGlmaWVyID09PSBpZGVudGlmaWVyKSB7XG4gICAgICByZXN1bHQgPSBpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucykge1xuICB2YXIgaWRDb3VudE1hcCA9IHt9O1xuICB2YXIgaWRlbnRpZmllcnMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGl0ZW0gPSBsaXN0W2ldO1xuICAgIHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuICAgIHZhciBjb3VudCA9IGlkQ291bnRNYXBbaWRdIHx8IDA7XG4gICAgdmFyIGlkZW50aWZpZXIgPSBcIlwiLmNvbmNhdChpZCwgXCIgXCIpLmNvbmNhdChjb3VudCk7XG4gICAgaWRDb3VudE1hcFtpZF0gPSBjb3VudCArIDE7XG4gICAgdmFyIGluZGV4QnlJZGVudGlmaWVyID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgdmFyIG9iaiA9IHtcbiAgICAgIGNzczogaXRlbVsxXSxcbiAgICAgIG1lZGlhOiBpdGVtWzJdLFxuICAgICAgc291cmNlTWFwOiBpdGVtWzNdLFxuICAgICAgc3VwcG9ydHM6IGl0ZW1bNF0sXG4gICAgICBsYXllcjogaXRlbVs1XVxuICAgIH07XG4gICAgaWYgKGluZGV4QnlJZGVudGlmaWVyICE9PSAtMSkge1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhCeUlkZW50aWZpZXJdLnJlZmVyZW5jZXMrKztcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4QnlJZGVudGlmaWVyXS51cGRhdGVyKG9iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciB1cGRhdGVyID0gYWRkRWxlbWVudFN0eWxlKG9iaiwgb3B0aW9ucyk7XG4gICAgICBvcHRpb25zLmJ5SW5kZXggPSBpO1xuICAgICAgc3R5bGVzSW5ET00uc3BsaWNlKGksIDAsIHtcbiAgICAgICAgaWRlbnRpZmllcjogaWRlbnRpZmllcixcbiAgICAgICAgdXBkYXRlcjogdXBkYXRlcixcbiAgICAgICAgcmVmZXJlbmNlczogMVxuICAgICAgfSk7XG4gICAgfVxuICAgIGlkZW50aWZpZXJzLnB1c2goaWRlbnRpZmllcik7XG4gIH1cbiAgcmV0dXJuIGlkZW50aWZpZXJzO1xufVxuZnVuY3Rpb24gYWRkRWxlbWVudFN0eWxlKG9iaiwgb3B0aW9ucykge1xuICB2YXIgYXBpID0gb3B0aW9ucy5kb21BUEkob3B0aW9ucyk7XG4gIGFwaS51cGRhdGUob2JqKTtcbiAgdmFyIHVwZGF0ZXIgPSBmdW5jdGlvbiB1cGRhdGVyKG5ld09iaikge1xuICAgIGlmIChuZXdPYmopIHtcbiAgICAgIGlmIChuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXAgJiYgbmV3T2JqLnN1cHBvcnRzID09PSBvYmouc3VwcG9ydHMgJiYgbmV3T2JqLmxheWVyID09PSBvYmoubGF5ZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYXBpLnVwZGF0ZShvYmogPSBuZXdPYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVtb3ZlKCk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gdXBkYXRlcjtcbn1cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGxpc3QsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIGxpc3QgPSBsaXN0IHx8IFtdO1xuICB2YXIgbGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcbiAgICBuZXdMaXN0ID0gbmV3TGlzdCB8fCBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGlkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbaV07XG4gICAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4XS5yZWZlcmVuY2VzLS07XG4gICAgfVxuICAgIHZhciBuZXdMYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obmV3TGlzdCwgb3B0aW9ucyk7XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBfaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tfaV07XG4gICAgICB2YXIgX2luZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoX2lkZW50aWZpZXIpO1xuICAgICAgaWYgKHN0eWxlc0luRE9NW19pbmRleF0ucmVmZXJlbmNlcyA9PT0gMCkge1xuICAgICAgICBzdHlsZXNJbkRPTVtfaW5kZXhdLnVwZGF0ZXIoKTtcbiAgICAgICAgc3R5bGVzSW5ET00uc3BsaWNlKF9pbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuICAgIGxhc3RJZGVudGlmaWVycyA9IG5ld0xhc3RJZGVudGlmaWVycztcbiAgfTtcbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\n");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/insertBySelector.js":
/*!********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/insertBySelector.js ***!
  \********************************************************************/
/***/ ((module) => {

"use strict";
eval("\n\nvar memo = {};\n\n/* istanbul ignore next  */\nfunction getTarget(target) {\n  if (typeof memo[target] === \"undefined\") {\n    var styleTarget = document.querySelector(target);\n\n    // Special case to return head of iframe instead of iframe itself\n    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n      try {\n        // This will throw an exception if access to iframe is blocked\n        // due to cross-origin restrictions\n        styleTarget = styleTarget.contentDocument.head;\n      } catch (e) {\n        // istanbul ignore next\n        styleTarget = null;\n      }\n    }\n    memo[target] = styleTarget;\n  }\n  return memo[target];\n}\n\n/* istanbul ignore next  */\nfunction insertBySelector(insert, style) {\n  var target = getTarget(insert);\n  if (!target) {\n    throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n  }\n  target.appendChild(style);\n}\nmodule.exports = insertBySelector;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3VwZXJzZXQvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzP2IyMTQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBtZW1vID0ge307XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gZ2V0VGFyZ2V0KHRhcmdldCkge1xuICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHZhciBzdHlsZVRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTtcblxuICAgIC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG4gICAgaWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcbiAgICAgICAgLy8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcbiAgICAgICAgc3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgc3R5bGVUYXJnZXQgPSBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgICBtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcbiAgfVxuICByZXR1cm4gbWVtb1t0YXJnZXRdO1xufVxuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGluc2VydEJ5U2VsZWN0b3IoaW5zZXJ0LCBzdHlsZSkge1xuICB2YXIgdGFyZ2V0ID0gZ2V0VGFyZ2V0KGluc2VydCk7XG4gIGlmICghdGFyZ2V0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnQnIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcbiAgfVxuICB0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xufVxubW9kdWxlLmV4cG9ydHMgPSBpbnNlcnRCeVNlbGVjdG9yOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/style-loader/dist/runtime/insertBySelector.js\n");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/insertStyleElement.js":
/*!**********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/insertStyleElement.js ***!
  \**********************************************************************/
/***/ ((module) => {

"use strict";
eval("\n\n/* istanbul ignore next  */\nfunction insertStyleElement(options) {\n  var element = document.createElement(\"style\");\n  options.setAttributes(element, options.attributes);\n  options.insert(element, options.options);\n  return element;\n}\nmodule.exports = insertStyleElement;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRTdHlsZUVsZW1lbnQuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdXBlcnNldC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qcz9kZTZjIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSB7XG4gIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuICBvcHRpb25zLnNldEF0dHJpYnV0ZXMoZWxlbWVudCwgb3B0aW9ucy5hdHRyaWJ1dGVzKTtcbiAgb3B0aW9ucy5pbnNlcnQoZWxlbWVudCwgb3B0aW9ucy5vcHRpb25zKTtcbiAgcmV0dXJuIGVsZW1lbnQ7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGluc2VydFN0eWxlRWxlbWVudDsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/style-loader/dist/runtime/insertStyleElement.js\n");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js ***!
  \**********************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("\n\n/* istanbul ignore next  */\nfunction setAttributesWithoutAttributes(styleElement) {\n  var nonce =  true ? __webpack_require__.nc : 0;\n  if (nonce) {\n    styleElement.setAttribute(\"nonce\", nonce);\n  }\n}\nmodule.exports = setAttributesWithoutAttributes;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdXBlcnNldC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qcz9kZGNlIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIHNldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcyhzdHlsZUVsZW1lbnQpIHtcbiAgdmFyIG5vbmNlID0gdHlwZW9mIF9fd2VicGFja19ub25jZV9fICE9PSBcInVuZGVmaW5lZFwiID8gX193ZWJwYWNrX25vbmNlX18gOiBudWxsO1xuICBpZiAobm9uY2UpIHtcbiAgICBzdHlsZUVsZW1lbnQuc2V0QXR0cmlidXRlKFwibm9uY2VcIiwgbm9uY2UpO1xuICB9XG59XG5tb2R1bGUuZXhwb3J0cyA9IHNldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlczsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\n");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/styleDomAPI.js":
/*!***************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/styleDomAPI.js ***!
  \***************************************************************/
/***/ ((module) => {

"use strict";
eval("\n\n/* istanbul ignore next  */\nfunction apply(styleElement, options, obj) {\n  var css = \"\";\n  if (obj.supports) {\n    css += \"@supports (\".concat(obj.supports, \") {\");\n  }\n  if (obj.media) {\n    css += \"@media \".concat(obj.media, \" {\");\n  }\n  var needLayer = typeof obj.layer !== \"undefined\";\n  if (needLayer) {\n    css += \"@layer\".concat(obj.layer.length > 0 ? \" \".concat(obj.layer) : \"\", \" {\");\n  }\n  css += obj.css;\n  if (needLayer) {\n    css += \"}\";\n  }\n  if (obj.media) {\n    css += \"}\";\n  }\n  if (obj.supports) {\n    css += \"}\";\n  }\n  var sourceMap = obj.sourceMap;\n  if (sourceMap && typeof btoa !== \"undefined\") {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  }\n\n  // For old IE\n  /* istanbul ignore if  */\n  options.styleTagTransform(css, styleElement, options.options);\n}\nfunction removeStyleElement(styleElement) {\n  // istanbul ignore if\n  if (styleElement.parentNode === null) {\n    return false;\n  }\n  styleElement.parentNode.removeChild(styleElement);\n}\n\n/* istanbul ignore next  */\nfunction domAPI(options) {\n  if (typeof document === \"undefined\") {\n    return {\n      update: function update() {},\n      remove: function remove() {}\n    };\n  }\n  var styleElement = options.insertStyleElement(options);\n  return {\n    update: function update(obj) {\n      apply(styleElement, options, obj);\n    },\n    remove: function remove() {\n      removeStyleElement(styleElement);\n    }\n  };\n}\nmodule.exports = domAPI;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3N1cGVyc2V0Ly4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVEb21BUEkuanM/ZTQ3OSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBhcHBseShzdHlsZUVsZW1lbnQsIG9wdGlvbnMsIG9iaikge1xuICB2YXIgY3NzID0gXCJcIjtcbiAgaWYgKG9iai5zdXBwb3J0cykge1xuICAgIGNzcyArPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KG9iai5zdXBwb3J0cywgXCIpIHtcIik7XG4gIH1cbiAgaWYgKG9iai5tZWRpYSkge1xuICAgIGNzcyArPSBcIkBtZWRpYSBcIi5jb25jYXQob2JqLm1lZGlhLCBcIiB7XCIpO1xuICB9XG4gIHZhciBuZWVkTGF5ZXIgPSB0eXBlb2Ygb2JqLmxheWVyICE9PSBcInVuZGVmaW5lZFwiO1xuICBpZiAobmVlZExheWVyKSB7XG4gICAgY3NzICs9IFwiQGxheWVyXCIuY29uY2F0KG9iai5sYXllci5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KG9iai5sYXllcikgOiBcIlwiLCBcIiB7XCIpO1xuICB9XG4gIGNzcyArPSBvYmouY3NzO1xuICBpZiAobmVlZExheWVyKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG4gIGlmIChvYmoubWVkaWEpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cbiAgaWYgKG9iai5zdXBwb3J0cykge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuICB2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcbiAgaWYgKHNvdXJjZU1hcCAmJiB0eXBlb2YgYnRvYSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIuY29uY2F0KGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSksIFwiICovXCIpO1xuICB9XG5cbiAgLy8gRm9yIG9sZCBJRVxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG4gIG9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0oY3NzLCBzdHlsZUVsZW1lbnQsIG9wdGlvbnMub3B0aW9ucyk7XG59XG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KSB7XG4gIC8vIGlzdGFuYnVsIGlnbm9yZSBpZlxuICBpZiAoc3R5bGVFbGVtZW50LnBhcmVudE5vZGUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgc3R5bGVFbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50KTtcbn1cblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBkb21BUEkob3B0aW9ucykge1xuICBpZiAodHlwZW9mIGRvY3VtZW50ID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKCkge30sXG4gICAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHt9XG4gICAgfTtcbiAgfVxuICB2YXIgc3R5bGVFbGVtZW50ID0gb3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG4gIHJldHVybiB7XG4gICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUob2JqKSB7XG4gICAgICBhcHBseShzdHlsZUVsZW1lbnQsIG9wdGlvbnMsIG9iaik7XG4gICAgfSxcbiAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpO1xuICAgIH1cbiAgfTtcbn1cbm1vZHVsZS5leHBvcnRzID0gZG9tQVBJOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/style-loader/dist/runtime/styleDomAPI.js\n");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/styleTagTransform.js":
/*!*********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/styleTagTransform.js ***!
  \*********************************************************************/
/***/ ((module) => {

"use strict";
eval("\n\n/* istanbul ignore next  */\nfunction styleTagTransform(css, styleElement) {\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css;\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild);\n    }\n    styleElement.appendChild(document.createTextNode(css));\n  }\n}\nmodule.exports = styleTagTransform;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3VwZXJzZXQvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qcz8xZGRlIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIHN0eWxlVGFnVHJhbnNmb3JtKGNzcywgc3R5bGVFbGVtZW50KSB7XG4gIGlmIChzdHlsZUVsZW1lbnQuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG4gIH0gZWxzZSB7XG4gICAgd2hpbGUgKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKSB7XG4gICAgICBzdHlsZUVsZW1lbnQucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpO1xuICAgIH1cbiAgICBzdHlsZUVsZW1lbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG4gIH1cbn1cbm1vZHVsZS5leHBvcnRzID0gc3R5bGVUYWdUcmFuc2Zvcm07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/style-loader/dist/runtime/styleTagTransform.js\n");

/***/ })

}]);